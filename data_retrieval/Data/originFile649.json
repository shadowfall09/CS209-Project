{"items":[{"tags":["java","maven"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1676442450,"post_id":75455991,"comment_id":133135387,"body_markdown":"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters - the example in documentation uses ant patterns, not class names.","body":"<a href=\"https://maven.apache.org/plugins/maven-shade-plugin/shade-mojo.html#filters\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-shade-plugin/&hellip;</a> - the example in documentation uses ant patterns, not class names."},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1676443676,"post_id":75455991,"comment_id":133135588,"body_markdown":"@AndreyB.Panfilov That has not worked as well for me","body":"@AndreyB.Panfilov That has not worked as well for me"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676450192,"post_id":75455991,"comment_id":133137015,"body_markdown":"If you have spring boot application don&#39;t use maven-shade-plugin use spring-boot-maven-plugin instead....","body":"If you have spring boot application don&#39;t use maven-shade-plugin use spring-boot-maven-plugin instead...."},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1676504815,"post_id":75455991,"comment_id":133152661,"body_markdown":"@khmarbaise I tried using filter conditions first in spring-boot-maven-plugin, but didn&#39;t work. So migrated to maven shade plugin. I&#39;ll go back to it.","body":"@khmarbaise I tried using filter conditions first in spring-boot-maven-plugin, but didn&#39;t work. So migrated to maven shade plugin. I&#39;ll go back to it."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676547038,"post_id":75455991,"comment_id":133160707,"body_markdown":"`My pom.xml has one dependency which has shaded classes conflicting with other dependencies` That sounds like the dependency is the culprit... Are those deps not provided by other deps instead of the shaded one???","body":"<code>My pom.xml has one dependency which has shaded classes conflicting with other dependencies</code> That sounds like the dependency is the culprit... Are those deps not provided by other deps instead of the shaded one???"},{"owner":{"account_id":2375368,"reputation":4423,"user_id":2078908,"display_name":"ursa"},"score":0,"creation_date":1676850749,"post_id":75455991,"comment_id":133215344,"body_markdown":"&quot;After compiling it still shows those classes not being removed.&quot; (a) who is &quot;it&quot; showing classes not being removed?  (b) &quot;not being removed&quot; from where? the point here - shade plugin removes filtered files from uber-jar, but don&#39;t touch anythin in target/classes directory","body":"&quot;After compiling it still shows those classes not being removed.&quot; (a) who is &quot;it&quot; showing classes not being removed?  (b) &quot;not being removed&quot; from where? the point here - shade plugin removes filtered files from uber-jar, but don&#39;t touch anythin in target/classes directory"},{"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"score":0,"creation_date":1676869660,"post_id":75455991,"comment_id":133217514,"body_markdown":"@ursa Running the application gives an error when the application picks the shaded classes at runtime instead of the io.confluent classes.","body":"@ursa Running the application gives an error when the application picks the shaded classes at runtime instead of the io.confluent classes."}],"owner":{"account_id":2597793,"reputation":3207,"user_id":2251058,"accept_rate":94,"display_name":"Akshay Hazari"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676443658,"creation_date":1676440753,"question_id":75455991,"body_markdown":"The classes added to exclude in maven shade plugin don&#39;t get excluded.\r\n\r\nMy pom.xml has one dependency which has shaded classes conflicting with other dependencies. \r\n\r\nSo I added the path to those classes in maven shade plugin to exclude them.\r\n \r\nI have this for maven shade plugin.\r\n\r\n```\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;version&gt;3.4.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n\r\n                &lt;execution&gt;\r\n\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                            &lt;filter&gt;\r\n                            &lt;excludes&gt;\r\n                                &lt;exclude&gt;io.confluent.shaded.kafka.serializers.subject.*&lt;/exclude&gt;\r\n              &lt;exclude&gt;io/confluent/shaded/kafka/serializers/subject/*&lt;/exclude&gt;\r\n\r\n                            &lt;/excludes&gt;\r\n                            &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                            &lt;mainClass&gt;com.expediagroup.das.businessevent.CommerceBusinessBookingEventMetricCalculatorApp&lt;/mainClass&gt;\r\n                            &lt;layout&gt;JAR&lt;/layout&gt;\r\n                        &lt;/configuration&gt;\r\n\r\n                &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n```\r\n\r\nAfter compiling it still shows those classes not being removed.\r\n\r\nAny help is appreciated. \r\n","title":"Excluding Classes using Maven Shade Plugin not working","body":"<p>The classes added to exclude in maven shade plugin don't get excluded.</p>\n<p>My pom.xml has one dependency which has shaded classes conflicting with other dependencies.</p>\n<p>So I added the path to those classes in maven shade plugin to exclude them.</p>\n<p>I have this for maven shade plugin.</p>\n<pre><code>           &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;version&gt;3.4.1&lt;/version&gt;\n                &lt;executions&gt;\n\n                &lt;execution&gt;\n\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;filters&gt;\n                            &lt;filter&gt;\n                            &lt;excludes&gt;\n                                &lt;exclude&gt;io.confluent.shaded.kafka.serializers.subject.*&lt;/exclude&gt;\n              &lt;exclude&gt;io/confluent/shaded/kafka/serializers/subject/*&lt;/exclude&gt;\n\n                            &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                            &lt;/filters&gt;\n                            &lt;mainClass&gt;com.expediagroup.das.businessevent.CommerceBusinessBookingEventMetricCalculatorApp&lt;/mainClass&gt;\n                            &lt;layout&gt;JAR&lt;/layout&gt;\n                        &lt;/configuration&gt;\n\n                &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>After compiling it still shows those classes not being removed.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","tomcat","servlets","jersey"],"comments":[{"owner":{"account_id":1014158,"reputation":2646,"user_id":1026104,"display_name":"jan.supol"},"score":1,"creation_date":1647261587,"post_id":71375427,"comment_id":126319171,"body_markdown":"[setStatus](https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservletresponse#setStatus-int-java.lang.String-) is removed in Servlet 6. Possibly you use too new Tomcat (Tomcat 10.1.), for which you would need Jersey 3.1.0 which is not out, yet.","body":"<a href=\"https://jakarta.ee/specifications/platform/9/apidocs/jakarta/servlet/http/httpservletresponse#setStatus-int-java.lang.String-\" rel=\"nofollow noreferrer\">setStatus</a> is removed in Servlet 6. Possibly you use too new Tomcat (Tomcat 10.1.), for which you would need Jersey 3.1.0 which is not out, yet."}],"answers":[{"tags":[],"owner":{"account_id":27790249,"reputation":31,"user_id":21216828,"display_name":"krasky"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676442446,"creation_date":1676442446,"answer_id":75456191,"question_id":71375427,"body_markdown":"As comment said, if you are deploying on Tomcat 10.1.x or greater you need to upgrade your jersey version to 3.1+ (it is out now).\r\nTo get a starting template use the maven build archetype for Jersey 3.1.1 as seen [here.][1] \r\n\r\nThis is a confusing error too because the updates from Tomcat 10.0.x to Tomcat 10.1.x entail an entire version jump in Servlet spec (version 5 to 6) [see link][2]. Usually there arent such big version changes within the same major version ie 10.x\r\n\r\n\r\n  [1]: https://eclipse-ee4j.github.io/jersey/download.html\r\n  [2]: https://tomcat.apache.org/whichversion.html","title":"Jersey servlet version issues [java.lang.NoSuchMethodError] jakarta httpservlet","body":"<p>As comment said, if you are deploying on Tomcat 10.1.x or greater you need to upgrade your jersey version to 3.1+ (it is out now).\nTo get a starting template use the maven build archetype for Jersey 3.1.1 as seen <a href=\"https://eclipse-ee4j.github.io/jersey/download.html\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>This is a confusing error too because the updates from Tomcat 10.0.x to Tomcat 10.1.x entail an entire version jump in Servlet spec (version 5 to 6) <a href=\"https://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">see link</a>. Usually there arent such big version changes within the same major version ie 10.x</p>\n"}],"owner":{"account_id":15086617,"reputation":1,"user_id":10887660,"display_name":"nanashi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2680,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676442446,"creation_date":1646614563,"question_id":71375427,"body_markdown":"I&#39;m learning Java web technologies and I&#39;m trying to deploy a trivial REST service using Jersey, when I try to access the resource I get greeted with the following error:\r\n\r\n    SEVERE: Servlet.service() for servlet [Jersey REST Service] in context with path [/mkstick] threw exception [org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: &#39;void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)&#39;] with root cause\r\n    java.lang.NoSuchMethodError: &#39;void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)&#39;\r\n\r\nMy java class resource:\r\n\r\n    package com.dbmw.mkstick;\r\n    \r\n    import jakarta.ws.rs.GET;\r\n    import jakarta.ws.rs.Path;\r\n    import jakarta.ws.rs.Produces;\r\n    import jakarta.ws.rs.core.MediaType;\r\n    \r\n    @Path(&quot;/hello&quot;)\r\n    public class Resource {\r\n    \t\r\n        @GET\r\n        @Produces(MediaType.TEXT_HTML)\r\n        public String getText() {\r\n        \t return &quot;&lt;html&gt;&lt;head/&gt;&lt;body&gt;Hello world!&lt;/body&gt;&lt;/html&gt;&quot; ;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nMy web xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\r\n     &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.dbmw.mkstick&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n      &lt;/servlet&gt;\r\n      &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n      &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.dbmw&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mkstick&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.1&lt;/version&gt;\r\n    \t&lt;name&gt;mkstick&lt;/name&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;pluginManagement&gt;\r\n    \t\t\t&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.5.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.8.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.7.1&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;/plugins&gt;\r\n    \t\t&lt;/pluginManagement&gt;\r\n    \t\t&lt;finalName&gt;mkstick&lt;/finalName&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;/project&gt;\r\n\r\nFrom what I can grasp it seems to be an issue with versions and I&#39;ve tried to get every dependency up to date but it has not helped at all.","title":"Jersey servlet version issues [java.lang.NoSuchMethodError] jakarta httpservlet","body":"<p>I'm learning Java web technologies and I'm trying to deploy a trivial REST service using Jersey, when I try to access the resource I get greeted with the following error:</p>\n<pre><code>SEVERE: Servlet.service() for servlet [Jersey REST Service] in context with path [/mkstick] threw exception [org.glassfish.jersey.server.ContainerException: java.lang.NoSuchMethodError: 'void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)'] with root cause\njava.lang.NoSuchMethodError: 'void jakarta.servlet.http.HttpServletResponse.setStatus(int, java.lang.String)'\n</code></pre>\n<p>My java class resource:</p>\n<pre><code>package com.dbmw.mkstick;\n\nimport jakarta.ws.rs.GET;\nimport jakarta.ws.rs.Path;\nimport jakarta.ws.rs.Produces;\nimport jakarta.ws.rs.core.MediaType;\n\n@Path(&quot;/hello&quot;)\npublic class Resource {\n    \n    @GET\n    @Produces(MediaType.TEXT_HTML)\n    public String getText() {\n         return &quot;&lt;html&gt;&lt;head/&gt;&lt;body&gt;Hello world!&lt;/body&gt;&lt;/html&gt;&quot; ;\n    }\n\n}\n</code></pre>\n<p>My web xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;3.0&quot;&gt;\n &lt;servlet&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n        &lt;param-value&gt;com.dbmw.mkstick&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;Jersey REST Service&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.dbmw&lt;/groupId&gt;\n    &lt;artifactId&gt;mkstick&lt;/artifactId&gt;\n    &lt;version&gt;0.1&lt;/version&gt;\n    &lt;name&gt;mkstick&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.bundles&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxrs-ri&lt;/artifactId&gt;\n            &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;!-- clean lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#clean_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- default lifecycle, jar packaging: see https://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_jar_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- site lifecycle, see https://maven.apache.org/ref/current/maven-core/lifecycles.html#site_Lifecycle --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.7.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-project-info-reports-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.0&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n        &lt;finalName&gt;mkstick&lt;/finalName&gt;\n    &lt;/build&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n&lt;/project&gt;\n</code></pre>\n<p>From what I can grasp it seems to be an issue with versions and I've tried to get every dependency up to date but it has not helped at all.</p>\n"},{"tags":["java","multithreading","parallel-processing","synchronization","data-consistency"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676259600,"post_id":75431201,"comment_id":133094943,"body_markdown":"At present your second process &quot;wins&quot;. You should modify the first process so that it doesn&#39;t update that value, then you can run them concurrently.","body":"At present your second process &quot;wins&quot;. You should modify the first process so that it doesn&#39;t update that value, then you can run them concurrently."}],"answers":[{"comments":[{"owner":{"account_id":15553016,"reputation":67,"user_id":11220219,"display_name":"Siva Sai kiran"},"score":0,"creation_date":1676300854,"post_id":75431385,"comment_id":133104464,"body_markdown":"thank you,my concern is not about the restcalls but updating the database,can i use some kind of synchronization to let only one thread update the db at a time.","body":"thank you,my concern is not about the restcalls but updating the database,can i use some kind of synchronization to let only one thread update the db at a time."}],"tags":[],"owner":{"account_id":311725,"reputation":809,"user_id":4894473,"display_name":"Lam Le"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676338587,"creation_date":1676254115,"answer_id":75431385,"question_id":75431201,"body_markdown":"To avoid race condition, you should wait for both thread collect all data from 2 rest calls then do the database modification, like example:\r\n\r\n\r\n    ExecutorService es = Executors.newFixedThreadPool(2);\r\n    List&lt;Callable&lt;Object&gt;&gt; todo = new ArrayList&lt;Callable&lt;Object&gt;&gt;();\r\n\r\n    todo.add(Executors.callable(new TaskCallRest1())); \r\n    todo.add(Executors.callable(new TaskCallRest2())); \r\n\r\n    List&lt;Future&lt;Object&gt;&gt; answers = es.invokeAll(todo);\r\n\r\nFor database synchronization, you can use optimistic lock to prevent multiple update. Optimistic lock simple is version of your record and the query look like: \r\n\r\n    update A set B = b, version = 2 where version = 1; \r\n\r\nOnly one thread can execute successful this query due to database ACID.\r\nIf you use Hibernate for persistence layer, you can looking for Hibernate Versioning","title":"How to avoid thread interference while updating database in multithreading","body":"<p>To avoid race condition, you should wait for both thread collect all data from 2 rest calls then do the database modification, like example:</p>\n<pre><code>ExecutorService es = Executors.newFixedThreadPool(2);\nList&lt;Callable&lt;Object&gt;&gt; todo = new ArrayList&lt;Callable&lt;Object&gt;&gt;();\n\ntodo.add(Executors.callable(new TaskCallRest1())); \ntodo.add(Executors.callable(new TaskCallRest2())); \n\nList&lt;Future&lt;Object&gt;&gt; answers = es.invokeAll(todo);\n</code></pre>\n<p>For database synchronization, you can use optimistic lock to prevent multiple update. Optimistic lock simple is version of your record and the query look like:</p>\n<pre><code>update A set B = b, version = 2 where version = 1; \n</code></pre>\n<p>Only one thread can execute successful this query due to database ACID.\nIf you use Hibernate for persistence layer, you can looking for Hibernate Versioning</p>\n"},{"tags":[],"owner":{"account_id":12607983,"reputation":318,"user_id":9168200,"display_name":"Ilam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676442169,"creation_date":1676442169,"answer_id":75456150,"question_id":75431201,"body_markdown":"It is better to view this problem from data integrity perspective rather than threads. Because your application could run in a cluster (if not now, maybe later). There could be other users updating same table, from other applications. \r\n\r\nThe solution depends on the level of contention(the number of threads trying to update the same database table).\r\n\r\nIf there is high contention, use pessimistic locking. Refer [pessimistic locking][1]\r\n\r\n\r\nIf there is low contention, use optimistic locking. Refer [optimistic locking][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-pessimistic-locking\r\n  [2]: https://www.baeldung.com/jpa-optimistic-locking","title":"How to avoid thread interference while updating database in multithreading","body":"<p>It is better to view this problem from data integrity perspective rather than threads. Because your application could run in a cluster (if not now, maybe later). There could be other users updating same table, from other applications.</p>\n<p>The solution depends on the level of contention(the number of threads trying to update the same database table).</p>\n<p>If there is high contention, use pessimistic locking. Refer <a href=\"https://www.baeldung.com/jpa-pessimistic-locking\" rel=\"nofollow noreferrer\">pessimistic locking</a></p>\n<p>If there is low contention, use optimistic locking. Refer <a href=\"https://www.baeldung.com/jpa-optimistic-locking\" rel=\"nofollow noreferrer\">optimistic locking</a></p>\n"}],"owner":{"account_id":15553016,"reputation":67,"user_id":11220219,"display_name":"Siva Sai kiran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676442169,"creation_date":1676251029,"question_id":75431201,"body_markdown":"I have a java class ,which has two methods .These methods will be called one after the other. These methods are making rest calls to different services. After getting data from rest call ,i&#39;m updating multiple tables and some of the tables will be updated by both methods. My task is to implement multithreading to run both methods simultaneously but avoid threads to override data while they are updating the same table. What are the different ways to do it and how can i do it effectively in java8.","title":"How to avoid thread interference while updating database in multithreading","body":"<p>I have a java class ,which has two methods .These methods will be called one after the other. These methods are making rest calls to different services. After getting data from rest call ,i'm updating multiple tables and some of the tables will be updated by both methods. My task is to implement multithreading to run both methods simultaneously but avoid threads to override data while they are updating the same table. What are the different ways to do it and how can i do it effectively in java8.</p>\n"},{"tags":["java","mysql","spring-boot","docker","docker-compose"],"answers":[{"comments":[{"owner":{"display_name":"user21213468"},"score":0,"creation_date":1676441654,"post_id":75451810,"comment_id":133135254,"body_markdown":"Yes, I changed the port to 3306 and my URL is now calling at **jdbc:mysql://mysqldb:3306/bank_app?useSSL=false**","body":"Yes, I changed the port to 3306 and my URL is now calling at <b>jdbc:mysql://mysqldb:3306/bank_app?useSSL=false</b>"}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676398897,"creation_date":1676398897,"answer_id":75451810,"question_id":75451714,"body_markdown":"Your port mapping for `mysqldb` is maybe not needed? That is unless you really want to expose MySQL&#39;s server to the outside world (`outside:inside`). In your case on port 3307.\r\n\r\n    ports:\r\n      - 3307:3306\r\n\r\nI&#39;m not sure if you really mean to expose your server, but inside of your container you should be using the real port, `localhost:3306`.","title":"HikariPool-1 - Exception during pool initialization. Trying to build Spring boot application using MySQL docker image","body":"<p>Your port mapping for <code>mysqldb</code> is maybe not needed? That is unless you really want to expose MySQL's server to the outside world (<code>outside:inside</code>). In your case on port 3307.</p>\n<pre><code>ports:\n  - 3307:3306\n</code></pre>\n<p>I'm not sure if you really mean to expose your server, but inside of your container you should be using the real port, <code>localhost:3306</code>.</p>\n"}],"owner":{"display_name":"user21213468"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75451810,"answer_count":1,"score":0,"last_activity_date":1676441504,"creation_date":1676398439,"question_id":75451714,"body_markdown":"I am trying to create a application using Spring boot and MySQL.\r\nThe application is running successfully when working on local server, but when try to trying to create docker image the service is throwing Exception during pool initialization error.\r\n\r\nBelow are my project config\r\nSpring boot version: 3.0.1\r\nJava version: 17\r\nMySQL version: 8\r\n\r\n**application properties**\r\n```\r\nserver.port=3005\r\nspring.application.name=user-service\r\nspring.datasource.url=jdbc:mysql://localhost:3307/bank_app?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=123456\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.generate-ddl=true\r\n```\r\n\r\n**docker-compose.yml**\r\n\r\n```\r\nversion: &quot;3.8&quot;\r\nservices:\r\n  mysqldb:\r\n    image: mysql:latest\r\n    container_name: mysqldb\r\n    restart: unless-stopped\r\n    env_file: ./.env\r\n    environment:\r\n      - MYSQL_ROOT_PASSWORD=123456\r\n      - MYSQL_DATABASE=bank_app\r\n      - MYSQL_USER=root\r\n      - MYSQL_PASSWORD=123456\r\n    ports:\r\n      - 3307:3306\r\n    volumes:\r\n      - db:/var/lib/mysql\r\n    networks:\r\n      - main-network\r\n  user-service:\r\n    build:\r\n      context: ../code/user-service\r\n      dockerfile: Dockerfile\r\n    image: user-service\r\n    container_name: user-service\r\n    restart: on-failure\r\n    depends_on:\r\n      - mysqldb\r\n    ports:\r\n      - 3005:3005\r\n    environment:\r\n      - SPRING_PROFILES_ACTIVE=prod\r\n      - SPRING_APPLICATION_NAME=user-service\r\n      - SPRING_APPLICATION_JSON={&quot;eureka&quot;:{&quot;client&quot;:{&quot;serviceUrl&quot;:{&quot;defaultZone&quot;:&quot;http://eureka-service:8761/eureka&quot;}}}}\r\n    networks:\r\n      - main-network\r\nnetworks:\r\n  main-network:\r\n    external:\r\n      name: main-network\r\nvolumes:\r\n  db:\r\n```\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n   &lt;version&gt;6.1.7.Final&lt;/version&gt;\r\n   &lt;type&gt;pom&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\nI tried by replacing the **localhost** with container name **mysqldb** in the datasource URL but still I&#39;m facing same error\r\n\r\n**Issue**\r\n```\r\n2023-02-14 22:44:07 2023-02-14T17:14:07.221Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3005 (http)\r\n2023-02-14 22:44:07 2023-02-14T17:14:07.292Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-02-14 22:44:07 2023-02-14T17:14:07.293Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n2023-02-14 22:44:08 2023-02-14T17:14:08.255Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-02-14 22:44:08 2023-02-14T17:14:08.294Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18593 ms\r\n2023-02-14 22:44:10 2023-02-14T17:14:10.390Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-02-14 22:44:11 2023-02-14T17:14:11.085Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\r\n2023-02-14 22:44:13 2023-02-14T17:14:13.010Z  WARN 1 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n2023-02-14 22:44:13 2023-02-14T17:14:13.810Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-02-14 22:44:15 2023-02-14T17:14:15.664Z ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n2023-02-14 22:44:15 \r\n2023-02-14 22:44:15 com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n2023-02-14 22:44:15 \r\n2023-02-14 22:44:15 The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\r\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\r\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\r\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\r\n```\r\n","title":"HikariPool-1 - Exception during pool initialization. Trying to build Spring boot application using MySQL docker image","body":"<p>I am trying to create a application using Spring boot and MySQL.\nThe application is running successfully when working on local server, but when try to trying to create docker image the service is throwing Exception during pool initialization error.</p>\n<p>Below are my project config\nSpring boot version: 3.0.1\nJava version: 17\nMySQL version: 8</p>\n<p><strong>application properties</strong></p>\n<pre><code>server.port=3005\nspring.application.name=user-service\nspring.datasource.url=jdbc:mysql://localhost:3307/bank_app?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=123456\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.generate-ddl=true\n</code></pre>\n<p><strong>docker-compose.yml</strong></p>\n<pre><code>version: &quot;3.8&quot;\nservices:\n  mysqldb:\n    image: mysql:latest\n    container_name: mysqldb\n    restart: unless-stopped\n    env_file: ./.env\n    environment:\n      - MYSQL_ROOT_PASSWORD=123456\n      - MYSQL_DATABASE=bank_app\n      - MYSQL_USER=root\n      - MYSQL_PASSWORD=123456\n    ports:\n      - 3307:3306\n    volumes:\n      - db:/var/lib/mysql\n    networks:\n      - main-network\n  user-service:\n    build:\n      context: ../code/user-service\n      dockerfile: Dockerfile\n    image: user-service\n    container_name: user-service\n    restart: on-failure\n    depends_on:\n      - mysqldb\n    ports:\n      - 3005:3005\n    environment:\n      - SPRING_PROFILES_ACTIVE=prod\n      - SPRING_APPLICATION_NAME=user-service\n      - SPRING_APPLICATION_JSON={&quot;eureka&quot;:{&quot;client&quot;:{&quot;serviceUrl&quot;:{&quot;defaultZone&quot;:&quot;http://eureka-service:8761/eureka&quot;}}}}\n    networks:\n      - main-network\nnetworks:\n  main-network:\n    external:\n      name: main-network\nvolumes:\n  db:\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n   &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n   &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n   &lt;version&gt;6.1.7.Final&lt;/version&gt;\n   &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried by replacing the <strong>localhost</strong> with container name <strong>mysqldb</strong> in the datasource URL but still I'm facing same error</p>\n<p><strong>Issue</strong></p>\n<pre><code>2023-02-14 22:44:07 2023-02-14T17:14:07.221Z  INFO 1 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 3005 (http)\n2023-02-14 22:44:07 2023-02-14T17:14:07.292Z  INFO 1 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-02-14 22:44:07 2023-02-14T17:14:07.293Z  INFO 1 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.4]\n2023-02-14 22:44:08 2023-02-14T17:14:08.255Z  INFO 1 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-02-14 22:44:08 2023-02-14T17:14:08.294Z  INFO 1 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 18593 ms\n2023-02-14 22:44:10 2023-02-14T17:14:10.390Z  INFO 1 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-02-14 22:44:11 2023-02-14T17:14:11.085Z  INFO 1 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.6.Final\n2023-02-14 22:44:13 2023-02-14T17:14:13.010Z  WARN 1 --- [           main] org.hibernate.orm.deprecation            : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n2023-02-14 22:44:13 2023-02-14T17:14:13.810Z  INFO 1 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-02-14 22:44:15 2023-02-14T17:14:15.664Z ERROR 1 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n2023-02-14 22:44:15 \n2023-02-14 22:44:15 com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n2023-02-14 22:44:15 \n2023-02-14 22:44:15 The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:828) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:448) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:241) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-j-8.0.31.jar!/:8.0.31]\n2023-02-14 22:44:15 at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:100) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-5.0.1.jar!/:na]\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:284) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\n2023-02-14 22:44:15 at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:177) ~[hibernate-core-6.1.6.Final.jar!/:6.1.6.Final]\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3695702,"reputation":12521,"user_id":5156075,"accept_rate":100,"display_name":"John Joe"},"score":0,"creation_date":1498099091,"post_id":44641878,"comment_id":76362151,"body_markdown":"Also posted at http://www.javaprogrammingforums.com/whats-wrong-my-code/40246-cant-install-jdk-9-because-%93another-java-installation-progress%94.html","body":"Also posted at <a href=\"http://www.javaprogrammingforums.com/whats-wrong-my-code/40246-cant-install-jdk-9-because-%93another-java-installation-progress%94.html\" rel=\"nofollow noreferrer\">javaprogrammingforums.com/whats-wrong-my-code/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":5959961,"reputation":7014,"user_id":4685428,"accept_rate":100,"display_name":"Aleks Andreev"},"score":0,"creation_date":1508950805,"post_id":46937582,"comment_id":80823333,"body_markdown":"So you saying that solution is to delete lock files? If so please strip an extra info from your answer (like &quot;I had this problem to&quot; etc)","body":"So you saying that solution is to delete lock files? If so please strip an extra info from your answer (like &quot;I had this problem to&quot; etc)"},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1527031767,"post_id":46937582,"comment_id":87969154,"body_markdown":"This is for Java 9, for **Java 10** see [this answer](https://stackoverflow.com/a/49887937/589259) below.","body":"This is for Java 9, for <b>Java 10</b> see <a href=\"https://stackoverflow.com/a/49887937/589259\">this answer</a> below."},{"owner":{"account_id":938589,"reputation":560,"user_id":967077,"display_name":"CarLuva"},"score":4,"creation_date":1529361395,"post_id":46937582,"comment_id":88836753,"body_markdown":"In my case (for Java 10), I had an additional lock file at %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG. Only after deleting all three lock files could I run the installer successfully.","body":"In my case (for Java 10), I had an additional lock file at %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG&zwnj;&#8203;. Only after deleting all three lock files could I run the installer successfully."},{"owner":{"account_id":1616070,"reputation":1326,"user_id":1493718,"accept_rate":80,"display_name":"lxx"},"score":1,"creation_date":1532238957,"post_id":46937582,"comment_id":89893812,"body_markdown":"Didn&#39;t help in my case for java10, tried deleting the lock files, deleted the sun and oracle directories under AppData/LocalLow, still didn&#39;t help. What I ended up doing is extracting the files from the install and copying them over to c:/Program Files/java/jdk10.0.2 then using java control panel-&gt;java-&gt;view-&gt;find  to add it. Then add the jdk to intellij. Not recommended but works if you tried everything else and are still stuck","body":"Didn&#39;t help in my case for java10, tried deleting the lock files, deleted the sun and oracle directories under AppData/LocalLow, still didn&#39;t help. What I ended up doing is extracting the files from the install and copying them over to c:/Program Files/java/jdk10.0.2 then using java control panel-&gt;java-&gt;view-&gt;find  to add it. Then add the jdk to intellij. Not recommended but works if you tried everything else and are still stuck"},{"owner":{"account_id":3358666,"reputation":91,"user_id":2821015,"display_name":"Jeff C."},"score":0,"creation_date":1621439406,"post_id":46937582,"comment_id":119497674,"body_markdown":"This worked flawlessly for me.  I guess that I had aborted an install a while back.  Deleting the oracle JAVA_INSTALL_FLAG allowed me to proceed.  Many thanks.","body":"This worked flawlessly for me.  I guess that I had aborted an install a while back.  Deleting the oracle JAVA_INSTALL_FLAG allowed me to proceed.  Many thanks."},{"owner":{"account_id":2156572,"reputation":3896,"user_id":1911652,"accept_rate":73,"display_name":"Atul"},"score":0,"creation_date":1639199217,"post_id":46937582,"comment_id":124293222,"body_markdown":"Many thanks, you saved my day. Seriously why these big companies haven&#39;t taken care of such little issues don&#39;t know.","body":"Many thanks, you saved my day. Seriously why these big companies haven&#39;t taken care of such little issues don&#39;t know."},{"owner":{"account_id":14439666,"reputation":301,"user_id":10430706,"display_name":"stackoverflow_unicorn"},"score":0,"creation_date":1668546343,"post_id":46937582,"comment_id":131430921,"body_markdown":"This worked for me to remove Java 8. I had to go through Administrator to find one of these files. Once removed, I was able to install Java 17.","body":"This worked for me to remove Java 8. I had to go through Administrator to find one of these files. Once removed, I was able to install Java 17."},{"owner":{"account_id":4459563,"reputation":77,"user_id":3628865,"display_name":"Rusiru Adithya Samarasinghe"},"score":0,"creation_date":1678948788,"post_id":46937582,"comment_id":133632469,"body_markdown":"Also cleaning %temp% folder might be helpful","body":"Also cleaning %temp% folder might be helpful"}],"tags":[],"owner":{"account_id":2428893,"reputation":753,"user_id":2120259,"display_name":"BlackSheeep"},"comment_count":8,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1551390148,"creation_date":1508948865,"answer_id":46937582,"question_id":44641878,"body_markdown":"On Windows, Java prevents starting the Installer twice by creating (two) lock files. If those files exist, Java Installer show the Message: &quot;Another Java installation is in progress (...)&quot;.\r\n\r\nIf Java Installer crashes, or Windows crashes during Java Installation, the installer cannot delete the lock files when finalizing. \r\n\r\nSolution:\r\n\r\nDeleting the lock files, unlocks the Installer and Java can be installed again.\r\n\r\nThe lock files are located at:\r\n\r\n    C:\\ProgramData\\Oracle\\Java\\JAVA_INSTALL_FLAG\r\n    %USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG\r\n    %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\r\n\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>On Windows, Java prevents starting the Installer twice by creating (two) lock files. If those files exist, Java Installer show the Message: \"Another Java installation is in progress (...)\".</p>\n\n<p>If Java Installer crashes, or Windows crashes during Java Installation, the installer cannot delete the lock files when finalizing. </p>\n\n<p>Solution:</p>\n\n<p>Deleting the lock files, unlocks the Installer and Java can be installed again.</p>\n\n<p>The lock files are located at:</p>\n\n<pre><code>C:\\ProgramData\\Oracle\\Java\\JAVA_INSTALL_FLAG\n%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG\n%USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\n</code></pre>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1527032594,"post_id":49630731,"comment_id":87969347,"body_markdown":"I think you cannot run **any** Windows installers in parallel, so it would not just block Java installs, but **all** software installations.","body":"I think you cannot run <b>any</b> Windows installers in parallel, so it would not just block Java installs, but <b>all</b> software installations."},{"owner":{"account_id":1427957,"reputation":138,"user_id":1351016,"display_name":"Lex van Buiten"},"score":0,"creation_date":1527145191,"post_id":49630731,"comment_id":88018106,"body_markdown":"You are correct. In my case, for some reason the first installation started but got stuck for some reason. Starting a second one isn&#39;t possible as you mentioned.","body":"You are correct. In my case, for some reason the first installation started but got stuck for some reason. Starting a second one isn&#39;t possible as you mentioned."}],"tags":[],"owner":{"account_id":1427957,"reputation":138,"user_id":1351016,"display_name":"Lex van Buiten"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1527032533,"creation_date":1522760354,"answer_id":49630731,"question_id":44641878,"body_markdown":"Kill any remaining Windows&#174; installer `msiexec.exe` processes using the Task Manager of Windows. The Windows installer process apparently locks any java files/processes which blocks the Java JDK to be updated.\r\n\r\nMy problem installing Java 9 began after I upgraded JetBeans IntelliJ which uses Java JRE/JDK. I first tried the suggested solution [that BlackSheeep posted](https://stackoverflow.com/a/46937582/589259), but without any luck.\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>Kill any remaining Windows® installer <code>msiexec.exe</code> processes using the Task Manager of Windows. The Windows installer process apparently locks any java files/processes which blocks the Java JDK to be updated.</p>\n\n<p>My problem installing Java 9 began after I upgraded JetBeans IntelliJ which uses Java JRE/JDK. I first tried the suggested solution <a href=\"https://stackoverflow.com/a/46937582/589259\">that BlackSheeep posted</a>, but without any luck.</p>\n"},{"tags":[],"owner":{"account_id":222161,"reputation":1242,"user_id":480583,"display_name":"AhmedBM"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1524001460,"creation_date":1524001460,"answer_id":49887937,"question_id":44641878,"body_markdown":"Although this was written for *JDK9*, *JDK10* will suffer from the same issue BUT the lock location is different. The new lock file is located in  `%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG`.\r\n\r\nSimply deleting this file should allow you to proceed with the install.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>Although this was written for <em>JDK9</em>, <em>JDK10</em> will suffer from the same issue BUT the lock location is different. The new lock file is located in  <code>%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG</code>.</p>\n\n<p>Simply deleting this file should allow you to proceed with the install.</p>\n"},{"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1527031486,"post_id":50381835,"comment_id":87969067,"body_markdown":"This answer is a month late to [this answer](https://stackoverflow.com/a/49887937/589259) and contains the same solution, but with less info.","body":"This answer is a month late to <a href=\"https://stackoverflow.com/a/49887937/589259\">this answer</a> and contains the same solution, but with less info."}],"tags":[],"owner":{"account_id":4695574,"reputation":52,"user_id":3800535,"display_name":"martin_"},"comment_count":1,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1526519401,"creation_date":1526518279,"answer_id":50381835,"question_id":44641878,"body_markdown":"Try locating the lock file here:\r\n\r\n    %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\r\n\r\nDeleting it allowed my Java 10 installation to start.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>Try locating the lock file here:</p>\n\n<pre><code>%USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\n</code></pre>\n\n<p>Deleting it allowed my Java 10 installation to start.</p>\n"},{"tags":[],"owner":{"account_id":14074857,"reputation":61,"user_id":10167437,"display_name":"NurSultan"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1533152812,"creation_date":1533148468,"answer_id":51640133,"question_id":44641878,"body_markdown":"This helped me:\r\n\r\nDELETE:\r\n    \r\n    %USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\r\n    and\r\n    %USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>This helped me:</p>\n\n<p>DELETE:</p>\n\n<pre><code>%USERPROFILE%\\AppData\\LocalLow\\Oracle\\Java\\JAVA_INSTALL_FLAG\nand\n%USERPROFILE%\\AppData\\LocalLow\\Sun\\Java\\JAVA_INSTALL_FLAG\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14185397,"reputation":530,"user_id":10247526,"display_name":"heyt0pe"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1536736791,"creation_date":1536736791,"answer_id":52289563,"question_id":44641878,"body_markdown":"I had this problem also and i came to this page but i couldn&#39;t solve it at first because i thought my system didn&#39;t have &#39;ProgramData&#39; in my C: drive because its hidden i guess. This is what worked for me. Go to the windows file explorer and delete the &#39;JAVA_INSTALL_FLAG&#39; files in all these directories\r\n\r\n    %ProgramData%\\Oracle\\Java\r\n    %UserProile%\\AppData\\LocalLow\\Sun\\Java\r\n    %UserProile%\\AppData\\LocalLow\\Oracle\\Java\r\nThen Java jdk installs smoothly. i have recreated this problem and tried this solution again and it works.\r\n\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I had this problem also and i came to this page but i couldn't solve it at first because i thought my system didn't have 'ProgramData' in my C: drive because its hidden i guess. This is what worked for me. Go to the windows file explorer and delete the 'JAVA_INSTALL_FLAG' files in all these directories</p>\n\n<pre><code>%ProgramData%\\Oracle\\Java\n%UserProile%\\AppData\\LocalLow\\Sun\\Java\n%UserProile%\\AppData\\LocalLow\\Oracle\\Java\n</code></pre>\n\n<p>Then Java jdk installs smoothly. i have recreated this problem and tried this solution again and it works.</p>\n"},{"tags":[],"owner":{"account_id":111587,"reputation":11539,"user_id":294702,"accept_rate":90,"display_name":"MonoThreaded"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575469109,"creation_date":1575414078,"answer_id":59166682,"question_id":44641878,"body_markdown":"I don&#39;t mean to be cheap but `Control Panel` &gt; `Uninstall a program` &gt; `Java 9` is your friend","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I don't mean to be cheap but <code>Control Panel</code> > <code>Uninstall a program</code> > <code>Java 9</code> is your friend</p>\n"},{"tags":[],"owner":{"account_id":12232531,"reputation":1276,"user_id":8928037,"display_name":"Kaumadie Kariyawasam"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1589639172,"creation_date":1589639172,"answer_id":61838307,"question_id":44641878,"body_markdown":"on windows 10, delete below directories,\r\n\r\nC:\\Program Files\\Java\r\nC:\\ProgramData\\Oracle\\Java\r\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Sun\\Java\r\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Oracle\\Java\r\n\r\nand try again.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>on windows 10, delete below directories,</p>\n\n<p>C:\\Program Files\\Java\nC:\\ProgramData\\Oracle\\Java\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Sun\\Java\nC:\\Users\\%UserName%\\AppData\\LocalLow\\Oracle\\Java</p>\n\n<p>and try again.</p>\n"},{"comments":[{"owner":{"account_id":14777793,"reputation":75,"user_id":11111547,"display_name":"Olavo Alexandrino"},"score":0,"creation_date":1695610667,"post_id":74325656,"comment_id":136042664,"body_markdown":"it was the only thing that also worked to me!","body":"it was the only thing that also worked to me!"}],"tags":[],"owner":{"account_id":1483642,"reputation":31,"user_id":1392369,"display_name":"Patrick Samples"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667630249,"creation_date":1667630249,"answer_id":74325656,"question_id":44641878,"body_markdown":"I blue-screened during a JDK-19_64.msi installation. I have tried restarting and removing the lock files. It kept giving me the &quot;another java installation is in progress.&quot;\r\n\r\nI fixed it by cleaning out my %temp%\\ folder.","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I blue-screened during a JDK-19_64.msi installation. I have tried restarting and removing the lock files. It kept giving me the &quot;another java installation is in progress.&quot;</p>\n<p>I fixed it by cleaning out my %temp%\\ folder.</p>\n"},{"tags":[],"owner":{"account_id":6130840,"reputation":677,"user_id":7793652,"display_name":"Pritam Pawade"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673080768,"creation_date":1673080768,"answer_id":75039048,"question_id":44641878,"body_markdown":"For Windows 11, and recent Java versions, delete lock files as mentioned by others. Then delete temp files.\r\n\r\n    1. Press Windows +R\r\n    2. Type temp -&gt;delete all files\r\n    3. Again press Windows + R -&gt; Type %temp% -&gt; delete all files\r\n\r\n\r\n\r\n\r\n","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>For Windows 11, and recent Java versions, delete lock files as mentioned by others. Then delete temp files.</p>\n<pre><code>1. Press Windows +R\n2. Type temp -&gt;delete all files\n3. Again press Windows + R -&gt; Type %temp% -&gt; delete all files\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4200329,"reputation":2634,"user_id":3440582,"accept_rate":54,"display_name":"BlackPearl"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676441003,"creation_date":1676441003,"answer_id":75456021,"question_id":44641878,"body_markdown":"On Windows\r\n\r\nDelete the file `JAVA_MSIUI_FLAG`\r\n\r\nIt can be found in \r\n`C:\\Users\\{Computer Name}\\AppData\\Local\\Temp`","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>On Windows</p>\n<p>Delete the file <code>JAVA_MSIUI_FLAG</code></p>\n<p>It can be found in\n<code>C:\\Users\\{Computer Name}\\AppData\\Local\\Temp</code></p>\n"}],"owner":{"account_id":10817078,"reputation":885,"user_id":7955643,"display_name":"Clancy Merrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47076,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":11,"score":28,"last_activity_date":1676441003,"creation_date":1497918429,"question_id":44641878,"body_markdown":"I have been using JDK 9 on Windows 10 x64 for a while but when I went to install the latest early release (b174), I first uninstalled the previous version (as usual) and then ran the new installer.\r\n\r\nIt fails with a message box saying &quot;Another Java installation is in progress. You must complete that installation before you can run this installer&quot;.\r\n\r\nIt seems there are some artifacts around causing the problem but only for JDK 9 as I can uninstall &amp; reinstall JDK 8 without any issues.  Also, the same problem occurs if I try to run the installers for any prior JDK 9 releases as well (even though they worked before).\r\n\r\nSearches have suggested various options like using a Microsoft MSI clean-up tool and registry hacks but nothing is helping.\r\n\r\nCan anyone suggest a way to get JDK 9 installed (as now I cannot use any release of JDK 9 at all)?","title":"Can&#39;t install JDK 9 because &quot;Another Java installation is in progress&quot;","body":"<p>I have been using JDK 9 on Windows 10 x64 for a while but when I went to install the latest early release (b174), I first uninstalled the previous version (as usual) and then ran the new installer.</p>\n\n<p>It fails with a message box saying \"Another Java installation is in progress. You must complete that installation before you can run this installer\".</p>\n\n<p>It seems there are some artifacts around causing the problem but only for JDK 9 as I can uninstall &amp; reinstall JDK 8 without any issues.  Also, the same problem occurs if I try to run the installers for any prior JDK 9 releases as well (even though they worked before).</p>\n\n<p>Searches have suggested various options like using a Microsoft MSI clean-up tool and registry hacks but nothing is helping.</p>\n\n<p>Can anyone suggest a way to get JDK 9 installed (as now I cannot use any release of JDK 9 at all)?</p>\n"},{"tags":["java","wav","avaya","audioformat","java-audio"],"owner":{"account_id":16767093,"reputation":216,"user_id":12120494,"display_name":"Mr Freak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676440955,"creation_date":1676440955,"question_id":75456016,"body_markdown":"I want to convert audio **InputStream** to **wav** file format in java.\r\n\r\nRequire format is : mu-law 8000 Hz 64 kbps Mono\r\n\r\nI am using the following method for the conversion but generated audio file is corrupted.\r\n\r\n\r\n    public static void getWavFile(String filePath, InputStream audioStream) throws IOException, UnsupportedAudioFileException {\r\n    \ttry {\r\n    \r\n    \t\tbyte[] decodedData = IOUtils.toByteArray(audioStream);\r\n    \r\n    \t\tFile outFile = new File(filePath);\r\n    \t\t\r\n    \t\tAudioFormat format = new AudioFormat(AudioFormat.Encoding.ALAW, 8000, 16, 2, 4, 8000, false);\r\n    \t\t\t\t    \r\n    \t\tAudioSystem.write(new AudioInputStream(new ByteArrayInputStream(decodedData), format, decodedData.length),\r\n    \t\t\t\tAudioFileFormat.Type.WAVE, outFile);\r\n    \t\t\r\n    \t} catch (IOException ex) {\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    }\r\n\r\nI am using this audio file to play in my IVR flow and it strictly allow only the given format.\r\n","title":"Audio Input Stream To IVR supported WAV file [JAVA]","body":"<p>I want to convert audio <strong>InputStream</strong> to <strong>wav</strong> file format in java.</p>\n<p>Require format is : mu-law 8000 Hz 64 kbps Mono</p>\n<p>I am using the following method for the conversion but generated audio file is corrupted.</p>\n<pre><code>public static void getWavFile(String filePath, InputStream audioStream) throws IOException, UnsupportedAudioFileException {\n    try {\n\n        byte[] decodedData = IOUtils.toByteArray(audioStream);\n\n        File outFile = new File(filePath);\n        \n        AudioFormat format = new AudioFormat(AudioFormat.Encoding.ALAW, 8000, 16, 2, 4, 8000, false);\n                    \n        AudioSystem.write(new AudioInputStream(new ByteArrayInputStream(decodedData), format, decodedData.length),\n                AudioFileFormat.Type.WAVE, outFile);\n        \n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n<p>I am using this audio file to play in my IVR flow and it strictly allow only the given format.</p>\n"},{"tags":["java","tomcat","jdbc","java-8","oracle19c"],"comments":[{"owner":{"account_id":98359,"reputation":184997,"user_id":266304,"display_name":"Alex Poole"},"score":0,"creation_date":1676453678,"post_id":75455921,"comment_id":133137922,"body_markdown":"If you&#39;re using a connection pool then &#39;closing&#39; the connection just releases it back to the pool (hence &#39;borrowObject&#39;), it doesn&#39;t close (or reset) the underlying connection to the database or its session. I *think* the behaviour suggests you have a pool with minimum size of zero and after you release the connection the pool is being shrunk some time later (~10s), apparently back down to zero. But if you&#39;re expecting a new real connection each time that would make a pool a bit pointless. Perhaps you didn&#39;t use a pool before, or had different timeouts?","body":"If you&#39;re using a connection pool then &#39;closing&#39; the connection just releases it back to the pool (hence &#39;borrowObject&#39;), it doesn&#39;t close (or reset) the underlying connection to the database or its session. I <i>think</i> the behaviour suggests you have a pool with minimum size of zero and after you release the connection the pool is being shrunk some time later (~10s), apparently back down to zero. But if you&#39;re expecting a new real connection each time that would make a pool a bit pointless. Perhaps you didn&#39;t use a pool before, or had different timeouts?"}],"owner":{"account_id":25122235,"reputation":1,"user_id":18970421,"display_name":"Promit Banik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676459124,"answer_count":0,"score":0,"last_activity_date":1676440125,"creation_date":1676440125,"question_id":75455921,"body_markdown":"Recently we have done an environment setup upgradation/migration as mentioned below for our application:\r\nJDK 1.7 ---&gt; JDK 1.8\r\nTomcat 7.0.47 ---&gt; Tomcat 9.0.60 (Also using Apache HTTP Server along with Apache Tomcat for new setup)\r\nojdbc7.jar ---&gt; ojdbc8.jar\r\nOracle 12c (12.1.0.2.0) ---&gt; Oracle 19c (19.14.0.0)\r\n\r\nWe have been facing a JDBC autocommit issue since then in this new environment setup:\r\n\r\nIssue: For the first time AutoCommit is true by default. We update the value of autocommit to false and manually commit the transaction. After that, we also close the connection. Now if we try to create another connection object with &quot;DataSource.getConnection()&quot; within 10 seconds (in debug mode), the previous connection object is getting assigned with autocommit value to false. But, we expect a new connection object to be assigned with autocommit value set to true.\r\n\r\nDuring debugging, we found that in the &quot;GenericObjectPool&quot; class, inside the method &quot;borrowObject&quot;, the line &quot;p = idleObjects.pollFirst();&quot; assigns\r\n(i) if within 10 seconds=&gt; the value of p is the previous connection object; or,\r\n(ii) if after 10 seconds=&gt; the value of p is null and thus one new connection object is created for p with autocommit value to true\r\n\r\npublic T borrowObject(final Duration borrowMaxWaitDuration) throws Exception {\r\n    ...........\r\n    ...........\r\n    ...........\r\n    while (p == null) {\r\n        create = false;\r\n        p = idleObjects.pollFirst();\r\n        if (p == null) {\r\n            p = create();\r\n            if (p != null) {\r\n                create = true;\r\n            }\r\n        }\r\n    }\r\n    .........\r\n    .........\r\n    .........\r\n}\r\n\r\nOur initial understanding is that this code segment is the reason behind such behavior. But, please help us understand the reason why it is behaving differently in the new environment setup. Also, please help us with the Java source code to create a new connection object with autocommit value to true for subsequent connection objects.\r\n\r\n***Note: In the previous old environment setup mentioned before, the same source code works perfectly fine i.e. the autocommit is set to true by default every time we try to create a connection object with the same code &quot;DataSource.getConnection()&quot;.\r\n\r\nIn Tomcat 7.0.47, the connection is retaining autocommit value to true also for second and any subsequent connections. But in Tomcat 9.0.60, autocommit value is true only for the first connection and autocommit value for any subsequent connections are false (if subsequent connections are created within 10 seconds of the first connection object creation).","title":"Autocommit issue with JDK 1.8, Tomcat 9.0.60, ojdbc8.jar and Oracle DB 19c (19.14.0.0.)","body":"<p>Recently we have done an environment setup upgradation/migration as mentioned below for our application:\nJDK 1.7 ---&gt; JDK 1.8\nTomcat 7.0.47 ---&gt; Tomcat 9.0.60 (Also using Apache HTTP Server along with Apache Tomcat for new setup)\nojdbc7.jar ---&gt; ojdbc8.jar\nOracle 12c (12.1.0.2.0) ---&gt; Oracle 19c (19.14.0.0)</p>\n<p>We have been facing a JDBC autocommit issue since then in this new environment setup:</p>\n<p>Issue: For the first time AutoCommit is true by default. We update the value of autocommit to false and manually commit the transaction. After that, we also close the connection. Now if we try to create another connection object with &quot;DataSource.getConnection()&quot; within 10 seconds (in debug mode), the previous connection object is getting assigned with autocommit value to false. But, we expect a new connection object to be assigned with autocommit value set to true.</p>\n<p>During debugging, we found that in the &quot;GenericObjectPool&quot; class, inside the method &quot;borrowObject&quot;, the line &quot;p = idleObjects.pollFirst();&quot; assigns\n(i) if within 10 seconds=&gt; the value of p is the previous connection object; or,\n(ii) if after 10 seconds=&gt; the value of p is null and thus one new connection object is created for p with autocommit value to true</p>\n<p>public T borrowObject(final Duration borrowMaxWaitDuration) throws Exception {\n...........\n...........\n...........\nwhile (p == null) {\ncreate = false;\np = idleObjects.pollFirst();\nif (p == null) {\np = create();\nif (p != null) {\ncreate = true;\n}\n}\n}\n.........\n.........\n.........\n}</p>\n<p>Our initial understanding is that this code segment is the reason behind such behavior. But, please help us understand the reason why it is behaving differently in the new environment setup. Also, please help us with the Java source code to create a new connection object with autocommit value to true for subsequent connection objects.</p>\n<p>***Note: In the previous old environment setup mentioned before, the same source code works perfectly fine i.e. the autocommit is set to true by default every time we try to create a connection object with the same code &quot;DataSource.getConnection()&quot;.</p>\n<p>In Tomcat 7.0.47, the connection is retaining autocommit value to true also for second and any subsequent connections. But in Tomcat 9.0.60, autocommit value is true only for the first connection and autocommit value for any subsequent connections are false (if subsequent connections are created within 10 seconds of the first connection object creation).</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","multipartform-data"],"comments":[{"owner":{"account_id":4513919,"reputation":647,"user_id":3669309,"accept_rate":83,"display_name":"Tupac"},"score":0,"creation_date":1452229212,"post_id":34669708,"comment_id":57085194,"body_markdown":"Do you have the administration permission? Maybe is just that. Because it is in a user folder","body":"Do you have the administration permission? Maybe is just that. Because it is in a user folder"},{"owner":{"account_id":5927760,"reputation":601,"user_id":4663187,"accept_rate":71,"display_name":"Karthikeyan Velmurugan"},"score":0,"creation_date":1452230791,"post_id":34669708,"comment_id":57085700,"body_markdown":"@Tupac yes, i am checking with admin only.","body":"@Tupac yes, i am checking with admin only."}],"answers":[{"tags":[],"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1452244917,"creation_date":1452244917,"answer_id":34673383,"question_id":34669708,"body_markdown":"It seems like a bug in Undertow ([UNDERTOW-542](https://issues.jboss.org/browse/UNDERTOW-542)) discussed [here][1] in Spring Boot context. To quote the [analysis of Andy Wilkinson][2]:\n\n&gt; The good news is that the exception&#39;s benign and you can safely ignore it. All it&#39;s telling you, albeit very noisily, is that the file couldn&#39;t be deleted as it&#39;s already been deleted. The reason is that there&#39;s a race condition in Undertow that means that two threads end up trying to delete the file at the same time.\n&gt;\n&gt; *[...]*\n&gt;\n&gt; This has been fixed in Undertow 1.3 and 1.2. Spring Boot 1.3 uses Undertow 1.3 so we&#39;re good there. Unfortunately Spring Boot 1.2 uses Undertow 1.1 so we&#39;ll just have to live with the benign warning there.\n\n\n  [1]: https://github.com/spring-projects/spring-boot/issues/3966\n  [2]: https://github.com/spring-projects/spring-boot/issues/3966#issuecomment-140742820","title":"While uploading a file, getting &quot;Could not delete file C:\\Users\\...&quot; error","body":"<p>It seems like a bug in Undertow (<a href=\"https://issues.jboss.org/browse/UNDERTOW-542\" rel=\"nofollow noreferrer\">UNDERTOW-542</a>) discussed <a href=\"https://github.com/spring-projects/spring-boot/issues/3966\" rel=\"nofollow noreferrer\">here</a> in Spring Boot context. To quote the <a href=\"https://github.com/spring-projects/spring-boot/issues/3966#issuecomment-140742820\" rel=\"nofollow noreferrer\">analysis of Andy Wilkinson</a>:</p>\n<blockquote>\n<p>The good news is that the exception's benign and you can safely ignore it. All it's telling you, albeit very noisily, is that the file couldn't be deleted as it's already been deleted. The reason is that there's a race condition in Undertow that means that two threads end up trying to delete the file at the same time.</p>\n<p><em>[...]</em></p>\n<p>This has been fixed in Undertow 1.3 and 1.2. Spring Boot 1.3 uses Undertow 1.3 so we're good there. Unfortunately Spring Boot 1.2 uses Undertow 1.1 so we'll just have to live with the benign warning there.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676711944,"post_id":75455903,"comment_id":133195687,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75455903/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":7151432,"reputation":1,"user_id":5465330,"display_name":"Alok Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676439899,"creation_date":1676439899,"answer_id":75455903,"question_id":34669708,"body_markdown":"This issue is with some of the version of Spring Boot. As for example, getting error when using Spring Boot 2.7.8 version. But error go away when started using older 2.1.7.RELEASE. ","title":"While uploading a file, getting &quot;Could not delete file C:\\Users\\...&quot; error","body":"<p>This issue is with some of the version of Spring Boot. As for example, getting error when using Spring Boot 2.7.8 version. But error go away when started using older 2.1.7.RELEASE.</p>\n"}],"owner":{"account_id":5927760,"reputation":601,"user_id":4663187,"accept_rate":71,"display_name":"Karthikeyan Velmurugan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2643,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":34673383,"answer_count":2,"score":1,"last_activity_date":1676439899,"creation_date":1452228502,"question_id":34669708,"body_markdown":"I am using spring boot and mysql for my application. While I am trying to upload a file it shows error message like given below,\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    java.io.IOException: UT010015: Could not delete file C:\\Users\\KARTHI~1\\AppData\\Local\\Temp\\undertow7745669140970195692upload\r\n    \tat io.undertow.servlet.spec.PartImpl.delete(PartImpl.java:111)\r\n    \tat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:86)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1104)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:989)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n    \tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n    \tat org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:295)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n    \tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n\r\nand my coding is,\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form method=&quot;POST&quot; enctype=&quot;multipart/form-data&quot; action=&quot;http://localhost:8080/surf/upload&quot;&gt;\r\n    File to upload: &lt;input type=&quot;file&quot; name=&quot;file&quot;&gt;&lt;br /&gt; Name: &lt;input\r\n    \t\t\ttype=&quot;text&quot; name=&quot;name&quot;&gt;&lt;br /&gt; &lt;br /&gt; &lt;input type=&quot;submit&quot;\r\n    \t\t\tvalue=&quot;Upload&quot;&gt; Press here to upload the file!\r\n    &lt;/form&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand my java class\r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     @RequestMapping(value=&quot;/upload&quot;, method=RequestMethod.POST)\r\n     public @ResponseBody String handleFileUpload(@RequestParam(&quot;name&quot;) String name,\r\n    \t        @RequestParam(&quot;file&quot;) MultipartFile file){\r\n    \t        if (!file.isEmpty()) {\r\n    \t            try {\r\n    \t                byte[] bytes = file.getBytes();\r\n    \t                BufferedOutputStream stream =\r\n    \t                        new BufferedOutputStream(new FileOutputStream(new File(&quot;D:/Test/surfImg/&quot;)));\r\n    \t                stream.write(bytes);\r\n    \t                stream.close();\r\n    \t                return &quot;You successfully uploaded &quot; + name + &quot;!&quot;;\r\n    \t            } catch (Exception e) {\r\n    \t                return &quot;You failed to upload &quot; + name + &quot; =&gt; &quot; + e.getMessage();\r\n    \t            }\r\n    \t        } else {\r\n    \t            return &quot;You failed to upload &quot; + name + &quot; because the file was empty.&quot;;\r\n    \t        }\r\n    \t    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"While uploading a file, getting &quot;Could not delete file C:\\Users\\...&quot; error","body":"<p>I am using spring boot and mysql for my application. While I am trying to upload a file it shows error message like given below,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>java.io.IOException: UT010015: Could not delete file C:\\Users\\KARTHI~1\\AppData\\Local\\Temp\\undertow7745669140970195692upload\r\n\tat io.undertow.servlet.spec.PartImpl.delete(PartImpl.java:111)\r\n\tat org.springframework.web.multipart.support.StandardServletMultipartResolver.cleanupMultipart(StandardServletMultipartResolver.java:86)\r\n\tat org.springframework.web.servlet.DispatcherServlet.cleanupMultipart(DispatcherServlet.java:1104)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:989)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:966)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:868)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:648)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:842)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:729)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:86)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n\tat org.springframework.boot.actuate.autoconfigure.EndpointWebMvcAutoConfiguration$ApplicationContextHeaderFilter.doFilterInternal(EndpointWebMvcAutoConfiguration.java:295)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and my coding is,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form method=\"POST\" enctype=\"multipart/form-data\" action=\"http://localhost:8080/surf/upload\"&gt;\r\nFile to upload: &lt;input type=\"file\" name=\"file\"&gt;&lt;br /&gt; Name: &lt;input\r\n\t\t\ttype=\"text\" name=\"name\"&gt;&lt;br /&gt; &lt;br /&gt; &lt;input type=\"submit\"\r\n\t\t\tvalue=\"Upload\"&gt; Press here to upload the file!\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and my java class</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> @RequestMapping(value=\"/upload\", method=RequestMethod.POST)\r\n public @ResponseBody String handleFileUpload(@RequestParam(\"name\") String name,\r\n\t        @RequestParam(\"file\") MultipartFile file){\r\n\t        if (!file.isEmpty()) {\r\n\t            try {\r\n\t                byte[] bytes = file.getBytes();\r\n\t                BufferedOutputStream stream =\r\n\t                        new BufferedOutputStream(new FileOutputStream(new File(\"D:/Test/surfImg/\")));\r\n\t                stream.write(bytes);\r\n\t                stream.close();\r\n\t                return \"You successfully uploaded \" + name + \"!\";\r\n\t            } catch (Exception e) {\r\n\t                return \"You failed to upload \" + name + \" =&gt; \" + e.getMessage();\r\n\t            }\r\n\t        } else {\r\n\t            return \"You failed to upload \" + name + \" because the file was empty.\";\r\n\t        }\r\n\t    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","spring","postgresql","hibernate"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676439678,"post_id":75455847,"comment_id":133134962,"body_markdown":"See https://stackoverflow.com/questions/64992940/spring-data-jpa-native-query-with-null-parameter-postgresql","body":"See <a href=\"https://stackoverflow.com/questions/64992940/spring-data-jpa-native-query-with-null-parameter-postgresql\" title=\"spring data jpa native query with null parameter postgresql\">stackoverflow.com/questions/64992940/&hellip;</a>"}],"owner":{"account_id":17051052,"reputation":17,"user_id":12336678,"display_name":"Micro"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676439458,"creation_date":1676439342,"question_id":75455847,"body_markdown":"Getting the query in Statement Inspector after the parameters are binded.\r\n\r\nI am following the below links for statement inspector, can the query be modified after the parameters are binded.\r\n[https://vladmihalcea.com/hibernate-statementinspector/](https://www.stackoverflow.com/)\r\n[https://stackoverflow.com/questions/39112308/how-i-can-configure-statementinspector-in-hibernate](https://www.stackoverflow.com/)\r\nFor eg:\r\n\r\n```\r\nQuery q = entityManager.createNativeQuery(&quot;Select * from employees where address2_id = ?&quot;);\r\nq.setParameter(1, address2_idval);\r\n```\r\n\r\nFor the above scenario if i log the query using inspector it&#39;s printing \r\n`Select * from employees where address2_id = ?`\r\n\r\nthe reason i am using inspector is sometimes address2_idval can be empty(very rare case) at that time it&#39;s generating `Select * from employees where address2_id = &#39;&#39;` where address2_id is a numeric datatype in Db(POSTGRES).\r\nI am getting the following error invalid `input syntax for type numeric &quot;&quot;`.\r\n\r\nWhat i am planning on implementing in inspector is if i can get `Select * from employees where address2_id = &#39;&#39;` like this in inspector block i can check with regex and replace = &#39;&#39; with is null.\r\n\r\nCan anyone pls suggest if this is possible?\r\n\r\nNOTE: We are migrating from oracle to potgres so there are tons of queries which might face this issue, so planning on implementing in one place which intercept all the queries with this scenario","title":"Can we modify the query using Statement Inspector after binding the parameters to query","body":"<p>Getting the query in Statement Inspector after the parameters are binded.</p>\n<p>I am following the below links for statement inspector, can the query be modified after the parameters are binded.\n<a href=\"https://www.stackoverflow.com/\">https://vladmihalcea.com/hibernate-statementinspector/</a>\n<a href=\"https://www.stackoverflow.com/\">https://stackoverflow.com/questions/39112308/how-i-can-configure-statementinspector-in-hibernate</a>\nFor eg:</p>\n<pre><code>Query q = entityManager.createNativeQuery(&quot;Select * from employees where address2_id = ?&quot;);\nq.setParameter(1, address2_idval);\n</code></pre>\n<p>For the above scenario if i log the query using inspector it's printing\n<code>Select * from employees where address2_id = ?</code></p>\n<p>the reason i am using inspector is sometimes address2_idval can be empty(very rare case) at that time it's generating <code>Select * from employees where address2_id = ''</code> where address2_id is a numeric datatype in Db(POSTGRES).\nI am getting the following error invalid <code>input syntax for type numeric &quot;&quot;</code>.</p>\n<p>What i am planning on implementing in inspector is if i can get <code>Select * from employees where address2_id = ''</code> like this in inspector block i can check with regex and replace = '' with is null.</p>\n<p>Can anyone pls suggest if this is possible?</p>\n<p>NOTE: We are migrating from oracle to potgres so there are tons of queries which might face this issue, so planning on implementing in one place which intercept all the queries with this scenario</p>\n"},{"tags":["java","spring-boot","swagger-ui","openapi"],"comments":[{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1676441888,"post_id":75455848,"comment_id":133135290,"body_markdown":"How is the `Authorization` header defined in your code? It must be defined as a [security scheme](https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations), not a header parameter.","body":"How is the <code>Authorization</code> header defined in your code? It must be defined as a <a href=\"https://github.com/swagger-api/swagger-core/wiki/Swagger-2.X---Annotations#security-annotations\" rel=\"nofollow noreferrer\">security scheme</a>, not a header parameter."},{"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"score":0,"creation_date":1676443512,"post_id":75455848,"comment_id":133135563,"body_markdown":"@Helen thanks for advice. this helped me. I created swagger.yml added security schema. then tis working.","body":"@Helen thanks for advice. this helped me. I created swagger.yml added security schema. then tis working."}],"owner":{"account_id":339468,"reputation":9236,"user_id":668970,"accept_rate":75,"display_name":"developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676439359,"creation_date":1676439359,"question_id":75455848,"body_markdown":"iam trying to test api using swagger UI. but **Authorization** request header is not getting added to request headers. But correlationId is getting added. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W97lv.png\r\n  [2]: https://i.stack.imgur.com/AbPTN.png","title":"openapi swagger ui not passing Authorization in request headers","body":"<p>iam trying to test api using swagger UI. but <strong>Authorization</strong> request header is not getting added to request headers. But correlationId is getting added.</p>\n<p><a href=\"https://i.stack.imgur.com/W97lv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W97lv.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/AbPTN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AbPTN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","selenium","jira","python-jira"],"comments":[{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":1,"creation_date":1669039900,"post_id":74519435,"comment_id":131545858,"body_markdown":"From what i see in their documentation most of the operations are done via their api.  They have plugins for Jenkins/BitBucket CI servers. The AIO Tests plugin in Jira mostly used for visualizing and mapping of the results of your automation. https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/803373071/Jenkins+-+Continuous+Integration","body":"From what i see in their documentation most of the operations are done via their api.  They have plugins for Jenkins/BitBucket CI servers. The AIO Tests plugin in Jira mostly used for visualizing and mapping of the results of your automation. <a href=\"https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/803373071/Jenkins+-+Continuous+Integration\" rel=\"nofollow noreferrer\">aioreports.atlassian.net/wiki/spaces/ATDoc/pages/803373071/&hellip;</a>"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669040545,"post_id":74519435,"comment_id":131546121,"body_markdown":"The triggering should happen in the CI server (time schedule or code change) rather than from Jira.","body":"The triggering should happen in the CI server (time schedule or code change) rather than from Jira."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1669040974,"post_id":74519435,"comment_id":131546281,"body_markdown":"Hey @AlexKaramfilov thanks for commenting :). Yeah, i found something similar but i am having trouble trying to set everything. I do have my java application and now, what? WHat should i do first based on the documentation?. I&#39;m kinda lost :/","body":"Hey @AlexKaramfilov thanks for commenting :). Yeah, i found something similar but i am having trouble trying to set everything. I do have my java application and now, what? WHat should i do first based on the documentation?. I&#39;m kinda lost :/"},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669041126,"post_id":74519435,"comment_id":131546343,"body_markdown":"In order for this to work your next step is to configure Jenkins/BitBucket CI pipeline/job where you should execute your tests. Depending on your CI server option you will need to use different plugins/configurations. It will require some time unfortunately. Its not just a simple command.","body":"In order for this to work your next step is to configure Jenkins/BitBucket CI pipeline/job where you should execute your tests. Depending on your CI server option you will need to use different plugins/configurations. It will require some time unfortunately. Its not just a simple command."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1669041661,"post_id":74519435,"comment_id":131546526,"body_markdown":"@AlexKaramfilov Alex, suppose i managed to configure Jenkins/BitBucket CI pipeline/job, i am not understanding how that may &quot;connect&quot; to JIRA - AIO TEST. I was trying to have something like this: &quot;run a script from AIO TEST called test1 and somehow obtain the output from that and paste in the comments&quot;. Something like &quot;TEST 1: 0 FAILURES&quot; or &quot;TEST 1: 1 FAILURES&quot;","body":"@AlexKaramfilov Alex, suppose i managed to configure Jenkins/BitBucket CI pipeline/job, i am not understanding how that may &quot;connect&quot; to JIRA - AIO TEST. I was trying to have something like this: &quot;run a script from AIO TEST called test1 and somehow obtain the output from that and paste in the comments&quot;. Something like &quot;TEST 1: 0 FAILURES&quot; or &quot;TEST 1: 1 FAILURES&quot;"}],"answers":[{"tags":[],"owner":{"account_id":471893,"reputation":8441,"user_id":879977,"display_name":"niharika_neo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676438127,"creation_date":1676438127,"answer_id":75455719,"question_id":74519435,"body_markdown":"AIO Tests does not support triggering tests from within the application.  The process to achieve reporting results to AIO Tests would be as follows:\r\n\r\n1. Generate an AIO Tests API Key[ \\[Ref\\]][1].  This would authenticate you to AIO Tests in Jira.\r\n\r\n2. You can trigger your automation runs from any CI/CD server.  If you are using Jenkins and using any of the testing frameworks from (TestNG/JUnit/NUnit/Postman/Cucumber) or are able to generate the JUnit report or Cucumber report, you can use the [AIO Tests Jenkins][2] plugin as a post build step to report results.\r\n\r\n2. If you are not using the plugin, then use the API Key to report results to your cases in AIO Tests.  The APIs available for reporting are available @ [AIO Tests Swagger documentation.][3]\r\n\r\n\r\n\r\n  [1]: https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/484048912/Access+Token\r\n  [2]: https://plugins.jenkins.io/aio-tests/\r\n  [3]: https://tcms.aiojiraapps.com/aio-tcms/aiotcms-static/api-docs/#/","title":"Triggering Java &amp; Selenium automation in Attlasian (TEST AIO)","body":"<p>AIO Tests does not support triggering tests from within the application.  The process to achieve reporting results to AIO Tests would be as follows:</p>\n<ol>\n<li><p>Generate an AIO Tests API Key<a href=\"https://aioreports.atlassian.net/wiki/spaces/ATDoc/pages/484048912/Access+Token\" rel=\"nofollow noreferrer\"> [Ref]</a>.  This would authenticate you to AIO Tests in Jira.</p>\n</li>\n<li><p>You can trigger your automation runs from any CI/CD server.  If you are using Jenkins and using any of the testing frameworks from (TestNG/JUnit/NUnit/Postman/Cucumber) or are able to generate the JUnit report or Cucumber report, you can use the <a href=\"https://plugins.jenkins.io/aio-tests/\" rel=\"nofollow noreferrer\">AIO Tests Jenkins</a> plugin as a post build step to report results.</p>\n</li>\n<li><p>If you are not using the plugin, then use the API Key to report results to your cases in AIO Tests.  The APIs available for reporting are available @ <a href=\"https://tcms.aiojiraapps.com/aio-tcms/aiotcms-static/api-docs/#/\" rel=\"nofollow noreferrer\">AIO Tests Swagger documentation.</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676438127,"creation_date":1669035947,"question_id":74519435,"body_markdown":"I am searching and i don&#39;t know how could i execute a JAVA automation using the Attlasian tool called AIO TEST:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ScD6g.png\r\n\r\n\r\nI have a program .java and it runs just fine but i would like to trigger this java program by calling it directly from AIO TEST.\r\n\r\nIs there any way to achieve that? Have you ever done something like that?\r\n\r\n","title":"Triggering Java &amp; Selenium automation in Attlasian (TEST AIO)","body":"<p>I am searching and i don't know how could i execute a JAVA automation using the Attlasian tool called AIO TEST:</p>\n<p><a href=\"https://i.stack.imgur.com/ScD6g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ScD6g.png\" alt=\"enter image description here\" /></a></p>\n<p>I have a program .java and it runs just fine but i would like to trigger this java program by calling it directly from AIO TEST.</p>\n<p>Is there any way to achieve that? Have you ever done something like that?</p>\n"},{"tags":["java","android","kotlin","kotlin-multiplatform"],"comments":[{"owner":{"account_id":4399745,"reputation":73438,"user_id":3585796,"display_name":"Phil Dukhov"},"score":1,"creation_date":1676667169,"post_id":75455697,"comment_id":133190786,"body_markdown":"No you can&#39;t use any java code in shared module, you need to create expect class URL in shared code and implement it on each platform. Actual implementation can also be done with typealias(`actual typealias URL = java.net.URL`) so each platform will see it as it&#39;s own url type. in this case if some functional has different function name on different platforms, you can create shared API with except extension functions.","body":"No you can&#39;t use any java code in shared module, you need to create expect class URL in shared code and implement it on each platform. Actual implementation can also be done with typealias(<code>actual typealias URL = java.net.URL</code>) so each platform will see it as it&#39;s own url type. in this case if some functional has different function name on different platforms, you can create shared API with except extension functions."},{"owner":{"account_id":4399745,"reputation":73438,"user_id":3585796,"display_name":"Phil Dukhov"},"score":1,"creation_date":1676667258,"post_id":75455697,"comment_id":133190803,"body_markdown":"Generally, you look for some library which is already KMM in the first place - e.g. Ktor should have it&#39;s own url class, and if only need to use the class from shared code, you can use it. But if you need to create API to be used from platform side, you have to build it by yourself.","body":"Generally, you look for some library which is already KMM in the first place - e.g. Ktor should have it&#39;s own url class, and if only need to use the class from shared code, you can use it. But if you need to create API to be used from platform side, you have to build it by yourself."}],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676437805,"creation_date":1676437805,"question_id":75455697,"body_markdown":"I am new to KMM but know that expressly declared java classes will not be compiled into a multiplatform form in multiplatform mobile.  However,  if a kotlin class uses java classes (java.net.URL in this case) with that class work across multiple platforms? If not what is a workaround that will?","title":"If a kotlin script in KMM uses Java classes, will it work for multiple platforms?","body":"<p>I am new to KMM but know that expressly declared java classes will not be compiled into a multiplatform form in multiplatform mobile.  However,  if a kotlin class uses java classes (java.net.URL in this case) with that class work across multiple platforms? If not what is a workaround that will?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":15450913,"reputation":111,"user_id":11146313,"display_name":"Dhruv"},"score":0,"creation_date":1676435856,"post_id":75455517,"comment_id":133134477,"body_markdown":"I think the `mDataList` value is getting updated based on the last call of `addValueEventListener`","body":"I think the <code>mDataList</code> value is getting updated based on the last call of <code>addValueEventListener</code>"},{"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"score":0,"creation_date":1676436097,"post_id":75455517,"comment_id":133134517,"body_markdown":"but what to do to read at once both data in recyclerview....any idea ????","body":"but what to do to read at once both data in recyclerview....any idea ????"},{"owner":{"account_id":15450913,"reputation":111,"user_id":11146313,"display_name":"Dhruv"},"score":0,"creation_date":1676437188,"post_id":75455517,"comment_id":133134669,"body_markdown":"You can try declaring `dataModel` right below `mDataList.clear();`.  \n\nRight now your `dataModel` is declared twice in both `addValueEventListener` which is leading to this issue. \nWhat you can try is declaring `question_profile_read_data dataModel` below `mDataList.clear();` and in `addValueEventListener` use `dataModel=childSnapshot.getValue(question_profile_read_data.class)`;\n\nI hope this helps!!!","body":"You can try declaring <code>dataModel</code> right below <code>mDataList.clear();</code>.    Right now your <code>dataModel</code> is declared twice in both <code>addValueEventListener</code> which is leading to this issue.  What you can try is declaring <code>question_profile_read_data dataModel</code> below <code>mDataList.clear();</code> and in <code>addValueEventListener</code> use <code>dataModel=childSnapshot.getValue(question_profile_read_data.&zwnj;&#8203;class)</code>;  I hope this helps!!!"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676445378,"post_id":75455517,"comment_id":133135895,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data) and indicate the exact data you want to read.","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a> and indicate the exact data you want to read."},{"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"score":0,"creation_date":1676445801,"post_id":75455517,"comment_id":133135979,"body_markdown":"i tried but it didn&#39;t work.","body":"i tried but it didn&#39;t work."}],"owner":{"account_id":27678248,"reputation":21,"user_id":21127600,"display_name":"Remo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676436695,"creation_date":1676435387,"question_id":75455517,"body_markdown":"How to read data from two different firebase database parent node in a recyclerview.\r\nI want to fetch data from two different firebase parent node recyclerview, but i ended up reading only one node from firebase and displying to recycyclerview.\r\n\r\n\r\n```\r\n// Load data from Firebase into mDataList\r\nprivate void loadDataFromFirebase() {\r\n\r\n    mDataList.clear();\r\n    mDatabase.child(&quot;QnA&quot;).child(&quot;Questions&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\r\n\r\n                scholarid = childSnapshot.child(&quot;id&quot;).getValue(String.class);\r\n//                System.out.println(id);\r\n\r\n                question_profile_read_data dataModel = childSnapshot.getValue(question_profile_read_data.class);\r\n                mDataList.add(dataModel);\r\n                notifyDataSetChanged();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\r\n        }\r\n    });\r\n\r\n    System.out.println(scholarid);\r\n\r\n    mDatabase.child(&quot;users&quot;).child(&quot;child&quot;).child(&quot;profiles&quot;).addValueEventListener(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n//            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\r\n                question_profile_read_data dataModel = dataSnapshot.getValue(question_profile_read_data.class);\r\n                mDataList.add(dataModel);\r\n                notifyDataSetChanged();\r\n\r\n                System.out.println(scholarid);\r\n//            }\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError databaseError) {\r\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\r\n        }\r\n    });\r\n}\r\n```\r\n\r\nI used above method to retrieve data and i used this method in adapter class. but this only reading data from single database.\r\n\r\n","title":"How to read data from two parent nodes in firebase in recyclerview android","body":"<p>How to read data from two different firebase database parent node in a recyclerview.\nI want to fetch data from two different firebase parent node recyclerview, but i ended up reading only one node from firebase and displying to recycyclerview.</p>\n<pre><code>// Load data from Firebase into mDataList\nprivate void loadDataFromFirebase() {\n\n    mDataList.clear();\n    mDatabase.child(&quot;QnA&quot;).child(&quot;Questions&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\n\n                scholarid = childSnapshot.child(&quot;id&quot;).getValue(String.class);\n//                System.out.println(id);\n\n                question_profile_read_data dataModel = childSnapshot.getValue(question_profile_read_data.class);\n                mDataList.add(dataModel);\n                notifyDataSetChanged();\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\n        }\n    });\n\n    System.out.println(scholarid);\n\n    mDatabase.child(&quot;users&quot;).child(&quot;child&quot;).child(&quot;profiles&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n//            for (DataSnapshot childSnapshot : dataSnapshot.getChildren()) {\n                question_profile_read_data dataModel = dataSnapshot.getValue(question_profile_read_data.class);\n                mDataList.add(dataModel);\n                notifyDataSetChanged();\n\n                System.out.println(scholarid);\n//            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n            Log.w(TAG, &quot;loadPost:onCancelled&quot;, databaseError.toException());\n        }\n    });\n}\n</code></pre>\n<p>I used above method to retrieve data and i used this method in adapter class. but this only reading data from single database.</p>\n"},{"tags":["java","spring","postgresql","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676476530,"post_id":75455591,"comment_id":133145280,"body_markdown":"I did that and the error stopped appearing in the console, but I still get a bad request in my postman","body":"I did that and the error stopped appearing in the console, but I still get a bad request in my postman"},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1676483991,"post_id":75455591,"comment_id":133147697,"body_markdown":"If you receive 400, but no stack trace in std out, then your exception handled by http servlet container. Put the break point on the second line of your `saveOrder` method an use &#39;step into&#39; feature in your IDE to see the trace of calls and notice the line where execution proceeds to exception handler","body":"If you receive 400, but no stack trace in std out, then your exception handled by http servlet container. Put the break point on the second line of your <code>saveOrder</code> method an use &#39;step into&#39; feature in your IDE to see the trace of calls and notice the line where execution proceeds to exception handler"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676484392,"post_id":75455591,"comment_id":133147795,"body_markdown":"A question that maybe you can help me with... If you see my post method in a controller, you&#39;ll notice  &quot;orderModel.setPrice(70.8f);&quot;. I am sending an already established price for this column in my database, but I would like to send this directly from the body sent by my user without the dto. Can you tell me how I can do this in this syntax?","body":"A question that maybe you can help me with... If you see my post method in a controller, you&#39;ll notice  &quot;orderModel.setPrice(70.8f);&quot;. I am sending an already established price for this column in my database, but I would like to send this directly from the body sent by my user without the dto. Can you tell me how I can do this in this syntax?"},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1676484848,"post_id":75455591,"comment_id":133147928,"body_markdown":"Doesn&#39;t `BeanUtils.copyProperties` do this?","body":"Doesn&#39;t <code>BeanUtils.copyProperties</code> do this?"},{"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"score":0,"creation_date":1676485521,"post_id":75455591,"comment_id":133148123,"body_markdown":"BeanUtils.copyProperties does this with blanks that are in dto, my price is not, so I would like to set this directly in my controlle as I am doing, but instead of sending a value, I receive the user&#39;s value","body":"BeanUtils.copyProperties does this with blanks that are in dto, my price is not, so I would like to set this directly in my controlle as I am doing, but instead of sending a value, I receive the user&#39;s value"},{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1676488713,"post_id":75455591,"comment_id":133149085,"body_markdown":"If you want to get the price from client side and don&#39;t want for some reason put it inside request body, another viable option would be to use @RequestParam","body":"If you want to get the price from client side and don&#39;t want for some reason put it inside request body, another viable option would be to use @RequestParam"}],"tags":[],"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676436382,"creation_date":1676436382,"answer_id":75455591,"question_id":75454633,"body_markdown":"Stack trace says that you have a problem in generated sql script at pos. 169. `order` is a keyword in sql, don&#39;t use it as a property name. Meanwhile, your table can have name `orders` without any problem","title":"Error executing DDL postgres Java spring boot API","body":"<p>Stack trace says that you have a problem in generated sql script at pos. 169. <code>order</code> is a keyword in sql, don't use it as a property name. Meanwhile, your table can have name <code>orders</code> without any problem</p>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75455591,"answer_count":1,"score":0,"last_activity_date":1676436382,"creation_date":1676423021,"question_id":75454633,"body_markdown":"I&#39;m developing a request API in java spring boot, I developed my post but when testing it returns the 400 bad request error and the following error in the terminal\r\n\r\n```\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table restaurant_orders (id uuid not null, address varchar(25) not null, block varchar(5), customer_name varchar(11) not null, door_number varchar(10) not null, order varchar(30) not null, phone_number varchar(15) not null, price float4 not null, registration_date timestamp(6) not null, primary key (id))&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:307) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:79) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n\tat com.api.order_control.OrderControlApplication.main(OrderControlApplication.java:12) ~[classes/:na]\r\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;order&quot;\r\n  Position: 169\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.1.jar:42.5.1]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\t... 36 common frames omitted\r\n\r\n```\r\n\r\nI saw in some searches that the name &quot;order&quot; could be causing a problem in the database, so I changed it to &quot;orders_restaurant&quot; and I still have the same problem\r\n\r\n\r\nmodel\r\n\r\n```\r\npackage com.api.order_control.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;restaurant_orders&quot;)\r\npublic class OrderModel implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @Column(nullable = false, length = 11)\r\n    private String customerName;\r\n    @Column(nullable = false, length = 15)\r\n    private String phoneNumber;\r\n    @Column(nullable = false, length = 25)\r\n    private String address;\r\n    @Column(nullable = false, length = 10)\r\n    private String doorNumber;\r\n    @Column(nullable = true, length = 5)\r\n    private String block;\r\n    @Column(nullable = false, length = 30)\r\n    private String order;\r\n    @Column(nullable = false)\r\n    private Float price;\r\n    @Column(nullable = false)\r\n    private LocalDateTime registrationDate;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getDoorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void setDoorNumber(String doorNumber) {\r\n        this.doorNumber = doorNumber;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrder() {\r\n        return order;\r\n    }\r\n\r\n    public void setOrder(String order) {\r\n        this.order = order;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public LocalDateTime getRegistrationDate() {\r\n        return registrationDate;\r\n    }\r\n\r\n    public void setRegistrationDate(LocalDateTime registrationDate) {\r\n        this.registrationDate = registrationDate;\r\n    }\r\n}\r\n```\r\n\r\ncontroller\r\n\r\n```\r\npackage com.api.order_control.controllers;\r\n\r\n\r\nimport com.api.order_control.dtos.OrderDto;\r\nimport com.api.order_control.models.OrderModel;\r\nimport com.api.order_control.services.OrderService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/order&quot;)\r\npublic class OrderController {\r\n\r\n    final OrderService orderService;\r\n\r\n    public OrderController(OrderService orderService) {\r\n        this.orderService = orderService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\r\n        var orderModel = new OrderModel();\r\n        BeanUtils.copyProperties(orderDto, orderModel);\r\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\r\n        orderModel.setPrice(70.8f);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\r\n    }\r\n}\r\n\r\n```","title":"Error executing DDL postgres Java spring boot API","body":"<p>I'm developing a request API in java spring boot, I developed my post but when testing it returns the 400 bad request error and the following error in the terminal</p>\n<pre><code>org.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table restaurant_orders (id uuid not null, address varchar(25) not null, block varchar(5), customer_name varchar(11) not null, door_number varchar(10) not null, order varchar(30) not null, phone_number varchar(15) not null, price float4 not null, registration_date timestamp(6) not null, primary key (id))&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:587) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:532) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:307) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:79) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:225) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:126) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:284) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.lambda$process$5(SchemaManagementToolCoordinator.java:143) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at java.base/java.util.HashMap.forEach(HashMap.java:1429) ~[na:na]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:140) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:336) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:415) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1425) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:66) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1130) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:905) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.api.order_control.OrderControlApplication.main(OrderControlApplication.java:12) ~[classes/:na]\nCaused by: org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;order&quot;\n  Position: 169\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:413) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:333) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:319) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:295) ~[postgresql-42.5.1.jar:42.5.1]\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:290) ~[postgresql-42.5.1.jar:42.5.1]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-5.0.1.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    ... 36 common frames omitted\n\n</code></pre>\n<p>I saw in some searches that the name &quot;order&quot; could be causing a problem in the database, so I changed it to &quot;orders_restaurant&quot; and I still have the same problem</p>\n<p>model</p>\n<pre><code>package com.api.order_control.models;\n\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;restaurant_orders&quot;)\npublic class OrderModel implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @Column(nullable = false, length = 11)\n    private String customerName;\n    @Column(nullable = false, length = 15)\n    private String phoneNumber;\n    @Column(nullable = false, length = 25)\n    private String address;\n    @Column(nullable = false, length = 10)\n    private String doorNumber;\n    @Column(nullable = true, length = 5)\n    private String block;\n    @Column(nullable = false, length = 30)\n    private String order;\n    @Column(nullable = false)\n    private Float price;\n    @Column(nullable = false)\n    private LocalDateTime registrationDate;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getDoorNumber() {\n        return doorNumber;\n    }\n\n    public void setDoorNumber(String doorNumber) {\n        this.doorNumber = doorNumber;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrder() {\n        return order;\n    }\n\n    public void setOrder(String order) {\n        this.order = order;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public LocalDateTime getRegistrationDate() {\n        return registrationDate;\n    }\n\n    public void setRegistrationDate(LocalDateTime registrationDate) {\n        this.registrationDate = registrationDate;\n    }\n}\n</code></pre>\n<p>controller</p>\n<pre><code>package com.api.order_control.controllers;\n\n\nimport com.api.order_control.dtos.OrderDto;\nimport com.api.order_control.models.OrderModel;\nimport com.api.order_control.services.OrderService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/order&quot;)\npublic class OrderController {\n\n    final OrderService orderService;\n\n    public OrderController(OrderService orderService) {\n        this.orderService = orderService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\n        var orderModel = new OrderModel();\n        BeanUtils.copyProperties(orderDto, orderModel);\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\n        orderModel.setPrice(70.8f);\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rbac"],"owner":{"account_id":27173612,"reputation":11,"user_id":20709925,"display_name":"prabhu_axm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676436322,"creation_date":1676436322,"question_id":75455588,"body_markdown":"Is it possible in spring boot to dynamically update RBAC but only for certain methods? I have my `application.yml` like this which I store in cloud config server\r\n\r\n```json\r\nrbac:\r\n  - endpoint: /api/v1/user\r\n    permissions: read-user, write-user\r\n  - endpoint: /api/v1/admin\r\n    permissions: read-admin, write-admin\r\n```\r\n\r\nIn my `SecurityConfig` class, I have marked it as RefreshScope and I parse these configs and add the rbac in spring security. This works fine and if I updated the yml file in my repo, config server successfully pushes it to the running instances and it gets dynamically updated. \r\n\r\nBut now I want to define a more granular level of RBAC by adding it on methods such that certain methods can only be accessed by some users. Is it possible in Spring Boot to do this and also that we can update the method level RBAC dynamically via some config file without requiring to restart the application?\r\n","title":"Spring boot dynamically updated the RBAC config for specific methods","body":"<p>Is it possible in spring boot to dynamically update RBAC but only for certain methods? I have my <code>application.yml</code> like this which I store in cloud config server</p>\n<pre class=\"lang-json prettyprint-override\"><code>rbac:\n  - endpoint: /api/v1/user\n    permissions: read-user, write-user\n  - endpoint: /api/v1/admin\n    permissions: read-admin, write-admin\n</code></pre>\n<p>In my <code>SecurityConfig</code> class, I have marked it as RefreshScope and I parse these configs and add the rbac in spring security. This works fine and if I updated the yml file in my repo, config server successfully pushes it to the running instances and it gets dynamically updated.</p>\n<p>But now I want to define a more granular level of RBAC by adding it on methods such that certain methods can only be accessed by some users. Is it possible in Spring Boot to do this and also that we can update the method level RBAC dynamically via some config file without requiring to restart the application?</p>\n"},{"tags":["java","multipartform-data","java-11","multipartfile"],"comments":[{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675762066,"post_id":75371278,"comment_id":132993378,"body_markdown":"Does [this](https://stackoverflow.com/questions/41956365/spring-rest-multipart-file-upload-with-java-configuration-without-spring-boot) help?","body":"Does <a href=\"https://stackoverflow.com/questions/41956365/spring-rest-multipart-file-upload-with-java-configuration-without-spring-boot\">this</a> help?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675762258,"post_id":75371278,"comment_id":132993438,"body_markdown":"No, its using spring but we don&#39;t want to use any framework.","body":"No, its using spring but we don&#39;t want to use any framework."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675762525,"post_id":75371278,"comment_id":132993528,"body_markdown":"Could you improve your question? The &quot;using java11 **with** spring&quot; is sorta misleading, given that a sentence later you&#39;re saying &quot;without spring&quot;.","body":"Could you improve your question? The &quot;using java11 <b>with</b> spring&quot; is sorta misleading, given that a sentence later you&#39;re saying &quot;without spring&quot;."},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675762798,"post_id":75371278,"comment_id":132993607,"body_markdown":"Thank you, just edited. I want the ans wothout spring.","body":"Thank you, just edited. I want the ans wothout spring."},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1675762863,"post_id":75371278,"comment_id":132993624,"body_markdown":"Thanks for the edit. So you want to create a Java-App, which **accepts** `multipart/form-data`? Are you using jakarta/javax by any chance?","body":"Thanks for the edit. So you want to create a Java-App, which <b>accepts</b> <code>multipart&#47;form-data</code>? Are you using jakarta/javax by any chance?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675763105,"post_id":75371278,"comment_id":132993711,"body_markdown":"javax yes we are using","body":"javax yes we are using"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675763212,"post_id":75371278,"comment_id":132993749,"body_markdown":"not the upload part just how to grab the multipart file from the restapi","body":"not the upload part just how to grab the multipart file from the restapi"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675763320,"post_id":75371278,"comment_id":132993790,"body_markdown":"Are you developing an application with servlets?","body":"Are you developing an application with servlets?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675763565,"post_id":75371278,"comment_id":132993881,"body_markdown":"application is serverless. using aws lambda","body":"application is serverless. using aws lambda"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675763583,"post_id":75371278,"comment_id":132993885,"body_markdown":"Can you show the relevant code?","body":"Can you show the relevant code?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1675763861,"post_id":75371278,"comment_id":132993982,"body_markdown":"You might want to take a look at [this](https://github.com/CorkHounds/multipart-fileupload-java-lambda/blob/master/src/main/java/fileupload/FileUploadFunctionHandler.java) and [that](https://stackoverflow.com/questions/43875504/parse-multipart-form-data-body-on-aws-lambda-in-java).","body":"You might want to take a look at <a href=\"https://github.com/CorkHounds/multipart-fileupload-java-lambda/blob/master/src/main/java/fileupload/FileUploadFunctionHandler.java\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://stackoverflow.com/questions/43875504/parse-multipart-form-data-body-on-aws-lambda-in-java\">that</a>."},{"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"score":0,"creation_date":1675764030,"post_id":75371278,"comment_id":132994030,"body_markdown":"@Shivam so you ARE using libraries, you said you don&#39;t want to...","body":"@Shivam so you ARE using libraries, you said you don&#39;t want to..."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675764237,"post_id":75371278,"comment_id":132994110,"body_markdown":"Are you allowed to use jax-rs and jersey (glassfish) libraries?","body":"Are you allowed to use jax-rs and jersey (glassfish) libraries?"},{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1675764294,"post_id":75371278,"comment_id":132994123,"body_markdown":"Can use library but not from spring.","body":"Can use library but not from spring."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1675764399,"post_id":75371278,"comment_id":132994148,"body_markdown":"You need to include some code in this. &quot;i need to open an endpoint where the consumer is multipart/form-data.&quot; What is this? How are you obtaining it? Do you have an actual java class that this is in reference to? Are you trying to handle an http request that has multipart/form-data?","body":"You need to include some code in this. &quot;i need to open an endpoint where the consumer is multipart/form-data.&quot; What is this? How are you obtaining it? Do you have an actual java class that this is in reference to? Are you trying to handle an http request that has multipart/form-data?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1675794857,"post_id":75371278,"comment_id":133004279,"body_markdown":"The JavaMail library, part of standard Java EE, includes a [MimeMultipart](https://javaee.github.io/javaee-spec/javadocs/javax/mail/internet/MimeMultipart.html) class.","body":"The JavaMail library, part of standard Java EE, includes a <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/mail/internet/MimeMultipart.html\" rel=\"nofollow noreferrer\">MimeMultipart</a> class."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675860658,"post_id":75371278,"comment_id":133018019,"body_markdown":"Can you possibly add serverless to the title somewhere?","body":"Can you possibly add serverless to the title somewhere?"}],"answers":[{"tags":[],"owner":{"account_id":104440,"reputation":5525,"user_id":279236,"display_name":"jwenting"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675763986,"creation_date":1675763986,"answer_id":75371708,"question_id":75371278,"body_markdown":"So you don&#39;t want to use ANY libraries?\r\nIn that case you first have to implement your own code to handle http requests, and then code to extract the data you want from them.\r\n\r\nI seriously doubt you want to do that (though it&#39;s an interesting exercise if you have the time and skill).\r\n\r\nBut if you insist, the HTTP RFC is where you want to start.","title":"Process MultipartFile in serverless application on java11 without spring","body":"<p>So you don't want to use ANY libraries?\nIn that case you first have to implement your own code to handle http requests, and then code to extract the data you want from them.</p>\n<p>I seriously doubt you want to do that (though it's an interesting exercise if you have the time and skill).</p>\n<p>But if you insist, the HTTP RFC is where you want to start.</p>\n"},{"comments":[{"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"score":0,"creation_date":1676367611,"post_id":75385369,"comment_id":133118130,"body_markdown":"Thank you very much. It worked for me. It take some time to figure out how to do it in my code.","body":"Thank you very much. It worked for me. It take some time to figure out how to do it in my code."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1676368671,"post_id":75385369,"comment_id":133118456,"body_markdown":"My pleasure. Can you please put “serverless” in the question title somewhere.","body":"My pleasure. Can you please put “serverless” in the question title somewhere."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675860497,"creation_date":1675856857,"answer_id":75385369,"question_id":75371278,"body_markdown":"Note that on the way to your Serverless Java Lambda the AWS ApiGateway will transform your request into JSON for passing through to Lambda.\r\n\r\nTo get this to work for multipart form you need to [define multipart/form-data as a binary media type for your API][1] and proxy the payload directly to a Lambda function.\r\n\r\nThis is how you [implement the Lambda in Java][2] to consume the resulting payload.\r\n\r\nNo Spring in sight. Just apache commons and aws stuff.\r\n\r\n  [1]: https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-payload-encodings-configure-with-console.html\r\n  [2]: https://medium.com/swlh/processing-multipart-form-data-using-api-gateway-and-a-java-lambda-proxy-for-storage-in-s3-e6598033ff3e","title":"Process MultipartFile in serverless application on java11 without spring","body":"<p>Note that on the way to your Serverless Java Lambda the AWS ApiGateway will transform your request into JSON for passing through to Lambda.</p>\n<p>To get this to work for multipart form you need to <a href=\"https://docs.aws.amazon.com/apigateway/latest/developerguide/api-gateway-payload-encodings-configure-with-console.html\" rel=\"nofollow noreferrer\">define multipart/form-data as a binary media type for your API</a> and proxy the payload directly to a Lambda function.</p>\n<p>This is how you <a href=\"https://medium.com/swlh/processing-multipart-form-data-using-api-gateway-and-a-java-lambda-proxy-for-storage-in-s3-e6598033ff3e\" rel=\"nofollow noreferrer\">implement the Lambda in Java</a> to consume the resulting payload.</p>\n<p>No Spring in sight. Just apache commons and aws stuff.</p>\n"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75385369,"answer_count":2,"score":1,"last_activity_date":1676435646,"creation_date":1675761984,"question_id":75371278,"body_markdown":"I need to develop the severless application using java11 without spring. In this application i need to open an endpoint where the consumer is multipart/form-data. I know in spring we have a MultipartFile class using which we can grab the object and use it but i want to know how to do it without spring. After that i need to upload that file in amazon S3. &lt;br/&gt;\r\nI am using Amazon Api gateway to expose the endpoint and amazon s3 for storage.\r\n","title":"Process MultipartFile in serverless application on java11 without spring","body":"<p>I need to develop the severless application using java11 without spring. In this application i need to open an endpoint where the consumer is multipart/form-data. I know in spring we have a MultipartFile class using which we can grab the object and use it but i want to know how to do it without spring. After that i need to upload that file in amazon S3. <br/>\nI am using Amazon Api gateway to expose the endpoint and amazon s3 for storage.</p>\n"},{"tags":["java","maven","unit-testing","maven-surefire-plugin"],"comments":[{"owner":{"account_id":2486854,"reputation":5426,"user_id":2165134,"display_name":"Zelldon"},"score":0,"creation_date":1471415070,"post_id":38989221,"comment_id":65331013,"body_markdown":"Do you tried to remove the executions part?","body":"Do you tried to remove the executions part?"},{"owner":{"account_id":213379,"reputation":9738,"user_id":466738,"accept_rate":94,"display_name":"Adam Michalik"},"score":0,"creation_date":1471416268,"post_id":38989221,"comment_id":65331612,"body_markdown":"Please add (trimmed) the output of `mvn clean install`, especially the lines starting with `[INFO] --- maven-surefire-plugin` - that should help track when and how many times the plugin is executed.","body":"Please add (trimmed) the output of <code>mvn clean install</code>, especially the lines starting with <code>[INFO] --- maven-surefire-plugin</code> - that should help track when and how many times the plugin is executed."},{"owner":{"account_id":382603,"reputation":9068,"user_id":737936,"accept_rate":77,"display_name":"ravthiru"},"score":0,"creation_date":1471417165,"post_id":38989221,"comment_id":65332105,"body_markdown":"It only runs once, do you have other plugins?","body":"It only runs once, do you have other plugins?"},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466013,"post_id":38989221,"comment_id":65363239,"body_markdown":"@Zelldon Yes I tried removing the execution part, still calling it twice.","body":"@Zelldon Yes I tried removing the execution part, still calling it twice."},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466169,"post_id":38989221,"comment_id":65363307,"body_markdown":"@ravthiru The only other plugin is `maven-surefire-report-plugin`. You can see the full maven &lt;build&gt; above.","body":"@ravthiru The only other plugin is <code>maven-surefire-report-plugin</code>. You can see the full maven &lt;build&gt; above."},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466646,"post_id":38989221,"comment_id":65363520,"body_markdown":"@AdamMichalik Could you please explain what do you mean by &#39;adding trimmed&#39;? Can you suggest a revised configuration? Thanks.","body":"@AdamMichalik Could you please explain what do you mean by &#39;adding trimmed&#39;? Can you suggest a revised configuration? Thanks."},{"owner":{"account_id":3511027,"reputation":2596,"user_id":2935333,"accept_rate":29,"display_name":"Rocherlee"},"score":0,"creation_date":1471482861,"post_id":38989221,"comment_id":65368704,"body_markdown":"Trimmed output means a short copy of your log when you run mvn clean install. It helps to see when the maven test is invoked","body":"Trimmed output means a short copy of your log when you run mvn clean install. It helps to see when the maven test is invoked"}],"answers":[{"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1471420031,"post_id":38990295,"comment_id":65333709,"body_markdown":"This is correct, cause maven-surefire-plugin is by default already bound to the life cycle. Best is to give configuration via pluginManagement instead of in build..","body":"This is correct, cause maven-surefire-plugin is by default already bound to the life cycle. Best is to give configuration via pluginManagement instead of in build.."},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":0,"creation_date":1471466111,"post_id":38990295,"comment_id":65363278,"body_markdown":"@Rocherlee Tried that, didn&#39;t work either. Still calling TESTS twice.","body":"@Rocherlee Tried that, didn&#39;t work either. Still calling TESTS twice."},{"owner":{"account_id":7943244,"reputation":448,"user_id":5996527,"display_name":"mbruns42"},"score":3,"creation_date":1534925505,"post_id":38990295,"comment_id":90875049,"body_markdown":"@DhafirNz Did you ever find the solution?","body":"@DhafirNz Did you ever find the solution?"},{"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"score":2,"creation_date":1545304818,"post_id":38990295,"comment_id":94582406,"body_markdown":"A good way of finding out what is going on is to use: mvn help:effective-pom","body":"A good way of finding out what is going on is to use: mvn help:effective-pom"}],"tags":[],"owner":{"account_id":3511027,"reputation":2596,"user_id":2935333,"accept_rate":29,"display_name":"Rocherlee"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471419301,"creation_date":1471418012,"answer_id":38990295,"question_id":38989221,"body_markdown":"I think the `&lt;execution&gt;` in your `pom.xml` causes the 2nd test run. Maven sees it as another goal to execute in addition to the default goal in the test phase.\r\n\r\nSince `maven-surefire-plugin` is a plugin used by default in Maven for test phase, you only need to provide the `&lt;configuration&gt;` part outside of `&lt;execution&gt;`. Modify your `pom.xml` as below\r\n\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.18.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;parallel&gt;classes&lt;/parallel&gt;\r\n            &lt;threadCount&gt;3&lt;/threadCount&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>I think the <code>&lt;execution&gt;</code> in your <code>pom.xml</code> causes the 2nd test run. Maven sees it as another goal to execute in addition to the default goal in the test phase.</p>\n\n<p>Since <code>maven-surefire-plugin</code> is a plugin used by default in Maven for test phase, you only need to provide the <code>&lt;configuration&gt;</code> part outside of <code>&lt;execution&gt;</code>. Modify your <code>pom.xml</code> as below</p>\n\n<pre><code>&lt;plugins&gt;\n  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.18.1&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;parallel&gt;classes&lt;/parallel&gt;\n        &lt;threadCount&gt;3&lt;/threadCount&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5386748,"reputation":23,"user_id":4290381,"display_name":"Ankit Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607473073,"creation_date":1607473073,"answer_id":65208886,"question_id":38989221,"body_markdown":"If in your pom both cobertura and surefire plugin are there tests will execute twice. To avoid that add execution phase as none in cobertura plugin like mentioned below:\r\n        \r\n\r\n    &lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;phase&gt;none&lt;/phase&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>If in your pom both cobertura and surefire plugin are there tests will execute twice. To avoid that add execution phase as none in cobertura plugin like mentioned below:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;cobertura-maven-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;none&lt;/phase&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2043778,"reputation":17800,"user_id":1824361,"accept_rate":80,"display_name":"Ahmed Nabil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654850083,"creation_date":1654850083,"answer_id":72571338,"question_id":38989221,"body_markdown":"In my case, I found that:  \r\nbecause of using `rerunFailingTestsCount` of `maven-surefire-plugin`, so in case of there is a failed test, it will be run again.\r\n\r\nBy the way:  \r\nI am against trying to re-run flaky test multiple times till success, instead we can resolve the root cause of it.\r\n\r\n\r\n    &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n            ...\r\n            &lt;!-- Workaround to make builds more stable while having flaky tests --&gt;\r\n            &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>In my case, I found that:<br />\nbecause of using <code>rerunFailingTestsCount</code> of <code>maven-surefire-plugin</code>, so in case of there is a failed test, it will be run again.</p>\n<p>By the way:<br />\nI am against trying to re-run flaky test multiple times till success, instead we can resolve the root cause of it.</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        ...\n        &lt;!-- Workaround to make builds more stable while having flaky tests --&gt;\n        &lt;rerunFailingTestsCount&gt;1&lt;/rerunFailingTestsCount&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27789515,"reputation":1,"user_id":21216230,"display_name":"Jek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676435584,"creation_date":1676435584,"answer_id":75455531,"question_id":38989221,"body_markdown":"I was able to do it by only running mvn surefire-report:report -DskipTests.\r\nit ran the whole soapui project- in my soapuimaven plugin configuration and then generated the surefire html report.\r\n","title":"How can I stop maven from running TEST twice?","body":"<p>I was able to do it by only running mvn surefire-report:report -DskipTests.\nit ran the whole soapui project- in my soapuimaven plugin configuration and then generated the surefire html report.</p>\n"}],"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13466,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":4,"score":18,"last_activity_date":1676435584,"creation_date":1471414207,"question_id":38989221,"body_markdown":"I have a big project with around 5000 test cases. When running `mvn clean install` it will run the `test` goal twice (one as part of the install and the second time as part of the `surefire` plugin).\r\n\r\nWhy it needs to run the `test` for the second time? And is there away to force `surefire` to use the `test` goal results instead of re-invoking it&#39;s own?\r\nI see it as a waste of time and machine resource, especially recently the second round of running the `test` caused a `PermGen` build error and no matter how much heap I pump into maven runner it still dies in the second testing round.\r\n\r\nThis is my surefire pluging configuration:\r\n\r\n     &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.18.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n           &lt;execution&gt;\r\n             &lt;id&gt;default-test&lt;/id&gt;\r\n             &lt;phase&gt;test&lt;/phase&gt;\r\n             &lt;goals&gt;\r\n                 &lt;goal&gt;test&lt;/goal&gt;\r\n             &lt;/goals&gt;\r\n             &lt;configuration&gt;\r\n                &lt;parallel&gt;classes&lt;/parallel&gt;\r\n                &lt;threadCount&gt;3&lt;/threadCount&gt;\r\n             &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n       &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nIs there a way to tweak the plugin to better handle machine resources?\r\n\r\nHere is the full default maven profile &lt;build&gt; which gets executed:\r\n\r\n    &lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;archive&gt;\r\n    \t\t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t\t&lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n    \t\t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t\t\t&lt;manifestEntries&gt;\r\n    \t\t\t\t\t\t&lt;Build-Number&gt;${build.number}&lt;/Build-Number&gt;\r\n    \t\t\t\t\t\t&lt;Job-Name&gt;${job.name}&lt;/Job-Name&gt;\r\n    \t\t\t\t\t\t&lt;Build-Url&gt;${build.url}&lt;/Build-Url&gt;\r\n    \t\t\t\t\t\t&lt;Git-Commit&gt;${git.commit}&lt;/Git-Commit&gt;\r\n    \t\t\t\t\t\t&lt;Git-Branch&gt;${git.branch}&lt;/Git-Branch&gt;\r\n    \t\t\t\t\t\t&lt;Timestamp&gt;${maven.build.timestamp}&lt;/Timestamp&gt;\r\n    \t\t\t\t\t\t&lt;StyleGuide-Version&gt;${styleguide.version}&lt;/StyleGuide-Version&gt;\r\n    \t\t\t\t\t&lt;/manifestEntries&gt;\r\n    \t\t\t\t&lt;/archive&gt;\r\n    \t\t\t\t&lt;warName&gt;pss&lt;/warName&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;com.cj.jshintmojo&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jshint-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.0&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;lint&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;options&gt;maxparams:5,camelcase,eqeqeq,forin,immed,latedef,noarg,noempty,nonew,expr&lt;/options&gt;\r\n    \t\t\t\t&lt;directories&gt;\r\n    \t\t\t\t\t&lt;directory&gt;src/main/webapp/js/page&lt;/directory&gt;\r\n    \t\t\t\t&lt;/directories&gt;\r\n    \t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/marketingPreferences.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/changeCarParkingDetails.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/angularjs-app.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/content-cover.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;src/main/webapp/js/page/amendmentConfirm.js&lt;/exclude&gt;\r\n    \t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.lesscss&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lesscss-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3.3&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;id&gt;bingleless&lt;/id&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;sourceDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/sourceDirectory&gt;\r\n    \t\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/outputDirectory&gt;\r\n    \t\t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t\t&lt;include&gt;**\\/policy-self-service\\/**\\/*pss-sg.less&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t\t&lt;compress&gt;true&lt;/compress&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;yuicompressor-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;compress&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/*.min.js&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/*.min.css&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/style-guide/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/generated/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/app-resources/common/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/app-resources/bower_components/**&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;exclude&gt;**/app-resources/policy-self-service/**&lt;/exclude&gt;\r\n    \t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;nosuffix&gt;true&lt;/nosuffix&gt;\r\n    \t\t\t\t&lt;jswarn&gt;false&lt;/jswarn&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;logViolationsToConsole&gt;true&lt;/logViolationsToConsole&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n    \t\t\t&lt;configuration&gt;\r\n    \t\t\t\t&lt;parallel&gt;classes&lt;/parallel&gt;\r\n    \t\t\t\t&lt;threadCount&gt;3&lt;/threadCount&gt;\r\n    \t\t\t&lt;/configuration&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t\t&lt;plugin&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${maven-surefire-report-plugin.version}&lt;/version&gt;\r\n    \t\t\t&lt;executions&gt;\r\n    \t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n    \t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t&lt;goal&gt;report-only&lt;/goal&gt;\r\n    \t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt;\r\n    \t\t\t&lt;/executions&gt;\r\n    \t\t&lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"How can I stop maven from running TEST twice?","body":"<p>I have a big project with around 5000 test cases. When running <code>mvn clean install</code> it will run the <code>test</code> goal twice (one as part of the install and the second time as part of the <code>surefire</code> plugin).</p>\n\n<p>Why it needs to run the <code>test</code> for the second time? And is there away to force <code>surefire</code> to use the <code>test</code> goal results instead of re-invoking it's own?\nI see it as a waste of time and machine resource, especially recently the second round of running the <code>test</code> caused a <code>PermGen</code> build error and no matter how much heap I pump into maven runner it still dies in the second testing round.</p>\n\n<p>This is my surefire pluging configuration:</p>\n\n<pre><code> &lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.18.1&lt;/version&gt;\n    &lt;executions&gt;\n       &lt;execution&gt;\n         &lt;id&gt;default-test&lt;/id&gt;\n         &lt;phase&gt;test&lt;/phase&gt;\n         &lt;goals&gt;\n             &lt;goal&gt;test&lt;/goal&gt;\n         &lt;/goals&gt;\n         &lt;configuration&gt;\n            &lt;parallel&gt;classes&lt;/parallel&gt;\n            &lt;threadCount&gt;3&lt;/threadCount&gt;\n         &lt;/configuration&gt;\n      &lt;/execution&gt;\n   &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Is there a way to tweak the plugin to better handle machine resources?</p>\n\n<p>Here is the full default maven profile  which gets executed:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                    &lt;/manifest&gt;\n                    &lt;manifestEntries&gt;\n                        &lt;Build-Number&gt;${build.number}&lt;/Build-Number&gt;\n                        &lt;Job-Name&gt;${job.name}&lt;/Job-Name&gt;\n                        &lt;Build-Url&gt;${build.url}&lt;/Build-Url&gt;\n                        &lt;Git-Commit&gt;${git.commit}&lt;/Git-Commit&gt;\n                        &lt;Git-Branch&gt;${git.branch}&lt;/Git-Branch&gt;\n                        &lt;Timestamp&gt;${maven.build.timestamp}&lt;/Timestamp&gt;\n                        &lt;StyleGuide-Version&gt;${styleguide.version}&lt;/StyleGuide-Version&gt;\n                    &lt;/manifestEntries&gt;\n                &lt;/archive&gt;\n                &lt;warName&gt;pss&lt;/warName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.cj.jshintmojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jshint-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;lint&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;options&gt;maxparams:5,camelcase,eqeqeq,forin,immed,latedef,noarg,noempty,nonew,expr&lt;/options&gt;\n                &lt;directories&gt;\n                    &lt;directory&gt;src/main/webapp/js/page&lt;/directory&gt;\n                &lt;/directories&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/marketingPreferences.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/changeCarParkingDetails.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/angularjs-app.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/content-cover.js&lt;/exclude&gt;\n                    &lt;exclude&gt;src/main/webapp/js/page/amendmentConfirm.js&lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.lesscss&lt;/groupId&gt;\n            &lt;artifactId&gt;lesscss-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;bingleless&lt;/id&gt;\n                    &lt;configuration&gt;\n                        &lt;sourceDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/sourceDirectory&gt;\n                        &lt;outputDirectory&gt;${project.basedir}/src/main/webapp/app-resources/&lt;/outputDirectory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;**\\/policy-self-service\\/**\\/*pss-sg.less&lt;/include&gt;\n                        &lt;/includes&gt;\n                        &lt;compress&gt;true&lt;/compress&gt;\n                    &lt;/configuration&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;net.alchim31.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;yuicompressor-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compress&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.min.js&lt;/exclude&gt;\n                    &lt;exclude&gt;**/*.min.css&lt;/exclude&gt;\n                    &lt;exclude&gt;**/style-guide/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/generated/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/app-resources/common/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/app-resources/bower_components/**&lt;/exclude&gt;\n                    &lt;exclude&gt;**/app-resources/policy-self-service/**&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;nosuffix&gt;true&lt;/nosuffix&gt;\n                &lt;jswarn&gt;false&lt;/jswarn&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;logViolationsToConsole&gt;true&lt;/logViolationsToConsole&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;parallel&gt;classes&lt;/parallel&gt;\n                &lt;threadCount&gt;3&lt;/threadCount&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-report-plugin.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report-only&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":["java","android","mvvm","android-xml","android-databinding"],"answers":[{"tags":[],"owner":{"account_id":22415217,"reputation":185,"user_id":16623378,"display_name":"Quốc H&#249;ng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676433904,"creation_date":1676433904,"answer_id":75455378,"question_id":37127567,"body_markdown":"For me, I solve the updating items of `RecyclerView` using `@BindingAdapter`:\r\n\r\nBuild base adapter:\r\n```kotlin\r\nabstract class BaseAdapter&lt;Item, VH : ViewHolder&gt; : Adapter&lt;VH&gt;() {\r\n    abstract fun setItems(items: List&lt;Item&gt;)\r\n}\r\n\r\n\r\n@BindingAdapter(&quot;items&quot;)\r\nfun &lt;Item&gt; updateItems(view: RecyclerView, items: List&lt;Item&gt;) {\r\n    (view.adapter as? BaseAdapter&lt;Item, in ViewHolder&gt;)?.setItems(items)\r\n}\r\n```\r\n\r\nCall on binding:\r\n```xml\r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            app:layoutManager=&quot;@{layoutManager}&quot;\r\n            android:adapter=&quot;@{adapter}&quot;\r\n            items=&quot;@{viewModel.items}&quot;/&gt;\r\n```","title":"How do I use Android data binding to populate a list?","body":"<p>For me, I solve the updating items of <code>RecyclerView</code> using <code>@BindingAdapter</code>:</p>\n<p>Build base adapter:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>abstract class BaseAdapter&lt;Item, VH : ViewHolder&gt; : Adapter&lt;VH&gt;() {\n    abstract fun setItems(items: List&lt;Item&gt;)\n}\n\n\n@BindingAdapter(&quot;items&quot;)\nfun &lt;Item&gt; updateItems(view: RecyclerView, items: List&lt;Item&gt;) {\n    (view.adapter as? BaseAdapter&lt;Item, in ViewHolder&gt;)?.setItems(items)\n}\n</code></pre>\n<p>Call on binding:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            app:layoutManager=&quot;@{layoutManager}&quot;\n            android:adapter=&quot;@{adapter}&quot;\n            items=&quot;@{viewModel.items}&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":1512052,"reputation":907,"user_id":1413900,"accept_rate":61,"display_name":"Travis Well"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1676433904,"creation_date":1462841099,"question_id":37127567,"body_markdown":"I can get POJOs out of my ORM (Cupboard), but I can&#39;t figure out how to write the xml to bind to such a list. All the examples are singular except for [a very brief mention of using them inside a ListView or RecyclerView][1]. So I&#39;ve tried having a singular binding in an xml file that I &quot;inflate&quot; again for each item. That code follows:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private void listThings() {\r\n  \r\n      LinearLayout gList = (LinearLayout) findViewById(R.id.thingList);\r\n      gList.removeAllViews();\r\n  \r\n      SQLiteDatabase db = new CGDatabaseHandler(gList.getContext()).getReadableDatabase();\r\n      DatabaseCompartment dbc = cupboard().withDatabase(db);\r\n  \r\n      QueryResultIterable&lt;Thing&gt; itr = null;\r\n      try {\r\n        itr = dbc.query(Thing.class).query();\r\n  \r\n        for (Thing thing : itr) {\r\n          // use data binding to create a UI widget for each\r\n          LayoutInflater inflater = (LayoutInflater) getBaseContext()\r\n              .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n          ThingDocumentLabelBinding binding = DataBindingUtil.inflate(inflater,\r\n              R.layout.thing_document_label, gList, false);\r\n          binding.setThing(thing);\r\n          // \r\n          gList.addView(binding.getRoot());\r\n        }\r\n      } finally {\r\n        // close the cursor\r\n        if (itr != null)\r\n          itr.close();\r\n      }\r\n    }\r\n\r\nI am aware that this uses a LinearLayout not a ListView or RecyclerView. What&#39;s the difference? I couldn&#39;t get anything at all to show up in a ListView. ListView also doesn&#39;t seem to support clearing the list with removeAllViews.\r\nAnd here is the XML for the file thing_document_label.xml\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n    \r\n      &lt;data&gt;\r\n        &lt;variable\r\n            name=&quot;thing&quot;\r\n            type=&quot;com.example.Thing&quot;/&gt;\r\n      &lt;/data&gt;\r\n    \r\n      &lt;TextView android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:paddingBottom=&quot;20dp&quot;\r\n                android:paddingTop=&quot;20dp&quot;\r\n                android:text=&quot;@{@string/thing_document_label(thing.gName, thing.dstName, thing.property3)}&quot;\r\n          &gt;\r\n    \r\n      &lt;/TextView&gt;\r\n    &lt;/layout&gt;\r\n\r\nWhat I get is a single TextView showing in my LinearLayout. I should be seeing six of them. I had them showing up before I started trying to do data-binding. I had just subclassed TextView and instantiated them in the same loop shown here. That worked fine, but I&#39;m in the beginning stages of this app and I want to standardize on data-binding if possible.\r\n\r\n\r\n  [1]: https://developer.android.com/tools/data-binding/guide.html#binding_data","title":"How do I use Android data binding to populate a list?","body":"<p>I can get POJOs out of my ORM (Cupboard), but I can't figure out how to write the xml to bind to such a list. All the examples are singular except for <a href=\"https://developer.android.com/tools/data-binding/guide.html#binding_data\" rel=\"nofollow\">a very brief mention of using them inside a ListView or RecyclerView</a>. So I've tried having a singular binding in an xml file that I \"inflate\" again for each item. That code follows:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private void listThings() {\n\n  LinearLayout gList = (LinearLayout) findViewById(R.id.thingList);\n  gList.removeAllViews();\n\n  SQLiteDatabase db = new CGDatabaseHandler(gList.getContext()).getReadableDatabase();\n  DatabaseCompartment dbc = cupboard().withDatabase(db);\n\n  QueryResultIterable&lt;Thing&gt; itr = null;\n  try {\n    itr = dbc.query(Thing.class).query();\n\n    for (Thing thing : itr) {\n      // use data binding to create a UI widget for each\n      LayoutInflater inflater = (LayoutInflater) getBaseContext()\n          .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n      ThingDocumentLabelBinding binding = DataBindingUtil.inflate(inflater,\n          R.layout.thing_document_label, gList, false);\n      binding.setThing(thing);\n      // \n      gList.addView(binding.getRoot());\n    }\n  } finally {\n    // close the cursor\n    if (itr != null)\n      itr.close();\n  }\n}\n</code></pre>\n\n<p>I am aware that this uses a LinearLayout not a ListView or RecyclerView. What's the difference? I couldn't get anything at all to show up in a ListView. ListView also doesn't seem to support clearing the list with removeAllViews.\nAnd here is the XML for the file thing_document_label.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n  &lt;data&gt;\n    &lt;variable\n        name=\"thing\"\n        type=\"com.example.Thing\"/&gt;\n  &lt;/data&gt;\n\n  &lt;TextView android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:paddingBottom=\"20dp\"\n            android:paddingTop=\"20dp\"\n            android:text=\"@{@string/thing_document_label(thing.gName, thing.dstName, thing.property3)}\"\n      &gt;\n\n  &lt;/TextView&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>What I get is a single TextView showing in my LinearLayout. I should be seeing six of them. I had them showing up before I started trying to do data-binding. I had just subclassed TextView and instantiated them in the same loop shown here. That worked fine, but I'm in the beginning stages of this app and I want to standardize on data-binding if possible.</p>\n"},{"tags":["java","json","spring-boot","jackson"],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676433271,"creation_date":1676433271,"question_id":75455340,"body_markdown":"I am trying to map a JsonNode to a 3rd-party object using Jackson&#39;s ObjectMapper. The target class is `HikariConfig.class` and has a default constructor and getter and setter for all necessary properties. The class contains complex data structures like ThreadFactory or ScheduledExecutorService. The project framework is Spring Boot 3.0.2 (version numbers predefined by Spring Boot: Tomcat 10.1.5, Jackson 2.14.1, Hikari 5.0.1).\r\n\r\nThe JsonNode is flat structured and looks like this:\r\n```json\r\n{\r\n  &quot;jdbcUrl&quot;: &quot;jdbc:h2:mem:example-db&quot;,\r\n  &quot;driverClassName&quot;: &quot;org.h2.Driver&quot;,\r\n  &quot;username&quot;: &quot;sa&quot;,\r\n}\r\n```\r\n\r\nSince unknown properties are not to be processed, and also in order to ignore the complex data structures, a Mixin comes into play:\r\n```java\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\nprivate static abstract class HikariConfigMixin {\r\n\r\n    @JsonIgnore private static char[] ID_CHARACTERS;\r\n    @JsonIgnore private DataSource dataSource;\r\n    @JsonIgnore private Properties dataSourceProperties;\r\n    @JsonIgnore private ThreadFactory threadFactory;\r\n    @JsonIgnore private ScheduledExecutorService scheduledExecutor;\r\n    @JsonIgnore private MetricsTrackerFactory metricsTrackerFactory;\r\n    @JsonIgnore private Object metricRegistry;\r\n    @JsonIgnore private Object healthCheckRegistry;\r\n    @JsonIgnore private Properties healthCheckProperties;\r\n}\r\n\r\n```\r\n\r\nAnd here now the usage of the ObjectMapper:\r\n```java\r\nHikariConfig config = new ObjectMapper()\r\n        .addMixIn(HikariConfig.class, HikariConfigMixin.class)\r\n        .readerFor(HikariConfig.class)\r\n        .readValue(jsonNode);\r\n```\r\n\r\nUnfortunately this will throw the following error:\r\n```error\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\r\n```\r\n\r\nHere the complete stack strace:\r\n```error\r\n2023-02-15 04:10:24,988 main ERROR An exception occurred processing Appender DataBase org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.ExceptionInInitializerError\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:683)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:641)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:624)\r\n\tat org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:560)\r\n\tat org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\r\n\tat org.apache.logging.log4j.core.Logger.log(Logger.java:162)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\r\n\tat org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\r\n\tat org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\r\n\tat org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\r\n\tat org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:614)\r\n\tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:387)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\r\n\tat com.example.Application.main(Application.java:16)\r\nCaused by: java.lang.ExceptionInInitializerError\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource$1.getConnection(FactoryMethodConnectionSource.java:105)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource.getConnection(FactoryMethodConnectionSource.java:53)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndPrepare(JdbcDatabaseManager.java:592)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndStart(JdbcDatabaseManager.java:613)\r\n\tat org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.writeThrough(JdbcDatabaseManager.java:888)\r\n\tat org.apache.logging.log4j.core.appender.db.AbstractDatabaseManager.write(AbstractDatabaseManager.java:298)\r\n\tat org.apache.logging.log4j.core.appender.db.AbstractDatabaseAppender.append(AbstractDatabaseAppender.java:110)\r\n\tat org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\r\n\t... 23 more\r\nCaused by: java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n\tat com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:210)\r\n\tat com.example.config.Log4j2ConnectionFactory.&lt;clinit&gt;(Log4j2ConnectionFactory.java:73)\r\n\t... 35 more\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\r\n\tat com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.reportBadTypeDefinition(DeserializationContext.java:1887)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.SubTypeValidator.validateSubType(SubTypeValidator.java:302)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory._validateSubType(BeanDeserializerFactory.java:1032)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:415)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:350)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:648)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._findRootDeserializer(ObjectReader.java:2386)\r\n\tat com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2105)\r\n\tat com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1724)\r\n\tat com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:198)\r\n\t... 36 more\r\n```\r\nBy the way, the exact same error is thrown even if no Mixin is applied.\r\n\r\n&lt;h2&gt;My question:&lt;/h2&gt;\r\nCan anyone tell why `com.zaxxer.hikari.HikariConfig` is an illegal type that must not be deserialized for security reasons and how to fix this?\r\n\r\n&lt;p&gt;&lt;br/&gt;\r\n&lt;b&gt;Many thanks for any help&lt;/b&gt;\r\n","title":"How to resolve Jackson Databind InvalidDefinitionException: Invalid type definition for type (Illegal type to deserialize)?","body":"<p>I am trying to map a JsonNode to a 3rd-party object using Jackson's ObjectMapper. The target class is <code>HikariConfig.class</code> and has a default constructor and getter and setter for all necessary properties. The class contains complex data structures like ThreadFactory or ScheduledExecutorService. The project framework is Spring Boot 3.0.2 (version numbers predefined by Spring Boot: Tomcat 10.1.5, Jackson 2.14.1, Hikari 5.0.1).</p>\n<p>The JsonNode is flat structured and looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;jdbcUrl&quot;: &quot;jdbc:h2:mem:example-db&quot;,\n  &quot;driverClassName&quot;: &quot;org.h2.Driver&quot;,\n  &quot;username&quot;: &quot;sa&quot;,\n}\n</code></pre>\n<p>Since unknown properties are not to be processed, and also in order to ignore the complex data structures, a Mixin comes into play:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties(ignoreUnknown = true)\nprivate static abstract class HikariConfigMixin {\n\n    @JsonIgnore private static char[] ID_CHARACTERS;\n    @JsonIgnore private DataSource dataSource;\n    @JsonIgnore private Properties dataSourceProperties;\n    @JsonIgnore private ThreadFactory threadFactory;\n    @JsonIgnore private ScheduledExecutorService scheduledExecutor;\n    @JsonIgnore private MetricsTrackerFactory metricsTrackerFactory;\n    @JsonIgnore private Object metricRegistry;\n    @JsonIgnore private Object healthCheckRegistry;\n    @JsonIgnore private Properties healthCheckProperties;\n}\n\n</code></pre>\n<p>And here now the usage of the ObjectMapper:</p>\n<pre class=\"lang-java prettyprint-override\"><code>HikariConfig config = new ObjectMapper()\n        .addMixIn(HikariConfig.class, HikariConfigMixin.class)\n        .readerFor(HikariConfig.class)\n        .readValue(jsonNode);\n</code></pre>\n<p>Unfortunately this will throw the following error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\n</code></pre>\n<p>Here the complete stack strace:</p>\n<pre><code>2023-02-15 04:10:24,988 main ERROR An exception occurred processing Appender DataBase org.apache.logging.log4j.core.appender.AppenderLoggingException: java.lang.ExceptionInInitializerError\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:165)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender0(AppenderControl.java:134)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppenderPreventRecursion(AppenderControl.java:125)\n    at org.apache.logging.log4j.core.config.AppenderControl.callAppender(AppenderControl.java:89)\n    at org.apache.logging.log4j.core.config.LoggerConfig.callAppenders(LoggerConfig.java:683)\n    at org.apache.logging.log4j.core.config.LoggerConfig.processLogEvent(LoggerConfig.java:641)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:624)\n    at org.apache.logging.log4j.core.config.LoggerConfig.log(LoggerConfig.java:560)\n    at org.apache.logging.log4j.core.config.AwaitCompletionReliabilityStrategy.log(AwaitCompletionReliabilityStrategy.java:82)\n    at org.apache.logging.log4j.core.Logger.log(Logger.java:162)\n    at org.apache.logging.log4j.spi.AbstractLogger.tryLogMessage(AbstractLogger.java:2205)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageTrackRecursion(AbstractLogger.java:2159)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessageSafely(AbstractLogger.java:2142)\n    at org.apache.logging.log4j.spi.AbstractLogger.logMessage(AbstractLogger.java:1994)\n    at org.apache.logging.log4j.spi.AbstractLogger.logIfEnabled(AbstractLogger.java:1852)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.log(LogAdapter.java:261)\n    at org.apache.commons.logging.LogAdapter$Log4jLog.info(LogAdapter.java:221)\n    at org.springframework.boot.StartupInfoLogger.logStarting(StartupInfoLogger.java:51)\n    at org.springframework.boot.SpringApplication.logStartupInfo(SpringApplication.java:614)\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:387)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291)\n    at com.example.Application.main(Application.java:16)\nCaused by: java.lang.ExceptionInInitializerError\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource$1.getConnection(FactoryMethodConnectionSource.java:105)\n    at org.apache.logging.log4j.core.appender.db.jdbc.FactoryMethodConnectionSource.getConnection(FactoryMethodConnectionSource.java:53)\n    at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndPrepare(JdbcDatabaseManager.java:592)\n    at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.connectAndStart(JdbcDatabaseManager.java:613)\n    at org.apache.logging.log4j.core.appender.db.jdbc.JdbcDatabaseManager.writeThrough(JdbcDatabaseManager.java:888)\n    at org.apache.logging.log4j.core.appender.db.AbstractDatabaseManager.write(AbstractDatabaseManager.java:298)\n    at org.apache.logging.log4j.core.appender.db.AbstractDatabaseAppender.append(AbstractDatabaseAppender.java:110)\n    at org.apache.logging.log4j.core.config.AppenderControl.tryCallAppender(AppenderControl.java:161)\n    ... 23 more\nCaused by: java.lang.RuntimeException: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n    at com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:210)\n    at com.example.config.Log4j2ConnectionFactory.&lt;clinit&gt;(Log4j2ConnectionFactory.java:73)\n    ... 35 more\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Invalid type definition for type `com.zaxxer.hikari.HikariConfig`: Illegal type (com.zaxxer.hikari.HikariConfig) to deserialize: prevented for security reasons\n at [Source: UNKNOWN; byte offset: #UNKNOWN]\n    at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:62)\n    at com.fasterxml.jackson.databind.DeserializationContext.reportBadTypeDefinition(DeserializationContext.java:1887)\n    at com.fasterxml.jackson.databind.jsontype.impl.SubTypeValidator.validateSubType(SubTypeValidator.java:302)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory._validateSubType(BeanDeserializerFactory.java:1032)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerFactory.createBeanDeserializer(BeanDeserializerFactory.java:141)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer2(DeserializerCache.java:415)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createDeserializer(DeserializerCache.java:350)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:264)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\n    at com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\n    at com.fasterxml.jackson.databind.DeserializationContext.findRootValueDeserializer(DeserializationContext.java:648)\n    at com.fasterxml.jackson.databind.ObjectReader._findRootDeserializer(ObjectReader.java:2386)\n    at com.fasterxml.jackson.databind.ObjectReader._bindAndClose(ObjectReader.java:2105)\n    at com.fasterxml.jackson.databind.ObjectReader.readValue(ObjectReader.java:1724)\n    at com.example.config.Log4j2ConnectionFactory.mixin(Log4j2ConnectionFactory.java:198)\n    ... 36 more\n</code></pre>\n<p>By the way, the exact same error is thrown even if no Mixin is applied.</p>\n<h2>My question:</h2>\nCan anyone tell why `com.zaxxer.hikari.HikariConfig` is an illegal type that must not be deserialized for security reasons and how to fix this?\n<p><br/>\n<b>Many thanks for any help</b>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":13317882,"reputation":11,"user_id":9613619,"display_name":"leowangzz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676432989,"creation_date":1676432989,"answer_id":75455317,"question_id":75435470,"body_markdown":"My problem is solved. In response to this problem, I was inspired by the following link:[Gradle Plugins Offline Resolution][1]\r\n\r\n\r\nIn this answer from the gradle community, I learned how gradle parses plugins: `${pluginId}:${pluginId}.gradle.plugin:${pluginVersion}`.\r\nSo I changed the plugins in the plugins directory to the corresponding format.\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\r\n    }\r\n}\r\n```\r\nBut then I ran into a new problem when I executed`gradlew --offline bootJar` with the error:\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\norg/springframework/boot/loader/tools/MainClassFinder\r\n&gt; org.springframework.boot.loader.tools.MainClassFinder\r\n```\r\nSo I used org.springframework.boot.loader.tools.MainClassFinder class Google search, found that is spring-boot-loader-tools the contents of the jar package, I then added this jar to the plugins, and change the `buildscript {...} block`\r\n```\r\nbuildscript {\r\n    dependencies {\r\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:spring-boot-loader-tools:2.2.0.RELEASE&quot;\r\n    }\r\n}\r\n```\r\nNow it works on my Mac.\r\nBut when I put the project on an environment without internet (the build environment of the final project is no internet), there are other problems, similar to a class not being found. I guess this kind of problem is the bootJar plugin execution can not find the relevant dependencies, so I copied the `.m2` file from my mac, and finally built and ran successfully.\r\n\r\nSo to summarize, there are two problems: \r\n1. plugins directory plug-in name and gradle for the resolution of the plug-in name does not match\r\n2. in addition to the plugins specified in buildscript{}, the plugins&#39; related dependencies (there may be many) also need to be found in the environment.\r\nWhy did I copy the .m2 over instead of putting all the related dependencies into plugins? Because there are too many dependencies...\r\n\r\n\r\n  [1]: https://discuss.gradle.org/t/gradle-plugins-offline-resolution/28161","title":"How to specify local plugins when building with gradle offline mode?","body":"<p>My problem is solved. In response to this problem, I was inspired by the following link:<a href=\"https://discuss.gradle.org/t/gradle-plugins-offline-resolution/28161\" rel=\"nofollow noreferrer\">Gradle Plugins Offline Resolution</a></p>\n<p>In this answer from the gradle community, I learned how gradle parses plugins: <code>${pluginId}:${pluginId}.gradle.plugin:${pluginVersion}</code>.\nSo I changed the plugins in the plugins directory to the corresponding format.</p>\n<pre><code>buildscript {\n    dependencies {\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\n    }\n}\n</code></pre>\n<p>But then I ran into a new problem when I executed<code>gradlew --offline bootJar</code> with the error:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\norg/springframework/boot/loader/tools/MainClassFinder\n&gt; org.springframework.boot.loader.tools.MainClassFinder\n</code></pre>\n<p>So I used org.springframework.boot.loader.tools.MainClassFinder class Google search, found that is spring-boot-loader-tools the contents of the jar package, I then added this jar to the plugins, and change the <code>buildscript {...} block</code></p>\n<pre><code>buildscript {\n    dependencies {\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.8.RELEASE&quot;\n        classpath &quot;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&quot;\n        classpath &quot;org.springframework.boot:spring-boot-loader-tools:2.2.0.RELEASE&quot;\n    }\n}\n</code></pre>\n<p>Now it works on my Mac.\nBut when I put the project on an environment without internet (the build environment of the final project is no internet), there are other problems, similar to a class not being found. I guess this kind of problem is the bootJar plugin execution can not find the relevant dependencies, so I copied the <code>.m2</code> file from my mac, and finally built and ran successfully.</p>\n<p>So to summarize, there are two problems:</p>\n<ol>\n<li>plugins directory plug-in name and gradle for the resolution of the plug-in name does not match</li>\n<li>in addition to the plugins specified in buildscript{}, the plugins' related dependencies (there may be many) also need to be found in the environment.\nWhy did I copy the .m2 over instead of putting all the related dependencies into plugins? Because there are too many dependencies...</li>\n</ol>\n"}],"owner":{"account_id":13317882,"reputation":11,"user_id":9613619,"display_name":"leowangzz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676432989,"creation_date":1676288869,"question_id":75435470,"body_markdown":"I used gradle to build the project in an environment without internet, and I put all the project dependencies into the libs directory in the project root, and everything worked fine. Because it is a spring-boot project, I need to package it with the gradle plugin org.springframework.boot, so I put the jar of the plugin spring-boot-gradle-plugin-2.2.0.RELEASE.jar into the project&#39;s But I have used many ways from the Internet to specify the plugins in the plugins directory, but none of them work.\r\n\r\nThe project directory is as follows:\r\n\r\n    projectRoot\r\n    ├── build.gradle\r\n    ├── gradle\r\n    │&#160;&#160; └── wrapper\r\n    ├── gradlew\r\n    ├── gradlew.bat\r\n    ├── libs\r\n    │&#160;&#160; └── xxx.jar\r\n    ├── plugins\r\n    │&#160;&#160; ├── dependency-management-plugin-1.0.11.RELEASE.jar\r\n    │&#160;&#160; └── spring-boot-gradle-plugin-2.2.0.RELEASE.jar\r\n    ├── resource\r\n    ├── settings.gradle\r\n    └── src\r\n        ├── main\r\n        └── test\r\n\r\n\r\nAnd the settings.gradle file is as follows:\r\n```\r\npluginManagement {\r\n    repositories {\r\n        mavenLocal()\r\n        flatDir { dirs &#39;plugins&#39; }\r\n    }\r\n\r\n}\r\nrootProject.name = &#39;example&#39;\r\n```\r\n\r\nAnd the build.gradle file is as follows:\r\n```\r\nplugins {\r\n    id &#39;org.springframework.boot&#39; version &#39;2.2.0.RELEASE&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    id &#39;java&#39;\r\n}\r\n\r\napply plugin: &#39;org.springframework.boot&#39;\r\napply plugin: &#39;io.spring.dependency-management&#39;\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;1.0.0-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nrepositories {\r\n    mavenLocal()\r\n}\r\n\r\ndependencies {\r\n    implementation files(&#39;libs/xxx.jar&#39;,&#39;libs/others_of_libs.jar&#39;)\r\n}\r\n```\r\n\r\nBut when I execute it via offline mode:`./gradlew build --offline `,I get the following error:\r\n```\r\nPlugin [id: &#39;org.springframework.boot&#39;, version: &#39;2.2.0.RELEASE&#39;] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE&#39;)\r\n  Searched in the following repositories:\r\n    maven(file:/User/myName/example/plugins/)\r\n```\r\nHow exactly is this situation specified? Do I need to install the two jars in the plugins directory to the local maven repository?\r\n\r\n\r\nI have found many ways to compile specified plugins offline on the web, including this:\r\n\r\n```\r\n    buildscript {\r\n\r\n    repositories {\r\n        mavenLocal()\r\n        maven { url(&#39;plugins&#39;) }\r\n    }\r\n\r\n    dependencies {\r\n        classpath fileTree(include: [&#39;*.jar&#39;], dir: &#39;plugins&#39;)\r\n        classpath files(&#39;plugins/dependency-management-plugin-1.0.11.RELEASE.jar&#39;)\r\n        classpath files(&#39;plugins/spring-boot-gradle-plugin-2.2.0.RELEASE.jar&#39;)\r\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.11.RELEASE&quot;\r\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.0.RELEASE&quot;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI still get the same error.","title":"How to specify local plugins when building with gradle offline mode?","body":"<p>I used gradle to build the project in an environment without internet, and I put all the project dependencies into the libs directory in the project root, and everything worked fine. Because it is a spring-boot project, I need to package it with the gradle plugin org.springframework.boot, so I put the jar of the plugin spring-boot-gradle-plugin-2.2.0.RELEASE.jar into the project's But I have used many ways from the Internet to specify the plugins in the plugins directory, but none of them work.</p>\n<p>The project directory is as follows:</p>\n<pre><code>projectRoot\n├── build.gradle\n├── gradle\n│   └── wrapper\n├── gradlew\n├── gradlew.bat\n├── libs\n│   └── xxx.jar\n├── plugins\n│   ├── dependency-management-plugin-1.0.11.RELEASE.jar\n│   └── spring-boot-gradle-plugin-2.2.0.RELEASE.jar\n├── resource\n├── settings.gradle\n└── src\n    ├── main\n    └── test\n</code></pre>\n<p>And the settings.gradle file is as follows:</p>\n<pre><code>pluginManagement {\n    repositories {\n        mavenLocal()\n        flatDir { dirs 'plugins' }\n    }\n\n}\nrootProject.name = 'example'\n</code></pre>\n<p>And the build.gradle file is as follows:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.0.RELEASE'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.example'\nversion = '1.0.0-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nrepositories {\n    mavenLocal()\n}\n\ndependencies {\n    implementation files('libs/xxx.jar','libs/others_of_libs.jar')\n}\n</code></pre>\n<p>But when I execute it via offline mode:<code>./gradlew build --offline </code>,I get the following error:</p>\n<pre><code>Plugin [id: 'org.springframework.boot', version: '2.2.0.RELEASE'] was not found in any of the following sources:\n\n- Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n- Plugin Repositories (could not resolve plugin artifact 'org.springframework.boot:org.springframework.boot.gradle.plugin:2.2.0.RELEASE')\n  Searched in the following repositories:\n    maven(file:/User/myName/example/plugins/)\n</code></pre>\n<p>How exactly is this situation specified? Do I need to install the two jars in the plugins directory to the local maven repository?</p>\n<p>I have found many ways to compile specified plugins offline on the web, including this:</p>\n<pre><code>    buildscript {\n\n    repositories {\n        mavenLocal()\n        maven { url('plugins') }\n    }\n\n    dependencies {\n        classpath fileTree(include: ['*.jar'], dir: 'plugins')\n        classpath files('plugins/dependency-management-plugin-1.0.11.RELEASE.jar')\n        classpath files('plugins/spring-boot-gradle-plugin-2.2.0.RELEASE.jar')\n        classpath &quot;io.spring.dependency-management:io.spring.dependency-management.gradle.plugin:1.0.11.RELEASE&quot;\n        classpath &quot;org.springframework.boot:spring-boot-gradle-plugin:2.2.0.RELEASE&quot;\n    }\n\n}\n</code></pre>\n<p>I still get the same error.</p>\n"},{"tags":["java","properties","ant","task","build.xml"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1676430111,"post_id":75455117,"comment_id":133133832,"body_markdown":"This is not clear.  `resultproperty` doesn&#39;t appear anywhere in the code you shared.","body":"This is not clear.  <code>resultproperty</code> doesn&#39;t appear anywhere in the code you shared."},{"owner":{"account_id":15525839,"reputation":1,"user_id":11200669,"display_name":"Yuki Yasha"},"score":0,"creation_date":1676452207,"post_id":75455117,"comment_id":133137528,"body_markdown":"@JimGarrison I mean `resultproperty` can get only 1 value so I don&#39;t use it in my code.","body":"@JimGarrison I mean <code>resultproperty</code> can get only 1 value so I don&#39;t use it in my code."}],"owner":{"account_id":15525839,"reputation":1,"user_id":11200669,"display_name":"Yuki Yasha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676431647,"creation_date":1676429730,"question_id":75455117,"body_markdown":"exampleClass.java\r\n```\r\nString key1 = &quot;my.test.key1&quot;;\r\nString value1 = &quot;my.test.value1&quot;;\r\nString key2 = &quot;my.test.key2&quot;;\r\nString value2 = &quot;my.test.value2&quot;;\r\n\r\nProperties systemProperties = System.getProperties();\r\nsystemProperties.put(key1, value1);\r\nsystemProperties.put(key2, value2);\r\nSystem.setProperties(systemProperties);\r\n```\r\n\r\nbuild.xml\r\n```\r\n  &lt;macrodef name=&quot;nexDecryptingPwds&quot;&gt;\r\n    &lt;sequential&gt;\r\n      &lt;java classname=&quot;my.util.exec.exampleClass&quot; fork=&quot;true&quot; failonerror=&quot;false&quot;&gt;\r\n        &lt;classpath&gt;\r\n          &lt;fileset dir=&quot;${install.dir}/lib/&quot;&gt;\r\n            &lt;include name=&quot;**/*.jar&quot; /&gt;\r\n          &lt;/fileset&gt;\r\n          &lt;pathelement location=&quot;${basedir}&quot; /&gt;\r\n        &lt;/classpath&gt;\r\n      &lt;/java&gt;\r\n    &lt;/sequential&gt;\r\n  &lt;/macrodef&gt;\r\n\r\n&lt;echo message=&quot;my.test.key1: ${my.test.key1}&quot; /&gt;\r\n&lt;echo message=&quot;my.test.key2: ${my.test.key2}&quot; /&gt;\r\n```\r\n\r\nHow can I get the value of both keys above?\r\nThe attribute &#39;resultproperty&#39; can get only 1 value at a time.","title":"How can get multi value from java class and use it as property in ant task (build.xml)","body":"<p>exampleClass.java</p>\n<pre><code>String key1 = &quot;my.test.key1&quot;;\nString value1 = &quot;my.test.value1&quot;;\nString key2 = &quot;my.test.key2&quot;;\nString value2 = &quot;my.test.value2&quot;;\n\nProperties systemProperties = System.getProperties();\nsystemProperties.put(key1, value1);\nsystemProperties.put(key2, value2);\nSystem.setProperties(systemProperties);\n</code></pre>\n<p>build.xml</p>\n<pre><code>  &lt;macrodef name=&quot;nexDecryptingPwds&quot;&gt;\n    &lt;sequential&gt;\n      &lt;java classname=&quot;my.util.exec.exampleClass&quot; fork=&quot;true&quot; failonerror=&quot;false&quot;&gt;\n        &lt;classpath&gt;\n          &lt;fileset dir=&quot;${install.dir}/lib/&quot;&gt;\n            &lt;include name=&quot;**/*.jar&quot; /&gt;\n          &lt;/fileset&gt;\n          &lt;pathelement location=&quot;${basedir}&quot; /&gt;\n        &lt;/classpath&gt;\n      &lt;/java&gt;\n    &lt;/sequential&gt;\n  &lt;/macrodef&gt;\n\n&lt;echo message=&quot;my.test.key1: ${my.test.key1}&quot; /&gt;\n&lt;echo message=&quot;my.test.key2: ${my.test.key2}&quot; /&gt;\n</code></pre>\n<p>How can I get the value of both keys above?\nThe attribute 'resultproperty' can get only 1 value at a time.</p>\n"},{"tags":["java","selenium","testing","testng","testng-dataprovider"],"answers":[{"tags":[],"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676431220,"creation_date":1676431220,"answer_id":75455210,"question_id":75404521,"body_markdown":"If there are no restrictions to convert your tests into individual methods, the above ask can be achieved using below approach. Let me know if this helps. \r\n\r\n\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.DataProvider;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class StackTest {\r\n    \t\r\n    \t@DataProvider\r\n    \tpublic Object[][] returnData(){\r\n    \t\treturn new Object [][]{{&quot;Input 1&quot;}, {&quot;Input 2&quot;}};\r\n    \t}\r\n    \t\r\n    \t@Test(dataProvider=&quot;returnData&quot;)\r\n    \tpublic void iterativeTest(String val) {\r\n    \t\tSystem.out.println(&quot;This is from returned Data : &quot;+ val);\r\n    \t\tdp1(val);\r\n    \t\tdp2(val);\r\n    \t}\r\n    \t\r\n    \tpublic void dp1(String val) {\r\n    \t\tSystem.out.println(&quot;Value from dp1 : &quot;+ val);\r\n    \t}\r\n    \t\r\n    \tpublic void dp2(String val) {\r\n    \t\tSystem.out.println(&quot;Value from dp2 : &quot;+ val);\r\n    \t\tAssert.assertEquals(true, true);\r\n    \t}\r\n    }","title":"Run every test for a single instance of @DataProvider using a @Factory","body":"<p>If there are no restrictions to convert your tests into individual methods, the above ask can be achieved using below approach. Let me know if this helps.</p>\n<pre><code>import org.testng.Assert;\nimport org.testng.annotations.DataProvider;\nimport org.testng.annotations.Test;\n\npublic class StackTest {\n    \n    @DataProvider\n    public Object[][] returnData(){\n        return new Object [][]{{&quot;Input 1&quot;}, {&quot;Input 2&quot;}};\n    }\n    \n    @Test(dataProvider=&quot;returnData&quot;)\n    public void iterativeTest(String val) {\n        System.out.println(&quot;This is from returned Data : &quot;+ val);\n        dp1(val);\n        dp2(val);\n    }\n    \n    public void dp1(String val) {\n        System.out.println(&quot;Value from dp1 : &quot;+ val);\n    }\n    \n    public void dp2(String val) {\n        System.out.println(&quot;Value from dp2 : &quot;+ val);\n        Assert.assertEquals(true, true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24826914,"reputation":21,"user_id":18706576,"display_name":"Ben Freeman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75455210,"answer_count":1,"score":0,"last_activity_date":1676431220,"creation_date":1675977637,"question_id":75404521,"body_markdown":"I have a test class with about 5+ tests in it that I want to run once for each url sequentially.  For example: \r\n\r\n&gt; URL 1 From @DataProvider:  \r\nTest 1: Pass  \r\nTest 2: Fail  \r\nTest 3: Fail  \r\nTest 4: Pass  \r\nURL 2 From @DataProvider:  \r\nTest 1: Pass  \r\nTest 2: Fail  \r\nTest 3: Fail  \r\nTest 4: Pass  \r\n&gt; \r\nInstead of how it is currently:\r\n&gt; URL 1:  \r\nTest 1: Pass   \r\nURL 2:  \r\nTest 1: Pass  \r\nURL 1:  \r\nTest 2: Fail  \r\nURL 2:  \r\nTest 2: Fail \r\netc.\r\n&gt; \r\nI&#39;m pulling the URLs from an excel sheet in my DataProvider like so: \r\n\r\n    @DataProvider\r\n    public Object[][] urlDataProvider() throws Exception {\r\n        File file = new File(&quot;ExampleClients.xlsx&quot;);\r\n        FileInputStream inputStream = new FileInputStream(file);\r\n        XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\n        XSSFSheet sheet = workbook.getSheet(&quot;URL&#39;s&quot;);\r\n\r\n        int rowCount = sheet.getLastRowNum();\r\n        Object[][] urlData = new Object[rowCount+1][1];\r\n\r\n        for (int i = 0; i &lt;= rowCount; i++) {\r\n            XSSFRow row = sheet.getRow(i);\r\n            XSSFCell cell = row.getCell(0);\r\n            String URL = cell.getStringCellValue();\r\n            urlData[i][0] = URL;\r\n        }\r\n        return urlData;\r\n    }\r\nI&#39;ve tried using a @Factory but am new to the whole QA/TestNG and am confused by it:\r\n\r\n    @Factory(dataProvider=&quot;urlDataProvider&quot;)\r\n    public CareFirstTests(String url) {\r\n        this.url = url;\r\n    }\r\nAll of my test methods, @Factory and @DataProvider are in the same java test file.\r\nWhen I try using the Factory I get this error\r\n\r\n&gt; Couldn&#39;t find a constructor in class\r\n&gt;\r\nI&#39;m also open to hearing any other ways how to accomplish something like this.\r\n ","title":"Run every test for a single instance of @DataProvider using a @Factory","body":"<p>I have a test class with about 5+ tests in it that I want to run once for each url sequentially.  For example:</p>\n<blockquote>\n<p>URL 1 From @DataProvider:<br />\nTest 1: Pass<br />\nTest 2: Fail<br />\nTest 3: Fail<br />\nTest 4: Pass<br />\nURL 2 From @DataProvider:<br />\nTest 1: Pass<br />\nTest 2: Fail<br />\nTest 3: Fail<br />\nTest 4: Pass</p>\n</blockquote>\n<p>Instead of how it is currently:</p>\n<blockquote>\n<p>URL 1:<br />\nTest 1: Pass<br />\nURL 2:<br />\nTest 1: Pass<br />\nURL 1:<br />\nTest 2: Fail<br />\nURL 2:<br />\nTest 2: Fail\netc.</p>\n</blockquote>\n<p>I'm pulling the URLs from an excel sheet in my DataProvider like so:</p>\n<pre><code>@DataProvider\npublic Object[][] urlDataProvider() throws Exception {\n    File file = new File(&quot;ExampleClients.xlsx&quot;);\n    FileInputStream inputStream = new FileInputStream(file);\n    XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\n    XSSFSheet sheet = workbook.getSheet(&quot;URL's&quot;);\n\n    int rowCount = sheet.getLastRowNum();\n    Object[][] urlData = new Object[rowCount+1][1];\n\n    for (int i = 0; i &lt;= rowCount; i++) {\n        XSSFRow row = sheet.getRow(i);\n        XSSFCell cell = row.getCell(0);\n        String URL = cell.getStringCellValue();\n        urlData[i][0] = URL;\n    }\n    return urlData;\n}\n</code></pre>\n<p>I've tried using a @Factory but am new to the whole QA/TestNG and am confused by it:</p>\n<pre><code>@Factory(dataProvider=&quot;urlDataProvider&quot;)\npublic CareFirstTests(String url) {\n    this.url = url;\n}\n</code></pre>\n<p>All of my test methods, @Factory and @DataProvider are in the same java test file.\nWhen I try using the Factory I get this error</p>\n<blockquote>\n<p>Couldn't find a constructor in class</p>\n</blockquote>\n<p>I'm also open to hearing any other ways how to accomplish something like this.</p>\n"},{"tags":["java","artifactory","artifactory-query-lang"],"owner":{"account_id":27789269,"reputation":1,"user_id":21216035,"display_name":"Meghdoot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676431156,"creation_date":1676431156,"question_id":75455204,"body_markdown":"I am trying to convert this query to java equivalent using AqlQueryBuilder().\r\n\r\nQuery to be converted:  &quot;items.find&quot;:{&quot;$and&quot;:[{&quot;$or&quot;:[{&quot;path&quot;:{&quot;$match&quot;:&quot;test1/*&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test2/*&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test3/*&quot;}}]},{&quot;$or&quot;:[{&quot;name&quot;:{&quot;$match&quot;:&quot;*.jar&quot;}},{&quot;name&quot;:{&quot;$match&quot;:&quot;*.ear&quot;}}]}],&quot;size&quot;:{&quot;$gt&quot;:&quot;15000000&quot;}}\r\n\r\nI am unable to find enough information on this, though I found a document which shows the query as following, below chunk of code is not working for me, the error is in the or statement\r\n**********************\r\n\r\n```\r\n@Test\r\npublic void addNestedFilters() {\r\n  final String result = new AqlQueryBuilder()\r\n    .and(\r\n      or(\r\n        aqlItem(&quot;repo&quot;, &quot;myrepo1&quot;),\r\n        aqlItem(&quot;repo&quot;, &quot;myrepo2&quot;),\r\n        aqlItem(&quot;repo&quot;, &quot;myrepo3&quot;)\r\n      ),\r\n      or(\r\n        aqlItem(&quot;name&quot;, &quot;maven-metadata1.xml&quot;),\r\n        aqlItem(&quot;name&quot;, &quot;maven-metadata2.xml&quot;)\r\n      )\r\n    ).build();\r\n```\r\n\r\n    \r\n************************\r\n\r\ncan anyone help me with these nested condition in java, thanks in advance\r\n","title":"How to use nested (and) (or) in java equivalent artifactory query language","body":"<p>I am trying to convert this query to java equivalent using AqlQueryBuilder().</p>\n<p>Query to be converted:  &quot;items.find&quot;:{&quot;$and&quot;:[{&quot;$or&quot;:[{&quot;path&quot;:{&quot;$match&quot;:&quot;test1/<em>&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test2/</em>&quot;}},{&quot;path&quot;:{&quot;$match&quot;:&quot;test3/<em>&quot;}}]},{&quot;$or&quot;:[{&quot;name&quot;:{&quot;$match&quot;:&quot;</em>.jar&quot;}},{&quot;name&quot;:{&quot;$match&quot;:&quot;*.ear&quot;}}]}],&quot;size&quot;:{&quot;$gt&quot;:&quot;15000000&quot;}}</p>\n<p>I am unable to find enough information on this, though I found a document which shows the query as following, below chunk of code is not working for me, the error is in the or statement</p>\n<hr />\n<pre><code>@Test\npublic void addNestedFilters() {\n  final String result = new AqlQueryBuilder()\n    .and(\n      or(\n        aqlItem(&quot;repo&quot;, &quot;myrepo1&quot;),\n        aqlItem(&quot;repo&quot;, &quot;myrepo2&quot;),\n        aqlItem(&quot;repo&quot;, &quot;myrepo3&quot;)\n      ),\n      or(\n        aqlItem(&quot;name&quot;, &quot;maven-metadata1.xml&quot;),\n        aqlItem(&quot;name&quot;, &quot;maven-metadata2.xml&quot;)\n      )\n    ).build();\n</code></pre>\n<hr />\n<p>can anyone help me with these nested condition in java, thanks in advance</p>\n"},{"tags":["java","android","android-studio","androidx"],"owner":{"account_id":27298687,"reputation":1,"user_id":20815889,"display_name":"thelearn-tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676430301,"creation_date":1676430301,"question_id":75455150,"body_markdown":"I was using the legacy Library but when I used the new androidX library and make any app it just crashes without errors, I have tried logcat without any filters but still shows no error.\r\n\r\n\r\nCompiledSdk 33\r\n\r\nbuoldTools 33.0.0\r\n\r\nMinSdkVersion 21\r\nmaxSdkVersion 33\r\n\r\nandroidX.appcompat:appcompat:1.5.1\r\n\r\n\r\njunit 4.12\r\nandroidX.test 1.1.4\r\nandroidX.test.espresso 3.5.0\r\n\r\n\r\nAndroid studio 4\r\nBuild 193.6911.18.40.6514223 May 20, 2020\r\n\r\n\r\nI have tried the latest version of Android studio for Linux but same result. Any help","title":"Android app crashes with out error with AndroidX library","body":"<p>I was using the legacy Library but when I used the new androidX library and make any app it just crashes without errors, I have tried logcat without any filters but still shows no error.</p>\n<p>CompiledSdk 33</p>\n<p>buoldTools 33.0.0</p>\n<p>MinSdkVersion 21\nmaxSdkVersion 33</p>\n<p>androidX.appcompat:appcompat:1.5.1</p>\n<p>junit 4.12\nandroidX.test 1.1.4\nandroidX.test.espresso 3.5.0</p>\n<p>Android studio 4\nBuild 193.6911.18.40.6514223 May 20, 2020</p>\n<p>I have tried the latest version of Android studio for Linux but same result. Any help</p>\n"},{"tags":["java","spring-boot","apache-kafka"],"owner":{"account_id":8640436,"reputation":73,"user_id":6469276,"display_name":"Yasiru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676430244,"creation_date":1676362876,"question_id":75445039,"body_markdown":"My design Architecture\r\n\r\nWebSocket Clients &lt;---&gt; API Manager Component &lt;----&gt; Apache Kafka\r\n\r\n\r\nI have to design this API Manager Component using Spring Boot. The main function of the component is as follows.\r\n\r\n 1. Connect with WebSocket Clients (Not an issue)\r\n 2. When WS Client is connected, API Manager Component should connect to the relevant Kafka Channel related to that particular Web Socket Client and Consume the data. This should happen dynamically at runtime because API Manager does not know the identities of WS Clients prior to login.\r\n\r\nHow can I use Spring Boot to achieve this point 2?\r\n\r\n","title":"How to connect Kafka consumer channels dynamically using Spring Boot at run time?","body":"<p>My design Architecture</p>\n<p>WebSocket Clients &lt;---&gt; API Manager Component &lt;----&gt; Apache Kafka</p>\n<p>I have to design this API Manager Component using Spring Boot. The main function of the component is as follows.</p>\n<ol>\n<li>Connect with WebSocket Clients (Not an issue)</li>\n<li>When WS Client is connected, API Manager Component should connect to the relevant Kafka Channel related to that particular Web Socket Client and Consume the data. This should happen dynamically at runtime because API Manager does not know the identities of WS Clients prior to login.</li>\n</ol>\n<p>How can I use Spring Boot to achieve this point 2?</p>\n"},{"tags":["java","url","discord","webhooks"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1653301276,"post_id":72345264,"comment_id":127809732,"body_markdown":"Use a webhook library like this https://github.com/MinnDevelopment/discord-webhooks","body":"Use a webhook library like this <a href=\"https://github.com/MinnDevelopment/discord-webhooks\" rel=\"nofollow noreferrer\">github.com/MinnDevelopment/discord-webhooks</a>"}],"answers":[{"tags":[],"owner":{"account_id":27789046,"reputation":11,"user_id":21215844,"display_name":"Andeson de Jesus de Menezes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676428132,"creation_date":1676428132,"answer_id":75454988,"question_id":72345264,"body_markdown":"add \r\ncon.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;); ","title":"How to send discord webhook message in Java?","body":"<p>add\ncon.addRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla&quot;);</p>\n"}],"owner":{"account_id":22858256,"reputation":800,"user_id":17002772,"display_name":"Ruthvik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1309,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676428132,"creation_date":1653293679,"question_id":72345264,"body_markdown":"I&#39;m trying to send a discord webhook message from Java.&lt;br&gt;\r\nI found a way in this [website.][1]\r\nBut when i tried, it didn&#39;t work.\r\n```java\r\npackage com.company;\r\n\r\nimport java.io.OutputStream;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\npublic class Discord {\r\n    public static void main(String[] args) throws Exception {\r\n        URL url = new URL(&quot;https://discord.com/api/webhooks/my_webhook_url&quot;);\r\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n        con.setRequestMethod(&quot;POST&quot;);\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n        con.setDoOutput(true);\r\n        String jsonInputString = &quot;{&quot; +\r\n                &quot;username : \\&quot;Bot\\&quot;, &quot; +\r\n                &quot;content : \\&quot;Hello World\\&quot;&quot; +\r\n                &quot;}&quot;;\r\n        try(OutputStream os = con.getOutputStream()) {\r\n            byte[] input = jsonInputString.getBytes(StandardCharsets.UTF_8);\r\n            os.write(input, 0, input.length);\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```\r\nI&#39;m just using this for a one way message so, i guess this should work.&lt;br&gt;\r\nBut why doesn&#39;t it?\r\n\r\n  [1]: https://www.baeldung.com/httpurlconnection-post","title":"How to send discord webhook message in Java?","body":"<p>I'm trying to send a discord webhook message from Java.<br>\nI found a way in this <a href=\"https://www.baeldung.com/httpurlconnection-post\" rel=\"nofollow noreferrer\">website.</a>\nBut when i tried, it didn't work.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.io.OutputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.nio.charset.StandardCharsets;\n\npublic class Discord {\n    public static void main(String[] args) throws Exception {\n        URL url = new URL(&quot;https://discord.com/api/webhooks/my_webhook_url&quot;);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestMethod(&quot;POST&quot;);\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\n        con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\n        con.setDoOutput(true);\n        String jsonInputString = &quot;{&quot; +\n                &quot;username : \\&quot;Bot\\&quot;, &quot; +\n                &quot;content : \\&quot;Hello World\\&quot;&quot; +\n                &quot;}&quot;;\n        try(OutputStream os = con.getOutputStream()) {\n            byte[] input = jsonInputString.getBytes(StandardCharsets.UTF_8);\n            os.write(input, 0, input.length);\n        }\n\n    }\n}\n\n</code></pre>\n<p>I'm just using this for a one way message so, i guess this should work.<br>\nBut why doesn't it?</p>\n"},{"tags":["java","spring","spring-boot","kubernetes"],"comments":[{"owner":{"account_id":79319,"reputation":31744,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1676347395,"post_id":75443172,"comment_id":133114412,"body_markdown":"(a) are you asking the [`spring.management.port`](https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/production-ready-monitoring.html) for those actuator URLs? (b) are you using the same `spring.profiles.active` in the cluster as you are locally? IOW, what debugging have you already tried? Don&#39;t put that in the comments, instead [edit your question](https://stackoverflow.com/posts/75443172/edit) and provide more details","body":"(a) are you asking the <a href=\"https://docs.spring.io/spring-boot/docs/1.5.4.RELEASE/reference/html/production-ready-monitoring.html\" rel=\"nofollow noreferrer\"><code>spring.management.port</code></a> for those actuator URLs? (b) are you using the same <code>spring.profiles.active</code> in the cluster as you are locally? IOW, what debugging have you already tried? Don&#39;t put that in the comments, instead <a href=\"https://stackoverflow.com/posts/75443172/edit\">edit your question</a> and provide more details"},{"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1676350470,"post_id":75443172,"comment_id":133114730,"body_markdown":"The `spring.management.port` and `spring.profiles.active` is right. I can enable probes using the `management.endpoint.health.probes.enabled` configuration property. But why not enabled automatically if the application is running in a Kubernetes environment?","body":"The <code>spring.management.port</code> and <code>spring.profiles.active</code> is right. I can enable probes using the <code>management.endpoint.health.probes.enabled</code> configuration property. But why not enabled automatically if the application is running in a Kubernetes environment?"},{"owner":{"account_id":79319,"reputation":31744,"user_id":225016,"display_name":"mdaniel"},"score":0,"creation_date":1676392012,"post_id":75443172,"comment_id":133125924,"body_markdown":"Well, since you didn&#39;t post your Deployment yaml, it is still a reasonable question: are you sending the probes to the correct port?","body":"Well, since you didn&#39;t post your Deployment yaml, it is still a reasonable question: are you sending the probes to the correct port?"},{"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1676427606,"post_id":75443172,"comment_id":133133558,"body_markdown":"@mdaniel Ok, I have posted deployment yaml. Yes, I confirm that sending the probes to the correct port. My application integrates Spring Cloud Sleuth. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?","body":"@mdaniel Ok, I have posted deployment yaml. Yes, I confirm that sending the probes to the correct port. My application integrates Spring Cloud Sleuth. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?"}],"answers":[{"comments":[{"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"score":0,"creation_date":1676359786,"post_id":75444291,"comment_id":133116165,"body_markdown":"I run application on Kubernetes. But it doesn&#39;t work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?","body":"I run application on Kubernetes. But it doesn&#39;t work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?"},{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":0,"creation_date":1676361189,"post_id":75444291,"comment_id":133116429,"body_markdown":"Refer to this [SO](https://stackoverflow.com/questions/68941419/spring-dependency-mess-conflict-with-spring-boot-2-5-4-and-spring-cloud-3-0-3), which may help to resolve your issue.","body":"Refer to this <a href=\"https://stackoverflow.com/questions/68941419/spring-dependency-mess-conflict-with-spring-boot-2-5-4-and-spring-cloud-3-0-3\">SO</a>, which may help to resolve your issue."},{"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"score":0,"creation_date":1676956893,"post_id":75444291,"comment_id":133236302,"body_markdown":"Hello @Holinc, if you think that my answer helped you, please consider accepting (✔️) or up voting it for greater visibility for community members.","body":"Hello @Holinc, if you think that my answer helped you, please consider accepting (✔️) or up voting it for greater visibility for community members."}],"tags":[],"owner":{"account_id":26127214,"reputation":1801,"user_id":19818461,"display_name":"Veera Nagireddy"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676357101,"creation_date":1676357101,"answer_id":75444291,"question_id":75443172,"body_markdown":"**AFAIK Health groups are automatically enabled only if the application met below 2 conditions:**\r\n\r\n1)Runs in a Kubernetes deployment environment \r\n\r\nSpring Boot auto-detects Kubernetes deployment environments by checking the environment for `&quot;*_SERVICE_HOST&quot;` and `&quot;*_SERVICE_PORT&quot;` variables. You can override this detection with the `spring.main.cloud-platform` configuration property. Spring Boot helps you to manage the state of your application and export it with [HTTP Kubernetes Probes using Actuator][2].\r\n\r\n\r\n2)The `management.health.probes.enabled` property is set to `true`\r\n\r\nIf the application meets either of the above conditions, then auto-configuration registers.\r\n\r\n\r\nRefer to Baeldung, [Liveness and Readiness Probes in Spring Boot][3], Auto-Configurations by Mona Mohamadinia, for more information.\r\n\r\n\r\nAlso refer to github link, [Kubernetes readiness probe endpoint returning 404 #22562][4] for more information.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.spring-application.application-availability\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.kubernetes-probes\r\n  [3]: https://www.baeldung.com/spring-liveness-readiness-probes#auto-config\r\n  [4]: https://github.com/spring-projects/spring-boot/issues/22562","title":"Liveness and readiness probe return 404","body":"<p><strong>AFAIK Health groups are automatically enabled only if the application met below 2 conditions:</strong></p>\n<p>1)Runs in a Kubernetes deployment environment</p>\n<p>Spring Boot auto-detects Kubernetes deployment environments by checking the environment for <code>&quot;*_SERVICE_HOST&quot;</code> and <code>&quot;*_SERVICE_PORT&quot;</code> variables. You can override this detection with the <code>spring.main.cloud-platform</code> configuration property. Spring Boot helps you to manage the state of your application and export it with <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/actuator.html#actuator.endpoints.kubernetes-probes\" rel=\"nofollow noreferrer\">HTTP Kubernetes Probes using Actuator</a>.</p>\n<p>2)The <code>management.health.probes.enabled</code> property is set to <code>true</code></p>\n<p>If the application meets either of the above conditions, then auto-configuration registers.</p>\n<p>Refer to Baeldung, <a href=\"https://www.baeldung.com/spring-liveness-readiness-probes#auto-config\" rel=\"nofollow noreferrer\">Liveness and Readiness Probes in Spring Boot</a>, Auto-Configurations by Mona Mohamadinia, for more information.</p>\n<p>Also refer to github link, <a href=\"https://github.com/spring-projects/spring-boot/issues/22562\" rel=\"nofollow noreferrer\">Kubernetes readiness probe endpoint returning 404 #22562</a> for more information.</p>\n"}],"owner":{"account_id":9905560,"reputation":651,"user_id":7334180,"accept_rate":75,"display_name":"Holinc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":995,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676427092,"creation_date":1676345219,"question_id":75443172,"body_markdown":"My Spring-Boot Application is running on Kubernetes.\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.12&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\nAccording to Spring-Boot reference, `livenessProbe` and `readinessProbe` would be enabled automatically.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#actuator.endpoints.kubernetes-probes\r\n\r\n&gt; These health groups are only enabled automatically if the application is running in a Kubernetes environment. \r\n\r\n&gt; They will also be exposed as separate HTTP Probes using Health Groups: `/actuator/health/liveness` and `/actuator/health/readiness`.\r\n\r\nBut the endpoints (`/actuator/health/liveness` and `/actuator/health/readiness`) in My Spring-Boot Application returns 404, what&#39;s wrong here?\r\n\r\nThe component of `livenessState` and `readinessState` is enabled, but the health group is not.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9sto4.png\r\n\r\n\r\nI debug the code and find that the method `org.springframework.boot.actuate.autoconfigure.health.HealthEndpointConfiguration.HealthEndpointGroupsBeanPostProcessor#postProcessAfterInitialization` doesn&#39;t work. Because there&#39;s no bean instanceof HealthEndpointGroups, Why?\r\n\r\n    /**\r\n\t * {@link BeanPostProcessor} to invoke {@link HealthEndpointGroupsPostProcessor}\r\n\t * beans.\r\n\t */\r\n\tstatic class HealthEndpointGroupsBeanPostProcessor implements BeanPostProcessor {\r\n\r\n\t\tprivate final ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors;\r\n\r\n\t\tHealthEndpointGroupsBeanPostProcessor(ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors) {\r\n\t\t\tthis.postProcessors = postProcessors;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\r\n\r\n            // there&#39;s no bean instanceof HealthEndpointGroups here, Why?\r\n\r\n\t\t\tif (bean instanceof HealthEndpointGroups) {\r\n\t\t\t\treturn applyPostProcessors((HealthEndpointGroups) bean);\r\n\t\t\t}\r\n\t\t\treturn bean;\r\n\t\t}\r\n\r\n\t\tprivate Object applyPostProcessors(HealthEndpointGroups bean) {\r\n\t\t\tfor (HealthEndpointGroupsPostProcessor postProcessor : this.postProcessors.orderedStream()\r\n\t\t\t\t\t.toArray(HealthEndpointGroupsPostProcessor[]::new)) {\r\n\t\t\t\tbean = postProcessor.postProcessHealthEndpointGroups(bean);\r\n\t\t\t}\r\n\t\t\treturn bean;\r\n\t\t}\r\n\r\n\t}\r\n\r\nI try to run the application locally with adding `KUBERNETES_SERVICE_HOST` and `KUBERNETES_SERVICE_HOST` environment variables, to enable probes. But it didn&#39;t work as well.\r\n\r\n\r\n    /**\r\n\t * {@link SpringBootCondition} to enable or disable probes.\r\n\t * &lt;p&gt;\r\n\t * Probes are enabled if the dedicated configuration property is enabled or if the\r\n\t * Kubernetes cloud environment is detected/enforced.\r\n\t */\r\n\tstatic class ProbesCondition extends SpringBootCondition {\r\n\r\n\t\tprivate static final String ENABLED_PROPERTY = &quot;management.endpoint.health.probes.enabled&quot;;\r\n\r\n\t\tprivate static final String DEPRECATED_ENABLED_PROPERTY = &quot;management.health.probes.enabled&quot;;\r\n\r\n\t\t@Override\r\n\t\tpublic ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\r\n\t\t\tEnvironment environment = context.getEnvironment();\r\n\t\t\tConditionMessage.Builder message = ConditionMessage.forCondition(&quot;Probes availability&quot;);\r\n\t\t\tConditionOutcome outcome = onProperty(environment, message, ENABLED_PROPERTY);\r\n\t\t\tif (outcome != null) {\r\n\t\t\t\treturn outcome;\r\n\t\t\t}\r\n\t\t\toutcome = onProperty(environment, message, DEPRECATED_ENABLED_PROPERTY);\r\n\t\t\tif (outcome != null) {\r\n\t\t\t\treturn outcome;\r\n\t\t\t}\r\n\t\t\tif (CloudPlatform.getActive(environment) == CloudPlatform.KUBERNETES) {\r\n\t\t\t\treturn ConditionOutcome.match(message.because(&quot;running on Kubernetes&quot;));\r\n\t\t\t}\r\n\t\t\treturn ConditionOutcome.noMatch(message.because(&quot;not running on a supported cloud platform&quot;));\r\n\t\t}\r\n\r\n\t\tprivate ConditionOutcome onProperty(Environment environment, ConditionMessage.Builder message,\r\n\t\t\t\tString propertyName) {\r\n\t\t\tString enabled = environment.getProperty(propertyName);\r\n\t\t\tif (enabled != null) {\r\n\t\t\t\tboolean match = !&quot;false&quot;.equalsIgnoreCase(enabled);\r\n\t\t\t\treturn new ConditionOutcome(match, message.because(&quot;&#39;&quot; + propertyName + &quot;&#39; set to &#39;&quot; + enabled + &quot;&#39;&quot;));\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t}\r\n\r\nI run application on Kubernetes, but it doesn&#39;t work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?\r\n\r\nRemoving the follow dependency\r\n\r\n        &lt;!--traceId --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nyaml:\r\n\r\n    management:\r\n      server:\r\n        port: 9235\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: ${MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE:*}\r\n\r\nk8s:\r\n\r\n      readinessProbe:\r\n        httpGet:\r\n          path: /actuator/health/readiness\r\n          port: {{ .Values.deployment.managementPort }}\r\n        failureThreshold: 3\r\n        initialDelaySeconds: 150\r\n        periodSeconds: 10\r\n        successThreshold: 1\r\n        timeoutSeconds: 10\r\n      livenessProbe:\r\n        httpGet:\r\n          path: /actuator/health/liveness\r\n          port: {{ .Values.deployment.managementPort }}\r\n        failureThreshold: 3\r\n        initialDelaySeconds: 180\r\n        periodSeconds: 10\r\n        successThreshold: 1\r\n        timeoutSeconds: 10\r\n\r\n","title":"Liveness and readiness probe return 404","body":"<p>My Spring-Boot Application is running on Kubernetes.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.12&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>According to Spring-Boot reference, <code>livenessProbe</code> and <code>readinessProbe</code> would be enabled automatically.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#actuator.endpoints.kubernetes-probes\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.5.14/reference/htmlsingle/#actuator.endpoints.kubernetes-probes</a></p>\n<blockquote>\n<p>These health groups are only enabled automatically if the application is running in a Kubernetes environment.</p>\n</blockquote>\n<blockquote>\n<p>They will also be exposed as separate HTTP Probes using Health Groups: <code>/actuator/health/liveness</code> and <code>/actuator/health/readiness</code>.</p>\n</blockquote>\n<p>But the endpoints (<code>/actuator/health/liveness</code> and <code>/actuator/health/readiness</code>) in My Spring-Boot Application returns 404, what's wrong here?</p>\n<p>The component of <code>livenessState</code> and <code>readinessState</code> is enabled, but the health group is not.\n<a href=\"https://i.stack.imgur.com/9sto4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9sto4.png\" alt=\"enter image description here\" /></a></p>\n<p>I debug the code and find that the method <code>org.springframework.boot.actuate.autoconfigure.health.HealthEndpointConfiguration.HealthEndpointGroupsBeanPostProcessor#postProcessAfterInitialization</code> doesn't work. Because there's no bean instanceof HealthEndpointGroups, Why?</p>\n<pre><code>/**\n * {@link BeanPostProcessor} to invoke {@link HealthEndpointGroupsPostProcessor}\n * beans.\n */\nstatic class HealthEndpointGroupsBeanPostProcessor implements BeanPostProcessor {\n\n    private final ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors;\n\n    HealthEndpointGroupsBeanPostProcessor(ObjectProvider&lt;HealthEndpointGroupsPostProcessor&gt; postProcessors) {\n        this.postProcessors = postProcessors;\n    }\n\n    @Override\n    public Object postProcessAfterInitialization(Object bean, String beanName) throws BeansException {\n\n        // there's no bean instanceof HealthEndpointGroups here, Why?\n\n        if (bean instanceof HealthEndpointGroups) {\n            return applyPostProcessors((HealthEndpointGroups) bean);\n        }\n        return bean;\n    }\n\n    private Object applyPostProcessors(HealthEndpointGroups bean) {\n        for (HealthEndpointGroupsPostProcessor postProcessor : this.postProcessors.orderedStream()\n                .toArray(HealthEndpointGroupsPostProcessor[]::new)) {\n            bean = postProcessor.postProcessHealthEndpointGroups(bean);\n        }\n        return bean;\n    }\n\n}\n</code></pre>\n<p>I try to run the application locally with adding <code>KUBERNETES_SERVICE_HOST</code> and <code>KUBERNETES_SERVICE_HOST</code> environment variables, to enable probes. But it didn't work as well.</p>\n<pre><code>/**\n * {@link SpringBootCondition} to enable or disable probes.\n * &lt;p&gt;\n * Probes are enabled if the dedicated configuration property is enabled or if the\n * Kubernetes cloud environment is detected/enforced.\n */\nstatic class ProbesCondition extends SpringBootCondition {\n\n    private static final String ENABLED_PROPERTY = &quot;management.endpoint.health.probes.enabled&quot;;\n\n    private static final String DEPRECATED_ENABLED_PROPERTY = &quot;management.health.probes.enabled&quot;;\n\n    @Override\n    public ConditionOutcome getMatchOutcome(ConditionContext context, AnnotatedTypeMetadata metadata) {\n        Environment environment = context.getEnvironment();\n        ConditionMessage.Builder message = ConditionMessage.forCondition(&quot;Probes availability&quot;);\n        ConditionOutcome outcome = onProperty(environment, message, ENABLED_PROPERTY);\n        if (outcome != null) {\n            return outcome;\n        }\n        outcome = onProperty(environment, message, DEPRECATED_ENABLED_PROPERTY);\n        if (outcome != null) {\n            return outcome;\n        }\n        if (CloudPlatform.getActive(environment) == CloudPlatform.KUBERNETES) {\n            return ConditionOutcome.match(message.because(&quot;running on Kubernetes&quot;));\n        }\n        return ConditionOutcome.noMatch(message.because(&quot;not running on a supported cloud platform&quot;));\n    }\n\n    private ConditionOutcome onProperty(Environment environment, ConditionMessage.Builder message,\n            String propertyName) {\n        String enabled = environment.getProperty(propertyName);\n        if (enabled != null) {\n            boolean match = !&quot;false&quot;.equalsIgnoreCase(enabled);\n            return new ConditionOutcome(match, message.because(&quot;'&quot; + propertyName + &quot;' set to '&quot; + enabled + &quot;'&quot;));\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>I run application on Kubernetes, but it doesn't work for me. I find that removing dependency of Spring Cloud Sleuth, it would run normally. Is there any conflict between SpringBoot and Spring Cloud Sleuth?</p>\n<p>Removing the follow dependency</p>\n<pre><code>    &lt;!--traceId --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-sleuth&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-sleuth-zipkin&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>yaml:</p>\n<pre><code>management:\n  server:\n    port: 9235\n  endpoints:\n    web:\n      exposure:\n        include: ${MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE:*}\n</code></pre>\n<p>k8s:</p>\n<pre><code>  readinessProbe:\n    httpGet:\n      path: /actuator/health/readiness\n      port: {{ .Values.deployment.managementPort }}\n    failureThreshold: 3\n    initialDelaySeconds: 150\n    periodSeconds: 10\n    successThreshold: 1\n    timeoutSeconds: 10\n  livenessProbe:\n    httpGet:\n      path: /actuator/health/liveness\n      port: {{ .Values.deployment.managementPort }}\n    failureThreshold: 3\n    initialDelaySeconds: 180\n    periodSeconds: 10\n    successThreshold: 1\n    timeoutSeconds: 10\n</code></pre>\n"},{"tags":["java","redis","spring-session"],"owner":{"account_id":27788797,"reputation":1,"user_id":21215639,"display_name":"liruo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676426829,"creation_date":1676426705,"question_id":75454886,"body_markdown":"I find the  is just to be used in the method of org.springframework.session.data.redis.RedisIndexedSessionRepository.RedisSession#getAttribute\r\n\r\nIn my opinion, getAttribute has not function, because the cached is got form redis ather through SessionRepositoryFilter and the DispacthServlet flush session when invoke doService , and back to SessionRepositoryFilter save the RedisSession&#39; delta to redis.\r\n\r\nso getAttribute form cached is equal with form redis, and getAttribute will put the key-value to delta in the SaveMode.ON_GET_ATTRIBUTE and has the Attribute.\r\nSo it maybe put the some key-value back to redis.I really unkown why spring write that.  \r\n\r\n\r\n```\r\npublic &lt;T&gt; T getAttribute(String attributeName) {\r\n            T attributeValue = this.cached.getAttribute(attributeName);\r\n            if (attributeValue != null &amp;&amp; RedisIndexedSessionRepository.this.saveMode.equals(SaveMode.ON_GET_ATTRIBUTE)) {\r\n                this.delta.put(RedisIndexedSSaveMode.ON_GET_ATTRIBUTEessionRepository.getSessionAttrNameKey(attributeName), attributeValue);\r\n            }\r\n\r\n            return attributeValue;\r\n        }\r\n```\r\n\r\nI&#39;ve racked my brains for a long time for what is the function of SaveMode.ON_GET_ATTRIBUTE and asked many times to chatgpt, but it always gave me error answer and repeat error many time.\r\n\r\nI also see the offical docment.\r\n```\r\n/**\r\n* Same as {@link #ON_SET_ATTRIBUTE} with addition of saving attributes that have been\r\n* read using {@link Session#getAttribute(String)}.\r\n*/\r\nON_GET_ATTRIBUTE\r\n```\r\n\r\nand the Test\r\n\r\n```\r\n@Test\r\n\tvoid saveWithSaveModeOnGetAttribute() {\r\n\t\tgiven(this.redisOperations.&lt;String, Object&gt;boundHashOps(anyString())).willReturn(this.boundHashOperations);\r\n\t\tgiven(this.redisOperations.boundSetOps(anyString())).willReturn(this.boundSetOperations);\r\n\t\tgiven(this.redisOperations.boundValueOps(anyString())).willReturn(this.boundValueOperations);\r\n\t\tthis.redisRepository.setSaveMode(SaveMode.ON_GET_ATTRIBUTE);\r\n\t\tMapSession delegate = new MapSession();\r\n\t\tdelegate.setAttribute(&quot;attribute1&quot;, &quot;value1&quot;);\r\n\t\tdelegate.setAttribute(&quot;attribute2&quot;, &quot;value2&quot;);\r\n\t\tdelegate.setAttribute(&quot;attribute3&quot;, &quot;value3&quot;);\r\n\t\tRedisSession session = this.redisRepository.new RedisSession(delegate, false);\r\n\t\tsession.getAttribute(&quot;attribute2&quot;);\r\n\t\tsession.setAttribute(&quot;attribute3&quot;, &quot;value4&quot;);\r\n\t\tthis.redisRepository.save(session);\r\n\t\tassertThat(getDelta()).hasSize(2);\r\n\t}\r\n```\r\nI think the Test is just as I thought.It repeatly add attribute2=value2 to redis.I really unkown why the Test is writend like that.\r\n\r\nplease, who can tell me waht the function of SaveMode.ON_GET_ATTRIBUTE","title":"spring-session-data-redis: about the SaveMode.ON_GET_ATTRIBUTE","body":"<p>I find the  is just to be used in the method of org.springframework.session.data.redis.RedisIndexedSessionRepository.RedisSession#getAttribute</p>\n<p>In my opinion, getAttribute has not function, because the cached is got form redis ather through SessionRepositoryFilter and the DispacthServlet flush session when invoke doService , and back to SessionRepositoryFilter save the RedisSession' delta to redis.</p>\n<p>so getAttribute form cached is equal with form redis, and getAttribute will put the key-value to delta in the SaveMode.ON_GET_ATTRIBUTE and has the Attribute.\nSo it maybe put the some key-value back to redis.I really unkown why spring write that.</p>\n<pre><code>public &lt;T&gt; T getAttribute(String attributeName) {\n            T attributeValue = this.cached.getAttribute(attributeName);\n            if (attributeValue != null &amp;&amp; RedisIndexedSessionRepository.this.saveMode.equals(SaveMode.ON_GET_ATTRIBUTE)) {\n                this.delta.put(RedisIndexedSSaveMode.ON_GET_ATTRIBUTEessionRepository.getSessionAttrNameKey(attributeName), attributeValue);\n            }\n\n            return attributeValue;\n        }\n</code></pre>\n<p>I've racked my brains for a long time for what is the function of SaveMode.ON_GET_ATTRIBUTE and asked many times to chatgpt, but it always gave me error answer and repeat error many time.</p>\n<p>I also see the offical docment.</p>\n<pre><code>/**\n* Same as {@link #ON_SET_ATTRIBUTE} with addition of saving attributes that have been\n* read using {@link Session#getAttribute(String)}.\n*/\nON_GET_ATTRIBUTE\n</code></pre>\n<p>and the Test</p>\n<pre><code>@Test\n    void saveWithSaveModeOnGetAttribute() {\n        given(this.redisOperations.&lt;String, Object&gt;boundHashOps(anyString())).willReturn(this.boundHashOperations);\n        given(this.redisOperations.boundSetOps(anyString())).willReturn(this.boundSetOperations);\n        given(this.redisOperations.boundValueOps(anyString())).willReturn(this.boundValueOperations);\n        this.redisRepository.setSaveMode(SaveMode.ON_GET_ATTRIBUTE);\n        MapSession delegate = new MapSession();\n        delegate.setAttribute(&quot;attribute1&quot;, &quot;value1&quot;);\n        delegate.setAttribute(&quot;attribute2&quot;, &quot;value2&quot;);\n        delegate.setAttribute(&quot;attribute3&quot;, &quot;value3&quot;);\n        RedisSession session = this.redisRepository.new RedisSession(delegate, false);\n        session.getAttribute(&quot;attribute2&quot;);\n        session.setAttribute(&quot;attribute3&quot;, &quot;value4&quot;);\n        this.redisRepository.save(session);\n        assertThat(getDelta()).hasSize(2);\n    }\n</code></pre>\n<p>I think the Test is just as I thought.It repeatly add attribute2=value2 to redis.I really unkown why the Test is writend like that.</p>\n<p>please, who can tell me waht the function of SaveMode.ON_GET_ATTRIBUTE</p>\n"},{"tags":["java","spring-boot","spring-mvc","tomcat","http-status-code-404"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676374227,"post_id":75447023,"comment_id":133120085,"body_markdown":"1. Why port 8081 ? Have you changed Tomcat settings?  2. What is your war file name ? 3. please show your `pom.xml`","body":"1. Why port 8081 ? Have you changed Tomcat settings?  2. What is your war file name ? 3. please show your <code>pom.xml</code>"},{"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"score":0,"creation_date":1676380941,"post_id":75447023,"comment_id":133122127,"body_markdown":"Yes I changed tomcat configs, so the tomcat server doesn&#39;t collide with local tests from intellij IDEA wich run on port 8080. War File name is spring-mvc.war I will add pom.xml","body":"Yes I changed tomcat configs, so the tomcat server doesn&#39;t collide with local tests from intellij IDEA wich run on port 8080. War File name is spring-mvc.war I will add pom.xml"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676382723,"post_id":75447023,"comment_id":133122698,"body_markdown":"Can Tomcat be replaced with another version?","body":"Can Tomcat be replaced with another version?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676383934,"post_id":75447023,"comment_id":133123096,"body_markdown":"Can you change the version of Spring Boot? Is it mandatory that Spring Boot must be 3.x?","body":"Can you change the version of Spring Boot? Is it mandatory that Spring Boot must be 3.x?"}],"answers":[{"comments":[{"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"score":1,"creation_date":1676380895,"post_id":75447061,"comment_id":133122107,"body_markdown":"Thanks, i changed that although it did not solve my problem :)","body":"Thanks, i changed that although it did not solve my problem :)"}],"tags":[],"owner":{"account_id":6290186,"reputation":766,"user_id":4888150,"display_name":"Mustafa &#199;il"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676373537,"creation_date":1676373537,"answer_id":75447061,"question_id":75447023,"body_markdown":"you need to add `Main.class` to `application.sources(HomeController.class)` instead of `HomeController.class`. Like this:\r\n`application.sources(Main.class)`. ","title":"why am i getting a 404 error at Tomcat 8.5.85 *.war deployment","body":"<p>you need to add <code>Main.class</code> to <code>application.sources(HomeController.class)</code> instead of <code>HomeController.class</code>. Like this:\n<code>application.sources(Main.class)</code>.</p>\n"},{"comments":[{"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"score":0,"creation_date":1676480441,"post_id":75449245,"comment_id":133146668,"body_markdown":"thanks, i got it running using tomcat 10 and spring 3.0.2","body":"thanks, i got it running using tomcat 10 and spring 3.0.2"}],"tags":[],"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676426694,"creation_date":1676384804,"answer_id":75449245,"question_id":75447023,"body_markdown":"mini spring boot war for spring boot 2.7.8\r\n\r\n# Project Directory\r\n\r\n```\r\n├── pom.xml\r\n└── src\r\n    └── main\r\n        ├── java\r\n        │&#160;&#160; └── com\r\n        │&#160;&#160;     └── visionthing\r\n        │&#160;&#160;         └── springmvc\r\n        │&#160;&#160;             ├── HomeController.java\r\n        │&#160;&#160;             └── SpringMvcApplication.java\r\n        ├── resources\r\n        │&#160;&#160; └── application.properties\r\n        └── webapp\r\n            └── WEB-INF\r\n                └── jsp\r\n```\r\n\r\n# pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;!--&lt;version&gt;3.0.2&lt;/version&gt;--&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.visionthing&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;spring-mvc&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;spring-mvc&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n# SpringMvcApplication.java\r\n\r\n```\r\npackage com.visionthing.springmvc;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.builder.SpringApplicationBuilder;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication\r\npublic class SpringMvcApplication extends SpringBootServletInitializer {\r\n\t@Override\r\n\tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n\t\treturn application.sources(SpringMvcApplication.class);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(SpringMvcApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n# HomeController.java\r\n\r\n```\r\npackage com.visionthing.springmvc;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/spring-mvc&quot;)\r\npublic class HomeController {\r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String homePage() {\r\n        return &quot;&lt;p style=&#39;color: green;&#39;&gt;Hello, World&lt;/p&gt;&quot;;\r\n    }\r\n}\r\n```\r\n\r\n# application.properties (optional)\r\n\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/jsp/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\n\r\n# package\r\n\r\n```\r\nmvn clean package\r\n```\r\n\r\nput spring-mvc.war to tomcat/webapps\r\n\r\nstart tomcat\r\n\r\n# test\r\n\r\ncommand line test: `curl http://localhost:8081/spring-mvc/spring-mvc/index`\r\n\r\nbrowser test open : `http://localhost:8081/spring-mvc/spring-mvc/index`\r\n\r\n# conclusion\r\n\r\nWhy I am change spring boot to 2.7.8 ?\r\n\r\nBecause you can test the same project and the same code , just change pom.xml\r\n\r\nSpring boot version to 3.0.2 , and re-package war , you will get 404 again.\r\n\r\nSpring Boot 3.x require JDK 17 , but your pom.xml set source and target to version `1.8`.\r\n\r\nSpring Boot 3.x require Tomcat 10.x , but you use Tomcat 8.x.\r\n\r\nSo I can only provide a minimum example project that can be executed, for your limitation Tomcat 8.x, source and target is set to 1.8.\r\n\r\nIn addition, I removed irrelevant dependencies in pom.xml.\r\n\r\n----\r\n\r\n# UPDATE For Spring Boot 3.0.2\r\n\r\n1. Change `pom.xml`, \r\n\r\n- spring boot version to 3.0.2\r\n- remove compiler configuration : source , target 1.8\r\n\r\n2. Change Tomcat\r\n\r\n- Use Tomcat 10.x\r\n\r\n## pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;!--&lt;version&gt;2.7.8&lt;/version&gt;--&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.visionthing&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;spring-mvc&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;spring-mvc&lt;/finalName&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n## Tomcat 10.x ","title":"why am i getting a 404 error at Tomcat 8.5.85 *.war deployment","body":"<p>mini spring boot war for spring boot 2.7.8</p>\n<h1>Project Directory</h1>\n<pre><code>├── pom.xml\n└── src\n    └── main\n        ├── java\n        │   └── com\n        │       └── visionthing\n        │           └── springmvc\n        │               ├── HomeController.java\n        │               └── SpringMvcApplication.java\n        ├── resources\n        │   └── application.properties\n        └── webapp\n            └── WEB-INF\n                └── jsp\n</code></pre>\n<h1>pom.xml</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;!--&lt;version&gt;3.0.2&lt;/version&gt;--&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.visionthing&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;spring-mvc&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;spring-mvc&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h1>SpringMvcApplication.java</h1>\n<pre><code>package com.visionthing.springmvc;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication\npublic class SpringMvcApplication extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(SpringMvcApplication.class);\n    }\n    \n    public static void main(String[] args) {\n\n        SpringApplication.run(SpringMvcApplication.class, args);\n    }\n\n}\n</code></pre>\n<h1>HomeController.java</h1>\n<pre><code>package com.visionthing.springmvc;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/spring-mvc&quot;)\npublic class HomeController {\n\n    @GetMapping(&quot;/index&quot;)\n    public String homePage() {\n        return &quot;&lt;p style='color: green;'&gt;Hello, World&lt;/p&gt;&quot;;\n    }\n}\n</code></pre>\n<h1>application.properties (optional)</h1>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/jsp/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<h1>package</h1>\n<pre><code>mvn clean package\n</code></pre>\n<p>put spring-mvc.war to tomcat/webapps</p>\n<p>start tomcat</p>\n<h1>test</h1>\n<p>command line test: <code>curl http://localhost:8081/spring-mvc/spring-mvc/index</code></p>\n<p>browser test open : <code>http://localhost:8081/spring-mvc/spring-mvc/index</code></p>\n<h1>conclusion</h1>\n<p>Why I am change spring boot to 2.7.8 ?</p>\n<p>Because you can test the same project and the same code , just change pom.xml</p>\n<p>Spring boot version to 3.0.2 , and re-package war , you will get 404 again.</p>\n<p>Spring Boot 3.x require JDK 17 , but your pom.xml set source and target to version <code>1.8</code>.</p>\n<p>Spring Boot 3.x require Tomcat 10.x , but you use Tomcat 8.x.</p>\n<p>So I can only provide a minimum example project that can be executed, for your limitation Tomcat 8.x, source and target is set to 1.8.</p>\n<p>In addition, I removed irrelevant dependencies in pom.xml.</p>\n<hr />\n<h1>UPDATE For Spring Boot 3.0.2</h1>\n<ol>\n<li>Change <code>pom.xml</code>,</li>\n</ol>\n<ul>\n<li>spring boot version to 3.0.2</li>\n<li>remove compiler configuration : source , target 1.8</li>\n</ul>\n<ol start=\"2\">\n<li>Change Tomcat</li>\n</ol>\n<ul>\n<li>Use Tomcat 10.x</li>\n</ul>\n<h2>pom.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;!--&lt;version&gt;2.7.8&lt;/version&gt;--&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.visionthing&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;spring-mvc&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;spring-mvc&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<h2>Tomcat 10.x</h2>\n"}],"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":789,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75449245,"answer_count":2,"score":0,"last_activity_date":1676426694,"creation_date":1676373322,"question_id":75447023,"body_markdown":"I&#39;m trying to deploy a simple spring boot project on tomcat server.\r\n\r\nLocally via Intellij IDEA everything is working.\r\n\r\n\r\nThis is my RestController:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/spring-mvc&quot;)\r\npublic class HomeController {\r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public String homePage() {\r\n        return &quot;&lt;p style=&#39;color: green;&#39;&gt;Hello, World&lt;/p&gt;&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThis is my Main Class\r\n\r\n\r\n```\r\n@Configuration\r\n@ComponentScan\r\n@EnableAutoConfiguration\r\npublic class Main extends SpringBootServletInitializer {\r\n    @Override\r\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n        return application.sources(Main.class);\r\n    }\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n}\r\n```\r\nThis is the pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; \r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.visionthing&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;spring-mvc&lt;/name&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;19&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;spring-mvc&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\nI exported the war via maven cli and moved it to the /webapps folder of my tomcat installation.\r\n\r\ntomcat is running openjdk 19 as well as my local project.\r\n\r\nWhen opening tomcat webui manager the folder shows up, clicking on it redirects me to http://localhost:8081/spring-mvc/ this site displays the 404 error page of tomcat.\r\nas well as\r\nhttp://localhost:8081/spring-mvc/index\r\nhttp://localhost:8081/spring-mvc/spring-mvc/index\r\n\r\n\r\n\r\nI was expecting to see Hello, World written in green on http://localhost:8081/spring-mvc/index\r\n\r\ndid i forget something?\r\n\r\nthanks in regard.\r\n\r\ni&#39;m running linux pop-os based on ubuntu 22.04 LTS","title":"why am i getting a 404 error at Tomcat 8.5.85 *.war deployment","body":"<p>I'm trying to deploy a simple spring boot project on tomcat server.</p>\n<p>Locally via Intellij IDEA everything is working.</p>\n<p>This is my RestController:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/spring-mvc&quot;)\npublic class HomeController {\n\n    @GetMapping(&quot;/index&quot;)\n    public String homePage() {\n        return &quot;&lt;p style='color: green;'&gt;Hello, World&lt;/p&gt;&quot;;\n    }\n}\n</code></pre>\n<p>This is my Main Class</p>\n<pre><code>@Configuration\n@ComponentScan\n@EnableAutoConfiguration\npublic class Main extends SpringBootServletInitializer {\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(Main.class);\n    }\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n<p>This is the pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; \n    &lt;/parent&gt;\n    &lt;groupId&gt;com.visionthing&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-mvc&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-mvc&lt;/name&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;6.0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;spring-mvc&lt;/finalName&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I exported the war via maven cli and moved it to the /webapps folder of my tomcat installation.</p>\n<p>tomcat is running openjdk 19 as well as my local project.</p>\n<p>When opening tomcat webui manager the folder shows up, clicking on it redirects me to http://localhost:8081/spring-mvc/ this site displays the 404 error page of tomcat.\nas well as\nhttp://localhost:8081/spring-mvc/index\nhttp://localhost:8081/spring-mvc/spring-mvc/index</p>\n<p>I was expecting to see Hello, World written in green on http://localhost:8081/spring-mvc/index</p>\n<p>did i forget something?</p>\n<p>thanks in regard.</p>\n<p>i'm running linux pop-os based on ubuntu 22.04 LTS</p>\n"},{"tags":["java","visual-studio-code","jena"],"comments":[{"owner":{"account_id":1122289,"reputation":5100,"user_id":1110381,"accept_rate":77,"display_name":"l4mpi"},"score":0,"creation_date":1676377688,"post_id":75446486,"comment_id":133121130,"body_markdown":"So you want to turn VSCode it into a Java IDE via plugins? Seems like a bad idea, because actual Java IDEs like Eclipse (or even IntelliJ) are laser-focused on Java as opposed to being a generic editor and include tons of java specific functionality which will be hard to replicate. Not saying it&#39;s impossible, maybe VSCode and plugins got significantly better since I checked it out a few years ago, but it feels like you&#39;re setting yourself up for failure. I&#39;d recommend simply checking out Eclipse or IntelliJ (and I say this as someone who writes all code _except_ java in vim).","body":"So you want to turn VSCode it into a Java IDE via plugins? Seems like a bad idea, because actual Java IDEs like Eclipse (or even IntelliJ) are laser-focused on Java as opposed to being a generic editor and include tons of java specific functionality which will be hard to replicate. Not saying it&#39;s impossible, maybe VSCode and plugins got significantly better since I checked it out a few years ago, but it feels like you&#39;re setting yourself up for failure. I&#39;d recommend simply checking out Eclipse or IntelliJ (and I say this as someone who writes all code <i>except</i> java in vim)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676393413,"post_id":75446486,"comment_id":133126358,"body_markdown":"Consult the documentation of the specific plugin you&#39;re using to see how you can add libraries to the classpath of your project. However, I would really recommend using IntelliJ or Eclipse.","body":"Consult the documentation of the specific plugin you&#39;re using to see how you can add libraries to the classpath of your project. However, I would really recommend using IntelliJ or Eclipse."}],"answers":[{"comments":[{"owner":{"account_id":37614,"reputation":28196,"user_id":107591,"accept_rate":91,"display_name":"RobV"},"score":0,"creation_date":1676972716,"post_id":75454883,"comment_id":133239983,"body_markdown":"Manually referencing JAR files is a very brittle way to construct a Java project.  You would be much better off using a dependency manager like [Apache Maven](https://maven.apache.org) or [Gradle](https://gradle.org).  Jena has documentation on how to use it via [Maven](https://jena.apache.org/download/maven.html)","body":"Manually referencing JAR files is a very brittle way to construct a Java project.  You would be much better off using a dependency manager like <a href=\"https://maven.apache.org\" rel=\"nofollow noreferrer\">Apache Maven</a> or <a href=\"https://gradle.org\" rel=\"nofollow noreferrer\">Gradle</a>.  Jena has documentation on how to use it via <a href=\"https://jena.apache.org/download/maven.html\" rel=\"nofollow noreferrer\">Maven</a>"}],"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676426657,"creation_date":1676426657,"answer_id":75454883,"question_id":75446486,"body_markdown":"Use Java in VSCODE. You need to install the [**Extension Pack for Java**][1], and the [documentation][2] contains more information.\r\n\r\nUse VSCode to open the Java project folder, expand the project structure and display it on the **JAVA PROJECTS** panel.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nClick the plus icon next to *Referenced Libraries* to add a `.jar` file reference. Of course you need to download the Jena library on your machine first.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nOr use the following configuration in setting to add reference.\r\n\r\n```json\r\n&quot;java.project.referencedLibraries&quot;: [\r\n    &quot;/path/to/jena/lib/*.jar&quot;\r\n]\r\n```\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://code.visualstudio.com/docs/java/java-tutorial\r\n  [3]: https://i.stack.imgur.com/iZAbw.png\r\n  [4]: https://i.stack.imgur.com/goAMl.png","title":"How to import apache.jena into Visual Studio Code?","body":"<p>Use Java in VSCODE. You need to install the <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\"><strong>Extension Pack for Java</strong></a>, and the <a href=\"https://code.visualstudio.com/docs/java/java-tutorial\" rel=\"nofollow noreferrer\">documentation</a> contains more information.</p>\n<p>Use VSCode to open the Java project folder, expand the project structure and display it on the <strong>JAVA PROJECTS</strong> panel.</p>\n<p><a href=\"https://i.stack.imgur.com/iZAbw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iZAbw.png\" alt=\"enter image description here\" /></a></p>\n<p>Click the plus icon next to <em>Referenced Libraries</em> to add a <code>.jar</code> file reference. Of course you need to download the Jena library on your machine first.</p>\n<p><a href=\"https://i.stack.imgur.com/goAMl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/goAMl.png\" alt=\"enter image description here\" /></a></p>\n<p>Or use the following configuration in setting to add reference.</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;java.project.referencedLibraries&quot;: [\n    &quot;/path/to/jena/lib/*.jar&quot;\n]\n</code></pre>\n"}],"owner":{"account_id":15083414,"reputation":29,"user_id":10885402,"display_name":"Sofie J&#230;gtvik Benjaminsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1676426657,"creation_date":1676370428,"question_id":75446486,"body_markdown":"I am getting started with Jena and semantic technologies (I am taking a class on the topic). The lecturer recommends using Eclipse as IDE, but I would like to use Visual Studio Code. How can I import apache.jena? I would like to get information/error messages as you would with any other library.\r\n\r\nI have had amongst VSCode&#39;s extensions, but did not find any support. \r\nI include &quot;import org.apache.jena.rdf.model.*;&quot; and get a &quot;not found&quot; error when I try to compile - unless I also include &quot;-cp &quot;/path/to/apacha/jena/on/my/computer/*:.&quot; when compiling and running the program. \r\n\r\nThe goal is to be able to compile and run without having to include a path to the library and if possible, for VSCode to have an understand of the library (giving me warnings, suggestions, error messages osv.)","title":"How to import apache.jena into Visual Studio Code?","body":"<p>I am getting started with Jena and semantic technologies (I am taking a class on the topic). The lecturer recommends using Eclipse as IDE, but I would like to use Visual Studio Code. How can I import apache.jena? I would like to get information/error messages as you would with any other library.</p>\n<p>I have had amongst VSCode's extensions, but did not find any support.\nI include &quot;import org.apache.jena.rdf.model.<em>;&quot; and get a &quot;not found&quot; error when I try to compile - unless I also include &quot;-cp &quot;/path/to/apacha/jena/on/my/computer/</em>:.&quot; when compiling and running the program.</p>\n<p>The goal is to be able to compile and run without having to include a path to the library and if possible, for VSCode to have an understand of the library (giving me warnings, suggestions, error messages osv.)</p>\n"},{"tags":["java","regex","replace"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676341550,"post_id":75442882,"comment_id":133113785,"body_markdown":"I&#39;m not sure what you mean? It seems like you just want `matcher.group(2) + matcher.group(3) + matcher.group(1)`?","body":"I&#39;m not sure what you mean? It seems like you just want <code>matcher.group(2) + matcher.group(3) + matcher.group(1)</code>?"},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1676341652,"post_id":75442882,"comment_id":133113794,"body_markdown":"@Sweeper true... maybe the example is not general enough... let me edit it.","body":"@Sweeper true... maybe the example is not general enough... let me edit it."},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1676342860,"post_id":75442882,"comment_id":133113911,"body_markdown":"@Sweeper ## Actually, you are right \n- (I couldnt come up with other example -- cuz Java replacemnt syntax is actual simpler than I thought... eg: there is no things like `\\U \\E`) \n- (I should have thought of your simple solution...). \n## *But 2 more questions*: \n- so, to get the replacement, all I need to do is just: convert those literal `$1` into `group(1)` &amp; leave other text as they are, right? -- is there no simpler way to do it?\n- if I am not given the regex replacement string -- I wont know the groups, then can I still get the replacement result?","body":"@Sweeper ## Actually, you are right  - (I couldnt come up with other example -- cuz Java replacemnt syntax is actual simpler than I thought... eg: there is no things like <code>\\U \\E</code>)  - (I should have thought of your simple solution...).  ## <i>But 2 more questions</i>:  - so, to get the replacement, all I need to do is just: convert those literal <code>$1</code> into <code>group(1)</code> &amp; leave other text as they are, right? -- is there no simpler way to do it? - if I am not given the regex replacement string -- I wont know the groups, then can I still get the replacement result?"},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676343093,"post_id":75442882,"comment_id":133113938,"body_markdown":"I don&#39;t know about you, but I personally think the replacement string syntax is relatively complicated, considering there are escape characters and things. You can see how they parse it in [the source of `appendReplacement`](http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/regex/Matcher.java#l794).","body":"I don&#39;t know about you, but I personally think the replacement string syntax is relatively complicated, considering there are escape characters and things. You can see how they parse it in <a href=\"http://hg.openjdk.java.net/jdk8/jdk8/jdk/file/687fd7c7986d/src/share/classes/java/util/regex/Matcher.java#l794\" rel=\"nofollow noreferrer\">the source of <code>appendReplacement</code></a>."},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1676343588,"post_id":75442882,"comment_id":133113993,"body_markdown":"@Sweeper - That seems like I cant just simply convert those `$1` into `group(1)` (source code process them one character by one character)... \n- Thats also what I afraid &amp; why I was asking for a *standardized function like* `matcher.currentMatchedReplacementResult();` (if such exist) ...","body":"@Sweeper - That seems like I cant just simply convert those <code>$1</code> into <code>group(1)</code> (source code process them one character by one character)...  - Thats also what I afraid &amp; why I was asking for a <i>standardized function like</i> <code>matcher.currentMatchedReplacementResult();</code> (if such exist) ..."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1676349453,"post_id":75442882,"comment_id":133114631,"body_markdown":"Please add some examples of input and expected output to your question. Or is it as simple as `Sample sentence: snake, snail, snow, spider` should produce `Sample enstence: naske, nasil, nosw, pisder`?","body":"Please add some examples of input and expected output to your question. Or is it as simple as <code>Sample sentence: snake, snail, snow, spider</code> should produce <code>Sample enstence: naske, nasil, nosw, pisder</code>?"}],"answers":[{"comments":[{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1676361064,"post_id":75443562,"comment_id":133116404,"body_markdown":"- Close but not really what I look for, this was discussed in the comments. - Also this only solves this particular ex, I was looking for a more *general* solution. - My question_post wrote the *potential way* to do it. - And I just *uploaded code* for one of the possible way in my answer_post, (though its long &amp; codes arent structuralized prettily).","body":"- Close but not really what I look for, this was discussed in the comments. - Also this only solves this particular ex, I was looking for a more <i>general</i> solution. - My question_post wrote the <i>potential way</i> to do it. - And I just <i>uploaded code</i> for one of the possible way in my answer_post, (though its long &amp; codes arent structuralized prettily)."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1676361492,"post_id":75443562,"comment_id":133116490,"body_markdown":"I don&#39;t understand what you want. Is it that you want to get a list of all the original matches? Eg `[sen, sna, sna, sno, spi]`?","body":"I don&#39;t understand what you want. Is it that you want to get a list of all the original matches? Eg <code>[sen, sna, sna, sno, spi]</code>?"},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1676412412,"post_id":75443562,"comment_id":133131366,"body_markdown":"In the ex code of my question_post: - `String regexMatchedSubstitution = null; // &lt;&lt; What should I put here -- to get each replacement result?` -- this is what I ultimately want for all general cases. - `System.out.println(arr_regexMatchedSubstitution); // [ens, nas, nas, nos, pis] // &lt;&lt; expect` -- this is the expected result only for this particular example. - (The ex I use in my answer_post varied a bit, but the general idea&amp;purpose didnt change.)","body":"In the ex code of my question_post: - <code>String regexMatchedSubstitution = null; &#47;&#47; &lt;&lt; What should I put here -- to get each replacement result?</code> -- this is what I ultimately want for all general cases. - <code>System.out.println(arr_regexMatchedSubstitution); &#47;&#47; [ens, nas, nas, nos, pis] &#47;&#47; &lt;&lt; expect</code> -- this is the expected result only for this particular example. - (The ex I use in my answer_post varied a bit, but the general idea&amp;purpose didnt change.)"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1676426645,"post_id":75443562,"comment_id":133133454,"body_markdown":"@Nor.Z see edits to my answer that capture the matched parts of the original string. I don&#39;t think I can do much better than this.","body":"@Nor.Z see edits to my answer that capture the matched parts of the original string. I don&#39;t think I can do much better than this."},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1676439050,"post_id":75443562,"comment_id":133134886,"body_markdown":"You misunderstood my post. I know can get `the current matched result`, but I want `the current replacement result`, and solution should be more general (not limited only to the ex I provided). (but dont worry, I have a workaround)","body":"You misunderstood my post. I know can get <code>the current matched result</code>, but I want <code>the current replacement result</code>, and solution should be more general (not limited only to the ex I provided). (but dont worry, I have a workaround)"}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676426584,"creation_date":1676350066,"answer_id":75443562,"question_id":75442882,"body_markdown":"You can use [`replaceAll(Function&lt;MatchResult, String&gt; replacer)`][1] on a `Matcher` to &quot;intercept&quot; the replacement:\r\n\r\n```java\r\nString input = &quot;Sample sentence: snake, snail, snow, spider&quot;;\r\nList&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\nString result = Pattern.compile(&quot;(s)(.)(.)&quot;).matcher(input)\r\n  .replaceAll(mr -&gt; {\r\n     matches.add(mr.group());\r\n     return mr.group(2) + mr.group(3) + mr.group(1);\r\n  });\r\nSystem.out.println(result);\r\nSystem.out.println(matches);\r\n```\r\n\r\nOutput:\r\n\r\n    Sample enstence: naske, nasil, nosw, pisder\r\n    [sen, sna, sna, sno, spi]\r\n\r\n\r\n  [1]: https://download.java.net/java/early_access/panama/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\r\n","title":"How to get each individual replacement result from a Regex replacement?","body":"<p>You can use <a href=\"https://download.java.net/java/early_access/panama/docs/api/java.base/java/util/regex/Matcher.html#replaceAll(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>replaceAll(Function&lt;MatchResult, String&gt; replacer)</code></a> on a <code>Matcher</code> to &quot;intercept&quot; the replacement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;Sample sentence: snake, snail, snow, spider&quot;;\nList&lt;String&gt; matches = new ArrayList&lt;&gt;();\nString result = Pattern.compile(&quot;(s)(.)(.)&quot;).matcher(input)\n  .replaceAll(mr -&gt; {\n     matches.add(mr.group());\n     return mr.group(2) + mr.group(3) + mr.group(1);\n  });\nSystem.out.println(result);\nSystem.out.println(matches);\n</code></pre>\n<p>Output:</p>\n<pre><code>Sample enstence: naske, nasil, nosw, pisder\n[sen, sna, sna, sno, spi]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676413916,"creation_date":1676360690,"answer_id":75444744,"question_id":75442882,"body_markdown":"### solution (workaround) Java implementation \r\n\r\n- @logic::\r\n\r\n  &gt; Record the end index before the append &amp; count from that index to get the Appended Replacement after the append.\r\n\r\n- @code::\r\n\r\n  ```java\r\n    public class Test {\r\n    \r\n      public static void main(String[] args) {\r\n        String content_SearchOn = &quot;Sample sentence: snake, snail, snow, spider&quot;;\r\n        String regexStrSubstitution = &quot;$2$3x$1&quot;;\r\n        String regexStrMatchFor = &quot;(s)(.)(.).&quot;;\r\n    \r\n        Matcher matcher = Pattern.compile(regexStrMatchFor).matcher(content_SearchOn);\r\n    \r\n        ArrayList&lt;String&gt; arr_regexMatchedWord = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;String&gt; arr_regexMatchedSubstitution = new ArrayList&lt;&gt;();\r\n    \r\n        StringBuilder sb_content_SearchOn = new StringBuilder(content_SearchOn);\r\n        StringBuilder sb_content_Replaced = new StringBuilder();\r\n    \r\n        String content_OriPlusCurrAppendSubsti = null;\r\n        StringBuilder sb_CurrAppendSubsti_buffer = null;\r\n    \r\n        int indStart_g0_curr = -1;\r\n        int indEnd_g0_curr = -1;\r\n        int indStart_g0_prev = -1;\r\n        int indEnd_g0_prev = -1;\r\n        while (matcher.find()) {\r\n          // #&gt;&gt;&gt;#\r\n          String regexMatchedWord = matcher.group();\r\n          indStart_g0_curr = matcher.start();\r\n          indEnd_g0_curr = matcher.end();\r\n          arr_regexMatchedWord.add(regexMatchedWord);\r\n    \r\n          // #&gt;&gt;&gt;\r\n          // @main[business logic]::\r\n          \r\n          // &lt;strike&gt; length_sb_content_Replaced_prev = sb_content_Replaced.length();\r\n          // &lt;strike&gt; String regexMatchedSubstitution = sb_content_Replaced.substring(length_sb_content_Replaced_prev);\r\n          // @note: it appends both the `the intervening text` + `the match substitution` ...\r\n          \r\n          //need_check,need_confrim_recall if multi call? // matcher.appendReplacement(new StringBuilder(), regexStrSubstitution); // ok its broken, so cant\r\n          \r\n          //~ matcher.appendReplacement(sb_content_Replaced, regexStrSubstitution);\r\n          sb_CurrAppendSubsti_buffer = new StringBuilder();\r\n          matcher.appendReplacement(sb_CurrAppendSubsti_buffer, regexStrSubstitution + &quot;_$0&quot;);\r\n          sb_content_Replaced.append(sb_CurrAppendSubsti_buffer);\r\n          // @main;;\r\n          \r\n          // #&gt;&gt;&gt;\r\n          // @main[get the individual replacement result]::\r\n          //~ String regexMatchedSubstitution = null; // &lt;&lt; What should I put here -- to get each replacement result?\r\n          if (indEnd_g0_prev == -1) {\r\n            content_OriPlusCurrAppendSubsti = &quot;&quot;;\r\n          } else {\r\n            content_OriPlusCurrAppendSubsti = sb_content_SearchOn.substring(0, indEnd_g0_prev);\r\n          }\r\n          content_OriPlusCurrAppendSubsti += sb_CurrAppendSubsti_buffer;\r\n          String regexMatchedSubstitution = content_OriPlusCurrAppendSubsti.substring(indStart_g0_curr);\r\n          arr_regexMatchedSubstitution.add(regexMatchedSubstitution);\r\n          // @main;;\r\n    \r\n          // #&gt;&gt;&gt;#\r\n          indStart_g0_prev = indStart_g0_curr;\r\n          indEnd_g0_prev = indEnd_g0_curr;\r\n        }\r\n        matcher.appendTail(sb_content_Replaced);\r\n    \r\n        //\r\n        System.out.println(sb_content_Replaced); // Sample enxs_sentence: naxs_snake, naxs_snail, noxs_snow, pixs_spider\r\n        System.out.println(arr_regexMatchedWord); // [sent, snak, snai, snow, spid]\r\n        System.out.println(arr_regexMatchedSubstitution); // [enxs_sent, naxs_snak, naxs_snai, noxs_snow, pixs_spid] // &lt;&lt; expect\r\n    \r\n      }\r\n    \r\n    }\r\n  ```\r\n\r\n\r\n### solution (workaround) Javascript implementation \r\n\r\n- @logic:: \r\n\r\n  simply brute force with `hardcode string delimiter indicator` in regex\r\n\r\n  1. `replaceAll()` -- add brackets around the `matched replacement` during replacement \r\n\r\n  2. `matchAll()` -- search the `matched replacement` that was enclosed in the brackets\r\n\r\n\r\n- @code (moved from specific example to a general class [here])::\r\n\r\n  ```js\r\n    class RegexUtil {\r\n      // https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\r\n      // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\r\n      /**\r\n       * @param {String} literal_string\r\n       * @returns {String}\r\n       */\r\n      static escapeRegex(literal_string) {\r\n        return literal_string.replace(/[-[\\]{}()*+!&lt;=:?.\\/\\\\^$|#\\s,]/g, &#39;\\\\$&amp;&#39;);\r\n      }\r\n\r\n      /**\r\n       * @param {String} string\r\n       * @returns {String}\r\n       */\r\n      static escapeRegexReplacement(string) {\r\n        return string.replace(/\\$/g, &#39;$$$$&#39;);\r\n      }\r\n\r\n      /**\r\n       * @param {String} content_SearchOn \r\n       * @param {RegExp} regexMatchFor \r\n       * @param {String} regexStrSubstitution \r\n       * @param {String} regexFlag \r\n       * @returns {String[]}\r\n       */\r\n      static get_RegexMatchedReplacement(content_SearchOn, regexMatchFor, regexStrSubstitution) {\r\n        const arr_regexMatchedSubstitution = [];\r\n\r\n        let time_now;\r\n        let delim_regexMatchedSub_left;\r\n        let delim_regexMatchedSub_right;\r\n        /** @type {IterableIterator&lt;RegExpMatchArray&gt;} */ let itr;\r\n        let i = 0;\r\n        do {\r\n          i++;\r\n          if (i === 50) {\r\n            throw new Error(&#39;Many loops tried, Unable to brute force with hardcode string indicator in regex. (The chance of this happening is nearly impossible.)&#39;);\r\n          }\r\n          time_now = Date.now();\r\n          delim_regexMatchedSub_left = &#39;@drmsL&#39; + time_now + &#39;;&#39;;\r\n          delim_regexMatchedSub_right = &#39;@drmsR&#39; + time_now + &#39;;&#39;;\r\n          itr = content_SearchOn.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + &#39;|&#39; + RegexUtil.escapeRegex(delim_regexMatchedSub_right), &#39;g&#39;));\r\n        } while (itr.next().done !== true);\r\n\r\n        const content_Replaced_WithDelimiter = content_SearchOn.replaceAll(regexMatchFor, RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_left) + regexStrSubstitution + RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_right));\r\n        itr = content_Replaced_WithDelimiter.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + &#39;(.*?)&#39; + RegexUtil.escapeRegex(delim_regexMatchedSub_right), &#39;gs&#39;)); // need flag s\r\n        for (const matcher_curr of itr) {\r\n          arr_regexMatchedSubstitution.push(matcher_curr[1]);\r\n        }\r\n\r\n        return arr_regexMatchedSubstitution;\r\n      }\r\n    }\r\n  ```\r\n\r\n- @code (moved from specific example [here] to a general class)::\r\n\r\n  &lt;strike&gt;\r\n\r\n  ```js\r\n      class RegexUtil {\r\n        // https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\r\n        // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\r\n        /**\r\n         * @param {String} literal_string\r\n         * @returns {String}\r\n         */\r\n        static escapeRegex(literal_string) {\r\n          return literal_string.replace(/[-[\\]{}()*+!&lt;=:?.\\/\\\\^$|#\\s,]/g, &#39;\\\\$&amp;&#39;);\r\n        }\r\n\r\n        /**\r\n         * @param {String} string\r\n         * @returns {String}\r\n         */\r\n        static escapeRegexReplacement(string) {\r\n          return string.replace(/\\$/g, &#39;$$$$&#39;);\r\n        }\r\n      }\r\n\r\n      //think aga, to use a generic way to escape special meaning delimiter in regex ...\r\n      const content_SearchOn = &#39;Sample sentence: snake, snail, snow, spider&#39;;\r\n      let regexStrSubstitution = &#39;$2$3x$1&#39;;\r\n      const regexStrMatchFor = &#39;(s)(.)(.).&#39;;\r\n      const regexFlag = &#39;gmd&#39;;\r\n\r\n      regexStrSubstitution += &#39;_$&amp;&#39;;\r\n\r\n      const arr_regexMatchedWord = [];\r\n      const arr_regexMatchedSubstitution = [];\r\n\r\n      let time_now;\r\n      let delim_regexMatchedSub_left;\r\n      let delim_regexMatchedSub_right;\r\n      /** @type {IterableIterator&lt;RegExpMatchArray&gt;} */ let itr;\r\n      let i = 0;\r\n      do {\r\n        i++;\r\n        if (i === 50) {\r\n          throw new Error(&#39;Many loops tried, Unable to brute force with hardcode string indicator in regex. (The chance of this happening is nearly impossible.)&#39;);\r\n        }\r\n        time_now = Date.now();\r\n        delim_regexMatchedSub_left = &#39;@drmsL&#39; + time_now + &#39;;&#39;;\r\n        delim_regexMatchedSub_right = &#39;@drmsR&#39; + time_now + &#39;;&#39;;\r\n        itr = content_SearchOn.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + &#39;|&#39; + RegexUtil.escapeRegex(delim_regexMatchedSub_right), &#39;g&#39;));\r\n      } while (itr.next().done !== true);\r\n\r\n      const content_Replaced_WithDelimiter = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_left) + regexStrSubstitution + RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_right));\r\n      itr = content_Replaced_WithDelimiter.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + &#39;(.*?)&#39; + RegexUtil.escapeRegex(delim_regexMatchedSub_right), &#39;gs&#39;)); // need flag s\r\n      for (const matcher_curr of itr) {\r\n        arr_regexMatchedSubstitution.push(matcher_curr[1]);\r\n      }\r\n\r\n      itr = content_SearchOn.matchAll(new RegExp(regexStrMatchFor, regexFlag));\r\n      for (const matcher_curr of itr) {\r\n        arr_regexMatchedWord.push(matcher_curr[0]);\r\n      }\r\n\r\n      const content_Replaced = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), regexStrSubstitution);\r\n\r\n      console.log(content_Replaced); // Sample enxs_sentence: naxs_snake, naxs_snail, noxs_snow, pixs_spider\r\n      console.log(arr_regexMatchedWord); // [sent, snak, snai, snow, spid]\r\n      console.log(arr_regexMatchedSubstitution); // [enxs_sent, naxs_snak, naxs_snai, noxs_snow, pixs_spid] // &lt;&lt; expect\r\n  ```\r\n\r\n  &lt;/strike&gt;\r\n\r\n\r\n\r\n#### comment (minor)\r\n\r\n- The reason to brute force it with `hardcode string indicator in regex` is that, \r\n\r\n  Javascript is even worse at: \r\n\r\n  - not providing the `appendReplacement()`\r\n\r\n  - `replacer callback function` does not support those `$1` \r\n\r\n    &gt; **Note:** The above-mentioned special replacement patterns do *not* apply for strings returned from the replacer function.\r\n    &gt; \r\n    &gt; https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_the_replacement\r\n\r\n- &gt; replacer callback function does not support those `$1`\r\n\r\n  Which makes this following idea useless (could have work) (complex &amp; low performance) ::\r\n\r\n  &lt;strike&gt;\r\n\r\n  ```js\r\n      for (const matcher_curr of itr_matcher) {\r\n        ind_ReplaceOnlyCurrOne++;\r\n\r\n        let ind_Match = -1;\r\n        function replace_OnlyOneWord_c_for_get_regexMatchedSubstitution(...args) {\r\n          ind_Match++;\r\n          /** @type {String} */ const g0 = args[0]; \r\n          if (ind_Match === ind_ReplaceOnlyCurrOne) {\r\n            // prettier-ignore \r\n            let arg_last = args.at(-1); let ind_g0; let content_SearchOn; let groups;\r\n            // prettier-ignore \r\n            if (typeof arg_last === &#39;string&#39;) { content_SearchOn = arg_last; ind_g0 = args.at(-2); } else { groups = arg_last; content_SearchOn = args.at(-2); ind_g0 = args.at(-3); }\r\n    \r\n            arr_regexMatchedWord.push(g0);\r\n            indStart_g0 = ind_g0;\r\n            indEnd_g0 = ind_g0 + g0.length;\r\n  \r\n            return replacer_main(args);\r\n          } else {\r\n            return RegexUtil.escapeRegexReplacement(g0);\r\n          }\r\n        }\r\n\r\n        const content_ReplacedOnlyCurrOne__P1_Pm_P2 = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), replace_OnlyOneWord_c_for_get_regexMatchedSubstitution);\r\n        const Pm_P2 = content_ReplacedOnlyCurrOne__P1_Pm_P2.slice(indStart_g0);\r\n        const P2 = content_SearchOn.slice(indEnd_g0);\r\n        const regexMatchedSubstitution__Pm = Pm_P2.replaceAll(new RegExp(RegexUtil.escapeRegexp(P2)+&#39;$&#39;, &#39;g&#39;), &#39;&#39;);\r\n        arr_regexMatchedSubstitution.push(regexMatchedSubstitution__Pm);\r\n      }\r\n  ```\r\n\r\n  &lt;/strike&gt;\r\n","title":"How to get each individual replacement result from a Regex replacement?","body":"<h3>solution (workaround) Java implementation</h3>\n<ul>\n<li><p>@logic::</p>\n<blockquote>\n<p>Record the end index before the append &amp; count from that index to get the Appended Replacement after the append.</p>\n</blockquote>\n</li>\n<li><p>@code::</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public class Test {\n\n    public static void main(String[] args) {\n      String content_SearchOn = &quot;Sample sentence: snake, snail, snow, spider&quot;;\n      String regexStrSubstitution = &quot;$2$3x$1&quot;;\n      String regexStrMatchFor = &quot;(s)(.)(.).&quot;;\n\n      Matcher matcher = Pattern.compile(regexStrMatchFor).matcher(content_SearchOn);\n\n      ArrayList&lt;String&gt; arr_regexMatchedWord = new ArrayList&lt;&gt;();\n      ArrayList&lt;String&gt; arr_regexMatchedSubstitution = new ArrayList&lt;&gt;();\n\n      StringBuilder sb_content_SearchOn = new StringBuilder(content_SearchOn);\n      StringBuilder sb_content_Replaced = new StringBuilder();\n\n      String content_OriPlusCurrAppendSubsti = null;\n      StringBuilder sb_CurrAppendSubsti_buffer = null;\n\n      int indStart_g0_curr = -1;\n      int indEnd_g0_curr = -1;\n      int indStart_g0_prev = -1;\n      int indEnd_g0_prev = -1;\n      while (matcher.find()) {\n        // #&gt;&gt;&gt;#\n        String regexMatchedWord = matcher.group();\n        indStart_g0_curr = matcher.start();\n        indEnd_g0_curr = matcher.end();\n        arr_regexMatchedWord.add(regexMatchedWord);\n\n        // #&gt;&gt;&gt;\n        // @main[business logic]::\n\n        // &lt;strike&gt; length_sb_content_Replaced_prev = sb_content_Replaced.length();\n        // &lt;strike&gt; String regexMatchedSubstitution = sb_content_Replaced.substring(length_sb_content_Replaced_prev);\n        // @note: it appends both the `the intervening text` + `the match substitution` ...\n\n        //need_check,need_confrim_recall if multi call? // matcher.appendReplacement(new StringBuilder(), regexStrSubstitution); // ok its broken, so cant\n\n        //~ matcher.appendReplacement(sb_content_Replaced, regexStrSubstitution);\n        sb_CurrAppendSubsti_buffer = new StringBuilder();\n        matcher.appendReplacement(sb_CurrAppendSubsti_buffer, regexStrSubstitution + &quot;_$0&quot;);\n        sb_content_Replaced.append(sb_CurrAppendSubsti_buffer);\n        // @main;;\n\n        // #&gt;&gt;&gt;\n        // @main[get the individual replacement result]::\n        //~ String regexMatchedSubstitution = null; // &lt;&lt; What should I put here -- to get each replacement result?\n        if (indEnd_g0_prev == -1) {\n          content_OriPlusCurrAppendSubsti = &quot;&quot;;\n        } else {\n          content_OriPlusCurrAppendSubsti = sb_content_SearchOn.substring(0, indEnd_g0_prev);\n        }\n        content_OriPlusCurrAppendSubsti += sb_CurrAppendSubsti_buffer;\n        String regexMatchedSubstitution = content_OriPlusCurrAppendSubsti.substring(indStart_g0_curr);\n        arr_regexMatchedSubstitution.add(regexMatchedSubstitution);\n        // @main;;\n\n        // #&gt;&gt;&gt;#\n        indStart_g0_prev = indStart_g0_curr;\n        indEnd_g0_prev = indEnd_g0_curr;\n      }\n      matcher.appendTail(sb_content_Replaced);\n\n      //\n      System.out.println(sb_content_Replaced); // Sample enxs_sentence: naxs_snake, naxs_snail, noxs_snow, pixs_spider\n      System.out.println(arr_regexMatchedWord); // [sent, snak, snai, snow, spid]\n      System.out.println(arr_regexMatchedSubstitution); // [enxs_sent, naxs_snak, naxs_snai, noxs_snow, pixs_spid] // &lt;&lt; expect\n\n    }\n\n  }\n</code></pre>\n</li>\n</ul>\n<h3>solution (workaround) Javascript implementation</h3>\n<ul>\n<li><p>@logic::</p>\n<p>simply brute force with <code>hardcode string delimiter indicator</code> in regex</p>\n<ol>\n<li><p><code>replaceAll()</code> -- add brackets around the <code>matched replacement</code> during replacement</p>\n</li>\n<li><p><code>matchAll()</code> -- search the <code>matched replacement</code> that was enclosed in the brackets</p>\n</li>\n</ol>\n</li>\n<li><p>@code (moved from specific example to a general class [here])::</p>\n<pre class=\"lang-js prettyprint-override\"><code>  class RegexUtil {\n    // https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\n    /**\n     * @param {String} literal_string\n     * @returns {String}\n     */\n    static escapeRegex(literal_string) {\n      return literal_string.replace(/[-[\\]{}()*+!&lt;=:?.\\/\\\\^$|#\\s,]/g, '\\\\$&amp;');\n    }\n\n    /**\n     * @param {String} string\n     * @returns {String}\n     */\n    static escapeRegexReplacement(string) {\n      return string.replace(/\\$/g, '$$$$');\n    }\n\n    /**\n     * @param {String} content_SearchOn \n     * @param {RegExp} regexMatchFor \n     * @param {String} regexStrSubstitution \n     * @param {String} regexFlag \n     * @returns {String[]}\n     */\n    static get_RegexMatchedReplacement(content_SearchOn, regexMatchFor, regexStrSubstitution) {\n      const arr_regexMatchedSubstitution = [];\n\n      let time_now;\n      let delim_regexMatchedSub_left;\n      let delim_regexMatchedSub_right;\n      /** @type {IterableIterator&lt;RegExpMatchArray&gt;} */ let itr;\n      let i = 0;\n      do {\n        i++;\n        if (i === 50) {\n          throw new Error('Many loops tried, Unable to brute force with hardcode string indicator in regex. (The chance of this happening is nearly impossible.)');\n        }\n        time_now = Date.now();\n        delim_regexMatchedSub_left = '@drmsL' + time_now + ';';\n        delim_regexMatchedSub_right = '@drmsR' + time_now + ';';\n        itr = content_SearchOn.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + '|' + RegexUtil.escapeRegex(delim_regexMatchedSub_right), 'g'));\n      } while (itr.next().done !== true);\n\n      const content_Replaced_WithDelimiter = content_SearchOn.replaceAll(regexMatchFor, RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_left) + regexStrSubstitution + RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_right));\n      itr = content_Replaced_WithDelimiter.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + '(.*?)' + RegexUtil.escapeRegex(delim_regexMatchedSub_right), 'gs')); // need flag s\n      for (const matcher_curr of itr) {\n        arr_regexMatchedSubstitution.push(matcher_curr[1]);\n      }\n\n      return arr_regexMatchedSubstitution;\n    }\n  }\n</code></pre>\n</li>\n<li><p>@code (moved from specific example [here] to a general class)::</p>\n<strike>\n<pre class=\"lang-js prettyprint-override\"><code>    class RegexUtil {\n      // https://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n      // https://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\n      /**\n       * @param {String} literal_string\n       * @returns {String}\n       */\n      static escapeRegex(literal_string) {\n        return literal_string.replace(/[-[\\]{}()*+!&lt;=:?.\\/\\\\^$|#\\s,]/g, '\\\\$&amp;');\n      }\n\n      /**\n       * @param {String} string\n       * @returns {String}\n       */\n      static escapeRegexReplacement(string) {\n        return string.replace(/\\$/g, '$$$$');\n      }\n    }\n\n    //think aga, to use a generic way to escape special meaning delimiter in regex ...\n    const content_SearchOn = 'Sample sentence: snake, snail, snow, spider';\n    let regexStrSubstitution = '$2$3x$1';\n    const regexStrMatchFor = '(s)(.)(.).';\n    const regexFlag = 'gmd';\n\n    regexStrSubstitution += '_$&amp;';\n\n    const arr_regexMatchedWord = [];\n    const arr_regexMatchedSubstitution = [];\n\n    let time_now;\n    let delim_regexMatchedSub_left;\n    let delim_regexMatchedSub_right;\n    /** @type {IterableIterator&lt;RegExpMatchArray&gt;} */ let itr;\n    let i = 0;\n    do {\n      i++;\n      if (i === 50) {\n        throw new Error('Many loops tried, Unable to brute force with hardcode string indicator in regex. (The chance of this happening is nearly impossible.)');\n      }\n      time_now = Date.now();\n      delim_regexMatchedSub_left = '@drmsL' + time_now + ';';\n      delim_regexMatchedSub_right = '@drmsR' + time_now + ';';\n      itr = content_SearchOn.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + '|' + RegexUtil.escapeRegex(delim_regexMatchedSub_right), 'g'));\n    } while (itr.next().done !== true);\n\n    const content_Replaced_WithDelimiter = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_left) + regexStrSubstitution + RegexUtil.escapeRegexReplacement(delim_regexMatchedSub_right));\n    itr = content_Replaced_WithDelimiter.matchAll(new RegExp(RegexUtil.escapeRegex(delim_regexMatchedSub_left) + '(.*?)' + RegexUtil.escapeRegex(delim_regexMatchedSub_right), 'gs')); // need flag s\n    for (const matcher_curr of itr) {\n      arr_regexMatchedSubstitution.push(matcher_curr[1]);\n    }\n\n    itr = content_SearchOn.matchAll(new RegExp(regexStrMatchFor, regexFlag));\n    for (const matcher_curr of itr) {\n      arr_regexMatchedWord.push(matcher_curr[0]);\n    }\n\n    const content_Replaced = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), regexStrSubstitution);\n\n    console.log(content_Replaced); // Sample enxs_sentence: naxs_snake, naxs_snail, noxs_snow, pixs_spider\n    console.log(arr_regexMatchedWord); // [sent, snak, snai, snow, spid]\n    console.log(arr_regexMatchedSubstitution); // [enxs_sent, naxs_snak, naxs_snai, noxs_snow, pixs_spid] // &lt;&lt; expect\n</code></pre>\n</strike>\n</li>\n</ul>\n<h4>comment (minor)</h4>\n<ul>\n<li><p>The reason to brute force it with <code>hardcode string indicator in regex</code> is that,</p>\n<p>Javascript is even worse at:</p>\n<ul>\n<li><p>not providing the <code>appendReplacement()</code></p>\n</li>\n<li><p><code>replacer callback function</code> does not support those <code>$1</code></p>\n<blockquote>\n<p><strong>Note:</strong> The above-mentioned special replacement patterns do <em>not</em> apply for strings returned from the replacer function.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_the_replacement\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_the_replacement</a></p>\n</blockquote>\n</li>\n</ul>\n</li>\n<li>\n<blockquote>\n<p>replacer callback function does not support those <code>$1</code></p>\n</blockquote>\n<p>Which makes this following idea useless (could have work) (complex &amp; low performance) ::</p>\n<strike>\n<pre class=\"lang-js prettyprint-override\"><code>    for (const matcher_curr of itr_matcher) {\n      ind_ReplaceOnlyCurrOne++;\n\n      let ind_Match = -1;\n      function replace_OnlyOneWord_c_for_get_regexMatchedSubstitution(...args) {\n        ind_Match++;\n        /** @type {String} */ const g0 = args[0]; \n        if (ind_Match === ind_ReplaceOnlyCurrOne) {\n          // prettier-ignore \n          let arg_last = args.at(-1); let ind_g0; let content_SearchOn; let groups;\n          // prettier-ignore \n          if (typeof arg_last === 'string') { content_SearchOn = arg_last; ind_g0 = args.at(-2); } else { groups = arg_last; content_SearchOn = args.at(-2); ind_g0 = args.at(-3); }\n\n          arr_regexMatchedWord.push(g0);\n          indStart_g0 = ind_g0;\n          indEnd_g0 = ind_g0 + g0.length;\n\n          return replacer_main(args);\n        } else {\n          return RegexUtil.escapeRegexReplacement(g0);\n        }\n      }\n\n      const content_ReplacedOnlyCurrOne__P1_Pm_P2 = content_SearchOn.replaceAll(new RegExp(regexStrMatchFor, regexFlag), replace_OnlyOneWord_c_for_get_regexMatchedSubstitution);\n      const Pm_P2 = content_ReplacedOnlyCurrOne__P1_Pm_P2.slice(indStart_g0);\n      const P2 = content_SearchOn.slice(indEnd_g0);\n      const regexMatchedSubstitution__Pm = Pm_P2.replaceAll(new RegExp(RegexUtil.escapeRegexp(P2)+'$', 'g'), '');\n      arr_regexMatchedSubstitution.push(regexMatchedSubstitution__Pm);\n    }\n</code></pre>\n</strike>\n</li>\n</ul>\n"}],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676426584,"creation_date":1676340996,"question_id":75442882,"body_markdown":"### question \r\n\r\nHow to get **each individual replacement result** from a Regex replacement?\r\n\r\n### ex\r\n\r\n`String regexMatchedWord = matcher.group();` allows me to access the current matched result; \r\n\r\nBut is there something like `String regexMatchedSubstitution = matcher.currentMatchedReplacementResult();` allows me to access **the current replacement result**?\r\n\r\n\r\n```java\r\npublic class Test {\r\n\r\n  public static void main(String[] args) {\r\n    String content_SearchOn = &quot;Sample sentence: snake, snail, snow, spider&quot;;\r\n    String regexStrSubstitution = &quot;$2$3$1&quot;;\r\n    String regexStrMatchFor = &quot;(s)(.)(.)&quot;;\r\n\r\n    Matcher matcher = Pattern.compile(regexStrMatchFor).matcher(content_SearchOn);\r\n\r\n    ArrayList&lt;String&gt; arr_regexMatchedWord = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;String&gt; arr_regexMatchedSubstitution = new ArrayList&lt;&gt;();\r\n\r\n    StringBuilder sb_content_Replaced = new StringBuilder();\r\n    while (matcher.find()) {\r\n      String regexMatchedWord = matcher.group();\r\n      arr_regexMatchedWord.add(regexMatchedWord);\r\n\r\n      matcher.appendReplacement(sb_content_Replaced, regexStrSubstitution);\r\n\r\n      String regexMatchedSubstitution = null; // &lt;&lt; What should I put here -- to get each replacement result?\r\n      arr_regexMatchedSubstitution.add(regexMatchedSubstitution);\r\n    }\r\n    matcher.appendTail(sb_content_Replaced);\r\n\r\n    System.out.println(sb_content_Replaced); // Sample enstence: naske, nasil, nosw, pisder\r\n    System.out.println(arr_regexMatchedWord); // [sen, sna, sna, sno, spi]\r\n    System.out.println(arr_regexMatchedSubstitution); // [ens, nas, nas, nos, pis] // &lt;&lt; expect\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n### comments\r\n\r\n- if Java is not able to do this, is there any other language able to? (Javascript? Python?)\r\n\r\n---\r\n\r\n***Update***: potential solution (workaround)\r\n\r\n- (as talked in the comment) A simple possible way might be: \r\n\r\n  convert those `$1` into `group(1)` programmatically, \r\n\r\n  but you have to watch out for the escape characters like `\\` that has special meaning...\r\n\r\n- Another way might be:\r\n\r\n  use Reflection to somehow get the local variable `result` in the source code `appendExpandedReplacement(replacement, result);` of `java.util.regex.Matcher.appendReplacement(StringBuilder, String)`\r\n\r\n  ```java\r\n    public Matcher appendReplacement(StringBuilder sb, String replacement) {\r\n        // If no match, return error\r\n        if (first &lt; 0)\r\n            throw new IllegalStateException(&quot;No match available&quot;);\r\n        StringBuilder result = new StringBuilder();\r\n        appendExpandedReplacement(replacement, result);\r\n        // Append the intervening text\r\n        sb.append(text, lastAppendPosition, first);\r\n        // Append the match substitution\r\n        sb.append(result);\r\n        lastAppendPosition = last;\r\n        modCount++;\r\n        return this;\r\n    }\r\n  ```\r\n\r\n- Or:\r\n\r\n  Record the end index before the append &amp; count from that index to get the Appended Replacement after the append.","title":"How to get each individual replacement result from a Regex replacement?","body":"<h3>question</h3>\n<p>How to get <strong>each individual replacement result</strong> from a Regex replacement?</p>\n<h3>ex</h3>\n<p><code>String regexMatchedWord = matcher.group();</code> allows me to access the current matched result;</p>\n<p>But is there something like <code>String regexMatchedSubstitution = matcher.currentMatchedReplacementResult();</code> allows me to access <strong>the current replacement result</strong>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n  public static void main(String[] args) {\n    String content_SearchOn = &quot;Sample sentence: snake, snail, snow, spider&quot;;\n    String regexStrSubstitution = &quot;$2$3$1&quot;;\n    String regexStrMatchFor = &quot;(s)(.)(.)&quot;;\n\n    Matcher matcher = Pattern.compile(regexStrMatchFor).matcher(content_SearchOn);\n\n    ArrayList&lt;String&gt; arr_regexMatchedWord = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arr_regexMatchedSubstitution = new ArrayList&lt;&gt;();\n\n    StringBuilder sb_content_Replaced = new StringBuilder();\n    while (matcher.find()) {\n      String regexMatchedWord = matcher.group();\n      arr_regexMatchedWord.add(regexMatchedWord);\n\n      matcher.appendReplacement(sb_content_Replaced, regexStrSubstitution);\n\n      String regexMatchedSubstitution = null; // &lt;&lt; What should I put here -- to get each replacement result?\n      arr_regexMatchedSubstitution.add(regexMatchedSubstitution);\n    }\n    matcher.appendTail(sb_content_Replaced);\n\n    System.out.println(sb_content_Replaced); // Sample enstence: naske, nasil, nosw, pisder\n    System.out.println(arr_regexMatchedWord); // [sen, sna, sna, sno, spi]\n    System.out.println(arr_regexMatchedSubstitution); // [ens, nas, nas, nos, pis] // &lt;&lt; expect\n\n  }\n\n}\n</code></pre>\n<h3>comments</h3>\n<ul>\n<li>if Java is not able to do this, is there any other language able to? (Javascript? Python?)</li>\n</ul>\n<hr />\n<p><em><strong>Update</strong></em>: potential solution (workaround)</p>\n<ul>\n<li><p>(as talked in the comment) A simple possible way might be:</p>\n<p>convert those <code>$1</code> into <code>group(1)</code> programmatically,</p>\n<p>but you have to watch out for the escape characters like <code>\\</code> that has special meaning...</p>\n</li>\n<li><p>Another way might be:</p>\n<p>use Reflection to somehow get the local variable <code>result</code> in the source code <code>appendExpandedReplacement(replacement, result);</code> of <code>java.util.regex.Matcher.appendReplacement(StringBuilder, String)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>  public Matcher appendReplacement(StringBuilder sb, String replacement) {\n      // If no match, return error\n      if (first &lt; 0)\n          throw new IllegalStateException(&quot;No match available&quot;);\n      StringBuilder result = new StringBuilder();\n      appendExpandedReplacement(replacement, result);\n      // Append the intervening text\n      sb.append(text, lastAppendPosition, first);\n      // Append the match substitution\n      sb.append(result);\n      lastAppendPosition = last;\n      modCount++;\n      return this;\n  }\n</code></pre>\n</li>\n<li><p>Or:</p>\n<p>Record the end index before the append &amp; count from that index to get the Appended Replacement after the append.</p>\n</li>\n</ul>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1676427174,"post_id":75454832,"comment_id":133133505,"body_markdown":"Note sure if it&#39;s related to your issue, but I strongly recommend you use a `PreparedStatement` and set the parameters instead of building a SQL statement via string concatenation.","body":"Note sure if it&#39;s related to your issue, but I strongly recommend you use a <code>PreparedStatement</code> and set the parameters instead of building a SQL statement via string concatenation."},{"owner":{"account_id":22244359,"reputation":3,"user_id":16478298,"display_name":"Lenza"},"score":0,"creation_date":1676427628,"post_id":75454832,"comment_id":133133560,"body_markdown":"ok i will try to use PreparedStatement, may i ask why i should do that?","body":"ok i will try to use PreparedStatement, may i ask why i should do that?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676427929,"post_id":75454832,"comment_id":133133588,"body_markdown":"https://stackoverflow.com/questions/3271249/difference-between-statement-and-preparedstatement","body":"<a href=\"https://stackoverflow.com/questions/3271249/difference-between-statement-and-preparedstatement\" title=\"difference between statement and preparedstatement\">stackoverflow.com/questions/3271249/&hellip;</a>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1676430359,"post_id":75454832,"comment_id":133133862,"body_markdown":"try and use: `fileakhir.getAbsolutePath().replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;)` instead of: `fileakhir.toString()`.","body":"try and use: <code>fileakhir.getAbsolutePath().replaceAll(&quot;\\\\\\\\&quot;, &quot;&#47;&quot;)</code> instead of: <code>fileakhir.toString()</code>."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1676430769,"post_id":75454832,"comment_id":133133915,"body_markdown":"You can store a string like &quot;src/upload/nameofimage.jpg&quot; (or &quot;src\\upload\\nameofimage.jpg&quot;) in the MySQL database table column of type VARCHAR. If you have the file object defined as `File` or `Path`, just use the `fileobject.toString()` to get its string value and insert into the table. This should work fine.","body":"You can store a string like &quot;src/upload/nameofimage.jpg&quot; (or &quot;src\\upload\\nameofimage.jpg&quot;) in the MySQL database table column of type VARCHAR. If you have the file object defined as <code>File</code> or <code>Path</code>, just use the <code>fileobject.toString()</code> to get its string value and insert into the table. This should work fine."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676436395,"post_id":75454832,"comment_id":133134550,"body_markdown":"&quot;_may i ask why i should do that?_&quot; -- The Q&amp;A linked by tgdavies should answer your question. Probably the most important reason to use `PreparedStatement` is it prevents [SQL injection attacks](https://en.wikipedia.org/wiki/SQL_injection) by properly escaping special characters.","body":"&quot;<i>may i ask why i should do that?</i>&quot; -- The Q&amp;A linked by tgdavies should answer your question. Probably the most important reason to use <code>PreparedStatement</code> is it prevents <a href=\"https://en.wikipedia.org/wiki/SQL_injection\" rel=\"nofollow noreferrer\">SQL injection attacks</a> by properly escaping special characters."}],"owner":{"account_id":22244359,"reputation":3,"user_id":16478298,"display_name":"Lenza"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676425848,"creation_date":1676425848,"question_id":75454832,"body_markdown":"I want to upload a path of an image to mysql database but whenever i tried to upload it, it always upload the path without &#39;/&#39;. example i have a file in src/upload/nameofimage.jpg, in the database it&#39;s srcuploadnameofimage.jpg\r\n\r\nhere is the upload button that i have\r\n```\r\ntry {\r\n            String newpath = &quot;src/upload&quot;;\r\n            File directory = new File(newpath);\r\n            if (!directory.exists()) {\r\n                directory.mkdirs();\r\n            }\r\n            File fileawal = null;\r\n            File fileakhir = null;\r\n            String ext = this.filename.substring(filename.lastIndexOf(&#39;.&#39;)+1);\r\n            fileawal = new File(filename);\r\n            System.out.println(newpath);\r\n            fileakhir = new File(newpath+&quot;/&quot;+Nik.getText()+&quot;.&quot;+ext);\r\n            System.out.println(fileakhir);\r\n            stat = koneksi.createStatement();\r\n            stat.executeUpdate(&quot;insert into user values (&#39;&quot; + Nik.getText() + &quot;&#39;,&#39;&quot; + Nama.getText() + &quot;&#39;,&#39;&quot; + fileakhir.toString() + &quot;&#39;)&quot;);\r\n            System.out.println(fileakhir.toString());\r\n            JOptionPane.showMessageDialog(null, &quot;Akun Sudah Terdaftar, Silahkan Kembali Login&quot;);\r\n            Files.copy(fileawal.toPath(), fileakhir.toPath());\r\n            Login log = new Login();\r\n            log.setVisible(true);\r\n            this.setVisible(false);\r\n        } catch (Exception e) {\r\n            JOptionPane.showMessageDialog(null, e.getMessage());\r\n        }\r\n```\r\nand this is the image picker button that i have\r\n\r\n\r\n```\r\ntry {\r\n                JFileChooser chooser = new JFileChooser();\r\n                chooser.showOpenDialog(null);\r\n                File f = chooser.getSelectedFile();\r\n                ImageIcon icon = new ImageIcon(f.toString());\r\n                Image img = icon.getImage().getScaledInstance(Foto.getWidth(), Foto.getHeight(), Image.SCALE_DEFAULT);\r\n                ImageIcon ic = new ImageIcon(img);\r\n                Foto.setIcon(ic);\r\n                filename = f.getAbsolutePath();\r\n            } catch (Exception e) {\r\n                JOptionPane.showMessageDialog(null, e.getMessage());\r\n            }\r\n```\r\n\r\n\r\nI have tried using .toString(), .getPath(), .getAbsolutePath(), but none of them include &#39;/&#39; in the database","title":"Java Uploading Image Path To Mysql Missing &#39;/&#39;","body":"<p>I want to upload a path of an image to mysql database but whenever i tried to upload it, it always upload the path without '/'. example i have a file in src/upload/nameofimage.jpg, in the database it's srcuploadnameofimage.jpg</p>\n<p>here is the upload button that i have</p>\n<pre><code>try {\n            String newpath = &quot;src/upload&quot;;\n            File directory = new File(newpath);\n            if (!directory.exists()) {\n                directory.mkdirs();\n            }\n            File fileawal = null;\n            File fileakhir = null;\n            String ext = this.filename.substring(filename.lastIndexOf('.')+1);\n            fileawal = new File(filename);\n            System.out.println(newpath);\n            fileakhir = new File(newpath+&quot;/&quot;+Nik.getText()+&quot;.&quot;+ext);\n            System.out.println(fileakhir);\n            stat = koneksi.createStatement();\n            stat.executeUpdate(&quot;insert into user values ('&quot; + Nik.getText() + &quot;','&quot; + Nama.getText() + &quot;','&quot; + fileakhir.toString() + &quot;')&quot;);\n            System.out.println(fileakhir.toString());\n            JOptionPane.showMessageDialog(null, &quot;Akun Sudah Terdaftar, Silahkan Kembali Login&quot;);\n            Files.copy(fileawal.toPath(), fileakhir.toPath());\n            Login log = new Login();\n            log.setVisible(true);\n            this.setVisible(false);\n        } catch (Exception e) {\n            JOptionPane.showMessageDialog(null, e.getMessage());\n        }\n</code></pre>\n<p>and this is the image picker button that i have</p>\n<pre><code>try {\n                JFileChooser chooser = new JFileChooser();\n                chooser.showOpenDialog(null);\n                File f = chooser.getSelectedFile();\n                ImageIcon icon = new ImageIcon(f.toString());\n                Image img = icon.getImage().getScaledInstance(Foto.getWidth(), Foto.getHeight(), Image.SCALE_DEFAULT);\n                ImageIcon ic = new ImageIcon(img);\n                Foto.setIcon(ic);\n                filename = f.getAbsolutePath();\n            } catch (Exception e) {\n                JOptionPane.showMessageDialog(null, e.getMessage());\n            }\n</code></pre>\n<p>I have tried using .toString(), .getPath(), .getAbsolutePath(), but none of them include '/' in the database</p>\n"},{"tags":["java","maven-surefire-plugin","instrumentation"],"answers":[{"tags":[],"owner":{"account_id":810005,"reputation":249,"user_id":905087,"display_name":"jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676425841,"creation_date":1676425841,"answer_id":75454830,"question_id":75454600,"body_markdown":"I think I have figured it out -- actually it is rather easy, I am so used to lambdas that I did not see the obvious. This seems to work:\r\n\r\n```\r\nnew AgentBuilder.Default()\r\n..\r\n.transform(\r\n   new AgentBuilder.Transformer() {\r\n      public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader, JavaModule javaModule) {\r\n         return builder.visit(NullChecks.MethodWithoutReturnValues.VISITOR);\r\n      }\r\n      public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader, JavaModule javaModule,ProtectionDomain pd) {\r\n         return builder.visit(NullChecks.MethodWithoutReturnValues.VISITOR);\r\n      }\r\n   }\r\n)\r\n``` \r\n\r\nI.e. just overload `transform` to support the two API versions.  ","title":"Issue caused by bytebuddy AgentBuilder$Transformer API changes","body":"<p>I think I have figured it out -- actually it is rather easy, I am so used to lambdas that I did not see the obvious. This seems to work:</p>\n<pre><code>new AgentBuilder.Default()\n..\n.transform(\n   new AgentBuilder.Transformer() {\n      public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader, JavaModule javaModule) {\n         return builder.visit(NullChecks.MethodWithoutReturnValues.VISITOR);\n      }\n      public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader, JavaModule javaModule,ProtectionDomain pd) {\n         return builder.visit(NullChecks.MethodWithoutReturnValues.VISITOR);\n      }\n   }\n)\n</code></pre>\n<p>I.e. just overload <code>transform</code> to support the two API versions.</p>\n"}],"owner":{"account_id":810005,"reputation":249,"user_id":905087,"display_name":"jens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676425841,"creation_date":1676422595,"question_id":75454600,"body_markdown":"I am using bytebuddy to instrument method calls in tests. I am running into this issue:\r\n\r\n\r\n*Agent Error: java.lang.AbstractMethodError: Receiver class nz.ac.wgtn.nullannoinference.agent.NullLoggerAgent$4 does not define or inherit an implementation of the resolved method abstract transform(Lnet/bytebuddy/dynamic/DynamicType$Builder;Lnet/bytebuddy/description/type/TypeDescription;Ljava/lang/ClassLoader;Lnet/bytebuddy/utility/JavaModule;Ljava/security/ProtectionDomain;)Lnet/bytebuddy/dynamic/DynamicType$Builder; of interface net.bytebuddy.agent.builder.AgentBuilder$Transformer.*\r\n\r\n\r\n\r\nThe critical issue is the last parameter of `AgentBuilder$Transformer::transform` of type `ProtectionDomain`. In version 1.10.20 this is abscent. I could upgrade but this does not solve my issue as I cannot control the version of bytebuddy being used as many of the programs I want to instrument already have a bytebuddy dependency through mockito, often a slightly older version.\r\n\r\nPerhaps shading could work. Any advise how to proceed here ? I could always write multiple versions of the agent for different versions of bytebuddy but this seems very clumsy, and a maintenance nightmare. \r\n","title":"Issue caused by bytebuddy AgentBuilder$Transformer API changes","body":"<p>I am using bytebuddy to instrument method calls in tests. I am running into this issue:</p>\n<p><em>Agent Error: java.lang.AbstractMethodError: Receiver class nz.ac.wgtn.nullannoinference.agent.NullLoggerAgent$4 does not define or inherit an implementation of the resolved method abstract transform(Lnet/bytebuddy/dynamic/DynamicType$Builder;Lnet/bytebuddy/description/type/TypeDescription;Ljava/lang/ClassLoader;Lnet/bytebuddy/utility/JavaModule;Ljava/security/ProtectionDomain;)Lnet/bytebuddy/dynamic/DynamicType$Builder; of interface net.bytebuddy.agent.builder.AgentBuilder$Transformer.</em></p>\n<p>The critical issue is the last parameter of <code>AgentBuilder$Transformer::transform</code> of type <code>ProtectionDomain</code>. In version 1.10.20 this is abscent. I could upgrade but this does not solve my issue as I cannot control the version of bytebuddy being used as many of the programs I want to instrument already have a bytebuddy dependency through mockito, often a slightly older version.</p>\n<p>Perhaps shading could work. Any advise how to proceed here ? I could always write multiple versions of the agent for different versions of bytebuddy but this seems very clumsy, and a maintenance nightmare.</p>\n"},{"tags":["java","spring-boot","netty","webclient","spring-webflux"],"comments":[{"owner":{"account_id":8854143,"reputation":1257,"user_id":6612401,"accept_rate":100,"display_name":"Evgeny Mamaev"},"score":0,"creation_date":1598014431,"post_id":63521577,"comment_id":112327830,"body_markdown":"Check if you have anything running on 127.0.0.1:8090. Use `sudo lsof -i -P -n | grep 8090`","body":"Check if you have anything running on 127.0.0.1:8090. Use <code>sudo lsof -i -P -n | grep 8090</code>"}],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1598013249,"creation_date":1598013249,"answer_id":63523037,"question_id":63521577,"body_markdown":"Connection refused means that there was no server listening on the address:port. You can check with `netstat -tulpen` what ports are open on which address.","title":"finishConnect(..) failed: Connection refused: localhost/127.0.0.1 , error: Webflux, Webclient, Spring boot, java","body":"<p>Connection refused means that there was no server listening on the address:port. You can check with <code>netstat -tulpen</code> what ports are open on which address.</p>\n"},{"tags":[],"owner":{"account_id":7637194,"reputation":39,"user_id":5790407,"display_name":"Dat Tran"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1608394181,"creation_date":1608394181,"answer_id":65371805,"question_id":63521577,"body_markdown":"No, we can not call direct by localhost, the term here is &quot;container call container&quot;, so, we should call together by container name.\r\n1. change the docker-compose like this:\r\n \r\n\r\n&gt;     order-service:\r\n&gt;       build: docker/order-service\r\n&gt;       container_name: order-service\r\n&gt;       ports:\r\n&gt;         - 8082:8080\r\n\r\n2. And then, in the client service, we just define host like below:\r\n\r\n&gt; private String hostname =\r\n&gt; &quot;http://order-service:8080/order-service/welcome&quot;;\r\n\r\nYou can see, when we call order service by browser (real client), we call throught extend port (8082), but in case container call container, we should call by it`s container`s name and it`s port (8080).","title":"finishConnect(..) failed: Connection refused: localhost/127.0.0.1 , error: Webflux, Webclient, Spring boot, java","body":"<p>No, we can not call direct by localhost, the term here is &quot;container call container&quot;, so, we should call together by container name.</p>\n<ol>\n<li>change the docker-compose like this:</li>\n</ol>\n<blockquote>\n<pre><code>order-service:\n  build: docker/order-service\n  container_name: order-service\n  ports:\n    - 8082:8080\n</code></pre>\n</blockquote>\n<ol start=\"2\">\n<li>And then, in the client service, we just define host like below:</li>\n</ol>\n<blockquote>\n<p>private String hostname =\n&quot;http://order-service:8080/order-service/welcome&quot;;</p>\n</blockquote>\n<p>You can see, when we call order service by browser (real client), we call throught extend port (8082), but in case container call container, we should call by it<code>s container</code>s name and it`s port (8080).</p>\n"},{"tags":[],"owner":{"account_id":11916694,"reputation":81,"user_id":8720427,"display_name":"GeorgeKN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676424247,"creation_date":1676424247,"answer_id":75454711,"question_id":63521577,"body_markdown":"I also had the same issue, while running my application, but I found out that the issue was that I had two micro-services that were having the same name in the application.yml. \r\nKindly confirm that all the micro-services you have defined have unique name and ports. ","title":"finishConnect(..) failed: Connection refused: localhost/127.0.0.1 , error: Webflux, Webclient, Spring boot, java","body":"<p>I also had the same issue, while running my application, but I found out that the issue was that I had two micro-services that were having the same name in the application.yml.\nKindly confirm that all the micro-services you have defined have unique name and ports.</p>\n"}],"owner":{"account_id":13708074,"reputation":33,"user_id":9891125,"display_name":"Abdulmalik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26883,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1676424247,"creation_date":1598007540,"question_id":63521577,"body_markdown":"I&#39;m having this error while using webclient in localhost, can you help me guys ?? \r\n\r\n    ERROR                  org.springframework.boot.autoconfigure.web.reactive.error.AbstractErrorWebExceptionHandler - [0e1ef5cd-1]  500 Server Error for HTTP G\r\n    ET &quot;/product/spec/template/posts&quot;\r\n    product      | io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:8090\r\n    product      |  Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\r\n    product      | Error has been observed at the following site(s):\r\n    product      |  |_ checkpoint ⇢ Request to GET http://localhost:8090/retailer/retailer/posts/12 [DefaultWebClient]\r\n    product      |  |_ checkpoint ⇢ Handler com.zucco.tech.hm.service.product.controller.ProductSpecTemplateController#posts() [DispatcherHandler]\r\n    product      |  |_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\r\n    product      |  |_ checkpoint ⇢ HTTP GET &quot;/product/spec/template/posts&quot; [ExceptionHandlingWebHandler]\r\n    product      | Stack trace:\r\n    product      | Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\r\n    product      |  at io.netty.channel.unix.Errors.throwConnectException(Errors.java:124) ~[netty-transport-native-unix-common-4.1.51.Final.jar!/:4.1.51.Final]\r\n\r\n","title":"finishConnect(..) failed: Connection refused: localhost/127.0.0.1 , error: Webflux, Webclient, Spring boot, java","body":"<p>I'm having this error while using webclient in localhost, can you help me guys ??</p>\n<pre><code>ERROR                  org.springframework.boot.autoconfigure.web.reactive.error.AbstractErrorWebExceptionHandler - [0e1ef5cd-1]  500 Server Error for HTTP G\nET &quot;/product/spec/template/posts&quot;\nproduct      | io.netty.channel.AbstractChannel$AnnotatedConnectException: finishConnect(..) failed: Connection refused: localhost/127.0.0.1:8090\nproduct      |  Suppressed: reactor.core.publisher.FluxOnAssembly$OnAssemblyException:\nproduct      | Error has been observed at the following site(s):\nproduct      |  |_ checkpoint ⇢ Request to GET http://localhost:8090/retailer/retailer/posts/12 [DefaultWebClient]\nproduct      |  |_ checkpoint ⇢ Handler com.zucco.tech.hm.service.product.controller.ProductSpecTemplateController#posts() [DispatcherHandler]\nproduct      |  |_ checkpoint ⇢ org.springframework.boot.actuate.metrics.web.reactive.server.MetricsWebFilter [DefaultWebFilterChain]\nproduct      |  |_ checkpoint ⇢ HTTP GET &quot;/product/spec/template/posts&quot; [ExceptionHandlingWebHandler]\nproduct      | Stack trace:\nproduct      | Caused by: java.net.ConnectException: finishConnect(..) failed: Connection refused\nproduct      |  at io.netty.channel.unix.Errors.throwConnectException(Errors.java:124) ~[netty-transport-native-unix-common-4.1.51.Final.jar!/:4.1.51.Final]\n</code></pre>\n"},{"tags":["java","powermock","instrumentation","jacoco-maven-plugin"],"comments":[{"owner":{"account_id":3228095,"reputation":596,"user_id":2723942,"accept_rate":43,"display_name":"Paramvir Singh Karwal"},"score":1,"creation_date":1514285746,"post_id":45560472,"comment_id":82923861,"body_markdown":"_&#39;The error indicates that there are two JaCoCo agents configured for the same process&#39;_ this gave me a quick fix!. i had two javaagents configured at two different places in server startup. Removed one and it worked.","body":"<i>&#39;The error indicates that there are two JaCoCo agents configured for the same process&#39;</i> this gave me a quick fix!. i had two javaagents configured at two different places in server startup. Removed one and it worked."},{"owner":{"account_id":322468,"reputation":1506,"user_id":641887,"accept_rate":68,"display_name":"user641887"},"score":0,"creation_date":1646199285,"post_id":45560472,"comment_id":126061548,"body_markdown":"I am getting the same error but not on my local but on the Jenkins build, how do I know if there ar 2 java agents configured ? @ParamvirSinghKarwal","body":"I am getting the same error but not on my local but on the Jenkins build, how do I know if there ar 2 java agents configured ? @ParamvirSinghKarwal"}],"answers":[{"comments":[{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":0,"creation_date":1502178542,"post_id":45561095,"comment_id":78083688,"body_markdown":"@Macro Kunis I dont agree with your first statement - &quot;I use mockito instead of powermock, but I do not think that there is any difference.&quot;- Yes there are differences and advantages why one goes to powermock.\neg: - like you can not mock static/private/native methods and final classes with mockito. then you need to move to powermock.","body":"@Macro Kunis I dont agree with your first statement - &quot;I use mockito instead of powermock, but I do not think that there is any difference.&quot;- Yes there are differences and advantages why one goes to powermock. eg: - like you can not mock static/private/native methods and final classes with mockito. then you need to move to powermock."},{"owner":{"account_id":4733335,"reputation":112,"user_id":3828323,"display_name":"Marco Kunis"},"score":0,"creation_date":1502179769,"post_id":45561095,"comment_id":78084502,"body_markdown":"@DeepakS This was a missunderstanding. I meant that there is no difference for the code analysis process with sonarqube. I edit my answer to clarify this","body":"@DeepakS This was a missunderstanding. I meant that there is no difference for the code analysis process with sonarqube. I edit my answer to clarify this"},{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":0,"creation_date":1502188316,"post_id":45561095,"comment_id":78090657,"body_markdown":"@Macro Kunis ok but there is a certainly a catch with jacoco with instrumentation with powermock , which is showing the stacktrace. looking for inputs from the community.","body":"@Macro Kunis ok but there is a certainly a catch with jacoco with instrumentation with powermock , which is showing the stacktrace. looking for inputs from the community."},{"owner":{"account_id":4733335,"reputation":112,"user_id":3828323,"display_name":"Marco Kunis"},"score":0,"creation_date":1502201121,"post_id":45561095,"comment_id":78100316,"body_markdown":"@DeepakS I tested it with a basic powermock example project and it works. Please have a look at my updated answer and verfiy if this works in general for you","body":"@DeepakS I tested it with a basic powermock example project and it works. Please have a look at my updated answer and verfiy if this works in general for you"},{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":0,"creation_date":1502543897,"post_id":45561095,"comment_id":78259822,"body_markdown":"@Macro Kunis I went through your updated answer but somehow it does not cover my case.","body":"@Macro Kunis I went through your updated answer but somehow it does not cover my case."},{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":0,"creation_date":1502544164,"post_id":45561095,"comment_id":78259897,"body_markdown":"1. I am using a different version  of jacoco maven plugin than yours, also the version you&#39;ve used for maven-surefire-plugin is 2.19.1 and mine is 2.20.","body":"1. I am using a different version  of jacoco maven plugin than yours, also the version you&#39;ve used for maven-surefire-plugin is 2.19.1 and mine is 2.20."},{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":0,"creation_date":1502544428,"post_id":45561095,"comment_id":78259975,"body_markdown":"Though I am not sure it is a version specific problem or not but in your updated answer there are lot many dependencies are involved like for mockito1, mockito2 and are hard to decipher , considering the mockito-powermock compatibility mentioned at https://github.com/powermock/powermock/wiki/Mockito","body":"Though I am not sure it is a version specific problem or not but in your updated answer there are lot many dependencies are involved like for mockito1, mockito2 and are hard to decipher , considering the mockito-powermock compatibility mentioned at <a href=\"https://github.com/powermock/powermock/wiki/Mockito\" rel=\"nofollow noreferrer\">github.com/powermock/powermock/wiki/Mockito</a>"},{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":0,"creation_date":1502544472,"post_id":45561095,"comment_id":78259991,"body_markdown":"I have used Mockito 1.10.19 version with powermock 1.6.4 version.","body":"I have used Mockito 1.10.19 version with powermock 1.6.4 version."},{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":0,"creation_date":1502544825,"post_id":45561095,"comment_id":78260096,"body_markdown":"2.  As my issue did not solve , I had to use the excludes=* configuration mentioned in my response to @Stuti Verma &#39;s answer which worked for me.","body":"2.  As my issue did not solve , I had to use the excludes=* configuration mentioned in my response to @Stuti Verma &#39;s answer which worked for me."},{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":0,"creation_date":1502545077,"post_id":45561095,"comment_id":78260172,"body_markdown":"So just in case you stumble upon similar use case as mine you can use the &lt;excludes&gt; tag and use the jacocoagent insside argLine tag in case sonar not picking the jacocoagent automatically.","body":"So just in case you stumble upon similar use case as mine you can use the &lt;excludes&gt; tag and use the jacocoagent insside argLine tag in case sonar not picking the jacocoagent automatically."},{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":0,"creation_date":1502545822,"post_id":45561095,"comment_id":78260388,"body_markdown":"mind that : if we use argLine incorrectly (not appending ${argLine} inside &lt;argLine&gt; tag) , you end up getting 0% coverage shown on sonar dashboard.","body":"mind that : if we use argLine incorrectly (not appending ${argLine} inside &lt;argLine&gt; tag) , you end up getting 0% coverage shown on sonar dashboard."}],"tags":[],"owner":{"account_id":4733335,"reputation":112,"user_id":3828323,"display_name":"Marco Kunis"},"comment_count":11,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1502200979,"creation_date":1502174700,"answer_id":45561095,"question_id":45560472,"body_markdown":"I use mockito instead of powermock, but I do not think that there is any difference for the usage with sonar. I use the [Sonar Maven Scanner](https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner+for+Maven) for the anlysis and it works like a charm.\r\n\r\nMy pom.xml contains the following properties\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;project.source.version&gt;1.8&lt;/project.source.version&gt;\r\n\t\t&lt;project.target.version&gt;${project.source.version}&lt;/project.target.version&gt;\r\n\t\t&lt;sonar.scanner.version&gt;3.3.0.603&lt;/sonar.scanner.version&gt;\r\n\t\t&lt;jacoco.maven.version&gt;0.7.9&lt;/jacoco.maven.version&gt;\r\n\t\t&lt;sonar.projectName&gt;MyProject&lt;/sonar.projectName&gt;\r\n        &lt;sonar.projectKey&gt;my-project-key&lt;/sonar.projectKey&gt;\r\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n\t&lt;/properties&gt;   \r\n\r\nand the plugins are configured as follows\r\n\r\n    &lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n\t\t\t\t&lt;inherited&gt;true&lt;/inherited&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${project.source.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${project.target.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${sonar.scanner.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${jacoco.maven.version}&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\r\nYou can run the analysis with\r\n\r\n    mvn clean install sonar:sonar\r\n\r\nThis generates a the default exec file lacated at target/jacoco.exec wich will be used by your local sonarqube server and contains also the coverage.\r\n\r\n----------------------\r\n**Updated answer**\r\n\r\nTested it with powermock. I used the [powermock jacoco-offline example](https://github.com/powermock/powermock-examples-maven/tree/master/jacoco-offline) and just adapted it a little bit.\r\n\r\nThe pom.xml is then\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-offline&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n    &lt;name&gt;JaCoCo Offline with PowerMock&lt;/name&gt;\r\n    &lt;description&gt;\r\n        Example how to get code coverage with PowerMock\r\n    &lt;/description&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;jacoco.version&gt;0.7.9&lt;/jacoco.version&gt;\r\n\t\t&lt;sonar.scanner.version&gt;3.3.0.603&lt;/sonar.scanner.version&gt;\r\n        &lt;!-- Used to locate the profile specific configuration file. --&gt;\r\n        &lt;build.profile.id&gt;dev&lt;/build.profile.id&gt;\r\n\r\n        &lt;jacoco.it.execution.data.file&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/jacoco.it.execution.data.file&gt;\r\n        &lt;jacoco.ut.execution.data.file&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/jacoco.ut.execution.data.file&gt;\r\n\r\n        &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\r\n\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\r\n        &lt;!-- Only unit tests are run by default. --&gt;\r\n        &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\r\n        \r\n        &lt;powermock.version&gt;1.7.0&lt;/powermock.version&gt;\r\n        &lt;maven.compiler.source&gt;1.6&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.6&lt;/maven.compiler.target&gt;\r\n        &lt;mockito1.version&gt;1.10.19&lt;/mockito1.version&gt;\r\n        &lt;mockito2.version&gt;2.8.9&lt;/mockito2.version&gt;\r\n        &lt;easymock.version&gt;3.4&lt;/easymock.version&gt;\r\n        &lt;assertj-core.version&gt;3.8.0&lt;/assertj-core.version&gt;\r\n        &lt;junit.version&gt;4.12&lt;/junit.version&gt;\r\n        &lt;spring.version&gt;3.0.5.RELEASE&lt;/spring.version&gt;\r\n        &lt;commons-lang3.version&gt;3.4&lt;/commons-lang3.version&gt;\r\n        \r\n         &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt;\r\n\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${assertj-core.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\r\n            &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n            &lt;classifier&gt;runtime&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-mockito-common&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-junit4-rule&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-classloading-xstream&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-junit4-rule-agent&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-api-easymock&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\r\n                &lt;version&gt;${powermock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.easymock&lt;/groupId&gt;\r\n                &lt;artifactId&gt;easymock&lt;/artifactId&gt;\r\n                &lt;version&gt;${easymock.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${mockito1.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring.version}&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n                &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${jdk.version}&lt;/source&gt;\r\n                    &lt;target&gt;${jdk.version}&lt;/target&gt;\r\n                    &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${jacoco.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-instrument&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;instrument&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;dataFile&gt;${project.build.directory}/coverage.exec&lt;/dataFile&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.19.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;jacoco-agent.destfile&gt;${project.build.directory}/coverage.exec&lt;/jacoco-agent.destfile&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${sonar.scanner.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nThats all basic and you are right, I also missed the coverage. After run `mvn clean install` you can see the **coverage.exec** in the target folder. By default sonar is looking for a jacoco.exec file.\r\n\r\nYou can adapt this behaviour by just adding\r\n\r\n    &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt;\r\n\r\nto the properties section in the pom.xml. After running `mvn clean install sonar:sonar` again the coverage is present in my local sonarqube. Hope this helps you more...","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>I use mockito instead of powermock, but I do not think that there is any difference for the usage with sonar. I use the <a href=\"https://docs.sonarqube.org/display/SCAN/Analyzing+with+SonarQube+Scanner+for+Maven\" rel=\"nofollow noreferrer\">Sonar Maven Scanner</a> for the anlysis and it works like a charm.</p>\n\n<p>My pom.xml contains the following properties</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.source.version&gt;1.8&lt;/project.source.version&gt;\n    &lt;project.target.version&gt;${project.source.version}&lt;/project.target.version&gt;\n    &lt;sonar.scanner.version&gt;3.3.0.603&lt;/sonar.scanner.version&gt;\n    &lt;jacoco.maven.version&gt;0.7.9&lt;/jacoco.maven.version&gt;\n    &lt;sonar.projectName&gt;MyProject&lt;/sonar.projectName&gt;\n    &lt;sonar.projectKey&gt;my-project-key&lt;/sonar.projectKey&gt;\n    &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n&lt;/properties&gt;   \n</code></pre>\n\n<p>and the plugins are configured as follows</p>\n\n<pre><code>&lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.5.1&lt;/version&gt;\n            &lt;inherited&gt;true&lt;/inherited&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${project.source.version}&lt;/source&gt;\n                &lt;target&gt;${project.target.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${sonar.scanner.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jacoco.maven.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n\n<p>You can run the analysis with</p>\n\n<pre><code>mvn clean install sonar:sonar\n</code></pre>\n\n<p>This generates a the default exec file lacated at target/jacoco.exec wich will be used by your local sonarqube server and contains also the coverage.</p>\n\n<hr>\n\n<p><strong>Updated answer</strong></p>\n\n<p>Tested it with powermock. I used the <a href=\"https://github.com/powermock/powermock-examples-maven/tree/master/jacoco-offline\" rel=\"nofollow noreferrer\">powermock jacoco-offline example</a> and just adapted it a little bit.</p>\n\n<p>The pom.xml is then</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n</code></pre>\n\n<p>http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n    4.0.0</p>\n\n<pre><code>&lt;groupId&gt;org.powermock&lt;/groupId&gt;\n&lt;artifactId&gt;jacoco-offline&lt;/artifactId&gt;\n&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n&lt;name&gt;JaCoCo Offline with PowerMock&lt;/name&gt;\n&lt;description&gt;\n    Example how to get code coverage with PowerMock\n&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;jacoco.version&gt;0.7.9&lt;/jacoco.version&gt;\n    &lt;sonar.scanner.version&gt;3.3.0.603&lt;/sonar.scanner.version&gt;\n    &lt;!-- Used to locate the profile specific configuration file. --&gt;\n    &lt;build.profile.id&gt;dev&lt;/build.profile.id&gt;\n\n    &lt;jacoco.it.execution.data.file&gt;${project.build.directory}/coverage-reports/jacoco-it.exec&lt;/jacoco.it.execution.data.file&gt;\n    &lt;jacoco.ut.execution.data.file&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/jacoco.ut.execution.data.file&gt;\n\n    &lt;jdk.version&gt;1.8&lt;/jdk.version&gt;\n\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n\n    &lt;!-- Only unit tests are run by default. --&gt;\n    &lt;skip.unit.tests&gt;false&lt;/skip.unit.tests&gt;\n\n    &lt;powermock.version&gt;1.7.0&lt;/powermock.version&gt;\n    &lt;maven.compiler.source&gt;1.6&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.6&lt;/maven.compiler.target&gt;\n    &lt;mockito1.version&gt;1.10.19&lt;/mockito1.version&gt;\n    &lt;mockito2.version&gt;2.8.9&lt;/mockito2.version&gt;\n    &lt;easymock.version&gt;3.4&lt;/easymock.version&gt;\n    &lt;assertj-core.version&gt;3.8.0&lt;/assertj-core.version&gt;\n    &lt;junit.version&gt;4.12&lt;/junit.version&gt;\n    &lt;spring.version&gt;3.0.5.RELEASE&lt;/spring.version&gt;\n    &lt;commons-lang3.version&gt;3.4&lt;/commons-lang3.version&gt;\n\n     &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt;\n\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;${assertj-core.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n        &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;org.jacoco.agent&lt;/artifactId&gt;\n        &lt;version&gt;${jacoco.version}&lt;/version&gt;\n        &lt;classifier&gt;runtime&lt;/classifier&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-core&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito2&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-mockito-common&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-support&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4-rule&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-classloading-xstream&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4-rule-agent&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-api-easymock&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-testng&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n            &lt;artifactId&gt;powermock-module-junit4&lt;/artifactId&gt;\n            &lt;version&gt;${powermock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.easymock&lt;/groupId&gt;\n            &lt;artifactId&gt;easymock&lt;/artifactId&gt;\n            &lt;version&gt;${easymock.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;${mockito1.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;${commons-lang3.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;${jdk.version}&lt;/source&gt;\n                &lt;target&gt;${jdk.version}&lt;/target&gt;\n                &lt;encoding&gt;${project.build.sourceEncoding}&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${jacoco.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-instrument&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;instrument&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;report&lt;/id&gt;\n                    &lt;phase&gt;prepare-package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;report&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;dataFile&gt;${project.build.directory}/coverage.exec&lt;/dataFile&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.19.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;systemPropertyVariables&gt;\n                    &lt;jacoco-agent.destfile&gt;${project.build.directory}/coverage.exec&lt;/jacoco-agent.destfile&gt;\n                &lt;/systemPropertyVariables&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${sonar.scanner.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>Thats all basic and you are right, I also missed the coverage. After run <code>mvn clean install</code> you can see the <strong>coverage.exec</strong> in the target folder. By default sonar is looking for a jacoco.exec file.</p>\n\n<p>You can adapt this behaviour by just adding</p>\n\n<pre><code>&lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/coverage.exec&lt;/sonar.jacoco.reportPaths&gt;\n</code></pre>\n\n<p>to the properties section in the pom.xml. After running <code>mvn clean install sonar:sonar</code> again the coverage is present in my local sonarqube. Hope this helps you more...</p>\n"},{"comments":[{"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"score":1,"creation_date":1502451473,"post_id":45628906,"comment_id":78227494,"body_markdown":"Thanks a ton @Stuti Verma , \nit worked your suggested inputs and I managed to get rid of long stacktrace :)\n\nI added below entry for excludes=* as you told under jacoco plugin entry-\n\n&lt;configuration&gt;\n\t&lt;excludes&gt;\n\t\t &lt;exclude&gt;*&lt;/exclude&gt;\n\t&lt;/excludes&gt;\n&lt;/configuration&gt;\n\nNow my argLine looks like below :-\n\n-javaagent:C:\\\\Users\\\\user\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.7.6.201602180812\\\\org.jacoco.agent-0.7.6.201602180812-runtime.jar=destfile=C:Users\\\\user\\\\git\\\\package\\\\target\\\\jacoco.exec,excludes=*","body":"Thanks a ton @Stuti Verma ,  it worked your suggested inputs and I managed to get rid of long stacktrace :)  I added below entry for excludes=* as you told under jacoco plugin entry-  &lt;configuration&gt; \t&lt;excludes&gt; \t\t &lt;exclude&gt;*&lt;/exclude&gt; \t&lt;/excludes&gt; &lt;/configuration&gt;  Now my argLine looks like below :-  -javaagent:C:\\\\Users\\\\user\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\or&zwnj;&#8203;g.jacoco.agent\\\\0.7.&zwnj;&#8203;6.201602180812\\\\org.&zwnj;&#8203;jacoco.agent-0.7.6.2&zwnj;&#8203;01602180812-runtime.&zwnj;&#8203;jar=destfile=C:Users&zwnj;&#8203;\\\\user\\\\git\\\\package&zwnj;&#8203;\\\\target\\\\jacoco.exe&zwnj;&#8203;c,excludes=*"}],"tags":[],"owner":{"account_id":10950827,"reputation":1069,"user_id":8047245,"accept_rate":71,"display_name":"Stuti Verma"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1502434925,"creation_date":1502434925,"answer_id":45628906,"question_id":45560472,"body_markdown":"As per my insight into this research:\r\nIt is possible to also use offline-instrumented classes with the JaCoCo Java agent. In this case, the configuration is taken from the agent options. The agent must be configured in a way that pre-instrumented classes are excluded, e.g. with &quot; **excludes=*** &quot;. Otherwise it will result in error messages on the console if the agent instruments such classes again likewise in your case.\r\n\r\nThe agent jacocoagent.jar is part of the JaCoCo distribution and includes all required dependencies. A Java agent can be activated with the following JVM option:\r\n\r\n*-javaagent:[yourpath/]jacocoagent.jar=[option1]=[value1],[option2]=[value2]*\r\n\r\n\r\nFor JaCoCo agent options, consider the following link:\r\nhttp://www.jacoco.org/jacoco/trunk/doc/agent.html \r\n\r\n\r\n","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>As per my insight into this research:\nIt is possible to also use offline-instrumented classes with the JaCoCo Java agent. In this case, the configuration is taken from the agent options. The agent must be configured in a way that pre-instrumented classes are excluded, e.g. with \" <strong>excludes=*</strong> \". Otherwise it will result in error messages on the console if the agent instruments such classes again likewise in your case.</p>\n\n<p>The agent jacocoagent.jar is part of the JaCoCo distribution and includes all required dependencies. A Java agent can be activated with the following JVM option:</p>\n\n<p><em>-javaagent:[yourpath/]jacocoagent.jar=[option1]=[value1],[option2]=[value2]</em></p>\n\n<p>For JaCoCo agent options, consider the following link:\n<a href=\"http://www.jacoco.org/jacoco/trunk/doc/agent.html\" rel=\"noreferrer\">http://www.jacoco.org/jacoco/trunk/doc/agent.html</a> </p>\n"},{"tags":[],"owner":{"account_id":16562022,"reputation":101,"user_id":11967711,"display_name":"SarangRN"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633952931,"creation_date":1633952931,"answer_id":69525722,"question_id":45560472,"body_markdown":"If you are using pom.xml and jacoco plugin for build then you need to update the configuration at &quot;prepare-agent&quot; stage of build so that  pre-instrumented classes are excluded as follows.\r\n\r\n````\r\n   &lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t  &lt;plugin&gt;\r\n    \t\t    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t    &lt;executions&gt;\r\n    \t\t      &lt;execution&gt;\r\n    \t\t\t&lt;id&gt;default-instrument&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t    &lt;goal&gt;instrument&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t      &lt;/execution&gt;\r\n    \t\t      &lt;execution&gt;\r\n    \t\t\t&lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t    &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t      &lt;/execution&gt;\r\n    \t\t      &lt;execution&gt;\r\n    \t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t  &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t\t&lt;configuration&gt; \r\n    \t\t\t&lt;excludes&gt; \r\n    \t\t\t&lt;exclude&gt;*&lt;/exclude&gt; \r\n    \t\t\t&lt;/excludes&gt; \r\n    \t\t\t&lt;/configuration&gt;      \r\n    \t\t      &lt;/execution&gt;\r\n    \t\t      &lt;execution&gt;\r\n    \t\t\t&lt;id&gt;report&lt;/id&gt;   \r\n    \t\t\t&lt;goals&gt;\r\n    \t\t\t  &lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t&lt;/goals&gt;\r\n    \t\t      &lt;/execution&gt;\r\n    \t\t    &lt;/executions&gt;\r\n    \t\t  &lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t      &lt;/build&gt;\r\n````","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>If you are using pom.xml and jacoco plugin for build then you need to update the configuration at &quot;prepare-agent&quot; stage of build so that  pre-instrumented classes are excluded as follows.</p>\n<pre><code>   &lt;build&gt;\n            &lt;plugins&gt;\n              &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                &lt;id&gt;default-instrument&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;instrument&lt;/goal&gt;\n                &lt;/goals&gt;\n                  &lt;/execution&gt;\n                  &lt;execution&gt;\n                &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n                &lt;/goals&gt;\n                  &lt;/execution&gt;\n                  &lt;execution&gt;\n                &lt;id&gt;prepare-agent&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt; \n                &lt;excludes&gt; \n                &lt;exclude&gt;*&lt;/exclude&gt; \n                &lt;/excludes&gt; \n                &lt;/configuration&gt;      \n                  &lt;/execution&gt;\n                  &lt;execution&gt;\n                &lt;id&gt;report&lt;/id&gt;   \n                &lt;goals&gt;\n                  &lt;goal&gt;report&lt;/goal&gt;\n                &lt;/goals&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n              &lt;/plugin&gt;\n            &lt;/plugins&gt;\n              &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9013514,"reputation":805,"user_id":8506507,"accept_rate":67,"display_name":"Kamo Spertsian"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1642170981,"creation_date":1642170981,"answer_id":70712233,"question_id":45560472,"body_markdown":"I&#39;ve also faced the same issue, but with Gradle. For me, the problem was with the following instructions \r\n\r\n    debug {\r\n        testCoverageEnabled true\r\n    }\r\nwhich I&#39;ve added in accordance with one tutorial. It also instruments classes (as Jacoco does) and thus the exceptions are thrown. \r\n\r\nRemoving this instruction solved the problem for me.","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>I've also faced the same issue, but with Gradle. For me, the problem was with the following instructions</p>\n<pre><code>debug {\n    testCoverageEnabled true\n}\n</code></pre>\n<p>which I've added in accordance with one tutorial. It also instruments classes (as Jacoco does) and thus the exceptions are thrown.</p>\n<p>Removing this instruction solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":3489707,"reputation":560,"user_id":2975621,"display_name":"leon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676423435,"creation_date":1676423435,"answer_id":75454665,"question_id":45560472,"body_markdown":"This works for me\r\n\r\n    debug {\r\n        // disable testCoverage to fix Jacoco instrument error\r\n        testCoverageEnabled false\r\n    }","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>This works for me</p>\n<pre><code>debug {\n    // disable testCoverage to fix Jacoco instrument error\n    testCoverageEnabled false\n}\n</code></pre>\n"}],"owner":{"account_id":1824822,"reputation":1574,"user_id":1657915,"accept_rate":27,"display_name":"Deepak S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41885,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":45628906,"answer_count":5,"score":10,"last_activity_date":1676423435,"creation_date":1502172521,"question_id":45560472,"body_markdown":"I am working on sonar code coverage using Jacoco plugin and using power mock mockito combination to write JUnit test cases, while all goes well with the build when I run mvn clean install but the console shows a very very long stack trace chain which keeps coming for many many classes used in the project, and is quite irritating, \r\nThe exception trace is similar to below- \r\n\r\n    java.lang.instrument.IllegalClassFormatException: Error while instrumenting class..\r\n    Caused by: java.io.IOException: Error while instrumenting class.\r\n    Caused by: java.lang.IllegalStateException: Class &lt;class-name&gt; is already instrumented.\r\n\r\nI went through below link for a solution but could not get a way out:- \r\n\r\n    https://github.com/jacoco/jacoco/issues/32\r\nThe link says &quot;The error indicates that there are two JaCoCo agents configured for the same process, Looks like activation of surefire-report-plugin leads to a **doubled** agent, which is not an exceptional case, but an error in configuration of JVM for tests&quot; In my case it is not even doubled agent I guess as my argLine has set to only one jacoco agent.\r\n\r\nIn my case, the argLine is set to below- \r\n\r\n    javaagent:C:\\\\Users\\\\user\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.7.6.201602180812\\\\org.jacoco.agent-0.7.6.201602180812-runtime.jar=destfile=C:Users\\\\user\\\\git\\\\package\\\\target\\\\jacoco.exec\r\n\r\nMy pom.xml entry for jacoco-sonar configuration is as below - \r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;sonar.sources&gt;src/main/java&lt;/sonar.sources&gt;\r\n    \t\t&lt;sonar.tests&gt;src/test/java&lt;/sonar.tests&gt;\r\n    \t\t&lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\r\n    \t\t&lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\r\n    \t\t&lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n    \t\t&lt;sonar.binaries&gt;${project.basedir}/target/classes&lt;/sonar.binaries&gt;\r\n    \t\t&lt;sonar.inclusions&gt;\r\n    \t\t\t**/com/abc/service/impl/ABCServiceImpl.java,\r\n    \t\t\t**/com/abc/dao/impl/ABCDAOImpl.java\r\n    \t\t&lt;/sonar.inclusions&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.20&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;skipTests&gt;false&lt;/skipTests&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m ${argLine}&lt;/argLine&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;0.7.6.201602180812&lt;/version&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t &lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t&lt;/execution&gt; \r\n    \t\t\t\t&lt;execution&gt;\r\n                        &lt;id&gt;default-instrument&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;instrument&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;default-report&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n\r\n**Note**: If I remove the execution element for &#39;default-instrument&#39; and &#39;default-restore-instrumented-classes&#39; than the exception trace does not come but I get coverage = 0.0% on sonar dashboard, using these two execution elements give me correct code coverage but with lengthy stack trace on the console. Any help is appreciated. ","title":"Jacoco maven plugin clogs up console with Exceptions-java.lang.IllegalStateException: class is already instrumented","body":"<p>I am working on sonar code coverage using Jacoco plugin and using power mock mockito combination to write JUnit test cases, while all goes well with the build when I run mvn clean install but the console shows a very very long stack trace chain which keeps coming for many many classes used in the project, and is quite irritating, \nThe exception trace is similar to below- </p>\n\n<pre><code>java.lang.instrument.IllegalClassFormatException: Error while instrumenting class..\nCaused by: java.io.IOException: Error while instrumenting class.\nCaused by: java.lang.IllegalStateException: Class &lt;class-name&gt; is already instrumented.\n</code></pre>\n\n<p>I went through below link for a solution but could not get a way out:- </p>\n\n<pre><code>https://github.com/jacoco/jacoco/issues/32\n</code></pre>\n\n<p>The link says \"The error indicates that there are two JaCoCo agents configured for the same process, Looks like activation of surefire-report-plugin leads to a <strong>doubled</strong> agent, which is not an exceptional case, but an error in configuration of JVM for tests\" In my case it is not even doubled agent I guess as my argLine has set to only one jacoco agent.</p>\n\n<p>In my case, the argLine is set to below- </p>\n\n<pre><code>javaagent:C:\\\\Users\\\\user\\\\.m2\\\\repository\\\\org\\\\jacoco\\\\org.jacoco.agent\\\\0.7.6.201602180812\\\\org.jacoco.agent-0.7.6.201602180812-runtime.jar=destfile=C:Users\\\\user\\\\git\\\\package\\\\target\\\\jacoco.exec\n</code></pre>\n\n<p>My pom.xml entry for jacoco-sonar configuration is as below - </p>\n\n<pre><code>&lt;properties&gt;\n        &lt;sonar.sources&gt;src/main/java&lt;/sonar.sources&gt;\n        &lt;sonar.tests&gt;src/test/java&lt;/sonar.tests&gt;\n        &lt;sonar.java.coveragePlugin&gt;jacoco&lt;/sonar.java.coveragePlugin&gt;\n        &lt;sonar.jacoco.reportPaths&gt;${project.basedir}/target/jacoco.exec&lt;/sonar.jacoco.reportPaths&gt;\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n        &lt;sonar.binaries&gt;${project.basedir}/target/classes&lt;/sonar.binaries&gt;\n        &lt;sonar.inclusions&gt;\n            **/com/abc/service/impl/ABCServiceImpl.java,\n            **/com/abc/dao/impl/ABCDAOImpl.java\n        &lt;/sonar.inclusions&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.20&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;argLine&gt;-Xmx1024m -XX:MaxPermSize=256m ${argLine}&lt;/argLine&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.7.6.201602180812&lt;/version&gt;\n                &lt;executions&gt;\n                 &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                &lt;/execution&gt; \n                &lt;execution&gt;\n                    &lt;id&gt;default-instrument&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;instrument&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;default-restore-instrumented-classes&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;restore-instrumented-classes&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n\n<p><strong>Note</strong>: If I remove the execution element for 'default-instrument' and 'default-restore-instrumented-classes' than the exception trace does not come but I get coverage = 0.0% on sonar dashboard, using these two execution elements give me correct code coverage but with lengthy stack trace on the console. Any help is appreciated. </p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":7840259,"reputation":2347,"user_id":5927073,"accept_rate":100,"display_name":"beastlyCoder"},"score":0,"creation_date":1609901853,"post_id":65589579,"comment_id":115964849,"body_markdown":"post your activity code","body":"post your activity code"},{"owner":{"account_id":13021243,"reputation":77,"user_id":9410596,"display_name":"Rajendra Mahato"},"score":0,"creation_date":1609916478,"post_id":65589579,"comment_id":115967691,"body_markdown":"have you included your all activities in manifest.xml ? and also please share your activity2 code","body":"have you included your all activities in manifest.xml ? and also please share your activity2 code"}],"answers":[{"tags":[],"owner":{"account_id":13286617,"reputation":53,"user_id":12150628,"display_name":"Caio Merotti"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609902231,"creation_date":1609902231,"answer_id":65589651,"question_id":65589579,"body_markdown":"you should provide the correct context of your class.\r\n\r\ntry this:\r\n\r\n    Intent intent = new Intent(MainActivity.this, MainActivity2.class);\r\n    startActivity(intent);\r\n\r\n","title":"Not able to go from one activity to other activity in android","body":"<p>you should provide the correct context of your class.</p>\n<p>try this:</p>\n<pre><code>Intent intent = new Intent(MainActivity.this, MainActivity2.class);\nstartActivity(intent);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13829436,"reputation":320,"user_id":10793665,"display_name":"S M Vaidhyanathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609904496,"creation_date":1609903396,"answer_id":65589777,"question_id":65589579,"body_markdown":"Just to give more clarity to Caio&#39;s answer, when you use this \r\n\r\n`Intent intent = new Intent(this, MainActivity2.class);`\r\n\r\nThe intent is created in an anonymous inner class i.e. `OnClickListener`. Thus `this` does not refer the instance of your Activity (or Context) as intended. You need to provide the correct context of your class.\r\n\r\nHence , do this:\r\n\r\n`Intent intent = new Intent(MainActivity.this, MainActivity2.class);`\r\n\r\n`startActivity(intent);`\r\n\r\n\r\n","title":"Not able to go from one activity to other activity in android","body":"<p>Just to give more clarity to Caio's answer, when you use this</p>\n<p><code>Intent intent = new Intent(this, MainActivity2.class);</code></p>\n<p>The intent is created in an anonymous inner class i.e. <code>OnClickListener</code>. Thus <code>this</code> does not refer the instance of your Activity (or Context) as intended. You need to provide the correct context of your class.</p>\n<p>Hence , do this:</p>\n<p><code>Intent intent = new Intent(MainActivity.this, MainActivity2.class);</code></p>\n<p><code>startActivity(intent);</code></p>\n"},{"tags":[],"owner":{"display_name":"user13146129"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1609914005,"creation_date":1609914005,"answer_id":65591080,"question_id":65589579,"body_markdown":"You have to try `getApplicationContext()` or `activity.this` instead of `this`. \r\n\r\nI think you are having this issue for &quot;`this`&quot;. Cause, I can&#39;t see any other issue. \r\n\r\n    Intent intent = new Intent(getApplicationContext(),MainActivity2.class)\r\n    startActivity(intent);","title":"Not able to go from one activity to other activity in android","body":"<p>You have to try <code>getApplicationContext()</code> or <code>activity.this</code> instead of <code>this</code>.</p>\n<p>I think you are having this issue for &quot;<code>this</code>&quot;. Cause, I can't see any other issue.</p>\n<pre><code>Intent intent = new Intent(getApplicationContext(),MainActivity2.class)\nstartActivity(intent);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676383820,"post_id":75413870,"comment_id":133123058,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75413870/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27559805,"reputation":1,"user_id":21033062,"display_name":"Towhidul Islam"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676419037,"creation_date":1676047318,"answer_id":75413870,"question_id":65589579,"body_markdown":"This java code is for the old version, it does not work with android studio&#39;s latest version.\r\n\r\n```java\r\nIntent intent = new Intent(MainActivity.this,MainActivity2.class);\r\n                startActivities(intent);\r\n\r\n```\r\n\r\nhere is code for the more recent versions: \r\n\r\n        button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openMainActivity();\r\n            }\r\n\r\n            public void openMainActivity() {\r\n               Intent intent = new Intent(MainActivity.this,MainActivity2.class);\r\n               startActivity(intent);\r\n\r\n            };\r\n","title":"Not able to go from one activity to other activity in android","body":"<p>This java code is for the old version, it does not work with android studio's latest version.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Intent intent = new Intent(MainActivity.this,MainActivity2.class);\n                startActivities(intent);\n\n</code></pre>\n<p>here is code for the more recent versions:</p>\n<pre><code>    button.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            openMainActivity();\n        }\n\n        public void openMainActivity() {\n           Intent intent = new Intent(MainActivity.this,MainActivity2.class);\n           startActivity(intent);\n\n        };\n</code></pre>\n"}],"owner":{"account_id":18584076,"reputation":5,"user_id":13542915,"display_name":"derkregin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":845,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65591080,"answer_count":4,"score":0,"last_activity_date":1676419037,"creation_date":1609901649,"question_id":65589579,"body_markdown":"I&#39;m trying to use a button to change from Main Activity on android studio to Main Activity 2 and I get the error \r\n\r\n```\r\nno suitable constructor found for Intent(&lt;anonymous OnClickListener&gt;,Class&lt;MainActivity2&gt;)\r\n                Intent intent = new Intent(this, MainActivity2.class);\r\n                                ^\r\n```\r\nI&#39;m on version 4.1 and I want to assume i&#39;m following an old tutorial or I just missed some punctuation.\r\nThis is my code:\r\n```        Button buttonPage = findViewById(R.id.buttonNav1);\r\n        buttonPage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openMainActivity2();\r\n            }\r\n\r\n            public void openMainActivity2(){\r\n                Intent intent = new Intent(this, MainActivity2.class);\r\n                startActivity(intent);\r\n```","title":"Not able to go from one activity to other activity in android","body":"<p>I'm trying to use a button to change from Main Activity on android studio to Main Activity 2 and I get the error</p>\n<pre><code>no suitable constructor found for Intent(&lt;anonymous OnClickListener&gt;,Class&lt;MainActivity2&gt;)\n                Intent intent = new Intent(this, MainActivity2.class);\n                                ^\n</code></pre>\n<p>I'm on version 4.1 and I want to assume i'm following an old tutorial or I just missed some punctuation.\nThis is my code:</p>\n<pre><code>        buttonPage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                openMainActivity2();\n            }\n\n            public void openMainActivity2(){\n                Intent intent = new Intent(this, MainActivity2.class);\n                startActivity(intent);\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643260239,"creation_date":1643260239,"answer_id":70873636,"question_id":70873586,"body_markdown":"In [openjdk-11 `java.lang.System`](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/System.java) on line [1968](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/System.java#L1968)\r\n\r\n    setOut0(newPrintStream(fdOut, props.getProperty(&quot;sun.stdout.encoding&quot;)));\r\n\r\nwhich is in `private static void initPhase1()` and that is documented to\r\n\r\n&gt; Initialize the system class.  Called after thread initialization.","title":"static fields problems in initialization","body":"<p>In <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/System.java\" rel=\"nofollow noreferrer\">openjdk-11 <code>java.lang.System</code></a> on line <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/System.java#L1968\" rel=\"nofollow noreferrer\">1968</a></p>\n<pre><code>setOut0(newPrintStream(fdOut, props.getProperty(&quot;sun.stdout.encoding&quot;)));\n</code></pre>\n<p>which is in <code>private static void initPhase1()</code> and that is documented to</p>\n<blockquote>\n<p>Initialize the system class.  Called after thread initialization.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":25952131,"reputation":1,"user_id":20257766,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676418970,"creation_date":1676418970,"answer_id":75454350,"question_id":70873586,"body_markdown":"I advise you to first check out FileDescriptor.java then come back and check System.java again more thoroughly. You can easily find these files in the src folder of your java installation.\r\n\r\nI copied some code from these files with out as example here but you can easily find the answers for in and err in a very similar way.\r\n\r\nfrom FileDescriptor.java\r\n\r\n    public static final FileDescriptor out = new FileDescriptor(1);\r\n\r\nfrom System.java\r\n\r\n    public static void setOut(PrintStream out) {\r\n        checkIO();\r\n        setOut0(out);\r\n    private static native void setOut0(PrintStream out);\r\n    FileOutputStream fdOut = new FileOutputStream(FileDescriptor.out);\r\n    setOut0(newPrintStream(fdOut, props.getProperty(&quot;sun.stdout.encoding&quot;)));\r\n\r\nKeep in mind that these lines are not connected, and I didn&#39;t copy all the code necessary to answer your question but only some of the most inspiring ones. So read as much as you need from these two java files for a better comprehension.\r\n\r\nAlso keep in mind that not all java &quot;capabilities&quot; are implemented in java itself i.e. \r\n\r\n    setOut0();\r\nWhich I haven&#39;t find its implementation in java source files cause it&#39;s supposed to be implemented by other means.","title":"static fields problems in initialization","body":"<p>I advise you to first check out FileDescriptor.java then come back and check System.java again more thoroughly. You can easily find these files in the src folder of your java installation.</p>\n<p>I copied some code from these files with out as example here but you can easily find the answers for in and err in a very similar way.</p>\n<p>from FileDescriptor.java</p>\n<pre><code>public static final FileDescriptor out = new FileDescriptor(1);\n</code></pre>\n<p>from System.java</p>\n<pre><code>public static void setOut(PrintStream out) {\n    checkIO();\n    setOut0(out);\nprivate static native void setOut0(PrintStream out);\nFileOutputStream fdOut = new FileOutputStream(FileDescriptor.out);\nsetOut0(newPrintStream(fdOut, props.getProperty(&quot;sun.stdout.encoding&quot;)));\n</code></pre>\n<p>Keep in mind that these lines are not connected, and I didn't copy all the code necessary to answer your question but only some of the most inspiring ones. So read as much as you need from these two java files for a better comprehension.</p>\n<p>Also keep in mind that not all java &quot;capabilities&quot; are implemented in java itself i.e.</p>\n<pre><code>setOut0();\n</code></pre>\n<p>Which I haven't find its implementation in java source files cause it's supposed to be implemented by other means.</p>\n"}],"owner":{"account_id":19306836,"reputation":21,"user_id":14113466,"display_name":"zhenyoung"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70873636,"answer_count":2,"score":0,"last_activity_date":1676418970,"creation_date":1643259840,"question_id":70873586,"body_markdown":"I have searched the JDK many times, but I can&#39;t find where the out field is initialized\r\n\r\nsuch as\r\n\r\n```java\r\npublic static final InputStream in = null;\r\npublic static final PrintStream out = null;\r\npublic static final PrintStream err = null;\r\n```\r\n\r\nSo when are these static fields in the System class initialized?","title":"static fields problems in initialization","body":"<p>I have searched the JDK many times, but I can't find where the out field is initialized</p>\n<p>such as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final InputStream in = null;\npublic static final PrintStream out = null;\npublic static final PrintStream err = null;\n</code></pre>\n<p>So when are these static fields in the System class initialized?</p>\n"},{"tags":["java","openssl","ssl-certificate","jarsigner"],"owner":{"account_id":6683099,"reputation":1081,"user_id":5155476,"accept_rate":40,"display_name":"codesniffer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676418927,"creation_date":1676418927,"question_id":75454347,"body_markdown":"I have a certificate from Comodo that I use to sign my builds:  DLLs for native code, .NET DLLs, and a JAR file for Java.\r\n\r\nI obtained the certificate on Sep 30, 2021 and it&#39;s good until Sep 30, 2024 :\r\n\r\n    $ openssl pkcs12 -in ./My_Code_Signing_CertAndPrivateKey.pkcs12.pfx -passin pass:&quot;********&quot; -clcerts -nokeys | openssl x509 -noout -enddate\r\n    notAfter=Sep 30 23:59:59 2024 GMT\r\n\r\n\r\nI followed [these instructions][1] to generate a Java KeyStore (JKS) certificate and confirmed its expiration is Sep 2024:\r\n\r\n    keytool -list -v -keystore My_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -storepass &quot;*****&quot; | grep until\r\n    Valid from: Thu Sep 30 20:00:00 EDT 2021 until: Mon Sep 30 19:59:59 EDT 2024\r\n    Valid from: Sun Mar 21 20:00:00 EDT 2021 until: Fri Mar 21 19:59:59 EDT 2036\r\n    Valid from: Mon May 24 20:00:00 EDT 2021 until: Sun Dec 31 18:59:59 EST 2028\r\n    Valid from: Wed Dec 31 19:00:00 EST 2003 until: Sun Dec 31 18:59:59 EST 2028\r\n    Valid from: Sun Jan 21 19:00:00 EST 2018 until: Sat Jan 22 18:59:59 EST 2022\r\n    Valid from: Wed May 08 20:00:00 EDT 2013 until: Mon May 08 19:59:59 EDT 2028\r\n    Valid from: Mon Jan 18 19:00:00 EST 2010 until: Mon Jan 18 18:59:59 EST 2038\r\n    \r\n    Warning:\r\n    &lt;le-7a277b0a-1b66-4d55-8b15-11d2734d9e16&gt; uses the SHA1withRSA signature algorithm which is considered a security risk. This algorithm will be disabled in a future update.\r\n    The JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore Nucleuz_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -destkeystore Nucleuz_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -deststoretype pkcs12&quot;.\r\n\r\n\r\nBut when I use the JKS certificate to sign my JAR file it reports the signer certificate is already expired (Jan 22, 2022):\r\n\r\n    $ jarsigner -keypass CodeSignPwd -keystore ./My_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -storepass &quot;*****&quot; -tsa http://timestamp.comodoca.com/rfc3161 -digestalg SHA-256 myjar.jar &quot;***** comodo ca limited id&quot; \r\n    jar signed.\r\n    \r\n    Warning: \r\n    The signer certificate has expired.\r\n    \r\n    The signer certificate expired on 2022-01-22. However, the JAR will be valid until the timestamp expires on 2033-08-10.\r\n\r\n\r\njarsigner also reports the JAR signature is already expired (Jan 22, 2022):\r\n\r\n    $ jarsigner -verify -verbose -certs myjar.jar\r\n    \r\n          [entry was signed on 2/14/23 4:20 PM]\r\n          &gt;&gt;&gt; Signer\r\n          X.509, CN=*****, O=*****, OID.2.5.4.18=*****, STREET=*****, ST=**, OID.2.5.4.17=*****, C=US\r\n          [certificate expired on 1/22/22 6:59 PM]\r\n          X.509, CN=COMODO RSA Code Signing CA, O=COMODO CA Limited, L=Salford, ST=Greater Manchester, C=GB\r\n          [certificate is valid from 5/8/13 8:00 PM to 5/8/28 7:59 PM]\r\n          X.509, CN=COMODO RSA Certification Authority, O=COMODO CA Limited, L=Salford, ST=Greater Manchester, C=GB\r\n          [trusted certificate]\r\n          &gt;&gt;&gt; TSA\r\n          X.509, CN=&quot;Sectigo RSA Time Stamping Signer #3&quot;, O=Sectigo Limited, ST=Manchester, C=GB\r\n          [certificate is valid from 5/10/22 8:00 PM to 8/10/33 7:59 PM]\r\n          X.509, CN=Sectigo RSA Time Stamping CA, O=Sectigo Limited, L=Salford, ST=Greater Manchester, C=GB\r\n          [certificate is valid from 5/1/19 8:00 PM to 1/18/38 6:59 PM]\r\n    \r\n    \r\n      s = signature was verified \r\n      m = entry is listed in manifest\r\n      k = at least one certificate was found in keystore\r\n      i = at least one certificate was found in identity scope\r\n    \r\n    - Signed by &quot;CN=*****, O=*****, OID.2.5.4.18=*****, STREET=*****, L=*****, ST=**, OID.2.5.4.17=*****, C=US&quot;\r\n        Digest algorithm: SHA-256\r\n        Signature algorithm: SHA256withRSA, 2048-bit key\r\n      Timestamped by &quot;CN=&quot;Sectigo RSA Time Stamping Signer #3&quot;, O=Sectigo Limited, ST=Manchester, C=GB&quot; on Tue Feb 14 21:20:26 UTC 2023\r\n        Timestamp digest algorithm: SHA-256\r\n        Timestamp signature algorithm: SHA384withRSA, 4096-bit key\r\n    \r\n    jar verified.\r\n    \r\n    Warning: \r\n    This jar contains entries whose signer certificate has expired. \r\n    \r\n    The signer certificate expired on 2022-01-22. However, the JAR will be valid until the timestamp expires on 2033-08-10.\r\n\r\n\r\nMy native-code DLLs and the .NET DLLs have the proper expiration:  Sep 30, 2024.\r\n\r\n\r\nAny suggestions?\r\n\r\n\r\n  [1]: https://support.ksoftware.net/support/solutions/articles/17164-how-do-i-sign-and-timestamp-a-java-jar-file\r\n\r\n\r\n","title":"jarsigner reporting different certificate expiration","body":"<p>I have a certificate from Comodo that I use to sign my builds:  DLLs for native code, .NET DLLs, and a JAR file for Java.</p>\n<p>I obtained the certificate on Sep 30, 2021 and it's good until Sep 30, 2024 :</p>\n<pre><code>$ openssl pkcs12 -in ./My_Code_Signing_CertAndPrivateKey.pkcs12.pfx -passin pass:&quot;********&quot; -clcerts -nokeys | openssl x509 -noout -enddate\nnotAfter=Sep 30 23:59:59 2024 GMT\n</code></pre>\n<p>I followed <a href=\"https://support.ksoftware.net/support/solutions/articles/17164-how-do-i-sign-and-timestamp-a-java-jar-file\" rel=\"nofollow noreferrer\">these instructions</a> to generate a Java KeyStore (JKS) certificate and confirmed its expiration is Sep 2024:</p>\n<pre><code>keytool -list -v -keystore My_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -storepass &quot;*****&quot; | grep until\nValid from: Thu Sep 30 20:00:00 EDT 2021 until: Mon Sep 30 19:59:59 EDT 2024\nValid from: Sun Mar 21 20:00:00 EDT 2021 until: Fri Mar 21 19:59:59 EDT 2036\nValid from: Mon May 24 20:00:00 EDT 2021 until: Sun Dec 31 18:59:59 EST 2028\nValid from: Wed Dec 31 19:00:00 EST 2003 until: Sun Dec 31 18:59:59 EST 2028\nValid from: Sun Jan 21 19:00:00 EST 2018 until: Sat Jan 22 18:59:59 EST 2022\nValid from: Wed May 08 20:00:00 EDT 2013 until: Mon May 08 19:59:59 EDT 2028\nValid from: Mon Jan 18 19:00:00 EST 2010 until: Mon Jan 18 18:59:59 EST 2038\n\nWarning:\n&lt;le-7a277b0a-1b66-4d55-8b15-11d2734d9e16&gt; uses the SHA1withRSA signature algorithm which is considered a security risk. This algorithm will be disabled in a future update.\nThe JKS keystore uses a proprietary format. It is recommended to migrate to PKCS12 which is an industry standard format using &quot;keytool -importkeystore -srckeystore Nucleuz_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -destkeystore Nucleuz_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -deststoretype pkcs12&quot;.\n</code></pre>\n<p>But when I use the JKS certificate to sign my JAR file it reports the signer certificate is already expired (Jan 22, 2022):</p>\n<pre><code>$ jarsigner -keypass CodeSignPwd -keystore ./My_Code_Signing_CertAndPrivateKey_JavaKeyStore.jks -storepass &quot;*****&quot; -tsa http://timestamp.comodoca.com/rfc3161 -digestalg SHA-256 myjar.jar &quot;***** comodo ca limited id&quot; \njar signed.\n\nWarning: \nThe signer certificate has expired.\n\nThe signer certificate expired on 2022-01-22. However, the JAR will be valid until the timestamp expires on 2033-08-10.\n</code></pre>\n<p>jarsigner also reports the JAR signature is already expired (Jan 22, 2022):</p>\n<pre><code>$ jarsigner -verify -verbose -certs myjar.jar\n\n      [entry was signed on 2/14/23 4:20 PM]\n      &gt;&gt;&gt; Signer\n      X.509, CN=*****, O=*****, OID.2.5.4.18=*****, STREET=*****, ST=**, OID.2.5.4.17=*****, C=US\n      [certificate expired on 1/22/22 6:59 PM]\n      X.509, CN=COMODO RSA Code Signing CA, O=COMODO CA Limited, L=Salford, ST=Greater Manchester, C=GB\n      [certificate is valid from 5/8/13 8:00 PM to 5/8/28 7:59 PM]\n      X.509, CN=COMODO RSA Certification Authority, O=COMODO CA Limited, L=Salford, ST=Greater Manchester, C=GB\n      [trusted certificate]\n      &gt;&gt;&gt; TSA\n      X.509, CN=&quot;Sectigo RSA Time Stamping Signer #3&quot;, O=Sectigo Limited, ST=Manchester, C=GB\n      [certificate is valid from 5/10/22 8:00 PM to 8/10/33 7:59 PM]\n      X.509, CN=Sectigo RSA Time Stamping CA, O=Sectigo Limited, L=Salford, ST=Greater Manchester, C=GB\n      [certificate is valid from 5/1/19 8:00 PM to 1/18/38 6:59 PM]\n\n\n  s = signature was verified \n  m = entry is listed in manifest\n  k = at least one certificate was found in keystore\n  i = at least one certificate was found in identity scope\n\n- Signed by &quot;CN=*****, O=*****, OID.2.5.4.18=*****, STREET=*****, L=*****, ST=**, OID.2.5.4.17=*****, C=US&quot;\n    Digest algorithm: SHA-256\n    Signature algorithm: SHA256withRSA, 2048-bit key\n  Timestamped by &quot;CN=&quot;Sectigo RSA Time Stamping Signer #3&quot;, O=Sectigo Limited, ST=Manchester, C=GB&quot; on Tue Feb 14 21:20:26 UTC 2023\n    Timestamp digest algorithm: SHA-256\n    Timestamp signature algorithm: SHA384withRSA, 4096-bit key\n\njar verified.\n\nWarning: \nThis jar contains entries whose signer certificate has expired. \n\nThe signer certificate expired on 2022-01-22. However, the JAR will be valid until the timestamp expires on 2033-08-10.\n</code></pre>\n<p>My native-code DLLs and the .NET DLLs have the proper expiration:  Sep 30, 2024.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","spring-boot","testcontainers"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676406586,"post_id":75452651,"comment_id":133130009,"body_markdown":"What&#39;s the _question_? Be specific; StackOverflow is a Q&amp;A platform.","body":"What&#39;s the <i>question</i>? Be specific; StackOverflow is a Q&amp;A platform."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676410644,"post_id":75452651,"comment_id":133130986,"body_markdown":"Does it work without the `.withLogConsumer(new Slf4jLogConsumer(logger))`?","body":"Does it work without the <code>.withLogConsumer(new Slf4jLogConsumer(logger))</code>?"},{"owner":{"account_id":25754395,"reputation":13,"user_id":19506356,"display_name":"robatxumo"},"score":0,"creation_date":1676411945,"post_id":75452651,"comment_id":133131269,"body_markdown":"@dan1st bingo, make an answer out of it and I will check mark it.. #everythingisbroken","body":"@dan1st bingo, make an answer out of it and I will check mark it.. #everythingisbroken"}],"answers":[{"comments":[{"owner":{"account_id":25754395,"reputation":13,"user_id":19506356,"display_name":"robatxumo"},"score":0,"creation_date":1676489765,"post_id":75454305,"comment_id":133149331,"body_markdown":"Yeah I tried doing that but did not remove the warning, lemme try that again. Sounds like you did not try it? ok that worked, thanks.","body":"Yeah I tried doing that but did not remove the warning, lemme try that again. Sounds like you did not try it? ok that worked, thanks."},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676542684,"post_id":75454305,"comment_id":133159399,"body_markdown":"Since I currently do not use IntelliJ, I didn&#39;t test it and Idon&#39;t know its exact behaviour by heart. However, you could probably also suppress the warning.","body":"Since I currently do not use IntelliJ, I didn&#39;t test it and Idon&#39;t know its exact behaviour by heart. However, you could probably also suppress the warning."}],"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676418279,"creation_date":1676418279,"answer_id":75454305,"question_id":75452651,"body_markdown":"TL;DR: It&#39;s a false positive due to the `.withLogConsumer()` chained call.\r\n\r\nIntelliJ shows you that `new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;)` is not closed by the try-with-resources block. Instead, you are calling `.withLogConsumer(new Slf4jLogConsumer(logger))` on it and closibg that using try-with-resources.\r\n\r\nSince closing the object returned by `.withLogConsumer(new Slf4jLogConsumer(logger))` also closes the `MySQLContainer` ([it is the same objects as it returns `this`](https://javadoc.io/doc/org.testcontainers/testcontainers/latest/index.html), this is a false positive.\r\n\r\nIf you want to get around this error without suppressing it, you could try to close both resources (which is what IntelliJ wants from you):\r\n```java\r\n        try (\r\n                var containerWithoutLogger = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;);\r\n                var mySQLContainer = containerWithoutLogger.withLogConsumer(new Slf4jLogConsumer(logger))\r\n        ) {\r\n            mySQLContainer.start();\r\n            assertThat(mySQLContainer.isRunning(), is(true));\r\n        } \r\n```\r\n\r\nHowever, this would close it twice. Alternatively, you could try to call `withLogConsumer` inside the try-block but that might result in a similar warning being shown at that point.\r\n```java\r\n        try (\r\n                var mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;);\r\n        ) {\r\n            mySQLContainer.withLogConsumer(new Slf4jLogConsumer(logger));\r\n            mySQLContainer.start();\r\n            assertThat(mySQLContainer.isRunning(), is(true));\r\n        } \r\n```","title":"Testcontainers warning that cannot be fixed","body":"<p>TL;DR: It's a false positive due to the <code>.withLogConsumer()</code> chained call.</p>\n<p>IntelliJ shows you that <code>new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;)</code> is not closed by the try-with-resources block. Instead, you are calling <code>.withLogConsumer(new Slf4jLogConsumer(logger))</code> on it and closibg that using try-with-resources.</p>\n<p>Since closing the object returned by <code>.withLogConsumer(new Slf4jLogConsumer(logger))</code> also closes the <code>MySQLContainer</code> (<a href=\"https://javadoc.io/doc/org.testcontainers/testcontainers/latest/index.html\" rel=\"nofollow noreferrer\">it is the same objects as it returns <code>this</code></a>, this is a false positive.</p>\n<p>If you want to get around this error without suppressing it, you could try to close both resources (which is what IntelliJ wants from you):</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try (\n                var containerWithoutLogger = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;);\n                var mySQLContainer = containerWithoutLogger.withLogConsumer(new Slf4jLogConsumer(logger))\n        ) {\n            mySQLContainer.start();\n            assertThat(mySQLContainer.isRunning(), is(true));\n        } \n</code></pre>\n<p>However, this would close it twice. Alternatively, you could try to call <code>withLogConsumer</code> inside the try-block but that might result in a similar warning being shown at that point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        try (\n                var mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;);\n        ) {\n            mySQLContainer.withLogConsumer(new Slf4jLogConsumer(logger));\n            mySQLContainer.start();\n            assertThat(mySQLContainer.isRunning(), is(true));\n        } \n</code></pre>\n"}],"owner":{"account_id":25754395,"reputation":13,"user_id":19506356,"display_name":"robatxumo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":733,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75454305,"answer_count":1,"score":1,"last_activity_date":1676418279,"creation_date":1676404241,"question_id":75452651,"body_markdown":"Wrote a @Testcontainers test in Junit 5 with Springboot 3. The test runs and passes, but I have the following warning:\r\n\r\n```\r\n&#39;MySQLContainer&lt;SELF&gt;&#39; used without &#39;try&#39;-with-resources statement\r\n```\r\n\r\nBut the code shows in fact the container is NOT used outside the try with resources statement:\r\n\r\n``` java\r\n@Testcontainers\r\npublic class PageTemplateCreationTestContainerTests {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(PageTemplateCreationTestContainerTests.class);\r\n\r\n    @Test\r\n    void mySQLContainerShouldBeRunning() {\r\n        try (\r\n                var mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;)\r\n                        .withLogConsumer(new Slf4jLogConsumer(logger))\r\n        ) {\r\n            mySQLContainer.start();\r\n            assertThat(mySQLContainer.isRunning(), is(true));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI read through the docs for Autocloseable and of course there&#39;s no help here from IntelliJ. Thought maybe it was choking on the `var` syntax but no.\r\n\r\nThis warning should not appear.","title":"Testcontainers warning that cannot be fixed","body":"<p>Wrote a @Testcontainers test in Junit 5 with Springboot 3. The test runs and passes, but I have the following warning:</p>\n<pre><code>'MySQLContainer&lt;SELF&gt;' used without 'try'-with-resources statement\n</code></pre>\n<p>But the code shows in fact the container is NOT used outside the try with resources statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Testcontainers\npublic class PageTemplateCreationTestContainerTests {\n\n    private static final Logger logger = LoggerFactory.getLogger(PageTemplateCreationTestContainerTests.class);\n\n    @Test\n    void mySQLContainerShouldBeRunning() {\n        try (\n                var mySQLContainer = new MySQLContainer&lt;&gt;(&quot;mysql:8.0&quot;)\n                        .withLogConsumer(new Slf4jLogConsumer(logger))\n        ) {\n            mySQLContainer.start();\n            assertThat(mySQLContainer.isRunning(), is(true));\n        }\n    }\n}\n</code></pre>\n<p>I read through the docs for Autocloseable and of course there's no help here from IntelliJ. Thought maybe it was choking on the <code>var</code> syntax but no.</p>\n<p>This warning should not appear.</p>\n"},{"tags":["java","flutter","dart","gradle"],"comments":[{"owner":{"account_id":18680498,"reputation":640,"user_id":13617136,"display_name":"iqfareez"},"score":0,"creation_date":1676434028,"post_id":75454261,"comment_id":133134236,"body_markdown":"Hi. Try run `flutter clean` and then `flutter run`.","body":"Hi. Try run <code>flutter clean</code> and then <code>flutter run</code>."}],"owner":{"account_id":18996725,"reputation":1,"user_id":13864754,"display_name":"HERO_FIIFI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676417851,"creation_date":1676417851,"question_id":75454261,"body_markdown":"[Vscode terminal](https://i.stack.imgur.com/EWAPJ.png)\r\n\r\n\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Gradle distribution &#39;C:\\Users\\USER\\.gradle\\wrapper\\dists\\gradle-7.5-all\\6qsw290k5lz422uaf8jf6m7co&#39; contains too many directories. Expected to find exactly 1 directory.\r\n        at org.gradle.wrapper.Install.getAndVerifyDistributionRoot(Install.java:118)\r\n        at org.gradle.wrapper.Install.access$000(Install.java:27)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:52)\r\n        at org.gradle.wrapper.Install$1.call(Install.java:48)\r\n        at org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\r\n        at org.gradle.wrapper.Install.createDist(Install.java:48)\r\n        at org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\r\n        at org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\r\nRunning Gradle task &#39;assembleDebug&#39;...                              6.1s\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\ni downloaded new gradle versions, change paths but still to no avail","title":"Flutter project wont run on vscode or android due to a gradle problem","body":"<p><a href=\"https://i.stack.imgur.com/EWAPJ.png\" rel=\"nofollow noreferrer\">Vscode terminal</a></p>\n<p>Exception in thread &quot;main&quot; java.lang.RuntimeException: Gradle distribution 'C:\\Users\\USER.gradle\\wrapper\\dists\\gradle-7.5-all\\6qsw290k5lz422uaf8jf6m7co' contains too many directories. Expected to find exactly 1 directory.\nat org.gradle.wrapper.Install.getAndVerifyDistributionRoot(Install.java:118)\nat org.gradle.wrapper.Install.access$000(Install.java:27)\nat org.gradle.wrapper.Install$1.call(Install.java:52)\nat org.gradle.wrapper.Install$1.call(Install.java:48)\nat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:65)\nat org.gradle.wrapper.Install.createDist(Install.java:48)\nat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:128)\nat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:61)\nRunning Gradle task 'assembleDebug'...                              6.1s\nException: Gradle task assembleDebug failed with exit code 1</p>\n<p>i downloaded new gradle versions, change paths but still to no avail</p>\n"},{"tags":["java","javafx","keyboard","listener","jnativehook"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1578181325,"post_id":59594172,"comment_id":105356587,"body_markdown":"Please create a [mre] demonstrating the problem then add it to your question via an [edit].","body":"Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem then add it to your question via an <a href=\"https://stackoverflow.com/posts/59594172/edit\">edit</a>."},{"owner":{"account_id":3101890,"reputation":10709,"user_id":2855515,"accept_rate":100,"display_name":"brian"},"score":0,"creation_date":1578185588,"post_id":59594172,"comment_id":105357202,"body_markdown":"Tell people which library you&#39;re using.  Hint, note that this one has removeKeyListener method. https://github.com/kristian/system-hook/blob/master/src/main/java/lc/kra/system/keyboard/GlobalKeyboardHook.java","body":"Tell people which library you&#39;re using.  Hint, note that this one has removeKeyListener method. <a href=\"https://github.com/kristian/system-hook/blob/master/src/main/java/lc/kra/system/keyboard/GlobalKeyboardHook.java\" rel=\"nofollow noreferrer\">github.com/kristian/system-hook/blob/master/src/main/java/lc&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":13824715,"reputation":88,"user_id":9979337,"display_name":"Wojciech Pawlik"},"score":0,"creation_date":1578187771,"post_id":59594172,"comment_id":105357480,"body_markdown":"I wrote a method which removes listener from hook when the text field is focused. It works but the problem still exists - I cannot edit the text.","body":"I wrote a method which removes listener from hook when the text field is focused. It works but the problem still exists - I cannot edit the text."}],"owner":{"account_id":13824715,"reputation":88,"user_id":9979337,"display_name":"Wojciech Pawlik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676417629,"creation_date":1578166579,"question_id":59594172,"body_markdown":"I used jnativehook for global keyboard listening. I created GUI in JavaFX 11. I have a TextField to define name of a file created after pressing specified key combination.\r\n\r\n**The problem is I cannot edit text in the TextField by keyboard.** I can delete or paste text by mouse but not by keyboard.\r\n\r\nI created an individual thread for global keyboard listening. My idea was to stop this thread when the TextField is focused. Unfortunately, my attempts failed.\r\n\r\nHere is a minimimal reproducible example which causes similar problem:\r\n\r\n*Main.java*\r\n\r\n    public class Main extends Application {\r\n    private static final int APP_WIDTH = 400;\r\n    private static final int APP_HEIGHT = 400;\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n        launch(args);\r\n    }\r\n\r\n    @Override\r\n    public void start(Stage stage) throws Exception {\r\n        var fxmlLoader = new FXMLLoader(getClass().getResource(&quot;/main.fxml&quot;));\r\n        Parent root = fxmlLoader.load();\r\n        stage.setTitle(&quot;Example&quot;);\r\n        stage.setScene(new Scene(root, APP_WIDTH, APP_HEIGHT));\r\n        stage.show();\r\n\r\n        Thread background = new Thread(() -&gt; Platform.runLater(() -&gt; {\r\n            GlobalKeyboardHook keyboardHook = new GlobalKeyboardHook(true);\r\n\r\n            keyboardHook.addKeyListener(new GlobalKeyAdapter() {\r\n\r\n                @Override\r\n                public void keyPressed(GlobalKeyEvent keyEvent) {\r\n                    System.out.println(&quot;Key pressed: &quot; + keyEvent.getVirtualKeyCode());\r\n                }\r\n\r\n                @Override\r\n                public void keyReleased(GlobalKeyEvent keyEvent) {\r\n                    System.out.println(&quot;Key released: &quot; + keyEvent.toString());\r\n                }\r\n            });\r\n        }));\r\n        background.start();\r\n    }\r\n\r\n*Controller.java*\r\n\r\n    public class Controller implements Initializable {\r\n        @FXML\r\n        private TextField filePath;\r\n\r\n        private static String filePathString = &quot;filePathString&quot;;\r\n\r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n            handleFilePath();\r\n        }\r\n\r\n        private void handleFilePath() {\r\n            filePath.textProperty().setValue(filePathString);\r\n            filePath.textProperty().addListener(((observable, oldValue, newValue) -&gt; {\r\n                filePath.commitValue();\r\n            }));\r\n        }\r\n    }","title":"JavaFX and jnativehook library conflict","body":"<p>I used jnativehook for global keyboard listening. I created GUI in JavaFX 11. I have a TextField to define name of a file created after pressing specified key combination.</p>\n\n<p><strong>The problem is I cannot edit text in the TextField by keyboard.</strong> I can delete or paste text by mouse but not by keyboard.</p>\n\n<p>I created an individual thread for global keyboard listening. My idea was to stop this thread when the TextField is focused. Unfortunately, my attempts failed.</p>\n\n<p>Here is a minimimal reproducible example which causes similar problem:</p>\n\n<p><em>Main.java</em></p>\n\n<pre><code>public class Main extends Application {\nprivate static final int APP_WIDTH = 400;\nprivate static final int APP_HEIGHT = 400;\n\npublic static void main(String[] args) {\n    SpringApplication.run(Main.class, args);\n    launch(args);\n}\n\n@Override\npublic void start(Stage stage) throws Exception {\n    var fxmlLoader = new FXMLLoader(getClass().getResource(\"/main.fxml\"));\n    Parent root = fxmlLoader.load();\n    stage.setTitle(\"Example\");\n    stage.setScene(new Scene(root, APP_WIDTH, APP_HEIGHT));\n    stage.show();\n\n    Thread background = new Thread(() -&gt; Platform.runLater(() -&gt; {\n        GlobalKeyboardHook keyboardHook = new GlobalKeyboardHook(true);\n\n        keyboardHook.addKeyListener(new GlobalKeyAdapter() {\n\n            @Override\n            public void keyPressed(GlobalKeyEvent keyEvent) {\n                System.out.println(\"Key pressed: \" + keyEvent.getVirtualKeyCode());\n            }\n\n            @Override\n            public void keyReleased(GlobalKeyEvent keyEvent) {\n                System.out.println(\"Key released: \" + keyEvent.toString());\n            }\n        });\n    }));\n    background.start();\n}\n</code></pre>\n\n<p><em>Controller.java</em></p>\n\n<pre><code>public class Controller implements Initializable {\n    @FXML\n    private TextField filePath;\n\n    private static String filePathString = \"filePathString\";\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        handleFilePath();\n    }\n\n    private void handleFilePath() {\n        filePath.textProperty().setValue(filePathString);\n        filePath.textProperty().addListener(((observable, oldValue, newValue) -&gt; {\n            filePath.commitValue();\n        }));\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","apache-spark","apache-kafka"],"owner":{"account_id":27788309,"reputation":1,"user_id":21215242,"display_name":"Elijah Cyber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676417520,"creation_date":1676417520,"question_id":75454228,"body_markdown":"I have been trying to consume data from a kafka broker running on my local network. I have a producer pushing messages with a string key and json value. I have been trying to learn spark and have written up a scipt in intellij but whenever i run it i get a \r\n\r\njava: cannot access scala.Serializable\r\n  class file for scala.Serializable not found\r\n```\r\npackage org.example;\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.apache.spark.SparkConf;\r\nimport org.apache.spark.api.java.JavaSparkContext;\r\nimport org.apache.spark.streaming.Duration;\r\nimport org.apache.spark.streaming.api.java.JavaInputDStream;\r\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\r\nimport org.apache.spark.streaming.kafka010.ConsumerStrategies;\r\nimport org.apache.spark.streaming.kafka010.KafkaUtils;\r\nimport org.apache.spark.streaming.kafka010.LocationStrategies;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Collection;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport scala.*;\r\npublic class Main {\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        // myApp is the name of the application to show in the cluster UI\r\n        //set master is to be a Spark, Mesos or YARN cluster URL\r\n        // local[*] just sets it up to run in local mode\r\n        SparkConf conf = new SparkConf().setAppName(&quot;myApp&quot;).setMaster(&quot;local[*]&quot;); // to start streaming you need to create a context and the first step in that is creatign your configuration\r\n        JavaSparkContext c = new JavaSparkContext(conf);\r\n\r\n        JavaStreamingContext ssc = new JavaStreamingContext(c, new Duration(1000)); // here is where we create our streaming conext\r\n        Map&lt;String, Object&gt; kafkaParams = new HashMap&lt;&gt;();\r\n\r\n        Collection&lt;String&gt; topics = Arrays.asList(&quot;TestTopic&quot;,&quot;TestTopic1&quot;); // setting up a collection for multiple topics to pull data from\r\n        JavaInputDStream&lt;ConsumerRecord&lt;String, String&gt;&gt; stream;\r\n\r\n        kafkaParams.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;10.0.0.24:9092,&quot;); // this is where we set up our streaming context to get input from a kafka broker\r\n        kafkaParams.put(ConsumerConfig.CLIENT_ID_CONFIG, StringDeserializer.class);\r\n        //kafkaParams.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, Json.class);\r\n        kafkaParams.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;myGroup&quot;); // giving the broker our consumer group\r\n        kafkaParams.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); // setting it up to pull all records from kafka broker\r\n        kafkaParams.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n\r\n\r\n\r\n\r\n\r\n        stream = // you can also create an rdd if batch processing is better see: https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html\r\n                KafkaUtils.createDirectStream( // here is where the stream is actually created and instantiated\r\n                        ssc,                  // this is the streaming context we created earlier\r\n                        LocationStrategies.PreferConsistent(), //This will distribute partitions among consumers equally\r\n                        ConsumerStrategies.Subscribe(topics, kafkaParams) //using consumerStrategies allows you to consume from a fixed number of topics, you can also do SubscribePattern to use a regex of topics of interest\r\n                );\r\n        stream.foreachRDD(x -&gt; x.foreach(System.out::println));\r\n\r\n\r\n        ssc.start();\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere is my pom file \r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Kafka-Streaming-spark&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;18&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.scala-lang/scala-library --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n            &lt;version&gt;2.12.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-streaming-kafka-0-10_2.12&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI just set it up to print out records to see if it was even consuming messages but I cant even get it to run. Also aplogize in advance if my question is poor this is my first time posting a question. ","title":"How to stream data from kafka broker using java spark consumer","body":"<p>I have been trying to consume data from a kafka broker running on my local network. I have a producer pushing messages with a string key and json value. I have been trying to learn spark and have written up a scipt in intellij but whenever i run it i get a</p>\n<p>java: cannot access scala.Serializable\nclass file for scala.Serializable not found</p>\n<pre><code>package org.example;\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.api.java.JavaSparkContext;\nimport org.apache.spark.streaming.Duration;\nimport org.apache.spark.streaming.api.java.JavaInputDStream;\nimport org.apache.spark.streaming.api.java.JavaStreamingContext;\nimport org.apache.spark.streaming.kafka010.ConsumerStrategies;\nimport org.apache.spark.streaming.kafka010.KafkaUtils;\nimport org.apache.spark.streaming.kafka010.LocationStrategies;\n\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\nimport scala.*;\npublic class Main {\n\n\n    public static void main(String[] args) throws InterruptedException {\n        // myApp is the name of the application to show in the cluster UI\n        //set master is to be a Spark, Mesos or YARN cluster URL\n        // local[*] just sets it up to run in local mode\n        SparkConf conf = new SparkConf().setAppName(&quot;myApp&quot;).setMaster(&quot;local[*]&quot;); // to start streaming you need to create a context and the first step in that is creatign your configuration\n        JavaSparkContext c = new JavaSparkContext(conf);\n\n        JavaStreamingContext ssc = new JavaStreamingContext(c, new Duration(1000)); // here is where we create our streaming conext\n        Map&lt;String, Object&gt; kafkaParams = new HashMap&lt;&gt;();\n\n        Collection&lt;String&gt; topics = Arrays.asList(&quot;TestTopic&quot;,&quot;TestTopic1&quot;); // setting up a collection for multiple topics to pull data from\n        JavaInputDStream&lt;ConsumerRecord&lt;String, String&gt;&gt; stream;\n\n        kafkaParams.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;10.0.0.24:9092,&quot;); // this is where we set up our streaming context to get input from a kafka broker\n        kafkaParams.put(ConsumerConfig.CLIENT_ID_CONFIG, StringDeserializer.class);\n        //kafkaParams.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, Json.class);\n        kafkaParams.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;myGroup&quot;); // giving the broker our consumer group\n        kafkaParams.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;); // setting it up to pull all records from kafka broker\n        kafkaParams.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n\n\n\n\n\n        stream = // you can also create an rdd if batch processing is better see: https://spark.apache.org/docs/latest/streaming-kafka-0-10-integration.html\n                KafkaUtils.createDirectStream( // here is where the stream is actually created and instantiated\n                        ssc,                  // this is the streaming context we created earlier\n                        LocationStrategies.PreferConsistent(), //This will distribute partitions among consumers equally\n                        ConsumerStrategies.Subscribe(topics, kafkaParams) //using consumerStrategies allows you to consume from a fixed number of topics, you can also do SubscribePattern to use a regex of topics of interest\n                );\n        stream.foreachRDD(x -&gt; x.foreach(System.out::println));\n\n\n        ssc.start();\n    }\n}\n</code></pre>\n<p>Here is my pom file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Kafka-Streaming-spark&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;18&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;18&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;18&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.scala-lang/scala-library --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;2.12.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-streaming-kafka-0-10_2.12&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I just set it up to print out records to see if it was even consuming messages but I cant even get it to run. Also aplogize in advance if my question is poor this is my first time posting a question.</p>\n"},{"tags":["java","xml","jaxb","xjc"],"owner":{"account_id":8500862,"reputation":2930,"user_id":8737144,"display_name":"1Z10"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676416993,"creation_date":1676416993,"question_id":75454157,"body_markdown":"I&#39;m generating the Java classes corresponding to the XML-Schema at\r\nhttps://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd\r\nbut most of the generated classes are undesired since they belong to the imported namespace:\r\n\r\n    &lt;xs:import namespace=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot;/&gt;\r\n\r\nIndeed, if I simply comment out this import statement then the generated classes go from 149 (mostly HTML elements) to just 59 (all belonging to the input schema domain).\r\n\r\nMy question is if/how it is possible to skip/ignore the generation of Java classes for certain XML elements and in this case the elements defined in an imported namespace,\r\ndefining some custom rules in a `.xjb` file.\r\n\r\nThe solution available at https://stackoverflow.com/a/20907846/8737144 didn&#39;t work in my case, returning the following error\r\n\r\n    com.sun.istack.SAXParseException2: compiler was unable to honor this class customization. It is attached to a wrong place, or its inconsistent with other bindings.\r\n\r\nIt is possible to test the generation using the following command:\r\n\r\n    xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd -b cwe-bindings.xjb\r\n---\r\n    &lt;!-- cwe-bindings.xjb --&gt;\r\n    &lt;jxb:bindings version=&quot;3.0&quot;\r\n                  xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n                  xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n        &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\r\n            &lt;jxb:schemaBindings&gt;\r\n                &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\r\n            &lt;/jxb:schemaBindings&gt;\r\n    \r\n            &lt;!-- rename the &#39;lang&#39; attribute on line 302 to &#39;langAttribute&#39; --&gt;\r\n            &lt;jxb:bindings node=&quot;//xsd:attributeGroup[@name=&#39;i18n&#39;]/xsd:attribute[@name=&#39;lang&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\r\n           &lt;/jxb:bindings&gt;\r\n           \r\n            &lt;!-- rename the &#39;lang&#39; attribute on line 1166 to &#39;langAttribute&#39; --&gt;\r\n           &lt;jxb:bindings node=&quot;//xsd:element[@name=&#39;bdo&#39;]/xsd:complexType/xsd:complexContent/xsd:extension/xsd:attribute[@name=&#39;lang&#39;]&quot;&gt;\r\n                &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\r\n           &lt;/jxb:bindings&gt;\r\n        &lt;/jxb:bindings&gt;\r\n    &lt;/jxb:bindings&gt;\r\n\r\n\r\n","title":"JAXB XJC: how to skip class generation for an imported namespace?","body":"<p>I'm generating the Java classes corresponding to the XML-Schema at\n<a href=\"https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd\" rel=\"nofollow noreferrer\">https://cwe.mitre.org/data/xsd/cwe_schema_v6.10.xsd</a>\nbut most of the generated classes are undesired since they belong to the imported namespace:</p>\n<pre><code>&lt;xs:import namespace=&quot;http://www.w3.org/1999/xhtml&quot;\nschemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot;/&gt;\n</code></pre>\n<p>Indeed, if I simply comment out this import statement then the generated classes go from 149 (mostly HTML elements) to just 59 (all belonging to the input schema domain).</p>\n<p>My question is if/how it is possible to skip/ignore the generation of Java classes for certain XML elements and in this case the elements defined in an imported namespace,\ndefining some custom rules in a <code>.xjb</code> file.</p>\n<p>The solution available at <a href=\"https://stackoverflow.com/a/20907846/8737144\">https://stackoverflow.com/a/20907846/8737144</a> didn't work in my case, returning the following error</p>\n<pre><code>com.sun.istack.SAXParseException2: compiler was unable to honor this class customization. It is attached to a wrong place, or its inconsistent with other bindings.\n</code></pre>\n<p>It is possible to test the generation using the following command:</p>\n<pre><code>xjc http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd -b cwe-bindings.xjb\n</code></pre>\n<hr />\n<pre><code>&lt;!-- cwe-bindings.xjb --&gt;\n&lt;jxb:bindings version=&quot;3.0&quot;\n              xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n              xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;jxb:bindings schemaLocation=&quot;http://www.w3.org/2002/08/xhtml/xhtml1-strict.xsd&quot; node=&quot;//xsd:schema&quot;&gt;\n        &lt;jxb:schemaBindings&gt;\n            &lt;jxb:package name=&quot;com.example.cwe&quot;/&gt;\n        &lt;/jxb:schemaBindings&gt;\n\n        &lt;!-- rename the 'lang' attribute on line 302 to 'langAttribute' --&gt;\n        &lt;jxb:bindings node=&quot;//xsd:attributeGroup[@name='i18n']/xsd:attribute[@name='lang']&quot;&gt;\n            &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\n       &lt;/jxb:bindings&gt;\n       \n        &lt;!-- rename the 'lang' attribute on line 1166 to 'langAttribute' --&gt;\n       &lt;jxb:bindings node=&quot;//xsd:element[@name='bdo']/xsd:complexType/xsd:complexContent/xsd:extension/xsd:attribute[@name='lang']&quot;&gt;\n            &lt;jxb:property name=&quot;langAttribute&quot;/&gt;\n       &lt;/jxb:bindings&gt;\n    &lt;/jxb:bindings&gt;\n&lt;/jxb:bindings&gt;\n</code></pre>\n"},{"tags":["java","jbpm"],"comments":[{"owner":{"account_id":7930464,"reputation":2055,"user_id":5988526,"accept_rate":37,"display_name":"Bashir"},"score":1,"creation_date":1593005541,"post_id":62540912,"comment_id":110628016,"body_markdown":"what version of jbpm are you using? and please provide more details about : WorkItem , Save task, WorkItem 2, what are they doing?","body":"what version of jbpm are you using? and please provide more details about : WorkItem , Save task, WorkItem 2, what are they doing?"},{"owner":{"account_id":11665302,"reputation":1923,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1593006451,"post_id":62540912,"comment_id":110628588,"body_markdown":"7.33. WorkItem reads the url from config, has only output url (both are same, WorkItem and WorkItem2) save is a rest task, in the url there is set the url from the workitem, and it works but after human task i get that error","body":"7.33. WorkItem reads the url from config, has only output url (both are same, WorkItem and WorkItem2) save is a rest task, in the url there is set the url from the workitem, and it works but after human task i get that error"},{"owner":{"account_id":11665302,"reputation":1923,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1593070764,"post_id":62540912,"comment_id":110651824,"body_markdown":"Do you have any experience or Idea about this @Bashir","body":"Do you have any experience or Idea about this @Bashir"},{"owner":{"account_id":7930464,"reputation":2055,"user_id":5988526,"accept_rate":37,"display_name":"Bashir"},"score":0,"creation_date":1593073540,"post_id":62540912,"comment_id":110653197,"body_markdown":"I can&#39;t figure out where the problem is, may be if you provide more details it can be helpful, such as input/output of the tasks, how you&#39;re handling the human task. also can you tell in which step exactly you&#39;re getting the error.","body":"I can&#39;t figure out where the problem is, may be if you provide more details it can be helpful, such as input/output of the tasks, how you&#39;re handling the human task. also can you tell in which step exactly you&#39;re getting the error."},{"owner":{"account_id":11665302,"reputation":1923,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1593082166,"post_id":62540912,"comment_id":110657613,"body_markdown":"The error happens when i try to do update. For working item i have only one output - url, the url im getting from config file. Do you know how can i change the flow, if the workitem makes the problem because is after human task?","body":"The error happens when i try to do update. For working item i have only one output - url, the url im getting from config file. Do you know how can i change the flow, if the workitem makes the problem because is after human task?"},{"owner":{"account_id":7930464,"reputation":2055,"user_id":5988526,"accept_rate":37,"display_name":"Bashir"},"score":0,"creation_date":1593082825,"post_id":62540912,"comment_id":110657933,"body_markdown":"no it can&#39;t be the problem, did you change the version of your deployment?","body":"no it can&#39;t be the problem, did you change the version of your deployment?"},{"owner":{"account_id":11665302,"reputation":1923,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"score":0,"creation_date":1593084357,"post_id":62540912,"comment_id":110658662,"body_markdown":"no, i think not. i&#39;ve added some dependency jar that contains the custom workitem that reads the url from config, but i don&#39;t think that is the problem, since it works for the first case with save","body":"no, i think not. i&#39;ve added some dependency jar that contains the custom workitem that reads the url from config, but i don&#39;t think that is the problem, since it works for the first case with save"},{"owner":{"account_id":7930464,"reputation":2055,"user_id":5988526,"accept_rate":37,"display_name":"Bashir"},"score":0,"creation_date":1593084963,"post_id":62540912,"comment_id":110658972,"body_markdown":"I really don&#39;t find any problem with the provided information, just try to check if you have active processes and abort them. actually the Exception that you are getting may occur if you change the version of your deployment while you still have an active process instance or an active Task (check both and abort if you found one of them active). that&#39;s all I can help with","body":"I really don&#39;t find any problem with the provided information, just try to check if you have active processes and abort them. actually the Exception that you are getting may occur if you change the version of your deployment while you still have an active process instance or an active Task (check both and abort if you found one of them active). that&#39;s all I can help with"}],"answers":[{"tags":[],"owner":{"account_id":18462555,"reputation":11,"user_id":13449644,"display_name":"kpoasn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676416162,"creation_date":1676416162,"answer_id":75454081,"question_id":62540912,"body_markdown":"I have come across into the same problem quite a few times. It happens if you rebuild an artifact (e.g. for a hotfix, add an input or output variable in a task etc) in a version of some workflow and you have active instances with the same version in your runtime environment. Most probable cause is a mismatch in the byteArray which is saved in the ProcessInstanceInfo table in the database. Whenever I have experienced this error the particular instance becomes corrupt irrecoverably.","title":"JBPM - WorkItemNode cannot be cast to org.jbpm.workflow.core.node.HumanTaskNode","body":"<p>I have come across into the same problem quite a few times. It happens if you rebuild an artifact (e.g. for a hotfix, add an input or output variable in a task etc) in a version of some workflow and you have active instances with the same version in your runtime environment. Most probable cause is a mismatch in the byteArray which is saved in the ProcessInstanceInfo table in the database. Whenever I have experienced this error the particular instance becomes corrupt irrecoverably.</p>\n"}],"owner":{"account_id":11665302,"reputation":1923,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1098,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676416162,"creation_date":1592934881,"question_id":62540912,"body_markdown":"\r\n\r\nI&#39;m reading the URL for Rest Service Tasks from custom WorkItem in JBPM - Business Central and in one case I have HumanTask before the reader, the WorkItem task, so it throws the exception bellow and i&#39;m stuck. How can i fix this?\r\n\r\n&gt; Unexpected error during processing\r\n&gt; org.jbpm.workflow.core.node.WorkItemNode cannot be cast to\r\n&gt; org.jbpm.workflow.core.node.HumanTaskNode:\r\n&gt; java.lang.ClassCastException: org.jbpm.workflow.core.node.WorkItemNode\r\n&gt; cannot be cast to org.jbpm.workflow.core.node.HumanTaskNode\r\n\r\n[![image][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/47bvp.png\r\n\r\nIs it having work item after a human task right move? If not how can I take the URL I&#39;m getting in work item? How can I fix this? Should I change the flow in order to fix it?","title":"JBPM - WorkItemNode cannot be cast to org.jbpm.workflow.core.node.HumanTaskNode","body":"<p>I'm reading the URL for Rest Service Tasks from custom WorkItem in JBPM - Business Central and in one case I have HumanTask before the reader, the WorkItem task, so it throws the exception bellow and i'm stuck. How can i fix this?</p>\n<blockquote>\n<p>Unexpected error during processing\norg.jbpm.workflow.core.node.WorkItemNode cannot be cast to\norg.jbpm.workflow.core.node.HumanTaskNode:\njava.lang.ClassCastException: org.jbpm.workflow.core.node.WorkItemNode\ncannot be cast to org.jbpm.workflow.core.node.HumanTaskNode</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/47bvp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/47bvp.png\" alt=\"image\" /></a></p>\n<p>Is it having work item after a human task right move? If not how can I take the URL I'm getting in work item? How can I fix this? Should I change the flow in order to fix it?</p>\n"},{"tags":["java","jpa","reflection","entity"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1676430996,"post_id":75454075,"comment_id":133133943,"body_markdown":"`EntityType.class.getConstructor().newInstance()` is the replacement.","body":"<code>EntityType.class.getConstructor().newInstance()</code> is the replacement."}],"owner":{"account_id":24523438,"reputation":83,"user_id":18436153,"display_name":"PositiveM"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676416075,"creation_date":1676416075,"question_id":75454075,"body_markdown":"It is known that using a public or protected default constructor in an entity class is recommended when using JPA to enable a proxy class or class reflection.\r\n\r\nHowever, since the `Class.newInstance()` method has been deprecated since Java 9, \r\n\r\nI&#39;m curious to know what methods JPA uses to reflect classes, and whether using a default constructor is still recommended even now.","title":"Jpa Entity Class Reflection","body":"<p>It is known that using a public or protected default constructor in an entity class is recommended when using JPA to enable a proxy class or class reflection.</p>\n<p>However, since the <code>Class.newInstance()</code> method has been deprecated since Java 9,</p>\n<p>I'm curious to know what methods JPA uses to reflect classes, and whether using a default constructor is still recommended even now.</p>\n"},{"tags":["java","selenium-webdriver","testing","exchangewebservices","ewsjavaapi"],"answers":[{"comments":[{"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"score":0,"creation_date":1676473851,"post_id":75454058,"comment_id":133144219,"body_markdown":"Thanks a lot @GlenScales . AQS Query string  helped and worked and i have given the working code below. Thanks for supporting the community. you are a Star :-)\n\n\n String searchQuery = &quot;body:&quot;+emailSearchString+&quot; AND received:today AND kind:email&quot;;\n\n FindItemsResults&lt;Item&gt; results = service.findItems(WellKnownFolderName.Inbox, searchQuery, view);","body":"Thanks a lot @GlenScales . AQS Query string  helped and worked and i have given the working code below. Thanks for supporting the community. you are a Star :-)    String searchQuery = &quot;body:&quot;+emailSearchString+&quot; AND received:today AND kind:email&quot;;   FindItemsResults&lt;Item&gt; results = service.findItems(WellKnownFolderName.Inbox, searchQuery, view);"},{"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"score":0,"creation_date":1676474086,"post_id":75454058,"comment_id":133144308,"body_markdown":"Please vote for my question as well","body":"Please vote for my question as well"}],"tags":[],"owner":{"account_id":1085024,"reputation":20756,"user_id":1080923,"display_name":"Glen Scales"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676415902,"creation_date":1676415902,"answer_id":75454058,"question_id":75450339,"body_markdown":"There are two ways of searching for items in Exchange using EWS a folder restriction which is what your doing above and using the a ContentIndex query which involves using a AQS query string eg https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/how-to-perform-an-aqs-search-by-using-ews-in-exchange. \r\n\r\nWith the restriction method when you use finditems and a searchfilter this creates a temporary restriction https://bill-long.com/2015/08/31/a-history-of-cached-restrictions-in-exchange/ that the Exchange server populates asynchronously in the background like the way searchfolders work. The problem with this type of search is when you have a folder with a large number of items and you making an expensive query like ContainsSubstring on the body is that it can take a long time for the server to update the temporary restriction which is what findItems uses to return the results. The Content index&#39;s which is what is searched when you use an AQS query will be updated much quicker and be a lot less of an expensive query so will work much better when you have folders with very large item counts. \r\n\r\nIf you really want to use a search filter and your doing the same query over and over on a Mailbox you can create a search folder which will generally update much quicker then a temporary restriction and the server doesn&#39;t need to rebuild and rescan all the items.","title":"Exchange Web Services Java API - Searching mailboxes returns the old result and doesn&#39;t retrieve the latest search results","body":"<p>There are two ways of searching for items in Exchange using EWS a folder restriction which is what your doing above and using the a ContentIndex query which involves using a AQS query string eg <a href=\"https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/how-to-perform-an-aqs-search-by-using-ews-in-exchange\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/exchange/client-developer/exchange-web-services/how-to-perform-an-aqs-search-by-using-ews-in-exchange</a>.</p>\n<p>With the restriction method when you use finditems and a searchfilter this creates a temporary restriction <a href=\"https://bill-long.com/2015/08/31/a-history-of-cached-restrictions-in-exchange/\" rel=\"nofollow noreferrer\">https://bill-long.com/2015/08/31/a-history-of-cached-restrictions-in-exchange/</a> that the Exchange server populates asynchronously in the background like the way searchfolders work. The problem with this type of search is when you have a folder with a large number of items and you making an expensive query like ContainsSubstring on the body is that it can take a long time for the server to update the temporary restriction which is what findItems uses to return the results. The Content index's which is what is searched when you use an AQS query will be updated much quicker and be a lot less of an expensive query so will work much better when you have folders with very large item counts.</p>\n<p>If you really want to use a search filter and your doing the same query over and over on a Mailbox you can create a search folder which will generally update much quicker then a temporary restriction and the server doesn't need to rebuild and rescan all the items.</p>\n"}],"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75454058,"answer_count":1,"score":1,"last_activity_date":1676415902,"creation_date":1676390418,"question_id":75450339,"body_markdown":"Am using ews-java-api to connect exchange mail box and search the text &quot;ABCD&quot; which is the subject of the email\r\n\r\ni have used the code similar to the one in https://www.tabnine.com/code/java/methods/microsoft.exchange.webservices.data.search.ItemView/setPropertySet\r\n\r\nWhen it searches first time it is able to retrieve the exact no of results. in my case it is 18. After sometime there was another email triggered in the inbox and rerunning the same code has just brought same count of 18 emails where as the actual count in the inbox is 19\r\n\r\ncan you please help\r\n\r\n```\r\n\t\t\tconnectViaExchange();\r\n\t\t\tItemView view = new ItemView(100);\r\n\t\t\tview.getOrderBy().add(ItemSchema.DateTimeReceived, SortDirection.Ascending);\r\n\t\t\tview.setPropertySet(new PropertySet(BasePropertySet.IdOnly, ItemSchema.Subject, ItemSchema.DateTimeReceived));\t            \r\n\t\t\tFindItemsResults&lt;Item&gt; results = service.findItems(WellKnownFolderName.Inbox, new SearchFilter.SearchFilterCollection(LogicalOperator.And, new SearchFilter.ContainsSubstring(ItemSchema.Body, emailSearchString)), view);\r\n\t\t\tint count = results.getTotalCount();\r\n```\t\t\tSystem.out.println(&quot;Total No of Emails based on the search performed is: &quot;+count);","title":"Exchange Web Services Java API - Searching mailboxes returns the old result and doesn&#39;t retrieve the latest search results","body":"<p>Am using ews-java-api to connect exchange mail box and search the text &quot;ABCD&quot; which is the subject of the email</p>\n<p>i have used the code similar to the one in <a href=\"https://www.tabnine.com/code/java/methods/microsoft.exchange.webservices.data.search.ItemView/setPropertySet\" rel=\"nofollow noreferrer\">https://www.tabnine.com/code/java/methods/microsoft.exchange.webservices.data.search.ItemView/setPropertySet</a></p>\n<p>When it searches first time it is able to retrieve the exact no of results. in my case it is 18. After sometime there was another email triggered in the inbox and rerunning the same code has just brought same count of 18 emails where as the actual count in the inbox is 19</p>\n<p>can you please help</p>\n<pre><code>            connectViaExchange();\n            ItemView view = new ItemView(100);\n            view.getOrderBy().add(ItemSchema.DateTimeReceived, SortDirection.Ascending);\n            view.setPropertySet(new PropertySet(BasePropertySet.IdOnly, ItemSchema.Subject, ItemSchema.DateTimeReceived));              \n            FindItemsResults&lt;Item&gt; results = service.findItems(WellKnownFolderName.Inbox, new SearchFilter.SearchFilterCollection(LogicalOperator.And, new SearchFilter.ContainsSubstring(ItemSchema.Body, emailSearchString)), view);\n            int count = results.getTotalCount();\n```         System.out.println(&quot;Total No of Emails based on the search performed is: &quot;+count);\n</code></pre>\n"},{"tags":["java","variables","netbeans","switch-statement","simplify"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676416522,"post_id":75453742,"comment_id":133132103,"body_markdown":"You can use a loop over your `lbuP` `List` to create a `List` of `MenuItem`s.","body":"You can use a loop over your <code>lbuP</code> <code>List</code> to create a <code>List</code> of <code>MenuItem</code>s."}],"owner":{"account_id":27787947,"reputation":1,"user_id":21214972,"display_name":"Jes&#250;s Benjam&#237;n S&#225;nchez Rivera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676415732,"creation_date":1676412931,"question_id":75453742,"body_markdown":"I have this monster of code, because depending on the length of the list, it is the number of times that I have to add that result to the menu.\r\n\r\nDoes anyone know how to simplify these entries to the list? I cannot use the same variable since the method overwrites the last input...\r\n\r\n```\r\n//This list receives a list of values\r\nList&lt;LBUResumen&gt; lbu = CargarTabla.cargarTablaLBUResumen();\r\n        //This for loop generates a menuitem for each value in the list lbu\r\n        for (int a = 0; a &lt; lbu.size(); a++) {\r\n            MenuItem menu = null;\r\n            String supervisor = lbu.get(a).getSupervisor();\r\n            //This is a model of a table, we store a value that helps us \r\n            //make reference to another table in the database\r\n            modr.setIdArea(lbu.get(a).getIdArea());\r\n           //This list saves the results of the query\r\n            List&lt;Puesto&gt; lbuP = CargarTabla.cargarTablaPuesto(modr);\r\n           //Conditions according to the size of the query\r\n            switch (lbuP.size()) {\r\n                case 1: {\r\n                    String puesto = lbuP.get(0).getNombre_Puesto();\r\n                    int propuestoP = lbu.get(0).getPropuesto();\r\n                    int propuestoS = lbu.get(a).getPropuesto();\r\n                    MenuItem submenu1 = new MenuItem(puesto, propuestoP, null);\r\n                    menu = new MenuItem(supervisor, propuestoS, null,\r\n                            submenu1);\r\n                    addMenu(menu);\r\n                    break;\r\n                }\r\n                case 2: {\r\n                    String puesto1 = lbuP.get(0).getNombre_Puesto();\r\n                    String puesto2 = lbuP.get(1).getNombre_Puesto();\r\n                    int propuestoP1 = lbu.get(0).getPropuesto();\r\n                    int propuestoP2 = lbu.get(1).getPropuesto();\r\n                    int propuestoS = lbu.get(a).getPropuesto();\r\n                    int propuestoD = lbu.get(a).getDiferencia();\r\n                    int propuestoP = lbu.get(a).getPlantilla();\r\n                    int A = lbu.get(a).getTurnoA();\r\n                    int B = lbu.get(a).getTurnoB();\r\n                    int C = lbu.get(a).getTurnoC();\r\n                    int D = lbu.get(a).getTurnoD();\r\n                    int LV = lbu.get(a).getTurnoLV();\r\n                    SubMenuItem submenu1 = new SubMenuItem(puesto1, 0, 0, 0, \r\n                            0, 0, 0, 0, 0, null);\r\n                    SubMenuItem submenu2 = new SubMenuItem(puesto2, 0, 0, 0, \r\n                            0, 0, 0, 0, 0, null);\r\n                    menu = new MenuItem(supervisor, propuestoS, propuestoD, propuestoP,\r\n                            A, B, C, D, LV,\r\n                            null, submenu1, submenu2);\r\n                    addMenu(menu);\r\n                    break;\r\n                }\r\n                case 3: {\r\n                    String puesto1 = lbuP.get(0).getNombre_Puesto();\r\n                    String puesto2 = lbuP.get(1).getNombre_Puesto();\r\n                    String puesto3 = lbuP.get(2).getNombre_Puesto();\r\n                    int propuestoP1 = lbu.get(0).getPropuesto();\r\n                    int propuestoP2 = lbu.get(1).getPropuesto();\r\n                    int propuestoP3 = lbu.get(2).getPropuesto();\r\n                    int propuestoS = lbu.get(a).getPropuesto();\r\n                    MenuItem submenu1 = new MenuItem(puesto1, propuestoP1, null);\r\n                    MenuItem submenu2 = new MenuItem(puesto2, propuestoP2, null);\r\n                    MenuItem submenu3 = new MenuItem(puesto3, propuestoP3, null);\r\n                    menu = new MenuItem(supervisor, propuestoS, null,\r\n                            submenu1, submenu2, submenu3);\r\n                    addMenu(menu);\r\n                    break;\r\n                }\r\n```\r\n\r\nSo I wanted to know if it is possible in some way to simplify the statements so that I don&#39;t have so many lines of code in the switch,Thanks in advance &lt;3\r\n\r\n\r\nThis is the method that receives the submenus, it makes an instance of itself\r\n\r\n\r\n```\r\nprivate void addMenu(MenuItem... menu) {\r\n        for (int i = 0; i &lt; menu.length; i++) {\r\n            frm.jPanel1.add(menu[i]);\r\n            ArrayList&lt;MenuItem&gt; subMenu = menu[i].getSubMenu();\r\n            for (MenuItem m : subMenu) {\r\n                addMenu(m);\r\n            }\r\n        }\r\n        frm.jPanel1.revalidate();\r\n    }\r\n```\r\n\r\nThis is the constructor class to MenuItem\r\n\r\n```\r\n public MenuItem(String menuName, int propuesto, ActionListener act, MenuItem... subMenu) {\r\n        initComponents();\r\n        lbName.setText(menuName);\r\n        lbPropuesto.setText(menuName);\r\n        if (act != null) {\r\n            this.act = act;\r\n        }\r\n        this.setSize(new Dimension(Integer.MAX_VALUE, 60));\r\n        this.setMaximumSize(new Dimension(Integer.MAX_VALUE, 60));\r\n        this.setMinimumSize(new Dimension(Integer.MAX_VALUE, 60));\r\n        for (int i = 0; i &lt; subMenu.length; i++) {\r\n            this.subMenu.add(subMenu[i]);\r\n            subMenu[i].setVisible(false);\r\n        }\r\n    }\r\n```\r\n","title":"Simplify Switch with multiple variables in Java","body":"<p>I have this monster of code, because depending on the length of the list, it is the number of times that I have to add that result to the menu.</p>\n<p>Does anyone know how to simplify these entries to the list? I cannot use the same variable since the method overwrites the last input...</p>\n<pre><code>//This list receives a list of values\nList&lt;LBUResumen&gt; lbu = CargarTabla.cargarTablaLBUResumen();\n        //This for loop generates a menuitem for each value in the list lbu\n        for (int a = 0; a &lt; lbu.size(); a++) {\n            MenuItem menu = null;\n            String supervisor = lbu.get(a).getSupervisor();\n            //This is a model of a table, we store a value that helps us \n            //make reference to another table in the database\n            modr.setIdArea(lbu.get(a).getIdArea());\n           //This list saves the results of the query\n            List&lt;Puesto&gt; lbuP = CargarTabla.cargarTablaPuesto(modr);\n           //Conditions according to the size of the query\n            switch (lbuP.size()) {\n                case 1: {\n                    String puesto = lbuP.get(0).getNombre_Puesto();\n                    int propuestoP = lbu.get(0).getPropuesto();\n                    int propuestoS = lbu.get(a).getPropuesto();\n                    MenuItem submenu1 = new MenuItem(puesto, propuestoP, null);\n                    menu = new MenuItem(supervisor, propuestoS, null,\n                            submenu1);\n                    addMenu(menu);\n                    break;\n                }\n                case 2: {\n                    String puesto1 = lbuP.get(0).getNombre_Puesto();\n                    String puesto2 = lbuP.get(1).getNombre_Puesto();\n                    int propuestoP1 = lbu.get(0).getPropuesto();\n                    int propuestoP2 = lbu.get(1).getPropuesto();\n                    int propuestoS = lbu.get(a).getPropuesto();\n                    int propuestoD = lbu.get(a).getDiferencia();\n                    int propuestoP = lbu.get(a).getPlantilla();\n                    int A = lbu.get(a).getTurnoA();\n                    int B = lbu.get(a).getTurnoB();\n                    int C = lbu.get(a).getTurnoC();\n                    int D = lbu.get(a).getTurnoD();\n                    int LV = lbu.get(a).getTurnoLV();\n                    SubMenuItem submenu1 = new SubMenuItem(puesto1, 0, 0, 0, \n                            0, 0, 0, 0, 0, null);\n                    SubMenuItem submenu2 = new SubMenuItem(puesto2, 0, 0, 0, \n                            0, 0, 0, 0, 0, null);\n                    menu = new MenuItem(supervisor, propuestoS, propuestoD, propuestoP,\n                            A, B, C, D, LV,\n                            null, submenu1, submenu2);\n                    addMenu(menu);\n                    break;\n                }\n                case 3: {\n                    String puesto1 = lbuP.get(0).getNombre_Puesto();\n                    String puesto2 = lbuP.get(1).getNombre_Puesto();\n                    String puesto3 = lbuP.get(2).getNombre_Puesto();\n                    int propuestoP1 = lbu.get(0).getPropuesto();\n                    int propuestoP2 = lbu.get(1).getPropuesto();\n                    int propuestoP3 = lbu.get(2).getPropuesto();\n                    int propuestoS = lbu.get(a).getPropuesto();\n                    MenuItem submenu1 = new MenuItem(puesto1, propuestoP1, null);\n                    MenuItem submenu2 = new MenuItem(puesto2, propuestoP2, null);\n                    MenuItem submenu3 = new MenuItem(puesto3, propuestoP3, null);\n                    menu = new MenuItem(supervisor, propuestoS, null,\n                            submenu1, submenu2, submenu3);\n                    addMenu(menu);\n                    break;\n                }\n</code></pre>\n<p>So I wanted to know if it is possible in some way to simplify the statements so that I don't have so many lines of code in the switch,Thanks in advance &lt;3</p>\n<p>This is the method that receives the submenus, it makes an instance of itself</p>\n<pre><code>private void addMenu(MenuItem... menu) {\n        for (int i = 0; i &lt; menu.length; i++) {\n            frm.jPanel1.add(menu[i]);\n            ArrayList&lt;MenuItem&gt; subMenu = menu[i].getSubMenu();\n            for (MenuItem m : subMenu) {\n                addMenu(m);\n            }\n        }\n        frm.jPanel1.revalidate();\n    }\n</code></pre>\n<p>This is the constructor class to MenuItem</p>\n<pre><code> public MenuItem(String menuName, int propuesto, ActionListener act, MenuItem... subMenu) {\n        initComponents();\n        lbName.setText(menuName);\n        lbPropuesto.setText(menuName);\n        if (act != null) {\n            this.act = act;\n        }\n        this.setSize(new Dimension(Integer.MAX_VALUE, 60));\n        this.setMaximumSize(new Dimension(Integer.MAX_VALUE, 60));\n        this.setMinimumSize(new Dimension(Integer.MAX_VALUE, 60));\n        for (int i = 0; i &lt; subMenu.length; i++) {\n            this.subMenu.add(subMenu[i]);\n            subMenu[i].setVisible(false);\n        }\n    }\n</code></pre>\n"},{"tags":["java","eclipse","jakarta-ee","ant","classpath"],"answers":[{"comments":[{"owner":{"account_id":407133,"reputation":3,"user_id":5759598,"display_name":"Agile Entrepreneur"},"score":0,"creation_date":1676415427,"post_id":75453954,"comment_id":133131911,"body_markdown":"You&#39;re right about all that - except I am using jdk1.8.0_202.\n\nI have gone down this rabbit hole several times for the last two years since I have been forced to update my Eclipse.\n\nI don&#39;t want (need) to fix things are not broken (yet). \nJust need to be able to build/run/debug the code from within Eclipse.\nI&#39;m guessing I&#39;ll have to get down to an earlier version of Eclipse.","body":"You&#39;re right about all that - except I am using jdk1.8.0_202.  I have gone down this rabbit hole several times for the last two years since I have been forced to update my Eclipse.  I don&#39;t want (need) to fix things are not broken (yet).  Just need to be able to build/run/debug the code from within Eclipse. I&#39;m guessing I&#39;ll have to get down to an earlier version of Eclipse."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1676454256,"post_id":75453954,"comment_id":133138080,"body_markdown":"No, eclipse downgrading has no effect on this whatsoever. Eclipse isn&#39;t itself a JDK, instead it has a way to configure as many JDKs as you like as &#39;available&#39;, then, per project, you can pick one it should use. That&#39;s the settings you need to be changing here. In window/preferences, use the filter to search for &#39;Installed JREs&#39;. Make sure a JDK1.8 is in there. Then in your project settings (right click, properties), section &#39;java compiler&#39;, pick 1.8.","body":"No, eclipse downgrading has no effect on this whatsoever. Eclipse isn&#39;t itself a JDK, instead it has a way to configure as many JDKs as you like as &#39;available&#39;, then, per project, you can pick one it should use. That&#39;s the settings you need to be changing here. In window/preferences, use the filter to search for &#39;Installed JREs&#39;. Make sure a JDK1.8 is in there. Then in your project settings (right click, properties), section &#39;java compiler&#39;, pick 1.8."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676414898,"creation_date":1676414898,"answer_id":75453954,"question_id":75453874,"body_markdown":"javax.xml.bind was deleted in JDK11, or 9 or.. something after 8. JDK9 broke a ton of stuff. In eclipse you&#39;re compiling on JDK9+, on the command line you&#39;re compiling vs JDK8. Edit your eclipse project to use JDK8. Alternatively, [see this answer about fixing `javax.xml.bind`](https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception).\r\n\r\nYou probably also have to replace sun.misc.BASE64; JDK8+ ships with [base64 built in](https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html), for what its worth - just use that. `sun.misc` was never really public API, which is possibly why it was unceremoniously just removed.\r\n","title":"Ant bulid runs on command line (Windows), but fails in Eclipse","body":"<p>javax.xml.bind was deleted in JDK11, or 9 or.. something after 8. JDK9 broke a ton of stuff. In eclipse you're compiling on JDK9+, on the command line you're compiling vs JDK8. Edit your eclipse project to use JDK8. Alternatively, <a href=\"https://stackoverflow.com/questions/43574426/how-to-resolve-java-lang-noclassdeffounderror-javax-xml-bind-jaxbexception\">see this answer about fixing <code>javax.xml.bind</code></a>.</p>\n<p>You probably also have to replace sun.misc.BASE64; JDK8+ ships with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Base64.html\" rel=\"nofollow noreferrer\">base64 built in</a>, for what its worth - just use that. <code>sun.misc</code> was never really public API, which is possibly why it was unceremoniously just removed.</p>\n"},{"comments":[{"owner":{"account_id":407133,"reputation":3,"user_id":5759598,"display_name":"Agile Entrepreneur"},"score":0,"creation_date":1676416382,"post_id":75454021,"comment_id":133132079,"body_markdown":"That makes sense. For the time being, I&#39;d rather fix this build with minimal changes. I don&#39;t have the resources right now to port this product to later (versions of) technologies.\n\n\nLooking at:\n\nhttps://wiki.eclipse.org/Eclipse/Installation#:~:text=Eclipse%204.14%20(2019%2D12),-Eclipse%204.14%20(2019&amp;text=A%20Java%208%20or%20newer%20JRE%2FJDK%20is%20required%20to,as%20well%20as%20the%20Installer.\n\nI see that the Eclipse 4.16 (2020-06) is the last supported version for JDK 1.8.\nI&#39;m going to try and download this version of Eclipse.\n(Can&#39;t find it yet.)","body":"That makes sense. For the time being, I&#39;d rather fix this build with minimal changes. I don&#39;t have the resources right now to port this product to later (versions of) technologies.   Looking at:  <a href=\"https://wiki.eclipse.org/Eclipse/Installation#:~:text=Eclipse%204.14%20(2019%2D12),-Eclipse%204.14%20(2019&amp;text=A%20Java%208%20or%20newer%20JRE%2FJDK%20is%20required%20to,as%20well%20as%20the%20Installer\" rel=\"nofollow noreferrer\">wiki.eclipse.org/Eclipse/&hellip;</a>.  I see that the Eclipse 4.16 (2020-06) is the last supported version for JDK 1.8. I&#39;m going to try and download this version of Eclipse. (Can&#39;t find it yet.)"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1676417355,"post_id":75454021,"comment_id":133132214,"body_markdown":"Being over 15 months old, you should check either https://www.eclipse.org/downloads/packages/ (&quot;MORE DOWNLOADS&quot; section) or https://archive.eclipse.org/eclipse/downloads/ .","body":"Being over 15 months old, you should check either <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages</a> (&quot;MORE DOWNLOADS&quot; section) or <a href=\"https://archive.eclipse.org/eclipse/downloads/\" rel=\"nofollow noreferrer\">archive.eclipse.org/eclipse/downloads</a> ."},{"owner":{"account_id":407133,"reputation":3,"user_id":5759598,"display_name":"Agile Entrepreneur"},"score":0,"creation_date":1676424640,"post_id":75454021,"comment_id":133133235,"body_markdown":"That worked! With no changes.\n\n(This may or may not be related, but for some reason, Eclipse can&#39;t read a property for my Tomcat location in my custom ant properties file - that works fine from the command line. But this is a minor issue, and can reasonably be considered an Ant / environment issue, with several simple workarounds until I figure out what&#39;s going on there.)\n\nThank you!","body":"That worked! With no changes.  (This may or may not be related, but for some reason, Eclipse can&#39;t read a property for my Tomcat location in my custom ant properties file - that works fine from the command line. But this is a minor issue, and can reasonably be considered an Ant / environment issue, with several simple workarounds until I figure out what&#39;s going on there.)  Thank you!"}],"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676415574,"creation_date":1676415574,"answer_id":75454021,"question_id":75453874,"body_markdown":"Eclipse can&#39;t run Ant internally with the version of Java you want to use. The bridging code it uses was [compiled for Java 11][1] so that it wouldn&#39;t simply break with Java 18 onward, and *those new Java versions keep coming*, so it&#39;s run using Java 11 or higher. Because of that requirement, you&#39;re running up against Java 11 having removed several packages that were in Java 1.8, like `javax.xml.bind` (it was deprecated in Java 9).\r\n\r\nYou probably should update that stack at some point, though. The MySQL version you&#39;re using is years out of support.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=579317#c25","title":"Ant bulid runs on command line (Windows), but fails in Eclipse","body":"<p>Eclipse can't run Ant internally with the version of Java you want to use. The bridging code it uses was <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=579317#c25\" rel=\"nofollow noreferrer\">compiled for Java 11</a> so that it wouldn't simply break with Java 18 onward, and <em>those new Java versions keep coming</em>, so it's run using Java 11 or higher. Because of that requirement, you're running up against Java 11 having removed several packages that were in Java 1.8, like <code>javax.xml.bind</code> (it was deprecated in Java 9).</p>\n<p>You probably should update that stack at some point, though. The MySQL version you're using is years out of support.</p>\n"}],"owner":{"account_id":407133,"reputation":3,"user_id":5759598,"display_name":"Agile Entrepreneur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75454021,"answer_count":2,"score":0,"last_activity_date":1676415574,"creation_date":1676414047,"question_id":75453874,"body_markdown":"I have a J2EE program that I have been maintaining since 2006/7.\r\nThe Ant build compiles all Java/J2EE code, creates the database in MySql and imports data into it, and deploys the build (exploded) war into Tomcat.\r\n\r\nThere&#39;s been no changes to the code in years.\r\nThe only changes are in the stack - where I was forced to update the versions of Java (1.8), MySql (5.5), Eclipse, and lately, Windows (11).\r\n\r\nThis build runs flawlessly and I&#39;m able to launch the website and run it successfully.\r\nThe only thing that&#39;s changed is that somehow I&#39;m unable to run the Ant build from inside Eclipse now.\r\n\r\nI created the Eclipse project by importing the existing source folder.\r\nThen I created the &#39;Ant build&#39; in the &#39;External Tools Configuration&#39;.\r\n(I&#39;ve been doing this in Eclipse since 2004, so I know the overall configurations I need to make.)\r\n\r\nBut somehow, either something&#39;s changed in Eclipse that I can&#39;t put my finger on or because I&#39;m making a really silly error without knowing what it is, the Ant build from inside Eclipse keeps failing.\r\n\r\n\r\nI&#39;ve been trying all kinds of things to fix the Classpath, but nothing seems to work.\r\nThis exact same build works with no changes from the command prompt.\r\nSo, it&#39;s not a question of missing libraries - just finding them.\r\n\r\nWhat&#39;s happening?\r\nPlease help!\r\n\r\nDETAILS:\r\n\r\nAnt target &#39;compile&#39;:\r\n\r\n```\r\n&lt;!-- Normal build of application --&gt;\r\n&lt;target name=&quot;compile&quot; depends=&quot;prepare,copy-resources&quot;&gt;\r\n    &lt;javac srcdir=&quot;src/java&quot; destdir=&quot;${webinf.dir}/classes&quot; debug=&quot;true&quot;&gt;\r\n        &lt;classpath refid=&quot;compile.classpath&quot; /&gt;\r\n    &lt;/javac&gt;\r\n\r\nError in execution of &#39;compile&#39;:\r\n\r\ncompile:\r\n    [javac] &lt;PROJECT_LOC&gt;\\ant\\build.xml:163: warning: &#39;includeantruntime&#39; was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\r\n    [javac] Compiling 439 source files to C:\\&lt;src_root_folder&gt;\\WebContent\\WEB-INF\\classes\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:32: error: package javax.xml.bind does not exist\r\n    [javac] import javax.xml.bind.JAXBException;\r\n    [javac]                      ^\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:33: error: package javax.xml.bind does not exist\r\n    [javac] import javax.xml.bind.Marshaller;\r\n    [javac]                      ^\r\n    [javac] &lt;PROJECT_LOC&gt;&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:34: error: package javax.xml.bind does not exist\r\n    [javac] import javax.xml.bind.JAXBContext;\r\n    [javac]                      ^\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:52: error: cannot find symbol\r\n    [javac] \tprotected Marshaller marshaller;\r\n    [javac] \t          ^\r\n    [javac]   symbol:   class Marshaller\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:87: error: cannot find symbol\r\n    [javac] \tprivate Marshaller newMarshaller() {\r\n    [javac] \t        ^\r\n    [javac]   symbol:   class Marshaller\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\PasswordService.java:26: error: cannot find symbol\r\n    [javac] import sun.misc.BASE64Encoder;\r\n    [javac]                ^\r\n    [javac]   symbol:   class BASE64Encoder\r\n    [javac]   location: package sun.misc\r\n...\r\n...\r\n...\r\n   [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:89: error: cannot find symbol\r\n    [javac] \t\t\tJAXBContext jc = JAXBContext\r\n    [javac] \t\t\t^\r\n    [javac]   symbol:   class JAXBContext\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:89: error: cannot find symbol\r\n    [javac] \t\t\tJAXBContext jc = JAXBContext\r\n    [javac] \t\t\t                 ^\r\n    [javac]   symbol:   variable JAXBContext\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:92: error: cannot find symbol\r\n    [javac] \t\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\r\n    [javac] \t\t\t                       ^\r\n    [javac]   symbol:   variable Marshaller\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:95: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException jaxbe) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:102: error: cannot access JAXBContext\r\n    [javac] \t\t\tRequestHeader header = factory.createRequestHeader();\r\n    [javac] \t\t\t                              ^\r\n    [javac]   class file for javax.xml.bind.JAXBContext not found\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:103: error: cannot access Element\r\n    [javac] \t\t\theader.setClientName(clientName);\r\n    [javac] \t\t\t      ^\r\n    [javac]   class file for javax.xml.bind.Element not found\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:108: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException jaxbe) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class GeoCodeClient\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:128: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException jaxbe) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class GeoCodeClient\r\n...\r\n...\r\n...\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\PasswordService.java:51: error: cannot find symbol\r\n    [javac] \t\tString hash = (new BASE64Encoder()).encode(raw);\r\n    [javac] \t\t                   ^\r\n    [javac]   symbol:   class BASE64Encoder\r\n    [javac]   location: class PasswordService\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:102: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException e) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class DeCartaGeoCodeService\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:166: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException e) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class DeCartaGeoCodeService\r\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:263: error: cannot find symbol\r\n    [javac] \t\t} catch (JAXBException e) {\r\n    [javac] \t\t         ^\r\n    [javac]   symbol:   class JAXBException\r\n    [javac]   location: class DeCartaGeoCodeService\r\n```\r\n","title":"Ant bulid runs on command line (Windows), but fails in Eclipse","body":"<p>I have a J2EE program that I have been maintaining since 2006/7.\nThe Ant build compiles all Java/J2EE code, creates the database in MySql and imports data into it, and deploys the build (exploded) war into Tomcat.</p>\n<p>There's been no changes to the code in years.\nThe only changes are in the stack - where I was forced to update the versions of Java (1.8), MySql (5.5), Eclipse, and lately, Windows (11).</p>\n<p>This build runs flawlessly and I'm able to launch the website and run it successfully.\nThe only thing that's changed is that somehow I'm unable to run the Ant build from inside Eclipse now.</p>\n<p>I created the Eclipse project by importing the existing source folder.\nThen I created the 'Ant build' in the 'External Tools Configuration'.\n(I've been doing this in Eclipse since 2004, so I know the overall configurations I need to make.)</p>\n<p>But somehow, either something's changed in Eclipse that I can't put my finger on or because I'm making a really silly error without knowing what it is, the Ant build from inside Eclipse keeps failing.</p>\n<p>I've been trying all kinds of things to fix the Classpath, but nothing seems to work.\nThis exact same build works with no changes from the command prompt.\nSo, it's not a question of missing libraries - just finding them.</p>\n<p>What's happening?\nPlease help!</p>\n<p>DETAILS:</p>\n<p>Ant target 'compile':</p>\n<pre><code>&lt;!-- Normal build of application --&gt;\n&lt;target name=&quot;compile&quot; depends=&quot;prepare,copy-resources&quot;&gt;\n    &lt;javac srcdir=&quot;src/java&quot; destdir=&quot;${webinf.dir}/classes&quot; debug=&quot;true&quot;&gt;\n        &lt;classpath refid=&quot;compile.classpath&quot; /&gt;\n    &lt;/javac&gt;\n\nError in execution of 'compile':\n\ncompile:\n    [javac] &lt;PROJECT_LOC&gt;\\ant\\build.xml:163: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds\n    [javac] Compiling 439 source files to C:\\&lt;src_root_folder&gt;\\WebContent\\WEB-INF\\classes\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:32: error: package javax.xml.bind does not exist\n    [javac] import javax.xml.bind.JAXBException;\n    [javac]                      ^\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:33: error: package javax.xml.bind does not exist\n    [javac] import javax.xml.bind.Marshaller;\n    [javac]                      ^\n    [javac] &lt;PROJECT_LOC&gt;&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:34: error: package javax.xml.bind does not exist\n    [javac] import javax.xml.bind.JAXBContext;\n    [javac]                      ^\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:52: error: cannot find symbol\n    [javac]     protected Marshaller marshaller;\n    [javac]               ^\n    [javac]   symbol:   class Marshaller\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:87: error: cannot find symbol\n    [javac]     private Marshaller newMarshaller() {\n    [javac]             ^\n    [javac]   symbol:   class Marshaller\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\PasswordService.java:26: error: cannot find symbol\n    [javac] import sun.misc.BASE64Encoder;\n    [javac]                ^\n    [javac]   symbol:   class BASE64Encoder\n    [javac]   location: package sun.misc\n...\n...\n...\n   [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:89: error: cannot find symbol\n    [javac]             JAXBContext jc = JAXBContext\n    [javac]             ^\n    [javac]   symbol:   class JAXBContext\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:89: error: cannot find symbol\n    [javac]             JAXBContext jc = JAXBContext\n    [javac]                              ^\n    [javac]   symbol:   variable JAXBContext\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:92: error: cannot find symbol\n    [javac]             marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT,\n    [javac]                                    ^\n    [javac]   symbol:   variable Marshaller\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:95: error: cannot find symbol\n    [javac]         } catch (JAXBException jaxbe) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:102: error: cannot access JAXBContext\n    [javac]             RequestHeader header = factory.createRequestHeader();\n    [javac]                                           ^\n    [javac]   class file for javax.xml.bind.JAXBContext not found\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:103: error: cannot access Element\n    [javac]             header.setClientName(clientName);\n    [javac]                   ^\n    [javac]   class file for javax.xml.bind.Element not found\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:108: error: cannot find symbol\n    [javac]         } catch (JAXBException jaxbe) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class GeoCodeClient\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\service\\rest\\GeoCodeClient.java:128: error: cannot find symbol\n    [javac]         } catch (JAXBException jaxbe) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class GeoCodeClient\n...\n...\n...\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\PasswordService.java:51: error: cannot find symbol\n    [javac]         String hash = (new BASE64Encoder()).encode(raw);\n    [javac]                            ^\n    [javac]   symbol:   class BASE64Encoder\n    [javac]   location: class PasswordService\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:102: error: cannot find symbol\n    [javac]         } catch (JAXBException e) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class DeCartaGeoCodeService\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:166: error: cannot find symbol\n    [javac]         } catch (JAXBException e) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class DeCartaGeoCodeService\n    [javac] &lt;PROJECT_LOC&gt;\\src\\java\\com\\cs\\util\\gis\\DeCartaGeoCodeService.java:263: error: cannot find symbol\n    [javac]         } catch (JAXBException e) {\n    [javac]                  ^\n    [javac]   symbol:   class JAXBException\n    [javac]   location: class DeCartaGeoCodeService\n</code></pre>\n"},{"tags":["java","sql","conditional-statements"],"comments":[{"owner":{"account_id":7210691,"reputation":3546,"user_id":5504922,"display_name":"EdmCoff"},"score":1,"creation_date":1676414134,"post_id":75453853,"comment_id":133131685,"body_markdown":"Not sure it&#39;s the best solution, but I often see people write dynamic queries as `SELECT * FROM table WHERE 1=2`. Then all of your additional clauses could have `OR`s, regardless of order. (Would be `WHERE 1=1` for `AND`s)","body":"Not sure it&#39;s the best solution, but I often see people write dynamic queries as <code>SELECT * FROM table WHERE 1=2</code>. Then all of your additional clauses could have <code>OR</code>s, regardless of order. (Would be <code>WHERE 1=1</code> for <code>AND</code>s)"},{"owner":{"account_id":3212090,"reputation":743,"user_id":2711867,"accept_rate":56,"display_name":"scatolone"},"score":0,"creation_date":1676414629,"post_id":75453853,"comment_id":133131790,"body_markdown":"You could use &quot;if .... else if .. else if ....&quot;","body":"You could use &quot;if .... else if .. else if ....&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676414811,"creation_date":1676414811,"answer_id":75453943,"question_id":75453853,"body_markdown":"I would suggest using a flexible prepared statement:\r\n\r\n    select school\r\n    from School school\r\n    where (school.name LIKE :name OR :name IS NULL) AND\r\n          (school.adr LIKE :adr OR :adr IS NULL)\r\n\r\nEach condition in the `WHERE` clause will evaluate to true and no-op should the bound parameter be null.  Note that JPA does not have any `contains()` function, so instead you should bind `%some name%` to the `:name` parameter.","title":"Create a query string with or condition","body":"<p>I would suggest using a flexible prepared statement:</p>\n<pre><code>select school\nfrom School school\nwhere (school.name LIKE :name OR :name IS NULL) AND\n      (school.adr LIKE :adr OR :adr IS NULL)\n</code></pre>\n<p>Each condition in the <code>WHERE</code> clause will evaluate to true and no-op should the bound parameter be null.  Note that JPA does not have any <code>contains()</code> function, so instead you should bind <code>%some name%</code> to the <code>:name</code> parameter.</p>\n"}],"owner":{"account_id":1103468,"reputation":5324,"user_id":1095362,"accept_rate":43,"display_name":"robert trudel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676414811,"creation_date":1676413840,"question_id":75453853,"body_markdown":" I create a jpql query with a string\r\n\r\n        StringBuilder stringQuery = new StringBuilder();\r\n\r\n        stringQuery.append(&quot;select school from School school where   &quot;);\r\n\r\n        if(schooSearch.name()!=null &amp;&amp; !schooSearch.name()){\r\n\r\n            stringQuery.append(&quot; contains( &quot;);\r\n            stringQuery.append(&quot;school.name, &quot;);\r\n            stringQuery.append(&quot;:name&quot;);\r\n            stringQuery.append(&quot; ) &gt; 0 &quot;);\r\n        }\r\n\r\n        if(schooSearch.adr()!=null &amp;&amp; !schooSearch.adr().isEmpty()){\r\n\r\n            stringQuery.append(&quot; or &quot;);\r\n            stringQuery.append(&quot; school.adr like  &quot;);\r\n            stringQuery.append(&quot;:adr&quot;);\r\n\r\n        } \r\n        \r\n\r\nAll conditions use **or**, i have many other fields.\r\n\r\nWhat is the way to avoid to check for every condition if it&#39;s the first field and we need a where","title":"Create a query string with or condition","body":"<p>I create a jpql query with a string</p>\n<pre><code>    StringBuilder stringQuery = new StringBuilder();\n\n    stringQuery.append(&quot;select school from School school where   &quot;);\n\n    if(schooSearch.name()!=null &amp;&amp; !schooSearch.name()){\n\n        stringQuery.append(&quot; contains( &quot;);\n        stringQuery.append(&quot;school.name, &quot;);\n        stringQuery.append(&quot;:name&quot;);\n        stringQuery.append(&quot; ) &gt; 0 &quot;);\n    }\n\n    if(schooSearch.adr()!=null &amp;&amp; !schooSearch.adr().isEmpty()){\n\n        stringQuery.append(&quot; or &quot;);\n        stringQuery.append(&quot; school.adr like  &quot;);\n        stringQuery.append(&quot;:adr&quot;);\n\n    } \n    \n</code></pre>\n<p>All conditions use <strong>or</strong>, i have many other fields.</p>\n<p>What is the way to avoid to check for every condition if it's the first field and we need a where</p>\n"},{"tags":["java","benchmarking"],"owner":{"account_id":27787578,"reputation":1,"user_id":21214690,"display_name":"programmer234178x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676414479,"answer_count":0,"score":0,"last_activity_date":1676414340,"creation_date":1676408248,"question_id":75453207,"body_markdown":"Like the title states I am trying to benchmark a cycle and obtain cpu load and memory consumed. I have tried `getProcessCpuLoad()` with not much success. Note that I have tried it out with a thread sleep of 3 seconds before and after the cycle. With the memory tried the `getMemoryPoolMXBeans`, but not much success. Is there a Java library that can help me achieve this or a tool.\r\n\r\nWhat can I do?\r\n\r\nI don&#39;t have the latest version of the code with me, here is the one of the previous versions it is missing the sleep thread, though probably the entire code is wrong:\r\n\r\n```\r\nimport java.lang.management.ManagementFactory;\r\nimport java.lang.management.MemoryPoolMXBean;\r\nimport java.lang.management.MemoryUsage;\r\nimport java.util.List;\r\nimport com.sun.management.OperatingSystemMXBean;\r\n\r\nclass HelloWorld {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    System.out.println(&quot;result of getMemoryPoolMXBeans &quot;);\r\n\r\n    List &lt; MemoryPoolMXBean &gt; mpmxList = ManagementFactory.getMemoryPoolMXBeans();\r\n\r\n    long BeforememoryUse = 0;\r\n\r\n    for (MemoryPoolMXBean pl: mpmxList) {\r\n\r\n      MemoryUsage mu = pl.getPeakUsage();\r\n\r\n      BeforememoryUse += mu.getUsed();\r\n\r\n    }\r\n\r\n    //before \r\n\r\n    //  System.out.println(memoryUse); \r\n\r\n    long acc = 0;\r\n\r\n    OperatingSystemMXBean osBean = ManagementFactory.getPlatformMXBean(\r\n\r\n      OperatingSystemMXBean.class);\r\n\r\n    // What % CPU load this current JVM is taking, from 0.0-1.0 \r\n\r\n    double x = osBean.getProcessCpuLoad();\r\n\r\n    for (int i = 0; i &lt; 100000000; i++) {\r\n\r\n      acc++;\r\n\r\n    }\r\n\r\n    System.out.println(x + &quot;\\n&quot;);\r\n\r\n    System.out.println(osBean.getProcessCpuLoad() + &quot;\\n&quot;);\r\n\r\n    x = osBean.getProcessCpuLoad() - x;\r\n\r\n    System.out.println(&quot;Cpu load for first statement= &quot; + x);\r\n\r\n    //after \r\n\r\n    long AftermemoryUse = 0;\r\n\r\n    for (MemoryPoolMXBean pl: mpmxList) {\r\n\r\n      MemoryUsage mu = pl.getPeakUsage();\r\n\r\n      AftermemoryUse += mu.getUsed();\r\n\r\n    }\r\n\r\n    System.out.println(&quot;Memory used by the first statement&quot; + (AftermemoryUse - BeforememoryUse));\r\n\r\n    //second statement \r\n\r\n    // What % CPU load this current JVM is taking, from 0.0-1.0 \r\n\r\n    BeforememoryUse = 0;\r\n\r\n    for (MemoryPoolMXBean pl: mpmxList) {\r\n\r\n      MemoryUsage mu = pl.getPeakUsage();\r\n\r\n      BeforememoryUse += mu.getUsed();\r\n\r\n    }\r\n\r\n    //before \r\n\r\n    //  System.out.println(memoryUse); \r\n\r\n    acc = 0;\r\n\r\n    x = osBean.getProcessCpuLoad();\r\n\r\n    for (int i = 0; i &lt; 10000; i++) {\r\n\r\n      acc++;\r\n\r\n    }\r\n\r\n    //after \r\n\r\n    x = osBean.getProcessCpuLoad() - x;\r\n\r\n    AftermemoryUse = 0;\r\n\r\n    for (MemoryPoolMXBean pl: mpmxList) {\r\n\r\n      MemoryUsage mu = pl.getPeakUsage();\r\n\r\n      AftermemoryUse += mu.getUsed();\r\n\r\n    }\r\n\r\n    System.out.println(&quot;Cpu load for second statement= &quot; + x);\r\n\r\n    System.out.println(&quot;Memory used by the second statement&quot; + (AftermemoryUse - BeforememoryUse));\r\n\r\n  }\r\n```","title":"How can I measure the cpu load and memory consumed by a block of code like a while or for cycle?","body":"<p>Like the title states I am trying to benchmark a cycle and obtain cpu load and memory consumed. I have tried <code>getProcessCpuLoad()</code> with not much success. Note that I have tried it out with a thread sleep of 3 seconds before and after the cycle. With the memory tried the <code>getMemoryPoolMXBeans</code>, but not much success. Is there a Java library that can help me achieve this or a tool.</p>\n<p>What can I do?</p>\n<p>I don't have the latest version of the code with me, here is the one of the previous versions it is missing the sleep thread, though probably the entire code is wrong:</p>\n<pre><code>import java.lang.management.ManagementFactory;\nimport java.lang.management.MemoryPoolMXBean;\nimport java.lang.management.MemoryUsage;\nimport java.util.List;\nimport com.sun.management.OperatingSystemMXBean;\n\nclass HelloWorld {\n\n  public static void main(String[] args) {\n\n    System.out.println(&quot;result of getMemoryPoolMXBeans &quot;);\n\n    List &lt; MemoryPoolMXBean &gt; mpmxList = ManagementFactory.getMemoryPoolMXBeans();\n\n    long BeforememoryUse = 0;\n\n    for (MemoryPoolMXBean pl: mpmxList) {\n\n      MemoryUsage mu = pl.getPeakUsage();\n\n      BeforememoryUse += mu.getUsed();\n\n    }\n\n    //before \n\n    //  System.out.println(memoryUse); \n\n    long acc = 0;\n\n    OperatingSystemMXBean osBean = ManagementFactory.getPlatformMXBean(\n\n      OperatingSystemMXBean.class);\n\n    // What % CPU load this current JVM is taking, from 0.0-1.0 \n\n    double x = osBean.getProcessCpuLoad();\n\n    for (int i = 0; i &lt; 100000000; i++) {\n\n      acc++;\n\n    }\n\n    System.out.println(x + &quot;\\n&quot;);\n\n    System.out.println(osBean.getProcessCpuLoad() + &quot;\\n&quot;);\n\n    x = osBean.getProcessCpuLoad() - x;\n\n    System.out.println(&quot;Cpu load for first statement= &quot; + x);\n\n    //after \n\n    long AftermemoryUse = 0;\n\n    for (MemoryPoolMXBean pl: mpmxList) {\n\n      MemoryUsage mu = pl.getPeakUsage();\n\n      AftermemoryUse += mu.getUsed();\n\n    }\n\n    System.out.println(&quot;Memory used by the first statement&quot; + (AftermemoryUse - BeforememoryUse));\n\n    //second statement \n\n    // What % CPU load this current JVM is taking, from 0.0-1.0 \n\n    BeforememoryUse = 0;\n\n    for (MemoryPoolMXBean pl: mpmxList) {\n\n      MemoryUsage mu = pl.getPeakUsage();\n\n      BeforememoryUse += mu.getUsed();\n\n    }\n\n    //before \n\n    //  System.out.println(memoryUse); \n\n    acc = 0;\n\n    x = osBean.getProcessCpuLoad();\n\n    for (int i = 0; i &lt; 10000; i++) {\n\n      acc++;\n\n    }\n\n    //after \n\n    x = osBean.getProcessCpuLoad() - x;\n\n    AftermemoryUse = 0;\n\n    for (MemoryPoolMXBean pl: mpmxList) {\n\n      MemoryUsage mu = pl.getPeakUsage();\n\n      AftermemoryUse += mu.getUsed();\n\n    }\n\n    System.out.println(&quot;Cpu load for second statement= &quot; + x);\n\n    System.out.println(&quot;Memory used by the second statement&quot; + (AftermemoryUse - BeforememoryUse));\n\n  }\n</code></pre>\n"},{"tags":["java","reflection","containers"],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676413598,"creation_date":1676413598,"answer_id":75453824,"question_id":75453668,"body_markdown":"&gt; ```java\r\n&gt; (List)field.get(this.getClass());\r\n&gt; ```\r\n\r\nThe `.get` method on `j.l.reflect.Field` requires the instance that you want to get the field from. You&#39;re passing the class. Which is an object of type `java.lang.Class`, which, of course, does not have this field, and therefore, you can&#39;t get the value of it. You want `this` instead.\r\n\r\nActually, none of this makes sense, you&#39;re right there, just read your own field. I assume this is test code, but if not, none of this makes sense in the first place.\r\n","title":"trying to set a member ArrayList using reflection","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>(List)field.get(this.getClass());\n</code></pre>\n</blockquote>\n<p>The <code>.get</code> method on <code>j.l.reflect.Field</code> requires the instance that you want to get the field from. You're passing the class. Which is an object of type <code>java.lang.Class</code>, which, of course, does not have this field, and therefore, you can't get the value of it. You want <code>this</code> instead.</p>\n<p>Actually, none of this makes sense, you're right there, just read your own field. I assume this is test code, but if not, none of this makes sense in the first place.</p>\n"},{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676413635,"creation_date":1676413635,"answer_id":75453826,"question_id":75453668,"body_markdown":"You ask the wrong object for the value of the field.\r\n\r\nWhen you write\r\n\r\n    field.get(this.getClass())\r\n\r\nyou try to get the value that the (reflected) field has on some instance. The object that you pass to retrieve the value from is `this.getClass()` which is an instance of `java.lang.Class` - and `java.lang.Class` has no field (for example) &quot;phoneNumbers&quot;.\r\n\r\nTo retrieve a field from your instance you must write\r\n\r\n    field.get(this)\r\n\r\nBut then, the commented out line\r\n\r\n    array.add(tables.get(0));\r\n\r\ndoesn&#39;t make any sense. Why do you try to add an element from the `tables` list (which is an instance of `Table`) to a list of (for example) &quot;phoneNumbers&quot;, which is a list of `PhoneNumber`?\r\n\r\nAnd your claim that the annotation works: I don&#39;t see that annotation used anywhere in your code, so it is hard to say whether it works or not...","title":"trying to set a member ArrayList using reflection","body":"<p>You ask the wrong object for the value of the field.</p>\n<p>When you write</p>\n<pre><code>field.get(this.getClass())\n</code></pre>\n<p>you try to get the value that the (reflected) field has on some instance. The object that you pass to retrieve the value from is <code>this.getClass()</code> which is an instance of <code>java.lang.Class</code> - and <code>java.lang.Class</code> has no field (for example) &quot;phoneNumbers&quot;.</p>\n<p>To retrieve a field from your instance you must write</p>\n<pre><code>field.get(this)\n</code></pre>\n<p>But then, the commented out line</p>\n<pre><code>array.add(tables.get(0));\n</code></pre>\n<p>doesn't make any sense. Why do you try to add an element from the <code>tables</code> list (which is an instance of <code>Table</code>) to a list of (for example) &quot;phoneNumbers&quot;, which is a list of <code>PhoneNumber</code>?</p>\n<p>And your claim that the annotation works: I don't see that annotation used anywhere in your code, so it is hard to say whether it works or not...</p>\n"}],"owner":{"account_id":1031649,"reputation":918,"user_id":1039860,"accept_rate":10,"display_name":"jordanthompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1676413635,"creation_date":1676412170,"question_id":75453668,"body_markdown":"I am trying to modify an object with an Arraylist of objects using reflection.\r\n\r\nI understand that I cannot get the type of the objects in the ArrayList, but I (think) I am using an annotation to handle that part.  I am setting the field accessibility.\r\n\r\nI am declaring the list of stuff in the class using annotations.\r\n\r\n    @TableAnnotation(type = PhoneNumber.class)\r\n    protected List&lt;PhoneNumber&gt; phoneNumbers = new ArrayList&lt;&gt;();\r\n    @TableAnnotation(type = Address.class)\r\n    private List&lt;Address&gt; addresses= new ArrayList&lt;&gt;();\r\n    private List&lt;Role&gt; roles= new ArrayList&lt;&gt;();\r\n\r\n... Later in the same class I try to set them:\r\n\r\n    public void setMemberTable(List&lt;Table&gt; tables, String memberName) throws IllegalAccessException {\r\n        Class t = getClass();\r\n        for (Field field : getClass().getDeclaredFields()) {\r\n            if (field.getName() == memberName) {\r\n                field.setAccessible(true);\r\n                List array = (List)field.get(this.getClass()); &lt;&lt;&lt;=========== Here is where it is throwing\r\n                ArrayList arrayList= (ArrayList)field.get(this.getClass());\r\n                //array.add(tables.get(0));\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\nHere is the Annotation that seems to be working:\r\n\r\n    package com.test.database.helpers;\r\n    \r\n    import java.lang.annotation.Documented;\r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Inherited;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Documented\r\n    @Target(ElementType.FIELD)\r\n    @Inherited\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface TableAnnotation {\r\n        Class&lt; ?&gt; type();\r\n        boolean allowNull() default false;\r\n    }\r\n\r\nThis throws:\r\n\r\n    java.lang.IllegalArgumentException: Can not get java.util.List field com.test.database.entities.Person.phoneNumbers on java.lang.Class\r\n\r\nI tried making the member variable public, but that had no affect.\r\nI need help to be able to set the member variables in setMemberTable().\r\n","title":"trying to set a member ArrayList using reflection","body":"<p>I am trying to modify an object with an Arraylist of objects using reflection.</p>\n<p>I understand that I cannot get the type of the objects in the ArrayList, but I (think) I am using an annotation to handle that part.  I am setting the field accessibility.</p>\n<p>I am declaring the list of stuff in the class using annotations.</p>\n<pre><code>@TableAnnotation(type = PhoneNumber.class)\nprotected List&lt;PhoneNumber&gt; phoneNumbers = new ArrayList&lt;&gt;();\n@TableAnnotation(type = Address.class)\nprivate List&lt;Address&gt; addresses= new ArrayList&lt;&gt;();\nprivate List&lt;Role&gt; roles= new ArrayList&lt;&gt;();\n</code></pre>\n<p>... Later in the same class I try to set them:</p>\n<pre><code>public void setMemberTable(List&lt;Table&gt; tables, String memberName) throws IllegalAccessException {\n    Class t = getClass();\n    for (Field field : getClass().getDeclaredFields()) {\n        if (field.getName() == memberName) {\n            field.setAccessible(true);\n            List array = (List)field.get(this.getClass()); &lt;&lt;&lt;=========== Here is where it is throwing\n            ArrayList arrayList= (ArrayList)field.get(this.getClass());\n            //array.add(tables.get(0));\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>Here is the Annotation that seems to be working:</p>\n<pre><code>package com.test.database.helpers;\n\nimport java.lang.annotation.Documented;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Inherited;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Documented\n@Target(ElementType.FIELD)\n@Inherited\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface TableAnnotation {\n    Class&lt; ?&gt; type();\n    boolean allowNull() default false;\n}\n</code></pre>\n<p>This throws:</p>\n<pre><code>java.lang.IllegalArgumentException: Can not get java.util.List field com.test.database.entities.Person.phoneNumbers on java.lang.Class\n</code></pre>\n<p>I tried making the member variable public, but that had no affect.\nI need help to be able to set the member variables in setMemberTable().</p>\n"},{"tags":["java","spring","multithreading","concurrency","jvm"],"comments":[{"owner":{"account_id":5105835,"reputation":77,"user_id":4093924,"accept_rate":0,"display_name":"vpxfhu77"},"score":0,"creation_date":1675964355,"post_id":75402232,"comment_id":133045897,"body_markdown":"But what about simultaneous execution of line of code by two threads on different cores? Is it still possible? Or you mean each threads read instruction from shared bytecode into own frame and then execute it with own local variables?","body":"But what about simultaneous execution of line of code by two threads on different cores? Is it still possible? Or you mean each threads read instruction from shared bytecode into own frame and then execute it with own local variables?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1675964697,"post_id":75402232,"comment_id":133046000,"body_markdown":"The code doesn’t change. There is never a problem with multiple threads reading something that doesn’t change. You can also use the same classes in multiple JVMs at the same time, as the JVMs will also only read the class or jar files.","body":"The code doesn’t change. There is never a problem with multiple threads reading something that doesn’t change. You can also use the same classes in multiple JVMs at the same time, as the JVMs will also only read the class or jar files."}],"answers":[{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676413202,"creation_date":1675994308,"answer_id":75406248,"question_id":75402232,"body_markdown":"&gt; So we have method code ONLY in one place. \r\n\r\nYes.\r\n\r\n&gt; Thus, one line of method(which is later is bytecode in JVM) could be executed only by one thread at one core of CPU.\r\n\r\nThis is incorrect.  Program memory is shared by all threads and this includes the classes and byte-code.  Classes are locked when they are _loaded_ but not when being executed or referenced without specific synchronization primitives being used.\r\n\r\n&gt; Execution of same line of method cannot be performed at same time by two different threads on two different cores.\r\n\r\nThere is nothing that enforces this restriction.\r\n\r\n&gt; And each of thread can start execute method if no other thread executing first line of method.\r\n\r\nThis is _only_ true if a method is marked as `synchronized` and two threads are locking on the same object instance or if the method is static.  See the following pseudo code.\r\n\r\n    public class Foo {\r\n       // many threads can be running bar() concurrently\r\n       public void bar() {\r\n          ...\r\n       }\r\n\r\n       // threads that are using the same instance of Foo can only execute\r\n       // synchronized baz() and other synchronized methods one at a time.\r\n       // Threads using other instances can execute baz() concurrently\r\n       public synchronized void baz() {\r\n          ...\r\n       }\r\n\r\n       // threads that are in the same classloader can only execute static\r\n       // synchronized bing() and other static synchronized methods one at a time\r\n       // because the class is being synchronized\r\n       public static synchronized void bing() {\r\n          ...\r\n       }\r\n    }\r\n\r\nThis does not address memory sharing, message passing, or the other complex concepts involved with threaded programming.\r\n","title":"How can multiple threads execute same method in parallel?","body":"<blockquote>\n<p>So we have method code ONLY in one place.</p>\n</blockquote>\n<p>Yes.</p>\n<blockquote>\n<p>Thus, one line of method(which is later is bytecode in JVM) could be executed only by one thread at one core of CPU.</p>\n</blockquote>\n<p>This is incorrect.  Program memory is shared by all threads and this includes the classes and byte-code.  Classes are locked when they are <em>loaded</em> but not when being executed or referenced without specific synchronization primitives being used.</p>\n<blockquote>\n<p>Execution of same line of method cannot be performed at same time by two different threads on two different cores.</p>\n</blockquote>\n<p>There is nothing that enforces this restriction.</p>\n<blockquote>\n<p>And each of thread can start execute method if no other thread executing first line of method.</p>\n</blockquote>\n<p>This is <em>only</em> true if a method is marked as <code>synchronized</code> and two threads are locking on the same object instance or if the method is static.  See the following pseudo code.</p>\n<pre><code>public class Foo {\n   // many threads can be running bar() concurrently\n   public void bar() {\n      ...\n   }\n\n   // threads that are using the same instance of Foo can only execute\n   // synchronized baz() and other synchronized methods one at a time.\n   // Threads using other instances can execute baz() concurrently\n   public synchronized void baz() {\n      ...\n   }\n\n   // threads that are in the same classloader can only execute static\n   // synchronized bing() and other static synchronized methods one at a time\n   // because the class is being synchronized\n   public static synchronized void bing() {\n      ...\n   }\n}\n</code></pre>\n<p>This does not address memory sharing, message passing, or the other complex concepts involved with threaded programming.</p>\n"}],"owner":{"account_id":5105835,"reputation":77,"user_id":4093924,"accept_rate":0,"display_name":"vpxfhu77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676413202,"creation_date":1675963344,"question_id":75402232,"body_markdown":"I stuck on this question while reading [this][1] article about how Spring singleton, stateless bean serve multiple requests. \r\nThis is the main author point of how it is done:\r\n&gt; When the thread request the singleton bean, it is going to refer (with help of reference variable in stack) to the bytecode of singleton bean in heap. So multiple threads can refer singleton bean at the same time. The compiler is going to point to the same bytecode and simply execute it and store method specific values in corresponding blocks in stack separately.\r\n\r\nGood article but it missing some crucial details about how exactly bytecode is executed by threads. My undestanding: Each thread has it own stack, stack contains frames, frames contains return values, local variables, operand stack and Current Class Constant Pool Reference. All classes ale loaded to Method Area, where each Class Data store constants and method code. So we have method code ONLY in one place. Thus, one line of method(which is later is bytecode in JVM) could be executed only by one thread at one core of CPU. Execution of same line of method cannot be performed at same time by two different threads on two different cores. But two DIFFERENT lines of code in method can be executed simultaneously by two different threads on two different cores. And each of thread can start execute method if no other thread executing first line of method.\r\n\r\n\r\n\r\n  [1]: https://medium.com/@hasanli.vusala.73/how-does-singleton-bean-serve-multiple-requests-at-the-same-time-in-spring-f4c9d797dec9","title":"How can multiple threads execute same method in parallel?","body":"<p>I stuck on this question while reading <a href=\"https://medium.com/@hasanli.vusala.73/how-does-singleton-bean-serve-multiple-requests-at-the-same-time-in-spring-f4c9d797dec9\" rel=\"nofollow noreferrer\">this</a> article about how Spring singleton, stateless bean serve multiple requests.\nThis is the main author point of how it is done:</p>\n<blockquote>\n<p>When the thread request the singleton bean, it is going to refer (with help of reference variable in stack) to the bytecode of singleton bean in heap. So multiple threads can refer singleton bean at the same time. The compiler is going to point to the same bytecode and simply execute it and store method specific values in corresponding blocks in stack separately.</p>\n</blockquote>\n<p>Good article but it missing some crucial details about how exactly bytecode is executed by threads. My undestanding: Each thread has it own stack, stack contains frames, frames contains return values, local variables, operand stack and Current Class Constant Pool Reference. All classes ale loaded to Method Area, where each Class Data store constants and method code. So we have method code ONLY in one place. Thus, one line of method(which is later is bytecode in JVM) could be executed only by one thread at one core of CPU. Execution of same line of method cannot be performed at same time by two different threads on two different cores. But two DIFFERENT lines of code in method can be executed simultaneously by two different threads on two different cores. And each of thread can start execute method if no other thread executing first line of method.</p>\n"},{"tags":["java","multithreading","synchronization","sleep","runnable"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676276712,"post_id":75433400,"comment_id":133097425,"body_markdown":"Please explain what your code is meant to do -- what do you expect to happen? What is happening that you don&#39;t expect? That is, what is &quot;proper output&quot;? Perhaps leaving the newlines in your output examples would make your question easier to understand.","body":"Please explain what your code is meant to do -- what do you expect to happen? What is happening that you don&#39;t expect? That is, what is &quot;proper output&quot;? Perhaps leaving the newlines in your output examples would make your question easier to understand."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":5,"creation_date":1676276851,"post_id":75433400,"comment_id":133097464,"body_markdown":"But the answer is that in your first example you have three instances of ClassRoom and in the second you only have one, so `synchronized` does nothing in the first case.","body":"But the answer is that in your first example you have three instances of ClassRoom and in the second you only have one, so <code>synchronized</code> does nothing in the first case."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1676277148,"post_id":75433400,"comment_id":133097549,"body_markdown":"&quot;`ie.getMessage();`&quot; does nothing. You should read up about how to handle exceptions, and specifically how to handle an `InterruptedException` (because it typically requires something different to other exception types).","body":"&quot;<code>ie.getMessage();</code>&quot; does nothing. You should read up about how to handle exceptions, and specifically how to handle an <code>InterruptedException</code> (because it typically requires something different to other exception types)."},{"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"score":1,"creation_date":1676277435,"post_id":75433400,"comment_id":133097633,"body_markdown":"in &quot;implementing Runnable&quot;, &#39;classroom&#39; is a shared resource with syncrhonized non-static method run(). Which means that only one thread can access the method at a time for a given Runnable object.  \nOn the contrary, In case of &quot;extending Thread&quot; you have 3 objects, and no concurrent access to this code happens.\nWhen annotating non-static method as &quot;syncrhonized&quot;, mutual exclusion happens per object. For static methods synchronized methods are locked per class.","body":"in &quot;implementing Runnable&quot;, &#39;classroom&#39; is a shared resource with syncrhonized non-static method run(). Which means that only one thread can access the method at a time for a given Runnable object.   On the contrary, In case of &quot;extending Thread&quot; you have 3 objects, and no concurrent access to this code happens. When annotating non-static method as &quot;syncrhonized&quot;, mutual exclusion happens per object. For static methods synchronized methods are locked per class."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676278578,"creation_date":1676278578,"answer_id":75433733,"question_id":75433400,"body_markdown":"With the `Runnable` implementation, you are sharing a single instance across all threads. In the former, you are having 3 separate instances.\r\n\r\nTo match the behavior of separate threads with a runnable, you have to use separate runnables too:\r\n\r\n```\r\npublic class ClassRoomApp  {\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        \r\n        Thread t1 = new Thread(new ClassRoom()); // &lt;- distinct instance\r\n        Thread t2 = new Thread(new ClassRoom()); // &lt;- distinct instance\r\n        Thread t3 = new Thread(new ClassRoom()); // &lt;- distinct instance\r\n            \r\n        t1.setName(&quot;Physics teacher&quot;);\r\n        t2.setName(&quot;CS teacher&quot;);\r\n        t3.setName(&quot;English teacher&quot;);\r\n    \r\n        t1.start();\r\n        t2.start();\r\n        t3.start();\r\n        \r\n    }\r\n\r\n}\r\n```","title":"Why Synchronization not working properly with while extending to Thread?","body":"<p>With the <code>Runnable</code> implementation, you are sharing a single instance across all threads. In the former, you are having 3 separate instances.</p>\n<p>To match the behavior of separate threads with a runnable, you have to use separate runnables too:</p>\n<pre><code>public class ClassRoomApp  {\n\n    public static void main(String[] args) throws InterruptedException {\n        \n        Thread t1 = new Thread(new ClassRoom()); // &lt;- distinct instance\n        Thread t2 = new Thread(new ClassRoom()); // &lt;- distinct instance\n        Thread t3 = new Thread(new ClassRoom()); // &lt;- distinct instance\n            \n        t1.setName(&quot;Physics teacher&quot;);\n        t2.setName(&quot;CS teacher&quot;);\n        t3.setName(&quot;English teacher&quot;);\n    \n        t1.start();\n        t2.start();\n        t3.start();\n        \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676413077,"creation_date":1676413077,"answer_id":75453771,"question_id":75433400,"body_markdown":"&gt; while I was doing an exercise on the synchronization method I couldn&#39;t able to get a proper output but when I&#39;m trying the same exercise by implementing Runnable it&#39;s working fine\r\n\r\nSo your &quot;proper output&quot; is when the output is synchronized that each teacher enters, teaches, and exits before other teacher output is displayed.\r\n\r\n    Physics teacher enters class room\r\n    Physics teacher teaching students\r\n    Physics teacher exits class room\r\n    English teacher enters class room\r\n    English teacher teaching students\r\n    English teacher exits class room\r\n    CS teacher enters class room\r\n    ...\r\n\r\nWhen you have the `synchronize` keyword on a non-static method, the lock that gets enabled when the method is called is applied on the _instance_ of the object that contains the method.  In the case of the `ClassRoom` `Runnable`, each of the threads is sharing `class_room`:\r\n\r\n    ClassRoom class_room = new ClassRoom();\r\n    Thread t1 = new Thread(class_room);\r\n    Thread t2 = new Thread(class_room);\r\n    Thread t3 = new Thread(class_room);\r\n\r\nIn this case the same `ClassRoom` object instance is being locked by all 3 threads and the synchronization ensures that only one thread executes the `run()` method at a time.  Excellent.\r\n\r\nNow let&#39;s look at the `Thread` case:\r\n\r\n    ClassRoom physics_class = new ClassRoom();\r\n    ClassRoom cs_class = new ClassRoom();\r\n    ClassRoom english_class = new ClassRoom();\r\n\r\nIn this case, there are 3 separate instances of `ClassRoom` so the `synchronized` keyword is locking on 3 different objects so each thread works independently.\r\n\r\n    Thread t1 = new Thread(new ClassRoom()); // &lt;- distinct instance\r\n\r\nAside from the locking issue, you don&#39;t want to do this if `ClassRoom` extends `Thread` because you are creating 2 `Thread` objects – the `ClassRoom` and the `new Thread(...)` that wraps the `ClassRoom` but only starting one of them.  This is very confusing and unnecessary.  `ClassRoom` should implement `Runnable` instead.\r\n","title":"Why Synchronization not working properly with while extending to Thread?","body":"<blockquote>\n<p>while I was doing an exercise on the synchronization method I couldn't able to get a proper output but when I'm trying the same exercise by implementing Runnable it's working fine</p>\n</blockquote>\n<p>So your &quot;proper output&quot; is when the output is synchronized that each teacher enters, teaches, and exits before other teacher output is displayed.</p>\n<pre><code>Physics teacher enters class room\nPhysics teacher teaching students\nPhysics teacher exits class room\nEnglish teacher enters class room\nEnglish teacher teaching students\nEnglish teacher exits class room\nCS teacher enters class room\n...\n</code></pre>\n<p>When you have the <code>synchronize</code> keyword on a non-static method, the lock that gets enabled when the method is called is applied on the <em>instance</em> of the object that contains the method.  In the case of the <code>ClassRoom</code> <code>Runnable</code>, each of the threads is sharing <code>class_room</code>:</p>\n<pre><code>ClassRoom class_room = new ClassRoom();\nThread t1 = new Thread(class_room);\nThread t2 = new Thread(class_room);\nThread t3 = new Thread(class_room);\n</code></pre>\n<p>In this case the same <code>ClassRoom</code> object instance is being locked by all 3 threads and the synchronization ensures that only one thread executes the <code>run()</code> method at a time.  Excellent.</p>\n<p>Now let's look at the <code>Thread</code> case:</p>\n<pre><code>ClassRoom physics_class = new ClassRoom();\nClassRoom cs_class = new ClassRoom();\nClassRoom english_class = new ClassRoom();\n</code></pre>\n<p>In this case, there are 3 separate instances of <code>ClassRoom</code> so the <code>synchronized</code> keyword is locking on 3 different objects so each thread works independently.</p>\n<pre><code>Thread t1 = new Thread(new ClassRoom()); // &lt;- distinct instance\n</code></pre>\n<p>Aside from the locking issue, you don't want to do this if <code>ClassRoom</code> extends <code>Thread</code> because you are creating 2 <code>Thread</code> objects – the <code>ClassRoom</code> and the <code>new Thread(...)</code> that wraps the <code>ClassRoom</code> but only starting one of them.  This is very confusing and unnecessary.  <code>ClassRoom</code> should implement <code>Runnable</code> instead.</p>\n"}],"owner":{"account_id":27771845,"reputation":3,"user_id":21201998,"display_name":"aMn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75433733,"answer_count":2,"score":0,"last_activity_date":1676413077,"creation_date":1676276491,"question_id":75433400,"body_markdown":"Currently, I&#39;m studying &quot;synchronization&quot;, while I was doing an exercise on the synchronization method I couldn&#39;t able to get a proper output but when I&#39;m trying the same exercise by implementing Runnable it&#39;s working fine. I don&#39;t know why it&#39;s happening like this. could anyone please help me out here?\r\n\r\nBy extending Thread\r\n-------------------\r\n```\r\npublic class ClassRoom extends Thread {\r\n\t\r\n\t\r\n\tsynchronized public void run() {\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot; enters class room&quot;);\r\n\t\t\r\n\t\t\tThread.sleep(1000);\r\n\t\t\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot; teaching students&quot;);\r\n\t\t\r\n\t\t\tThread.sleep(1000);\r\n\t\t\r\n\t\tSystem.out.println(Thread.currentThread().getName() + &quot; exits class room&quot;);\r\n\t\t\r\n\t\t\r\n\t\t} catch(InterruptedException ie) {\r\n\t\t\tie.getMessage();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\nBy implementing Runnable\r\n------------------------\r\n`public class ClassRoom  implements Runnable {`\r\n\r\nrest of the codes are same\r\n\r\nMain method (by extending Thread)\r\n---------------------------------\r\n```\r\npublic class ClassRoomApp  {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\r\n\r\n\t\tClassRoom physics_class = new ClassRoom();\r\n\t\tClassRoom cs_class = new ClassRoom();\r\n\t\tClassRoom english_class = new ClassRoom();\r\n\t\t\r\n\t\tphysics_class.setName(&quot;Physics teacher&quot;);\r\n\t\tcs_class.setName(&quot;CS teacher&quot;);\r\n\t\tenglish_class.setName(&quot;English teacher&quot;);\r\n\t\t\r\n\r\n\t\tphysics_class.start();\r\n\t\tcs_class.start();\r\n\t\tenglish_class.start();\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\nMain method (by implementing Runnable)\r\n--------------------------------------\r\n```\r\npublic class ClassRoomApp  {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException {\r\n\t\t\r\n\t\tClassRoom class_room = new ClassRoom();\r\n\t\r\n\t\tThread t1 = new Thread(class_room);\r\n\t\tThread t2 = new Thread(class_room);\r\n\t\tThread t3 = new Thread(class_room);\r\n\t\t\t\r\n\t\tt1.setName(&quot;Physics teacher&quot;);\r\n\t\tt2.setName(&quot;CS teacher&quot;);\r\n\t\tt3.setName(&quot;English teacher&quot;);\r\n\t\r\n\t\tt1.start();\r\n\t\tt2.start();\r\n\t\tt3.start();\r\n\t\t\r\n\t}\r\n\r\n}\r\n\r\n```\r\nThese are the outputs im getting :\r\n----------------------------------\r\nWhile implementing Runnable :\r\n\r\nPhysics teacher enters class room &lt;br&gt;\r\nPhysics teacher teaching students &lt;br&gt;\r\nPhysics teacher exits class room &lt;br&gt;\r\nEnglish teacher enters class room &lt;br&gt;\r\nEnglish teacher teaching students &lt;br&gt;\r\nEnglish teacher exits class room &lt;br&gt;\r\nCS teacher enters class room &lt;br&gt;\r\nCS teacher teaching students &lt;br&gt;\r\nCS teacher exits class room &lt;br&gt;\r\n\r\nWhile extending Thread :\r\n\r\nPhysics teacher enters class room &lt;br&gt;\r\nEnglish teacher enters class room &lt;br&gt;\r\nCS teacher enters class room &lt;br&gt;\r\nEnglish teacher teaching students &lt;br&gt;\r\nPhysics teacher teaching students &lt;br&gt;\r\nCS teacher teaching students &lt;br&gt;\r\nEnglish teacher exits class room &lt;br&gt;\r\nCS teacher exits class room &lt;br&gt;\r\nPhysics teacher exits class room &lt;br&gt;\r\n\r\n\r\nI&#39;ve tried removing the Thread.sleep() from the Thread extended class then it sometimes working sometimes not woring.\r\n\r\nThese are the outputs :\r\n\r\nfirst try :\r\n-----------\r\nCS teacher enters class room &lt;br&gt;\r\nPhysics teacher enters class room &lt;br&gt;\r\nPhysics teacher teaching students &lt;br&gt;\r\nEnglish teacher enters class room &lt;br&gt;\r\nPhysics teacher exits class room &lt;br&gt;\r\nCS teacher teaching students &lt;br&gt;\r\nEnglish teacher teaching students &lt;br&gt;\r\nCS teacher exits class room &lt;br&gt;\r\nEnglish teacher exits class room &lt;br&gt;\r\n\r\nsecond try : (works)\r\n------------\r\n\r\nPhysics teacher enters class room &lt;br&gt;\r\nPhysics teacher teaching students &lt;br&gt;\r\nPhysics teacher exits class room &lt;br&gt;\r\nEnglish teacher enters class room &lt;br&gt;\r\nEnglish teacher teaching students &lt;br&gt;\r\nEnglish teacher exits class room  &lt;br&gt;\r\nCS teacher enters class room &lt;br&gt;\r\nCS teacher teaching students &lt;br&gt;\r\nCS teacher exits class room &lt;br&gt;\r\n\r\n\r\n\r\n","title":"Why Synchronization not working properly with while extending to Thread?","body":"<p>Currently, I'm studying &quot;synchronization&quot;, while I was doing an exercise on the synchronization method I couldn't able to get a proper output but when I'm trying the same exercise by implementing Runnable it's working fine. I don't know why it's happening like this. could anyone please help me out here?</p>\n<h2>By extending Thread</h2>\n<pre><code>public class ClassRoom extends Thread {\n    \n    \n    synchronized public void run() {\n        \n        \n        try {\n            \n        System.out.println(Thread.currentThread().getName() + &quot; enters class room&quot;);\n        \n            Thread.sleep(1000);\n        \n        System.out.println(Thread.currentThread().getName() + &quot; teaching students&quot;);\n        \n            Thread.sleep(1000);\n        \n        System.out.println(Thread.currentThread().getName() + &quot; exits class room&quot;);\n        \n        \n        } catch(InterruptedException ie) {\n            ie.getMessage();\n        }\n    }\n\n}\n</code></pre>\n<h2>By implementing Runnable</h2>\n<p><code>public class ClassRoom  implements Runnable {</code></p>\n<p>rest of the codes are same</p>\n<h2>Main method (by extending Thread)</h2>\n<pre><code>public class ClassRoomApp  {\n\n    public static void main(String[] args) throws InterruptedException {\n        \n\n        ClassRoom physics_class = new ClassRoom();\n        ClassRoom cs_class = new ClassRoom();\n        ClassRoom english_class = new ClassRoom();\n        \n        physics_class.setName(&quot;Physics teacher&quot;);\n        cs_class.setName(&quot;CS teacher&quot;);\n        english_class.setName(&quot;English teacher&quot;);\n        \n\n        physics_class.start();\n        cs_class.start();\n        english_class.start();\n        \n    }\n\n}\n</code></pre>\n<h2>Main method (by implementing Runnable)</h2>\n<pre><code>public class ClassRoomApp  {\n\n    public static void main(String[] args) throws InterruptedException {\n        \n        ClassRoom class_room = new ClassRoom();\n    \n        Thread t1 = new Thread(class_room);\n        Thread t2 = new Thread(class_room);\n        Thread t3 = new Thread(class_room);\n            \n        t1.setName(&quot;Physics teacher&quot;);\n        t2.setName(&quot;CS teacher&quot;);\n        t3.setName(&quot;English teacher&quot;);\n    \n        t1.start();\n        t2.start();\n        t3.start();\n        \n    }\n\n}\n\n</code></pre>\n<h2>These are the outputs im getting :</h2>\n<p>While implementing Runnable :</p>\n<p>Physics teacher enters class room <br>\nPhysics teacher teaching students <br>\nPhysics teacher exits class room <br>\nEnglish teacher enters class room <br>\nEnglish teacher teaching students <br>\nEnglish teacher exits class room <br>\nCS teacher enters class room <br>\nCS teacher teaching students <br>\nCS teacher exits class room <br></p>\n<p>While extending Thread :</p>\n<p>Physics teacher enters class room <br>\nEnglish teacher enters class room <br>\nCS teacher enters class room <br>\nEnglish teacher teaching students <br>\nPhysics teacher teaching students <br>\nCS teacher teaching students <br>\nEnglish teacher exits class room <br>\nCS teacher exits class room <br>\nPhysics teacher exits class room <br></p>\n<p>I've tried removing the Thread.sleep() from the Thread extended class then it sometimes working sometimes not woring.</p>\n<p>These are the outputs :</p>\n<h2>first try :</h2>\n<p>CS teacher enters class room <br>\nPhysics teacher enters class room <br>\nPhysics teacher teaching students <br>\nEnglish teacher enters class room <br>\nPhysics teacher exits class room <br>\nCS teacher teaching students <br>\nEnglish teacher teaching students <br>\nCS teacher exits class room <br>\nEnglish teacher exits class room <br></p>\n<h2>second try : (works)</h2>\n<p>Physics teacher enters class room <br>\nPhysics teacher teaching students <br>\nPhysics teacher exits class room <br>\nEnglish teacher enters class room <br>\nEnglish teacher teaching students <br>\nEnglish teacher exits class room  <br>\nCS teacher enters class room <br>\nCS teacher teaching students <br>\nCS teacher exits class room <br></p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":2848514,"reputation":10932,"user_id":2446208,"accept_rate":69,"display_name":"blacktide"},"score":1,"creation_date":1676407491,"post_id":75453058,"comment_id":133130216,"body_markdown":"You can use `entry.getValue().toString()` or `String.valueOf(entry.getValue())` instead of `(String) entry.getValue()`.","body":"You can use <code>entry.getValue().toString()</code> or <code>String.valueOf(entry.getValue())</code> instead of <code>(String) entry.getValue()</code>."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1676407637,"post_id":75453058,"comment_id":133130263,"body_markdown":"Well when your objects are not strings, what do you want to do? convert them? skip them?","body":"Well when your objects are not strings, what do you want to do? convert them? skip them?"},{"owner":{"account_id":23283079,"reputation":19,"user_id":17366287,"display_name":"NyashMyash"},"score":0,"creation_date":1676407916,"post_id":75453058,"comment_id":133130330,"body_markdown":"@khelwood wanna convert them into strings","body":"@khelwood wanna convert them into strings"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676408898,"post_id":75453058,"comment_id":133130597,"body_markdown":"Have you tried `entry.getValue().toString()` instead of `(String) entry.getValue())`?","body":"Have you tried <code>entry.getValue().toString()</code> instead of <code>(String) entry.getValue())</code>?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676409166,"post_id":75453058,"comment_id":133130664,"body_markdown":"It would help to post a complete method, as a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) . Include error messages, whether runtime or compiler.","body":"It would help to post a complete method, as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> . Include error messages, whether runtime or compiler."}],"answers":[{"tags":[],"owner":{"account_id":11988367,"reputation":540,"user_id":8772274,"display_name":"Nahuel Giani"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676408849,"creation_date":1676408849,"answer_id":75453280,"question_id":75453058,"body_markdown":"Just replace *(String) entry.getValue()* for *String.valueOf*, like that:\r\n\r\n    Map&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\r\n    \r\n    for (Map&lt;String, Object&gt; element: list) {\r\n        for (Entry&lt;String, Object&gt; entry : element.entrySet()) {\r\n            newMap.put(entry.getKey(), String.valueOf(entry.getValue()));\r\n        }\r\n    }\r\n\r\n","title":"How to convert List&lt;Map&lt;String, Object&gt;&gt; to &lt;List&lt;Map&lt;String, String&gt;&gt;?","body":"<p>Just replace <em>(String) entry.getValue()</em> for <em>String.valueOf</em>, like that:</p>\n<pre><code>Map&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\n\nfor (Map&lt;String, Object&gt; element: list) {\n    for (Entry&lt;String, Object&gt; entry : element.entrySet()) {\n        newMap.put(entry.getKey(), String.valueOf(entry.getValue()));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1676475748,"post_id":75453727,"comment_id":133144942,"body_markdown":"While this is correct, I’m not sure it’s an improvement over a simple loop.","body":"While this is correct, I’m not sure it’s an improvement over a simple loop."},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676476354,"post_id":75453727,"comment_id":133145207,"body_markdown":"The functionalists (am I coining a term?) would say it is, but I might agree with you. On simple character count (functional: 194; for loop, including variable declarations: 293), one could say it&#39;s an improvement as well, but who&#39;s counting?","body":"The functionalists (am I coining a term?) would say it is, but I might agree with you. On simple character count (functional: 194; for loop, including variable declarations: 293), one could say it&#39;s an improvement as well, but who&#39;s counting?"}],"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676412777,"creation_date":1676412777,"answer_id":75453727,"question_id":75453058,"body_markdown":"A more functional approach to this would be: \r\n```\r\n    private List&lt;Map&lt;String, String&gt;&gt; retypeFunctional(List&lt;Map&lt;String, Object&gt;&gt; list) {\r\n        List&lt;Map&lt;String, String&gt;&gt; result = list.stream()\r\n            .map(map -&gt; map.entrySet().stream()\r\n                    .collect(Collectors.toMap(Entry::getKey, e -&gt; String.valueOf(e.getValue()))))\r\n            .collect(Collectors.toList());\r\n        \r\n        return result;\r\n    }\r\n```\r\nRemember to: \r\n```\r\nimport java.util.Map.Entry;\r\n```\r\namong other more obvious imports.","title":"How to convert List&lt;Map&lt;String, Object&gt;&gt; to &lt;List&lt;Map&lt;String, String&gt;&gt;?","body":"<p>A more functional approach to this would be:</p>\n<pre><code>    private List&lt;Map&lt;String, String&gt;&gt; retypeFunctional(List&lt;Map&lt;String, Object&gt;&gt; list) {\n        List&lt;Map&lt;String, String&gt;&gt; result = list.stream()\n            .map(map -&gt; map.entrySet().stream()\n                    .collect(Collectors.toMap(Entry::getKey, e -&gt; String.valueOf(e.getValue()))))\n            .collect(Collectors.toList());\n        \n        return result;\n    }\n</code></pre>\n<p>Remember to:</p>\n<pre><code>import java.util.Map.Entry;\n</code></pre>\n<p>among other more obvious imports.</p>\n"}],"owner":{"account_id":23283079,"reputation":19,"user_id":17366287,"display_name":"NyashMyash"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1676412777,"creation_date":1676407171,"question_id":75453058,"body_markdown":"How can I convert a `List&lt;Map&lt;String, Object&gt;&gt;` to a `&lt;List&lt;Map&lt;String, String&gt;&gt;`?\r\n\r\nMy `Object` values are `Integer`, `String`, and `LocalDate`.\r\n\r\n```java\r\nMap&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\r\n\r\nfor (Map&lt;String, Object&gt; element: list) {\r\n    for (Entry&lt;String, Object&gt; entry : element.entrySet()) {\r\n        newMap.put(entry.getKey(), (String) entry.getValue());\r\n    }\r\n}\r\n```\r\nThis doesn&#39;t work for me.\r\n\r\n***Updated***\r\nThanks guys in comments for help!\r\n\r\nWanna post here full algorythm, maybe it can be usefull for someone\r\n\r\n    // data preparing\r\n            LocalDate date = LocalDate.now();\r\n            Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\r\n            map1.put(&quot;key1&quot;, 4);\r\n            Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\r\n            map2.put(&quot;key2&quot;, date);\r\n            List&lt;Map&lt;String, Object&gt;&gt; subject = new ArrayList&lt;&gt;();\r\n            subject.add(0, map1);\r\n            subject.add(1, map2);\r\n    \r\n            System.out.println(subject);\r\n    \r\n            Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\r\n            List&lt;Map&lt;String,String&gt;&gt; newList = new ArrayList&lt;&gt;();\r\n    \r\n            for (Map&lt;String, Object&gt; element : subject) {\r\n                for (Map.Entry&lt;String, Object&gt; entry : element.entrySet()) {\r\n                    newMap.put(entry.getKey(), String.valueOf(entry.getValue()));\r\n                    newList.add(newMap);\r\n                }\r\n            }\r\n            //test results\r\n            System.out.println(&quot;----------------------------&quot;);\r\n            System.out.println(newList.get(0).get(&quot;key1&quot;).getClass());\r\n            System.out.println(newList.get(1).get(&quot;key2&quot;).getClass());\r\n            System.out.println(newList);","title":"How to convert List&lt;Map&lt;String, Object&gt;&gt; to &lt;List&lt;Map&lt;String, String&gt;&gt;?","body":"<p>How can I convert a <code>List&lt;Map&lt;String, Object&gt;&gt;</code> to a <code>&lt;List&lt;Map&lt;String, String&gt;&gt;</code>?</p>\n<p>My <code>Object</code> values are <code>Integer</code>, <code>String</code>, and <code>LocalDate</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, String&gt; newMap = new HashMap&lt;String, String&gt;();\n\nfor (Map&lt;String, Object&gt; element: list) {\n    for (Entry&lt;String, Object&gt; entry : element.entrySet()) {\n        newMap.put(entry.getKey(), (String) entry.getValue());\n    }\n}\n</code></pre>\n<p>This doesn't work for me.</p>\n<p><em><strong>Updated</strong></em>\nThanks guys in comments for help!</p>\n<p>Wanna post here full algorythm, maybe it can be usefull for someone</p>\n<pre><code>// data preparing\n        LocalDate date = LocalDate.now();\n        Map&lt;String, Object&gt; map1 = new HashMap&lt;&gt;();\n        map1.put(&quot;key1&quot;, 4);\n        Map&lt;String, Object&gt; map2 = new HashMap&lt;&gt;();\n        map2.put(&quot;key2&quot;, date);\n        List&lt;Map&lt;String, Object&gt;&gt; subject = new ArrayList&lt;&gt;();\n        subject.add(0, map1);\n        subject.add(1, map2);\n\n        System.out.println(subject);\n\n        Map&lt;String, String&gt; newMap = new HashMap&lt;&gt;();\n        List&lt;Map&lt;String,String&gt;&gt; newList = new ArrayList&lt;&gt;();\n\n        for (Map&lt;String, Object&gt; element : subject) {\n            for (Map.Entry&lt;String, Object&gt; entry : element.entrySet()) {\n                newMap.put(entry.getKey(), String.valueOf(entry.getValue()));\n                newList.add(newMap);\n            }\n        }\n        //test results\n        System.out.println(&quot;----------------------------&quot;);\n        System.out.println(newList.get(0).get(&quot;key1&quot;).getClass());\n        System.out.println(newList.get(1).get(&quot;key2&quot;).getClass());\n        System.out.println(newList);\n</code></pre>\n"},{"tags":["java","quarkus","mutiny"],"comments":[{"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"score":0,"creation_date":1676465449,"post_id":75453686,"comment_id":133141238,"body_markdown":"I suppose it&#39;s because the transaction is not completed yet. It only going to be completed when the method emits the result. Did you try using transactions directly?","body":"I suppose it&#39;s because the transaction is not completed yet. It only going to be completed when the method emits the result. Did you try using transactions directly?"}],"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676412304,"creation_date":1676412304,"question_id":75453686,"body_markdown":"I&#39;ve implemented on Service layer method patch() via Mutiny which patches entity (changing one field). Before change I do some check.\r\nBut the problem in after patch entity (update SQL instruction) in DB, get method doesn&#39;t wait results and returns previous entity state.\r\nHow can I make get() be dependent from result of patch()? I need to return changed state of entity after patch.\r\n\r\n\r\n\r\n\r\n```\r\n\r\n    @Override\r\n    public &lt;T&gt; Uni&lt;List&lt;ConfigParamDto&lt;T&gt;&gt;&gt; getAll() {\r\n        return cconfigRepository.findAll().list()\r\n                .map(param -&gt; param.stream().map(configParamDto&lt;T&gt;::new).collect(Collectors.toList()));\r\n    }\r\n\r\n    @Override\r\n    @ReactiveTransactional\r\n    public &lt;T&gt; Uni&lt;ConfigParamDto&lt;Object&gt;&gt; patch(String name, T value) throws ConfigParamNotFoundException {\r\n        return get(name).map(param -&gt; someCheck(param))\r\n                .chain(ignored -&gt; configRepository.patch(name, String.valueOf(value)))\r\n                .chain(ignored -&gt; get(name));\r\n    }\r\n```\r\n","title":"Mutiny returns object from DB without changes","body":"<p>I've implemented on Service layer method patch() via Mutiny which patches entity (changing one field). Before change I do some check.\nBut the problem in after patch entity (update SQL instruction) in DB, get method doesn't wait results and returns previous entity state.\nHow can I make get() be dependent from result of patch()? I need to return changed state of entity after patch.</p>\n<pre><code>\n    @Override\n    public &lt;T&gt; Uni&lt;List&lt;ConfigParamDto&lt;T&gt;&gt;&gt; getAll() {\n        return cconfigRepository.findAll().list()\n                .map(param -&gt; param.stream().map(configParamDto&lt;T&gt;::new).collect(Collectors.toList()));\n    }\n\n    @Override\n    @ReactiveTransactional\n    public &lt;T&gt; Uni&lt;ConfigParamDto&lt;Object&gt;&gt; patch(String name, T value) throws ConfigParamNotFoundException {\n        return get(name).map(param -&gt; someCheck(param))\n                .chain(ignored -&gt; configRepository.patch(name, String.valueOf(value)))\n                .chain(ignored -&gt; get(name));\n    }\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1676345071,"post_id":75437330,"comment_id":133114152,"body_markdown":"Why do you need a *named* destination? PDFBox has an example (AddAnnotations.java) where there is a link to a specific page.","body":"Why do you need a <i>named</i> destination? PDFBox has an example (AddAnnotations.java) where there is a link to a specific page."}],"owner":{"account_id":8552936,"reputation":1,"user_id":6409361,"display_name":"Abhay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676412027,"creation_date":1676299189,"question_id":75437330,"body_markdown":"I am trying to create PDF using Apache pdfbox 2.0.26\r\n to create Annotation to jump to a page using PDNamedDestination and used named lookup table.\r\n\r\nHow to set  PDNamedDestination Object to get page from named lookup table\r\n\r\n(to use document.getDocumentCatalog().findNamedDestinationPage() )\r\n in code below receiving null on calling  getDests() ?\r\n\r\n    public static void setNamedDestination(PDDocument document,String nameDestinationKey,PDPageDestination destnationPage)\r\n    {\r\n\t\tPDDocumentNameDestinationDictionary destsTree = document.getDocumentCatalog().getDests();\r\n\t\tdestsTree.getCOSObject().setItem(nameDestinationKey, destnationPage);\r\n    }\r\n\r\n","title":"How to create anchor jump to a page with named destinations lookup in pdfbox","body":"<p>I am trying to create PDF using Apache pdfbox 2.0.26\nto create Annotation to jump to a page using PDNamedDestination and used named lookup table.</p>\n<p>How to set  PDNamedDestination Object to get page from named lookup table</p>\n<p>(to use document.getDocumentCatalog().findNamedDestinationPage() )\nin code below receiving null on calling  getDests() ?</p>\n<pre><code>public static void setNamedDestination(PDDocument document,String nameDestinationKey,PDPageDestination destnationPage)\n{\n    PDDocumentNameDestinationDictionary destsTree = document.getDocumentCatalog().getDests();\n    destsTree.getCOSObject().setItem(nameDestinationKey, destnationPage);\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1676406647,"post_id":75452812,"comment_id":133130017,"body_markdown":"I&#39;m afraid I don&#39;t follow your code. You construct two lists, where the second is a shallow copy of the first. Then you check to see if they have the same elements. The second was constructed from the first, so they&#39;ll always have the same elements.","body":"I&#39;m afraid I don&#39;t follow your code. You construct two lists, where the second is a shallow copy of the first. Then you check to see if they have the same elements. The second was constructed from the first, so they&#39;ll always have the same elements."},{"owner":{"account_id":27787291,"reputation":1,"user_id":21214474,"display_name":"CRK"},"score":0,"creation_date":1676407020,"post_id":75452812,"comment_id":133130096,"body_markdown":"second list  was created for comparison purpose ,Comparing first list object attribute with second list object attribute  , is there anyway you can achieve same without creating second list ? if you run the code it will give 2 elements with name.","body":"second list  was created for comparison purpose ,Comparing first list object attribute with second list object attribute  , is there anyway you can achieve same without creating second list ? if you run the code it will give 2 elements with name."},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1676407160,"post_id":75452812,"comment_id":133130140,"body_markdown":"Comparison to *what* though? Right now, you&#39;re just checking whether every element in the list is the same, with an extra list thrown in to add complexity. I don&#39;t understand what you want to do. Can you explain the goal of this function, in plain English?","body":"Comparison to <i>what</i> though? Right now, you&#39;re just checking whether every element in the list is the same, with an extra list thrown in to add complexity. I don&#39;t understand what you want to do. Can you explain the goal of this function, in plain English?"},{"owner":{"account_id":27787291,"reputation":1,"user_id":21214474,"display_name":"CRK"},"score":0,"creation_date":1676407967,"post_id":75452812,"comment_id":133130342,"body_markdown":"My goal is to get Map object out of list of objects with matched and unmatched items. in above list 2 objects with same name and remainingitem is itself. using java 8 Streams , i want Map with 2 different lists.","body":"My goal is to get Map object out of list of objects with matched and unmatched items. in above list 2 objects with same name and remainingitem is itself. using java 8 Streams , i want Map with 2 different lists."},{"owner":{"account_id":27787291,"reputation":1,"user_id":21214474,"display_name":"CRK"},"score":0,"creation_date":1676409885,"post_id":75452812,"comment_id":133130825,"body_markdown":"@SilvioMayolo Please let me know if you still don&#39;t understand","body":"@SilvioMayolo Please let me know if you still don&#39;t understand"}],"answers":[{"comments":[{"owner":{"account_id":27787291,"reputation":1,"user_id":21214474,"display_name":"CRK"},"score":0,"creation_date":1676410380,"post_id":75453432,"comment_id":133130940,"body_markdown":"Thanks for your answer , But it wont work if i wanted to compare equality condition ,suppose if i want to compare Employee1 joining date equals to Employee 2 termination date.","body":"Thanks for your answer , But it wont work if i wanted to compare equality condition ,suppose if i want to compare Employee1 joining date equals to Employee 2 termination date."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1676410683,"post_id":75453432,"comment_id":133130998,"body_markdown":"@CRK just a tip that adding new arbitrary requirements to the problem you are trying to solve that were never mentioned in the original question is not good form. Please learn to be as clear as possible about your problem in your questions.","body":"@CRK just a tip that adding new arbitrary requirements to the problem you are trying to solve that were never mentioned in the original question is not good form. Please learn to be as clear as possible about your problem in your questions."},{"owner":{"account_id":27787291,"reputation":1,"user_id":21214474,"display_name":"CRK"},"score":0,"creation_date":1676411384,"post_id":75453432,"comment_id":133131131,"body_markdown":"@pfurbacher sorry this my first question in stackoverflow and also new to java Streams, I didn&#39;t  think this scenario before.One more thing i have verified groupingBy and it always takes 2 arguments but your answer having only 1 argument.","body":"@pfurbacher sorry this my first question in stackoverflow and also new to java Streams, I didn&#39;t  think this scenario before.One more thing i have verified groupingBy and it always takes 2 arguments but your answer having only 1 argument."},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676416012,"post_id":75453432,"comment_id":133132004,"body_markdown":"`Collectors.groupingBy` has 6 (at this writing) variants: the single parameter one is `public static &lt;T, K&gt; Collector&lt;T, ?, Map&lt;K, List&lt;T&gt;&gt;&gt; groupingBy(Function&lt;? super T, ? extends K&gt; classifier)`. But now that you have redefined your requirement to compare two different properties, my solution doesn&#39;t apply. If you want to have two lists, one where there&#39;s a match, the other where there isn&#39;t, consider using `Collectors.partioningBy()`. I&#39;ll leave it to you to figure that out: I don&#39;t guarantee that it will be easy or even work.","body":"<code>Collectors.groupingBy</code> has 6 (at this writing) variants: the single parameter one is <code>public static &lt;T, K&gt; Collector&lt;T, ?, Map&lt;K, List&lt;T&gt;&gt;&gt; groupingBy(Function&lt;? super T, ? extends K&gt; classifier)</code>. But now that you have redefined your requirement to compare two different properties, my solution doesn&#39;t apply. If you want to have two lists, one where there&#39;s a match, the other where there isn&#39;t, consider using <code>Collectors.partioningBy()</code>. I&#39;ll leave it to you to figure that out: I don&#39;t guarantee that it will be easy or even work."}],"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676410021,"creation_date":1676410021,"answer_id":75453432,"question_id":75452812,"body_markdown":"In a comment, you wrote: \r\n\r\n    My goal is to get Map object out of list of objects with matched and unmatched items. \r\n\r\nThe following code demonstrates how to do this:  \r\n```\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class GroupingBy {\r\n\r\n    record Employee(String id, String name) {}\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Employee&gt; list = List.of(new Employee(&quot;1&quot;, &quot;Dumisani&quot;), new Employee(&quot;2&quot;, &quot;Thandiwe&quot;), new Employee(&quot;3&quot;, &quot;Thandiwe&quot;));\r\n\r\n        Map&lt;String, List&lt;Employee&gt;&gt; result = \r\n            list.stream()\r\n                .collect(Collectors.groupingBy(Employee::name));\r\n        \r\n        System.out.println(result);\r\n    }\r\n}\r\n```\r\n\r\nNote that I used `record` instead of `class` to make the demo more succinct. Also, I rename &quot;Emp&quot; to &quot;Employee&quot; -- there&#39;s no reason to skimp on descriptive names. \r\n\r\nThe result is a grouping by Employee.name. You can see that each entry&#39;s value is a list of employees whose name matches the key: \r\n```\r\n{Dumisani=[Employee[id=1, name=Dumisani]], \r\n Thandiwe=[Employee[id=2, name=Thandiwe], Employee[id=3, name=Thandiwe]]}\r\n","title":"How to filter map of list objects from list of objects","body":"<p>In a comment, you wrote:</p>\n<pre><code>My goal is to get Map object out of list of objects with matched and unmatched items. \n</code></pre>\n<p>The following code demonstrates how to do this:</p>\n<pre><code>import java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class GroupingBy {\n\n    record Employee(String id, String name) {}\n\n    public static void main(String[] args) {\n        List&lt;Employee&gt; list = List.of(new Employee(&quot;1&quot;, &quot;Dumisani&quot;), new Employee(&quot;2&quot;, &quot;Thandiwe&quot;), new Employee(&quot;3&quot;, &quot;Thandiwe&quot;));\n\n        Map&lt;String, List&lt;Employee&gt;&gt; result = \n            list.stream()\n                .collect(Collectors.groupingBy(Employee::name));\n        \n        System.out.println(result);\n    }\n}\n</code></pre>\n<p>Note that I used <code>record</code> instead of <code>class</code> to make the demo more succinct. Also, I rename &quot;Emp&quot; to &quot;Employee&quot; -- there's no reason to skimp on descriptive names.</p>\n<p>The result is a grouping by Employee.name. You can see that each entry's value is a list of employees whose name matches the key:</p>\n<pre><code>{Dumisani=[Employee[id=1, name=Dumisani]], \n Thandiwe=[Employee[id=2, name=Thandiwe], Employee[id=3, name=Thandiwe]]}\n</code></pre>\n"}],"owner":{"account_id":27787291,"reputation":1,"user_id":21214474,"display_name":"CRK"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676411976,"creation_date":1676405376,"question_id":75452812,"body_markdown":" I want Map object out of list of objects with matched and unmatched items. In below List 2 objects with same name and joining date of one object equals termination date of other object and remaining item is itself. using java 8 Streams , i want Map with 2 different lists.\r\n\r\nIn below List 2 objects names are  equal and also joining date of 1 object equals to\r\ntermination date of other object.\r\n\r\nAfter using streams i want a result with Map of List, One list object contains 2 matched items and other list contains only single item.\r\n\r\n\r\n    `public class test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tEmp a= new Emp();\r\n    \t\ta.setId(&quot;1&quot;);\r\n    \t\ta.setName(&quot;hi&quot;);\r\n    \t\ta.setJoinDate(&quot;20220201&quot;);\r\n    \r\n    \t\tEmp b= new Emp();\r\n    \t\tb.setId(&quot;2&quot;);\r\n    \t\tb.setName(&quot;hi&quot;);\r\n    \t\tb.setTerminationDate(&quot;20220201&quot;);\r\n    \r\n    \t\tEmp c= new Emp();\r\n    \t\tc.setId(&quot;3&quot;);\r\n    \t\tc.setName(&quot;hello&quot;);\r\n    \t\tc.setJoinDate(&quot;20220201&quot;);\r\n            List&lt;Emp&gt; empList = Arrays.asList(a,b,c);\r\n    \r\n    \t\r\n    \r\n    \t}`","title":"How to filter map of list objects from list of objects","body":"<p>I want Map object out of list of objects with matched and unmatched items. In below List 2 objects with same name and joining date of one object equals termination date of other object and remaining item is itself. using java 8 Streams , i want Map with 2 different lists.</p>\n<p>In below List 2 objects names are  equal and also joining date of 1 object equals to\ntermination date of other object.</p>\n<p>After using streams i want a result with Map of List, One list object contains 2 matched items and other list contains only single item.</p>\n<pre><code>`public class test {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Emp a= new Emp();\n        a.setId(&quot;1&quot;);\n        a.setName(&quot;hi&quot;);\n        a.setJoinDate(&quot;20220201&quot;);\n\n        Emp b= new Emp();\n        b.setId(&quot;2&quot;);\n        b.setName(&quot;hi&quot;);\n        b.setTerminationDate(&quot;20220201&quot;);\n\n        Emp c= new Emp();\n        c.setId(&quot;3&quot;);\n        c.setName(&quot;hello&quot;);\n        c.setJoinDate(&quot;20220201&quot;);\n        List&lt;Emp&gt; empList = Arrays.asList(a,b,c);\n\n    \n\n    }`\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2058958,"reputation":1872,"user_id":1836030,"accept_rate":65,"display_name":"Scott"},"score":1,"creation_date":1676410667,"post_id":75453428,"comment_id":133130994,"body_markdown":"What do you mean the for loop doesn&#39;t reset to 1? The for loop starts from one every iteration, even after the user enters &#39;Y&#39;. Your question is unclear","body":"What do you mean the for loop doesn&#39;t reset to 1? The for loop starts from one every iteration, even after the user enters &#39;Y&#39;. Your question is unclear"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":3,"creation_date":1676410719,"post_id":75453428,"comment_id":133131008,"body_markdown":"Perhaps you could edit the question to include examples of input, expected results, and actual results.","body":"Perhaps you could edit the question to include examples of input, expected results, and actual results."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1676411129,"post_id":75453428,"comment_id":133131082,"body_markdown":"Is your actual issue with `b`? There&#39;s no reason for it to be anything other than whatever it was prior to the loop. If you want `b` reset then reset it. The loop variable will certainly always be what it&#39;s supposed to be.","body":"Is your actual issue with <code>b</code>? There&#39;s no reason for it to be anything other than whatever it was prior to the loop. If you want <code>b</code> reset then reset it. The loop variable will certainly always be what it&#39;s supposed to be."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1676413632,"post_id":75453428,"comment_id":133131583,"body_markdown":"`b = 1;  for (i = 1; i &lt;= num; i++) {`","body":"<code>b = 1;  for (i = 1; i &lt;= num; i++) {</code>"}],"answers":[{"comments":[{"owner":{"account_id":27787702,"reputation":3,"user_id":21214792,"display_name":"Deraga"},"score":0,"creation_date":1676693946,"post_id":75453536,"comment_id":133194014,"body_markdown":"Thank you for showing me what I was doing wrong with the for loop. I am new to Java and I am still learning.","body":"Thank you for showing me what I was doing wrong with the for loop. I am new to Java and I am still learning."}],"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676410976,"creation_date":1676410976,"answer_id":75453536,"question_id":75453428,"body_markdown":"You don&#39;t need a `switch` expression. Also, declare the variables in the narrowest scope. In this case, except for `sc`, they should be declared in the do/while loop, or in the case of `b`, in the for loop.\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        do {\r\n            System.out.println(&quot;The starting number is 1.\\n&quot;);\r\n            System.out.print(&quot;Enter a value: &quot;);\r\n            // Input\r\n            int num = sc.nextInt();\r\n\r\n            for (int i = 1, b = 1; i &lt;= num; i++) {\r\n                b = b * i;\r\n                // Output\r\n                System.out.printf(&quot;%d! = %d\\n&quot;, i, b);\r\n            }\r\n    \r\n            System.out.print(\r\n                &quot;Run the program again? (Y for Yes, N for No): &quot;);\r\n\r\n            String input = sc.next();\r\n    \r\n            if (input.equalsIgnoreCase(&quot;N&quot;)) {\r\n                System.out.println(\r\n                    &quot;Have a great day!&quot;);\r\n                sc.close(); \r\n                System.exit(0);\r\n            }\r\n        } while (true);\r\n    }\r\n\r\n```\r\n","title":"Reset a for loop inside a switch statement","body":"<p>You don't need a <code>switch</code> expression. Also, declare the variables in the narrowest scope. In this case, except for <code>sc</code>, they should be declared in the do/while loop, or in the case of <code>b</code>, in the for loop.</p>\n<pre><code>    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n\n        do {\n            System.out.println(&quot;The starting number is 1.\\n&quot;);\n            System.out.print(&quot;Enter a value: &quot;);\n            // Input\n            int num = sc.nextInt();\n\n            for (int i = 1, b = 1; i &lt;= num; i++) {\n                b = b * i;\n                // Output\n                System.out.printf(&quot;%d! = %d\\n&quot;, i, b);\n            }\n    \n            System.out.print(\n                &quot;Run the program again? (Y for Yes, N for No): &quot;);\n\n            String input = sc.next();\n    \n            if (input.equalsIgnoreCase(&quot;N&quot;)) {\n                System.out.println(\n                    &quot;Have a great day!&quot;);\n                sc.close(); \n                System.exit(0);\n            }\n        } while (true);\n    }\n\n</code></pre>\n"}],"owner":{"account_id":27787702,"reputation":3,"user_id":21214792,"display_name":"Deraga"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75453536,"answer_count":1,"score":0,"last_activity_date":1676410976,"creation_date":1676410008,"question_id":75453428,"body_markdown":"The code that I have runs, but when I do the `do-while` loop, the `for` loop does not reset back to 1 when the user chooses `Yes` to rerun the program. I hope I am making myself clear.\r\n\r\n``` java\r\nint choice;\r\nint num;\r\nint i;\r\nString input; \r\nint b = 1;\r\n```\r\n\r\n```java\r\nswitch (choice) {\r\n    case 1:\r\n        do {\r\n            System.out.println(&quot;The starting number is 1.&quot;);\r\n            //Input\r\n            System.out.print(&quot;Enter a value: &quot;);\r\n            num = sc.nextInt();\r\n\r\n            for (i = 1; i &lt;= num; i++) {\r\n                b = b * i;\r\n                //Output\r\n                System.out.printf(&quot;%d! = %d\\n&quot;, i, b);\r\n            }\r\n\r\n            System.out.print(\r\n                &quot;Run the program again? (Y for Yes, N for No): &quot;);\r\n            input = sc.next();\r\n        } while (input.equalsIgnoreCase(&quot;Y&quot;));\r\n\r\n        if (input.equalsIgnoreCase(&quot;N&quot;)) {\r\n            System.out.println(\r\n                &quot;Have a great day!&quot;);\r\n            System.exit(0);\r\n        }\r\n        break;\r\n}\r\n```\r\n\r\nI tried a `while` loop instead of the `for` loop and I was not getting the results at all. I am new to Java so I am still learning. \r\n\r\nI added a `break` at the end of the `for` loop, but that ends the loop only after 1 increment.","title":"Reset a for loop inside a switch statement","body":"<p>The code that I have runs, but when I do the <code>do-while</code> loop, the <code>for</code> loop does not reset back to 1 when the user chooses <code>Yes</code> to rerun the program. I hope I am making myself clear.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int choice;\nint num;\nint i;\nString input; \nint b = 1;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>switch (choice) {\n    case 1:\n        do {\n            System.out.println(&quot;The starting number is 1.&quot;);\n            //Input\n            System.out.print(&quot;Enter a value: &quot;);\n            num = sc.nextInt();\n\n            for (i = 1; i &lt;= num; i++) {\n                b = b * i;\n                //Output\n                System.out.printf(&quot;%d! = %d\\n&quot;, i, b);\n            }\n\n            System.out.print(\n                &quot;Run the program again? (Y for Yes, N for No): &quot;);\n            input = sc.next();\n        } while (input.equalsIgnoreCase(&quot;Y&quot;));\n\n        if (input.equalsIgnoreCase(&quot;N&quot;)) {\n            System.out.println(\n                &quot;Have a great day!&quot;);\n            System.exit(0);\n        }\n        break;\n}\n</code></pre>\n<p>I tried a <code>while</code> loop instead of the <code>for</code> loop and I was not getting the results at all. I am new to Java so I am still learning.</p>\n<p>I added a <code>break</code> at the end of the <code>for</code> loop, but that ends the loop only after 1 increment.</p>\n"},{"tags":["java","android","android-camerax"],"owner":{"account_id":21086922,"reputation":13,"user_id":15499824,"display_name":"CoDevloop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676410836,"creation_date":1676410836,"question_id":75453522,"body_markdown":"Using CameraX or Camera2 I can not record videos at 60fps in My SamsungS10 which actually supports recording UHD videos with 60fps using Samsung Camera App. I can only record at 30fps!\r\n\r\nHere is my code\r\n\r\n    QualitySelector qualitySelector = QualitySelector.fromOrderedList(\r\n                            Arrays.asList(Quality.UHD, Quality.FHD, Quality.HD, Quality.SD),\r\n                            FallbackStrategy.lowerQualityOrHigherThan(Quality.SD));\r\n    \r\n    Recorder.Builder recorderBuilder = new Recorder.Builder()\r\n                            .setExecutor(getExecutor())\r\n                            .setQualitySelector(qualitySelector)\r\n                            .setTargetVideoEncodingBitRate(50000000);\r\n    \r\n    mRecorder = recorderBuilder.build();\r\n    videoCapture = VideoCapture.withOutput(mRecorder);\r\n    \r\n    UseCaseGroup useCaseGroup = new UseCaseGroup.Builder()\r\n                                .addUseCase(videoCapture)\r\n                                .build();\r\n    \r\n    // Attach use cases to the camera with the same lifecycle owner\r\n    Camera camera = cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, useCaseGroup);","title":"I cannot record video at 60fps using camerax api","body":"<p>Using CameraX or Camera2 I can not record videos at 60fps in My SamsungS10 which actually supports recording UHD videos with 60fps using Samsung Camera App. I can only record at 30fps!</p>\n<p>Here is my code</p>\n<pre><code>QualitySelector qualitySelector = QualitySelector.fromOrderedList(\n                        Arrays.asList(Quality.UHD, Quality.FHD, Quality.HD, Quality.SD),\n                        FallbackStrategy.lowerQualityOrHigherThan(Quality.SD));\n\nRecorder.Builder recorderBuilder = new Recorder.Builder()\n                        .setExecutor(getExecutor())\n                        .setQualitySelector(qualitySelector)\n                        .setTargetVideoEncodingBitRate(50000000);\n\nmRecorder = recorderBuilder.build();\nvideoCapture = VideoCapture.withOutput(mRecorder);\n\nUseCaseGroup useCaseGroup = new UseCaseGroup.Builder()\n                            .addUseCase(videoCapture)\n                            .build();\n\n// Attach use cases to the camera with the same lifecycle owner\nCamera camera = cameraProvider.bindToLifecycle((LifecycleOwner) this, cameraSelector, useCaseGroup);\n</code></pre>\n"},{"tags":["java","maven","selenium-webdriver"],"comments":[{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1676234865,"post_id":75429992,"comment_id":133092064,"body_markdown":"You could allow others to read the settings.xml file.","body":"You could allow others to read the settings.xml file."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676275252,"post_id":75429992,"comment_id":133097097,"body_markdown":"In Maven `security.xml` does not exist. Only `settings-security.xml`.  `https://maven.apache.org/guides/mini/guide-encryption.html It&#39;s not an extra mile typically you configure maven to encrypt passwords/keys for accessing remote repos etc. In Corporate environment you don&#39;t store credentials in `settings.xml` that is done via CI/CD tools like Jenkins etc. So most of the time on CI/Cd the `settings-security.xml` is not used.","body":"In Maven <code>security.xml</code> does not exist. Only <code>settings-security.xml</code>.  <code>https:&#47;&#47;maven.apache.org&#47;guides&#47;mini&#47;guide-encryption.html It&#39;s not an extra mile typically you configure maven to encrypt passwords&#47;keys for accessing remote repos etc. In Corporate environment you don&#39;t store credentials in </code>settings.xml` that is done via CI/CD tools like Jenkins etc. So most of the time on CI/Cd the <code>settings-security.xml</code> is not used."},{"owner":{"account_id":13468337,"reputation":107,"user_id":9717780,"display_name":"Partha"},"score":0,"creation_date":1676411193,"post_id":75429992,"comment_id":133131097,"body_markdown":"My bad, instead of settings.xml I mistyped as security.xml which i corrected now @khmarbaise, thank you for pointing out. Settings.xml will have repository details, mirror details, server username, password, etc.. I agree, then what is the use of settings-security.xml ? Is it just there to encrypt the password present in settings.xml ? If yes, I have seen in few companies that they just used settings.xml why not the settings-security ?","body":"My bad, instead of settings.xml I mistyped as security.xml which i corrected now @khmarbaise, thank you for pointing out. Settings.xml will have repository details, mirror details, server username, password, etc.. I agree, then what is the use of settings-security.xml ? Is it just there to encrypt the password present in settings.xml ? If yes, I have seen in few companies that they just used settings.xml why not the settings-security ?"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1676455452,"post_id":75429992,"comment_id":133138407,"body_markdown":"If settings.xml is used only does mean no encryption.. only local storage (home directory of the user or via ci/cd config file provider) ...","body":"If settings.xml is used only does mean no encryption.. only local storage (home directory of the user or via ci/cd config file provider) ..."},{"owner":{"account_id":13468337,"reputation":107,"user_id":9717780,"display_name":"Partha"},"score":0,"creation_date":1676553751,"post_id":75429992,"comment_id":133162698,"body_markdown":"So you mean to say when only Settings.xml  used, the password in that should be raw and not encrypted ?","body":"So you mean to say when only Settings.xml  used, the password in that should be raw and not encrypted ?"}],"owner":{"account_id":13468337,"reputation":107,"user_id":9717780,"display_name":"Partha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676410686,"creation_date":1676233806,"question_id":75429992,"body_markdown":"Can someone help me to understand when to use &quot;settings-security.xml&quot; and when not in Maven projects ?\r\nI Know it stores encrypted master password which then used to decrypt password in &quot;Settings.xml&quot; file but not sure why few companies(I worked for) use only settings.xml and few uses both.\r\nAnyhow &quot;Settings.xml&quot; going to be stored in user directory under .m2, so no one else can access it except the user then why to go extra mile for &quot;settings-security.xml&quot;\r\n\r\nI searched in Stack overflow under maven section, Referred Maven official site, Googled a lot. Everywhere I see the what does Setting-Security xml does and what settings.xml does but I still have doubt how few big companies manages just with &quot;settings.xml&quot; but not &quot;settings-security.xml&quot;","title":"When to use &quot;settings-security.xml&quot; and when not in Maven","body":"<p>Can someone help me to understand when to use &quot;settings-security.xml&quot; and when not in Maven projects ?\nI Know it stores encrypted master password which then used to decrypt password in &quot;Settings.xml&quot; file but not sure why few companies(I worked for) use only settings.xml and few uses both.\nAnyhow &quot;Settings.xml&quot; going to be stored in user directory under .m2, so no one else can access it except the user then why to go extra mile for &quot;settings-security.xml&quot;</p>\n<p>I searched in Stack overflow under maven section, Referred Maven official site, Googled a lot. Everywhere I see the what does Setting-Security xml does and what settings.xml does but I still have doubt how few big companies manages just with &quot;settings.xml&quot; but not &quot;settings-security.xml&quot;</p>\n"},{"tags":["java","spring-mvc","callback"],"answers":[{"comments":[{"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"score":6,"creation_date":1381932241,"post_id":19405498,"comment_id":28764039,"body_markdown":"This is a fine example, I would like to add the following: a callback method can be any method in any class; a reference to an instance of the class is maintained in some other class, and, when some event happens in that other class, it calls the method from the first class.  The only thing that makes it a callback as distinguished from any other method call is the idea of handing a reference to an object for the purpose of having that object invoke a method on it later, usually on some event.","body":"This is a fine example, I would like to add the following: a callback method can be any method in any class; a reference to an instance of the class is maintained in some other class, and, when some event happens in that other class, it calls the method from the first class.  The only thing that makes it a callback as distinguished from any other method call is the idea of handing a reference to an object for the purpose of having that object invoke a method on it later, usually on some event."},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":0,"creation_date":1381932584,"post_id":19405498,"comment_id":28764248,"body_markdown":"Sorry I am new to java. Could this be done without an anonymous class? Does it have to be Callback interface? Can you provide a different example that doesn&#39;t use Callback interface if there is a way to do it without using this Callback interface?","body":"Sorry I am new to java. Could this be done without an anonymous class? Does it have to be Callback interface? Can you provide a different example that doesn&#39;t use Callback interface if there is a way to do it without using this Callback interface?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1381932640,"post_id":19405498,"comment_id":28764282,"body_markdown":"@ImtiazAhmad No, the anonymous class is to make the example shorter. You could create a `public class MyCallbackImpl implements Callback`.","body":"@ImtiazAhmad No, the anonymous class is to make the example shorter. You could create a <code>public class MyCallbackImpl implements Callback</code>."},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1381932700,"post_id":19405498,"comment_id":28764329,"body_markdown":"@ImtiazAhmad Without the callback, the code inside the anonymous class would need to be called directly in the `doWork()` method.","body":"@ImtiazAhmad Without the callback, the code inside the anonymous class would need to be called directly in the <code>doWork()</code> method."},{"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"score":0,"creation_date":1381933582,"post_id":19405498,"comment_id":28764946,"body_markdown":"How would it be called directly in doWork() method?","body":"How would it be called directly in doWork() method?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1381933649,"post_id":19405498,"comment_id":28764998,"body_markdown":"@ImtiazAhmad The developer would have to copy/paste the code if that was possible for them.","body":"@ImtiazAhmad The developer would have to copy/paste the code if that was possible for them."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":6,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1381932466,"creation_date":1381932030,"answer_id":19405498,"question_id":19405421,"body_markdown":"A callback is a piece of code that you pass as an argument to some other code so that it executes it. Since Java doesn&#39;t yet support function pointers, they are implemented as Command objects. Something like\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) throws  Exception {\r\n    \t\tnew Test().doWork(new Callback() { // implementing class\t\t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void call() {\r\n    \t\t\t\tSystem.out.println(&quot;callback called&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \tpublic void doWork(Callback callback) {\r\n    \t\tSystem.out.println(&quot;doing work&quot;);\r\n    \t\tcallback.call();\r\n    \t}\r\n    \t\r\n    \tpublic interface Callback {\r\n    \t\tvoid call();\r\n    \t}\r\n    }\r\n\r\nA callback will usually hold reference to some state to actually be useful. \r\n\r\n**By making the callback implementation have all the dependencies to your code, you gain indirection between your code and the code that is executing the callback.**\r\n\r\n","title":"What is a callback method in Java? (Term seems to be used loosely)","body":"<p>A callback is a piece of code that you pass as an argument to some other code so that it executes it. Since Java doesn't yet support function pointers, they are implemented as Command objects. Something like</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) throws  Exception {\n        new Test().doWork(new Callback() { // implementing class            \n            @Override\n            public void call() {\n                System.out.println(\"callback called\");\n            }\n        });\n    }\n\n    public void doWork(Callback callback) {\n        System.out.println(\"doing work\");\n        callback.call();\n    }\n\n    public interface Callback {\n        void call();\n    }\n}\n</code></pre>\n\n<p>A callback will usually hold reference to some state to actually be useful. </p>\n\n<p><strong>By making the callback implementation have all the dependencies to your code, you gain indirection between your code and the code that is executing the callback.</strong></p>\n"},{"tags":[],"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1381951098,"creation_date":1381932060,"answer_id":19405510,"question_id":19405421,"body_markdown":"A callback method in java is a method that gets called when an event (call it `E`) occurs. Usually you can implement that by passing an implementation of a certain interface to the system that is responsible for triggering the event `E` (see example 1). \r\n\r\nAlso in bigger and more complex systems you simply can annotate a method and the system will identify all annotated methods and will call them when the event occurs  (see example 2). Of course the system defines what parameters the method should receive and other constraints.\r\n\r\nExample 1:\r\n\r\n    public interface Callback {\r\n        //parameters can be of any types, depending on the event defined\r\n        void callbackMethod(String aParameter);\r\n    }\r\n\r\n\r\n    public class CallbackImpl implements Callback {\r\n        void callbackMethod(String aParameter) {\r\n         //here you do your logic with the received paratemers\r\n         //System.out.println(&quot;Parameter received: &quot; + aParameter);\r\n\r\n        }\r\n    }\r\n\r\n    //.... and then somewhere you have to tell the system to add the callback method\r\n    //e.g. systemInstance.addCallback(new CallbackImpl());\r\n\r\nExample 2:\r\n\r\n    //by annotating a method with this annotation, the system will know which method it should call. \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    public @interface CallbackAnnotation {}\r\n\r\n\r\n    public class AClass {\r\n\r\n        @CallbackAnnotation\r\n        void callbackMethod(String aParameter) {\r\n         //here you do your logic with the received paratemers\r\n         //System.out.println(&quot;Parameter received: &quot; + aParameter);\r\n\r\n        }\r\n    }\r\n\r\n    //.... and then somewhere you have to tell the system to add the callback class\r\n    //and the system will create an instance of the callback class\r\n    //e.g. systemInstance.addCallbackClass(AClass.class);","title":"What is a callback method in Java? (Term seems to be used loosely)","body":"<p>A callback method in java is a method that gets called when an event (call it <code>E</code>) occurs. Usually you can implement that by passing an implementation of a certain interface to the system that is responsible for triggering the event <code>E</code> (see example 1). </p>\n\n<p>Also in bigger and more complex systems you simply can annotate a method and the system will identify all annotated methods and will call them when the event occurs  (see example 2). Of course the system defines what parameters the method should receive and other constraints.</p>\n\n<p>Example 1:</p>\n\n<pre><code>public interface Callback {\n    //parameters can be of any types, depending on the event defined\n    void callbackMethod(String aParameter);\n}\n\n\npublic class CallbackImpl implements Callback {\n    void callbackMethod(String aParameter) {\n     //here you do your logic with the received paratemers\n     //System.out.println(\"Parameter received: \" + aParameter);\n\n    }\n}\n\n//.... and then somewhere you have to tell the system to add the callback method\n//e.g. systemInstance.addCallback(new CallbackImpl());\n</code></pre>\n\n<p>Example 2:</p>\n\n<pre><code>//by annotating a method with this annotation, the system will know which method it should call. \n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\npublic @interface CallbackAnnotation {}\n\n\npublic class AClass {\n\n    @CallbackAnnotation\n    void callbackMethod(String aParameter) {\n     //here you do your logic with the received paratemers\n     //System.out.println(\"Parameter received: \" + aParameter);\n\n    }\n}\n\n//.... and then somewhere you have to tell the system to add the callback class\n//and the system will create an instance of the callback class\n//e.g. systemInstance.addCallbackClass(AClass.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14796356,"reputation":39,"user_id":10685887,"display_name":"Mayank Agarwal"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1542817815,"creation_date":1542805487,"answer_id":53412691,"question_id":19405421,"body_markdown":"In simple terms, callback mechanism refers to calling a function with another function as an argument. In languages like C,C++ this is done by passing function pointers as arguments but java doesn&#39;t have the concept of pointers. The workaround is interfaces. We pass reference to interfaces instead of pointers. Your understanding will be crystal clear after understanding the code below.\r\nTo also show the real world applications, imagine purchasing a mouse and a mouse pad. The mouse pad price is fixed but mouse price differs by brand.\r\n\r\n    interface mouse\r\n    {\r\n    \tdouble mousePrice();\r\n    }\r\n    class BrandA implements mouse\r\n    {\r\n    \tpublic double mousePrice()\t\t\t//note that public access modifier is needed as all methods of interface are public are by default and when you override them\r\n    \t//you cannot use any access modifier more restrictive\r\n    \t{\r\n    \t\treturn 100;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class BrandB implements mouse\r\n    {\r\n    \tpublic double mousePrice()\r\n    \t{\r\n    \t\treturn 200;\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Simple\r\n    {\r\n    \tstatic void total(mouse t)\r\n    \t{\r\n    \t\tdouble mousepad = 20;\r\n    \t\tdouble mousep = t.mousePrice();\r\n    \t\tSystem.out.println(mousepad + mousep);\r\n    \t}\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tmouse ob = new BrandA();\t\t//upcasting. \r\n    \t\ttotal(ob);\r\n    \t}\r\n    }\r\n","title":"What is a callback method in Java? (Term seems to be used loosely)","body":"<p>In simple terms, callback mechanism refers to calling a function with another function as an argument. In languages like C,C++ this is done by passing function pointers as arguments but java doesn't have the concept of pointers. The workaround is interfaces. We pass reference to interfaces instead of pointers. Your understanding will be crystal clear after understanding the code below.\nTo also show the real world applications, imagine purchasing a mouse and a mouse pad. The mouse pad price is fixed but mouse price differs by brand.</p>\n\n<pre><code>interface mouse\n{\n    double mousePrice();\n}\nclass BrandA implements mouse\n{\n    public double mousePrice()          //note that public access modifier is needed as all methods of interface are public are by default and when you override them\n    //you cannot use any access modifier more restrictive\n    {\n        return 100;\n    }\n\n}\n\nclass BrandB implements mouse\n{\n    public double mousePrice()\n    {\n        return 200;\n    }\n\n}\n\nclass Simple\n{\n    static void total(mouse t)\n    {\n        double mousepad = 20;\n        double mousep = t.mousePrice();\n        System.out.println(mousepad + mousep);\n    }\n    public static void main(String args[])\n    {\n        mouse ob = new BrandA();        //upcasting. \n        total(ob);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1630997,"reputation":357,"user_id":1505535,"accept_rate":75,"display_name":"VinKrish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578417096,"creation_date":1578417096,"answer_id":59633046,"question_id":19405421,"body_markdown":"@Sotirios Delimanolis answer is good but I wanted to give clear example which explains callbacks in a way how listeners works - following approach is greatly adopted by android library.\r\n\r\n    class RemoteClass {\r\n\r\n\t    private OnChangeListener mOnChangeListener;\r\n\r\n\t    void makeSomeChanges() {\r\n\t\t    /*\r\n            .. do something here and call callback\r\n            */\r\n\t\t    mOnChangeListener.onChanged(this, 1);\r\n\t    }\r\n\t\r\n\t    public void setOnChangeListener(OnChangeListener listener) {\r\n            mOnChangeListener = listener;\r\n        }\r\n\t\r\n\t    public interface OnChangeListener {\r\n            public void onChanged(RemoteClass remoteClass, int test);\r\n        }\r\n    }\r\n\r\nThere is a class built my someone, which goes by name `RemoteClass` and tells your class to reference the callback by passing implementation of `OnChangeListener`  interface to `setOnChangeListener` method.\r\n\r\n    class Test {\r\n\t\r\n\t    public static void main(String[] args) {\t\r\n\t\t    RemoteClass obj = new RemoteClass();\r\n\t\t    obj.setOnChangeListener(demoChanged);\r\n\t\t    obj.makeSomeChanges();\r\n\t    }\r\n\t\r\n\t    private static RemoteClass.OnChangeListener demoChanged = new RemoteClass.OnChangeListener() {\r\n            @Override\r\n            public void onChanged(RemoteClass remoteClass, int incoming) {\r\n                switch (incoming) {\r\n                    case 1:\r\n                \t    System.out.println(&quot;I will take appropriate action!&quot;);\r\n                        break;\r\n                    default:\r\n                        break;\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nNow your class has finished doing its task and `RemoteClass` does its work and upon calling `makeSomeChanges` whenever necessary results in `onChanged` method execution using `mOnChangeListener` reference.","title":"What is a callback method in Java? (Term seems to be used loosely)","body":"<p>@Sotirios Delimanolis answer is good but I wanted to give clear example which explains callbacks in a way how listeners works - following approach is greatly adopted by android library.</p>\n\n<pre><code>class RemoteClass {\n\n    private OnChangeListener mOnChangeListener;\n\n    void makeSomeChanges() {\n        /*\n        .. do something here and call callback\n        */\n        mOnChangeListener.onChanged(this, 1);\n    }\n\n    public void setOnChangeListener(OnChangeListener listener) {\n        mOnChangeListener = listener;\n    }\n\n    public interface OnChangeListener {\n        public void onChanged(RemoteClass remoteClass, int test);\n    }\n}\n</code></pre>\n\n<p>There is a class built my someone, which goes by name <code>RemoteClass</code> and tells your class to reference the callback by passing implementation of <code>OnChangeListener</code>  interface to <code>setOnChangeListener</code> method.</p>\n\n<pre><code>class Test {\n\n    public static void main(String[] args) {    \n        RemoteClass obj = new RemoteClass();\n        obj.setOnChangeListener(demoChanged);\n        obj.makeSomeChanges();\n    }\n\n    private static RemoteClass.OnChangeListener demoChanged = new RemoteClass.OnChangeListener() {\n        @Override\n        public void onChanged(RemoteClass remoteClass, int incoming) {\n            switch (incoming) {\n                case 1:\n                    System.out.println(\"I will take appropriate action!\");\n                    break;\n                default:\n                    break;\n            }\n        }\n    };\n}\n</code></pre>\n\n<p>Now your class has finished doing its task and <code>RemoteClass</code> does its work and upon calling <code>makeSomeChanges</code> whenever necessary results in <code>onChanged</code> method execution using <code>mOnChangeListener</code> reference.</p>\n"},{"comments":[{"owner":{"account_id":8347798,"reputation":131,"user_id":6270984,"display_name":"Gaganam Krishna"},"score":0,"creation_date":1650037255,"post_id":65913606,"comment_id":127029072,"body_markdown":"for better uderstading about the callback mechanism, see ASYNCHRONOUS communication in JavaScript or NodeJs. CallBack mechanism best suitable for some of IO bound operations   reference : https://www.youtube.com/watch?v=8aGhZQkoFbQ , once we call the callback function, we should give promise to the caller saying that , will be received either fail or success from my callback funtion.","body":"for better uderstading about the callback mechanism, see ASYNCHRONOUS communication in JavaScript or NodeJs. CallBack mechanism best suitable for some of IO bound operations   reference : <a href=\"https://www.youtube.com/watch?v=8aGhZQkoFbQ\" rel=\"nofollow noreferrer\">youtube.com/watch?v=8aGhZQkoFbQ</a> , once we call the callback function, we should give promise to the caller saying that , will be received either fail or success from my callback funtion."}],"tags":[],"owner":{"account_id":8347798,"reputation":131,"user_id":6270984,"display_name":"Gaganam Krishna"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1611727017,"creation_date":1611727017,"answer_id":65913606,"question_id":19405421,"body_markdown":"By using the callback mechanism we will get our own method implementation calling back only. or a particular implementation when the event has been clicked. \r\nIt will be used mostly in EventHandlers in java.\r\n\r\n~~~~~~~\r\n\r\npackage com.callbackExample;\r\n\r\npublic abstract interface SomeEventHandler {\r\n\tpublic abstract void hadleClick();//by default abstract\r\n\r\n}\r\n\r\npackage com.callbackExample;\r\n\r\npublic class SomeEventImplementation implements SomeEventHandler {\r\n\r\n\t@Override\r\n\tpublic void hadleClick() {\r\n\t\tSystem.out.println(&quot;Click Handler : clicked&quot;);\r\n\t}\r\n\r\n}\r\n\r\npackage com.callbackExample;\r\n\r\npublic class Button {\r\n\tpublic void onClick(SomeEventHandler clickEventHandler) {\r\n\t\tclickEventHandler.hadleClick();\r\n\t}\r\n\r\n}\r\npackage com.callbackExample;\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tButton button=new Button();\r\n\t\tSomeEventImplementation someEventImplementation=new SomeEventImplementation();\r\n\t\tbutton.onClick(someEventImplementation);\r\n\t\t\r\n\t\tButton button2=new Button();\r\n\t\tbutton2.onClick(new SomeEventHandler() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void hadleClick() {\r\n\t\t\t\tSystem.out.println(&quot;button2 : my own implementation..&quot;);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n}\r\n\r\n-------------------------------------------\r\nOUTPUT  : Click Handler : clicked\r\n          button2 : my own implementation..\r\n-------------------------------------------\r\n~~~~~~~","title":"What is a callback method in Java? (Term seems to be used loosely)","body":"<p>By using the callback mechanism we will get our own method implementation calling back only. or a particular implementation when the event has been clicked.\nIt will be used mostly in EventHandlers in java.</p>\n<pre><code>\npackage com.callbackExample;\n\npublic abstract interface SomeEventHandler {\n    public abstract void hadleClick();//by default abstract\n\n}\n\npackage com.callbackExample;\n\npublic class SomeEventImplementation implements SomeEventHandler {\n\n    @Override\n    public void hadleClick() {\n        System.out.println(&quot;Click Handler : clicked&quot;);\n    }\n\n}\n\npackage com.callbackExample;\n\npublic class Button {\n    public void onClick(SomeEventHandler clickEventHandler) {\n        clickEventHandler.hadleClick();\n    }\n\n}\npackage com.callbackExample;\n\npublic class Test {\n    public static void main(String[] args) {\n        Button button=new Button();\n        SomeEventImplementation someEventImplementation=new SomeEventImplementation();\n        button.onClick(someEventImplementation);\n        \n        Button button2=new Button();\n        button2.onClick(new SomeEventHandler() {\n            \n            @Override\n            public void hadleClick() {\n                System.out.println(&quot;button2 : my own implementation..&quot;);\n            }\n        });\n    }\n\n}\n\n-------------------------------------------\nOUTPUT  : Click Handler : clicked\n          button2 : my own implementation..\n-------------------------------------------\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7003676,"reputation":507,"user_id":5368856,"display_name":"Kasthuri Shravankumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676410531,"creation_date":1676410531,"answer_id":75453488,"question_id":19405421,"body_markdown":"Calling the onSuccess or onFailure callback methods, based on the status doing work.\r\n\r\n\r\n    package mains.geeks;\r\n    \r\n    public class Test {\r\n        public static void main(String[] args) throws  Exception {\r\n    \r\n            Test testObj = new Test();\r\n    \r\n            testObj.doWork(new Callback() {\r\n                @Override\r\n                public void onSucess() {\r\n                    System.out.println(&quot;success callback called&quot;);\r\n                }\r\n                @Override\r\n                public void onFailure() {\r\n                    System.out.println(&quot;onFailure callback called&quot;);\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void doWork(Callback callback) {\r\n            System.out.println(&quot;doing work&quot;);\r\n            if (false){\r\n                callback.onSucess();\r\n            } else {\r\n                callback.onFailure();\r\n            }\r\n        }\r\n    \r\n        public interface Callback {\r\n            void onSucess();\r\n            void onFailure();\r\n        }\r\n    }\r\n\r\n","title":"What is a callback method in Java? (Term seems to be used loosely)","body":"<p>Calling the onSuccess or onFailure callback methods, based on the status doing work.</p>\n<pre><code>package mains.geeks;\n\npublic class Test {\n    public static void main(String[] args) throws  Exception {\n\n        Test testObj = new Test();\n\n        testObj.doWork(new Callback() {\n            @Override\n            public void onSucess() {\n                System.out.println(&quot;success callback called&quot;);\n            }\n            @Override\n            public void onFailure() {\n                System.out.println(&quot;onFailure callback called&quot;);\n            }\n        });\n    }\n\n    public void doWork(Callback callback) {\n        System.out.println(&quot;doing work&quot;);\n        if (false){\n            callback.onSucess();\n        } else {\n            callback.onFailure();\n        }\n    }\n\n    public interface Callback {\n        void onSucess();\n        void onFailure();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1553656,"reputation":8158,"user_id":1445444,"accept_rate":81,"display_name":"Horse Voice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72790,"favorite_count":0,"down_vote_count":1,"up_vote_count":62,"accepted_answer_id":19405498,"answer_count":6,"score":61,"last_activity_date":1676410531,"creation_date":1381931828,"question_id":19405421,"body_markdown":"I don&#39;t understand what a callback method is and I have heard people use that term very loosely. In the Java world, what is a callback method? If someone could provide some example code of a Java callback method with an explanation, it would be a great help in my Java learning journey.\r\n\r\n","title":"What is a callback method in Java? (Term seems to be used loosely)","body":"<p>I don't understand what a callback method is and I have heard people use that term very loosely. In the Java world, what is a callback method? If someone could provide some example code of a Java callback method with an explanation, it would be a great help in my Java learning journey.</p>\n"},{"tags":["java","python","bitset"],"comments":[{"owner":{"account_id":17561,"reputation":6396,"user_id":39413,"display_name":"Sean McSomething"},"score":5,"creation_date":1287184690,"post_id":3946086,"comment_id":4215010,"body_markdown":"For non-Java programmers, what&#39;s a BitSet?  What are you trying to accomplish?  Even if no equivalent exists, there might be a good, pythonic way of solving your problem.","body":"For non-Java programmers, what&#39;s a BitSet?  What are you trying to accomplish?  Even if no equivalent exists, there might be a good, pythonic way of solving your problem."},{"owner":{"account_id":103531,"reputation":16446,"user_id":277256,"accept_rate":91,"display_name":"Mantas Vidutis"},"score":0,"creation_date":1287197064,"post_id":3946086,"comment_id":4215901,"body_markdown":"Basically a BitSet is a string of bits with bitwise operations that can be applied to them. The set can also be extended by appending bits or bitsets to the end of the current bitset","body":"Basically a BitSet is a string of bits with bitwise operations that can be applied to them. The set can also be extended by appending bits or bitsets to the end of the current bitset"}],"answers":[{"tags":[],"owner":{"account_id":46333,"reputation":56186,"user_id":136829,"display_name":"Glenn Maynard"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1287176565,"creation_date":1287176565,"answer_id":3946103,"question_id":3946086,"body_markdown":"There&#39;s nothing in the standard library.  Try:\r\n\r\nhttp://pypi.python.org/pypi/bitarray\r\n","title":"Python equivalent to Java&#39;s BitSet","body":"<p>There's nothing in the standard library.  Try:</p>\n\n<p><a href=\"http://pypi.python.org/pypi/bitarray\" rel=\"noreferrer\">http://pypi.python.org/pypi/bitarray</a></p>\n"},{"tags":[],"owner":{"account_id":117125,"reputation":13617,"user_id":306855,"accept_rate":73,"display_name":"Emil"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1409820733,"creation_date":1287176916,"answer_id":3946145,"question_id":3946086,"body_markdown":"Have a look at this [implementation][1] in Python 3.\r\n\r\nThe implementation basically makes use of the built-in `int` type, which is arbitrary precision integer type in Python 3 (where `long` is the Python 2 equivalent).\r\n\r\n    #! /usr/bin/env python3\r\n    \r\n    &quot;&quot;&quot;\r\n    bitset.py\r\n    \r\n    Written by Geremy Condra\r\n    \r\n    Licensed under GPLv3\r\n    \r\n    Released 3 May 2009\r\n    \r\n    This module provides a simple bitset implementation\r\n    for Python.\r\n    &quot;&quot;&quot;\r\n    \r\n    from collections import Sequence\r\n    import math\r\n    \r\n    class Bitset(Sequence):\r\n    \t&quot;&quot;&quot;A very simple bitset implementation for Python.\r\n    \r\n    \tNote that, like with normal numbers, the leftmost\r\n    \tindex is the MSB, and like normal sequences, that\r\n    \tis 0.\r\n    \r\n    \tUsage:\r\n    \t\t&gt;&gt;&gt; b = Bitset(5)\r\n    \t\t&gt;&gt;&gt; b\r\n    \t\tBitset(101)\r\n    \t\t&gt;&gt;&gt; b[:]\r\n    \t\t[True, False, True]\r\n    \t\t&gt;&gt;&gt; b[0] = False\r\n    \t\t&gt;&gt;&gt; b\r\n    \t\tBitset(001)\r\n    \t\t&gt;&gt;&gt; b &lt;&lt; 1\r\n    \t\tBitset(010)\r\n    \t\t&gt;&gt;&gt; b &gt;&gt; 1\r\n    \t\tBitset(000)\r\n    \t\t&gt;&gt;&gt; b &amp; 1\r\n    \t\tBitset(001)\r\n    \t\t&gt;&gt;&gt; b | 2\r\n    \t\tBitset(011)\r\n    \t\t&gt;&gt;&gt; b ^ 6\r\n    \t\tBitset(111)\r\n    \t\t&gt;&gt;&gt; ~b\r\n    \t\tBitset(110)\r\n    \t&quot;&quot;&quot;\r\n    \r\n    \tvalue = 0\r\n    \tlength = 0\r\n    \r\n    \t@classmethod\r\n    \tdef from_sequence(cls, seq):\r\n    \t\t&quot;&quot;&quot;Iterates over the sequence to produce a new Bitset.\r\n    \r\n    \t\tAs in integers, the 0 position represents the LSB.\r\n    \t\t&quot;&quot;&quot;\r\n    \t\tn = 0\r\n    \t\tfor index, value in enumerate(reversed(seq)):\r\n    \t\t\tn += 2**index * bool(int(value))\r\n    \t\tb = Bitset(n)\r\n    \t\treturn b\r\n    \r\n    \tdef __init__(self, value=0, length=0):\r\n    \t\t&quot;&quot;&quot;Creates a Bitset with the given integer value.&quot;&quot;&quot;\r\n    \t\tself.value = value\r\n    \t\ttry: self.length = length or math.floor(math.log(value, 2)) + 1\r\n    \t\texcept Exception: self.length = 0\r\n    \r\n    \tdef __and__(self, other):\r\n    \t\tb = Bitset(self.value &amp; int(other))\r\n    \t\tb.length = max((self.length, b.length))\r\n    \t\treturn b\r\n    \r\n    \tdef __or__(self, other):\r\n    \t\tb = Bitset(self.value | int(other))\r\n    \t\tb.length = max((self.length, b.length))\r\n    \t\treturn b\r\n    \r\n    \tdef __invert__(self):\r\n    \t\tb = Bitset(~self.value)\r\n    \t\tb.length = max((self.length, b.length))\r\n    \t\treturn b\r\n    \r\n    \tdef __xor__(self, value):\r\n    \t\tb = Bitset(self.value ^ int(value))\r\n    \t\tb.length = max((self.length, b.length))\r\n    \t\treturn b\r\n    \r\n    \tdef __lshift__(self, value):\r\n    \t\tb = Bitset(self.value &lt;&lt; int(value))\r\n    \t\tb.length = max((self.length, b.length))\r\n    \t\treturn b\r\n    \r\n    \tdef __rshift__(self, value):\r\n    \t\tb = Bitset(self.value &gt;&gt; int(value))\r\n    \t\tb.length = max((self.length, b.length))\r\n    \t\treturn b\r\n    \r\n    \tdef __eq__(self, other):\r\n    \t\ttry:\r\n    \t\t\treturn self.value == other.value\r\n    \t\texcept Exception:\r\n    \t\t\treturn self.value == other\r\n    \r\n    \tdef __int__(self):\r\n    \t\treturn self.value\r\n    \r\n    \tdef __str__(self):\r\n    \t\ts = &quot;&quot;\r\n    \t\tfor i in self[:]:\r\n    \t\t\ts += &quot;1&quot; if i else &quot;0&quot;\r\n    \t\treturn s\r\n    \r\n    \tdef __repr__(self):\r\n    \t\treturn &quot;Bitset(%s)&quot; % str(self)\r\n    \r\n    \tdef __getitem__(self, s):\r\n    \t\t&quot;&quot;&quot;Gets the specified position.\r\n    \r\n    \t\tLike normal integers, 0 represents the MSB.\r\n    \t\t&quot;&quot;&quot;\r\n    \t\ttry:\r\n    \t\t\tstart, stop, step = s.indices(len(self))\r\n    \t\t\tresults = []\r\n    \t\t\tfor position in range(start, stop, step):\r\n    \t\t\t\tpos = len(self) - position - 1\r\n    \t\t\t\tresults.append(bool(self.value &amp; (1 &lt;&lt; pos)))\r\n    \t\t\treturn results\r\n    \t\texcept:\r\n    \t\t\tpos = len(self) - s - 1\r\n    \t\t\treturn bool(self.value &amp; (1 &lt;&lt; pos))\r\n     \r\n    \tdef __setitem__(self, s, value):\r\n    \t\t&quot;&quot;&quot;Sets the specified position/s to value.\r\n    \r\n    \t\tLike normal integers, 0 represents the MSB.\r\n    \t\t&quot;&quot;&quot;\r\n    \t\ttry:\r\n    \t\t\tstart, stop, step = s.indices(len(self))\r\n    \t\t\tfor position in range(start, stop, step):\r\n    \t\t\t\tpos = len(self) - position - 1\r\n    \t\t\t\tif value: self.value |= (1 &lt;&lt; pos)\r\n    \t\t\t\telse: self.value &amp;= ~(1 &lt;&lt; pos)\r\n    \t\t\tmaximum_position = max((start + 1, stop, len(self)))\r\n    \t\t\tself.length = maximum_position\r\n    \t\texcept:\r\n    \t\t\tpos = len(self) - s - 1\r\n    \t\t\tif value: self.value |= (1 &lt;&lt; pos)\r\n    \t\t\telse: self.value &amp;= ~(1 &lt;&lt; pos)\r\n    \t\t\tif len(self) &lt; pos: self.length = pos\r\n    \t\treturn self\r\n    \r\n    \tdef __iter__(self):\r\n    \t\t&quot;&quot;&quot;Iterates over the values in the bitset.&quot;&quot;&quot;\r\n    \t\tfor i in self[:]:\r\n    \t\t\tyield i\r\n    \r\n    \tdef __len__(self):\r\n    \t\t&quot;&quot;&quot;Returns the length of the bitset.&quot;&quot;&quot;\r\n    \t\treturn self.length\r\n\r\n  [1]: http://code.activestate.com/recipes/576738-bitset/","title":"Python equivalent to Java&#39;s BitSet","body":"<p>Have a look at this <a href=\"http://code.activestate.com/recipes/576738-bitset/\" rel=\"noreferrer\">implementation</a> in Python 3.</p>\n\n<p>The implementation basically makes use of the built-in <code>int</code> type, which is arbitrary precision integer type in Python 3 (where <code>long</code> is the Python 2 equivalent).</p>\n\n<pre><code>#! /usr/bin/env python3\n\n\"\"\"\nbitset.py\n\nWritten by Geremy Condra\n\nLicensed under GPLv3\n\nReleased 3 May 2009\n\nThis module provides a simple bitset implementation\nfor Python.\n\"\"\"\n\nfrom collections import Sequence\nimport math\n\nclass Bitset(Sequence):\n    \"\"\"A very simple bitset implementation for Python.\n\n    Note that, like with normal numbers, the leftmost\n    index is the MSB, and like normal sequences, that\n    is 0.\n\n    Usage:\n        &gt;&gt;&gt; b = Bitset(5)\n        &gt;&gt;&gt; b\n        Bitset(101)\n        &gt;&gt;&gt; b[:]\n        [True, False, True]\n        &gt;&gt;&gt; b[0] = False\n        &gt;&gt;&gt; b\n        Bitset(001)\n        &gt;&gt;&gt; b &lt;&lt; 1\n        Bitset(010)\n        &gt;&gt;&gt; b &gt;&gt; 1\n        Bitset(000)\n        &gt;&gt;&gt; b &amp; 1\n        Bitset(001)\n        &gt;&gt;&gt; b | 2\n        Bitset(011)\n        &gt;&gt;&gt; b ^ 6\n        Bitset(111)\n        &gt;&gt;&gt; ~b\n        Bitset(110)\n    \"\"\"\n\n    value = 0\n    length = 0\n\n    @classmethod\n    def from_sequence(cls, seq):\n        \"\"\"Iterates over the sequence to produce a new Bitset.\n\n        As in integers, the 0 position represents the LSB.\n        \"\"\"\n        n = 0\n        for index, value in enumerate(reversed(seq)):\n            n += 2**index * bool(int(value))\n        b = Bitset(n)\n        return b\n\n    def __init__(self, value=0, length=0):\n        \"\"\"Creates a Bitset with the given integer value.\"\"\"\n        self.value = value\n        try: self.length = length or math.floor(math.log(value, 2)) + 1\n        except Exception: self.length = 0\n\n    def __and__(self, other):\n        b = Bitset(self.value &amp; int(other))\n        b.length = max((self.length, b.length))\n        return b\n\n    def __or__(self, other):\n        b = Bitset(self.value | int(other))\n        b.length = max((self.length, b.length))\n        return b\n\n    def __invert__(self):\n        b = Bitset(~self.value)\n        b.length = max((self.length, b.length))\n        return b\n\n    def __xor__(self, value):\n        b = Bitset(self.value ^ int(value))\n        b.length = max((self.length, b.length))\n        return b\n\n    def __lshift__(self, value):\n        b = Bitset(self.value &lt;&lt; int(value))\n        b.length = max((self.length, b.length))\n        return b\n\n    def __rshift__(self, value):\n        b = Bitset(self.value &gt;&gt; int(value))\n        b.length = max((self.length, b.length))\n        return b\n\n    def __eq__(self, other):\n        try:\n            return self.value == other.value\n        except Exception:\n            return self.value == other\n\n    def __int__(self):\n        return self.value\n\n    def __str__(self):\n        s = \"\"\n        for i in self[:]:\n            s += \"1\" if i else \"0\"\n        return s\n\n    def __repr__(self):\n        return \"Bitset(%s)\" % str(self)\n\n    def __getitem__(self, s):\n        \"\"\"Gets the specified position.\n\n        Like normal integers, 0 represents the MSB.\n        \"\"\"\n        try:\n            start, stop, step = s.indices(len(self))\n            results = []\n            for position in range(start, stop, step):\n                pos = len(self) - position - 1\n                results.append(bool(self.value &amp; (1 &lt;&lt; pos)))\n            return results\n        except:\n            pos = len(self) - s - 1\n            return bool(self.value &amp; (1 &lt;&lt; pos))\n\n    def __setitem__(self, s, value):\n        \"\"\"Sets the specified position/s to value.\n\n        Like normal integers, 0 represents the MSB.\n        \"\"\"\n        try:\n            start, stop, step = s.indices(len(self))\n            for position in range(start, stop, step):\n                pos = len(self) - position - 1\n                if value: self.value |= (1 &lt;&lt; pos)\n                else: self.value &amp;= ~(1 &lt;&lt; pos)\n            maximum_position = max((start + 1, stop, len(self)))\n            self.length = maximum_position\n        except:\n            pos = len(self) - s - 1\n            if value: self.value |= (1 &lt;&lt; pos)\n            else: self.value &amp;= ~(1 &lt;&lt; pos)\n            if len(self) &lt; pos: self.length = pos\n        return self\n\n    def __iter__(self):\n        \"\"\"Iterates over the values in the bitset.\"\"\"\n        for i in self[:]:\n            yield i\n\n    def __len__(self):\n        \"\"\"Returns the length of the bitset.\"\"\"\n        return self.length\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31817,"reputation":21555,"user_id":87699,"accept_rate":80,"display_name":"Scott Griffiths"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1287183735,"creation_date":1287183735,"answer_id":3946762,"question_id":3946086,"body_markdown":"You might like to take a look at a module I wrote called [bitstring][1] (full documentation [here][2]), although for simple cases that need to be as fast as possible I&#39;d still recommend [bitarray][3].\r\n\r\nSome similar questions:\r\n\r\nhttps://stackoverflow.com/questions/39663/what-is-the-best-way-to-do-bit-field-manipulation-in-python/\r\n\r\nhttps://stackoverflow.com/questions/142812/does-python-have-a-bitfield-type\r\n\r\nhttps://stackoverflow.com/questions/2450208/python-bitstream-implementations\r\n\r\n\r\n  [1]: http://python-bitstring.googlecode.com\r\n  [2]: http://packages.python.org/bitstring/\r\n  [3]: http://pypi.python.org/pypi/bitarray","title":"Python equivalent to Java&#39;s BitSet","body":"<p>You might like to take a look at a module I wrote called <a href=\"http://python-bitstring.googlecode.com\" rel=\"nofollow noreferrer\">bitstring</a> (full documentation <a href=\"http://packages.python.org/bitstring/\" rel=\"nofollow noreferrer\">here</a>), although for simple cases that need to be as fast as possible I'd still recommend <a href=\"http://pypi.python.org/pypi/bitarray\" rel=\"nofollow noreferrer\">bitarray</a>.</p>\n\n<p>Some similar questions:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/39663/what-is-the-best-way-to-do-bit-field-manipulation-in-python/\">What is the best way to do Bit Field manipulation in Python?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/142812/does-python-have-a-bitfield-type\">Does Python have a bitfield type?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/2450208/python-bitstream-implementations\">Python Bitstream implementations</a></p>\n"},{"comments":[{"owner":{"account_id":13283368,"reputation":105,"user_id":9590231,"display_name":"Zachary HUANG"},"score":1,"creation_date":1635734516,"post_id":60775350,"comment_id":123365897,"body_markdown":"Why is this not recommended in production code? Looks simple and efficient.","body":"Why is this not recommended in production code? Looks simple and efficient."},{"owner":{"account_id":974027,"reputation":3778,"user_id":995896,"display_name":"YvesgereY"},"score":3,"creation_date":1636391700,"post_id":60775350,"comment_id":123538728,"body_markdown":"It might be considered obscure by some, and it&#39;s very typo-sensitive!\nIt would be fine packaged in a class, though.","body":"It might be considered obscure by some, and it&#39;s very typo-sensitive! It would be fine packaged in a class, though."}],"tags":[],"owner":{"account_id":974027,"reputation":3778,"user_id":995896,"display_name":"YvesgereY"},"comment_count":2,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1584711643,"creation_date":1584711643,"answer_id":60775350,"question_id":3946086,"body_markdown":"I wouldn&#39;t recommend that in production code but for competitive programming, interview preparation and fun, one should make themselves familiar with bit fiddling.\r\n\r\n    b = 0          # The empty bitset :)\r\n    b |= 1 &lt;&lt; i    # Set\r\n    b &amp; 1 &lt;&lt; i     # Test\r\n    b &amp;= ~(1 &lt;&lt; i) # Reset\r\n    b ^= 1 &lt;&lt; i    #&#160;Flip i\r\n    b = ~b         # Flip all","title":"Python equivalent to Java&#39;s BitSet","body":"<p>I wouldn't recommend that in production code but for competitive programming, interview preparation and fun, one should make themselves familiar with bit fiddling.</p>\n\n<pre><code>b = 0          # The empty bitset :)\nb |= 1 &lt;&lt; i    # Set\nb &amp; 1 &lt;&lt; i     # Test\nb &amp;= ~(1 &lt;&lt; i) # Reset\nb ^= 1 &lt;&lt; i    # Flip i\nb = ~b         # Flip all\n</code></pre>\n"},{"tags":[],"owner":{"account_id":923928,"reputation":3612,"user_id":955091,"accept_rate":68,"display_name":"Yang Bo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676409416,"creation_date":1676409416,"answer_id":75453358,"question_id":3946086,"body_markdown":"If the number of bits is finite, `enum.IntFlag` can be used as a bit set.\r\n\r\nSee https://docs.python.org/3/howto/enum.html#intflag","title":"Python equivalent to Java&#39;s BitSet","body":"<p>If the number of bits is finite, <code>enum.IntFlag</code> can be used as a bit set.</p>\n<p>See <a href=\"https://docs.python.org/3/howto/enum.html#intflag\" rel=\"nofollow noreferrer\">https://docs.python.org/3/howto/enum.html#intflag</a></p>\n"}],"owner":{"account_id":103531,"reputation":16446,"user_id":277256,"accept_rate":91,"display_name":"Mantas Vidutis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29441,"favorite_count":0,"down_vote_count":1,"up_vote_count":39,"accepted_answer_id":3946103,"answer_count":5,"score":38,"last_activity_date":1676409416,"creation_date":1287176386,"question_id":3946086,"body_markdown":"Is there a Python class or module that implements a structure that is similar to the BitSet? ","title":"Python equivalent to Java&#39;s BitSet","body":"<p>Is there a Python class or module that implements a structure that is similar to the BitSet? </p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","swagger-2.0"],"comments":[{"owner":{"account_id":10993747,"reputation":487,"user_id":8076698,"display_name":"semicolon"},"score":0,"creation_date":1595397382,"post_id":63027688,"comment_id":111456009,"body_markdown":"Hi @Kashyap, can you check https://howtodoinjava.com/swagger2/swagger-spring-mvc-rest-example/","body":"Hi @Kashyap, can you check <a href=\"https://howtodoinjava.com/swagger2/swagger-spring-mvc-rest-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/swagger2/swagger-spring-mvc-rest-example</a>"},{"owner":{"account_id":12246892,"reputation":347,"user_id":8938332,"display_name":"Sudoss"},"score":0,"creation_date":1595398445,"post_id":63027688,"comment_id":111456360,"body_markdown":"Try adding a context path `server.servlet.contextPath=/myservice` in your application.properties and see if it works.","body":"Try adding a context path <code>server.servlet.contextPath=&#47;myservice</code> in your application.properties and see if it works."},{"owner":{"account_id":7591958,"reputation":395,"user_id":5759359,"accept_rate":0,"display_name":"Kashyap"},"score":0,"creation_date":1595399215,"post_id":63027688,"comment_id":111456667,"body_markdown":"Hi LUC1F3R and Sudoss, both the ways suggest adding context path if I add context path to my application all the other APIs URLs will also change which I don&#39;t want.","body":"Hi LUC1F3R and Sudoss, both the ways suggest adding context path if I add context path to my application all the other APIs URLs will also change which I don&#39;t want."},{"owner":{"account_id":12246892,"reputation":347,"user_id":8938332,"display_name":"Sudoss"},"score":0,"creation_date":1595406037,"post_id":63027688,"comment_id":111459760,"body_markdown":"@Kashyap got it...looks like redirect/forward is what you are looking for. Please try the code snippet [here](https://stackoverflow.com/a/63028959/8938332) and let us know if that works for you.","body":"@Kashyap got it...looks like redirect/forward is what you are looking for. Please try the code snippet <a href=\"https://stackoverflow.com/a/63028959/8938332\">here</a> and let us know if that works for you."}],"answers":[{"tags":[],"owner":{"account_id":12246892,"reputation":347,"user_id":8938332,"display_name":"Sudoss"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1595403402,"creation_date":1595402780,"answer_id":63028959,"question_id":63027688,"body_markdown":"Try this redirect method in your controller, I have tested it and it works\r\n\r\n\t@RequestMapping(&quot;/myservice/swagger-ui.html&quot;)\r\n\tpublic String redirectToSwagger() {\r\n\t\treturn &quot;redirect:/swagger-ui.html&quot;;\r\n\t}\r\n\r\nYou can use either of redirect or forward based on your requirement.","title":"Need to update swagger UI Path for spring boot project","body":"<p>Try this redirect method in your controller, I have tested it and it works</p>\n<pre><code>@RequestMapping(&quot;/myservice/swagger-ui.html&quot;)\npublic String redirectToSwagger() {\n    return &quot;redirect:/swagger-ui.html&quot;;\n}\n</code></pre>\n<p>You can use either of redirect or forward based on your requirement.</p>\n"},{"tags":[],"owner":{"account_id":10092302,"reputation":1025,"user_id":7458887,"display_name":"Alexpandiyan Chokkan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595403596,"creation_date":1595403596,"answer_id":63029172,"question_id":63027688,"body_markdown":"Please use the following swagger dependency. All you have to do is just add in the pom.xml, it will work like charm. Remove any swagger related annotation like `@EnableSwagger2`.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSwagger URL: ***http://{base_url}/swagger-ui/index.html***","title":"Need to update swagger UI Path for spring boot project","body":"<p>Please use the following swagger dependency. All you have to do is just add in the pom.xml, it will work like charm. Remove any swagger related annotation like <code>@EnableSwagger2</code>.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Swagger URL: <em><strong>http://{base_url}/swagger-ui/index.html</strong></em></p>\n"},{"tags":[],"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595422707,"creation_date":1595422707,"answer_id":63034796,"question_id":63027688,"body_markdown":"You can try below code it requires `@Controller` not a `@RestController`\r\n```\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport springfox.documentation.annotations.ApiIgnore;\r\n\r\n@Controller\r\n@ApiIgnore\r\npublic class SwaggerMappingController {\r\n\r\n\t@RequestMapping(&quot;/swagger-ui.html&quot;)\r\n\tpublic String greeting() {\r\n\t\treturn &quot;redirect:/swagger-ui/index.html&quot;;\r\n\t}\r\n}\r\n```","title":"Need to update swagger UI Path for spring boot project","body":"<p>You can try below code it requires <code>@Controller</code> not a <code>@RestController</code></p>\n<pre><code>import org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport springfox.documentation.annotations.ApiIgnore;\n\n@Controller\n@ApiIgnore\npublic class SwaggerMappingController {\n\n    @RequestMapping(&quot;/swagger-ui.html&quot;)\n    public String greeting() {\n        return &quot;redirect:/swagger-ui/index.html&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7591958,"reputation":395,"user_id":5759359,"accept_rate":0,"display_name":"Kashyap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7836,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676408872,"creation_date":1595396731,"question_id":63027688,"body_markdown":"I am having a spring boot project and need to update my swagger path from \r\n\r\n&gt; http://localhost:9012/swagger-ui.html\r\n\r\n \r\nto \r\n\r\n&gt; http://localhost:9012/myservice/swagger-ui.html\r\n\r\nI am not using any context path for my application I have tried all the below approach but none of them worked.\r\n\r\nhttps://stackoverflow.com/questions/46180375/change-location-to-call-swagger-ui-in-spring\r\n\r\nhttps://github.com/springfox/springfox/issues/1443\r\n\r\nhttps://stackoverflow.com/questions/57193286/how-to-change-swagger-ui-html-default-path\r\n\r\nhttps://github.com/springfox/springfox/issues/1080\r\n\r\nhttps://stackoverflow.com/questions/50712519/how-to-change-swagger-ui-url-prefix\r\n\r\n\r\n\r\n    private static final String PATH = &quot;/myservice&quot;;\r\n    \r\n      @Override\r\n      public void addViewControllers(ViewControllerRegistry registry) {\r\n        final String apiDocs = &quot;/v2/api-docs&quot;;\r\n        final String configUi = &quot;/swagger-resources/configuration/ui&quot;;\r\n        final String configSecurity = &quot;/swagger-resources/configuration/security&quot;;\r\n        final String resources = &quot;/swagger-resources&quot;;\r\n        final String swaggerUI = &quot;/swagger-ui.html&quot;;\r\n    \r\n        registry.addRedirectViewController(apiDocs, PATH +apiDocs).setKeepQueryParams(true);\r\n        registry.addRedirectViewController(resources, PATH +resources);\r\n        registry.addRedirectViewController(configUi, PATH +configUi);\r\n        registry.addRedirectViewController(configSecurity, PATH +configSecurity);\r\n        registry.addRedirectViewController(swaggerUI, PATH + swaggerUI);\r\n        registry.addRedirectViewController(&quot;/&quot;,PATH);\r\n      }\r\n    \r\n      @Override\r\n      public void addResourceHandlers(ResourceHandlerRegistry registry){\r\n        registry.addResourceHandler(PATH + &quot;/swagger-ui.html**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\r\n        registry.addResourceHandler(PATH + &quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n      }\r\n\r\n\r\nI am using swagger version 2.9.2\r\nIs there any other way to resolve the issue.","title":"Need to update swagger UI Path for spring boot project","body":"<p>I am having a spring boot project and need to update my swagger path from</p>\n<blockquote>\n<p>http://localhost:9012/swagger-ui.html</p>\n</blockquote>\n<p>to</p>\n<blockquote>\n<p>http://localhost:9012/myservice/swagger-ui.html</p>\n</blockquote>\n<p>I am not using any context path for my application I have tried all the below approach but none of them worked.</p>\n<p><a href=\"https://stackoverflow.com/questions/46180375/change-location-to-call-swagger-ui-in-spring\">Change location to call swagger-ui in Spring</a></p>\n<p><a href=\"https://github.com/springfox/springfox/issues/1443\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/1443</a></p>\n<p><a href=\"https://stackoverflow.com/questions/57193286/how-to-change-swagger-ui-html-default-path\">How to change swagger-ui.html default path</a></p>\n<p><a href=\"https://github.com/springfox/springfox/issues/1080\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/1080</a></p>\n<p><a href=\"https://stackoverflow.com/questions/50712519/how-to-change-swagger-ui-url-prefix\">How to change Swagger-ui URL prefix?</a></p>\n<pre><code>private static final String PATH = &quot;/myservice&quot;;\n\n  @Override\n  public void addViewControllers(ViewControllerRegistry registry) {\n    final String apiDocs = &quot;/v2/api-docs&quot;;\n    final String configUi = &quot;/swagger-resources/configuration/ui&quot;;\n    final String configSecurity = &quot;/swagger-resources/configuration/security&quot;;\n    final String resources = &quot;/swagger-resources&quot;;\n    final String swaggerUI = &quot;/swagger-ui.html&quot;;\n\n    registry.addRedirectViewController(apiDocs, PATH +apiDocs).setKeepQueryParams(true);\n    registry.addRedirectViewController(resources, PATH +resources);\n    registry.addRedirectViewController(configUi, PATH +configUi);\n    registry.addRedirectViewController(configSecurity, PATH +configSecurity);\n    registry.addRedirectViewController(swaggerUI, PATH + swaggerUI);\n    registry.addRedirectViewController(&quot;/&quot;,PATH);\n  }\n\n  @Override\n  public void addResourceHandlers(ResourceHandlerRegistry registry){\n    registry.addResourceHandler(PATH + &quot;/swagger-ui.html**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/swagger-ui.html&quot;);\n    registry.addResourceHandler(PATH + &quot;/webjars/**&quot;).addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n  }\n</code></pre>\n<p>I am using swagger version 2.9.2\nIs there any other way to resolve the issue.</p>\n"},{"tags":["java","constructor","exit","system.in"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1676408795,"post_id":75453223,"comment_id":133130563,"body_markdown":"Three questions.  (1) Do the variables have to be final?  (2) Does this code have to be called from the constructor, rather than from outside?  (3) Have you considered doing all of this input from a different class, then calling a constructor with multiple parameters once all the data required by the constructor is available?","body":"Three questions.  (1) Do the variables have to be final?  (2) Does this code have to be called from the constructor, rather than from outside?  (3) Have you considered doing all of this input from a different class, then calling a constructor with multiple parameters once all the data required by the constructor is available?"},{"owner":{"account_id":23806997,"reputation":3,"user_id":17816362,"display_name":"Nexon"},"score":0,"creation_date":1676409008,"post_id":75453223,"comment_id":133130623,"body_markdown":"(1) Yes they have to be final (2) Yes I thought about that, but I have to set those variables to final, so I have to declare them in the Constructor (3) Yeah an Idea would be to create a static method which reads those questions in and afterward instantiate the Object","body":"(1) Yes they have to be final (2) Yes I thought about that, but I have to set those variables to final, so I have to declare them in the Constructor (3) Yeah an Idea would be to create a static method which reads those questions in and afterward instantiate the Object"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676409671,"post_id":75453223,"comment_id":133130776,"body_markdown":"It doesn&#39;t have to be a static method.  You could have a class called `GameRunner` that does the initial input, then creates the `Game` object.","body":"It doesn&#39;t have to be a static method.  You could have a class called <code>GameRunner</code> that does the initial input, then creates the <code>Game</code> object."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1676411203,"post_id":75453223,"comment_id":133131099,"body_markdown":"A constructor is certainly the wrong place to use  a `Scanner`. A constructor should be short and sweet, as uncomplicated as possible. Use another class to gather inputs. Process those inputs *before* calling the constructor.","body":"A constructor is certainly the wrong place to use  a <code>Scanner</code>. A constructor should be short and sweet, as uncomplicated as possible. Use another class to gather inputs. Process those inputs <i>before</i> calling the constructor."}],"owner":{"account_id":23806997,"reputation":3,"user_id":17816362,"display_name":"Nexon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676408365,"creation_date":1676408365,"question_id":75453223,"body_markdown":"I have some trouble with a Constructor in Java. The Problem is that I have to read-in some input from the Systme.in in the Constructor to initialize some final variable. Now i have to quit the Program when the input is &quot;quit&quot;. For this, it&#39;s not possible to use Systme.exit() or Runtime.exit().\r\nI have two Ideas for this Problem, but both have some Problems.\r\n\r\n\r\n\r\nSolution 1: \r\nOne Idea would be to set a variable to true when the input is &quot;quit&quot; and check the variable after each Question, but that wouldn&#39;t be a nice Code.\r\n\r\n\r\n```\r\npublic Game() {\r\n        input = new Scanner(System.in);\r\n        this.gameFinished = false;\r\n        this.moveNumber = 0;\r\n        printLogo();\r\n\r\n        //Get Starting Information TODO Magic Numbers\r\n\r\n        \r\n        this.playerCount = getIntegerWithCondition(1, &quot;Question 1?&quot;);\r\n        //check if gameFinished = true\r\n        getPlayerNames();\r\n        //check if gameFinished = true\r\n        this.startGold = getIntegerWithCondition(0, &quot;Question 2?&quot;);\r\n        //check if gameFinished = true\r\n        this.winGold = getIntegerWithCondition(1, &quot;Question 3?&quot;);\r\n        //check if gameFinished = true\r\n        this.shuffleSeed = getIntegerWithCondition(0, &quot;Question 4?&quot;);\r\n        //check if gameFinished = true\r\n    }\r\n\r\nprivate int getIntegerWithCondition(int condition, String question) {\r\n        System.out.println(question);\r\n        boolean inputValid = false;\r\n        int playerValue = 0;\r\n        while (!inputValid) {\r\n            String playerInput = input.nextLine();\r\n            if (playerInput.equals(&quot;quit&quot;)) {\r\n                this.gameFinished = true;\r\n                break;\r\n            }\r\n            if (playerInput.matches(&quot;-*[0-9]+&quot;)) {\r\n                try {\r\n                    playerValue = Integer.parseInt(playerInput);\r\n                    if (playerValue &gt; condition) {\r\n                        inputValid = true;\r\n                    } else {\r\n                        System.out.println(String.format(&quot;Error: Your Input must be greater than %d!&quot;, condition));\r\n                    }\r\n                } catch (NumberFormatException e) {\r\n                    //TODO\r\n                }\r\n            } else {\r\n                System.out.println(&quot;Error: Your Input is not a Number!&quot;);\r\n            }\r\n        }\r\n        return playerValue;\r\n    }\r\n\r\n    private void getPlayerNames() {\r\n        for (int i = 1; i &lt;= this.playerCount; i++) {\r\n            System.out.println(String.format(&quot;Enter the name of player %d:&quot;, i));\r\n            String userInput = null;\r\n            Boolean inputValid = false;\r\n            while (!inputValid) {\r\n                userInput = input.nextLine();\r\n                if (userInput.equals(&quot;quit&quot;)) {\r\n                    this.gameFinished = true;\r\n                    break;\r\n                }\r\n                if (userInput.matches(&quot;[A-Za-z]+&quot;)) {\r\n                    inputValid = true;\r\n                } else {\r\n                    System.out.println(&quot;Error: Your input can only contain characters from a to z!&quot;);\r\n                }\r\n            }\r\n            players.add(new Player(userInput));\r\n        }\r\n    }\r\n```\r\n\r\n\r\nSolution 2: \r\nThe other Idea I had would be to throw an exception in those two methods and catch them in the constructor. For this I would have to surround those Questions with a try and catch block, but then I have the Problem that the final variables might not be initialized and because they are final I can&#39;t initialize them before. \r\nDoes anybody have an Idea how to solve this problem with a clean code?\r\n","title":"Java: stop a Constructor when System.in reads in a specific String","body":"<p>I have some trouble with a Constructor in Java. The Problem is that I have to read-in some input from the Systme.in in the Constructor to initialize some final variable. Now i have to quit the Program when the input is &quot;quit&quot;. For this, it's not possible to use Systme.exit() or Runtime.exit().\nI have two Ideas for this Problem, but both have some Problems.</p>\n<p>Solution 1:\nOne Idea would be to set a variable to true when the input is &quot;quit&quot; and check the variable after each Question, but that wouldn't be a nice Code.</p>\n<pre><code>public Game() {\n        input = new Scanner(System.in);\n        this.gameFinished = false;\n        this.moveNumber = 0;\n        printLogo();\n\n        //Get Starting Information TODO Magic Numbers\n\n        \n        this.playerCount = getIntegerWithCondition(1, &quot;Question 1?&quot;);\n        //check if gameFinished = true\n        getPlayerNames();\n        //check if gameFinished = true\n        this.startGold = getIntegerWithCondition(0, &quot;Question 2?&quot;);\n        //check if gameFinished = true\n        this.winGold = getIntegerWithCondition(1, &quot;Question 3?&quot;);\n        //check if gameFinished = true\n        this.shuffleSeed = getIntegerWithCondition(0, &quot;Question 4?&quot;);\n        //check if gameFinished = true\n    }\n\nprivate int getIntegerWithCondition(int condition, String question) {\n        System.out.println(question);\n        boolean inputValid = false;\n        int playerValue = 0;\n        while (!inputValid) {\n            String playerInput = input.nextLine();\n            if (playerInput.equals(&quot;quit&quot;)) {\n                this.gameFinished = true;\n                break;\n            }\n            if (playerInput.matches(&quot;-*[0-9]+&quot;)) {\n                try {\n                    playerValue = Integer.parseInt(playerInput);\n                    if (playerValue &gt; condition) {\n                        inputValid = true;\n                    } else {\n                        System.out.println(String.format(&quot;Error: Your Input must be greater than %d!&quot;, condition));\n                    }\n                } catch (NumberFormatException e) {\n                    //TODO\n                }\n            } else {\n                System.out.println(&quot;Error: Your Input is not a Number!&quot;);\n            }\n        }\n        return playerValue;\n    }\n\n    private void getPlayerNames() {\n        for (int i = 1; i &lt;= this.playerCount; i++) {\n            System.out.println(String.format(&quot;Enter the name of player %d:&quot;, i));\n            String userInput = null;\n            Boolean inputValid = false;\n            while (!inputValid) {\n                userInput = input.nextLine();\n                if (userInput.equals(&quot;quit&quot;)) {\n                    this.gameFinished = true;\n                    break;\n                }\n                if (userInput.matches(&quot;[A-Za-z]+&quot;)) {\n                    inputValid = true;\n                } else {\n                    System.out.println(&quot;Error: Your input can only contain characters from a to z!&quot;);\n                }\n            }\n            players.add(new Player(userInput));\n        }\n    }\n</code></pre>\n<p>Solution 2:\nThe other Idea I had would be to throw an exception in those two methods and catch them in the constructor. For this I would have to surround those Questions with a try and catch block, but then I have the Problem that the final variables might not be initialized and because they are final I can't initialize them before.\nDoes anybody have an Idea how to solve this problem with a clean code?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3583855,"reputation":150,"user_id":2991440,"display_name":"krishnan"},"score":0,"creation_date":1676421144,"post_id":75453160,"comment_id":133132774,"body_markdown":"May I know the reason why dependency jakarta.persistence-api is added along with spring-boot-starter-data-jpa ?","body":"May I know the reason why dependency jakarta.persistence-api is added along with spring-boot-starter-data-jpa ?"}],"owner":{"account_id":24691078,"reputation":21,"user_id":18583577,"display_name":"Casparo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676407909,"creation_date":1676407909,"question_id":75453160,"body_markdown":"I&#39;m working on a spring boot application and I get this error when I add a dependency for any database. I tried for H2 databse and mysql databse as well but I still get the same error.\r\n\r\nBelow is my main class:\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class SpringbootTutorialAppApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tSpringApplication.run(SpringbootTutorialAppApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nBelow is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.kessie&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;SpringbootTutorialApp&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;SpringbootTutorialApp&lt;/name&gt;\r\n    \t&lt;description&gt;Tutorial project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    &lt;!--\t\t&lt;dependency&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;--&gt;\r\n    &lt;!--\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;--&gt;\r\n    &lt;!--\t\t&lt;/dependency&gt;--&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nBelow is the stack trace\r\n\r\n    2023-02-14T20:03:32.224Z  INFO 13028 --- [           main] c.k.SpringbootTutorialAppApplication     : Starting SpringbootTutorialAppApplication using Java 19.0.2 with PID 13028 (C:\\Users\\Koranteng K. Kessie\\OneDrive\\Documents\\SpringbootTutorialApp\\target\\classes started by Koranteng K. Kessie in C:\\Users\\Koranteng K. Kessie\\OneDrive\\Documents\\SpringbootTutorialApp)\r\n    2023-02-14T20:03:32.229Z  INFO 13028 --- [           main] c.k.SpringbootTutorialAppApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2023-02-14T20:03:33.152Z  INFO 13028 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2023-02-14T20:03:33.182Z  INFO 13028 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 JPA repository interfaces.\r\n    2023-02-14T20:03:33.227Z ERROR 13028 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration.stringHttpMessageConverter\r\n    \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat com.kessie.SpringbootTutorialAppApplication.main(SpringbootTutorialAppApplication.java:11) ~[classes/:na]\r\n    Caused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4d7e1886]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:250) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:243) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:233) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:181) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:156) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n    \t... 17 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: jakarta/persistence/EntityManagerFactory\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458) ~[na:na]\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2557) ~[na:na]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \t... 33 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n    \t... 37 common frames omitted\r\n    \r\n    2023-02-14T20:03:33.236Z  WARN 13028 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\r\n    \r\n    java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4d7e1886]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:658) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:650) ~[spring-beans-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1276) ~[spring-context-6.0.4.jar:6.0.4]\r\n    \tat org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:863) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:851) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:838) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:778) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\r\n    \tat com.kessie.SpringbootTutorialAppApplication.main(SpringbootTutorialAppApplication.java:11) ~[classes/:na]\r\n    Caused by: java.lang.NoClassDefFoundError: jakarta/persistence/EntityManagerFactory\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458) ~[na:na]\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2557) ~[na:na]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\r\n    \t... 21 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n    \t... 25 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\nSame error being posted before but the solutions provided do not work for me\r\n\r\nAny idea on how to go about this?\r\n","title":"Error processing condition on org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration","body":"<p>I'm working on a spring boot application and I get this error when I add a dependency for any database. I tried for H2 databse and mysql databse as well but I still get the same error.</p>\n<p>Below is my main class:</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringbootTutorialAppApplication {\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(SpringbootTutorialAppApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Below is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.kessie&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringbootTutorialApp&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringbootTutorialApp&lt;/name&gt;\n    &lt;description&gt;Tutorial project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;mysql&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Below is the stack trace</p>\n<pre><code>2023-02-14T20:03:32.224Z  INFO 13028 --- [           main] c.k.SpringbootTutorialAppApplication     : Starting SpringbootTutorialAppApplication using Java 19.0.2 with PID 13028 (C:\\Users\\Koranteng K. Kessie\\OneDrive\\Documents\\SpringbootTutorialApp\\target\\classes started by Koranteng K. Kessie in C:\\Users\\Koranteng K. Kessie\\OneDrive\\Documents\\SpringbootTutorialApp)\n2023-02-14T20:03:32.229Z  INFO 13028 --- [           main] c.k.SpringbootTutorialAppApplication     : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-02-14T20:03:33.152Z  INFO 13028 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-02-14T20:03:33.182Z  INFO 13028 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 19 ms. Found 0 JPA repository interfaces.\n2023-02-14T20:03:33.227Z ERROR 13028 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration$StringHttpMessageConverterConfiguration.stringHttpMessageConverter\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:183) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:144) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:120) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:410) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:283) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:745) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:565) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:730) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:432) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.kessie.SpringbootTutorialAppApplication.main(SpringbootTutorialAppApplication.java:11) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4d7e1886]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749) ~[spring-beans-6.0.4.jar:6.0.4]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:250) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:243) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:233) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:181) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:156) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    ... 17 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: jakarta/persistence/EntityManagerFactory\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\n    ... 33 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 37 common frames omitted\n\n2023-02-14T20:03:33.236Z  WARN 13028 --- [           main] o.s.boot.SpringApplication               : Unable to close ApplicationContext\n\njava.lang.IllegalStateException: Failed to introspect Class [org.springframework.orm.jpa.SharedEntityManagerCreator] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@4d7e1886]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:483) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:360) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:417) ~[spring-core-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$1(AbstractAutowireCapableBeanFactory.java:749) ~[spring-beans-6.0.4.jar:6.0.4]\n    at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1708) ~[na:na]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:748) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:681) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:652) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1632) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:559) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:531) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:658) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:650) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1276) ~[spring-context-6.0.4.jar:6.0.4]\n    at org.springframework.boot.SpringApplication.getExitCodeFromMappedException(SpringApplication.java:863) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.getExitCodeFromException(SpringApplication.java:851) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.handleExitCode(SpringApplication.java:838) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.handleRunFailure(SpringApplication.java:778) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:321) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1302) ~[spring-boot-3.0.2.jar:3.0.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1291) ~[spring-boot-3.0.2.jar:3.0.2]\n    at com.kessie.SpringbootTutorialAppApplication.main(SpringbootTutorialAppApplication.java:11) ~[classes/:na]\nCaused by: java.lang.NoClassDefFoundError: jakarta/persistence/EntityManagerFactory\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3458) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2557) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:465) ~[spring-core-6.0.4.jar:6.0.4]\n    ... 21 common frames omitted\nCaused by: java.lang.ClassNotFoundException: jakarta.persistence.EntityManagerFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 25 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Same error being posted before but the solutions provided do not work for me</p>\n<p>Any idea on how to go about this?</p>\n"},{"tags":["java","selenium","cucumber","cucumber-java","selenium-extent-report"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":1,"creation_date":1676136764,"post_id":75421195,"comment_id":133078823,"body_markdown":"You only need to add this property to your extent.properties file - &#39;extent.reporter.spark.base64imagesrc=true&#39; and use the third hook code above without any base64 conversion. To add a thumbnail you will need to add &#39;thumbnailForBase64&#39; xml property to true in the spark-config.xml else default image is displayed.","body":"You only need to add this property to your extent.properties file - &#39;extent.reporter.spark.base64imagesrc=true&#39; and use the third hook code above without any base64 conversion. To add a thumbnail you will need to add &#39;thumbnailForBase64&#39; xml property to true in the spark-config.xml else default image is displayed."}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676407474,"creation_date":1676407474,"answer_id":75453101,"question_id":75421195,"body_markdown":"Quoting `@Grasshopper` [comment](https://stackoverflow.com/questions/75421195/unable-to-convert-byte-image-to-base64-using-cucumber-scenario-apis-java-se#comment133078823_75421195) which worked like a charm, so the question isn&#39;t left unanswered.\r\n\r\n&gt; You only need to add this property to your extent.properties file -\r\n&gt; &#39;extent.reporter.spark.base64imagesrc=true&#39; and use the third hook\r\n&gt; code above without any base64 conversion. To add a thumbnail you will\r\n&gt; need to add &#39;thumbnailForBase64&#39; xml property to true in the\r\n&gt; spark-config.xml else default image is displayed.","title":"Unable to convert byte[] image to base64 using cucumber scenario api&#39;s - java selenium","body":"<p>Quoting <code>@Grasshopper</code> <a href=\"https://stackoverflow.com/questions/75421195/unable-to-convert-byte-image-to-base64-using-cucumber-scenario-apis-java-se#comment133078823_75421195\">comment</a> which worked like a charm, so the question isn't left unanswered.</p>\n<blockquote>\n<p>You only need to add this property to your extent.properties file -\n'extent.reporter.spark.base64imagesrc=true' and use the third hook\ncode above without any base64 conversion. To add a thumbnail you will\nneed to add 'thumbnailForBase64' xml property to true in the\nspark-config.xml else default image is displayed.</p>\n</blockquote>\n"}],"owner":{"account_id":23930456,"reputation":89,"user_id":17925025,"display_name":"Sanghamitra Bhowmick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676407474,"creation_date":1676129088,"question_id":75421195,"body_markdown":"I am trying to convert byte[] image to base64 using cucumber APIs to attach it to an Extent report, however the base64 version does not attach, but the byte[] one attaches.\r\n\r\nWhen I convert to base64 and attach the output image is broken. \r\n\r\nCucumber version\r\n\r\n    &lt;cucumber.version&gt;6.9.0&lt;/cucumber.version&gt;\r\n\r\nExtent version:\r\n\r\n    &lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.8.0&lt;/version&gt;\r\n\r\nCode that does not work:\r\n\r\n\t@After(order = 1)\r\n\tpublic void tearDown(Scenario scenario) {\r\n\t\tif (scenario.isFailed()) {\r\n\t\t\t// take screenshot:\r\n\t\t\tString screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;);\r\n\t\t\tbyte[] sourcePath = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n\t\t\tString base64Img = Base64.getEncoder().encodeToString(sourcePath);\r\n\t\t\tscenario.attach(base64Img, &quot;image/png&quot;, screenshotName);\r\n\t\t}\r\n\t}\r\n\r\nCode that does not work\r\n\r\n    @After(order = 1)\r\n\tpublic void tearDown(Scenario scenario) {\r\n\t\tif (scenario.isFailed()) {\r\n\t\t\t// take screenshot:\r\n\t\t\tString screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;);\r\n\t\t\tString sourcePath = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BASE64);\r\n\t\t\tscenario.attach(sourcePath, &quot;image/png&quot;, screenshotName);\r\n\t\t}\r\n    }\r\n\r\nCode that works\r\n\r\n    @After(order = 1)\r\n\tpublic void tearDown(Scenario scenario) {\r\n\t\tif (scenario.isFailed()) {\r\n\t\t\t// take screenshot:\r\n\t\t\tString screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;);\r\n\t\t\tbyte[] sourcePath = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n\t\t\tscenario.attach(sourcePath, &quot;image/png&quot;, screenshotName);\r\n\t\t}\r\n\t}\r\n\r\nAny input/guidance could really help!! \r\n\r\n\r\n","title":"Unable to convert byte[] image to base64 using cucumber scenario api&#39;s - java selenium","body":"<p>I am trying to convert byte[] image to base64 using cucumber APIs to attach it to an Extent report, however the base64 version does not attach, but the byte[] one attaches.</p>\n<p>When I convert to base64 and attach the output image is broken.</p>\n<p>Cucumber version</p>\n<pre><code>&lt;cucumber.version&gt;6.9.0&lt;/cucumber.version&gt;\n</code></pre>\n<p>Extent version:</p>\n<pre><code>&lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\n&lt;version&gt;2.8.0&lt;/version&gt;\n</code></pre>\n<p>Code that does not work:</p>\n<pre><code>@After(order = 1)\npublic void tearDown(Scenario scenario) {\n    if (scenario.isFailed()) {\n        // take screenshot:\n        String screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;);\n        byte[] sourcePath = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n        String base64Img = Base64.getEncoder().encodeToString(sourcePath);\n        scenario.attach(base64Img, &quot;image/png&quot;, screenshotName);\n    }\n}\n</code></pre>\n<p>Code that does not work</p>\n<pre><code>@After(order = 1)\npublic void tearDown(Scenario scenario) {\n    if (scenario.isFailed()) {\n        // take screenshot:\n        String screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;);\n        String sourcePath = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BASE64);\n        scenario.attach(sourcePath, &quot;image/png&quot;, screenshotName);\n    }\n}\n</code></pre>\n<p>Code that works</p>\n<pre><code>@After(order = 1)\npublic void tearDown(Scenario scenario) {\n    if (scenario.isFailed()) {\n        // take screenshot:\n        String screenshotName = scenario.getName().replaceAll(&quot; &quot;, &quot;_&quot;);\n        byte[] sourcePath = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n        scenario.attach(sourcePath, &quot;image/png&quot;, screenshotName);\n    }\n}\n</code></pre>\n<p>Any input/guidance could really help!!</p>\n"},{"tags":["java","for-loop","methods","parameter-passing","multiplication"],"comments":[{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1669788692,"post_id":74623483,"comment_id":131720020,"body_markdown":"can you post your failure message?","body":"can you post your failure message?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669794590,"post_id":74623483,"comment_id":131721469,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676407318,"post_id":74623483,"comment_id":133130174,"body_markdown":"I believe that your method doesn’t need to return anything. So declare it `public void multiply(int num)` and delete the line `return multiply;`. That should be it. Call the method like `new TABLE().multiply(10);`.","body":"I believe that your method doesn’t need to return anything. So declare it <code>public void multiply(int num)</code> and delete the line <code>return multiply;</code>. That should be it. Call the method like <code>new TABLE().multiply(10);</code>."}],"answers":[{"tags":[],"owner":{"account_id":27094432,"reputation":1,"user_id":20641811,"display_name":"user20641811"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669789029,"creation_date":1669789029,"answer_id":74623568,"question_id":74623483,"body_markdown":"        public static void multiply(int num)\r\n    {\r\n        for(int i = 1; i &lt;= 10; ++i) {\r\n            System.out.printf(&quot;%d * %d = %d \\n&quot;, num, i, num * i);\r\n        }\r\n    }\r\n\r\nhi，bro, you can ","title":"Create a Multiplication Table program, by using the Java user defined Method &amp; For loop, the output will be according to the parameter passed","body":"<pre><code>    public static void multiply(int num)\n{\n    for(int i = 1; i &lt;= 10; ++i) {\n        System.out.printf(&quot;%d * %d = %d \\n&quot;, num, i, num * i);\n    }\n}\n</code></pre>\n<p>hi，bro, you can</p>\n"},{"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":2,"creation_date":1676270741,"post_id":75407431,"comment_id":133096256,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75407431/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27750527,"reputation":1,"user_id":21185023,"display_name":"Anup Kumar Gouda"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676407393,"creation_date":1676008670,"answer_id":75407431,"question_id":74623483,"body_markdown":"```\r\n//using user defined method By ITinnovation\r\nimport java.util.Scanner;\r\n\r\npublic class Table1\r\n{\r\n    public void tab(int num1)\r\n    {\r\n        for(int i=1;i&lt;=10;i++)\r\n        {\r\n            //System.out.println(&quot;The Table is:&quot;+num1*i);\r\n            int multi=num1*i;\r\n            System.out.println(num1 + &quot; x &quot; + i + &quot; = &quot; + multi);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        {\r\n            System.out.printf(&quot;Enter that value which you want to find out the table:&quot;);\r\n            Scanner sc= new Scanner(System.in);\r\n            int num1= sc.nextInt();\r\n            Table1 obj= new Table1();\r\n            obj.tab(num1);\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Create a Multiplication Table program, by using the Java user defined Method &amp; For loop, the output will be according to the parameter passed","body":"<pre><code>//using user defined method By ITinnovation\nimport java.util.Scanner;\n\npublic class Table1\n{\n    public void tab(int num1)\n    {\n        for(int i=1;i&lt;=10;i++)\n        {\n            //System.out.println(&quot;The Table is:&quot;+num1*i);\n            int multi=num1*i;\n            System.out.println(num1 + &quot; x &quot; + i + &quot; = &quot; + multi);\n        }\n    }\n\n    public static void main(String[] args) {\n        {\n            System.out.printf(&quot;Enter that value which you want to find out the table:&quot;);\n            Scanner sc= new Scanner(System.in);\n            int num1= sc.nextInt();\n            Table1 obj= new Table1();\n            obj.tab(num1);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27094283,"reputation":1,"user_id":20641671,"display_name":"Stormy Gamer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676407393,"creation_date":1669788253,"question_id":74623483,"body_markdown":"[enter image description here](https://i.stack.imgur.com/f7WZR.png)\r\ni am asked to make exactly this table but i am unable to figure out how the defined methods work!?\r\n\r\ni have tried a lot but it just fails\r\ndon,t what i am doing wrong!\r\n\r\n\r\n\r\n```\r\npublic class TABLE {\r\n\tpublic int Multiplication; \r\n\tpublic int multiply(int num)\r\n\t{\r\n\t\t\t\r\n\tfor(int i = 1; i &lt;= 10; ++i) {\r\n\t\tSystem.out.printf(&quot;%d * %d = %d \\n&quot;, num, i, num * i);\r\n\t\t}\r\n\treturn multiply;\r\n\t}\r\n}\r\n\r\n```\r\n","title":"Create a Multiplication Table program, by using the Java user defined Method &amp; For loop, the output will be according to the parameter passed","body":"<p><a href=\"https://i.stack.imgur.com/f7WZR.png\" rel=\"nofollow noreferrer\">enter image description here</a>\ni am asked to make exactly this table but i am unable to figure out how the defined methods work!?</p>\n<p>i have tried a lot but it just fails\ndon,t what i am doing wrong!</p>\n<pre><code>public class TABLE {\n    public int Multiplication; \n    public int multiply(int num)\n    {\n            \n    for(int i = 1; i &lt;= 10; ++i) {\n        System.out.printf(&quot;%d * %d = %d \\n&quot;, num, i, num * i);\n        }\n    return multiply;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","oauth","keycloak","okta"],"comments":[{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1676344335,"post_id":75442921,"comment_id":133114067,"body_markdown":"I was not able to find the constructor for `JWTVerifier` which you used. Where does it come from?","body":"I was not able to find the constructor for <code>JWTVerifier</code> which you used. Where does it come from?"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1676406877,"post_id":75442921,"comment_id":133130063,"body_markdown":"That was the correct question @PhilippGrigoryev - I&#39;m using an ancient (2016, v2.2.2) version of the Auth0 libraries due to an equally prehistoric FinTech programming environment.  I eventually found my answer and, as is common with me, I was making it far too hard.  Thanks for pushing me in the right direction.  I&#39;ll update the post with my findings.","body":"That was the correct question @PhilippGrigoryev - I&#39;m using an ancient (2016, v2.2.2) version of the Auth0 libraries due to an equally prehistoric FinTech programming environment.  I eventually found my answer and, as is common with me, I was making it far too hard.  Thanks for pushing me in the right direction.  I&#39;ll update the post with my findings."},{"owner":{"account_id":3979621,"reputation":2003,"user_id":3281886,"accept_rate":60,"display_name":"Philipp Grigoryev"},"score":0,"creation_date":1676431670,"post_id":75442921,"comment_id":133134012,"body_markdown":"Yay :) glad I could help somehow!","body":"Yay :) glad I could help somehow!"}],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676407275,"creation_date":1676341516,"question_id":75442921,"body_markdown":"I&#39;m attempting to write some portable code to validate JWT&#39;s in Java.  I&#39;m specifically integrating with Okta and Keycloak.  I&#39;m struggling to understand the parameters returned for the JWKS endpoint.\r\n\r\nFor Keycloak, I get a key something like:\r\n\r\n    {\r\n      &quot;kid&quot;: &quot;H5NDPL2NT2M5_5EOqt91vfPIo13r455Hlu2GYscOBmA&quot;,\r\n      &quot;kty&quot;: &quot;RSA&quot;,\r\n      &quot;alg&quot;: &quot;RS256&quot;,\r\n      &quot;use&quot;: &quot;sig&quot;,\r\n      &quot;n&quot;: &quot;w7vsnNpTZaOMp3zxKCiEivoIaY...&quot;,\r\n      &quot;e&quot;: &quot;AQAB&quot;,\r\n      &quot;x5c&quot;: [\r\n        &quot;MIIClTCCAX0CBgGF9UsKo...&quot;\r\n      ],\r\n      &quot;x5t&quot;: &quot;tGzP61KCiwgg-NYlnDIHLB9ZoMw&quot;,\r\n      &quot;x5t#S256&quot;: &quot;JfHngo5l9TUcI9Up7gTAksLVOs1ivcMcwu-WY01gBDM&quot;\r\n    },\r\n\r\nFor Okta, I get:\r\n\r\n    {\r\n      &quot;kty&quot;: &quot;RSA&quot;,\r\n      &quot;alg&quot;: &quot;RS256&quot;,\r\n      &quot;kid&quot;: &quot;u4G-oEtqld6rzHgW7aGPWpcyGABi9JqWAIA7s6_tGm0&quot;,\r\n      &quot;use&quot;: &quot;sig&quot;,\r\n      &quot;e&quot;: &quot;AQAB&quot;,\r\n      &quot;n&quot;: &quot;k9XEKD99izmvBUtnkaGC...&quot;\r\n    },\r\n\r\nMy rather limited understanding was that I could generate the public key from the &quot;e&quot; (exponent) and &quot;n&quot; (modulus) fields.  To me it seemed that Keycloak was sending the same data twice by including `x5c[0]`.  But that is apparently not the case.  On the Keycloak side, using code like:\r\n\r\n    // modulusString is &quot;n&quot;, exponentString is &quot;e&quot;\r\n    BigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(modulusString));\r\n    BigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(exponentString));\r\n    RSAPublicKeySpec rsaPublicKeySpec = new RSAPublicKeySpec(modulus, exponent);\r\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    PublicKey publicKey = keyFactory.generatePublic(rsaPublicKeySpec);\r\n\r\nresults in a `PublicKey` that can&#39;t be used to validate a token with the Auth0 JWTVerifier:\r\n\r\n    JWTVerifier jwtVerifier = new JWTVerifier(publicKey);\r\n\r\n    try {\r\n        jwtVerifier.verify(token);\r\n    }\r\n    catch (Exception e) {\r\n        // token is not valid\r\n    }\r\n\r\nYet on Keycloak if I *do* use `x5c[0]` and convert it with:\r\n\r\n    byte[] decodedCert = Base64.getDecoder().decode(base64CertWithoutDelimiters);\r\n    KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    EncodedKeySpec keySpec = new X509EncodedKeySpec(decodedCert);\r\n    publicKey = kf.generatePublic(keySpec);\r\n\r\nand the same JWTVerifier code the token from Keycloak validates fine.  So obviously the `generatePublic` isn&#39;t doing the same thing.  A print of the Base64 values confirms this.\r\n\r\nLooking at the [Okta key resolver code](https://github.com/okta/okta-jwt-verifier-java/blob/master/impl/src/main/java/com/okta/jwt/impl/jjwt/RemoteJwkSigningKeyResolver.java) seems to show pretty much the same thing I&#39;m doing but the Keycloak one doesn&#39;t work.  For reference, this is Keycloak 20.0.3.\r\n\r\nCan you point me in the correct direction on this?  My Google-fu is at it&#39;s end and I still don&#39;t have an answer.  Thanks for any help.\r\n\r\n***EDIT***\r\n\r\nThe code that generates the `PublicKey` from the modulus/exponent *was* correct.  It turns out I was incorrectly using the `x5c[0]` key from Keycloak.  Generating the PublicKey with the modulus/exponent now means that I can validate Keycloak and Okta in the same way.  Thanks to @PhilippGrigoryev for pushing me to understand why I was doing things with an ancient library (&#39;cause I&#39;m stuck with an ancient programming environment) and making me look deeper into the problem.\r\n\r\nAdditionally, I was able to use the code in the [Auth0 JWKS library](https://github.com/auth0/jwks-rsa-java) to direct me in the right place.  My environment prevents me from actually using a modern library but that&#39;s a different issue.","title":"Validating JWT with modulus and exponent vs public key","body":"<p>I'm attempting to write some portable code to validate JWT's in Java.  I'm specifically integrating with Okta and Keycloak.  I'm struggling to understand the parameters returned for the JWKS endpoint.</p>\n<p>For Keycloak, I get a key something like:</p>\n<pre><code>{\n  &quot;kid&quot;: &quot;H5NDPL2NT2M5_5EOqt91vfPIo13r455Hlu2GYscOBmA&quot;,\n  &quot;kty&quot;: &quot;RSA&quot;,\n  &quot;alg&quot;: &quot;RS256&quot;,\n  &quot;use&quot;: &quot;sig&quot;,\n  &quot;n&quot;: &quot;w7vsnNpTZaOMp3zxKCiEivoIaY...&quot;,\n  &quot;e&quot;: &quot;AQAB&quot;,\n  &quot;x5c&quot;: [\n    &quot;MIIClTCCAX0CBgGF9UsKo...&quot;\n  ],\n  &quot;x5t&quot;: &quot;tGzP61KCiwgg-NYlnDIHLB9ZoMw&quot;,\n  &quot;x5t#S256&quot;: &quot;JfHngo5l9TUcI9Up7gTAksLVOs1ivcMcwu-WY01gBDM&quot;\n},\n</code></pre>\n<p>For Okta, I get:</p>\n<pre><code>{\n  &quot;kty&quot;: &quot;RSA&quot;,\n  &quot;alg&quot;: &quot;RS256&quot;,\n  &quot;kid&quot;: &quot;u4G-oEtqld6rzHgW7aGPWpcyGABi9JqWAIA7s6_tGm0&quot;,\n  &quot;use&quot;: &quot;sig&quot;,\n  &quot;e&quot;: &quot;AQAB&quot;,\n  &quot;n&quot;: &quot;k9XEKD99izmvBUtnkaGC...&quot;\n},\n</code></pre>\n<p>My rather limited understanding was that I could generate the public key from the &quot;e&quot; (exponent) and &quot;n&quot; (modulus) fields.  To me it seemed that Keycloak was sending the same data twice by including <code>x5c[0]</code>.  But that is apparently not the case.  On the Keycloak side, using code like:</p>\n<pre><code>// modulusString is &quot;n&quot;, exponentString is &quot;e&quot;\nBigInteger modulus = new BigInteger(1, Base64.getUrlDecoder().decode(modulusString));\nBigInteger exponent = new BigInteger(1, Base64.getUrlDecoder().decode(exponentString));\nRSAPublicKeySpec rsaPublicKeySpec = new RSAPublicKeySpec(modulus, exponent);\nKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\nPublicKey publicKey = keyFactory.generatePublic(rsaPublicKeySpec);\n</code></pre>\n<p>results in a <code>PublicKey</code> that can't be used to validate a token with the Auth0 JWTVerifier:</p>\n<pre><code>JWTVerifier jwtVerifier = new JWTVerifier(publicKey);\n\ntry {\n    jwtVerifier.verify(token);\n}\ncatch (Exception e) {\n    // token is not valid\n}\n</code></pre>\n<p>Yet on Keycloak if I <em>do</em> use <code>x5c[0]</code> and convert it with:</p>\n<pre><code>byte[] decodedCert = Base64.getDecoder().decode(base64CertWithoutDelimiters);\nKeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\nEncodedKeySpec keySpec = new X509EncodedKeySpec(decodedCert);\npublicKey = kf.generatePublic(keySpec);\n</code></pre>\n<p>and the same JWTVerifier code the token from Keycloak validates fine.  So obviously the <code>generatePublic</code> isn't doing the same thing.  A print of the Base64 values confirms this.</p>\n<p>Looking at the <a href=\"https://github.com/okta/okta-jwt-verifier-java/blob/master/impl/src/main/java/com/okta/jwt/impl/jjwt/RemoteJwkSigningKeyResolver.java\" rel=\"nofollow noreferrer\">Okta key resolver code</a> seems to show pretty much the same thing I'm doing but the Keycloak one doesn't work.  For reference, this is Keycloak 20.0.3.</p>\n<p>Can you point me in the correct direction on this?  My Google-fu is at it's end and I still don't have an answer.  Thanks for any help.</p>\n<p><em><strong>EDIT</strong></em></p>\n<p>The code that generates the <code>PublicKey</code> from the modulus/exponent <em>was</em> correct.  It turns out I was incorrectly using the <code>x5c[0]</code> key from Keycloak.  Generating the PublicKey with the modulus/exponent now means that I can validate Keycloak and Okta in the same way.  Thanks to @PhilippGrigoryev for pushing me to understand why I was doing things with an ancient library ('cause I'm stuck with an ancient programming environment) and making me look deeper into the problem.</p>\n<p>Additionally, I was able to use the code in the <a href=\"https://github.com/auth0/jwks-rsa-java\" rel=\"nofollow noreferrer\">Auth0 JWKS library</a> to direct me in the right place.  My environment prevents me from actually using a modern library but that's a different issue.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":0,"creation_date":1446821657,"post_id":33567507,"comment_id":54916956,"body_markdown":"http://stackoverflow.com/questions/28993724/is-there-a-way-to-discover-all-endpoints-of-a-rest-api","body":"<a href=\"http://stackoverflow.com/questions/28993724/is-there-a-way-to-discover-all-endpoints-of-a-rest-api\" title=\"is there a way to discover all endpoints of a rest api\">stackoverflow.com/questions/28993724/&hellip;</a>"},{"owner":{"account_id":448442,"reputation":1414,"user_id":842643,"accept_rate":62,"display_name":"Jack Sierkstra"},"score":0,"creation_date":1446830966,"post_id":33567507,"comment_id":54922603,"body_markdown":"Sorry, but this doesn&#39;t remotely answer my question. My question is targeted at Spring Framework. I have access to my own code, so I won&#39;t brute force my own application. Furthermore, you can expect such functionality of a relatively mature framework as Spring. The endpoints are somewhere registered (Spring Container??), so there must be a way to iterate through them.","body":"Sorry, but this doesn&#39;t remotely answer my question. My question is targeted at Spring Framework. I have access to my own code, so I won&#39;t brute force my own application. Furthermore, you can expect such functionality of a relatively mature framework as Spring. The endpoints are somewhere registered (Spring Container??), so there must be a way to iterate through them."},{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":1,"creation_date":1446836469,"post_id":33567507,"comment_id":54925490,"body_markdown":"http://stackoverflow.com/questions/11082818/spring-mvc-get-all-request-mappings","body":"<a href=\"http://stackoverflow.com/questions/11082818/spring-mvc-get-all-request-mappings\" title=\"spring mvc get all request mappings\">stackoverflow.com/questions/11082818/&hellip;</a>"},{"owner":{"account_id":448442,"reputation":1414,"user_id":842643,"accept_rate":62,"display_name":"Jack Sierkstra"},"score":0,"creation_date":1446837152,"post_id":33567507,"comment_id":54925844,"body_markdown":"Now that is way more close. In the meantime I got some advice to use Spring Boot Actuator. I do not have that possibility, so I went on looking in the source of Spring Boot Actuator and saw this file: https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/RequestMappingEndpoint.java. I&#39;m going test that in my application. Thanks for the advice! I will edit my post once I have an answer ready.","body":"Now that is way more close. In the meantime I got some advice to use Spring Boot Actuator. I do not have that possibility, so I went on looking in the source of Spring Boot Actuator and saw this file: <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-actuator/src/main/java/org/springframework/boot/actuate/endpoint/RequestMappingEndpoint.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/master/&hellip;</a>. I&#39;m going test that in my application. Thanks for the advice! I will edit my post once I have an answer ready."},{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":0,"creation_date":1446838020,"post_id":33567507,"comment_id":54926328,"body_markdown":"Cool! All the best Jack!","body":"Cool! All the best Jack!"},{"owner":{"account_id":2333642,"reputation":4060,"user_id":2046462,"accept_rate":63,"display_name":"Kannan Ramamoorthy"},"score":1,"creation_date":1497718090,"post_id":33567507,"comment_id":76201004,"body_markdown":"@JackSierkstra If you get the answer you can post it as an answer and accept it.","body":"@JackSierkstra If you get the answer you can post it as an answer and accept it."},{"owner":{"account_id":8129595,"reputation":1,"user_id":6123294,"display_name":"Cahit Yiğit &#199;etiner"},"score":0,"creation_date":1564397133,"post_id":33567507,"comment_id":101004255,"body_markdown":"can you check the link below. https://stackoverflow.com/questions/32525699/listing-all-deployed-rest-endpoints-spring-boot-jersey/35237151#35237151","body":"can you check the link below. <a href=\"https://stackoverflow.com/questions/32525699/listing-all-deployed-rest-endpoints-spring-boot-jersey/35237151#35237151\" title=\"listing all deployed rest endpoints spring boot jersey\">stackoverflow.com/questions/32525699/&hellip;</a>"},{"owner":{"account_id":7154568,"reputation":238,"user_id":5467492,"display_name":"Thomas Verhoeven"},"score":0,"creation_date":1611136794,"post_id":33567507,"comment_id":116351094,"body_markdown":"Check out this thread: https://stackoverflow.com/questions/43541080/how-to-get-all-endpoints-list-after-startup-spring-boot/59165297","body":"Check out this thread: <a href=\"https://stackoverflow.com/questions/43541080/how-to-get-all-endpoints-list-after-startup-spring-boot/59165297\" title=\"how to get all endpoints list after startup spring boot\">stackoverflow.com/questions/43541080/&hellip;</a>"},{"owner":{"account_id":2598238,"reputation":693,"user_id":2251364,"accept_rate":45,"display_name":"Hritik"},"score":0,"creation_date":1671092272,"post_id":33567507,"comment_id":132024275,"body_markdown":"This might come in handy `git grep -hi &quot;@.*Mapping&quot;`","body":"This might come in handy <code>git grep -hi &quot;@.*Mapping&quot;</code>"}],"answers":[{"tags":[],"owner":{"account_id":274902,"reputation":1209,"user_id":567420,"display_name":"fpmoles"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1507940808,"creation_date":1507940808,"answer_id":46739607,"question_id":33567507,"body_markdown":"I assume based on how the questions is worded that you are not using Spring Boot, if you were, the actuator mappings endpoint does this for you, but your answer lies in how the mappings endpoint is build in actuator. There is a RequestMappingHandlerMapping object you leverage.","title":"How to output all endpoints exposed by Spring","body":"<p>I assume based on how the questions is worded that you are not using Spring Boot, if you were, the actuator mappings endpoint does this for you, but your answer lies in how the mappings endpoint is build in actuator. There is a RequestMappingHandlerMapping object you leverage.</p>\n"},{"tags":[],"owner":{"account_id":10335004,"reputation":101,"user_id":7623461,"display_name":"Kamran Ullah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655733776,"creation_date":1655733776,"answer_id":72688335,"question_id":33567507,"body_markdown":"In this scenario you can use two approaches:\r\n\r\n 1. Spring Boot Actuator feature. Your endpoints of application will be available at http://host/actuator/mappings\r\n 2. Swagger library can also be used to list all endpoints of a REST API\r\n\r\n","title":"How to output all endpoints exposed by Spring","body":"<p>In this scenario you can use two approaches:</p>\n<ol>\n<li>Spring Boot Actuator feature. Your endpoints of application will be available at http://host/actuator/mappings</li>\n<li>Swagger library can also be used to list all endpoints of a REST API</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18803648,"reputation":11,"user_id":13713461,"display_name":"Salem AlHarbi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655738395,"creation_date":1655738395,"answer_id":72689367,"question_id":33567507,"body_markdown":"The best solution is to use Spring boot actuator and hit the endpoint `/actuator/mappings` to get all the endpoints.\r\n\r\nBut if you can&#39;t use actuator or can&#39;t add it as dependency you can retrieve all the endpoints programmatically the mapping handlers, Spring get shipped with three implementations of this interface (HandlerMapping):\r\n\r\n* `RequestMappingHandlerMapping`: which is responsible for endpoints that annotated with @RequestMapping and its variants @GetMapping, @PostMapping .. etc\r\n\r\n* `BeanNameUrlHandlerMapping`: as the name suggest it will resolve the endpoint(URL) directly to a bean in the application context. for example if you hit the endpoint /resource it will look for a bean with the name /resource.\r\n\r\n* `RouterFunctionMapping`: it will scan the application context for RouterFunction beans and dispatch the request to that function.\r\n\r\nAnyways, **to answer your question** you can autowire the bean RequestMappingHandlerMapping and print out all the handler methods. Something similar to this: \r\n\r\n    @Autowired\r\n    RequestMappingHandlerMapping requestMappingHandlerMapping;\r\n    \r\n    @PostConstruct\r\n    public void printEnpoints() {\r\n        requestMappingHandlerMapping.getHandlerMethods().forEach((k,v) -&gt; System.out.println(k + &quot; : &quot;+ v));\r\n    }\r\n\r\n","title":"How to output all endpoints exposed by Spring","body":"<p>The best solution is to use Spring boot actuator and hit the endpoint <code>/actuator/mappings</code> to get all the endpoints.</p>\n<p>But if you can't use actuator or can't add it as dependency you can retrieve all the endpoints programmatically the mapping handlers, Spring get shipped with three implementations of this interface (HandlerMapping):</p>\n<ul>\n<li><p><code>RequestMappingHandlerMapping</code>: which is responsible for endpoints that annotated with @RequestMapping and its variants @GetMapping, @PostMapping .. etc</p>\n</li>\n<li><p><code>BeanNameUrlHandlerMapping</code>: as the name suggest it will resolve the endpoint(URL) directly to a bean in the application context. for example if you hit the endpoint /resource it will look for a bean with the name /resource.</p>\n</li>\n<li><p><code>RouterFunctionMapping</code>: it will scan the application context for RouterFunction beans and dispatch the request to that function.</p>\n</li>\n</ul>\n<p>Anyways, <strong>to answer your question</strong> you can autowire the bean RequestMappingHandlerMapping and print out all the handler methods. Something similar to this:</p>\n<pre><code>@Autowired\nRequestMappingHandlerMapping requestMappingHandlerMapping;\n\n@PostConstruct\npublic void printEnpoints() {\n    requestMappingHandlerMapping.getHandlerMethods().forEach((k,v) -&gt; System.out.println(k + &quot; : &quot;+ v));\n}\n</code></pre>\n"}],"owner":{"account_id":448442,"reputation":1414,"user_id":842643,"accept_rate":62,"display_name":"Jack Sierkstra"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6446,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1676407257,"creation_date":1446815166,"question_id":33567507,"body_markdown":"I&#39;d like to have a way how to expose all endpoints that exposed by my Spring application. Is there a simple way to check, for each `@profile` which are exposed?\r\n\r\nExample:\r\n\r\n    GET   /api/resource\r\n    GET   /api/resource/list\r\n    POST  /api/resource\r\n    PUT   /api/resource\r\n\r\nIn the past, I have used a web application made in Laravel, and they had a simple cli method for checking the exposed methods.","title":"How to output all endpoints exposed by Spring","body":"<p>I'd like to have a way how to expose all endpoints that exposed by my Spring application. Is there a simple way to check, for each <code>@profile</code> which are exposed?</p>\n\n<p>Example:</p>\n\n<pre><code>GET   /api/resource\nGET   /api/resource/list\nPOST  /api/resource\nPUT   /api/resource\n</code></pre>\n\n<p>In the past, I have used a web application made in Laravel, and they had a simple cli method for checking the exposed methods.</p>\n"},{"tags":["java","selenium-webdriver","xpath","css-selectors","cucumber"],"answers":[{"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1676406522,"post_id":75451461,"comment_id":133129987,"body_markdown":"By now did you get a clarification on this [answer](https://stackoverflow.com/a/75285625/7429447) against your [question](https://stackoverflow.com/q/75283733/7429447)","body":"By now did you get a clarification on this <a href=\"https://stackoverflow.com/a/75285625/7429447\">answer</a> against your <a href=\"https://stackoverflow.com/q/75283733/7429447\">question</a>"},{"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"score":0,"creation_date":1676439607,"post_id":75451461,"comment_id":133134947,"body_markdown":"nope the author has still not responded. am following up","body":"nope the author has still not responded. am following up"}],"tags":[],"owner":{"account_id":27542652,"reputation":80,"user_id":21019142,"display_name":"Selenium Lover"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676396708,"creation_date":1676396708,"answer_id":75451461,"question_id":75450885,"body_markdown":"Try using explict wait after &quot;Then&quot; before using findelement\r\n\r\nrefer this\r\nhttps://www.selenium.dev/documentation/webdriver/waits/#explicit-wait\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));\r\n    WebElement element =     \r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;Mfrontpage-header-wrapper&quot;)));","title":"How to wait for a user to login before checking they are successful using Selenium","body":"<p>Try using explict wait after &quot;Then&quot; before using findelement</p>\n<p>refer this\n<a href=\"https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait\" rel=\"nofollow noreferrer\">https://www.selenium.dev/documentation/webdriver/waits/#explicit-wait</a></p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(30));\nWebElement element =     \nwait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;Mfrontpage-header-wrapper&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676406812,"creation_date":1676406812,"answer_id":75453008,"question_id":75450885,"body_markdown":"When you execute this line of code:\r\n\r\n\tthis.driver.findElement(By.id(&quot;loginbtn&quot;)).click(); //Clicking will then load the homepage\r\n\t\r\nThe user gets logged in and the user&#39;s homepage gets loaded. So the element identfied with:\r\n\r\n\tthis.driver.findElement(By.id(&quot;frontpage-header-wrapper&quot;)); //Once on the homepage, I want to find this element to show the user has logged in\r\n\t\r\nis not readily available within the [DOM Tree](https://javascript.info/dom-nodes)\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nOnce on the homepage to identify the _**visible**_ element you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [visibilityOfElementLocated](https://stackoverflow.com/a/49749804/7429447) and you can use either of the following [_locator strategies_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _id_:\r\n\r\n\t  WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;frontpage-header-wrapper&quot;)));\r\n\r\n- Using _cssSelector_:\r\n\r\n\t  WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;#frontpage-header-wrapper&quot;)));\r\n           \t\r\n- Using _xpath_:\r\n\r\n\t  WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id=&#39;frontpage-header-wrapper&#39;&quot;)));","title":"How to wait for a user to login before checking they are successful using Selenium","body":"<p>When you execute this line of code:</p>\n<pre><code>this.driver.findElement(By.id(&quot;loginbtn&quot;)).click(); //Clicking will then load the homepage\n</code></pre>\n<p>The user gets logged in and the user's homepage gets loaded. So the element identfied with:</p>\n<pre><code>this.driver.findElement(By.id(&quot;frontpage-header-wrapper&quot;)); //Once on the homepage, I want to find this element to show the user has logged in\n</code></pre>\n<p>is not readily available within the <a href=\"https://javascript.info/dom-nodes\" rel=\"nofollow noreferrer\">DOM Tree</a></p>\n<hr />\n<h2>Solution</h2>\n<p>Once on the homepage to identify the <em><strong>visible</strong></em> element you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/49749804/7429447\">visibilityOfElementLocated</a> and you can use either of the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategies</em></a>:</p>\n<ul>\n<li><p>Using <em>id</em>:</p>\n<pre><code>WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;frontpage-header-wrapper&quot;)));\n</code></pre>\n</li>\n<li><p>Using <em>cssSelector</em>:</p>\n<pre><code>WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.cssSelector(&quot;#frontpage-header-wrapper&quot;)));\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em>:</p>\n<pre><code>WebElement element = new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.visibilityOfElementLocated(By.xpath(&quot;//*[@id='frontpage-header-wrapper'&quot;)));\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":27785706,"reputation":13,"user_id":21213195,"display_name":"Heisenthurg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75453008,"answer_count":2,"score":1,"last_activity_date":1676407127,"creation_date":1676393341,"question_id":75450885,"body_markdown":"I have written a cucumber scenario to complete the username and password fields, then click submit. Once submit is pressed, it should take the user to the homepage and check for an element to show they are logged in.\r\n\r\nCurrently, then final &#39;Then&#39; part of the scenario fails as it says it cannot find the element #frontpage-header-wrapper - as if it is checking before the login has happened and the homepage has loaded.\r\n\r\nWhat am I doing wrong here? This is the code I have currently:\r\n```\r\nGiven(&quot;I am on the VLE login page&quot;, function(){\r\n    this.driver = new Builder()\r\n        .forBrowser(&#39;chrome&#39;)\r\n        .build();\r\n \r\n    this.driver.get(&#39;http://website.com&#39;);\r\n});\r\n\r\nWhen(&quot;I enter my credentials&quot;, function(){\r\n    this.driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;username1&quot;);\r\n    this.driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;password1&quot;);\r\n    this.driver.findElement(By.id(&quot;loginbtn&quot;)).click(); //Clicking will then load the homepage\r\n});\r\n\r\nThen(&quot;I am logged in to the VLE&quot;, function(){\r\n    this.driver.findElement(By.id(&quot;frontpage-header-wrapper&quot;)); //Once on the homepage, I want to find this element to show the user has logged in\r\n});\r\n```","title":"How to wait for a user to login before checking they are successful using Selenium","body":"<p>I have written a cucumber scenario to complete the username and password fields, then click submit. Once submit is pressed, it should take the user to the homepage and check for an element to show they are logged in.</p>\n<p>Currently, then final 'Then' part of the scenario fails as it says it cannot find the element #frontpage-header-wrapper - as if it is checking before the login has happened and the homepage has loaded.</p>\n<p>What am I doing wrong here? This is the code I have currently:</p>\n<pre><code>Given(&quot;I am on the VLE login page&quot;, function(){\n    this.driver = new Builder()\n        .forBrowser('chrome')\n        .build();\n \n    this.driver.get('http://website.com');\n});\n\nWhen(&quot;I enter my credentials&quot;, function(){\n    this.driver.findElement(By.id(&quot;username&quot;)).sendKeys(&quot;username1&quot;);\n    this.driver.findElement(By.id(&quot;password&quot;)).sendKeys(&quot;password1&quot;);\n    this.driver.findElement(By.id(&quot;loginbtn&quot;)).click(); //Clicking will then load the homepage\n});\n\nThen(&quot;I am logged in to the VLE&quot;, function(){\n    this.driver.findElement(By.id(&quot;frontpage-header-wrapper&quot;)); //Once on the homepage, I want to find this element to show the user has logged in\n});\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1391754707,"post_id":21620779,"comment_id":32669859,"body_markdown":"If you&#39;re using Eclipse, you will need to place the resource in a directory at the package root...You&#39;ll need to find an Eclipse reference to get the full details.  If you have the Jar file, try unzipping it and checking that the `abc.properties` exists where you expect to it","body":"If you&#39;re using Eclipse, you will need to place the resource in a directory at the package root...You&#39;ll need to find an Eclipse reference to get the full details.  If you have the Jar file, try unzipping it and checking that the <code>abc.properties</code> exists where you expect to it"}],"answers":[{"tags":[],"owner":{"account_id":2765078,"reputation":4245,"user_id":2381006,"accept_rate":42,"display_name":"dev2d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391755295,"creation_date":1391755295,"answer_id":21620971,"question_id":21620779,"body_markdown":"your method one has to work as far as `this` refers to class a and properties file is present at the destination you mentioned","title":"How to read the property file from a class file packed as a same jar","body":"<p>your method one has to work as far as <code>this</code> refers to class a and properties file is present at the destination you mentioned</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391757120,"creation_date":1391755438,"answer_id":21621025,"question_id":21620779,"body_markdown":"It should work. The only reason it wouldn&#39;t is that com/xyz/Property/abc.properties is not in the jar ","title":"How to read the property file from a class file packed as a same jar","body":"<p>It should work. The only reason it wouldn't is that com/xyz/Property/abc.properties is not in the jar </p>\n"},{"tags":[],"owner":{"account_id":3971227,"reputation":8507,"user_id":3275788,"display_name":"wumpz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391757783,"creation_date":1391757783,"answer_id":21621669,"question_id":21620779,"body_markdown":"You are using a relative path (no **/** at the beginning), therefore **getResourceAsStream** starts from the package of your Object (**this**). Add the **/** at the beginning and you are searching classpath absolute and because you are in the same Classloader (your Class and your Property - File are in the same jar) here are no issues as well.","title":"How to read the property file from a class file packed as a same jar","body":"<p>You are using a relative path (no <strong>/</strong> at the beginning), therefore <strong>getResourceAsStream</strong> starts from the package of your Object (<strong>this</strong>). Add the <strong>/</strong> at the beginning and you are searching classpath absolute and because you are in the same Classloader (your Class and your Property - File are in the same jar) here are no issues as well.</p>\n"},{"tags":[],"owner":{"account_id":2288194,"reputation":7556,"user_id":2011748,"display_name":"Peter Keller"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391758177,"creation_date":1391758177,"answer_id":21621800,"question_id":21620779,"body_markdown":"Start the path with a `/`, see https://stackoverflow.com/questions/3803326/this-getclass-getclassloader-getresource-and-nullpointerexception/3803527#3803527.\r\n\r\nThat said:\r\n\r\n  - If you use Maven, put your property files to `src/main/resources/com/xyz/property`. Maven will do the necessary copying for you.\r\n  - Always begin your Java package names with a lower case letter, i.e. use `property` instead of `Property`. Normally, you expect only Java classes to begin with a capital letter.\r\n  - Usually, it is not necessary to work with the classloader, use `Constants.class.getResourceAsStream(&quot;/com/xyz/property/abc.properties&quot;)` instead.\r\n\r\n  ","title":"How to read the property file from a class file packed as a same jar","body":"<p>Start the path with a <code>/</code>, see <a href=\"https://stackoverflow.com/questions/3803326/this-getclass-getclassloader-getresource-and-nullpointerexception/3803527#3803527\">this.getClass().getClassLoader().getResource(&quot;...&quot;) and NullPointerException</a>.</p>\n\n<p>That said:</p>\n\n<ul>\n<li>If you use Maven, put your property files to <code>src/main/resources/com/xyz/property</code>. Maven will do the necessary copying for you.</li>\n<li>Always begin your Java package names with a lower case letter, i.e. use <code>property</code> instead of <code>Property</code>. Normally, you expect only Java classes to begin with a capital letter.</li>\n<li>Usually, it is not necessary to work with the classloader, use <code>Constants.class.getResourceAsStream(\"/com/xyz/property/abc.properties\")</code> instead.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":24542430,"reputation":1,"user_id":20133339,"display_name":"Shapetable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676407017,"creation_date":1676407017,"answer_id":75453039,"question_id":21620779,"body_markdown":"There might be an exception thrown while trying to read the InputStream object value. Try using a throws IOException class.","title":"How to read the property file from a class file packed as a same jar","body":"<p>There might be an exception thrown while trying to read the InputStream object value. Try using a throws IOException class.</p>\n"}],"owner":{"account_id":1421603,"reputation":5012,"user_id":1346104,"accept_rate":16,"display_name":"Manigandan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":5,"score":0,"last_activity_date":1676407017,"creation_date":1391754561,"question_id":21620779,"body_markdown":"I want to read a property file from a java class file which the both are packed together as a same jar. \r\n\r\n**Project Structure:**\r\n\r\n    src  \r\n    ---&gt;com  \r\n    -------&gt;xyz  \r\n    -----------&gt;Property(foldername)  \r\n    --------------------------------------&gt;abc.properties  \r\n    -----------&gt;JavaClassFileFolder  \r\n    --------------------------------------&gt;a.java\r\n\r\nIn the above structure folder, i want to read a `abc.properties` file from `a.java` file. I tried below methods in `a.java` file to read. \r\n\r\n**Method1:**\r\n\r\n    InputStream in = this.getClass().getClassLoader().getResourceAsStream(&quot;com/xyz/Property/abc.properties&quot;);  \r\n    Properties prop =  new Properties();  \r\n    prop.load(in);\r\n\r\n**Result**: Throws NPE at prop.load(in)\r\n\r\n**Method 2:**\r\n\r\n    ClassLoader cl = Constants.class.getClassLoader();\r\n    Properties prop =  new Properties();   \r\n    prop .load(cl.getResourceAsStream(&quot;com/xyz/Property/abc.properties&quot;));\r\n\r\n**Result**: Throws NPE at prop.load(in)\r\n\r\n\r\n\r\n \r\n\r\n\r\n","title":"How to read the property file from a class file packed as a same jar","body":"<p>I want to read a property file from a java class file which the both are packed together as a same jar. </p>\n\n<p><strong>Project Structure:</strong></p>\n\n<pre><code>src  \n---&gt;com  \n-------&gt;xyz  \n-----------&gt;Property(foldername)  \n--------------------------------------&gt;abc.properties  \n-----------&gt;JavaClassFileFolder  \n--------------------------------------&gt;a.java\n</code></pre>\n\n<p>In the above structure folder, i want to read a <code>abc.properties</code> file from <code>a.java</code> file. I tried below methods in <code>a.java</code> file to read. </p>\n\n<p><strong>Method1:</strong></p>\n\n<pre><code>InputStream in = this.getClass().getClassLoader().getResourceAsStream(\"com/xyz/Property/abc.properties\");  \nProperties prop =  new Properties();  \nprop.load(in);\n</code></pre>\n\n<p><strong>Result</strong>: Throws NPE at prop.load(in)</p>\n\n<p><strong>Method 2:</strong></p>\n\n<pre><code>ClassLoader cl = Constants.class.getClassLoader();\nProperties prop =  new Properties();   \nprop .load(cl.getResourceAsStream(\"com/xyz/Property/abc.properties\"));\n</code></pre>\n\n<p><strong>Result</strong>: Throws NPE at prop.load(in)</p>\n"},{"tags":["java","security","e-commerce","fraud-prevention"],"comments":[{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1522750126,"post_id":49627301,"comment_id":86261711,"body_markdown":"Regarding your partially redeemed keys : Why not deprecate the original key and create a new random key for the partially utilized gift card ? In effect - you recerate the gift card with a lower balance.","body":"Regarding your partially redeemed keys : Why not deprecate the original key and create a new random key for the partially utilized gift card ? In effect - you recerate the gift card with a lower balance."},{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1522750214,"post_id":49627301,"comment_id":86261773,"body_markdown":"Looks like the secure key generation issue is also nicely discussed here:\nhttps://stackoverflow.com/questions/7111651/how-to-generate-a-secure-random-alphanumeric-string-in-java-efficiently","body":"Looks like the secure key generation issue is also nicely discussed here: <a href=\"https://stackoverflow.com/questions/7111651/how-to-generate-a-secure-random-alphanumeric-string-in-java-efficiently\" title=\"how to generate a secure random alphanumeric string in java efficiently\">stackoverflow.com/questions/7111651/&hellip;</a>"},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522752159,"post_id":49627301,"comment_id":86262910,"body_markdown":"@ErwinBolwidt I will place this one on security.stackexchange.com so. Yes it&#39;s a startup company with only 3 developers so we are free to decide this ourselves","body":"@ErwinBolwidt I will place this one on security.stackexchange.com so. Yes it&#39;s a startup company with only 3 developers so we are free to decide this ourselves"},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522752237,"post_id":49627301,"comment_id":86262955,"body_markdown":"@RannLifshitz yes one of the solutions i&#39;m considering is to deprecate the original key and create a new one for the balance (outlined above in question)","body":"@RannLifshitz yes one of the solutions i&#39;m considering is to deprecate the original key and create a new one for the balance (outlined above in question)"},{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1522755584,"post_id":49627301,"comment_id":86264959,"body_markdown":"@Mark : I would definitly go with the deprecation and recreation of the key, based on balance change. This is a reduction of your problem - a key is associated with a balance, not a user (though you can use a DB to associate a user with multiple keys in order to record user actions). If usability is an issue - encapsulate the unique key - use a user token instead of the key. The token will be unique for the user (1-1 relationship), the encripted string will be unique for the balance, and the assocaition between the two will bedone on your backend.","body":"@Mark : I would definitly go with the deprecation and recreation of the key, based on balance change. This is a reduction of your problem - a key is associated with a balance, not a user (though you can use a DB to associate a user with multiple keys in order to record user actions). If usability is an issue - encapsulate the unique key - use a user token instead of the key. The token will be unique for the user (1-1 relationship), the encripted string will be unique for the balance, and the assocaition between the two will bedone on your backend."},{"owner":{"account_id":4390558,"reputation":1750,"user_id":3579095,"accept_rate":44,"display_name":"Lars"},"score":1,"creation_date":1522758132,"post_id":49627301,"comment_id":86266690,"body_markdown":"I hope I understand your concept correctly. But I wouldn&#39;t send informations such as giftcodes over third party servers. I would use a system like paypal or paysafecard. If a user want to pay something with a giftcard, he will be forwarded to your server to enter the code. You then notify the third party that the payment was successfully or not.","body":"I hope I understand your concept correctly. But I wouldn&#39;t send informations such as giftcodes over third party servers. I would use a system like paypal or paysafecard. If a user want to pay something with a giftcard, he will be forwarded to your server to enter the code. You then notify the third party that the payment was successfully or not."},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522764527,"post_id":49627301,"comment_id":86271390,"body_markdown":"@Lars Unfortunately that isn&#39;t an option. One option is encrypting the code on the client browser when they enter it on the online store, hitting our servers and returning some sort of key we store on the online store and associate with the payment..","body":"@Lars Unfortunately that isn&#39;t an option. One option is encrypting the code on the client browser when they enter it on the online store, hitting our servers and returning some sort of key we store on the online store and associate with the payment.."},{"owner":{"account_id":4390558,"reputation":1750,"user_id":3579095,"accept_rate":44,"display_name":"Lars"},"score":0,"creation_date":1522766925,"post_id":49627301,"comment_id":86273250,"body_markdown":"@Mark Do you have control over the online store? If not, this won&#39;t help much. The online store still has the code in plain text, not only the encrypted version. (Another problem) What if, the online store asks a user to pay 10$. Now the user enters a code with a value of 50$. The (evil) store could just send a request to your server to pay 50$ with the giftcode, that the user entered. You can&#39;t verify that the request contains only actions that the user accepted to do. Please ask this on security.stackexchange.com I&#39;m very interested to see solutions to this question.","body":"@Mark Do you have control over the online store? If not, this won&#39;t help much. The online store still has the code in plain text, not only the encrypted version. (Another problem) What if, the online store asks a user to pay 10$. Now the user enters a code with a value of 50$. The (evil) store could just send a request to your server to pay 50$ with the giftcode, that the user entered. You can&#39;t verify that the request contains only actions that the user accepted to do. Please ask this on security.stackexchange.com I&#39;m very interested to see solutions to this question."},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522767797,"post_id":49627301,"comment_id":86273935,"body_markdown":"@Lars we do to a certain extend, we have created a plugin which they install so we can control certain things. We only have 2 customers and haven&#39;t gone live yet, but have legal contracts in place.  I have re-created this on Security Stack Exchange and already have an interesting answer https://security.stackexchange.com/questions/182840/generating-and-securing-gift-card-codes","body":"@Lars we do to a certain extend, we have created a plugin which they install so we can control certain things. We only have 2 customers and haven&#39;t gone live yet, but have legal contracts in place.  I have re-created this on Security Stack Exchange and already have an interesting answer <a href=\"https://security.stackexchange.com/questions/182840/generating-and-securing-gift-card-codes\" title=\"generating and securing gift card codes\">security.stackexchange.com/questions/182840/&hellip;</a>"},{"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"score":0,"creation_date":1522768078,"post_id":49627301,"comment_id":86274132,"body_markdown":"@Lars this is a good point - after the user successfully makes an order, the online store makes a request to our servers with the redeem amount - this is done through our plugin which listens for successful orders. Hmmm","body":"@Lars this is a good point - after the user successfully makes an order, the online store makes a request to our servers with the redeem amount - this is done through our plugin which listens for successful orders. Hmmm"},{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1522770794,"post_id":49627301,"comment_id":86275968,"body_markdown":"@Mark : For the hash I would suggest using the user id + balance + date in order to ensure uniqueness.","body":"@Mark : For the hash I would suggest using the user id + balance + date in order to ensure uniqueness."}],"answers":[{"comments":[{"owner":{"account_id":341428,"reputation":1283,"user_id":672030,"display_name":"Andrei Mărcuţ"},"score":1,"creation_date":1523467293,"post_id":49704620,"comment_id":86577453,"body_markdown":"This is a nice approach you suggested here but it&#39;s most probably too far from the product&#39;s scope","body":"This is a nice approach you suggested here but it&#39;s most probably too far from the product&#39;s scope"},{"owner":{"account_id":13187313,"reputation":1322,"user_id":9524896,"display_name":"Haris Nadeem"},"score":1,"creation_date":1523516004,"post_id":49704620,"comment_id":86594558,"body_markdown":"@AndreiMarcut I agree. But since someone on another forum already gave a very good technical answer, I thought this answer might spark some ideas. For example, build the system on top of an Ethereum block chain and manage the computer nodes yourself (That too is probably far from the product&#39;s scope and would create a needless dependency). I do think that the idea of a 2 transaction type model is implementable though.","body":"@AndreiMarcut I agree. But since someone on another forum already gave a very good technical answer, I thought this answer might spark some ideas. For example, build the system on top of an Ethereum block chain and manage the computer nodes yourself (That too is probably far from the product&#39;s scope and would create a needless dependency). I do think that the idea of a 2 transaction type model is implementable though."}],"tags":[],"owner":{"account_id":13187313,"reputation":1322,"user_id":9524896,"display_name":"Haris Nadeem"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524869766,"creation_date":1523082776,"answer_id":49704620,"question_id":49627301,"body_markdown":"So the problem you are facing is an interesting problem. I read **@Therac&#39;s** solution to the problem and I would have to agree with him that you would end up creating a protocol similar to a crypto-currency. I also agree with all his cryptographic suggestions. \r\n\r\nI will not repeat **@Therac&#39;s** solution, however, I will see if I can help by explaining some ideas from crypto-currencies. I will not go into much technical detail, but at a superficial level and you can judge for yourself if the idea holds merit for your use case. \r\n\r\nSo the data structure that most cryptocurrencies use is a Merkle hash tree. The idea is that they keep it as an append only log of transactions to verify previous transactions and that they are not being double spent. \r\n\r\nSo there are two types of transactions. \r\n\r\n1. CreateGiftCode\r\n2. SpendGiftCode\r\n\r\nCreate transactions are only valid if it is [signed by your company][1]. Thus you would store the amount you gave, the user&#39;s public address (Potentially his account number) and his gift card code. \r\n\r\nThe second kind of transaction would then be SpendGiftCode. This requires the person&#39;s gift card code and would require him to also sign the transaction to validate that the transaction is coming from him. \r\n\r\nSpendGiftCode then consumes the gift card code completely (destroys the gift card code and stores that it&#39;s been used) and does one of two things:\r\n\r\n 1. If the complete amount is spent, say a gift card of $50 is completely spent on a transaction, then a new `giftcardcode` is generated to the public address of the person he is paying to (which is the other parties account number).\r\n 2.  If the amount to be spent is less, say $10 out of $50, then two `giftcardcodes` are generated. One which is of $10 is sent to the other party and a new `giftcardcode` of the remaining amount is sent back to his account.\r\n\r\nThis would require account creation for your users and vendors but can help mitigate issues such as double spending and tracking. Since it is an append only log, you will be able to follow the trail of transactions every vendor and user makes. The [merkle hash tree][2] allows for optimizations in the log keeping. \r\n\r\nOf course, there are several layers of technical difficulties I did not dive into and there are of course some plot holes in my explanation since I tried to provide a broad conceptual idea. Feel free to edit wherever you may see a mistake. Hope this was of some help,\r\n\r\nCheers!\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Digital_signature\r\n  [2]: https://brilliant.org/wiki/merkle-tree/","title":"Generating and securing gift card codes","body":"<p>So the problem you are facing is an interesting problem. I read <strong>@Therac's</strong> solution to the problem and I would have to agree with him that you would end up creating a protocol similar to a crypto-currency. I also agree with all his cryptographic suggestions. </p>\n\n<p>I will not repeat <strong>@Therac's</strong> solution, however, I will see if I can help by explaining some ideas from crypto-currencies. I will not go into much technical detail, but at a superficial level and you can judge for yourself if the idea holds merit for your use case. </p>\n\n<p>So the data structure that most cryptocurrencies use is a Merkle hash tree. The idea is that they keep it as an append only log of transactions to verify previous transactions and that they are not being double spent. </p>\n\n<p>So there are two types of transactions. </p>\n\n<ol>\n<li>CreateGiftCode</li>\n<li>SpendGiftCode</li>\n</ol>\n\n<p>Create transactions are only valid if it is <a href=\"https://en.wikipedia.org/wiki/Digital_signature\" rel=\"nofollow noreferrer\">signed by your company</a>. Thus you would store the amount you gave, the user's public address (Potentially his account number) and his gift card code. </p>\n\n<p>The second kind of transaction would then be SpendGiftCode. This requires the person's gift card code and would require him to also sign the transaction to validate that the transaction is coming from him. </p>\n\n<p>SpendGiftCode then consumes the gift card code completely (destroys the gift card code and stores that it's been used) and does one of two things:</p>\n\n<ol>\n<li>If the complete amount is spent, say a gift card of $50 is completely spent on a transaction, then a new <code>giftcardcode</code> is generated to the public address of the person he is paying to (which is the other parties account number).</li>\n<li>If the amount to be spent is less, say $10 out of $50, then two <code>giftcardcodes</code> are generated. One which is of $10 is sent to the other party and a new <code>giftcardcode</code> of the remaining amount is sent back to his account.</li>\n</ol>\n\n<p>This would require account creation for your users and vendors but can help mitigate issues such as double spending and tracking. Since it is an append only log, you will be able to follow the trail of transactions every vendor and user makes. The <a href=\"https://brilliant.org/wiki/merkle-tree/\" rel=\"nofollow noreferrer\">merkle hash tree</a> allows for optimizations in the log keeping. </p>\n\n<p>Of course, there are several layers of technical difficulties I did not dive into and there are of course some plot holes in my explanation since I tried to provide a broad conceptual idea. Feel free to edit wherever you may see a mistake. Hope this was of some help,</p>\n\n<p>Cheers!</p>\n"},{"tags":[],"owner":{"account_id":3635878,"reputation":2746,"user_id":3031010,"accept_rate":57,"display_name":"egorlitvinenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523341344,"creation_date":1523340948,"answer_id":49746591,"question_id":49627301,"body_markdown":"Consider using OAuth 2.0 protocol with JWT. Authenticate user on shop side with OAuth and provide information about balance in the token. Don&#39;t provide any gift card codes or any crucial personal information. If you need to provide gift code (for customers investigations) generate any just to distinguish but don&#39;t use them for authentication. When a user makes transaction online shop need to authenticate them to receive the actual balance.","title":"Generating and securing gift card codes","body":"<p>Consider using OAuth 2.0 protocol with JWT. Authenticate user on shop side with OAuth and provide information about balance in the token. Don't provide any gift card codes or any crucial personal information. If you need to provide gift code (for customers investigations) generate any just to distinguish but don't use them for authentication. When a user makes transaction online shop need to authenticate them to receive the actual balance.</p>\n"},{"tags":[],"owner":{"account_id":341428,"reputation":1283,"user_id":672030,"display_name":"Andrei Mărcuţ"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525905847,"creation_date":1523466444,"answer_id":49780861,"question_id":49627301,"body_markdown":"For the **first question (numeric or alpha-numeric?)** - If you focus on security (which I believe should be the case), then you want to increase the complexity of the coding alphabet so that a brute-force/guessing attacker would have to spend more effort to discover a valid gift code\r\n \r\nBy increasing the number of possibilities, the probability of guessing decreases (but it&#39;s still not bullet proof yet)\r\n\r\nI recommend using **alpha (case-sensitive) + numeric**\r\n\r\nIn fact, you are more concerned here if the attacker can repeatedly attempt to guess your codes, rather than randomly guessing a code in a one-shot\r\n\r\nTo prevent that, you could leverage existing security mechanisms/concepts, such as:\r\n\r\n(1) in the event of (your choice) 1-2-3-5 failed coupon calls, you could introduce an exponential retry delay for limiting the amount of consecutive attacks the same source could mount on your API\r\n\r\n(2) set a captcha mechanism via http redirects, to prevent bots abusing after X (your choice) failed API hits\r\n\r\n*Also*, since you are using random functions within a relatively low range of numbers, you&#39;d want to double-check the uniqueness of the new generated code against the db before granting the code to the customer, to avoid an eventual collision which in turn could put your app in an unwanted state\r\n\r\nFor the **second question,** that sounds more like it&#39;s a business decision before choosing the security mechanisms. If you want to stay a coupon service you could fund the partner the entire amount and let him manage the balance, or you could preserve the remaining balance on the existing coupon in your own system, at the risk of the partner leaking your coupon code data which then would be a much bigger problem for you or you could as well issue another new coupon with the remaining balance (but then you have the challenge of associating it to an unknown user that could be easily distracted from this flow) otherwise you&#39;d have to manage user financial accounts, which turns you into a different service..","title":"Generating and securing gift card codes","body":"<p>For the <strong>first question (numeric or alpha-numeric?)</strong> - If you focus on security (which I believe should be the case), then you want to increase the complexity of the coding alphabet so that a brute-force/guessing attacker would have to spend more effort to discover a valid gift code</p>\n\n<p>By increasing the number of possibilities, the probability of guessing decreases (but it's still not bullet proof yet)</p>\n\n<p>I recommend using <strong>alpha (case-sensitive) + numeric</strong></p>\n\n<p>In fact, you are more concerned here if the attacker can repeatedly attempt to guess your codes, rather than randomly guessing a code in a one-shot</p>\n\n<p>To prevent that, you could leverage existing security mechanisms/concepts, such as:</p>\n\n<p>(1) in the event of (your choice) 1-2-3-5 failed coupon calls, you could introduce an exponential retry delay for limiting the amount of consecutive attacks the same source could mount on your API</p>\n\n<p>(2) set a captcha mechanism via http redirects, to prevent bots abusing after X (your choice) failed API hits</p>\n\n<p><em>Also</em>, since you are using random functions within a relatively low range of numbers, you'd want to double-check the uniqueness of the new generated code against the db before granting the code to the customer, to avoid an eventual collision which in turn could put your app in an unwanted state</p>\n\n<p>For the <strong>second question,</strong> that sounds more like it's a business decision before choosing the security mechanisms. If you want to stay a coupon service you could fund the partner the entire amount and let him manage the balance, or you could preserve the remaining balance on the existing coupon in your own system, at the risk of the partner leaking your coupon code data which then would be a much bigger problem for you or you could as well issue another new coupon with the remaining balance (but then you have the challenge of associating it to an unknown user that could be easily distracted from this flow) otherwise you'd have to manage user financial accounts, which turns you into a different service..</p>\n"},{"tags":[],"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525167141,"creation_date":1525098050,"answer_id":50102461,"question_id":49627301,"body_markdown":"I went through all the replies and came up with a solution, taking into account the suggestions:\r\n\r\n- We generate a link to send to the user. The key sent in the link is a random alphanumeric string and it is hashed (MD5 or something similar) so cannot be reveversed before being saved in the DB. \r\n\r\n- When user clicks on link, they are redirected to our landing page, we use the key to get the order, check the status of the order and whether there is credit on it, and if it&#39;s ok we generate a 16 character length alphanumeric code and send to the UI. The 16 character code is hashed (again MD5) and saved in our database. Each time a user clicks on the link, they see a new gift card code as it&#39;s generated on the fly each time.\r\n\r\n- In the contract with the online store, we specify they cannot log or save the gift card code anywhere (our 2 clients are large well known online retailers)\r\n\r\n- On our client&#39;s online store checkout page, to pay with our gift card code, the user provides the 16 character gift card code. It is sent to our servers and the balance and a random payment I.D. is returned to the online store. This payment I.D is saved on the online store as part of the order. On order complete, the online store sends an API request (with the payment I.D.) to our servers to redeem the amount from the gift card (this functionality has been built by us and is provided to the online store via a plugin they install).\r\n\r\n- communication between the online store and our API is authenticated using OAuth 2.0\r\n\r\n- If there is a balance left on the gift card, a new gift card code is generated (user is sent a new link to get their new gift card code for the balance)\r\n\r\n- When the online store is billing us, they provide us with a list of payment I.D.&#39;s, which we then match to gift card codes in our backend (then matched to our issuer).\r\n\r\n\r\nProtects:\r\n\r\n* The gift card code isn&#39;t sent to an email - just the link (in our backend we can do some checks - like see of the order has expired, has the credit already been used up, before displaying the gift card code)\r\n* Someone with access to the online store&#39;s DB will not see our gift card codes\r\n* Someone who has hacked our database cannot see gift card codes (as they are hashed), nor generate the link to see the gift card codes (as the key for the link is hashed)\r\n\r\n\r\nLet me know if any comments.","title":"Generating and securing gift card codes","body":"<p>I went through all the replies and came up with a solution, taking into account the suggestions:</p>\n\n<ul>\n<li><p>We generate a link to send to the user. The key sent in the link is a random alphanumeric string and it is hashed (MD5 or something similar) so cannot be reveversed before being saved in the DB. </p></li>\n<li><p>When user clicks on link, they are redirected to our landing page, we use the key to get the order, check the status of the order and whether there is credit on it, and if it's ok we generate a 16 character length alphanumeric code and send to the UI. The 16 character code is hashed (again MD5) and saved in our database. Each time a user clicks on the link, they see a new gift card code as it's generated on the fly each time.</p></li>\n<li><p>In the contract with the online store, we specify they cannot log or save the gift card code anywhere (our 2 clients are large well known online retailers)</p></li>\n<li><p>On our client's online store checkout page, to pay with our gift card code, the user provides the 16 character gift card code. It is sent to our servers and the balance and a random payment I.D. is returned to the online store. This payment I.D is saved on the online store as part of the order. On order complete, the online store sends an API request (with the payment I.D.) to our servers to redeem the amount from the gift card (this functionality has been built by us and is provided to the online store via a plugin they install).</p></li>\n<li><p>communication between the online store and our API is authenticated using OAuth 2.0</p></li>\n<li><p>If there is a balance left on the gift card, a new gift card code is generated (user is sent a new link to get their new gift card code for the balance)</p></li>\n<li><p>When the online store is billing us, they provide us with a list of payment I.D.'s, which we then match to gift card codes in our backend (then matched to our issuer).</p></li>\n</ul>\n\n<p>Protects:</p>\n\n<ul>\n<li>The gift card code isn't sent to an email - just the link (in our backend we can do some checks - like see of the order has expired, has the credit already been used up, before displaying the gift card code)</li>\n<li>Someone with access to the online store's DB will not see our gift card codes</li>\n<li>Someone who has hacked our database cannot see gift card codes (as they are hashed), nor generate the link to see the gift card codes (as the key for the link is hashed)</li>\n</ul>\n\n<p>Let me know if any comments.</p>\n"}],"owner":{"account_id":1294821,"reputation":4548,"user_id":1246159,"accept_rate":71,"display_name":"Mark"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3348,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"answer_count":4,"score":10,"last_activity_date":1676406906,"creation_date":1522749758,"question_id":49627301,"body_markdown":"I&#39;m working for a company that is generating gift card codes which can be used to pay for goods on online stores. \r\n\r\nI&#39;m wondering what the most secure way of generating these gift card codes are. The length needs to be 16 characters (though that is negotiable) and can be alphanumeric (though numeric would be more customer friendly). \r\n\r\nFrom what I can see, the most secure way to do this is generate a gift card code of a specific length with the following Java code:\r\n\r\n\tstatic final String AB = &quot;0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;;\r\n\tstatic SecureRandom rnd = new SecureRandom();\r\n\r\n\tString randomString( int len ){\r\n\t   StringBuilder sb = new StringBuilder( len );\r\n\t   for( int i = 0; i &lt; len; i++ ) \r\n\t      sb.append( AB.charAt( rnd.nextInt(AB.length()) ) );\r\n\t   return sb.toString();\r\n\t}\r\n\r\nThis is taken from the SO answer [here][1]. I removed the lowercase letters from the string to make it more user friendly. So this produces 36 ^ 16 combinations. Numeric alone would be 10 ^ 16 combinations. I believe numeric alone would be enough but it&#39;s often stressed that, given the increasing prevalence of gift card fraud, the string should be alphanumeric.\r\n\r\n**So that&#39;s question one: numeric or alphanumeric?**\r\n\r\nWhen users use the gift cards on an online store to pay for goods, a call is made to our API which returns the balance and currency for that gift card. Given that the gift card codes are entered on 3rd party servers, these gift cards are now available to people with access to those servers. This is obviously a problem in the case where there is still a balance left after a user has partially redeemed one.\r\n\r\nOne option would be to, when the call to our API is made (with the gift card code) to get the balance, we return and save on their store a random string which can only be used by the online store when they are billing us - we will match that with the gift card code on our system. The problem with that is presumably the gift card code the user enters on checkout gets logged somewhere in their logs, and is accessible to anyone with access to those logs. \r\n\r\nAnother option is that we refresh the gift card code after it is partially redeemed. So the user essentially gets issued with a new gift card code for the balance and the previous one is cancelled. This is probably the most secure, but not that user friendly.\r\n\r\n**So that&#39;s the second question: how do we secure gift card codes that are only partially redeemed and still have value left on them?**\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/157202/1246159","title":"Generating and securing gift card codes","body":"<p>I'm working for a company that is generating gift card codes which can be used to pay for goods on online stores. </p>\n\n<p>I'm wondering what the most secure way of generating these gift card codes are. The length needs to be 16 characters (though that is negotiable) and can be alphanumeric (though numeric would be more customer friendly). </p>\n\n<p>From what I can see, the most secure way to do this is generate a gift card code of a specific length with the following Java code:</p>\n\n<pre><code>static final String AB = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\";\nstatic SecureRandom rnd = new SecureRandom();\n\nString randomString( int len ){\n   StringBuilder sb = new StringBuilder( len );\n   for( int i = 0; i &lt; len; i++ ) \n      sb.append( AB.charAt( rnd.nextInt(AB.length()) ) );\n   return sb.toString();\n}\n</code></pre>\n\n<p>This is taken from the SO answer <a href=\"https://stackoverflow.com/a/157202/1246159\">here</a>. I removed the lowercase letters from the string to make it more user friendly. So this produces 36 ^ 16 combinations. Numeric alone would be 10 ^ 16 combinations. I believe numeric alone would be enough but it's often stressed that, given the increasing prevalence of gift card fraud, the string should be alphanumeric.</p>\n\n<p><strong>So that's question one: numeric or alphanumeric?</strong></p>\n\n<p>When users use the gift cards on an online store to pay for goods, a call is made to our API which returns the balance and currency for that gift card. Given that the gift card codes are entered on 3rd party servers, these gift cards are now available to people with access to those servers. This is obviously a problem in the case where there is still a balance left after a user has partially redeemed one.</p>\n\n<p>One option would be to, when the call to our API is made (with the gift card code) to get the balance, we return and save on their store a random string which can only be used by the online store when they are billing us - we will match that with the gift card code on our system. The problem with that is presumably the gift card code the user enters on checkout gets logged somewhere in their logs, and is accessible to anyone with access to those logs. </p>\n\n<p>Another option is that we refresh the gift card code after it is partially redeemed. So the user essentially gets issued with a new gift card code for the balance and the previous one is cancelled. This is probably the most secure, but not that user friendly.</p>\n\n<p><strong>So that's the second question: how do we secure gift card codes that are only partially redeemed and still have value left on them?</strong></p>\n"},{"tags":["java","xml","xpath"],"answers":[{"comments":[{"owner":{"account_id":27786821,"reputation":31,"user_id":21214096,"display_name":"Looking for a answer ..."},"score":0,"creation_date":1676405164,"post_id":75452485,"comment_id":133129660,"body_markdown":"Nothing at this moment is working yet. :(","body":"Nothing at this moment is working yet. :("},{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1676406859,"post_id":75452485,"comment_id":133130058,"body_markdown":"@Lookingforaanswer... Add the rest of the code to the answer. How is ` XPathExpression` used.","body":"@Lookingforaanswer... Add the rest of the code to the answer. How is ` XPathExpression` used."}],"tags":[],"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676406781,"creation_date":1676403083,"answer_id":75452485,"question_id":75452316,"body_markdown":"All requested elements are children of `alumno`. This XPath gets the values\r\n\r\n    //modulo[@m=&quot;M01&quot;]/alumno[nombre[.=&quot;Steve Rogers&quot;]]/*/text()\r\n\r\nOr\r\n\r\n    //modulo[@m=&quot;M01&quot;]/alumno[1]/*/text()\r\n\r\nOr\r\n\r\n    //modulo[@m=&quot;M01&quot;]/alumno[1]/descendant::*[local-name()=&quot;nombre&quot; or starts-with(local-name(),&quot;UF&quot;)]/text()\r\n","title":"Xpath query with Java","body":"<p>All requested elements are children of <code>alumno</code>. This XPath gets the values</p>\n<pre><code>//modulo[@m=&quot;M01&quot;]/alumno[nombre[.=&quot;Steve Rogers&quot;]]/*/text()\n</code></pre>\n<p>Or</p>\n<pre><code>//modulo[@m=&quot;M01&quot;]/alumno[1]/*/text()\n</code></pre>\n<p>Or</p>\n<pre><code>//modulo[@m=&quot;M01&quot;]/alumno[1]/descendant::*[local-name()=&quot;nombre&quot; or starts-with(local-name(),&quot;UF&quot;)]/text()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27786821,"reputation":31,"user_id":21214096,"display_name":"Looking for a answer ..."},"score":0,"creation_date":1677344022,"post_id":75452899,"comment_id":133320942,"body_markdown":"I really appreciate your answer, all the answers here. I see a lot of effort. Nothing is working yet but i believe it is for my xpath version.","body":"I really appreciate your answer, all the answers here. I see a lot of effort. Nothing is working yet but i believe it is for my xpath version."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676405920,"creation_date":1676405920,"answer_id":75452899,"question_id":75452316,"body_markdown":"The slash (`/`) represents a parent-child relationship.\r\n\r\n`/modulos/modulo` means “all `modulo` elements which are children of the root `modulos` element.”\r\n\r\n`alumno/nombre/UF1/UF2/UF3` means “a UF3 element which is a child of a UF2 element which is a child of a UF1 element which is a child of a nombre element which is a child of an alumno element.”  In other words, your XPath is looking for this:\r\n\r\n    &lt;modulos&gt;\r\n        &lt;modulo m=&quot;M01&quot;&gt;\r\n            &lt;alumno&gt;\r\n                &lt;nombre&gt;\r\n                    &lt;UF1&gt;\r\n                        &lt;UF2&gt;\r\n                            &lt;UF3&gt;7.00&lt;/UF3&gt;\r\n                        &lt;/UF2&gt;\r\n                    &lt;/UF1&gt;\r\n                &lt;/nombre&gt;\r\n            &lt;/alumno&gt;\r\n            &lt;alumno&gt;\r\n                &lt;nombre&gt;\r\n                    &lt;UF1&gt;\r\n                        &lt;UF2&gt;\r\n                            &lt;UF3&gt;8.00&lt;/UF3&gt;\r\n                        &lt;/UF2&gt;\r\n                    &lt;/UF1&gt;\r\n                &lt;/nombre&gt;\r\n            &lt;/alumno&gt;\r\n            &lt;alumno&gt;\r\n                &lt;nombre&gt;\r\n                    &lt;UF1&gt;\r\n                        &lt;UF2&gt;\r\n                            &lt;UF3&gt;9.00&lt;/UF3&gt;\r\n                        &lt;/UF2&gt;\r\n                    &lt;/UF1&gt;\r\n                &lt;/nombre&gt;\r\n            &lt;/alumno&gt;\r\n        &lt;/modulo&gt;\r\n\r\nObviously, this isn’t what you want.  You want the text of each child element in the `alumno` element.  The easiest way to do that is:\r\n\r\n    xpath.compile(&quot;/modulos/modulo[@m=&#39;M01&#39;]/alumno/*/text()&quot;);\r\n\r\nThe `*` means “an element with any name.”  The above expression is safe as long as you can be sure that the only element children of `alumno` will be nombre, UF1, UF2, and UF3.\r\n","title":"Xpath query with Java","body":"<p>The slash (<code>/</code>) represents a parent-child relationship.</p>\n<p><code>/modulos/modulo</code> means “all <code>modulo</code> elements which are children of the root <code>modulos</code> element.”</p>\n<p><code>alumno/nombre/UF1/UF2/UF3</code> means “a UF3 element which is a child of a UF2 element which is a child of a UF1 element which is a child of a nombre element which is a child of an alumno element.”  In other words, your XPath is looking for this:</p>\n<pre><code>&lt;modulos&gt;\n    &lt;modulo m=&quot;M01&quot;&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;\n                &lt;UF1&gt;\n                    &lt;UF2&gt;\n                        &lt;UF3&gt;7.00&lt;/UF3&gt;\n                    &lt;/UF2&gt;\n                &lt;/UF1&gt;\n            &lt;/nombre&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;\n                &lt;UF1&gt;\n                    &lt;UF2&gt;\n                        &lt;UF3&gt;8.00&lt;/UF3&gt;\n                    &lt;/UF2&gt;\n                &lt;/UF1&gt;\n            &lt;/nombre&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;\n                &lt;UF1&gt;\n                    &lt;UF2&gt;\n                        &lt;UF3&gt;9.00&lt;/UF3&gt;\n                    &lt;/UF2&gt;\n                &lt;/UF1&gt;\n            &lt;/nombre&gt;\n        &lt;/alumno&gt;\n    &lt;/modulo&gt;\n</code></pre>\n<p>Obviously, this isn’t what you want.  You want the text of each child element in the <code>alumno</code> element.  The easiest way to do that is:</p>\n<pre><code>xpath.compile(&quot;/modulos/modulo[@m='M01']/alumno/*/text()&quot;);\n</code></pre>\n<p>The <code>*</code> means “an element with any name.”  The above expression is safe as long as you can be sure that the only element children of <code>alumno</code> will be nombre, UF1, UF2, and UF3.</p>\n"}],"owner":{"account_id":27786821,"reputation":31,"user_id":21214096,"display_name":"Looking for a answer ..."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676406781,"creation_date":1676402041,"question_id":75452316,"body_markdown":"I need the right command for an Xpath query with Java\r\n\r\nGood evening.\r\nI&#39;m here beacause I am not able to get the right result. I am trying to get UF1  UF2 UF3 and Steve Rogers in the next xml document. I am using Java and I am using the next expresion:  `XPathExpression expr = xpath.compile(&quot;/modulos/modulo[@m=&#39;M01&#39;]/alumno/nombre/text()&quot;);`\r\n\r\nI get Steve Rogers only. If I write  \r\n`XPathExpression expr = xpath.compile(&quot;/modulos/modulo[@m=&#39;M01&#39;]/alumno/nombre/UF1/UF2/UF3/text()&quot;);`\r\n\r\nI don&#180;t get anyting. Any idea? Thanks a lot. Regards\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;modulos&gt;\r\n    \t&lt;modulo m=&quot;M01&quot;&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Steve Rogers&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;5.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;3.00&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;7.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;9.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;8.50&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;8.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Tony Stark&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;9.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;9.00&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;9.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t&lt;/modulo&gt;\r\n    \t&lt;modulo m=&quot;M02&quot;&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;10.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;7.75&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;6.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t&lt;/modulo&gt;\r\n    \t&lt;modulo m=&quot;M03&quot;&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;8.50&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;6.50&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;5.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t\t&lt;alumno&gt;\r\n    \t\t\t&lt;nombre&gt;Tony Stark&lt;/nombre&gt;\r\n    \t\t\t&lt;UF1&gt;8.00&lt;/UF1&gt;\r\n    \t\t\t&lt;UF2&gt;10.00&lt;/UF2&gt;\r\n    \t\t\t&lt;UF3&gt;9.00&lt;/UF3&gt;\r\n    \t\t&lt;/alumno&gt;\r\n    \t&lt;/modulo&gt;\r\n    &lt;/modulos&gt;\r\n\r\n","title":"Xpath query with Java","body":"<p>I need the right command for an Xpath query with Java</p>\n<p>Good evening.\nI'm here beacause I am not able to get the right result. I am trying to get UF1  UF2 UF3 and Steve Rogers in the next xml document. I am using Java and I am using the next expresion:  <code>XPathExpression expr = xpath.compile(&quot;/modulos/modulo[@m='M01']/alumno/nombre/text()&quot;);</code></p>\n<p>I get Steve Rogers only. If I write<br />\n<code>XPathExpression expr = xpath.compile(&quot;/modulos/modulo[@m='M01']/alumno/nombre/UF1/UF2/UF3/text()&quot;);</code></p>\n<p>I don´t get anyting. Any idea? Thanks a lot. Regards</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;modulos&gt;\n    &lt;modulo m=&quot;M01&quot;&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Steve Rogers&lt;/nombre&gt;\n            &lt;UF1&gt;5.00&lt;/UF1&gt;\n            &lt;UF2&gt;3.00&lt;/UF2&gt;\n            &lt;UF3&gt;7.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\n            &lt;UF1&gt;9.00&lt;/UF1&gt;\n            &lt;UF2&gt;8.50&lt;/UF2&gt;\n            &lt;UF3&gt;8.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Tony Stark&lt;/nombre&gt;\n            &lt;UF1&gt;9.00&lt;/UF1&gt;\n            &lt;UF2&gt;9.00&lt;/UF2&gt;\n            &lt;UF3&gt;9.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n    &lt;/modulo&gt;\n    &lt;modulo m=&quot;M02&quot;&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\n            &lt;UF1&gt;10.00&lt;/UF1&gt;\n            &lt;UF2&gt;7.75&lt;/UF2&gt;\n            &lt;UF3&gt;6.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n    &lt;/modulo&gt;\n    &lt;modulo m=&quot;M03&quot;&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Bruce Banner&lt;/nombre&gt;\n            &lt;UF1&gt;8.50&lt;/UF1&gt;\n            &lt;UF2&gt;6.50&lt;/UF2&gt;\n            &lt;UF3&gt;5.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n        &lt;alumno&gt;\n            &lt;nombre&gt;Tony Stark&lt;/nombre&gt;\n            &lt;UF1&gt;8.00&lt;/UF1&gt;\n            &lt;UF2&gt;10.00&lt;/UF2&gt;\n            &lt;UF3&gt;9.00&lt;/UF3&gt;\n        &lt;/alumno&gt;\n    &lt;/modulo&gt;\n&lt;/modulos&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","amazon-glacier","aws-java-sdk-2.x"],"comments":[{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1676412113,"post_id":75453001,"comment_id":133131304,"body_markdown":"WHat is the issue - you know the required values to make a successful call to restoreObject().","body":"WHat is the issue - you know the required values to make a successful call to restoreObject()."},{"owner":{"account_id":11879605,"reputation":33,"user_id":8693662,"accept_rate":83,"display_name":"Shariq Ali"},"score":0,"creation_date":1676414104,"post_id":75453001,"comment_id":133131678,"body_markdown":"on adding the description to restoreRequest, the restoreObject() function call fails and exception is S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400)\nSince its a 400 (bad request) then it means issue is on client end (due to usage of description parameter). on removing description parameter, it works perfect.","body":"on adding the description to restoreRequest, the restoreObject() function call fails and exception is S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400) Since its a 400 (bad request) then it means issue is on client end (due to usage of description parameter). on removing description parameter, it works perfect."},{"owner":{"account_id":11879605,"reputation":33,"user_id":8693662,"accept_rate":83,"display_name":"Shariq Ali"},"score":0,"creation_date":1676414422,"post_id":75453001,"comment_id":133131749,"body_markdown":"@smac2020 please also check the same problem mentioned as 2nd issue, in following article.\nhttps://github.com/aws/aws-sdk/issues/246","body":"@smac2020 please also check the same problem mentioned as 2nd issue, in following article. <a href=\"https://github.com/aws/aws-sdk/issues/246\" rel=\"nofollow noreferrer\">github.com/aws/aws-sdk/issues/246</a>"}],"owner":{"account_id":11879605,"reputation":33,"user_id":8693662,"accept_rate":83,"display_name":"Shariq Ali"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676406744,"creation_date":1676406744,"question_id":75453001,"body_markdown":"Creating an *Object Restore request* from *AWS S3 Glacier Deep Archieve* to *AWS S3 standard storage* using AWS Java SDK V2 with the following code. **Which works successfully with these parameters specified for *restoreRequest object*!**\r\n\r\n    try {\r\n            S3Client s3Client = S3Client.builder().build();\r\n            System.out.println(&quot;S3 client created. . .&quot;);\r\n\r\n            RestoreRequest restoreRequest = RestoreRequest.builder().description(\r\n                    .glacierJobParameters(GlacierJobParameters.builder().tier(Tier.STANDARD).build())\r\n                    .days(1)\r\n                    .build();\r\n\r\n            RestoreObjectRequest objectRequest = RestoreObjectRequest.builder()\r\n                    .bucket(&quot;myBucket&quot;)\r\n                    .key(&quot;data/myObject.zip&quot;)\r\n                    .restoreRequest(restoreRequest)\r\n                    .build(); \r\n\r\n            s3Client.restoreObject(objectRequest);\r\n        } catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\nbut by adding only one parameter **&quot;description&quot;** (as shown in code below) to the **restoreRequest**, the following exception is thrown on **s3Client.restoreObject(objectRequest)**.\r\n\r\n    try {\r\n            S3Client s3Client = S3Client.builder().build();\r\n            System.out.println(&quot;S3 client created. . .&quot;);\r\n\r\n            RestoreRequest restoreRequest = RestoreRequest.builder().description(\r\n                    .glacierJobParameters(GlacierJobParameters.builder().tier(Tier.STANDARD).build())\r\n                    .days(1)\r\n                    .description(&quot;description about the object&quot;)\r\n                    .build();\r\n\r\n            RestoreObjectRequest objectRequest = RestoreObjectRequest.builder()\r\n                    .bucket(&quot;myBucket&quot;)\r\n                    .key(&quot;data/myObject.zip&quot;)\r\n                    .restoreRequest(restoreRequest)\r\n                    .build(); \r\n\r\n            s3Client.restoreObject(objectRequest);\r\n        } catch(Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n&gt;software.amazon.awssdk.services.s3.model.S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400, Request ID: 0Y7K1MVBGP5SP9FS, Extended Request ID: DZfX93DOWguFo0MVnTR3Awk9i5gG867rkZnTLU4bAueRQqjBhkq5eTjFWzltJRpxMYa5LmnWal0=)\r\n        at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleErrorResponse(AwsXmlPredicatedResponseHandler.java:156)\r\n        at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleResponse(AwsXmlPredicatedResponseHandler.java:108)\r\n        at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handle(AwsXmlPredicatedResponseHandler.java:85)\r\n        at software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handle(AwsXmlPredicatedResponseHandler.java:43)\r\n        at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:95)\r\n        at software.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$successTransformationResponseHandler$7(BaseClientHandler.java:245)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n        at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\r\n        at software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\r\n        at software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\r\n        at software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\r\n        at software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\r\n        at software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\r\n        at software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\r\n        at software.amazon.awssdk.services.s3.DefaultS3Client.restoreObject(DefaultS3Client.java:10422)\r\n        at org.example.App.main(App.java:150)","title":"Set &quot;Description&quot; in RestoreRequest for S3 object retrieval from GDA to Standard storage using AWS Java SDK v2","body":"<p>Creating an <em>Object Restore request</em> from <em>AWS S3 Glacier Deep Archieve</em> to <em>AWS S3 standard storage</em> using AWS Java SDK V2 with the following code. <strong>Which works successfully with these parameters specified for <em>restoreRequest object</em>!</strong></p>\n<pre><code>try {\n        S3Client s3Client = S3Client.builder().build();\n        System.out.println(&quot;S3 client created. . .&quot;);\n\n        RestoreRequest restoreRequest = RestoreRequest.builder().description(\n                .glacierJobParameters(GlacierJobParameters.builder().tier(Tier.STANDARD).build())\n                .days(1)\n                .build();\n\n        RestoreObjectRequest objectRequest = RestoreObjectRequest.builder()\n                .bucket(&quot;myBucket&quot;)\n                .key(&quot;data/myObject.zip&quot;)\n                .restoreRequest(restoreRequest)\n                .build(); \n\n        s3Client.restoreObject(objectRequest);\n    } catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n<p>but by adding only one parameter <strong>&quot;description&quot;</strong> (as shown in code below) to the <strong>restoreRequest</strong>, the following exception is thrown on <strong>s3Client.restoreObject(objectRequest)</strong>.</p>\n<pre><code>try {\n        S3Client s3Client = S3Client.builder().build();\n        System.out.println(&quot;S3 client created. . .&quot;);\n\n        RestoreRequest restoreRequest = RestoreRequest.builder().description(\n                .glacierJobParameters(GlacierJobParameters.builder().tier(Tier.STANDARD).build())\n                .days(1)\n                .description(&quot;description about the object&quot;)\n                .build();\n\n        RestoreObjectRequest objectRequest = RestoreObjectRequest.builder()\n                .bucket(&quot;myBucket&quot;)\n                .key(&quot;data/myObject.zip&quot;)\n                .restoreRequest(restoreRequest)\n                .build(); \n\n        s3Client.restoreObject(objectRequest);\n    } catch(Exception e){\n        e.printStackTrace();\n    }\n</code></pre>\n<blockquote>\n<p>software.amazon.awssdk.services.s3.model.S3Exception: The XML you provided was not well-formed or did not validate against our published schema (Service: S3, Status Code: 400, Request ID: 0Y7K1MVBGP5SP9FS, Extended Request ID: DZfX93DOWguFo0MVnTR3Awk9i5gG867rkZnTLU4bAueRQqjBhkq5eTjFWzltJRpxMYa5LmnWal0=)\nat software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleErrorResponse(AwsXmlPredicatedResponseHandler.java:156)\nat software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handleResponse(AwsXmlPredicatedResponseHandler.java:108)\nat software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handle(AwsXmlPredicatedResponseHandler.java:85)\nat software.amazon.awssdk.protocols.xml.internal.unmarshall.AwsXmlPredicatedResponseHandler.handle(AwsXmlPredicatedResponseHandler.java:43)\nat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler$Crc32ValidationResponseHandler.handle(AwsSyncClientHandler.java:95)\nat software.amazon.awssdk.core.internal.handler.BaseClientHandler.lambda$successTransformationResponseHandler$7(BaseClientHandler.java:245)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:40)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.HandleResponseStage.execute(HandleResponseStage.java:30)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:73)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptTimeoutTrackingStage.execute(ApiCallAttemptTimeoutTrackingStage.java:42)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:78)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.TimeoutExceptionHandlingStage.execute(TimeoutExceptionHandlingStage.java:40)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:50)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallAttemptMetricCollectionStage.execute(ApiCallAttemptMetricCollectionStage.java:36)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:81)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.RetryableStage.execute(RetryableStage.java:36)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:56)\nat software.amazon.awssdk.core.internal.http.StreamManagingStage.execute(StreamManagingStage.java:36)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.executeWithTimer(ApiCallTimeoutTrackingStage.java:80)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:60)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallTimeoutTrackingStage.execute(ApiCallTimeoutTrackingStage.java:42)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:48)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ApiCallMetricCollectionStage.execute(ApiCallMetricCollectionStage.java:31)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.RequestPipelineBuilder$ComposingRequestPipelineStage.execute(RequestPipelineBuilder.java:206)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:37)\nat software.amazon.awssdk.core.internal.http.pipeline.stages.ExecutionFailureExceptionReportingStage.execute(ExecutionFailureExceptionReportingStage.java:26)\nat software.amazon.awssdk.core.internal.http.AmazonSyncHttpClient$RequestExecutionBuilderImpl.execute(AmazonSyncHttpClient.java:193)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.invoke(BaseSyncClientHandler.java:103)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.doExecute(BaseSyncClientHandler.java:167)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.lambda$execute$1(BaseSyncClientHandler.java:82)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.measureApiCallSuccess(BaseSyncClientHandler.java:175)\nat software.amazon.awssdk.core.internal.handler.BaseSyncClientHandler.execute(BaseSyncClientHandler.java:76)\nat software.amazon.awssdk.core.client.handler.SdkSyncClientHandler.execute(SdkSyncClientHandler.java:45)\nat software.amazon.awssdk.awscore.client.handler.AwsSyncClientHandler.execute(AwsSyncClientHandler.java:56)\nat software.amazon.awssdk.services.s3.DefaultS3Client.restoreObject(DefaultS3Client.java:10422)\nat org.example.App.main(App.java:150)</p>\n</blockquote>\n"},{"tags":["java","android","react-native","android-studio","gradle"],"comments":[{"owner":{"account_id":15198137,"reputation":237,"user_id":10966893,"display_name":"Sai kiran"},"score":0,"creation_date":1676440231,"post_id":75452952,"comment_id":133135034,"body_markdown":"As per the logs, it says Failed to find Build Tools revision 30.0.3. You can find the build tools versions from **https://developer.android.com/studio/releases/build-tools** and change it accordingly to your project requirement. Feel free to reach out if it didn&#39;t work","body":"As per the logs, it says Failed to find Build Tools revision 30.0.3. You can find the build tools versions from <b><a href=\"https://developer.android.com/studio/releases/build-tools\" rel=\"nofollow noreferrer\">developer.android.com/studio/releases/build-tools</a></b> and change it accordingly to your project requirement. Feel free to reach out if it didn&#39;t work"}],"owner":{"account_id":14614040,"reputation":661,"user_id":10554702,"display_name":"Ritik Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676406299,"creation_date":1676406299,"question_id":75452952,"body_markdown":"when I&#39;m trying to run react native which I&#39;ve created using ```npx react-native init project-name``` using command ```npx react-native start```. I&#39;m getting a connection refused error at last.\r\nPasting the error below\r\n```\r\nTE\r\n&gt; Task :react-native-gradle-plugin:processResources UP-TO-DATE\r\n&gt; Task :react-native-gradle-plugin:classes UP-TO-DATE\r\n&gt; Task :react-native-gradle-plugin:inspectClassesForKotlinIC UP-TO-DATE\r\n&gt; Task :react-native-gradle-plugin:jar UP-TO-DATE\r\nIOException: https://dl.google.com/android/repository/addons_list-5.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nIOException: https://dl.google.com/android/repository/addons_list-4.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nIOException: https://dl.google.com/android/repository/addons_list-3.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nIOException: https://dl.google.com/android/repository/addons_list-2.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nIOException: https://dl.google.com/android/repository/addons_list-1.xml\r\njava.net.ConnectException: Connection refused (Connection refused)\r\nFailed to download any source lists!\r\nIO exception while downloading manifest:\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n        at java.base/java.net.Socket.connect(Socket.java:609)\r\n        at java.base/java.net.Socket.connect(Socket.java:558)\r\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:559)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:556)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:597)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openUrl(DownloadCache.java:245)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.downloadAndCache(DownloadCache.java:622)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openCachedUrl(DownloadCache.java:545)\r\n        at com.android.sdklib.repository.legacy.LegacyDownloader.downloadAndStream(LegacyDownloader.java:82)\r\n        at com.android.repository.impl.downloader.LocalFileAwareDownloader.downloadAndStream(LocalFileAwareDownloader.java:51)\r\n        at com.android.repository.impl.manager.RemoteRepoLoaderImpl.lambda$fetchPackages$0(RemoteRepoLoaderImpl.java:138)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nIO exception while downloading manifest:\r\njava.net.ConnectException: Connection refused (Connection refused)\r\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\r\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\r\n        at java.base/java.net.Socket.connect(Socket.java:609)\r\n        at java.base/java.net.Socket.connect(Socket.java:558)\r\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:559)\r\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:556)\r\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:597)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\r\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\r\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\r\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\r\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openUrl(DownloadCache.java:245)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.downloadAndCache(DownloadCache.java:622)\r\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openCachedUrl(DownloadCache.java:545)\r\n        at com.android.sdklib.repository.legacy.LegacyDownloader.downloadAndStream(LegacyDownloader.java:82)\r\n        at com.android.repository.impl.downloader.LocalFileAwareDownloader.downloadAndStream(LocalFileAwareDownloader.java:51)\r\n        at com.android.repository.impl.manager.RemoteRepoLoaderImpl.lambda$fetchPackages$0(RemoteRepoLoaderImpl.java:138)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\nStill waiting for package manifests to be fetched remotely.\r\n5 actionable tasks: 5 up-to-date\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Failed to find Build Tools revision 30.0.3\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 16s\r\n\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not determine the dependencies of task &#39;:app:compileDebugJavaWithJavac&#39;.\r\n&gt; Failed to find Build Tools revision 30.0.3\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 16s\r\n\r\n    at makeError (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:174:9)\r\n    at /Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:278:16\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n    at async runOnAllDevices (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:82:7)\r\n    at async Command.handleAction (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli/build/index.js:108:9)\r\ninfo Run CLI with --verbose flag for more details.\r\n```\r\n\r\nI tried to open this project in every IDE including Vscode, Intellij and Android studio.\r\nI&#39;ve configured all the things as per react native docs only. I&#39;m working behind company proxy. I&#39;ve setup that also in gradle.properties of android folder\r\n```\r\n\r\nsystemProp.http.proxyHost=&lt;org-proxy-host&gt;\r\nsystemProp.http.proxyPort=&lt;port&gt;\r\nsystemProp.https.proxyHost=&lt;org-proxy-host&gt;\r\nsystemProp.https.proxyPort=&lt;org-proxy-host&gt;\r\n\r\n```\r\n\r\nEven I&#39;ve configured the proxy in Intellij and android studio setting also in &lt;b&gt;Http proxy&lt;/b&gt;\r\nalso configured the npm http and https proxy\r\nTried to find so much, but only solution I got is to set the proxy in IDE setting of intellij and Android studio. Did that also but nothing happened.\r\n\r\nThanks in Advance to all.\r\n","title":"Npx react-native start giving connection Refused error everytime","body":"<p>when I'm trying to run react native which I've created using <code>npx react-native init project-name</code> using command <code>npx react-native start</code>. I'm getting a connection refused error at last.\nPasting the error below</p>\n<pre><code>TE\n&gt; Task :react-native-gradle-plugin:processResources UP-TO-DATE\n&gt; Task :react-native-gradle-plugin:classes UP-TO-DATE\n&gt; Task :react-native-gradle-plugin:inspectClassesForKotlinIC UP-TO-DATE\n&gt; Task :react-native-gradle-plugin:jar UP-TO-DATE\nIOException: https://dl.google.com/android/repository/addons_list-5.xml\njava.net.ConnectException: Connection refused (Connection refused)\nIOException: https://dl.google.com/android/repository/addons_list-4.xml\njava.net.ConnectException: Connection refused (Connection refused)\nIOException: https://dl.google.com/android/repository/addons_list-3.xml\njava.net.ConnectException: Connection refused (Connection refused)\nIOException: https://dl.google.com/android/repository/addons_list-2.xml\njava.net.ConnectException: Connection refused (Connection refused)\nIOException: https://dl.google.com/android/repository/addons_list-1.xml\njava.net.ConnectException: Connection refused (Connection refused)\nFailed to download any source lists!\nIO exception while downloading manifest:\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n        at java.base/java.net.Socket.connect(Socket.java:609)\n        at java.base/java.net.Socket.connect(Socket.java:558)\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:559)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:556)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:597)\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openUrl(DownloadCache.java:245)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.downloadAndCache(DownloadCache.java:622)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openCachedUrl(DownloadCache.java:545)\n        at com.android.sdklib.repository.legacy.LegacyDownloader.downloadAndStream(LegacyDownloader.java:82)\n        at com.android.repository.impl.downloader.LocalFileAwareDownloader.downloadAndStream(LocalFileAwareDownloader.java:51)\n        at com.android.repository.impl.manager.RemoteRepoLoaderImpl.lambda$fetchPackages$0(RemoteRepoLoaderImpl.java:138)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\nIO exception while downloading manifest:\njava.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412)\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255)\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237)\n        at java.base/java.net.Socket.connect(Socket.java:609)\n        at java.base/java.net.Socket.connect(Socket.java:558)\n        at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:182)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:507)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:559)\n        at java.base/sun.net.www.http.HttpClient$1.run(HttpClient.java:557)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at java.base/sun.net.www.http.HttpClient.privilegedOpenServer(HttpClient.java:556)\n        at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:597)\n        at java.base/sun.net.www.protocol.https.HttpsClient.&lt;init&gt;(HttpsClient.java:266)\n        at java.base/sun.net.www.protocol.https.HttpsClient.New(HttpsClient.java:373)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.getNewHttpClient(AbstractDelegateHttpsURLConnection.java:207)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1232)\n        at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1081)\n        at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:193)\n        at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:168)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openUrl(DownloadCache.java:245)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.downloadAndCache(DownloadCache.java:622)\n        at com.android.sdklib.repository.legacy.remote.internal.DownloadCache.openCachedUrl(DownloadCache.java:545)\n        at com.android.sdklib.repository.legacy.LegacyDownloader.downloadAndStream(LegacyDownloader.java:82)\n        at com.android.repository.impl.downloader.LocalFileAwareDownloader.downloadAndStream(LocalFileAwareDownloader.java:51)\n        at com.android.repository.impl.manager.RemoteRepoLoaderImpl.lambda$fetchPackages$0(RemoteRepoLoaderImpl.java:138)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\nStill waiting for package manifests to be fetched remotely.\n5 actionable tasks: 5 up-to-date\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; Failed to find Build Tools revision 30.0.3\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 16s\n\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:compileDebugJavaWithJavac'.\n&gt; Failed to find Build Tools revision 30.0.3\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 16s\n\n    at makeError (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:174:9)\n    at /Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:278:16\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\n    at async runOnAllDevices (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:82:7)\n    at async Command.handleAction (/Users/rkuqd/Documents/projectreact/node_modules/@react-native-community/cli/build/index.js:108:9)\ninfo Run CLI with --verbose flag for more details.\n</code></pre>\n<p>I tried to open this project in every IDE including Vscode, Intellij and Android studio.\nI've configured all the things as per react native docs only. I'm working behind company proxy. I've setup that also in gradle.properties of android folder</p>\n<pre><code>\nsystemProp.http.proxyHost=&lt;org-proxy-host&gt;\nsystemProp.http.proxyPort=&lt;port&gt;\nsystemProp.https.proxyHost=&lt;org-proxy-host&gt;\nsystemProp.https.proxyPort=&lt;org-proxy-host&gt;\n\n</code></pre>\n<p>Even I've configured the proxy in Intellij and android studio setting also in <b>Http proxy</b>\nalso configured the npm http and https proxy\nTried to find so much, but only solution I got is to set the proxy in IDE setting of intellij and Android studio. Did that also but nothing happened.</p>\n<p>Thanks in Advance to all.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","maven"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676323572,"post_id":75441300,"comment_id":133110947,"body_markdown":"It would probably help to include your pom contents in the question. Relevant pieces of the pom only, please; entire pom files can be large and &quot;noisy.&quot;","body":"It would probably help to include your pom contents in the question. Relevant pieces of the pom only, please; entire pom files can be large and &quot;noisy.&quot;"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676324629,"post_id":75441300,"comment_id":133111199,"body_markdown":"FYI, `spring-boot-starter-data-jpa` already declares `hibernate-core` 6.1.6 as a dependency, so you don&#39;t need to specify the version in your pom. You can probably just leave out the reference to `hibernate-core` altogether, it&#39;s a transitive dependency.","body":"FYI, <code>spring-boot-starter-data-jpa</code> already declares <code>hibernate-core</code> 6.1.6 as a dependency, so you don&#39;t need to specify the version in your pom. You can probably just leave out the reference to <code>hibernate-core</code> altogether, it&#39;s a transitive dependency."},{"owner":{"account_id":1705504,"reputation":149,"user_id":1564626,"accept_rate":20,"display_name":"srikant_mantha"},"score":0,"creation_date":1676412568,"post_id":75441300,"comment_id":133131393,"body_markdown":"@E-Riz: updated my post with latest issue.","body":"@E-Riz: updated my post with latest issue."},{"owner":{"account_id":2744963,"reputation":1366,"user_id":2365580,"accept_rate":67,"display_name":"Holi Boom"},"score":1,"creation_date":1676804791,"post_id":75441300,"comment_id":133207656,"body_markdown":"For me after I&#39;v remove dependency com.vladmihalcea, problem gone.","body":"For me after I&#39;v remove dependency com.vladmihalcea, problem gone."},{"owner":{"account_id":1705504,"reputation":149,"user_id":1564626,"accept_rate":20,"display_name":"srikant_mantha"},"score":0,"creation_date":1677077259,"post_id":75441300,"comment_id":133266401,"body_markdown":"@HoliBoom: Yes, after replacing the depenency of \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n            &lt;version&gt;2.16.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\nwith \n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hypersistence-utils-hibernate-60&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n\nresolved the issue","body":"@HoliBoom: Yes, after replacing the depenency of           &lt;dependency&gt;             &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;             &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;             &lt;version&gt;2.16.2&lt;/version&gt;         &lt;/dependency&gt;  with   &lt;dependency&gt;     &lt;groupId&gt;io.hypersistence&lt;/groupId&gt;     &lt;artifactId&gt;hypersistence-utils-hibernate-60&lt;/artifactId&gt;     &lt;version&gt;3.2.0&lt;/version&gt; &lt;/dependency&gt;  resolved the issue"}],"owner":{"account_id":1705504,"reputation":149,"user_id":1564626,"accept_rate":20,"display_name":"srikant_mantha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676406279,"creation_date":1676323313,"question_id":75441300,"body_markdown":"I upgraded my springboot application from 2.6.7 to 3.0.2. After the change, I am facing the below issue while running the maven build \r\n\r\n    [ERROR] SampleApplicationTest.contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\r\n    java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@74736e3e testClass = SampleApplicationTest, locations = [], classes = [SampleApplication], contextInitializerClasses = [], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a4cbcc6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5358c8fa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@323fe1f5, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@407b41e6, org.springframework.boot.test.context.SpringBootTestAnnotation@a37796ef], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\r\n    \r\n    **Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/type/descriptor/java/JavaTypeDescriptor\r\n    Caused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/java/JavaTypeDescriptor\r\n    Caused by: java.lang.ClassNotFoundException: org.hibernate.type.descriptor.java.JavaTypeDescriptor**\r\n\r\nI tried cleaning my .m2 folder, also verified that both the files are present in the classpath.\r\n\r\n    org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class\r\n    org/hibernate/type/descriptor/java/JavaTypeDescriptor\r\n\r\nHibernate version used is 6.1.6.Final which is compactible with springboot version 3.0.2.\r\n\r\nMy Pom.xml in short\r\n\r\n    &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.2&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;  \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n      &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nHow can I resolve this NoClassDefFoundError issue ?\r\n\r\n\r\n\r\n-Regards\r\nSrikant Mantha\r\n\r\n**Update to my issue:** \r\nThere is another version of JavaTypeDescriptor.class in my .m2 path which is needed for a different project. Its getting conflicted with my new project where I am trying to upgrade to springboot 3.0.2.\r\n\r\nHow can I exclude the unnecessary dependencies from .m2 which is not needed for my project ?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZsRgN.png","title":"Hibernate Error creating bean with name &#39;entityManagerFactory&#39;","body":"<p>I upgraded my springboot application from 2.6.7 to 3.0.2. After the change, I am facing the below issue while running the maven build</p>\n<pre><code>[ERROR] SampleApplicationTest.contextLoads  Time elapsed: 0.001 s  &lt;&lt;&lt; ERROR!\njava.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@74736e3e testClass = SampleApplicationTest, locations = [], classes = [SampleApplication], contextInitializerClasses = [], activeProfiles = [&quot;test&quot;], propertySourceLocations = [], propertySourceProperties = [&quot;org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true&quot;], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1a4cbcc6, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@5358c8fa, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@323fe1f5, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@9da1, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@407b41e6, org.springframework.boot.test.context.SpringBootTestAnnotation@a37796ef], resourceBasePath = &quot;src/main/webapp&quot;, contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]\n\n**Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: org/hibernate/type/descriptor/java/JavaTypeDescriptor\nCaused by: java.lang.NoClassDefFoundError: org/hibernate/type/descriptor/java/JavaTypeDescriptor\nCaused by: java.lang.ClassNotFoundException: org.hibernate.type.descriptor.java.JavaTypeDescriptor**\n</code></pre>\n<p>I tried cleaning my .m2 folder, also verified that both the files are present in the classpath.</p>\n<pre><code>org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class\norg/hibernate/type/descriptor/java/JavaTypeDescriptor\n</code></pre>\n<p>Hibernate version used is 6.1.6.Final which is compactible with springboot version 3.0.2.</p>\n<p>My Pom.xml in short</p>\n<pre><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;3.0.2&lt;/version&gt;\n  &lt;/parent&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;  \n&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n  &lt;version&gt;6.1.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;version&gt;6.1.6.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How can I resolve this NoClassDefFoundError issue ?</p>\n<p>-Regards\nSrikant Mantha</p>\n<p><strong>Update to my issue:</strong>\nThere is another version of JavaTypeDescriptor.class in my .m2 path which is needed for a different project. Its getting conflicted with my new project where I am trying to upgrade to springboot 3.0.2.</p>\n<p>How can I exclude the unnecessary dependencies from .m2 which is not needed for my project ?</p>\n<p><a href=\"https://i.stack.imgur.com/ZsRgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZsRgN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","hadoop"],"answers":[{"comments":[{"owner":{"account_id":14400051,"reputation":78,"user_id":10402070,"display_name":"Muskan Khedia"},"score":1,"creation_date":1683880399,"post_id":68113820,"comment_id":134437259,"body_markdown":"It really helped a lot and saved a lot of time. Thank you :)","body":"It really helped a lot and saved a lot of time. Thank you :)"}],"tags":[],"owner":{"account_id":2976512,"reputation":3160,"user_id":2527458,"accept_rate":36,"display_name":"Majid Hajibaba"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1624618789,"creation_date":1624529715,"answer_id":68113820,"question_id":68113350,"body_markdown":"`/usr/bin/java` is not a java home. A java home must be a folder (not a program) with a bin directory which contains `java`, `jps`, maybe `javac` and so on. You must find your jre or jdk folder and set it as JAVA_HOME. \r\n\r\nget `ll /usr/bin/java` and it may be a **symbolic link** to your Java path. or do `find /usr/lib/jvm/java-1.x.x-openjdk` to find your java home. The parent directory of *Java* program is your JAVA_HOME and must be set with export in `hadoop-env.sh`.","title":"run hadoop ERROR: JAVA_HOME /usr/bin/java does not exist","body":"<p><code>/usr/bin/java</code> is not a java home. A java home must be a folder (not a program) with a bin directory which contains <code>java</code>, <code>jps</code>, maybe <code>javac</code> and so on. You must find your jre or jdk folder and set it as JAVA_HOME.</p>\n<p>get <code>ll /usr/bin/java</code> and it may be a <strong>symbolic link</strong> to your Java path. or do <code>find /usr/lib/jvm/java-1.x.x-openjdk</code> to find your java home. The parent directory of <em>Java</em> program is your JAVA_HOME and must be set with export in <code>hadoop-env.sh</code>.</p>\n"},{"tags":[],"owner":{"account_id":7412226,"reputation":11,"user_id":5639251,"display_name":"Jaikish Pai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658653410,"creation_date":1658653410,"answer_id":73097021,"question_id":68113350,"body_markdown":"I could not run it with Java 11 installed so i installed Java 8 and tried this : `/usr/lib/jvm/java-8-openjdk-amd64/jre/bin` and it worked fine.","title":"run hadoop ERROR: JAVA_HOME /usr/bin/java does not exist","body":"<p>I could not run it with Java 11 installed so i installed Java 8 and tried this : <code>/usr/lib/jvm/java-8-openjdk-amd64/jre/bin</code> and it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":23316769,"reputation":1,"user_id":17395280,"display_name":"Phil Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676405854,"creation_date":1675981181,"answer_id":75405046,"question_id":68113350,"body_markdown":"you could run `readlink -f $(which java)` command which returns the actual path to the target file. \r\n\r\nThis will give you an output like this \r\n \r\n\r\n    readlink -f $(which java)                                                                                                                                                                                  \r\n    /usr/lib/jvm/java-11-openjdk-amd64/bin/java","title":"run hadoop ERROR: JAVA_HOME /usr/bin/java does not exist","body":"<p>you could run <code>readlink -f $(which java)</code> command which returns the actual path to the target file.</p>\n<p>This will give you an output like this</p>\n<pre><code>readlink -f $(which java)                                                                                                                                                                                  \n/usr/lib/jvm/java-11-openjdk-amd64/bin/java\n</code></pre>\n"}],"owner":{"account_id":1512758,"reputation":1194,"user_id":1414448,"accept_rate":48,"display_name":"Venus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3979,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":68113820,"answer_count":3,"score":1,"last_activity_date":1676405854,"creation_date":1624527840,"question_id":68113350,"body_markdown":"Ubuntu 16.04.1 LTS&lt;br/&gt;\r\nI have installed java by sudo apt-get install default-jdk\r\n\r\n    $ java -version\r\n    openjdk version &quot;1.8.0_292&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\r\n    OpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n    $ which java\r\n    /usr/bin/java\r\n\r\nand in /home/hadoop/hadoop-3.3.1/etc/hadoop/hadoop-env.sh, I have added&lt;br/&gt;\r\nexport JAVA_HOME=/usr/bin/java\r\n\r\n    hadoop@ubuntu:~/hadoop$ bin/hadoop\r\n    ERROR: JAVA_HOME /usr/bin/java does not exist\r\n\r\nanyone can help?","title":"run hadoop ERROR: JAVA_HOME /usr/bin/java does not exist","body":"<p>Ubuntu 16.04.1 LTS<br/>\nI have installed java by sudo apt-get install default-jdk</p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\n$ which java\n/usr/bin/java\n</code></pre>\n<p>and in /home/hadoop/hadoop-3.3.1/etc/hadoop/hadoop-env.sh, I have added<br/>\nexport JAVA_HOME=/usr/bin/java</p>\n<pre><code>hadoop@ubuntu:~/hadoop$ bin/hadoop\nERROR: JAVA_HOME /usr/bin/java does not exist\n</code></pre>\n<p>anyone can help?</p>\n"},{"tags":["java","string","random","java-11","sonarlint"],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1676405853,"creation_date":1676405853,"answer_id":75452889,"question_id":75452838,"body_markdown":"    int index = rnd.nextInt(SALTCHARS.length());\r\n","title":"In Java 11, how do you get a sonarLint warning-free way of getting an index?","body":"<pre><code>int index = rnd.nextInt(SALTCHARS.length());\n</code></pre>\n"}],"owner":{"account_id":952905,"reputation":15132,"user_id":1235929,"accept_rate":68,"display_name":"Dave"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75452889,"answer_count":1,"score":-2,"last_activity_date":1676405853,"creation_date":1676405536,"question_id":75452838,"body_markdown":"I&#39;m using Java 11 and SonarLint.  I have this code for getting a random index in a string (SALTCHARS is a string of length 36)\r\n\r\n      int index = (int) (rnd.nextFloat() * SALTCHARS.length());\r\n\r\nHowever, using SonarLint, this generates this warning\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI can&#39;t simply replace &quot;nextFloat&quot; with &quot;nextInt&quot; as that functionally changes the result of this code.  What is a SonarLint-safe way of generating a random index in a string?\r\n\r\n  [1]: https://i.stack.imgur.com/W8JO0.png","title":"In Java 11, how do you get a sonarLint warning-free way of getting an index?","body":"<p>I'm using Java 11 and SonarLint.  I have this code for getting a random index in a string (SALTCHARS is a string of length 36)</p>\n<pre><code>  int index = (int) (rnd.nextFloat() * SALTCHARS.length());\n</code></pre>\n<p>However, using SonarLint, this generates this warning</p>\n<p><a href=\"https://i.stack.imgur.com/W8JO0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W8JO0.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't simply replace &quot;nextFloat&quot; with &quot;nextInt&quot; as that functionally changes the result of this code.  What is a SonarLint-safe way of generating a random index in a string?</p>\n"},{"tags":["java","spring","rest","spring-boot","oauth-2.0"],"comments":[{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1535286140,"post_id":52025778,"comment_id":91002509,"body_markdown":"Did my solution work for you?","body":"Did my solution work for you?"},{"owner":{"account_id":14224657,"reputation":43,"user_id":10275743,"display_name":"Petr Zeman"},"score":0,"creation_date":1535286629,"post_id":52025778,"comment_id":91002643,"body_markdown":"Unfortunately no.","body":"Unfortunately no."},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1535286964,"post_id":52025778,"comment_id":91002727,"body_markdown":"Which version of springboot are you using?","body":"Which version of springboot are you using?"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1535287356,"post_id":52025778,"comment_id":91002829,"body_markdown":"If using springboot &gt; 1.5 , add `security.oauth2.resource.filter-order=3` to your application.properties and let me know the result.","body":"If using springboot &gt; 1.5 , add <code>security.oauth2.resource.filter-order=3</code> to your application.properties and let me know the result."},{"owner":{"account_id":14224657,"reputation":43,"user_id":10275743,"display_name":"Petr Zeman"},"score":0,"creation_date":1535287834,"post_id":52025778,"comment_id":91002944,"body_markdown":"It worked, thanks. :-)","body":"It worked, thanks. :-)"}],"answers":[{"comments":[{"owner":{"account_id":14224657,"reputation":43,"user_id":10275743,"display_name":"Petr Zeman"},"score":0,"creation_date":1535286433,"post_id":52026107,"comment_id":91002581,"body_markdown":"Unfortunately nope :-(","body":"Unfortunately nope :-("},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1535287945,"post_id":52026107,"comment_id":91002974,"body_markdown":"I have edited the answer with the solution that worked.","body":"I have edited the answer with the solution that worked."},{"owner":{"account_id":14224657,"reputation":43,"user_id":10275743,"display_name":"Petr Zeman"},"score":0,"creation_date":1535289688,"post_id":52026107,"comment_id":91003440,"body_markdown":"And what if I want to use one application as REST API service and webservice. Can I use OAuth2 and form authentication in one app?","body":"And what if I want to use one application as REST API service and webservice. Can I use OAuth2 and form authentication in one app?"},{"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"score":0,"creation_date":1535293641,"post_id":52026107,"comment_id":91004522,"body_markdown":"Yes. It would be possible. But you will have to search for the relevant tutorial online.","body":"Yes. It would be possible. But you will have to search for the relevant tutorial online."}],"tags":[],"owner":{"account_id":2864238,"reputation":10897,"user_id":2458858,"accept_rate":85,"display_name":"tryingToLearn"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1535287901,"creation_date":1535285428,"answer_id":52026107,"question_id":52025778,"body_markdown":"You should add `@EnableResourceServer` to your controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    @EnableResourceServer\r\n    public class ApiController { ... }\r\n\r\n\r\n**EDIT :**\r\n\r\nIf using springboot &gt; 1.5 , add `security.oauth2.resource.filter-order=3` to your application.properties.","title":"Java SpringBoot Rest OAuth2 Principal is null","body":"<p>You should add <code>@EnableResourceServer</code> to your controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\n@EnableResourceServer\npublic class ApiController { ... }\n</code></pre>\n\n<p><strong>EDIT :</strong></p>\n\n<p>If using springboot > 1.5 , add <code>security.oauth2.resource.filter-order=3</code> to your application.properties.</p>\n"}],"owner":{"account_id":14224657,"reputation":43,"user_id":10275743,"display_name":"Petr Zeman"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5061,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52026107,"answer_count":1,"score":4,"last_activity_date":1676405708,"creation_date":1535282887,"question_id":52025778,"body_markdown":"I tried different tutorials on **Java SpringBoot REST OAuth2**  authentication. I tried to and combine them with simple web form authentication, but still i am not able to get Principal class object. I got `null` every time on my Rest Controller (showed in lines bellow), am I missing something?\r\n\r\n**AuthorizationServerConfiguration.java**\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\r\n    import org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\r\n    import org.springframework.security.oauth2.provider.token.TokenStore;\r\n    \r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        private static final String REALM = &quot;MY_OAUTH_REALM&quot;;\r\n    \r\n        @Autowired\r\n        private TokenStore tokenStore;\r\n    \r\n        @Autowired\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.inMemory()\r\n                    .withClient(&quot;my-trusted-client&quot;)\r\n                    .authorizedGrantTypes(&quot;password&quot;, &quot;authorization_code&quot;, &quot;refresh_token&quot;, &quot;implicit&quot;)\r\n                    .scopes(&quot;read&quot;, &quot;write&quot;, &quot;trust&quot;)\r\n                    .secret(&quot;secret&quot;)\r\n                    .accessTokenValiditySeconds(120).//Access token is only valid for 2 minutes.\r\n                    refreshTokenValiditySeconds(600);//Refresh token is only valid for 10 minutes.\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\r\n            endpoints.tokenStore(tokenStore).authenticationManager(authenticationManager);\r\n        }\r\n    \r\n    }\r\n\r\n**ResourceServerConfiguration.java**\r\n    \r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\r\n    import org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;\r\n    import org.springframework.security.oauth2.config.annotation.web.configurers.ResourceServerSecurityConfigurer;\r\n    import org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler;\r\n    \r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {\r\n    \r\n        private static final String RESOURCE_ID = &quot;rest_api&quot;;\r\n    \r\n        @Override\r\n        public void configure(ResourceServerSecurityConfigurer resources) {\r\n            resources.resourceId(RESOURCE_ID).stateless(false);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http.anonymous().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api/**&quot;).authenticated()\r\n                .and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler());\r\n        }\r\n    \r\n    }\r\n\r\n**OAuth2SecurityConfiguration.java**\r\n\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.web.servlet.FilterRegistrationBean;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.oauth2.provider.token.TokenStore;\r\n    import org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore;\r\n    import org.springframework.web.cors.CorsConfiguration;\r\n    import org.springframework.web.cors.UrlBasedCorsConfigurationSource;\r\n    import org.springframework.web.filter.CorsFilter;\r\n    \r\n    import javax.annotation.Resource;\r\n    \r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class OAuth2SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Resource(name = &quot;userService&quot;)\r\n        private UserDetailsService userDetailsService;\r\n\r\n        @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n        @Autowired\r\n        public void globalUserDetails(AuthenticationManagerBuilder auth)throws Exception {\r\n                auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .anonymous().disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/login&quot;).permitAll();\r\n        }\r\n    \r\n        @Bean\r\n        public TokenStore tokenStore() {\r\n            return new InMemoryTokenStore();\r\n        }\r\n    \r\n        @Bean\r\n        public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Bean\r\n        public FilterRegistrationBean corsFilter() {\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            CorsConfiguration config = new CorsConfiguration();\r\n            config.setAllowCredentials(true);\r\n            config.addAllowedOrigin(&quot;*&quot;);\r\n            config.addAllowedHeader(&quot;*&quot;);\r\n            config.addAllowedMethod(&quot;*&quot;);\r\n            source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n            FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\r\n            bean.setOrder(0);\r\n            return bean;\r\n        }\r\n    \r\n    }\r\n\r\n**UserServiceImpl.java**\r\n\r\n    import cz.uhk.ppro.semestralniprojekt.model.user.User;\r\n    import cz.uhk.ppro.semestralniprojekt.model.user.UserRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    @Service(value = &quot;userService&quot;)\r\n    public class UserServiceImpl implements UserDetailsService, UserService {\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Autowired\r\n        private BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n        @Override\r\n        public void save(User user) {\r\n            user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\r\n            userRepository.save(user);\r\n        }\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\r\n            User user = findByUsername(s);\r\n            if(user == null){\r\n                throw new UsernameNotFoundException(&quot;Invalid username or password.&quot;);\r\n            }\r\n\r\n            return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), getAuthority());\r\n        }\r\n    \r\n        @Override\r\n        public User findByUsername(String username) {\r\n            return userRepository.findByUsername(username);\r\n        }\r\n    \r\n        private List getAuthority() {\r\n            return Arrays.asList(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\r\n        }\r\n    \r\n    }\r\n\r\n**ApiController.java**\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class ApiController {\r\n        @RequestMapping(&quot;/monthFinanceOverview&quot;)\r\n        public MonthFinanceOverview monthFinanceOverview(\r\n                @RequestParam(value = &quot;month&quot;, required = false) String month,\r\n                Principal principal\r\n        ) {\r\n            DateTimeFormatter monthDateFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n            User user = users.findByUsername(principal.getName());\r\n            //Here i got error every time\r\n        }\r\n    }\r\n\r\n**pom.xml**\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t\r\n\t\t&lt;groupId&gt;cz.uhk.ppro&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;semestralni-projekt&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\r\n\t\t&lt;name&gt;semestralni-projekt&lt;/name&gt;\r\n\t\t&lt;description&gt;Semestr&#225;ln&#237; projekt Java EE, Spring&lt;/description&gt;\r\n\t\r\n\t\t&lt;parent&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;relativePath/&gt;\r\n\t\t&lt;/parent&gt;\r\n\t\r\n\t\t&lt;properties&gt;\r\n\t\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;/properties&gt;\r\n\t\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;13.0&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t\r\n\t\t&lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/build&gt;\r\n\t\r\n\t\r\n\t&lt;/project&gt;","title":"Java SpringBoot Rest OAuth2 Principal is null","body":"<p>I tried different tutorials on <strong>Java SpringBoot REST OAuth2</strong>  authentication. I tried to and combine them with simple web form authentication, but still i am not able to get Principal class object. I got <code>null</code> every time on my Rest Controller (showed in lines bellow), am I missing something?</p>\n\n<p><strong>AuthorizationServerConfiguration.java</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.oauth2.config.annotation.configurers.ClientDetailsServiceConfigurer;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.AuthorizationServerConfigurerAdapter;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableAuthorizationServer;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.AuthorizationServerEndpointsConfigurer;\nimport org.springframework.security.oauth2.provider.token.TokenStore;\n\n@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfiguration extends AuthorizationServerConfigurerAdapter {\n\n    private static final String REALM = \"MY_OAUTH_REALM\";\n\n    @Autowired\n    private TokenStore tokenStore;\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory()\n                .withClient(\"my-trusted-client\")\n                .authorizedGrantTypes(\"password\", \"authorization_code\", \"refresh_token\", \"implicit\")\n                .scopes(\"read\", \"write\", \"trust\")\n                .secret(\"secret\")\n                .accessTokenValiditySeconds(120).//Access token is only valid for 2 minutes.\n                refreshTokenValiditySeconds(600);//Refresh token is only valid for 10 minutes.\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) {\n        endpoints.tokenStore(tokenStore).authenticationManager(authenticationManager);\n    }\n\n}\n</code></pre>\n\n<p><strong>ResourceServerConfiguration.java</strong></p>\n\n<pre><code>import org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.EnableResourceServer;\nimport org.springframework.security.oauth2.config.annotation.web.configuration.ResourceServerConfigurerAdapter;\nimport org.springframework.security.oauth2.config.annotation.web.configurers.ResourceServerSecurityConfigurer;\nimport org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler;\n\n@Configuration\n@EnableResourceServer\npublic class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {\n\n    private static final String RESOURCE_ID = \"rest_api\";\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) {\n        resources.resourceId(RESOURCE_ID).stateless(false);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.anonymous().disable()\n            .authorizeRequests()\n            .antMatchers(\"/api/**\").authenticated()\n            .and().exceptionHandling().accessDeniedHandler(new OAuth2AccessDeniedHandler());\n    }\n\n}\n</code></pre>\n\n<p><strong>OAuth2SecurityConfiguration.java</strong></p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.servlet.FilterRegistrationBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.oauth2.provider.token.TokenStore;\nimport org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore;\nimport org.springframework.web.cors.CorsConfiguration;\nimport org.springframework.web.cors.UrlBasedCorsConfigurationSource;\nimport org.springframework.web.filter.CorsFilter;\n\nimport javax.annotation.Resource;\n\n@Configuration\n@EnableWebSecurity\npublic class OAuth2SecurityConfiguration extends WebSecurityConfigurerAdapter {\n\n    @Resource(name = \"userService\")\n    private UserDetailsService userDetailsService;\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n    @Autowired\n    public void globalUserDetails(AuthenticationManagerBuilder auth)throws Exception {\n            auth.userDetailsService(userDetailsService).passwordEncoder(bCryptPasswordEncoder());\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .anonymous().disable()\n            .authorizeRequests()\n            .antMatchers(\"/login\").permitAll();\n    }\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new InMemoryTokenStore();\n    }\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public FilterRegistrationBean corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedOrigin(\"*\");\n        config.addAllowedHeader(\"*\");\n        config.addAllowedMethod(\"*\");\n        source.registerCorsConfiguration(\"/**\", config);\n        FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\n        bean.setOrder(0);\n        return bean;\n    }\n\n}\n</code></pre>\n\n<p><strong>UserServiceImpl.java</strong></p>\n\n<pre><code>import cz.uhk.ppro.semestralniprojekt.model.user.User;\nimport cz.uhk.ppro.semestralniprojekt.model.user.UserRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Arrays;\nimport java.util.List;\n\n@Service(value = \"userService\")\npublic class UserServiceImpl implements UserDetailsService, UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Autowired\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    public void save(User user) {\n        user.setPassword(bCryptPasswordEncoder.encode(user.getPassword()));\n        userRepository.save(user);\n    }\n\n    @Override\n    public UserDetails loadUserByUsername(String s) throws UsernameNotFoundException {\n        User user = findByUsername(s);\n        if(user == null){\n            throw new UsernameNotFoundException(\"Invalid username or password.\");\n        }\n\n        return new org.springframework.security.core.userdetails.User(user.getUsername(), user.getPassword(), getAuthority());\n    }\n\n    @Override\n    public User findByUsername(String username) {\n        return userRepository.findByUsername(username);\n    }\n\n    private List getAuthority() {\n        return Arrays.asList(new SimpleGrantedAuthority(\"ROLE_ADMIN\"));\n    }\n\n}\n</code></pre>\n\n<p><strong>ApiController.java</strong></p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api\")\npublic class ApiController {\n    @RequestMapping(\"/monthFinanceOverview\")\n    public MonthFinanceOverview monthFinanceOverview(\n            @RequestParam(value = \"month\", required = false) String month,\n            Principal principal\n    ) {\n        DateTimeFormatter monthDateFormatter = DateTimeFormatter.ofPattern(\"dd-MM-yyyy\");\n        User user = users.findByUsername(principal.getName());\n        //Here i got error every time\n    }\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;cz.uhk.ppro&lt;/groupId&gt;\n    &lt;artifactId&gt;semestralni-projekt&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;name&gt;semestralni-projekt&lt;/name&gt;\n    &lt;description&gt;Semestrální projekt Java EE, Spring&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.8.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity4&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","jsp","controller","spring-restcontroller"],"comments":[{"owner":{"account_id":1000240,"reputation":27,"user_id":7907880,"display_name":"user7907880"},"score":0,"creation_date":1676152118,"post_id":75381804,"comment_id":133081304,"body_markdown":"Can we run both Java 1.8 and Java 11 on the same tomcat server machine?","body":"Can we run both Java 1.8 and Java 11 on the same tomcat server machine?"}],"answers":[{"tags":[],"owner":{"account_id":1000240,"reputation":27,"user_id":7907880,"display_name":"user7907880"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676405045,"creation_date":1676405045,"answer_id":75452766,"question_id":75381804,"body_markdown":"The problem was solved by adding a timer to the java script which refreshed the page every few hours.\r\n\r\nThis question can be closed/marked as answered.","title":"Kick off CRON JOB and send the back end data automatically to several JSPS","body":"<p>The problem was solved by adding a timer to the java script which refreshed the page every few hours.</p>\n<p>This question can be closed/marked as answered.</p>\n"}],"owner":{"account_id":1000240,"reputation":27,"user_id":7907880,"display_name":"user7907880"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75452766,"answer_count":1,"score":0,"last_activity_date":1676405045,"creation_date":1675835413,"question_id":75381804,"body_markdown":"I searched all over but was unable to find a suitable answer, and hence posting this question.\r\n\r\nI have a spring boot application that needs to be scheduled through a cron job to run every hour and fetch data from a web site. I split the list into 5 groups. I need to push the list data into 5 different jsp&#39;s (automatically update it every hour).  \r\nfor example --&gt;  \r\ngroupList1 to group1.jsp\r\ngroupList2 to group2.jsp\r\ngroupList3 to group3.jsp\r\n\r\ngroupList4 to group4.jsp\r\n\r\ngroupList5 to group5.jsp\r\n\r\nI am unable to find information where the data can be pushed to several screens without having to click the submit button. So set up something in the controller to push it to the front end.\r\n\r\nI am new to JSP&#39;s and hence would like some advice on this.\r\n\r\nI am using a Tomcat server, Eclipse 4.25 Java 11 and springboot. \r\nThanks.\r\n\r\nThe CRON job, web service works fine. Have split it into 5 groups,\r\n\r\nI am able to make the front end work if I have a jsp page with a form and a submit button, calls the controller,--&gt;  back end service --&gt; controller (postmapping) --&gt; JSP.\r\n\r\nI am unable to figure out a way to automate it to:\r\ncron job --&gt; controller --&gt; web service --&gt; controller --&gt; display on 5 seperate JSP pages. I am unable to figure out the post mapping that has to be done from controller to JSP.","title":"Kick off CRON JOB and send the back end data automatically to several JSPS","body":"<p>I searched all over but was unable to find a suitable answer, and hence posting this question.</p>\n<p>I have a spring boot application that needs to be scheduled through a cron job to run every hour and fetch data from a web site. I split the list into 5 groups. I need to push the list data into 5 different jsp's (automatically update it every hour).<br />\nfor example --&gt;<br />\ngroupList1 to group1.jsp\ngroupList2 to group2.jsp\ngroupList3 to group3.jsp</p>\n<p>groupList4 to group4.jsp</p>\n<p>groupList5 to group5.jsp</p>\n<p>I am unable to find information where the data can be pushed to several screens without having to click the submit button. So set up something in the controller to push it to the front end.</p>\n<p>I am new to JSP's and hence would like some advice on this.</p>\n<p>I am using a Tomcat server, Eclipse 4.25 Java 11 and springboot.\nThanks.</p>\n<p>The CRON job, web service works fine. Have split it into 5 groups,</p>\n<p>I am able to make the front end work if I have a jsp page with a form and a submit button, calls the controller,--&gt;  back end service --&gt; controller (postmapping) --&gt; JSP.</p>\n<p>I am unable to figure out a way to automate it to:\ncron job --&gt; controller --&gt; web service --&gt; controller --&gt; display on 5 seperate JSP pages. I am unable to figure out the post mapping that has to be done from controller to JSP.</p>\n"},{"tags":["java"],"owner":{"account_id":25180435,"reputation":7,"user_id":19022002,"display_name":"Charles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676404609,"creation_date":1676404453,"question_id":75452687,"body_markdown":"The error:\r\n\r\n&gt; Time: 14/02/2023, 20:35 Description: Initializing game\r\n&gt; \r\n&gt; java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length\r\n&gt; 0 \tat\r\n&gt; java.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\r\n&gt; \tat\r\n&gt; java.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\r\n&gt; \tat java.base/java.util.Objects.checkIndex(Objects.java:359) \tat\r\n&gt; java.base/java.util.ArrayList.get(ArrayList.java:427) \tat\r\n&gt; net.minecraft.client.resources.model.SimpleBakedModel.getFaceQuads(SimpleBakedModel.java:35)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.getCountQuads(WeightedBakedModel.java:109)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.compareTo(WeightedBakedModel.java:100)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.compareTo(WeightedBakedModel.java:1)\r\n&gt; \tat\r\n&gt; java.base/java.util.ComparableTimSort.countRunAndMakeAscending(ComparableTimSort.java:320)\r\n&gt; \tat\r\n&gt; java.base/java.util.ComparableTimSort.sort(ComparableTimSort.java:188)\r\n&gt; \tat java.base/java.util.Arrays.sort(Arrays.java:1107) \tat\r\n&gt; java.base/java.util.Arrays.sort(Arrays.java:1301) \tat\r\n&gt; java.base/java.util.ArrayList.sort(ArrayList.java:1721) \tat\r\n&gt; java.base/java.util.Collections.sort(Collections.java:145) \tat\r\n&gt; net.minecraft.client.resources.model.WeightedBakedModel$Builder.build(WeightedBakedModel.java:78)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.ModelBakery.bakeBlockModels(ModelBakery.java:388)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.ModelBakery.setupModelRegistry(ModelBakery.java:84)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.model.ModelManager.onResourceManagerReload(ModelManager.java:25)\r\n&gt; \tat\r\n&gt; net.minecraft.client.resources.SimpleReloadableResourceManager.registerReloadListener(SimpleReloadableResourceManager.java:111)\r\n&gt; \tat net.minecraft.client.Minecraft.startGame(Minecraft.java:549) \tat\r\n&gt; net.minecraft.client.Minecraft.run(Minecraft.java:401) \tat\r\n&gt; net.minecraft.client.main.Main.main(Main.java:113) \tat\r\n&gt; Start.main(Start.java:11)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThis error shows when I&#39;m trying to run the client.\r\nCan anyone help me? I&#39;ve trying to set up a client with Minecraft Coder Pack (MCP) with a tutorial video, the video&#39;s creator&#39;s game was working successfully and without any problems and I write the same as he but my Minecraft Client didn&#39;t start (I used eclipse ide for my ide and i ran it from there).","title":"How to correct this error in MCP 1.8.8 client start?","body":"<p>The error:</p>\n<blockquote>\n<p>Time: 14/02/2023, 20:35 Description: Initializing game</p>\n<p>java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length\n0     at\njava.base/jdk.internal.util.Preconditions.outOfBounds(Preconditions.java:64)\nat\njava.base/jdk.internal.util.Preconditions.outOfBoundsCheckIndex(Preconditions.java:70)\nat\njava.base/jdk.internal.util.Preconditions.checkIndex(Preconditions.java:266)\nat java.base/java.util.Objects.checkIndex(Objects.java:359)     at\njava.base/java.util.ArrayList.get(ArrayList.java:427)     at\nnet.minecraft.client.resources.model.SimpleBakedModel.getFaceQuads(SimpleBakedModel.java:35)\nat\nnet.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.getCountQuads(WeightedBakedModel.java:109)\nat\nnet.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.compareTo(WeightedBakedModel.java:100)\nat\nnet.minecraft.client.resources.model.WeightedBakedModel$MyWeighedRandomItem.compareTo(WeightedBakedModel.java:1)\nat\njava.base/java.util.ComparableTimSort.countRunAndMakeAscending(ComparableTimSort.java:320)\nat\njava.base/java.util.ComparableTimSort.sort(ComparableTimSort.java:188)\nat java.base/java.util.Arrays.sort(Arrays.java:1107)    at\njava.base/java.util.Arrays.sort(Arrays.java:1301)     at\njava.base/java.util.ArrayList.sort(ArrayList.java:1721)   at\njava.base/java.util.Collections.sort(Collections.java:145)    at\nnet.minecraft.client.resources.model.WeightedBakedModel$Builder.build(WeightedBakedModel.java:78)\nat\nnet.minecraft.client.resources.model.ModelBakery.bakeBlockModels(ModelBakery.java:388)\nat\nnet.minecraft.client.resources.model.ModelBakery.setupModelRegistry(ModelBakery.java:84)\nat\nnet.minecraft.client.resources.model.ModelManager.onResourceManagerReload(ModelManager.java:25)\nat\nnet.minecraft.client.resources.SimpleReloadableResourceManager.registerReloadListener(SimpleReloadableResourceManager.java:111)\nat net.minecraft.client.Minecraft.startGame(Minecraft.java:549)     at\nnet.minecraft.client.Minecraft.run(Minecraft.java:401)    at\nnet.minecraft.client.main.Main.main(Main.java:113)    at\nStart.main(Start.java:11)</p>\n</blockquote>\n<p>This error shows when I'm trying to run the client.\nCan anyone help me? I've trying to set up a client with Minecraft Coder Pack (MCP) with a tutorial video, the video's creator's game was working successfully and without any problems and I write the same as he but my Minecraft Client didn't start (I used eclipse ide for my ide and i ran it from there).</p>\n"},{"tags":["java","json","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":21240478,"reputation":13,"user_id":15624028,"display_name":"grkemaykac"},"score":0,"creation_date":1649067306,"post_id":71733950,"comment_id":126773811,"body_markdown":"Thanks for your response. I tried but still it doesn&#39;t work","body":"Thanks for your response. I tried but still it doesn&#39;t work"},{"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"score":0,"creation_date":1649068707,"post_id":71733950,"comment_id":126774326,"body_markdown":"Well, may be MediaType.APPLICATION_JSON_VALUE is the right value for the server side and instead you need to set on your client side set request header &quot;Content-Type&quot; to &quot;application/json&quot;","body":"Well, may be MediaType.APPLICATION_JSON_VALUE is the right value for the server side and instead you need to set on your client side set request header &quot;Content-Type&quot; to &quot;application/json&quot;"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1694509614,"post_id":71733950,"comment_id":135896635,"body_markdown":"@MichaelGantman similar issue here if you can take a look pls https://stackoverflow.com/questions/77084076/type-error-application-json-in-spring-boot-3-1-controller?noredirect=1#comment135895901_77084076","body":"@MichaelGantman similar issue here if you can take a look pls <a href=\"https://stackoverflow.com/questions/77084076/type-error-application-json-in-spring-boot-3-1-controller?noredirect=1#comment135895901_77084076\" title=\"type error application json in spring boot 3 1 controller\">stackoverflow.com/questions/77084076/&hellip;</a>"}],"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649060109,"creation_date":1649060109,"answer_id":71733950,"question_id":71733152,"body_markdown":"In you method you specifically configured `consumes = MediaType.APPLICATION_JSON_VALUE`. So you limited your method and specified that consumes this typed and then you complain that it doesn&#39;t take a different type. So either remove `consumes` property or set it to `MediaType.TEXT_PLAIN` or to just a String `consumes = &quot;text/plain;charset=UTF-8&quot;`","title":"Spring boot Content type &#39;text/plain;charset=UTF-8&#39; not supported","body":"<p>In you method you specifically configured <code>consumes = MediaType.APPLICATION_JSON_VALUE</code>. So you limited your method and specified that consumes this typed and then you complain that it doesn't take a different type. So either remove <code>consumes</code> property or set it to <code>MediaType.TEXT_PLAIN</code> or to just a String <code>consumes = &quot;text/plain;charset=UTF-8&quot;</code></p>\n"}],"owner":{"account_id":21240478,"reputation":13,"user_id":15624028,"display_name":"grkemaykac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10788,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676404348,"creation_date":1649055562,"question_id":71733152,"body_markdown":"    @RequestMapping(value = &quot;/NewCustomer&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n    \tprivate void vNewCustomer(@RequestBody Customer xCustomer)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Post Request&quot;);\r\n    \t\tif(xCustomer != null \r\n    \t\t&amp;&amp; xCustomer.getCustomerName() != null \r\n    \t\t&amp;&amp; xCustomer.getCustomerMail() != null)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t\tTableCustomerController.vGetInstance().vInsertCustomer(xCustomer);\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nIt returns \r\nResolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;text/plain;charset=UTF-8&#39; not supported]\r\n\r\nHow should i solve it\r\nThanks for your help..","title":"Spring boot Content type &#39;text/plain;charset=UTF-8&#39; not supported","body":"<pre><code>@RequestMapping(value = &quot;/NewCustomer&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\n    private void vNewCustomer(@RequestBody Customer xCustomer)\n    {\n        System.out.println(&quot;Post Request&quot;);\n        if(xCustomer != null \n        &amp;&amp; xCustomer.getCustomerName() != null \n        &amp;&amp; xCustomer.getCustomerMail() != null)\n        {\n            \n            TableCustomerController.vGetInstance().vInsertCustomer(xCustomer);\n        }\n    }\n</code></pre>\n<p>It returns\nResolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'text/plain;charset=UTF-8' not supported]</p>\n<p>How should i solve it\nThanks for your help..</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-test"],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676404326,"creation_date":1676404326,"question_id":75452669,"body_markdown":"I have a Spring Boot + JPA application, configured for Oracle. But in my tests I am using H2 database.\r\n\r\nWhen I create a base class for data-aware tests as\r\n\r\n    @ComponentScan(&quot;com.payeshgaran&quot;)\r\n    @DataJpaTest(properties = &quot;spring.jpa.hibernate.ddl-auto=none&quot;)\r\n    @EnableTransactionManagement\r\n    @Sql(scripts = {&quot;/sql/insurance-field.sql&quot;, &quot;/sql/base-info.sql&quot;})\r\n    @Transactional\r\n    public abstract class AbstractDataAwareTest {\r\n    }\r\n\r\nand extend test classes from it, everything works fine, but if I put the configurations (specially `@Sql` on a `@TestConfiguration` class) and then use `@ContextConfiguration` class it doesn&#39;t work). Also if I configure the `datasource` by code in the `@TestConfguration` class as\r\n\r\n    @ComponentScan(&quot;com.payeshgaran&quot;)\r\n    @EnableTransactionManagement\r\n    @TestConfiguration\r\n    public class TestDataConfiguration {\r\n    \r\n        @Bean\r\n        public DataSource dataSource() {\r\n            return new EmbeddedDatabaseBuilder()\r\n                    .generateUniqueName(true)\r\n                    .setType(EmbeddedDatabaseType.H2)\r\n                    .setScriptEncoding(&quot;UTF-8&quot;)\r\n                    .ignoreFailedDrops(true)\r\n                    .addScript(&quot;classpath:sql/insurance-field.sql&quot;)\r\n                    .addScript(&quot;classpath:sql/base-info.sql&quot;)\r\n                    .build();\r\n        }\r\n\r\n    }\r\n\r\nagain the initialization scripts won&#39;t run.\r\n\r\nAnyone knows how should I use a single point of configuration without inheritance?","title":"Using single configuration for a group of tests in Spring Boot application","body":"<p>I have a Spring Boot + JPA application, configured for Oracle. But in my tests I am using H2 database.</p>\n<p>When I create a base class for data-aware tests as</p>\n<pre><code>@ComponentScan(&quot;com.payeshgaran&quot;)\n@DataJpaTest(properties = &quot;spring.jpa.hibernate.ddl-auto=none&quot;)\n@EnableTransactionManagement\n@Sql(scripts = {&quot;/sql/insurance-field.sql&quot;, &quot;/sql/base-info.sql&quot;})\n@Transactional\npublic abstract class AbstractDataAwareTest {\n}\n</code></pre>\n<p>and extend test classes from it, everything works fine, but if I put the configurations (specially <code>@Sql</code> on a <code>@TestConfiguration</code> class) and then use <code>@ContextConfiguration</code> class it doesn't work). Also if I configure the <code>datasource</code> by code in the <code>@TestConfguration</code> class as</p>\n<pre><code>@ComponentScan(&quot;com.payeshgaran&quot;)\n@EnableTransactionManagement\n@TestConfiguration\npublic class TestDataConfiguration {\n\n    @Bean\n    public DataSource dataSource() {\n        return new EmbeddedDatabaseBuilder()\n                .generateUniqueName(true)\n                .setType(EmbeddedDatabaseType.H2)\n                .setScriptEncoding(&quot;UTF-8&quot;)\n                .ignoreFailedDrops(true)\n                .addScript(&quot;classpath:sql/insurance-field.sql&quot;)\n                .addScript(&quot;classpath:sql/base-info.sql&quot;)\n                .build();\n    }\n\n}\n</code></pre>\n<p>again the initialization scripts won't run.</p>\n<p>Anyone knows how should I use a single point of configuration without inheritance?</p>\n"},{"tags":["java","android-studio"],"owner":{"account_id":16953769,"reputation":546,"user_id":12262686,"display_name":"theboyonfire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676403903,"creation_date":1676292294,"question_id":75436058,"body_markdown":"I am really blind with Java and stuff .. I am trying to integrate the [Emarsys][1] SDK in the genarated android build from Ionic  but I get this error \r\n\r\n```\r\nD/Emersys&#160;Error: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference\r\nD/Emersys: EMERSYS initialization process done... \r\n```\r\nI created 1 activity file that has the initialization process in it and then access it in the ```MainActivity```. \r\n\r\nHere is the \r\n```MainActivity.java```\r\n```\r\npackage io.ionic.starter;\r\n\r\nimport com.getcapacitor.BridgeActivity;\r\nimport com.zen.myfirstecho.MyFirstEchoPlugin;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends BridgeActivity {\r\n  EmersysInitializationActivity emersysInitializationActivity = new EmersysInitializationActivity();\r\n\r\n  @Override\r\n  public void onCreate(Bundle savedInstanceState) {\r\n    registerPlugin(MyFirstEchoPlugin.class);\r\n    super.onCreate(savedInstanceState);\r\n\r\n    //load emersys activity\r\n    emersysInitializationActivity.onCreate();\r\n  }\r\n}\r\n```\r\n\r\n```EmersysInitializationActivity.java```\r\n```\r\npackage io.ionic.starter;\r\n\r\nimport android.app.Activity;\r\nimport android.app.Application;\r\nimport android.util.Log;\r\n\r\nimport com.emarsys.Emarsys;\r\nimport com.emarsys.config.EmarsysConfig;\r\n\r\npublic class EmersysInitializationActivity extends Application {\r\n  EmarsysConfig config;\r\n\r\n  @Override\r\n  public void onCreate() {\r\n\r\n    super.onCreate();\r\n\r\n    Log.d(&quot;Emersys&quot;, &quot;EMERSYS INITIALIZATION... &quot;);\r\n    config = new EmarsysConfig.Builder()\r\n      .application(this)\r\n      .applicationCode(&quot;XXXX&quot;)\r\n      .merchantId(&quot;XXXX&quot;)\r\n      .build();\r\n    Log.d(&quot;Emersys&quot;, config.toString());\r\n\r\n    try {\r\n      //  Block of code to try\r\n      Log.d(&quot;Emersys&quot;, &quot;EMERSYS starts to set the configuration... &quot;);\r\n\r\n      Emarsys.setup(config);  //I think the error is here\r\n      Log.d(&quot;Emersys&quot;, &quot;EMERSYS has been configured... &quot;);\r\n\r\n    }\r\n    catch(Exception e) {\r\n      //  Block of code to handle errors\r\n      Log.d(&quot;Emersys Error&quot;, e.toString());\r\n\r\n    }\r\n    Log.d(&quot;Emersys&quot;, &quot;EMERSYS initialization process done... &quot;);\r\n  }\r\n}\r\n\r\n```\r\n\r\nhere is the ```gradle```\r\n```\r\napply plugin: &#39;com.android.application&#39;\r\n\r\nandroid {\r\n    compileSdkVersion 33\r\n    defaultConfig {\r\n        applicationId &quot;io.ionic.starter&quot;\r\n        minSdkVersion 24\r\n        targetSdkVersion 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        aaptOptions {\r\n             // Files and dirs to omit from the packaged assets dir, modified to accommodate modern web apps.\r\n             // Default: https://android.googlesource.com/platform/frameworks/base/+/282e181b58cf72b6ca770dc7ca5f91f135444502/tools/aapt/AaptAssets.cpp#61\r\n            ignoreAssetsPattern &#39;!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~&#39;\r\n        }\r\n    }\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n}\r\n\r\nrepositories {\r\n    flatDir{\r\n        dirs &#39;../capacitor-cordova-android-plugins/src/main/libs&#39;, &#39;libs&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;libs&#39;)\r\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\r\n    implementation &quot;androidx.coordinatorlayout:coordinatorlayout:$androidxCoordinatorLayoutVersion&quot;\r\n    implementation &quot;androidx.core:core-splashscreen:$coreSplashScreenVersion&quot;\r\n    implementation project(&#39;:capacitor-android&#39;)\r\n  implementation &#39;com.google.android.material:material:1.4.+&#39;\r\n  implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n  testImplementation &quot;junit:junit:$junitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\r\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\r\n    implementation project(&#39;:capacitor-cordova-android-plugins&#39;)\r\n\r\n  //for emersys\r\n  implementation &#39;androidx.core:core-ktx:1.8.0&#39;\r\n  implementation &#39;androidx.appcompat:appcompat:1.5.0&#39;\r\n    //Emarsys\r\n  //try 2.11.1\r\n  implementation &#39;com.emarsys:emarsys-sdk:3.3.1&#39;\r\n  implementation &#39;com.emarsys:emarsys-firebase:+&#39;\r\n\r\n\r\n}\r\n\r\napply from: &#39;capacitor.build.gradle&#39;\r\n\r\ntry {\r\n    def servicesJSON = file(&#39;google-services.json&#39;)\r\n    if (servicesJSON.text) {\r\n        apply plugin: &#39;com.google.gms.google-services&#39;\r\n    }\r\n} catch(Exception e) {\r\n    logger.info(&quot;google-services.json not found, google-services plugin not applied. Push Notifications won&#39;t work&quot;)\r\n}\r\n\r\n```\r\n\r\nand this is the ```manifest```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n  package=&quot;io.ionic.starter&quot;&gt;\r\n  &lt;!-- Permissions --&gt;\r\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n  &lt;application\r\n    android:allowBackup=&quot;true&quot;\r\n    android:icon=&quot;@mipmap/ic_launcher&quot;\r\n    android:label=&quot;@string/app_name&quot;\r\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n    android:supportsRtl=&quot;true&quot;\r\n    android:theme=&quot;@style/AppTheme&quot;&gt;\r\n    &lt;activity\r\n      android:name=&quot;.EmersysInitializationActivity&quot;\r\n      android:exported=&quot;false&quot;&gt;\r\n      &lt;meta-data\r\n        android:name=&quot;android.app.lib_name&quot;\r\n        android:value=&quot;&quot; /&gt;\r\n    &lt;/activity&gt;\r\n    &lt;activity\r\n      android:name=&quot;.MainActivity&quot;\r\n      android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\r\n      android:exported=&quot;true&quot;\r\n      android:label=&quot;@string/title_activity_main&quot;\r\n      android:launchMode=&quot;singleTask&quot;\r\n      android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/activity&gt;\r\n\r\n    &lt;provider\r\n      android:name=&quot;androidx.core.content.FileProvider&quot;\r\n      android:authorities=&quot;${applicationId}.fileprovider&quot;\r\n      android:exported=&quot;false&quot;\r\n      android:grantUriPermissions=&quot;true&quot;&gt;\r\n      &lt;meta-data\r\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\r\n        android:resource=&quot;@xml/file_paths&quot; /&gt;\r\n    &lt;/provider&gt; &lt;!-- Emersys --&gt;\r\n    &lt;meta-data\r\n      android:name=&quot;com.emarsys.mobileengage.notification_color&quot;\r\n      android:resource=&quot;@color/colorPrimary&quot; /&gt;\r\n    &lt;meta-data\r\n      android:name=&quot;com.emarsys.mobileengage.small_notification_icon&quot;\r\n      android:resource=&quot;@drawable/default_small_notification_icon&quot; /&gt;\r\n\r\n    &lt;service\r\n      android:name=&quot;com.emarsys.service.EmarsysFirebaseMessagingService&quot;\r\n      android:exported=&quot;false&quot;&gt;\r\n      &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\r\n      &lt;/intent-filter&gt;\r\n    &lt;/service&gt;\r\n  &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n```\r\n\r\nI know this question has been asked many times .. But any help is appreciated :) \r\n\r\n\r\n  [1]: https://help.emarsys.com/hc/en-us/articles/360004899497-Android-integration-Mobile-Engage-Android-SDK#usage-android","title":"Error Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; When accessing SDK","body":"<p>I am really blind with Java and stuff .. I am trying to integrate the <a href=\"https://help.emarsys.com/hc/en-us/articles/360004899497-Android-integration-Mobile-Engage-Android-SDK#usage-android\" rel=\"nofollow noreferrer\">Emarsys</a> SDK in the genarated android build from Ionic  but I get this error</p>\n<pre><code>D/Emersys Error: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference\nD/Emersys: EMERSYS initialization process done... \n</code></pre>\n<p>I created 1 activity file that has the initialization process in it and then access it in the <code>MainActivity</code>.</p>\n<p>Here is the\n<code>MainActivity.java</code></p>\n<pre><code>package io.ionic.starter;\n\nimport com.getcapacitor.BridgeActivity;\nimport com.zen.myfirstecho.MyFirstEchoPlugin;\nimport android.os.Bundle;\n\npublic class MainActivity extends BridgeActivity {\n  EmersysInitializationActivity emersysInitializationActivity = new EmersysInitializationActivity();\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    registerPlugin(MyFirstEchoPlugin.class);\n    super.onCreate(savedInstanceState);\n\n    //load emersys activity\n    emersysInitializationActivity.onCreate();\n  }\n}\n</code></pre>\n<p><code>EmersysInitializationActivity.java</code></p>\n<pre><code>package io.ionic.starter;\n\nimport android.app.Activity;\nimport android.app.Application;\nimport android.util.Log;\n\nimport com.emarsys.Emarsys;\nimport com.emarsys.config.EmarsysConfig;\n\npublic class EmersysInitializationActivity extends Application {\n  EmarsysConfig config;\n\n  @Override\n  public void onCreate() {\n\n    super.onCreate();\n\n    Log.d(&quot;Emersys&quot;, &quot;EMERSYS INITIALIZATION... &quot;);\n    config = new EmarsysConfig.Builder()\n      .application(this)\n      .applicationCode(&quot;XXXX&quot;)\n      .merchantId(&quot;XXXX&quot;)\n      .build();\n    Log.d(&quot;Emersys&quot;, config.toString());\n\n    try {\n      //  Block of code to try\n      Log.d(&quot;Emersys&quot;, &quot;EMERSYS starts to set the configuration... &quot;);\n\n      Emarsys.setup(config);  //I think the error is here\n      Log.d(&quot;Emersys&quot;, &quot;EMERSYS has been configured... &quot;);\n\n    }\n    catch(Exception e) {\n      //  Block of code to handle errors\n      Log.d(&quot;Emersys Error&quot;, e.toString());\n\n    }\n    Log.d(&quot;Emersys&quot;, &quot;EMERSYS initialization process done... &quot;);\n  }\n}\n\n</code></pre>\n<p>here is the <code>gradle</code></p>\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 33\n    defaultConfig {\n        applicationId &quot;io.ionic.starter&quot;\n        minSdkVersion 24\n        targetSdkVersion 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n        aaptOptions {\n             // Files and dirs to omit from the packaged assets dir, modified to accommodate modern web apps.\n             // Default: https://android.googlesource.com/platform/frameworks/base/+/282e181b58cf72b6ca770dc7ca5f91f135444502/tools/aapt/AaptAssets.cpp#61\n            ignoreAssetsPattern '!.svn:!.git:!.ds_store:!*.scc:.*:!CVS:!thumbs.db:!picasa.ini:!*~'\n        }\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\nrepositories {\n    flatDir{\n        dirs '../capacitor-cordova-android-plugins/src/main/libs', 'libs'\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation &quot;androidx.appcompat:appcompat:$androidxAppCompatVersion&quot;\n    implementation &quot;androidx.coordinatorlayout:coordinatorlayout:$androidxCoordinatorLayoutVersion&quot;\n    implementation &quot;androidx.core:core-splashscreen:$coreSplashScreenVersion&quot;\n    implementation project(':capacitor-android')\n  implementation 'com.google.android.material:material:1.4.+'\n  implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n  testImplementation &quot;junit:junit:$junitVersion&quot;\n    androidTestImplementation &quot;androidx.test.ext:junit:$androidxJunitVersion&quot;\n    androidTestImplementation &quot;androidx.test.espresso:espresso-core:$androidxEspressoCoreVersion&quot;\n    implementation project(':capacitor-cordova-android-plugins')\n\n  //for emersys\n  implementation 'androidx.core:core-ktx:1.8.0'\n  implementation 'androidx.appcompat:appcompat:1.5.0'\n    //Emarsys\n  //try 2.11.1\n  implementation 'com.emarsys:emarsys-sdk:3.3.1'\n  implementation 'com.emarsys:emarsys-firebase:+'\n\n\n}\n\napply from: 'capacitor.build.gradle'\n\ntry {\n    def servicesJSON = file('google-services.json')\n    if (servicesJSON.text) {\n        apply plugin: 'com.google.gms.google-services'\n    }\n} catch(Exception e) {\n    logger.info(&quot;google-services.json not found, google-services plugin not applied. Push Notifications won't work&quot;)\n}\n\n</code></pre>\n<p>and this is the <code>manifest</code></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  package=&quot;io.ionic.starter&quot;&gt;\n  &lt;!-- Permissions --&gt;\n  &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n  &lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n    &lt;activity\n      android:name=&quot;.EmersysInitializationActivity&quot;\n      android:exported=&quot;false&quot;&gt;\n      &lt;meta-data\n        android:name=&quot;android.app.lib_name&quot;\n        android:value=&quot;&quot; /&gt;\n    &lt;/activity&gt;\n    &lt;activity\n      android:name=&quot;.MainActivity&quot;\n      android:configChanges=&quot;orientation|keyboardHidden|keyboard|screenSize|locale|smallestScreenSize|screenLayout|uiMode&quot;\n      android:exported=&quot;true&quot;\n      android:label=&quot;@string/title_activity_main&quot;\n      android:launchMode=&quot;singleTask&quot;\n      android:theme=&quot;@style/AppTheme.NoActionBarLaunch&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n        &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n      &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;provider\n      android:name=&quot;androidx.core.content.FileProvider&quot;\n      android:authorities=&quot;${applicationId}.fileprovider&quot;\n      android:exported=&quot;false&quot;\n      android:grantUriPermissions=&quot;true&quot;&gt;\n      &lt;meta-data\n        android:name=&quot;android.support.FILE_PROVIDER_PATHS&quot;\n        android:resource=&quot;@xml/file_paths&quot; /&gt;\n    &lt;/provider&gt; &lt;!-- Emersys --&gt;\n    &lt;meta-data\n      android:name=&quot;com.emarsys.mobileengage.notification_color&quot;\n      android:resource=&quot;@color/colorPrimary&quot; /&gt;\n    &lt;meta-data\n      android:name=&quot;com.emarsys.mobileengage.small_notification_icon&quot;\n      android:resource=&quot;@drawable/default_small_notification_icon&quot; /&gt;\n\n    &lt;service\n      android:name=&quot;com.emarsys.service.EmarsysFirebaseMessagingService&quot;\n      android:exported=&quot;false&quot;&gt;\n      &lt;intent-filter&gt;\n        &lt;action android:name=&quot;com.google.firebase.MESSAGING_EVENT&quot; /&gt;\n      &lt;/intent-filter&gt;\n    &lt;/service&gt;\n  &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n</code></pre>\n<p>I know this question has been asked many times .. But any help is appreciated :)</p>\n"},{"tags":["java","azure"],"answers":[{"tags":[],"owner":{"account_id":27787144,"reputation":1,"user_id":21214356,"display_name":"Jacob Mellichamp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676403765,"creation_date":1676403765,"answer_id":75452582,"question_id":75450255,"body_markdown":"According to the [JavaDocs][1]\r\n\r\nYou should be able to call `String payload2 = req.getBody().get();` to get the string value out of the `Optional&lt;String&gt;` class\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html","title":"Convert HttpRequestMessage&lt;Optional&lt;String&gt;&gt; to a normal String","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\">JavaDocs</a></p>\n<p>You should be able to call <code>String payload2 = req.getBody().get();</code> to get the string value out of the <code>Optional&lt;String&gt;</code> class</p>\n"}],"owner":{"account_id":27785102,"reputation":11,"user_id":21212734,"display_name":"ScottG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676403765,"creation_date":1676389976,"question_id":75450255,"body_markdown":"I am writing a Java Azure program that builds an envelope and logs the data to Application Insights in the Azure Portal. Currently it is tailored to just accept an HTTP Request function, but I am trying to make it compatible with using the Azure Service Bus and other services as well. My cf.buildEnvelope() function currently is structed as: buildEnvelope(HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context)\r\nand I want to change it to: \r\nbuildEnvelope(String req, ExecutionContext context) so that I can use it for more than just the HTTP Request. In order to do this I believe I just need to convert my req to a normal String in my Handler, but I cannot figure out how to do so.\r\n\r\n\r\n\r\nHere is my Handler:\r\n```\r\n`import com.microsoft.azure.functions.ExecutionContext;\r\nimport com.microsoft.azure.functions.HttpMethod;\r\nimport com.microsoft.azure.functions.HttpRequestMessage;\r\nimport com.microsoft.azure.functions.HttpResponseMessage;\r\nimport com.microsoft.azure.functions.HttpStatus;\r\nimport com.microsoft.azure.functions.annotation.AuthorizationLevel;\r\nimport com.microsoft.azure.functions.annotation.FunctionName;\r\nimport com.microsoft.azure.functions.annotation.HttpTrigger;\r\n//import com.microsoft.azure.functions.annotation.ServiceBusQueueTrigger;\r\nimport java.util.Optional;\r\n\r\npublic class Handler {\r\n    @FunctionName(&quot;HttpHandler&quot;)\r\n    public HttpResponseMessage runHttp(\r\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS)\r\n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\r\n        \r\n    Optional&lt;String&gt; payload = req.getBody();\r\n    // payload to String (Ignore this)\r\n    //String payload2 = req.getBody().orElse(&quot;&quot;);\r\n\r\n\r\n    MessageEnvelope envelope = cf.buildEnvelope(req, context);\r\n    cf.log(envelope, context, payload);\r\n\r\n    return req.createResponseBuilder(HttpStatus.OK).body(&quot;Data logged&quot;).build();\r\n    }\r\n}`\r\n```\r\n\r\nAnd my buildEnvelope function:\r\n\r\n```\r\n`public static MessageEnvelope buildEnvelope(HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\r\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n    Optional&lt;String&gt; payload = req.getBody();\r\n\r\n   MessageEnvelope msgEnvelope = new MessageEnvelope(req, context);\r\n   msgEnvelope.setMessageMetadata(new MessageMetadata(System.getenv(&quot;AZURE_FUNCTIONS_ENVIRONMENT&quot;), System.getenv(&quot;USERDNSDOMAIN&quot;)));\r\n   msgEnvelope.setMessageAttributes(new MessageAttributes(&quot;&quot;, &quot;&quot;));\r\n   msgEnvelope.setMessageParameters(new MessageParameters(&quot;&quot;, &quot;&quot;));\r\n   msgEnvelope.setMessageVariable(new String[]{&quot;0&quot;, &quot;1&quot;, &quot;2&quot;});\r\n   msgEnvelope.setMessagePayload(gson.toJson(payload));\r\n\r\n   return msgEnvelope;\r\n}`\r\n```\r\n\r\nPlease help me make this conversion. Thank you!","title":"Convert HttpRequestMessage&lt;Optional&lt;String&gt;&gt; to a normal String","body":"<p>I am writing a Java Azure program that builds an envelope and logs the data to Application Insights in the Azure Portal. Currently it is tailored to just accept an HTTP Request function, but I am trying to make it compatible with using the Azure Service Bus and other services as well. My cf.buildEnvelope() function currently is structed as: buildEnvelope(HttpRequestMessage&lt;Optional&gt; req, ExecutionContext context)\nand I want to change it to:\nbuildEnvelope(String req, ExecutionContext context) so that I can use it for more than just the HTTP Request. In order to do this I believe I just need to convert my req to a normal String in my Handler, but I cannot figure out how to do so.</p>\n<p>Here is my Handler:</p>\n<pre><code>`import com.microsoft.azure.functions.ExecutionContext;\nimport com.microsoft.azure.functions.HttpMethod;\nimport com.microsoft.azure.functions.HttpRequestMessage;\nimport com.microsoft.azure.functions.HttpResponseMessage;\nimport com.microsoft.azure.functions.HttpStatus;\nimport com.microsoft.azure.functions.annotation.AuthorizationLevel;\nimport com.microsoft.azure.functions.annotation.FunctionName;\nimport com.microsoft.azure.functions.annotation.HttpTrigger;\n//import com.microsoft.azure.functions.annotation.ServiceBusQueueTrigger;\nimport java.util.Optional;\n\npublic class Handler {\n    @FunctionName(&quot;HttpHandler&quot;)\n    public HttpResponseMessage runHttp(\n            @HttpTrigger(name = &quot;req&quot;, methods = {HttpMethod.GET, HttpMethod.POST}, authLevel = AuthorizationLevel.ANONYMOUS)\n            HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\n        \n    Optional&lt;String&gt; payload = req.getBody();\n    // payload to String (Ignore this)\n    //String payload2 = req.getBody().orElse(&quot;&quot;);\n\n\n    MessageEnvelope envelope = cf.buildEnvelope(req, context);\n    cf.log(envelope, context, payload);\n\n    return req.createResponseBuilder(HttpStatus.OK).body(&quot;Data logged&quot;).build();\n    }\n}`\n</code></pre>\n<p>And my buildEnvelope function:</p>\n<pre><code>`public static MessageEnvelope buildEnvelope(HttpRequestMessage&lt;Optional&lt;String&gt;&gt; req, ExecutionContext context) {\n    Gson gson = new GsonBuilder().setPrettyPrinting().create();\n    Optional&lt;String&gt; payload = req.getBody();\n\n   MessageEnvelope msgEnvelope = new MessageEnvelope(req, context);\n   msgEnvelope.setMessageMetadata(new MessageMetadata(System.getenv(&quot;AZURE_FUNCTIONS_ENVIRONMENT&quot;), System.getenv(&quot;USERDNSDOMAIN&quot;)));\n   msgEnvelope.setMessageAttributes(new MessageAttributes(&quot;&quot;, &quot;&quot;));\n   msgEnvelope.setMessageParameters(new MessageParameters(&quot;&quot;, &quot;&quot;));\n   msgEnvelope.setMessageVariable(new String[]{&quot;0&quot;, &quot;1&quot;, &quot;2&quot;});\n   msgEnvelope.setMessagePayload(gson.toJson(payload));\n\n   return msgEnvelope;\n}`\n</code></pre>\n<p>Please help me make this conversion. Thank you!</p>\n"},{"tags":["java","minecraft"],"answers":[{"comments":[{"owner":{"account_id":22907482,"reputation":103,"user_id":17045315,"display_name":"Blay"},"score":0,"creation_date":1659198003,"post_id":73175845,"comment_id":129238985,"body_markdown":"But actually in minecraft even if you are playing singleplayer, you are just starting internal server, that only you can join, so I think it&#39;s not the case, and I also tested it in multiplayer, and game crashes then too, but anyways thanks for the answer! :D","body":"But actually in minecraft even if you are playing singleplayer, you are just starting internal server, that only you can join, so I think it&#39;s not the case, and I also tested it in multiplayer, and game crashes then too, but anyways thanks for the answer! :D"},{"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"score":0,"creation_date":1659225726,"post_id":73175845,"comment_id":129244132,"body_markdown":"@BlayUng We must be playing in different worlds then :) Anywho, please consider my suggestion to check if the return value is null first so that you won&#39;t just blow your foot off in the middle of processing data.","body":"@BlayUng We must be playing in different worlds then :) Anywho, please consider my suggestion to check if the return value is null first so that you won&#39;t just blow your foot off in the middle of processing data."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676318496,"post_id":73175845,"comment_id":133109766,"body_markdown":"@BlayUng you are correct, that is how the game was changed to support single player about 8 years ago. I&#39;d be more curious as to what conditions `#getServer()` returned null, e.g. if it was mid-logout or in the main menu.","body":"@BlayUng you are correct, that is how the game was changed to support single player about 8 years ago. I&#39;d be more curious as to what conditions <code>#getServer()</code> returned null, e.g. if it was mid-logout or in the main menu."},{"owner":{"account_id":22907482,"reputation":103,"user_id":17045315,"display_name":"Blay"},"score":0,"creation_date":1676403425,"post_id":73175845,"comment_id":133129222,"body_markdown":"@Rogue, I searched up the code of the game, and I noiticed such comment above the getServer() function of the Entity class: `{@return the server the entity is in, or {@code null} if called on the client side}`. This is probably why it returned null (I was writing a client-sided mod) Besides, that function was returning this.world.getServer(), so I went to the declaration of the world.getServer() function, and it was simply returning null every time you called it, altough it had @Override, so this is why this function could ever be useful (it&#39;s probably changed somewhere else in the code).","body":"@Rogue, I searched up the code of the game, and I noiticed such comment above the getServer() function of the Entity class: <code>{@return the server the entity is in, or {@code null} if called on the client side}</code>. This is probably why it returned null (I was writing a client-sided mod) Besides, that function was returning this.world.getServer(), so I went to the declaration of the world.getServer() function, and it was simply returning null every time you called it, altough it had @Override, so this is why this function could ever be useful (it&#39;s probably changed somewhere else in the code)."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676404402,"post_id":73175845,"comment_id":133129474,"body_markdown":"Indeed, those changed quite a bit with the world-gen implementation changes. You&#39;re likely looking at one of the base classes.","body":"Indeed, those changed quite a bit with the world-gen implementation changes. You&#39;re likely looking at one of the base classes."}],"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673010816,"creation_date":1659186046,"answer_id":73175845,"question_id":73175611,"body_markdown":"According to [this documentation](https://taylorgoolsby.github.io/forge-javadocs/docs/javadoc-1.15.2/net/minecraft/client/entity/player/ClientPlayerEntity.html) it inherits [this method](https://taylorgoolsby.github.io/forge-javadocs/docs/javadoc-1.15.2/net/minecraft/entity/Entity.html#getServer--), which is the `#getServer()` method.\r\n\r\nAccording to the documentations, the return value is `@Nullable`.\r\n\r\nIn other words, you would most likely want to check if the method returns `null` before doing anything with it.\r\n\r\nThe most convincing answer that came to my mind is that the player isn&#39;t in a server at all.\r\n\r\nIn other words, player is in a local world hence it doesn&#39;t return a `MinecraftServer`.","title":"Why is net.minecraft.entity.Entity.getServer() returning null?","body":"<p>According to <a href=\"https://taylorgoolsby.github.io/forge-javadocs/docs/javadoc-1.15.2/net/minecraft/client/entity/player/ClientPlayerEntity.html\" rel=\"nofollow noreferrer\">this documentation</a> it inherits <a href=\"https://taylorgoolsby.github.io/forge-javadocs/docs/javadoc-1.15.2/net/minecraft/entity/Entity.html#getServer--\" rel=\"nofollow noreferrer\">this method</a>, which is the <code>#getServer()</code> method.</p>\n<p>According to the documentations, the return value is <code>@Nullable</code>.</p>\n<p>In other words, you would most likely want to check if the method returns <code>null</code> before doing anything with it.</p>\n<p>The most convincing answer that came to my mind is that the player isn't in a server at all.</p>\n<p>In other words, player is in a local world hence it doesn't return a <code>MinecraftServer</code>.</p>\n"},{"tags":[],"owner":{"account_id":22907482,"reputation":103,"user_id":17045315,"display_name":"Blay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676403560,"creation_date":1659999400,"answer_id":73284864,"question_id":73175611,"body_markdown":"It was returning null, because the mod was client-sided, and client-sided mods cannot get the MinecraftServer class.","title":"Why is net.minecraft.entity.Entity.getServer() returning null?","body":"<p>It was returning null, because the mod was client-sided, and client-sided mods cannot get the MinecraftServer class.</p>\n"}],"owner":{"account_id":22907482,"reputation":103,"user_id":17045315,"display_name":"Blay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":834,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":73284864,"answer_count":2,"score":-1,"last_activity_date":1676403720,"creation_date":1659184110,"question_id":73175611,"body_markdown":"I was recently writing a fabric mc minecraft mod for 1.19.1, and I have a single, simple question, that I can&#39;t find answer for:  \r\nWhy is client.player.getServer() returning null, where I&#39;m running it like this:\r\n```\r\nClientTickEvents.END_CLIENT_TICK.register(client -&gt; {\r\n    client.player.getServer().getPlayerNames()\r\n});\r\n```\r\nThe exception I&#39;m getting: ```java.lang.NullPointerException: Cannot invoke &quot;net.minecraft.server.MinecraftServer.getPlayerNames()&quot; because the return value of &quot;net.minecraft.client.network.ClientPlayerEntity.getServer()&quot; is null```  \r\nDoes anyone know what is going on? Thanks :)","title":"Why is net.minecraft.entity.Entity.getServer() returning null?","body":"<p>I was recently writing a fabric mc minecraft mod for 1.19.1, and I have a single, simple question, that I can't find answer for:<br />\nWhy is client.player.getServer() returning null, where I'm running it like this:</p>\n<pre><code>ClientTickEvents.END_CLIENT_TICK.register(client -&gt; {\n    client.player.getServer().getPlayerNames()\n});\n</code></pre>\n<p>The exception I'm getting: <code>java.lang.NullPointerException: Cannot invoke &quot;net.minecraft.server.MinecraftServer.getPlayerNames()&quot; because the return value of &quot;net.minecraft.client.network.ClientPlayerEntity.getServer()&quot; is null</code><br />\nDoes anyone know what is going on? Thanks :)</p>\n"},{"tags":["java","json","spring","list","enums"],"answers":[{"comments":[{"owner":{"account_id":22210359,"reputation":3,"user_id":19821716,"display_name":"Luigicuri"},"score":0,"creation_date":1676403597,"post_id":75452461,"comment_id":133129269,"body_markdown":"It worked, thank you! I&#39;m going to practice more, ty!","body":"It worked, thank you! I&#39;m going to practice more, ty!"}],"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676403674,"creation_date":1676402957,"answer_id":75452461,"question_id":75452133,"body_markdown":"It&#39;s because you&#39;re iterating over all the Ingredients\r\n\r\n    for (Ingredients a : Ingredients.values()) {\r\n\r\nTry\r\n\r\n    for (Ingredients a : burger.getIngredients()) {\r\n\r\nAs a side note, consider renaming your enum `Ingredient` instead of `Ingredients` because a single instance represents an `Ingredient`, not all.","title":"Need to sum enum values with another class field in a POST request","body":"<p>It's because you're iterating over all the Ingredients</p>\n<pre><code>for (Ingredients a : Ingredients.values()) {\n</code></pre>\n<p>Try</p>\n<pre><code>for (Ingredients a : burger.getIngredients()) {\n</code></pre>\n<p>As a side note, consider renaming your enum <code>Ingredient</code> instead of <code>Ingredients</code> because a single instance represents an <code>Ingredient</code>, not all.</p>\n"}],"owner":{"account_id":22210359,"reputation":3,"user_id":19821716,"display_name":"Luigicuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75452461,"answer_count":1,"score":0,"last_activity_date":1676403674,"creation_date":1676400695,"question_id":75452133,"body_markdown":"I have an Ingredients ENUM with Double type values:\r\n    \r\n```\r\n@Getter\r\n@AllArgsConstructor\r\npublic enum Ingredients\r\n    LETUCE(0.40),\r\n    BACON(2.00),\r\n    BEEF(3.00),\r\n    EGG(0.80),\r\n    CHEESE(1.50);\r\n```\r\nI have a Burger class with fields:\r\n       \r\n```\r\n       Long id;\r\n       String name;\r\n       \r\n       Double price;\r\n       List&lt;Ingredients&gt; aditionalIngredients;\r\n```\r\n\r\nThe class Burger has a `List&lt;Ingredients&gt; aditionalIngredients` field for aditional ingredients, I need to sum an aditional ingredient value to the default Burger price in a JSON POST request, for example: \r\n\r\n    {\r\n      &quot;name&quot; : &quot;Burger1&quot;,\r\n      &quot;price&quot; : 5.00,\r\n      &quot;aditionalIngredients: [&quot;LETUCE&quot;, &quot;EGG&quot;] //sum these 2 values to the burger default price \r\n    }\r\n    \r\n    EXPECTED RETURN\r\n    \r\n    {\r\n      &quot;name&quot; : &quot;Burger1&quot;,\r\n      &quot;aditionalIngredients: [&quot;LETUCE&quot;, &quot;EGG&quot;]\r\n      &quot;price&quot; : 6.20         //0.40 + 0.80 + 5.00(burger price)\r\n    }\r\n\r\nI tried to do this:\r\n\r\n```\r\nif(!burger.getAditionalIngredient().isEmpty()){\r\n         for( Ingredients a : Ingredients.values()){\r\n         burger.setPrice(burger.getPrice() +  a.getValue());\r\n   }\r\n}\r\n```\r\nBut returned the sum of ALL THE ENUM values, not just [&quot;LETUCE&quot;, &quot;EGG].\r\n","title":"Need to sum enum values with another class field in a POST request","body":"<p>I have an Ingredients ENUM with Double type values:</p>\n<pre><code>@Getter\n@AllArgsConstructor\npublic enum Ingredients\n    LETUCE(0.40),\n    BACON(2.00),\n    BEEF(3.00),\n    EGG(0.80),\n    CHEESE(1.50);\n</code></pre>\n<p>I have a Burger class with fields:</p>\n<pre><code>       Long id;\n       String name;\n       \n       Double price;\n       List&lt;Ingredients&gt; aditionalIngredients;\n</code></pre>\n<p>The class Burger has a <code>List&lt;Ingredients&gt; aditionalIngredients</code> field for aditional ingredients, I need to sum an aditional ingredient value to the default Burger price in a JSON POST request, for example:</p>\n<pre><code>{\n  &quot;name&quot; : &quot;Burger1&quot;,\n  &quot;price&quot; : 5.00,\n  &quot;aditionalIngredients: [&quot;LETUCE&quot;, &quot;EGG&quot;] //sum these 2 values to the burger default price \n}\n\nEXPECTED RETURN\n\n{\n  &quot;name&quot; : &quot;Burger1&quot;,\n  &quot;aditionalIngredients: [&quot;LETUCE&quot;, &quot;EGG&quot;]\n  &quot;price&quot; : 6.20         //0.40 + 0.80 + 5.00(burger price)\n}\n</code></pre>\n<p>I tried to do this:</p>\n<pre><code>if(!burger.getAditionalIngredient().isEmpty()){\n         for( Ingredients a : Ingredients.values()){\n         burger.setPrice(burger.getPrice() +  a.getValue());\n   }\n}\n</code></pre>\n<p>But returned the sum of ALL THE ENUM values, not just [&quot;LETUCE&quot;, &quot;EGG].</p>\n"},{"tags":["java","spring","spring-boot","spring-kafka","kafka-producer-api"],"comments":[{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1650922795,"post_id":72005822,"comment_id":127234008,"body_markdown":"May we see more stacktrace? Is that thrown really from the `kafkaTemplate.sendDefault(key, value)` line of your code?","body":"May we see more stacktrace? Is that thrown really from the <code>kafkaTemplate.sendDefault(key, value)</code> line of your code?"},{"owner":{"account_id":6743067,"reputation":107,"user_id":5195613,"display_name":"Vikram Bhardwaj"},"score":0,"creation_date":1650923256,"post_id":72005822,"comment_id":127234126,"body_markdown":"Hi @Artem Bilan\nadded the stack trace to my question","body":"Hi @Artem Bilan added the stack trace to my question"},{"owner":{"account_id":5559956,"reputation":13829,"user_id":9840318,"display_name":"Madhu Bhat"},"score":0,"creation_date":1650923257,"post_id":72005822,"comment_id":127234127,"body_markdown":"Your configuration is defined as `spring.kafka.templete.default-topic` instead of `spring.kafka.template.default-topic` in [here](https://github.com/vikram-bhardwaj/KafkaLearning/blob/main/src/main/resources/application.yml#L8) with the typo for `template`. That&#39;s probably why the topic name is not being assigned.","body":"Your configuration is defined as <code>spring.kafka.templete.default-topic</code> instead of <code>spring.kafka.template.default-topic</code> in <a href=\"https://github.com/vikram-bhardwaj/KafkaLearning/blob/main/src/main/resources/application.yml#L8\" rel=\"nofollow noreferrer\">here</a> with the typo for <code>template</code>. That&#39;s probably why the topic name is not being assigned."},{"owner":{"account_id":6743067,"reputation":107,"user_id":5195613,"display_name":"Vikram Bhardwaj"},"score":0,"creation_date":1650924165,"post_id":72005822,"comment_id":127234314,"body_markdown":"Hi Madhu Bhat\nThanks for pointing it out, but it&#39;s not due to that. Retried upon update. I have pushed the latest to the repo too and attached a stack trace to the question.","body":"Hi Madhu Bhat Thanks for pointing it out, but it&#39;s not due to that. Retried upon update. I have pushed the latest to the repo too and attached a stack trace to the question."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1650979595,"post_id":72005822,"comment_id":127248421,"body_markdown":"I think this all does not make sense any more: see Gary&#39;s answer and his investigation.","body":"I think this all does not make sense any more: see Gary&#39;s answer and his investigation."}],"answers":[{"comments":[{"owner":{"account_id":6743067,"reputation":107,"user_id":5195613,"display_name":"Vikram Bhardwaj"},"score":0,"creation_date":1650924913,"post_id":72006185,"comment_id":127234465,"body_markdown":"Hi Gary,\nTried your suggestions, still facing the same issue. did this work in your system?","body":"Hi Gary, Tried your suggestions, still facing the same issue. did this work in your system?"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1650925083,"post_id":72006185,"comment_id":127234499,"body_markdown":"I tested it with your app with no problems with the spelling correction; I can see the `defaultTopic` field in the template in the debugger.","body":"I tested it with your app with no problems with the spelling correction; I can see the <code>defaultTopic</code> field in the template in the debugger."},{"owner":{"account_id":4919995,"reputation":129,"user_id":3962816,"accept_rate":75,"display_name":"gaurav kumar"},"score":0,"creation_date":1678733394,"post_id":72006185,"comment_id":133587600,"body_markdown":"i used the same, but somehow my defaultTopic field in template is always coming null.","body":"i used the same, but somehow my defaultTopic field in template is always coming null."},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1678795301,"post_id":72006185,"comment_id":133599037,"body_markdown":"Ask a new question showing your code, config, and version information.","body":"Ask a new question showing your code, config, and version information."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650924299,"creation_date":1650924299,"answer_id":72006185,"question_id":72005822,"body_markdown":"You have a typo in application.yml - `templete` Vs. `template`.\r\n\r\nAlso, see the error message in the log:\r\n\r\n&gt;Property &#39;spring.profiles&#39; imported from location &#39;file [application.yml]&#39; is invalid and should be replaced with &#39;spring.config.activate.on-profile&#39; [origin: URL [file:application.yml] - 38:13]\r\n\r\n```yaml\r\nspring:\r\n  config:\r\n    activate:\r\n      on-profile: local\r\n  kafka:\r\n    template:\r\n      default-topic: library-events\r\n    producer:\r\n      bootstrap-servers: localhost:9092, localhost:9093, localhost:9094\r\n      key-serializer: org.apache.kafka.common.serialization.IntegerSerializer\r\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n    admin:\r\n      properties:\r\n       bootstrap.servers: localhost:9092,localhost:9093,localhost:9094\r\n```","title":"java.lang.IllegalArgumentException: Topic cannot be null. at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71)","body":"<p>You have a typo in application.yml - <code>templete</code> Vs. <code>template</code>.</p>\n<p>Also, see the error message in the log:</p>\n<blockquote>\n<p>Property 'spring.profiles' imported from location 'file [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: URL [file:application.yml] - 38:13]</p>\n</blockquote>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  config:\n    activate:\n      on-profile: local\n  kafka:\n    template:\n      default-topic: library-events\n    producer:\n      bootstrap-servers: localhost:9092, localhost:9093, localhost:9094\n      key-serializer: org.apache.kafka.common.serialization.IntegerSerializer\n      value-serializer: org.apache.kafka.common.serialization.StringSerializer\n    admin:\n      properties:\n       bootstrap.servers: localhost:9092,localhost:9093,localhost:9094\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26123731,"reputation":1,"user_id":19815560,"display_name":"Samer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661494438,"creation_date":1661110147,"answer_id":73437614,"question_id":72005822,"body_markdown":"I think you should use send method instead of sendDefault for latest versions of spring boot , \r\nlike this :\r\n  \r\n\r\n    kafkaTemplate.sendDefault(&quot;topic-name&quot;,key,value);","title":"java.lang.IllegalArgumentException: Topic cannot be null. at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71)","body":"<p>I think you should use send method instead of sendDefault for latest versions of spring boot ,\nlike this :</p>\n<pre><code>kafkaTemplate.sendDefault(&quot;topic-name&quot;,key,value);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18625102,"reputation":43,"user_id":13574407,"display_name":"Himanshu Gadia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676403567,"creation_date":1676403567,"answer_id":75452551,"question_id":72005822,"body_markdown":"I was facing similar issue. I referred - [How to set spring boot profile][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/39738901/how-do-i-activate-a-spring-boot-profile-when-running-from-intellij\r\n\r\nSeems like intellij is not picking the default topic from yml file and that&#39;s why topic was null. Hence the error. \r\nIt resolved for me without making any changes in sendDefault method.","title":"java.lang.IllegalArgumentException: Topic cannot be null. at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71)","body":"<p>I was facing similar issue. I referred - <a href=\"https://stackoverflow.com/questions/39738901/how-do-i-activate-a-spring-boot-profile-when-running-from-intellij\">How to set spring boot profile</a></p>\n<p>Seems like intellij is not picking the default topic from yml file and that's why topic was null. Hence the error.\nIt resolved for me without making any changes in sendDefault method.</p>\n"}],"owner":{"account_id":6743067,"reputation":107,"user_id":5195613,"display_name":"Vikram Bhardwaj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3043,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676403567,"creation_date":1650921254,"question_id":72005822,"body_markdown":"I&#39;m new to Kafka and struggling with a very strange error. Could someone please help in identifying the issue?\r\n\r\nThe error: \r\n\r\n    ERROR 26072 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Topic cannot be null.] with root cause\r\n    \r\n    java.lang.IllegalArgumentException: Topic cannot be null.\r\n    \tat org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71) ~[kafka-clients-3.0.1.jar:na]\r\n\r\nI&#39;m suspecting that somehow it&#39;s not able to read the Topic value from the application.yml file but not sure about the reason as it&#39;s able to read all other values.\r\n\r\nI&#39;m uploading the entire code to Github.\r\n\r\nRepo URL: [https://github.com/vikram-bhardwaj/KafkaLearning.git][1]\r\n\r\nPlease help.\r\n\r\n\r\n  [1]: https://github.com/vikram-bhardwaj/KafkaLearning.git\r\n\r\n\r\nStack trace:\r\n\r\n    java.lang.IllegalArgumentException: Topic cannot be null.\r\n    \tat org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71) ~[kafka-clients-3.0.1.jar:na]\r\n    \tat org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:133) ~[kafka-clients-3.0.1.jar:na]\r\n    \tat org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:408) ~[spring-kafka-2.8.5.jar:2.8.5]\r\n    \tat org.springframework.kafka.core.KafkaTemplate.sendDefault(KafkaTemplate.java:387) ~[spring-kafka-2.8.5.jar:2.8.5]\r\n    \tat com.learnKafka.producer.LibraryEventProducer.sendLibraryEvents(LibraryEventProducer.java:32) ~[classes/:na]\r\n    \tat com.learnKafka.controller.LibraryEventsController.postLibraryEvents(LibraryEventsController.java:32) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\r\n\r\n","title":"java.lang.IllegalArgumentException: Topic cannot be null. at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71)","body":"<p>I'm new to Kafka and struggling with a very strange error. Could someone please help in identifying the issue?</p>\n<p>The error:</p>\n<pre><code>ERROR 26072 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Topic cannot be null.] with root cause\n\njava.lang.IllegalArgumentException: Topic cannot be null.\n    at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71) ~[kafka-clients-3.0.1.jar:na]\n</code></pre>\n<p>I'm suspecting that somehow it's not able to read the Topic value from the application.yml file but not sure about the reason as it's able to read all other values.</p>\n<p>I'm uploading the entire code to Github.</p>\n<p>Repo URL: <a href=\"https://github.com/vikram-bhardwaj/KafkaLearning.git\" rel=\"nofollow noreferrer\">https://github.com/vikram-bhardwaj/KafkaLearning.git</a></p>\n<p>Please help.</p>\n<p>Stack trace:</p>\n<pre><code>java.lang.IllegalArgumentException: Topic cannot be null.\n    at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:71) ~[kafka-clients-3.0.1.jar:na]\n    at org.apache.kafka.clients.producer.ProducerRecord.&lt;init&gt;(ProducerRecord.java:133) ~[kafka-clients-3.0.1.jar:na]\n    at org.springframework.kafka.core.KafkaTemplate.send(KafkaTemplate.java:408) ~[spring-kafka-2.8.5.jar:2.8.5]\n    at org.springframework.kafka.core.KafkaTemplate.sendDefault(KafkaTemplate.java:387) ~[spring-kafka-2.8.5.jar:2.8.5]\n    at com.learnKafka.producer.LibraryEventProducer.sendLibraryEvents(LibraryEventProducer.java:32) ~[classes/:na]\n    at com.learnKafka.controller.LibraryEventsController.postLibraryEvents(LibraryEventsController.java:32) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.19.jar:5.3.19]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.62.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.19.jar:5.3.19]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:890) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.62.jar:9.0.62]\n    at java.base/java.lang.Thread.run(Thread.java:834) ~[na:na]\n</code></pre>\n"},{"tags":["javascript","java","spring","hibernate"],"owner":{"account_id":27706510,"reputation":13,"user_id":21150033,"display_name":"Aditi Mogha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676403495,"creation_date":1676397773,"question_id":75451603,"body_markdown":"I am upgrading spring 4 to spring 5 and java 8 to java 17 . My integration tests are failing with assertion error :\r\n\r\n   \r\n\r\n    java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;201&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\r\nCould some one help here what is the cause for the integration test failure.\r\n\r\n test case is using this script:\r\n\r\n    @ScriptAssert(message = &quot;At least one property to update should be specified.&quot;,\r\n        script = &quot;_this.caseType != null || _this.caseReferenceId != null ||  _this.documentMajorVersion != null || &quot;\r\n                + &quot; _this.documentMinorVersion != null || _this.caseState != null || _this.assignedToUser != null || &quot;\r\n                + &quot;_this.dueDate != null || _this.status != null &quot;,\r\n        lang = &quot;javascript&quot;, groups = CaseRequest.Update.class)\r\npublic class CaseRequest extends BasicRequest {\r\n\r\n    public interface Create {\r\n.....\r\n\r\n\r\ntest case :\r\n\r\n        @Test\r\n    public void createCaseConfig_caseLastRestoredMinutesLessThanCaseTimeoutMinutes_shouldReturnBadRequest()\r\n            throws Exception {\r\n        CaseConfigRequest caseConfigRequest = new CaseConfigRequest();\r\n        caseConfigRequest.setCaseType(&quot;caseType&quot;);\r\n        caseConfigRequest.setUsername(&quot;username&quot;);\r\n        caseConfigRequest.setCaseTimeoutMinutes(60);\r\n        caseConfigRequest.setCaseLastRestoredMinutes(59);\r\n        doReturn(expectedCaseConfig).when(caseConfigService).createCaseConfig(any(CaseConfigRequest.class));\r\n\r\n        mvcResult = mockMvc\r\n                .perform(\r\n                        MockMvcRequestBuilders.post(&quot;/v1/caseconfigs&quot;).with(SecurityMockMvcRequestPostProcessors.csrf())\r\n                                .with(SecurityMockMvcRequestPostProcessors.httpBasic(&quot;test&quot;, &quot;testpassword&quot;))\r\n                                .content(objectMapper.writeValueAsString(caseConfigRequest))\r\n                                .contentType(MediaType.APPLICATION_JSON))\r\n                .andExpect(status().isBadRequest()).andReturn();\r\n        ClmErrorResponse clmErrorResponse =\r\n                objectMapper.readValue(mvcResult.getResponse().getContentAsByteArray(), ClmErrorResponse.class);\r\n        InputError error = clmErrorResponse.getInputErrors().iterator().next();\r\n        assertThat(error.getFieldName(), is(&quot;caseConfigRequest&quot;));\r\n        assertThat(error.getFieldViolation(), is(&quot;caseLastRestoredMinutes should be greater than caseTimeoutMinutes&quot;));\r\n    }\r\n\r\n\r\n","title":"@ScriptAssert is not working correctly, java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;201&gt; ,","body":"<p>I am upgrading spring 4 to spring 5 and java 8 to java 17 . My integration tests are failing with assertion error :</p>\n<pre><code>java.lang.AssertionError: Status expected:&lt;400&gt; but was:&lt;201&gt;\nat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\n</code></pre>\n<p>Could some one help here what is the cause for the integration test failure.</p>\n<p>test case is using this script:</p>\n<pre><code>@ScriptAssert(message = &quot;At least one property to update should be specified.&quot;,\n    script = &quot;_this.caseType != null || _this.caseReferenceId != null ||  _this.documentMajorVersion != null || &quot;\n            + &quot; _this.documentMinorVersion != null || _this.caseState != null || _this.assignedToUser != null || &quot;\n            + &quot;_this.dueDate != null || _this.status != null &quot;,\n    lang = &quot;javascript&quot;, groups = CaseRequest.Update.class)\n</code></pre>\n<p>public class CaseRequest extends BasicRequest {</p>\n<pre><code>public interface Create {\n</code></pre>\n<p>.....</p>\n<p>test case :</p>\n<pre><code>    @Test\npublic void createCaseConfig_caseLastRestoredMinutesLessThanCaseTimeoutMinutes_shouldReturnBadRequest()\n        throws Exception {\n    CaseConfigRequest caseConfigRequest = new CaseConfigRequest();\n    caseConfigRequest.setCaseType(&quot;caseType&quot;);\n    caseConfigRequest.setUsername(&quot;username&quot;);\n    caseConfigRequest.setCaseTimeoutMinutes(60);\n    caseConfigRequest.setCaseLastRestoredMinutes(59);\n    doReturn(expectedCaseConfig).when(caseConfigService).createCaseConfig(any(CaseConfigRequest.class));\n\n    mvcResult = mockMvc\n            .perform(\n                    MockMvcRequestBuilders.post(&quot;/v1/caseconfigs&quot;).with(SecurityMockMvcRequestPostProcessors.csrf())\n                            .with(SecurityMockMvcRequestPostProcessors.httpBasic(&quot;test&quot;, &quot;testpassword&quot;))\n                            .content(objectMapper.writeValueAsString(caseConfigRequest))\n                            .contentType(MediaType.APPLICATION_JSON))\n            .andExpect(status().isBadRequest()).andReturn();\n    ClmErrorResponse clmErrorResponse =\n            objectMapper.readValue(mvcResult.getResponse().getContentAsByteArray(), ClmErrorResponse.class);\n    InputError error = clmErrorResponse.getInputErrors().iterator().next();\n    assertThat(error.getFieldName(), is(&quot;caseConfigRequest&quot;));\n    assertThat(error.getFieldViolation(), is(&quot;caseLastRestoredMinutes should be greater than caseTimeoutMinutes&quot;));\n}\n</code></pre>\n"},{"tags":["java","microsoft-graph-api"],"owner":{"account_id":367805,"reputation":143,"user_id":714212,"display_name":"rread"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676403119,"creation_date":1676403119,"question_id":75452495,"body_markdown":"Hi Guys i need some help, i got a super user in sharepoint and drive,\r\n\r\nI need to create a application in java that when a username and filename is passed to it, will go into the users drive and look for the filename passed and return the file-Id for it. i by chance the user has multiple files with the same name i need to return the latest one.\r\n\r\nI have tried multiple ways but it does not seem to work\r\n\r\nhere is a copy of my code\r\n\r\n\t\t\tGraphServiceClient graphClient = (GraphServiceClient) GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\r\n\r\n\t\t\tIDriveItemRequestBuilder sDriveReq = graphClient.users(userEmail).drive().root();\r\n\r\n\t\t\tString encodedFileName = URLEncoder.encode(fileName, &quot;UTF-8&quot;);\r\n\r\n\t\t\tIDriveItemSearchCollectionRequest searchRequest = sDriveReq.search(encodedFileName).buildRequest();\r\n\t\t\tIDriveItemSearchCollectionPage searchResult = searchRequest.get();\r\n\r\n\t\t\tDriveItem fileResult = null;\r\n\t\t\tfor (DriveItem driveItem : searchResult.getCurrentPage()) {\r\n\t\t\t\tfileResult = driveItem;\r\n\t\t\t}\r\n\r\n","title":"Java MicrosoftGraph Sharepoint search file in Other User Drive","body":"<p>Hi Guys i need some help, i got a super user in sharepoint and drive,</p>\n<p>I need to create a application in java that when a username and filename is passed to it, will go into the users drive and look for the filename passed and return the file-Id for it. i by chance the user has multiple files with the same name i need to return the latest one.</p>\n<p>I have tried multiple ways but it does not seem to work</p>\n<p>here is a copy of my code</p>\n<pre><code>        GraphServiceClient graphClient = (GraphServiceClient) GraphServiceClient.builder().authenticationProvider(authProvider).buildClient();\n\n        IDriveItemRequestBuilder sDriveReq = graphClient.users(userEmail).drive().root();\n\n        String encodedFileName = URLEncoder.encode(fileName, &quot;UTF-8&quot;);\n\n        IDriveItemSearchCollectionRequest searchRequest = sDriveReq.search(encodedFileName).buildRequest();\n        IDriveItemSearchCollectionPage searchResult = searchRequest.get();\n\n        DriveItem fileResult = null;\n        for (DriveItem driveItem : searchResult.getCurrentPage()) {\n            fileResult = driveItem;\n        }\n</code></pre>\n"},{"tags":["java","hsqldb"],"comments":[{"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"score":0,"creation_date":1594317021,"post_id":62807335,"comment_id":111091352,"body_markdown":"The first method is not allowed for security. The second method is for internal use and it&#39;s not possible to call it directly. Can you add to your question and explain what you want to achieve.","body":"The first method is not allowed for security. The second method is for internal use and it&#39;s not possible to call it directly. Can you add to your question and explain what you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":216064,"reputation":24129,"user_id":471070,"display_name":"fredt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1596673766,"creation_date":1596673766,"answer_id":63275238,"question_id":62807335,"body_markdown":"The exploit you linked to refers to HSQLDB version 1.8.0 which has been obsolete since the release of version 2.0 in 2010. However, aspects of the the security framework remain the same up to the latest version of HyperSQL.\r\n\r\n1. A database user with even the DBA credentials cannot execute any arbitrary static method that happens to be in the classpath of the database server. A sysadmin who starts the database server can issue an allow-list of the specific static methods that are allowed to run as callable procedures, using the `hsqldb.method_class_names` Java System property with the list. See: http://hsqldb.org/doc/2.0/guide/sqlroutines-chapt.html#src_jrt_access_control\r\n\r\n2. The listed safe static methods can then be turned into SQL callable procedures only by DBA credentials. EXECUTE privileges on the procedures are granted by the DBA.\r\n\r\n3. Versions 2.x of HyperSQL generally improve upon the older security framework, for example allows secure password hash algorithms, password check and retention policies, including external authentication via LDAP and other frameworks.  ","title":"need to access hsqldb static method but get java.sql.SQLSyntaxErrorException: user lacks privilege or object not found","body":"<p>The exploit you linked to refers to HSQLDB version 1.8.0 which has been obsolete since the release of version 2.0 in 2010. However, aspects of the the security framework remain the same up to the latest version of HyperSQL.</p>\n<ol>\n<li><p>A database user with even the DBA credentials cannot execute any arbitrary static method that happens to be in the classpath of the database server. A sysadmin who starts the database server can issue an allow-list of the specific static methods that are allowed to run as callable procedures, using the <code>hsqldb.method_class_names</code> Java System property with the list. See: <a href=\"http://hsqldb.org/doc/2.0/guide/sqlroutines-chapt.html#src_jrt_access_control\" rel=\"nofollow noreferrer\">http://hsqldb.org/doc/2.0/guide/sqlroutines-chapt.html#src_jrt_access_control</a></p>\n</li>\n<li><p>The listed safe static methods can then be turned into SQL callable procedures only by DBA credentials. EXECUTE privileges on the procedures are granted by the DBA.</p>\n</li>\n<li><p>Versions 2.x of HyperSQL generally improve upon the older security framework, for example allows secure password hash algorithms, password check and retention policies, including external authentication via LDAP and other frameworks.</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":29800,"reputation":1196,"user_id":80772,"display_name":"eel ghEEz"},"score":0,"creation_date":1676481380,"post_id":75452479,"comment_id":133146962,"body_markdown":"Thanks to your reference to CVE-2020-5902 and Internet Archive, I could dig [Mikhail Klyuchnikov&#39;s exploit](http://web.archive.org/web/20220620155351/https://swarm.ptsecurity.com/rce-in-f5-big-ip/) that took advantage of the permission to call arbitrary static methods.  He demonstrated planting a reverse shell in a security appliance.","body":"Thanks to your reference to CVE-2020-5902 and Internet Archive, I could dig <a href=\"http://web.archive.org/web/20220620155351/https://swarm.ptsecurity.com/rce-in-f5-big-ip/\" rel=\"nofollow noreferrer\">Mikhail Klyuchnikov&#39;s exploit</a> that took advantage of the permission to call arbitrary static methods.  He demonstrated planting a reverse shell in a security appliance."}],"tags":[],"owner":{"account_id":29800,"reputation":1196,"user_id":80772,"display_name":"eel ghEEz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676403047,"creation_date":1676403047,"answer_id":75452479,"question_id":62807335,"body_markdown":"You may succeed if you &quot;try harder&quot; and find the way HSQLDB expects parameter type definitions.\r\n\r\nWith HSQLDB 2.7.1 the maintainer&#39;s answer is enforced by either the absence or the presence of the server&#39;s system property (in addition to the connecting user&#39;s privilege needed to execute procedures).  The server requires an explicit permission in its own Java properties such as `-Dhsqldb.method_class_names=&quot;org.hsqldb.lib.StringConverter.*&quot;`.  (Using just the class name did not enable its static methods for me).\r\n\r\n```bash\r\n$ java -jar ~/hsqldb-svn-trunk/lib/sqltool.jar --inlineRc=&quot;url=jdbc:hsqldb:hsql://localhost/test,user=sa,password=&quot; --sql=&quot;CALL \\&quot;org.hsqldb.lib.StringConverter.getUTFSize\\&quot;(&#39;java.class.path&#39;);&quot;\r\n 15\r\n```\r\n\r\nWith older HSQLDBs (or with a dangerously wide class name permission in 2.7.1), the only hurdle is to correctly declare the Java method&#39;s parameter types.  I already figured that `byte` corresponds to `TINYINT`.  I just need to learn the array mapping.\r\n\r\n```bash\r\n$ nl=$&#39;\\n&#39;; java -cp ~/hsqldb-svn-trunk/lib/sqltool.jar org.hsqldb.cmdline.SqlTool --inlineRc=&quot;url=jdbc:hsqldb:hsql://localhost/test,user=sa,password=&quot; --sql=&quot;CREATE FUNCTION TEST (BINARY) RETURNS BINARY NO SQL LANGUAGE JAVA EXTERNAL NAME &#39;CLASSPATH:org.hsqldb.lib.InOutUtil.deserialize&#39;;${nl}.;&quot;\r\nFeb 14, 2023 2:29:58 PM org.hsqldb.cmdline.SqlTool objectMain\r\nSEVERE: SQL Error at &#39;--sql&#39; line 2:\r\n&quot;CREATE FUNCTION TEST (BINARY) RETURNS BINARY NO SQL LANGUAGE JAVA EXTERNAL NAME &#39;CLASSPATH:org.hsqldb.lib.InOutUtil.deserialize&#39;;&quot;\r\nuser lacks privilege or object not found: org.hsqldb.lib.InOutUtil\r\norg.hsqldb.cmdline.SqlTool$SqlToolException\r\n```","title":"need to access hsqldb static method but get java.sql.SQLSyntaxErrorException: user lacks privilege or object not found","body":"<p>You may succeed if you &quot;try harder&quot; and find the way HSQLDB expects parameter type definitions.</p>\n<p>With HSQLDB 2.7.1 the maintainer's answer is enforced by either the absence or the presence of the server's system property (in addition to the connecting user's privilege needed to execute procedures).  The server requires an explicit permission in its own Java properties such as <code>-Dhsqldb.method_class_names=&quot;org.hsqldb.lib.StringConverter.*&quot;</code>.  (Using just the class name did not enable its static methods for me).</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ java -jar ~/hsqldb-svn-trunk/lib/sqltool.jar --inlineRc=&quot;url=jdbc:hsqldb:hsql://localhost/test,user=sa,password=&quot; --sql=&quot;CALL \\&quot;org.hsqldb.lib.StringConverter.getUTFSize\\&quot;('java.class.path');&quot;\n 15\n</code></pre>\n<p>With older HSQLDBs (or with a dangerously wide class name permission in 2.7.1), the only hurdle is to correctly declare the Java method's parameter types.  I already figured that <code>byte</code> corresponds to <code>TINYINT</code>.  I just need to learn the array mapping.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ nl=$'\\n'; java -cp ~/hsqldb-svn-trunk/lib/sqltool.jar org.hsqldb.cmdline.SqlTool --inlineRc=&quot;url=jdbc:hsqldb:hsql://localhost/test,user=sa,password=&quot; --sql=&quot;CREATE FUNCTION TEST (BINARY) RETURNS BINARY NO SQL LANGUAGE JAVA EXTERNAL NAME 'CLASSPATH:org.hsqldb.lib.InOutUtil.deserialize';${nl}.;&quot;\nFeb 14, 2023 2:29:58 PM org.hsqldb.cmdline.SqlTool objectMain\nSEVERE: SQL Error at '--sql' line 2:\n&quot;CREATE FUNCTION TEST (BINARY) RETURNS BINARY NO SQL LANGUAGE JAVA EXTERNAL NAME 'CLASSPATH:org.hsqldb.lib.InOutUtil.deserialize';&quot;\nuser lacks privilege or object not found: org.hsqldb.lib.InOutUtil\norg.hsqldb.cmdline.SqlTool$SqlToolException\n</code></pre>\n"}],"owner":{"account_id":47025,"reputation":1053,"user_id":139138,"accept_rate":74,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63275238,"answer_count":2,"score":0,"last_activity_date":1676403047,"creation_date":1594268214,"question_id":62807335,"body_markdown":"I&#39;m trying to access the deserialize static method within the hsqldb (2.5.1) InOutUtil class. When I run it, ```java -cp hsqldb.jar:. testcode```\r\n\r\nI get:\r\n\r\n    java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: org.hsqldb.lib.InOutUtil.deserialize\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n    \tat org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\r\n    \tat org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)\r\n    \tat org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)\r\n    \tat testcode.main(testcode.java:58)\r\n    Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: org.hsqldb.lib.InOutUtil.deserialize\r\n    \tat org.hsqldb.error.Error.error(Unknown Source)\r\n    \tat org.hsqldb.result.Result.getException(Unknown Source)\r\n    \t... 4 more\r\nCode:\r\n\r\n    ...\r\n    \r\n    connection = DriverManager.getConnection(dburl, &quot;sa&quot;, &quot;&quot;);\r\n    statement = connection.createStatement();\r\n    statement.execute(&quot;call \\&quot;java.lang.System.setProperty\\&quot;(&#39;org.apache.commons.collections.enableUnsafeSerialization&#39;,&#39;true&#39;)&quot;);\r\n    statement.execute(&quot;call \\&quot;org.hsqldb.lib.InOutUtil.deserialize\\&quot;(&#39;&quot; + my_object +&quot;&#39;);&quot;);\r\n        \r\n    ...\r\n\r\nThis is the offending line that throws the exception:\r\n\r\n```statement.execute(&quot;call \\&quot;org.hsqldb.lib.InOutUtil.deserialize\\&quot;(&#39;&quot; + my_object +&quot;&#39;);&quot;);```\r\n\r\nWhat I&#39;m trying to do is reproduce this exploit, https://github.com/Critical-Start/Team-Ares/tree/master/CVE-2020-5902, on a local instance of hsqldb.\r\n\r\nNot sure what I&#39;m doing wrong. Thanks!","title":"need to access hsqldb static method but get java.sql.SQLSyntaxErrorException: user lacks privilege or object not found","body":"<p>I'm trying to access the deserialize static method within the hsqldb (2.5.1) InOutUtil class. When I run it, <code>java -cp hsqldb.jar:. testcode</code></p>\n<p>I get:</p>\n<pre><code>java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: org.hsqldb.lib.InOutUtil.deserialize\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCUtil.sqlException(Unknown Source)\n    at org.hsqldb.jdbc.JDBCStatement.fetchResult(Unknown Source)\n    at org.hsqldb.jdbc.JDBCStatement.execute(Unknown Source)\n    at testcode.main(testcode.java:58)\nCaused by: org.hsqldb.HsqlException: user lacks privilege or object not found: org.hsqldb.lib.InOutUtil.deserialize\n    at org.hsqldb.error.Error.error(Unknown Source)\n    at org.hsqldb.result.Result.getException(Unknown Source)\n    ... 4 more\n</code></pre>\n<p>Code:</p>\n<pre><code>...\n\nconnection = DriverManager.getConnection(dburl, &quot;sa&quot;, &quot;&quot;);\nstatement = connection.createStatement();\nstatement.execute(&quot;call \\&quot;java.lang.System.setProperty\\&quot;('org.apache.commons.collections.enableUnsafeSerialization','true')&quot;);\nstatement.execute(&quot;call \\&quot;org.hsqldb.lib.InOutUtil.deserialize\\&quot;('&quot; + my_object +&quot;');&quot;);\n    \n...\n</code></pre>\n<p>This is the offending line that throws the exception:</p>\n<p><code>statement.execute(&quot;call \\&quot;org.hsqldb.lib.InOutUtil.deserialize\\&quot;('&quot; + my_object +&quot;');&quot;);</code></p>\n<p>What I'm trying to do is reproduce this exploit, <a href=\"https://github.com/Critical-Start/Team-Ares/tree/master/CVE-2020-5902\" rel=\"nofollow noreferrer\">https://github.com/Critical-Start/Team-Ares/tree/master/CVE-2020-5902</a>, on a local instance of hsqldb.</p>\n<p>Not sure what I'm doing wrong. Thanks!</p>\n"},{"tags":["java","graphics2d"],"owner":{"account_id":27604656,"reputation":1,"user_id":21069066,"display_name":"TeeDot"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676484439,"answer_count":0,"score":0,"last_activity_date":1676402850,"creation_date":1676402405,"question_id":75452388,"body_markdown":"I&#39;m creating an analog clock in Java and I just want to add some more detail. How can I transform a normal line into an arrow like some clocks have?\r\n\r\nFor example, here&#39;s what my hour hand coding looks like:\r\n\r\n    private void drawHourHand(Graphics2D g) {\r\n    \tint hLength = (int)(radius * 0.5);\r\n        int xHour\r\n            = (int)(xCenter\r\n                    + hLength\r\n                          * Math.sin(\r\n                                (hour % 12 + minute / 60.0)\r\n                                * (2 * Math.PI / 12)));\r\n        int yHour\r\n            = (int)(yCenter\r\n                    - hLength\r\n                          * Math.cos(\r\n                                (hour % 12 + minute / 60.0)\r\n                                * (2 * Math.PI / 12)));\r\n        g.setColor(Color.BLACK);\r\n        g.drawLine(xCenter, yCenter, xHour, yHour);\r\n    }\r\n\r\nHow would I go about adding to this code and still make it continue to run as normal?","title":"How can I make my line an arrow in my clock drawing?","body":"<p>I'm creating an analog clock in Java and I just want to add some more detail. How can I transform a normal line into an arrow like some clocks have?</p>\n<p>For example, here's what my hour hand coding looks like:</p>\n<pre><code>private void drawHourHand(Graphics2D g) {\n    int hLength = (int)(radius * 0.5);\n    int xHour\n        = (int)(xCenter\n                + hLength\n                      * Math.sin(\n                            (hour % 12 + minute / 60.0)\n                            * (2 * Math.PI / 12)));\n    int yHour\n        = (int)(yCenter\n                - hLength\n                      * Math.cos(\n                            (hour % 12 + minute / 60.0)\n                            * (2 * Math.PI / 12)));\n    g.setColor(Color.BLACK);\n    g.drawLine(xCenter, yCenter, xHour, yHour);\n}\n</code></pre>\n<p>How would I go about adding to this code and still make it continue to run as normal?</p>\n"},{"tags":["java","exception","iterator"],"answers":[{"comments":[{"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"score":0,"creation_date":1700729890,"post_id":2205814,"comment_id":136690967,"body_markdown":"He wrote his implementation has the property which is individual exception therefore he want to use it","body":"He wrote his implementation has the property which is individual exception therefore he want to use it"}],"tags":[],"owner":{"account_id":13988,"reputation":54108,"user_id":28401,"accept_rate":68,"display_name":"Marcel Jackwerth"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1265357808,"creation_date":1265357808,"answer_id":2205814,"question_id":2205773,"body_markdown":"If your implementation doesn&#39;t have the properties required by the Iterator interface, why do you want to use it?\r\n\r\nI see no other solution than the RuntimeException (with it&#39;s issues).","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>If your implementation doesn't have the properties required by the Iterator interface, why do you want to use it?</p>\n\n<p>I see no other solution than the RuntimeException (with it's issues).</p>\n"},{"comments":[{"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"score":1,"creation_date":1265358472,"post_id":2205855,"comment_id":2156834,"body_markdown":"Another option, if you can&#39;t control UI client code: create an iterator that register the exceptions somewhere accesible by a getter or something, or call a callback interface, or something you control and can display the error anywhere. If that is useful to you, you can create a &quot;CatcherIterator&quot; that simply wraps a runtime-exception-thrower-iterator and catchs all posible exceptions redirecting them to the property or callback interface.","body":"Another option, if you can&#39;t control UI client code: create an iterator that register the exceptions somewhere accesible by a getter or something, or call a callback interface, or something you control and can display the error anywhere. If that is useful to you, you can create a &quot;CatcherIterator&quot; that simply wraps a runtime-exception-thrower-iterator and catchs all posible exceptions redirecting them to the property or callback interface."}],"tags":[],"owner":{"account_id":5890,"reputation":13624,"user_id":9686,"accept_rate":69,"display_name":"helios"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1265358284,"creation_date":1265358284,"answer_id":2205855,"question_id":2205773,"body_markdown":"I&#39;ve implemented a lot of Iterator, sometimes on top of with-check-exception iterators (ResultSet is conceptually a record iterator, InputStream y conceptually a byte iterator) and so on. It&#39;s very very nice and handy (you can implement pipe &amp; filters architecture for a LOT of things).\r\n\r\nIf you prefer to **declare your exceptions**, then declare a new type of Iterator (ExceptionIterator, it would be like Runnable and Callable). You can use it along or your code but you can&#39;t compose it with outside components (Java Class Library or 3d party libs).\r\n\r\nBut if you prefer to use **super-standard interfaces** (like iterator) to use them anywhere, then use Iterator. If you know your Exceptions will be a condition for stop your processing, or you don&#39;t mind a lot... use them.\r\n\r\n**Runtime exceptions are not so terrible.** By example. Hibernate use them to implement proxies and stuff like that. They have to except DB exceptions but can&#39;t declare them in their implementations of List&lt;T&gt;.","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>I've implemented a lot of Iterator, sometimes on top of with-check-exception iterators (ResultSet is conceptually a record iterator, InputStream y conceptually a byte iterator) and so on. It's very very nice and handy (you can implement pipe &amp; filters architecture for a LOT of things).</p>\n\n<p>If you prefer to <strong>declare your exceptions</strong>, then declare a new type of Iterator (ExceptionIterator, it would be like Runnable and Callable). You can use it along or your code but you can't compose it with outside components (Java Class Library or 3d party libs).</p>\n\n<p>But if you prefer to use <strong>super-standard interfaces</strong> (like iterator) to use them anywhere, then use Iterator. If you know your Exceptions will be a condition for stop your processing, or you don't mind a lot... use them.</p>\n\n<p><strong>Runtime exceptions are not so terrible.</strong> By example. Hibernate use them to implement proxies and stuff like that. They have to except DB exceptions but can't declare them in their implementations of List.</p>\n"},{"tags":[],"owner":{"account_id":6892,"reputation":8853,"user_id":11732,"accept_rate":92,"display_name":"Rorick"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1265359562,"creation_date":1265359562,"answer_id":2205942,"question_id":2205773,"body_markdown":"You should rethrow exception as custom runtime exception, not generic one, for instance `SomethingBadRuntimeException`. Also, you can try [exception tunneling][1].\r\n\r\nAnd I&#39;m assured that forcing client to deal with exceptions by making them checked is a bad practice. It just pollutes your code or forces to wrap exceptions with runtime ones or force to process them in place of call but not centralized. My policy is to avoid using checked exceptions as much as possible. Consider [`IOException`][2] on [`Closable.close()`][3]: is it useful or convenient? Cases when it is are very rare, but every Java developer in the world is forced to deal with it. Most often it is swallowed or logged at best. And imagine how much this adds to [code size][4]!\r\nThere&#39;s some posts about checked exceptions from their dark side:\r\n  \r\n 1. [&quot;Does Java need Checked Exceptions?&quot; by Bruce Eckel](http://www.mindview.net/Etc/Discussions/CheckedExceptions)\r\n 1. [The Trouble with Checked Exceptions A Conversation with Anders Hejlsberg, by Bill Venners with Bruce Eckel](http://www.artima.com/intv/handcuffs.html)\r\n 1. [Java Design Flaws, C2 wiki](http://c2.com/cgi/wiki?JavaDesignFlaws)\r\n\r\nThere are cases when checked exceptions comes to rescue. But in my opinion they are rare and usually concern to implementation of some specific module. And they don&#39;t give very much profit.\r\n\r\n\r\n  [1]: http://radio-weblogs.com/0122027/stories/2003/04/01/JavasCheckedExceptionsWereAMistake.html\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/io/Closeable.html#close%28%29\r\n  [4]: http://www.codinghorror.com/blog/archives/001025.html","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>You should rethrow exception as custom runtime exception, not generic one, for instance <code>SomethingBadRuntimeException</code>. Also, you can try <a href=\"http://radio-weblogs.com/0122027/stories/2003/04/01/JavasCheckedExceptionsWereAMistake.html\" rel=\"noreferrer\">exception tunneling</a>.</p>\n\n<p>And I'm assured that forcing client to deal with exceptions by making them checked is a bad practice. It just pollutes your code or forces to wrap exceptions with runtime ones or force to process them in place of call but not centralized. My policy is to avoid using checked exceptions as much as possible. Consider <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html\" rel=\"noreferrer\"><code>IOException</code></a> on <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/io/Closeable.html#close%28%29\" rel=\"noreferrer\"><code>Closable.close()</code></a>: is it useful or convenient? Cases when it is are very rare, but every Java developer in the world is forced to deal with it. Most often it is swallowed or logged at best. And imagine how much this adds to <a href=\"http://www.codinghorror.com/blog/archives/001025.html\" rel=\"noreferrer\">code size</a>!\nThere's some posts about checked exceptions from their dark side:</p>\n\n<ol>\n<li><a href=\"http://www.mindview.net/Etc/Discussions/CheckedExceptions\" rel=\"noreferrer\">\"Does Java need Checked Exceptions?\" by Bruce Eckel</a></li>\n<li><a href=\"http://www.artima.com/intv/handcuffs.html\" rel=\"noreferrer\">The Trouble with Checked Exceptions A Conversation with Anders Hejlsberg, by Bill Venners with Bruce Eckel</a></li>\n<li><a href=\"http://c2.com/cgi/wiki?JavaDesignFlaws\" rel=\"noreferrer\">Java Design Flaws, C2 wiki</a></li>\n</ol>\n\n<p>There are cases when checked exceptions comes to rescue. But in my opinion they are rare and usually concern to implementation of some specific module. And they don't give very much profit.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1265502080,"creation_date":1265363365,"answer_id":2206306,"question_id":2205773,"body_markdown":"As someone who *likes* Java checked exceptions, I think that the problem (Java design flaw if you will) is that the standard libraries don&#39;t support a generic Iterator type where the `next` method throws a checked exception.\r\n\r\nThe code base for [Sesame][1] has an Iterator variant class called [Iterable][2] that does just that.\r\nThe signature is as follows:\r\n\r\n&lt;pre&gt;\r\nInterface Iteration&amp;lt;E,X extends Exception&amp;gt;\r\n\r\nType Parameters:\r\n    E - Object type of objects contained in the iteration.\r\n    X - Exception type that is thrown when a problem occurs during iteration.\r\n&lt;/pre&gt;\r\n\r\nThis seems to work in the limited context of Sesame, where specific subclasses are used that &quot;fix&quot; the exception type parameter. But (of course) it doesn&#39;t integrate with the standard collection types, Java 5&#39;s new `for` loop syntax, and so on.\r\n\r\n  [1]: http://www.openrdf.org\r\n  [2]: http://repository.aduna-software.org/docs/info.aduna/api/info/aduna/iteration/Iteration.html","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>As someone who <em>likes</em> Java checked exceptions, I think that the problem (Java design flaw if you will) is that the standard libraries don't support a generic Iterator type where the <code>next</code> method throws a checked exception.</p>\n\n<p>The code base for <a href=\"http://www.openrdf.org\" rel=\"nofollow noreferrer\">Sesame</a> has an Iterator variant class called <a href=\"http://repository.aduna-software.org/docs/info.aduna/api/info/aduna/iteration/Iteration.html\" rel=\"nofollow noreferrer\">Iterable</a> that does just that.\nThe signature is as follows:</p>\n\n<pre>\nInterface Iteration&lt;E,X extends Exception&gt;\n\nType Parameters:\n    E - Object type of objects contained in the iteration.\n    X - Exception type that is thrown when a problem occurs during iteration.\n</pre>\n\n<p>This seems to work in the limited context of Sesame, where specific subclasses are used that \"fix\" the exception type parameter. But (of course) it doesn't integrate with the standard collection types, Java 5's new <code>for</code> loop syntax, and so on.</p>\n"},{"tags":[],"owner":{"account_id":93850,"reputation":599,"user_id":256578,"display_name":"ishmeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1265374467,"creation_date":1265369823,"answer_id":2206871,"question_id":2205773,"body_markdown":"hasNext should not really throw an exception - it should check that it is ok to proceed and return a boolean value on that basis (I would log any underlying exceptions with a logger). I would throw a RuntimeException if next fails (and log the checked exception with a logger). Next should not fail in normal conditions if the test was ok and if the test fails you should not call next (hence runtime exception).","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>hasNext should not really throw an exception - it should check that it is ok to proceed and return a boolean value on that basis (I would log any underlying exceptions with a logger). I would throw a RuntimeException if next fails (and log the checked exception with a logger). Next should not fail in normal conditions if the test was ok and if the test fails you should not call next (hence runtime exception).</p>\n"},{"tags":[],"owner":{"account_id":44292,"reputation":11,"user_id":129908,"display_name":"bpow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1335664836,"creation_date":1335664836,"answer_id":10369106,"question_id":2205773,"body_markdown":"This question was asked a long time ago, but I would like to have feedback on a pattern that may be useful here. An additional interface or class `ExceptionHandler` could be composed within the class which implements Iterator and could be implemented by the client to address the exceptions as desired.\r\n\r\n    public interface ExceptionHandler {\r\n        // Log, or rethrow, or ignore...\r\n        public Object handleException(Exception e);\r\n    }\r\n\r\nImplementing classes could do something like these:\r\n\r\n\r\n    public class ExceptionRethrower implements ExceptionHandler {\r\n        @Override\r\n        public Object handleException(Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\t\r\n    public class ExceptionPrinter implements ExceptionHandler {\r\n        @Override\r\n        public Object handleException(Exception e) {\r\n            System.err.println(e);\r\n            return e;\r\n        }\r\n    }\r\n\r\nFor an iterator that reads from a file, the code may look something like this:\r\n\r\n    public class MyReaderIterator implements Iterator&lt;String&gt; {\r\n        private final BufferedReader reader;\r\n        private final ExceptionHandler exceptionHandler;\r\n        public MyReaderIterator(BufferedReader r, ExceptionHandler h) {\r\n            reader = r;\r\n            exceptionHandler = h;\r\n        }\r\n        @Override\r\n        public String next() {\r\n            try {\r\n                return reader.readLine();\r\n            } catch (IOException ioe) {\r\n                Object o = exceptionHandler.handleException(ioe);\r\n                // could do whatever else with o\r\n                return null;\r\n            }\r\n        }\r\n        // also need to implement hasNext and remove, of course\r\n    }\r\n\r\nWhat do people think? It is worth this level of indirection, or is it a layering violation and just plain too complicated? The name of the interface may not be exactly appropriate (perhaps ExceptionProcessor or ExceptionInterceptor since it can interact with but not fully handle the exception, there still needs to be some handling in the class into which it is composed).\r\n\r\nI agree that this all just seems like a workaround to the fact that Iterator.next() wasn&#39;t declared to throw exceptions, and makes me pine for generators and python&#39;s exception model.","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>This question was asked a long time ago, but I would like to have feedback on a pattern that may be useful here. An additional interface or class <code>ExceptionHandler</code> could be composed within the class which implements Iterator and could be implemented by the client to address the exceptions as desired.</p>\n\n<pre><code>public interface ExceptionHandler {\n    // Log, or rethrow, or ignore...\n    public Object handleException(Exception e);\n}\n</code></pre>\n\n<p>Implementing classes could do something like these:</p>\n\n<pre><code>public class ExceptionRethrower implements ExceptionHandler {\n    @Override\n    public Object handleException(Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic class ExceptionPrinter implements ExceptionHandler {\n    @Override\n    public Object handleException(Exception e) {\n        System.err.println(e);\n        return e;\n    }\n}\n</code></pre>\n\n<p>For an iterator that reads from a file, the code may look something like this:</p>\n\n<pre><code>public class MyReaderIterator implements Iterator&lt;String&gt; {\n    private final BufferedReader reader;\n    private final ExceptionHandler exceptionHandler;\n    public MyReaderIterator(BufferedReader r, ExceptionHandler h) {\n        reader = r;\n        exceptionHandler = h;\n    }\n    @Override\n    public String next() {\n        try {\n            return reader.readLine();\n        } catch (IOException ioe) {\n            Object o = exceptionHandler.handleException(ioe);\n            // could do whatever else with o\n            return null;\n        }\n    }\n    // also need to implement hasNext and remove, of course\n}\n</code></pre>\n\n<p>What do people think? It is worth this level of indirection, or is it a layering violation and just plain too complicated? The name of the interface may not be exactly appropriate (perhaps ExceptionProcessor or ExceptionInterceptor since it can interact with but not fully handle the exception, there still needs to be some handling in the class into which it is composed).</p>\n\n<p>I agree that this all just seems like a workaround to the fact that Iterator.next() wasn't declared to throw exceptions, and makes me pine for generators and python's exception model.</p>\n"},{"tags":[],"owner":{"account_id":1142855,"reputation":167,"user_id":1126291,"display_name":"smnsvane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353413276,"creation_date":1353413276,"answer_id":13472903,"question_id":2205773,"body_markdown":"I usally use\r\n\r\n    @Override\r\n    void remove() {\r\n    \tthrows new UnsupportedOperationException(&quot;remove method not implemented&quot;);\r\n    }\r\nnote: UnsupportedOperationException is a RuntimeException\r\n\r\nSince you are properbly aiming for something like\r\n\r\n    for (IterElem e : iterable)\r\n    \te.action();\r\nYou will be fine\r\n","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>I usally use</p>\n\n<pre><code>@Override\nvoid remove() {\n    throws new UnsupportedOperationException(\"remove method not implemented\");\n}\n</code></pre>\n\n<p>note: UnsupportedOperationException is a RuntimeException</p>\n\n<p>Since you are properbly aiming for something like</p>\n\n<pre><code>for (IterElem e : iterable)\n    e.action();\n</code></pre>\n\n<p>You will be fine</p>\n"},{"comments":[{"owner":{"account_id":2389551,"reputation":40481,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1435700765,"post_id":22322296,"comment_id":50308331,"body_markdown":"I think this is the best exception to throw for iterator errors","body":"I think this is the best exception to throw for iterator errors"},{"owner":{"account_id":1908606,"reputation":2020,"user_id":1722982,"accept_rate":75,"display_name":"boumbh"},"score":0,"creation_date":1445246864,"post_id":22322296,"comment_id":54226127,"body_markdown":"`NoSuchElementException` is a `RuntimeException`. You could also create your own custom extension of `RuntimeException`, it would be the same, right?","body":"<code>NoSuchElementException</code> is a <code>RuntimeException</code>. You could also create your own custom extension of <code>RuntimeException</code>, it would be the same, right?"}],"tags":[],"owner":{"account_id":1064857,"reputation":2504,"user_id":1065693,"accept_rate":70,"display_name":"nuoritoveri"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1394532059,"creation_date":1394532059,"answer_id":22322296,"question_id":2205773,"body_markdown":"If you really don&#39;t want to use Runtime exception, you can use `NoSuchElementException`. You are allowed to use it in overridden `next()` method because it is declared to be thrown in \r\n`Iterator` definition (I tried this and the code compiled). But you should consider whether it is *semantically* valid for your case. ","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>If you really don't want to use Runtime exception, you can use <code>NoSuchElementException</code>. You are allowed to use it in overridden <code>next()</code> method because it is declared to be thrown in \n<code>Iterator</code> definition (I tried this and the code compiled). But you should consider whether it is <em>semantically</em> valid for your case. </p>\n"},{"tags":[],"owner":{"account_id":1908606,"reputation":2020,"user_id":1722982,"accept_rate":75,"display_name":"boumbh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445248151,"creation_date":1445248151,"answer_id":33211390,"question_id":2205773,"body_markdown":"In my mind, iterators are meant to *iterate*, they are not meant to *compute*, hence the absence of `throws` on the `next()` method.\r\n\r\nYou are asking how to use the interface to do something it was not designed for.\r\n\r\nStill, if the `Iterator` is aimed to be used by yourself (which is generally a bad assumption), you could define a public `safeNext()` method like this:\r\n\r\n\tpublic Element safeNext() throws YourCheckedException {\r\n\t\t...\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic Element next() {\r\n\t\ttry {\r\n\t\t\treturn safeNext();\r\n\t\t} catch (YourException e) {\r\n\t\t\tthrow new YourRuntimeException(&quot;Could not fetch the next element&quot;, e);\r\n\t\t}\r\n\t}\r\n\r\nThen, when using the `Iterator` you can choose to use `safeNext()` and handle the checked exception, or use `next()` as you would with any iterators.\r\n\r\nIn short, you can’t have both the convenience of the iterator interface (you can&#39;t expect that `Iterable` objects will use the `safeNext()` method), and the checked exception throwing.","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>In my mind, iterators are meant to <em>iterate</em>, they are not meant to <em>compute</em>, hence the absence of <code>throws</code> on the <code>next()</code> method.</p>\n\n<p>You are asking how to use the interface to do something it was not designed for.</p>\n\n<p>Still, if the <code>Iterator</code> is aimed to be used by yourself (which is generally a bad assumption), you could define a public <code>safeNext()</code> method like this:</p>\n\n<pre><code>public Element safeNext() throws YourCheckedException {\n    ...\n}\n\n@Override\npublic Element next() {\n    try {\n        return safeNext();\n    } catch (YourException e) {\n        throw new YourRuntimeException(\"Could not fetch the next element\", e);\n    }\n}\n</code></pre>\n\n<p>Then, when using the <code>Iterator</code> you can choose to use <code>safeNext()</code> and handle the checked exception, or use <code>next()</code> as you would with any iterators.</p>\n\n<p>In short, you can’t have both the convenience of the iterator interface (you can't expect that <code>Iterable</code> objects will use the <code>safeNext()</code> method), and the checked exception throwing.</p>\n"},{"comments":[{"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"score":0,"creation_date":1700730132,"post_id":75450916,"comment_id":136691009,"body_markdown":"Not a bad solution for some cases, just not very usefull for big legacy systems where are a lot of usage of existing T which should be replaced by Pair&lt;T, ExceptionClass&gt; though","body":"Not a bad solution for some cases, just not very usefull for big legacy systems where are a lot of usage of existing T which should be replaced by Pair&lt;T, ExceptionClass&gt; though"}],"tags":[],"owner":{"account_id":2020068,"reputation":1405,"user_id":1806466,"accept_rate":25,"display_name":"Inshua"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676402437,"creation_date":1676393473,"answer_id":75450916,"question_id":2205773,"body_markdown":"Now I am using `Iterator&lt;Pair&lt;T, ExceptionClass&gt;&gt;` insteadof `Iterator&lt;T&gt;` for throw exception. ","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>Now I am using <code>Iterator&lt;Pair&lt;T, ExceptionClass&gt;&gt;</code> insteadof <code>Iterator&lt;T&gt;</code> for throw exception.</p>\n"}],"owner":{"account_id":214,"reputation":35692,"user_id":268,"accept_rate":100,"display_name":"Vincent Robert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17351,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":2205855,"answer_count":10,"score":31,"last_activity_date":1676402437,"creation_date":1265357235,"question_id":2205773,"body_markdown":"The [`java.lang.Iterator`][1] interface has 3 methods: `hasNext`, `next` and `remove`. In order to implement a read-only iterator, you have to provide an implementation for 2 of those: `hasNext` and `next`.\r\n\r\nMy problem is that these methods does not declare any exceptions. So if my code inside the iteration process declares exceptions, I must enclose my iteration code inside a try/catch block.\r\n\r\nMy current policy has been to rethrow the exception enclosed in a `RuntimeException`. But this has issues because the checked exceptions are lost and the client code no longer can catch those exceptions explicitly.\r\n\r\nHow can I work around this limitation in the Iterator class?\r\n\r\nHere is a sample code for clarity:\r\n\r\n    class MyIterator implements Iterator\r\n    {\r\n    \t@Override\r\n    \tpublic boolean hasNext()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\treturn implementation.testForNext();\r\n    \t\t}\r\n    \t\tcatch ( SomethingBadException e ) \r\n    \t\t{\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic boolean next()\r\n    \t{\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\treturn implementation.getNext();\r\n    \t\t}\r\n\r\n    \t\tcatch ( SomethingBadException e ) \r\n    \t\t{\r\n    \t\t\tthrow new RuntimeException(e);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \t...\r\n    }\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Iterator.html\r\n","title":"What to do of exceptions when implementing java.lang.Iterator","body":"<p>The <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Iterator.html\" rel=\"noreferrer\"><code>java.lang.Iterator</code></a> interface has 3 methods: <code>hasNext</code>, <code>next</code> and <code>remove</code>. In order to implement a read-only iterator, you have to provide an implementation for 2 of those: <code>hasNext</code> and <code>next</code>.</p>\n\n<p>My problem is that these methods does not declare any exceptions. So if my code inside the iteration process declares exceptions, I must enclose my iteration code inside a try/catch block.</p>\n\n<p>My current policy has been to rethrow the exception enclosed in a <code>RuntimeException</code>. But this has issues because the checked exceptions are lost and the client code no longer can catch those exceptions explicitly.</p>\n\n<p>How can I work around this limitation in the Iterator class?</p>\n\n<p>Here is a sample code for clarity:</p>\n\n<pre><code>class MyIterator implements Iterator\n{\n    @Override\n    public boolean hasNext()\n    {\n        try\n        {\n            return implementation.testForNext();\n        }\n        catch ( SomethingBadException e ) \n        {\n            throw new RuntimeException(e);\n        }\n    }\n\n    @Override\n    public boolean next()\n    {\n        try\n        {\n            return implementation.getNext();\n        }\n\n        catch ( SomethingBadException e ) \n        {\n            throw new RuntimeException(e);\n        }\n    }\n\n    ...\n}\n</code></pre>\n"},{"tags":["java","locking","race-condition"],"owner":{"account_id":26484673,"reputation":3,"user_id":20123439,"display_name":"Pallav kalal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676402311,"creation_date":1676402311,"question_id":75452370,"body_markdown":"I have one json column in postgres which contains an Java map. How can we prevent race condition on json db map when i have multiple server?\r\nIf we put synchronize method it also won&#39;t work because we have multiple servers","title":"I have one json column in postgres which contains an Java map. How can we prevent race condition on json db map when i have multiple server?","body":"<p>I have one json column in postgres which contains an Java map. How can we prevent race condition on json db map when i have multiple server?\nIf we put synchronize method it also won't work because we have multiple servers</p>\n"},{"tags":["java","datetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676361593,"post_id":75444853,"comment_id":133116508,"body_markdown":"Your search engine can help you. I expect you to find a good answer faster than anyone can type an answer here. Only avoid search results that use `SimpleDateFormat`, `Date` and/or `Calendar` since they are troublesome and outdated.","body":"Your search engine can help you. I expect you to find a good answer faster than anyone can type an answer here. Only avoid search results that use <code>SimpleDateFormat</code>, <code>Date</code> and/or <code>Calendar</code> since they are troublesome and outdated."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676361818,"post_id":75444853,"comment_id":133116566,"body_markdown":"`LocalDateTime.parse(&quot;Feb 11 2023 9:35:41 PM&quot;, DateTimeFormatter.ofPattern(&quot;MMM d u h:mm:ss a&quot;, Locale.ENGLISH)).atZone(ZoneId.systemDefault()).toEpochSecond()`. In my time zone (Europe/Copenhagen) I got `1676147741`.","body":"<code>LocalDateTime.parse(&quot;Feb 11 2023 9:35:41 PM&quot;, DateTimeFormatter.ofPattern(&quot;MMM d u h:mm:ss a&quot;, Locale.ENGLISH)).atZone(ZoneId.systemDefault()).toEpochSecon&zwnj;&#8203;d()</code>. In my time zone (Europe/Copenhagen) I got <code>1676147741</code>."},{"owner":{"account_id":1037319,"reputation":1,"user_id":21209478,"display_name":"hknkaras"},"score":0,"creation_date":1676366322,"post_id":75444853,"comment_id":133117723,"body_markdown":"Thanks Ole, Solved with your suggestion.\n\nLocalDateTime.parse(&quot;Feb 11 2023 9:35:41 PM&quot;, DateTimeFormatter.ofPattern(&quot;MMM d u h:mm:ss a&quot;, Locale.ENGLISH)).atZone(ZoneId.systemDefault()).toEpochSecond()","body":"Thanks Ole, Solved with your suggestion.  LocalDateTime.parse(&quot;Feb 11 2023 9:35:41 PM&quot;, DateTimeFormatter.ofPattern(&quot;MMM d u h:mm:ss a&quot;, Locale.ENGLISH)).atZone(ZoneId.systemDefault()).toEpochSecon&zwnj;&#8203;d()"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676367908,"post_id":75444853,"comment_id":133118205,"body_markdown":"Good to read. You may use a named time zone instead of the default, like for example `ZoneId.of(&quot;Pacific/Norfolk&quot;)`. And you may well prefer to extract the formatter into a constant ( `private static final` field).","body":"Good to read. You may use a named time zone instead of the default, like for example <code>ZoneId.of(&quot;Pacific&#47;Norfolk&quot;)</code>. And you may well prefer to extract the formatter into a constant ( <code>private static final</code> field)."}],"owner":{"account_id":1037319,"reputation":1,"user_id":21209478,"display_name":"hknkaras"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676361573,"answer_count":0,"score":0,"last_activity_date":1676400575,"creation_date":1676361496,"question_id":75444853,"body_markdown":"I am reading a text time format as a string as follows. How can I convert this to unix epoch time in java. Can you help me?\r\n\r\nString = &quot;Feb 11  2023 9:35:41 PM&quot;                                                                            \r\n\r\nExample: String = &quot;Feb 11  2023 9:35:41 PM&quot;   ","title":"java - date to epochtime","body":"<p>I am reading a text time format as a string as follows. How can I convert this to unix epoch time in java. Can you help me?</p>\n<p>String = &quot;Feb 11  2023 9:35:41 PM&quot;</p>\n<p>Example: String = &quot;Feb 11  2023 9:35:41 PM&quot;</p>\n"},{"tags":["java","exception","inheritance","serialization"],"comments":[{"owner":{"account_id":21657046,"reputation":17,"user_id":15976665,"display_name":"ires"},"score":0,"creation_date":1676399803,"post_id":75451616,"comment_id":133128134,"body_markdown":"@paulk23 added it just now to the question","body":"@paulk23 added it just now to the question"}],"answers":[{"comments":[{"owner":{"account_id":21657046,"reputation":17,"user_id":15976665,"display_name":"ires"},"score":0,"creation_date":1676400739,"post_id":75452096,"comment_id":133128411,"body_markdown":"oh wow that was it, could you please explain why Event should be as well?","body":"oh wow that was it, could you please explain why Event should be as well?"},{"owner":{"account_id":2708569,"reputation":465,"user_id":2337609,"display_name":"paulk23"},"score":0,"creation_date":1676400980,"post_id":75452096,"comment_id":133128491,"body_markdown":"https://stackoverflow.com/questions/21476401/what-happens-if-your-serializable-class-contains-a-member-which-is-not-serializa#:~:text=It&#39;ll%20throw%20a%20NotSerializableException,that%20field%20a%20transient%20field.&amp;text=Save%20this%20answer.,-Show%20activity%20on","body":"<a href=\"https://stackoverflow.com/questions/21476401/what-happens-if-your-serializable-class-contains-a-member-which-is-not-serializa#:~:text=It&#39;ll%20throw%20a%20NotSerializableException,that%20field%20a%20transient%20field.&amp;text=Save%20this%20answer.,-Show%20activity%20on\" title=\"what happens if your serializable class contains a member which is not serializa%23%3a%7e%3atext%3dIt%26%2339%3bll%2520throw%2520a%2520NotSerializableException%2cthat%2520field%2520a%2520transient%2520field.%26amp%3btext%3dSave%2520this%2520answer.%2c Show%2520activity%2520on\">stackoverflow.com/questions/21476401/&hellip;</a>"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":1,"creation_date":1676401087,"post_id":75452096,"comment_id":133128523,"body_markdown":"During serialization all the object classes are given an ID (`static final long serialVersionUID`). If this isn&#39;t there the ObjectStream doesn&#39;t know how label it when writing or identify it while reading. So the fields `eventTime` and `delayTime` can&#39;t be saved either, their owner &quot;Event&quot; doesn&#39;t have an id with being tagged Serializable and `serialVersionUID` is automatically generated if not defined by you.","body":"During serialization all the object classes are given an ID (<code>static final long serialVersionUID</code>). If this isn&#39;t there the ObjectStream doesn&#39;t know how label it when writing or identify it while reading. So the fields <code>eventTime</code> and <code>delayTime</code> can&#39;t be saved either, their owner &quot;Event&quot; doesn&#39;t have an id with being tagged Serializable and <code>serialVersionUID</code> is automatically generated if not defined by you."}],"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676400509,"creation_date":1676400509,"answer_id":75452096,"question_id":75451616,"body_markdown":"Event has to be Serializable too.\r\n\r\nChange\r\n\r\n    public abstract class Event {\r\n\r\nto\r\n\r\n    public abstract class Event implements Serializable {","title":"Unable to serialize instance variable of a non-serializable superclass from the serializable subclass","body":"<p>Event has to be Serializable too.</p>\n<p>Change</p>\n<pre><code>public abstract class Event {\n</code></pre>\n<p>to</p>\n<pre><code>public abstract class Event implements Serializable {\n</code></pre>\n"}],"owner":{"account_id":21657046,"reputation":17,"user_id":15976665,"display_name":"ires"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75452096,"answer_count":1,"score":0,"last_activity_date":1676400509,"creation_date":1676397840,"question_id":75451616,"body_markdown":"New to this topic and right now I&#39;m stuck at a brick wall. I have 2 classes, parent class: `Controller.java` and subclass: `GreenhouseControls.java`. I need to serialize a `GreenhouseControls` object but also an instance variable (`eventList`) from its superclass `Controller.java`. \r\n\r\nMy serialization happens when an inner class of `GreenhouseControls.java` throws a custom `ControllerException`, which is caught in the main method. Before terminating the program, the GreenhouseControls object should be saved (including the field from its superclass).\r\n\r\nWhy is a `NotSerializableException` thrown by the inner class `WindowMalfunction` of `GreenhouseControls`? Anyone have any ideas, as I am seriously stuck?\r\n\r\nWhat I tried is the following:\r\n\r\n1. Implement serializable on `Controller.java`. This is because if the superclass is serializable, then subclass is automatically serializable, however this throws `java.io.NotSerializableException: GreenhouseControls$WindowMalfunction`, (WindowMalfunction is the inner class that throws the initial exception to begin the serialization processs).\r\n2. Implement serializable on `GreenhouseControls.java` and implement custom serialization by overriding `writeObject()` and `readObject()` to save the field from the superclass. This approach yet again throws the same exception as the approach 1.\r\n&lt;!-- language: java --&gt;\r\n```\r\nprivate void writeObject(ObjectOutputStream out) throws IOException {\r\n        out.defaultWriteObject();\r\n        out.writeObject(super.eventList);\r\n}\r\n\r\nprivate void readObject(ObjectInputStream in) throws IOException,\r\n            ClassNotFoundException {\r\n        in.defaultReadObject();\r\n        Object obj = in.readObject();\r\n        List&lt;Event&gt; x = cast(obj);\r\n        super.eventList = x;\r\n}\r\n```\r\n\r\n**Controller.java**\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\nimport java.io.*;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.*;\r\n\r\npublic class Controller {\r\n    // THIS IS THE VARIABLE I NEED TO SAVE\r\n    protected List&lt;Event&gt; eventList = new ArrayList&lt;Event&gt;();\r\n\r\n    public void addEvent(Event c) {\r\n        eventList.add(c);\r\n    }\r\n\r\n    public void run() throws ControllerException {\r\n        while (eventList.size() &gt; 0)\r\n            // Make a copy so you&#39;re not modifying the list\r\n            // while you&#39;re selecting the elements in it:\r\n            for (Event e : new ArrayList&lt;Event&gt;(eventList))\r\n                if (e.ready()) {\r\n                    System.out.println(e);\r\n                    e.action();\r\n                    eventList.remove(e);\r\n                }\r\n    }\r\n\r\n    public static void shutDown() { }\r\n\r\n}\r\n```\r\n\r\n**GreenhouseControls.java** class (note I have removed the inner classes and other code from it and only left related info)\r\n\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic class GreenhouseControls extends Controller implements Serializable {\r\n\r\n    private int errorcode = 0;\r\n\r\n    public class WindowMalfunction extends Event {\r\n\r\n        public WindowMalfunction(long delayTime) {\r\n            super(delayTime);\r\n        }\r\n\r\n        public void action() throws ControllerException {\r\n            windowok = false;\r\n            throw new ControllerException(&quot;Window malfunction&quot;);\r\n        }\r\n\r\n        public String toString() {\r\n            return &quot;Window malfunction&quot;;\r\n        }\r\n    }\r\n\r\n    public class PowerOut extends Event {\r\n\r\n        public PowerOut(long delayTime) {\r\n            super(delayTime);\r\n        }\r\n\r\n        public void action() throws ControllerException {\r\n            poweron = false;\r\n            throw new ControllerException(&quot;Power out&quot;);\r\n        }\r\n\r\n        public String toString() {\r\n            return &quot;Power out&quot;;\r\n        }\r\n    }\r\n\r\n    // Various other inner classes that extend event exist\r\n\r\n    public static void serializeObject(GreenhouseControls gc) {\r\n        FileOutputStream fileOut;\r\n        ObjectOutputStream out;\r\n        try {\r\n            fileOut = new FileOutputStream(&quot;dump.out&quot;);\r\n            out = new ObjectOutputStream(fileOut);\r\n            out.writeObject(gc);\r\n            System.out.println(&quot;WERRROR code: &quot; + gc.getError());\r\n            out.close();\r\n            fileOut.close();\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void writeObject(ObjectOutputStream out) throws IOException {\r\n        out.defaultWriteObject();\r\n        out.writeObject(super.eventList);\r\n    }\r\n\r\n    private void readObject(ObjectInputStream in) throws IOException,\r\n            ClassNotFoundException {\r\n        in.defaultReadObject();\r\n        Object obj = in.readObject();\r\n        List&lt;Event&gt; x = cast(obj);\r\n        super.eventList = x;\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T extends List&lt;?&gt;&gt; T cast(Object obj) {\r\n        return (T) obj;\r\n    }\r\n\r\n    public int getError() {\r\n        return errorcode;\r\n    }\r\n\r\n    public Fixable getFixable(int errorcode) {\r\n        switch (errorcode) {\r\n            case 1:\r\n                return new FixWindow();\r\n            case 2:\r\n                return new PowerOn();\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        GreenhouseControls gc = null;\r\n\r\n        try {\r\n            String option = args[0];\r\n            String filename = args[1];\r\n\r\n            if (!(option.equals(&quot;-f&quot;)) &amp;&amp; !(option.equals(&quot;-d&quot;))) {\r\n                System.out.println(&quot;Invalid option&quot;);\r\n                printUsage();\r\n            }\r\n\r\n            // gc = new GreenhouseControls();\r\n\r\n            if (option.equals(&quot;-f&quot;)) {\r\n                gc = new GreenhouseControls();\r\n                gc.addEvent(gc.new Restart(0, filename));\r\n            }\r\n\r\n            gc.run();\r\n        } catch (ArrayIndexOutOfBoundsException e) {\r\n            System.out.println(&quot;Invalid number of parameters&quot;);\r\n            printUsage();\r\n        } catch (ControllerException e) {\r\n            String errormsg;\r\n            if (e.getMessage().equals(&quot;Window malfunction&quot;)) {\r\n                gc.errorcode = 1;\r\n                errormsg = &quot;Window malfunction event occurred Error code: &quot; + gc.errorcode;\r\n            } else {\r\n                gc.errorcode = 2;\r\n                errormsg = &quot;Power out event occurred Error code: &quot; + gc.errorcode;\r\n            }\r\n\r\n            logError(errormsg);\r\n            serializeObject(gc);\r\n            gc.displayEventList();\r\n            shutDown();\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Event.java**\r\n&lt;!-- language: java --&gt;\r\n```\r\npublic abstract class Event {\r\n    private long eventTime;\r\n    protected final long delayTime;\r\n\r\n    public Event(long delayTime) {\r\n        this.delayTime = delayTime;\r\n        start();\r\n    }\r\n\r\n    public void start() { // Allows restarting\r\n        eventTime = System.currentTimeMillis() + delayTime;\r\n    }\r\n\r\n    public boolean ready() {\r\n        return System.currentTimeMillis() &gt;= eventTime;\r\n    }\r\n\r\n    public abstract void action() throws ControllerException;\r\n```","title":"Unable to serialize instance variable of a non-serializable superclass from the serializable subclass","body":"<p>New to this topic and right now I'm stuck at a brick wall. I have 2 classes, parent class: <code>Controller.java</code> and subclass: <code>GreenhouseControls.java</code>. I need to serialize a <code>GreenhouseControls</code> object but also an instance variable (<code>eventList</code>) from its superclass <code>Controller.java</code>.</p>\n<p>My serialization happens when an inner class of <code>GreenhouseControls.java</code> throws a custom <code>ControllerException</code>, which is caught in the main method. Before terminating the program, the GreenhouseControls object should be saved (including the field from its superclass).</p>\n<p>Why is a <code>NotSerializableException</code> thrown by the inner class <code>WindowMalfunction</code> of <code>GreenhouseControls</code>? Anyone have any ideas, as I am seriously stuck?</p>\n<p>What I tried is the following:</p>\n<ol>\n<li>Implement serializable on <code>Controller.java</code>. This is because if the superclass is serializable, then subclass is automatically serializable, however this throws <code>java.io.NotSerializableException: GreenhouseControls$WindowMalfunction</code>, (WindowMalfunction is the inner class that throws the initial exception to begin the serialization processs).</li>\n<li>Implement serializable on <code>GreenhouseControls.java</code> and implement custom serialization by overriding <code>writeObject()</code> and <code>readObject()</code> to save the field from the superclass. This approach yet again throws the same exception as the approach 1.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>private void writeObject(ObjectOutputStream out) throws IOException {\n        out.defaultWriteObject();\n        out.writeObject(super.eventList);\n}\n\nprivate void readObject(ObjectInputStream in) throws IOException,\n            ClassNotFoundException {\n        in.defaultReadObject();\n        Object obj = in.readObject();\n        List&lt;Event&gt; x = cast(obj);\n        super.eventList = x;\n}\n</code></pre>\n<p><strong>Controller.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.text.SimpleDateFormat;\nimport java.util.*;\n\npublic class Controller {\n    // THIS IS THE VARIABLE I NEED TO SAVE\n    protected List&lt;Event&gt; eventList = new ArrayList&lt;Event&gt;();\n\n    public void addEvent(Event c) {\n        eventList.add(c);\n    }\n\n    public void run() throws ControllerException {\n        while (eventList.size() &gt; 0)\n            // Make a copy so you're not modifying the list\n            // while you're selecting the elements in it:\n            for (Event e : new ArrayList&lt;Event&gt;(eventList))\n                if (e.ready()) {\n                    System.out.println(e);\n                    e.action();\n                    eventList.remove(e);\n                }\n    }\n\n    public static void shutDown() { }\n\n}\n</code></pre>\n<p><strong>GreenhouseControls.java</strong> class (note I have removed the inner classes and other code from it and only left related info)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GreenhouseControls extends Controller implements Serializable {\n\n    private int errorcode = 0;\n\n    public class WindowMalfunction extends Event {\n\n        public WindowMalfunction(long delayTime) {\n            super(delayTime);\n        }\n\n        public void action() throws ControllerException {\n            windowok = false;\n            throw new ControllerException(&quot;Window malfunction&quot;);\n        }\n\n        public String toString() {\n            return &quot;Window malfunction&quot;;\n        }\n    }\n\n    public class PowerOut extends Event {\n\n        public PowerOut(long delayTime) {\n            super(delayTime);\n        }\n\n        public void action() throws ControllerException {\n            poweron = false;\n            throw new ControllerException(&quot;Power out&quot;);\n        }\n\n        public String toString() {\n            return &quot;Power out&quot;;\n        }\n    }\n\n    // Various other inner classes that extend event exist\n\n    public static void serializeObject(GreenhouseControls gc) {\n        FileOutputStream fileOut;\n        ObjectOutputStream out;\n        try {\n            fileOut = new FileOutputStream(&quot;dump.out&quot;);\n            out = new ObjectOutputStream(fileOut);\n            out.writeObject(gc);\n            System.out.println(&quot;WERRROR code: &quot; + gc.getError());\n            out.close();\n            fileOut.close();\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void writeObject(ObjectOutputStream out) throws IOException {\n        out.defaultWriteObject();\n        out.writeObject(super.eventList);\n    }\n\n    private void readObject(ObjectInputStream in) throws IOException,\n            ClassNotFoundException {\n        in.defaultReadObject();\n        Object obj = in.readObject();\n        List&lt;Event&gt; x = cast(obj);\n        super.eventList = x;\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T extends List&lt;?&gt;&gt; T cast(Object obj) {\n        return (T) obj;\n    }\n\n    public int getError() {\n        return errorcode;\n    }\n\n    public Fixable getFixable(int errorcode) {\n        switch (errorcode) {\n            case 1:\n                return new FixWindow();\n            case 2:\n                return new PowerOn();\n            default:\n                return null;\n        }\n    }\n\n    public static void main(String[] args) {\n        GreenhouseControls gc = null;\n\n        try {\n            String option = args[0];\n            String filename = args[1];\n\n            if (!(option.equals(&quot;-f&quot;)) &amp;&amp; !(option.equals(&quot;-d&quot;))) {\n                System.out.println(&quot;Invalid option&quot;);\n                printUsage();\n            }\n\n            // gc = new GreenhouseControls();\n\n            if (option.equals(&quot;-f&quot;)) {\n                gc = new GreenhouseControls();\n                gc.addEvent(gc.new Restart(0, filename));\n            }\n\n            gc.run();\n        } catch (ArrayIndexOutOfBoundsException e) {\n            System.out.println(&quot;Invalid number of parameters&quot;);\n            printUsage();\n        } catch (ControllerException e) {\n            String errormsg;\n            if (e.getMessage().equals(&quot;Window malfunction&quot;)) {\n                gc.errorcode = 1;\n                errormsg = &quot;Window malfunction event occurred Error code: &quot; + gc.errorcode;\n            } else {\n                gc.errorcode = 2;\n                errormsg = &quot;Power out event occurred Error code: &quot; + gc.errorcode;\n            }\n\n            logError(errormsg);\n            serializeObject(gc);\n            gc.displayEventList();\n            shutDown();\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Event.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class Event {\n    private long eventTime;\n    protected final long delayTime;\n\n    public Event(long delayTime) {\n        this.delayTime = delayTime;\n        start();\n    }\n\n    public void start() { // Allows restarting\n        eventTime = System.currentTimeMillis() + delayTime;\n    }\n\n    public boolean ready() {\n        return System.currentTimeMillis() &gt;= eventTime;\n    }\n\n    public abstract void action() throws ControllerException;\n</code></pre>\n"},{"tags":["java","sorting","comparator"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":1,"creation_date":1676399102,"post_id":75451749,"comment_id":133127942,"body_markdown":"It&#39;s not clear why you&#39;re trying to use an int comparator to compare Strings. Why wouldn&#39;t you use the natural ordering for strings?","body":"It&#39;s not clear why you&#39;re trying to use an int comparator to compare Strings. Why wouldn&#39;t you use the natural ordering for strings?"},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1676399437,"post_id":75451749,"comment_id":133128025,"body_markdown":"By the way, this code works for me (assuming the syntax fix, adding the missing close-parenthesis at the end of the `sorted(...` line). Not sure why you feel the need to use a stream just for sorting, though.","body":"By the way, this code works for me (assuming the syntax fix, adding the missing close-parenthesis at the end of the <code>sorted(...</code> line). Not sure why you feel the need to use a stream just for sorting, though."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1676400029,"post_id":75451749,"comment_id":133128216,"body_markdown":"@E-Riz Notice the OP passed String encapsulated integers to the constructor and then parsed them.  The natural order for Strings is lexical which means that 11 would come before 2.  But I agree it would be best if the key was as an integer from the start and forget about Stringed numbers unless it is a requirement.","body":"@E-Riz Notice the OP passed String encapsulated integers to the constructor and then parsed them.  The natural order for Strings is lexical which means that 11 would come before 2.  But I agree it would be best if the key was as an integer from the start and forget about Stringed numbers unless it is a requirement."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676400430,"creation_date":1676399330,"answer_id":75451890,"question_id":75451749,"body_markdown":"- Add a `getKey()` getter to your class to return the `key`\r\n- Add one more closing parenthesis `)` to `sorted(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey()))`\r\n\r\n\r\nBut you can also sort `bookList` in place as follows\r\n```\r\nbookList.sort(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey())));\r\n```\r\nNote:  If you use a constructor of `Book(int key, String title)` and change the types of `key` and the `getter` to `int` you won&#39;t have to parse the String.  Then you could do:\r\n```\r\nbookList.sort(Comparator.comparingInt(Book::getKey));","title":"java streams to sort a list sorted on an object property casted from string to int","body":"<ul>\n<li>Add a <code>getKey()</code> getter to your class to return the <code>key</code></li>\n<li>Add one more closing parenthesis <code>)</code> to <code>sorted(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey()))</code></li>\n</ul>\n<p>But you can also sort <code>bookList</code> in place as follows</p>\n<pre><code>bookList.sort(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey())));\n</code></pre>\n<p>Note:  If you use a constructor of <code>Book(int key, String title)</code> and change the types of <code>key</code> and the <code>getter</code> to <code>int</code> you won't have to parse the String.  Then you could do:</p>\n<pre><code>bookList.sort(Comparator.comparingInt(Book::getKey));\n</code></pre>\n"}],"owner":{"account_id":16844899,"reputation":103,"user_id":14744345,"display_name":"Slippy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":544,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676400430,"creation_date":1676398634,"question_id":75451749,"body_markdown":"Given a list of objects that have a &quot;key&quot; property which is a string, is there any way I can use streams *.sorted()* method so that it treats the key as an int and uses the key to sort the objects?\r\n\r\nLet&#39;s use this as an example \r\n```\r\npublic class Book {\r\n public String key;\r\n public String title; \r\n\r\n public Book(String key, String title) {\r\n    this.key = key;\r\n    this.title = title; \r\n }\r\n\r\n// Getters and Setters omitted from example but assume they exist\r\n}\r\n\r\nBook book1 = new Book(&quot;1&quot;, &quot;A good book&quot;);\r\nBook book2 = new Book(&quot;2&quot;, &quot;A bad book&quot;); \r\n\r\nList&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\r\nbookList.add(book2);\r\nbookList.add(book1);\r\n```\r\n\r\nMy goal in this case would be to sort the book list using streams and the key property so that book1 becomes the 1st element and book2 becomes the second element. \r\n\r\nI have tried something like this but I still seem to get exceptions. \r\n```\r\nList&lt;Book&gt; sortedList = bookList.stream()\r\n                        .sorted(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey()))\r\n                        .collect(Collectors.toList());\r\n```\r\n\r\nDoes anyone notice anything immediately that would cause this to fail? Any clarification is much appreciated!","title":"java streams to sort a list sorted on an object property casted from string to int","body":"<p>Given a list of objects that have a &quot;key&quot; property which is a string, is there any way I can use streams <em>.sorted()</em> method so that it treats the key as an int and uses the key to sort the objects?</p>\n<p>Let's use this as an example</p>\n<pre><code>public class Book {\n public String key;\n public String title; \n\n public Book(String key, String title) {\n    this.key = key;\n    this.title = title; \n }\n\n// Getters and Setters omitted from example but assume they exist\n}\n\nBook book1 = new Book(&quot;1&quot;, &quot;A good book&quot;);\nBook book2 = new Book(&quot;2&quot;, &quot;A bad book&quot;); \n\nList&lt;Book&gt; bookList = new ArrayList&lt;&gt;();\nbookList.add(book2);\nbookList.add(book1);\n</code></pre>\n<p>My goal in this case would be to sort the book list using streams and the key property so that book1 becomes the 1st element and book2 becomes the second element.</p>\n<p>I have tried something like this but I still seem to get exceptions.</p>\n<pre><code>List&lt;Book&gt; sortedList = bookList.stream()\n                        .sorted(Comparator.comparingInt(b -&gt; Integer.parseInt(b.getKey()))\n                        .collect(Collectors.toList());\n</code></pre>\n<p>Does anyone notice anything immediately that would cause this to fail? Any clarification is much appreciated!</p>\n"},{"tags":["java","list","arraylist"],"answers":[{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1351585195,"creation_date":1351584843,"answer_id":13134999,"question_id":13134983,"body_markdown":"[`Arrays.asList`](http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29) does not return instance of [`java.util.ArrayList`](http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html)but it returns instance of `java.util.Arrays.ArrayList`. \r\n\r\nYou will need to convert to ArrayList if you want to access `ArrayList` specific information\r\n\r\n    allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;)));\r\n","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#asList%28T...%29\" rel=\"nofollow noreferrer\"><code>Arrays.asList</code></a> does not return instance of <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\"><code>java.util.ArrayList</code></a>but it returns instance of <code>java.util.Arrays.ArrayList</code>. </p>\n\n<p>You will need to convert to ArrayList if you want to access <code>ArrayList</code> specific information</p>\n\n<pre><code>allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(\"\\\\s+\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":294406,"reputation":24602,"user_id":598289,"accept_rate":85,"display_name":"SJuan76"},"comment_count":0,"down_vote_count":0,"up_vote_count":212,"is_accepted":false,"score":212,"last_activity_date":1351585019,"creation_date":1351585019,"answer_id":13135032,"question_id":13134983,"body_markdown":"Cast works where the actual instance of the list is an `ArrayList`. If it is, say, a `Vector` (which is another extension of `List`) it will throw a ClassCastException.\r\n\r\nThe error when changing the definition of your HashMap is due to the elements later being processed, and that process expects a method that is defined only in `ArrayList`. The exception tells you that it did not found the method it was looking for.\r\n\r\nCreate a new `ArrayList` with the contents of the old one.\r\n\r\n    new ArrayList&lt;String&gt;(myList);","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>Cast works where the actual instance of the list is an <code>ArrayList</code>. If it is, say, a <code>Vector</code> (which is another extension of <code>List</code>) it will throw a ClassCastException.</p>\n\n<p>The error when changing the definition of your HashMap is due to the elements later being processed, and that process expects a method that is defined only in <code>ArrayList</code>. The exception tells you that it did not found the method it was looking for.</p>\n\n<p>Create a new <code>ArrayList</code> with the contents of the old one.</p>\n\n<pre><code>new ArrayList&lt;String&gt;(myList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1437571444,"creation_date":1351585076,"answer_id":13135046,"question_id":13134983,"body_markdown":"Take a look at [ArrayList#addAll(Collection)](http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#addAll(java.util.Collection))\r\n\r\n&gt; Appends all of the elements in the specified collection to the end of\r\n&gt; this list, in the order that they are returned by the specified\r\n&gt; collection&#39;s Iterator. The behaviour of this operation is undefined if\r\n&gt; the specified collection is modified while the operation is in\r\n&gt; progress. (This implies that the behaviour of this call is undefined if\r\n&gt; the specified collection is this list, and this list is nonempty.)\r\n\r\nSo basically you could use\r\n\r\n    ArrayList&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;(list.size());\r\n    listOfStrings.addAll(list);\r\n    ","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>Take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/ArrayList.html#addAll(java.util.Collection)\" rel=\"noreferrer\">ArrayList#addAll(Collection)</a></p>\n\n<blockquote>\n  <p>Appends all of the elements in the specified collection to the end of\n  this list, in the order that they are returned by the specified\n  collection's Iterator. The behaviour of this operation is undefined if\n  the specified collection is modified while the operation is in\n  progress. (This implies that the behaviour of this call is undefined if\n  the specified collection is this list, and this list is nonempty.)</p>\n</blockquote>\n\n<p>So basically you could use</p>\n\n<pre><code>ArrayList&lt;String&gt; listOfStrings = new ArrayList&lt;&gt;(list.size());\nlistOfStrings.addAll(list);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":218057,"reputation":67738,"user_id":474189,"accept_rate":72,"display_name":"Duncan Jones"},"score":3,"creation_date":1351585193,"post_id":13135054,"comment_id":17863851,"body_markdown":"And specifically the `UnsupportedOperationException` is caused because the `Arrays.asList` method returns a fixed-sized list backed by an array - it cannot be modified. The solution presented here by @Jesper will avoid that.","body":"And specifically the <code>UnsupportedOperationException</code> is caused because the <code>Arrays.asList</code> method returns a fixed-sized list backed by an array - it cannot be modified. The solution presented here by @Jesper will avoid that."}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":1,"down_vote_count":1,"up_vote_count":56,"is_accepted":true,"score":55,"last_activity_date":1351585106,"creation_date":1351585106,"answer_id":13135054,"question_id":13134983,"body_markdown":"First of all, why is the map a `HashMap&lt;String, ArrayList&lt;String&gt;&gt;` and not a `HashMap&lt;String, List&lt;String&gt;&gt;`? Is there some reason why the value must be a specific implementation of interface `List` (`ArrayList` in this case)?\r\n\r\n`Arrays.asList` does not return a `java.util.ArrayList`, so you can&#39;t assign the return value of `Arrays.asList` to a variable of type `ArrayList`.\r\n\r\nInstead of:\r\n\r\n    allWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;));\r\n\r\nTry this:\r\n\r\n    allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;)));\r\n","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>First of all, why is the map a <code>HashMap&lt;String, ArrayList&lt;String&gt;&gt;</code> and not a <code>HashMap&lt;String, List&lt;String&gt;&gt;</code>? Is there some reason why the value must be a specific implementation of interface <code>List</code> (<code>ArrayList</code> in this case)?</p>\n\n<p><code>Arrays.asList</code> does not return a <code>java.util.ArrayList</code>, so you can't assign the return value of <code>Arrays.asList</code> to a variable of type <code>ArrayList</code>.</p>\n\n<p>Instead of:</p>\n\n<pre><code>allWords = Arrays.asList(strTemp.toLowerCase().split(\"\\\\s+\"));\n</code></pre>\n\n<p>Try this:</p>\n\n<pre><code>allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(\"\\\\s+\")));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5753363,"reputation":3741,"user_id":4542217,"display_name":"Shahab Rauf"},"comment_count":0,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1547282650,"creation_date":1547282650,"answer_id":54157992,"question_id":13134983,"body_markdown":"In Kotlin List can be converted into ArrayList through passing it as a constructor parameter.\r\n\r\n    ArrayList(list)","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>In Kotlin List can be converted into ArrayList through passing it as a constructor parameter.</p>\n\n<pre><code>ArrayList(list)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7726333,"reputation":1273,"user_id":5850848,"display_name":"S Krishna"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573062749,"creation_date":1573062749,"answer_id":58735931,"question_id":13134983,"body_markdown":"Tried and tested approach. \r\n\r\n\r\n    public static ArrayList&lt;String&gt; listToArrayList(List&lt;Object&gt; myList) {\r\n    \t\tArrayList&lt;String&gt; arl = new ArrayList&lt;String&gt;();\r\n    \t\tfor (Object object : myList) {\r\n    \t\t\tarl.add((String) object);\r\n    \t\t}\r\n    \t\treturn arl;\r\n    \r\n    \t}","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>Tried and tested approach. </p>\n\n<pre><code>public static ArrayList&lt;String&gt; listToArrayList(List&lt;Object&gt; myList) {\n        ArrayList&lt;String&gt; arl = new ArrayList&lt;String&gt;();\n        for (Object object : myList) {\n            arl.add((String) object);\n        }\n        return arl;\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3321808,"reputation":912,"user_id":2792809,"display_name":"Gomez NL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618977773,"creation_date":1618977418,"answer_id":67189096,"question_id":13134983,"body_markdown":"This comes a bit late but thought of putting in a simple way for the answer of **converting List to ArrayList**. \r\n\r\n**Simple way**\r\n\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; listToArrayList(List&lt;T&gt; list) {\r\n        return list != null ? new ArrayList&lt;&gt;(list) : null;\r\n    }\r\n\r\n**Classic way**\r\n\r\n    public static  &lt;T&gt; ArrayList&lt;T&gt;  listToArrayList(List&lt;T&gt; list) {\r\n        ArrayList&lt;T&gt; arrayList = new ArrayList&lt;&gt;();\r\n        if (list != null) {\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                arrayList.add(list.get(i));\r\n                i++;\r\n            }\r\n            // or simply\r\n            // arrayList.addAll(list);\r\n        }\r\n        return  arrayList;\r\n    }\r\n\r\n**Usage**\r\n\r\n    listToArrayList(yourList);","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>This comes a bit late but thought of putting in a simple way for the answer of <strong>converting List to ArrayList</strong>.</p>\n<p><strong>Simple way</strong></p>\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; listToArrayList(List&lt;T&gt; list) {\n    return list != null ? new ArrayList&lt;&gt;(list) : null;\n}\n</code></pre>\n<p><strong>Classic way</strong></p>\n<pre><code>public static  &lt;T&gt; ArrayList&lt;T&gt;  listToArrayList(List&lt;T&gt; list) {\n    ArrayList&lt;T&gt; arrayList = new ArrayList&lt;&gt;();\n    if (list != null) {\n        for (int i = 0; i &lt; list.size(); i++) {\n            arrayList.add(list.get(i));\n            i++;\n        }\n        // or simply\n        // arrayList.addAll(list);\n    }\n    return  arrayList;\n}\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre><code>listToArrayList(yourList);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18606617,"reputation":404,"user_id":13560080,"display_name":"Zahid Iqbal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642262349,"creation_date":1642262349,"answer_id":70723063,"question_id":13134983,"body_markdown":"&gt;  ArrayList&lt;Model&gt; listOfStrings = new ArrayList&lt;&gt;(list.length);\r\n                                    listOfStrings.addAll(Arrays.asList(list));\r\n                                   \r\nIn case of object list you can use this way to convert Model[] list to ArrayList&lt;Model&gt;","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<blockquote>\n<p>ArrayList listOfStrings = new ArrayList&lt;&gt;(list.length);\nlistOfStrings.addAll(Arrays.asList(list));</p>\n</blockquote>\n<p>In case of object list you can use this way to convert Model[] list to ArrayList</p>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676400124,"creation_date":1676400124,"answer_id":75452018,"question_id":13134983,"body_markdown":"With the advent of the Java streaming API (March, 2014), the following might now be considered the preferred approach:\r\n```\r\n    public List&lt;String&gt; getWordsFunctionally(List&lt;String&gt; sentences) { \r\n        List&lt;String&gt; list = sentences.stream()\r\n            .map(s -&gt; List.of(s.toLowerCase().replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;).split(&quot;\\\\s+&quot;)))\r\n            .flatMap(List::stream)\r\n//          .distinct() // if you don&#39;t want duplicates\r\n            .collect(Collectors.toList());\r\n        \r\n        return list;\r\n    }\r\n```\r\nNote that the original code had a bug in it: with each iteration, the values in `allWords` are replaced with the current array derived from splitting the sentence into words.\r\n```\r\nallWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;)); \r\n``` \r\nThis should read\r\n```\r\nallWords.addAll(Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;))); \r\n```\r\n\r\nAlso, it doesn&#39;t remove punctuation. \r\n","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>With the advent of the Java streaming API (March, 2014), the following might now be considered the preferred approach:</p>\n<pre><code>    public List&lt;String&gt; getWordsFunctionally(List&lt;String&gt; sentences) { \n        List&lt;String&gt; list = sentences.stream()\n            .map(s -&gt; List.of(s.toLowerCase().replaceAll(&quot;\\\\p{Punct}&quot;, &quot;&quot;).split(&quot;\\\\s+&quot;)))\n            .flatMap(List::stream)\n//          .distinct() // if you don't want duplicates\n            .collect(Collectors.toList());\n        \n        return list;\n    }\n</code></pre>\n<p>Note that the original code had a bug in it: with each iteration, the values in <code>allWords</code> are replaced with the current array derived from splitting the sentence into words.</p>\n<pre><code>allWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;)); \n</code></pre>\n<p>This should read</p>\n<pre><code>allWords.addAll(Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;))); \n</code></pre>\n<p>Also, it doesn't remove punctuation.</p>\n"}],"owner":{"account_id":1985033,"reputation":1261,"user_id":1780520,"accept_rate":29,"display_name":"Skipper07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272725,"favorite_count":0,"down_vote_count":0,"up_vote_count":110,"accepted_answer_id":13135054,"answer_count":9,"score":110,"last_activity_date":1676400124,"creation_date":1351584741,"question_id":13134983,"body_markdown":"I have a following method...which actually takes the list of sentences and splits each sentence into words. Here is it:\r\n\r\n    public List&lt;String&gt; getWords(List&lt;String&gt; strSentences){\r\n   \tallWords = new ArrayList&lt;String&gt;();\r\n    \tIterator&lt;String&gt; itrTemp = strSentences.iterator();\r\n    \twhile(itrTemp.hasNext()){\r\n    \t\tString strTemp = itrTemp.next();\r\n    \t\tallWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;));    \t\t\r\n    \t}\r\n    \treturn allWords;\r\n    }\r\n\r\nI have to pass this list into a hashmap in the following format     \r\n    \r\n    HashMap&lt;String, ArrayList&lt;String&gt;&gt;\r\n\r\nso this method returns List and I need an ArrayList? If I try to cast it doesn&#39;t work out... any suggestions?\r\n\r\nAlso, if I change the ArrayList to List in a HashMap, I get       \r\n\r\n    java.lang.UnsupportedOperationException\r\n\r\nbecause of this line in my code \r\n\r\n    sentenceList.add(((Element)sentenceNodeList.item(sentenceIndex)).getTextContent());\r\n\r\nAny better suggestions?\r\n\r\n","title":"List&lt;String&gt; to ArrayList&lt;String&gt; conversion issue","body":"<p>I have a following method...which actually takes the list of sentences and splits each sentence into words. Here is it:</p>\n<pre><code>public List&lt;String&gt; getWords(List&lt;String&gt; strSentences){\nallWords = new ArrayList&lt;String&gt;();\n    Iterator&lt;String&gt; itrTemp = strSentences.iterator();\n    while(itrTemp.hasNext()){\n        String strTemp = itrTemp.next();\n        allWords = Arrays.asList(strTemp.toLowerCase().split(&quot;\\\\s+&quot;));          \n    }\n    return allWords;\n}\n</code></pre>\n<p>I have to pass this list into a hashmap in the following format</p>\n<pre><code>HashMap&lt;String, ArrayList&lt;String&gt;&gt;\n</code></pre>\n<p>so this method returns List and I need an ArrayList? If I try to cast it doesn't work out... any suggestions?</p>\n<p>Also, if I change the ArrayList to List in a HashMap, I get</p>\n<pre><code>java.lang.UnsupportedOperationException\n</code></pre>\n<p>because of this line in my code</p>\n<pre><code>sentenceList.add(((Element)sentenceNodeList.item(sentenceIndex)).getTextContent());\n</code></pre>\n<p>Any better suggestions?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1676313505,"post_id":75439632,"comment_id":133108537,"body_markdown":"Consider using a `StringBuilder` to model the String you are manipulating.  You may find it easier to work with.","body":"Consider using a <code>StringBuilder</code> to model the String you are manipulating.  You may find it easier to work with."}],"answers":[{"tags":[],"owner":{"account_id":13758390,"reputation":467,"user_id":9928692,"display_name":"Marce"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676312151,"creation_date":1676312151,"answer_id":75439755,"question_id":75439632,"body_markdown":"With this part\r\n\r\n    } else {\r\n        reverseCap += myArray[i];\r\n    }\r\n\r\nyou&#39;re adding a character to `reverseCap` with every iteration, regardless if the characters match or not.\r\n\r\nIn your specific example, you could just leave that out, since every character in `myStr` also appears in `arg`, but if you want to add characters to `reverseCap`, even if they don&#39;t appear in `arg`, you&#39;ll need a way of checking if you already added a character to `reverseCap`.","title":"I&#39;m stuck. I need to adjust my loops so they continue to compare my two arrays but not print out all the extra characters","body":"<p>With this part</p>\n<pre><code>} else {\n    reverseCap += myArray[i];\n}\n</code></pre>\n<p>you're adding a character to <code>reverseCap</code> with every iteration, regardless if the characters match or not.</p>\n<p>In your specific example, you could just leave that out, since every character in <code>myStr</code> also appears in <code>arg</code>, but if you want to add characters to <code>reverseCap</code>, even if they don't appear in <code>arg</code>, you'll need a way of checking if you already added a character to <code>reverseCap</code>.</p>\n"},{"tags":[],"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676326695,"creation_date":1676323447,"answer_id":75441316,"question_id":75439632,"body_markdown":"Change \r\n```\r\nString reverseCap = &quot;&quot;;\r\n```\r\nto\r\n```\r\nchar[] reverseCap = new char[myStr.length()];\r\n```\r\nand then for each occurrence of \r\n```\r\nreverseCap += \r\n``` \r\nchange that to read\r\n```\r\nreverseCap[i] =\r\n```\r\nFinally, convert `reverseCap` to a String:\r\n```\r\nString result = String.valueOf(reverseCap);\r\n```\r\nYou are currently returning `null`. Consider returning `result`, and moving the `System.out.println(...)` into the `main()` method. \r\n\r\nUpdate: \r\nI think a better way to approach this is to use a lookup map containing upper/lower case pairs and their inverse to get the replacement character. The nested for loops are a bit gnarly.\r\n\r\n```\r\n    /**\r\n     * Example: for the string &quot;bcdxyz@3210.&quot;\r\n     * the lookup map is \r\n     * {B=b, b=B, C=c, c=C, D=d, d=D, X=x, x=X, Y=y, y=Y, Z=z, z=Z}\r\n     * &lt;p&gt;\r\n     * Using a map to get the inverse of a character is faster than repetitively \r\n     * looping through the string.\r\n     * &lt;/p&gt;\r\n     * @param arg\r\n     * @return\r\n     */\r\n    public String reverse2(String arg) {\r\n        Map&lt;Character, Character&gt; inverseLookup = createInverseLookupMap(arg);\r\n        \r\n        String myStr = &quot;abc, XYZ; 123.&quot;;\r\n        String result = myStr.chars()\r\n            .mapToObj(ch -&gt; Character.toString(inverseLookup.getOrDefault(ch, (char) ch)))\r\n            .collect(Collectors.joining());\r\n\r\n        return result;\r\n    }\r\n\r\n    private Map&lt;Character, Character&gt; createInverseLookupMap(String arg) {\r\n        Map&lt;Character, Character&gt; lookupMap = arg.chars()\r\n            .filter(ch -&gt; Character.isLetter(ch))\r\n            .mapToObj(this::getPairs)\r\n            .flatMap(List::stream)\r\n            .collect(Collectors.toMap(Pair::key, Pair::value));\r\n\r\n        System.out.println(lookupMap);\r\n        return lookupMap;\r\n    }\r\n\r\n    private List&lt;Pair&gt; getPairs(int ch) {\r\n        char upperVariant = (char) Character.toUpperCase(ch);\r\n        return List.of(\r\n            new Pair(upperVariant, Character.toLowerCase(upperVariant)),\r\n            new Pair(Character.toLowerCase(upperVariant), upperVariant));\r\n    }\r\n\r\n    static record Pair(Character key, Character value) {\r\n    }\r\n```\r\n\r\nBut if one is not used to the Java streaming API, this might look a bit gnarly too.","title":"I&#39;m stuck. I need to adjust my loops so they continue to compare my two arrays but not print out all the extra characters","body":"<p>Change</p>\n<pre><code>String reverseCap = &quot;&quot;;\n</code></pre>\n<p>to</p>\n<pre><code>char[] reverseCap = new char[myStr.length()];\n</code></pre>\n<p>and then for each occurrence of</p>\n<pre><code>reverseCap += \n</code></pre>\n<p>change that to read</p>\n<pre><code>reverseCap[i] =\n</code></pre>\n<p>Finally, convert <code>reverseCap</code> to a String:</p>\n<pre><code>String result = String.valueOf(reverseCap);\n</code></pre>\n<p>You are currently returning <code>null</code>. Consider returning <code>result</code>, and moving the <code>System.out.println(...)</code> into the <code>main()</code> method.</p>\n<p>Update:\nI think a better way to approach this is to use a lookup map containing upper/lower case pairs and their inverse to get the replacement character. The nested for loops are a bit gnarly.</p>\n<pre><code>    /**\n     * Example: for the string &quot;bcdxyz@3210.&quot;\n     * the lookup map is \n     * {B=b, b=B, C=c, c=C, D=d, d=D, X=x, x=X, Y=y, y=Y, Z=z, z=Z}\n     * &lt;p&gt;\n     * Using a map to get the inverse of a character is faster than repetitively \n     * looping through the string.\n     * &lt;/p&gt;\n     * @param arg\n     * @return\n     */\n    public String reverse2(String arg) {\n        Map&lt;Character, Character&gt; inverseLookup = createInverseLookupMap(arg);\n        \n        String myStr = &quot;abc, XYZ; 123.&quot;;\n        String result = myStr.chars()\n            .mapToObj(ch -&gt; Character.toString(inverseLookup.getOrDefault(ch, (char) ch)))\n            .collect(Collectors.joining());\n\n        return result;\n    }\n\n    private Map&lt;Character, Character&gt; createInverseLookupMap(String arg) {\n        Map&lt;Character, Character&gt; lookupMap = arg.chars()\n            .filter(ch -&gt; Character.isLetter(ch))\n            .mapToObj(this::getPairs)\n            .flatMap(List::stream)\n            .collect(Collectors.toMap(Pair::key, Pair::value));\n\n        System.out.println(lookupMap);\n        return lookupMap;\n    }\n\n    private List&lt;Pair&gt; getPairs(int ch) {\n        char upperVariant = (char) Character.toUpperCase(ch);\n        return List.of(\n            new Pair(upperVariant, Character.toLowerCase(upperVariant)),\n            new Pair(Character.toLowerCase(upperVariant), upperVariant));\n    }\n\n    static record Pair(Character key, Character value) {\n    }\n</code></pre>\n<p>But if one is not used to the Java streaming API, this might look a bit gnarly too.</p>\n"},{"tags":[],"owner":{"account_id":2903089,"reputation":26,"user_id":2489246,"display_name":"Charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676399192,"creation_date":1676399192,"answer_id":75451863,"question_id":75439632,"body_markdown":"Marce noted the problem of adding characters to `reverseCap` on every iteration.  Here is a solution that solves that problem and performs the case changes in place.  Checking for a match first and then changing the case simplifies the logic a bit.  Note `myArray[i]` needs to be lowercased before checking against `arg[i]` because the former may be an uppercase character; this is not needed for `argArray[j]` because those characters are assumed to be all lowercase.  Finally, once the inner loop has matched, further iterations of it are no longer needed.\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) {\r\n\r\n            Main ob = new Main();\r\n            String testStr = &quot;abc, XYZ; 123.&quot;;\r\n            String testArg = &quot;bcdxyz@3210.&quot;;\r\n            System.out.println(testStr + &quot; using &quot; + testArg + &quot; =&gt;&quot;);\r\n            System.out.println(ob.reverse(testStr, testArg));\r\n        }\r\n\r\n        public String reverse(String myStr, String myArg) {\r\n\r\n            char[] myArray = myStr.toCharArray();\r\n            char[] argArray = myArg.toCharArray();\r\n\r\n            for (int i =0; i &lt; myArray.length; i++) {\r\n                for (int j =0; j &lt; argArray.length; j++) {\r\n                    if (Character.toLowerCase(myArray[i]) == argArray[j]) {\r\n                        if (Character.isLowerCase(myArray[i])) {\r\n                            myArray[i] = Character.toUpperCase(myArray[i]);\r\n                        } else if (Character.isUpperCase(myArray[i])) {\r\n                            myArray[i] = Character.toLowerCase(myArray[i]);\r\n                        }\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            return String.valueOf(myArray);\r\n        }\r\n    }","title":"I&#39;m stuck. I need to adjust my loops so they continue to compare my two arrays but not print out all the extra characters","body":"<p>Marce noted the problem of adding characters to <code>reverseCap</code> on every iteration.  Here is a solution that solves that problem and performs the case changes in place.  Checking for a match first and then changing the case simplifies the logic a bit.  Note <code>myArray[i]</code> needs to be lowercased before checking against <code>arg[i]</code> because the former may be an uppercase character; this is not needed for <code>argArray[j]</code> because those characters are assumed to be all lowercase.  Finally, once the inner loop has matched, further iterations of it are no longer needed.</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n\n        Main ob = new Main();\n        String testStr = &quot;abc, XYZ; 123.&quot;;\n        String testArg = &quot;bcdxyz@3210.&quot;;\n        System.out.println(testStr + &quot; using &quot; + testArg + &quot; =&gt;&quot;);\n        System.out.println(ob.reverse(testStr, testArg));\n    }\n\n    public String reverse(String myStr, String myArg) {\n\n        char[] myArray = myStr.toCharArray();\n        char[] argArray = myArg.toCharArray();\n\n        for (int i =0; i &lt; myArray.length; i++) {\n            for (int j =0; j &lt; argArray.length; j++) {\n                if (Character.toLowerCase(myArray[i]) == argArray[j]) {\n                    if (Character.isLowerCase(myArray[i])) {\n                        myArray[i] = Character.toUpperCase(myArray[i]);\n                    } else if (Character.isUpperCase(myArray[i])) {\n                        myArray[i] = Character.toLowerCase(myArray[i]);\n                    }\n                    break;\n                }\n            }\n        }\n        return String.valueOf(myArray);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27776671,"reputation":3,"user_id":21205881,"display_name":"justjames"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75451863,"answer_count":3,"score":0,"last_activity_date":1676399192,"creation_date":1676311363,"question_id":75439632,"body_markdown":"I have to compare two string arrays. If the any of the characters in myArray match a character in argArray then I need to swap the case of the character in myArray. I&#39;m almost there but am getting extra output. \r\n\r\n\r\n\r\nThis is what I have so far - \r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n\r\n        Main ob = new Main();\r\n        ob.reverse(&quot;bcdxyz@3210.&quot;);\r\n\r\n    }\r\n    public String reverse(String arg) {\r\n\r\n        String reverseCap = &quot;&quot;;\r\n        String myStr = &quot;abc, XYZ; 123.&quot;;\r\n\r\n        char[] argArray = arg.toCharArray();\r\n        char[] myArray = myStr.toCharArray();\r\n\r\n        for (int i =0; i &lt; myArray.length; i++) {\r\n            for (int j =0; j &lt; argArray.length; j++){\r\n                if (myArray[i] == argArray[j] &amp;&amp; Character.isLowerCase(myArray[i])){\r\n                    reverseCap += Character.toUpperCase(myArray[i]);\r\n                } else if (myArray[i] == argArray[j] &amp;&amp; Character.isUpperCase(myArray[i])){\r\n                    reverseCap += Character.toLowerCase(myArray[i]);\r\n                } else {\r\n                    reverseCap += myArray[i];\r\n                }\r\n            }\r\n        }\r\n        System.out.println(reverseCap);\r\n        return null;\r\n    }\r\n```\r\n\r\nI want reverseCap to be &quot;aBC, xyz, 123.&quot; but am getting the following - \r\n```\r\n&quot;aaaaaaaaaaaaBbbbbbbbbbbbcCcccccccccc,,,,,,,,,,,,            XXXXXXXXXXXXYYYYYYYYYYYYZZZZZZZZZZZZ;;;;;;;;;;;;            111111111111222222222222333333333333............\r\n&quot;. \r\n```\r\n\r\nI&#39;ve been staring at this for hours so I figured it was time to ask for help before I pluck my eyes out. \r\n\r\n","title":"I&#39;m stuck. I need to adjust my loops so they continue to compare my two arrays but not print out all the extra characters","body":"<p>I have to compare two string arrays. If the any of the characters in myArray match a character in argArray then I need to swap the case of the character in myArray. I'm almost there but am getting extra output.</p>\n<p>This is what I have so far -</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n\n        Main ob = new Main();\n        ob.reverse(&quot;bcdxyz@3210.&quot;);\n\n    }\n    public String reverse(String arg) {\n\n        String reverseCap = &quot;&quot;;\n        String myStr = &quot;abc, XYZ; 123.&quot;;\n\n        char[] argArray = arg.toCharArray();\n        char[] myArray = myStr.toCharArray();\n\n        for (int i =0; i &lt; myArray.length; i++) {\n            for (int j =0; j &lt; argArray.length; j++){\n                if (myArray[i] == argArray[j] &amp;&amp; Character.isLowerCase(myArray[i])){\n                    reverseCap += Character.toUpperCase(myArray[i]);\n                } else if (myArray[i] == argArray[j] &amp;&amp; Character.isUpperCase(myArray[i])){\n                    reverseCap += Character.toLowerCase(myArray[i]);\n                } else {\n                    reverseCap += myArray[i];\n                }\n            }\n        }\n        System.out.println(reverseCap);\n        return null;\n    }\n</code></pre>\n<p>I want reverseCap to be &quot;aBC, xyz, 123.&quot; but am getting the following -</p>\n<pre><code>&quot;aaaaaaaaaaaaBbbbbbbbbbbbcCcccccccccc,,,,,,,,,,,,            XXXXXXXXXXXXYYYYYYYYYYYYZZZZZZZZZZZZ;;;;;;;;;;;;            111111111111222222222222333333333333............\n&quot;. \n</code></pre>\n<p>I've been staring at this for hours so I figured it was time to ask for help before I pluck my eyes out.</p>\n"},{"tags":["java","apache-kafka","real-time","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676399059,"creation_date":1676399059,"answer_id":75451840,"question_id":75451343,"body_markdown":"Use `map` operator to move the groupId over to the record key, then `groupByKey`\r\n\r\nOtherwise, use `aggregate` operator and reduce by the value&#39;s groupId","title":"Kafka Streams combinations of message","body":"<p>Use <code>map</code> operator to move the groupId over to the record key, then <code>groupByKey</code></p>\n<p>Otherwise, use <code>aggregate</code> operator and reduce by the value's groupId</p>\n"}],"owner":{"account_id":15529342,"reputation":33,"user_id":11203313,"display_name":"Svyat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75451840,"answer_count":1,"score":1,"last_activity_date":1676399059,"creation_date":1676395929,"question_id":75451343,"body_markdown":"I have messages in topic (compact topic):\r\n\r\n```\r\n{id: 1, groupId: 1}\r\n{id: 2, groupId: 1}\r\n{id: 3, groupId: 1}\r\n{id: 4, groupId: 2}\r\n```\r\n\r\nI want grouped messages by `groupId` and then get all possible combinations in each group. For example for `groupId=1` combinations:\r\n`id:1-id:2`, `id:1-id:3`, `id:2-id:3`.\r\n\r\nHow can I do this?\r\n\r\nMaybe self-join streams?","title":"Kafka Streams combinations of message","body":"<p>I have messages in topic (compact topic):</p>\n<pre><code>{id: 1, groupId: 1}\n{id: 2, groupId: 1}\n{id: 3, groupId: 1}\n{id: 4, groupId: 2}\n</code></pre>\n<p>I want grouped messages by <code>groupId</code> and then get all possible combinations in each group. For example for <code>groupId=1</code> combinations:\n<code>id:1-id:2</code>, <code>id:1-id:3</code>, <code>id:2-id:3</code>.</p>\n<p>How can I do this?</p>\n<p>Maybe self-join streams?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9574,"page":649,"page_size":100}
