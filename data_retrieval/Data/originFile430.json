{"items":[{"tags":["java","quarkus"],"answers":[{"comments":[{"owner":{"account_id":14722724,"reputation":11,"user_id":10632795,"display_name":"druntcat"},"score":0,"creation_date":1665155033,"post_id":73975612,"comment_id":130640607,"body_markdown":"Thanks, but I&#39;m using gradle and I forgot to specify this in the question.\nWhat should I do if I use gradle?","body":"Thanks, but I&#39;m using gradle and I forgot to specify this in the question. What should I do if I use gradle?"}],"tags":[],"owner":{"account_id":19559913,"reputation":181,"user_id":14313338,"display_name":"Jurgen Rutten"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665066932,"creation_date":1665066932,"answer_id":73975612,"question_id":73975043,"body_markdown":"You can use the jvm.args property from command line:\r\n\r\n    mvn quarkus:dev -Djvm.args=...\r\n\r\nOr specify the same in Maven&#39;s parameters:\r\n\r\n    &lt;project ...&gt;\r\n        ...\r\n        &lt;properties&gt;\r\n            &lt;jvm.args&gt;-Dquarkus.datasource.url=...&lt;/jvm.args&gt;\r\n        &lt;/properties&gt;\r\n        ...\r\n    &lt;/project&gt;","title":"how to add jvm options in quarkusDev","body":"<p>You can use the jvm.args property from command line:</p>\n<pre><code>mvn quarkus:dev -Djvm.args=...\n</code></pre>\n<p>Or specify the same in Maven's parameters:</p>\n<pre><code>&lt;project ...&gt;\n    ...\n    &lt;properties&gt;\n        &lt;jvm.args&gt;-Dquarkus.datasource.url=...&lt;/jvm.args&gt;\n    &lt;/properties&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":120465,"reputation":1592,"user_id":312929,"accept_rate":70,"display_name":"rojanu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684323639,"creation_date":1684323639,"answer_id":76271704,"question_id":73975043,"body_markdown":"For gradle users, create a `gradle.properties` file in your projects root directory and add the following line\r\n\r\n    org.gradle.jvmargs=--add-opens java.base/sun.net=ALL-UNNAMED","title":"how to add jvm options in quarkusDev","body":"<p>For gradle users, create a <code>gradle.properties</code> file in your projects root directory and add the following line</p>\n<pre><code>org.gradle.jvmargs=--add-opens java.base/sun.net=ALL-UNNAMED\n</code></pre>\n"}],"owner":{"account_id":14722724,"reputation":11,"user_id":10632795,"display_name":"druntcat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":779,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684323639,"creation_date":1665064432,"question_id":73975043,"body_markdown":"I&#39;m using quarkus and pulsar client in java 17.\r\n\r\n    2022-10-06 18:28:05,964 WARN  [org.apa.pul.com.uti.net.DnsResolverUtil] (Quarkus Main Thread) Cannot get DNS TTL settings from sun.net.InetAddressCachePolicy class: java.lang.IllegalAccessException: class org.apache.pulsar.common.util.netty.DnsResolverUtil cannot access class sun.net.InetAddressCachePolicy (in module java.base) because module java.base does not export sun.net to unnamed module @6743e411\r\n\tat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\r\n\r\nI need add jvm options `--add-opens=java.base/sun.net=ALL-UNNAMED`.\r\n\r\n\r\nWhat should I do if I use gradle?","title":"how to add jvm options in quarkusDev","body":"<p>I'm using quarkus and pulsar client in java 17.</p>\n<pre><code>2022-10-06 18:28:05,964 WARN  [org.apa.pul.com.uti.net.DnsResolverUtil] (Quarkus Main Thread) Cannot get DNS TTL settings from sun.net.InetAddressCachePolicy class: java.lang.IllegalAccessException: class org.apache.pulsar.common.util.netty.DnsResolverUtil cannot access class sun.net.InetAddressCachePolicy (in module java.base) because module java.base does not export sun.net to unnamed module @6743e411\nat java.base/jdk.internal.reflect.Reflection.newIllegalAccessException(Reflection.java:392)\n</code></pre>\n<p>I need add jvm options <code>--add-opens=java.base/sun.net=ALL-UNNAMED</code>.</p>\n<p>What should I do if I use gradle?</p>\n"},{"tags":["java","android","icons"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1684323714,"post_id":76271701,"comment_id":134500900,"body_markdown":"have you added ```adaptive icon``` ? Checkout this link to understand how you can add and use https://developer.android.com/develop/ui/views/launch/icon_design_adaptive","body":"have you added <code>adaptive icon</code> ? Checkout this link to understand how you can add and use <a href=\"https://developer.android.com/develop/ui/views/launch/icon_design_adaptive\" rel=\"nofollow noreferrer\">developer.android.com/develop/ui/views/launch/&hellip;</a>"}],"owner":{"account_id":13923517,"reputation":569,"user_id":10053379,"display_name":"Patola"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684323600,"creation_date":1684323600,"question_id":76271701,"body_markdown":"For example, my app icon looks like the one on the right. I have configured square and round icons on AndroidManifest.xml and put each variation in mipmap folders for different sizes.\r\n\r\nHow do I fix this issue (that is to look like the one on left)?\r\n\r\nmy AndroidManifest.xml.\r\n\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OV3xC.png","title":"Android app icon is too small on some phone","body":"<p>For example, my app icon looks like the one on the right. I have configured square and round icons on AndroidManifest.xml and put each variation in mipmap folders for different sizes.</p>\n<p>How do I fix this issue (that is to look like the one on left)?</p>\n<p>my AndroidManifest.xml.</p>\n<pre><code>    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/OV3xC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OV3xC.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","user-interface","swing","mouse"],"answers":[{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1292362699,"post_id":4443835,"comment_id":4853310,"body_markdown":"@Stephen P, I accidently upvoted your comment because I misread it. There is absolutely no need to summarize the API here. Its a waste of time as that is what the API is for. All the OP needed was to be pointed in the right direction. In fact, just mentioning the class and method is a great answer. People should always have access to the API to read it for the details.","body":"@Stephen P, I accidently upvoted your comment because I misread it. There is absolutely no need to summarize the API here. Its a waste of time as that is what the API is for. All the OP needed was to be pointed in the right direction. In fact, just mentioning the class and method is a great answer. People should always have access to the API to read it for the details."},{"owner":{"account_id":272447,"reputation":1024,"user_id":1884803,"accept_rate":78,"display_name":"Cory-G"},"score":0,"creation_date":1410748503,"post_id":4443835,"comment_id":40428828,"body_markdown":"@camickr It is good practice to keep answers evergreen. This means limiting links, as one day they may break and the whole answer will be moot. Overall, this should have been a comment, not an answer. It is the &quot;Stack way&quot; to make answers be explanations, not links to reference sites and API.","body":"@camickr It is good practice to keep answers evergreen. This means limiting links, as one day they may break and the whole answer will be moot. Overall, this should have been a comment, not an answer. It is the &quot;Stack way&quot; to make answers be explanations, not links to reference sites and API."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1410752718,"post_id":4443835,"comment_id":40429609,"body_markdown":"@CoryB, I think I&#39;ve been doing this a little longer than you have. `This means limiting links,` - that is what my comment suggested. There was no need to include the link.","body":"@CoryB, I think I&#39;ve been doing this a little longer than you have. <code>This means limiting links,</code> - that is what my comment suggested. There was no need to include the link."},{"owner":{"account_id":272447,"reputation":1024,"user_id":1884803,"accept_rate":78,"display_name":"Cory-G"},"score":0,"creation_date":1410825923,"post_id":4443835,"comment_id":40462614,"body_markdown":"@camickr Ah, I see what your saying now. Your first comment is a bit confusing. Thank you for the clarification. Seeing as how your comment was 4 years old, I was more commenting for new people who may read this &quot;correct&quot; answer in the future and learn bad practice. (Also, using seniority is a logical fallacy and isn&#39;t welcoming to new people. Though I am flattered that you took the time to look me up and do the math. Stay classy, sugar.)","body":"@camickr Ah, I see what your saying now. Your first comment is a bit confusing. Thank you for the clarification. Seeing as how your comment was 4 years old, I was more commenting for new people who may read this &quot;correct&quot; answer in the future and learn bad practice. (Also, using seniority is a logical fallacy and isn&#39;t welcoming to new people. Though I am flattered that you took the time to look me up and do the math. Stay classy, sugar.)"},{"owner":{"account_id":4645001,"reputation":1029,"user_id":3763631,"display_name":"Falsoon"},"score":0,"creation_date":1594492624,"post_id":4443835,"comment_id":111147685,"body_markdown":"The API clearly does not discuss button clicks or the button state while moving. This is a misleading answer.","body":"The API clearly does not discuss button clicks or the button state while moving. This is a misleading answer."}],"tags":[],"owner":{"account_id":164242,"reputation":2737,"user_id":386875,"accept_rate":97,"display_name":"Eternal Noob"},"comment_count":5,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1292358289,"creation_date":1292358289,"answer_id":4443835,"question_id":4443760,"body_markdown":"there is mouseDragged method in MouseMotionListener...check [this][1] out for more details...\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html","title":"How to detect mouse moving while left button down?","body":"<p>there is mouseDragged method in MouseMotionListener...check <a href=\"http://download.oracle.com/javase/tutorial/uiswing/events/mousemotionlistener.html\" rel=\"noreferrer\">this</a> out for more details...</p>\n"},{"tags":[],"owner":{"account_id":118440,"reputation":11267,"user_id":309472,"accept_rate":80,"display_name":"DGH"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1292358343,"creation_date":1292358343,"answer_id":4443850,"question_id":4443760,"body_markdown":"I think there might be some sort of mouse drag listener, but if not...\r\n\r\nCapture the mouse button down and up events.  In those events, set a boolean such as `leftButtonIsDown = true` (unless there&#39;s already some easy way to query that) and then in the mouse movement events use a block like `if (leftButtonIsDown)`","title":"How to detect mouse moving while left button down?","body":"<p>I think there might be some sort of mouse drag listener, but if not...</p>\n\n<p>Capture the mouse button down and up events.  In those events, set a boolean such as <code>leftButtonIsDown = true</code> (unless there's already some easy way to query that) and then in the mouse movement events use a block like <code>if (leftButtonIsDown)</code></p>\n"},{"comments":[{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":1,"creation_date":1292358985,"post_id":4443853,"comment_id":4852512,"body_markdown":"you&#39;ve got it mostly here, but I just expanded in my answer","body":"you&#39;ve got it mostly here, but I just expanded in my answer"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1385695405,"post_id":4443853,"comment_id":30251202,"body_markdown":"@DonHatch, good catch. I was going to say good &quot;point&quot;, but that would be wrong :) I&#39;ll leave the code as is just so people can get the joke (since they will probably use Jeffs answer anyway).","body":"@DonHatch, good catch. I was going to say good &quot;point&quot;, but that would be wrong :) I&#39;ll leave the code as is just so people can get the joke (since they will probably use Jeffs answer anyway)."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1292358350,"creation_date":1292358350,"answer_id":4443853,"question_id":4443760,"body_markdown":"In your MouseMotionListener you can check for this using:\r\n\r\n    SwingUtilities.isLeftMouseButton(me.getPoint())\r\n\r\nand you would listen for the mouseDragged event.","title":"How to detect mouse moving while left button down?","body":"<p>In your MouseMotionListener you can check for this using:</p>\n\n<pre><code>SwingUtilities.isLeftMouseButton(me.getPoint())\n</code></pre>\n\n<p>and you would listen for the mouseDragged event.</p>\n"},{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1292362427,"post_id":4443958,"comment_id":4853234,"body_markdown":"I don&#39;t see the need to spoon feed code like this. The OP just wnated to be pointed in the right direction as you can tell by the answer that was accepted. The OP can ask for more help if he needs it.","body":"I don&#39;t see the need to spoon feed code like this. The OP just wnated to be pointed in the right direction as you can tell by the answer that was accepted. The OP can ask for more help if he needs it."},{"owner":{"account_id":2490315,"reputation":5131,"user_id":2552290,"accept_rate":68,"display_name":"Don Hatch"},"score":0,"creation_date":1385694330,"post_id":4443958,"comment_id":30251007,"body_markdown":"Interesting that the answer that didn&#39;t mention how to figure out which button was pressed was accepted, when the question specified the *left* mouse button is needed.   I found this question via search, and I really do need it to be the *left* mouse button as specified in the question, so I&#39;m upvoting this answer (although isLeftMouseButton is misspelled as of this writing)","body":"Interesting that the answer that didn&#39;t mention how to figure out which button was pressed was accepted, when the question specified the <i>left</i> mouse button is needed.   I found this question via search, and I really do need it to be the <i>left</i> mouse button as specified in the question, so I&#39;m upvoting this answer (although isLeftMouseButton is misspelled as of this writing)"}],"tags":[],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"comment_count":2,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1385912065,"creation_date":1292358951,"answer_id":4443958,"question_id":4443760,"body_markdown":"    component.addmouseMotionListener(new MouseAdapter() {\r\n        public void mouseDragged(MouseEvent evt) {\r\n           if ( SwingUtilities.isLeftMouseButton(evt)) {\r\n             // do your stuff here\r\n           }\r\n        }\r\n    });","title":"How to detect mouse moving while left button down?","body":"<pre><code>component.addmouseMotionListener(new MouseAdapter() {\n    public void mouseDragged(MouseEvent evt) {\n       if ( SwingUtilities.isLeftMouseButton(evt)) {\n         // do your stuff here\n       }\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":232002,"reputation":147,"user_id":496556,"display_name":"Bnymn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11638,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":4443835,"answer_count":4,"score":8,"last_activity_date":1684323571,"creation_date":1292357896,"question_id":4443760,"body_markdown":"I would like to detect mouse movement while the left button is pressed.\r\n\r\nI&#39;m simply creating a drawing application. I can detect mouse movement without any mouse being pressed. But I want to detect it WITH left mouse pressed.\r\n\r\nI don&#39;t think there&#39;s a listener for this. So, what is the idea to do that?","title":"How to detect mouse moving while left button down?","body":"<p>I would like to detect mouse movement while the left button is pressed.</p>\n<p>I'm simply creating a drawing application. I can detect mouse movement without any mouse being pressed. But I want to detect it WITH left mouse pressed.</p>\n<p>I don't think there's a listener for this. So, what is the idea to do that?</p>\n"},{"tags":["java","character-encoding","oracle10g","byte-order-mark"],"comments":[{"owner":{"account_id":6040,"reputation":181960,"user_id":9990,"accept_rate":79,"display_name":"Marcelo Cantos"},"score":2,"creation_date":1291821385,"post_id":4389005,"comment_id":4782331,"body_markdown":"Just in case you haven&#39;t come across this before, note that the Unicode standard does not require or recommend using a BOM with UTF-8. It isn&#39;t illegal, either, but shouldn&#39;t be used indiscriminately. See [here](http://unicode.org/faq/utf_bom.html#BOM) for the details, including some guidelines on when and where to use it. If you are trying to view the csv file in Windows, this is probably a valid use of the BOM.","body":"Just in case you haven&#39;t come across this before, note that the Unicode standard does not require or recommend using a BOM with UTF-8. It isn&#39;t illegal, either, but shouldn&#39;t be used indiscriminately. See <a href=\"http://unicode.org/faq/utf_bom.html#BOM\" rel=\"nofollow noreferrer\">here</a> for the details, including some guidelines on when and where to use it. If you are trying to view the csv file in Windows, this is probably a valid use of the BOM."},{"owner":{"account_id":159465,"reputation":790,"user_id":378844,"accept_rate":75,"display_name":"Fadd"},"score":0,"creation_date":1291821643,"post_id":4389005,"comment_id":4782392,"body_markdown":"Yes, we are trying to the view the csv in Windows, but the generated csv still shows garbled character for german characters. Is this the right way to set the BOM?","body":"Yes, we are trying to the view the csv in Windows, but the generated csv still shows garbled character for german characters. Is this the right way to set the BOM?"},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1291827935,"post_id":4389005,"comment_id":4783850,"body_markdown":"Yes, that’s right.  The Unicode standard recommends **against** using a so-called BOM (it isn’t really) with UTF-8.","body":"Yes, that’s right.  The Unicode standard recommends <b>against</b> using a so-called BOM (it isn’t really) with UTF-8."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":4,"creation_date":1291828839,"post_id":4389005,"comment_id":4784076,"body_markdown":"@tchrist: it recommends against using a BOM when dealing with software and protocols that excepts ASCII-only chars.  If the OP knows that the Windows software he&#39;s using will use the BOM to detect that the file is actually encoded in UTF-8 (we don&#39;t care about the fact that it ain&#39;t a BOM, we care about the **fact** that it can allow some software to detect that the encoding is UTF-8).  Also note that if you had a BOM to UTF-8 and some software fail, then these software are broken, because a BOM at the beginning of an UTF-8 is perfectly valid.","body":"@tchrist: it recommends against using a BOM when dealing with software and protocols that excepts ASCII-only chars.  If the OP knows that the Windows software he&#39;s using will use the BOM to detect that the file is actually encoded in UTF-8 (we don&#39;t care about the fact that it ain&#39;t a BOM, we care about the <b>fact</b> that it can allow some software to detect that the encoding is UTF-8).  Also note that if you had a BOM to UTF-8 and some software fail, then these software are broken, because a BOM at the beginning of an UTF-8 is perfectly valid."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1291828906,"post_id":4389005,"comment_id":4784090,"body_markdown":"Of course the real issue here is that CSV file have no metadata nor specifications mandating the encoding of the file to be specified.  It&#39;s basically the same old SNAFU that is also affecting *.java* file and many other crappy-underspec&#39;ed file formats.","body":"Of course the real issue here is that CSV file have no metadata nor specifications mandating the encoding of the file to be specified.  It&#39;s basically the same old SNAFU that is also affecting <i>.java</i> file and many other crappy-underspec&#39;ed file formats."},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1291832189,"post_id":4389005,"comment_id":4784822,"body_markdown":"@Webinator: I realize that this is at best a partial solution to the problem, but I would *really* like to see a standard per-source-unit annotation like `@encoding UTF-8` in Java files. I understand that this only works for supersets of ASCII like UTF-8, ISO 8859-?, MacRoman, or CP1252, and that it has to occur before any non-ASCII characters are seen. But this is the same restriction as in-band encoding specs in XML, Perl, and Python. I’m told it wouldn’t be not too hard to implement an annotator like that, but apart from regexes and encodings, my Java-fu is weak. Sure would be useful, eh?!","body":"@Webinator: I realize that this is at best a partial solution to the problem, but I would <i>really</i> like to see a standard per-source-unit annotation like <code>@encoding UTF-8</code> in Java files. I understand that this only works for supersets of ASCII like UTF-8, ISO 8859-?, MacRoman, or CP1252, and that it has to occur before any non-ASCII characters are seen. But this is the same restriction as in-band encoding specs in XML, Perl, and Python. I’m told it wouldn’t be not too hard to implement an annotator like that, but apart from regexes and encodings, my Java-fu is weak. Sure would be useful, eh?!"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":4,"creation_date":1326117614,"post_id":4389005,"comment_id":10962546,"body_markdown":"For the completeness of the BOM discussion. Excel 2003 strictly requires the BOM in UTF-8 encoded CSV files. Otherwise multibyte chars are unreadable.","body":"For the completeness of the BOM discussion. Excel 2003 strictly requires the BOM in UTF-8 encoded CSV files. Otherwise multibyte chars are unreadable."},{"owner":{"account_id":10975593,"reputation":101,"user_id":14695180,"display_name":"Robert Carnegie"},"score":0,"creation_date":1652803789,"post_id":4389005,"comment_id":127692783,"body_markdown":"I&#39;ve recently been looking at behaviour of Microsoft Excel 2016.  If a .csv file is renamed to .txt, or if a new Excel spreadsheet has data added &quot;From Text&quot;, then the data is loaded by &quot;Text Import Wizard&quot;.  Apparently this is smart enough to recognise that it&#39;s receiving data of &quot;File origin&quot; of code page &quot;65001 (UTF-8)&quot;, and if isn&#39;t, then you can tell it so.  Then you have to tell it a few more things.  I have written a little Cmd script to copy a BOM then data from one file into another file, to avoid that.","body":"I&#39;ve recently been looking at behaviour of Microsoft Excel 2016.  If a .csv file is renamed to .txt, or if a new Excel spreadsheet has data added &quot;From Text&quot;, then the data is loaded by &quot;Text Import Wizard&quot;.  Apparently this is smart enough to recognise that it&#39;s receiving data of &quot;File origin&quot; of code page &quot;65001 (UTF-8)&quot;, and if isn&#39;t, then you can tell it so.  Then you have to tell it a few more things.  I have written a little Cmd script to copy a BOM then data from one file into another file, to avoid that."}],"answers":[{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1291828148,"post_id":4389309,"comment_id":4783904,"body_markdown":"Aren’t all PrintStreams fundamentally flawed because they discard all errors that may occur on the stream, including I/O errors, full filesystems, network interruptions, and encoding mismatches? If this is not true, could you please tell me how to make them reliable (because I want to use them)?  But if it is true, could you please explain when it could ever be appropriate to use an output method that suppresses correctness concerns? This is a serious question, because I don’t understand why this was set up to be so dangerous.  Thanks for any insights.","body":"Aren’t all PrintStreams fundamentally flawed because they discard all errors that may occur on the stream, including I/O errors, full filesystems, network interruptions, and encoding mismatches? If this is not true, could you please tell me how to make them reliable (because I want to use them)?  But if it is true, could you please explain when it could ever be appropriate to use an output method that suppresses correctness concerns? This is a serious question, because I don’t understand why this was set up to be so dangerous.  Thanks for any insights."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1358290014,"post_id":4389309,"comment_id":19946832,"body_markdown":"@tchrist - it is true that PrintStreams suppress errors.  However ... 1) they are not entirely discarded - you can check to see if an error has occurred.  2) There are cases where you don&#39;t need to know about errors.  An indisputable case is when you are sending characters to a stream that is writing to an in-memory buffer.","body":"@tchrist - it is true that PrintStreams suppress errors.  However ... 1) they are not entirely discarded - you can check to see if an error has occurred.  2) There are cases where you don&#39;t need to know about errors.  An indisputable case is when you are sending characters to a stream that is writing to an in-memory buffer."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1405505711,"post_id":4389309,"comment_id":38451101,"body_markdown":"@tchrist I guess, this is all caused by using checked exceptions. Normally, you&#39;d just throw on any error and be happy. You could make an existing `PrintStream` &quot;safe&quot; by wrapping each call and adding `checkError` and conditionally throw. But the information about the exception is lost. So yes, `PrintStream` is a hopeless crap.","body":"@tchrist I guess, this is all caused by using checked exceptions. Normally, you&#39;d just throw on any error and be happy. You could make an existing <code>PrintStream</code> &quot;safe&quot; by wrapping each call and adding <code>checkError</code> and conditionally throw. But the information about the exception is lost. So yes, <code>PrintStream</code> is a hopeless crap."}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":3,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1291822895,"creation_date":1291822895,"answer_id":4389309,"question_id":4389005,"body_markdown":"To write a BOM in UTF-8 you need `PrintStream.print()`, not `PrintStream.write()`.\r\n\r\nAlso if you want to have BOM in your `csv` file, I guess you need to print a BOM after `putNextEntry()`.","title":"How to add a UTF-8 BOM in Java?","body":"<p>To write a BOM in UTF-8 you need <code>PrintStream.print()</code>, not <code>PrintStream.write()</code>.</p>\n\n<p>Also if you want to have BOM in your <code>csv</code> file, I guess you need to print a BOM after <code>putNextEntry()</code>.</p>\n"},{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1291828388,"post_id":4389317,"comment_id":4783958,"body_markdown":"Isn’t the only safe way to do encoded output in Java is to use the rarely-seen `OutputStreamWriter(OutputStream out, CharsetEncoder enc)` for of the constructor, the only one of the four with an explicit `CharsetEncoder` argument, and never using the `PrintStream` that you’ve recommended here?","body":"Isn’t the only safe way to do encoded output in Java is to use the rarely-seen <code>OutputStreamWriter(OutputStream out, CharsetEncoder enc)</code> for of the constructor, the only one of the four with an explicit <code>CharsetEncoder</code> argument, and never using the <code>PrintStream</code> that you’ve recommended here?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1358290493,"post_id":4389317,"comment_id":19947028,"body_markdown":"@tchrist - 1) No. 2) I didn&#39;t *recommend* PrintStream.  I simply said how to do what the OP asked to do using the PrintStream he was already using.  3) In this case PrintStream should be safe because because it is followed by other actions that will cause writes to the underlying stream (socket) and throw an exception if the previous PrintStream writes had silently failed.","body":"@tchrist - 1) No. 2) I didn&#39;t <i>recommend</i> PrintStream.  I simply said how to do what the OP asked to do using the PrintStream he was already using.  3) In this case PrintStream should be safe because because it is followed by other actions that will cause writes to the underlying stream (socket) and throw an exception if the previous PrintStream writes had silently failed."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1627512274,"creation_date":1291822926,"answer_id":4389317,"question_id":4389005,"body_markdown":"# `PrintStream#print`\r\n\r\nI think that `out.write(&#39;\\ufeff&#39;);` should actually be `out.print(&#39;\\ufeff&#39;);`, calling the [`java.io.PrintStream#print`][1] method.\r\n\r\nAccording [the javadoc][2], the `write(int)` method actually writes a byte ... without any character encoding.  So `out.write(&#39;\\ufeff&#39;);` writes the byte `0xff`.  By contrast, the `print(char)` method encodes the character as one or bytes using the stream&#39;s encoding, and then writes those bytes.\r\n\r\nAs noted in [section 23.8 of the Unicode 9][3] specification, the BOM for UTF-8 is `EF BB BF`. That sequence is what you get when using UTF-8 encoding on `&#39;\\ufeff&#39;`. See: [*Why UTF-8 BOM bytes efbbbf can be replaced by \\ufeff?*][4].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintStream.html#print(char)\r\n  [2]: http://download.oracle.com/javase/6/docs/api/java/io/PrintStream.html#write(int)\r\n  [3]: http://www.unicode.org/versions/Unicode9.0.0/ch23.pdf\r\n  [4]: https://stackoverflow.com/q/54247407/642706","title":"How to add a UTF-8 BOM in Java?","body":"<h1 id=\"printstreamprint-kixa\"><code>PrintStream#print</code></h1>\n<p>I think that <code>out.write('\\ufeff');</code> should actually be <code>out.print('\\ufeff');</code>, calling the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/PrintStream.html#print(char)\" rel=\"nofollow noreferrer\"><code>java.io.PrintStream#print</code></a> method.</p>\n<p>According <a href=\"http://download.oracle.com/javase/6/docs/api/java/io/PrintStream.html#write(int)\" rel=\"nofollow noreferrer\">the javadoc</a>, the <code>write(int)</code> method actually writes a byte ... without any character encoding.  So <code>out.write('\\ufeff');</code> writes the byte <code>0xff</code>.  By contrast, the <code>print(char)</code> method encodes the character as one or bytes using the stream's encoding, and then writes those bytes.</p>\n<p>As noted in <a href=\"http://www.unicode.org/versions/Unicode9.0.0/ch23.pdf\" rel=\"nofollow noreferrer\">section 23.8 of the Unicode 9</a> specification, the BOM for UTF-8 is <code>EF BB BF</code>. That sequence is what you get when using UTF-8 encoding on <code>'\\ufeff'</code>. See: <a href=\"https://stackoverflow.com/q/54247407/642706\"><em>Why UTF-8 BOM bytes efbbbf can be replaced by \\ufeff?</em></a>.</p>\n"},{"comments":[{"owner":{"account_id":255011,"reputation":5242,"user_id":534773,"display_name":"Julien H. - SonarSource Team"},"score":4,"creation_date":1499257328,"post_id":8120786,"comment_id":76827606,"body_markdown":"This code is sensitive to default platform encoding. On Windows, I ended up with 0x3F written to the file. The correct way to get the BufferedWriter is: `BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(the File), StandardCharsets.UTF_8))`","body":"This code is sensitive to default platform encoding. On Windows, I ended up with 0x3F written to the file. The correct way to get the BufferedWriter is: <code>BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(the File), StandardCharsets.UTF_8))</code>"}],"tags":[],"owner":{"account_id":1038983,"reputation":825,"user_id":1045463,"display_name":"astro"},"comment_count":1,"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1499258379,"creation_date":1321269528,"answer_id":8120786,"question_id":4389005,"body_markdown":"    BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(...), StandardCharsets.UTF_8));\r\n    out.write(&#39;\\ufeff&#39;);\r\n    out.write(...);\r\n\r\nThis correctly writes out 0xEF 0xBB 0xBF to the file, which is the UTF-8 representation of the BOM.","title":"How to add a UTF-8 BOM in Java?","body":"<pre><code>BufferedWriter out = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(...), StandardCharsets.UTF_8));\nout.write('\\ufeff');\nout.write(...);\n</code></pre>\n\n<p>This correctly writes out 0xEF 0xBB 0xBF to the file, which is the UTF-8 representation of the BOM.</p>\n"},{"tags":[],"owner":{"account_id":3750937,"reputation":11,"user_id":3118453,"display_name":"Rocio"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1387443694,"creation_date":1387443694,"answer_id":20677256,"question_id":4389005,"body_markdown":"In my case it works with the code:\r\n\r\n    PrintWriter out = new PrintWriter(new File(filePath), &quot;UTF-8&quot;);\r\n    out.write(csvContent);\r\n    out.flush();\r\n    out.close();","title":"How to add a UTF-8 BOM in Java?","body":"<p>In my case it works with the code:</p>\n\n<pre><code>PrintWriter out = new PrintWriter(new File(filePath), \"UTF-8\");\nout.write(csvContent);\nout.flush();\nout.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1459348194,"creation_date":1459348194,"answer_id":36311899,"question_id":4389005,"body_markdown":"Just in case people *are* using `PrintStream`s, you need to do it a little differently. While a `Writer` will do some magic to convert a single byte into 3 bytes, a `PrintStream` requires all 3 bytes of the UTF-8 BOM individually:\r\n\r\n        // Print utf-8 BOM\r\n        PrintStream out = System.out;\r\n        out.write(&#39;\\ufeef&#39;); // emits 0xef\r\n        out.write(&#39;\\ufebb&#39;); // emits 0xbb\r\n        out.write(&#39;\\ufebf&#39;); // emits 0xbf\r\n\r\nAlternatively, you can use the hex values for those directly:\r\n\r\n        PrintStream out = System.out;\r\n        out.write(0xef); // emits 0xef\r\n        out.write(0xbb); // emits 0xbb\r\n        out.write(0xbf); // emits 0xbf\r\n","title":"How to add a UTF-8 BOM in Java?","body":"<p>Just in case people <em>are</em> using <code>PrintStream</code>s, you need to do it a little differently. While a <code>Writer</code> will do some magic to convert a single byte into 3 bytes, a <code>PrintStream</code> requires all 3 bytes of the UTF-8 BOM individually:</p>\n\n<pre><code>    // Print utf-8 BOM\n    PrintStream out = System.out;\n    out.write('\\ufeef'); // emits 0xef\n    out.write('\\ufebb'); // emits 0xbb\n    out.write('\\ufebf'); // emits 0xbf\n</code></pre>\n\n<p>Alternatively, you can use the hex values for those directly:</p>\n\n<pre><code>    PrintStream out = System.out;\n    out.write(0xef); // emits 0xef\n    out.write(0xbb); // emits 0xbb\n    out.write(0xbf); // emits 0xbf\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3202215,"reputation":1779,"user_id":3389700,"display_name":"shimatai"},"score":0,"creation_date":1673322233,"post_id":62918775,"comment_id":132467446,"body_markdown":"Simple and effective.","body":"Simple and effective."}],"tags":[],"owner":{"account_id":4774097,"reputation":135,"user_id":3857811,"accept_rate":75,"display_name":"Silent"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1613053243,"creation_date":1594828125,"answer_id":62918775,"question_id":4389005,"body_markdown":"You Add This For First Of CSV String\r\n\r\n    String CSV = &quot;&quot;;\r\n    byte[] BOM = {(byte) 0xEF,(byte) 0xBB,(byte) 0xBF};\r\n    CSV = new String(BOM) + CSV;\r\n\r\nThis Work For Me.\r\n","title":"How to add a UTF-8 BOM in Java?","body":"<p>You Add This For First Of CSV String</p>\n<pre><code>String CSV = &quot;&quot;;\nbyte[] BOM = {(byte) 0xEF,(byte) 0xBB,(byte) 0xBF};\nCSV = new String(BOM) + CSV;\n</code></pre>\n<p>This Work For Me.</p>\n"},{"tags":[],"owner":{"account_id":3503118,"reputation":504,"user_id":2929352,"display_name":"David KELLER"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608650661,"creation_date":1608650661,"answer_id":65411341,"question_id":4389005,"body_markdown":"Here a simple way to append BOM header on any file :\r\n\r\n   \tprivate static void appendBOM(File file) throws Exception {\r\n\t\tFile bomFile = new File(file + &quot;.bom&quot;);\r\n\t\ttry (FileOutputStream output = new FileOutputStream(bomFile, true)) {\r\n\t\t\tbyte[] bytes = FileUtils.readFileToByteArray(file);\r\n\t\t\toutput.write(&#39;\\ufeef&#39;); // emits 0xef\r\n\t\t\toutput.write(&#39;\\ufebb&#39;); // emits 0xbb\r\n\t\t\toutput.write(&#39;\\ufebf&#39;); // emits 0xbf\r\n\t\t\toutput.write(bytes);\r\n\t\t\toutput.flush();\r\n\t\t}\r\n\t\t\r\n\t\tfile.delete();\r\n\t\tbomFile.renameTo(file);\r\n\t}","title":"How to add a UTF-8 BOM in Java?","body":"<p>Here a simple way to append BOM header on any file :</p>\n<pre><code>private static void appendBOM(File file) throws Exception {\n    File bomFile = new File(file + &quot;.bom&quot;);\n    try (FileOutputStream output = new FileOutputStream(bomFile, true)) {\n        byte[] bytes = FileUtils.readFileToByteArray(file);\n        output.write('\\ufeef'); // emits 0xef\n        output.write('\\ufebb'); // emits 0xbb\n        output.write('\\ufebf'); // emits 0xbf\n        output.write(bytes);\n        output.flush();\n    }\n    \n    file.delete();\n    bomFile.renameTo(file);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3904164,"reputation":2111,"user_id":3276902,"accept_rate":83,"display_name":"timguy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663068089,"creation_date":1624543380,"answer_id":68117288,"question_id":4389005,"body_markdown":"If you just want to \r\n\r\nmodify the same file\r\n--------------------\r\n\r\n(without new file and delete old one as I had issues with that)\r\n\r\n\tprivate void addBOM(File fileInput) throws IOException {\r\n\t\ttry (RandomAccessFile file = new RandomAccessFile(fileInput, &quot;rws&quot;)) {\r\n\t\t\tbyte[] text = new byte[(int) file.length()];\r\n\t\t\tfile.readFully(text);\r\n\t\t\tfile.seek(0);\r\n\t\t\tbyte[] bom = { (byte) 0xEF, (byte) 0xBB, (byte) 0xBF };\r\n\t\t\tfile.write(bom);\r\n\t\t\tfile.write(text);\r\n\t\t}\r\n\t}","title":"How to add a UTF-8 BOM in Java?","body":"<p>If you just want to</p>\n<h2>modify the same file</h2>\n<p>(without new file and delete old one as I had issues with that)</p>\n<pre><code>private void addBOM(File fileInput) throws IOException {\n    try (RandomAccessFile file = new RandomAccessFile(fileInput, &quot;rws&quot;)) {\n        byte[] text = new byte[(int) file.length()];\n        file.readFully(text);\n        file.seek(0);\n        byte[] bom = { (byte) 0xEF, (byte) 0xBB, (byte) 0xBF };\n        file.write(bom);\n        file.write(text);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6950939,"reputation":422,"user_id":5333592,"display_name":"Olavi Vaino"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684323490,"creation_date":1684323490,"answer_id":76271684,"question_id":4389005,"body_markdown":"Using StringBuilder\r\n    \r\n    StringBuilder csv = new StringBuilder();    \r\n    csv.append(&#39;\\ufeff&#39;);\r\n    csv.append(content);\r\n    csv.toString();\r\n","title":"How to add a UTF-8 BOM in Java?","body":"<p>Using StringBuilder</p>\n<pre><code>StringBuilder csv = new StringBuilder();    \ncsv.append('\\ufeff');\ncsv.append(content);\ncsv.toString();\n</code></pre>\n"}],"owner":{"account_id":159465,"reputation":790,"user_id":378844,"accept_rate":75,"display_name":"Fadd"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95715,"favorite_count":0,"down_vote_count":0,"up_vote_count":29,"accepted_answer_id":4389309,"answer_count":9,"score":29,"last_activity_date":1684323490,"creation_date":1291821016,"question_id":4389005,"body_markdown":"I have a Java stored procedure which fetches record from the table using `Resultset` object and creates a CS Vfile.\r\n\r\n    BLOB retBLOB = BLOB.createTemporary(conn, true, BLOB.DURATION_SESSION);\r\n    retBLOB.open(BLOB.MODE_READWRITE);\r\n    OutputStream bOut = retBLOB.setBinaryStream(0L);\r\n\r\n    ZipOutputStream zipOut = new ZipOutputStream(bOut);\r\n    PrintStream out = new PrintStream(zipOut,false,&quot;UTF-8&quot;);\r\n    out.write(&#39;\\ufeff&#39;);\r\n    out.flush();\r\n\r\n    zipOut.putNextEntry(new ZipEntry(&quot;filename.csv&quot;));\r\n    while (rs.next()){\r\n        out.print(&quot;\\&quot;&quot; + rs.getString(i) + &quot;\\&quot;&quot;);\r\n        out.print(&quot;,&quot;);\r\n    }\r\n    out.flush();\r\n\r\n    zipOut.closeEntry();\r\n    zipOut.close();\r\n    retBLOB.close();\r\n\r\n    return retBLOB;\r\n\r\n\r\nBut the generated CSV file doesn&#39;t show the correct German character. Oracle database also has a `NLS_CHARACTERSET` value of UTF8.\r\n\r\nPlease suggest.","title":"How to add a UTF-8 BOM in Java?","body":"<p>I have a Java stored procedure which fetches record from the table using <code>Resultset</code> object and creates a CS Vfile.</p>\n\n<pre><code>BLOB retBLOB = BLOB.createTemporary(conn, true, BLOB.DURATION_SESSION);\nretBLOB.open(BLOB.MODE_READWRITE);\nOutputStream bOut = retBLOB.setBinaryStream(0L);\n\nZipOutputStream zipOut = new ZipOutputStream(bOut);\nPrintStream out = new PrintStream(zipOut,false,\"UTF-8\");\nout.write('\\ufeff');\nout.flush();\n\nzipOut.putNextEntry(new ZipEntry(\"filename.csv\"));\nwhile (rs.next()){\n    out.print(\"\\\"\" + rs.getString(i) + \"\\\"\");\n    out.print(\",\");\n}\nout.flush();\n\nzipOut.closeEntry();\nzipOut.close();\nretBLOB.close();\n\nreturn retBLOB;\n</code></pre>\n\n<p>But the generated CSV file doesn't show the correct German character. Oracle database also has a <code>NLS_CHARACTERSET</code> value of UTF8.</p>\n\n<p>Please suggest.</p>\n"},{"tags":["java","object-type"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":6,"creation_date":1684309729,"post_id":76269658,"comment_id":134497829,"body_markdown":"What kind of explanation do you want exactly? `s.contains(l2)` because `l1.equals(l2)`. And `equals` is supposed to check if the two lists have equal elements in the same order.","body":"What kind of explanation do you want exactly? <code>s.contains(l2)</code> because <code>l1.equals(l2)</code>. And <code>equals</code> is supposed to check if the two lists have equal elements in the same order."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":3,"creation_date":1684309798,"post_id":76269658,"comment_id":134497845,"body_markdown":"Looking at the javadoc of `HashSet#contains()` it says: &quot;_...returns true if and only if this set contains an element e such that (o==null ? e==null : o.equals(e))._&quot;. And the javadoc of `List#equals()` states: &quot;_...two lists are defined to be equal if they contain the same elements in the same order._&quot; This behavior is exactly what you observe here.","body":"Looking at the javadoc of <code>HashSet#contains()</code> it says: &quot;<i>...returns true if and only if this set contains an element e such that (o==null ? e==null : o.equals(e)).</i>&quot;. And the javadoc of <code>List#equals()</code> states: &quot;<i>...two lists are defined to be equal if they contain the same elements in the same order.</i>&quot; This behavior is exactly what you observe here."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684310334,"creation_date":1684310334,"answer_id":76269772,"question_id":76269658,"body_markdown":"[`HashSet`][1] relies on the `equals` and `hashCode` methods of the element type (which in your case is `List`). The documentation for those methods on the `List` type is as follows:\r\n\r\n&gt; [`equals`][2] - Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if Objects.equals(e1, e2).) In other words, two lists are defined to be equal if they contain the same elements in the same order.  \r\n&gt; [`hashCode`][3] - Returns the hash code value for this list. The hash code of a list is defined to be the result of the following calculation:\r\n&gt;\r\n&gt;     int hashCode = 1;\r\n&gt;     for (E e : list)\r\n&gt;         hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\r\n&gt; \r\n&gt; This ensures that list1.equals(list2) implies that list1.hashCode()==list2.hashCode() for any two lists, list1 and list2, as required by the general contract of Object.hashCode().\r\n\r\nI.e. in summary, the `hashCode` and `equals` implementations for `List`s simply operate on each element of the list.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashSet.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#equals(java.lang.Object)\r\n  [3]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#hashCode()","title":"How Set&lt;List&lt;Integer&gt;&gt; is working conceptually","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/HashSet.html\" rel=\"nofollow noreferrer\"><code>HashSet</code></a> relies on the <code>equals</code> and <code>hashCode</code> methods of the element type (which in your case is <code>List</code>). The documentation for those methods on the <code>List</code> type is as follows:</p>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>equals</code></a> - Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if Objects.equals(e1, e2).) In other words, two lists are defined to be equal if they contain the same elements in the same order.<br />\n<a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#hashCode()\" rel=\"nofollow noreferrer\"><code>hashCode</code></a> - Returns the hash code value for this list. The hash code of a list is defined to be the result of the following calculation:</p>\n<pre><code>int hashCode = 1;\nfor (E e : list)\n    hashCode = 31*hashCode + (e==null ? 0 : e.hashCode());\n</code></pre>\n<p>This ensures that list1.equals(list2) implies that list1.hashCode()==list2.hashCode() for any two lists, list1 and list2, as required by the general contract of Object.hashCode().</p>\n</blockquote>\n<p>I.e. in summary, the <code>hashCode</code> and <code>equals</code> implementations for <code>List</code>s simply operate on each element of the list.</p>\n"},{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684310731,"creation_date":1684310731,"answer_id":76269830,"question_id":76269658,"body_markdown":"The [`HashSet#contains(Object o)`](https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html#contains-java.lang.Object-) javadoc states the following (emphasis mine): \r\n\r\n&gt; Returns true if this set contains the specified element. More formally, returns true if and only if this set contains an element e such that (o==null ? e==null : **o.equals(e)**).\r\n\r\nSo, this means when you check `s.contains(l2)`, the `List`s in `s` are actually checked for equality against `l2` via `List#equals()` internally.\r\n\r\nAnd the [`List#equals(Object o)`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-) javadoc states (emphasis mine):\r\n\r\n&gt; Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if (e1==null ? e2==null : e1.equals(e2)).) **In other words, two lists are defined to be equal if they contain the same elements in the same order.** This definition ensures that the equals method works properly across different implementations of the List interface.\r\n\r\nWhich is exactly why `l2` is found to be contained in `s`, but `l3` is not.","title":"How Set&lt;List&lt;Integer&gt;&gt; is working conceptually","body":"<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html#contains-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>HashSet#contains(Object o)</code></a> javadoc states the following (emphasis mine):</p>\n<blockquote>\n<p>Returns true if this set contains the specified element. More formally, returns true if and only if this set contains an element e such that (o==null ? e==null : <strong>o.equals(e)</strong>).</p>\n</blockquote>\n<p>So, this means when you check <code>s.contains(l2)</code>, the <code>List</code>s in <code>s</code> are actually checked for equality against <code>l2</code> via <code>List#equals()</code> internally.</p>\n<p>And the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>List#equals(Object o)</code></a> javadoc states (emphasis mine):</p>\n<blockquote>\n<p>Compares the specified object with this list for equality. Returns true if and only if the specified object is also a list, both lists have the same size, and all corresponding pairs of elements in the two lists are equal. (Two elements e1 and e2 are equal if (e1==null ? e2==null : e1.equals(e2)).) <strong>In other words, two lists are defined to be equal if they contain the same elements in the same order.</strong> This definition ensures that the equals method works properly across different implementations of the List interface.</p>\n</blockquote>\n<p>Which is exactly why <code>l2</code> is found to be contained in <code>s</code>, but <code>l3</code> is not.</p>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":2,"score":-2,"last_activity_date":1684323483,"creation_date":1684309495,"question_id":76269658,"body_markdown":"I wrote a program as below:\r\n```\r\npublic static void main(String[] args) {\r\n        Set&lt;List&lt;Integer&gt;&gt; s = new HashSet&lt;&gt;();\r\n        List&lt;Integer&gt; l1 = new ArrayList&lt;&gt;(List.of(1,2,3));\r\n        List&lt;Integer&gt; l2 = new ArrayList&lt;&gt;(List.of(1,2,3));\r\n        List&lt;Integer&gt; l3 = new ArrayList&lt;&gt;(List.of(3,2,1));\r\n        s.add(l1);\r\n        if(s.contains(l2)) {\r\n            System.out.println(&quot;l2 is already present&quot;);\r\n        }\r\n        if(s.contains(l3)) {\r\n            System.out.println(&quot;l3 is present&quot;);\r\n        } else {\r\n            System.out.println(&quot;l3 is absent&quot;);\r\n        }\r\n}\r\n```\r\nHere is the output:\r\n```\r\nl2 is already present\r\nl3 is absent\r\n```\r\nI have a general idea of `equals` and `hashcode` in Java and rough idea of `Object` type, etc. \r\n\r\nCan someone explain conceptually how this thing able to compare internally a list of integers and find if it is already present? Notice that it works only if the order of elements in the list is same.","title":"How Set&lt;List&lt;Integer&gt;&gt; is working conceptually","body":"<p>I wrote a program as below:</p>\n<pre><code>public static void main(String[] args) {\n        Set&lt;List&lt;Integer&gt;&gt; s = new HashSet&lt;&gt;();\n        List&lt;Integer&gt; l1 = new ArrayList&lt;&gt;(List.of(1,2,3));\n        List&lt;Integer&gt; l2 = new ArrayList&lt;&gt;(List.of(1,2,3));\n        List&lt;Integer&gt; l3 = new ArrayList&lt;&gt;(List.of(3,2,1));\n        s.add(l1);\n        if(s.contains(l2)) {\n            System.out.println(&quot;l2 is already present&quot;);\n        }\n        if(s.contains(l3)) {\n            System.out.println(&quot;l3 is present&quot;);\n        } else {\n            System.out.println(&quot;l3 is absent&quot;);\n        }\n}\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>l2 is already present\nl3 is absent\n</code></pre>\n<p>I have a general idea of <code>equals</code> and <code>hashcode</code> in Java and rough idea of <code>Object</code> type, etc.</p>\n<p>Can someone explain conceptually how this thing able to compare internally a list of integers and find if it is already present? Notice that it works only if the order of elements in the list is same.</p>\n"},{"tags":["java","spring-webflux","spring-security-oauth2","keystore","spring-webclient"],"comments":[{"owner":{"account_id":2416871,"reputation":184,"user_id":2110723,"accept_rate":60,"display_name":"Daniel_V"},"score":0,"creation_date":1630723130,"post_id":68431602,"comment_id":122040614,"body_markdown":"Did you figure out what&#39;s going on? I am currently facing this.","body":"Did you figure out what&#39;s going on? I am currently facing this."},{"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"score":0,"creation_date":1630814417,"post_id":68431602,"comment_id":122056146,"body_markdown":"@Daniel_V No, I have not figured it out and the project is currently on hold.","body":"@Daniel_V No, I have not figured it out and the project is currently on hold."}],"owner":{"account_id":5723452,"reputation":1656,"user_id":4521196,"accept_rate":58,"display_name":"jlp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1684322357,"creation_date":1626629770,"question_id":68431602,"body_markdown":"I am trying to call a customer&#39;s endpoint to retrieve their data using WebClient. We have to use certificate when calling the endpoint. I configured the WebClient with filter (to handle auto-refresh of the access token) and also with httpclient taking the certificate as keyStore.  However, I am getting the `SSLHandshakeException`.  If I commented out the `filter(oauth)`, then I didn&#39;t get the  `SSLHandshakeException`.  Can someone please let me know how to let `ServerOAuth2AuthorizedClientExchangeFilterFunction` work with the keyStore setup? Thanks.\r\n\r\n    @Configuration\r\n    public class MyConfig {\r\n      @Bean\r\n      ReactiveClientRegistrationRepository clientRegistrations() {\r\n        ClientRegistration registration = \r\n          ClientRegistration.withRegistrationId(&quot;authProvider&quot;)\r\n                            .tokenUri(tokenUri)\r\n                            .clientId(clientId)\r\n                            .clientSecret(clientSecret)\r\n                            .scope(scope)\r\n                            .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\r\n                            .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\r\n                            .build();\r\n        \r\n          return new InMemoryReactiveClientRegistrationRepository(registration);\r\n          }\r\n\r\n        @Bean(name = &quot;mybean&quot;)\r\n        WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\r\n\r\n        ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = \r\n           new ServerOAuth2AuthorizedClientExchangeFilterFunction(\r\n              new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\r\n                  clientRegistrations, \r\n                  new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations)));\r\n\r\n        oauth.setDefaultClientRegistrationId(&quot;authProvider&quot;);\r\n\r\n        KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\r\n        keyStore.load(new ClassPathResource(keyStoreFilename).getInputStream(), keyStoreString.toCharArray());\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        keyManagerFactory.init(keyStore, keyStoreString.toCharArray());\r\n\r\n        SslContext sslContext = SslContextBuilder.forClient().keyManager(keyManagerFactory).build();\r\n\r\n        HttpClient httpClient = HttpClient.create().secure(sslSpec -&gt; sslSpec.sslContext(sslContext)); \r\n\r\n        return WebClient\r\n               .builder()\r\n               .filter(oauth) // if I commented it out, then it was working fine                    \r\n               .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n               .defaultHeaders(httpHeaders -&gt; {\r\n                      httpHeaders.setContentType(MediaType.APPLICATION_JSON);\r\n                      httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\r\n                      httpHeaders.setBearerAuth(token);\r\n                        })\r\n              .build();\r\n     }\r\n\r\n   And the class making the call, where I am getting `Caused by: java.lang.NumberFormatException: For input string: javax.net.ssl.SSLHandshakeException:`\r\n\r\n\r\n    {\r\n       ResponseEntity&lt;String&gt; responseEntity;\r\n        try {\r\n            responseEntity = webClient.post()\r\n                    .uri(url)\r\n                    .body(BodyInserters.fromValue(valueString))\r\n                    .retrieve()\r\n                    .toEntity(String.class)\r\n                    .block();\r\n      }","title":"Java Spring Security WebClient Threw SSLHandshakeException when used with ServerOAuth2AuthorizedClientExchangeFilterFunction","body":"<p>I am trying to call a customer's endpoint to retrieve their data using WebClient. We have to use certificate when calling the endpoint. I configured the WebClient with filter (to handle auto-refresh of the access token) and also with httpclient taking the certificate as keyStore.  However, I am getting the <code>SSLHandshakeException</code>.  If I commented out the <code>filter(oauth)</code>, then I didn't get the  <code>SSLHandshakeException</code>.  Can someone please let me know how to let <code>ServerOAuth2AuthorizedClientExchangeFilterFunction</code> work with the keyStore setup? Thanks.</p>\n<pre><code>@Configuration\npublic class MyConfig {\n  @Bean\n  ReactiveClientRegistrationRepository clientRegistrations() {\n    ClientRegistration registration = \n      ClientRegistration.withRegistrationId(&quot;authProvider&quot;)\n                        .tokenUri(tokenUri)\n                        .clientId(clientId)\n                        .clientSecret(clientSecret)\n                        .scope(scope)\n                        .authorizationGrantType(AuthorizationGrantType.CLIENT_CREDENTIALS)\n                        .clientAuthenticationMethod(ClientAuthenticationMethod.CLIENT_SECRET_POST)\n                        .build();\n    \n      return new InMemoryReactiveClientRegistrationRepository(registration);\n      }\n\n    @Bean(name = &quot;mybean&quot;)\n    WebClient webClient(ReactiveClientRegistrationRepository clientRegistrations) {\n\n    ServerOAuth2AuthorizedClientExchangeFilterFunction oauth = \n       new ServerOAuth2AuthorizedClientExchangeFilterFunction(\n          new AuthorizedClientServiceReactiveOAuth2AuthorizedClientManager(\n              clientRegistrations, \n              new InMemoryReactiveOAuth2AuthorizedClientService(clientRegistrations)));\n\n    oauth.setDefaultClientRegistrationId(&quot;authProvider&quot;);\n\n    KeyStore keyStore = KeyStore.getInstance(&quot;jks&quot;);\n    keyStore.load(new ClassPathResource(keyStoreFilename).getInputStream(), keyStoreString.toCharArray());\n    KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n    keyManagerFactory.init(keyStore, keyStoreString.toCharArray());\n\n    SslContext sslContext = SslContextBuilder.forClient().keyManager(keyManagerFactory).build();\n\n    HttpClient httpClient = HttpClient.create().secure(sslSpec -&gt; sslSpec.sslContext(sslContext)); \n\n    return WebClient\n           .builder()\n           .filter(oauth) // if I commented it out, then it was working fine                    \n           .clientConnector(new ReactorClientHttpConnector(httpClient))\n           .defaultHeaders(httpHeaders -&gt; {\n                  httpHeaders.setContentType(MediaType.APPLICATION_JSON);\n                  httpHeaders.setAccept(List.of(MediaType.APPLICATION_JSON));\n                  httpHeaders.setBearerAuth(token);\n                    })\n          .build();\n }\n</code></pre>\n<p>And the class making the call, where I am getting <code>Caused by: java.lang.NumberFormatException: For input string: javax.net.ssl.SSLHandshakeException:</code></p>\n<pre><code>{\n   ResponseEntity&lt;String&gt; responseEntity;\n    try {\n        responseEntity = webClient.post()\n                .uri(url)\n                .body(BodyInserters.fromValue(valueString))\n                .retrieve()\n                .toEntity(String.class)\n                .block();\n  }\n</code></pre>\n"},{"tags":["java","ehcache"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1299583072,"post_id":5231267,"comment_id":5887459,"body_markdown":"I imagine the persistent store on your device isn&#39;t very fast and ehcache may not access it in the most light weight way possible for your device. It was written for systems with performant IO.","body":"I imagine the persistent store on your device isn&#39;t very fast and ehcache may not access it in the most light weight way possible for your device. It was written for systems with performant IO."},{"owner":{"account_id":91317,"reputation":389,"user_id":250816,"accept_rate":25,"display_name":"Leen Toelen"},"score":0,"creation_date":1299586327,"post_id":5231267,"comment_id":5888217,"body_markdown":"Hi,\n\nthis is the configuration I am using.\n\nConfiguration config = new Configuration();\nCacheConfiguration defaultCacheConfiguration = new CacheConfiguration();\ndefaultCacheConfiguration.setOverflowToDisk(false);\ndefaultCacheConfiguration.setDiskPersistent(false);\nconfig.setDefaultCacheConfiguration(defaultCacheConfiguration);\nconfig.setUpdateCheck(false);\n\n\nCacheManager mgr =  new CacheManager(config);\n\nWhich should never touch the disk unless I am wrong. This piece of code takes between 180 and 250 milliseconds on my machine. On the target machine this becomes half a minute.","body":"Hi,  this is the configuration I am using.  Configuration config = new Configuration(); CacheConfiguration defaultCacheConfiguration = new CacheConfiguration(); defaultCacheConfiguration.setOverflowToDisk(false); defaultCacheConfiguration.setDiskPersistent(false); config.setDefaultCacheConfiguration(defaultCacheConfiguratio&zwnj;&#8203;n); config.setUpdateCheck(false);   CacheManager mgr =  new CacheManager(config);  Which should never touch the disk unless I am wrong. This piece of code takes between 180 and 250 milliseconds on my machine. On the target machine this becomes half a minute."}],"answers":[{"tags":[],"owner":{"account_id":416944,"reputation":389,"user_id":792657,"accept_rate":20,"display_name":"Docent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684322303,"creation_date":1684322303,"answer_id":76271510,"question_id":5231267,"body_markdown":"Stumbled across the same problem just now.\r\n\r\nTurned out CacheManager.start() calls InetAddress.getLocalhost().\r\n\r\nNow, my box was named, say &quot;box2137&quot; (not localhost). I chose this name when installing RHEL.\r\n\r\nTurns out it was not added to /etc/hosts as 127.0.0.1/::1! When calling InetAddress.getLocalhost(), Java tried to DNS resolve &quot;box2137&quot; which took 30 seconds.\r\n\r\nAdding &quot;box2137&quot; to /etc/hosts solves the issue.","title":"CacheManager.create() very slow","body":"<p>Stumbled across the same problem just now.</p>\n<p>Turned out CacheManager.start() calls InetAddress.getLocalhost().</p>\n<p>Now, my box was named, say &quot;box2137&quot; (not localhost). I chose this name when installing RHEL.</p>\n<p>Turns out it was not added to /etc/hosts as 127.0.0.1/::1! When calling InetAddress.getLocalhost(), Java tried to DNS resolve &quot;box2137&quot; which took 30 seconds.</p>\n<p>Adding &quot;box2137&quot; to /etc/hosts solves the issue.</p>\n"}],"owner":{"account_id":91317,"reputation":389,"user_id":250816,"accept_rate":25,"display_name":"Leen Toelen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684322303,"creation_date":1299580396,"question_id":5231267,"body_markdown":"I am running an application using ehcache on an arm (arm5, no floating point unit) based machine, tested using both jamvm and openjdk and with a compact flash based rootfs (which is quite slow on this device). \r\n\r\nWhen I time CacheManager.create() this takes from 15 to 30 seconds. Even when I pass the default configuration as a parameter this still takes so long. The configuration disables all disk persistency, and checking for updates is disabled as well. Creating a new Cache is faster again.\r\n\r\nDoes anyone know what I can do to make the CacheManager faster or why it is so slow?\r\n\r\nRegards,\r\nLeen","title":"CacheManager.create() very slow","body":"<p>I am running an application using ehcache on an arm (arm5, no floating point unit) based machine, tested using both jamvm and openjdk and with a compact flash based rootfs (which is quite slow on this device). </p>\n\n<p>When I time CacheManager.create() this takes from 15 to 30 seconds. Even when I pass the default configuration as a parameter this still takes so long. The configuration disables all disk persistency, and checking for updates is disabled as well. Creating a new Cache is faster again.</p>\n\n<p>Does anyone know what I can do to make the CacheManager faster or why it is so slow?</p>\n\n<p>Regards,\nLeen</p>\n"},{"tags":["java","c#",".net","web-services","prometheus"],"answers":[{"comments":[{"owner":{"account_id":19115979,"reputation":414,"user_id":13960889,"display_name":"AndCode"},"score":0,"creation_date":1684369079,"post_id":76271449,"comment_id":134510105,"body_markdown":"In case of an additional server started specifically for metrics, it&#39;s starting in a separate thread of the web application, correct?","body":"In case of an additional server started specifically for metrics, it&#39;s starting in a separate thread of the web application, correct?"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1684387712,"post_id":76271449,"comment_id":134511545,"body_markdown":"@AndCode, requests to this server are processed by separate thread, if that&#39;s what you mean.","body":"@AndCode, requests to this server are processed by separate thread, if that&#39;s what you mean."}],"tags":[],"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684321855,"creation_date":1684321855,"answer_id":76271449,"question_id":76269133,"body_markdown":"It depends oh how you are using those libraries.\r\n\r\nFor example, as shown at [Quick start][1] of linked by you library, you can start additional server on separate port, just for purposes of exposing metrics.\r\n\r\nBut you also can expose metrics using your current routing, for example like shown at [ASP.NET Web API exporter][2] part of documentation.\r\n\r\n\r\n  [1]: https://github.com/prometheus-net/prometheus-net#quick-start\r\n  [2]: https://github.com/prometheus-net/prometheus-net#aspnet-web-api-exporter","title":"When adding Prometheus instrumentation with Java or .NET, is the web server for metrics running in a separate thread?","body":"<p>It depends oh how you are using those libraries.</p>\n<p>For example, as shown at <a href=\"https://github.com/prometheus-net/prometheus-net#quick-start\" rel=\"nofollow noreferrer\">Quick start</a> of linked by you library, you can start additional server on separate port, just for purposes of exposing metrics.</p>\n<p>But you also can expose metrics using your current routing, for example like shown at <a href=\"https://github.com/prometheus-net/prometheus-net#aspnet-web-api-exporter\" rel=\"nofollow noreferrer\">ASP.NET Web API exporter</a> part of documentation.</p>\n"}],"owner":{"account_id":19115979,"reputation":414,"user_id":13960889,"display_name":"AndCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76271449,"answer_count":1,"score":0,"last_activity_date":1684321855,"creation_date":1684305207,"question_id":76269133,"body_markdown":"When adding Prometheus instrumentation with a client library for Java https://github.com/prometheus/client_java or .NET https://github.com/prometheus-net/prometheus-net, does the instrumentation spin out a metrics web server in a separate thread of the microservice?\r\n\r\nWhat if the instrumented microservice is already running as a web server on port 80, can we expose metrics on a different port let&#39;s say 9001 with a separate instrumentation web server running in the same microservice? ","title":"When adding Prometheus instrumentation with Java or .NET, is the web server for metrics running in a separate thread?","body":"<p>When adding Prometheus instrumentation with a client library for Java <a href=\"https://github.com/prometheus/client_java\" rel=\"nofollow noreferrer\">https://github.com/prometheus/client_java</a> or .NET <a href=\"https://github.com/prometheus-net/prometheus-net\" rel=\"nofollow noreferrer\">https://github.com/prometheus-net/prometheus-net</a>, does the instrumentation spin out a metrics web server in a separate thread of the microservice?</p>\n<p>What if the instrumented microservice is already running as a web server on port 80, can we expose metrics on a different port let's say 9001 with a separate instrumentation web server running in the same microservice?</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":17717155,"reputation":527,"user_id":12863192,"display_name":"Ishan"},"score":2,"creation_date":1684318066,"post_id":76270806,"comment_id":134499738,"body_markdown":"Error message simply google translated to English says &quot;Connection error: User login error&quot;, and you are using `con = DriverManager.getConnection(url,&quot;&quot;,&quot;&quot;)` to connect to the DB, where username &amp; password are blank. So, the error could be related to that. Are you sure blank username with blank password will be able to connect to the DB?  Shouldn&#39;t the username be `sa` - if it is default installation, and its default password would also be there.","body":"Error message simply google translated to English says &quot;Connection error: User login error&quot;, and you are using <code>con = DriverManager.getConnection(url,&quot;&quot;,&quot;&quot;)</code> to connect to the DB, where username &amp; password are blank. So, the error could be related to that. Are you sure blank username with blank password will be able to connect to the DB?  Shouldn&#39;t the username be <code>sa</code> - if it is default installation, and its default password would also be there."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1684319910,"post_id":76270806,"comment_id":134500131,"body_markdown":"You should also not limit information available to you about the error. `ex.printStackTrace()` is what you want","body":"You should also not limit information available to you about the error. <code>ex.printStackTrace()</code> is what you want"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":2,"creation_date":1684322755,"post_id":76270806,"comment_id":134500715,"body_markdown":"try DriverManager.getConnection(url);","body":"try DriverManager.getConnection(url);"}],"owner":{"account_id":25084818,"reputation":1,"user_id":18978991,"display_name":"Quenuo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684321144,"creation_date":1684317288,"question_id":76270806,"body_markdown":"When running my code, I get the following error:\r\n\r\n&gt; Error de conexi�n: Error de inicio de sesi�n del usuario &#39;&#39;.\r\n&gt; ClientConnectionId:7d721444-7622-4951-a321-3607a1c7167a\r\n\r\nthis is the code:\r\n\r\n```\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Scanner;\r\npublic class Pokemon {\r\n\t/*Esto guarda en una variable local de tipo String llamado url\r\n    la e indica que se esta utilizando SQL Server en la misma m&#225;quina \r\n    en la que se est&#225; ejecutando el programa, en el puerto 3003, y que la base de \r\n    datos que se est&#225; utilizando se llama &quot;pokemondb&quot;\r\n    El trusted server es para que no tire  error de certificado*/\r\n\t private static final String driver=&quot;com.microsoft.sqlserver.jdbc.DriverJDBCVersion&quot;;\r\n\t  private static final String url = &quot;jdbc:sqlserver://localhost:3003;databaseName=pokemondb;Integrated Security=True;TrustServerCertificate=True&quot;;\r\n\t//jbd es una api de Java que permite establecer conexion de Java con SQl\r\n\tpublic static void main(String[] args) throws SQLException {\r\n\t\tConnection con=conexion();\r\n\t\tScanner escaner = new Scanner(System.in);\r\n\t\tboolean salir = false;//bandera para salir del menu\r\n\t\tint opcion; //Guardaremos la opcion del usuario\r\n\t\tdo\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;-------- Menu Principal--------&quot;);\r\n\t\t\tSystem.out.println(&quot;1 Mostrar todos los pokemons &quot;);\r\n\t\t\tSystem.out.println(&quot;2 Actualizar nombre del pokemon por su numero de la Pokedex &quot;);\r\n\t\t\tSystem.out.println(&quot;3 Borrar pokemon &quot;);\r\n\t\t\tSystem.out.println(&quot;4 Insertar nuevo pokemon &quot;);\r\n\t\t\tSystem.out.println(&quot;5 Mostrar todos los movimientos(incluyendo MT y MO) que puede apreder un pokemon&quot;);\r\n\t\t\tSystem.out.println(&quot;6 Filtrar los pokemon por tipos &quot;);\r\n\t\t\tSystem.out.println(&quot;7 Mostrar el n&#250;mero de movimientos de cada tipo &quot;);\r\n\t\t\tSystem.out.println(&quot;8 Salir &quot;);\r\n\t\t\tSystem.out.println(&quot;--------------------------------&quot;);\r\n\t\t\tSystem.out.println(&quot;Ingrese una opcion&quot;);\r\n\t\t\topcion=escaner.nextInt();\r\n\t\t\tswitch (opcion) {\r\n\t\t\tcase 1:\r\n\t\t\t\tmostrarPokemon();\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tSystem.out.println(&quot;Inserte el numero de la Pokedex&quot;);\r\n\t\t\t\tint id=escaner.nextInt();\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA EL NUEVO NOMBRE DEL POKEMON&quot;);\r\n\t\t\t\tString nombre=escaner.toString();\r\n\t\t\t\tactualizarPokemon(id,nombre );\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tSystem.out.println(&quot;Inserte el numero de la Pokedex&quot;);\r\n\t\t\t\tint id1=escaner.nextInt();\r\n\t\t\t\tborrarPokemon(id1);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 4:\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA EL NOMBRE DEL NUEVO POKEMON&quot;);\r\n\t\t\t\tString nombre1=escaner.toString();\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA EL PESO DEL POKEMON&quot;);\r\n\t\t\t\tFloat peso=escaner.nextFloat();\r\n\t\t\t\tSystem.out.println(&quot;INTRODUZCA LA ALTURA DEL NUEVO POKEMON&quot;);\r\n\t\t\t\tFloat altura=escaner.nextFloat();\r\n\t\t\t\tinsertarPokemon(nombre1, peso, altura);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 5:\r\n\t\t\t\tSystem.out.println(&quot;Introduce el numero de la pokedex&quot;);\r\n\t\t\t\tint n=escaner.nextInt();\r\n\t\t\t\tmostrarMovimiento(n);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 6:\r\n\t\t\t\tSystem.out.println(&quot;Introduce un tipo para filtrarlo&quot;);\r\n\t\t\t\tString tipo=escaner.toString();\r\n\t\t\t\tfiltrarTipo(tipo);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 7:\r\n\t\t\t\tSystem.out.println(&quot;Introduce un tipo&quot;);\r\n\t\t\t\tString tipo2=escaner.toString();\r\n\t\t\t\tfiltrarMovimiento(tipo2);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 8:\r\n\t\t\t\tsalir=true;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}while(!salir);//mientras salir no sea verdadero\r\n\t\tescaner.close();\r\n\t}\r\n\t\tpublic static void mostrarPokemon() throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString pokedex = &quot;SELECT NUMERO_POKEDEX,NOMBRE  FROM Pokemon&quot;;\r\n\t\t\tPreparedStatement ps =con.prepareStatement(pokedex);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()){//mientras que en la consulta de rs se obtengra una respuesta\r\n\t\t\t\tSystem.out.println(rs);//imprima la consulta de rs\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t\tpublic static String actualizarPokemon(int id, String nombre) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta = &quot;update Pokemon set NOMBRE=?  where NUMERO_POKEDEX=?&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setString(1, nombre);//establece el nombre del parametro nombre\r\n\t\t\tps.setInt(2, id);//establece el valor del parametro NUMERO_POKEDEX\r\n\t\t\treturn &quot;El nombre del pokemon con id &quot; + id + &quot; ha sido actualizado a &quot; + nombre;\r\n\t\t}\r\n\t\tpublic static String borrarPokemon(int id) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;delete  from Pokemon where NUMERO_POKEDEX= ?&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setInt(1, id);\r\n\t\t\treturn &quot;El pokemon con numero &quot;+id+&quot; has sido eliminado&quot;;\r\n\t\t}\r\n\t\tpublic static void insertarPokemon(String nombre,double peso, double altura) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\t String consulta = &quot;INSERT INTO Pokemon(NOMBRE, PESO, ALTURA) VALUES (?,?,?)&quot;;\r\n\t\t\t PreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\t ps.setString(1,nombre);\r\n\t\t\t ps.setDouble(2,peso);\r\n\t\t\t ps.setDouble(3,altura);\r\n\t\t\t String n = &quot;SELECT NUMERO_POKEDEX FROM Pokemon WHERE NOMBRE=?&quot;;\r\n\t\t\t PreparedStatement ps1=con.prepareStatement(n);\r\n\t\t\t ps1.setString(1,nombre);\r\n\t\t\t ResultSet rs=ps1.executeQuery();\r\n\t\t\t while(rs.next()) {\r\n\t\t\t\t System.out.println(&quot;Se ha insertado el nuevo pokemon con nombre &quot;+nombre+&quot; y numero de la pokedex &quot;+rs.getInt(&quot;Pokemon.NUMERO_POKEDEX&quot;));\r\n\t\t\t }\r\n\t\t\t   \r\n\t\t}\r\n\t\tprivate static void mostrarMovimiento(int n) throws SQLException{\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,m.NOMBRE from Pokemon p join Pokemon_Movimiento_Forma pmf on p.NUMERO_POKEDEX=pmf.NUMERO_POKEDEX  join Movimiento m on pmf.ID_MOVIMIENTO=m.ID_MOVIMIENTO  where p.NUMERO_POKEDEX=?&quot;;             \r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setInt(1, n);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tSystem.out.println(rs);\r\n\t\t\t}\r\n\t}\r\n\t\tprivate static void filtrarTipo(String t) throws SQLException {\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,p.PESO,p.ALTURA,t.nombre from pokemon p join Pokemon_Tipo pt on p.NUMERO_POKEDEX=pt.NUMERO_POKEDEX join Tipo t on pt.ID_TIPO=t.ID_TIPO  where t.nombre=?;&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setString(1,t);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tSystem.out.println(rs);\r\n\t\t\t}\r\n\t\t}\r\n\t\tprivate static void filtrarMovimiento(String t) throws SQLException {\r\n\t\t\tConnection con=conexion();\r\n\t\t\tString consulta=&quot;select t.nombre, count(t.nombre) AS \\&quot;Numeros de movimiento\\&quot; from Movimiento m join Tipo t on m.ID_TIPO=t.ID_TIPO where t.nombre=? group by t.nombre&quot;;\r\n\t\t\tPreparedStatement ps=con.prepareStatement(consulta);\r\n\t\t\tps.setString(1,t);\r\n\t\t\tResultSet rs=ps.executeQuery();\r\n\t\t\twhile(rs.next()) {\r\n\t\t\t\tSystem.out.println(rs);\r\n\t\t\t}\r\n\t\t}\t\r\n\t\t  public static Connection conexion()  {\r\n\t\t\t\tConnection con=null;\r\n\t\t\t\ttry {\r\n\t\t\t\t\tClass.forName(driver);\r\n\t\t\t\t\tcon = DriverManager.getConnection(url,&quot;&quot;,&quot;&quot;);/*establece una conexi&#243;n con la base de datos a trav&#233;s de JDBC (Java Database Connectivity), \r\n\t\t\t\t\t//utilizando la URL de conexi&#243;n especificada.DriverManager es una clase del paquete java.sql \r\n\t\t\t\t\tque se encarga de cargar y registrar el controlador JDBC apropiado, y devolver una instancia de Connection \r\n\t\t\t\t\tque representa una conexi&#243;n con la base de datos.*/\r\n\t\t\t\t\tSystem.out.println(&quot;Conexi&#243;n exitosa&quot;);\r\n\t\t\t\t\t\r\n\t\t\t    } catch (SQLException | ClassNotFoundException ex) {\r\n\t\t\t        System.out.println(&quot;Error de conexi&#243;n: &quot; + ex.getMessage());\r\n\t\t\t    }\r\n\t\t\t\treturn con;\t\t\t\t\r\n\t\t  }\r\n\t\t}\r\n```\r\nI&#39;m using the Windows login method and the port is 3003\r\nWhat do I have to change to make my code work?\r\n\r\n\r\n\r\n\r\nI am trying to establish a connection between java and the SQL Server pokemondb database. \r\nWhen I run the code I get this:\r\n\r\n&gt; Error de conexi�n: Error de inicio de sesi�n del usuario &#39;&#39;.\r\n&gt; ClientConnectionId:7d721444-7622-4951-a321-3607a1c7167a","title":"I can&#39;t connect java in eclipse to SQL Server","body":"<p>When running my code, I get the following error:</p>\n<blockquote>\n<p>Error de conexi�n: Error de inicio de sesi�n del usuario ''.\nClientConnectionId:7d721444-7622-4951-a321-3607a1c7167a</p>\n</blockquote>\n<p>this is the code:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Scanner;\npublic class Pokemon {\n    /*Esto guarda en una variable local de tipo String llamado url\n    la e indica que se esta utilizando SQL Server en la misma máquina \n    en la que se está ejecutando el programa, en el puerto 3003, y que la base de \n    datos que se está utilizando se llama &quot;pokemondb&quot;\n    El trusted server es para que no tire  error de certificado*/\n     private static final String driver=&quot;com.microsoft.sqlserver.jdbc.DriverJDBCVersion&quot;;\n      private static final String url = &quot;jdbc:sqlserver://localhost:3003;databaseName=pokemondb;Integrated Security=True;TrustServerCertificate=True&quot;;\n    //jbd es una api de Java que permite establecer conexion de Java con SQl\n    public static void main(String[] args) throws SQLException {\n        Connection con=conexion();\n        Scanner escaner = new Scanner(System.in);\n        boolean salir = false;//bandera para salir del menu\n        int opcion; //Guardaremos la opcion del usuario\n        do\n        {\n            System.out.println(&quot;-------- Menu Principal--------&quot;);\n            System.out.println(&quot;1 Mostrar todos los pokemons &quot;);\n            System.out.println(&quot;2 Actualizar nombre del pokemon por su numero de la Pokedex &quot;);\n            System.out.println(&quot;3 Borrar pokemon &quot;);\n            System.out.println(&quot;4 Insertar nuevo pokemon &quot;);\n            System.out.println(&quot;5 Mostrar todos los movimientos(incluyendo MT y MO) que puede apreder un pokemon&quot;);\n            System.out.println(&quot;6 Filtrar los pokemon por tipos &quot;);\n            System.out.println(&quot;7 Mostrar el número de movimientos de cada tipo &quot;);\n            System.out.println(&quot;8 Salir &quot;);\n            System.out.println(&quot;--------------------------------&quot;);\n            System.out.println(&quot;Ingrese una opcion&quot;);\n            opcion=escaner.nextInt();\n            switch (opcion) {\n            case 1:\n                mostrarPokemon();\n                break;\n            case 2:\n                System.out.println(&quot;Inserte el numero de la Pokedex&quot;);\n                int id=escaner.nextInt();\n                System.out.println(&quot;INTRODUZCA EL NUEVO NOMBRE DEL POKEMON&quot;);\n                String nombre=escaner.toString();\n                actualizarPokemon(id,nombre );\n                break;\n            case 3:\n                System.out.println(&quot;Inserte el numero de la Pokedex&quot;);\n                int id1=escaner.nextInt();\n                borrarPokemon(id1);\n                break;\n            case 4:\n                System.out.println(&quot;INTRODUZCA EL NOMBRE DEL NUEVO POKEMON&quot;);\n                String nombre1=escaner.toString();\n                System.out.println(&quot;INTRODUZCA EL PESO DEL POKEMON&quot;);\n                Float peso=escaner.nextFloat();\n                System.out.println(&quot;INTRODUZCA LA ALTURA DEL NUEVO POKEMON&quot;);\n                Float altura=escaner.nextFloat();\n                insertarPokemon(nombre1, peso, altura);\n                break;\n            case 5:\n                System.out.println(&quot;Introduce el numero de la pokedex&quot;);\n                int n=escaner.nextInt();\n                mostrarMovimiento(n);\n                break;\n            case 6:\n                System.out.println(&quot;Introduce un tipo para filtrarlo&quot;);\n                String tipo=escaner.toString();\n                filtrarTipo(tipo);\n                break;\n            case 7:\n                System.out.println(&quot;Introduce un tipo&quot;);\n                String tipo2=escaner.toString();\n                filtrarMovimiento(tipo2);\n                break;\n            case 8:\n                salir=true;\n                break;\n            default:\n                break;\n            }\n        }while(!salir);//mientras salir no sea verdadero\n        escaner.close();\n    }\n        public static void mostrarPokemon() throws SQLException{\n            Connection con=conexion();\n            String pokedex = &quot;SELECT NUMERO_POKEDEX,NOMBRE  FROM Pokemon&quot;;\n            PreparedStatement ps =con.prepareStatement(pokedex);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()){//mientras que en la consulta de rs se obtengra una respuesta\n                System.out.println(rs);//imprima la consulta de rs\n            }\n            \n            \n        }\n        public static String actualizarPokemon(int id, String nombre) throws SQLException{\n            Connection con=conexion();\n            String consulta = &quot;update Pokemon set NOMBRE=?  where NUMERO_POKEDEX=?&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setString(1, nombre);//establece el nombre del parametro nombre\n            ps.setInt(2, id);//establece el valor del parametro NUMERO_POKEDEX\n            return &quot;El nombre del pokemon con id &quot; + id + &quot; ha sido actualizado a &quot; + nombre;\n        }\n        public static String borrarPokemon(int id) throws SQLException{\n            Connection con=conexion();\n            String consulta=&quot;delete  from Pokemon where NUMERO_POKEDEX= ?&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setInt(1, id);\n            return &quot;El pokemon con numero &quot;+id+&quot; has sido eliminado&quot;;\n        }\n        public static void insertarPokemon(String nombre,double peso, double altura) throws SQLException{\n            Connection con=conexion();\n             String consulta = &quot;INSERT INTO Pokemon(NOMBRE, PESO, ALTURA) VALUES (?,?,?)&quot;;\n             PreparedStatement ps=con.prepareStatement(consulta);\n             ps.setString(1,nombre);\n             ps.setDouble(2,peso);\n             ps.setDouble(3,altura);\n             String n = &quot;SELECT NUMERO_POKEDEX FROM Pokemon WHERE NOMBRE=?&quot;;\n             PreparedStatement ps1=con.prepareStatement(n);\n             ps1.setString(1,nombre);\n             ResultSet rs=ps1.executeQuery();\n             while(rs.next()) {\n                 System.out.println(&quot;Se ha insertado el nuevo pokemon con nombre &quot;+nombre+&quot; y numero de la pokedex &quot;+rs.getInt(&quot;Pokemon.NUMERO_POKEDEX&quot;));\n             }\n               \n        }\n        private static void mostrarMovimiento(int n) throws SQLException{\n            Connection con=conexion();\n            String consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,m.NOMBRE from Pokemon p join Pokemon_Movimiento_Forma pmf on p.NUMERO_POKEDEX=pmf.NUMERO_POKEDEX  join Movimiento m on pmf.ID_MOVIMIENTO=m.ID_MOVIMIENTO  where p.NUMERO_POKEDEX=?&quot;;             \n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setInt(1, n);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                System.out.println(rs);\n            }\n    }\n        private static void filtrarTipo(String t) throws SQLException {\n            Connection con=conexion();\n            String consulta=&quot;select p.NUMERO_POKEDEX,p.NOMBRE,p.PESO,p.ALTURA,t.nombre from pokemon p join Pokemon_Tipo pt on p.NUMERO_POKEDEX=pt.NUMERO_POKEDEX join Tipo t on pt.ID_TIPO=t.ID_TIPO  where t.nombre=?;&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setString(1,t);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                System.out.println(rs);\n            }\n        }\n        private static void filtrarMovimiento(String t) throws SQLException {\n            Connection con=conexion();\n            String consulta=&quot;select t.nombre, count(t.nombre) AS \\&quot;Numeros de movimiento\\&quot; from Movimiento m join Tipo t on m.ID_TIPO=t.ID_TIPO where t.nombre=? group by t.nombre&quot;;\n            PreparedStatement ps=con.prepareStatement(consulta);\n            ps.setString(1,t);\n            ResultSet rs=ps.executeQuery();\n            while(rs.next()) {\n                System.out.println(rs);\n            }\n        }   \n          public static Connection conexion()  {\n                Connection con=null;\n                try {\n                    Class.forName(driver);\n                    con = DriverManager.getConnection(url,&quot;&quot;,&quot;&quot;);/*establece una conexión con la base de datos a través de JDBC (Java Database Connectivity), \n                    //utilizando la URL de conexión especificada.DriverManager es una clase del paquete java.sql \n                    que se encarga de cargar y registrar el controlador JDBC apropiado, y devolver una instancia de Connection \n                    que representa una conexión con la base de datos.*/\n                    System.out.println(&quot;Conexión exitosa&quot;);\n                    \n                } catch (SQLException | ClassNotFoundException ex) {\n                    System.out.println(&quot;Error de conexión: &quot; + ex.getMessage());\n                }\n                return con;             \n          }\n        }\n</code></pre>\n<p>I'm using the Windows login method and the port is 3003\nWhat do I have to change to make my code work?</p>\n<p>I am trying to establish a connection between java and the SQL Server pokemondb database.\nWhen I run the code I get this:</p>\n<blockquote>\n<p>Error de conexi�n: Error de inicio de sesi�n del usuario ''.\nClientConnectionId:7d721444-7622-4951-a321-3607a1c7167a</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13020607,"reputation":361,"user_id":9410164,"display_name":"ndriqa"},"score":0,"creation_date":1684319093,"post_id":76271027,"comment_id":134499951,"body_markdown":"Have you initialized the `TextView` you are using `setText()` on?","body":"Have you initialized the <code>TextView</code> you are using <code>setText()</code> on?"},{"owner":{"account_id":21518749,"reputation":13,"user_id":15860183,"display_name":"Atharv Nadkarni"},"score":0,"creation_date":1684319101,"post_id":76271027,"comment_id":134499956,"body_markdown":"How am I supposed to initialize it? I don&#39;t have an Layout file for the ListItem","body":"How am I supposed to initialize it? I don&#39;t have an Layout file for the ListItem"}],"answers":[{"tags":[],"owner":{"account_id":19774238,"reputation":46,"user_id":14480586,"display_name":"David Zhubrev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684320848,"creation_date":1684320848,"answer_id":76271312,"question_id":76271027,"body_markdown":"The problem is you do not initialize subjectNameTextView, so it is null. And after that, you are trying to call the textView&#39;s method on a null object reference.\r\nTry doing this:\r\n```\r\npublic class ListItem extends RelativeLayout {\r\n\r\n    public void setSubjectName() {\r\n        if (this.subjectName != null) {\r\n            if (this.subjectNameTextView == null){\r\n                this.subjectNameTextView = new TextView(context);\r\n            }\r\n            subjectNameTextView = new TextView(context);\r\n            addView(subjectNameTextView);\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n    }\r\n}\r\n```\r\nAlso, you can put text view initialization into your constructor, but be sure you call it if you have multiple constructors.\r\nThe context instance can be acquired from any view class instances, so you got it covered, because your ListItem extends View.","title":"Is there a way to include TextViews in custom views in Android?","body":"<p>The problem is you do not initialize subjectNameTextView, so it is null. And after that, you are trying to call the textView's method on a null object reference.\nTry doing this:</p>\n<pre><code>public class ListItem extends RelativeLayout {\n\n    public void setSubjectName() {\n        if (this.subjectName != null) {\n            if (this.subjectNameTextView == null){\n                this.subjectNameTextView = new TextView(context);\n            }\n            subjectNameTextView = new TextView(context);\n            addView(subjectNameTextView);\n            subjectNameTextView.setText(this.subjectName);\n        }\n    }\n}\n</code></pre>\n<p>Also, you can put text view initialization into your constructor, but be sure you call it if you have multiple constructors.\nThe context instance can be acquired from any view class instances, so you got it covered, because your ListItem extends View.</p>\n"},{"comments":[{"owner":{"account_id":13020607,"reputation":361,"user_id":9410164,"display_name":"ndriqa"},"score":0,"creation_date":1684321957,"post_id":76271316,"comment_id":134500552,"body_markdown":"This answer, together with David&#39;s answer, are not quite efficient, especially since you are going to use it in a list, judging by the class&#39;s name. The reason is that they instantiate `TextView` everytime you set the text. The best way to solve it is to instantiate the it in the `CONSTRUCTOR`, so you only do it once.","body":"This answer, together with David&#39;s answer, are not quite efficient, especially since you are going to use it in a list, judging by the class&#39;s name. The reason is that they instantiate <code>TextView</code> everytime you set the text. The best way to solve it is to instantiate the it in the <code>CONSTRUCTOR</code>, so you only do it once."},{"owner":{"account_id":21518749,"reputation":13,"user_id":15860183,"display_name":"Atharv Nadkarni"},"score":0,"creation_date":1684421957,"post_id":76271316,"comment_id":134517895,"body_markdown":"But @ndriqa which constructor?","body":"But @ndriqa which constructor?"},{"owner":{"account_id":21518749,"reputation":13,"user_id":15860183,"display_name":"Atharv Nadkarni"},"score":0,"creation_date":1684422008,"post_id":76271316,"comment_id":134517911,"body_markdown":"I have a constructor with only `context`, one with `context` and `attrs`, and one with `context`,`attrs`, and `defStyleAttr`","body":"I have a constructor with only <code>context</code>, one with <code>context</code> and <code>attrs</code>, and one with <code>context</code>,<code>attrs</code>, and <code>defStyleAttr</code>"},{"owner":{"account_id":13020607,"reputation":361,"user_id":9410164,"display_name":"ndriqa"},"score":0,"creation_date":1684481639,"post_id":76271316,"comment_id":134526596,"body_markdown":"Since your view AND the text view are both `View`s, you can init the `TextView` in each constructor, and pass all the parameters of each constructor, So, in the constructor with only `context` you init `subjectNameTextView = TextView(context)`, in the constructor with `context` and `attrs`, you init `subjectNameTextView = TextView(context, attrs)`, ...etc","body":"Since your view AND the text view are both <code>View</code>s, you can init the <code>TextView</code> in each constructor, and pass all the parameters of each constructor, So, in the constructor with only <code>context</code> you init <code>subjectNameTextView = TextView(context)</code>, in the constructor with <code>context</code> and <code>attrs</code>, you init <code>subjectNameTextView = TextView(context, attrs)</code>, ...etc"}],"tags":[],"owner":{"account_id":8458665,"reputation":267,"user_id":6345106,"display_name":"Adil Raza Bangash"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684320885,"creation_date":1684320885,"answer_id":76271316,"question_id":76271027,"body_markdown":"You are getting the nullPointerException because you did not initialized you textview &quot;subjectNameTextView&quot;. please change \r\n\r\n    public class ListItem extends View {\r\n\r\n    private String subjectName;\r\n    private int backgroundColor;\r\n    TextView subjectNameTextView;\r\n\r\n    public void setSubjectName() {\r\n        if (this.subjectName != null) {\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n    }\r\n\r\n    public void setColor() {\r\n        if (this.backgroundColor != 0) {\r\n            this.setBackgroundColor(this.backgroundColor);\r\n        }\r\n    }\r\n    }\r\n\r\nto \r\n\r\n    public class ListItem extends View {\r\n\r\n    private String subjectName;\r\n    private int backgroundColor;\r\n    TextView subjectNameTextView;\r\n\r\n    public void setSubjectName() {\r\n     subjectNameTextView = new TextView(this); // this code you have to add\r\n        if (this.subjectName != null) {\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n    }\r\n\r\n    public void setColor() {\r\n        if (this.backgroundColor != 0) {\r\n            this.setBackgroundColor(this.backgroundColor);\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Is there a way to include TextViews in custom views in Android?","body":"<p>You are getting the nullPointerException because you did not initialized you textview &quot;subjectNameTextView&quot;. please change</p>\n<pre><code>public class ListItem extends View {\n\nprivate String subjectName;\nprivate int backgroundColor;\nTextView subjectNameTextView;\n\npublic void setSubjectName() {\n    if (this.subjectName != null) {\n        subjectNameTextView.setText(this.subjectName);\n    }\n}\n\npublic void setColor() {\n    if (this.backgroundColor != 0) {\n        this.setBackgroundColor(this.backgroundColor);\n    }\n}\n}\n</code></pre>\n<p>to</p>\n<pre><code>public class ListItem extends View {\n\nprivate String subjectName;\nprivate int backgroundColor;\nTextView subjectNameTextView;\n\npublic void setSubjectName() {\n subjectNameTextView = new TextView(this); // this code you have to add\n    if (this.subjectName != null) {\n        subjectNameTextView.setText(this.subjectName);\n    }\n}\n\npublic void setColor() {\n    if (this.backgroundColor != 0) {\n        this.setBackgroundColor(this.backgroundColor);\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":21518749,"reputation":13,"user_id":15860183,"display_name":"Atharv Nadkarni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76271316,"answer_count":2,"score":0,"last_activity_date":1684320885,"creation_date":1684318789,"question_id":76271027,"body_markdown":"so I am trying to make a ListItem in an App that I am making, and I want it to look something like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen I hop into my layout.xml file, without the ListItem, the preview renders properly and so does the app.\r\n\r\n\r\n[![enter image description here][2]][2][![enter image description here][3]][3]\r\n\r\n\r\nHowever with the ListItem, the preview and app do not render.\r\n\r\n[![enter image description here][5]][5][![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W26Vy.png\r\n  [2]: https://i.stack.imgur.com/VxhFVl.png\r\n  [3]: https://i.stack.imgur.com/oOGj5l.png\r\n  [4]: https://i.stack.imgur.com/jfbr3l.png\r\n  [5]: https://i.stack.imgur.com/Qcj2Al.png\r\n\r\nThe error was \r\n```\r\nError inflating class ListItem\r\n```\r\nwhich was caused by\r\n```\r\nAttempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n```\r\n\r\nSo it had to be something with the TextView.\r\n\r\nHere is my code (I just removed all imports and constructors):\r\n```java\r\npublic class ListItem extends View {\r\n\r\n    private String subjectName;\r\n    private int backgroundColor;\r\n    TextView subjectNameTextView;\r\n\r\n    public void setSubjectName() {\r\n        if (this.subjectName != null) {\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n    }\r\n\r\n    public void setColor() {\r\n        if (this.backgroundColor != 0) {\r\n            this.setBackgroundColor(this.backgroundColor);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere is `activity_maths.xml` if needed.\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MathsActivity&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello!&quot;\r\n        android:textSize=&quot;50sp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;com.atharvnadkarni.funlurn.ListItem\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; app:title=&quot;Text&quot; /&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nAlright everyone, I found another post that said to do `addView` on a `ViewGroup`, so I changed my `setSubjectName` function to this:\r\n\r\n```java\r\npublic class ListItem extends RelativeLayout {\r\n\r\n    public void setSubjectName() {\r\n        if (this.subjectName != null) {\r\n            addView(subjectNameTextView);\r\n            subjectNameTextView.setText(this.subjectName);\r\n        }\r\n}\r\n}\r\n```\r\nBut this does not work, and shows that you\r\n```Cannot add a null child view to a ViewGroup```","title":"Is there a way to include TextViews in custom views in Android?","body":"<p>so I am trying to make a ListItem in an App that I am making, and I want it to look something like this:</p>\n<p><a href=\"https://i.stack.imgur.com/W26Vy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W26Vy.png\" alt=\"enter image description here\" /></a></p>\n<p>When I hop into my layout.xml file, without the ListItem, the preview renders properly and so does the app.</p>\n<p><a href=\"https://i.stack.imgur.com/VxhFVl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VxhFVl.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/oOGj5l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oOGj5l.png\" alt=\"enter image description here\" /></a></p>\n<p>However with the ListItem, the preview and app do not render.</p>\n<p><a href=\"https://i.stack.imgur.com/Qcj2Al.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qcj2Al.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/jfbr3l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jfbr3l.png\" alt=\"enter image description here\" /></a></p>\n<p>The error was</p>\n<pre><code>Error inflating class ListItem\n</code></pre>\n<p>which was caused by</p>\n<pre><code>Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n</code></pre>\n<p>So it had to be something with the TextView.</p>\n<p>Here is my code (I just removed all imports and constructors):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListItem extends View {\n\n    private String subjectName;\n    private int backgroundColor;\n    TextView subjectNameTextView;\n\n    public void setSubjectName() {\n        if (this.subjectName != null) {\n            subjectNameTextView.setText(this.subjectName);\n        }\n    }\n\n    public void setColor() {\n        if (this.backgroundColor != 0) {\n            this.setBackgroundColor(this.backgroundColor);\n        }\n    }\n}\n</code></pre>\n<p>Here is <code>activity_maths.xml</code> if needed.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MathsActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Hello!&quot;\n        android:textSize=&quot;50sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;com.atharvnadkarni.funlurn.ListItem\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; app:title=&quot;Text&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Alright everyone, I found another post that said to do <code>addView</code> on a <code>ViewGroup</code>, so I changed my <code>setSubjectName</code> function to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ListItem extends RelativeLayout {\n\n    public void setSubjectName() {\n        if (this.subjectName != null) {\n            addView(subjectNameTextView);\n            subjectNameTextView.setText(this.subjectName);\n        }\n}\n}\n</code></pre>\n<p>But this does not work, and shows that you\n<code>Cannot add a null child view to a ViewGroup</code></p>\n"},{"tags":["java","static"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1684306552,"post_id":76269245,"comment_id":134497160,"body_markdown":"You should be able to get it from the stack trace which you can get via `Thread.currentThread().getStackTrace()`.","body":"You should be able to get it from the stack trace which you can get via <code>Thread.currentThread().getStackTrace()</code>."}],"answers":[{"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684309681,"post_id":76269282,"comment_id":134497820,"body_markdown":"really *schauderhaft* ;-)  better use [`Thread#getStackTrace`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#getStackTrace())  instead of throwing and catching an Exception","body":"really <i>schauderhaft</i> ;-)  better use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#getStackTrace()\" rel=\"nofollow noreferrer\"><code>Thread#getStackTrace</code></a>  instead of throwing and catching an Exception"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684313868,"post_id":76269282,"comment_id":134498774,"body_markdown":"Why not analyze the stack trace right after you created the exception? Throwing and catching the exception does not add anything useful to the process. Of course, it’s even clearer when you call [`Thread.getStackTrace()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#getStackTrace()). That method also does just `new Exception().getStackTrace()` under the hood, but using the method better documents the intention. Or use [`StackWalker`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StackWalker.html) to only process *one* stack frame.","body":"Why not analyze the stack trace right after you created the exception? Throwing and catching the exception does not add anything useful to the process. Of course, it’s even clearer when you call <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Thread.html#getStackTrace()\" rel=\"nofollow noreferrer\"><code>Thread.getStackTrace()</code></a>. That method also does just <code>new Exception().getStackTrace()</code> under the hood, but using the method better documents the intention. Or use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StackWalker.html\" rel=\"nofollow noreferrer\"><code>StackWalker</code></a> to only process <i>one</i> stack frame."}],"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684319700,"creation_date":1684306519,"answer_id":76269282,"question_id":76269245,"body_markdown":"You can get the current stack trace from `Thread.currentThread().getStackTrace()` and analyse it to get the information you need.\r\n\r\nThanks to _user16320675_ and _Holger_ who pointed out that my initial solution was uneccessary complex.\r\n ","title":"Static method to get method name","body":"<p>You can get the current stack trace from <code>Thread.currentThread().getStackTrace()</code> and analyse it to get the information you need.</p>\n<p>Thanks to <em>user16320675</em> and <em>Holger</em> who pointed out that my initial solution was uneccessary complex.</p>\n"}],"owner":{"account_id":27089847,"reputation":17,"user_id":20637812,"display_name":"pawello12"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684306528,"answer_count":1,"score":0,"last_activity_date":1684319700,"creation_date":1684306219,"question_id":76269245,"body_markdown":"is there a good way to create a utils that we will call the name of the method in which it was used?\r\n\r\n        @NoArgsConstructor(access = PRIVATE)\r\n        public class NameUtils {\r\n        \r\n        public static String getMethodName(){\r\n        ...\r\n        }\r\n        }\r\n        \r\n        public class MyClass {\r\n        \r\n        public void methodName(){\r\n        \r\n        String name = NameUtils.getMethodName()   //should return &#39;methodName&#39;\r\n        }\r\n        }","title":"Static method to get method name","body":"<p>is there a good way to create a utils that we will call the name of the method in which it was used?</p>\n<pre><code>    @NoArgsConstructor(access = PRIVATE)\n    public class NameUtils {\n    \n    public static String getMethodName(){\n    ...\n    }\n    }\n    \n    public class MyClass {\n    \n    public void methodName(){\n    \n    String name = NameUtils.getMethodName()   //should return 'methodName'\n    }\n    }\n</code></pre>\n"},{"tags":["java","email","microsoft-graph-mail","change-notification"],"owner":{"account_id":27081170,"reputation":13,"user_id":20630313,"display_name":"Pankaj Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684319566,"creation_date":1684319169,"question_id":76271096,"body_markdown":"I want to get the Microsoft email notification in my java program. I am using change notification of Microsoft Graph API to get notified whenever new email gets received.\r\nI have information like Secret ID, Value, client_id and tenant_id. \r\n\r\nI have written a code to subscribe the emails but getting issues.\r\n\r\nCode :\r\n\r\n```public class GraphSubscription {\r\n\r\n\tpublic static void main(String[] args) throws ParseException {\r\n\r\n\t\tfinal ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\r\n\t\t\t\t.clientId(&quot;**** client ID ****&quot;)\r\n\t\t\t\t.clientSecret(&quot;**** client secret ****&quot;)\r\n\t\t\t\t.tenantId(&quot;**** tenantID ****&quot;).build();\r\n\r\n\t\tList&lt;String&gt; scope = new ArrayList&lt;&gt;();\r\n\t\tscope.add(&quot;.default&quot;);\r\n\t\tfinal TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scope,\r\n\t\t\t\tclientSecretCredential);\r\n\r\n\t\tfinal GraphServiceClient graphClient = GraphServiceClient.builder()\r\n\t\t\t\t.authenticationProvider(tokenCredentialAuthProvider).buildClient();\r\n\r\n\t\tfinal User me = graphClient.me().buildRequest().get();\r\n\r\n\t\tSubscription subscription = new Subscription();\r\n\t\tsubscription.changeType = &quot;created,updated&quot;;\r\n\t\tsubscription.notificationUrl = &quot;https://webhook.azurewebsites.net/notificationClient&quot;;\r\n\t\tsubscription.lifecycleNotificationUrl = &quot;https://webhook.azurewebsites.net/api/lifecycleNotifications&quot;;\r\n\t\tsubscription.resource = &quot;/me/mailfolders(&#39;inbox&#39;)/messages&quot;;\r\n\t\tsubscription.expirationDateTime = OffsetDateTimeSerializer.deserialize(&quot;2024-03-20T11:00:00Z&quot;);\r\n\t\tsubscription.clientState = &quot;SecretClientState&quot;;\r\n\r\n\t\tgraphClient.subscriptions().buildRequest().post(subscription);\r\n\r\n\t}\r\n}```\r\n\r\nAfter starting the java application, I am getting error as,\r\n\r\n15:48:18.633 [main] DEBUG reactor.util.Loggers - Using Slf4j logging framework\r\n15:48:19.101 [main] DEBUG com.azure.core.implementation.util.Providers - Using com.azure.core.http.okhttp.OkHttpAsyncClientProvider as the default com.azure.core.http.HttpClientProvider.\r\n15:48:19.729 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.ConfidentialClientApplication - [Correlation ID: 701314f0-c33f-465b-9102-463be729a515] Execution of class com.microsoft.aad.msal4j.AcquireTokenSilentSupplier failed.\r\ncom.microsoft.aad.msal4j.MsalClientException: Token not found in the cache\r\n\tat com.microsoft.aad.msal4j.AcquireTokenSilentSupplier.execute(AcquireTokenSilentSupplier.java:98)\r\n\tat com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\r\n\tat com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\r\n\tat java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\n15:48:19.740 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.AcquireTokenByClientCredentialSupplier - SkipCache set to false. Attempting cache lookup\r\n15:48:19.740 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.AcquireTokenByClientCredentialSupplier - Cache lookup failed: Token not found in the cache\r\n15:48:20.043 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.ConfidentialClientApplication - [Correlation ID: bcbf5e5d-09f7-4bdd-818f-353fbcfd2ea3] Access Token was returned\r\n15:48:20.044 [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [.default]: SUCCESS\r\nMay 17, 2023 3:48:20 PM com.microsoft.graph.logger.DefaultLogger logError\r\nSEVERE: CoreHttpProvider[sendRequestInternal] - 408Graph service exception\r\nMay 17, 2023 3:48:20 PM com.microsoft.graph.logger.DefaultLogger logError\r\nSEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\r\nError message: /me request is only valid with delegated authentication flow.\r\n\r\nGET https://graph.microsoft.com/v1.0/me\r\nSdkVersion : graph-java/v5.54.0\r\n\r\n\r\n400 : Bad Request\r\n[...]\r\n\r\n[Some information was truncated for brevity, enable debug logging for more details]\r\nException in thread &quot;main&quot; com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\r\nError message: /me request is only valid with delegated authentication flow.\r\n\r\nGET https://graph.microsoft.com/v1.0/me\r\nSdkVersion : graph-java/v5.54.0\r\n\r\n\r\n400 : Bad Request\r\n[...]\r\n\r\n[Some information was truncated for brevity, enable debug logging for more details]\r\n\tat com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:419)\r\n\tat com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:378)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.handleErrorResponse(CoreHttpProvider.java:512)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.processResponse(CoreHttpProvider.java:442)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:408)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\r\n\tat com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\r\n\tat com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\r\n\tat com.microsoft.graph.requests.UserRequest.get(UserRequest.java:72)\r\n\tat com.nib.plp.controller.GraphSubscription.main(GraphSubscription.java:37)\r\n\r\n\r\nKindly suggest if any changes are required to be made.\r\nYour help is really appreciate as it is extremely important for me to implement.","title":"Using Graph Api to use change notification for emails. facing error as &quot; Token not found in the cache&quot;","body":"<p>I want to get the Microsoft email notification in my java program. I am using change notification of Microsoft Graph API to get notified whenever new email gets received.\nI have information like Secret ID, Value, client_id and tenant_id.</p>\n<p>I have written a code to subscribe the emails but getting issues.</p>\n<p>Code :</p>\n<pre><code>\n    public static void main(String[] args) throws ParseException {\n\n        final ClientSecretCredential clientSecretCredential = new ClientSecretCredentialBuilder()\n                .clientId(&quot;**** client ID ****&quot;)\n                .clientSecret(&quot;**** client secret ****&quot;)\n                .tenantId(&quot;**** tenantID ****&quot;).build();\n\n        List&lt;String&gt; scope = new ArrayList&lt;&gt;();\n        scope.add(&quot;.default&quot;);\n        final TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scope,\n                clientSecretCredential);\n\n        final GraphServiceClient graphClient = GraphServiceClient.builder()\n                .authenticationProvider(tokenCredentialAuthProvider).buildClient();\n\n        final User me = graphClient.me().buildRequest().get();\n\n        Subscription subscription = new Subscription();\n        subscription.changeType = &quot;created,updated&quot;;\n        subscription.notificationUrl = &quot;https://webhook.azurewebsites.net/notificationClient&quot;;\n        subscription.lifecycleNotificationUrl = &quot;https://webhook.azurewebsites.net/api/lifecycleNotifications&quot;;\n        subscription.resource = &quot;/me/mailfolders('inbox')/messages&quot;;\n        subscription.expirationDateTime = OffsetDateTimeSerializer.deserialize(&quot;2024-03-20T11:00:00Z&quot;);\n        subscription.clientState = &quot;SecretClientState&quot;;\n\n        graphClient.subscriptions().buildRequest().post(subscription);\n\n    }\n}```\n\nAfter starting the java application, I am getting error as,\n\n15:48:18.633 [main] DEBUG reactor.util.Loggers - Using Slf4j logging framework\n15:48:19.101 [main] DEBUG com.azure.core.implementation.util.Providers - Using com.azure.core.http.okhttp.OkHttpAsyncClientProvider as the default com.azure.core.http.HttpClientProvider.\n15:48:19.729 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.ConfidentialClientApplication - [Correlation ID: 701314f0-c33f-465b-9102-463be729a515] Execution of class com.microsoft.aad.msal4j.AcquireTokenSilentSupplier failed.\ncom.microsoft.aad.msal4j.MsalClientException: Token not found in the cache\n    at com.microsoft.aad.msal4j.AcquireTokenSilentSupplier.execute(AcquireTokenSilentSupplier.java:98)\n    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:69)\n    at com.microsoft.aad.msal4j.AuthenticationResultSupplier.get(AuthenticationResultSupplier.java:18)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)\n    at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.exec(CompletableFuture.java:1760)\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\n15:48:19.740 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.AcquireTokenByClientCredentialSupplier - SkipCache set to false. Attempting cache lookup\n15:48:19.740 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.AcquireTokenByClientCredentialSupplier - Cache lookup failed: Token not found in the cache\n15:48:20.043 [ForkJoinPool.commonPool-worker-1] DEBUG com.microsoft.aad.msal4j.ConfidentialClientApplication - [Correlation ID: bcbf5e5d-09f7-4bdd-818f-353fbcfd2ea3] Access Token was returned\n15:48:20.044 [ForkJoinPool.commonPool-worker-1] INFO com.azure.identity.ClientSecretCredential - Azure Identity =&gt; getToken() result for scopes [.default]: SUCCESS\nMay 17, 2023 3:48:20 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: CoreHttpProvider[sendRequestInternal] - 408Graph service exception\nMay 17, 2023 3:48:20 PM com.microsoft.graph.logger.DefaultLogger logError\nSEVERE: Throwable detail: com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\nError message: /me request is only valid with delegated authentication flow.\n\nGET https://graph.microsoft.com/v1.0/me\nSdkVersion : graph-java/v5.54.0\n\n\n400 : Bad Request\n[...]\n\n[Some information was truncated for brevity, enable debug logging for more details]\nException in thread &quot;main&quot; com.microsoft.graph.http.GraphServiceException: Error code: BadRequest\nError message: /me request is only valid with delegated authentication flow.\n\nGET https://graph.microsoft.com/v1.0/me\nSdkVersion : graph-java/v5.54.0\n\n\n400 : Bad Request\n[...]\n\n[Some information was truncated for brevity, enable debug logging for more details]\n    at com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:419)\n    at com.microsoft.graph.http.GraphServiceException.createFromResponse(GraphServiceException.java:378)\n    at com.microsoft.graph.http.CoreHttpProvider.handleErrorResponse(CoreHttpProvider.java:512)\n    at com.microsoft.graph.http.CoreHttpProvider.processResponse(CoreHttpProvider.java:442)\n    at com.microsoft.graph.http.CoreHttpProvider.sendRequestInternal(CoreHttpProvider.java:408)\n    at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:225)\n    at com.microsoft.graph.http.CoreHttpProvider.send(CoreHttpProvider.java:202)\n    at com.microsoft.graph.http.BaseRequest.send(BaseRequest.java:335)\n    at com.microsoft.graph.requests.UserRequest.get(UserRequest.java:72)\n    at com.nib.plp.controller.GraphSubscription.main(GraphSubscription.java:37)\n\n\nKindly suggest if any changes are required to be made.\nYour help is really appreciate as it is extremely important for me to implement.\n</code></pre>\n"},{"tags":["java","sql","snowflake-cloud-data-platform"],"answers":[{"tags":[],"owner":{"account_id":18733535,"reputation":8774,"user_id":13658399,"display_name":"NickW"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684317761,"creation_date":1684317761,"answer_id":76270874,"question_id":76270299,"body_markdown":"Assuming that you don&#39;t need to further process the data in your Java code (in a way that is not possible in Snowflake) and ignoring the fact that there are a large number of unknown variables implicit in your question, then doing it all in Snowflake will almost certainly perform better - Snowflake is an engine specifically designed to process data in the way you&#39;ve described; Java is a generic coding language","title":"Doing calculations in Snowflake VS. in Java","body":"<p>Assuming that you don't need to further process the data in your Java code (in a way that is not possible in Snowflake) and ignoring the fact that there are a large number of unknown variables implicit in your question, then doing it all in Snowflake will almost certainly perform better - Snowflake is an engine specifically designed to process data in the way you've described; Java is a generic coding language</p>\n"}],"owner":{"account_id":12241772,"reputation":129,"user_id":8934639,"display_name":"Chedva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76270874,"answer_count":1,"score":0,"last_activity_date":1684317761,"creation_date":1684314008,"question_id":76270299,"body_markdown":"Asummed I have several not big tables (thousands of records maximum, ~10 columns), and I need to join them and do more aggregations like count and group by; what is preferred, in terms of performance: doing the joins and aggregations in Snowflake, or fetching the data as is from Snowflake and doing the joins and aggregations in Java code?\r\n","title":"Doing calculations in Snowflake VS. in Java","body":"<p>Asummed I have several not big tables (thousands of records maximum, ~10 columns), and I need to join them and do more aggregations like count and group by; what is preferred, in terms of performance: doing the joins and aggregations in Snowflake, or fetching the data as is from Snowflake and doing the joins and aggregations in Java code?</p>\n"},{"tags":["java","generics","class","literals"],"answers":[{"comments":[{"owner":{"account_id":78421,"reputation":18825,"user_id":223201,"accept_rate":89,"display_name":"Tom"},"score":1,"creation_date":1267832894,"post_id":2390682,"comment_id":2369210,"body_markdown":"Aha! This makes more sense. I figured that the class literal on a generic wouldn&#39;t even make much sense, but I had no idea that it was due to this. Thanks!","body":"Aha! This makes more sense. I figured that the class literal on a generic wouldn&#39;t even make much sense, but I had no idea that it was due to this. Thanks!"},{"owner":{"account_id":366845,"reputation":626,"user_id":712640,"accept_rate":18,"display_name":"DhafirNz"},"score":17,"creation_date":1432511751,"post_id":2390682,"comment_id":48943858,"body_markdown":"`List&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();\n\nList&lt;String&gt; list2 = (List&lt;String&gt;)list1; \nlist2.add(&quot;foo&quot;); // perfectly legal`\n\nYou can;t do that in Java, you get type mismatch compilation error !","body":"<code>List&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();  List&lt;String&gt; list2 = (List&lt;String&gt;)list1;  list2.add(&quot;foo&quot;); &#47;&#47; perfectly legal</code>  You can;t do that in Java, you get type mismatch compilation error !"},{"owner":{"account_id":2512449,"reputation":15802,"user_id":2184584,"accept_rate":46,"display_name":"Christopher Francisco"},"score":8,"creation_date":1442245712,"post_id":2390682,"comment_id":52992913,"body_markdown":"so... what do I do if I need one?","body":"so... what do I do if I need one?"},{"owner":{"account_id":2977475,"reputation":191,"user_id":2528241,"accept_rate":42,"display_name":"kftse"},"score":2,"creation_date":1461232746,"post_id":2390682,"comment_id":61110044,"body_markdown":"You can always fool the compiler by `List&lt;String&gt; list2 = (List&lt;String&gt;) (Object) list1;`","body":"You can always fool the compiler by <code>List&lt;String&gt; list2 = (List&lt;String&gt;) (Object) list1;</code>"},{"owner":{"account_id":206479,"reputation":11678,"user_id":455796,"accept_rate":67,"display_name":"Damn Vegetables"},"score":26,"creation_date":1478416520,"post_id":2390682,"comment_id":68139915,"body_markdown":"Yet another &quot;It just works in C#, but not in Java&quot; for me. I am deserialising a JSON object, and typeof(List&lt;MyClass&gt;) works perfectly fine in C#, but List&lt;MyClass&gt;.class is a syntax error in Java. Yes, there is a logical explanation for that as usual as Cletus wrote, but I always wonder why all those things just work in C#.","body":"Yet another &quot;It just works in C#, but not in Java&quot; for me. I am deserialising a JSON object, and typeof(List&lt;MyClass&gt;) works perfectly fine in C#, but List&lt;MyClass&gt;.class is a syntax error in Java. Yes, there is a logical explanation for that as usual as Cletus wrote, but I always wonder why all those things just work in C#."},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1497303370,"post_id":2390682,"comment_id":76011385,"body_markdown":"@ChristopherFrancisco see the comment by kftse that follows yours, and more directly, the separate Answer by slaurent.","body":"@ChristopherFrancisco see the comment by kftse that follows yours, and more directly, the separate Answer by slaurent."},{"owner":{"account_id":1949626,"reputation":13702,"user_id":1754020,"accept_rate":87,"display_name":"Eddie Martinez"},"score":5,"creation_date":1501095058,"post_id":2390682,"comment_id":77632350,"body_markdown":"what do you mean it perfectly legal? That part of the code doesn&#39;t compile?","body":"what do you mean it perfectly legal? That part of the code doesn&#39;t compile?"},{"owner":{"account_id":2477902,"reputation":124,"user_id":2158122,"display_name":"Mohannad"},"score":1,"creation_date":1575614579,"post_id":2390682,"comment_id":104633412,"body_markdown":"@DamnVegetables If you&#39;re just trying to deserialize you can deserialize using MyClass[].class as that actually exists and it will deserialize properly.","body":"@DamnVegetables If you&#39;re just trying to deserialize you can deserialize using MyClass[].class as that actually exists and it will deserialize properly."}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":8,"down_vote_count":2,"up_vote_count":196,"is_accepted":true,"score":194,"last_activity_date":1501048149,"creation_date":1267832342,"answer_id":2390682,"question_id":2390662,"body_markdown":"You can&#39;t due to [type erasure][1].\r\n\r\nJava generics are little more than syntactic sugar for Object casts. To demonstrate:\r\n\r\n    List&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();\r\n    List&lt;String&gt; list2 = (List&lt;String&gt;)list1;\r\n    list2.add(&quot;foo&quot;); // perfectly legal\r\n\r\nThe only instance where generic type information is retained at runtime is with [`Field.getGenericType()`][2] if interrogating a class&#39;s members via reflection.\r\n\r\nAll of this is why [`Object.getClass()`][3] has this signature:\r\n\r\n    public final native Class&lt;?&gt; getClass();\r\n\r\nThe important part being `Class&lt;?&gt;`.\r\n\r\nTo put it another way, from the [Java Generics FAQ][4]:\r\n\r\n&gt; ## Why is there no class literal for concrete parameterized types?   \r\n&gt; ***Because parameterized type has no exact runtime type representation.***\r\n&gt; \r\n&gt; A class literal denotes a `Class`\r\n&gt; object that represents a given type.\r\n&gt; For instance, the class literal\r\n&gt; `String.class` denotes the `Class`\r\n&gt; object that represents the type\r\n&gt; `String` and is identical to the\r\n&gt; `Class` object that is returned when\r\n&gt; method `getClass` is invoked on a\r\n&gt; `String` object. A class literal can\r\n&gt; be used for runtime type checks and\r\n&gt; for reflection. \r\n&gt; \r\n&gt; Parameterized types lose their type\r\n&gt; arguments when they are translated to\r\n&gt; byte code during compilation in a\r\n&gt; process called type erasure . As a\r\n&gt; side effect of type erasure, all \r\n&gt; instantiations of a generic type share\r\n&gt; the same runtime representation,\r\n&gt; namely that of the corresponding raw\r\n&gt; type .  In other words, parameterized\r\n&gt; types do not have type representation\r\n&gt; of their own. Consequently, there is\r\n&gt; no point in forming class literals\r\n&gt; such as `List&lt;String&gt;.class` ,\r\n&gt; `List&lt;Long&gt;.class` and `List&lt;?&gt;.class`\r\n&gt; , since no such `Class` objects exist.\r\n&gt; Only the raw type `List` has a `Class`\r\n&gt; object that represents its runtime\r\n&gt; type. It is referred to as\r\n&gt; `List.class`.\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/java/generics/erasure.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html#getGenericType()\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#getClass()\r\n  [4]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ106","title":"Java: how do I get a class literal from a generic type?","body":"<p>You can't due to <a href=\"http://java.sun.com/docs/books/tutorial/java/generics/erasure.html\" rel=\"noreferrer\">type erasure</a>.</p>\n\n<p>Java generics are little more than syntactic sugar for Object casts. To demonstrate:</p>\n\n<pre><code>List&lt;Integer&gt; list1 = new ArrayList&lt;Integer&gt;();\nList&lt;String&gt; list2 = (List&lt;String&gt;)list1;\nlist2.add(\"foo\"); // perfectly legal\n</code></pre>\n\n<p>The only instance where generic type information is retained at runtime is with <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html#getGenericType()\" rel=\"noreferrer\"><code>Field.getGenericType()</code></a> if interrogating a class's members via reflection.</p>\n\n<p>All of this is why <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html#getClass()\" rel=\"noreferrer\"><code>Object.getClass()</code></a> has this signature:</p>\n\n<pre><code>public final native Class&lt;?&gt; getClass();\n</code></pre>\n\n<p>The important part being <code>Class&lt;?&gt;</code>.</p>\n\n<p>To put it another way, from the <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ106\" rel=\"noreferrer\">Java Generics FAQ</a>:</p>\n\n<blockquote>\n  <h2>Why is there no class literal for concrete parameterized types?</h2>\n  \n  <p><strong><em>Because parameterized type has no exact runtime type representation.</em></strong></p>\n  \n  <p>A class literal denotes a <code>Class</code>\n  object that represents a given type.\n  For instance, the class literal\n  <code>String.class</code> denotes the <code>Class</code>\n  object that represents the type\n  <code>String</code> and is identical to the\n  <code>Class</code> object that is returned when\n  method <code>getClass</code> is invoked on a\n  <code>String</code> object. A class literal can\n  be used for runtime type checks and\n  for reflection. </p>\n  \n  <p>Parameterized types lose their type\n  arguments when they are translated to\n  byte code during compilation in a\n  process called type erasure . As a\n  side effect of type erasure, all \n  instantiations of a generic type share\n  the same runtime representation,\n  namely that of the corresponding raw\n  type .  In other words, parameterized\n  types do not have type representation\n  of their own. Consequently, there is\n  no point in forming class literals\n  such as <code>List&lt;String&gt;.class</code> ,\n  <code>List&lt;Long&gt;.class</code> and <code>List&lt;?&gt;.class</code>\n  , since no such <code>Class</code> objects exist.\n  Only the raw type <code>List</code> has a <code>Class</code>\n  object that represents its runtime\n  type. It is referred to as\n  <code>List.class</code>.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":78421,"reputation":18825,"user_id":223201,"accept_rate":89,"display_name":"Tom"},"score":0,"creation_date":1267832959,"post_id":2390699,"comment_id":2369215,"body_markdown":"Thanks for the additional explanation--my understanding of generics is so much clearer now that I realize they&#39;re not a runtime mechanism. :)","body":"Thanks for the additional explanation--my understanding of generics is so much clearer now that I realize they&#39;re not a runtime mechanism. :)"},{"owner":{"account_id":357595,"reputation":2995,"user_id":697862,"display_name":"Marcel Valdez Orozco"},"score":2,"creation_date":1377466727,"post_id":2390699,"comment_id":27084302,"body_markdown":"In my opinion, this just means that generic were implemented in a mediocre manner by Sun, hopefully Oracle fixes this some day. C#&#39;s implementation of generic is much much much better (Anders is godlike)","body":"In my opinion, this just means that generic were implemented in a mediocre manner by Sun, hopefully Oracle fixes this some day. C#&#39;s implementation of generic is much much much better (Anders is godlike)"},{"owner":{"account_id":2660877,"reputation":38543,"user_id":2300597,"accept_rate":55,"display_name":"peter.petrov"},"score":1,"creation_date":1423690912,"post_id":2390699,"comment_id":45255773,"body_markdown":"@MarcelValdezOrozco AFAIK, in Java they implemented it that way because they wanted old code (pre-1.5) to work on new JVMs without any issues. Seems it&#39;s a very smart design decision which cares about compatibility. I don&#39;t think there&#39;s anything mediocre in that.","body":"@MarcelValdezOrozco AFAIK, in Java they implemented it that way because they wanted old code (pre-1.5) to work on new JVMs without any issues. Seems it&#39;s a very smart design decision which cares about compatibility. I don&#39;t think there&#39;s anything mediocre in that."}],"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1267832676,"creation_date":1267832676,"answer_id":2390699,"question_id":2390662,"body_markdown":"To expound on cletus&#39; answer, at runtime all record of the generic types is removed.  Generics are processed only in the compiler and are used to provide additional type safety.  They are really just shorthand that allows the compiler to insert typecasts at the appropriate places.  For example, previously you&#39;d have to do the following:\r\n\r\n    List x = new ArrayList();\r\n    x.add(new SomeClass());\r\n    Iterator i = x.iterator();\r\n    SomeClass z = (SomeClass) i.next();\r\n\r\nbecomes\r\n\r\n    List&lt;SomeClass&gt; x = new ArrayList&lt;SomeClass&gt;();\r\n    x.add(new SomeClass());\r\n    Iterator&lt;SomeClass&gt; i = x.iterator();\r\n    SomeClass z = i.next();\r\n\r\nThis allows the compiler to check your code at compile-time, but at runtime it still looks like the first example.","title":"Java: how do I get a class literal from a generic type?","body":"<p>To expound on cletus' answer, at runtime all record of the generic types is removed.  Generics are processed only in the compiler and are used to provide additional type safety.  They are really just shorthand that allows the compiler to insert typecasts at the appropriate places.  For example, previously you'd have to do the following:</p>\n\n<pre><code>List x = new ArrayList();\nx.add(new SomeClass());\nIterator i = x.iterator();\nSomeClass z = (SomeClass) i.next();\n</code></pre>\n\n<p>becomes</p>\n\n<pre><code>List&lt;SomeClass&gt; x = new ArrayList&lt;SomeClass&gt;();\nx.add(new SomeClass());\nIterator&lt;SomeClass&gt; i = x.iterator();\nSomeClass z = i.next();\n</code></pre>\n\n<p>This allows the compiler to check your code at compile-time, but at runtime it still looks like the first example.</p>\n"},{"comments":[{"owner":{"account_id":990768,"reputation":6513,"user_id":1008162,"accept_rate":90,"display_name":"Naruto Sempai"},"score":2,"creation_date":1486606336,"post_id":2399305,"comment_id":71422050,"body_markdown":"With this I was able create a class with a generic E and then use `clzz = new TypeToken&lt;E&gt;(){}.getRawType();` to later iterate over similarly structured enums with `clzz.getEnumConstants()` and then finally use refection to call member methods a la `Method method = clzz.getDeclaredMethod(&quot;getSomeFoo&quot;);` so much win! Thank YOU!","body":"With this I was able create a class with a generic E and then use <code>clzz = new TypeToken&lt;E&gt;(){}.getRawType();</code> to later iterate over similarly structured enums with <code>clzz.getEnumConstants()</code> and then finally use refection to call member methods a la <code>Method method = clzz.getDeclaredMethod(&quot;getSomeFoo&quot;);</code> so much win! Thank YOU!"}],"tags":[],"owner":{"account_id":597383,"reputation":811,"user_id":288498,"display_name":"Santi P."},"comment_count":1,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1268022884,"creation_date":1268022884,"answer_id":2399305,"question_id":2390662,"body_markdown":"There are no Class literals for parameterized types, however there are Type objects that correctly define these types. \r\n\r\nSee java.lang.reflect.ParameterizedType \r\n  - http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/ParameterizedType.html\r\n\r\nGoogle&#39;s Gson library defines a TypeToken class that allows to simply generate parameterized types and uses it to spec json objects with complex parameterized types in a generic friendly way. In your example you would use:\r\n\r\n    Type typeOfListOfFoo = new TypeToken&lt;List&lt;Foo&gt;&gt;(){}.getType()\r\n\r\nI intended to post links to the TypeToken and Gson classes javadoc but Stack Overflow won&#39;t let me post more than one link since I&#39;m a new user, you can easily find them using Google search","title":"Java: how do I get a class literal from a generic type?","body":"<p>There are no Class literals for parameterized types, however there are Type objects that correctly define these types. </p>\n\n<p>See java.lang.reflect.ParameterizedType \n  - <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/ParameterizedType.html\" rel=\"noreferrer\">http://java.sun.com/j2se/1.5.0/docs/api/java/lang/reflect/ParameterizedType.html</a></p>\n\n<p>Google's Gson library defines a TypeToken class that allows to simply generate parameterized types and uses it to spec json objects with complex parameterized types in a generic friendly way. In your example you would use:</p>\n\n<pre><code>Type typeOfListOfFoo = new TypeToken&lt;List&lt;Foo&gt;&gt;(){}.getType()\n</code></pre>\n\n<p>I intended to post links to the TypeToken and Gson classes javadoc but Stack Overflow won't let me post more than one link since I'm a new user, you can easily find them using Google search</p>\n"},{"tags":[],"owner":{"account_id":9187,"reputation":9248,"user_id":16873,"accept_rate":100,"display_name":"Thiago Chaves"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394567672,"creation_date":1268058879,"answer_id":2401994,"question_id":2390662,"body_markdown":"Due to the exposed fact that Class literals doesn&#39;t have generic type information, I think you should assume that it will be impossible to get rid of all the warnings. In a way, using `Class&lt;Something&gt;` is the same as using a collection without specifying the generic type. The best I could come out with was:\r\n\r\n    private &lt;C extends A&lt;C&gt;&gt; List&lt;C&gt; getList(Class&lt;C&gt; cls) {\r\n        List&lt;C&gt; res = new ArrayList&lt;C&gt;();\r\n        // &quot;snip&quot;... some stuff happening in here, using cls\r\n        return res;\r\n    }\r\n\r\n    public &lt;C extends A&lt;C&gt;&gt; List&lt;A&lt;C&gt;&gt; getList() {\r\n        return getList(A.class);\r\n    }\r\n","title":"Java: how do I get a class literal from a generic type?","body":"<p>Due to the exposed fact that Class literals doesn't have generic type information, I think you should assume that it will be impossible to get rid of all the warnings. In a way, using <code>Class&lt;Something&gt;</code> is the same as using a collection without specifying the generic type. The best I could come out with was:</p>\n\n<pre><code>private &lt;C extends A&lt;C&gt;&gt; List&lt;C&gt; getList(Class&lt;C&gt; cls) {\n    List&lt;C&gt; res = new ArrayList&lt;C&gt;();\n    // \"snip\"... some stuff happening in here, using cls\n    return res;\n}\n\npublic &lt;C extends A&lt;C&gt;&gt; List&lt;A&lt;C&gt;&gt; getList() {\n    return getList(A.class);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1384921,"reputation":1573,"user_id":1317155,"accept_rate":88,"display_name":"Hein Bl&#246;d"},"score":0,"creation_date":1465917835,"post_id":29892616,"comment_id":63096593,"body_markdown":"This is also the workaround used by JAX-RS, cf. [`GenericEntity`](http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/GenericEntity.html) and [`GenericType`](http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/GenericType.html).","body":"This is also the workaround used by JAX-RS, cf. <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/GenericEntity.html\" rel=\"nofollow noreferrer\"><code>GenericEntity</code></a> and <a href=\"http://docs.oracle.com/javaee/7/api/javax/ws/rs/core/GenericType.html\" rel=\"nofollow noreferrer\"><code>GenericType</code></a>."}],"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1430128859,"creation_date":1430128859,"answer_id":29892616,"question_id":2390662,"body_markdown":"Well as we all know that it gets erased. But it can be known under some circumstances where the type is explicitly mentioned in the class hierarchy:\r\n\r\n    import java.lang.reflect.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public abstract class CaptureType&lt;T&gt; {\r\n        /**\r\n         * {@link java.lang.reflect.Type} object of the corresponding generic type. This method is useful to obtain every kind of information (including annotations) of the generic type.\r\n         *\r\n         * @return Type object. null if type could not be obtained (This happens in case of generic type whose information cant be obtained using Reflection). Please refer documentation of {@link com.types.CaptureType}\r\n         */\r\n        public Type getTypeParam() {\r\n            Class&lt;?&gt; bottom = getClass();\r\n            Map&lt;TypeVariable&lt;?&gt;, Type&gt; reifyMap = new LinkedHashMap&lt;&gt;();\r\n    \r\n            for (; ; ) {\r\n                Type genericSuper = bottom.getGenericSuperclass();\r\n                if (!(genericSuper instanceof Class)) {\r\n                    ParameterizedType generic = (ParameterizedType) genericSuper;\r\n                    Class&lt;?&gt; actualClaz = (Class&lt;?&gt;) generic.getRawType();\r\n                    TypeVariable&lt;? extends Class&lt;?&gt;&gt;[] typeParameters = actualClaz.getTypeParameters();\r\n                    Type[] reified = generic.getActualTypeArguments();\r\n                    assert (typeParameters.length != 0);\r\n                    for (int i = 0; i &lt; typeParameters.length; i++) {\r\n                        reifyMap.put(typeParameters[i], reified[i]);\r\n                    }\r\n                }\r\n    \r\n                if (bottom.getSuperclass().equals(CaptureType.class)) {\r\n                    bottom = bottom.getSuperclass();\r\n                    break;\r\n                }\r\n                bottom = bottom.getSuperclass();\r\n            }\r\n    \r\n            TypeVariable&lt;?&gt; var = bottom.getTypeParameters()[0];\r\n            while (true) {\r\n                Type type = reifyMap.get(var);\r\n                if (type instanceof TypeVariable) {\r\n                    var = (TypeVariable&lt;?&gt;) type;\r\n                } else {\r\n                    return type;\r\n                }\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Returns the raw type of the generic type.\r\n         * &lt;p&gt;For example in case of {@code CaptureType&lt;String&gt;}, it would return {@code Class&lt;String&gt;}&lt;/p&gt;\r\n         * For more comprehensive examples, go through javadocs of {@link com.types.CaptureType}\r\n         *\r\n         * @return Class object\r\n         * @throws java.lang.RuntimeException If the type information cant be obtained. Refer documentation of {@link com.types.CaptureType}\r\n         * @see com.types.CaptureType\r\n         */\r\n        public Class&lt;T&gt; getRawType() {\r\n            Type typeParam = getTypeParam();\r\n            if (typeParam != null)\r\n                return getClass(typeParam);\r\n            else throw new RuntimeException(&quot;Could not obtain type information&quot;);\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Gets the {@link java.lang.Class} object of the argument type.\r\n         * &lt;p&gt;If the type is an {@link java.lang.reflect.ParameterizedType}, then it returns its {@link java.lang.reflect.ParameterizedType#getRawType()}&lt;/p&gt;\r\n         *\r\n         * @param type The type\r\n         * @param &lt;A&gt;  type of class object expected\r\n         * @return The Class&lt;A&gt; object of the type\r\n         * @throws java.lang.RuntimeException If the type is a {@link java.lang.reflect.TypeVariable}. In such cases, it is impossible to obtain the Class object\r\n         */\r\n        public static &lt;A&gt; Class&lt;A&gt; getClass(Type type) {\r\n            if (type instanceof GenericArrayType) {\r\n                Type componentType = ((GenericArrayType) type).getGenericComponentType();\r\n                Class&lt;?&gt; componentClass = getClass(componentType);\r\n                if (componentClass != null) {\r\n                    return (Class&lt;A&gt;) Array.newInstance(componentClass, 0).getClass();\r\n                } else throw new UnsupportedOperationException(&quot;Unknown class: &quot; + type.getClass());\r\n            } else if (type instanceof Class) {\r\n                Class claz = (Class) type;\r\n                return claz;\r\n            } else if (type instanceof ParameterizedType) {\r\n                return getClass(((ParameterizedType) type).getRawType());\r\n            } else if (type instanceof TypeVariable) {\r\n                throw new RuntimeException(&quot;The type signature is erased. The type class cant be known by using reflection&quot;);\r\n            } else throw new UnsupportedOperationException(&quot;Unknown class: &quot; + type.getClass());\r\n        }\r\n    \r\n        /**\r\n         * This method is the preferred method of usage in case of complex generic types.\r\n         * &lt;p&gt;It returns {@link com.types.TypeADT} object which contains nested information of the type parameters&lt;/p&gt;\r\n         *\r\n         * @return TypeADT object\r\n         * @throws java.lang.RuntimeException If the type information cant be obtained. Refer documentation of {@link com.types.CaptureType}\r\n         */\r\n        public TypeADT getParamADT() {\r\n            return recursiveADT(getTypeParam());\r\n        }\r\n    \r\n        private TypeADT recursiveADT(Type type) {\r\n            if (type instanceof Class) {\r\n                return new TypeADT((Class&lt;?&gt;) type, null);\r\n            } else if (type instanceof ParameterizedType) {\r\n                ArrayList&lt;TypeADT&gt; generic = new ArrayList&lt;&gt;();\r\n                ParameterizedType type1 = (ParameterizedType) type;\r\n                return new TypeADT((Class&lt;?&gt;) type1.getRawType(),\r\n                        Arrays.stream(type1.getActualTypeArguments()).map(x -&gt; recursiveADT(x)).collect(Collectors.toList()));\r\n            } else throw new UnsupportedOperationException();\r\n        }\r\n    \r\n    }\r\n\r\n    public class TypeADT {\r\n        private final Class&lt;?&gt; reify;\r\n        private final List&lt;TypeADT&gt; parametrized;\r\n    \r\n        TypeADT(Class&lt;?&gt; reify, List&lt;TypeADT&gt; parametrized) {\r\n            this.reify = reify;\r\n            this.parametrized = parametrized;\r\n        }\r\n    \r\n        public Class&lt;?&gt; getRawType() {\r\n            return reify;\r\n        }\r\n    \r\n        public List&lt;TypeADT&gt; getParameters() {\r\n            return parametrized;\r\n        }\r\n    }\r\n\r\nAnd now you can do things like:\r\n\r\n    static void test1() {\r\n            CaptureType&lt;String&gt; t1 = new CaptureType&lt;String&gt;() {\r\n            };\r\n            equals(t1.getRawType(), String.class);\r\n        }\r\n     \r\n        static void test2() {\r\n            CaptureType&lt;List&lt;String&gt;&gt; t1 = new CaptureType&lt;List&lt;String&gt;&gt;() {\r\n            };\r\n            equals(t1.getRawType(), List.class);\r\n            equals(t1.getParamADT().getParameters().get(0).getRawType(), String.class);\r\n        }\r\n     \r\n     \r\n        private static void test3() {\r\n                CaptureType&lt;List&lt;List&lt;String&gt;&gt;&gt; t1 = new CaptureType&lt;List&lt;List&lt;String&gt;&gt;&gt;() {\r\n                };\r\n                equals(t1.getParamADT().getRawType(), List.class);\r\n            equals(t1.getParamADT().getParameters().get(0).getRawType(), List.class);\r\n        }\r\n     \r\n        static class Test4 extends CaptureType&lt;List&lt;String&gt;&gt; {\r\n        }\r\n     \r\n        static void test4() {\r\n            Test4 test4 = new Test4();\r\n            equals(test4.getParamADT().getRawType(), List.class);\r\n        }\r\n     \r\n        static class PreTest5&lt;S&gt; extends CaptureType&lt;Integer&gt; {\r\n        }\r\n     \r\n        static class Test5 extends PreTest5&lt;Integer&gt; {\r\n        }\r\n     \r\n        static void test5() {\r\n            Test5 test5 = new Test5();\r\n            equals(test5.getTypeParam(), Integer.class);\r\n        }\r\n     \r\n        static class PreTest6&lt;S&gt; extends CaptureType&lt;S&gt; {\r\n        }\r\n     \r\n        static class Test6 extends PreTest6&lt;Integer&gt; {\r\n        }\r\n     \r\n        static void test6() {\r\n            Test6 test6 = new Test6();\r\n            equals(test6.getTypeParam(), Integer.class);\r\n        }\r\n     \r\n     \r\n     \r\n        class X&lt;T&gt; extends CaptureType&lt;T&gt; {\r\n        }\r\n     \r\n        class Y&lt;A, B&gt; extends X&lt;B&gt; {\r\n        }\r\n     \r\n        class Z&lt;Q&gt; extends Y&lt;Q, Map&lt;Integer, List&lt;List&lt;List&lt;Integer&gt;&gt;&gt;&gt;&gt; {\r\n        }\r\n     \r\n        void test7(){\r\n            Z&lt;String&gt; z = new Z&lt;&gt;();\r\n            TypeADT param = z.getParamADT();\r\n            equals(param.getRawType(), Map.class);\r\n            List&lt;TypeADT&gt; parameters = param.getParameters();\r\n            equals(parameters.get(0).getRawType(), Integer.class);\r\n            equals(parameters.get(1).getRawType(), List.class);\r\n            equals(parameters.get(1).getParameters().get(0).getRawType(), List.class);\r\n            equals(parameters.get(1).getParameters().get(0).getParameters().get(0).getRawType(), List.class);\r\n            equals(parameters.get(1).getParameters().get(0).getParameters().get(0).getParameters().get(0).getRawType(), Integer.class);\r\n        }\r\n     \r\n     \r\n     \r\n     \r\n        static void test8() throws IllegalAccessException, InstantiationException {\r\n            CaptureType&lt;int[]&gt; type = new CaptureType&lt;int[]&gt;() {\r\n            };\r\n            equals(type.getRawType(), int[].class);\r\n        }\r\n     \r\n        static void test9(){\r\n            CaptureType&lt;String[]&gt; type = new CaptureType&lt;String[]&gt;() {\r\n            };\r\n            equals(type.getRawType(), String[].class);\r\n        }\r\n     \r\n        static class SomeClass&lt;T&gt; extends CaptureType&lt;T&gt;{}\r\n        static void test10(){\r\n            SomeClass&lt;String&gt; claz = new SomeClass&lt;&gt;();\r\n            try{\r\n                claz.getRawType();\r\n                throw new RuntimeException(&quot;Shouldnt come here&quot;);\r\n            }catch (RuntimeException ex){\r\n     \r\n            }\r\n        }\r\n     \r\n        static void equals(Object a, Object b) {\r\n            if (!a.equals(b)) {\r\n                throw new RuntimeException(&quot;Test failed. &quot; + a + &quot; != &quot; + b);\r\n            }\r\n        }\r\n\r\nMore info [here][1]. But again, it is almost impossible to retrieve for:\r\n\r\n    class SomeClass&lt;T&gt; extends CaptureType&lt;T&gt;{}\r\n    SomeClass&lt;String&gt; claz = new SomeClass&lt;&gt;();\r\n\r\nwhere it gets erased.\r\n\r\n\r\n  [1]: https://gist.github.com/purijatin/a0486995c7df0e56b398","title":"Java: how do I get a class literal from a generic type?","body":"<p>Well as we all know that it gets erased. But it can be known under some circumstances where the type is explicitly mentioned in the class hierarchy:</p>\n\n<pre><code>import java.lang.reflect.*;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic abstract class CaptureType&lt;T&gt; {\n    /**\n     * {@link java.lang.reflect.Type} object of the corresponding generic type. This method is useful to obtain every kind of information (including annotations) of the generic type.\n     *\n     * @return Type object. null if type could not be obtained (This happens in case of generic type whose information cant be obtained using Reflection). Please refer documentation of {@link com.types.CaptureType}\n     */\n    public Type getTypeParam() {\n        Class&lt;?&gt; bottom = getClass();\n        Map&lt;TypeVariable&lt;?&gt;, Type&gt; reifyMap = new LinkedHashMap&lt;&gt;();\n\n        for (; ; ) {\n            Type genericSuper = bottom.getGenericSuperclass();\n            if (!(genericSuper instanceof Class)) {\n                ParameterizedType generic = (ParameterizedType) genericSuper;\n                Class&lt;?&gt; actualClaz = (Class&lt;?&gt;) generic.getRawType();\n                TypeVariable&lt;? extends Class&lt;?&gt;&gt;[] typeParameters = actualClaz.getTypeParameters();\n                Type[] reified = generic.getActualTypeArguments();\n                assert (typeParameters.length != 0);\n                for (int i = 0; i &lt; typeParameters.length; i++) {\n                    reifyMap.put(typeParameters[i], reified[i]);\n                }\n            }\n\n            if (bottom.getSuperclass().equals(CaptureType.class)) {\n                bottom = bottom.getSuperclass();\n                break;\n            }\n            bottom = bottom.getSuperclass();\n        }\n\n        TypeVariable&lt;?&gt; var = bottom.getTypeParameters()[0];\n        while (true) {\n            Type type = reifyMap.get(var);\n            if (type instanceof TypeVariable) {\n                var = (TypeVariable&lt;?&gt;) type;\n            } else {\n                return type;\n            }\n        }\n    }\n\n    /**\n     * Returns the raw type of the generic type.\n     * &lt;p&gt;For example in case of {@code CaptureType&lt;String&gt;}, it would return {@code Class&lt;String&gt;}&lt;/p&gt;\n     * For more comprehensive examples, go through javadocs of {@link com.types.CaptureType}\n     *\n     * @return Class object\n     * @throws java.lang.RuntimeException If the type information cant be obtained. Refer documentation of {@link com.types.CaptureType}\n     * @see com.types.CaptureType\n     */\n    public Class&lt;T&gt; getRawType() {\n        Type typeParam = getTypeParam();\n        if (typeParam != null)\n            return getClass(typeParam);\n        else throw new RuntimeException(\"Could not obtain type information\");\n    }\n\n\n    /**\n     * Gets the {@link java.lang.Class} object of the argument type.\n     * &lt;p&gt;If the type is an {@link java.lang.reflect.ParameterizedType}, then it returns its {@link java.lang.reflect.ParameterizedType#getRawType()}&lt;/p&gt;\n     *\n     * @param type The type\n     * @param &lt;A&gt;  type of class object expected\n     * @return The Class&lt;A&gt; object of the type\n     * @throws java.lang.RuntimeException If the type is a {@link java.lang.reflect.TypeVariable}. In such cases, it is impossible to obtain the Class object\n     */\n    public static &lt;A&gt; Class&lt;A&gt; getClass(Type type) {\n        if (type instanceof GenericArrayType) {\n            Type componentType = ((GenericArrayType) type).getGenericComponentType();\n            Class&lt;?&gt; componentClass = getClass(componentType);\n            if (componentClass != null) {\n                return (Class&lt;A&gt;) Array.newInstance(componentClass, 0).getClass();\n            } else throw new UnsupportedOperationException(\"Unknown class: \" + type.getClass());\n        } else if (type instanceof Class) {\n            Class claz = (Class) type;\n            return claz;\n        } else if (type instanceof ParameterizedType) {\n            return getClass(((ParameterizedType) type).getRawType());\n        } else if (type instanceof TypeVariable) {\n            throw new RuntimeException(\"The type signature is erased. The type class cant be known by using reflection\");\n        } else throw new UnsupportedOperationException(\"Unknown class: \" + type.getClass());\n    }\n\n    /**\n     * This method is the preferred method of usage in case of complex generic types.\n     * &lt;p&gt;It returns {@link com.types.TypeADT} object which contains nested information of the type parameters&lt;/p&gt;\n     *\n     * @return TypeADT object\n     * @throws java.lang.RuntimeException If the type information cant be obtained. Refer documentation of {@link com.types.CaptureType}\n     */\n    public TypeADT getParamADT() {\n        return recursiveADT(getTypeParam());\n    }\n\n    private TypeADT recursiveADT(Type type) {\n        if (type instanceof Class) {\n            return new TypeADT((Class&lt;?&gt;) type, null);\n        } else if (type instanceof ParameterizedType) {\n            ArrayList&lt;TypeADT&gt; generic = new ArrayList&lt;&gt;();\n            ParameterizedType type1 = (ParameterizedType) type;\n            return new TypeADT((Class&lt;?&gt;) type1.getRawType(),\n                    Arrays.stream(type1.getActualTypeArguments()).map(x -&gt; recursiveADT(x)).collect(Collectors.toList()));\n        } else throw new UnsupportedOperationException();\n    }\n\n}\n\npublic class TypeADT {\n    private final Class&lt;?&gt; reify;\n    private final List&lt;TypeADT&gt; parametrized;\n\n    TypeADT(Class&lt;?&gt; reify, List&lt;TypeADT&gt; parametrized) {\n        this.reify = reify;\n        this.parametrized = parametrized;\n    }\n\n    public Class&lt;?&gt; getRawType() {\n        return reify;\n    }\n\n    public List&lt;TypeADT&gt; getParameters() {\n        return parametrized;\n    }\n}\n</code></pre>\n\n<p>And now you can do things like:</p>\n\n<pre><code>static void test1() {\n        CaptureType&lt;String&gt; t1 = new CaptureType&lt;String&gt;() {\n        };\n        equals(t1.getRawType(), String.class);\n    }\n\n    static void test2() {\n        CaptureType&lt;List&lt;String&gt;&gt; t1 = new CaptureType&lt;List&lt;String&gt;&gt;() {\n        };\n        equals(t1.getRawType(), List.class);\n        equals(t1.getParamADT().getParameters().get(0).getRawType(), String.class);\n    }\n\n\n    private static void test3() {\n            CaptureType&lt;List&lt;List&lt;String&gt;&gt;&gt; t1 = new CaptureType&lt;List&lt;List&lt;String&gt;&gt;&gt;() {\n            };\n            equals(t1.getParamADT().getRawType(), List.class);\n        equals(t1.getParamADT().getParameters().get(0).getRawType(), List.class);\n    }\n\n    static class Test4 extends CaptureType&lt;List&lt;String&gt;&gt; {\n    }\n\n    static void test4() {\n        Test4 test4 = new Test4();\n        equals(test4.getParamADT().getRawType(), List.class);\n    }\n\n    static class PreTest5&lt;S&gt; extends CaptureType&lt;Integer&gt; {\n    }\n\n    static class Test5 extends PreTest5&lt;Integer&gt; {\n    }\n\n    static void test5() {\n        Test5 test5 = new Test5();\n        equals(test5.getTypeParam(), Integer.class);\n    }\n\n    static class PreTest6&lt;S&gt; extends CaptureType&lt;S&gt; {\n    }\n\n    static class Test6 extends PreTest6&lt;Integer&gt; {\n    }\n\n    static void test6() {\n        Test6 test6 = new Test6();\n        equals(test6.getTypeParam(), Integer.class);\n    }\n\n\n\n    class X&lt;T&gt; extends CaptureType&lt;T&gt; {\n    }\n\n    class Y&lt;A, B&gt; extends X&lt;B&gt; {\n    }\n\n    class Z&lt;Q&gt; extends Y&lt;Q, Map&lt;Integer, List&lt;List&lt;List&lt;Integer&gt;&gt;&gt;&gt;&gt; {\n    }\n\n    void test7(){\n        Z&lt;String&gt; z = new Z&lt;&gt;();\n        TypeADT param = z.getParamADT();\n        equals(param.getRawType(), Map.class);\n        List&lt;TypeADT&gt; parameters = param.getParameters();\n        equals(parameters.get(0).getRawType(), Integer.class);\n        equals(parameters.get(1).getRawType(), List.class);\n        equals(parameters.get(1).getParameters().get(0).getRawType(), List.class);\n        equals(parameters.get(1).getParameters().get(0).getParameters().get(0).getRawType(), List.class);\n        equals(parameters.get(1).getParameters().get(0).getParameters().get(0).getParameters().get(0).getRawType(), Integer.class);\n    }\n\n\n\n\n    static void test8() throws IllegalAccessException, InstantiationException {\n        CaptureType&lt;int[]&gt; type = new CaptureType&lt;int[]&gt;() {\n        };\n        equals(type.getRawType(), int[].class);\n    }\n\n    static void test9(){\n        CaptureType&lt;String[]&gt; type = new CaptureType&lt;String[]&gt;() {\n        };\n        equals(type.getRawType(), String[].class);\n    }\n\n    static class SomeClass&lt;T&gt; extends CaptureType&lt;T&gt;{}\n    static void test10(){\n        SomeClass&lt;String&gt; claz = new SomeClass&lt;&gt;();\n        try{\n            claz.getRawType();\n            throw new RuntimeException(\"Shouldnt come here\");\n        }catch (RuntimeException ex){\n\n        }\n    }\n\n    static void equals(Object a, Object b) {\n        if (!a.equals(b)) {\n            throw new RuntimeException(\"Test failed. \" + a + \" != \" + b);\n        }\n    }\n</code></pre>\n\n<p>More info <a href=\"https://gist.github.com/purijatin/a0486995c7df0e56b398\" rel=\"nofollow\">here</a>. But again, it is almost impossible to retrieve for:</p>\n\n<pre><code>class SomeClass&lt;T&gt; extends CaptureType&lt;T&gt;{}\nSomeClass&lt;String&gt; claz = new SomeClass&lt;&gt;();\n</code></pre>\n\n<p>where it gets erased.</p>\n"},{"comments":[{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":2,"creation_date":1472038724,"post_id":30754982,"comment_id":65590003,"body_markdown":"By changing the second cast from `Object` to `Class` you can probably save the overhead of a (pointless) checked runtime cast.","body":"By changing the second cast from <code>Object</code> to <code>Class</code> you can probably save the overhead of a (pointless) checked runtime cast."},{"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"score":2,"creation_date":1484771728,"post_id":30754982,"comment_id":70652272,"body_markdown":"@Clashsoft Using `Class` instead of `Object`, as you suggest, seems more meaningful but it doesn&#39;t remove the need of the `@SuppressWarnings(&quot;unchecked&quot;)` annotation, it even add a new warning : `Class is a raw type. References to generic type Class&lt;T&gt; should be parameterized`","body":"@Clashsoft Using <code>Class</code> instead of <code>Object</code>, as you suggest, seems more meaningful but it doesn&#39;t remove the need of the <code>@SuppressWarnings(&quot;unchecked&quot;)</code> annotation, it even add a new warning : <code>Class is a raw type. References to generic type Class&lt;T&gt; should be parameterized</code>"},{"owner":{"account_id":2247163,"reputation":4471,"user_id":7417402,"display_name":"Devstr"},"score":17,"creation_date":1492103514,"post_id":30754982,"comment_id":73856994,"body_markdown":"You can use `Class&lt;?&gt;`: `(Class&lt;List&lt;Foo&gt;&gt;)(Class&lt;?&gt;)List.class`","body":"You can use <code>Class&lt;?&gt;</code>: <code>(Class&lt;List&lt;Foo&gt;&gt;)(Class&lt;?&gt;)List.class</code>"},{"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"score":0,"creation_date":1497303307,"post_id":30754982,"comment_id":76011362,"body_markdown":"@Devstr I see you are correct when I try that... What are the arguments for using either (Object) or (Class&lt;?&gt;)?","body":"@Devstr I see you are correct when I try that... What are the arguments for using either (Object) or (Class&lt;?&gt;)?"},{"owner":{"account_id":2553736,"reputation":6683,"user_id":2230045,"accept_rate":85,"display_name":"Spenhouet"},"score":2,"creation_date":1537437781,"post_id":30754982,"comment_id":91787938,"body_markdown":"This answer is totally pointless. The reason OP wanted to parameterize the class path was because he got a `unchecked` warning. This answer doesn&#39;t change / improve any of that. OP even states in his question that he doesn&#39;t want to use `SuppressWarnings`...","body":"This answer is totally pointless. The reason OP wanted to parameterize the class path was because he got a <code>unchecked</code> warning. This answer doesn&#39;t change / improve any of that. OP even states in his question that he doesn&#39;t want to use <code>SuppressWarnings</code>..."},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1598352058,"post_id":30754982,"comment_id":112424353,"body_markdown":"@Spenhouet That might be true, but it solved the problem I had - a constructor of my supertype needed a Class&lt;List&lt;T&gt;&gt; where I have defined the exact type of T.","body":"@Spenhouet That might be true, but it solved the problem I had - a constructor of my supertype needed a Class&lt;List&lt;T&gt;&gt; where I have defined the exact type of T."}],"tags":[],"owner":{"account_id":1223512,"reputation":1127,"user_id":1189636,"display_name":"slaurent"},"comment_count":6,"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1433935789,"creation_date":1433935789,"answer_id":30754982,"question_id":2390662,"body_markdown":"You can manage it with a double cast :\r\n\r\n`@SuppressWarnings(&quot;unchecked&quot;)\r\nClass&lt;List&lt;Foo&gt;&gt; cls = (Class&lt;List&lt;Foo&gt;&gt;)(Object)List.class`\r\n","title":"Java: how do I get a class literal from a generic type?","body":"<p>You can manage it with a double cast :</p>\n\n<p><code>@SuppressWarnings(\"unchecked\")\nClass&lt;List&lt;Foo&gt;&gt; cls = (Class&lt;List&lt;Foo&gt;&gt;)(Object)List.class</code></p>\n"},{"comments":[{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":1,"creation_date":1598352388,"post_id":40517676,"comment_id":112424525,"body_markdown":"This is quite useful for implementing a concrete subclass of `com.fasterxml.jackson.databind.deser.std.StdDeserializer` with a generic type such as a collection.","body":"This is quite useful for implementing a concrete subclass of <code>com.fasterxml.jackson.databind.deser.std.StdDeserializer</code> with a generic type such as a collection."}],"tags":[],"owner":{"account_id":6333754,"reputation":2065,"user_id":4917881,"display_name":"aventurin"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1478733829,"creation_date":1478733829,"answer_id":40517676,"question_id":2390662,"body_markdown":"You could use a helper method to get rid of `@SuppressWarnings(&quot;unchecked&quot;)` all over a class.\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;T&gt; Class&lt;T&gt; generify(Class&lt;?&gt; cls) {\r\n        return (Class&lt;T&gt;)cls;\r\n    }\r\n\r\nThen you could write\r\n\r\n  \tClass&lt;List&lt;Foo&gt;&gt; cls = generify(List.class);\r\n\r\nOther usage examples are\r\n\r\n      Class&lt;Map&lt;String, Integer&gt;&gt; cls;\r\n\r\n      cls = generify(Map.class);\r\n\r\n      cls = TheClass.&lt;Map&lt;String, Integer&gt;&gt;generify(Map.class);\r\n\r\n      funWithTypeParam(generify(Map.class));\r\n\r\n    public void funWithTypeParam(Class&lt;Map&lt;String, Integer&gt;&gt; cls) {\r\n    }\r\n\r\nHowever, since it is rarely really useful, and the usage of the method defeats the compiler&#39;s type checking, I would not recommend to implement it in a place where it is publicly accessible.","title":"Java: how do I get a class literal from a generic type?","body":"<p>You could use a helper method to get rid of <code>@SuppressWarnings(\"unchecked\")</code> all over a class.</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nprivate static &lt;T&gt; Class&lt;T&gt; generify(Class&lt;?&gt; cls) {\n    return (Class&lt;T&gt;)cls;\n}\n</code></pre>\n\n<p>Then you could write</p>\n\n<pre><code>Class&lt;List&lt;Foo&gt;&gt; cls = generify(List.class);\n</code></pre>\n\n<p>Other usage examples are</p>\n\n<pre><code>  Class&lt;Map&lt;String, Integer&gt;&gt; cls;\n\n  cls = generify(Map.class);\n\n  cls = TheClass.&lt;Map&lt;String, Integer&gt;&gt;generify(Map.class);\n\n  funWithTypeParam(generify(Map.class));\n\npublic void funWithTypeParam(Class&lt;Map&lt;String, Integer&gt;&gt; cls) {\n}\n</code></pre>\n\n<p>However, since it is rarely really useful, and the usage of the method defeats the compiler's type checking, I would not recommend to implement it in a place where it is publicly accessible.</p>\n"},{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1546563794,"creation_date":1546562170,"answer_id":54031723,"question_id":2390662,"body_markdown":"The [Java Generics FAQ](http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ106) and therefore also cletus&#39; [answer](https://stackoverflow.com/a/2390682) sound like there is no point in having `Class&lt;List&lt;T&gt;&gt;`, however the real problem is that this is extremely dangerous:\r\n\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Class&lt;List&lt;String&gt;&gt; stringListClass = (Class&lt;List&lt;String&gt;&gt;) (Class&lt;?&gt;) List.class;\r\n    \r\n    List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\r\n    intList.add(1);\r\n    List&lt;String&gt; stringList = stringListClass.cast(intList);\r\n    // Surprise!\r\n    String firstElement = stringList.get(0);\r\n\r\nThe `cast()` makes it look as if it is safe, but in reality it is not safe at all.\r\n\r\n----\r\n\r\nThough I don&#39;t get where there can&#39;t be `List&lt;?&gt;.class` = `Class&lt;List&lt;?&gt;&gt;` since this would be pretty helpful when you have a method which determines the type based on the generic type of a `Class` argument.\r\n\r\nFor `getClass()` there is [JDK-6184881](https://bugs.openjdk.java.net/browse/JDK-6184881) requesting to switch to using wildcards, however it does not look like this change will be performed (very soon) since it is not compatible with previous code (see [this comment](https://bugs.openjdk.java.net/browse/JDK-6184881?focusedCommentId=12339160#comment-12339160)).","title":"Java: how do I get a class literal from a generic type?","body":"<p>The <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ106\" rel=\"noreferrer\">Java Generics FAQ</a> and therefore also cletus' <a href=\"https://stackoverflow.com/a/2390682\">answer</a> sound like there is no point in having <code>Class&lt;List&lt;T&gt;&gt;</code>, however the real problem is that this is extremely dangerous:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\nClass&lt;List&lt;String&gt;&gt; stringListClass = (Class&lt;List&lt;String&gt;&gt;) (Class&lt;?&gt;) List.class;\n\nList&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\nintList.add(1);\nList&lt;String&gt; stringList = stringListClass.cast(intList);\n// Surprise!\nString firstElement = stringList.get(0);\n</code></pre>\n\n<p>The <code>cast()</code> makes it look as if it is safe, but in reality it is not safe at all.</p>\n\n<hr>\n\n<p>Though I don't get where there can't be <code>List&lt;?&gt;.class</code> = <code>Class&lt;List&lt;?&gt;&gt;</code> since this would be pretty helpful when you have a method which determines the type based on the generic type of a <code>Class</code> argument.</p>\n\n<p>For <code>getClass()</code> there is <a href=\"https://bugs.openjdk.java.net/browse/JDK-6184881\" rel=\"noreferrer\">JDK-6184881</a> requesting to switch to using wildcards, however it does not look like this change will be performed (very soon) since it is not compatible with previous code (see <a href=\"https://bugs.openjdk.java.net/browse/JDK-6184881?focusedCommentId=12339160#comment-12339160\" rel=\"noreferrer\">this comment</a>).</p>\n"},{"tags":[],"owner":{"account_id":1418937,"reputation":5014,"user_id":1343979,"accept_rate":80,"display_name":"Bass"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684317674,"creation_date":1684317674,"answer_id":76270861,"question_id":2390662,"body_markdown":"What&#39;s not possible in Java is still possible if you add some Kotlin to the mix.\r\n\r\nCreate a Kotlin file with the following content:\r\n\r\n```kotlin\r\nfun &lt;T&gt; getGenericListType(): Class&lt;List&lt;T&gt;&gt; {\r\n    return emptyList&lt;T&gt;().javaClass\r\n}\r\n\r\nfun &lt;T&gt; getGenericListSuperType(): Class&lt;MutableList&lt;in T&gt;&gt; {\r\n    return mutableListOf&lt;T&gt;().javaClass\r\n}\r\n\r\nfun &lt;T&gt; getGenericListExtendsType(): Class&lt;MutableList&lt;out T&gt;&gt; {\r\n    return mutableListOf&lt;T&gt;().javaClass\r\n}\r\n```\r\n\r\nCalling these methods from Java will give you, respectively:\r\n\r\n1. a `Class&lt;List&lt;T&gt;&gt;`,\r\n2. a `Class&lt;List&lt;? super T&gt;&gt;`, and\r\n3. a `Class&lt;List&lt;? extends T&gt;&gt;`.","title":"Java: how do I get a class literal from a generic type?","body":"<p>What's not possible in Java is still possible if you add some Kotlin to the mix.</p>\n<p>Create a Kotlin file with the following content:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T&gt; getGenericListType(): Class&lt;List&lt;T&gt;&gt; {\n    return emptyList&lt;T&gt;().javaClass\n}\n\nfun &lt;T&gt; getGenericListSuperType(): Class&lt;MutableList&lt;in T&gt;&gt; {\n    return mutableListOf&lt;T&gt;().javaClass\n}\n\nfun &lt;T&gt; getGenericListExtendsType(): Class&lt;MutableList&lt;out T&gt;&gt; {\n    return mutableListOf&lt;T&gt;().javaClass\n}\n</code></pre>\n<p>Calling these methods from Java will give you, respectively:</p>\n<ol>\n<li>a <code>Class&lt;List&lt;T&gt;&gt;</code>,</li>\n<li>a <code>Class&lt;List&lt;? super T&gt;&gt;</code>, and</li>\n<li>a <code>Class&lt;List&lt;? extends T&gt;&gt;</code>.</li>\n</ol>\n"}],"owner":{"account_id":78421,"reputation":18825,"user_id":223201,"accept_rate":89,"display_name":"Tom"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245702,"favorite_count":0,"down_vote_count":0,"up_vote_count":262,"accepted_answer_id":2390682,"answer_count":9,"score":262,"last_activity_date":1684317674,"creation_date":1267831988,"question_id":2390662,"body_markdown":"Typically, I&#39;ve seen people use the class literal like this:\r\n\r\n    Class&lt;Foo&gt; cls = Foo.class;\r\n\r\nBut what if the type is generic, e.g. List? This works fine, but has a warning since List should be parameterized:\r\n\r\n    Class&lt;List&gt; cls = List.class\r\n\r\nSo why not add a `&lt;?&gt;`? Well, this causes a type mismatch error:\r\n\r\n    Class&lt;List&lt;?&gt;&gt; cls = List.class\r\n\r\nI figured something like this would work, but this is just a plain ol&#39; syntax error:\r\n\r\n    Class&lt;List&lt;Foo&gt;&gt; cls = List&lt;Foo&gt;.class\r\n\r\nHow can I get a `Class&lt;List&lt;Foo&gt;&gt;` statically, e.g. using the class literal?\r\n\r\nI *could* use `@SuppressWarnings(&quot;unchecked&quot;)` to get rid of the warnings caused by the non-parameterized use of List in the first example, `    Class&lt;List&gt; cls = List.class`, but I&#39;d rather not.\r\n\r\nAny suggestions?","title":"Java: how do I get a class literal from a generic type?","body":"<p>Typically, I've seen people use the class literal like this:</p>\n\n<pre><code>Class&lt;Foo&gt; cls = Foo.class;\n</code></pre>\n\n<p>But what if the type is generic, e.g. List? This works fine, but has a warning since List should be parameterized:</p>\n\n<pre><code>Class&lt;List&gt; cls = List.class\n</code></pre>\n\n<p>So why not add a <code>&lt;?&gt;</code>? Well, this causes a type mismatch error:</p>\n\n<pre><code>Class&lt;List&lt;?&gt;&gt; cls = List.class\n</code></pre>\n\n<p>I figured something like this would work, but this is just a plain ol' syntax error:</p>\n\n<pre><code>Class&lt;List&lt;Foo&gt;&gt; cls = List&lt;Foo&gt;.class\n</code></pre>\n\n<p>How can I get a <code>Class&lt;List&lt;Foo&gt;&gt;</code> statically, e.g. using the class literal?</p>\n\n<p>I <em>could</em> use <code>@SuppressWarnings(\"unchecked\")</code> to get rid of the warnings caused by the non-parameterized use of List in the first example, <code>Class&lt;List&gt; cls = List.class</code>, but I'd rather not.</p>\n\n<p>Any suggestions?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1684241638,"post_id":76263146,"comment_id":134486507,"body_markdown":"You probably still have the reference to the deleted address(es) in your person object. Remove them from the addressList.","body":"You probably still have the reference to the deleted address(es) in your person object. Remove them from the addressList."},{"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"score":0,"creation_date":1684242792,"post_id":76263146,"comment_id":134486845,"body_markdown":"How though? Thought deleteAll would take care of it automatically.","body":"How though? Thought deleteAll would take care of it automatically."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684245361,"post_id":76263146,"comment_id":134487601,"body_markdown":"You shouldn&#39;t try this, as JPA does caching by the entity ID - delete then persist is pretty much just an undo operation internally so I don&#39;t know why you&#39;d want delete then insert statements. That said, your issue is not likely with the delete then persist, but with your transactional context; the same issue you have in your other question. Put another way, are any changes you make committed and visible through your DB client? @Transactional is a Spring thing, so you&#39;d have to look at the contracts and how your methods chain together to understand why this might not work the way you want","body":"You shouldn&#39;t try this, as JPA does caching by the entity ID - delete then persist is pretty much just an undo operation internally so I don&#39;t know why you&#39;d want delete then insert statements. That said, your issue is not likely with the delete then persist, but with your transactional context; the same issue you have in your other question. Put another way, are any changes you make committed and visible through your DB client? @Transactional is a Spring thing, so you&#39;d have to look at the contracts and how your methods chain together to understand why this might not work the way you want"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1684245575,"post_id":76263146,"comment_id":134487676,"body_markdown":"If your issue is solely with the delete not working, that you are trying to delete something and seeing an issue because you want it gone in the end - you are, as the error suggest, passing in an entity that you&#39;ve marked to delete to the save/merge operation. Look at your model again, you&#39;ve got references between entities marked as cascade merge. So if they aren&#39;t null when one of those entities is saved, the save is likely cascading to the entity you want to delete, causing it to undo the delete. Clear and manage your references and the problem will go away.","body":"If your issue is solely with the delete not working, that you are trying to delete something and seeing an issue because you want it gone in the end - you are, as the error suggest, passing in an entity that you&#39;ve marked to delete to the save/merge operation. Look at your model again, you&#39;ve got references between entities marked as cascade merge. So if they aren&#39;t null when one of those entities is saved, the save is likely cascading to the entity you want to delete, causing it to undo the delete. Clear and manage your references and the problem will go away."}],"answers":[{"tags":[],"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684268503,"creation_date":1684268503,"answer_id":76266804,"question_id":76263146,"body_markdown":"The issue is that you have reference in your `addressList` to some of the Address instances that were delete.\r\nIf you debug and set a breakpoint before saving the `Person`, you will see that this list holds the IDs of the deleted addresses.\r\nDeleting the `Address` will not result in it being removed from the other (`Person`) object as long as it was loaded in memory before delete.\r\n\r\nI see 2 way to fix this:\r\n\r\n 1. You fetch the Person from JPA after deletion.\r\n 2. You manually remove the deleted addresses from the list\r\n\r\nAs you have a list of addresses that you pass to the deleteAll, I guess you have everything you need to use solution 2. Just do a `person.addressList.removeAll(//list of addresses) ` before saving.\r\n\r\nThis is assuming that you want all addresses removed from DB. If you want to recreated them, you could remove the IDs of the addresses in the list.","title":"How do I perform delete and save under same transaction?","body":"<p>The issue is that you have reference in your <code>addressList</code> to some of the Address instances that were delete.\nIf you debug and set a breakpoint before saving the <code>Person</code>, you will see that this list holds the IDs of the deleted addresses.\nDeleting the <code>Address</code> will not result in it being removed from the other (<code>Person</code>) object as long as it was loaded in memory before delete.</p>\n<p>I see 2 way to fix this:</p>\n<ol>\n<li>You fetch the Person from JPA after deletion.</li>\n<li>You manually remove the deleted addresses from the list</li>\n</ol>\n<p>As you have a list of addresses that you pass to the deleteAll, I guess you have everything you need to use solution 2. Just do a <code>person.addressList.removeAll(//list of addresses) </code> before saving.</p>\n<p>This is assuming that you want all addresses removed from DB. If you want to recreated them, you could remove the IDs of the addresses in the list.</p>\n"},{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684317633,"creation_date":1684317633,"answer_id":76270856,"question_id":76263146,"body_markdown":"For your mapping calling `AddressRespository.deleteAll(Iterable)` is not enough, because it removes `Address` items from the repo, but not from the `Person.addressList()`. To fix your issue you need to modify your code as\r\n```java\r\nperson.getAddressList().removeAll(addressesToBeRemoved);\r\nAddressRespository.deleteAll(addressesToBeRemoved);\r\n```\r\nP.S. As soon as you have `orphanRemoval = true` in your `@OneToMany` declaration if the addresses you are removing are not referenced from another `Person` instance it can be enough just to remove addresses from `addressList()` to make Hibernate remove them from the `address` table as well:\r\n```java\r\nperson.getAddressList().removeAll(addressesToBeRemoved);\r\n```\r\nSee this answer: https://stackoverflow.com/a/60838256/12473843","title":"How do I perform delete and save under same transaction?","body":"<p>For your mapping calling <code>AddressRespository.deleteAll(Iterable)</code> is not enough, because it removes <code>Address</code> items from the repo, but not from the <code>Person.addressList()</code>. To fix your issue you need to modify your code as</p>\n<pre class=\"lang-java prettyprint-override\"><code>person.getAddressList().removeAll(addressesToBeRemoved);\nAddressRespository.deleteAll(addressesToBeRemoved);\n</code></pre>\n<p>P.S. As soon as you have <code>orphanRemoval = true</code> in your <code>@OneToMany</code> declaration if the addresses you are removing are not referenced from another <code>Person</code> instance it can be enough just to remove addresses from <code>addressList()</code> to make Hibernate remove them from the <code>address</code> table as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>person.getAddressList().removeAll(addressesToBeRemoved);\n</code></pre>\n<p>See this answer: <a href=\"https://stackoverflow.com/a/60838256/12473843\">https://stackoverflow.com/a/60838256/12473843</a></p>\n"}],"owner":{"account_id":27660885,"reputation":7,"user_id":21113755,"display_name":"cs55"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684317633,"creation_date":1684240888,"question_id":76263146,"body_markdown":"I have two entities like this with joins,\r\n\r\nEntity `Address`:\r\n\r\n```\r\n@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\r\n@JsonBackReference\r\n@EqaulsAndHashCode.Exclude\r\n@ToString.Exclude\r\n@JoinColumn(name=&quot;PERSON_ID&quot;, referencedColumns = &quot;PERSON_ID&quot;)\r\nprivate Person personDetails;\r\n```\r\n\r\nEntity `Person`:\r\n\r\n```\r\n@OneToMany(mappedBy = &quot;personDetails&quot;, orphanRemoval = true, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n@ToString.Exclude\r\n@EqualsAndHashCode.Exclude\r\n@JsonManagedReference\r\nList&lt;Address&gt; addressList = new ArrayList&lt;&gt;();\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI am deleting `Address` using `AddressRespository.deleteAll(//list of address)` inside a `@Transactional` method. This method then calls another method from a different service which is also annotated with `@Transactional` and updates one of the property of Person and performs the `save` operation.\r\n\r\nAs this stage it returns an error `deleted instance passed to merge`.\r\n\r\nI tried to use `flush` after `deleteAll` which resolves this error but it did not delete anything in the database.\r\n\r\nHow can I achieve the desired outcome here?","title":"How do I perform delete and save under same transaction?","body":"<p>I have two entities like this with joins,</p>\n<p>Entity <code>Address</code>:</p>\n<pre><code>@ManyToOne(fetch = FetchType.LAZY, cascade = CascadeType.MERGE)\n@JsonBackReference\n@EqaulsAndHashCode.Exclude\n@ToString.Exclude\n@JoinColumn(name=&quot;PERSON_ID&quot;, referencedColumns = &quot;PERSON_ID&quot;)\nprivate Person personDetails;\n</code></pre>\n<p>Entity <code>Person</code>:</p>\n<pre><code>@OneToMany(mappedBy = &quot;personDetails&quot;, orphanRemoval = true, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\n@ToString.Exclude\n@EqualsAndHashCode.Exclude\n@JsonManagedReference\nList&lt;Address&gt; addressList = new ArrayList&lt;&gt;();\n</code></pre>\n<p>I am deleting <code>Address</code> using <code>AddressRespository.deleteAll(//list of address)</code> inside a <code>@Transactional</code> method. This method then calls another method from a different service which is also annotated with <code>@Transactional</code> and updates one of the property of Person and performs the <code>save</code> operation.</p>\n<p>As this stage it returns an error <code>deleted instance passed to merge</code>.</p>\n<p>I tried to use <code>flush</code> after <code>deleteAll</code> which resolves this error but it did not delete anything in the database.</p>\n<p>How can I achieve the desired outcome here?</p>\n"},{"tags":["java","selenium-webdriver","intellij-idea","cucumber"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1684269324,"post_id":76266771,"comment_id":134493098,"body_markdown":"Make sure your run configuration [looks like this](https://i.imgur.com/2oey7ty.png).","body":"Make sure your run configuration <a href=\"https://i.imgur.com/2oey7ty.png\" rel=\"nofollow noreferrer\">looks like this</a>."},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1684270511,"post_id":76266771,"comment_id":134493303,"body_markdown":"Also, copy this projects code. Your `pom.xml` is going to cause you grief in the long run. https://github.com/cucumber/cucumber-java-skeleton","body":"Also, copy this projects code. Your <code>pom.xml</code> is going to cause you grief in the long run. <a href=\"https://github.com/cucumber/cucumber-java-skeleton\" rel=\"nofollow noreferrer\">github.com/cucumber/cucumber-java-skeleton</a>"},{"owner":{"account_id":28614750,"reputation":1,"user_id":21909010,"display_name":"Mahmood Alsaftawi"},"score":0,"creation_date":1684276103,"post_id":76266771,"comment_id":134494146,"body_markdown":"@CrazyCoder I tried that exact config and still had the same issue","body":"@CrazyCoder I tried that exact config and still had the same issue"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1684276158,"post_id":76266771,"comment_id":134494150,"body_markdown":"This config works for me in a project you shared. Using IntelliJ IDEA 2023.1.1.","body":"This config works for me in a project you shared. Using IntelliJ IDEA 2023.1.1."}],"answers":[{"comments":[{"owner":{"account_id":28614750,"reputation":1,"user_id":21909010,"display_name":"Mahmood Alsaftawi"},"score":0,"creation_date":1684334991,"post_id":76270808,"comment_id":134503779,"body_markdown":"I got it to work without a runnerclass. But I also added it in to make things easier down the line, Thanks!","body":"I got it to work without a runnerclass. But I also added it in to make things easier down the line, Thanks!"}],"tags":[],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684317298,"creation_date":1684317298,"answer_id":76270808,"question_id":76266771,"body_markdown":"The main problem was that the feature file couldn&#39;t find the location of your steps. I created a RunnerClass for you, and it worked out on my PC\r\n\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = &quot;src/test/resources&quot;,\r\n            glue = &quot;com.test.definitions&quot;\r\n    )\r\n    public class CucumberRunner {\r\n    \r\n    }\r\n\r\nI&#39;ll add a Pull Request on your github project.","title":"Cucumber/Selenium Maven Project - Running into step undefined issue even though I have steps defined in .java class","body":"<p>The main problem was that the feature file couldn't find the location of your steps. I created a RunnerClass for you, and it worked out on my PC</p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = &quot;src/test/resources&quot;,\n        glue = &quot;com.test.definitions&quot;\n)\npublic class CucumberRunner {\n\n}\n</code></pre>\n<p>I'll add a Pull Request on your github project.</p>\n"}],"owner":{"account_id":28614750,"reputation":1,"user_id":21909010,"display_name":"Mahmood Alsaftawi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684317298,"creation_date":1684268142,"question_id":76266771,"body_markdown":"I have a very simple maven project setup and im using selenium webdriver and cucumber to run some basic tests. I have my step definitions .java file in a package under java &gt; test and my .feature file in a resources folder which I have set as the test resources root.\r\n\r\n[Issue](https://i.stack.imgur.com/y0lkA.png)\r\n\r\nHere&#39;s the link to my repository in case that helps: https://github.com/mahmood-alsaftawi/AmazonSelenium\r\n\r\nThe things ive tried so far so updating intelliJ, ensuring the run config glue field was set to the step definitions .java file. Ive tried some other recommendations but I&#39;ve had no luck.","title":"Cucumber/Selenium Maven Project - Running into step undefined issue even though I have steps defined in .java class","body":"<p>I have a very simple maven project setup and im using selenium webdriver and cucumber to run some basic tests. I have my step definitions .java file in a package under java &gt; test and my .feature file in a resources folder which I have set as the test resources root.</p>\n<p><a href=\"https://i.stack.imgur.com/y0lkA.png\" rel=\"nofollow noreferrer\">Issue</a></p>\n<p>Here's the link to my repository in case that helps: <a href=\"https://github.com/mahmood-alsaftawi/AmazonSelenium\" rel=\"nofollow noreferrer\">https://github.com/mahmood-alsaftawi/AmazonSelenium</a></p>\n<p>The things ive tried so far so updating intelliJ, ensuring the run config glue field was set to the step definitions .java file. Ive tried some other recommendations but I've had no luck.</p>\n"},{"tags":["java","java-8","language-lawyer","default-method","object-class"],"comments":[{"owner":{"account_id":7048783,"reputation":173,"user_id":5398684,"display_name":"PANKAJ DUBEY"},"score":0,"creation_date":1684263037,"post_id":76266192,"comment_id":134492025,"body_markdown":"Followed this link: https://stackoverflow.com/questions/24016962/java8-why-is-it-forbidden-to-define-a-default-method-for-a-method-from-java-lan","body":"Followed this link: <a href=\"https://stackoverflow.com/questions/24016962/java8-why-is-it-forbidden-to-define-a-default-method-for-a-method-from-java-lan\" title=\"java8 why is it forbidden to define a default method for a method from java lan\">stackoverflow.com/questions/24016962/&hellip;</a>"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1684264107,"post_id":76266192,"comment_id":134492221,"body_markdown":"It looks like a compiler error in java 8.  I suppose it gets confused by the fact that `Object.finalize()` is declared as `protected`.","body":"It looks like a compiler error in java 8.  I suppose it gets confused by the fact that <code>Object.finalize()</code> is declared as <code>protected</code>."},{"owner":{"account_id":7048783,"reputation":173,"user_id":5398684,"display_name":"PANKAJ DUBEY"},"score":0,"creation_date":1684267492,"post_id":76266192,"comment_id":134492811,"body_markdown":"@MikeNakis Seems same to me. But why unlike toString(), ovrriding clone() and finalize() inside iterface is allowed?","body":"@MikeNakis Seems same to me. But why unlike toString(), ovrriding clone() and finalize() inside iterface is allowed?"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":1,"creation_date":1684267884,"post_id":76266192,"comment_id":134492861,"body_markdown":"According to Brian Goetz on the answer that you linked to, the only methods they disallow in interfaces are `equals()`, `hashCode()`, and `toString()`. This list of methods does not contain `clone()` and `finalize()`. You might ask okay, so, why? I do not know.","body":"According to Brian Goetz on the answer that you linked to, the only methods they disallow in interfaces are <code>equals()</code>, <code>hashCode()</code>, and <code>toString()</code>. This list of methods does not contain <code>clone()</code> and <code>finalize()</code>. You might ask okay, so, why? I do not know."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684308738,"post_id":76266192,"comment_id":134497596,"body_markdown":"The compiler is correct and I wouldn’t even call the error message misleading. A few more clarifying words would be helpful, though.","body":"The compiler is correct and I wouldn’t even call the error message misleading. A few more clarifying words would be helpful, though."}],"answers":[{"comments":[{"owner":{"account_id":7048783,"reputation":173,"user_id":5398684,"display_name":"PANKAJ DUBEY"},"score":0,"creation_date":1684435013,"post_id":76269470,"comment_id":134520911,"body_markdown":"The additional rule that you can’t override methods of Object with default methods is not necessary to enforce this.---   You mean is a rule for public methods of Object class only right? Because in case of above Program 2, ToStringer interface it isn&#39;t allowing to override. Please correct me if I am wrong.","body":"The additional rule that you can’t override methods of Object with default methods is not necessary to enforce this.---   You mean is a rule for public methods of Object class only right? Because in case of above Program 2, ToStringer interface it isn&#39;t allowing to override. Please correct me if I am wrong."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684766261,"post_id":76269470,"comment_id":134560860,"body_markdown":"I think, you mean the correct thing. This sentence refers to the rule that prevents you from compiling the interface in the second example. As explained in the answer, it affects public methods only, because you can only override public methods in the interface in the first place. So we can say that it applies to *all* methods from java.lang.Object an interface can override, which is a better way to express the intention. But for non-public methods, this statement is [vacuously true](https://en.wikipedia.org/wiki/Vacuous_truth).","body":"I think, you mean the correct thing. This sentence refers to the rule that prevents you from compiling the interface in the second example. As explained in the answer, it affects public methods only, because you can only override public methods in the interface in the first place. So we can say that it applies to <i>all</i> methods from java.lang.Object an interface can override, which is a better way to express the intention. But for non-public methods, this statement is <a href=\"https://en.wikipedia.org/wiki/Vacuous_truth\" rel=\"nofollow noreferrer\">vacuously true</a>."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684308850,"creation_date":1684308024,"answer_id":76269470,"question_id":76266192,"body_markdown":"When a class inherits a method from an interface and from its superclass, the superclass method has precedence. This is regardless of whether any of the methods is `abstract`.\r\n\r\nTherefore, when your `FOO` class does not declare the `clone()` and `finalize()` methods, it will inherit the *`protected`* methods from its superclass. The fact that the interface’s methods are `default` does not matter here. But the fact that these interface methods are implicitly `public` does matter, as the inherited `protected` methods are incompatible with the interface’s `public` declarations.\r\n\r\nThat’s exactly what the error message tells you, the inherited protected “*finalize() in Object*” cannot implement the public interface method “*finalize() in ClonerFinalizer*” because that would “*assign weaker access privileges*”.\r\n\r\nThe fact that superclass methods have precedence implies that you can never override a class’s method with an interface’s `default` method and therefore, it is impossible to provide an implementation for any of the methods of `java.lang.Object` without redeclaring the method in the implementation class.\r\n\r\nThe additional rule that you can’t override methods of `Object` with `default` methods is not necessary to enforce this. It’s just there to keep you from trying, so you don’t waste your time.\r\n\r\nThe reason why this doesn’t prevent you from declaring a `clone()` or `finalize()` method is simple: these declarations do not override a method.\r\n\r\nInterfaces can’t have `protected` methods, hence, these `protected` methods do not exist in the interface in the first place and your declaration is not overriding them. You can check this by adding an `@Override` annotation—it will cause a compiler error as the method does not override a method.\r\n","title":"Override Object methods inside interface using default methods- Misleading error","body":"<p>When a class inherits a method from an interface and from its superclass, the superclass method has precedence. This is regardless of whether any of the methods is <code>abstract</code>.</p>\n<p>Therefore, when your <code>FOO</code> class does not declare the <code>clone()</code> and <code>finalize()</code> methods, it will inherit the <em><code>protected</code></em> methods from its superclass. The fact that the interface’s methods are <code>default</code> does not matter here. But the fact that these interface methods are implicitly <code>public</code> does matter, as the inherited <code>protected</code> methods are incompatible with the interface’s <code>public</code> declarations.</p>\n<p>That’s exactly what the error message tells you, the inherited protected “<em>finalize() in Object</em>” cannot implement the public interface method “<em>finalize() in ClonerFinalizer</em>” because that would “<em>assign weaker access privileges</em>”.</p>\n<p>The fact that superclass methods have precedence implies that you can never override a class’s method with an interface’s <code>default</code> method and therefore, it is impossible to provide an implementation for any of the methods of <code>java.lang.Object</code> without redeclaring the method in the implementation class.</p>\n<p>The additional rule that you can’t override methods of <code>Object</code> with <code>default</code> methods is not necessary to enforce this. It’s just there to keep you from trying, so you don’t waste your time.</p>\n<p>The reason why this doesn’t prevent you from declaring a <code>clone()</code> or <code>finalize()</code> method is simple: these declarations do not override a method.</p>\n<p>Interfaces can’t have <code>protected</code> methods, hence, these <code>protected</code> methods do not exist in the interface in the first place and your declaration is not overriding them. You can check this by adding an <code>@Override</code> annotation—it will cause a compiler error as the method does not override a method.</p>\n"}],"owner":{"account_id":7048783,"reputation":173,"user_id":5398684,"display_name":"PANKAJ DUBEY"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76269470,"answer_count":1,"score":1,"last_activity_date":1684316828,"creation_date":1684262712,"question_id":76266192,"body_markdown":"Question: Need to understand why in case of Program 1 getting this misleading error, but in Program 2 it gives correct error? Also why unlike `toString(),` `equals(Object),` and `hashCode(),` overriding `clone()` and `finalize()` inside interface is allowed?\r\n\r\nProgram 1\r\n\r\nFor below program getting misleading error:\r\n\r\n    FOO.java:10: error: finalize() in Object cannot implement finalize() in ClonerFinalizer\r\n\r\n    public class FOO implements ClonerFinalizer {\r\n                 ^\r\n    attempting to assign weaker access privileges; was public\r\n\r\n\r\n    interface ClonerFinalizer {\r\n    \tdefault Object clone() {\r\n    \t\tSystem.out.println(&quot;default clone&quot;); return this;\r\n    \t}\r\n    \tdefault void finalize() {\r\n    \t\tSystem.out.println(&quot;default finalize&quot;);\r\n    \t}\r\n    }\r\n    \t\r\n    public class FOO implements ClonerFinalizer {\r\n    // \t@Override\r\n    // \tpublic Object clone() {\r\n    // \t\treturn ClonerFinalizer.super.clone();\r\n    // \t}\r\n    // \t@Override\r\n    // \tpublic void finalize() {\r\n    // \t\tClonerFinalizer.super.finalize();\r\n    //     }\r\n        public static void main(String... args) {\r\n    \t\tnew FOO().clone();\r\n    \t\tnew FOO().finalize();\r\n    \t}\r\n    }\r\n\r\nBut if uncommenting above commented code then it gives correct output.\r\n\r\nProgram 2\r\n\r\nUnlike above program in below program clear/correct error\r\n\r\n    FOO.java:2: error: default method toString in interface ToStringer overrides a member of java.lang.Object\r\n\r\n\t\tdefault String toString() {\r\n\t\t               ^\r\n\r\n    1 error\r\n\r\n    interface ToStringer {\r\n    \tdefault String toString() {\r\n    \t\tSystem.out.println(&quot;default clone&quot;); return &quot;HI&quot;;\r\n    \t}\r\n    }\r\n    \t\t\t\r\n    public class FOO implements ToStringer {\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn ToStringer.super.toString();\r\n    \t}\r\n    \t\t\t\r\n    \tpublic static void main(String... args) {\r\n    \t\tnew FOO().toString();\r\n    \t}\r\n    }\r\n","title":"Override Object methods inside interface using default methods- Misleading error","body":"<p>Question: Need to understand why in case of Program 1 getting this misleading error, but in Program 2 it gives correct error? Also why unlike <code>toString(),</code> <code>equals(Object),</code> and <code>hashCode(),</code> overriding <code>clone()</code> and <code>finalize()</code> inside interface is allowed?</p>\n<p>Program 1</p>\n<p>For below program getting misleading error:</p>\n<pre><code>FOO.java:10: error: finalize() in Object cannot implement finalize() in ClonerFinalizer\n\npublic class FOO implements ClonerFinalizer {\n             ^\nattempting to assign weaker access privileges; was public\n\n\ninterface ClonerFinalizer {\n    default Object clone() {\n        System.out.println(&quot;default clone&quot;); return this;\n    }\n    default void finalize() {\n        System.out.println(&quot;default finalize&quot;);\n    }\n}\n    \npublic class FOO implements ClonerFinalizer {\n//  @Override\n//  public Object clone() {\n//      return ClonerFinalizer.super.clone();\n//  }\n//  @Override\n//  public void finalize() {\n//      ClonerFinalizer.super.finalize();\n//     }\n    public static void main(String... args) {\n        new FOO().clone();\n        new FOO().finalize();\n    }\n}\n</code></pre>\n<p>But if uncommenting above commented code then it gives correct output.</p>\n<p>Program 2</p>\n<p>Unlike above program in below program clear/correct error</p>\n<pre><code>FOO.java:2: error: default method toString in interface ToStringer overrides a member of java.lang.Object\n\n    default String toString() {\n                   ^\n\n1 error\n\ninterface ToStringer {\n    default String toString() {\n        System.out.println(&quot;default clone&quot;); return &quot;HI&quot;;\n    }\n}\n            \npublic class FOO implements ToStringer {\n    @Override\n    public String toString() {\n        return ToStringer.super.toString();\n    }\n            \n    public static void main(String... args) {\n        new FOO().toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","if-statement"],"comments":[{"owner":{"account_id":4181404,"reputation":6036,"user_id":3426328,"accept_rate":83,"display_name":"TDG"},"score":4,"creation_date":1648636231,"post_id":71675523,"comment_id":126673055,"body_markdown":"It checks that `ch` is a letter in the range abc...z.","body":"It checks that <code>ch</code> is a letter in the range abc...z."}],"answers":[{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1648636784,"post_id":71675638,"comment_id":126673297,"body_markdown":"In that case you treat chars like bytes, which is only true if you operate in ASCII. Even UTF-8 can have national special characters that are completely ignored by this approach.","body":"In that case you treat chars like bytes, which is only true if you operate in ASCII. Even UTF-8 can have national special characters that are completely ignored by this approach."}],"tags":[],"owner":{"account_id":8937054,"reputation":1080,"user_id":6667539,"display_name":"Paplusc"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1648654292,"creation_date":1648636504,"answer_id":71675638,"question_id":71675523,"body_markdown":"A benefit of chars is that you can operate with them like if they were integers. \r\n\r\nFor example, you can do you this as well `&#39;a&#39; + 3 = &#39;d&#39;`\r\n\r\nMeaning that `&#39;a&#39; &lt; &#39;d&#39; = true`.\r\n","title":"Count Vowels and Consonants","body":"<p>A benefit of chars is that you can operate with them like if they were integers.</p>\n<p>For example, you can do you this as well <code>'a' + 3 = 'd'</code></p>\n<p>Meaning that <code>'a' &lt; 'd' = true</code>.</p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648636676,"creation_date":1648636676,"answer_id":71675677,"question_id":71675523,"body_markdown":"The comparison of characters the way it is done can create confusion, as you can see from https://stackoverflow.com/questions/43450659/java-character-comparison.\r\n\r\nBasically @TDG is correct by saying that ch is checked to be between &#39;a&#39; and &#39;z&#39;, and thus the check might be translated as &quot;is ch a lower case character?&quot;\r\n\r\nThe tricky part is that depending on the language people use the expectation can be different, especially since language specific characters are not taken into account. In German language, &#39;&#246;&#39; would definitely qualify as lower case character but is not in the range of the check. The complexity may get evident by studying the [Unicode code charts][1].\r\n\r\nThe best check is to use [Character.isLowerCase()][2].\r\n\r\n\r\n  [1]: http://www.unicode.org/charts/\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Character.html#isLowerCase(char)","title":"Count Vowels and Consonants","body":"<p>The comparison of characters the way it is done can create confusion, as you can see from <a href=\"https://stackoverflow.com/questions/43450659/java-character-comparison\">Java: Character comparison</a>.</p>\n<p>Basically @TDG is correct by saying that ch is checked to be between 'a' and 'z', and thus the check might be translated as &quot;is ch a lower case character?&quot;</p>\n<p>The tricky part is that depending on the language people use the expectation can be different, especially since language specific characters are not taken into account. In German language, 'ö' would definitely qualify as lower case character but is not in the range of the check. The complexity may get evident by studying the <a href=\"http://www.unicode.org/charts/\" rel=\"nofollow noreferrer\">Unicode code charts</a>.</p>\n<p>The best check is to use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/lang/Character.html#isLowerCase(char)\" rel=\"nofollow noreferrer\">Character.isLowerCase()</a>.</p>\n"},{"tags":[],"owner":{"account_id":13821922,"reputation":3012,"user_id":9977151,"display_name":"ATP"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648637845,"creation_date":1648637845,"answer_id":71675980,"question_id":71675523,"body_markdown":"`char` is a character that represented by a number which is the index of the character in the `ASCII/unicode` table, since the the alphabet characters are arranged in order in the `ASCII` table, the following code checks if the `ch` is in the range of the lowercase alphabet characters representation which is `97` to `122` in the table.\r\n\r\nusing `(int) ch` you can see the decimal value of the character and can compare it with the index in the ASCII table.\r\n\r\n\r\nyou can see the ASCII table here:https://www.asciitable.com/","title":"Count Vowels and Consonants","body":"<p><code>char</code> is a character that represented by a number which is the index of the character in the <code>ASCII/unicode</code> table, since the the alphabet characters are arranged in order in the <code>ASCII</code> table, the following code checks if the <code>ch</code> is in the range of the lowercase alphabet characters representation which is <code>97</code> to <code>122</code> in the table.</p>\n<p>using <code>(int) ch</code> you can see the decimal value of the character and can compare it with the index in the ASCII table.</p>\n<p>you can see the ASCII table here:<a href=\"https://www.asciitable.com/\" rel=\"nofollow noreferrer\">https://www.asciitable.com/</a></p>\n"},{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1648663629,"post_id":71677287,"comment_id":126684349,"body_markdown":"Note that Java works with Unicode internally - without knowing the author&#39;s preferred language the ASCII chart is not appropriate. And why should upper case vowels be counted as consonants?","body":"Note that Java works with Unicode internally - without knowing the author&#39;s preferred language the ASCII chart is not appropriate. And why should upper case vowels be counted as consonants?"}],"tags":[],"owner":{"account_id":18213949,"reputation":227,"user_id":13255918,"display_name":"DereckChamboko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1648643529,"creation_date":1648643529,"answer_id":71677287,"question_id":71675523,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RrL70.png\r\n\r\n - notice the if statement catches all vowels\r\n- whats ever is not a vowel will either be a capital letter, a number, a special character or consonants\r\n\r\n    else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;)  \r\nthis checks if its not a vowel does it atleast fall in the range of small letter &#39;a&#39;-&#39;z&#39; and is not a special charecter or a number.( we knonw its not a vowel but is it in the ascii range 26=a -51=z)\r\n\r\nrefer to the ASCII table to understand the range comparison\r\n\r\n","title":"Count Vowels and Consonants","body":"<p><a href=\"https://i.stack.imgur.com/RrL70.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RrL70.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>notice the if statement catches all vowels</p>\n</li>\n<li><p>whats ever is not a vowel will either be a capital letter, a number, a special character or consonants</p>\n<p>else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z')<br />\nthis checks if its not a vowel does it atleast fall in the range of small letter 'a'-'z' and is not a special charecter or a number.( we knonw its not a vowel but is it in the ascii range 26=a -51=z)</p>\n</li>\n</ul>\n<p>refer to the ASCII table to understand the range comparison</p>\n"},{"comments":[{"owner":{"account_id":3484078,"reputation":2533,"user_id":2915423,"display_name":"helvete"},"score":0,"creation_date":1684426525,"post_id":76270702,"comment_id":134519057,"body_markdown":"Thank you for this code snippet, which might provide some limited, immediate help. A [proper explanation](https://meta.stackexchange.com/q/114762/349538) would greatly improve its long-term value by showing why this is a good solution to the problem and would make it more useful to future readers with other, similar questions. Please [edit] your answer to add some explanation, including the assumptions you’ve made.","body":"Thank you for this code snippet, which might provide some limited, immediate help. A <a href=\"https://meta.stackexchange.com/q/114762/349538\">proper explanation</a> would greatly improve its long-term value by showing why this is a good solution to the problem and would make it more useful to future readers with other, similar questions. Please <a href=\"https://stackoverflow.com/posts/76270702/edit\">edit</a> your answer to add some explanation, including the assumptions you’ve made."}],"tags":[],"owner":{"account_id":28619116,"reputation":1,"user_id":21912483,"display_name":"Kumar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684316657,"creation_date":1684316657,"answer_id":76270702,"question_id":71675523,"body_markdown":"    package com.bharat;\r\n    \r\n    public class CaptchaGenerator {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Hello World&quot;);\r\n    \t\tString s = &quot;hello world welcome the programming world&quot;;\r\n    \t\tStringBuffer sb = new StringBuffer();\r\n    \t\tStringBuffer sb1 = new StringBuffer();\r\n    \t\tString k = null;\r\n    \t\tint vc = 0;\r\n    \t\tchar ch[] = new char[] { &#39;a&#39;, &#39;e&#39;, &#39;i&#39;, &#39;o&#39;, &#39;u&#39; };\r\n    \t\tint v = s.length();\r\n    \t\tSystem.out.println(&quot;the length of the given string is which includes with spaces:&quot;+v);\r\n    \t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n    \r\n    \t\t\tif (s.charAt(i) == &#39; &#39;) {\r\n    \t\t\t\tv--;\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;the length of the given string after removing the spaces:&quot;+v);\r\n    \t\t\r\n    \r\n    \t\tfor (int i = 0; i &lt; s.length(); i++) {\r\n    \r\n    \t\t\tif (s.charAt(i) != &#39; &#39;) {\r\n    \r\n    \t\t\t\tfor (int j = 0; j &lt; ch.length; j++) {\r\n    \r\n    \t\t\t\t\tif (s.charAt(i) == ch[j]) {\r\n    \t\t\t\t\t\t//System.out.println(&quot;vowels&quot;);\r\n    \t\t\t\t\t\tsb.append(s.charAt(i));\r\n    \t\t\t\t\t\tvc++;\r\n    \t\t\t\t\t\tk = sb.toString();\r\n    \r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;vowels count is:&quot; + vc);\r\n    \t\tint l = k.length();\r\n    \t\tint m = v - l;\r\n    \t\tSystem.out.println(&quot;the consonants in the string:&quot;+m);\r\n    \r\n    \t}\r\n    }","title":"Count Vowels and Consonants","body":"<pre><code>package com.bharat;\n\npublic class CaptchaGenerator {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World&quot;);\n        String s = &quot;hello world welcome the programming world&quot;;\n        StringBuffer sb = new StringBuffer();\n        StringBuffer sb1 = new StringBuffer();\n        String k = null;\n        int vc = 0;\n        char ch[] = new char[] { 'a', 'e', 'i', 'o', 'u' };\n        int v = s.length();\n        System.out.println(&quot;the length of the given string is which includes with spaces:&quot;+v);\n        for (int i = 0; i &lt; s.length(); i++) {\n\n            if (s.charAt(i) == ' ') {\n                v--;\n            }\n\n        }\n        System.out.println(&quot;the length of the given string after removing the spaces:&quot;+v);\n        \n\n        for (int i = 0; i &lt; s.length(); i++) {\n\n            if (s.charAt(i) != ' ') {\n\n                for (int j = 0; j &lt; ch.length; j++) {\n\n                    if (s.charAt(i) == ch[j]) {\n                        //System.out.println(&quot;vowels&quot;);\n                        sb.append(s.charAt(i));\n                        vc++;\n                        k = sb.toString();\n\n                    }\n\n                }\n\n            }\n\n        }\n        System.out.println(&quot;vowels count is:&quot; + vc);\n        int l = k.length();\n        int m = v - l;\n        System.out.println(&quot;the consonants in the string:&quot;+m);\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18315148,"reputation":105,"user_id":13337068,"display_name":"Neel Chavan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":457,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71677287,"answer_count":5,"score":1,"last_activity_date":1684316657,"creation_date":1648636012,"question_id":71675523,"body_markdown":"I was exploring this code which gives a count of vowels and consonants, but didn&#39;t understand this `else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;)` line of code. Please tell me what&#39;s the logic behind it.\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Vowels {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter string&quot;);\r\n\t\tString str = sc.nextLine();\r\n\t\tint vowl = 0;\r\n\t\tint conso = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; str.length(); i++) {\r\n\t\t\tchar ch = str.charAt(i);\r\n\t\t\tif (ch == &#39;a&#39; || ch == &#39;e&#39; || ch == &#39;i&#39; || ch == &#39;o&#39; || ch == &#39;u&#39;) {\r\n\t\t\t\tvowl++;\r\n\t\t\t} else if (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;z&#39;) {\r\n\t\t\t\tconso++;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(vowl);\r\n\t\tSystem.out.println(conso);\r\n\t}\r\n}\r\n```","title":"Count Vowels and Consonants","body":"<p>I was exploring this code which gives a count of vowels and consonants, but didn't understand this <code>else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z')</code> line of code. Please tell me what's the logic behind it.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Vowels {\n\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter string&quot;);\n        String str = sc.nextLine();\n        int vowl = 0;\n        int conso = 0;\n\n        for (int i = 0; i &lt; str.length(); i++) {\n            char ch = str.charAt(i);\n            if (ch == 'a' || ch == 'e' || ch == 'i' || ch == 'o' || ch == 'u') {\n                vowl++;\n            } else if (ch &gt;= 'a' &amp;&amp; ch &lt;= 'z') {\n                conso++;\n            }\n        }\n        System.out.println(vowl);\n        System.out.println(conso);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":2530619,"reputation":4822,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1684314834,"post_id":76270398,"comment_id":134499005,"body_markdown":"whats the repo?","body":"whats the repo?"},{"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"score":0,"creation_date":1684315128,"post_id":76270398,"comment_id":134499086,"body_markdown":"a Github repository","body":"a Github repository"},{"owner":{"account_id":2530619,"reputation":4822,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1684316233,"post_id":76270398,"comment_id":134499319,"body_markdown":"yes, i got that. If you&#39;d like some help, I could try to clone the repo and try to work out the problem.","body":"yes, i got that. If you&#39;d like some help, I could try to clone the repo and try to work out the problem."},{"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"score":0,"creation_date":1684316446,"post_id":76270398,"comment_id":134499364,"body_markdown":"https://github.com/hamza372/hamza372-ImageClassificationJavaStarter/tree/main","body":"<a href=\"https://github.com/hamza372/hamza372-ImageClassificationJavaStarter/tree/main\" rel=\"nofollow noreferrer\">github.com/hamza372/hamza372-ImageClassificationJavaStarter/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":2530619,"reputation":4822,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1684322834,"post_id":76270398,"comment_id":134500731,"body_markdown":"I&#39;ve cloned the repo. Android studio flagged that the sdk location was invalid and I allowed the known location for my sdk install. Gradle then sync&#39;d and the project built.","body":"I&#39;ve cloned the repo. Android studio flagged that the sdk location was invalid and I allowed the known location for my sdk install. Gradle then sync&#39;d and the project built."},{"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"score":0,"creation_date":1684330964,"post_id":76270398,"comment_id":134502685,"body_markdown":"thank you, I did so, but now I have this error: Failed to notify dependency resolution listener","body":"thank you, I did so, but now I have this error: Failed to notify dependency resolution listener"},{"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"score":0,"creation_date":1684331410,"post_id":76270398,"comment_id":134502800,"body_markdown":"and this error when I click on run button The state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem,Your project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project.\nIn the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes","body":"and this error when I click on run button The state of a Gradle build process (daemon) may be corrupt. Stopping all Gradle daemons may solve this problem,Your project may be using a third-party plugin which is not compatible with the other plugins in the project or the version of Gradle requested by the project. In the case of corrupt Gradle processes, you can also try closing the IDE and then killing all Java processes"},{"owner":{"account_id":2530619,"reputation":4822,"user_id":2199001,"accept_rate":100,"display_name":"Chris"},"score":0,"creation_date":1684331487,"post_id":76270398,"comment_id":134502819,"body_markdown":"I&#39;d do what it says","body":"I&#39;d do what it says"},{"owner":{"account_id":8646856,"reputation":116,"user_id":6473807,"display_name":"Henry Letting"},"score":0,"creation_date":1688560829,"post_id":76270398,"comment_id":135089308,"body_markdown":"@user21408341, You can refer to [this question](https://stackoverflow.com/questions/56192983/android-studio-is-using-this-jdk-location-which-is-different-to-what-gradle)","body":"@user21408341, You can refer to <a href=\"https://stackoverflow.com/questions/56192983/android-studio-is-using-this-jdk-location-which-is-different-to-what-gradle\">this question</a>"}],"owner":{"account_id":28028828,"reputation":3,"user_id":21408341,"display_name":"user21408341"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684316009,"creation_date":1684314648,"question_id":76270398,"body_markdown":"I&#39;m trying to build a repo from `GitHub` using `Android Studio` and whenever I try to build it, this message appears:\r\n```\r\n-Unable to find Gradle tasks to build: [:]. Build mode: REBUILD. Tests: None.\r\n-Multiple Gradle daemons might be spawned because the Gradle JDK and JAVA_HOME locations are different. Project\r\n```\r\n\r\nI tried different versions of `Android SDK` and `Java JDK`.\r\nI tried to put `Java JDK` and the project file in the same path, but none of them worked.\r\n\r\nAny help in this matter is appreciated.","title":"failed to build Gradle","body":"<p>I'm trying to build a repo from <code>GitHub</code> using <code>Android Studio</code> and whenever I try to build it, this message appears:</p>\n<pre><code>-Unable to find Gradle tasks to build: [:]. Build mode: REBUILD. Tests: None.\n-Multiple Gradle daemons might be spawned because the Gradle JDK and JAVA_HOME locations are different. Project\n</code></pre>\n<p>I tried different versions of <code>Android SDK</code> and <code>Java JDK</code>.\nI tried to put <code>Java JDK</code> and the project file in the same path, but none of them worked.</p>\n<p>Any help in this matter is appreciated.</p>\n"},{"tags":["java","spring-boot","kotlin","redis","r2dbc"],"owner":{"account_id":24430527,"reputation":43,"user_id":20894830,"display_name":"Erkan Isuf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684315881,"creation_date":1684315881,"question_id":76270586,"body_markdown":"i am having quite big issues to configure redis to my application. I have this config file:\r\n\r\n&gt; @Configuration\r\nclass RedisConfig {\r\n\r\n    @Bean\r\n    fun redisConnectionFactory(): JedisConnectionFactory? {\r\n        val config = RedisStandaloneConfiguration(&quot;localhost&quot;, 6379)\r\n        return JedisConnectionFactory(config)\r\n    }\r\n\r\n    @Bean\r\n    fun redisTemplate(redisConnectionFactory: RedisConnectionFactory?): RedisTemplate&lt;String, Any&gt; {\r\n        val template = RedisTemplate&lt;String, Any&gt;()\r\n        template.setConnectionFactory(redisConnectionFactory!!)\r\n        return template\r\n    }\r\n}\r\n\r\n\r\nthe gradle file looks like this:\r\n\r\n     implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\r\n        implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n        implementation(&quot;io.projectreactor.kotlin:reactor-kotlin-extensions&quot;)\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n        implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\r\n        implementation(&quot;org.postgresql:r2dbc-postgresql&quot;)\r\n        implementation(&quot;io.github.microutils:kotlin-logging:3.0.2&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n        implementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\r\n        implementation(&quot;com.mailjet:mailjet-client:5.2.2&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-redis&quot;\r\n        runtimeOnly(&quot;org.postgresql:postgresql&quot;)\r\n\r\nError happens the moment I add the data-redis dependency:\r\n\r\n      implementation(&quot;org.springframework.boot:spring-boot-starter-data-redis&quot;)\r\n\r\n\r\nThe actual message of error is:\r\n\r\n&gt; Parameter 5 of constructor in\r\n&gt; com.skenarios.microservices.export.services.DataService required a\r\n&gt; bean of type\r\n&gt; &#39;com.skenarios.microservices.export.repository.MyRepo&#39;\r\n&gt; that could not be found.\r\n\r\n\r\nRepository looks like this:\r\n\r\n&gt; interface RenovationRepository : CoroutineCrudRepository&lt;TypeYearValue, Int&gt; {\r\n\r\n    @Query(\r\n        &quot;&quot;&quot;Here my query&quot;&quot;&quot;\r\n    )\r\n    fun findItemsById(buildingId: Int, start: LocalDateTime, end: LocalDateTime): Flow&lt;TypeYearValue&gt;\r\n\r\n\r\nI feel like redis somehow conflicts with r2dbc dependency. Atleast from the searches I made that&#39;s what people saying. All my entities got also annotation @Table (which was suggested in some places as a fix).","title":"Spring boot Redis issues (Kotlin)","body":"<p>i am having quite big issues to configure redis to my application. I have this config file:</p>\n<blockquote>\n<p>@Configuration\nclass RedisConfig {</p>\n</blockquote>\n<pre><code>@Bean\nfun redisConnectionFactory(): JedisConnectionFactory? {\n    val config = RedisStandaloneConfiguration(&quot;localhost&quot;, 6379)\n    return JedisConnectionFactory(config)\n}\n\n@Bean\nfun redisTemplate(redisConnectionFactory: RedisConnectionFactory?): RedisTemplate&lt;String, Any&gt; {\n    val template = RedisTemplate&lt;String, Any&gt;()\n    template.setConnectionFactory(redisConnectionFactory!!)\n    return template\n}\n</code></pre>\n<p>}</p>\n<p>the gradle file looks like this:</p>\n<pre><code> implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-r2dbc&quot;)\n    implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\n    implementation(&quot;io.projectreactor.kotlin:reactor-kotlin-extensions&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-reactor&quot;)\n    implementation(&quot;org.postgresql:r2dbc-postgresql&quot;)\n    implementation(&quot;io.github.microutils:kotlin-logging:3.0.2&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\n    implementation(&quot;org.apache.poi:poi-ooxml:5.2.3&quot;)\n    implementation(&quot;com.mailjet:mailjet-client:5.2.2&quot;)\n    implementation(&quot;org.springframework.boot:spring-boot-starter-data-redis&quot;\n    runtimeOnly(&quot;org.postgresql:postgresql&quot;)\n</code></pre>\n<p>Error happens the moment I add the data-redis dependency:</p>\n<pre><code>  implementation(&quot;org.springframework.boot:spring-boot-starter-data-redis&quot;)\n</code></pre>\n<p>The actual message of error is:</p>\n<blockquote>\n<p>Parameter 5 of constructor in\ncom.skenarios.microservices.export.services.DataService required a\nbean of type\n'com.skenarios.microservices.export.repository.MyRepo'\nthat could not be found.</p>\n</blockquote>\n<p>Repository looks like this:</p>\n<blockquote>\n<p>interface RenovationRepository : CoroutineCrudRepository&lt;TypeYearValue, Int&gt; {</p>\n</blockquote>\n<pre><code>@Query(\n    &quot;&quot;&quot;Here my query&quot;&quot;&quot;\n)\nfun findItemsById(buildingId: Int, start: LocalDateTime, end: LocalDateTime): Flow&lt;TypeYearValue&gt;\n</code></pre>\n<p>I feel like redis somehow conflicts with r2dbc dependency. Atleast from the searches I made that's what people saying. All my entities got also annotation @Table (which was suggested in some places as a fix).</p>\n"},{"tags":["java","spring-boot","spring-batch","batch-processing"],"answers":[{"tags":[],"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684315866,"creation_date":1684315866,"answer_id":76270584,"question_id":76235003,"body_markdown":"I solved my problem by removing `EnableBatchProcessing(modular = true)` (by deleting `MyModularBatchJobContextConfiguration`), re-adding `@Configuration` to my batch job configuration classes and adding `@ConditionalOnProperty(&quot;spring.batch.job.name&quot;, havingValue=&lt;job-name-goes-here&gt;)` to each of them.\r\n\r\nThis way, the configuration only gets initialized when the job is started with `--spring.batch.job.name=`. All other job configurations will not be initialized, thus the beans from other jobs won&#39;t get created.","title":"Modular Batch Job Contexts with Spring Batch 5","body":"<p>I solved my problem by removing <code>EnableBatchProcessing(modular = true)</code> (by deleting <code>MyModularBatchJobContextConfiguration</code>), re-adding <code>@Configuration</code> to my batch job configuration classes and adding <code>@ConditionalOnProperty(&quot;spring.batch.job.name&quot;, havingValue=&lt;job-name-goes-here&gt;)</code> to each of them.</p>\n<p>This way, the configuration only gets initialized when the job is started with <code>--spring.batch.job.name=</code>. All other job configurations will not be initialized, thus the beans from other jobs won't get created.</p>\n"}],"owner":{"account_id":15738788,"reputation":304,"user_id":11356914,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76270584,"answer_count":1,"score":1,"last_activity_date":1684315866,"creation_date":1683884329,"question_id":76235003,"body_markdown":"I am upgrading to Spring Batch 5 / Spring Boot 3 / Jakarta 10. With Spring Batch 5, `@EnableBatchProcessing(modular=true)` does not behave as before, as it now disables the Auto-Configuration of Spring Batch, meaning I&#39;d have to configure nearly everything myself that was configured by Spring Batch before.\r\n\r\nI&#39;d like to avoid this (because I assume it requires far more effort) so I have to remove the `@EnableBatchProcessing(modular=true)` from my application and somehow modularize the contexts manually.\r\n\r\n## My Application\r\nI have a Batch Application with 4 jobs, more are likely to be added. \r\nEach job defines its own typical beans, like\r\n\r\n - ItemReader\r\n - ItemProcessor\r\n - ItemWriter\r\n - TransactionManager\r\n - Resource\r\n\r\nI basically need to have the whole configuration of the individual jobs modularized, so that all of the beans live in their own contexts and beans that are created by other jobs should not be found. For example, the `step()` method in the configuration of the job `job-a`, namely `BatchJobAConfiguration.class`, injects a bean of type `Resource`. The job `job-b` also defines a bean of type `Resource`, but the beans should live in different contexts so the application does not crash with an error like\r\n\r\n`Parameter 2 of method step in path.to.my.batch.jobs.BatchJobAConfiguration required a single bean, but 2 were found:`\r\n\r\nProbably, I could simply give each of my beans a `@Qualifier` and use it to prevent this type of error from occuring but, assuming this actually works, considering I already have 4 jobs and more are likely to be added I don&#39;t think this is the right way to do it. I would have to place like 15 `@Qualifier`s or so.\r\n\r\nHere is my current setup from before the update to Spring Batch 5. Please note that I cannot share the actual code because this is company code and thus i cannot share it here.\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableJpaRepositories(&quot;path.to.my.repositories&quot;)\r\n@EntityScan(&quot;path.to.my.entities&quot;)\r\n@EnableTask\r\npublic class MyBatchApplication{\r\n    public static void main(String[] args) {\r\n        System.exit(SpringApplication.exit(SpringApplication.run(MyBatchApplication.class, args)));\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis is my config\r\n\r\n```java\r\n@Configuration\r\n@EnableBatchProcessing(modular = true)\r\npublic class MyModularBatchJobContextConfiguration {\r\n    @Bean\r\n    ApplicationContextFactory getJobAContext() {\r\n        return new GenericApplicationContextFactory(BatchJobAConfiguration.class);\r\n    }\r\n\r\n    @Bean\r\n    ApplicationContextFactory getJobBContext() {\r\n        return new GenericApplicationContextFactory(BatchJobBConfiguration.class);\r\n    }\r\n\r\n    // More jobs ...\r\n}\r\n```\r\n\r\n```java\r\npublic class BatchJobAConfiguration {\r\n\r\n    private static final String MY_JOB_NAME = &quot;job-a&quot;\r\n\r\n    @Autowired\r\n    private EntityManagerFactory emf;\r\n\r\n    @Bean\r\n    public Job jobA(JobRepository jobRepository, Step myStep) {\r\n        return new JobBuilder(MY_JOB_NAME, jobRepository)\r\n                .flow(myStep)\r\n                .end()\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    public Step myStep(JpaTransactionManager transactionManager,\r\n                       JobRepository jobRepository,\r\n                       FlatFileItemReader&lt;MyEntity&gt; reader,\r\n                       ItemProcessor&lt;MyEntity, MyEntity&gt; processor,\r\n                       JpaItemWriter&lt;MyEntity&gt; entityWriter) {\r\n        return new StepBuilder(MY_STEP_NAME, jobRepository)\r\n                .&lt;MyEntity, MyEntity&gt;chunk(10, transactionManager)\r\n                .reader(reader)\r\n                .processor(processor)\r\n                .writer(plzOrtEntityWriter)\r\n                .transactionManager(transactionManager)\r\n                .build();\r\n    }\r\n\r\n    @Bean\r\n    JpaTransactionManager jobATransactionManager() {\r\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n            transactionManager.setEntityManagerFactory(emf);\r\n            return transactionManager;\r\n    }\r\n\r\n// Reader, Writer, Processor...\r\n```\r\n\r\nAdd the same time, I want to execute these jobs both from the IDE / CommandLine and from Spring Cloud Dataflow. Hence, the `@EnableTask` on the application class. But I would be already happy if I could make it work from IDE / CommandLine.\r\n\r\nBefore the update to Spring Boot 3, this setup worked like a charm.\r\n\r\nRight now, after the update to Spring Batch 5, the Application basically does not run any job when I start it. Which makes sense, as the auto configuration is turned off. \r\n\r\nRemoving `@EnableBatchProcessing(modular=true)` and `MyModularBatchJobContextConfiguration` and annotating my Batch job configuration classes with `@Configuration` now causes several bean clashes, which also makes sense because now all the beans are no longer present in their own isolated context.\r\n\r\nHow can i migrate my setup to Spring Batch 5 without `@EnableBatchProcessing(modular = true)` so my setup works again?\r\nKeeping `EnableBatchProcessing(modular = true)` is also an option, but I am not sure what I have to configure myself now in order to make it work.\r\n\r\nThanks in Advance!","title":"Modular Batch Job Contexts with Spring Batch 5","body":"<p>I am upgrading to Spring Batch 5 / Spring Boot 3 / Jakarta 10. With Spring Batch 5, <code>@EnableBatchProcessing(modular=true)</code> does not behave as before, as it now disables the Auto-Configuration of Spring Batch, meaning I'd have to configure nearly everything myself that was configured by Spring Batch before.</p>\n<p>I'd like to avoid this (because I assume it requires far more effort) so I have to remove the <code>@EnableBatchProcessing(modular=true)</code> from my application and somehow modularize the contexts manually.</p>\n<h2>My Application</h2>\n<p>I have a Batch Application with 4 jobs, more are likely to be added.\nEach job defines its own typical beans, like</p>\n<ul>\n<li>ItemReader</li>\n<li>ItemProcessor</li>\n<li>ItemWriter</li>\n<li>TransactionManager</li>\n<li>Resource</li>\n</ul>\n<p>I basically need to have the whole configuration of the individual jobs modularized, so that all of the beans live in their own contexts and beans that are created by other jobs should not be found. For example, the <code>step()</code> method in the configuration of the job <code>job-a</code>, namely <code>BatchJobAConfiguration.class</code>, injects a bean of type <code>Resource</code>. The job <code>job-b</code> also defines a bean of type <code>Resource</code>, but the beans should live in different contexts so the application does not crash with an error like</p>\n<p><code>Parameter 2 of method step in path.to.my.batch.jobs.BatchJobAConfiguration required a single bean, but 2 were found:</code></p>\n<p>Probably, I could simply give each of my beans a <code>@Qualifier</code> and use it to prevent this type of error from occuring but, assuming this actually works, considering I already have 4 jobs and more are likely to be added I don't think this is the right way to do it. I would have to place like 15 <code>@Qualifier</code>s or so.</p>\n<p>Here is my current setup from before the update to Spring Batch 5. Please note that I cannot share the actual code because this is company code and thus i cannot share it here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableJpaRepositories(&quot;path.to.my.repositories&quot;)\n@EntityScan(&quot;path.to.my.entities&quot;)\n@EnableTask\npublic class MyBatchApplication{\n    public static void main(String[] args) {\n        System.exit(SpringApplication.exit(SpringApplication.run(MyBatchApplication.class, args)));\n    }\n\n}\n</code></pre>\n<p>This is my config</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableBatchProcessing(modular = true)\npublic class MyModularBatchJobContextConfiguration {\n    @Bean\n    ApplicationContextFactory getJobAContext() {\n        return new GenericApplicationContextFactory(BatchJobAConfiguration.class);\n    }\n\n    @Bean\n    ApplicationContextFactory getJobBContext() {\n        return new GenericApplicationContextFactory(BatchJobBConfiguration.class);\n    }\n\n    // More jobs ...\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class BatchJobAConfiguration {\n\n    private static final String MY_JOB_NAME = &quot;job-a&quot;\n\n    @Autowired\n    private EntityManagerFactory emf;\n\n    @Bean\n    public Job jobA(JobRepository jobRepository, Step myStep) {\n        return new JobBuilder(MY_JOB_NAME, jobRepository)\n                .flow(myStep)\n                .end()\n                .build();\n    }\n\n    @Bean\n    public Step myStep(JpaTransactionManager transactionManager,\n                       JobRepository jobRepository,\n                       FlatFileItemReader&lt;MyEntity&gt; reader,\n                       ItemProcessor&lt;MyEntity, MyEntity&gt; processor,\n                       JpaItemWriter&lt;MyEntity&gt; entityWriter) {\n        return new StepBuilder(MY_STEP_NAME, jobRepository)\n                .&lt;MyEntity, MyEntity&gt;chunk(10, transactionManager)\n                .reader(reader)\n                .processor(processor)\n                .writer(plzOrtEntityWriter)\n                .transactionManager(transactionManager)\n                .build();\n    }\n\n    @Bean\n    JpaTransactionManager jobATransactionManager() {\n            JpaTransactionManager transactionManager = new JpaTransactionManager();\n            transactionManager.setEntityManagerFactory(emf);\n            return transactionManager;\n    }\n\n// Reader, Writer, Processor...\n</code></pre>\n<p>Add the same time, I want to execute these jobs both from the IDE / CommandLine and from Spring Cloud Dataflow. Hence, the <code>@EnableTask</code> on the application class. But I would be already happy if I could make it work from IDE / CommandLine.</p>\n<p>Before the update to Spring Boot 3, this setup worked like a charm.</p>\n<p>Right now, after the update to Spring Batch 5, the Application basically does not run any job when I start it. Which makes sense, as the auto configuration is turned off.</p>\n<p>Removing <code>@EnableBatchProcessing(modular=true)</code> and <code>MyModularBatchJobContextConfiguration</code> and annotating my Batch job configuration classes with <code>@Configuration</code> now causes several bean clashes, which also makes sense because now all the beans are no longer present in their own isolated context.</p>\n<p>How can i migrate my setup to Spring Batch 5 without <code>@EnableBatchProcessing(modular = true)</code> so my setup works again?\nKeeping <code>EnableBatchProcessing(modular = true)</code> is also an option, but I am not sure what I have to configure myself now in order to make it work.</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","android","android-studio","kotlin","companion-object"],"answers":[{"comments":[{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1684314139,"post_id":76270035,"comment_id":134498827,"body_markdown":"The problem is that class `ConfigurableWidgetConfigureActivity` extends `Activity()` instead `MainActivity` extends `AppCompatActivity()`.","body":"The problem is that class <code>ConfigurableWidgetConfigureActivity</code> extends <code>Activity()</code> instead <code>MainActivity</code> extends <code>AppCompatActivity()</code>."},{"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"score":0,"creation_date":1684314650,"post_id":76270035,"comment_id":134498961,"body_markdown":"@Paul it have no different, AppCompatActivity just is a upgrade version of Activity (AppCompatActivity support for older android version)","body":"@Paul it have no different, AppCompatActivity just is a upgrade version of Activity (AppCompatActivity support for older android version)"}],"tags":[],"owner":{"account_id":23733633,"reputation":742,"user_id":17752564,"display_name":"ninhnau19"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684312514,"creation_date":1684312206,"answer_id":76270035,"question_id":76269902,"body_markdown":"you could put **pinAppWidget** method into an object, so you can easy call it in both Activity:\r\n\r\n```\r\nclass function : Activity() {\r\n    fun pinAppWidget(text: String?){}\r\n}\r\n\r\n//convert to\r\nobject function {\r\n    fun pinAppWidget(text: String?, activity: Activity){}\r\n}\r\n```\r\n\r\nAnother way, you could create BaseActivity and put pinAppWidget into it. Then make your MainActivity extend BaseActivity, you can easy call pinAppWidget from here\r\n```\r\nclass BaseActivity : AppCompatActivity() {\r\n   fun pinAppWidget (){}\r\n}\r\n\r\nclass MainActivity : BaseActivity() {\r\n   //call pinAppWidget()\r\n}\r\n```","title":"Android kotlin declare a function in an external class that can be used multiple times but needs a context","body":"<p>you could put <strong>pinAppWidget</strong> method into an object, so you can easy call it in both Activity:</p>\n<pre><code>class function : Activity() {\n    fun pinAppWidget(text: String?){}\n}\n\n//convert to\nobject function {\n    fun pinAppWidget(text: String?, activity: Activity){}\n}\n</code></pre>\n<p>Another way, you could create BaseActivity and put pinAppWidget into it. Then make your MainActivity extend BaseActivity, you can easy call pinAppWidget from here</p>\n<pre><code>class BaseActivity : AppCompatActivity() {\n   fun pinAppWidget (){}\n}\n\nclass MainActivity : BaseActivity() {\n   //call pinAppWidget()\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"score":0,"creation_date":1684313871,"post_id":76270111,"comment_id":134498776,"body_markdown":"If I declare the class like this, I get the following problems: https://i.stack.imgur.com/QYda6.png\n\nSo shouldn&#39;t I extend from Activity() or AppCompatActivity()?","body":"If I declare the class like this, I get the following problems: <a href=\"https://i.stack.imgur.com/QYda6.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/QYda6.png</a>  So shouldn&#39;t I extend from Activity() or AppCompatActivity()?"}],"tags":[],"owner":{"account_id":18792674,"reputation":41,"user_id":13704799,"display_name":"Emre B"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684312849,"creation_date":1684312849,"answer_id":76270111,"question_id":76269902,"body_markdown":"You can pass the `Context` object as a parameter to the `pinAppWidget` function in the `function` class.\r\n\r\n```kotlin\r\nimport android.app.PendingIntent\r\nimport android.appwidget.AppWidgetManager\r\nimport android.content.ComponentName\r\nimport android.content.Context\r\nimport android.content.Intent\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.widget.Toast\r\n\r\nclass MyWidgetFunction {\r\n    fun pinAppWidget(context: Context, text: String?) {\r\n        val urlCode = extractLinks(text)\r\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val mAppWidgetManager = context.getSystemService(\r\n                AppWidgetManager::class.java\r\n            )\r\n            // Rest of your code...\r\n        }\r\n    }\r\n\r\n    private fun extractLinks(text: String?): String {\r\n        val index = text!!.lastIndexOf(&quot;/&quot;)\r\n        return text.substring(index + 1)\r\n    }\r\n}\r\n```\r\n\r\nNow you can use the `MyWidgetFunction` class in both `MainActivity` and `ConfigurableWidgetConfigureActivity`. When calling the `pinAppWidget` function, make sure to pass the appropriate `Context` object.\r\n\r\nIn `MainActivity`:\r\n\r\n```kotlin\r\nval myWidgetFunction = MyWidgetFunction()\r\nmyWidgetFunction.pinAppWidget(this, text)\r\n```\r\n\r\nIn `ConfigurableWidgetConfigureActivity`:\r\n\r\n```kotlin\r\nval myWidgetFunction = MyWidgetFunction()\r\nmyWidgetFunction.pinAppWidget(this, text)\r\n```\r\n\r\nNote: Make sure to replace `MyWidget` with the actual name of your widget class.","title":"Android kotlin declare a function in an external class that can be used multiple times but needs a context","body":"<p>You can pass the <code>Context</code> object as a parameter to the <code>pinAppWidget</code> function in the <code>function</code> class.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import android.app.PendingIntent\nimport android.appwidget.AppWidgetManager\nimport android.content.ComponentName\nimport android.content.Context\nimport android.content.Intent\nimport android.os.Build\nimport android.os.Bundle\nimport android.widget.Toast\n\nclass MyWidgetFunction {\n    fun pinAppWidget(context: Context, text: String?) {\n        val urlCode = extractLinks(text)\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val mAppWidgetManager = context.getSystemService(\n                AppWidgetManager::class.java\n            )\n            // Rest of your code...\n        }\n    }\n\n    private fun extractLinks(text: String?): String {\n        val index = text!!.lastIndexOf(&quot;/&quot;)\n        return text.substring(index + 1)\n    }\n}\n</code></pre>\n<p>Now you can use the <code>MyWidgetFunction</code> class in both <code>MainActivity</code> and <code>ConfigurableWidgetConfigureActivity</code>. When calling the <code>pinAppWidget</code> function, make sure to pass the appropriate <code>Context</code> object.</p>\n<p>In <code>MainActivity</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myWidgetFunction = MyWidgetFunction()\nmyWidgetFunction.pinAppWidget(this, text)\n</code></pre>\n<p>In <code>ConfigurableWidgetConfigureActivity</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myWidgetFunction = MyWidgetFunction()\nmyWidgetFunction.pinAppWidget(this, text)\n</code></pre>\n<p>Note: Make sure to replace <code>MyWidget</code> with the actual name of your widget class.</p>\n"},{"tags":[],"owner":{"account_id":270025,"reputation":6187,"user_id":3649629,"accept_rate":67,"display_name":"Gleichmut"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684315827,"creation_date":1684315827,"answer_id":76270578,"question_id":76269902,"body_markdown":"This questions covers at least two things: architecture decision and android platform limitations. \r\n\r\nFrom software architecture perspective you could:\r\n- create a common parent class and put this and the rest common logic inside; other activities will extend this class and inherit its behaviour. \r\n- create utility class to encapsulate common logic and instantiate this class within each activity. \r\n- inner classes (aka ```object:``` in kotlin) could be an alternative to this two options. \r\n- ```kotlin``` also provide such things as [extensions][1] which could a fourth way to achieve your task. \r\n\r\nFrom Android platform perspective component code should be called only from component (Activity, Service, BroadcastReceiver, ContentProvder). Your function uses component code (```mAppWidgetManager.requestPinAppWidget(...)```) and it would be good to keep it within component and do not put outside. Although, it is still possible to put it into a separate class and pass a ```context``` to run this code.   \r\n\r\n\r\n  [1]: https://kotlinlang.org/docs/extensions.html#extension-functions","title":"Android kotlin declare a function in an external class that can be used multiple times but needs a context","body":"<p>This questions covers at least two things: architecture decision and android platform limitations.</p>\n<p>From software architecture perspective you could:</p>\n<ul>\n<li>create a common parent class and put this and the rest common logic inside; other activities will extend this class and inherit its behaviour.</li>\n<li>create utility class to encapsulate common logic and instantiate this class within each activity.</li>\n<li>inner classes (aka <code>object:</code> in kotlin) could be an alternative to this two options.</li>\n<li><code>kotlin</code> also provide such things as <a href=\"https://kotlinlang.org/docs/extensions.html#extension-functions\" rel=\"nofollow noreferrer\">extensions</a> which could a fourth way to achieve your task.</li>\n</ul>\n<p>From Android platform perspective component code should be called only from component (Activity, Service, BroadcastReceiver, ContentProvder). Your function uses component code (<code>mAppWidgetManager.requestPinAppWidget(...)</code>) and it would be good to keep it within component and do not put outside. Although, it is still possible to put it into a separate class and pass a <code>context</code> to run this code.</p>\n"}],"owner":{"account_id":10916684,"reputation":3936,"user_id":8024296,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684315827,"creation_date":1684311232,"question_id":76269902,"body_markdown":"I have the following function `pinAppWidget` which I am using in `MainActivity` but I would need to be able to use it also in `ConfigurableWidgetConfigureActivity` to not have a duplicate of the function I would like to create a class that contains them.\r\n\r\nBut I&#39;m having some problems.\r\n\r\n\r\nCode original:\r\n```java\r\n    fun pinAppWidget(text: String?) {\r\n        val urlCode = extractLinks(text)\r\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val mAppWidgetManager = getSystemService(\r\n                AppWidgetManager::class.java\r\n            )\r\n\r\n            if (!mAppWidgetManager.isRequestPinAppWidgetSupported) {\r\n                Toast.makeText(\r\n                    this@MainActivity,\r\n                    &quot;Pin app widget is not supported&quot;,\r\n                    Toast.LENGTH_SHORT\r\n                ).show()\r\n                return\r\n            }\r\n\r\n            val myProvider = ComponentName(this@MainActivity, MyWidget::class.java)\r\n\r\n\r\n            val pinnedWidgetCallbackIntent = Intent(this@MainActivity, MyWidget::class.java)\r\n            val successCallback = PendingIntent.getBroadcast(\r\n                this@MainActivity, 0,\r\n                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n            mAppWidgetManager.requestPinAppWidget(myProvider, Bundle(), successCallback)\r\n        }\r\n    }\r\n\r\nfun extractLinks(text: String?): String {\r\n        val index = text!!.lastIndexOf(&quot;/&quot;)\r\n        return text.substring(index + 1)\r\n    }\r\n```\r\n\r\n\r\nClass function:\r\n\r\n```java\r\n\r\nimport android.app.Activity\r\nimport android.app.PendingIntent\r\nimport android.appwidget.AppWidgetManager\r\nimport android.content.ComponentName\r\nimport android.content.Intent\r\nimport android.os.Build\r\nimport android.os.Bundle\r\nimport android.widget.Toast\r\n\r\nclass function : Activity() {\r\n    fun pinAppWidget(text: String?) {\r\n        val urlCode = extractLinks(text)\r\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            val mAppWidgetManager = getSystemService(\r\n                AppWidgetManager::class.java\r\n            )\r\n            if (!mAppWidgetManager.isRequestPinAppWidgetSupported) {\r\n                Toast.makeText(\r\n                    this@function,\r\n                    &quot;Pin app widget is not supported&quot;,\r\n                    Toast.LENGTH_SHORT\r\n                ).show()\r\n                return\r\n            }\r\n\r\n            val myProvider = ComponentName(this@function, MyWidget::class.java)\r\n            val pinnedWidgetCallbackIntent = Intent(this@function, MyWidget::class.java)\r\n            val successCallback = PendingIntent.getBroadcast(\r\n                this@function, 0,\r\n                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n            mAppWidgetManager.requestPinAppWidget(myProvider, Bundle(), successCallback)\r\n        }\r\n    }\r\n\r\n    fun extractLinks(text: String?): String {\r\n        val index = text!!.lastIndexOf(&quot;/&quot;)\r\n        return text.substring(index + 1)\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I call inside the `MainActivity` function I get the following problem:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nHow can I do it, can you help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZB2Wk.png","title":"Android kotlin declare a function in an external class that can be used multiple times but needs a context","body":"<p>I have the following function <code>pinAppWidget</code> which I am using in <code>MainActivity</code> but I would need to be able to use it also in <code>ConfigurableWidgetConfigureActivity</code> to not have a duplicate of the function I would like to create a class that contains them.</p>\n<p>But I'm having some problems.</p>\n<p>Code original:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    fun pinAppWidget(text: String?) {\n        val urlCode = extractLinks(text)\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val mAppWidgetManager = getSystemService(\n                AppWidgetManager::class.java\n            )\n\n            if (!mAppWidgetManager.isRequestPinAppWidgetSupported) {\n                Toast.makeText(\n                    this@MainActivity,\n                    &quot;Pin app widget is not supported&quot;,\n                    Toast.LENGTH_SHORT\n                ).show()\n                return\n            }\n\n            val myProvider = ComponentName(this@MainActivity, MyWidget::class.java)\n\n\n            val pinnedWidgetCallbackIntent = Intent(this@MainActivity, MyWidget::class.java)\n            val successCallback = PendingIntent.getBroadcast(\n                this@MainActivity, 0,\n                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE\n            )\n            mAppWidgetManager.requestPinAppWidget(myProvider, Bundle(), successCallback)\n        }\n    }\n\nfun extractLinks(text: String?): String {\n        val index = text!!.lastIndexOf(&quot;/&quot;)\n        return text.substring(index + 1)\n    }\n</code></pre>\n<p>Class function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport android.app.Activity\nimport android.app.PendingIntent\nimport android.appwidget.AppWidgetManager\nimport android.content.ComponentName\nimport android.content.Intent\nimport android.os.Build\nimport android.os.Bundle\nimport android.widget.Toast\n\nclass function : Activity() {\n    fun pinAppWidget(text: String?) {\n        val urlCode = extractLinks(text)\n        if (urlCode != &quot;&quot; &amp;&amp; Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val mAppWidgetManager = getSystemService(\n                AppWidgetManager::class.java\n            )\n            if (!mAppWidgetManager.isRequestPinAppWidgetSupported) {\n                Toast.makeText(\n                    this@function,\n                    &quot;Pin app widget is not supported&quot;,\n                    Toast.LENGTH_SHORT\n                ).show()\n                return\n            }\n\n            val myProvider = ComponentName(this@function, MyWidget::class.java)\n            val pinnedWidgetCallbackIntent = Intent(this@function, MyWidget::class.java)\n            val successCallback = PendingIntent.getBroadcast(\n                this@function, 0,\n                pinnedWidgetCallbackIntent, PendingIntent.FLAG_IMMUTABLE\n            )\n            mAppWidgetManager.requestPinAppWidget(myProvider, Bundle(), successCallback)\n        }\n    }\n\n    fun extractLinks(text: String?): String {\n        val index = text!!.lastIndexOf(&quot;/&quot;)\n        return text.substring(index + 1)\n    }\n\n}\n</code></pre>\n<p>When I call inside the <code>MainActivity</code> function I get the following problem:</p>\n<p><a href=\"https://i.stack.imgur.com/ZB2Wk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZB2Wk.png\" alt=\"enter image description here\" /></a></p>\n<p>How can I do it, can you help me?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684365267,"post_id":76270575,"comment_id":134509703,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":24397922,"reputation":1,"user_id":18327033,"display_name":"Bishwajit Sonar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684315797,"creation_date":1684315797,"question_id":76270575,"body_markdown":"I used RequestDispatcher to forward to signIn.jsp but it gives me error. not able to find the error and error be like javax.servlet.ServletException: javax.ws.rs.ProcessingException: java.io.IOException: Stream closed\r\n\r\nHere what it did the coding \r\n```\r\nimport java.io.IOException;\r\nimport javax.servlet.RequestDispatcher;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport javax.ws.rs.FormParam;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.Context;\r\nimport javax.ws.rs.core.MediaType;\r\nimport org.hibernate.Session;\r\nimport org.hibernate.SessionFactory;\r\nimport org.hibernate.Transaction;\r\nimport com.hibernate.utils.HibernateUtils;\r\nimport com.lottery.classes.User;\r\n\r\nSessionFactory sfactory = HibernateUtils.getSessionFactory();\r\nSession session = sfactory.openSession();\r\nTransaction tx = session.beginTransaction();\r\nsession.save(user);\r\ntx.commit();\r\nsession.close();\r\nsfactory.close();\r\nRequestDispatcher rd = request.getRequestDispatcher(&quot;signIn.jsp&quot;);\r\nrd.forward(request, response);\r\n```\r\n\r\nwhat it expected and what i get \r\ni expected to open signIn.jsp page but giving me error stream closed ","title":"How to solve java.io.IOException: Stream closed error","body":"<p>I used RequestDispatcher to forward to signIn.jsp but it gives me error. not able to find the error and error be like javax.servlet.ServletException: javax.ws.rs.ProcessingException: java.io.IOException: Stream closed</p>\n<p>Here what it did the coding</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.RequestDispatcher;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport javax.ws.rs.FormParam;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.MediaType;\nimport org.hibernate.Session;\nimport org.hibernate.SessionFactory;\nimport org.hibernate.Transaction;\nimport com.hibernate.utils.HibernateUtils;\nimport com.lottery.classes.User;\n\nSessionFactory sfactory = HibernateUtils.getSessionFactory();\nSession session = sfactory.openSession();\nTransaction tx = session.beginTransaction();\nsession.save(user);\ntx.commit();\nsession.close();\nsfactory.close();\nRequestDispatcher rd = request.getRequestDispatcher(&quot;signIn.jsp&quot;);\nrd.forward(request, response);\n</code></pre>\n<p>what it expected and what i get\ni expected to open signIn.jsp page but giving me error stream closed</p>\n"},{"tags":["java","android","kotlin","escaping","stringescapeutils"],"comments":[{"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"score":0,"creation_date":1684072418,"post_id":76247722,"comment_id":134460060,"body_markdown":"It is not clear what is your original HTML with JSON. Example would help.","body":"It is not clear what is your original HTML with JSON. Example would help."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1684103764,"post_id":76247722,"comment_id":134463768,"body_markdown":"@P_M it&#39;s just an escaped URL. No need to post entire HTML. I&#39;ve added an example of its beginning","body":"@P_M it&#39;s just an escaped URL. No need to post entire HTML. I&#39;ve added an example of its beginning"}],"answers":[{"comments":[{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1684103536,"post_id":76248201,"comment_id":134463749,"body_markdown":"You want me to remove the &quot;replace&quot;, but as I wrote, this means the characters stayed, and so if I try to open a URL (such as a URL to an image) it would fail. I can&#39;t let those characters stay in the URL. I&#39;ve added an example of its beginning inside my post.","body":"You want me to remove the &quot;replace&quot;, but as I wrote, this means the characters stayed, and so if I try to open a URL (such as a URL to an image) it would fail. I can&#39;t let those characters stay in the URL. I&#39;ve added an example of its beginning inside my post."},{"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"score":0,"creation_date":1684150474,"post_id":76248201,"comment_id":134469840,"body_markdown":"@androiddeveloper you can check out my detailed update in the answer.","body":"@androiddeveloper you can check out my detailed update in the answer."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1684151984,"post_id":76248201,"comment_id":134470223,"body_markdown":"As I wrote, it doesn&#39;t work without the &quot;replace&quot;. I had to add it. I&#39;ve updated my question again, showing what happens when I don&#39;t use &quot;replace&quot;.","body":"As I wrote, it doesn&#39;t work without the &quot;replace&quot;. I had to add it. I&#39;ve updated my question again, showing what happens when I don&#39;t use &quot;replace&quot;."},{"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"score":0,"creation_date":1684183663,"post_id":76248201,"comment_id":134477483,"body_markdown":"@androiddeveloper right, like I said, you can check out my answer and all the links I&#39;ve posted. Then, you can easily use either of the suggested options that perfectly work on your example. But like I said, you have to be careful with that and all of them make some assumptions about the input. So does your &quot;replace&quot; approach. Ideally, the input must not be that &quot;broken&quot; as I&#39;ve explained in my answer.","body":"@androiddeveloper right, like I said, you can check out my answer and all the links I&#39;ve posted. Then, you can easily use either of the suggested options that perfectly work on your example. But like I said, you have to be careful with that and all of them make some assumptions about the input. So does your &quot;replace&quot; approach. Ideally, the input must not be that &quot;broken&quot; as I&#39;ve explained in my answer."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1684273420,"post_id":76248201,"comment_id":134493792,"body_markdown":"I&#39;m not responsible about the input, and I don&#39;t understand what you are offering. Sorry","body":"I&#39;m not responsible about the input, and I don&#39;t understand what you are offering. Sorry"}],"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684315663,"creation_date":1684077031,"answer_id":76248201,"question_id":76247722,"body_markdown":"Let me just give you my working example using `StringEscapeUtils.unescapeJson(input)` without `replace`. I&#39;ve also looked into the `StringEscapeUtils` source code, which might help you a bit.\r\n\r\n**Here is my working Kotlin code** (Java works the same in my test).\r\n```\r\nfun main(args: Array&lt;String&gt;) {\r\n    val input = &quot;Hello ampersand \\\\u0026 and forward slash \\\\/&quot;\r\n    println(input)\r\n\r\n    val output1 = StringEscapeUtils.unescapeJson(input)\r\n    println(output1)\r\n\r\n    val output2 = StringEscapeUtils.unescapeJson(input).replace(&quot;\\\\u0026&quot;, &quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;)\r\n    println(output2)\r\n}\r\n```\r\n**Output:**\r\n```\r\nHello ampersand \\u0026 and forward slash \\/ - original input\r\nHello ampersand &amp; and forward slash /       - StringEscapeUtils.unescapeJson(input)\r\nHello ampersand &amp; and forward slash /       - StringEscapeUtils.unescapeJson(input).replace...\r\n```\r\nAs you can see, the outputs are identical regardless of using the `replace` logic. I&#39;m using `org.apache.commons:commons-text:1.10.0`.\r\n\r\nIf we look into their source code, it&#39;s could be clear that we don&#39;t have to add any `replace(&quot;\\\\u0026&quot;, &quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;)` because:\r\n- the escaped-unicode representation of ampersand is handled by [UnicodeUnescaper][1]. You can see it being used in your `unescapeUrl` originally replicated from [UNESCAPE_JAVA][2] implementation.\r\n- the `\\\\/` string is handled by another existing rule at [UNESCAPE_JAVA][3], which is `unescapeJavaMap.put(&quot;\\\\&quot;, StringUtils.EMPTY)` and also replicated in your `unescapeUrl`.\r\n\r\n\r\n**So, answering your questions *(NB: also see the UPDATE below taking into account the &quot;broken&quot; input from the author, which was posted later)*:**\r\n1. Not obvious what is wrong in your example using just `StringEscapeUtils.unescapeJson(input)` as you can see, it works in my Kotlin example (Java as well). Maybe the version of the &quot;common-text&quot; library? But I doubt that. I&#39;m also using PC, not Android. *See the **UPDATE** below explaining the &quot;broken&quot; input posted later by the author and how to deal with that.*\r\n2. It is true, totally agree. And in this particular example, not even &quot;something similar&quot;. You should be fine using the out-of-the-box method. No need to customise that in either way.\r\n\r\nI hope, this answer helps. Also, as it was mentioned in the comments, a good example from you would be very helpful!\r\n\r\n**UPDATE:**\r\nLooking into the author&#39;s example (posted later), I can see that the escaped-unicode representation of ampersand is sort of double-escaped in the input as `\\\\u0026` instead of `\\u0026`. Thus, the problem. If you look into the source code of that [UNESCAPE_JAVA (UNESCAPE_JSON)][4], you will see that the `\\\\` string get transformed into a single backslash `\\` as in `unescapeJavaMap.put(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;)`, and then in [that translators iteration][5] the index advances **by 2** as two characters have been replaced, which places the index at the `u` character.\r\n\r\nI would say, this is the upstream problem that sends you a badly formatted string. **Ideally**, it should be fixed so that they don&#39;t double escape the characters represented in escaped-unicode format. Then `\\\\u0026` should become `\\u0026`.\r\n\r\nYou can also compose your own `AggregateTranslator` the way it properly handles this scenario. There might be few options but they could all be error-prone and stop working properly in other scenarios. So, you have to be careful with that.\r\n\r\nYou can also run the `unescapeJson` method twice and it works in your particular example as in `StringEscapeUtils.unescapeJson(StringEscapeUtils.unescapeJson(input))`. But obviously, you could easily over-unescape the input.\r\n\r\n\r\n  [1]: https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/translate/UnicodeUnescaper.java#L29\r\n  [2]: https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L395\r\n  [3]: https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L392\r\n  [4]: https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L389\r\n  [5]: https://github.com/apache/commons-text/blob/master/src/main/java/org/apache/commons/text/translate/AggregateTranslator.java#L60","title":"How to unescape JSON/Java with support to ampersand?","body":"<p>Let me just give you my working example using <code>StringEscapeUtils.unescapeJson(input)</code> without <code>replace</code>. I've also looked into the <code>StringEscapeUtils</code> source code, which might help you a bit.</p>\n<p><strong>Here is my working Kotlin code</strong> (Java works the same in my test).</p>\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val input = &quot;Hello ampersand \\\\u0026 and forward slash \\\\/&quot;\n    println(input)\n\n    val output1 = StringEscapeUtils.unescapeJson(input)\n    println(output1)\n\n    val output2 = StringEscapeUtils.unescapeJson(input).replace(&quot;\\\\u0026&quot;, &quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;)\n    println(output2)\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>Hello ampersand \\u0026 and forward slash \\/ - original input\nHello ampersand &amp; and forward slash /       - StringEscapeUtils.unescapeJson(input)\nHello ampersand &amp; and forward slash /       - StringEscapeUtils.unescapeJson(input).replace...\n</code></pre>\n<p>As you can see, the outputs are identical regardless of using the <code>replace</code> logic. I'm using <code>org.apache.commons:commons-text:1.10.0</code>.</p>\n<p>If we look into their source code, it's could be clear that we don't have to add any <code>replace(&quot;\\\\u0026&quot;, &quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;)</code> because:</p>\n<ul>\n<li>the escaped-unicode representation of ampersand is handled by <a href=\"https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/translate/UnicodeUnescaper.java#L29\" rel=\"nofollow noreferrer\">UnicodeUnescaper</a>. You can see it being used in your <code>unescapeUrl</code> originally replicated from <a href=\"https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L395\" rel=\"nofollow noreferrer\">UNESCAPE_JAVA</a> implementation.</li>\n<li>the <code>\\\\/</code> string is handled by another existing rule at <a href=\"https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L392\" rel=\"nofollow noreferrer\">UNESCAPE_JAVA</a>, which is <code>unescapeJavaMap.put(&quot;\\\\&quot;, StringUtils.EMPTY)</code> and also replicated in your <code>unescapeUrl</code>.</li>\n</ul>\n<p><strong>So, answering your questions <em>(NB: also see the UPDATE below taking into account the &quot;broken&quot; input from the author, which was posted later)</em>:</strong></p>\n<ol>\n<li>Not obvious what is wrong in your example using just <code>StringEscapeUtils.unescapeJson(input)</code> as you can see, it works in my Kotlin example (Java as well). Maybe the version of the &quot;common-text&quot; library? But I doubt that. I'm also using PC, not Android. <em>See the <strong>UPDATE</strong> below explaining the &quot;broken&quot; input posted later by the author and how to deal with that.</em></li>\n<li>It is true, totally agree. And in this particular example, not even &quot;something similar&quot;. You should be fine using the out-of-the-box method. No need to customise that in either way.</li>\n</ol>\n<p>I hope, this answer helps. Also, as it was mentioned in the comments, a good example from you would be very helpful!</p>\n<p><strong>UPDATE:</strong>\nLooking into the author's example (posted later), I can see that the escaped-unicode representation of ampersand is sort of double-escaped in the input as <code>\\\\u0026</code> instead of <code>\\u0026</code>. Thus, the problem. If you look into the source code of that <a href=\"https://github.com/apache/commons-text/blob/b83474667d6f8ede75d6a0c4289e01bc2a54bae9/src/main/java/org/apache/commons/text/StringEscapeUtils.java#L389\" rel=\"nofollow noreferrer\">UNESCAPE_JAVA (UNESCAPE_JSON)</a>, you will see that the <code>\\\\</code> string get transformed into a single backslash <code>\\</code> as in <code>unescapeJavaMap.put(&quot;\\\\\\\\&quot;, &quot;\\\\&quot;)</code>, and then in <a href=\"https://github.com/apache/commons-text/blob/master/src/main/java/org/apache/commons/text/translate/AggregateTranslator.java#L60\" rel=\"nofollow noreferrer\">that translators iteration</a> the index advances <strong>by 2</strong> as two characters have been replaced, which places the index at the <code>u</code> character.</p>\n<p>I would say, this is the upstream problem that sends you a badly formatted string. <strong>Ideally</strong>, it should be fixed so that they don't double escape the characters represented in escaped-unicode format. Then <code>\\\\u0026</code> should become <code>\\u0026</code>.</p>\n<p>You can also compose your own <code>AggregateTranslator</code> the way it properly handles this scenario. There might be few options but they could all be error-prone and stop working properly in other scenarios. So, you have to be careful with that.</p>\n<p>You can also run the <code>unescapeJson</code> method twice and it works in your particular example as in <code>StringEscapeUtils.unescapeJson(StringEscapeUtils.unescapeJson(input))</code>. But obviously, you could easily over-unescape the input.</p>\n"}],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":311,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684315663,"creation_date":1684070879,"question_id":76247722,"body_markdown":"Background\r\n--\r\nI need to parse some string from HTML that is of a URL (seems it&#39;s inside JSON), so I tried to use org.apache.commons.text.StringEscapeUtils.unescapeJson.\r\n\r\nAn example of such a URL started with this as the input:\r\n\r\n```\r\nhttps:\\/\\/scontent.cdninstagram.com\\/v\\/t51.2885-19\\/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\\\u0026\r\n```\r\n\r\nThe problem\r\n--\r\nIt seems it had some characters that weren&#39;t handled so if I perform this:\r\n\r\n```\r\nval test=&quot;https:\\\\/\\\\/scontent.cdninstagram.com\\\\/v\\\\/t51.2885-19\\\\/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\\\\\\\u0026\\n&quot;\r\nLog.d(&quot;AppLog&quot;, &quot;${StringEscapeUtils.unescapeJson(test)}&quot;)\r\n```\r\n\r\nthe result is:\r\n\r\n```\r\nhttps://scontent.cdninstagram.com/v/t51.2885-19/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\u0026\r\n```\r\n\r\nYou can see that there is still &quot;0026&quot; in it, so I&#39;ve found that using this solved it:\r\n\r\n```kt\r\nStringEscapeUtils.unescapeJson(input).replace(&quot;\\\\u0026&quot;,&quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;) \r\n```\r\n\r\nThis works, but I think I should use something more official, as it might fail due to too-direct replacing of substrings.\r\n\r\nWhat I&#39;ve tried\r\n--\r\nLooking at unescapeJson code (which is the same for Java&amp;Json, it seems), I thought that maybe I could just add the rules:\r\n\r\n```\r\n/**based on StringEscapeUtils.unescapeJson, but with addition of 2 more rules*/\r\nfun unescapeUrl(input: String): String {\r\n    val unescapeJavaMap= hashMapOf&lt;CharSequence, CharSequence&gt;(\r\n        &quot;\\\\\\\\&quot; to &quot;\\\\&quot;,\r\n        &quot;\\\\\\\\&quot; to &quot;\\\\&quot;,\r\n        &quot;\\\\\\&quot;&quot; to &quot;\\&quot;&quot;,\r\n        &quot;\\\\&#39;&quot; to &quot;&#39;&quot;,\r\n        &quot;\\\\&quot; to StringUtils.EMPTY,\r\n        //added rules:\r\n        &quot;\\\\u0026&quot; to &quot;&amp;&quot;,\r\n        &quot;\\\\/&quot; to &quot;/&quot;\r\n    )\r\n    val aggregateTranslator = AggregateTranslator(\r\n        OctalUnescaper(),\r\n        UnicodeUnescaper(),\r\n        LookupTranslator(EntityArrays.JAVA_CTRL_CHARS_UNESCAPE),\r\n        LookupTranslator(Collections.unmodifiableMap(unescapeJavaMap))\r\n    )\r\n    return aggregateTranslator.translate(input)\r\n}\r\n```\r\n\r\nThis doesn&#39;t work. It leaves the string with &quot;\\u0026&quot; in it.\r\n\r\nThe questions\r\n--\r\n1. What did I do wrong here? How can I fix this?\r\n\r\n2. It is true it&#39;s best to use something similar to the original code, instead of using &quot;replace&quot;, right?\r\n\r\nBTW, I use this on Android using Kotlin, but same can be done on Java on PC.","title":"How to unescape JSON/Java with support to ampersand?","body":"<h2>Background</h2>\n<p>I need to parse some string from HTML that is of a URL (seems it's inside JSON), so I tried to use org.apache.commons.text.StringEscapeUtils.unescapeJson.</p>\n<p>An example of such a URL started with this as the input:</p>\n<pre><code>https:\\/\\/scontent.cdninstagram.com\\/v\\/t51.2885-19\\/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\\\u0026\n</code></pre>\n<h2>The problem</h2>\n<p>It seems it had some characters that weren't handled so if I perform this:</p>\n<pre><code>val test=&quot;https:\\\\/\\\\/scontent.cdninstagram.com\\\\/v\\\\/t51.2885-19\\\\/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\\\\\\\u0026\\n&quot;\nLog.d(&quot;AppLog&quot;, &quot;${StringEscapeUtils.unescapeJson(test)}&quot;)\n</code></pre>\n<p>the result is:</p>\n<pre><code>https://scontent.cdninstagram.com/v/t51.2885-19/40405422_462181764265305_1222152915674726400_n.jpg?stp=dst-jpg_s150x150\\u0026\n</code></pre>\n<p>You can see that there is still &quot;0026&quot; in it, so I've found that using this solved it:</p>\n<pre><code>StringEscapeUtils.unescapeJson(input).replace(&quot;\\\\u0026&quot;,&quot;&amp;&quot;).replace(&quot;\\\\/&quot;, &quot;/&quot;) \n</code></pre>\n<p>This works, but I think I should use something more official, as it might fail due to too-direct replacing of substrings.</p>\n<h2>What I've tried</h2>\n<p>Looking at unescapeJson code (which is the same for Java&amp;Json, it seems), I thought that maybe I could just add the rules:</p>\n<pre><code>/**based on StringEscapeUtils.unescapeJson, but with addition of 2 more rules*/\nfun unescapeUrl(input: String): String {\n    val unescapeJavaMap= hashMapOf&lt;CharSequence, CharSequence&gt;(\n        &quot;\\\\\\\\&quot; to &quot;\\\\&quot;,\n        &quot;\\\\\\\\&quot; to &quot;\\\\&quot;,\n        &quot;\\\\\\&quot;&quot; to &quot;\\&quot;&quot;,\n        &quot;\\\\'&quot; to &quot;'&quot;,\n        &quot;\\\\&quot; to StringUtils.EMPTY,\n        //added rules:\n        &quot;\\\\u0026&quot; to &quot;&amp;&quot;,\n        &quot;\\\\/&quot; to &quot;/&quot;\n    )\n    val aggregateTranslator = AggregateTranslator(\n        OctalUnescaper(),\n        UnicodeUnescaper(),\n        LookupTranslator(EntityArrays.JAVA_CTRL_CHARS_UNESCAPE),\n        LookupTranslator(Collections.unmodifiableMap(unescapeJavaMap))\n    )\n    return aggregateTranslator.translate(input)\n}\n</code></pre>\n<p>This doesn't work. It leaves the string with &quot;\\u0026&quot; in it.</p>\n<h2>The questions</h2>\n<ol>\n<li><p>What did I do wrong here? How can I fix this?</p>\n</li>\n<li><p>It is true it's best to use something similar to the original code, instead of using &quot;replace&quot;, right?</p>\n</li>\n</ol>\n<p>BTW, I use this on Android using Kotlin, but same can be done on Java on PC.</p>\n"},{"tags":["java","android","wifimanager","native-android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684316591,"post_id":76270530,"comment_id":134499402,"body_markdown":"Please read https://developer.android.com/guide/topics/connectivity/wifi-scan Since Android 9 foreground apps can perform a Wifi scan every 2 minutes. In background every 30 minutes.","body":"Please read <a href=\"https://developer.android.com/guide/topics/connectivity/wifi-scan\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/wifi-scan</a> Since Android 9 foreground apps can perform a Wifi scan every 2 minutes. In background every 30 minutes."},{"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"score":0,"creation_date":1684395014,"post_id":76270530,"comment_id":134512503,"body_markdown":"@Robert thanks for sharing this reference, I am creating this auto scanning mechanism in my activity class so this means that foreground policy will be applied in my case and i can get the updated wifi networks every 2mins, is this right?","body":"@Robert thanks for sharing this reference, I am creating this auto scanning mechanism in my activity class so this means that foreground policy will be applied in my case and i can get the updated wifi networks every 2mins, is this right?"}],"owner":{"account_id":18203305,"reputation":45,"user_id":13247077,"display_name":"Qasim Malik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684315494,"creation_date":1684315494,"question_id":76270530,"body_markdown":"I am developing a wifi manager app for android.\r\nhere&#39;s the code that i am using to scan the networks\r\n\r\n```\r\npublic void scanWifiList() {\r\n       \r\n            // Unregister the previous instance of the BroadcastReceiver\r\n            try {\r\n\r\n                unregisterReceiver(wifiReceiver);\r\n            }catch (Exception e){}\r\n            registerReceiver(wifiReceiver, new IntentFilter(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION));\r\n\r\n            scanninghandler.postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    wifiManager.startScan();\r\n\r\n                     // Schedule the next scan after 5 seconds\r\n                    scanninghandler.postDelayed(runnable, 5000);\r\n                }\r\n            }, 1000); \r\n        \r\n    }\r\n\r\n    class WifiScanReceiver extends BroadcastReceiver {\r\n        public void onReceive(Context c, Intent intent) {\r\n            if (ActivityCompat.checkSelfPermission(c, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                return;\r\n            }\r\n\r\n            if(wifiScanList != null)\r\n                wifiScanList.clear();\r\n            wifiScanList = wifiManager.getScanResults();\r\n\r\n            \r\n            wifiAdapter = new WifiAdapter(WifiNetworkList.this, sortedwifilist(wifiScanList),connected_ssid);\r\nall_wifi.setAdapter(wifiAdapter);\r\n            unregisterReceiver(this);\r\n\r\n        }\r\n```\r\n\r\nas you can see I am using handler to repeat scanning again and again after 5sec to get updated available networks but the issue here is that I&#39;m only able to scan new wifi for the first 2,3 times and than it just keeps returning the old wifilist.\r\n\r\n\r\ni want to update the wifilist after every 5sec so that the user can see all the new networks available, Thanks ","title":"unable to implement auto wifi scanning","body":"<p>I am developing a wifi manager app for android.\nhere's the code that i am using to scan the networks</p>\n<pre><code>public void scanWifiList() {\n       \n            // Unregister the previous instance of the BroadcastReceiver\n            try {\n\n                unregisterReceiver(wifiReceiver);\n            }catch (Exception e){}\n            registerReceiver(wifiReceiver, new IntentFilter(WifiManager.SCAN_RESULTS_AVAILABLE_ACTION));\n\n            scanninghandler.postDelayed(new Runnable() {\n                @Override\n                public void run() {\n                    wifiManager.startScan();\n\n                     // Schedule the next scan after 5 seconds\n                    scanninghandler.postDelayed(runnable, 5000);\n                }\n            }, 1000); \n        \n    }\n\n    class WifiScanReceiver extends BroadcastReceiver {\n        public void onReceive(Context c, Intent intent) {\n            if (ActivityCompat.checkSelfPermission(c, Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n                return;\n            }\n\n            if(wifiScanList != null)\n                wifiScanList.clear();\n            wifiScanList = wifiManager.getScanResults();\n\n            \n            wifiAdapter = new WifiAdapter(WifiNetworkList.this, sortedwifilist(wifiScanList),connected_ssid);\nall_wifi.setAdapter(wifiAdapter);\n            unregisterReceiver(this);\n\n        }\n</code></pre>\n<p>as you can see I am using handler to repeat scanning again and again after 5sec to get updated available networks but the issue here is that I'm only able to scan new wifi for the first 2,3 times and than it just keeps returning the old wifilist.</p>\n<p>i want to update the wifilist after every 5sec so that the user can see all the new networks available, Thanks</p>\n"},{"tags":["java","spring","spring-boot","swagger","swagger-ui"],"answers":[{"tags":[],"owner":{"account_id":18067649,"reputation":370,"user_id":13133059,"display_name":"Rza İsmayıl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684315384,"creation_date":1684313751,"answer_id":76270260,"question_id":76263231,"body_markdown":"I solved the problem with changes in `SwaggerConfig.java`, I extended the `WebMvcConfigurerAdapter` in `SwaggerConfig` and overrided `void addResourceHandlers(ResourceHandlerRegistry registry)`\r\n:\r\n```java\r\npackage com.company.app.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\n@EnableWebMvc\r\npublic class SwaggerConfig extends WebMvcConfigurerAdapter {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.company&quot;))\r\n                .paths(PathSelectors.any())\r\n                .build();\r\n    }\r\n\r\n    @Override\r\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\r\n         registry.addResourceHandler(&quot;swagger-ui.html&quot;)\r\n                 .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\r\n\r\n         registry.addResourceHandler(&quot;/webjars/**&quot;)\r\n                 .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\r\n     }\r\n}\r\n```","title":"Spring Boot swagger-ui.html 404","body":"<p>I solved the problem with changes in <code>SwaggerConfig.java</code>, I extended the <code>WebMvcConfigurerAdapter</code> in <code>SwaggerConfig</code> and overrided <code>void addResourceHandlers(ResourceHandlerRegistry registry)</code>\n:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.app.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurerAdapter;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\n@EnableWebMvc\npublic class SwaggerConfig extends WebMvcConfigurerAdapter {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.company&quot;))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    @Override\n    public void addResourceHandlers(ResourceHandlerRegistry registry) {\n         registry.addResourceHandler(&quot;swagger-ui.html&quot;)\n                 .addResourceLocations(&quot;classpath:/META-INF/resources/&quot;);\n\n         registry.addResourceHandler(&quot;/webjars/**&quot;)\n                 .addResourceLocations(&quot;classpath:/META-INF/resources/webjars/&quot;);\n     }\n}\n</code></pre>\n"}],"owner":{"account_id":18067649,"reputation":370,"user_id":13133059,"display_name":"Rza İsmayıl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684315384,"creation_date":1684241538,"question_id":76263231,"body_markdown":"I want to setup swagger ui for my spring boot application but when I go to `http://localhost:8080/swagger-ui` I got 404 not found. I tried it with `http://localhost:8080/swagger-ui.html` and `http://localhost:8080/swagger-ui/index.html` but still got a 404. I have looked at countless tutorial and forms question but the problem continues. Here are my dependencies and swagger config file\r\n\r\nbuild.gradle:\r\n```gradle\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;org.springframework.boot&#39; version &#39;2.7.10&#39;\r\n    id &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\n\r\ngroup = &#39;com.company&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\ndependencies {\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n    implementation &#39;org.modelmapper:modelmapper:2.1.1&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    runtimeOnly &#39;org.postgresql:postgresql&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    implementation &#39;io.springfox:springfox-swagger2:2.9.2&#39;\r\n    implementation &#39;io.springfox:springfox-swagger-ui:2.9.2&#39;\r\n}\r\n```\r\nSwaggerConfig.java:\r\n```java\r\npackage com.company.app.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\r\nimport springfox.documentation.builders.PathSelectors;\r\nimport springfox.documentation.builders.RequestHandlerSelectors;\r\nimport springfox.documentation.spi.DocumentationType;\r\nimport springfox.documentation.spring.web.plugins.Docket;\r\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n\r\n@Configuration\r\n@EnableSwagger2\r\n@EnableWebMvc\r\npublic class SwaggerConfig {\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n                .select()\r\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.company&quot;))\r\n                .paths(PathSelectors.ant(&quot;/api/**&quot;))\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nI assume it is about the versions, which one should I use with the spring boot version I am using if it is about versions of swagger?\r\n","title":"Spring Boot swagger-ui.html 404","body":"<p>I want to setup swagger ui for my spring boot application but when I go to <code>http://localhost:8080/swagger-ui</code> I got 404 not found. I tried it with <code>http://localhost:8080/swagger-ui.html</code> and <code>http://localhost:8080/swagger-ui/index.html</code> but still got a 404. I have looked at countless tutorial and forms question but the problem continues. Here are my dependencies and swagger config file</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.10'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\n\ngroup = 'com.company'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.modelmapper:modelmapper:2.1.1'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n    runtimeOnly 'org.postgresql:postgresql'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'io.springfox:springfox-swagger2:2.9.2'\n    implementation 'io.springfox:springfox-swagger-ui:2.9.2'\n}\n</code></pre>\n<p>SwaggerConfig.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company.app.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.EnableWebMvc;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\n@EnableWebMvc\npublic class SwaggerConfig {\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.company&quot;))\n                .paths(PathSelectors.ant(&quot;/api/**&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>I assume it is about the versions, which one should I use with the spring boot version I am using if it is about versions of swagger?</p>\n"},{"tags":["java","spring","spring-boot","file-upload"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684315578,"post_id":76270432,"comment_id":134499175,"body_markdown":"Don&#39;t upload to `src/main/resources` that will break whe packaged as that is the classpath which you cannot upload to. Upload to an external directory instead.","body":"Don&#39;t upload to <code>src&#47;main&#47;resources</code> that will break whe packaged as that is the classpath which you cannot upload to. Upload to an external directory instead."}],"owner":{"account_id":7656937,"reputation":53,"user_id":5803464,"display_name":"Kristian -"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684314890,"creation_date":1684314890,"question_id":76270432,"body_markdown":"I am using Java Spring Boot to create a picture-uploading system. The function I used goes like this: \r\n\r\n``` \r\npublic static JSONObject uploadFile(MultipartFile file, String folder) {\r\n\t\tJSONObject result = new JSONObject();\r\n\t\ttry {\r\n    \t\tPath resourceDirectory = Paths.get(&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,&quot;templates&quot;,&quot;img&quot;, folder);\r\n    \t\tString absolutePath = resourceDirectory.toFile().getAbsolutePath();\r\n    \t\tfolderCheckAdd(absolutePath);\r\n    \t\tFile file2 = new File(absolutePath + &quot;/&quot; + file.getOriginalFilename());\r\n        \tString ext = FilenameUtils.getExtension(file2.getAbsolutePath());\r\n            if (ext.equalsIgnoreCase(&quot;png&quot;) || ext.equalsIgnoreCase(&quot;jpg&quot;)) {\r\n            \tInputStream is;\r\n        \t\tFileOutputStream os = null;\r\n        \t\ttry {\r\n        \t\t\tis = file.getInputStream();\r\n        \t\t\tos = new FileOutputStream(file2);\r\n        \t\t\tbyte[] buffer = new byte[1024];\r\n        \t\t\tint length;\r\n        \t\t\twhile ((length = is.read(buffer)) &gt; 0) {\r\n        \t\t\t\tos.write(buffer, 0, length);\r\n        \t\t\t}\r\n        \t\t} finally {\r\n        \t\t\tos.close();\r\n        \t\t}\r\n        \t\tresult.put(&quot;Result&quot;, &quot;Success&quot;);\r\n            } else {\r\n            \tresult.put(&quot;Result&quot;, &quot;Fail&quot;);\r\n        \t\tresult.put(&quot;Message&quot;, &quot;Picture not in PNG/JPG format&quot;);\r\n            }\r\n    \t} catch (IOException ex) {\r\n    \t\tresult.put(&quot;Result&quot;, &quot;Fail&quot;);\r\n    \t\tresult.put(&quot;Message&quot;, &quot;IO Exception caught&quot;);\r\n    \t\t\r\n    \t}\r\n\t\treturn result;\r\n\t}\r\n\t\r\n\tpublic static void folderCheckAdd(String path) throws IOException{\r\n\t\tFile file = new File(path);\r\n\t\tif (!file.exists()) {\r\n\t\t\tfile.mkdir();\r\n\t\t}\r\n\t}\r\n``` \r\n\r\nWhereas, the command I&#39;m using to load said picture goes like this.\r\n\r\n``` \r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\n\r\nimport org.apache.commons.io.FilenameUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.core.io.Resource;\r\nimport org.springframework.core.io.ResourceLoader;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.util.ResourceUtils;\r\nimport org.springframework.util.StreamUtils;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/project/img/&quot;)\r\npublic class ImageController {\r\n\t\r\n\t@Autowired\r\n\tResourceLoader resourceLoader;\r\n\r\n\t@GetMapping(&quot;/{name}&quot; )\r\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable String name) throws IOException {\r\n\r\n    \treturn setupImage(name);\r\n    \t\r\n    }\r\n    \r\n    @GetMapping(&quot;/{category}/{name}&quot; )\r\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable String category, @PathVariable String name) throws IOException {\r\n    \treturn setupImage(category+&quot;/&quot;+name);\r\n    }\r\n    \r\n    private ResponseEntity&lt;byte[]&gt; setupImage (String path) throws IOException {\r\n    \tFile imgFile ;\r\n    \tResource resource = resourceLoader.getResource(&quot;classpath:templates/img/&quot;+path);\r\n    \tif (resource.exists()) {\r\n    \t\timgFile = ResourceUtils.getFile(&quot;classpath:templates/img/&quot;+path);\r\n    \t} else {\r\n    \t\tSystem.out.println(resource.getFilename());\r\n    \t\timgFile = ResourceUtils.getFile(&quot;classpath:templates/img/noimage.png&quot;);\r\n    \t}\r\n    \tString ext = FilenameUtils.getExtension(imgFile.getAbsolutePath());\r\n        byte[] bytes = StreamUtils.copyToByteArray(new FileInputStream(imgFile));\r\n        MediaType type;\r\n        if (ext.equals(&quot;png&quot;)) {\r\n        \ttype = MediaType.IMAGE_PNG;\r\n        } else {\r\n        \ttype = MediaType.IMAGE_JPEG;\r\n        }\r\n        return ResponseEntity\r\n                .ok()\r\n                .contentType(type)\r\n                .body(bytes);\r\n    }\r\n}\r\n``` \r\n\r\nWhen the first code snippet is run, it successfully saved the picture in the resource, therefore, in my PC, the picture appears and are copied. However, when I try to load the picture by using the second snippet, the picture will not load, the &quot;if (resource.exists())&quot; part always returns false. Until I restart my server a few times, then it appears for good. But I believe that is not the ideal outcome.\r\n\r\nSo what should I do in order to ensure that once I upload, the picture can be displayed without needing to restart my server? Is there another coding that I should have used, or there&#39;s another framework as an alternative?\r\n\r\nThank you.","title":"Java Spring: Upload picture and the picture will not appear?","body":"<p>I am using Java Spring Boot to create a picture-uploading system. The function I used goes like this:</p>\n<pre><code>public static JSONObject uploadFile(MultipartFile file, String folder) {\n        JSONObject result = new JSONObject();\n        try {\n            Path resourceDirectory = Paths.get(&quot;src&quot;,&quot;main&quot;,&quot;resources&quot;,&quot;templates&quot;,&quot;img&quot;, folder);\n            String absolutePath = resourceDirectory.toFile().getAbsolutePath();\n            folderCheckAdd(absolutePath);\n            File file2 = new File(absolutePath + &quot;/&quot; + file.getOriginalFilename());\n            String ext = FilenameUtils.getExtension(file2.getAbsolutePath());\n            if (ext.equalsIgnoreCase(&quot;png&quot;) || ext.equalsIgnoreCase(&quot;jpg&quot;)) {\n                InputStream is;\n                FileOutputStream os = null;\n                try {\n                    is = file.getInputStream();\n                    os = new FileOutputStream(file2);\n                    byte[] buffer = new byte[1024];\n                    int length;\n                    while ((length = is.read(buffer)) &gt; 0) {\n                        os.write(buffer, 0, length);\n                    }\n                } finally {\n                    os.close();\n                }\n                result.put(&quot;Result&quot;, &quot;Success&quot;);\n            } else {\n                result.put(&quot;Result&quot;, &quot;Fail&quot;);\n                result.put(&quot;Message&quot;, &quot;Picture not in PNG/JPG format&quot;);\n            }\n        } catch (IOException ex) {\n            result.put(&quot;Result&quot;, &quot;Fail&quot;);\n            result.put(&quot;Message&quot;, &quot;IO Exception caught&quot;);\n            \n        }\n        return result;\n    }\n    \n    public static void folderCheckAdd(String path) throws IOException{\n        File file = new File(path);\n        if (!file.exists()) {\n            file.mkdir();\n        }\n    }\n</code></pre>\n<p>Whereas, the command I'm using to load said picture goes like this.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\n\nimport org.apache.commons.io.FilenameUtils;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.core.io.Resource;\nimport org.springframework.core.io.ResourceLoader;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.util.ResourceUtils;\nimport org.springframework.util.StreamUtils;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping(&quot;/project/img/&quot;)\npublic class ImageController {\n    \n    @Autowired\n    ResourceLoader resourceLoader;\n\n    @GetMapping(&quot;/{name}&quot; )\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable String name) throws IOException {\n\n        return setupImage(name);\n        \n    }\n    \n    @GetMapping(&quot;/{category}/{name}&quot; )\n    public ResponseEntity&lt;byte[]&gt; getImage(@PathVariable String category, @PathVariable String name) throws IOException {\n        return setupImage(category+&quot;/&quot;+name);\n    }\n    \n    private ResponseEntity&lt;byte[]&gt; setupImage (String path) throws IOException {\n        File imgFile ;\n        Resource resource = resourceLoader.getResource(&quot;classpath:templates/img/&quot;+path);\n        if (resource.exists()) {\n            imgFile = ResourceUtils.getFile(&quot;classpath:templates/img/&quot;+path);\n        } else {\n            System.out.println(resource.getFilename());\n            imgFile = ResourceUtils.getFile(&quot;classpath:templates/img/noimage.png&quot;);\n        }\n        String ext = FilenameUtils.getExtension(imgFile.getAbsolutePath());\n        byte[] bytes = StreamUtils.copyToByteArray(new FileInputStream(imgFile));\n        MediaType type;\n        if (ext.equals(&quot;png&quot;)) {\n            type = MediaType.IMAGE_PNG;\n        } else {\n            type = MediaType.IMAGE_JPEG;\n        }\n        return ResponseEntity\n                .ok()\n                .contentType(type)\n                .body(bytes);\n    }\n}\n</code></pre>\n<p>When the first code snippet is run, it successfully saved the picture in the resource, therefore, in my PC, the picture appears and are copied. However, when I try to load the picture by using the second snippet, the picture will not load, the &quot;if (resource.exists())&quot; part always returns false. Until I restart my server a few times, then it appears for good. But I believe that is not the ideal outcome.</p>\n<p>So what should I do in order to ensure that once I upload, the picture can be displayed without needing to restart my server? Is there another coding that I should have used, or there's another framework as an alternative?</p>\n<p>Thank you.</p>\n"},{"tags":["java","php","mysql"],"comments":[{"owner":{"account_id":7869117,"reputation":58330,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684316158,"post_id":76270377,"comment_id":134499303,"body_markdown":"Does `http://192.168.0.128/senior2/signup.php` time out if you access it a different way (e.g. via a browser)? If so then the problem is likely to be in the PHP or webserver. If not, then maybe it&#39;s a connection error between the Android app and your server. I notice you&#39;re using a local LAN IP address...is your Android device connected to the same LAN?","body":"Does <code>http:&#47;&#47;192.168.0.128&#47;senior2&#47;signup.php</code> time out if you access it a different way (e.g. via a browser)? If so then the problem is likely to be in the PHP or webserver. If not, then maybe it&#39;s a connection error between the Android app and your server. I notice you&#39;re using a local LAN IP address...is your Android device connected to the same LAN?"},{"owner":{"account_id":7869117,"reputation":58330,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684316254,"post_id":76270377,"comment_id":134499325,"body_markdown":"P.S. It&#39;s not very secure to send a password in a URL GET parameter...it can easily by logged by webservers, routers etc. Better to send a POST request with the data in the body, and use HTTPS.","body":"P.S. It&#39;s not very secure to send a password in a URL GET parameter...it can easily by logged by webservers, routers etc. Better to send a POST request with the data in the body, and use HTTPS."},{"owner":{"account_id":7869117,"reputation":58330,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684316264,"post_id":76270377,"comment_id":134499328,"body_markdown":"Also, please don&#39;t store passwords in plain text - that is another security risk. Learn about [password hashing](https://www.php.net/manual/en/faq.passwords.php) instead. See also [How to use PHP&#39;s password_hash to hash and verify passwords](https://stackoverflow.com/questions/30279321/how-to-use-phps-password-hash-to-hash-and-verify-passwords)","body":"Also, please don&#39;t store passwords in plain text - that is another security risk. Learn about <a href=\"https://www.php.net/manual/en/faq.passwords.php\" rel=\"nofollow noreferrer\">password hashing</a> instead. See also <a href=\"https://stackoverflow.com/questions/30279321/how-to-use-phps-password-hash-to-hash-and-verify-passwords\">How to use PHP&#39;s password_hash to hash and verify passwords</a>"},{"owner":{"account_id":7869117,"reputation":58330,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684316284,"post_id":76270377,"comment_id":134499336,"body_markdown":"And please bring your error handling into the 21st century. Add `mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);` before your `mysqli_connect()` (or `new mysqli()`) command, and this will ensure that errors with your SQL queries are reported correctly to PHP automatically. That way you don&#39;t need to clutter your script with repetitive code to keep checking errors after every mysqli command. And you should never be echoing error data deliberately - it can easily reveal sensitive info to attackers by accident.","body":"And please bring your error handling into the 21st century. Add <code>mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);</code> before your <code>mysqli_connect()</code> (or <code>new mysqli()</code>) command, and this will ensure that errors with your SQL queries are reported correctly to PHP automatically. That way you don&#39;t need to clutter your script with repetitive code to keep checking errors after every mysqli command. And you should never be echoing error data deliberately - it can easily reveal sensitive info to attackers by accident."},{"owner":{"account_id":7336923,"reputation":593,"user_id":5587982,"display_name":"A. Cedano"},"score":1,"creation_date":1684326947,"post_id":76270377,"comment_id":134501630,"body_markdown":"Notice how you are sending certain data from Android: `data.put(&quot;name&quot;, name);` and how do you try to retrieve them on the server: `$_GET[&quot;username&quot;]` Also, you never send `id`, but you try to retrieve it: `$_GET[&quot;id&quot;]`. Also, your style of programming in PHP is &quot;naive&quot;, too optimistic, you don&#39;t check that the values exist in `$_GET`. One other thing, in Android you said you will use `POST`, why do you use `$_GET` on the server and not `$_POST`?","body":"Notice how you are sending certain data from Android: <code>data.put(&quot;name&quot;, name);</code> and how do you try to retrieve them on the server: <code>$_GET[&quot;username&quot;]</code> Also, you never send <code>id</code>, but you try to retrieve it: <code>$_GET[&quot;id&quot;]</code>. Also, your style of programming in PHP is &quot;naive&quot;, too optimistic, you don&#39;t check that the values exist in <code>$_GET</code>. One other thing, in Android you said you will use <code>POST</code>, why do you use <code>$_GET</code> on the server and not <code>$_POST</code>?"},{"owner":{"account_id":7869117,"reputation":58330,"user_id":5947043,"display_name":"ADyson"},"score":0,"creation_date":1684327578,"post_id":76270377,"comment_id":134501786,"body_markdown":"Agree with the above...on closer inspection this does appear to be two pieces of separate code, not particularly designed to work together, but thrown together on the basis of...what? Guesswork, perhaps? It&#39;s unclear _why_ you ever expected this to be correct? Programming is not guesswork. Learn how submitting data in a HTTP request works, especially in terms of the different HTTP methods (GET, POST etc) and specifying the names of the fields you submit (hint: it&#39;s not rocket science...the names of the parameters you send from the client must match what the server code is looking for....)","body":"Agree with the above...on closer inspection this does appear to be two pieces of separate code, not particularly designed to work together, but thrown together on the basis of...what? Guesswork, perhaps? It&#39;s unclear <i>why</i> you ever expected this to be correct? Programming is not guesswork. Learn how submitting data in a HTTP request works, especially in terms of the different HTTP methods (GET, POST etc) and specifying the names of the fields you submit (hint: it&#39;s not rocket science...the names of the parameters you send from the client must match what the server code is looking for....)"}],"owner":{"account_id":28470851,"reputation":1,"user_id":21786188,"display_name":"Aisha Omar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684314816,"creation_date":1684314516,"question_id":76270377,"body_markdown":"This is my register code for the app the error i got doesnt show where is the problem it just says timeout error when i press the button register  \r\n```\r\npackage com.example.registerlogindemo;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.android.volley.AuthFailureError;\r\nimport com.android.volley.Request;\r\nimport com.android.volley.RequestQueue;\r\nimport com.android.volley.Response;\r\nimport com.android.volley.VolleyError;\r\nimport com.android.volley.toolbox.StringRequest;\r\nimport com.android.volley.toolbox.Volley;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Register extends AppCompatActivity {\r\n    private EditText etName, etEmail, etPassword, etReenterPassword;\r\n    private TextView tvStatus;\r\n    private Button btnRegister;\r\n    private String URL = &quot;http://192.168.0.128/senior2/signup.php&quot;;\r\n    private String name, email, password, reenterPassword;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.register);\r\n        etName = findViewById(R.id.etName);\r\n        etEmail = findViewById(R.id.etEmail);\r\n        etPassword = findViewById(R.id.etPassword);\r\n        etReenterPassword = findViewById(R.id.etReenterPassword);\r\n        tvStatus = findViewById(R.id.tvStatus);\r\n        btnRegister = findViewById(R.id.btnRegister);\r\n        name = email = password = reenterPassword = &quot;&quot;;\r\n    }\r\n\r\n    public void save(View view) {\r\n        name = etName.getText().toString().trim();\r\n        email = etEmail.getText().toString().trim();\r\n        password = etPassword.getText().toString().trim();\r\n        reenterPassword = etReenterPassword.getText().toString().trim();\r\n        if(!password.equals(reenterPassword)){\r\n            Toast.makeText(this, &quot;Password Mismatch&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else if(!name.equals(&quot;&quot;) &amp;&amp; !email.equals(&quot;&quot;) &amp;&amp; !password.equals(&quot;&quot;)){\r\n            StringRequest stringRequest = new StringRequest(Request.Method.POST, URL, new Response.Listener&lt;String&gt;() {\r\n                @Override\r\n                public void onResponse(String response) {\r\n                    if (response.equals(&quot;success&quot;)) {\r\n                        tvStatus.setText(&quot;Successfully registered.&quot;);\r\n                        btnRegister.setClickable(false);\r\n                    } else if (response.equals(&quot;failure&quot;)) {\r\n                        tvStatus.setText(&quot;Something went wrong!&quot;);                    }\r\n                }\r\n            }, new Response.ErrorListener() {\r\n                @Override\r\n                public void onErrorResponse(VolleyError error) {\r\n                    Toast.makeText(getApplicationContext(), error.toString().trim(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            }){\r\n                @Override\r\n                protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\r\n                    Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\r\n                    data.put(&quot;name&quot;, name);\r\n                    data.put(&quot;email&quot;, email);\r\n                    data.put(&quot;password&quot;, password);\r\n                    return data;\r\n                }\r\n            };\r\n            RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\r\n            requestQueue.add(stringRequest);\r\n        }\r\n    }\r\n\r\n    public void login(View view) {\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n}\r\n```\r\nThis is my php signup that i created and it is working i tested it \r\n\r\n```\r\n&lt;?php\r\n$con = new mysqli(&quot;localhost&quot;, &quot;root&quot;, &quot;Aisha55733441&quot;, &quot;signupdb&quot;, 3307);\r\n\r\n$st_check = $con-&gt;prepare(&quot;SELECT * FROM users WHERE email = ?&quot;);\r\n$st_check-&gt;bind_param(&quot;s&quot;, $_GET[&quot;email&quot;]);\r\n$st_check-&gt;execute();\r\n$rs = $st_check-&gt;get_result();\r\n\r\nif ($rs-&gt;num_rows == 0) {\r\n    $st = $con-&gt;prepare(&quot;INSERT INTO users (id, username, email, password) VALUES (?, ?, ?, ?)&quot;);\r\n    if (!$st) {\r\n        die(&#39;Invalid query: &#39; . $con-&gt;error);\r\n    }\r\n    $st-&gt;bind_param(&quot;isss&quot;,$_GET[&quot;id&quot;], $_GET[&quot;username&quot;], $_GET[&quot;email&quot;],$_GET[&quot;password&quot;]);\r\n\r\n    if (!$st-&gt;execute()) {\r\n        die(&#39;Invalid query: &#39; . $st-&gt;error);\r\n    }\r\n    echo &quot;successful&quot;;\r\n} else {\r\n    $user = $rs-&gt;fetch_assoc();\r\n    echo &quot;User with ID &quot; . $user[&quot;id&quot;] . &quot; already exists&quot;;\r\n}\r\n\r\n```\r\nI searched everywhere and i couldnt find the error cause so please if anybody can help \r\n\r\ni want the user information to be inserted here ","title":"I am trying to register with android studio to mysql data base using php but i am getting error com.android.volley.TimeoutError","body":"<p>This is my register code for the app the error i got doesnt show where is the problem it just says timeout error when i press the button register</p>\n<pre><code>package com.example.registerlogindemo;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.android.volley.AuthFailureError;\nimport com.android.volley.Request;\nimport com.android.volley.RequestQueue;\nimport com.android.volley.Response;\nimport com.android.volley.VolleyError;\nimport com.android.volley.toolbox.StringRequest;\nimport com.android.volley.toolbox.Volley;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Register extends AppCompatActivity {\n    private EditText etName, etEmail, etPassword, etReenterPassword;\n    private TextView tvStatus;\n    private Button btnRegister;\n    private String URL = &quot;http://192.168.0.128/senior2/signup.php&quot;;\n    private String name, email, password, reenterPassword;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.register);\n        etName = findViewById(R.id.etName);\n        etEmail = findViewById(R.id.etEmail);\n        etPassword = findViewById(R.id.etPassword);\n        etReenterPassword = findViewById(R.id.etReenterPassword);\n        tvStatus = findViewById(R.id.tvStatus);\n        btnRegister = findViewById(R.id.btnRegister);\n        name = email = password = reenterPassword = &quot;&quot;;\n    }\n\n    public void save(View view) {\n        name = etName.getText().toString().trim();\n        email = etEmail.getText().toString().trim();\n        password = etPassword.getText().toString().trim();\n        reenterPassword = etReenterPassword.getText().toString().trim();\n        if(!password.equals(reenterPassword)){\n            Toast.makeText(this, &quot;Password Mismatch&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else if(!name.equals(&quot;&quot;) &amp;&amp; !email.equals(&quot;&quot;) &amp;&amp; !password.equals(&quot;&quot;)){\n            StringRequest stringRequest = new StringRequest(Request.Method.POST, URL, new Response.Listener&lt;String&gt;() {\n                @Override\n                public void onResponse(String response) {\n                    if (response.equals(&quot;success&quot;)) {\n                        tvStatus.setText(&quot;Successfully registered.&quot;);\n                        btnRegister.setClickable(false);\n                    } else if (response.equals(&quot;failure&quot;)) {\n                        tvStatus.setText(&quot;Something went wrong!&quot;);                    }\n                }\n            }, new Response.ErrorListener() {\n                @Override\n                public void onErrorResponse(VolleyError error) {\n                    Toast.makeText(getApplicationContext(), error.toString().trim(), Toast.LENGTH_SHORT).show();\n                }\n            }){\n                @Override\n                protected Map&lt;String, String&gt; getParams() throws AuthFailureError {\n                    Map&lt;String, String&gt; data = new HashMap&lt;&gt;();\n                    data.put(&quot;name&quot;, name);\n                    data.put(&quot;email&quot;, email);\n                    data.put(&quot;password&quot;, password);\n                    return data;\n                }\n            };\n            RequestQueue requestQueue = Volley.newRequestQueue(getApplicationContext());\n            requestQueue.add(stringRequest);\n        }\n    }\n\n    public void login(View view) {\n        Intent intent = new Intent(this, MainActivity.class);\n        startActivity(intent);\n        finish();\n    }\n}\n</code></pre>\n<p>This is my php signup that i created and it is working i tested it</p>\n<pre><code>&lt;?php\n$con = new mysqli(&quot;localhost&quot;, &quot;root&quot;, &quot;Aisha55733441&quot;, &quot;signupdb&quot;, 3307);\n\n$st_check = $con-&gt;prepare(&quot;SELECT * FROM users WHERE email = ?&quot;);\n$st_check-&gt;bind_param(&quot;s&quot;, $_GET[&quot;email&quot;]);\n$st_check-&gt;execute();\n$rs = $st_check-&gt;get_result();\n\nif ($rs-&gt;num_rows == 0) {\n    $st = $con-&gt;prepare(&quot;INSERT INTO users (id, username, email, password) VALUES (?, ?, ?, ?)&quot;);\n    if (!$st) {\n        die('Invalid query: ' . $con-&gt;error);\n    }\n    $st-&gt;bind_param(&quot;isss&quot;,$_GET[&quot;id&quot;], $_GET[&quot;username&quot;], $_GET[&quot;email&quot;],$_GET[&quot;password&quot;]);\n\n    if (!$st-&gt;execute()) {\n        die('Invalid query: ' . $st-&gt;error);\n    }\n    echo &quot;successful&quot;;\n} else {\n    $user = $rs-&gt;fetch_assoc();\n    echo &quot;User with ID &quot; . $user[&quot;id&quot;] . &quot; already exists&quot;;\n}\n\n</code></pre>\n<p>I searched everywhere and i couldnt find the error cause so please if anybody can help</p>\n<p>i want the user information to be inserted here</p>\n"},{"tags":["java","hibernate","spring-data-jpa","hibernate-6.x"],"comments":[{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1684274648,"post_id":76264419,"comment_id":134493967,"body_markdown":"Certainly looks like a bug from here, but _please_ simplify this down to a **minimal** reproducer before reporting it.","body":"Certainly looks like a bug from here, but <i>please</i> simplify this down to a <b>minimal</b> reproducer before reporting it."},{"owner":{"account_id":23503316,"reputation":35,"user_id":17552915,"display_name":"CodeWizard1985"},"score":0,"creation_date":1684393525,"post_id":76264419,"comment_id":134512293,"body_markdown":"One thing to mention: When i change the order of the LEFT JOIN clauses (first the manufacterer and the the positions), the error disappears.","body":"One thing to mention: When i change the order of the LEFT JOIN clauses (first the manufacterer and the the positions), the error disappears."}],"answers":[{"comments":[{"owner":{"account_id":23503316,"reputation":35,"user_id":17552915,"display_name":"CodeWizard1985"},"score":0,"creation_date":1684393455,"post_id":76270405,"comment_id":134512279,"body_markdown":"I am returning the entity itself. Tried it with using the FQN, but this didn&#39;t change anything.","body":"I am returning the entity itself. Tried it with using the FQN, but this didn&#39;t change anything."}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684314712,"creation_date":1684314712,"answer_id":76270405,"question_id":76264419,"body_markdown":"As far as I understand from the query your are returning the DTO having the same name as the entity you are querying from. So you need to distinguish between them somehow. Please use fully-qualified name for DTO declaration:\r\n\r\n```java\r\n@Query(\r\n      &quot;SELECT new com.your.package.name.Position(p, CASE WHEN p.sourceSetId IS NULL THEN p.sourceSetName ELSE s.name END as sourceSetName, pos.optimizedDisplayOrder) FROM Position p &quot;\r\n          + &quot;LEFT JOIN Position pos ON pos.projectId = p.projectId AND pos.positionId = p.sourceSetPositionId &quot;\r\n          + &quot;LEFT JOIN Manufacturer m ON p.optimizedItem.manufacturer.manufacturerId = m.manufacturerId &quot;\r\n          + &quot;LEFT JOIN Set s ON p.sourceSetId = s.setId AND p.projectId = s.projectId &quot;\r\n          + &quot;WHERE p.setId = :setId AND p.projectId = :projectId &quot;\r\n          + &quot;AND (UPPER(p.optimizedItem.code) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)) &quot;\r\n          + &quot;OR UPPER(m.name) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)) &quot;\r\n          + &quot;OR UPPER(p.optimizedItem.description) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)))&quot;)","title":"Queries broken after migration to Hibernate 6","body":"<p>As far as I understand from the query your are returning the DTO having the same name as the entity you are querying from. So you need to distinguish between them somehow. Please use fully-qualified name for DTO declaration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(\n      &quot;SELECT new com.your.package.name.Position(p, CASE WHEN p.sourceSetId IS NULL THEN p.sourceSetName ELSE s.name END as sourceSetName, pos.optimizedDisplayOrder) FROM Position p &quot;\n          + &quot;LEFT JOIN Position pos ON pos.projectId = p.projectId AND pos.positionId = p.sourceSetPositionId &quot;\n          + &quot;LEFT JOIN Manufacturer m ON p.optimizedItem.manufacturer.manufacturerId = m.manufacturerId &quot;\n          + &quot;LEFT JOIN Set s ON p.sourceSetId = s.setId AND p.projectId = s.projectId &quot;\n          + &quot;WHERE p.setId = :setId AND p.projectId = :projectId &quot;\n          + &quot;AND (UPPER(p.optimizedItem.code) LIKE UPPER(CONCAT('%', :searchParam, '%')) &quot;\n          + &quot;OR UPPER(m.name) LIKE UPPER(CONCAT('%', :searchParam, '%')) &quot;\n          + &quot;OR UPPER(p.optimizedItem.description) LIKE UPPER(CONCAT('%', :searchParam, '%')))&quot;)\n</code></pre>\n"}],"owner":{"account_id":23503316,"reputation":35,"user_id":17552915,"display_name":"CodeWizard1985"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684314712,"creation_date":1684248581,"question_id":76264419,"body_markdown":"When updating to Hibernate 6 (coming from 5.6) some of the existing queries gets broken. \r\n\r\nFor example, executing this query works fine in 5.6:\r\n\r\n```\r\n  @Query(\r\n      &quot;SELECT new Position(p, CASE WHEN p.sourceSetId IS NULL THEN p.sourceSetName ELSE s.name END as sourceSetName, pos.optimizedDisplayOrder) FROM Position p &quot;\r\n          + &quot;LEFT JOIN Position pos ON pos.projectId = p.projectId AND pos.positionId = p.sourceSetPositionId &quot;\r\n          + &quot;LEFT JOIN Manufacturer m ON p.optimizedItem.manufacturer.manufacturerId = m.manufacturerId &quot;\r\n          + &quot;LEFT JOIN Set s ON p.sourceSetId = s.setId AND p.projectId = s.projectId &quot;\r\n          + &quot;WHERE p.setId = :setId AND p.projectId = :projectId &quot;\r\n          + &quot;AND (UPPER(p.optimizedItem.code) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)) &quot;\r\n          + &quot;OR UPPER(m.name) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)) &quot;\r\n          + &quot;OR UPPER(p.optimizedItem.description) LIKE UPPER(CONCAT(&#39;%&#39;, :searchParam, &#39;%&#39;)))&quot;)\r\n```\r\nbut leads to the following error in 6:\r\n\r\n\r\n```\r\n2023-05-16T16:35:37.867+02:00  WARN 21803 --- [nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\r\n2023-05-16T16:35:37.867+02:00 ERROR 21803 --- [nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: missing FROM-clause entry for table &quot;o1_0&quot;\r\n  Position: 743\r\n2023-05-16T16:35:37.875+02:00 ERROR 21803 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.position_id,p1_0.comment,p1_0.create_date,p1_0.last_modified_by,p1_0.last_modified_date,p1_0.optimized_display_order,case when p1_0.optimized_item_id IS NULL then p1_0.original_item_id else p1_0.optimized_item_id end ,p1_0.optimized_item_id,p1_0.optimized_quantity,p1_0.original_display_order,p1_0.original_item_id,p1_0.original_quantity,p1_0.project_id,p1_0.set_id,p1_0.source_set_id,p1_0.source_set_name,p1_0.source_set_position_id,case when p1_0.source_set_id is null then p1_0.source_set_name else s1_0.name end,p2_0.optimized_display_order from nemo_dev.position p1_0 left join nemo_dev.position p2_0 on p2_0.project_id=p1_0.project_id and p2_0.position_id=p1_0.source_set_position_id left join nemo_dev.manufacturer m1_0 on o1_0.manufacturer_id=m1_0.manufacturer_id left join nemo_dev.set s1_0 on p1_0.source_set_id=s1_0.set_id and p1_0.project_id=s1_0.project_id join nemo_dev.item o1_0 on o1_0.item_id=case when p1_0.optimized_item_id IS NULL then p1_0.original_item_id else p1_0.optimized_item_id end  where p1_0.set_id=? and p1_0.project_id=? and (upper(o1_0.code) like upper((&#39;%&#39;||?||&#39;%&#39;)) escape &#39;&#39; or upper(m1_0.name) like upper((&#39;%&#39;||?||&#39;%&#39;)) escape &#39;&#39; or upper(o1_0.description) like upper((&#39;%&#39;||?||&#39;%&#39;)) escape &#39;&#39;) order by p1_0.optimized_display_order asc offset ? rows fetch first ? rows only]; SQL [n/a]] with root cause\r\n\r\norg.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;o1_0&quot;\r\n  Position: 743\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\r\n\tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\r\n```\r\n\r\n\r\n\r\nI have read the [migration guide](https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc) but couldn&#39;t find an explanation for this.\r\n\r\nAm i missing something? ","title":"Queries broken after migration to Hibernate 6","body":"<p>When updating to Hibernate 6 (coming from 5.6) some of the existing queries gets broken.</p>\n<p>For example, executing this query works fine in 5.6:</p>\n<pre><code>  @Query(\n      &quot;SELECT new Position(p, CASE WHEN p.sourceSetId IS NULL THEN p.sourceSetName ELSE s.name END as sourceSetName, pos.optimizedDisplayOrder) FROM Position p &quot;\n          + &quot;LEFT JOIN Position pos ON pos.projectId = p.projectId AND pos.positionId = p.sourceSetPositionId &quot;\n          + &quot;LEFT JOIN Manufacturer m ON p.optimizedItem.manufacturer.manufacturerId = m.manufacturerId &quot;\n          + &quot;LEFT JOIN Set s ON p.sourceSetId = s.setId AND p.projectId = s.projectId &quot;\n          + &quot;WHERE p.setId = :setId AND p.projectId = :projectId &quot;\n          + &quot;AND (UPPER(p.optimizedItem.code) LIKE UPPER(CONCAT('%', :searchParam, '%')) &quot;\n          + &quot;OR UPPER(m.name) LIKE UPPER(CONCAT('%', :searchParam, '%')) &quot;\n          + &quot;OR UPPER(p.optimizedItem.description) LIKE UPPER(CONCAT('%', :searchParam, '%')))&quot;)\n</code></pre>\n<p>but leads to the following error in 6:</p>\n<pre><code>2023-05-16T16:35:37.867+02:00  WARN 21803 --- [nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 0, SQLState: 42P01\n2023-05-16T16:35:37.867+02:00 ERROR 21803 --- [nio-8080-exec-9] o.h.engine.jdbc.spi.SqlExceptionHelper   : ERROR: missing FROM-clause entry for table &quot;o1_0&quot;\n  Position: 743\n2023-05-16T16:35:37.875+02:00 ERROR 21803 --- [nio-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.position_id,p1_0.comment,p1_0.create_date,p1_0.last_modified_by,p1_0.last_modified_date,p1_0.optimized_display_order,case when p1_0.optimized_item_id IS NULL then p1_0.original_item_id else p1_0.optimized_item_id end ,p1_0.optimized_item_id,p1_0.optimized_quantity,p1_0.original_display_order,p1_0.original_item_id,p1_0.original_quantity,p1_0.project_id,p1_0.set_id,p1_0.source_set_id,p1_0.source_set_name,p1_0.source_set_position_id,case when p1_0.source_set_id is null then p1_0.source_set_name else s1_0.name end,p2_0.optimized_display_order from nemo_dev.position p1_0 left join nemo_dev.position p2_0 on p2_0.project_id=p1_0.project_id and p2_0.position_id=p1_0.source_set_position_id left join nemo_dev.manufacturer m1_0 on o1_0.manufacturer_id=m1_0.manufacturer_id left join nemo_dev.set s1_0 on p1_0.source_set_id=s1_0.set_id and p1_0.project_id=s1_0.project_id join nemo_dev.item o1_0 on o1_0.item_id=case when p1_0.optimized_item_id IS NULL then p1_0.original_item_id else p1_0.optimized_item_id end  where p1_0.set_id=? and p1_0.project_id=? and (upper(o1_0.code) like upper(('%'||?||'%')) escape '' or upper(m1_0.name) like upper(('%'||?||'%')) escape '' or upper(o1_0.description) like upper(('%'||?||'%')) escape '') order by p1_0.optimized_display_order asc offset ? rows fetch first ? rows only]; SQL [n/a]] with root cause\n\norg.postgresql.util.PSQLException: ERROR: missing FROM-clause entry for table &quot;o1_0&quot;\n  Position: 743\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2676) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2366) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:356) ~[postgresql-42.5.4.jar:42.5.4]\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:496) ~[postgresql-42.5.4.jar:42.5.4]\n</code></pre>\n<p>I have read the <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc\" rel=\"nofollow noreferrer\">migration guide</a> but couldn't find an explanation for this.</p>\n<p>Am i missing something?</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":0,"creation_date":1285310820,"post_id":3784695,"comment_id":4009124,"body_markdown":"But is this secure? Are you storing passwords in plain-text?","body":"But is this secure? Are you storing passwords in plain-text?"},{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":1,"creation_date":1285311469,"post_id":3784695,"comment_id":4009195,"body_markdown":"There&#39;s a case for storing passwords in plain text, as opposed to simply obfuscating them - obfuscation gives a false sense of safety. See for example http://developer.pidgin.im/wiki/PlainTextPasswords","body":"There&#39;s a case for storing passwords in plain text, as opposed to simply obfuscating them - obfuscation gives a false sense of safety. See for example <a href=\"http://developer.pidgin.im/wiki/PlainTextPasswords\" rel=\"nofollow noreferrer\">developer.pidgin.im/wiki/PlainTextPasswords</a>"},{"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":0,"creation_date":1285312142,"post_id":3784695,"comment_id":4009248,"body_markdown":"Before I store a password, I will use http://www.jasypt.org/ to perform encryption. Currently, I hard code my encryption key in my application. I once thinking to let user specific the key. However, that may stop average user from using my app as it is kind to hard to explain what key is. Hence, I give up the idea. So far, I receive no complain on security issue by doing so.","body":"Before I store a password, I will use <a href=\"http://www.jasypt.org/\" rel=\"nofollow noreferrer\">jasypt.org</a> to perform encryption. Currently, I hard code my encryption key in my application. I once thinking to let user specific the key. However, that may stop average user from using my app as it is kind to hard to explain what key is. Hence, I give up the idea. So far, I receive no complain on security issue by doing so."},{"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"score":6,"creation_date":1285327039,"post_id":3784695,"comment_id":4010974,"body_markdown":"So anyone with a copy of your program can use anybody&#39;s key file? Lack of compalints doesn&#39;t make it secure. A person whose password is compromised may not even be aware of the fact. Sure this works and with properly protected machines it&#39;s quite low risk, but in fact the encryption buys very little. In effect your applciation is the key, so that&#39;s what needs to be protected.","body":"So anyone with a copy of your program can use anybody&#39;s key file? Lack of compalints doesn&#39;t make it secure. A person whose password is compromised may not even be aware of the fact. Sure this works and with properly protected machines it&#39;s quite low risk, but in fact the encryption buys very little. In effect your applciation is the key, so that&#39;s what needs to be protected."},{"owner":{"account_id":151106,"reputation":9166,"user_id":364746,"accept_rate":84,"display_name":"Feras Odeh"},"score":4,"creation_date":1285389372,"post_id":3784695,"comment_id":4018942,"body_markdown":"I think this is a security threat.As a cracker can get the hard coded password by decompiling your Java code.","body":"I think this is a security threat.As a cracker can get the hard coded password by decompiling your Java code."},{"owner":{"account_id":76113,"reputation":2618,"user_id":218125,"accept_rate":92,"display_name":"Cypher"},"score":0,"creation_date":1544655250,"post_id":3784695,"comment_id":94358076,"body_markdown":"That&#39;s not where you store user or application data on Windows.","body":"That&#39;s not where you store user or application data on Windows."}],"tags":[],"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"comment_count":6,"down_vote_count":1,"up_vote_count":28,"is_accepted":false,"score":27,"last_activity_date":1462967283,"creation_date":1285309517,"answer_id":3784695,"question_id":3784657,"body_markdown":"I usually store in user data directory, with sub directories of application name followed by application version.\r\n\r\n    public static String getUserDataDirectory() {\r\n        return System.getProperty(&quot;user.home&quot;) + File.separator + &quot;.jstock&quot; + File.separator + getApplicationVersionString() + File.separator;\r\n    }\r\n\r\nI had been using the following code for 3 years. This method works quite well either in Windows, Linux or Mac.\r\n\r\nPlease note that, in Windows, never store it in `Program Files`, as UAC in Windows Vista or newer may give you a lot of trouble.\r\n\r\nRemember put a dot in-front of your application name, so that it will become a hidden folder in Linux.\r\n\r\nGood thing by using this methology is that, you are not limited your self in storing primitive value only. Instead, you may save the entire object state to the disk by using [xstream][1]\r\n\r\nFor example :\r\n\r\n    public static boolean toXML(Object object, File file) {\r\n        XStream xStream = new XStream();\r\n        OutputStream outputStream = null;\r\n        Writer writer = null;\r\n    \r\n        try {\r\n            outputStream = new FileOutputStream(file);\r\n            writer = new OutputStreamWriter(outputStream, Charset.forName(&quot;UTF-8&quot;));\r\n            xStream.toXML(object, writer);\r\n        }\r\n        catch (Exception exp) {\r\n            log.error(null, exp);\r\n            return false;\r\n        }\r\n        finally {\r\n            close(writer);\r\n            close(outputStream);\r\n        }\r\n    \r\n        return true;\r\n    } \r\n\r\n\r\n  [1]: http://xstream.codehaus.org/","title":"What is the best way to save user settings in java application?","body":"<p>I usually store in user data directory, with sub directories of application name followed by application version.</p>\n\n<pre><code>public static String getUserDataDirectory() {\n    return System.getProperty(\"user.home\") + File.separator + \".jstock\" + File.separator + getApplicationVersionString() + File.separator;\n}\n</code></pre>\n\n<p>I had been using the following code for 3 years. This method works quite well either in Windows, Linux or Mac.</p>\n\n<p>Please note that, in Windows, never store it in <code>Program Files</code>, as UAC in Windows Vista or newer may give you a lot of trouble.</p>\n\n<p>Remember put a dot in-front of your application name, so that it will become a hidden folder in Linux.</p>\n\n<p>Good thing by using this methology is that, you are not limited your self in storing primitive value only. Instead, you may save the entire object state to the disk by using <a href=\"http://xstream.codehaus.org/\" rel=\"noreferrer\">xstream</a></p>\n\n<p>For example :</p>\n\n<pre><code>public static boolean toXML(Object object, File file) {\n    XStream xStream = new XStream();\n    OutputStream outputStream = null;\n    Writer writer = null;\n\n    try {\n        outputStream = new FileOutputStream(file);\n        writer = new OutputStreamWriter(outputStream, Charset.forName(\"UTF-8\"));\n        xStream.toXML(object, writer);\n    }\n    catch (Exception exp) {\n        log.error(null, exp);\n        return false;\n    }\n    finally {\n        close(writer);\n        close(outputStream);\n    }\n\n    return true;\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":30285,"reputation":55210,"user_id":82511,"accept_rate":71,"display_name":"djna"},"comment_count":0,"down_vote_count":1,"up_vote_count":14,"is_accepted":false,"score":13,"last_activity_date":1285310279,"creation_date":1285310279,"answer_id":3784757,"question_id":3784657,"body_markdown":"\r\nStoring a single password *securely* is quite difficult. Suppose you encrypt the password using some secret key. Then when your applciation starts again it needs that secret key, where does it get that from? \r\n\r\nIf it asks the user then he might as well just enter the ftp password which you stored in the first place. If it reads the secret key from somewhere then you need to secure the secret key, and we&#39;re back where we started. \r\n\r\nIf you are keeping several passwords then asking the user for a single password to some &quot;vault&quot; may be much friendlier, but you then get into all the hassle of dealing with expired passwords. \r\n\r\nThere are products available to deal with this wort of stuff, if you have a serious need then you probably need to investigate them.","title":"What is the best way to save user settings in java application?","body":"<p>Storing a single password <em>securely</em> is quite difficult. Suppose you encrypt the password using some secret key. Then when your applciation starts again it needs that secret key, where does it get that from? </p>\n\n<p>If it asks the user then he might as well just enter the ftp password which you stored in the first place. If it reads the secret key from somewhere then you need to secure the secret key, and we're back where we started. </p>\n\n<p>If you are keeping several passwords then asking the user for a single password to some \"vault\" may be much friendlier, but you then get into all the hassle of dealing with expired passwords. </p>\n\n<p>There are products available to deal with this wort of stuff, if you have a serious need then you probably need to investigate them.</p>\n"},{"comments":[{"owner":{"account_id":27431,"reputation":46866,"user_id":72437,"accept_rate":86,"display_name":"Cheok Yan Cheng"},"score":14,"creation_date":1285334568,"post_id":3784813,"comment_id":4012255,"body_markdown":"Where shall we store the required key?","body":"Where shall we store the required key?"},{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":6,"creation_date":1369827704,"post_id":3784813,"comment_id":24234766,"body_markdown":"Nice intro tutorial here:  http://www.mkyong.com/java/java-properties-file-examples/","body":"Nice intro tutorial here:  <a href=\"http://www.mkyong.com/java/java-properties-file-examples/\" rel=\"nofollow noreferrer\">mkyong.com/java/java-properties-file-examples</a>"},{"owner":{"account_id":3111325,"reputation":3304,"user_id":2632991,"accept_rate":42,"display_name":"El Mac"},"score":0,"creation_date":1459942196,"post_id":3784813,"comment_id":60512237,"body_markdown":"I want to note that on Windows you might have to change the registry if you are using Preferences. For a normal user of your application, this might be a blocker (no-go!).","body":"I want to note that on Windows you might have to change the registry if you are using Preferences. For a normal user of your application, this might be a blocker (no-go!)."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1488699885,"post_id":3784813,"comment_id":72341417,"body_markdown":"@ElMac: I guess you refer to the infamous `WARNING: Could not open/create prefs root node Software\\JavaSoft\\Prefs \nat root 0x80000002. Windows RegCreateKeyEx(...) returned error code 5`  warning?  Which has led users to believe that they need to use `regedit` to create a new Win Registry key (because then this warning goes away). This is actually a [bug in Java itself](http://stackoverflow.com/a/41151051/1504556). You are not meant to have to do this. It is a result of the bug.","body":"@ElMac: I guess you refer to the infamous <code>WARNING: Could not open&#47;create prefs root node Software\\JavaSoft\\Prefs  at root 0x80000002. Windows RegCreateKeyEx(...) returned error code 5</code>  warning?  Which has led users to believe that they need to use <code>regedit</code> to create a new Win Registry key (because then this warning goes away). This is actually a <a href=\"http://stackoverflow.com/a/41151051/1504556\">bug in Java itself</a>. You are not meant to have to do this. It is a result of the bug."}],"tags":[],"owner":{"account_id":198008,"reputation":12189,"user_id":442433,"display_name":"Giorgos Dimtsas"},"comment_count":4,"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1285310874,"creation_date":1285310874,"answer_id":3784813,"question_id":3784657,"body_markdown":"The [Preferences API][1] is a nice way to store user and system preferences. If you want to store passwords, you&#39;ll have to encrypt them. Here is a nice article that can get you started. \r\n\r\n[Encrypted Preferences in Java][2]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/guide/preferences/index.html\r\n  [2]: http://www.drdobbs.com/184416587","title":"What is the best way to save user settings in java application?","body":"<p>The <a href=\"http://download.oracle.com/javase/1.5.0/docs/guide/preferences/index.html\" rel=\"noreferrer\">Preferences API</a> is a nice way to store user and system preferences. If you want to store passwords, you'll have to encrypt them. Here is a nice article that can get you started. </p>\n\n<p><a href=\"http://www.drdobbs.com/184416587\" rel=\"noreferrer\">Encrypted Preferences in Java</a></p>\n"}],"owner":{"account_id":151106,"reputation":9166,"user_id":364746,"accept_rate":84,"display_name":"Feras Odeh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59892,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":3784813,"answer_count":3,"score":70,"last_activity_date":1684314652,"creation_date":1285308952,"question_id":3784657,"body_markdown":"What is the best way to save user settings in java desktop app securely? For example If I want to save an Ftp account settings what is the best way to do that?\r\n\r\nThanks","title":"What is the best way to save user settings in java application?","body":"<p>What is the best way to save user settings in java desktop app securely? For example If I want to save an Ftp account settings what is the best way to do that?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":256679,"reputation":840,"user_id":537566,"accept_rate":85,"display_name":"TungstenX"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550748615,"creation_date":1550748615,"answer_id":54806060,"question_id":54802060,"body_markdown":"If I understand this correctly; `Map&lt;String, Object&gt; resultFromProcedure` consist of 2 entries having keys `#result-set-1` and `#update-count-1`.\r\n\r\nAnd the object of `#result-set-1` is an object having 4 member variables. (If it is a String, then you&#39;d need to convert the Json to a Java Object ([Example][1]))\r\n\r\nThus your call to `resultFromProcedure.get(&quot;accountnumber&quot;)` is trying to fetch an object using the key `accountnumber`, but the map doesn&#39;t contain that key. You need to first get the object for `#result-set-1` e.g.\r\n\r\n    SomeDTO someDTO = resultFromProcedure.get(&quot;#result-set-1&quot;);\r\n\r\nThen you can call\r\n\r\n    someDTO.getAccountNumber();\r\n\r\n  [1]: https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/","title":"How to get values from #result-set-1 in SimpleJdbcCall","body":"<p>If I understand this correctly; <code>Map&lt;String, Object&gt; resultFromProcedure</code> consist of 2 entries having keys <code>#result-set-1</code> and <code>#update-count-1</code>.</p>\n\n<p>And the object of <code>#result-set-1</code> is an object having 4 member variables. (If it is a String, then you'd need to convert the Json to a Java Object (<a href=\"https://www.mkyong.com/java/how-to-convert-java-object-to-from-json-jackson/\" rel=\"nofollow noreferrer\">Example</a>))</p>\n\n<p>Thus your call to <code>resultFromProcedure.get(\"accountnumber\")</code> is trying to fetch an object using the key <code>accountnumber</code>, but the map doesn't contain that key. You need to first get the object for <code>#result-set-1</code> e.g.</p>\n\n<pre><code>SomeDTO someDTO = resultFromProcedure.get(\"#result-set-1\");\n</code></pre>\n\n<p>Then you can call</p>\n\n<pre><code>someDTO.getAccountNumber();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5583981,"reputation":1,"user_id":4425007,"display_name":"nsFunction"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559079123,"creation_date":1559079123,"answer_id":56350295,"question_id":54802060,"body_markdown":"As there could be more than one result set, SimpleJdbcCall returns an object in the arraylist within another map marked as &quot;#result-set-1&quot;. To access the values in it, try the following:\r\n\r\n    ArrayList arrayList = new ArrayList();\r\n    arrayList = (ArrayList) resultFromProcedure.get(&quot;#result-set-1&quot;);\r\n    Map resultMap = (Map) arrayList.get(0);\r\n\r\n    System.out.println(&quot;Account Number: &quot; + resultMap.get(&quot;accountnumber&quot;));","title":"How to get values from #result-set-1 in SimpleJdbcCall","body":"<p>As there could be more than one result set, SimpleJdbcCall returns an object in the arraylist within another map marked as \"#result-set-1\". To access the values in it, try the following:</p>\n\n<pre><code>ArrayList arrayList = new ArrayList();\narrayList = (ArrayList) resultFromProcedure.get(\"#result-set-1\");\nMap resultMap = (Map) arrayList.get(0);\n\nSystem.out.println(\"Account Number: \" + resultMap.get(\"accountnumber\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101469,"reputation":545,"user_id":1093782,"accept_rate":50,"display_name":"98percentmonkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684314649,"creation_date":1684314649,"answer_id":76270399,"question_id":54802060,"body_markdown":"Here is a solution with a Rowmapper for &quot;#result-set-1&quot;\r\n\r\n    \r\n\r\n\r\n\r\n\r\n     // Parameters\r\n        SqlParameter[] parameters = { new SqlParameter(&quot;MYINPUT1&quot;, Types.VARCHAR), // Example input parameter\r\n                new SqlParameter(&quot;MYINPUT2&quot;, Types.VARCHAR), // Example input parameter\r\n                new SqlParameter(&quot;INPUT&quot;, Types.VARCHAR), // Input Parameters \r\n                new SqlOutParameter(&quot;RC&quot;, Types.VARCHAR), // maybe Return Code \r\n                new SqlOutParameter(&quot;OUTPUT&quot;, Types.VARCHAR), // Result-Set Mapping - this will solve the LinkedCaseInsensitiveMap\r\n                new SqlReturnResultSet(&quot;#result-set-1&quot;, (RowMapper&lt;YourPojo&gt;) (rs, rowNum) -&gt; {\r\n                    YourPojo example = new YourPojo();\r\n                    YourPojo.setWhatEver(rs.getInt(&quot;WHATEVER&quot;));\r\n                    YourPojo.setWhenEver(rs.getInt(&quot;DATE&quot;));\r\n                    return example;\r\n                }) };\r\n\r\n         SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(&quot;MYSP001&quot;).withSchemaName(&quot;SYSPROC&quot;).declareParameters(parameters);\r\n\r\n        // Inputvalues\r\n        Map&lt;String, String&gt; inParamMap = new HashMap&lt;&gt;();\r\n        inParamMap.put(&quot;INPUT1&quot;, &quot;inputvalueExample&quot;);      \r\n        inParamMap.put(&quot;INPUT2&quot;, &quot;inputvalueExample2&quot;);\r\n        SqlParameterSource source = new MapSqlParameterSource(inParamMap);\r\n        Map&lt;String, Object&gt; resultFromSP = simpleJdbcCall.execute(source);\r\n        List&lt;YourPojo&gt; mylist = (List&lt;YourPojo&gt;) resultFromSP.get(&quot;#result-set-1&quot;);","title":"How to get values from #result-set-1 in SimpleJdbcCall","body":"<p>Here is a solution with a Rowmapper for &quot;#result-set-1&quot;</p>\n<pre><code> // Parameters\n    SqlParameter[] parameters = { new SqlParameter(&quot;MYINPUT1&quot;, Types.VARCHAR), // Example input parameter\n            new SqlParameter(&quot;MYINPUT2&quot;, Types.VARCHAR), // Example input parameter\n            new SqlParameter(&quot;INPUT&quot;, Types.VARCHAR), // Input Parameters \n            new SqlOutParameter(&quot;RC&quot;, Types.VARCHAR), // maybe Return Code \n            new SqlOutParameter(&quot;OUTPUT&quot;, Types.VARCHAR), // Result-Set Mapping - this will solve the LinkedCaseInsensitiveMap\n            new SqlReturnResultSet(&quot;#result-set-1&quot;, (RowMapper&lt;YourPojo&gt;) (rs, rowNum) -&gt; {\n                YourPojo example = new YourPojo();\n                YourPojo.setWhatEver(rs.getInt(&quot;WHATEVER&quot;));\n                YourPojo.setWhenEver(rs.getInt(&quot;DATE&quot;));\n                return example;\n            }) };\n\n     SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(jdbcTemplate).withProcedureName(&quot;MYSP001&quot;).withSchemaName(&quot;SYSPROC&quot;).declareParameters(parameters);\n\n    // Inputvalues\n    Map&lt;String, String&gt; inParamMap = new HashMap&lt;&gt;();\n    inParamMap.put(&quot;INPUT1&quot;, &quot;inputvalueExample&quot;);      \n    inParamMap.put(&quot;INPUT2&quot;, &quot;inputvalueExample2&quot;);\n    SqlParameterSource source = new MapSqlParameterSource(inParamMap);\n    Map&lt;String, Object&gt; resultFromSP = simpleJdbcCall.execute(source);\n    List&lt;YourPojo&gt; mylist = (List&lt;YourPojo&gt;) resultFromSP.get(&quot;#result-set-1&quot;);\n</code></pre>\n"}],"owner":{"account_id":12244605,"reputation":163,"user_id":9266349,"display_name":"Liyakhat Ali Sheikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2993,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684314649,"creation_date":1550736234,"question_id":54802060,"body_markdown":"When executing SimpleJdbcCall, I get two parameters #result-set-1, #update-count-1\r\n\r\n    MapSqlParameterSource parameterSource = new MapSqlParameterSource();\r\n    parameterSource.addValue(&quot;name&quot;, &quot;something&quot;);\r\n    Map&lt;String, Object&gt; resultFromProcedure = cstmt.execute(parameterSource);\r\n\r\n# #result-set-1 have variables\r\n\r\n    [{\r\n     id = 123,\r\n     name = &quot;something&quot;,\r\n     accountnumber = 123456,\r\n     balance = 789999\r\n    }]\r\n\r\nEverything is fine until I tried to access \r\n\r\n    resultFromProcedure.get(&quot;accountnumber&quot;)\r\n\r\nWhich getting null. The Question is how to access the values in #result-set-1","title":"How to get values from #result-set-1 in SimpleJdbcCall","body":"<p>When executing SimpleJdbcCall, I get two parameters #result-set-1, #update-count-1</p>\n\n<pre><code>MapSqlParameterSource parameterSource = new MapSqlParameterSource();\nparameterSource.addValue(\"name\", \"something\");\nMap&lt;String, Object&gt; resultFromProcedure = cstmt.execute(parameterSource);\n</code></pre>\n\n<h1>#result-set-1 have variables</h1>\n\n<pre><code>[{\n id = 123,\n name = \"something\",\n accountnumber = 123456,\n balance = 789999\n}]\n</code></pre>\n\n<p>Everything is fine until I tried to access </p>\n\n<pre><code>resultFromProcedure.get(\"accountnumber\")\n</code></pre>\n\n<p>Which getting null. The Question is how to access the values in #result-set-1</p>\n"},{"tags":["java","spring-boot","spring-mvc","generics","response-entity"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1684321875,"post_id":76270371,"comment_id":134500538,"body_markdown":"If `A` and `B` don&#39;t share a useful superclass or interface, then using `?` is reasonable. Is there any indication as to when this would return `A` or `B`? Specifically, anything that could be known at compile time?","body":"If <code>A</code> and <code>B</code> don&#39;t share a useful superclass or interface, then using <code>?</code> is reasonable. Is there any indication as to when this would return <code>A</code> or <code>B</code>? Specifically, anything that could be known at compile time?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684326959,"post_id":76270371,"comment_id":134501637,"body_markdown":"For most purposes, there is no difference between `&lt;?&gt;` or `&lt;? extends Object&gt;`. But this method `getDataFromService` doesn’t have any options anyway if `forwardToRespectiveService` is already returning a `ResponseEntity&lt;?&gt;`.","body":"For most purposes, there is no difference between <code>&lt;?&gt;</code> or <code>&lt;? extends Object&gt;</code>. But this method <code>getDataFromService</code> doesn’t have any options anyway if <code>forwardToRespectiveService</code> is already returning a <code>ResponseEntity&lt;?&gt;</code>."},{"owner":{"account_id":28618736,"reputation":11,"user_id":21912167,"display_name":"Ashutosh Sharma"},"score":0,"creation_date":1684384292,"post_id":76270371,"comment_id":134511251,"body_markdown":"A and B are two completely different classes that do not share any superclass or interface. \n\n`forwardToRespectiveService` method fires a REST request to another service and gives me the response from that service. So, I do not have a way of differentiating at compile time the cases in which I get A or B. @JoachimSauer","body":"A and B are two completely different classes that do not share any superclass or interface.   <code>forwardToRespectiveService</code> method fires a REST request to another service and gives me the response from that service. So, I do not have a way of differentiating at compile time the cases in which I get A or B. @JoachimSauer"},{"owner":{"account_id":28618736,"reputation":11,"user_id":21912167,"display_name":"Ashutosh Sharma"},"score":0,"creation_date":1684384526,"post_id":76270371,"comment_id":134511268,"body_markdown":"I have put the response of `forwardToRespectiveService` as `ResponseEntity&lt;?&gt;` because I do not know whether the response body would contain an object of class A or class B. I am returning the same response entity as such, hence the return type of `getDataFromService` is `ResponseEntiity&lt;?&gt;`. Clarifying on my original question a little more, I wanted to know if there is a better way to go about things. @Holger","body":"I have put the response of <code>forwardToRespectiveService</code> as <code>ResponseEntity&lt;?&gt;</code> because I do not know whether the response body would contain an object of class A or class B. I am returning the same response entity as such, hence the return type of <code>getDataFromService</code> is <code>ResponseEntiity&lt;?&gt;</code>. Clarifying on my original question a little more, I wanted to know if there is a better way to go about things. @Holger"}],"owner":{"account_id":28618736,"reputation":11,"user_id":21912167,"display_name":"Ashutosh Sharma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684314583,"creation_date":1684314482,"question_id":76270371,"body_markdown":"I am working on a service has to forward the incoming requests to a destination service after performing some alterations on the object received in the request body and return the response received from the service. There are only two types of objects (A or B) expected in the response body for which I want to use a wildcard instead of Object class to keep the code cleaner.\r\n\r\nNow I know that we can not use generics with two classes such that the generic class object must belong to either of the two classes. \r\n\r\n    public ResponseEntity&lt;?&gt; getDataFromService(C requestBody) {\r\n      C updatedRequestBody = performAlterationsOnRequestBody (requestBody);\r\n  \r\n      ResponseEntity&lt;?&gt; responseObject = forwardToRespectiveService(updatedRequestBody);\r\n      // responseObject body can contain object of either class A or class B.\r\n      return response;\r\n    }\r\n\r\nIs the approach to use a wildcard correct way to go about?","title":"Is using a wildcard (unbounded) instead of Object class a better approach?","body":"<p>I am working on a service has to forward the incoming requests to a destination service after performing some alterations on the object received in the request body and return the response received from the service. There are only two types of objects (A or B) expected in the response body for which I want to use a wildcard instead of Object class to keep the code cleaner.</p>\n<p>Now I know that we can not use generics with two classes such that the generic class object must belong to either of the two classes.</p>\n<pre><code>public ResponseEntity&lt;?&gt; getDataFromService(C requestBody) {\n  C updatedRequestBody = performAlterationsOnRequestBody (requestBody);\n\n  ResponseEntity&lt;?&gt; responseObject = forwardToRespectiveService(updatedRequestBody);\n  // responseObject body can contain object of either class A or class B.\n  return response;\n}\n</code></pre>\n<p>Is the approach to use a wildcard correct way to go about?</p>\n"},{"tags":["java","spring-boot","mongock"],"answers":[{"tags":[],"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684314510,"creation_date":1684314510,"answer_id":76270376,"question_id":76269387,"body_markdown":"In terms of the concept of &quot;production units&quot; - this refers to the number of mongodb databases where you are using Mongock as a tool for migration (in production instances). Notice that the minimum is 5 units or production instances.\r\n\r\nThis means that if you have 3 MongoDB databases in production using Mongock, it would count as 3 units. ChangeUnits are unlimited per database where Mongock is installe.\r\n\r\nNotice that Mongock creates a couple of collections/tables in your database - which is the basis for Mongock to operate (and for us to help support with the tool).\r\n\r\nAdditionally, all environments outside production are free of charge. \r\n","title":"How to calculate price for mongock professional?","body":"<p>In terms of the concept of &quot;production units&quot; - this refers to the number of mongodb databases where you are using Mongock as a tool for migration (in production instances). Notice that the minimum is 5 units or production instances.</p>\n<p>This means that if you have 3 MongoDB databases in production using Mongock, it would count as 3 units. ChangeUnits are unlimited per database where Mongock is installe.</p>\n<p>Notice that Mongock creates a couple of collections/tables in your database - which is the basis for Mongock to operate (and for us to help support with the tool).</p>\n<p>Additionally, all environments outside production are free of charge.</p>\n"}],"owner":{"account_id":28618065,"reputation":3,"user_id":21911611,"display_name":"Roman Osadchuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684359404,"accepted_answer_id":76270376,"answer_count":1,"score":0,"last_activity_date":1684314510,"creation_date":1684307332,"question_id":76269387,"body_markdown":"can someone please explain how exactly pricing strategy for mongock professional works?\r\n\r\nI can see on this [webpage](https://mongock.io/professional/pricing/) that price is &quot;$20 / unit in production per month&quot;, but what is &quot;unit&quot; in this context? Is it single ChangeUnit class? How can I calculate approximate pricing for my application?","title":"How to calculate price for mongock professional?","body":"<p>can someone please explain how exactly pricing strategy for mongock professional works?</p>\n<p>I can see on this <a href=\"https://mongock.io/professional/pricing/\" rel=\"nofollow noreferrer\">webpage</a> that price is &quot;$20 / unit in production per month&quot;, but what is &quot;unit&quot; in this context? Is it single ChangeUnit class? How can I calculate approximate pricing for my application?</p>\n"},{"tags":["java","jpa","spring-data-jpa","orm","persistence"],"owner":{"account_id":23410475,"reputation":56,"user_id":17472262,"display_name":"Alireza Asgarian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684314352,"creation_date":1684308378,"question_id":76269515,"body_markdown":"I have a class which I want to persist. It contains one list which has a parent class and parent has two children. The list contains both inheritors. I don&#39;t know how I can use `@ElementCollection` and `@JoinTable` to persist this class. I know I have to put setters and getters and no-arg constructor but now this is not important, I want to know how to annotate `List&lt;Parent&gt;`. Tables of Child1 and Child2 has foreign key by entityName to name of entity class. \r\n```java\r\n@Entity\r\n@Table\r\npublic class entity {\r\n     String name;\r\n     List&lt;Parent&gt; parents;\r\n}\r\n```\r\nand parent class has two inheritor\r\n\r\n```java\r\n@MappedSuperclass\r\n@Embeddable\r\npublic class Parent {\r\n   String name;\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table\r\npublic class Child1 extends Parent {\r\n   String entityName;\r\n   @Id\r\n   Double firstChildField;\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Table\r\npublic class Child2 extends Parent {\r\n   String entityName;\r\n   @Id\r\n   String secondChildField;\r\n}\r\n```","title":"Persist List which Contains Parent Class in JPA","body":"<p>I have a class which I want to persist. It contains one list which has a parent class and parent has two children. The list contains both inheritors. I don't know how I can use <code>@ElementCollection</code> and <code>@JoinTable</code> to persist this class. I know I have to put setters and getters and no-arg constructor but now this is not important, I want to know how to annotate <code>List&lt;Parent&gt;</code>. Tables of Child1 and Child2 has foreign key by entityName to name of entity class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class entity {\n     String name;\n     List&lt;Parent&gt; parents;\n}\n</code></pre>\n<p>and parent class has two inheritor</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MappedSuperclass\n@Embeddable\npublic class Parent {\n   String name;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Child1 extends Parent {\n   String entityName;\n   @Id\n   Double firstChildField;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table\npublic class Child2 extends Parent {\n   String entityName;\n   @Id\n   String secondChildField;\n}\n</code></pre>\n"},{"tags":["java","servlets","glassfish","web.xml","redeploy"],"owner":{"account_id":28612525,"reputation":11,"user_id":21907230,"display_name":"Sven Petrović"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684314189,"creation_date":1684242230,"question_id":76263349,"body_markdown":"What should I do ?\r\n\r\n - I got the server up (Payara/glassfish).\r\n - I used /asadmin to create jms and jdbc resources for applicaton and          I got connection-pool up. \r\n - I&#39;m using payara-full-6.2023.4.\r\n\r\n\r\n**Here is my successful install:**\r\n ```\r\n`INFO[m] Installing /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/pom.xml to /opt/m2/org/foi/nwtis/spetrovic/spetrovic_zadaca_3/1.0.0/spetrovic_zadaca_3-1.0.0.pom\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] [1mReactor Summary:[m\r\n[[1;34mINFO[m] \r\n[[1;34mINFO[m] spetrovic_zadaca_3_lib_1 1.0.3 ..................... [1;32mSUCCESS[m [  2.618 s]\r\n[[1;34mINFO[m] spetrovic_zadaca_3_lib_2 1.0.4 ..................... [1;32mSUCCESS[m [  0.838 s]\r\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_1 1.0.0 ...................... [1;32mSUCCESS[m [  4.975 s]\r\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_2 1.0.0 ...................... [1;32mSUCCESS[m [  2.171 s]\r\n[[1;34mINFO[m] spetrovic_zadaca_3 1.0.0 ........................... [1;32mSUCCESS[m [  0.010 s]\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] [1;32mBUILD SUCCESS[m\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------`\r\n ```\r\n\r\n\r\n**When i try do redeploy my application &quot;spetrovic_zadaca_3_wa_1&quot; here is the problem:**\r\n```\r\n[[1;34mINFO[m] [DeployerRedeployMojo] Resolved container artifact org.codehaus.cargo:cargo-core-container-payara:jar:1.9.10 for container payara\r\n[[1;34mINFO[m] [talledLocalContainer] Parsed GlassFish version = [6.2023.4]\r\n[[1;34mINFO[m] [talledLocalContainer] Command deploy failed.\r\n[[1;34mINFO[m] [talledLocalContainer] remote failure: Error occurred during deployment: Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint &#39;&#39; failure. Please see server.log for more details.\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] Total time:  7.685 s\r\n[[1;34mINFO[m] Finished at: 2023-05-16T14:45:11+02:00\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;31mERROR[m] Failed to execute goal [32morg.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy[m [1m(default-cli)[m on project [36mspetrovic_zadaca_3_wa_1[m: [1;31mExecution default-cli of goal org.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy failed: GlassFish admin command with args (--interactive=false --host localhost --port 4848 --user admin --passwordfile /opt/payara-full-6.2023.4/glassfish/domains/password.properties deploy --force --contextroot spetrovic_zadaca_3_wa_1 /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/spetrovic_zadaca_3_wa_1/target/spetrovic_zadaca_3_wa_1-1.0.0.war) failed: asadmin exited 1[m -&gt; [1m[Help 1][m\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\r\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\r\n[[1;31mERROR[m] \r\n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\r\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n\r\n```\r\n\r\nServer log that I got here is this:\r\n```\r\n[2023-05-16T16:17:05.961+0200] [Payara 6.2023.4] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625961] [levelValue: 1000] [[\r\n  Exception during lifecycle processing\r\njava.lang.Exception: java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint &#39;&#39; failure\r\n\tat com.sun.enterprise.web.WebApplication.start(WebApplication.java:136)\r\n\tat org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)\r\n\tat org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:292)\r\n\tat org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:361)\r\n\tat com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:630)\r\n\tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:617)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/javax.security.auth.Subject.doAs(Subject.java:376)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\r\n\tat java.base/javax.security.auth.Subject.doAs(Subject.java:376)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1879)\r\n\tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)\r\n\tat org.glassfish.admin.rest.resources.admin.CommandResource.executeCommand(CommandResource.java:409)\r\n\tat org.glassfish.admin.rest.resources.admin.CommandResource.execCommandSimpInMultOut(CommandResource.java:236)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n\tat org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:261)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:240)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:697)\r\n\tat org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:367)\r\n\tat org.glassfish.admin.rest.adapter.JerseyContainerCommandService$3.service(JerseyContainerCommandService.java:179)\r\n\tat org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:189)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)\r\n\tat com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:174)\r\n\tat org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:153)\r\n\tat org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:196)\r\n\tat org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)\r\n\tat org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)\r\n\tat org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)\r\n\tat org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)\r\n\tat org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)\r\n\tat org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\r\n\tat org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n]]\r\n\r\n[2023-05-16T16:17:05.962+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625962] [levelValue: 1000] [[\r\n  Exception while loading the app]]\r\n\r\n[2023-05-16T16:17:05.972+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625972] [levelValue: 1000] [[\r\n  Exception in thread &quot;Thread-30&quot; ]]\r\n\r\n[2023-05-16T16:17:05.973+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625973] [levelValue: 1000] [[\r\n  jakarta.ejb.EJBException: Attempt to invoke when container is in Undeployed\r\n\tat com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2109)\r\n\tat com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2104)\r\n\tat com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)\r\n\tat com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)\r\n\tat jdk.proxy101/jdk.proxy101.$Proxy413.saljiPoruku(Unknown Source)\r\n\tat org.foi.nwtis.spetrovic.zadaca_3.zrna.__EJB31_Generated__JmsPosiljatelj__Intf____Bean__.saljiPoruku(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)\r\n\tat org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)\r\n\tat org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)\r\n\tat org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)\r\n\tat org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)\r\n\tat org.foi.nwtis.spetrovic.zadaca_3.zrna.JmsPosiljatelj$Proxy$_$$_Weld$EnterpriseProxy$.saljiPoruku(Unknown Source)\r\n\tat org.foi.nwtis.spetrovic.zadaca_3.dretve.SakupljacLetovaAviona.run(SakupljacLetovaAviona.java:31)\r\n]]\r\n\r\n[2023-05-16T16:17:05.974+0200] [Payara 6.2023.4] [SEVERE] [AS-WEB-GLUE-00192] [jakarta.enterprise.web] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625974] [levelValue: 1000] [[\r\n  Undeployment failed for context /spetrovic_zadaca_3_wa_1]]\r\n\r\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625989] [levelValue: 1000] [[\r\n  Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint &#39;&#39; failure]]\r\n\r\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=249 _ThreadName=Executor-Service-28] [timeMillis: 1684246625989] [levelValue: 900] [[\r\n  Cannot invoke &quot;Object.getClass()&quot; because &quot;resource&quot; is null]]\r\n\r\n```\r\n\r\n\r\n\r\n","title":"How to fix: Servlet web service endpoint &#39;&#39; failure. ? ContainerBase.addChild: start: org.apache.catalina.LifecycleException","body":"<p>What should I do ?</p>\n<ul>\n<li>I got the server up (Payara/glassfish).</li>\n<li>I used /asadmin to create jms and jdbc resources for applicaton and          I got connection-pool up.</li>\n<li>I'm using payara-full-6.2023.4.</li>\n</ul>\n<p><strong>Here is my successful install:</strong></p>\n<pre><code>`INFO[m] Installing /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/pom.xml to /opt/m2/org/foi/nwtis/spetrovic/spetrovic_zadaca_3/1.0.0/spetrovic_zadaca_3-1.0.0.pom\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1mReactor Summary:[m\n[[1;34mINFO[m] \n[[1;34mINFO[m] spetrovic_zadaca_3_lib_1 1.0.3 ..................... [1;32mSUCCESS[m [  2.618 s]\n[[1;34mINFO[m] spetrovic_zadaca_3_lib_2 1.0.4 ..................... [1;32mSUCCESS[m [  0.838 s]\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_1 1.0.0 ...................... [1;32mSUCCESS[m [  4.975 s]\n[[1;34mINFO[m] spetrovic_zadaca_3_wa_2 1.0.0 ...................... [1;32mSUCCESS[m [  2.171 s]\n[[1;34mINFO[m] spetrovic_zadaca_3 1.0.0 ........................... [1;32mSUCCESS[m [  0.010 s]\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1;32mBUILD SUCCESS[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------`\n</code></pre>\n<p><strong>When i try do redeploy my application &quot;spetrovic_zadaca_3_wa_1&quot; here is the problem:</strong></p>\n<pre><code>[[1;34mINFO[m] [DeployerRedeployMojo] Resolved container artifact org.codehaus.cargo:cargo-core-container-payara:jar:1.9.10 for container payara\n[[1;34mINFO[m] [talledLocalContainer] Parsed GlassFish version = [6.2023.4]\n[[1;34mINFO[m] [talledLocalContainer] Command deploy failed.\n[[1;34mINFO[m] [talledLocalContainer] remote failure: Error occurred during deployment: Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint '' failure. Please see server.log for more details.\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] Total time:  7.685 s\n[[1;34mINFO[m] Finished at: 2023-05-16T14:45:11+02:00\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy[m [1m(default-cli)[m on project [36mspetrovic_zadaca_3_wa_1[m: [1;31mExecution default-cli of goal org.codehaus.cargo:cargo-maven3-plugin:1.9.10:redeploy failed: GlassFish admin command with args (--interactive=false --host localhost --port 4848 --user admin --passwordfile /opt/payara-full-6.2023.4/glassfish/domains/password.properties deploy --force --contextroot spetrovic_zadaca_3_wa_1 /home/NWTiS_1/spetrovic/spetrovic_zadaca_3/spetrovic_zadaca_3_wa_1/target/spetrovic_zadaca_3_wa_1-1.0.0.war) failed: asadmin exited 1[m -&gt; [1m[Help 1][m\n[[1;31mERROR[m] \n[[1;31mERROR[m] To see the full stack trace of the errors, re-run Maven with the [1m-e[m switch.\n[[1;31mERROR[m] Re-run Maven using the [1m-X[m switch to enable full debug logging.\n[[1;31mERROR[m] \n[[1;31mERROR[m] For more information about the errors and possible solutions, please read the following articles:\n[[1;31mERROR[m] [1m[Help 1][m http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n\n</code></pre>\n<p>Server log that I got here is this:</p>\n<pre><code>[2023-05-16T16:17:05.961+0200] [Payara 6.2023.4] [SEVERE] [NCLS-CORE-00026] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625961] [levelValue: 1000] [[\n  Exception during lifecycle processing\njava.lang.Exception: java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint '' failure\n    at com.sun.enterprise.web.WebApplication.start(WebApplication.java:136)\n    at org.glassfish.internal.data.EngineRef.start(EngineRef.java:123)\n    at org.glassfish.internal.data.ModuleInfo.start(ModuleInfo.java:292)\n    at org.glassfish.internal.data.ApplicationInfo.start(ApplicationInfo.java:361)\n    at com.sun.enterprise.v3.server.ApplicationLifecycle.initialize(ApplicationLifecycle.java:630)\n    at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:617)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/javax.security.auth.Subject.doAs(Subject.java:376)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:399)\n    at java.base/javax.security.auth.Subject.doAs(Subject.java:376)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1879)\n    at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)\n    at org.glassfish.admin.rest.resources.admin.CommandResource.executeCommand(CommandResource.java:409)\n    at org.glassfish.admin.rest.resources.admin.CommandResource.execCommandSimpInMultOut(CommandResource.java:236)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\n    at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:176)\n    at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\n    at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n    at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:261)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n    at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n    at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n    at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n    at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:240)\n    at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:697)\n    at org.glassfish.jersey.grizzly2.httpserver.GrizzlyHttpContainer.service(GrizzlyHttpContainer.java:367)\n    at org.glassfish.admin.rest.adapter.JerseyContainerCommandService$3.service(JerseyContainerCommandService.java:179)\n    at org.glassfish.admin.rest.adapter.RestAdapter.service(RestAdapter.java:189)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper$HttpHandlerCallable.call(ContainerMapper.java:520)\n    at com.sun.enterprise.v3.services.impl.ContainerMapper.service(ContainerMapper.java:217)\n    at org.glassfish.grizzly.http.server.HttpHandler.runService(HttpHandler.java:174)\n    at org.glassfish.grizzly.http.server.HttpHandler.doHandle(HttpHandler.java:153)\n    at org.glassfish.grizzly.http.server.HttpServerFilter.handleRead(HttpServerFilter.java:196)\n    at org.glassfish.grizzly.filterchain.ExecutorResolver$9.execute(ExecutorResolver.java:88)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeFilter(DefaultFilterChain.java:246)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.executeChainPart(DefaultFilterChain.java:178)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.execute(DefaultFilterChain.java:118)\n    at org.glassfish.grizzly.filterchain.DefaultFilterChain.process(DefaultFilterChain.java:96)\n    at org.glassfish.grizzly.ProcessorExecutor.execute(ProcessorExecutor.java:51)\n    at org.glassfish.grizzly.nio.transport.TCPNIOTransport.fireIOEvent(TCPNIOTransport.java:510)\n    at org.glassfish.grizzly.strategies.AbstractIOStrategy.fireIOEvent(AbstractIOStrategy.java:82)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy.run0(WorkerThreadIOStrategy.java:83)\n    at org.glassfish.grizzly.strategies.WorkerThreadIOStrategy$WorkerThreadRunnable.run(WorkerThreadIOStrategy.java:101)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.doWork(AbstractThreadPool.java:535)\n    at org.glassfish.grizzly.threadpool.AbstractThreadPool$Worker.run(AbstractThreadPool.java:515)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n]]\n\n[2023-05-16T16:17:05.962+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625962] [levelValue: 1000] [[\n  Exception while loading the app]]\n\n[2023-05-16T16:17:05.972+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625972] [levelValue: 1000] [[\n  Exception in thread &quot;Thread-30&quot; ]]\n\n[2023-05-16T16:17:05.973+0200] [Payara 6.2023.4] [SEVERE] [] [] [tid: _ThreadID=243 _ThreadName=Thread-30] [timeMillis: 1684246625973] [levelValue: 1000] [[\n  jakarta.ejb.EJBException: Attempt to invoke when container is in Undeployed\n    at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2109)\n    at com.sun.ejb.containers.BaseContainer.postInvoke(BaseContainer.java:2104)\n    at com.sun.ejb.containers.EJBLocalObjectInvocationHandler.invoke(EJBLocalObjectInvocationHandler.java:220)\n    at com.sun.ejb.containers.EJBLocalObjectInvocationHandlerDelegate.invoke(EJBLocalObjectInvocationHandlerDelegate.java:90)\n    at jdk.proxy101/jdk.proxy101.$Proxy413.saljiPoruku(Unknown Source)\n    at org.foi.nwtis.spetrovic.zadaca_3.zrna.__EJB31_Generated__JmsPosiljatelj__Intf____Bean__.saljiPoruku(Unknown Source)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.jboss.weld.util.reflection.Reflections.invokeAndUnwrap(Reflections.java:410)\n    at org.jboss.weld.module.ejb.EnterpriseBeanProxyMethodHandler.invoke(EnterpriseBeanProxyMethodHandler.java:134)\n    at org.jboss.weld.bean.proxy.EnterpriseTargetBeanInstance.invoke(EnterpriseTargetBeanInstance.java:56)\n    at org.jboss.weld.module.ejb.InjectionPointPropagatingEnterpriseTargetBeanInstance.invoke(InjectionPointPropagatingEnterpriseTargetBeanInstance.java:68)\n    at org.jboss.weld.bean.proxy.ProxyMethodHandler.invoke(ProxyMethodHandler.java:106)\n    at org.foi.nwtis.spetrovic.zadaca_3.zrna.JmsPosiljatelj$Proxy$_$$_Weld$EnterpriseProxy$.saljiPoruku(Unknown Source)\n    at org.foi.nwtis.spetrovic.zadaca_3.dretve.SakupljacLetovaAviona.run(SakupljacLetovaAviona.java:31)\n]]\n\n[2023-05-16T16:17:05.974+0200] [Payara 6.2023.4] [SEVERE] [AS-WEB-GLUE-00192] [jakarta.enterprise.web] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625974] [levelValue: 1000] [[\n  Undeployment failed for context /spetrovic_zadaca_3_wa_1]]\n\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=88 _ThreadName=admin-thread-pool::admin-listener(1)] [timeMillis: 1684246625989] [levelValue: 1000] [[\n  Exception while loading the app : java.lang.IllegalStateException: ContainerBase.addChild: start: org.apache.catalina.LifecycleException: java.lang.RuntimeException: Servlet web service endpoint '' failure]]\n\n[2023-05-16T16:17:05.989+0200] [Payara 6.2023.4] [WARNING] [] [javax.enterprise.resource.resourceadapter.org.glassfish.jdbc.deployer] [tid: _ThreadID=249 _ThreadName=Executor-Service-28] [timeMillis: 1684246625989] [levelValue: 900] [[\n  Cannot invoke &quot;Object.getClass()&quot; because &quot;resource&quot; is null]]\n\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","apache-spark","geolocation"],"owner":{"account_id":8460842,"reputation":554,"user_id":6346653,"display_name":"nick_j_white"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684313902,"creation_date":1684313902,"question_id":76270283,"body_markdown":"I am attempting to run some clustering algorithms (Bisecting K-Means, HDBSCAN etc) on a subset of a MongoDb collection. \r\nThe documents in the collection contain geo-coordinates (stored as both a GeoJsonPoint and as separate lat/lon)\r\ne.g.:\r\n\r\n\t{\r\n\t  &quot;_id&quot;: {\r\n\t\t&quot;$oid&quot;: &quot;6453b52f26d1a71e6124ce59&quot;\r\n\t  },\r\n\t  &quot;lat&quot;: 51.1315842777413,\r\n\t  &quot;lon&quot;: 0.515861112040389,\r\n\t  &quot;location&quot;: {\r\n\t\t&quot;type&quot;: &quot;Point&quot;,\r\n\t\t&quot;coordinates&quot;: [\r\n\t\t  0.515861112040389,\r\n\t\t  51.1315842777413\r\n\t\t]\r\n\t  },\r\n\t  &quot;lastUpdatedTimestamp&quot;: {\r\n\t\t&quot;$numberLong&quot;: &quot;1683902535038&quot;\r\n\t  },\r\n\t  &quot;_class&quot;: &quot;com.example.DataPoint&quot;\r\n\t}\r\n\r\n\r\nI need to be able to filter the documents based on 2 sets of criteria:\r\n\r\n1. Location is inside a predefined GeoJsonPolygon (these are stored in another collection elsewhere)\r\n2. LastUpdatedTimestamp &gt; than a fixed time\r\n\r\nand then read the filtered collection into Spark to perform the clustering.\r\n\r\nThe application is being developed in Springboot Java, so I am able to setup a mongo respository with methods than will perform this filtering (which use Mongo&#39;s inbuilt geometry functions)\r\n\r\nDataPointRepository class:\r\n\r\n\tpackage com.example;\r\n\r\n\timport java.util.List;\r\n\r\n\timport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\r\n\timport org.springframework.data.mongodb.repository.MongoRepository;\r\n\timport org.springframework.stereotype.Repository;\r\n\r\n\t@Repository\r\n\tpublic interface DataPointRepository extends MongoRepository&lt;DataPoint, ObjectId&gt; {\r\n\t\t\r\n\t\t//Extract by within GeoPolygon And Last updated &gt; cutoff \r\n\t\tList&lt;DataPoint&gt; findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(GeoJsonPolygon geoJsonPolygon, double lastUpdatedCutoff);\r\n\r\n\t}\r\n\t\r\nDataPoint class:\r\n\r\n\tpackage com.example;\r\n\r\n\timport org.springframework.data.mongodb.core.geo.GeoJsonPoint;\r\n\timport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\r\n\timport org.springframework.data.mongodb.core.index.GeoSpatialIndexType;\r\n\timport org.springframework.data.mongodb.core.index.GeoSpatialIndexed;\r\n\timport org.springframework.data.mongodb.core.mapping.Document;\r\n\r\n\timport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n\r\n\timport lombok.AllArgsConstructor;\r\n\timport lombok.Getter;\r\n\timport lombok.NonNull;\r\n\timport lombok.Setter;\r\n\timport lombok.ToString;\r\n\r\n\t@ToString\r\n\t@Document(collection =&quot;DataPoint&quot;) \r\n\t@AllArgsConstructor\r\n\t@JsonIgnoreProperties(ignoreUnknown = true)\r\n\tpublic class DataPoint {\r\n\t\t\r\n\t\t//System generated PK\r\n\t\t@Getter @Setter @NonNull private String id;\r\n\t\t\r\n\t\t//Co-ordinates\r\n\t\t@Getter @Setter private double lat;\r\n\t\t@Getter @Setter private double lon;\r\n\t\t\r\n\t\t@GeoSpatialIndexed(name= &quot;location_idx&quot;, type = GeoSpatialIndexType.GEO_2DSPHERE)\r\n\t\t@Getter @Setter private GeoJsonPoint location;\r\n\t\t\r\n\t\t//Last Updated\r\n\t\t@Getter @Setter private long lastUpdatedTimestamp;\t\r\n\t}\r\n\r\n\t\r\nThe below service will then run when the application is initialised and performs the collection filtering and loading of the data into spark:\r\n\r\n\tpackage com.example;\r\n\r\n\timport static org.apache.spark.sql.functions.col;\r\n\r\n\timport java.util.ArrayList;\r\n\timport java.util.List;\r\n\r\n\timport org.apache.spark.SparkConf;\r\n\timport org.apache.spark.SparkContext;\r\n\timport org.apache.spark.sql.Dataset;\r\n\timport org.apache.spark.sql.Row;\r\n\timport org.apache.spark.sql.RowFactory;\r\n\timport org.apache.spark.sql.SparkSession;\r\n\timport org.apache.spark.sql.types.DataTypes;\r\n\timport org.apache.spark.sql.types.Metadata;\r\n\timport org.apache.spark.sql.types.StructField;\r\n\timport org.apache.spark.sql.types.StructType;\r\n\timport org.bson.types.ObjectId;\r\n\timport org.slf4j.Logger;\r\n\timport org.slf4j.LoggerFactory;\r\n\timport org.springframework.beans.factory.annotation.Autowired;\r\n\timport org.springframework.boot.CommandLineRunner;\r\n\timport org.springframework.data.geo.Point;\r\n\timport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\r\n\timport org.springframework.stereotype.Service;\r\n\r\n\timport lombok.Getter;\r\n\timport lombok.Setter;\r\n\r\n\t@Service\r\n\tpublic class ExampleService implements CommandLineRunner {\r\n\t\t\r\n\t\tprivate static final Logger logger = LoggerFactory.getLogger(ExampleService.class);\r\n\r\n\t\t@Autowired\r\n\t\tDataPointRepository dataPointRepository;\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic void run(String... args) throws Exception {\r\n\t\t\t//Log that service is running\r\n\t\t\tlogger.info(&quot;Example Service is running&quot;);\r\n\t\t\t\r\n\t\t\t//Example GeoJsonPolygon\r\n\t\t\tList&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\r\n\t\t\tpoints.add(new Point(0,0));\r\n\t\t\tpoints.add(new Point(180,0));\r\n\t\t\tpoints.add(new Point(180,90));\r\n\t\t\tpoints.add(new Point(0,0));\r\n\t\t\tGeoJsonPolygon geoJsonPolygon = new GeoJsonPolygon(points);\r\n\t\t\t\r\n\t\t\t//Cutoff time default to T-10mins\r\n\t\t\tdouble cutoffTime = System.currentTimeMillis() - (10 * 60 * 1000);\r\n\t\t\t\r\n\t\t\t//Filter the DataPoint collection\r\n\t\t\tList&lt;DataPoint&gt; filteredDataPointList = dataPointRepository.findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(geoJsonPolygon,cutoffTime);\r\n\t\t\t\r\n\t\t\t//Initialise Spark session\r\n\t\t\tSparkConf conf = new SparkConf();\r\n\t\t\t\r\n\t\t\tconf.set(&quot;spark.master&quot;,&quot;local&quot;);\r\n\t\t\tconf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\r\n\r\n\t\t\tSparkContext context = new SparkContext(conf);\r\n\t\t\tSparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\r\n\t\t\t\r\n\t\t\t//Convert filteredDataPointList to List&lt;Row&gt; for spark dataframe\r\n\t\t\tList&lt;Row&gt; rowList = new ArrayList&lt;Row&gt;();\r\n\t\t\tfor (DataPoint dp: filteredDataPointList) {\r\n\t\t\t\tList&lt;Object&gt; data = new ArrayList&lt;&gt;();\r\n\t\t\t\tdata.add(dp.getId());\r\n\t\t\t\tdata.add(dp.getLat());\r\n\t\t\t\tdata.add(dp.getLon());\r\n\t\t\t\t\r\n\t\t\t\tRow row = RowFactory.create(data.toArray());\r\n\t\t\t\trowList.add(row);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t//Generate schema from StructFields\r\n\t\t\tList&lt;StructField&gt; structFields = new ArrayList&lt;&gt;();\r\n\t\t\tstructFields.add(new StructField(&quot;_id&quot;, DataTypes.StringType, true, Metadata.empty()));\r\n\t\t\tstructFields.add(new StructField(&quot;lat&quot;, DataTypes.DoubleType, true, Metadata.empty()));\r\n\t\t\tstructFields.add(new StructField(&quot;lon&quot;, DataTypes.DoubleType, true, Metadata.empty()));\r\n\t\t\tStructType schema = new StructType(structFields.toArray(new StructField[0]));\r\n\r\n\t\t\t//Initialise DataFrame from rowList\r\n\t\t\tDataset&lt;Row&gt; dataset = spark.createDataFrame(rowList, schema);\r\n\t\t\tdataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\r\n\t\t\tdataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\r\n\t\t\tdataset.na().drop();\r\n\t\t\tdataset.printSchema();\r\n\t\t\tdataset.show(false);\r\n\t\t\t\r\n\t\t\t//Run clustering algorithms....\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n(output as below)\r\n\r\n\troot\r\n\t |-- _id: string (nullable = true)\r\n\t |-- lat: double (nullable = true)\r\n\t |-- lon: double (nullable = true)\r\n\r\n\t+------------------------+----------------+------------------+\r\n\t|_id                     |lat             |lon               |\r\n\t+------------------------+----------------+------------------+\r\n\t|6453b52f26d1a71e6124ce59|51.1315842777413|0.515861112040389 |\r\n\t|6453b52f26d1a71e6124ce5a|53.7236662883316|-3.03878489019157 |\r\n\t|6453b52f26d1a71e6124ce5b|53.025813155572 |0.289110683451985 |\r\n\t|6453b52f26d1a71e6124ce5c|51.3606995421023|-0.45591666788182 |\r\n\t|6453b52f26d1a71e6124ce5d|55.3587772650236|-0.43234332482597 |\r\n\t|6453b52f26d1a71e6124ce5e|53.3132727039887|-1.2439138924336  |\r\n\t|6453b52f26d1a71e6124ce5f|55.5844946099286|-2.71052395578811 |\r\n\t|6453b52f26d1a71e6124ce60|52.3681859288013|-1.73289160535643 |\r\n\t|6453b52f26d1a71e6124ce61|53.6486857624155|0.879253900600117 |\r\n\t|6453b52f26d1a71e6124ce62|51.8974330698587|-1.64057831174821 |\r\n\t|6453b52f26d1a71e6124ce63|51.4130112162052|0.0813730046672143|\r\n\t|6453b52f26d1a71e6124ce64|55.7826244597159|-1.89958309132911 |\r\n\t|6453b52f26d1a71e6124ce65|51.9251715855348|-2.50507999470767 |\r\n\t|6453b52f26d1a71e6124ce66|52.2918854778935|-1.97167759407929 |\r\n\t|6453b52f26d1a71e6124ce67|54.8403636027267|-1.36478903883441 |\r\n\t|6453b52f26d1a71e6124ce68|52.6971321174423|-0.111767454525473|\r\n\t|6453b52f26d1a71e6124ce69|53.0566617126824|-0.15553981089494 |\r\n\t|6453b52f26d1a71e6124ce6a|52.8988372634014|-1.41853339786962 |\r\n\t|6453b52f26d1a71e6124ce6b|55.717825981325 |0.211642792759744 |\r\n\t|6453b52f26d1a71e6124ce6c|52.3840761519566|-0.653960353317823|\r\n\t+------------------------+----------------+------------------+\r\n\r\nHowever, I would like to load the data from the collection directly into spark without having to read the extracted documents into a list and iterate through in java to perform the dataframe conversion.\r\nCurrently though, I am only able to read in the entire collection if I read directly into spark:\r\n\r\n\r\n\tSparkConf conf = new SparkConf();\r\n\t\t\r\n\tconf.set(&quot;spark.master&quot;,&quot;local&quot;);\r\n\tconf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\r\n\t\t\r\n\tconf.set(&quot;spark.jars.packages&quot;,&quot;org.mongodb.spark:mongo-spark-connector:10.0.1&quot;);\r\n\r\n\t// Set up read connection :\r\n\tconf.set(&quot;spark.mongodb.read.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\r\n\tconf.set(&quot;spark.mongodb.read.database&quot;, &quot;ExampleDb&quot;);\r\n\tconf.set(&quot;spark.mongodb.read.collection&quot;, &quot;DataPoint&quot;);\r\n\r\n\t// Set up write connection\r\n\tconf.set(&quot;spark.mongodb.write.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\r\n\tconf.set(&quot;spark.mongodb.write.database&quot;, &quot;ExampleDb&quot;);\r\n\tconf.set(&quot;spark.mongodb.write.collection&quot;, &quot;DataPoint&quot;);\r\n\r\n\tSparkContext context = new SparkContext(conf);\r\n\tSparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\r\n\r\n\tDataset&lt;Row&gt; dataset = spark.read().format(&quot;mongodb&quot;).load().select(col(&quot;_id&quot;), col(&quot;lat&quot;), col(&quot;lon&quot;));\r\n\tdataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\r\n\tdataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\r\n\tdataset.na().drop();\r\n\tdataset.printSchema();\r\n\tdataset.show(false);\r\n\r\nMy questions are:\r\n\r\nWhat is the most efficient way of reading the desired data into Spark? Should the entire collection be loaded, the repository methods above scrapped, and Spark&#39;s functions used to perform the filtering instead, or is there a away to apply mongo&#39;s geo functions to the read?&lt;br/&gt;\r\nIf the former, is there an efficient way to compare lat/lon doubles to a predefined geo polygon and only keep rows in the dataframe where the coordinates lie inside?\r\n\r\nOr, if is still better to keep the repository methods above, is there a more efficient way to convert the list into a dataframe?\r\n\r\nIf the answer depends on the volume of data, then I&#39;d certainly want to entertain both approaches and run performance tests myself.","title":"Filtering a MongoDb collection with geo functions and loading into Spark","body":"<p>I am attempting to run some clustering algorithms (Bisecting K-Means, HDBSCAN etc) on a subset of a MongoDb collection.\nThe documents in the collection contain geo-coordinates (stored as both a GeoJsonPoint and as separate lat/lon)\ne.g.:</p>\n<pre><code>{\n  &quot;_id&quot;: {\n    &quot;$oid&quot;: &quot;6453b52f26d1a71e6124ce59&quot;\n  },\n  &quot;lat&quot;: 51.1315842777413,\n  &quot;lon&quot;: 0.515861112040389,\n  &quot;location&quot;: {\n    &quot;type&quot;: &quot;Point&quot;,\n    &quot;coordinates&quot;: [\n      0.515861112040389,\n      51.1315842777413\n    ]\n  },\n  &quot;lastUpdatedTimestamp&quot;: {\n    &quot;$numberLong&quot;: &quot;1683902535038&quot;\n  },\n  &quot;_class&quot;: &quot;com.example.DataPoint&quot;\n}\n</code></pre>\n<p>I need to be able to filter the documents based on 2 sets of criteria:</p>\n<ol>\n<li>Location is inside a predefined GeoJsonPolygon (these are stored in another collection elsewhere)</li>\n<li>LastUpdatedTimestamp &gt; than a fixed time</li>\n</ol>\n<p>and then read the filtered collection into Spark to perform the clustering.</p>\n<p>The application is being developed in Springboot Java, so I am able to setup a mongo respository with methods than will perform this filtering (which use Mongo's inbuilt geometry functions)</p>\n<p>DataPointRepository class:</p>\n<pre><code>package com.example;\n\nimport java.util.List;\n\nimport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\nimport org.springframework.data.mongodb.repository.MongoRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface DataPointRepository extends MongoRepository&lt;DataPoint, ObjectId&gt; {\n    \n    //Extract by within GeoPolygon And Last updated &gt; cutoff \n    List&lt;DataPoint&gt; findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(GeoJsonPolygon geoJsonPolygon, double lastUpdatedCutoff);\n\n}\n</code></pre>\n<p>DataPoint class:</p>\n<pre><code>package com.example;\n\nimport org.springframework.data.mongodb.core.geo.GeoJsonPoint;\nimport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\nimport org.springframework.data.mongodb.core.index.GeoSpatialIndexType;\nimport org.springframework.data.mongodb.core.index.GeoSpatialIndexed;\nimport org.springframework.data.mongodb.core.mapping.Document;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n\nimport lombok.AllArgsConstructor;\nimport lombok.Getter;\nimport lombok.NonNull;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@ToString\n@Document(collection =&quot;DataPoint&quot;) \n@AllArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class DataPoint {\n    \n    //System generated PK\n    @Getter @Setter @NonNull private String id;\n    \n    //Co-ordinates\n    @Getter @Setter private double lat;\n    @Getter @Setter private double lon;\n    \n    @GeoSpatialIndexed(name= &quot;location_idx&quot;, type = GeoSpatialIndexType.GEO_2DSPHERE)\n    @Getter @Setter private GeoJsonPoint location;\n    \n    //Last Updated\n    @Getter @Setter private long lastUpdatedTimestamp;  \n}\n</code></pre>\n<p>The below service will then run when the application is initialised and performs the collection filtering and loading of the data into spark:</p>\n<pre><code>package com.example;\n\nimport static org.apache.spark.sql.functions.col;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.SparkContext;\nimport org.apache.spark.sql.Dataset;\nimport org.apache.spark.sql.Row;\nimport org.apache.spark.sql.RowFactory;\nimport org.apache.spark.sql.SparkSession;\nimport org.apache.spark.sql.types.DataTypes;\nimport org.apache.spark.sql.types.Metadata;\nimport org.apache.spark.sql.types.StructField;\nimport org.apache.spark.sql.types.StructType;\nimport org.bson.types.ObjectId;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.data.geo.Point;\nimport org.springframework.data.mongodb.core.geo.GeoJsonPolygon;\nimport org.springframework.stereotype.Service;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Service\npublic class ExampleService implements CommandLineRunner {\n    \n    private static final Logger logger = LoggerFactory.getLogger(ExampleService.class);\n\n    @Autowired\n    DataPointRepository dataPointRepository;\n    \n    @Override\n    public void run(String... args) throws Exception {\n        //Log that service is running\n        logger.info(&quot;Example Service is running&quot;);\n        \n        //Example GeoJsonPolygon\n        List&lt;Point&gt; points = new ArrayList&lt;Point&gt;();\n        points.add(new Point(0,0));\n        points.add(new Point(180,0));\n        points.add(new Point(180,90));\n        points.add(new Point(0,0));\n        GeoJsonPolygon geoJsonPolygon = new GeoJsonPolygon(points);\n        \n        //Cutoff time default to T-10mins\n        double cutoffTime = System.currentTimeMillis() - (10 * 60 * 1000);\n        \n        //Filter the DataPoint collection\n        List&lt;DataPoint&gt; filteredDataPointList = dataPointRepository.findAllByLocationWithinAndLastUpdatedTimestampGreaterThan(geoJsonPolygon,cutoffTime);\n        \n        //Initialise Spark session\n        SparkConf conf = new SparkConf();\n        \n        conf.set(&quot;spark.master&quot;,&quot;local&quot;);\n        conf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\n\n        SparkContext context = new SparkContext(conf);\n        SparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\n        \n        //Convert filteredDataPointList to List&lt;Row&gt; for spark dataframe\n        List&lt;Row&gt; rowList = new ArrayList&lt;Row&gt;();\n        for (DataPoint dp: filteredDataPointList) {\n            List&lt;Object&gt; data = new ArrayList&lt;&gt;();\n            data.add(dp.getId());\n            data.add(dp.getLat());\n            data.add(dp.getLon());\n            \n            Row row = RowFactory.create(data.toArray());\n            rowList.add(row);\n        }\n        \n        //Generate schema from StructFields\n        List&lt;StructField&gt; structFields = new ArrayList&lt;&gt;();\n        structFields.add(new StructField(&quot;_id&quot;, DataTypes.StringType, true, Metadata.empty()));\n        structFields.add(new StructField(&quot;lat&quot;, DataTypes.DoubleType, true, Metadata.empty()));\n        structFields.add(new StructField(&quot;lon&quot;, DataTypes.DoubleType, true, Metadata.empty()));\n        StructType schema = new StructType(structFields.toArray(new StructField[0]));\n\n        //Initialise DataFrame from rowList\n        Dataset&lt;Row&gt; dataset = spark.createDataFrame(rowList, schema);\n        dataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\n        dataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\n        dataset.na().drop();\n        dataset.printSchema();\n        dataset.show(false);\n        \n        //Run clustering algorithms....\n        \n    }\n}\n</code></pre>\n<p>(output as below)</p>\n<pre><code>root\n |-- _id: string (nullable = true)\n |-- lat: double (nullable = true)\n |-- lon: double (nullable = true)\n\n+------------------------+----------------+------------------+\n|_id                     |lat             |lon               |\n+------------------------+----------------+------------------+\n|6453b52f26d1a71e6124ce59|51.1315842777413|0.515861112040389 |\n|6453b52f26d1a71e6124ce5a|53.7236662883316|-3.03878489019157 |\n|6453b52f26d1a71e6124ce5b|53.025813155572 |0.289110683451985 |\n|6453b52f26d1a71e6124ce5c|51.3606995421023|-0.45591666788182 |\n|6453b52f26d1a71e6124ce5d|55.3587772650236|-0.43234332482597 |\n|6453b52f26d1a71e6124ce5e|53.3132727039887|-1.2439138924336  |\n|6453b52f26d1a71e6124ce5f|55.5844946099286|-2.71052395578811 |\n|6453b52f26d1a71e6124ce60|52.3681859288013|-1.73289160535643 |\n|6453b52f26d1a71e6124ce61|53.6486857624155|0.879253900600117 |\n|6453b52f26d1a71e6124ce62|51.8974330698587|-1.64057831174821 |\n|6453b52f26d1a71e6124ce63|51.4130112162052|0.0813730046672143|\n|6453b52f26d1a71e6124ce64|55.7826244597159|-1.89958309132911 |\n|6453b52f26d1a71e6124ce65|51.9251715855348|-2.50507999470767 |\n|6453b52f26d1a71e6124ce66|52.2918854778935|-1.97167759407929 |\n|6453b52f26d1a71e6124ce67|54.8403636027267|-1.36478903883441 |\n|6453b52f26d1a71e6124ce68|52.6971321174423|-0.111767454525473|\n|6453b52f26d1a71e6124ce69|53.0566617126824|-0.15553981089494 |\n|6453b52f26d1a71e6124ce6a|52.8988372634014|-1.41853339786962 |\n|6453b52f26d1a71e6124ce6b|55.717825981325 |0.211642792759744 |\n|6453b52f26d1a71e6124ce6c|52.3840761519566|-0.653960353317823|\n+------------------------+----------------+------------------+\n</code></pre>\n<p>However, I would like to load the data from the collection directly into spark without having to read the extracted documents into a list and iterate through in java to perform the dataframe conversion.\nCurrently though, I am only able to read in the entire collection if I read directly into spark:</p>\n<pre><code>SparkConf conf = new SparkConf();\n    \nconf.set(&quot;spark.master&quot;,&quot;local&quot;);\nconf.set(&quot;spark.app.name&quot;,&quot;ExampleApp&quot;);\n    \nconf.set(&quot;spark.jars.packages&quot;,&quot;org.mongodb.spark:mongo-spark-connector:10.0.1&quot;);\n\n// Set up read connection :\nconf.set(&quot;spark.mongodb.read.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\nconf.set(&quot;spark.mongodb.read.database&quot;, &quot;ExampleDb&quot;);\nconf.set(&quot;spark.mongodb.read.collection&quot;, &quot;DataPoint&quot;);\n\n// Set up write connection\nconf.set(&quot;spark.mongodb.write.connection.uri&quot;, &quot;mongodb://user:password@example.com:27017&quot;);\nconf.set(&quot;spark.mongodb.write.database&quot;, &quot;ExampleDb&quot;);\nconf.set(&quot;spark.mongodb.write.collection&quot;, &quot;DataPoint&quot;);\n\nSparkContext context = new SparkContext(conf);\nSparkSession spark = SparkSession.builder().sparkContext(context).getOrCreate();\n\nDataset&lt;Row&gt; dataset = spark.read().format(&quot;mongodb&quot;).load().select(col(&quot;_id&quot;), col(&quot;lat&quot;), col(&quot;lon&quot;));\ndataset.withColumn(&quot;lat&quot;, dataset.col(&quot;lat&quot;).cast(&quot;float&quot;));\ndataset.withColumn(&quot;lon&quot;, dataset.col(&quot;lon&quot;).cast(&quot;float&quot;));\ndataset.na().drop();\ndataset.printSchema();\ndataset.show(false);\n</code></pre>\n<p>My questions are:</p>\n<p>What is the most efficient way of reading the desired data into Spark? Should the entire collection be loaded, the repository methods above scrapped, and Spark's functions used to perform the filtering instead, or is there a away to apply mongo's geo functions to the read?<br/>\nIf the former, is there an efficient way to compare lat/lon doubles to a predefined geo polygon and only keep rows in the dataframe where the coordinates lie inside?</p>\n<p>Or, if is still better to keep the repository methods above, is there a more efficient way to convert the list into a dataframe?</p>\n<p>If the answer depends on the volume of data, then I'd certainly want to entertain both approaches and run performance tests myself.</p>\n"},{"tags":["java","spring","api","runtime-error","webclient"],"owner":{"account_id":28618213,"reputation":1,"user_id":21911736,"display_name":"Xoroma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684313178,"creation_date":1684310500,"question_id":76269802,"body_markdown":"I&#39;m trying to send an apk file using the spring web client for static analysis to the mobfs api service. But I am getting an error with json response  `{&quot;error&quot;: {&quot;file&quot;: &quot;This field is required.&quot;}}`.    \r\n\r\nThis is an example cUrl from doc.          \r\n\r\n&gt; curl -F &#39;file=@/Users/ajin/Desktop/diva-beta.apk&#39;\r\n&gt; http://localhost:8000/api/v1/upload -H\r\n&gt; &quot;X-Mobsf-Api-Key:bbe2a81af7e42b82222bbfe4fcf54d681dbc1ba34ef6d41a17ce1881cfda0709&quot;\r\n\r\n\r\n```\r\n  File file = new File(&quot;/light.apk&quot;);\r\n\r\n  ContentDisposition contentDisposition = ContentDisposition\r\n                .builder(&quot;form-data&quot;)\r\n                .name(&quot;file&quot;)\r\n                .filename(&quot;light.apk&quot;)\r\n                .build();\r\n\r\n  return webClient.post()\r\n                .uri(UPLOAD_FILE_URL)\r\n                .header(&quot;Content-Disposition&quot;, contentDisposition.toString())\r\n                .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                .body(BodyInserters.fromMultipartData(fromFile(file)))\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .block();\r\n\r\n    }\r\n\r\n    public MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; fromFile(File file) {\r\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n        builder.part(&quot;file&quot;, new FileSystemResource(file));\r\n        return builder.build();\r\n    }\r\n```\r\n\r\nLogs:\r\n\r\n[![logs][1]][1]\r\n\r\n What am I doing wrong?\r\n \r\n[1]: https://i.stack.imgur.com/LDscL.png","title":"Issue with sending file using Spring WebClient to MobfsApi","body":"<p>I'm trying to send an apk file using the spring web client for static analysis to the mobfs api service. But I am getting an error with json response  <code>{&quot;error&quot;: {&quot;file&quot;: &quot;This field is required.&quot;}}</code>.</p>\n<p>This is an example cUrl from doc.</p>\n<blockquote>\n<p>curl -F 'file=@/Users/ajin/Desktop/diva-beta.apk'\nhttp://localhost:8000/api/v1/upload -H\n&quot;X-Mobsf-Api-Key:bbe2a81af7e42b82222bbfe4fcf54d681dbc1ba34ef6d41a17ce1881cfda0709&quot;</p>\n</blockquote>\n<pre><code>  File file = new File(&quot;/light.apk&quot;);\n\n  ContentDisposition contentDisposition = ContentDisposition\n                .builder(&quot;form-data&quot;)\n                .name(&quot;file&quot;)\n                .filename(&quot;light.apk&quot;)\n                .build();\n\n  return webClient.post()\n                .uri(UPLOAD_FILE_URL)\n                .header(&quot;Content-Disposition&quot;, contentDisposition.toString())\n                .contentType(MediaType.MULTIPART_FORM_DATA)\n                .body(BodyInserters.fromMultipartData(fromFile(file)))\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n\n    }\n\n    public MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; fromFile(File file) {\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\n        builder.part(&quot;file&quot;, new FileSystemResource(file));\n        return builder.build();\n    }\n</code></pre>\n<p>Logs:</p>\n<p><a href=\"https://i.stack.imgur.com/LDscL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LDscL.png\" alt=\"logs\" /></a></p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1541103183,"post_id":53108676,"comment_id":93112673,"body_markdown":"`Optional#ofNullable`, or better yet you can do some actions if the key is absent e.g. `Map#computeIfAbsent`","body":"<code>Optional#ofNullable</code>, or better yet you can do some actions if the key is absent e.g. <code>Map#computeIfAbsent</code>"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1541103252,"post_id":53108676,"comment_id":93112696,"body_markdown":"but think of that null a little, `null` might mean value not present or key *actually* mapped to null, depends of your map and application","body":"but think of that null a little, <code>null</code> might mean value not present or key <i>actually</i> mapped to null, depends of your map and application"},{"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"score":0,"creation_date":1541103330,"post_id":53108676,"comment_id":93112730,"body_markdown":"@Eugene - Thanks. Yup, I am constructing the map myself from a stream so if the value doesn&#39;t exist then the entry would never have existed either. Still, I&#39;m trying to cover all null cases.","body":"@Eugene - Thanks. Yup, I am constructing the map myself from a stream so if the value doesn&#39;t exist then the entry would never have existed either. Still, I&#39;m trying to cover all null cases."}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":66,"is_accepted":true,"score":66,"last_activity_date":1541103958,"creation_date":1541103174,"answer_id":53108695,"question_id":53108676,"body_markdown":"Why not simply:\r\n\r\n\r\n    return Optional.ofNullable(myMap.get(myKey));\r\n\r\n[JavaDocs][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>Why not simply:</p>\n\n<pre><code>return Optional.ofNullable(myMap.get(myKey));\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html#ofNullable-T-\" rel=\"noreferrer\">JavaDocs</a></p>\n"},{"tags":[],"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1541103549,"creation_date":1541103549,"answer_id":53108790,"question_id":53108676,"body_markdown":"This\r\n\r\n    Optional.of(myMap.getOrDefault(myKey, null));\r\n\r\nor really\r\n\r\n    Optional.of(null);\r\n\r\nwould&#39;ve failed with a `NullPointerException`. As the [javadoc][1] states\r\n\r\n&gt; Throws:  \r\n&gt; **NullPointerException** - if `value` is null\r\n\r\n\r\n[`Optional#ofNullable`][2] exists when you don&#39;t know if the value you&#39;re passing to it is `null` or not:\r\n\r\n&gt; **Parameters**:  \r\n&gt; `value` - the possibly-null value to describe\r\n\r\nAnd since [`Map#get(Object)`][3] already returns `null` when there is no entry for the given key\r\n\r\n&gt; **Returns**:  \r\n&gt; the value to which the specified key is mapped, or `null` if\r\n&gt; this map contains no mapping for the key\r\n\r\nyou don&#39;t need to use `getOrDefault` with a `null` value for the default. You can instead directly use\r\n\r\n    Optional.ofNullable(myMap.get(myKey));\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#of(T)\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#ofNullable(T)\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#get(java.lang.Object)","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>This</p>\n\n<pre><code>Optional.of(myMap.getOrDefault(myKey, null));\n</code></pre>\n\n<p>or really</p>\n\n<pre><code>Optional.of(null);\n</code></pre>\n\n<p>would've failed with a <code>NullPointerException</code>. As the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#of(T)\" rel=\"noreferrer\">javadoc</a> states</p>\n\n<blockquote>\n  <p>Throws:<br>\n  <strong>NullPointerException</strong> - if <code>value</code> is null</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html#ofNullable(T)\" rel=\"noreferrer\"><code>Optional#ofNullable</code></a> exists when you don't know if the value you're passing to it is <code>null</code> or not:</p>\n\n<blockquote>\n  <p><strong>Parameters</strong>:<br>\n  <code>value</code> - the possibly-null value to describe</p>\n</blockquote>\n\n<p>And since <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#get(java.lang.Object)\" rel=\"noreferrer\"><code>Map#get(Object)</code></a> already returns <code>null</code> when there is no entry for the given key</p>\n\n<blockquote>\n  <p><strong>Returns</strong>:<br>\n  the value to which the specified key is mapped, or <code>null</code> if\n  this map contains no mapping for the key</p>\n</blockquote>\n\n<p>you don't need to use <code>getOrDefault</code> with a <code>null</code> value for the default. You can instead directly use</p>\n\n<pre><code>Optional.ofNullable(myMap.get(myKey));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":83424,"reputation":2889,"user_id":233906,"accept_rate":88,"display_name":"Cerber"},"score":10,"creation_date":1606400878,"post_id":64483909,"comment_id":114957221,"body_markdown":"very bad idea as this does not leverage the map&#39;s index and do a full map scan","body":"very bad idea as this does not leverage the map&#39;s index and do a full map scan"}],"tags":[],"owner":{"account_id":7660,"reputation":15986,"user_id":13365,"accept_rate":70,"display_name":"neu242"},"comment_count":1,"down_vote_count":7,"up_vote_count":0,"is_accepted":false,"score":-7,"last_activity_date":1603375585,"creation_date":1603375265,"answer_id":64483909,"question_id":53108676,"body_markdown":"Functional and definitely too long solution:\r\n```\r\nmyMap.entrySet().stream()\r\n  .filter(it -&gt; it.getKey().equals(myKey))\r\n  .findFirst()\r\n  .map(Map.Entry::getValue);\r\n```\r\n","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>Functional and definitely too long solution:</p>\n<pre><code>myMap.entrySet().stream()\n  .filter(it -&gt; it.getKey().equals(myKey))\n  .findFirst()\n  .map(Map.Entry::getValue);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":0,"creation_date":1698760113,"post_id":76270158,"comment_id":136444037,"body_markdown":"If the map contains a `null` value that you want to treat as non-empty `Optional`, then this pattern will not work anyway, as `Optional.of(null)` will throw an exception. You can use some kind of [NULL object](https://en.wikipedia.org/wiki/Null_object_pattern) instead of `null` reference to put it into the `Optional`, but in this case it&#39;s better to put it into the `Map` in the first place, and then `Optional.ofNullable(...)` will work fine.","body":"If the map contains a <code>null</code> value that you want to treat as non-empty <code>Optional</code>, then this pattern will not work anyway, as <code>Optional.of(null)</code> will throw an exception. You can use some kind of <a href=\"https://en.wikipedia.org/wiki/Null_object_pattern\" rel=\"nofollow noreferrer\">NULL object</a> instead of <code>null</code> reference to put it into the <code>Optional</code>, but in this case it&#39;s better to put it into the <code>Map</code> in the first place, and then <code>Optional.ofNullable(...)</code> will work fine."}],"tags":[],"owner":{"account_id":2445,"reputation":27389,"user_id":3408,"accept_rate":51,"display_name":"rjmunro"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684313126,"creation_date":1684313126,"answer_id":76270158,"question_id":53108676,"body_markdown":"If the map contains a null value, the `Optional.ofNullable(...)` solution won&#39;t work. You need to do something like:\r\n\r\n```java\r\nmyMap.containsKey(myKey) ? Optional.of(myMap.get(myKey)) : Optional.empty();\r\n```\r\n\r\nIt&#39;s annoying to have to check the map twice, but there doesn&#39;t seem to be a better way.","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>If the map contains a null value, the <code>Optional.ofNullable(...)</code> solution won't work. You need to do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>myMap.containsKey(myKey) ? Optional.of(myMap.get(myKey)) : Optional.empty();\n</code></pre>\n<p>It's annoying to have to check the map twice, but there doesn't seem to be a better way.</p>\n"}],"owner":{"account_id":886614,"reputation":29561,"user_id":925913,"accept_rate":82,"display_name":"Andrew Cheong"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35694,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":53108695,"answer_count":4,"score":34,"last_activity_date":1684313126,"creation_date":1541103043,"question_id":53108676,"body_markdown":"I&#39;m trying to do this:\r\n\r\n    return Optional.of(myMap.getOrDefault(myKey, null));\r\n\r\nReally, what I want is to return an `Optional.of(foundVal)` if found, otherwise `Optional.empty()`. I don&#39;t believe `Optional.of(null)` equates to that. What syntax does what I want to do?\r\n\r\nThat is, how can I get a map `get` to return a proper `Optional`?","title":"How to make `Map::get` return either an `Optional` of the found value or `Optional.empty()`","body":"<p>I'm trying to do this:</p>\n\n<pre><code>return Optional.of(myMap.getOrDefault(myKey, null));\n</code></pre>\n\n<p>Really, what I want is to return an <code>Optional.of(foundVal)</code> if found, otherwise <code>Optional.empty()</code>. I don't believe <code>Optional.of(null)</code> equates to that. What syntax does what I want to do?</p>\n\n<p>That is, how can I get a map <code>get</code> to return a proper <code>Optional</code>?</p>\n"},{"tags":["java","spring-boot","spring-profiles"],"owner":{"account_id":27971475,"reputation":1,"user_id":21361105,"display_name":"raja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684312730,"creation_date":1684308548,"question_id":76269533,"body_markdown":"```\r\n12:43:08.877 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed org.springframework.boot.context.config.InvalidConfigDataPropertyException: Property &#39;spring.profiles&#39; imported from location &#39;class path resource [application.yml]&#39; is invalid and should be replaced with \r\n```\r\n\r\n\r\n\r\n```yaml\r\nspring:\r\n   profiles:\r\n      active: test\r\n---\r\n  spring:\r\n     profiles: dev\r\n        \r\n     datasource:\r\n        driver-class-name: com.mysql.cj.jdbc.Driver\r\n        password: root\r\n        type: org.apache.commons.dbcp2.BasicDataSource\r\n        url: jdbc:mysql:///ntspbms615db\r\n        username: root\r\n---    \r\n  spring: \r\n     profiles: prod\r\n     \r\n     datasource:\r\n        driver-class-name: oracle.jdbc.driver.OracleDriver\r\n        password: sam\r\n        url: jdbc:oracle:thin:@localhost:1521:orcl\r\n        username: mydb6pm\r\n     \r\n---\r\n  spring:\r\n     profiles: test\r\n     \r\n     datasource:\r\n           driver-class-name: com.mysql.cj.jdbc.Driver\r\n           password: root\r\n           type: org.apache.tomcat.jdbc.pool.DataSource\r\n           url: jdbc:mysql:///ntspbms615db\r\n           username: root        \r\n           \r\n---    \r\n   spring:\r\n      profiles: uat\r\n      datasource:\r\n         driver-class-name: oracle.jdbc.driver.OracleDriver\r\n         password: sam\r\n         url: jdbc:oracle:thin:@localhost:1521:orcl\r\n         username: mydb6pm       \r\n           \r\n```\r\n\r\n\r\ngetting the above error in eclipse ide by specifying spring profiles in single yml file.","title":"getting the error in eclipse specifying spring profiles in single yml file","body":"<pre><code>12:43:08.877 [main] ERROR org.springframework.boot.SpringApplication -- Application run failed org.springframework.boot.context.config.InvalidConfigDataPropertyException: Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with \n</code></pre>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n   profiles:\n      active: test\n---\n  spring:\n     profiles: dev\n        \n     datasource:\n        driver-class-name: com.mysql.cj.jdbc.Driver\n        password: root\n        type: org.apache.commons.dbcp2.BasicDataSource\n        url: jdbc:mysql:///ntspbms615db\n        username: root\n---    \n  spring: \n     profiles: prod\n     \n     datasource:\n        driver-class-name: oracle.jdbc.driver.OracleDriver\n        password: sam\n        url: jdbc:oracle:thin:@localhost:1521:orcl\n        username: mydb6pm\n     \n---\n  spring:\n     profiles: test\n     \n     datasource:\n           driver-class-name: com.mysql.cj.jdbc.Driver\n           password: root\n           type: org.apache.tomcat.jdbc.pool.DataSource\n           url: jdbc:mysql:///ntspbms615db\n           username: root        \n           \n---    \n   spring:\n      profiles: uat\n      datasource:\n         driver-class-name: oracle.jdbc.driver.OracleDriver\n         password: sam\n         url: jdbc:oracle:thin:@localhost:1521:orcl\n         username: mydb6pm       \n           \n</code></pre>\n<p>getting the above error in eclipse ide by specifying spring profiles in single yml file.</p>\n"},{"tags":["java","spring","kotlin","testing","mockito"],"owner":{"account_id":19445478,"reputation":1094,"user_id":14223108,"display_name":"Emin Bilgi&#231;"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684312660,"creation_date":1684312660,"question_id":76270093,"body_markdown":"\r\nI am having `io.mockk.MockKException: Missing calls inside every { ... } block.` exception from the test below. The weird part is I am not getting this error when the class run by itself. The error occurs if I run this test class with others. I don&#39;t have any static fields in the other class and I am sure all fields created as `MoneyCalculator` are private and cannot be reached from other classes.\r\n\r\nThe Error occurs when mocking `moneyCalculator`, is there any idea about why this error occurs?\r\n\r\n```\r\nclass AccountingJournalLineItemServiceTest : AbstractAccountingUnitTest() {\r\n\r\n    @MockK\r\n    private lateinit var moneyCalculator: MoneyCalculator\r\n\r\n    @InjectMockKs\r\n    private lateinit var service: Service\r\n\r\n    @Test\r\n    fun testCreateResponsePayload_whenNoEntryFound() {\r\n     // Other mocks\r\n\r\n        every { // Here error occurs\r\n            moneyCalculator.sum(emptyList&lt;AccountingJournalLineMoney&gt;())\r\n        } returns Money(\r\n            creditAmount = BigDecimal.ZERO,\r\n            debitAmount = BigDecimal.ZERO,\r\n            currency = Currency.AED\r\n        )\r\n\r\n        val actual = service.getJournalLinesAsResponsePayload(\r\n            &quot;company&quot;.Id,\r\n            &quot;sync&quot;.Id,\r\n            mockk()\r\n        )\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\nopen class AbstractAccountingUnitTest {\r\n\r\n    protected val companyId = &quot;company&quot;.Id\r\n    protected val regularCycleId = &quot;regularCycle&quot;.Id\r\n    protected val synchronizationId = &quot;synchronization&quot;.Id\r\n\r\n    @BeforeEach\r\n    open fun setup() {\r\n        MockKAnnotations.init(this)\r\n    }\r\n}","title":"Error, missing calls inside every; when running tests together","body":"<p>I am having <code>io.mockk.MockKException: Missing calls inside every { ... } block.</code> exception from the test below. The weird part is I am not getting this error when the class run by itself. The error occurs if I run this test class with others. I don't have any static fields in the other class and I am sure all fields created as <code>MoneyCalculator</code> are private and cannot be reached from other classes.</p>\n<p>The Error occurs when mocking <code>moneyCalculator</code>, is there any idea about why this error occurs?</p>\n<pre><code>class AccountingJournalLineItemServiceTest : AbstractAccountingUnitTest() {\n\n    @MockK\n    private lateinit var moneyCalculator: MoneyCalculator\n\n    @InjectMockKs\n    private lateinit var service: Service\n\n    @Test\n    fun testCreateResponsePayload_whenNoEntryFound() {\n     // Other mocks\n\n        every { // Here error occurs\n            moneyCalculator.sum(emptyList&lt;AccountingJournalLineMoney&gt;())\n        } returns Money(\n            creditAmount = BigDecimal.ZERO,\n            debitAmount = BigDecimal.ZERO,\n            currency = Currency.AED\n        )\n\n        val actual = service.getJournalLinesAsResponsePayload(\n            &quot;company&quot;.Id,\n            &quot;sync&quot;.Id,\n            mockk()\n        )\n    }\n\n}\n\n\n\nopen class AbstractAccountingUnitTest {\n\n    protected val companyId = &quot;company&quot;.Id\n    protected val regularCycleId = &quot;regularCycle&quot;.Id\n    protected val synchronizationId = &quot;synchronization&quot;.Id\n\n    @BeforeEach\n    open fun setup() {\n        MockKAnnotations.init(this)\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","google-app-engine","jdo","datanucleus"],"comments":[{"owner":{"account_id":17627317,"reputation":127,"user_id":12792142,"display_name":"TestingCodes"},"score":0,"creation_date":1688610298,"post_id":76268037,"comment_id":135097701,"body_markdown":"Did you find a solution?","body":"Did you find a solution?"},{"owner":{"account_id":5458872,"reputation":2254,"user_id":4341561,"accept_rate":65,"display_name":"Kiran Subedi"},"score":0,"creation_date":1688659384,"post_id":76268037,"comment_id":135106761,"body_markdown":"Yes, upgrading the org.datanucleus plugin works for me. I did update the version to: \t\t\t\t&lt;version&gt;3.2.0-m1&lt;/version&gt;.","body":"Yes, upgrading the org.datanucleus plugin works for me. I did update the version to: \t\t\t\t&lt;version&gt;3.2.0-m1&lt;/version&gt;."}],"owner":{"account_id":5458872,"reputation":2254,"user_id":4341561,"accept_rate":65,"display_name":"Kiran Subedi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684312014,"creation_date":1684287210,"question_id":76268037,"body_markdown":"I have old project and whenever I run the command like `mvn clean install` or `mvn datanucleus:enchance` I am getting errors like  \r\n\r\n&gt; Failed to execute goal\r\n&gt; org.datanucleus:maven-datanucleus-plugin:3.1.1:enhance (default) on\r\n&gt; project springboot-appengine-standard: Execution default of goal\r\n&gt; org.datanucleus:maven-datanucleus-plugin:3.1.1:enhance failed: A\r\n&gt; required class was missing while executing\r\n&gt; org.datanucleus:maven-datanucleus-plugin:3.1.1:enhance:\r\n&gt; java/sql/SQLException\r\n\r\nI have the following pom.xml file: \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.google.appengine.demos&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springboot-appengine-standard&lt;/artifactId&gt;\r\n\t&lt;version&gt;1&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;springboot-appengine-standard&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t \r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t\t&lt;spring.boot.version&gt;2.1.1.RELEASE&lt;/spring.boot.version&gt; &lt;!-- DO NOT UPDATE w/o MANUAL TESTING --&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\r\n\r\n\t\t&lt;datanucleus.version&gt;3.1.3&lt;/datanucleus.version&gt;\r\n\t\t&lt;datanucleus.plugin.version&gt;3.1.1&lt;/datanucleus.plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--  Securtiy Start.. --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-data-commons-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.9.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\r\n\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t    &lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t\t    &lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;2.6.1&lt;/version&gt;\r\n\t\t    &lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.freemarker&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;freemarker&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.1.9.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-collections&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;joda-time&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;joda-time&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20230227&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.42.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.47.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.3.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v3-rev188-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-api-services-admin-directory&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;directory_v1-rev110-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.30.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;v4-rev581-1.25.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.14&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.28.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.appengine.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;datanucleus-appengine&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.75&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.75&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${datanucleus.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;datanucleus-api-jpa&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${datanucleus.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;geronimo-jpa_2.0_spec&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;datanucleus-api-jdo&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${datanucleus.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;appengine-endpoints-deps&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.9.21&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.inject&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.jdo&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jdo-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;merchantsdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.15.122&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.13.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;permissionssdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.109&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;!-- Import dependency management from Spring Boot --&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- [START cloudplugin] --&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;!-- [END cloudplugin] --&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;compile&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;display-dependency-updates&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;display-plugin-updates&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;javax.servlet:javax.servlet-api&lt;/exclude&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;com.google.guava:guava&lt;/exclude&gt; \r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-datanucleus-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${datanucleus.plugin.version}&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;api&gt;JDO&lt;/api&gt;\r\n\t\t\t\t\t&lt;props&gt;${basedir}/datanucleus.properties&lt;/props&gt;\r\n\t\t\t\t\t&lt;fork&gt;false&lt;/fork&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;process-classes&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;enhance&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t&lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\r\n\t\t\t\t\t\t&lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;version&gt;${datanucleus.version}&lt;/version&gt;\r\n\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nI have the following datanucleus.properties file: \r\n\r\n    javax.jdo.option.ConnectionDriverName=org.apache.derby.jdbc.EmbeddedDriver\r\n    javax.jdo.option.ConnectionURL=jdbc:derby:eg;create=true \r\n    javax.jdo.option.ConnectionUserName=root\r\n    javax.jdo.option.ConnectionPassword=root\r\n\r\n    datanucleus.autoCreateTables=true\r\n    datanucleus.autoCreateSchema=true\r\n    datanucleus.autoCreateColumns=true\r\n    datanucleus.autoCreateConstraints=true\r\n    datanucleus.RetainValues=true\r\n\r\n\r\nI have tried updating the maven-datanucleus-plugin to different version. But, it didn&#39;t work. **How can I solve the above issue?** ","title":"How to resolve a required class was missing while executing : java/sql/SQLException","body":"<p>I have old project and whenever I run the command like <code>mvn clean install</code> or <code>mvn datanucleus:enchance</code> I am getting errors like</p>\n<blockquote>\n<p>Failed to execute goal\norg.datanucleus:maven-datanucleus-plugin:3.1.1:enhance (default) on\nproject springboot-appengine-standard: Execution default of goal\norg.datanucleus:maven-datanucleus-plugin:3.1.1:enhance failed: A\nrequired class was missing while executing\norg.datanucleus:maven-datanucleus-plugin:3.1.1:enhance:\njava/sql/SQLException</p>\n</blockquote>\n<p>I have the following pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\nxmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.google.appengine.demos&lt;/groupId&gt;\n&lt;artifactId&gt;springboot-appengine-standard&lt;/artifactId&gt;\n&lt;version&gt;1&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;name&gt;springboot-appengine-standard&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n \n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;spring.boot.version&gt;2.1.1.RELEASE&lt;/spring.boot.version&gt; &lt;!-- DO NOT UPDATE w/o MANUAL TESTING --&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n\n\n    &lt;datanucleus.version&gt;3.1.3&lt;/datanucleus.version&gt;\n    &lt;datanucleus.plugin.version&gt;3.1.1&lt;/datanucleus.plugin.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;!--&lt;scope&gt;provided&lt;/scope&gt;--&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        \n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--  Securtiy Start.. --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-commons-core&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n        &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n        &lt;version&gt;0.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.freemarker&lt;/groupId&gt;\n        &lt;artifactId&gt;freemarker&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n        &lt;version&gt;1.7.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n        &lt;version&gt;5.1.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-collections&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-collections&lt;/artifactId&gt;\n        &lt;version&gt;3.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;joda-time&lt;/groupId&gt;\n        &lt;artifactId&gt;joda-time&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n        &lt;version&gt;2.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n        &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20230227&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client-gson&lt;/artifactId&gt;\n        &lt;version&gt;1.42.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.gdata&lt;/groupId&gt;\n        &lt;artifactId&gt;core&lt;/artifactId&gt;\n        &lt;version&gt;1.47.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-spring4&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.modelmapper&lt;/groupId&gt;\n        &lt;artifactId&gt;modelmapper&lt;/artifactId&gt;\n        &lt;version&gt;2.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n        &lt;version&gt;3.2.0.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-drive&lt;/artifactId&gt;\n        &lt;version&gt;v3-rev188-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-admin-directory&lt;/artifactId&gt;\n        &lt;version&gt;directory_v1-rev110-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-oauth-client-jetty&lt;/artifactId&gt;\n        &lt;version&gt;1.30.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.apis&lt;/groupId&gt;\n        &lt;artifactId&gt;google-api-services-sheets&lt;/artifactId&gt;\n        &lt;version&gt;v4-rev581-1.25.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.14&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client-jackson&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.http-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-http-client-jackson2&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.oauth-client&lt;/groupId&gt;\n        &lt;artifactId&gt;google-oauth-client&lt;/artifactId&gt;\n        &lt;version&gt;1.28.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine.orm&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-appengine&lt;/artifactId&gt;\n        &lt;version&gt;2.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-1.0-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.9.75&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-api-labs&lt;/artifactId&gt;\n        &lt;version&gt;1.9.75&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\n        &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-api-jpa&lt;/artifactId&gt;\n        &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n        &lt;artifactId&gt;geronimo-jpa_2.0_spec&lt;/artifactId&gt;\n        &lt;version&gt;1.1&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n        &lt;artifactId&gt;datanucleus-api-jdo&lt;/artifactId&gt;\n        &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.appengine&lt;/groupId&gt;\n        &lt;artifactId&gt;appengine-endpoints-deps&lt;/artifactId&gt;\n        &lt;version&gt;1.9.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.inject&lt;/artifactId&gt;\n        &lt;version&gt;1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.jdo&lt;/groupId&gt;\n        &lt;artifactId&gt;jdo-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;merchantsdk&lt;/artifactId&gt;\n        &lt;version&gt;2.15.122&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n        &lt;version&gt;1.13.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n        &lt;artifactId&gt;permissionssdk&lt;/artifactId&gt;\n        &lt;version&gt;2.4.109&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- Import dependency management from Spring Boot --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;!-- [START cloudplugin] --&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.cloud.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;appengine-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.3.1&lt;/version&gt;\n            &lt;configuration&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;!-- [END cloudplugin] --&gt;\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;compile&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;display-dependency-updates&lt;/goal&gt;\n                        &lt;goal&gt;display-plugin-updates&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;javax.servlet:javax.servlet-api&lt;/exclude&gt;\n                    &lt;exclude&gt;com.google.guava:guava&lt;/exclude&gt; \n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n\n\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-datanucleus-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${datanucleus.plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;api&gt;JDO&lt;/api&gt;\n                &lt;props&gt;${basedir}/datanucleus.properties&lt;/props&gt;\n                &lt;fork&gt;false&lt;/fork&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;process-classes&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;enhance&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.datanucleus&lt;/groupId&gt;\n                    &lt;artifactId&gt;datanucleus-core&lt;/artifactId&gt;\n                    &lt;version&gt;${datanucleus.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>I have the following datanucleus.properties file:</p>\n<pre><code>javax.jdo.option.ConnectionDriverName=org.apache.derby.jdbc.EmbeddedDriver\njavax.jdo.option.ConnectionURL=jdbc:derby:eg;create=true \njavax.jdo.option.ConnectionUserName=root\njavax.jdo.option.ConnectionPassword=root\n\ndatanucleus.autoCreateTables=true\ndatanucleus.autoCreateSchema=true\ndatanucleus.autoCreateColumns=true\ndatanucleus.autoCreateConstraints=true\ndatanucleus.RetainValues=true\n</code></pre>\n<p>I have tried updating the maven-datanucleus-plugin to different version. But, it didn't work. <strong>How can I solve the above issue?</strong></p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"comments":[{"owner":{"account_id":545837,"reputation":130,"user_id":1865099,"display_name":"Michael J Lawley"},"score":0,"creation_date":1700735030,"post_id":76269957,"comment_id":136692002,"body_markdown":"Hi @Gavin King I&#39;m seeing the same problem with Oracle and Hibernate 5.6.15.FInal","body":"Hi @Gavin King I&#39;m seeing the same problem with Oracle and Hibernate 5.6.15.FInal"},{"owner":{"account_id":545837,"reputation":130,"user_id":1865099,"display_name":"Michael J Lawley"},"score":0,"creation_date":1700735423,"post_id":76269957,"comment_id":136692080,"body_markdown":"Sadly I cannot move to Hibernate 6.x and have many fields with the name &#39;_id&#39; and renaming is not an option.\n\nI&#39;d be happy to do a local patch, but SqlAliasStemHelper.java appears to be new in 6.x and I can&#39;t see what the 5.x equivalent is.  Any pointers gratefully received.","body":"Sadly I cannot move to Hibernate 6.x and have many fields with the name &#39;_id&#39; and renaming is not an option.  I&#39;d be happy to do a local patch, but SqlAliasStemHelper.java appears to be new in 6.x and I can&#39;t see what the 5.x equivalent is.  Any pointers gratefully received."}],"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684311685,"creation_date":1684311685,"answer_id":76269957,"question_id":76268282,"body_markdown":"Thanks for reporting this. I&#39;ve opened the following issue:\r\n\r\n&lt;https://hibernate.atlassian.net/browse/HHH-16619&gt;\r\n\r\nThe workaround, of course, is to rename the field to something that complies with standard Java naming conventions.","title":"Hibernate 5.x to Hibernate 6.x alias issue","body":"<p>Thanks for reporting this. I've opened the following issue:</p>\n<p><a href=\"https://hibernate.atlassian.net/browse/HHH-16619\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-16619</a></p>\n<p>The workaround, of course, is to rename the field to something that complies with standard Java naming conventions.</p>\n"}],"owner":{"account_id":13778459,"reputation":73,"user_id":9944181,"display_name":"Hasn A"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684311685,"creation_date":1684292118,"question_id":76268282,"body_markdown":"I am migrating from spring boot 2.7(hibernate 5.x) to spring boot 3.0(hibernate 6.x).\r\nMy database is Oracle 19c and I am using OracleDialect.\r\n\r\nProblem is some of our entities in our legacy code have underscores as prefix for jpa entity fields.\r\nWhat is happening is newer version of hibernate is prefixing the underscore to the generated queries which is a syntax error, it used to work fine in older version but not working in hibernate 6.x, and we cant rename the field names for now.\r\n\r\nMy entity look something like this:\r\n\r\n\r\n    @Entity(&quot;Tree&quot;)\r\n    @Table(&quot;TREE&quot;)\r\n    class Tree {\r\n        @Id\r\n        @Column(&quot;id&quot;)\r\n        int id;\r\n\r\n        @Column(&quot;PARENT_NODE_ID&quot;)\r\n        int parentId;\r\n\r\n        @ManyToOne(cascade={CascadeType.ALL}, fetch = FetchType.EAGER)\r\n        @JoinColumn(name=&quot;PARENT_NODE_ID&quot;, insertable = false, updatable = false)\r\n        private Tree _parent;\r\n    }\r\n\r\nIn this case the generated query will look something like this:\r\n\r\n    select blah blah from TREE t inner join TREE  _1_a   on t.PARENT_NODE_ID = _1_a.ID\r\n\r\nHere you can notice how &#39;_1_a&#39; was generated as alias for table TREE which is a syntax error since database doesn&#39;t support _ as prefix.","title":"Hibernate 5.x to Hibernate 6.x alias issue","body":"<p>I am migrating from spring boot 2.7(hibernate 5.x) to spring boot 3.0(hibernate 6.x).\nMy database is Oracle 19c and I am using OracleDialect.</p>\n<p>Problem is some of our entities in our legacy code have underscores as prefix for jpa entity fields.\nWhat is happening is newer version of hibernate is prefixing the underscore to the generated queries which is a syntax error, it used to work fine in older version but not working in hibernate 6.x, and we cant rename the field names for now.</p>\n<p>My entity look something like this:</p>\n<pre><code>@Entity(&quot;Tree&quot;)\n@Table(&quot;TREE&quot;)\nclass Tree {\n    @Id\n    @Column(&quot;id&quot;)\n    int id;\n\n    @Column(&quot;PARENT_NODE_ID&quot;)\n    int parentId;\n\n    @ManyToOne(cascade={CascadeType.ALL}, fetch = FetchType.EAGER)\n    @JoinColumn(name=&quot;PARENT_NODE_ID&quot;, insertable = false, updatable = false)\n    private Tree _parent;\n}\n</code></pre>\n<p>In this case the generated query will look something like this:</p>\n<pre><code>select blah blah from TREE t inner join TREE  _1_a   on t.PARENT_NODE_ID = _1_a.ID\n</code></pre>\n<p>Here you can notice how '_1_a' was generated as alias for table TREE which is a syntax error since database doesn't support _ as prefix.</p>\n"},{"tags":["java","gradle","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684311300,"creation_date":1684311300,"answer_id":76269912,"question_id":76269125,"body_markdown":"&quot;compile&quot; configuration is no longer used in Gradle (since Gradle 7.0)\r\n\r\nTry replacing\r\n\r\n    compile &#39;org.json:json:20210307&#39;\r\n\r\nwith\r\n\r\n    implementation(&quot;org.json:json:20210307&quot;)\r\n\r\n \r\nSee [this topic][1] for more info.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23796404/could-not-find-method-compile-for-arguments-gradle","title":"Trying to use org.json library in java","body":"<p>&quot;compile&quot; configuration is no longer used in Gradle (since Gradle 7.0)</p>\n<p>Try replacing</p>\n<pre><code>compile 'org.json:json:20210307'\n</code></pre>\n<p>with</p>\n<pre><code>implementation(&quot;org.json:json:20210307&quot;)\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/23796404/could-not-find-method-compile-for-arguments-gradle\">this topic</a> for more info.</p>\n"}],"owner":{"account_id":27396340,"reputation":5,"user_id":21196393,"display_name":"Nopfp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76269912,"answer_count":1,"score":0,"last_activity_date":1684311300,"creation_date":1684305135,"question_id":76269125,"body_markdown":" im using gradle and trying to reload my plugin but i cant seem to get it to work.\r\nHere is the gradle file. when i click the reload button on gradle it gives this error:\r\n\r\n Failed to process the entry &#39;org/gradle/internal/impldep/com/amazonaws/services/kms/model/transform/CreateGrantRequestProtocolMarshaller.class&#39; from &#39;/Applications/IntelliJ IDEA CE.app/Contents/plugins/gradle/lib/gradle-api-impldep-8.0.jar&#39;\r\n\r\nThis is the build.gradle file\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;org.centoricraft&#39;\r\nversion = &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    maven { url = &quot;https://repo.codemc.org/repository/maven-public/&quot; }\r\n    maven {\r\n        name = &quot;spigotmc-repo&quot;\r\n        url = &quot;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&quot;\r\n    }\r\n    maven {\r\n        name = &quot;sonatype&quot;\r\n        url = &quot;https://oss.sonatype.org/content/groups/public/&quot;\r\n    }\r\n    maven {\r\n        url = uri(&quot;https://repo.opencollab.dev/main&quot;)\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compileOnly &quot;dev.jorel:commandapi-bukkit-core:9.0.1&quot;\r\n    compileOnly &quot;org.spigotmc:spigot-api:1.19.4-R0.1&quot;\r\n    compileOnly(&quot;org.geysermc.floodgate:api:2.2.2-SNAPSHOT&quot;)\r\n    compile &#39;org.json:json:20210307&#39;\r\n}\r\n\r\ndef targetJavaVersion = 17\r\njava {\r\n    def javaVersion = JavaVersion.toVersion(targetJavaVersion)\r\n    sourceCompatibility = javaVersion\r\n    targetCompatibility = javaVersion\r\n    if (JavaVersion.current() &lt; javaVersion) {\r\n        toolchain.languageVersion = JavaLanguageVersion.of(targetJavaVersion)\r\n    }\r\n}\r\n\r\ntasks.withType(JavaCompile).configureEach {\r\n    if (targetJavaVersion &gt;= 10 || JavaVersion.current().isJava10Compatible()) {\r\n        options.release = targetJavaVersion\r\n    }\r\n}\r\n\r\nprocessResources {\r\n    def props = [version: version]\r\n    inputs.properties props\r\n    filteringCharset &#39;UTF-8&#39;\r\n    filesMatching(&#39;plugin.yml&#39;) {\r\n        expand props\r\n    }\r\n}\r\n\r\n```","title":"Trying to use org.json library in java","body":"<p>im using gradle and trying to reload my plugin but i cant seem to get it to work.\nHere is the gradle file. when i click the reload button on gradle it gives this error:</p>\n<p>Failed to process the entry 'org/gradle/internal/impldep/com/amazonaws/services/kms/model/transform/CreateGrantRequestProtocolMarshaller.class' from '/Applications/IntelliJ IDEA CE.app/Contents/plugins/gradle/lib/gradle-api-impldep-8.0.jar'</p>\n<p>This is the build.gradle file</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup = 'org.centoricraft'\nversion = '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n    maven { url = &quot;https://repo.codemc.org/repository/maven-public/&quot; }\n    maven {\n        name = &quot;spigotmc-repo&quot;\n        url = &quot;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&quot;\n    }\n    maven {\n        name = &quot;sonatype&quot;\n        url = &quot;https://oss.sonatype.org/content/groups/public/&quot;\n    }\n    maven {\n        url = uri(&quot;https://repo.opencollab.dev/main&quot;)\n    }\n}\n\ndependencies {\n    compileOnly &quot;dev.jorel:commandapi-bukkit-core:9.0.1&quot;\n    compileOnly &quot;org.spigotmc:spigot-api:1.19.4-R0.1&quot;\n    compileOnly(&quot;org.geysermc.floodgate:api:2.2.2-SNAPSHOT&quot;)\n    compile 'org.json:json:20210307'\n}\n\ndef targetJavaVersion = 17\njava {\n    def javaVersion = JavaVersion.toVersion(targetJavaVersion)\n    sourceCompatibility = javaVersion\n    targetCompatibility = javaVersion\n    if (JavaVersion.current() &lt; javaVersion) {\n        toolchain.languageVersion = JavaLanguageVersion.of(targetJavaVersion)\n    }\n}\n\ntasks.withType(JavaCompile).configureEach {\n    if (targetJavaVersion &gt;= 10 || JavaVersion.current().isJava10Compatible()) {\n        options.release = targetJavaVersion\n    }\n}\n\nprocessResources {\n    def props = [version: version]\n    inputs.properties props\n    filteringCharset 'UTF-8'\n    filesMatching('plugin.yml') {\n        expand props\n    }\n}\n\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","jpa","mapping"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684311117,"creation_date":1684311117,"answer_id":76269887,"question_id":76269793,"body_markdown":"Assuming that this is Hibernate **6** (you have not stated), the annotation you&#39;re looking for is `@Generated`, and it&#39;s documented here:\r\n\r\n&lt;https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/Generated.html&gt;\r\n\r\nI also tweeted an example almost exactly like yours here:\r\n\r\n&lt;https://twitter.com/1ovthafew/status/1645796021585457153&gt;\r\n\r\nSo, something like:\r\n\r\n```java\r\n    \r\n@Entity\r\npublic class Entity {\r\n        \r\n    @Generated @Id\r\n    @ColumnDefault(&quot;gen_random_uuid()&quot;)\r\n    @Column(name = &quot;id_assignment&quot;)\r\n    UUID idAssignment;\r\n}\r\n```\r\n\r\nshould work.","title":"Java (JPA) and table column defaults","body":"<p>Assuming that this is Hibernate <strong>6</strong> (you have not stated), the annotation you're looking for is <code>@Generated</code>, and it's documented here:</p>\n<p><a href=\"https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/Generated.html\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/6.2/javadocs/org/hibernate/annotations/Generated.html</a></p>\n<p>I also tweeted an example almost exactly like yours here:</p>\n<p><a href=\"https://twitter.com/1ovthafew/status/1645796021585457153\" rel=\"nofollow noreferrer\">https://twitter.com/1ovthafew/status/1645796021585457153</a></p>\n<p>So, something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    \n@Entity\npublic class Entity {\n        \n    @Generated @Id\n    @ColumnDefault(&quot;gen_random_uuid()&quot;)\n    @Column(name = &quot;id_assignment&quot;)\n    UUID idAssignment;\n}\n</code></pre>\n<p>should work.</p>\n"},{"tags":[],"owner":{"account_id":8949179,"reputation":125,"user_id":6675764,"display_name":"JonahCui"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684311261,"creation_date":1684311261,"answer_id":76269904,"question_id":76269793,"body_markdown":"You should use the annotation `@GenerateValue` to let JPA not use the default generate strategy.\r\n\r\nThe documentation is here: https://www.baeldung.com/hibernate-identifiers","title":"Java (JPA) and table column defaults","body":"<p>You should use the annotation <code>@GenerateValue</code> to let JPA not use the default generate strategy.</p>\n<p>The documentation is here: <a href=\"https://www.baeldung.com/hibernate-identifiers\" rel=\"nofollow noreferrer\">https://www.baeldung.com/hibernate-identifiers</a></p>\n"}],"owner":{"account_id":21523921,"reputation":35,"user_id":15864561,"display_name":"Lubos Jansky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76269887,"answer_count":2,"score":1,"last_activity_date":1684311261,"creation_date":1684310458,"question_id":76269793,"body_markdown":"I would very much appreciate your advice on the JPA. We have a database (PostgreSQL engine), and for tables it happens that a column has its DEFAULT. The database is connected to a Java backend (with JPA and Hibernate). What is the correct way to force JPA not to try to insert IDs for the primary keys that are generated by the table column DEFAULT?\r\n\r\nI&#39;ve tried the settings below, but unfortunately I&#39;m having no luck:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/LeXto.png)](https://i.stack.imgur.com/LeXto.png)\r\n\r\nThank you in advance for any advice &#128578;\r\n\r\nI tried to search for a solution on the internet and in the documentation, but unfortunately, without success.","title":"Java (JPA) and table column defaults","body":"<p>I would very much appreciate your advice on the JPA. We have a database (PostgreSQL engine), and for tables it happens that a column has its DEFAULT. The database is connected to a Java backend (with JPA and Hibernate). What is the correct way to force JPA not to try to insert IDs for the primary keys that are generated by the table column DEFAULT?</p>\n<p>I've tried the settings below, but unfortunately I'm having no luck:</p>\n<p><a href=\"https://i.stack.imgur.com/LeXto.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LeXto.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you in advance for any advice 🙂</p>\n<p>I tried to search for a solution on the internet and in the documentation, but unfortunately, without success.</p>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3585451,"reputation":6335,"user_id":2992754,"display_name":"juanlumn"},"score":0,"creation_date":1684235194,"post_id":76262027,"comment_id":134484934,"body_markdown":"Does this answer your question? [org.hibernate.MappingException: Could not determine type for: java.util.List, at table: College, for columns: \\[org.hibernate.mapping.Column(students)\\]](https://stackoverflow.com/questions/3774198/org-hibernate-mappingexception-could-not-determine-type-for-java-util-list-at)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3774198/org-hibernate-mappingexception-could-not-determine-type-for-java-util-list-at\">org.hibernate.MappingException: Could not determine type for: java.util.List, at table: College, for columns: &#91;org.hibernate.mapping.Column(students)&#93;</a>"},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1684235826,"post_id":76262027,"comment_id":134485067,"body_markdown":"I already checked that but it did not resolve my issue.","body":"I already checked that but it did not resolve my issue."},{"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"score":0,"creation_date":1684245613,"post_id":76262027,"comment_id":134487693,"body_markdown":"You have not stated the version of Hibernate.","body":"You have not stated the version of Hibernate."},{"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"score":0,"creation_date":1684301249,"post_id":76262027,"comment_id":134496371,"body_markdown":"@GavinKing Hibernate version is 5.6","body":"@GavinKing Hibernate version is 5.6"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684310544,"creation_date":1684310544,"answer_id":76269804,"question_id":76262027,"body_markdown":"OK, so if you&#39;re using Hibernate 5, there&#39;s simply no built-in support for mapping JSON to `List`s and I&#39;m really not sure what gave you the impression that this would work. \r\n\r\nYou could, in principle, handle this yourself by writing a `UserType`. (It might even be possible to solve the problem using a JPA `AttributeConverter` but I can&#39;t be sure without trying it for myself.)\r\n\r\nNow, in Hibernate **6**, the situation is a *little* bit different, there actually is support for mapping some collections to JSON.\r\nFor example, the following *is* supported:\r\n\r\n```java\r\n@JdbcTypeCode(JSON)\r\nList&lt;String&gt; point;\r\n```\r\n\r\nHowever, as of Hibernate 6.2, the element type must be a basic type. There&#39;s not yet support for mapping, say `List&lt;KeyValue&gt;` where `KeyValue` is an embeddable type. I *do* expect that Christian or someone else will work on that *eventually*, but it is not there today.\r\n\r\nSo the short answer is that what you&#39;re trying to do isn&#39;t directly supported in any version of Hibernate, but that you should be able to make it work using a `UserType`.\r\n","title":"Hibernate mapping exception for List field","body":"<p>OK, so if you're using Hibernate 5, there's simply no built-in support for mapping JSON to <code>List</code>s and I'm really not sure what gave you the impression that this would work.</p>\n<p>You could, in principle, handle this yourself by writing a <code>UserType</code>. (It might even be possible to solve the problem using a JPA <code>AttributeConverter</code> but I can't be sure without trying it for myself.)</p>\n<p>Now, in Hibernate <strong>6</strong>, the situation is a <em>little</em> bit different, there actually is support for mapping some collections to JSON.\nFor example, the following <em>is</em> supported:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JdbcTypeCode(JSON)\nList&lt;String&gt; point;\n</code></pre>\n<p>However, as of Hibernate 6.2, the element type must be a basic type. There's not yet support for mapping, say <code>List&lt;KeyValue&gt;</code> where <code>KeyValue</code> is an embeddable type. I <em>do</em> expect that Christian or someone else will work on that <em>eventually</em>, but it is not there today.</p>\n<p>So the short answer is that what you're trying to do isn't directly supported in any version of Hibernate, but that you should be able to make it work using a <code>UserType</code>.</p>\n"}],"owner":{"account_id":11129218,"reputation":654,"user_id":8169680,"display_name":"Surya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684310544,"creation_date":1684233373,"question_id":76262027,"body_markdown":"I have an oracle table `MYTABLE` which has 3 columns as mentioned below. \r\n\r\n    |id | myclob_column | column3|\r\n    \r\nIt has one column (`myclob_column`) which is clob data (json). Sample clob data is below.\r\n\r\n    {\r\n    &quot;id&quot; : 10001\r\n    &quot;name&quot; : &quot;Rahul&quot;,\r\n    &quot;keyvalue&quot; : [ {&quot;key&quot; : &quot;100&quot;, &quot;value&quot; : &quot;A&quot;}, {&quot;key&quot; : &quot;200&quot;, &quot;value&quot; : &quot;B&quot;} .....]\r\n    }\r\n\r\nKeyValue is defined as a class in my project like below.\r\n\r\n    @Data\r\n    public class KeyValue {\r\n    \r\n     private String key;\r\n     private String value;\r\n    \r\n    }\r\n\r\nI am using `org.hibernate.annotations.Formula` annotations on `name` &amp; `keyvalue` field.\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;MYTABLE&quot;)\r\n    public class MyEntity {\r\n    \r\n    @Id\r\n    private String id;\r\n    \r\n    @Formula(&quot;JSON_VALUE(myclob_column, &#39;$.name&#39;)&quot;)\r\n    private String name;\r\n    \r\n    @Formula(&quot;JSON_VALUE(myclob_column, &#39;$.keyvalue[*]&#39;)&quot;)\r\n    private List&lt;KeyValue&gt; keyvalue;\r\n    \r\n    }\r\n\r\nWhile running the `Spring Boot` application, I am getting error for `keyvalue` field and application is not getting started for this.\r\n\r\n    org.hibernate.MappingException: Could not determine type for: java.util.List, at table: MYTABLE, for columns: [org.hibernate.mapping.Formula(JSON_VALUE(myclob_column, &#39;$.keyvalue[*]&#39;))]\r\n\r\nCan you please suggest what is the issue.","title":"Hibernate mapping exception for List field","body":"<p>I have an oracle table <code>MYTABLE</code> which has 3 columns as mentioned below.</p>\n<pre><code>|id | myclob_column | column3|\n</code></pre>\n<p>It has one column (<code>myclob_column</code>) which is clob data (json). Sample clob data is below.</p>\n<pre><code>{\n&quot;id&quot; : 10001\n&quot;name&quot; : &quot;Rahul&quot;,\n&quot;keyvalue&quot; : [ {&quot;key&quot; : &quot;100&quot;, &quot;value&quot; : &quot;A&quot;}, {&quot;key&quot; : &quot;200&quot;, &quot;value&quot; : &quot;B&quot;} .....]\n}\n</code></pre>\n<p>KeyValue is defined as a class in my project like below.</p>\n<pre><code>@Data\npublic class KeyValue {\n\n private String key;\n private String value;\n\n}\n</code></pre>\n<p>I am using <code>org.hibernate.annotations.Formula</code> annotations on <code>name</code> &amp; <code>keyvalue</code> field.</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;MYTABLE&quot;)\npublic class MyEntity {\n\n@Id\nprivate String id;\n\n@Formula(&quot;JSON_VALUE(myclob_column, '$.name')&quot;)\nprivate String name;\n\n@Formula(&quot;JSON_VALUE(myclob_column, '$.keyvalue[*]')&quot;)\nprivate List&lt;KeyValue&gt; keyvalue;\n\n}\n</code></pre>\n<p>While running the <code>Spring Boot</code> application, I am getting error for <code>keyvalue</code> field and application is not getting started for this.</p>\n<pre><code>org.hibernate.MappingException: Could not determine type for: java.util.List, at table: MYTABLE, for columns: [org.hibernate.mapping.Formula(JSON_VALUE(myclob_column, '$.keyvalue[*]'))]\n</code></pre>\n<p>Can you please suggest what is the issue.</p>\n"},{"tags":["java","android","json","retrofit"],"answers":[{"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684370425,"post_id":76269796,"comment_id":134510199,"body_markdown":"This isn&#39;t even the same coding language!","body":"This isn&#39;t even the same coding language!"},{"owner":{"account_id":21650143,"reputation":79,"user_id":15970906,"display_name":"tonebender"},"score":0,"creation_date":1684484119,"post_id":76269796,"comment_id":134527058,"body_markdown":"Oops, sorry! I misread the original post and thought you meant Javascript, but you actually wrote Java. The downvote was kind of well deserved, unfortunately.","body":"Oops, sorry! I misread the original post and thought you meant Javascript, but you actually wrote Java. The downvote was kind of well deserved, unfortunately."}],"tags":[],"owner":{"account_id":21650143,"reputation":79,"user_id":15970906,"display_name":"tonebender"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684310478,"creation_date":1684310478,"answer_id":76269796,"question_id":76269582,"body_markdown":"In plain Javascript, if you have the above JSON object as a JSON string in a variable called myJson, just use JSON.parse to convert it into a JS object:\r\n\r\n    let myObject = JSON.parse(myJson);\r\n\r\nIf the JSON object is not a string, but already a JS object, skip the above.\r\n\r\nThen simply access the properties of the object:\r\n\r\n    console.log(myObject.msg);  // &quot;Success&quot;\r\n    console.log(myObject.data.recipients[2]);  // &quot;Sent&quot;","title":"How to use json object that contains more json object","body":"<p>In plain Javascript, if you have the above JSON object as a JSON string in a variable called myJson, just use JSON.parse to convert it into a JS object:</p>\n<pre><code>let myObject = JSON.parse(myJson);\n</code></pre>\n<p>If the JSON object is not a string, but already a JS object, skip the above.</p>\n<p>Then simply access the properties of the object:</p>\n<pre><code>console.log(myObject.msg);  // &quot;Success&quot;\nconsole.log(myObject.data.recipients[2]);  // &quot;Sent&quot;\n</code></pre>\n"}],"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76269796,"answer_count":1,"score":-1,"last_activity_date":1684310478,"creation_date":1684308921,"question_id":76269582,"body_markdown":"I am new to the calling API. I am calling API using Retrofit in Java. Sometimes I get that type of object. \r\n\r\n```\r\n{\r\n  &quot;error&quot;: 0,\r\n  &quot;msg&quot;: &quot;Success&quot;,\r\n  &quot;data&quot;: {\r\n    &quot;request_id&quot;: 0000,\r\n    &quot;request_status&quot;: &quot;Complete&quot;,\r\n    &quot;request_charge&quot;: &quot;0.0000&quot;,\r\n    &quot;recipients&quot;: [\r\n      {\r\n        &quot;number&quot;: &quot;8801800000000&quot;,\r\n        &quot;charge&quot;: &quot;0.0000&quot;,\r\n        &quot;status&quot;: &quot;Sent&quot;\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nIn this JSON how can I use &quot;mag&quot;, the data object, and also use the recipients object. \r\n\r\nI need the string value of mag, request_status, number, and status.\r\n\r\nHow can I do this?\r\n","title":"How to use json object that contains more json object","body":"<p>I am new to the calling API. I am calling API using Retrofit in Java. Sometimes I get that type of object.</p>\n<pre><code>{\n  &quot;error&quot;: 0,\n  &quot;msg&quot;: &quot;Success&quot;,\n  &quot;data&quot;: {\n    &quot;request_id&quot;: 0000,\n    &quot;request_status&quot;: &quot;Complete&quot;,\n    &quot;request_charge&quot;: &quot;0.0000&quot;,\n    &quot;recipients&quot;: [\n      {\n        &quot;number&quot;: &quot;8801800000000&quot;,\n        &quot;charge&quot;: &quot;0.0000&quot;,\n        &quot;status&quot;: &quot;Sent&quot;\n      }\n    ]\n  }\n}\n</code></pre>\n<p>In this JSON how can I use &quot;mag&quot;, the data object, and also use the recipients object.</p>\n<p>I need the string value of mag, request_status, number, and status.</p>\n<p>How can I do this?</p>\n"},{"tags":["java","spring","api","model-view-controller","pagination"],"owner":{"account_id":6942934,"reputation":26,"user_id":5328569,"display_name":"Jonas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684310279,"creation_date":1684308925,"question_id":76269583,"body_markdown":"I have a Spring Boot project with Java. In the frontend I just use HTML, Bootstrap and Thymeleaf. There I created a searchbar, which I connected to a search controller. The data which are searched come from a private API.\r\n\r\nNow I want to display the found results not with a scrollbar but on multiple pages. For this I have also chosen a Bootstrap template and integrated it. (View) \r\n\r\nBut now I have to implement the backend, the model and the controller. And there is my problem: I am still quite new in Java Spring and therefore looking for a tutorial or an explanation how I have to implement this. I only find tutorials where the data comes from a database and not from an API.  In my API the data for paging looks like this:\r\n\r\n[![pagination_in_api](https://i.stack.imgur.com/5HO8P.jpg)](https://i.stack.imgur.com/5HO8P.jpg)\r\n\r\nI don&#39;t want a pre-chewed solution here, just an explanation and maybe an example, since as I said I can&#39;t find an example for this to follow. I don&#39;t have the slightest idea how to implement the controller to control the pagination so that when I click on the buttons &quot;First Page&quot;, &quot;Next Page&quot;, &quot;Last Page&quot; it jumps to them. \r\n\r\nDoes anyone have an example and an explanation how I can do it on my own? \r\n\r\nLooking forward to your answers\r\n\r\nTo solve the problem on my own I already searched for tutorials, went through Udemy course on Spring, asked ChatGPT.","title":"Spring Pagination from API","body":"<p>I have a Spring Boot project with Java. In the frontend I just use HTML, Bootstrap and Thymeleaf. There I created a searchbar, which I connected to a search controller. The data which are searched come from a private API.</p>\n<p>Now I want to display the found results not with a scrollbar but on multiple pages. For this I have also chosen a Bootstrap template and integrated it. (View)</p>\n<p>But now I have to implement the backend, the model and the controller. And there is my problem: I am still quite new in Java Spring and therefore looking for a tutorial or an explanation how I have to implement this. I only find tutorials where the data comes from a database and not from an API.  In my API the data for paging looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/5HO8P.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5HO8P.jpg\" alt=\"pagination_in_api\" /></a></p>\n<p>I don't want a pre-chewed solution here, just an explanation and maybe an example, since as I said I can't find an example for this to follow. I don't have the slightest idea how to implement the controller to control the pagination so that when I click on the buttons &quot;First Page&quot;, &quot;Next Page&quot;, &quot;Last Page&quot; it jumps to them.</p>\n<p>Does anyone have an example and an explanation how I can do it on my own?</p>\n<p>Looking forward to your answers</p>\n<p>To solve the problem on my own I already searched for tutorials, went through Udemy course on Spring, asked ChatGPT.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1508930126,"post_id":46930857,"comment_id":80808582,"body_markdown":"I think your best hope here would be to refactor the constructor `Foo` itself, and change it to one parameter.  If you&#39;re lucky, IntelliJ will prompt you at each change letting you alter the method calls.","body":"I think your best hope here would be to refactor the constructor <code>Foo</code> itself, and change it to one parameter.  If you&#39;re lucky, IntelliJ will prompt you at each change letting you alter the method calls."},{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":0,"creation_date":1508930194,"post_id":46930857,"comment_id":80808640,"body_markdown":"@TimBiegeleisen I just added a class Bar to make it clearer...","body":"@TimBiegeleisen I just added a class Bar to make it clearer..."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1508934043,"post_id":46930857,"comment_id":80811390,"body_markdown":"Are the parameters always consecutive and named similarly? I wonder if a string based regex find / replace, although perhaps a little hacky, could be the best solution here? Failing that I have written a simple plugin in the past to handle simple refactoring needs.","body":"Are the parameters always consecutive and named similarly? I wonder if a string based regex find / replace, although perhaps a little hacky, could be the best solution here? Failing that I have written a simple plugin in the past to handle simple refactoring needs."},{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":0,"creation_date":1508935324,"post_id":46930857,"comment_id":80812319,"body_markdown":"@vikingsteve Too hacky, I would like something that can be used in a complex codebase without much thinking. Structural replace can handle non-consecutive parameters just fine. A plugin would be ideal.","body":"@vikingsteve Too hacky, I would like something that can be used in a complex codebase without much thinking. Structural replace can handle non-consecutive parameters just fine. A plugin would be ideal."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1508935573,"post_id":46930857,"comment_id":80812518,"body_markdown":"The plugin is quite easy to write. You just need to add an action in the &quot;Refactoring&quot; menu, and then use the cursor position as a context (perhaps the constructor for `Boo`) - thereafter use refactoring operations to tranverse the AST and make the changes to the code.","body":"The plugin is quite easy to write. You just need to add an action in the &quot;Refactoring&quot; menu, and then use the cursor position as a context (perhaps the constructor for <code>Boo</code>) - thereafter use refactoring operations to tranverse the AST and make the changes to the code."},{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1508935607,"post_id":46930857,"comment_id":80812555,"body_markdown":"@Meo if you look on my github I have some plugin examples https://github.com/Steve-Murphy/","body":"@Meo if you look on my github I have some plugin examples <a href=\"https://github.com/Steve-Murphy/\" rel=\"nofollow noreferrer\">github.com/Steve-Murphy</a>"},{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":1,"creation_date":1508937013,"post_id":46930857,"comment_id":80813626,"body_markdown":"@vikingsteve oh I have some examples too :) https://github.com/krasa/translator-generator-intellij-plugin","body":"@vikingsteve oh I have some examples too :) <a href=\"https://github.com/krasa/translator-generator-intellij-plugin\" rel=\"nofollow noreferrer\">github.com/krasa/translator-generator-intellij-plugin</a>"}],"answers":[{"tags":[],"owner":{"account_id":7837371,"reputation":69,"user_id":5924894,"display_name":"danijax"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1508930481,"creation_date":1508930481,"answer_id":46931077,"question_id":46930857,"body_markdown":" 1. Go to the `Bar` class definition then right-click and select\r\n    refactor. \r\n 2. Select Change Signature\r\n 3. Remove the old parameters(-)\r\n 4. Add the new Parameter using the fully qualified name(+) ","title":"Refactor method/constructor parameters to insert the whole object in IntelliJ","body":"<ol>\n<li>Go to the <code>Bar</code> class definition then right-click and select\nrefactor. </li>\n<li>Select Change Signature</li>\n<li>Remove the old parameters(-)</li>\n<li>Add the new Parameter using the fully qualified name(+) </li>\n</ol>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1508931480,"creation_date":1508931480,"answer_id":46931452,"question_id":46930857,"body_markdown":"First, add overloads for the method/constructor you want:\r\n\r\n    public static void print(Foo foo) { ... }\r\n    public Bar(Foo foo) { ... }\r\n\r\nThen use structural search and replace (Edit &gt; Find &gt; Replace Structurally) to replace:\r\n\r\n    print($f$.getI(), $f$.getJ());\r\n\r\nwith\r\n\r\n    print($f$);\r\n\r\n(If necessary, constrain `$f$` to be of type `Foo` by clicking &quot;Edit Variables&quot;, pick `f` from the list, and set &quot;Expected Type (regexp)&quot; to &quot;Foo&quot;)\r\n\r\nSimilarly, replace:\r\n\r\n    new Bar($f$.getI(), $f$.getJ());\r\n\r\nwith\r\n\r\n    new Bar($f$);\r\n","title":"Refactor method/constructor parameters to insert the whole object in IntelliJ","body":"<p>First, add overloads for the method/constructor you want:</p>\n\n<pre><code>public static void print(Foo foo) { ... }\npublic Bar(Foo foo) { ... }\n</code></pre>\n\n<p>Then use structural search and replace (Edit > Find > Replace Structurally) to replace:</p>\n\n<pre><code>print($f$.getI(), $f$.getJ());\n</code></pre>\n\n<p>with</p>\n\n<pre><code>print($f$);\n</code></pre>\n\n<p>(If necessary, constrain <code>$f$</code> to be of type <code>Foo</code> by clicking \"Edit Variables\", pick <code>f</code> from the list, and set \"Expected Type (regexp)\" to \"Foo\")</p>\n\n<p>Similarly, replace:</p>\n\n<pre><code>new Bar($f$.getI(), $f$.getJ());\n</code></pre>\n\n<p>with</p>\n\n<pre><code>new Bar($f$);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"score":0,"creation_date":1684503827,"post_id":76269760,"comment_id":134531021,"body_markdown":"This works for methods, not constructors. But yes, this is the right way for methods, which was half of the question.","body":"This works for methods, not constructors. But yes, this is the right way for methods, which was half of the question."}],"tags":[],"owner":{"account_id":4313623,"reputation":21,"user_id":3524116,"display_name":"JinoBetti"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684310228,"creation_date":1684310228,"answer_id":76269760,"question_id":46930857,"body_markdown":"First extract a method with **Ctrl+Alt+M** with just the call to `print(input.getI(), input.getJ());`\r\n\r\nIntelliJ will extract the method with the whole object as `print(Foo foo)`\r\n\r\nThen inline the old `public static void print(int i, int j)` method with **Ctrl+Alt+N**","title":"Refactor method/constructor parameters to insert the whole object in IntelliJ","body":"<p>First extract a method with <strong>Ctrl+Alt+M</strong> with just the call to <code>print(input.getI(), input.getJ());</code></p>\n<p>IntelliJ will extract the method with the whole object as <code>print(Foo foo)</code></p>\n<p>Then inline the old <code>public static void print(int i, int j)</code> method with <strong>Ctrl+Alt+N</strong></p>\n"}],"owner":{"account_id":350114,"reputation":12129,"user_id":685796,"display_name":"Meo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":46931452,"answer_count":3,"score":4,"last_activity_date":1684310228,"creation_date":1508929831,"question_id":46930857,"body_markdown":"I want to refactor the code so that the whole object `input` is passed as a parameter instead of its parts `input.getI(), input.getJ()`.\r\n\r\nI could easily do the opposite with `Extract Parameter` action, but how do I refactor it like this across the code base, in IntelliJ?\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tFoo input = new Foo(0, 1);\r\n\t\t\r\n\t\t//What I have:\r\n\t\tnew Bar(input.getI(), input.getJ());\r\n\t\tprint(input.getI(), input.getJ());\r\n\r\n\t\t//What I want: \r\n\t\t//new Bar(input);\r\n\t\t//print(input);\r\n\t}\r\n\r\n\tpublic static void print(int i, int j) {\r\n\t\tSystem.out.println(i + j);\r\n\t}\r\n\r\n\tpublic static class Foo {\r\n\t\tprivate int i;\r\n\t\tprivate int j;\r\n\r\n\t\tpublic Foo(int i, int j) {\r\n\t\t\tthis.i = i;\r\n\t\t\tthis.j = j;\r\n\t\t}\r\n\r\n\t\tpublic int getI() {\r\n\t\t\treturn i;\r\n\t\t}\r\n\r\n\t\tpublic int getJ() {\r\n\t\t\treturn j;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static class Bar {\r\n\t\tprivate int i;\r\n\t\tprivate int j;\r\n\r\n\t\tpublic Bar(int i, int j) {\r\n\t\t\tthis.i = i;\r\n\t\t\tthis.j = j;\r\n\t\t}\r\n\t}\r\n","title":"Refactor method/constructor parameters to insert the whole object in IntelliJ","body":"<p>I want to refactor the code so that the whole object <code>input</code> is passed as a parameter instead of its parts <code>input.getI(), input.getJ()</code>.</p>\n\n<p>I could easily do the opposite with <code>Extract Parameter</code> action, but how do I refactor it like this across the code base, in IntelliJ?</p>\n\n<pre><code>public static void main(String[] args) {\n    Foo input = new Foo(0, 1);\n\n    //What I have:\n    new Bar(input.getI(), input.getJ());\n    print(input.getI(), input.getJ());\n\n    //What I want: \n    //new Bar(input);\n    //print(input);\n}\n\npublic static void print(int i, int j) {\n    System.out.println(i + j);\n}\n\npublic static class Foo {\n    private int i;\n    private int j;\n\n    public Foo(int i, int j) {\n        this.i = i;\n        this.j = j;\n    }\n\n    public int getI() {\n        return i;\n    }\n\n    public int getJ() {\n        return j;\n    }\n}\n\npublic static class Bar {\n    private int i;\n    private int j;\n\n    public Bar(int i, int j) {\n        this.i = i;\n        this.j = j;\n    }\n}\n</code></pre>\n"},{"tags":["java","networking","netty"],"answers":[{"comments":[{"owner":{"account_id":4441449,"reputation":21,"user_id":3615911,"display_name":"user3615911"},"score":0,"creation_date":1399560562,"post_id":23540068,"comment_id":36123283,"body_markdown":"Thanks for the response. I tried a lot of options, but nothing helps me. Maybe I&#39;m doing something wrong? Please show me the correct source code.","body":"Thanks for the response. I tried a lot of options, but nothing helps me. Maybe I&#39;m doing something wrong? Please show me the correct source code."},{"owner":{"account_id":4441449,"reputation":21,"user_id":3615911,"display_name":"user3615911"},"score":0,"creation_date":1399562689,"post_id":23540068,"comment_id":36124854,"body_markdown":"finally {\n       bb.release();\n      }","body":"finally {        bb.release();       }"},{"owner":{"account_id":4441449,"reputation":21,"user_id":3615911,"display_name":"user3615911"},"score":0,"creation_date":1399562736,"post_id":23540068,"comment_id":36124884,"body_markdown":"finally { bb.release(); }  that is all?","body":"finally { bb.release(); }  that is all?"}],"tags":[],"owner":{"account_id":4331267,"reputation":1459,"user_id":3536729,"display_name":"stridecolossus"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1399547387,"creation_date":1399547387,"answer_id":23540068,"question_id":23539854,"body_markdown":"You need to call `release` on the `ByteBuf` rather than `clear` in your `finally` block, otherwise the reference counted buffer is not de-allocated properly.","title":"LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>You need to call <code>release</code> on the <code>ByteBuf</code> rather than <code>clear</code> in your <code>finally</code> block, otherwise the reference counted buffer is not de-allocated properly.</p>\n"},{"tags":[],"owner":{"account_id":3033140,"reputation":819,"user_id":2571759,"accept_rate":73,"display_name":"Imran khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600385716,"creation_date":1600385716,"answer_id":63947398,"question_id":23539854,"body_markdown":"If you are using **DataBuffer** you might get the same error. Spring has **DataBufferUtils** library to release the resource. \r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBufferUtils.html\r\n\r\n\r\n    import org.springframework.core.io.buffer.DataBufferUtils;\r\n    \r\n    DataBufferUtils.release(dataBuffer);\r\n\r\n","title":"LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>If you are using <strong>DataBuffer</strong> you might get the same error. Spring has <strong>DataBufferUtils</strong> library to release the resource.</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBufferUtils.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/buffer/DataBufferUtils.html</a></p>\n<pre><code>import org.springframework.core.io.buffer.DataBufferUtils;\n\nDataBufferUtils.release(dataBuffer);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684310170,"creation_date":1684309622,"answer_id":76269675,"question_id":23539854,"body_markdown":"Add below code in finally block-\r\n\r\n    finally {\r\n    \tif(bb!= null) {\r\n    \t\tbb.clear();\r\n    \t\tbb.release();\r\n    \t}\r\n    }\r\n\r\nAlso override method &#39;channelReadComplete&#39; to release buffer whose reference count is 0.\r\n\r\n    @Override\r\n    public void channelReadComplete(ChannelHandlerContext ctx) {\r\n    \tctx.flush();\r\n    }\r\n\r\n - **bb.clear()**: reset reader as well as writter index at 0; which netty will flush itself as ByteBuf manages it well.\r\n - **bb.release()**: decrease reference count by 1 and make available for release if reference count becomes 0.\r\n\r\nMemory leak may cause your application in **OutOfDirectMemoryError** because buffer  uses space in Direct Memory instead of Heap.\r\n\r\n**Note**: If you do not call bb.release() then application must be warning you in service log which is a memory leak and application may face error in future like- \r\n\r\n \r\n\r\n*failed to allocate 123 byte(s) of direct memory (used: 234, max: 345)*","title":"LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>Add below code in finally block-</p>\n<pre><code>finally {\n    if(bb!= null) {\n        bb.clear();\n        bb.release();\n    }\n}\n</code></pre>\n<p>Also override method 'channelReadComplete' to release buffer whose reference count is 0.</p>\n<pre><code>@Override\npublic void channelReadComplete(ChannelHandlerContext ctx) {\n    ctx.flush();\n}\n</code></pre>\n<ul>\n<li><strong>bb.clear()</strong>: reset reader as well as writter index at 0; which netty will flush itself as ByteBuf manages it well.</li>\n<li><strong>bb.release()</strong>: decrease reference count by 1 and make available for release if reference count becomes 0.</li>\n</ul>\n<p>Memory leak may cause your application in <strong>OutOfDirectMemoryError</strong> because buffer  uses space in Direct Memory instead of Heap.</p>\n<p><strong>Note</strong>: If you do not call bb.release() then application must be warning you in service log which is a memory leak and application may face error in future like-</p>\n<p><em>failed to allocate 123 byte(s) of direct memory (used: 234, max: 345)</em></p>\n"}],"owner":{"account_id":4441449,"reputation":21,"user_id":3615911,"display_name":"user3615911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22082,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1684310170,"creation_date":1399546814,"question_id":23539854,"body_markdown":"This is my server side code. this code read udp traffic with the help of netty. But, sometimes I have an error.... I can&#39;t fix it.... It is very sorrow...     \r\n\r\n    @Override\r\n         protected void channelRead0(ChannelHandlerContext ctx, DatagramPacket msg) throws Exception {\r\n          ByteBuf bb = msg.content();\r\n          RoomController roomController = RoomController.getInstance();\r\n          try\r\n          {\r\n           int opcode = bb.readUnsignedByte();\r\n           byte slot = bb.readByte();\r\n           byte[] ignore = new byte[8];\r\n           bb.readBytes(ignore);\r\n           int accountId = bb.readUnsignedByte();\r\n           switch(opcode)\r\n            {\r\n             case 65: {\r\n              log.info(&quot;Try connect player &quot; + msg.sender().getAddress() + &quot;:&quot; + msg.sender().getPort());\r\n              Player player = roomController.getPlayer(msg.sender().getAddress());\r\n              if(player != null) {\r\n               ByteBuffer _buffer = new ByteBuffer();\r\n               _buffer.writeC((byte) 66);\r\n               _buffer.writeC((byte) 0);\r\n               _buffer.writeB(new byte[5]);\r\n               _buffer.writeC((byte) 0x0b);\r\n               _buffer.writeB(new byte[3]);\r\n               player.playerPort = msg.sender().getPort();\r\n               log.info(&quot;Send accept data! &quot; + msg.sender().getAddress().toString() + &quot;:&quot; + msg.sender().getPort());\r\n               ctx.writeAndFlush(new DatagramPacket(Unpooled.copiedBuffer(_buffer.getData(), 0, _buffer.getData().length), msg.sender()));\r\n              }\r\n              break;\r\n             }\r\n             //case (byte) 131:\r\n             //case (byte) 132:\r\n             //case 84:\r\n             //case 97:\r\n             case 131:\r\n             case 132:\r\n             case 4:\r\n             case 3: {\r\n              Player player = roomController.getPlayer(msg.sender().getAddress());\r\n              if(player != null) {\r\n               if(player.isActive) {\r\n                if(player.isHost) {\r\n                 for(Player players : roomController.getPlayersForIP(player.roomID).values()) {\r\n                  if(!players.isHost &amp;&amp; players.playerPort &gt; 0) {\r\n                   ctx.writeAndFlush(new PBUDPServerPacket(opcode, Unpooled.copiedBuffer(msg.content()), new InetSocketAddress(players.playerIP, players.playerPort), (byte)slot, ignore, accountId).getPacket());\r\n                  }\r\n                 }\r\n                } else {\r\n                 Player host = roomController.getHostForIP(player.roomID);\r\n                 if(host.playerPort &gt; 0) {\r\n                  ctx.writeAndFlush(new PBUDPServerPacket(opcode, Unpooled.copiedBuffer(msg.content()), new InetSocketAddress(host.playerIP, host.playerPort), (byte)slot, ignore, accountId).getPacket());\r\n                 }\r\n                }\r\n               }\r\n              }\r\n              break;\r\n             }\r\n             case 97: {\r\n              log.info(&quot;opcode: &quot; + opcode + &quot; sender: &quot; + msg.sender().getAddress().getHostAddress());\r\n              ctx.writeAndFlush(new PBUDPServerPacket(opcode, Unpooled.copiedBuffer(msg.content()), new InetSocketAddress(msg.sender().getAddress(), msg.sender().getPort()), (byte)slot, ignore, accountId).getPacket());\r\n              break;\r\n             }\r\n             case 67: {\r\n              log.info(&quot;try remove player &quot; + msg.sender().getAddress().toString());\r\n              RoomController.getInstance().removePlayer(msg.sender().getAddress());\r\n              break;\r\n             }\r\n             default: {\r\n              log.warn(&quot;unknown opcode: &quot; + opcode);\r\n             }\r\n         \r\n            }\r\n           }\r\n          catch(Exception e) {\r\n           log.error(e.toString());\r\n          }\r\n          finally {\r\n           bb.clear();\r\n          }\r\n         }\r\nERROR:\r\n\r\n    [18:16:46|ERROR|nioEventLoopGroup-2-1 |io.netty.util.ResourceLeakDetector             ] LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected.\r\n\r\nHow to fix an error?? It is very important for me.\r\n\r\nSTACKTRACE:\r\n\r\n    [17:14:59|ERROR|nioEventLoopGroup-2-1 |io.netty.util.ResourceLeakDetector             ] LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected.\r\n    Recent access records: 1\r\n    #1:\r\n     io.netty.buffer.AdvancedLeakAwareByteBuf.writeBytes(AdvancedLeakAwareByteBuf.java:559)\r\n     io.netty.buffer.Unpooled.copiedBuffer(Unpooled.java:421)\r\n     ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:89)\r\n     ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:42)\r\n     io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:103)\r\n     io.netty.channel.DefaultChannelHandlerContext.invokeChannelRead(DefaultChannelHandlerContext.java:338)\r\n     io.netty.channel.DefaultChannelHandlerContext.fireChannelRead(DefaultChannelHandlerContext.java:324)\r\n     io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:785)\r\n     io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:93)\r\n     io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:485)\r\n     io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:452)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:346)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:101)\r\n     java.lang.Thread.run(Thread.java:744)\r\n    Created at:\r\n     io.netty.util.ResourceLeakDetector.open(ResourceLeakDetector.java:190)\r\n     io.netty.buffer.AbstractByteBufAllocator.toLeakAwareBuffer(AbstractByteBufAllocator.java:42)\r\n     io.netty.buffer.UnpooledByteBufAllocator.newDirectBuffer(UnpooledByteBufAllocator.java:55)\r\n     io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:155)\r\n     io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:146)\r\n     io.netty.buffer.Unpooled.directBuffer(Unpooled.java:127)\r\n     io.netty.buffer.Unpooled.copiedBuffer(Unpooled.java:417)\r\n     ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:89)\r\n     ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:42)\r\n     io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:103)\r\n     io.netty.channel.DefaultChannelHandlerContext.invokeChannelRead(DefaultChannelHandlerContext.java:338)\r\n     io.netty.channel.DefaultChannelHandlerContext.fireChannelRead(DefaultChannelHandlerContext.java:324)\r\n     io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:785)\r\n     io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:93)\r\n     io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:485)\r\n     io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:452)\r\n     io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:346)\r\n     io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:101)\r\n     java.lang.Thread.run(Thread.java:744)\r\n\r\n======================PBUDPServerPacket\r\n\r\n    public class PBUDPServerPacket {\r\n    \tprivate ByteBuf buff;\r\n    \tprivate InetSocketAddress addr;\r\n    \r\n    \tpublic PBUDPServerPacket(int opcode, ByteBuf data, InetSocketAddress recipient, byte slot, byte[] ignore, int accountId) {\r\n    \t\tbuff = Unpooled.buffer().order(ByteOrder.LITTLE_ENDIAN);\r\n    \t\tbuff.writeByte(opcode);\r\n    \t\tbuff.writeByte(slot);\r\n    \t\tbuff.writeBytes(ignore);\r\n    \t\tbuff.writeByte(accountId);\r\n    \t\tbuff.writeBytes(data);\r\n    \t\taddr = recipient;\r\n    \t}\r\n    \r\n    \tpublic DatagramPacket getPacket() {\r\n    \t\treturn new DatagramPacket(buff, addr);\r\n    \t}\r\n    }","title":"LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>This is my server side code. this code read udp traffic with the help of netty. But, sometimes I have an error.... I can't fix it.... It is very sorrow...     </p>\n\n<pre><code>@Override\n     protected void channelRead0(ChannelHandlerContext ctx, DatagramPacket msg) throws Exception {\n      ByteBuf bb = msg.content();\n      RoomController roomController = RoomController.getInstance();\n      try\n      {\n       int opcode = bb.readUnsignedByte();\n       byte slot = bb.readByte();\n       byte[] ignore = new byte[8];\n       bb.readBytes(ignore);\n       int accountId = bb.readUnsignedByte();\n       switch(opcode)\n        {\n         case 65: {\n          log.info(\"Try connect player \" + msg.sender().getAddress() + \":\" + msg.sender().getPort());\n          Player player = roomController.getPlayer(msg.sender().getAddress());\n          if(player != null) {\n           ByteBuffer _buffer = new ByteBuffer();\n           _buffer.writeC((byte) 66);\n           _buffer.writeC((byte) 0);\n           _buffer.writeB(new byte[5]);\n           _buffer.writeC((byte) 0x0b);\n           _buffer.writeB(new byte[3]);\n           player.playerPort = msg.sender().getPort();\n           log.info(\"Send accept data! \" + msg.sender().getAddress().toString() + \":\" + msg.sender().getPort());\n           ctx.writeAndFlush(new DatagramPacket(Unpooled.copiedBuffer(_buffer.getData(), 0, _buffer.getData().length), msg.sender()));\n          }\n          break;\n         }\n         //case (byte) 131:\n         //case (byte) 132:\n         //case 84:\n         //case 97:\n         case 131:\n         case 132:\n         case 4:\n         case 3: {\n          Player player = roomController.getPlayer(msg.sender().getAddress());\n          if(player != null) {\n           if(player.isActive) {\n            if(player.isHost) {\n             for(Player players : roomController.getPlayersForIP(player.roomID).values()) {\n              if(!players.isHost &amp;&amp; players.playerPort &gt; 0) {\n               ctx.writeAndFlush(new PBUDPServerPacket(opcode, Unpooled.copiedBuffer(msg.content()), new InetSocketAddress(players.playerIP, players.playerPort), (byte)slot, ignore, accountId).getPacket());\n              }\n             }\n            } else {\n             Player host = roomController.getHostForIP(player.roomID);\n             if(host.playerPort &gt; 0) {\n              ctx.writeAndFlush(new PBUDPServerPacket(opcode, Unpooled.copiedBuffer(msg.content()), new InetSocketAddress(host.playerIP, host.playerPort), (byte)slot, ignore, accountId).getPacket());\n             }\n            }\n           }\n          }\n          break;\n         }\n         case 97: {\n          log.info(\"opcode: \" + opcode + \" sender: \" + msg.sender().getAddress().getHostAddress());\n          ctx.writeAndFlush(new PBUDPServerPacket(opcode, Unpooled.copiedBuffer(msg.content()), new InetSocketAddress(msg.sender().getAddress(), msg.sender().getPort()), (byte)slot, ignore, accountId).getPacket());\n          break;\n         }\n         case 67: {\n          log.info(\"try remove player \" + msg.sender().getAddress().toString());\n          RoomController.getInstance().removePlayer(msg.sender().getAddress());\n          break;\n         }\n         default: {\n          log.warn(\"unknown opcode: \" + opcode);\n         }\n\n        }\n       }\n      catch(Exception e) {\n       log.error(e.toString());\n      }\n      finally {\n       bb.clear();\n      }\n     }\n</code></pre>\n\n<p>ERROR:</p>\n\n<pre><code>[18:16:46|ERROR|nioEventLoopGroup-2-1 |io.netty.util.ResourceLeakDetector             ] LEAK: ByteBuf.release() was not called before it's garbage-collected.\n</code></pre>\n\n<p>How to fix an error?? It is very important for me.</p>\n\n<p>STACKTRACE:</p>\n\n<pre><code>[17:14:59|ERROR|nioEventLoopGroup-2-1 |io.netty.util.ResourceLeakDetector             ] LEAK: ByteBuf.release() was not called before it's garbage-collected.\nRecent access records: 1\n#1:\n io.netty.buffer.AdvancedLeakAwareByteBuf.writeBytes(AdvancedLeakAwareByteBuf.java:559)\n io.netty.buffer.Unpooled.copiedBuffer(Unpooled.java:421)\n ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:89)\n ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:42)\n io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:103)\n io.netty.channel.DefaultChannelHandlerContext.invokeChannelRead(DefaultChannelHandlerContext.java:338)\n io.netty.channel.DefaultChannelHandlerContext.fireChannelRead(DefaultChannelHandlerContext.java:324)\n io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:785)\n io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:93)\n io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:485)\n io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:452)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:346)\n io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:101)\n java.lang.Thread.run(Thread.java:744)\nCreated at:\n io.netty.util.ResourceLeakDetector.open(ResourceLeakDetector.java:190)\n io.netty.buffer.AbstractByteBufAllocator.toLeakAwareBuffer(AbstractByteBufAllocator.java:42)\n io.netty.buffer.UnpooledByteBufAllocator.newDirectBuffer(UnpooledByteBufAllocator.java:55)\n io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:155)\n io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:146)\n io.netty.buffer.Unpooled.directBuffer(Unpooled.java:127)\n io.netty.buffer.Unpooled.copiedBuffer(Unpooled.java:417)\n ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:89)\n ru.pb.battle.network.client.BattleClientConnection.channelRead0(BattleClientConnection.java:42)\n io.netty.channel.SimpleChannelInboundHandler.channelRead(SimpleChannelInboundHandler.java:103)\n io.netty.channel.DefaultChannelHandlerContext.invokeChannelRead(DefaultChannelHandlerContext.java:338)\n io.netty.channel.DefaultChannelHandlerContext.fireChannelRead(DefaultChannelHandlerContext.java:324)\n io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:785)\n io.netty.channel.nio.AbstractNioMessageChannel$NioMessageUnsafe.read(AbstractNioMessageChannel.java:93)\n io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:485)\n io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:452)\n io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:346)\n io.netty.util.concurrent.SingleThreadEventExecutor$2.run(SingleThreadEventExecutor.java:101)\n java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>======================PBUDPServerPacket</p>\n\n<pre><code>public class PBUDPServerPacket {\n    private ByteBuf buff;\n    private InetSocketAddress addr;\n\n    public PBUDPServerPacket(int opcode, ByteBuf data, InetSocketAddress recipient, byte slot, byte[] ignore, int accountId) {\n        buff = Unpooled.buffer().order(ByteOrder.LITTLE_ENDIAN);\n        buff.writeByte(opcode);\n        buff.writeByte(slot);\n        buff.writeBytes(ignore);\n        buff.writeByte(accountId);\n        buff.writeBytes(data);\n        addr = recipient;\n    }\n\n    public DatagramPacket getPacket() {\n        return new DatagramPacket(buff, addr);\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-spark","parquet","delta-lake"],"comments":[{"owner":{"account_id":1740772,"reputation":1764,"user_id":1592247,"accept_rate":100,"display_name":"meysam"},"score":0,"creation_date":1684051170,"post_id":76244764,"comment_id":134457771,"body_markdown":"Welcome to SO! Could you please give it a try to see https://docs.delta.io/latest/delta-standalone.html#maven","body":"Welcome to SO! Could you please give it a try to see <a href=\"https://docs.delta.io/latest/delta-standalone.html#maven\" rel=\"nofollow noreferrer\">docs.delta.io/latest/delta-standalone.html#maven</a>"}],"answers":[{"tags":[],"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684056019,"creation_date":1684056019,"answer_id":76246709,"question_id":76244764,"body_markdown":"You&#39;re mixing up different Scala versions - you&#39;re using libraries compiled for Scala 2.13 (the `_2.13` suffix) with the Scala 2.12 (the `2.12.17`) version.  You also need to check for which Scala version the Apache Spark distribution is compiled. \r\n\r\nP.S. You also don&#39;t need `delta-iceberg` dependency to convert from Parquet to Delta format.","title":"How to use Java app to convert parquet dataset to delta","body":"<p>You're mixing up different Scala versions - you're using libraries compiled for Scala 2.13 (the <code>_2.13</code> suffix) with the Scala 2.12 (the <code>2.12.17</code>) version.  You also need to check for which Scala version the Apache Spark distribution is compiled.</p>\n<p>P.S. You also don't need <code>delta-iceberg</code> dependency to convert from Parquet to Delta format.</p>\n"},{"tags":[],"owner":{"account_id":1369786,"reputation":73221,"user_id":1305344,"accept_rate":70,"display_name":"Jacek Laskowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684309927,"creation_date":1684309927,"answer_id":76269718,"question_id":76244764,"body_markdown":"# Create Parquet Dataset\r\n\r\nYours was `/Users/hokage/Downloads/python-paraquet`, but let&#39;s use `/tmp/parquet-dataset` if you don&#39;t mind &#128521;\r\n\r\nLet&#39;s open `spark-shell` and write some Scala. This is only to create a parquet table (dataset).\r\n\r\n```scala\r\nval parquetTableDir = &quot;/tmp/parquet-dataset&quot;\r\n```\r\n\r\n```scala\r\nspark\r\n  .range(5)\r\n  .write\r\n  .format(&quot;parquet&quot;)\r\n  .save(parquetTableDir)\r\n```\r\n\r\n```shell\r\n$ ls -l /tmp/parquet-dataset\r\ntotal 48\r\n-rw-r--r--@ 1 jacek  wheel    0 May 17 09:32 _SUCCESS\r\n-rw-r--r--@ 1 jacek  wheel  297 May 17 09:32 part-00000-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\r\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00002-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\r\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00004-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\r\n-rw-r--r--@ 1 jacek  wheel  471 May 17 09:32 part-00007-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\r\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00009-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\r\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00011-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\r\n```\r\n\r\n## Java Project (Maven)\r\n\r\nI used IntelliJ IDEA to create a Java project with Maven. It&#39;s been a while since I&#39;ve done it! &#128522;\r\n\r\n### pom.xml\r\n\r\nMind all the dependencies and their versions. They have to match and important things are:\r\n\r\n1. The version of Scala (Delta Lake and Apache Spark deps)\r\n2. [Delta Lake 2.3.0 supports Spark 3.3][1]\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;delta-convert&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.delta&lt;/groupId&gt;\r\n            &lt;artifactId&gt;delta-core_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## Java Application\r\n\r\n```java\r\npackage so;\r\n\r\nimport io.delta.tables.DeltaTable;\r\nimport org.apache.spark.sql.SparkSession;\r\n\r\npublic class DeltaConvert {\r\n\r\n    public static void main(String[] args) {\r\n        SparkSession spark = SparkSession\r\n                .builder()\r\n                .appName(&quot;Solo-spark&quot;)\r\n                .master(&quot;local[*]&quot;) // Use the star instead\r\n                // the following configs are required for Delta Lake to run on Spark\r\n                .config(&quot;spark.sql.extensions&quot;, &quot;io.delta.sql.DeltaSparkSessionExtension&quot;)\r\n                .config(&quot;spark.sql.catalog.spark_catalog&quot;, &quot;org.apache.spark.sql.delta.catalog.DeltaCatalog&quot;)\r\n                .getOrCreate();\r\n\r\n        DeltaTable\r\n                .convertToDelta(spark,&quot;parquet.`/tmp/parquet-dataset`&quot;);\r\n\r\n    }\r\n}\r\n```\r\n\r\n## Show Time &#127881;\r\n\r\nExecute the Java app and you should see tons of INFO messages in the console (standard output). Among the lines you should find the following:\r\n\r\n```text\r\n23/05/17 09:41:19 INFO SparkContext: Running Spark version 3.3.2\r\n...\r\n23/05/17 09:41:22 INFO DelegatingLogStore: LogStore `LogStoreAdapter(io.delta.storage.HDFSLogStore)` is used for scheme `file`\r\n23/05/17 09:41:22 INFO DeltaLog: Creating initial snapshot without metadata, because the directory is empty\r\n23/05/17 09:41:24 INFO InitialSnapshot: [tableId=b071541b-9864-4a06-a8d5-d45690ab1a26] Created snapshot InitialSnapshot(path=file:/tmp/parquet-dataset/_delta_log, version=-1, metadata=Metadata(2876805c-dde3-4d69-96a2-d2c3ad3c81e7,null,null,Format(parquet,Map()),null,List(),Map(),Some(1684309284165)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,-1,List(),List(),None,-1), checksumOpt=None)\r\n23/05/17 09:41:24 INFO DeltaLog: No delta log found for the Delta table at file:/tmp/parquet-dataset/_delta_log\r\n23/05/17 09:41:24 INFO InitialSnapshot: [tableId=2876805c-dde3-4d69-96a2-d2c3ad3c81e7] Created snapshot InitialSnapshot(path=file:/tmp/parquet-dataset/_delta_log, version=-1, metadata=Metadata(29ac2dc9-a37b-47cd-9aec-45090056afcc,null,null,Format(parquet,Map()),null,List(),Map(),Some(1684309284204)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,-1,List(),List(),None,-1), checksumOpt=None)\r\n...\r\n23/05/17 09:41:26 INFO DeltaFileOperations: Listing file:/tmp/parquet-dataset\r\n23/05/17 09:41:26 INFO DelegatingLogStore: LogStore `LogStoreAdapter(io.delta.storage.HDFSLogStore)` is used for scheme `file`\r\n...\r\n23/05/17 09:41:41 INFO FileScanRDD: Reading File path: file:///tmp/parquet-dataset/_delta_log/00000000000000000000.checkpoint.parquet, range: 0-13899, partition values: [empty row]\r\n...\r\n23/05/17 09:41:41 INFO Snapshot: [tableId=11d76ddd-3035-47b5-9dfe-f7e14de9ef71] Created snapshot Snapshot(path=file:/tmp/parquet-dataset/_delta_log, version=0, metadata=Metadata(11d76ddd-3035-47b5-9dfe-f7e14de9ef71,null,null,Format(parquet,Map()),{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;id&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},List(),Map(),Some(1684309287681)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,0,ArraySeq(),ArraySeq(DeprecatedRawLocalFileStatus{path=file:/tmp/parquet-dataset/_delta_log/00000000000000000000.checkpoint.parquet; isDirectory=false; length=13899; replication=1; blocksize=33554432; modification_time=1684309298044; access_time=1684309297927; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}),Some(0),1684309291045), checksumOpt=None)\r\n23/05/17 09:41:41 INFO DeltaLog: Updated snapshot to Snapshot(path=file:/tmp/parquet-dataset/_delta_log, version=0, metadata=Metadata(11d76ddd-3035-47b5-9dfe-f7e14de9ef71,null,null,Format(parquet,Map()),{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;id&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},List(),Map(),Some(1684309287681)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,0,ArraySeq(),ArraySeq(DeprecatedRawLocalFileStatus{path=file:/tmp/parquet-dataset/_delta_log/00000000000000000000.checkpoint.parquet; isDirectory=false; length=13899; replication=1; blocksize=33554432; modification_time=1684309298044; access_time=1684309297927; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}),Some(0),1684309291045), checksumOpt=None)\r\n...\r\n```\r\n\r\n### PySpark\r\n\r\nUse `pyspark` (with Delta Lake &quot;installed&quot;) to access the delta table.\r\n\r\n```shell\r\n$ ./bin/pyspark \\\r\n  --packages io.delta:delta-core_2.12:2.3.0 \\\r\n  --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\r\n  --conf spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog\r\nWelcome to\r\n      ____              __\r\n     / __/__  ___ _____/ /__\r\n    _\\ \\/ _ \\/ _ `/ __/  &#39;_/\r\n   /__ / .__/\\_,_/_/ /_/\\_\\   version 3.3.2\r\n      /_/\r\n\r\nUsing Python version 3.10.11 (main, May 10 2023 19:07:22)\r\nSpark context Web UI available at http://192.168.68.101:4040\r\nSpark context available as &#39;sc&#39; (master = local[*], app id = local-1684309786375).\r\nSparkSession available as &#39;spark&#39;.\r\n```\r\n\r\n```text\r\n&gt;&gt;&gt; spark.read.format(&quot;delta&quot;).load(&quot;/tmp/parquet-dataset&quot;).show(truncate = False)\r\n+---+\r\n|id |\r\n+---+\r\n|0  |\r\n|3  |\r\n|4  |\r\n|1  |\r\n|2  |\r\n+---+\r\n```\r\n\r\n\r\n  [1]: https://github.com/delta-io/delta/releases/tag/v2.3.0","title":"How to use Java app to convert parquet dataset to delta","body":"<h1>Create Parquet Dataset</h1>\n<p>Yours was <code>/Users/hokage/Downloads/python-paraquet</code>, but let's use <code>/tmp/parquet-dataset</code> if you don't mind 😉</p>\n<p>Let's open <code>spark-shell</code> and write some Scala. This is only to create a parquet table (dataset).</p>\n<pre class=\"lang-scala prettyprint-override\"><code>val parquetTableDir = &quot;/tmp/parquet-dataset&quot;\n</code></pre>\n<pre class=\"lang-scala prettyprint-override\"><code>spark\n  .range(5)\n  .write\n  .format(&quot;parquet&quot;)\n  .save(parquetTableDir)\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ls -l /tmp/parquet-dataset\ntotal 48\n-rw-r--r--@ 1 jacek  wheel    0 May 17 09:32 _SUCCESS\n-rw-r--r--@ 1 jacek  wheel  297 May 17 09:32 part-00000-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00002-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00004-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  471 May 17 09:32 part-00007-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00009-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n-rw-r--r--@ 1 jacek  wheel  472 May 17 09:32 part-00011-f01e6a39-220a-401b-bfd0-2f9bd1712981-c000.snappy.parquet\n</code></pre>\n<h2>Java Project (Maven)</h2>\n<p>I used IntelliJ IDEA to create a Java project with Maven. It's been a while since I've done it! 😊</p>\n<h3>pom.xml</h3>\n<p>Mind all the dependencies and their versions. They have to match and important things are:</p>\n<ol>\n<li>The version of Scala (Delta Lake and Apache Spark deps)</li>\n<li><a href=\"https://github.com/delta-io/delta/releases/tag/v2.3.0\" rel=\"nofollow noreferrer\">Delta Lake 2.3.0 supports Spark 3.3</a></li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;delta-convert&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.delta&lt;/groupId&gt;\n            &lt;artifactId&gt;delta-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n            &lt;version&gt;2.13.8&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Java Application</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package so;\n\nimport io.delta.tables.DeltaTable;\nimport org.apache.spark.sql.SparkSession;\n\npublic class DeltaConvert {\n\n    public static void main(String[] args) {\n        SparkSession spark = SparkSession\n                .builder()\n                .appName(&quot;Solo-spark&quot;)\n                .master(&quot;local[*]&quot;) // Use the star instead\n                // the following configs are required for Delta Lake to run on Spark\n                .config(&quot;spark.sql.extensions&quot;, &quot;io.delta.sql.DeltaSparkSessionExtension&quot;)\n                .config(&quot;spark.sql.catalog.spark_catalog&quot;, &quot;org.apache.spark.sql.delta.catalog.DeltaCatalog&quot;)\n                .getOrCreate();\n\n        DeltaTable\n                .convertToDelta(spark,&quot;parquet.`/tmp/parquet-dataset`&quot;);\n\n    }\n}\n</code></pre>\n<h2>Show Time 🎉</h2>\n<p>Execute the Java app and you should see tons of INFO messages in the console (standard output). Among the lines you should find the following:</p>\n<pre><code>23/05/17 09:41:19 INFO SparkContext: Running Spark version 3.3.2\n...\n23/05/17 09:41:22 INFO DelegatingLogStore: LogStore `LogStoreAdapter(io.delta.storage.HDFSLogStore)` is used for scheme `file`\n23/05/17 09:41:22 INFO DeltaLog: Creating initial snapshot without metadata, because the directory is empty\n23/05/17 09:41:24 INFO InitialSnapshot: [tableId=b071541b-9864-4a06-a8d5-d45690ab1a26] Created snapshot InitialSnapshot(path=file:/tmp/parquet-dataset/_delta_log, version=-1, metadata=Metadata(2876805c-dde3-4d69-96a2-d2c3ad3c81e7,null,null,Format(parquet,Map()),null,List(),Map(),Some(1684309284165)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,-1,List(),List(),None,-1), checksumOpt=None)\n23/05/17 09:41:24 INFO DeltaLog: No delta log found for the Delta table at file:/tmp/parquet-dataset/_delta_log\n23/05/17 09:41:24 INFO InitialSnapshot: [tableId=2876805c-dde3-4d69-96a2-d2c3ad3c81e7] Created snapshot InitialSnapshot(path=file:/tmp/parquet-dataset/_delta_log, version=-1, metadata=Metadata(29ac2dc9-a37b-47cd-9aec-45090056afcc,null,null,Format(parquet,Map()),null,List(),Map(),Some(1684309284204)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,-1,List(),List(),None,-1), checksumOpt=None)\n...\n23/05/17 09:41:26 INFO DeltaFileOperations: Listing file:/tmp/parquet-dataset\n23/05/17 09:41:26 INFO DelegatingLogStore: LogStore `LogStoreAdapter(io.delta.storage.HDFSLogStore)` is used for scheme `file`\n...\n23/05/17 09:41:41 INFO FileScanRDD: Reading File path: file:///tmp/parquet-dataset/_delta_log/00000000000000000000.checkpoint.parquet, range: 0-13899, partition values: [empty row]\n...\n23/05/17 09:41:41 INFO Snapshot: [tableId=11d76ddd-3035-47b5-9dfe-f7e14de9ef71] Created snapshot Snapshot(path=file:/tmp/parquet-dataset/_delta_log, version=0, metadata=Metadata(11d76ddd-3035-47b5-9dfe-f7e14de9ef71,null,null,Format(parquet,Map()),{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;id&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},List(),Map(),Some(1684309287681)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,0,ArraySeq(),ArraySeq(DeprecatedRawLocalFileStatus{path=file:/tmp/parquet-dataset/_delta_log/00000000000000000000.checkpoint.parquet; isDirectory=false; length=13899; replication=1; blocksize=33554432; modification_time=1684309298044; access_time=1684309297927; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}),Some(0),1684309291045), checksumOpt=None)\n23/05/17 09:41:41 INFO DeltaLog: Updated snapshot to Snapshot(path=file:/tmp/parquet-dataset/_delta_log, version=0, metadata=Metadata(11d76ddd-3035-47b5-9dfe-f7e14de9ef71,null,null,Format(parquet,Map()),{&quot;type&quot;:&quot;struct&quot;,&quot;fields&quot;:[{&quot;name&quot;:&quot;id&quot;,&quot;type&quot;:&quot;long&quot;,&quot;nullable&quot;:true,&quot;metadata&quot;:{}}]},List(),Map(),Some(1684309287681)), logSegment=LogSegment(file:/tmp/parquet-dataset/_delta_log,0,ArraySeq(),ArraySeq(DeprecatedRawLocalFileStatus{path=file:/tmp/parquet-dataset/_delta_log/00000000000000000000.checkpoint.parquet; isDirectory=false; length=13899; replication=1; blocksize=33554432; modification_time=1684309298044; access_time=1684309297927; owner=; group=; permission=rw-rw-rw-; isSymlink=false; hasAcl=false; isEncrypted=false; isErasureCoded=false}),Some(0),1684309291045), checksumOpt=None)\n...\n</code></pre>\n<h3>PySpark</h3>\n<p>Use <code>pyspark</code> (with Delta Lake &quot;installed&quot;) to access the delta table.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$ ./bin/pyspark \\\n  --packages io.delta:delta-core_2.12:2.3.0 \\\n  --conf spark.sql.extensions=io.delta.sql.DeltaSparkSessionExtension \\\n  --conf spark.sql.catalog.spark_catalog=org.apache.spark.sql.delta.catalog.DeltaCatalog\nWelcome to\n      ____              __\n     / __/__  ___ _____/ /__\n    _\\ \\/ _ \\/ _ `/ __/  '_/\n   /__ / .__/\\_,_/_/ /_/\\_\\   version 3.3.2\n      /_/\n\nUsing Python version 3.10.11 (main, May 10 2023 19:07:22)\nSpark context Web UI available at http://192.168.68.101:4040\nSpark context available as 'sc' (master = local[*], app id = local-1684309786375).\nSparkSession available as 'spark'.\n</code></pre>\n<pre><code>&gt;&gt;&gt; spark.read.format(&quot;delta&quot;).load(&quot;/tmp/parquet-dataset&quot;).show(truncate = False)\n+---+\n|id |\n+---+\n|0  |\n|3  |\n|4  |\n|1  |\n|2  |\n+---+\n</code></pre>\n"}],"owner":{"account_id":28465915,"reputation":11,"user_id":21781988,"display_name":"hokage tn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684309992,"creation_date":1684010069,"question_id":76244764,"body_markdown":"im trying to convert parquet file to delta using java , using java 11 and spark and scale as maven dependencies while trying to exceute im getting Exception\r\n\r\n\r\n```java\r\nSparkSession spark = SparkSession.builder().\r\nappName(&quot;Solo-spark&quot;).master(&quot;local[1]&quot;).getOrCreate();`\r\n```\r\nHere we have get a spark session.\r\n\r\nNow you have covert to delta using \r\n\r\n \r\n```java\r\nDeltaTable\r\n    .convertToDelta(spark,&quot;parquet.`/Users/hokage/Downloads/python-paraquet`&quot;);\r\n```\r\n\r\n\r\nand im getting the following error \r\n```none\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: scala/$less$colon$less\r\n\tat org.soloworld.App.main(App.java:24)\r\nCaused by: java.lang.ClassNotFoundException: scala.$less$colon$less\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n```\r\n\r\nand these are my dependencies:\r\n\r\n\r\n \r\n```xml\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\r\n      &lt;artifactId&gt;delta-core_2.13&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\r\n      &lt;artifactId&gt;delta-iceberg_2.13&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\r\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\r\n      &lt;version&gt;2.12.17&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"How to use Java app to convert parquet dataset to delta","body":"<p>im trying to convert parquet file to delta using java , using java 11 and spark and scale as maven dependencies while trying to exceute im getting Exception</p>\n<pre class=\"lang-java prettyprint-override\"><code>SparkSession spark = SparkSession.builder().\nappName(&quot;Solo-spark&quot;).master(&quot;local[1]&quot;).getOrCreate();`\n</code></pre>\n<p>Here we have get a spark session.</p>\n<p>Now you have covert to delta using</p>\n<pre class=\"lang-java prettyprint-override\"><code>DeltaTable\n    .convertToDelta(spark,&quot;parquet.`/Users/hokage/Downloads/python-paraquet`&quot;);\n</code></pre>\n<p>and im getting the following error</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: scala/$less$colon$less\n    at org.soloworld.App.main(App.java:24)\nCaused by: java.lang.ClassNotFoundException: scala.$less$colon$less\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 1 more\n</code></pre>\n<p>and these are my dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-core_2.13&lt;/artifactId&gt;\n      &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;io.delta&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-iceberg_2.13&lt;/artifactId&gt;\n      &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.scala-lang&lt;/groupId&gt;\n      &lt;artifactId&gt;scala-library&lt;/artifactId&gt;\n      &lt;version&gt;2.12.17&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","keycloak","api-gateway","postgresql-11","jhipster-gateway"],"owner":{"account_id":6660369,"reputation":96,"user_id":5139666,"display_name":"Sushant Chaudhari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684309933,"creation_date":1684309933,"question_id":76269719,"body_markdown":"`I&#39;m composing docker image for keycloak v12.0.4 using command &#39;sudo docker-compose -f src/main/docker/keycloak.yml up&#39;, but at the time of composing image, I&#39;m getting an error&quot;FATAL [org.keycloak.services] (ServerService Thread Pool -- 70) Error during startup: java.lang.RuntimeException: Failed to connect to database&quot;\r\nI&#39;m using postgresql 11.2 docker image. Database name : rsm_dev_db and I have created a schema keycloak inside it.\r\n\r\nKeycloak.yml file :\r\n\r\n```\r\nversion: &#39;3.3&#39;\r\nservices:\r\n  keycloak:\r\n    image: jboss/keycloak:12.0.4\r\n    command:\r\n      [\r\n        &#39;-b&#39;,\r\n        &#39;0.0.0.0&#39;,\r\n        &#39;-Dkeycloak.migration.action=import&#39;,\r\n        &#39;-Dkeycloak.migration.provider=dir&#39;,\r\n        &#39;-Dkeycloak.migration.dir=/opt/jboss/keycloak/realm-config&#39;,\r\n        &#39;-Dkeycloak.migration.strategy=IGNORE_EXISTING&#39;,\r\n        &#39;-Djboss.socket.binding.port-offset=1000&#39;,\r\n        &#39;-Dkeycloak.profile.feature.upload_scripts=enabled&#39;,\r\n      ]\r\n    volumes:\r\n      - ./realm-config:/opt/jboss/keycloak/realm-config\r\n    environment:\r\n      - KEYCLOAK_USER=admin\r\n      - KEYCLOAK_PASSWORD=admin\r\n      - DB_VENDOR=postgres\r\n      - DB_ADDR=172.17.0.1\r\n      - DB_PORT=5432\r\n      - DB_DATABASE=rms_dev_db\r\n      - DB_USER=kpit\r\n      - DB_PASSWORD=kpit1234\r\n      - DB_SCHEMA=keycloak\r\n      # - JDBC_PARAMS=&quot;currentSchema=keycloak&quot;\r\n    ports:\r\n      - 9080:9080\r\n      - 9443:9443\r\n      - 10990:10990\r\n\r\n```\r\n-------------------------------------------------------------------------\r\n\r\napplication.yml file : \r\n\r\n```\r\nzuul: # those values must be configured depending on the application specific needs\r\n  sensitive-headers: Cookie,Set-Cookie #see https://github.com/spring-cloud/spring-cloud-netflix/issues/3126\r\n  ignored-headers: Access-Control-Allow-Credentials, Access-Control-Allow-Origin\r\n  host:\r\n    max-total-connections: 1000\r\n    max-per-route-connections: 100\r\n    connect-timeout-millis: 10000\r\n    socket-timeout-millis: 10000\r\n  prefix: /services\r\n  semaphore:\r\n    max-semaphores: 500\r\n  ignoredServices: &#39;consul,fmpGateway&#39; # Prevent Consul and the &quot;fmpGateway&quot; app itself from having a Zuul route automatically created for them\r\n\r\nribbon:\r\n    ReadTimeout: 30000\r\n    ConnectTimeout: 30000\r\n# See https://github.com/Netflix/Hystrix/wiki/Configuration\r\nhystrix:\r\n  command:\r\n    default:\r\n      execution:\r\n        isolation:\r\n          thread:\r\n            timeoutInMilliseconds: 125000\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      base-path: /management\r\n      exposure:\r\n        include: [&#39;configprops&#39;, &#39;env&#39;, &#39;health&#39;, &#39;info&#39;, &#39;jhimetrics&#39;, &#39;logfile&#39;, &#39;loggers&#39;, &#39;prometheus&#39;, &#39;threaddump&#39;]\r\n  endpoint:\r\n    health:\r\n      show-details: when-authorized\r\n      roles: &#39;ROLE_ADMIN&#39;\r\n    jhimetrics:\r\n      enabled: true\r\n  info:\r\n    git:\r\n      mode: full\r\n  health:\r\n    mail:\r\n      enabled: false # When using the MailService, configure an SMTP server and set this to true\r\n  metrics:\r\n    export:\r\n      # Prometheus is the default metrics backend\r\n      prometheus:\r\n        enabled: true\r\n        step: 60\r\n    enable:\r\n      http: true\r\n      jvm: true\r\n      logback: true\r\n      process: true\r\n      system: true\r\n    distribution:\r\n      percentiles-histogram:\r\n        all: true\r\n      percentiles:\r\n        all: 0, 0.5, 0.75, 0.95, 0.99, 1.0\r\n    tags:\r\n      application: ${spring.application.name}\r\n    web:\r\n      server:\r\n        auto-time-requests: true\r\n\r\nspring:\r\n  application:\r\n    name: fmpGateway\r\n  cloud:\r\n    consul:\r\n      discovery:\r\n        healthCheckPath: /management/health\r\n        instanceId: fmpgateway:${spring.application.instance-id:${random.value}}\r\n        service-name: fmpgateway\r\n      config:\r\n        watch:\r\n          enabled: false\r\n  jmx:\r\n    enabled: false\r\n  data:\r\n    jpa:\r\n      repositories:\r\n        bootstrap-mode: deferred\r\n  jpa:\r\n    open-in-view: false\r\n    properties:\r\n      hibernate.jdbc.time_zone: UTC\r\n    hibernate:\r\n      ddl-auto: none\r\n      naming:\r\n        physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\r\n        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n  messages:\r\n    basename: i18n/messages\r\n  main:\r\n    allow-bean-definition-overriding: true\r\n  mvc:\r\n    favicon:\r\n      enabled: false\r\n  task:\r\n    execution:\r\n      thread-name-prefix: fmp-gateway-task-\r\n      pool:\r\n        core-size: 2\r\n        max-size: 50\r\n        queue-capacity: 10000\r\n    scheduling:\r\n      thread-name-prefix: fmp-gateway-scheduling-\r\n      pool:\r\n        size: 2\r\n  thymeleaf:\r\n    mode: HTML\r\n  output:\r\n    ansi:\r\n      console-available: true\r\n  security:\r\n    oauth2:\r\n      client:\r\n        provider:\r\n          oidc:\r\n            issuer-uri: http://localhost:9080/auth/realms/jhipster\r\n        registration:\r\n          oidc:\r\n            client-id: web_app\r\n            client-secret: web_app\r\n  datasource:\r\n    hikari:\r\n      maximum-pool-size: 5\r\n  liquibase:\r\n    enabled: true\r\n\r\nserver:\r\n  servlet:\r\n    session:\r\n      cookie:\r\n        http-only: true\r\n\r\n# Properties to be exposed on the /info management endpoint\r\ninfo:\r\n  # Comma separated list of profiles that will trigger the ribbon to show\r\n  display-ribbon-on-profiles: &#39;dev&#39;\r\n\r\n# ===================================================================\r\n# JHipster specific properties\r\n#\r\n# Full reference is available at: https://www.jhipster.tech/common-application-properties/\r\n# ===================================================================\r\n\r\njhipster:\r\n  clientApp:\r\n    name: &#39;fmpGatewayApp&#39;\r\n  # By default CORS is disabled. Uncomment to enable.\r\n  cors:\r\n    allowed-origins: &quot;*&quot;\r\n    allowed-methods: &quot;*&quot;\r\n    allowed-headers: &quot;*&quot;\r\n    exposed-headers: &quot;Authorization,Link,X-Total-Count&quot;\r\n    allow-credentials: true\r\n    max-age: 1800\r\n  mail:\r\n    from: fmpGateway@localhost\r\n  swagger:\r\n    default-include-pattern: /api/.*\r\n    title: fmpGateway API\r\n    description: fmpGateway API documentation\r\n    version: 0.0.1\r\n    terms-of-service-url:\r\n    contact-name:\r\n    contact-url:\r\n    contact-email:\r\n    license:\r\n    license-url:\r\n  security:\r\n    oauth2:\r\n      audience:\r\n        - account\r\n        - api://default\r\n```\r\n\r\n\r\n--------------------------------------------------------------------------------\r\n\r\napplication-dev.yml file :\r\n\r\n\r\n```\r\nlogging:\r\n  level:\r\n    ROOT: ERROR\r\n    io.github.jhipster: DEBUG\r\n    com.kpit.fmp.gateway: DEBUG\r\n\r\nspring:\r\n  profiles:\r\n    active: dev\r\n    include:\r\n      - swagger\r\n      # Uncomment to activate TLS for the dev profile\r\n      #- tls\r\n  devtools:\r\n    restart:\r\n      enabled: true\r\n      additional-exclude: static/**\r\n    livereload:\r\n      enabled: false # we use Webpack dev server + BrowserSync for livereload\r\n  jackson:\r\n    serialization:\r\n      indent-output: true\r\n  cloud:\r\n    consul:\r\n      discovery:\r\n        prefer-ip-address: true\r\n      host: localhost\r\n      port: 8500\r\n  datasource:\r\n    type: com.zaxxer.hikari.HikariDataSource\r\n    url: jdbc:postgresql://localhost:5432/rms_dev_db?currentSchema=gateway\r\n    username: kpit\r\n    password: kpit1234\r\n    hikari:\r\n      poolName: Hikari\r\n      auto-commit: false\r\n  jpa:\r\n    database-platform: io.github.jhipster.domain.util.FixedPostgreSQL10Dialect\r\n    show-sql: true\r\n    properties:\r\n      hibernate.id.new_generator_mappings: true\r\n      hibernate.connection.provider_disables_autocommit: true\r\n      hibernate.cache.use_second_level_cache: true\r\n      hibernate.cache.use_query_cache: false\r\n      hibernate.generate_statistics: false\r\n      hibernate.cache.region.factory_class: com.hazelcast.hibernate.HazelcastCacheRegionFactory\r\n      hibernate.cache.hazelcast.instance_name: fmpGateway\r\n      hibernate.cache.use_minimal_puts: true\r\n      hibernate.cache.hazelcast.use_lite_member: true\r\n  liquibase:\r\n    # Remove &#39;faker&#39; if you do not want the sample data to be loaded automatically\r\n    contexts: dev #, faker\r\n  mail:\r\n    host: localhost\r\n    port: 25\r\n    username:\r\n    password:\r\n  messages:\r\n    cache-duration: PT1S # 1 second, see the ISO 8601 standard\r\n  thymeleaf:\r\n    cache: false\r\n  sleuth:\r\n    sampler:\r\n      probability: 1 # report 100% of traces\r\n  zipkin: # Use the &quot;zipkin&quot; Maven profile to have the Spring Cloud Zipkin dependencies\r\n    base-url: http://localhost:9411\r\n    enabled: false\r\n    locator:\r\n      discovery:\r\n        enabled: false\r\n\r\nserver:\r\n  port: 8080\r\n\r\n# ===================================================================\r\n# JHipster specific properties\r\n#\r\n# Full reference is available at: https://www.jhipster.tech/common-application-properties/\r\n# ===================================================================\r\n\r\njhipster:\r\n  gateway:\r\n    rate-limiting:\r\n      enabled: false\r\n      limit: 100000\r\n      duration-in-seconds: 3600\r\n    authorized-microservices-endpoints: # Access Control Policy, if left empty for a route, all endpoints will be accessible\r\n      app1: /api,/v2/api-docs # recommended dev configuration\r\n  cache: # Cache configuration\r\n    hazelcast: # Hazelcast distributed cache\r\n      time-to-live-seconds: 3600\r\n      backup-count: 1\r\n      management-center: # Full reference is available at: http://docs.hazelcast.org/docs/management-center/3.9/manual/html/Deploying_and_Starting.html\r\n        enabled: false\r\n        update-interval: 3\r\n        url: http://localhost:8180/hazelcast-mancenter\r\n  # CORS is only enabled by default with the &quot;dev&quot; profile, so BrowserSync can access the API\r\n  cors:\r\n    allowed-origins: &quot;*&quot;\r\n    allowed-methods: &quot;*&quot;\r\n    allowed-headers: &quot;*&quot;\r\n    exposed-headers: &quot;Authorization,Link,X-Total-Count&quot;\r\n    allow-credentials: true\r\n    max-age: 1800\r\n  mail: # specific JHipster mail property, for standard properties see MailProperties\r\n    base-url: http://127.0.0.1:8080\r\n  metrics:\r\n    logs: # Reports metrics in the logs\r\n      enabled: false\r\n      report-frequency: 60 # in seconds\r\n  logging:\r\n    use-json-format: false # By default, logs are not in Json format\r\n    logstash: # Forward logs to logstash over a socket, used by LoggingConfiguration\r\n      enabled: false\r\n      host: localhost\r\n      port: 5000\r\n      queue-size: 512\r\n  audit-events:\r\n    retention-period: 30 # Number of days before audit events are deleted.\r\n```\r\n\r\n\r\n\r\n[![[![enter image description here](https://i.stack.imgur.com/kY9Go.jpg)](https://i.stack.imgur.com/kY9Go.jpg)](https://i.stack.imgur.com/yuDr6.jpg)](https://i.stack.imgur.com/yuDr6.jpg)\r\n\r\n\r\nI started postgres container before composing keycloak image but still getting an error.`","title":"Failed to connect to database while docker compose keycloak v12.0.4","body":"<p>`I'm composing docker image for keycloak v12.0.4 using command 'sudo docker-compose -f src/main/docker/keycloak.yml up', but at the time of composing image, I'm getting an error&quot;FATAL [org.keycloak.services] (ServerService Thread Pool -- 70) Error during startup: java.lang.RuntimeException: Failed to connect to database&quot;\nI'm using postgresql 11.2 docker image. Database name : rsm_dev_db and I have created a schema keycloak inside it.</p>\n<p>Keycloak.yml file :</p>\n<pre><code>version: '3.3'\nservices:\n  keycloak:\n    image: jboss/keycloak:12.0.4\n    command:\n      [\n        '-b',\n        '0.0.0.0',\n        '-Dkeycloak.migration.action=import',\n        '-Dkeycloak.migration.provider=dir',\n        '-Dkeycloak.migration.dir=/opt/jboss/keycloak/realm-config',\n        '-Dkeycloak.migration.strategy=IGNORE_EXISTING',\n        '-Djboss.socket.binding.port-offset=1000',\n        '-Dkeycloak.profile.feature.upload_scripts=enabled',\n      ]\n    volumes:\n      - ./realm-config:/opt/jboss/keycloak/realm-config\n    environment:\n      - KEYCLOAK_USER=admin\n      - KEYCLOAK_PASSWORD=admin\n      - DB_VENDOR=postgres\n      - DB_ADDR=172.17.0.1\n      - DB_PORT=5432\n      - DB_DATABASE=rms_dev_db\n      - DB_USER=kpit\n      - DB_PASSWORD=kpit1234\n      - DB_SCHEMA=keycloak\n      # - JDBC_PARAMS=&quot;currentSchema=keycloak&quot;\n    ports:\n      - 9080:9080\n      - 9443:9443\n      - 10990:10990\n\n</code></pre>\n<hr />\n<p>application.yml file :</p>\n<pre><code>zuul: # those values must be configured depending on the application specific needs\n  sensitive-headers: Cookie,Set-Cookie #see https://github.com/spring-cloud/spring-cloud-netflix/issues/3126\n  ignored-headers: Access-Control-Allow-Credentials, Access-Control-Allow-Origin\n  host:\n    max-total-connections: 1000\n    max-per-route-connections: 100\n    connect-timeout-millis: 10000\n    socket-timeout-millis: 10000\n  prefix: /services\n  semaphore:\n    max-semaphores: 500\n  ignoredServices: 'consul,fmpGateway' # Prevent Consul and the &quot;fmpGateway&quot; app itself from having a Zuul route automatically created for them\n\nribbon:\n    ReadTimeout: 30000\n    ConnectTimeout: 30000\n# See https://github.com/Netflix/Hystrix/wiki/Configuration\nhystrix:\n  command:\n    default:\n      execution:\n        isolation:\n          thread:\n            timeoutInMilliseconds: 125000\n\nmanagement:\n  endpoints:\n    web:\n      base-path: /management\n      exposure:\n        include: ['configprops', 'env', 'health', 'info', 'jhimetrics', 'logfile', 'loggers', 'prometheus', 'threaddump']\n  endpoint:\n    health:\n      show-details: when-authorized\n      roles: 'ROLE_ADMIN'\n    jhimetrics:\n      enabled: true\n  info:\n    git:\n      mode: full\n  health:\n    mail:\n      enabled: false # When using the MailService, configure an SMTP server and set this to true\n  metrics:\n    export:\n      # Prometheus is the default metrics backend\n      prometheus:\n        enabled: true\n        step: 60\n    enable:\n      http: true\n      jvm: true\n      logback: true\n      process: true\n      system: true\n    distribution:\n      percentiles-histogram:\n        all: true\n      percentiles:\n        all: 0, 0.5, 0.75, 0.95, 0.99, 1.0\n    tags:\n      application: ${spring.application.name}\n    web:\n      server:\n        auto-time-requests: true\n\nspring:\n  application:\n    name: fmpGateway\n  cloud:\n    consul:\n      discovery:\n        healthCheckPath: /management/health\n        instanceId: fmpgateway:${spring.application.instance-id:${random.value}}\n        service-name: fmpgateway\n      config:\n        watch:\n          enabled: false\n  jmx:\n    enabled: false\n  data:\n    jpa:\n      repositories:\n        bootstrap-mode: deferred\n  jpa:\n    open-in-view: false\n    properties:\n      hibernate.jdbc.time_zone: UTC\n    hibernate:\n      ddl-auto: none\n      naming:\n        physical-strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n        implicit-strategy: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n  messages:\n    basename: i18n/messages\n  main:\n    allow-bean-definition-overriding: true\n  mvc:\n    favicon:\n      enabled: false\n  task:\n    execution:\n      thread-name-prefix: fmp-gateway-task-\n      pool:\n        core-size: 2\n        max-size: 50\n        queue-capacity: 10000\n    scheduling:\n      thread-name-prefix: fmp-gateway-scheduling-\n      pool:\n        size: 2\n  thymeleaf:\n    mode: HTML\n  output:\n    ansi:\n      console-available: true\n  security:\n    oauth2:\n      client:\n        provider:\n          oidc:\n            issuer-uri: http://localhost:9080/auth/realms/jhipster\n        registration:\n          oidc:\n            client-id: web_app\n            client-secret: web_app\n  datasource:\n    hikari:\n      maximum-pool-size: 5\n  liquibase:\n    enabled: true\n\nserver:\n  servlet:\n    session:\n      cookie:\n        http-only: true\n\n# Properties to be exposed on the /info management endpoint\ninfo:\n  # Comma separated list of profiles that will trigger the ribbon to show\n  display-ribbon-on-profiles: 'dev'\n\n# ===================================================================\n# JHipster specific properties\n#\n# Full reference is available at: https://www.jhipster.tech/common-application-properties/\n# ===================================================================\n\njhipster:\n  clientApp:\n    name: 'fmpGatewayApp'\n  # By default CORS is disabled. Uncomment to enable.\n  cors:\n    allowed-origins: &quot;*&quot;\n    allowed-methods: &quot;*&quot;\n    allowed-headers: &quot;*&quot;\n    exposed-headers: &quot;Authorization,Link,X-Total-Count&quot;\n    allow-credentials: true\n    max-age: 1800\n  mail:\n    from: fmpGateway@localhost\n  swagger:\n    default-include-pattern: /api/.*\n    title: fmpGateway API\n    description: fmpGateway API documentation\n    version: 0.0.1\n    terms-of-service-url:\n    contact-name:\n    contact-url:\n    contact-email:\n    license:\n    license-url:\n  security:\n    oauth2:\n      audience:\n        - account\n        - api://default\n</code></pre>\n<hr />\n<p>application-dev.yml file :</p>\n<pre><code>logging:\n  level:\n    ROOT: ERROR\n    io.github.jhipster: DEBUG\n    com.kpit.fmp.gateway: DEBUG\n\nspring:\n  profiles:\n    active: dev\n    include:\n      - swagger\n      # Uncomment to activate TLS for the dev profile\n      #- tls\n  devtools:\n    restart:\n      enabled: true\n      additional-exclude: static/**\n    livereload:\n      enabled: false # we use Webpack dev server + BrowserSync for livereload\n  jackson:\n    serialization:\n      indent-output: true\n  cloud:\n    consul:\n      discovery:\n        prefer-ip-address: true\n      host: localhost\n      port: 8500\n  datasource:\n    type: com.zaxxer.hikari.HikariDataSource\n    url: jdbc:postgresql://localhost:5432/rms_dev_db?currentSchema=gateway\n    username: kpit\n    password: kpit1234\n    hikari:\n      poolName: Hikari\n      auto-commit: false\n  jpa:\n    database-platform: io.github.jhipster.domain.util.FixedPostgreSQL10Dialect\n    show-sql: true\n    properties:\n      hibernate.id.new_generator_mappings: true\n      hibernate.connection.provider_disables_autocommit: true\n      hibernate.cache.use_second_level_cache: true\n      hibernate.cache.use_query_cache: false\n      hibernate.generate_statistics: false\n      hibernate.cache.region.factory_class: com.hazelcast.hibernate.HazelcastCacheRegionFactory\n      hibernate.cache.hazelcast.instance_name: fmpGateway\n      hibernate.cache.use_minimal_puts: true\n      hibernate.cache.hazelcast.use_lite_member: true\n  liquibase:\n    # Remove 'faker' if you do not want the sample data to be loaded automatically\n    contexts: dev #, faker\n  mail:\n    host: localhost\n    port: 25\n    username:\n    password:\n  messages:\n    cache-duration: PT1S # 1 second, see the ISO 8601 standard\n  thymeleaf:\n    cache: false\n  sleuth:\n    sampler:\n      probability: 1 # report 100% of traces\n  zipkin: # Use the &quot;zipkin&quot; Maven profile to have the Spring Cloud Zipkin dependencies\n    base-url: http://localhost:9411\n    enabled: false\n    locator:\n      discovery:\n        enabled: false\n\nserver:\n  port: 8080\n\n# ===================================================================\n# JHipster specific properties\n#\n# Full reference is available at: https://www.jhipster.tech/common-application-properties/\n# ===================================================================\n\njhipster:\n  gateway:\n    rate-limiting:\n      enabled: false\n      limit: 100000\n      duration-in-seconds: 3600\n    authorized-microservices-endpoints: # Access Control Policy, if left empty for a route, all endpoints will be accessible\n      app1: /api,/v2/api-docs # recommended dev configuration\n  cache: # Cache configuration\n    hazelcast: # Hazelcast distributed cache\n      time-to-live-seconds: 3600\n      backup-count: 1\n      management-center: # Full reference is available at: http://docs.hazelcast.org/docs/management-center/3.9/manual/html/Deploying_and_Starting.html\n        enabled: false\n        update-interval: 3\n        url: http://localhost:8180/hazelcast-mancenter\n  # CORS is only enabled by default with the &quot;dev&quot; profile, so BrowserSync can access the API\n  cors:\n    allowed-origins: &quot;*&quot;\n    allowed-methods: &quot;*&quot;\n    allowed-headers: &quot;*&quot;\n    exposed-headers: &quot;Authorization,Link,X-Total-Count&quot;\n    allow-credentials: true\n    max-age: 1800\n  mail: # specific JHipster mail property, for standard properties see MailProperties\n    base-url: http://127.0.0.1:8080\n  metrics:\n    logs: # Reports metrics in the logs\n      enabled: false\n      report-frequency: 60 # in seconds\n  logging:\n    use-json-format: false # By default, logs are not in Json format\n    logstash: # Forward logs to logstash over a socket, used by LoggingConfiguration\n      enabled: false\n      host: localhost\n      port: 5000\n      queue-size: 512\n  audit-events:\n    retention-period: 30 # Number of days before audit events are deleted.\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/yuDr6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yuDr6.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I started postgres container before composing keycloak image but still getting an error.`</p>\n"},{"tags":["java","aws-lambda","jvm"],"comments":[{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1548840167,"post_id":54436957,"comment_id":95683632,"body_markdown":"Looks like `-verbose` prints to standard error stream.","body":"Looks like <code>-verbose</code> prints to standard error stream."},{"owner":{"account_id":84376,"reputation":2788,"user_id":235921,"accept_rate":62,"display_name":"CC."},"score":0,"creation_date":1548840893,"post_id":54436957,"comment_id":95684056,"body_markdown":"Thanks but I don&#39;t understand what this really means. Can you expand ?","body":"Thanks but I don&#39;t understand what this really means. Can you expand ?"},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1548840971,"post_id":54436957,"comment_id":95684101,"body_markdown":"It is long story. Try `java -cp my.jar -verbose:class Handler &amp;2&gt;1 | grep Loaded`","body":"It is long story. Try <code>java -cp my.jar -verbose:class Handler &amp;2&gt;1 | grep Loaded</code>"},{"owner":{"account_id":84376,"reputation":2788,"user_id":235921,"accept_rate":62,"display_name":"CC."},"score":0,"creation_date":1548841088,"post_id":54436957,"comment_id":95684170,"body_markdown":"Tried, same result","body":"Tried, same result"},{"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"score":1,"creation_date":1548845343,"post_id":54436957,"comment_id":95686786,"body_markdown":"JDK 9 introduced [Unified JVM Logging](https://openjdk.java.net/jeps/158). In particular, it modifies the format of GC, Class Loading and other JVM logs. See the [linked JEP](https://openjdk.java.net/jeps/158) for details. `[class,load]` lines replace older `[Loaded XYZ]` messages.","body":"JDK 9 introduced <a href=\"https://openjdk.java.net/jeps/158\" rel=\"nofollow noreferrer\">Unified JVM Logging</a>. In particular, it modifies the format of GC, Class Loading and other JVM logs. See the <a href=\"https://openjdk.java.net/jeps/158\" rel=\"nofollow noreferrer\">linked JEP</a> for details. <code>[class,load]</code> lines replace older <code>[Loaded XYZ]</code> messages."},{"owner":{"account_id":84376,"reputation":2788,"user_id":235921,"accept_rate":62,"display_name":"CC."},"score":0,"creation_date":1548931289,"post_id":54436957,"comment_id":95725308,"body_markdown":"Thanks. I tried with java 8 and java 11 and I saw the difference","body":"Thanks. I tried with java 8 and java 11 and I saw the difference"}],"answers":[{"tags":[],"owner":{"account_id":4920274,"reputation":9,"user_id":3963012,"display_name":"Neethi P"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1548841635,"creation_date":1548841635,"answer_id":54437573,"question_id":54436957,"body_markdown":"Please try with below Classes .Hope this works for you\r\n\r\n    java -cp my.jar -verbose:class Handler | grep &#39;Load*\\|Open*&#39;\r\n    java -cp my.jar -verbose:class Instrumentation | grep &#39;Load*\\|Open*&#39;\r\n    java -cp my.jar -verbose:class Serialisation | grep &#39;Load*\\|Open*&#39;\r\n     ","title":"Get a list of all classes loaded in the jvm for a lambda function","body":"<p>Please try with below Classes .Hope this works for you</p>\n\n<pre><code>java -cp my.jar -verbose:class Handler | grep 'Load*\\|Open*'\njava -cp my.jar -verbose:class Instrumentation | grep 'Load*\\|Open*'\njava -cp my.jar -verbose:class Serialisation | grep 'Load*\\|Open*'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":84376,"reputation":2788,"user_id":235921,"accept_rate":62,"display_name":"CC."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548848057,"creation_date":1548848057,"answer_id":54439667,"question_id":54436957,"body_markdown":"I have the answer.\r\nThe expected results is on Java 8.\r\nIn Java 11 the result is not the same, so I have to adapt my command for each version.\r\n","title":"Get a list of all classes loaded in the jvm for a lambda function","body":"<p>I have the answer.\nThe expected results is on Java 8.\nIn Java 11 the result is not the same, so I have to adapt my command for each version.</p>\n"},{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684309465,"creation_date":1684309465,"answer_id":76269653,"question_id":54436957,"body_markdown":"The class count would be possible to get in the actual program using\r\n```java\r\nField jvmField = ManagementFactory.getRuntimeMXBean().getClass().getDeclaredField(&quot;jvm&quot;);\r\njvmField.setAccessible(true);\r\nVMManagement jvmInstance = (VMManagement) jvmField.get(ManagementFactory.getRuntimeMXBean());\r\n\r\nint totalClassCount = jvmInstance.getTotalClassCount();\r\nint loadedClassCount = jvmInstance.getLoadedClassCount();\r\n```\r\n\r\nTested in java 8","title":"Get a list of all classes loaded in the jvm for a lambda function","body":"<p>The class count would be possible to get in the actual program using</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field jvmField = ManagementFactory.getRuntimeMXBean().getClass().getDeclaredField(&quot;jvm&quot;);\njvmField.setAccessible(true);\nVMManagement jvmInstance = (VMManagement) jvmField.get(ManagementFactory.getRuntimeMXBean());\n\nint totalClassCount = jvmInstance.getTotalClassCount();\nint loadedClassCount = jvmInstance.getLoadedClassCount();\n</code></pre>\n<p>Tested in java 8</p>\n"}],"owner":{"account_id":84376,"reputation":2788,"user_id":235921,"accept_rate":62,"display_name":"CC."},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684309465,"creation_date":1548839544,"question_id":54436957,"body_markdown":"I&#39;m trying to find a method to see the number of classes loaded by the JVM for a lambda function.\r\nI have a sample code from a friend but it does not work.\r\nI have the following:\r\n\r\n    java -cp my.jar -verbose:class Handler | grep Loaded \r\n\r\nIt must be missing something because I don&#39;t have the &quot;Loaded&quot; classes.\r\nIs &quot;load&quot; the replacement of &quot;Loaded&quot; ?\r\n\r\nThe result of this is something like:\r\n\r\n    [0.179s][info][class,load] java.text.Format source: jrt:/java.base\r\n    [0.179s][info][class,load] java.text.MessageFormat source: jrt:/java.base\r\n    [0.179s][info][class,load] java.util.Locale$Category source: jrt:/java.base\r\n    [0.179s][info][class,load] java.util.Locale$1 source: jrt:/java.base\r\n    [0.180s][info][class,load] java.text.FieldPosition source: jrt:/java.base\r\n    [0.180s][info][class,load] java.util.Date source: jrt:/java.base\r\n\r\nI was expecting something like:\r\n\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/sunrsasign.jar]\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/jsse.jar]\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/jce.jar]\r\n    [Opened /usr/java/j2sdk1.4.1/jre/lib/charsets.jar]\r\n    [Loaded java.lang.Object from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Loaded java.io.Serializable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Loaded java.lang.Comparable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Loaded java.lang.CharSequence from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n    [Loaded java.lang.String from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\r\n\r\nDo you know what I&#39;m missing ? Why I don&#39;t see the &quot;loaded&quot; classes ?\r\nI have `Java(TM) SE Runtime Environment 18.9 (build 11.0.2+9-LTS`\r\n\r\n\r\nThanks.\r\nC.C.\r\n\r\n","title":"Get a list of all classes loaded in the jvm for a lambda function","body":"<p>I'm trying to find a method to see the number of classes loaded by the JVM for a lambda function.\nI have a sample code from a friend but it does not work.\nI have the following:</p>\n\n<pre><code>java -cp my.jar -verbose:class Handler | grep Loaded \n</code></pre>\n\n<p>It must be missing something because I don't have the \"Loaded\" classes.\nIs \"load\" the replacement of \"Loaded\" ?</p>\n\n<p>The result of this is something like:</p>\n\n<pre><code>[0.179s][info][class,load] java.text.Format source: jrt:/java.base\n[0.179s][info][class,load] java.text.MessageFormat source: jrt:/java.base\n[0.179s][info][class,load] java.util.Locale$Category source: jrt:/java.base\n[0.179s][info][class,load] java.util.Locale$1 source: jrt:/java.base\n[0.180s][info][class,load] java.text.FieldPosition source: jrt:/java.base\n[0.180s][info][class,load] java.util.Date source: jrt:/java.base\n</code></pre>\n\n<p>I was expecting something like:</p>\n\n<pre><code>[Opened /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/sunrsasign.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/jsse.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/jce.jar]\n[Opened /usr/java/j2sdk1.4.1/jre/lib/charsets.jar]\n[Loaded java.lang.Object from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.io.Serializable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.lang.Comparable from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.lang.CharSequence from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n[Loaded java.lang.String from /usr/java/j2sdk1.4.1/jre/lib/rt.jar]\n</code></pre>\n\n<p>Do you know what I'm missing ? Why I don't see the \"loaded\" classes ?\nI have <code>Java(TM) SE Runtime Environment 18.9 (build 11.0.2+9-LTS</code></p>\n\n<p>Thanks.\nC.C.</p>\n"},{"tags":["java","python","python-3.x","docker"],"comments":[{"owner":{"account_id":4874231,"reputation":13953,"user_id":3929826,"display_name":"Klaus D."},"score":1,"creation_date":1530437078,"post_id":51121875,"comment_id":89229238,"body_markdown":"Usually you run one application in one container and two applications in two containers.","body":"Usually you run one application in one container and two applications in two containers."}],"answers":[{"comments":[{"owner":{"account_id":3497237,"reputation":1206,"user_id":2925044,"accept_rate":67,"display_name":"pajamas"},"score":0,"creation_date":1530444324,"post_id":51121932,"comment_id":89230778,"body_markdown":"I updated the question and added the **Additional details** section. Based on your answer. I should create a new container where Java is installed. Then my python code would just require the path to **JAVA_HOME**. How do I do that? I looked at the docker documentation [here](https://docs.docker.com/v17.09/engine/userguide/networking/default_network/container-communication/) and it&#39;s really confusing.","body":"I updated the question and added the <b>Additional details</b> section. Based on your answer. I should create a new container where Java is installed. Then my python code would just require the path to <b>JAVA_HOME</b>. How do I do that? I looked at the docker documentation <a href=\"https://docs.docker.com/v17.09/engine/userguide/networking/default_network/container-communication/\" rel=\"nofollow noreferrer\">here</a> and it&#39;s really confusing."}],"tags":[],"owner":{"account_id":4952989,"reputation":2910,"user_id":3986395,"display_name":"Simas Joneliunas"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1530436315,"creation_date":1530436315,"answer_id":51121932,"question_id":51121875,"body_markdown":"I believe that by adding `FROM openjdk:slim` line, you tell docker to execute all of your subsequent commands in openjdk container (which does not have python)\r\n\r\nI would approach this by creating two separate containers for openjdk and python and specify individual sets of commands for them.\r\n\r\nDocker is made to modularize your solutions and mashing everything into one container is usually a bad practice. ","title":"How to run Docker with python and Java?","body":"<p>I believe that by adding <code>FROM openjdk:slim</code> line, you tell docker to execute all of your subsequent commands in openjdk container (which does not have python)</p>\n\n<p>I would approach this by creating two separate containers for openjdk and python and specify individual sets of commands for them.</p>\n\n<p>Docker is made to modularize your solutions and mashing everything into one container is usually a bad practice. </p>\n"},{"comments":[{"owner":{"account_id":3497237,"reputation":1206,"user_id":2925044,"accept_rate":67,"display_name":"pajamas"},"score":0,"creation_date":1530454798,"post_id":51122958,"comment_id":89233283,"body_markdown":"Does this work for you? I&#39;m getting this :\n\n  dpkg: error processing package openjdk-8-jre:amd64 (--configure):\n  Package openjdk-7-jre-headless is not installed.\n  Package java7-runtime-headless is not installed.\n  Package openjdk-8-jre-headless:amd64 which provides java7-runtime-headless is not configured yet.\n\n\n\n\n  Package openjdk-7-jre-headless is not installed.\n  Package java7-runtime-headless is not installed.\n  Package openjdk-8-jre-headless:amd64 which provides java7-runtime-headless is not configured yet.","body":"Does this work for you? I&#39;m getting this :    dpkg: error processing package openjdk-8-jre:amd64 (--configure):   Package openjdk-7-jre-headless is not installed.   Package java7-runtime-headless is not installed.   Package openjdk-8-jre-headless:amd64 which provides java7-runtime-headless is not configured yet.       Package openjdk-7-jre-headless is not installed.   Package java7-runtime-headless is not installed.   Package openjdk-8-jre-headless:amd64 which provides java7-runtime-headless is not configured yet."}],"tags":[],"owner":{"account_id":13508760,"reputation":1517,"user_id":9745850,"display_name":"Hemant Singh"},"comment_count":1,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1530445312,"creation_date":1530445312,"answer_id":51122958,"question_id":51121875,"body_markdown":"Instead of using `FROM openjdk:slim` you can separately install Java, please refer below example:\r\n\r\n   \r\n    # Install OpenJDK-8\r\n    RUN apt-get update &amp;&amp; \\\r\n    apt-get install -y openjdk-8-jdk &amp;&amp; \\\r\n    apt-get install -y ant &amp;&amp; \\\r\n    apt-get clean;\r\n            \r\n    # Fix certificate issues\r\n    RUN apt-get update &amp;&amp; \\\r\n    apt-get install ca-certificates-java &amp;&amp; \\\r\n    apt-get clean &amp;&amp; \\\r\n    update-ca-certificates -f;\r\n    # Setup JAVA_HOME -- useful for docker commandline\r\n    ENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\r\n    RUN export JAVA_HOME\r\n    ","title":"How to run Docker with python and Java?","body":"<p>Instead of using <code>FROM openjdk:slim</code> you can separately install Java, please refer below example:</p>\n\n<pre><code># Install OpenJDK-8\nRUN apt-get update &amp;&amp; \\\napt-get install -y openjdk-8-jdk &amp;&amp; \\\napt-get install -y ant &amp;&amp; \\\napt-get clean;\n\n# Fix certificate issues\nRUN apt-get update &amp;&amp; \\\napt-get install ca-certificates-java &amp;&amp; \\\napt-get clean &amp;&amp; \\\nupdate-ca-certificates -f;\n# Setup JAVA_HOME -- useful for docker commandline\nENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\nRUN export JAVA_HOME\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1549377796,"post_id":51171447,"comment_id":95875124,"body_markdown":"This answer shows how to build a docker container with installed Java and python.\nWhen you run python, the Java process will not start. You can ssh your docker and see running processes (`top`)\nhttps://stackoverflow.com/questions/30172605/how-do-i-get-into-a-docker-containers-shell","body":"This answer shows how to build a docker container with installed Java and python. When you run python, the Java process will not start. You can ssh your docker and see running processes (<code>top</code>) <a href=\"https://stackoverflow.com/questions/30172605/how-do-i-get-into-a-docker-containers-shell\" title=\"how do i get into a docker containers shell\">stackoverflow.com/questions/30172605/&hellip;</a>"},{"owner":{"account_id":1180874,"reputation":873,"user_id":1196458,"display_name":"Ankur Srivastava"},"score":0,"creation_date":1565572022,"post_id":51171447,"comment_id":101383694,"body_markdown":"It was a great solution !!!.Really Helped me .I was looking for putting Python 3 and Java 8 in same docker image and i achieved it thru the above way.","body":"It was a great solution !!!.Really Helped me .I was looking for putting Python 3 and Java 8 in same docker image and i achieved it thru the above way."},{"owner":{"account_id":14350258,"reputation":630,"user_id":10365982,"display_name":"Matteljay"},"score":0,"creation_date":1591885024,"post_id":51171447,"comment_id":110230242,"body_markdown":"I needed Java &amp; Python3 as well (but no pip &amp; flask needed) this solution created a 170mb Docker image. Using openjdk:slim and apt-getting python3 I got &gt;400mb. Both images build roughly equally fast.","body":"I needed Java &amp; Python3 as well (but no pip &amp; flask needed) this solution created a 170mb Docker image. Using openjdk:slim and apt-getting python3 I got &gt;400mb. Both images build roughly equally fast."},{"owner":{"account_id":6471272,"reputation":194,"user_id":5011344,"accept_rate":60,"display_name":"AKS"},"score":0,"creation_date":1594793004,"post_id":51171447,"comment_id":111246494,"body_markdown":"Even after setting the java home, in the bash shell when i type java or javac - there is no exec found using above docker file. (Error : Command not found)","body":"Even after setting the java home, in the bash shell when i type java or javac - there is no exec found using above docker file. (Error : Command not found)"},{"owner":{"account_id":980276,"reputation":5186,"user_id":1335793,"display_name":"Davos"},"score":0,"creation_date":1639653891,"post_id":51171447,"comment_id":124406559,"body_markdown":"PEP656 has led to cibuildwheel now supporting Linux distros that use musl i.e. Alpine Linux, so that might be different now see https://discuss.python.org/t/pep-656-platform-tag-for-linux-distributions-using-musl/7165/40 and  https://cibuildwheel.readthedocs.io/en/stable/changelog/#v220","body":"PEP656 has led to cibuildwheel now supporting Linux distros that use musl i.e. Alpine Linux, so that might be different now see <a href=\"https://discuss.python.org/t/pep-656-platform-tag-for-linux-distributions-using-musl/7165/40\" rel=\"nofollow noreferrer\">discuss.python.org/t/&hellip;</a> and  <a href=\"https://cibuildwheel.readthedocs.io/en/stable/changelog/#v220\" rel=\"nofollow noreferrer\">cibuildwheel.readthedocs.io/en/stable/changelog/#v220</a>"}],"tags":[],"owner":{"account_id":3497237,"reputation":1206,"user_id":2925044,"accept_rate":67,"display_name":"pajamas"},"comment_count":5,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1596108419,"creation_date":1530699951,"answer_id":51171447,"question_id":51121875,"body_markdown":"OK it took me a little while to figure it out. And my thanks go to this [answer][1].\r\n\r\nI think my approach didn&#39;t work because I did not have a basic version of Linux. \r\n\r\nSo it goes like this:\r\n\r\n 1. Get Linux (I&#39;m using Alpine because it&#39;s barebones)\r\n 2. Get Java via the package manager\r\n 3. Get Python, PIP\r\n\r\n**OPTIONAL**: find and set JAVA_HOME\r\n\r\n 4. Find the path to JAVA_HOME. Perhaps there is a better way to do this, but I did this running the running the container, then I looked inside the container using  `docker exec -it [COINTAINER ID] bin/bash` and found it.\r\n 5. Set `JAVA_HOME` in dockerfile and build + run it all again\r\n\r\n\r\nHere is the final Dockerfile ( it should work with the python code in the question) :\r\n\r\n\r\n    ### 1. Get Linux\r\n    FROM alpine:3.7\r\n    \r\n    ### 2. Get Java via the package manager\r\n    RUN apk update \\\r\n    &amp;&amp; apk upgrade \\\r\n    &amp;&amp; apk add --no-cache bash \\\r\n    &amp;&amp; apk add --no-cache --virtual=build-dependencies unzip \\\r\n    &amp;&amp; apk add --no-cache curl \\\r\n    &amp;&amp; apk add --no-cache openjdk8-jre\r\n    \r\n    ### 3. Get Python, PIP\r\n    \r\n    RUN apk add --no-cache python3 \\\r\n    &amp;&amp; python3 -m ensurepip \\\r\n    &amp;&amp; pip3 install --upgrade pip setuptools \\\r\n    &amp;&amp; rm -r /usr/lib/python*/ensurepip &amp;&amp; \\\r\n    if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi &amp;&amp; \\\r\n    if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi &amp;&amp; \\\r\n    rm -r /root/.cache\r\n\r\n    ### Get Flask for the app\r\n    RUN pip install --trusted-host pypi.python.org flask\r\n \r\n    ####\r\n    #### OPTIONAL : 4. SET JAVA_HOME environment variable, uncomment the line below if you need it\r\n\r\n    #ENV JAVA_HOME=&quot;/usr/lib/jvm/java-1.8-openjdk&quot;\r\n\r\n    ####\r\n\r\n    EXPOSE 81    \r\n    ADD test.py /\r\n    CMD [&quot;python&quot;, &quot;test.py&quot;]\r\n\r\nI&#39;m new to Docker, so this may not be the best possible solution. I&#39;m open to suggestions. \r\n\r\n**UPDATE: COMMON ISUUES**\r\n\r\n- **Difficulty using python packages**\r\n\r\nAs [Joabe Lucena][2] pointed out [here][3], Alpine can have issues certain python packages.\r\nI recommend that you use a Linux distro that works best for you, e.g. centos.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49970245/2925044\r\n  [2]: https://stackoverflow.com/users/4094939/joabe-lucena\r\n  [3]: https://stackoverflow.com/a/62269189/2925044","title":"How to run Docker with python and Java?","body":"<p>OK it took me a little while to figure it out. And my thanks go to this <a href=\"https://stackoverflow.com/a/49970245/2925044\">answer</a>.</p>\n<p>I think my approach didn't work because I did not have a basic version of Linux.</p>\n<p>So it goes like this:</p>\n<ol>\n<li>Get Linux (I'm using Alpine because it's barebones)</li>\n<li>Get Java via the package manager</li>\n<li>Get Python, PIP</li>\n</ol>\n<p><strong>OPTIONAL</strong>: find and set JAVA_HOME</p>\n<ol start=\"4\">\n<li>Find the path to JAVA_HOME. Perhaps there is a better way to do this, but I did this running the running the container, then I looked inside the container using  <code>docker exec -it [COINTAINER ID] bin/bash</code> and found it.</li>\n<li>Set <code>JAVA_HOME</code> in dockerfile and build + run it all again</li>\n</ol>\n<p>Here is the final Dockerfile ( it should work with the python code in the question) :</p>\n<pre><code>### 1. Get Linux\nFROM alpine:3.7\n\n### 2. Get Java via the package manager\nRUN apk update \\\n&amp;&amp; apk upgrade \\\n&amp;&amp; apk add --no-cache bash \\\n&amp;&amp; apk add --no-cache --virtual=build-dependencies unzip \\\n&amp;&amp; apk add --no-cache curl \\\n&amp;&amp; apk add --no-cache openjdk8-jre\n\n### 3. Get Python, PIP\n\nRUN apk add --no-cache python3 \\\n&amp;&amp; python3 -m ensurepip \\\n&amp;&amp; pip3 install --upgrade pip setuptools \\\n&amp;&amp; rm -r /usr/lib/python*/ensurepip &amp;&amp; \\\nif [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi &amp;&amp; \\\nif [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi &amp;&amp; \\\nrm -r /root/.cache\n\n### Get Flask for the app\nRUN pip install --trusted-host pypi.python.org flask\n\n####\n#### OPTIONAL : 4. SET JAVA_HOME environment variable, uncomment the line below if you need it\n\n#ENV JAVA_HOME=&quot;/usr/lib/jvm/java-1.8-openjdk&quot;\n\n####\n\nEXPOSE 81    \nADD test.py /\nCMD [&quot;python&quot;, &quot;test.py&quot;]\n</code></pre>\n<p>I'm new to Docker, so this may not be the best possible solution. I'm open to suggestions.</p>\n<p><strong>UPDATE: COMMON ISUUES</strong></p>\n<ul>\n<li><strong>Difficulty using python packages</strong></li>\n</ul>\n<p>As <a href=\"https://stackoverflow.com/users/4094939/joabe-lucena\">Joabe Lucena</a> pointed out <a href=\"https://stackoverflow.com/a/62269189/2925044\">here</a>, Alpine can have issues certain python packages.\nI recommend that you use a Linux distro that works best for you, e.g. centos.</p>\n"},{"tags":[],"owner":{"account_id":8281904,"reputation":199,"user_id":6226318,"display_name":"RELW"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1538912946,"creation_date":1538912946,"answer_id":52688196,"question_id":51121875,"body_markdown":"you should have one FROM in your dockerfile\r\n(unless you use multi-stage build for the docker) ","title":"How to run Docker with python and Java?","body":"<p>you should have one FROM in your dockerfile\n(unless you use multi-stage build for the docker) </p>\n"},{"comments":[{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":1,"creation_date":1561023964,"post_id":54541510,"comment_id":99932176,"body_markdown":"**Update**, eventually, I switched into using two containers - to make life a bit simpler.","body":"<b>Update</b>, eventually, I switched into using two containers - to make life a bit simpler."},{"owner":{"account_id":9640511,"reputation":4079,"user_id":7154924,"accept_rate":86,"display_name":"flow2k"},"score":0,"creation_date":1570692605,"post_id":54541510,"comment_id":102994973,"body_markdown":"Hmm - after switching to 2 containers, how do you communicate between the Java and Python containers?","body":"Hmm - after switching to 2 containers, how do you communicate between the Java and Python containers?"},{"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"score":0,"creation_date":1570701497,"post_id":54541510,"comment_id":102999637,"body_markdown":"It&#39;s another long story. Check spring sidecar. It works as a forward proxy.","body":"It&#39;s another long story. Check spring sidecar. It works as a forward proxy."}],"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1549394099,"creation_date":1549394099,"answer_id":54541510,"question_id":51121875,"body_markdown":"Oh, let me add my five cents. I took python slim as a base image. Then I found open-jdk-11 (Note, open-jdk-10 will fail because it is not supported) base image code!... And copy-pasted it into my docker file. \r\n\r\n**Note, copy-paste driven development** is cool... ONLY when you understand each line you use in your code!!!\r\n\r\nAnd here it is!\r\n\r\n    &lt;!-- language: shell --&gt;\r\n    FROM python:3.7.2-slim\r\n\r\n    # Do your stuff, install python.\r\n    \r\n    # and now Jdk\r\n\tRUN rm -rf /var/lib/apt/lists/* &amp;&amp; apt-get clean &amp;&amp; apt-get update &amp;&amp; apt-get upgrade -y \\\r\n\t\t&amp;&amp; apt-get install -y --no-install-recommends curl ca-certificates \\\r\n\t\t&amp;&amp; rm -rf /var/lib/apt/lists/*\r\n\r\n\tENV JAVA_VERSION jdk-11.0.2+7\r\n\r\n\tCOPY slim-java* /usr/local/bin/\r\n\r\n\tRUN set -eux; \\\r\n\t\tARCH=&quot;$(dpkg --print-architecture)&quot;; \\\r\n\t\tcase &quot;${ARCH}&quot; in \\\r\n\t\t   ppc64el|ppc64le) \\\r\n\t\t\t ESUM=&#39;c18364a778b1b990e8e62d094377af48b000f9f6a64ec21baff6a032af06386d&#39;; \\\r\n\t\t\t BINARY_URL=&#39;https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.1%2B13/OpenJDK11U-jdk_ppc64le_linux_hotspot_11.0.1_13.tar.gz&#39;; \\\r\n\t\t\t ;; \\\r\n\t\t   s390x) \\\r\n\t\t\t ESUM=&#39;e39aacc270731dadcdc000aaaf709adae7a08113ccf5b4a045bc87fc13458d71&#39;; \\\r\n\t\t\t BINARY_URL=&#39;https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11%2B28/OpenJDK11-jdk_s390x_linux_hotspot_11_28.tar.gz&#39;; \\\r\n\t\t\t ;; \\\r\n\t\t   amd64|x86_64) \\\r\n\t\t\t ESUM=&#39;d89304a971e5186e80b6a48a9415e49583b7a5a9315ba5552d373be7782fc528&#39;; \\\r\n\t\t\t BINARY_URL=&#39;https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.2%2B7/OpenJDK11U-jdk_x64_linux_hotspot_11.0.2_7.tar.gz&#39;; \\\r\n\t\t\t ;; \\\r\n\t\t   aarch64|arm64) \\\r\n\t\t\t ESUM=&#39;b66121b9a0c2e7176373e670a499b9d55344bcb326f67140ad6d0dc24d13d3e2&#39;; \\\r\n\t\t\t BINARY_URL=&#39;https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.1%2B13/OpenJDK11U-jdk_aarch64_linux_hotspot_11.0.1_13.tar.gz&#39;; \\\r\n\t\t\t ;; \\\r\n\t\t   *) \\\r\n\t\t\t echo &quot;Unsupported arch: ${ARCH}&quot;; \\\r\n\t\t\t exit 1; \\\r\n\t\t\t ;; \\\r\n\t\tesac; \\\r\n\t\tcurl -Lso /tmp/openjdk.tar.gz ${BINARY_URL}; \\\r\n\t\tsha256sum /tmp/openjdk.tar.gz; \\\r\n\t\tmkdir -p /opt/java/openjdk; \\\r\n\t\tcd /opt/java/openjdk; \\\r\n\t\techo &quot;${ESUM}  /tmp/openjdk.tar.gz&quot; | sha256sum -c -; \\\r\n\t\ttar -xf /tmp/openjdk.tar.gz; \\\r\n\t\tjdir=$(dirname $(dirname $(find /opt/java/openjdk -name javac))); \\\r\n\t\tmv ${jdir}/* /opt/java/openjdk; \\\r\n\t\texport PATH=&quot;/opt/java/openjdk/bin:$PATH&quot;; \\\r\n\t\tapt-get update; apt-get install -y --no-install-recommends binutils; \\\r\n\t\t/usr/local/bin/slim-java.sh /opt/java/openjdk; \\\r\n\t\tapt-get remove -y binutils; \\\r\n\t\trm -rf /var/lib/apt/lists/*; \\\r\n\t\trm -rf ${jdir} /tmp/openjdk.tar.gz;\r\n\r\n\tENV JAVA_HOME=/opt/java/openjdk \\\r\n\t\tPATH=&quot;/opt/java/openjdk/bin:$PATH&quot;\r\n\tENV JAVA_TOOL_OPTIONS=&quot;-XX:+UseContainerSupport&quot;\r\n\r\nNow references.\r\nhttps://github.com/AdoptOpenJDK/openjdk-docker/blob/master/11/jdk/ubuntu/Dockerfile.hotspot.releases.slim\r\n\r\nhttps://hub.docker.com/_/python/\r\n\r\nhttps://hub.docker.com/r/adoptopenjdk/openjdk11/\r\n\r\nI used them to answer this question, which may help you sometime.\r\nhttps://stackoverflow.com/q/54537030/4587961","title":"How to run Docker with python and Java?","body":"<p>Oh, let me add my five cents. I took python slim as a base image. Then I found open-jdk-11 (Note, open-jdk-10 will fail because it is not supported) base image code!... And copy-pasted it into my docker file. </p>\n\n<p><strong>Note, copy-paste driven development</strong> is cool... ONLY when you understand each line you use in your code!!!</p>\n\n<p>And here it is!</p>\n\n<pre><code>&lt;!-- language: shell --&gt;\nFROM python:3.7.2-slim\n\n# Do your stuff, install python.\n\n# and now Jdk\nRUN rm -rf /var/lib/apt/lists/* &amp;&amp; apt-get clean &amp;&amp; apt-get update &amp;&amp; apt-get upgrade -y \\\n    &amp;&amp; apt-get install -y --no-install-recommends curl ca-certificates \\\n    &amp;&amp; rm -rf /var/lib/apt/lists/*\n\nENV JAVA_VERSION jdk-11.0.2+7\n\nCOPY slim-java* /usr/local/bin/\n\nRUN set -eux; \\\n    ARCH=\"$(dpkg --print-architecture)\"; \\\n    case \"${ARCH}\" in \\\n       ppc64el|ppc64le) \\\n         ESUM='c18364a778b1b990e8e62d094377af48b000f9f6a64ec21baff6a032af06386d'; \\\n         BINARY_URL='https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.1%2B13/OpenJDK11U-jdk_ppc64le_linux_hotspot_11.0.1_13.tar.gz'; \\\n         ;; \\\n       s390x) \\\n         ESUM='e39aacc270731dadcdc000aaaf709adae7a08113ccf5b4a045bc87fc13458d71'; \\\n         BINARY_URL='https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11%2B28/OpenJDK11-jdk_s390x_linux_hotspot_11_28.tar.gz'; \\\n         ;; \\\n       amd64|x86_64) \\\n         ESUM='d89304a971e5186e80b6a48a9415e49583b7a5a9315ba5552d373be7782fc528'; \\\n         BINARY_URL='https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.2%2B7/OpenJDK11U-jdk_x64_linux_hotspot_11.0.2_7.tar.gz'; \\\n         ;; \\\n       aarch64|arm64) \\\n         ESUM='b66121b9a0c2e7176373e670a499b9d55344bcb326f67140ad6d0dc24d13d3e2'; \\\n         BINARY_URL='https://github.com/AdoptOpenJDK/openjdk11-binaries/releases/download/jdk-11.0.1%2B13/OpenJDK11U-jdk_aarch64_linux_hotspot_11.0.1_13.tar.gz'; \\\n         ;; \\\n       *) \\\n         echo \"Unsupported arch: ${ARCH}\"; \\\n         exit 1; \\\n         ;; \\\n    esac; \\\n    curl -Lso /tmp/openjdk.tar.gz ${BINARY_URL}; \\\n    sha256sum /tmp/openjdk.tar.gz; \\\n    mkdir -p /opt/java/openjdk; \\\n    cd /opt/java/openjdk; \\\n    echo \"${ESUM}  /tmp/openjdk.tar.gz\" | sha256sum -c -; \\\n    tar -xf /tmp/openjdk.tar.gz; \\\n    jdir=$(dirname $(dirname $(find /opt/java/openjdk -name javac))); \\\n    mv ${jdir}/* /opt/java/openjdk; \\\n    export PATH=\"/opt/java/openjdk/bin:$PATH\"; \\\n    apt-get update; apt-get install -y --no-install-recommends binutils; \\\n    /usr/local/bin/slim-java.sh /opt/java/openjdk; \\\n    apt-get remove -y binutils; \\\n    rm -rf /var/lib/apt/lists/*; \\\n    rm -rf ${jdir} /tmp/openjdk.tar.gz;\n\nENV JAVA_HOME=/opt/java/openjdk \\\n    PATH=\"/opt/java/openjdk/bin:$PATH\"\nENV JAVA_TOOL_OPTIONS=\"-XX:+UseContainerSupport\"\n</code></pre>\n\n<p>Now references.\n<a href=\"https://github.com/AdoptOpenJDK/openjdk-docker/blob/master/11/jdk/ubuntu/Dockerfile.hotspot.releases.slim\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-docker/blob/master/11/jdk/ubuntu/Dockerfile.hotspot.releases.slim</a></p>\n\n<p><a href=\"https://hub.docker.com/_/python/\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/python/</a></p>\n\n<p><a href=\"https://hub.docker.com/r/adoptopenjdk/openjdk11/\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/adoptopenjdk/openjdk11/</a></p>\n\n<p>I used them to answer this question, which may help you sometime.\n<a href=\"https://stackoverflow.com/q/54537030/4587961\">Running Python and Java in Docker</a></p>\n"},{"comments":[{"owner":{"account_id":2486628,"reputation":869,"user_id":2164942,"accept_rate":88,"display_name":"Subramaniam Ramasubramanian"},"score":4,"creation_date":1576583765,"post_id":58293896,"comment_id":104939960,"body_markdown":"This is exactly what I was looking for! Granted, you need to use compatible images and stuff but this makes it so much more clear than all the other answers and some of them dont work anymore because openjdk is a pain in the behind.","body":"This is exactly what I was looking for! Granted, you need to use compatible images and stuff but this makes it so much more clear than all the other answers and some of them dont work anymore because openjdk is a pain in the behind."},{"owner":{"account_id":17844124,"reputation":156,"user_id":12961386,"display_name":"liamsuma"},"score":0,"creation_date":1596833591,"post_id":58293896,"comment_id":111948397,"body_markdown":"this is actually the best practice to do multi-stage builds. thanks for providing this.","body":"this is actually the best practice to do multi-stage builds. thanks for providing this."},{"owner":{"account_id":4983282,"reputation":4916,"user_id":4007615,"display_name":"cryanbhu"},"score":2,"creation_date":1610597534,"post_id":58293896,"comment_id":116185638,"body_markdown":"when i do a similar step `COPY --from=python:3.6 / /`, but the other way around, i.e. i have a Java base image, and then `COPY --from=java_stage / /` I get Python errors when trying to do Python `pip3 install ...` i think the Python files are overwritten by the COPY step?","body":"when i do a similar step <code>COPY --from=python:3.6 &#47; &#47;</code>, but the other way around, i.e. i have a Java base image, and then <code>COPY --from=java_stage &#47; &#47;</code> I get Python errors when trying to do Python <code>pip3 install ...</code> i think the Python files are overwritten by the COPY step?"},{"owner":{"account_id":980276,"reputation":5186,"user_id":1335793,"display_name":"Davos"},"score":4,"creation_date":1639654260,"post_id":58293896,"comment_id":124406669,"body_markdown":"Copying the entire root from one image to another is bound to be trouble. Who knows what you are clobbering there? If it does work then it&#39;s luck and unless you precisely pin those image versions it&#39;s probably going to break on you as updates occur.","body":"Copying the entire root from one image to another is bound to be trouble. Who knows what you are clobbering there? If it does work then it&#39;s luck and unless you precisely pin those image versions it&#39;s probably going to break on you as updates occur."}],"tags":[],"owner":{"account_id":1361547,"reputation":559,"user_id":8921227,"display_name":"sharma"},"comment_count":4,"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1570567711,"creation_date":1570567711,"answer_id":58293896,"question_id":51121875,"body_markdown":"An easier solution to the above issue is to use multi-stage docker containers where you can copy the content from one to another. In the above case you can have `openjdk:slim` as the base container and then use content from a python container to be copied over into this base container as follows:\r\n\r\n```\r\nFROM openjdk:slim\r\nCOPY --from=python:3.6 / /\r\n\r\n... \r\n\r\n&lt;normal instructions for python container continues&gt;\r\n\r\n...\r\n\r\n```\r\n\r\nThis feature is available as of Docker 17.05 and there are more things you can do using multi-stage build as in copying only the content you need from one to another.\r\n\r\n[Reference documentation][1]\r\n\r\n\r\n  [1]: https://docs.docker.com/develop/develop-images/multistage-build/","title":"How to run Docker with python and Java?","body":"<p>An easier solution to the above issue is to use multi-stage docker containers where you can copy the content from one to another. In the above case you can have <code>openjdk:slim</code> as the base container and then use content from a python container to be copied over into this base container as follows:</p>\n\n<pre><code>FROM openjdk:slim\nCOPY --from=python:3.6 / /\n\n... \n\n&lt;normal instructions for python container continues&gt;\n\n...\n\n</code></pre>\n\n<p>This feature is available as of Docker 17.05 and there are more things you can do using multi-stage build as in copying only the content you need from one to another.</p>\n\n<p><a href=\"https://docs.docker.com/develop/develop-images/multistage-build/\" rel=\"noreferrer\">Reference documentation</a></p>\n"},{"comments":[{"owner":{"account_id":1305743,"reputation":153,"user_id":1254782,"accept_rate":86,"display_name":"Sandor Farkas"},"score":0,"creation_date":1618522639,"post_id":61489619,"comment_id":118634193,"body_markdown":"Please note that this package is not actively maintained and is built on java 8.","body":"Please note that this package is not actively maintained and is built on java 8."},{"owner":{"account_id":980276,"reputation":5186,"user_id":1335793,"display_name":"Davos"},"score":0,"creation_date":1639654069,"post_id":61489619,"comment_id":124406597,"body_markdown":"It is old but it&#39;s crafted sensibly and would be easy to update and maintain, see https://github.com/rappdw/docker-java-python/blob/master/Dockerfile . The Python dockerfiles are complex so starting with the python base container and installing the azul zulu openJDK on top - as it does - looks like a good approach.","body":"It is old but it&#39;s crafted sensibly and would be easy to update and maintain, see <a href=\"https://github.com/rappdw/docker-java-python/blob/master/Dockerfile\" rel=\"nofollow noreferrer\">github.com/rappdw/docker-java-python/blob/master/Dockerfile</a> . The Python dockerfiles are complex so starting with the python base container and installing the azul zulu openJDK on top - as it does - looks like a good approach."}],"tags":[],"owner":{"account_id":17328139,"reputation":59,"user_id":12551907,"display_name":"Juliusz Ryłko"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1588106564,"creation_date":1588106564,"answer_id":61489619,"question_id":51121875,"body_markdown":"Another alternative is to simply use **docker-java-python image** from docker hub. https://hub.docker.com/r/rappdw/docker-java-python\r\n\r\n    FROM rappdw/docker-java-python:openjdk1.8.0_171-python3.6.6\r\n    RUN java -version\r\n    RUN python --version\r\n\r\n\r\n","title":"How to run Docker with python and Java?","body":"<p>Another alternative is to simply use <strong>docker-java-python image</strong> from docker hub. <a href=\"https://hub.docker.com/r/rappdw/docker-java-python\" rel=\"noreferrer\">https://hub.docker.com/r/rappdw/docker-java-python</a></p>\n\n<pre><code>FROM rappdw/docker-java-python:openjdk1.8.0_171-python3.6.6\nRUN java -version\nRUN python --version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5107202,"reputation":792,"user_id":4094939,"accept_rate":75,"display_name":"Joabe Lucena"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591642631,"creation_date":1591642070,"answer_id":62269189,"question_id":51121875,"body_markdown":"I tried [pajamas][1]&#39;s [anwser][2] which worked very well for creating this image. However, when trying to install packages like `gensim`, `pandas` or else, I faced some errors like: `don&#39;t know how to compile Fortran code on platform &#39;posix&#39;`. I searched and tried [this][3], [this][4] and [that][5] but none worked for me.\r\n\r\nSo, based on [pajamas][1]&#39;s [anwser][2] I decided to convert his image from `Alpine` to `Centos` which worked very well. So here&#39;s a Dockerfile that might help someone who&#39;s may be struggling in this scenario like I was:\r\n\r\n\r\n    # Get Linux\r\n    FROM centos:7\r\n    \r\n    # Install Java\r\n    RUN yum update -y \\\r\n    &amp;&amp; yum install java-1.8.0-openjdk -y \\\r\n    &amp;&amp; yum clean all \\\r\n    &amp;&amp; rm -rf /var/cache/yum\r\n    \r\n    # Set JAVA_HOME environment var\r\n    ENV JAVA_HOME=&quot;/usr/lib/jvm/jre-openjdk&quot;\r\n    \r\n    # Install Python\r\n    RUN yum install python3 -y \\\r\n    &amp;&amp; pip3 install --upgrade pip setuptools wheel \\\r\n    &amp;&amp; if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi \\\r\n    &amp;&amp; if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi \\\r\n    &amp;&amp; yum clean all \\\r\n    &amp;&amp; rm -rf /var/cache/yum\r\n    \r\n    CMD [&quot;bash&quot;]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2925044/pajamas\r\n  [2]: https://stackoverflow.com/a/51171447/4094939\r\n  [3]: https://stackoverflow.com/questions/29586487/still-cant-install-scipy-due-to-missing-fortran-compiler-after-brew-install-gcc\r\n  [4]: https://stackoverflow.com/questions/44732303/docker-unable-to-install-numpy-scipy-or-gensim\r\n  [5]: https://stackoverflow.com/questions/38568476/installing-seaborn-on-docker-alpine","title":"How to run Docker with python and Java?","body":"<p>I tried <a href=\"https://stackoverflow.com/users/2925044/pajamas\">pajamas</a>'s <a href=\"https://stackoverflow.com/a/51171447/4094939\">anwser</a> which worked very well for creating this image. However, when trying to install packages like <code>gensim</code>, <code>pandas</code> or else, I faced some errors like: <code>don't know how to compile Fortran code on platform 'posix'</code>. I searched and tried <a href=\"https://stackoverflow.com/questions/29586487/still-cant-install-scipy-due-to-missing-fortran-compiler-after-brew-install-gcc\">this</a>, <a href=\"https://stackoverflow.com/questions/44732303/docker-unable-to-install-numpy-scipy-or-gensim\">this</a> and <a href=\"https://stackoverflow.com/questions/38568476/installing-seaborn-on-docker-alpine\">that</a> but none worked for me.</p>\n\n<p>So, based on <a href=\"https://stackoverflow.com/users/2925044/pajamas\">pajamas</a>'s <a href=\"https://stackoverflow.com/a/51171447/4094939\">anwser</a> I decided to convert his image from <code>Alpine</code> to <code>Centos</code> which worked very well. So here's a Dockerfile that might help someone who's may be struggling in this scenario like I was:</p>\n\n<pre><code># Get Linux\nFROM centos:7\n\n# Install Java\nRUN yum update -y \\\n&amp;&amp; yum install java-1.8.0-openjdk -y \\\n&amp;&amp; yum clean all \\\n&amp;&amp; rm -rf /var/cache/yum\n\n# Set JAVA_HOME environment var\nENV JAVA_HOME=\"/usr/lib/jvm/jre-openjdk\"\n\n# Install Python\nRUN yum install python3 -y \\\n&amp;&amp; pip3 install --upgrade pip setuptools wheel \\\n&amp;&amp; if [ ! -e /usr/bin/pip ]; then ln -s pip3 /usr/bin/pip ; fi \\\n&amp;&amp; if [[ ! -e /usr/bin/python ]]; then ln -sf /usr/bin/python3 /usr/bin/python; fi \\\n&amp;&amp; yum clean all \\\n&amp;&amp; rm -rf /var/cache/yum\n\nCMD [\"bash\"]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":980276,"reputation":5186,"user_id":1335793,"display_name":"Davos"},"score":0,"creation_date":1639664147,"post_id":67986398,"comment_id":124410547,"body_markdown":"Using the more specific copy, adding the ENV and using update-alternatives is a very sane approach.","body":"Using the more specific copy, adding the ENV and using update-alternatives is a very sane approach."}],"tags":[],"owner":{"account_id":3289716,"reputation":483,"user_id":2768296,"accept_rate":50,"display_name":"Steven Gillies"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1623760573,"creation_date":1623760573,"answer_id":67986398,"question_id":51121875,"body_markdown":"I found Sunny Pal&#39;s answer very useful but I made the copy more specific and added the necessary environment variables and update-alternatives lines so that Java was accessible from the command line in the Python container.\r\n\r\n    FROM python:3.9-slim\r\n    COPY --from=openjdk:8-jre-slim /usr/local/openjdk-8 /usr/local/openjdk-8\r\n\r\n    ENV JAVA_HOME /usr/local/openjdk-8\r\n\r\n    RUN update-alternatives --install /usr/bin/java java /usr/local/openjdk-8/bin/java 1\r\n    ...","title":"How to run Docker with python and Java?","body":"<p>I found Sunny Pal's answer very useful but I made the copy more specific and added the necessary environment variables and update-alternatives lines so that Java was accessible from the command line in the Python container.</p>\n<pre><code>FROM python:3.9-slim\nCOPY --from=openjdk:8-jre-slim /usr/local/openjdk-8 /usr/local/openjdk-8\n\nENV JAVA_HOME /usr/local/openjdk-8\n\nRUN update-alternatives --install /usr/bin/java java /usr/local/openjdk-8/bin/java 1\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10663513,"reputation":127,"user_id":7850800,"display_name":"Talha Dilber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651011822,"creation_date":1651011822,"answer_id":72021175,"question_id":51121875,"body_markdown":"I think i found easiest way to mix java jdk 17 and python3. I is **not working on python2**\r\n\r\n```\r\nFROM openjdk:17.0.1-jdk-slim\r\n\r\n\r\nRUN apt-get update &amp;&amp; \\\r\n    apt-get install -y software-properties-common &amp;&amp; \\\r\n    apt-get install -y python3-pip\r\n```\r\nSoftware Commons have python3 lightweight version. (3.9.1 version)\r\n\r\nU can also install some libraries like that. \r\n\r\n```\r\nRUN python3 -m pip install --upgrade pip &amp;&amp; \\\r\n    python3 -m pip install numpy &amp;&amp; \\\r\n    python3 -m pip install opencv-python\r\n```\r\n\r\nOR\r\n\r\n```\r\nRUN apt-get update &amp;&amp; \\\r\n    apt-get install -y ffmpeg\r\n```","title":"How to run Docker with python and Java?","body":"<p>I think i found easiest way to mix java jdk 17 and python3. I is <strong>not working on python2</strong></p>\n<pre><code>FROM openjdk:17.0.1-jdk-slim\n\n\nRUN apt-get update &amp;&amp; \\\n    apt-get install -y software-properties-common &amp;&amp; \\\n    apt-get install -y python3-pip\n</code></pre>\n<p>Software Commons have python3 lightweight version. (3.9.1 version)</p>\n<p>U can also install some libraries like that.</p>\n<pre><code>RUN python3 -m pip install --upgrade pip &amp;&amp; \\\n    python3 -m pip install numpy &amp;&amp; \\\n    python3 -m pip install opencv-python\n</code></pre>\n<p>OR</p>\n<pre><code>RUN apt-get update &amp;&amp; \\\n    apt-get install -y ffmpeg\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162299,"reputation":3206,"user_id":1582107,"display_name":"Martin Tapp"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670013452,"creation_date":1670013452,"answer_id":74661206,"question_id":51121875,"body_markdown":"Easiest is to just start from a Python image and add the OpenJDK. Note that `FROM openjdk` has been deprecated and replaced with `eclipse-temurin`\r\n\r\n```\r\nFROM python:3.10\r\n\r\nENV JAVA_HOME=/opt/java/openjdk\r\nCOPY --from=eclipse-temurin:17-jre $JAVA_HOME $JAVA_HOME\r\nENV PATH=&quot;${JAVA_HOME}/bin:${PATH}&quot;\r\n\r\nRUN pip install --trusted-host pypi.python.org flask\r\n```\r\n\r\nSee `How to use this Image` - `Using a different base Image` section of https://hub.docker.com/_/eclipse-temurin for details.","title":"How to run Docker with python and Java?","body":"<p>Easiest is to just start from a Python image and add the OpenJDK. Note that <code>FROM openjdk</code> has been deprecated and replaced with <code>eclipse-temurin</code></p>\n<pre><code>FROM python:3.10\n\nENV JAVA_HOME=/opt/java/openjdk\nCOPY --from=eclipse-temurin:17-jre $JAVA_HOME $JAVA_HOME\nENV PATH=&quot;${JAVA_HOME}/bin:${PATH}&quot;\n\nRUN pip install --trusted-host pypi.python.org flask\n</code></pre>\n<p>See <code>How to use this Image</code> - <code>Using a different base Image</code> section of <a href=\"https://hub.docker.com/_/eclipse-temurin\" rel=\"nofollow noreferrer\">https://hub.docker.com/_/eclipse-temurin</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":17002862,"reputation":453,"user_id":12299805,"display_name":"Phong Phuong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684309252,"creation_date":1684307944,"answer_id":76269459,"question_id":51121875,"body_markdown":"Here&#39;s one I personally use that works with Java 17.\r\n\r\n    FROM eclipse-temurin:17-jre-alpine\r\n    \r\n    # Install Python and pip, can modify with a specific version of python too\r\n    RUN apk add --no-cache python3 py3-pip\r\n    \r\n    # Add your own commands, you can add python packages with pip install\r\n\r\nSkipped the security best practices to keep this short.","title":"How to run Docker with python and Java?","body":"<p>Here's one I personally use that works with Java 17.</p>\n<pre><code>FROM eclipse-temurin:17-jre-alpine\n\n# Install Python and pip, can modify with a specific version of python too\nRUN apk add --no-cache python3 py3-pip\n\n# Add your own commands, you can add python packages with pip install\n</code></pre>\n<p>Skipped the security best practices to keep this short.</p>\n"}],"owner":{"account_id":3497237,"reputation":1206,"user_id":2925044,"accept_rate":67,"display_name":"pajamas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55927,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":51171447,"answer_count":12,"score":31,"last_activity_date":1684309252,"creation_date":1530435852,"question_id":51121875,"body_markdown":"I need both java and python in my docker container to run some code. \r\n\r\nThis is my dockerfile:\r\nIt works perpectly if I don&#39;t add the **FROM openjdk:slim**\r\n\r\n\r\n    #get python\r\n    FROM python:3.6-slim\r\n    \r\n    RUN pip install --trusted-host pypi.python.org flask\r\n    \r\n    #get openjdk\r\n    \r\n    FROM openjdk:slim\r\n    \r\n    \r\n    COPY . /targetdir\r\n    WORKDIR /targetdir\r\n    \r\n    # Make port 81 available to the world outside this container\r\n    EXPOSE 81\r\n    \r\n    CMD [&quot;python&quot;, &quot;test.py&quot;]\r\n\r\n\r\nAnd the test.py app is in the same directory:\r\n\r\n\r\n    from flask import Flask\r\n    \r\n    import os\r\n    app = Flask(__name__)\r\n    \r\n    \r\n    @app.route(&quot;/&quot;)\r\n    \r\n    def hello():\r\n        html = &quot;&lt;h3&gt;Test:{test}&lt;/h3&gt;&quot;\r\n        test = os.environ[&#39;JAVA_HOME&#39;]\r\n    \r\n        return html.format(test = test)\r\n    \r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        app.run(debug=True,host=&#39;0.0.0.0&#39;,port=81)\r\n\r\n\r\nI&#39;m getting this error: \r\n\r\n    D:\\MyApps\\Docker Toolbox\\Docker Toolbox\\docker.exe: Error response from daemon: OCI runtime create failed: container_linux.go:348: starting container process caused &quot;exec: \\&quot;python\\&quot;: executable file not found in $PATH&quot;: unknown.\r\n\r\nWhat exactly am I doing wrong here? I&#39;m new to docker, perhaps I&#39;m missing a step.\r\n\r\n**Additional details**\r\n\r\n\r\n**My goal** \r\n\r\nI have to run a python program that runs a Java file. The python library I&#39;m using requires the path to `JAVA_HOME`.\r\n\r\n**My issues:**\r\n\r\n- I do not know Java, so I cannot run the file properly.\r\n\r\n- My entire code is in Python, except this Java bit\r\n\r\n- The Python wrapper runs the file in a way I need it to run.\r\n","title":"How to run Docker with python and Java?","body":"<p>I need both java and python in my docker container to run some code. </p>\n\n<p>This is my dockerfile:\nIt works perpectly if I don't add the <strong>FROM openjdk:slim</strong></p>\n\n<pre><code>#get python\nFROM python:3.6-slim\n\nRUN pip install --trusted-host pypi.python.org flask\n\n#get openjdk\n\nFROM openjdk:slim\n\n\nCOPY . /targetdir\nWORKDIR /targetdir\n\n# Make port 81 available to the world outside this container\nEXPOSE 81\n\nCMD [\"python\", \"test.py\"]\n</code></pre>\n\n<p>And the test.py app is in the same directory:</p>\n\n<pre><code>from flask import Flask\n\nimport os\napp = Flask(__name__)\n\n\n@app.route(\"/\")\n\ndef hello():\n    html = \"&lt;h3&gt;Test:{test}&lt;/h3&gt;\"\n    test = os.environ['JAVA_HOME']\n\n    return html.format(test = test)\n\n\nif __name__ == '__main__':\n    app.run(debug=True,host='0.0.0.0',port=81)\n</code></pre>\n\n<p>I'm getting this error: </p>\n\n<pre><code>D:\\MyApps\\Docker Toolbox\\Docker Toolbox\\docker.exe: Error response from daemon: OCI runtime create failed: container_linux.go:348: starting container process caused \"exec: \\\"python\\\": executable file not found in $PATH\": unknown.\n</code></pre>\n\n<p>What exactly am I doing wrong here? I'm new to docker, perhaps I'm missing a step.</p>\n\n<p><strong>Additional details</strong></p>\n\n<p><strong>My goal</strong> </p>\n\n<p>I have to run a python program that runs a Java file. The python library I'm using requires the path to <code>JAVA_HOME</code>.</p>\n\n<p><strong>My issues:</strong></p>\n\n<ul>\n<li><p>I do not know Java, so I cannot run the file properly.</p></li>\n<li><p>My entire code is in Python, except this Java bit</p></li>\n<li><p>The Python wrapper runs the file in a way I need it to run.</p></li>\n</ul>\n"},{"tags":["java","gwt","rpc"],"answers":[{"tags":[],"owner":{"account_id":24451126,"reputation":1,"user_id":18373366,"display_name":"Keller"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684309230,"creation_date":1684309230,"answer_id":76269615,"question_id":76264147,"body_markdown":"On create rpc instance use Async interface and on create by GWT use default interface\r\n\r\n    public static final GwtRpcServiceAsync GWT_RPC_SERVICE = GWT.create(GwtRpcService.class); ","title":"The application is not going with gwt-servlet","body":"<p>On create rpc instance use Async interface and on create by GWT use default interface</p>\n<pre><code>public static final GwtRpcServiceAsync GWT_RPC_SERVICE = GWT.create(GwtRpcService.class); \n</code></pre>\n"}],"owner":{"account_id":24451126,"reputation":1,"user_id":18373366,"display_name":"Keller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684309230,"creation_date":1684246832,"question_id":76264147,"body_markdown":"I did everything as in the tutorials, but for some reason there is still an error during assembly.\r\n\r\nGwtRpcService.java:\r\n```\r\n@RemoteServiceRelativePath(&quot;gwtRpcService&quot;)\r\npublic interface GwtRpcService extends RemoteService {\r\n    BaseRpcResult sendToPrint(EntityProxy model);\r\n}\r\n\r\n```\r\n\r\nGwtRpcServiceAsync.java:\r\n```\r\npublic interface GwtRpcServiceAsync {\r\n    void sendToPrint(EntityProxy data, AsyncCallback&lt;BaseRpcResult&gt; async);\r\n}\r\n```\r\n\r\nGwtRpcServiceImpl.java:\r\n```\r\n\r\n@Service\r\npublic class GwtRpcServiceImpl extends RemoteServiceServlet implements GwtRpcService {\r\n    @Autowired\r\n    private PrintService printService;\r\n\r\n    @Override\r\n    public BaseRpcResult sendToPrint(EntityProxy entityProxy) throws IllegalArgumentException {\r\n        // some...\r\n    }\r\n}\r\n```\r\n\r\nGWT log build:\r\n```\r\n[ERROR] Line 38: No source code is available for type &lt;project_path&gt;.gwt.server.GwtRpcServiceImpl; did you forget to inherit a required module?\r\n[ERROR] Unable to find type &#39;&lt;project_path&gt;.gwt.client.AppBundle&#39;\r\n[ERROR] Hint: Previous compiler errors may have made this type unavailable\r\n[ERROR] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly\r\n```\r\n\r\nPlease help me solve the problem.\r\n\r\n\r\n\r\nI thought the problem was that there is no library or the servlet is incorrectly declared, but everything seems to be fine.\r\n\r\nMain.gwt.xml:\r\n```\r\n&lt;module rename-to=&quot;gwt&quot;&gt;\r\n\r\n    &lt;source path=&#39;client&#39;/&gt;\r\n    &lt;source path=&#39;shared&#39;/&gt;\r\n\r\n    &lt;inherits name=&#39;com.google.gwt.user.User&#39;/&gt;\r\n    &lt;inherits name=&#39;com.google.gwt.logging.Logging&#39;/&gt;\r\n    &lt;inherits name=&quot;com.google.gwt.uibinder.UiBinder&quot;/&gt;\r\n    &lt;inherits name=&quot;com.google.web.bindery.requestfactory.RequestFactory&quot;/&gt;\r\n    &lt;inherits name=&quot;org.hibernate.validator.HibernateValidator&quot; /&gt;\r\n```\r\n\r\nweb.xml:\r\n```\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;gwtRpcService&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt; &lt;project_path&gt;.gwt.server.GwtRpcServiceImpl &lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;gwtRpcService&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/main/gwtRpc&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n```\r\n\r\npom.xml:\r\n```\r\n&lt;dependency&gt;\r\n     &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n     &lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;\r\n     &lt;version&gt;${com.google.gwt.version}&lt;/version&gt; // 2.6.1 version\r\n&lt;/dependency&gt;\r\n```","title":"The application is not going with gwt-servlet","body":"<p>I did everything as in the tutorials, but for some reason there is still an error during assembly.</p>\n<p>GwtRpcService.java:</p>\n<pre><code>@RemoteServiceRelativePath(&quot;gwtRpcService&quot;)\npublic interface GwtRpcService extends RemoteService {\n    BaseRpcResult sendToPrint(EntityProxy model);\n}\n\n</code></pre>\n<p>GwtRpcServiceAsync.java:</p>\n<pre><code>public interface GwtRpcServiceAsync {\n    void sendToPrint(EntityProxy data, AsyncCallback&lt;BaseRpcResult&gt; async);\n}\n</code></pre>\n<p>GwtRpcServiceImpl.java:</p>\n<pre><code>\n@Service\npublic class GwtRpcServiceImpl extends RemoteServiceServlet implements GwtRpcService {\n    @Autowired\n    private PrintService printService;\n\n    @Override\n    public BaseRpcResult sendToPrint(EntityProxy entityProxy) throws IllegalArgumentException {\n        // some...\n    }\n}\n</code></pre>\n<p>GWT log build:</p>\n<pre><code>[ERROR] Line 38: No source code is available for type &lt;project_path&gt;.gwt.server.GwtRpcServiceImpl; did you forget to inherit a required module?\n[ERROR] Unable to find type '&lt;project_path&gt;.gwt.client.AppBundle'\n[ERROR] Hint: Previous compiler errors may have made this type unavailable\n[ERROR] Hint: Check the inheritance chain from your module; it may not be inheriting a required module or a module may not be adding its source path entries properly\n</code></pre>\n<p>Please help me solve the problem.</p>\n<p>I thought the problem was that there is no library or the servlet is incorrectly declared, but everything seems to be fine.</p>\n<p>Main.gwt.xml:</p>\n<pre><code>&lt;module rename-to=&quot;gwt&quot;&gt;\n\n    &lt;source path='client'/&gt;\n    &lt;source path='shared'/&gt;\n\n    &lt;inherits name='com.google.gwt.user.User'/&gt;\n    &lt;inherits name='com.google.gwt.logging.Logging'/&gt;\n    &lt;inherits name=&quot;com.google.gwt.uibinder.UiBinder&quot;/&gt;\n    &lt;inherits name=&quot;com.google.web.bindery.requestfactory.RequestFactory&quot;/&gt;\n    &lt;inherits name=&quot;org.hibernate.validator.HibernateValidator&quot; /&gt;\n</code></pre>\n<p>web.xml:</p>\n<pre><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;gwtRpcService&lt;/servlet-name&gt;\n        &lt;servlet-class&gt; &lt;project_path&gt;.gwt.server.GwtRpcServiceImpl &lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;gwtRpcService&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/main/gwtRpc&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n<p>pom.xml:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n     &lt;artifactId&gt;gwt-servlet&lt;/artifactId&gt;\n     &lt;version&gt;${com.google.gwt.version}&lt;/version&gt; // 2.6.1 version\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","eclipse","swt","nattable"],"answers":[{"tags":[],"owner":{"account_id":3538064,"reputation":4183,"user_id":2955861,"display_name":"Dirk Fauth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684308918,"creation_date":1684308918,"answer_id":76269581,"question_id":76269516,"body_markdown":"You should double check if there is really no value in the backing data in the `FilterRowDataProvider`. Debug why the filter icon is displayed. Because it should only show up if a value is set in the backing data.","title":"Is there a way to disable the &#39;clear filter&#39; icon in Nattable filter row when there is no filter string?","body":"<p>You should double check if there is really no value in the backing data in the <code>FilterRowDataProvider</code>. Debug why the filter icon is displayed. Because it should only show up if a value is set in the backing data.</p>\n"}],"owner":{"account_id":7285774,"reputation":5,"user_id":5553889,"display_name":"Sridhar Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76269581,"answer_count":1,"score":0,"last_activity_date":1684308918,"creation_date":1684308386,"question_id":76269516,"body_markdown":"When I click on a filter cell and then move on to a different area in my view without entering a filter string, the &#39;clear filter&#39; icon is displayed in the cell even when I haven&#39;t entered a string. As shown in the Nattable given below, the filter columns having the icon enabled do not have any filter strings entered. Is there a way to explicity disable this behavior in the FilterRowConfiguration? \r\n\r\n[Nattable](https://i.stack.imgur.com/tMJNq.png)\r\n\r\n\r\nI found a similar behavior in the `_6031_GlazedListsFilterExample` for the first column in that example. However, the other columns in that example do not show the &#39;clear filter&#39; icon as expected.\r\n\r\nPasting the contents of my FilterRowConfiguration\r\n\r\n```\r\nfinal DefaultIntegerDisplayConverter idc = new DefaultIntegerDisplayConverter();\r\nfinal DefaultLongDisplayConverter ldc = new DefaultLongDisplayConverter();\r\n\r\n                @Override\r\n\t\tpublic void configureRegistry(IConfigRegistry configRegistry)\r\n\t\t{\r\n\t\tfor (int i = 0 ; i &lt; propNames.size() ; i++)\t\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tconfigRegistry.registerConfigAttribute(\r\n\t\t\t\t\t\tFilterRowConfigAttributes.TEXT_MATCHING_MODE,\r\n\t\t\t\t\t\tTextMatchingMode.REGULAR_EXPRESSION, DisplayMode.NORMAL,\r\n\t\t\t\t\t\tFilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + i);\r\n\t\t\t\tconfigRegistry.registerConfigAttribute(\r\n\t\t\t\t\t\tCellConfigAttributes.DISPLAY_CONVERTER,\r\n\t\t\t\t\t\tnew LinkerMapFilterRowRegexConverter(), DisplayMode.NORMAL,\r\n\t\t\t\t\t\tFilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + i);\r\n\r\n\t\t\t}\r\n\t\t\tconfigRegistry.registerConfigAttribute( \t\t\t\t\t\t\t\t// comparator\r\n\t\t\t\t\tFilterRowConfigAttributes.FILTER_COMPARATOR,\r\n\t\t\t\t\tComparator.nullsLast(new DefaultComparator()), DisplayMode.NORMAL,\r\n\t\t\t\t\tFilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\r\n\t\t\t\t\t\t\t.indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_SIZE));\r\n\r\n\t\t\tconfigRegistry.registerConfigAttribute(                       \t\t\t// filter display converter\r\n\t\t\t\t\tFilterRowConfigAttributes.FILTER_DISPLAY_CONVERTER, idc,\r\n\t\t\t\t\tDisplayMode.NORMAL,\r\n\t\t\t\t\tFilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\r\n\t\t\t\t\t\t\t.indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_SIZE));\r\n\r\n\t\t\tconfigRegistry.registerConfigAttribute(\r\n\t\t\t\t\tFilterRowConfigAttributes.TEXT_MATCHING_MODE,\r\n\t\t\t\t\tTextMatchingMode.REGULAR_EXPRESSION, DisplayMode.NORMAL,\r\n\t\t\t\t\tFilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\r\n\t\t\t\t\t\t\t.indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_SIZE));\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\tconfigRegistry.registerConfigAttribute( \t\t\t\t\t\t\t\t\t// comparator\r\n\t\t\t\t\tFilterRowConfigAttributes.FILTER_COMPARATOR,\r\n\t\t\t\t\tComparator.nullsLast(new DefaultComparator()), DisplayMode.NORMAL,\r\n\t\t\t\t\tFilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\r\n\t\t\t\t\t\t\t.indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_ADDRESS));\r\n\t\t\t\r\n\t\t\tconfigRegistry.registerConfigAttribute(                                      // filter display converter\r\n\t\t\t\t\tFilterRowConfigAttributes.FILTER_DISPLAY_CONVERTER, ldc,\r\n\t\t\t\t\tDisplayMode.NORMAL,\r\n\t\t\t\t\tFilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\r\n\t\t\t\t\t\t\t.indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_ADDRESS));\r\n\t\t\tconfigRegistry.registerConfigAttribute(\r\n\t\t\t\t\tFilterRowConfigAttributes.TEXT_MATCHING_MODE,\r\n\t\t\t\t\tTextMatchingMode.REGULAR_EXPRESSION, DisplayMode.NORMAL,\r\n\t\t\t\t\tFilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\r\n\t\t\t\t\t\t\t.indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_ADDRESS));\r\n\r\n\t\t}\r\n\r\n```","title":"Is there a way to disable the &#39;clear filter&#39; icon in Nattable filter row when there is no filter string?","body":"<p>When I click on a filter cell and then move on to a different area in my view without entering a filter string, the 'clear filter' icon is displayed in the cell even when I haven't entered a string. As shown in the Nattable given below, the filter columns having the icon enabled do not have any filter strings entered. Is there a way to explicity disable this behavior in the FilterRowConfiguration?</p>\n<p><a href=\"https://i.stack.imgur.com/tMJNq.png\" rel=\"nofollow noreferrer\">Nattable</a></p>\n<p>I found a similar behavior in the <code>_6031_GlazedListsFilterExample</code> for the first column in that example. However, the other columns in that example do not show the 'clear filter' icon as expected.</p>\n<p>Pasting the contents of my FilterRowConfiguration</p>\n<pre><code>final DefaultIntegerDisplayConverter idc = new DefaultIntegerDisplayConverter();\nfinal DefaultLongDisplayConverter ldc = new DefaultLongDisplayConverter();\n\n                @Override\n        public void configureRegistry(IConfigRegistry configRegistry)\n        {\n        for (int i = 0 ; i &lt; propNames.size() ; i++)    \n            {\n                \n                configRegistry.registerConfigAttribute(\n                        FilterRowConfigAttributes.TEXT_MATCHING_MODE,\n                        TextMatchingMode.REGULAR_EXPRESSION, DisplayMode.NORMAL,\n                        FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + i);\n                configRegistry.registerConfigAttribute(\n                        CellConfigAttributes.DISPLAY_CONVERTER,\n                        new LinkerMapFilterRowRegexConverter(), DisplayMode.NORMAL,\n                        FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + i);\n\n            }\n            configRegistry.registerConfigAttribute(                                 // comparator\n                    FilterRowConfigAttributes.FILTER_COMPARATOR,\n                    Comparator.nullsLast(new DefaultComparator()), DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_SIZE));\n\n            configRegistry.registerConfigAttribute(                                 // filter display converter\n                    FilterRowConfigAttributes.FILTER_DISPLAY_CONVERTER, idc,\n                    DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_SIZE));\n\n            configRegistry.registerConfigAttribute(\n                    FilterRowConfigAttributes.TEXT_MATCHING_MODE,\n                    TextMatchingMode.REGULAR_EXPRESSION, DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_SIZE));\n            \n            \n\n            configRegistry.registerConfigAttribute(                                     // comparator\n                    FilterRowConfigAttributes.FILTER_COMPARATOR,\n                    Comparator.nullsLast(new DefaultComparator()), DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_ADDRESS));\n            \n            configRegistry.registerConfigAttribute(                                      // filter display converter\n                    FilterRowConfigAttributes.FILTER_DISPLAY_CONVERTER, ldc,\n                    DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_ADDRESS));\n            configRegistry.registerConfigAttribute(\n                    FilterRowConfigAttributes.TEXT_MATCHING_MODE,\n                    TextMatchingMode.REGULAR_EXPRESSION, DisplayMode.NORMAL,\n                    FilterRowDataLayer.FILTER_ROW_COLUMN_LABEL_PREFIX + propNames\n                            .indexOf(ILinkerMapConstants.PROP_KEY_SYMBOL_ADDRESS));\n\n        }\n\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":28618200,"reputation":1,"user_id":21911724,"display_name":"ye gu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684308880,"creation_date":1684308880,"question_id":76269578,"body_markdown":"I want to create a MDM server to manage my iOS devices. I have enrolled in iOS Apple Developer Program. I have creat a CSR file，and upload it to create Certificate in Apple Push Certificates Portal.But it display the error message:Certificate Signature Verification failed.\r\nI really don&#39;t understand what went wrong.\r\n\r\nHope that it can create a certificate successfully.","title":"Apple MDM Server（APNs）: Certificate Signature Verification failed","body":"<p>I want to create a MDM server to manage my iOS devices. I have enrolled in iOS Apple Developer Program. I have creat a CSR file，and upload it to create Certificate in Apple Push Certificates Portal.But it display the error message:Certificate Signature Verification failed.\nI really don't understand what went wrong.</p>\n<p>Hope that it can create a certificate successfully.</p>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1684250168,"post_id":76264574,"comment_id":134488995,"body_markdown":"While it may not directly solve your problem i&#39;d like to ask: Is having the direct link from Child to Grandparent really necessary? Isn&#39;t having a link to the parent and them from there to the grandparent enough to model the relation? When doing queries you might have to do an extra join, but at least the relation wouldn&#39;t be saved twice redundantly in the database.","body":"While it may not directly solve your problem i&#39;d like to ask: Is having the direct link from Child to Grandparent really necessary? Isn&#39;t having a link to the parent and them from there to the grandparent enough to model the relation? When doing queries you might have to do an extra join, but at least the relation wouldn&#39;t be saved twice redundantly in the database."},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":1,"creation_date":1684256393,"post_id":76264574,"comment_id":134490639,"body_markdown":"Are you setting the `grandParent` member during the `Child` entity creation? Could you please share this part of the code?","body":"Are you setting the <code>grandParent</code> member during the <code>Child</code> entity creation? Could you please share this part of the code?"},{"owner":{"account_id":950467,"reputation":91,"user_id":976733,"display_name":"mesh"},"score":0,"creation_date":1684261525,"post_id":76264574,"comment_id":134491742,"body_markdown":"@OHGODSPIDERS - I couldn&#39;t agree more, yet that&#39;s the situation I&#39;m facing. I did edit my question with this clarification, thanks","body":"@OHGODSPIDERS - I couldn&#39;t agree more, yet that&#39;s the situation I&#39;m facing. I did edit my question with this clarification, thanks"},{"owner":{"account_id":950467,"reputation":91,"user_id":976733,"display_name":"mesh"},"score":1,"creation_date":1684262589,"post_id":76264574,"comment_id":134491956,"body_markdown":"@MauricioBuffon - Actually no, I didn&#39;t set the `grandParent` member explicitly in the `Child` - This should be handled by Hibernate no? I edited the question with the way I&#39;m creating the entities. Thanks","body":"@MauricioBuffon - Actually no, I didn&#39;t set the <code>grandParent</code> member explicitly in the <code>Child</code> - This should be handled by Hibernate no? I edited the question with the way I&#39;m creating the entities. Thanks"},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1684263549,"post_id":76264574,"comment_id":134492121,"body_markdown":"@mesh Well, how should Hibernate know how to derive that value then? Note that, in your code, the `@OneToOne` relationship is unidirectional.","body":"@mesh Well, how should Hibernate know how to derive that value then? Note that, in your code, the <code>@OneToOne</code> relationship is unidirectional."},{"owner":{"account_id":950467,"reputation":91,"user_id":976733,"display_name":"mesh"},"score":1,"creation_date":1684266154,"post_id":76264574,"comment_id":134492604,"body_markdown":"@MauricioBuffon I have updated the `addChild` method in Parent like this:  `public void addChild(Child child) {\n        if (this.children == null) {\n            this.children = new HashSet&lt;&gt;();\n        }\n        this.children.add(child);\n        child.setParent(this);\n        //let&#39;s try...\n        child.setGrandParent(getParent());\n    }` I guess that&#39;s what you meant - Still child.grand_parent_id is Null.","body":"@MauricioBuffon I have updated the <code>addChild</code> method in Parent like this:  <code>public void addChild(Child child) {         if (this.children == null) {             this.children = new HashSet&lt;&gt;();         }         this.children.add(child);         child.setParent(this);         &#47;&#47;let&#39;s try...         child.setGrandParent(getParent());     }</code> I guess that&#39;s what you meant - Still child.grand_parent_id is Null."},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":0,"creation_date":1684267183,"post_id":76264574,"comment_id":134492768,"body_markdown":"@mesh Yes, that&#39;s what I meant. The `Child#setParent` method isn&#39;t a problem (because the Child - Parent relationship is bidirectional; both entities map the relation). But the `Child#setGrandParent` method is necessary to let Hibernate know how to populate the `grand_parent_id` column in `child` table.","body":"@mesh Yes, that&#39;s what I meant. The <code>Child#setParent</code> method isn&#39;t a problem (because the Child - Parent relationship is bidirectional; both entities map the relation). But the <code>Child#setGrandParent</code> method is necessary to let Hibernate know how to populate the <code>grand_parent_id</code> column in <code>child</code> table."},{"owner":{"account_id":950467,"reputation":91,"user_id":976733,"display_name":"mesh"},"score":1,"creation_date":1684267898,"post_id":76264574,"comment_id":134492863,"body_markdown":"@MauricioBuffon First apologies, this should be `child.setGrandParent(getGrandParent())` I fixed it in the question. Still - it doesn&#39;t seem to solve the problem - **child.grand_parent_id is still NULL**","body":"@MauricioBuffon First apologies, this should be <code>child.setGrandParent(getGrandParent())</code> I fixed it in the question. Still - it doesn&#39;t seem to solve the problem - <b>child.grand_parent_id is still NULL</b>"},{"owner":{"account_id":12205661,"reputation":332,"user_id":8908834,"display_name":"Mauricio Buffon"},"score":1,"creation_date":1684270921,"post_id":76264574,"comment_id":134493382,"body_markdown":"@mesh Yeah, but note the order in your code: 1) create the child 2) create the parent 3) add the child to parent 3.1) set the grandParent of the child (which is null at this point) 4) create the grandParent 5) add the parent to grandParent. You have to assure that when you call `Child#setGrandParent` the object is not null.","body":"@mesh Yeah, but note the order in your code: 1) create the child 2) create the parent 3) add the child to parent 3.1) set the grandParent of the child (which is null at this point) 4) create the grandParent 5) add the parent to grandParent. You have to assure that when you call <code>Child#setGrandParent</code> the object is not null."},{"owner":{"account_id":950467,"reputation":91,"user_id":976733,"display_name":"mesh"},"score":1,"creation_date":1684271887,"post_id":76264574,"comment_id":134493552,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/253690/discussion-between-mesh-and-mauricio-buffon).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/253690/discussion-between-mesh-and-mauricio-buffon\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":950467,"reputation":91,"user_id":976733,"display_name":"mesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684308802,"creation_date":1684308802,"answer_id":76269569,"question_id":76264574,"body_markdown":"Root cause - I haven&#39;t set the grandParent explicitly on the child.\r\nHaving a one to one unidirectional relation between those entities, this is the way to go.\r\n\r\nCredits to @MauricioBuffon\r\n\r\n``` \r\npublic void addParent(Parent parent) {\r\n        if (this.parents == null) {\r\n            this.parents = new HashSet&lt;&gt;();\r\n        }\r\n        this.parents.add(parent);\r\n        parent.setGrandParent(this);\r\n        parent.getChildren().stream().forEach(child -&gt; child.setGrandParent(this));\r\n    }\r\n```","title":"Grandparent to Child mapping using Hibernate and JPA","body":"<p>Root cause - I haven't set the grandParent explicitly on the child.\nHaving a one to one unidirectional relation between those entities, this is the way to go.</p>\n<p>Credits to @MauricioBuffon</p>\n<pre><code>public void addParent(Parent parent) {\n        if (this.parents == null) {\n            this.parents = new HashSet&lt;&gt;();\n        }\n        this.parents.add(parent);\n        parent.setGrandParent(this);\n        parent.getChildren().stream().forEach(child -&gt; child.setGrandParent(this));\n    }\n</code></pre>\n"}],"owner":{"account_id":950467,"reputation":91,"user_id":976733,"display_name":"mesh"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684308802,"creation_date":1684249540,"question_id":76264574,"body_markdown":"I use Spring, Hibernate and JPA.\r\n(I will mention that this is a dropwizard application and not springboot, although I don&#39;t think it should have any affect...)\r\n\r\nStorage: MySql.\r\n\r\nThere&#39;s no usage with foreign key in the database.\r\n\r\n### Note: ###\r\n\r\nAs mentioned in one of the comments below - \r\nI totally agree that saving the grandparent id within the child table isn&#39;t ideal, and traversing child -&gt; parent -&gt; grandparent is a better practice. Specifically for this question please consider this as a given situation (kind of a legacy code I can&#39;t change now...)\r\n\r\nI have the following JPA entities:\r\n(names have been changed)\r\n\r\n**The GrandParent:**\r\n```\r\n@Entity\r\npublic class GrandParent {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;int unsigned not null&quot;)\r\n    private Long id;\r\n\r\n    //... some other fields... getters and setters\r\n\r\n    @OneToMany(mappedBy = &quot;parent&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n    )\r\n    private Set&lt;Parent&gt; parents;\r\n\r\n    public void addParent(Parent parent) {\r\n        if (this.parents == null) {\r\n            this.parents = new HashSet&lt;&gt;();\r\n        }\r\n        this.parents.add(parent);\r\n        parent.setGrandParent(this);\r\n    }\r\n\r\n    public void removeParent(Parent parent) {\r\n        this.parents.remove(parent);\r\n        parent.setGrandParent(null);\r\n    }\r\n\r\n}\r\n\r\n```\r\n**The Parent:**\r\n\r\n```\r\n\r\n@Entity\r\npublic class Parent {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;int unsigned&quot;)\r\n    private Long id;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;grand_parent_id&quot;, referencedColumnName = &quot;id&quot;, columnDefinition = &quot;int unsigned&quot;)\r\n    private GrandParent grandParent;\r\n   \r\n    @OneToMany(mappedBy = &quot;parent&quot;,\r\n            cascade = CascadeType.ALL,\r\n            orphanRemoval = true\r\n    )\r\n    private Set&lt;Child&gt; children;\r\n\r\n    // other fields, getters and setters\r\n\r\n    public void addChild(Child child) {\r\n        if (this.fields == null) {\r\n            this.fields = new HashSet&lt;&gt;();\r\n        }\r\n        this.children.add(child);\r\n        child.setParent(this);\r\n    }\r\n\r\n    public void removeChild(Child child) {\r\n        this.children.remove(child);\r\n        child.setParent(null);\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (!(o instanceof Parent )) return false;\r\n        return id != null &amp;&amp; id.equals(((Parent) o).getId());\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return getClass().hashCode();\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**The Child:**\r\n\r\n```\r\n\r\n@Entity\r\npublic class Child {\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Id\r\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;int unsigned&quot;)\r\n    private Long id;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;grand_parent_id&quot;, columnDefinition = &quot;int unsigned&quot;)\r\n    private GrandParent grandParent;\r\n\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;parent_id&quot;, columnDefinition = &quot;int unsigned&quot;)\r\n    private Parent parent;\r\n\r\n    // other fields, getters and setters\r\n\r\n\r\n}\r\n\r\n\r\n```\r\nI create a GrandParent instant in the following manner (I&#39;m mentioning just the relevant fields...):\r\n\r\n```\r\nChild child = Child.builder()\r\n                .someField(&quot;1&quot;)\r\n                .someOtherField(1)\r\n                .build();\r\n\r\nParent parent = Parent.builder()\r\n                .someField(&quot;1&quot;)\r\n                .someOtherField(1)\r\n                .build();\r\n        parent.addChild(child);\r\n        \r\nGrandParent grandParent = GrandParent.builder()\r\n                .someField(&quot;1&quot;)\r\n                .someOtherField(1)\r\n                .build();\r\n        grandParent.addParent(parent);\r\n```\r\n\r\nIn My Repository I save GrandParent entity using:\r\n```\r\nhibernateSession.save(grandParent);\r\n```\r\n\r\nIndeed all rows stored successfully, Yet the child.grand_parent_id remains Null.\r\n\r\nWhat’s wrong, and how can it be solved?\r\n\r\n**For better visibility I&#39;m adding this update** (refer to @MauricioBuffon comment below)\r\n\r\nI tried to set the `GrandParent` explicitly in the `Child` by editing the `addChild` method in `Parent` Entity:\r\n\r\n```\r\npublic void addChild(Child child) { \r\n        if (this.children == null) {             \r\n             this.children = new HashSet&lt;&gt;();         \r\n        }         \r\n        this.children.add(child);         \r\n        child.setParent(this);\r\n        //let&#39;s try...\r\n        child.setGrandParent(getGrandParent());\r\n     }\r\n```\r\n\r\nStill the Child.grand_parent_id = Null.\r\n\r\nSo question remains:\r\n\r\nWhat’s wrong, and how can it be solved?\r\n","title":"Grandparent to Child mapping using Hibernate and JPA","body":"<p>I use Spring, Hibernate and JPA.\n(I will mention that this is a dropwizard application and not springboot, although I don't think it should have any affect...)</p>\n<p>Storage: MySql.</p>\n<p>There's no usage with foreign key in the database.</p>\n<h3>Note:</h3>\n<p>As mentioned in one of the comments below -\nI totally agree that saving the grandparent id within the child table isn't ideal, and traversing child -&gt; parent -&gt; grandparent is a better practice. Specifically for this question please consider this as a given situation (kind of a legacy code I can't change now...)</p>\n<p>I have the following JPA entities:\n(names have been changed)</p>\n<p><strong>The GrandParent:</strong></p>\n<pre><code>@Entity\npublic class GrandParent {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;int unsigned not null&quot;)\n    private Long id;\n\n    //... some other fields... getters and setters\n\n    @OneToMany(mappedBy = &quot;parent&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private Set&lt;Parent&gt; parents;\n\n    public void addParent(Parent parent) {\n        if (this.parents == null) {\n            this.parents = new HashSet&lt;&gt;();\n        }\n        this.parents.add(parent);\n        parent.setGrandParent(this);\n    }\n\n    public void removeParent(Parent parent) {\n        this.parents.remove(parent);\n        parent.setGrandParent(null);\n    }\n\n}\n\n</code></pre>\n<p><strong>The Parent:</strong></p>\n<pre><code>\n@Entity\npublic class Parent {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private Long id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;grand_parent_id&quot;, referencedColumnName = &quot;id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private GrandParent grandParent;\n   \n    @OneToMany(mappedBy = &quot;parent&quot;,\n            cascade = CascadeType.ALL,\n            orphanRemoval = true\n    )\n    private Set&lt;Child&gt; children;\n\n    // other fields, getters and setters\n\n    public void addChild(Child child) {\n        if (this.fields == null) {\n            this.fields = new HashSet&lt;&gt;();\n        }\n        this.children.add(child);\n        child.setParent(this);\n    }\n\n    public void removeChild(Child child) {\n        this.children.remove(child);\n        child.setParent(null);\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Parent )) return false;\n        return id != null &amp;&amp; id.equals(((Parent) o).getId());\n    }\n\n    @Override\n    public int hashCode() {\n        return getClass().hashCode();\n    }\n\n}\n\n</code></pre>\n<p><strong>The Child:</strong></p>\n<pre><code>\n@Entity\npublic class Child {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private Long id;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;grand_parent_id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private GrandParent grandParent;\n\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;parent_id&quot;, columnDefinition = &quot;int unsigned&quot;)\n    private Parent parent;\n\n    // other fields, getters and setters\n\n\n}\n\n\n</code></pre>\n<p>I create a GrandParent instant in the following manner (I'm mentioning just the relevant fields...):</p>\n<pre><code>Child child = Child.builder()\n                .someField(&quot;1&quot;)\n                .someOtherField(1)\n                .build();\n\nParent parent = Parent.builder()\n                .someField(&quot;1&quot;)\n                .someOtherField(1)\n                .build();\n        parent.addChild(child);\n        \nGrandParent grandParent = GrandParent.builder()\n                .someField(&quot;1&quot;)\n                .someOtherField(1)\n                .build();\n        grandParent.addParent(parent);\n</code></pre>\n<p>In My Repository I save GrandParent entity using:</p>\n<pre><code>hibernateSession.save(grandParent);\n</code></pre>\n<p>Indeed all rows stored successfully, Yet the child.grand_parent_id remains Null.</p>\n<p>What’s wrong, and how can it be solved?</p>\n<p><strong>For better visibility I'm adding this update</strong> (refer to @MauricioBuffon comment below)</p>\n<p>I tried to set the <code>GrandParent</code> explicitly in the <code>Child</code> by editing the <code>addChild</code> method in <code>Parent</code> Entity:</p>\n<pre><code>public void addChild(Child child) { \n        if (this.children == null) {             \n             this.children = new HashSet&lt;&gt;();         \n        }         \n        this.children.add(child);         \n        child.setParent(this);\n        //let's try...\n        child.setGrandParent(getGrandParent());\n     }\n</code></pre>\n<p>Still the Child.grand_parent_id = Null.</p>\n<p>So question remains:</p>\n<p>What’s wrong, and how can it be solved?</p>\n"},{"tags":["java","jakarta-ee","jax-rs","resteasy","wildfly-8"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1431039506,"post_id":30111978,"comment_id":48336981,"body_markdown":"Problem is that the servlet container has a default servlet that handles the static content. When you define a servlet with the same mapping i.e. `/*`, this will shadow the static content servlet. When the Resteasy servlet invoked, if it can&#39;t find the requested static content, it will not fallback to the default servlet. I know Jersey has a configuration property to set, where it handle the static content itself, but I don&#39;t know about Resteasy. I [checked, but you can check again](http://docs.jboss.org/resteasy/docs/3.0.9.Final/userguide/html/Installation_Configuration.html#d4e125)","body":"Problem is that the servlet container has a default servlet that handles the static content. When you define a servlet with the same mapping i.e. <code>&#47;*</code>, this will shadow the static content servlet. When the Resteasy servlet invoked, if it can&#39;t find the requested static content, it will not fallback to the default servlet. I know Jersey has a configuration property to set, where it handle the static content itself, but I don&#39;t know about Resteasy. I <a href=\"http://docs.jboss.org/resteasy/docs/3.0.9.Final/userguide/html/Installation_Configuration.html#d4e125\" rel=\"nofollow noreferrer\">checked, but you can check again</a>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1431065608,"post_id":30111978,"comment_id":48344311,"body_markdown":"You can get away with a filter that understands when a request is for static content and responds itself; you *will* have to reproduce some (or all?) of the functionality of the static resource servlet. If you *only want to serve the swagger.yaml*, then you may create a JAX-RS service that responds to this URL by loading e.g the file from the classpath and sets the right headers.","body":"You can get away with a filter that understands when a request is for static content and responds itself; you <i>will</i> have to reproduce some (or all?) of the functionality of the static resource servlet. If you <i>only want to serve the swagger.yaml</i>, then you may create a JAX-RS service that responds to this URL by loading e.g the file from the classpath and sets the right headers."}],"answers":[{"comments":[{"owner":{"account_id":1888995,"reputation":976,"user_id":1707589,"display_name":"fasfsfgs"},"score":0,"creation_date":1432439482,"post_id":30180337,"comment_id":48925558,"body_markdown":"Even tho Resteasy&#39;s own documentation says servlet filters are **deprecated**, I think this is the only option when we need to serve both static resources and services. Or is there some config we could do to still use pure JAX-RS inside your app?","body":"Even tho Resteasy&#39;s own documentation says servlet filters are <b>deprecated</b>, I think this is the only option when we need to serve both static resources and services. Or is there some config we could do to still use pure JAX-RS inside your app?"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1432440676,"post_id":30180337,"comment_id":48925773,"body_markdown":"@fasfsfgs Yeah it seems kind of odd to me that the documentation would mention both the deprecation of the filter usage and it being the solution to a problem, let alone in the same paragraph. If it&#39;s any consolation, even with Jersey, to enable this feature, we need to register as a filter. Seems more like a limitation of servlets as a whole, rather than JAX-RS. As far as any other solution, this is the only one I was able to find, unless you&#39;re willing to change the servlet mapping to something else beside `/*`, which is not a possible solution for the OP","body":"@fasfsfgs Yeah it seems kind of odd to me that the documentation would mention both the deprecation of the filter usage and it being the solution to a problem, let alone in the same paragraph. If it&#39;s any consolation, even with Jersey, to enable this feature, we need to register as a filter. Seems more like a limitation of servlets as a whole, rather than JAX-RS. As far as any other solution, this is the only one I was able to find, unless you&#39;re willing to change the servlet mapping to something else beside <code>&#47;*</code>, which is not a possible solution for the OP"},{"owner":{"account_id":165044,"reputation":4235,"user_id":388185,"accept_rate":84,"display_name":"Alkanshel"},"score":0,"creation_date":1465252270,"post_id":30180337,"comment_id":62813901,"body_markdown":"Unlike other deprecated features (resteasy.scan property), resteasy still allows you to use this functionality.. so it&#39;s not really completely deprecated for servlet 3.0 containers..","body":"Unlike other deprecated features (resteasy.scan property), resteasy still allows you to use this functionality.. so it&#39;s not really completely deprecated for servlet 3.0 containers.."}],"tags":[],"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431394724,"creation_date":1431394724,"answer_id":30180337,"question_id":30111978,"body_markdown":"So I found a solution (tested) that works. As stated in the [Resteasy Documentation - RESTEasy as a servlet Filter](http://docs.jboss.org/resteasy/docs/3.0.9.Final/userguide/html/Installation_Configuration.html#filter):\r\n\r\n&gt;The downside of running Resteasy as a Servlet is that you cannot have static resources like .html and .jpeg files in the same path as your JAX-RS services. Resteasy allows you to run as a Filter instead. If a JAX-RS resource is not found under the URL requested, Resteasy will delegate back to the base servlet container to resolve URLs. \r\n\r\nweb.xml example\r\n\r\n    &lt;web-app&gt;\r\n        &lt;filter&gt;\r\n            &lt;filter-name&gt;Resteasy&lt;/filter-name&gt;\r\n            &lt;filter-class&gt;\r\n                org.jboss.resteasy.plugins.server.servlet.FilterDispatcher\r\n            &lt;/filter-class&gt;\r\n            &lt;init-param&gt;\r\n                &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\r\n                &lt;param-value&gt;com.restfully.shop.services.ShoppingApplication&lt;/param-value&gt;\r\n            &lt;/init-param&gt;\r\n        &lt;/filter&gt;\r\n    \r\n        &lt;filter-mapping&gt;\r\n            &lt;filter-name&gt;Resteasy&lt;/filter-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/filter-mapping&gt;\r\n    &lt;/web-app&gt;","title":"Hosting Static Content and JAX-RS Services Under the Same Root Context","body":"<p>So I found a solution (tested) that works. As stated in the <a href=\"http://docs.jboss.org/resteasy/docs/3.0.9.Final/userguide/html/Installation_Configuration.html#filter\" rel=\"nofollow\">Resteasy Documentation - RESTEasy as a servlet Filter</a>:</p>\n\n<blockquote>\n  <p>The downside of running Resteasy as a Servlet is that you cannot have static resources like .html and .jpeg files in the same path as your JAX-RS services. Resteasy allows you to run as a Filter instead. If a JAX-RS resource is not found under the URL requested, Resteasy will delegate back to the base servlet container to resolve URLs. </p>\n</blockquote>\n\n<p>web.xml example</p>\n\n<pre><code>&lt;web-app&gt;\n    &lt;filter&gt;\n        &lt;filter-name&gt;Resteasy&lt;/filter-name&gt;\n        &lt;filter-class&gt;\n            org.jboss.resteasy.plugins.server.servlet.FilterDispatcher\n        &lt;/filter-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;javax.ws.rs.Application&lt;/param-name&gt;\n            &lt;param-value&gt;com.restfully.shop.services.ShoppingApplication&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/filter&gt;\n\n    &lt;filter-mapping&gt;\n        &lt;filter-name&gt;Resteasy&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/filter-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":288866,"reputation":499,"user_id":589525,"accept_rate":0,"display_name":"Jaap D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545231259,"creation_date":1545231259,"answer_id":53853786,"question_id":30111978,"body_markdown":"I found another solution (thanks to https://stackoverflow.com/a/3582215/589525 ). This works for RestEasy on JBoss 6. Simply add the default servlet to the mapping\r\n\r\n    &lt;!--existing mapping: --&gt;\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;default&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n","title":"Hosting Static Content and JAX-RS Services Under the Same Root Context","body":"<p>I found another solution (thanks to <a href=\"https://stackoverflow.com/a/3582215/589525\">https://stackoverflow.com/a/3582215/589525</a> ). This works for RestEasy on JBoss 6. Simply add the default servlet to the mapping</p>\n\n<pre><code>&lt;!--existing mapping: --&gt;\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/rest/*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;default&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;*&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1122668,"reputation":111,"user_id":1110661,"display_name":"Mc Bton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684308793,"creation_date":1684308793,"answer_id":76269564,"question_id":30111978,"body_markdown":"If there is a limited (small) count of static resources, each could be added as a static `&lt;servlet&gt;`+`&lt;servlet-mapping&gt;` entry in the `web.xml`.\r\nThis shall work independently of the container used - as is a standard feature.\r\nE.g. like so:\r\n\r\n    &lt;servlet&gt;\r\n   \t    &lt;servlet-name&gt;swagger-yaml&lt;/servlet-name&gt;\r\n        &lt;jsp-file&gt;/swagger.yaml&lt;/jsp-file&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;swagger-yaml&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/swagger.yaml&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n\r\nAgain - this makes most sense only for very limited count of static resources (e.g. 1-5).\r\n\r\n","title":"Hosting Static Content and JAX-RS Services Under the Same Root Context","body":"<p>If there is a limited (small) count of static resources, each could be added as a static <code>&lt;servlet&gt;</code>+<code>&lt;servlet-mapping&gt;</code> entry in the <code>web.xml</code>.\nThis shall work independently of the container used - as is a standard feature.\nE.g. like so:</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;swagger-yaml&lt;/servlet-name&gt;\n    &lt;jsp-file&gt;/swagger.yaml&lt;/jsp-file&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;swagger-yaml&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/swagger.yaml&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>Again - this makes most sense only for very limited count of static resources (e.g. 1-5).</p>\n"}],"owner":{"account_id":2180771,"reputation":1911,"user_id":1930325,"accept_rate":24,"display_name":"peterl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4629,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1684308793,"creation_date":1431034061,"question_id":30111978,"body_markdown":"We have multiple Java web apps packaged as WARs all packaged in an EAR. Our RESTful services are built using JAX-RS and in version specific WARs. \r\n\r\nWe&#39;d like to add static content for each of these version specific WARs, but use the root context (of the WAR) for both the static content and the RESTful service API calls, such that all of the following URLs will work:\r\n\r\n\t{hostname}/v1/swagger.yaml  &lt;-- Static Content describing the v1 API\r\n\t{hostname}/v1/orders/{uid}\t&lt;-- JAX-RS RESTful API (v1)\r\n\t\r\n\t{hostname}/v2/swagger.yaml  &lt;-- Static Content describing the v2 API\r\n\t{hostname}/v2/orders/{uid}\t&lt;-- JAX-RS RESTful API (v2)\r\n\t\r\nThe following deployment structure is what we currently have, which works for the JAX-RS services, but not the static content. In other words these URLs work:\r\n\t\r\n\t{hostname}/v1/orders/{uid}\t&lt;-- JAX-RS RESTful API (v1)\r\n\t{hostname}/v2/orders/{uid}\t&lt;-- JAX-RS RESTful API (v2)\r\n\r\nBut the problem is that these URLS are inaccessible:\r\n\r\n\t{hostname}/v1/swagger.yaml  &lt;-- Static Content describing the v1 API\r\n\t{hostname}/v2/swagger.yaml  &lt;-- Static Content describing the v2 API\r\n\t\r\nQuestion: How do we get these static URLs to work?\r\n\r\nHere&#39;s the exploded EAR:\r\n\r\n\texample.ear\r\n\r\n\t\tMETA-INF\r\n\t\t\tapplication.xml\r\n\r\n\t\tv1.war\r\n\t\t\tswagger.yaml\r\n\t\t\tWEB-INF\r\n\t\t\t\tweb.xml\r\n\t\t\t\tclasses\r\n\t\t\t\t\tApplicationV1.class\r\n\t\t\t\t\tOrdersResourceV1.class\r\n\r\n\t\tv2.war\r\n\t\t\tswagger.yaml\r\n\t\t\tWEB-INF\r\n\t\t\t\tweb.xml\r\n\t\t\t\tclasses\r\n\t\t\t\t\tApplicationV2.class\r\n\t\t\t\t\tOrdersResourceV2.class\r\n\r\n\r\nHere&#39;s the EARs `application.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot;?&gt;\r\n    &lt;application xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/application_6.xsd&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; version=&quot;6&quot;&gt;\r\n      &lt;application-name&gt;...&lt;/application-name&gt;\r\n      &lt;module&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;v1.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/v1&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n      &lt;module&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;v2.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/v2&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n      &lt;module&gt;\r\n        &lt;web&gt;\r\n          &lt;web-uri&gt;another.war&lt;/web-uri&gt;\r\n          &lt;context-root&gt;/&lt;/context-root&gt;\r\n        &lt;/web&gt;\r\n      &lt;/module&gt;\r\n    &lt;/application&gt;\r\n\r\nHere&#39;s the v1 &amp; v2 `web.xml`:\r\n\r\n    &lt;web-app version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\nHere&#39;s the `ApplicationV1.java` (JAX-RS) implementation, notice the URL mapping:\r\n\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.ws.rs.ApplicationPath;\r\n    import javax.ws.rs.core.Application;\r\n    \r\n    \r\n    @ApplicationPath(&quot;/&quot;)\r\n    public class ApplicationV1 extends Application {\r\n    \r\n      private Set&lt;Object&gt; singletons = new HashSet&lt;Object&gt;();\r\n    \r\n      public ApplicationV1() {\r\n        singletons.add(new OrdersResourceV1());\r\n      }\r\n    \r\n      @Override\r\n      public Set&lt;Object&gt; getSingletons() {\r\n        return singletons;\r\n      }\r\n    \r\n    }\r\n\r\nHere&#39;s the `OrdersResourceV1.java` (JAX-RS) implementation, notice the URL mapping:\r\n\r\n    import javax.enterprise.context.RequestScoped;\r\n    import javax.ws.rs.*;\r\n    \r\n    @RequestScoped\r\n    @Path(&quot;/orders&quot;)\r\n    public class OrdersResourceV1 {\r\n    \r\n      @GET\r\n      @Path(&quot;/{uid}&quot;)\r\n      @Produces(&quot;application/json;charset=UTF-8&quot;)\r\n      public Response getOrder(@PathParam(&quot;uid&quot;) String orderUid) {\r\n        &lt;ommited for brevity&gt;\r\n      }\r\n    \r\n    }\r\n\r\n\r\nI do know that if we changed `ApplicationV*.java`&#39;s mapping to `@ApplicationPath(&quot;/services&quot;)`, that the static content will be assessable, but the URLs will then be as follows, but it&#39;s our goal to not include any extraneous path elements like this.\r\n\r\n\t{hostname}/v1/swagger.yaml  &lt;-- Static Content describing the v1 API\r\n\t{hostname}/v1/services/orders/{uid}\t&lt;-- JAX-RS RESTful API (v1)\r\n\t\r\n\t{hostname}/v2/swagger.yaml  &lt;-- Static Content describing the v2 API\r\n\t{hostname}/v2/services/orders/{uid}\t&lt;-- JAX-RS RESTful API (v2)\r\n\r\nSo my question is, how do we get the JAX-RS and static content under the root context for the WAR (`/v1` and `/v2`)? Is there a different way to map the URLs? Or is there a configuration option that allows for a static fallback if JAX-RS doesn&#39;t have a handler for the URL?\r\n\r\nI&#39;m hoping that this can be solved a JavaEE generic fashion, but if not, we&#39;re using Wildfly 8.1 on Java8.\r\n","title":"Hosting Static Content and JAX-RS Services Under the Same Root Context","body":"<p>We have multiple Java web apps packaged as WARs all packaged in an EAR. Our RESTful services are built using JAX-RS and in version specific WARs. </p>\n\n<p>We'd like to add static content for each of these version specific WARs, but use the root context (of the WAR) for both the static content and the RESTful service API calls, such that all of the following URLs will work:</p>\n\n<pre><code>{hostname}/v1/swagger.yaml  &lt;-- Static Content describing the v1 API\n{hostname}/v1/orders/{uid}  &lt;-- JAX-RS RESTful API (v1)\n\n{hostname}/v2/swagger.yaml  &lt;-- Static Content describing the v2 API\n{hostname}/v2/orders/{uid}  &lt;-- JAX-RS RESTful API (v2)\n</code></pre>\n\n<p>The following deployment structure is what we currently have, which works for the JAX-RS services, but not the static content. In other words these URLs work:</p>\n\n<pre><code>{hostname}/v1/orders/{uid}  &lt;-- JAX-RS RESTful API (v1)\n{hostname}/v2/orders/{uid}  &lt;-- JAX-RS RESTful API (v2)\n</code></pre>\n\n<p>But the problem is that these URLS are inaccessible:</p>\n\n<pre><code>{hostname}/v1/swagger.yaml  &lt;-- Static Content describing the v1 API\n{hostname}/v2/swagger.yaml  &lt;-- Static Content describing the v2 API\n</code></pre>\n\n<p>Question: How do we get these static URLs to work?</p>\n\n<p>Here's the exploded EAR:</p>\n\n<pre><code>example.ear\n\n    META-INF\n        application.xml\n\n    v1.war\n        swagger.yaml\n        WEB-INF\n            web.xml\n            classes\n                ApplicationV1.class\n                OrdersResourceV1.class\n\n    v2.war\n        swagger.yaml\n        WEB-INF\n            web.xml\n            classes\n                ApplicationV2.class\n                OrdersResourceV2.class\n</code></pre>\n\n<p>Here's the EARs <code>application.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;application xmlns=\"http://java.sun.com/xml/ns/javaee\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/application_6.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" version=\"6\"&gt;\n  &lt;application-name&gt;...&lt;/application-name&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;v1.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/v1&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;v2.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/v2&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n  &lt;module&gt;\n    &lt;web&gt;\n      &lt;web-uri&gt;another.war&lt;/web-uri&gt;\n      &lt;context-root&gt;/&lt;/context-root&gt;\n    &lt;/web&gt;\n  &lt;/module&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>Here's the v1 &amp; v2 <code>web.xml</code>:</p>\n\n<pre><code>&lt;web-app version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Here's the <code>ApplicationV1.java</code> (JAX-RS) implementation, notice the URL mapping:</p>\n\n<pre><code>import java.util.HashSet;\nimport java.util.Set;\n\nimport javax.ws.rs.ApplicationPath;\nimport javax.ws.rs.core.Application;\n\n\n@ApplicationPath(\"/\")\npublic class ApplicationV1 extends Application {\n\n  private Set&lt;Object&gt; singletons = new HashSet&lt;Object&gt;();\n\n  public ApplicationV1() {\n    singletons.add(new OrdersResourceV1());\n  }\n\n  @Override\n  public Set&lt;Object&gt; getSingletons() {\n    return singletons;\n  }\n\n}\n</code></pre>\n\n<p>Here's the <code>OrdersResourceV1.java</code> (JAX-RS) implementation, notice the URL mapping:</p>\n\n<pre><code>import javax.enterprise.context.RequestScoped;\nimport javax.ws.rs.*;\n\n@RequestScoped\n@Path(\"/orders\")\npublic class OrdersResourceV1 {\n\n  @GET\n  @Path(\"/{uid}\")\n  @Produces(\"application/json;charset=UTF-8\")\n  public Response getOrder(@PathParam(\"uid\") String orderUid) {\n    &lt;ommited for brevity&gt;\n  }\n\n}\n</code></pre>\n\n<p>I do know that if we changed <code>ApplicationV*.java</code>'s mapping to <code>@ApplicationPath(\"/services\")</code>, that the static content will be assessable, but the URLs will then be as follows, but it's our goal to not include any extraneous path elements like this.</p>\n\n<pre><code>{hostname}/v1/swagger.yaml  &lt;-- Static Content describing the v1 API\n{hostname}/v1/services/orders/{uid} &lt;-- JAX-RS RESTful API (v1)\n\n{hostname}/v2/swagger.yaml  &lt;-- Static Content describing the v2 API\n{hostname}/v2/services/orders/{uid} &lt;-- JAX-RS RESTful API (v2)\n</code></pre>\n\n<p>So my question is, how do we get the JAX-RS and static content under the root context for the WAR (<code>/v1</code> and <code>/v2</code>)? Is there a different way to map the URLs? Or is there a configuration option that allows for a static fallback if JAX-RS doesn't have a handler for the URL?</p>\n\n<p>I'm hoping that this can be solved a JavaEE generic fashion, but if not, we're using Wildfly 8.1 on Java8.</p>\n"},{"tags":["java","android","bitmap","mediastore"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1684300065,"post_id":76268655,"comment_id":134496238,"body_markdown":"Do you get any exceptions on the devices that don&#39;t work?","body":"Do you get any exceptions on the devices that don&#39;t work?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684308781,"post_id":76268655,"comment_id":134497609,"body_markdown":"Possible duplicate of https://stackoverflow.com/q/65637610/150978","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/65637610/150978\">stackoverflow.com/q/65637610/150978</a>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1684308825,"post_id":76268655,"comment_id":134497618,"body_markdown":"Since Android 10 you can not save files anywhere where you want in the &quot;external storage directory&quot;. Only specific paths are directly accessible. For the other you need to use scoped storage.","body":"Since Android 10 you can not save files anywhere where you want in the &quot;external storage directory&quot;. Only specific paths are directly accessible. For the other you need to use scoped storage."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1684311492,"post_id":76268655,"comment_id":134498200,"body_markdown":"Just try a public directory on external storage for pictures and images like DCIM and Pictures. And you should have placed a Toast() in that catch block to inform the user about the failing.","body":"Just try a public directory on external storage for pictures and images like DCIM and Pictures. And you should have placed a Toast() in that catch block to inform the user about the failing."}],"owner":{"account_id":28617279,"reputation":1,"user_id":21910976,"display_name":"Anshul Chaudhary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684308728,"creation_date":1684299084,"question_id":76268655,"body_markdown":"I am unable to compress a file on all devices in java in android studio. It works on some android versions but not on all. I am uploading a profile picture in my application, but to upload large files I am compressing it to so as to easily upload it. But the method which I am using for compressing the file is working on some android versions but not on all. \r\n\r\nI&#39;ve tried many methods, I&#39;ve resized my picture so as to reduce its size but at last the compressing method suits the most to my code and it was working fine for some devices but not for all.\r\n\r\n```\r\n   private File getBitmapFile(Bitmap reducedBitmap, File file1) {\r\n        File file = new File(Environment.getExternalStorageDirectory() + File.separator + file1.getName());\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n        reducedBitmap.compress(Bitmap.CompressFormat.JPEG,100,bos);\r\n        byte[] bitmapdata = bos.toByteArray();\r\n\r\n        Log.e(&quot;&quot;,&quot;         Working:    &quot;);\r\n        try{\r\n            file.createNewFile();\r\n            FileOutputStream fos = new FileOutputStream(file);\r\n            fos.write(bitmapdata);\r\n            fos.flush();  \r\n            fos.close();\r\n            return file;\r\n\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        return file;\r\n    }\r\n```\r\n","title":"I am unable to compress a file on all devices in java in android studio. It works on some android versions but not on all . Why?","body":"<p>I am unable to compress a file on all devices in java in android studio. It works on some android versions but not on all. I am uploading a profile picture in my application, but to upload large files I am compressing it to so as to easily upload it. But the method which I am using for compressing the file is working on some android versions but not on all.</p>\n<p>I've tried many methods, I've resized my picture so as to reduce its size but at last the compressing method suits the most to my code and it was working fine for some devices but not for all.</p>\n<pre><code>   private File getBitmapFile(Bitmap reducedBitmap, File file1) {\n        File file = new File(Environment.getExternalStorageDirectory() + File.separator + file1.getName());\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\n        reducedBitmap.compress(Bitmap.CompressFormat.JPEG,100,bos);\n        byte[] bitmapdata = bos.toByteArray();\n\n        Log.e(&quot;&quot;,&quot;         Working:    &quot;);\n        try{\n            file.createNewFile();\n            FileOutputStream fos = new FileOutputStream(file);\n            fos.write(bitmapdata);\n            fos.flush();  \n            fos.close();\n            return file;\n\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n        return file;\n    }\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":13876579,"reputation":90,"user_id":10018081,"display_name":"Jake White"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1616520353,"creation_date":1616519759,"answer_id":66768046,"question_id":66767951,"body_markdown":"So far, I&#39;ve found two ways to do this for me:\r\nusing Keys.ARROW_DOWN, Keys.PAGE_DOWN\r\nor executing a Javascript to scroll the element up/down.\r\n```java\r\nJavascriptExecutor jsExec = (JavascriptExecutor) driver;\r\njsExec.executeScript(&quot;document.getElementById(&#39;id&#39;).scrollTop += 100&quot;);\r\n```\r\n\r\n","title":"How to scroll down an element in Selenium java","body":"<p>So far, I've found two ways to do this for me:\nusing Keys.ARROW_DOWN, Keys.PAGE_DOWN\nor executing a Javascript to scroll the element up/down.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JavascriptExecutor jsExec = (JavascriptExecutor) driver;\njsExec.executeScript(&quot;document.getElementById('id').scrollTop += 100&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684242329,"post_id":76260985,"comment_id":134486709,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76260985/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":21917004,"reputation":38,"user_id":16200770,"display_name":"Santhosh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684308119,"creation_date":1684226602,"answer_id":76260985,"question_id":66767951,"body_markdown":"You can use Javascript executor\r\n\r\nFor scroll down,\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor) driver;\r\n    js.executeScript(&quot;window.scrollBy(0,250)&quot;);\r\n\r\nFor scroll Up,\r\n\r\n    js.executeScript(&quot;window.scrollBy(0,250)&quot;);\r\n\r\nyou can also use to scroll until element is visible\r\n\r\n    js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n\r\nYou can refer to [this site][1]\r\n\r\n\r\n  [1]: https://www.guru99.com/scroll-up-down-selenium-webdriver.html","title":"How to scroll down an element in Selenium java","body":"<p>You can use Javascript executor</p>\n<p>For scroll down,</p>\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(&quot;window.scrollBy(0,250)&quot;);\n</code></pre>\n<p>For scroll Up,</p>\n<pre><code>js.executeScript(&quot;window.scrollBy(0,250)&quot;);\n</code></pre>\n<p>you can also use to scroll until element is visible</p>\n<pre><code>js.executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n<p>You can refer to <a href=\"https://www.guru99.com/scroll-up-down-selenium-webdriver.html\" rel=\"nofollow noreferrer\">this site</a></p>\n"}],"owner":{"account_id":21001622,"reputation":1,"user_id":15432311,"display_name":"Jon87654"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684308119,"creation_date":1616519398,"question_id":66767951,"body_markdown":"I have a leader board element that I need to scroll down to view all players at the top of a web page using Selenium Java.  Having spent the past 2 hrs googling I am only able to find answers by scrolling down a page that is not what I need.\r\n\r\nI Have tried the following\r\n\r\n    \t\t//click on leaderboard\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div/div[2]/div[1]/div[2]/div[1]/div/div&quot;)).click();\r\n\r\n\t\t//scroll\r\n\t\tWebElement scroll = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;accordion-panel-1720\\&quot;]/div[2]/div&quot;));\r\n\t\tActions actions = new Actions(driver);\r\n\t\tactions.moveToElement(scroll).perform();\r\n\r\nand\r\n\r\n    \t\tWebElement scroll = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;accordion-panel-1720\\&quot;]/div[2]/div&quot;));\r\n\t\tActions act = new Actions(scroll);\r\n        act.sendKeys(Keys.PAGE_DOWN).build().perform(); //Page Down\r\n        System.out.println(&quot;Scroll down perfomed&quot;);\r\n\r\n","title":"How to scroll down an element in Selenium java","body":"<p>I have a leader board element that I need to scroll down to view all players at the top of a web page using Selenium Java.  Having spent the past 2 hrs googling I am only able to find answers by scrolling down a page that is not what I need.</p>\n<p>I Have tried the following</p>\n<pre><code>        //click on leaderboard\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div/div[2]/div[1]/div[2]/div[1]/div/div&quot;)).click();\n\n    //scroll\n    WebElement scroll = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;accordion-panel-1720\\&quot;]/div[2]/div&quot;));\n    Actions actions = new Actions(driver);\n    actions.moveToElement(scroll).perform();\n</code></pre>\n<p>and</p>\n<pre><code>        WebElement scroll = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;accordion-panel-1720\\&quot;]/div[2]/div&quot;));\n    Actions act = new Actions(scroll);\n    act.sendKeys(Keys.PAGE_DOWN).build().perform(); //Page Down\n    System.out.println(&quot;Scroll down perfomed&quot;);\n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1684241777,"post_id":76263229,"comment_id":134486543,"body_markdown":"That is a bit the point of streams. You&#39;re abstracting away this ordering. Which way do you think would be more efficient?","body":"That is a bit the point of streams. You&#39;re abstracting away this ordering. Which way do you think would be more efficient?"},{"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"score":0,"creation_date":1684242069,"post_id":76263229,"comment_id":134486629,"body_markdown":"can you elaborate?","body":"can you elaborate?"},{"owner":{"account_id":1823079,"reputation":1261,"user_id":1656663,"accept_rate":50,"display_name":"jesantana"},"score":0,"creation_date":1684242324,"post_id":76263229,"comment_id":134486708,"body_markdown":"Intermediate operations are lazy by default, and they don&#39;t process further elements until a final ones consumes the previous. The newly created stream is only queried when the final operation request to read the next element to process","body":"Intermediate operations are lazy by default, and they don&#39;t process further elements until a final ones consumes the previous. The newly created stream is only queried when the final operation request to read the next element to process"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1684248515,"post_id":76263229,"comment_id":134488523,"body_markdown":"https://stackoverflow.com/a/35157305/2711488","body":"<a href=\"https://stackoverflow.com/a/35157305/2711488\">stackoverflow.com/a/35157305/2711488</a>"}],"answers":[{"tags":[],"owner":{"account_id":395867,"reputation":2757,"user_id":759049,"accept_rate":96,"display_name":"Pateman"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684242511,"creation_date":1684242122,"answer_id":76263334,"question_id":76263229,"body_markdown":"That&#39;s because `map()` is indeed an intermediate operation, but it&#39;s also a stateless one. From the docs (https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps):\r\n\r\n&gt; Intermediate operations are further divided into stateless and stateful operations. Stateless operations, such as filter and map, retain no state from previously seen element when processing a new element -- each element can be processed independently of operations on other elements. Stateful operations, such as distinct and sorted, may incorporate state from previously seen elements when processing new elements.\r\n\r\nMeaning that whenever your element is mapped to a new one, it can immediately be processed by the rest of the pipeline, without the need to wait for all the elements to be mapped first. That&#39;s obviously an over-simplification, but I just wanted to explain the general idea.\r\n","title":"Streams-peculiar order of operation between intermediate and terminal operation","body":"<p>That's because <code>map()</code> is indeed an intermediate operation, but it's also a stateless one. From the docs (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#StreamOps</a>):</p>\n<blockquote>\n<p>Intermediate operations are further divided into stateless and stateful operations. Stateless operations, such as filter and map, retain no state from previously seen element when processing a new element -- each element can be processed independently of operations on other elements. Stateful operations, such as distinct and sorted, may incorporate state from previously seen elements when processing new elements.</p>\n</blockquote>\n<p>Meaning that whenever your element is mapped to a new one, it can immediately be processed by the rest of the pipeline, without the need to wait for all the elements to be mapped first. That's obviously an over-simplification, but I just wanted to explain the general idea.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684307893,"creation_date":1684307893,"answer_id":76269453,"question_id":76263229,"body_markdown":"Streams guarantee order processes take, but not the order the elements will be processed. Consider your example as a loop. If it were to work as you are suggesting, it would look like two loops.\r\n\r\n    for(Element e: stream){\r\n        e.setValue( e.getValue() + 4 );\r\n    }\r\n\r\n    for( Element e: stream){\r\n        System.out.println(e.getValue());\r\n    }\r\n\r\nIn this case you might say, wouldn&#39;t it be more efficient to use one loop?\r\n\r\n    for( Element e: stream ){\r\n        e.setValue( e.getValue() + 4 );\r\n        System.out.println(e.getValue());\r\n    }\r\n\r\nThis re-ordering offers some advantages, such as parallel computing and processing infinite streams. It also lets you create fluent streams as opposed to a monolithic mapping process.\r\n\r\n    Stream&lt;A&gt; a = stream.map( b-&gt;{\r\n                    //perform\r\n                    //a\r\n                    //lot\r\n                    //of\r\n                    //operations.\r\n                    return b;});\r\n\r\nWhich could be split into a multiple calls without traversing the stream multiple times. \r\n","title":"Streams-peculiar order of operation between intermediate and terminal operation","body":"<p>Streams guarantee order processes take, but not the order the elements will be processed. Consider your example as a loop. If it were to work as you are suggesting, it would look like two loops.</p>\n<pre><code>for(Element e: stream){\n    e.setValue( e.getValue() + 4 );\n}\n\nfor( Element e: stream){\n    System.out.println(e.getValue());\n}\n</code></pre>\n<p>In this case you might say, wouldn't it be more efficient to use one loop?</p>\n<pre><code>for( Element e: stream ){\n    e.setValue( e.getValue() + 4 );\n    System.out.println(e.getValue());\n}\n</code></pre>\n<p>This re-ordering offers some advantages, such as parallel computing and processing infinite streams. It also lets you create fluent streams as opposed to a monolithic mapping process.</p>\n<pre><code>Stream&lt;A&gt; a = stream.map( b-&gt;{\n                //perform\n                //a\n                //lot\n                //of\n                //operations.\n                return b;});\n</code></pre>\n<p>Which could be split into a multiple calls without traversing the stream multiple times.</p>\n"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76263334,"answer_count":2,"score":0,"last_activity_date":1684307893,"creation_date":1684241527,"question_id":76263229,"body_markdown":"\r\n    import java.util.stream.*;\r\n    \r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n          Stream.of(1, 2, 3).map(i -&gt; {\r\n              System.out.println(i+&quot;:inside map&quot;);\r\n              return i+4;\r\n           }).forEach(t-&gt;System.out.println(t + &quot;:inside foreach&quot;));\r\n        }\r\n    }\r\n\r\n// Prints:\r\n\r\n    1:inside map\r\n    5:inside foreach\r\n    2:inside map\r\n    6:inside foreach\r\n    3:inside map\r\n    7:inside foreach\r\n\r\nShouldn&#39;t the output be :\r\n\r\n    1:inside map\r\n    2:inside map\r\n    3:inside map\r\n    5:inside foreach\r\n    6:inside foreach\r\n    7:inside foreach\r\n\r\nI was under the impression that after each intermediate operation ends, it returns a new stream. So foreach should have gotten (5,6,7) and therefore print \r\n\r\n     5:inside foreach\r\n     6:inside foreach\r\n     7:inside foreach\r\n\r\nBut the case shows that foreach is executed for each entry of map one by one.\r\nWhy is that?\r\n\r\n","title":"Streams-peculiar order of operation between intermediate and terminal operation","body":"<pre><code>import java.util.stream.*;\n\npublic class MyClass {\n    public static void main(String args[]) {\n      Stream.of(1, 2, 3).map(i -&gt; {\n          System.out.println(i+&quot;:inside map&quot;);\n          return i+4;\n       }).forEach(t-&gt;System.out.println(t + &quot;:inside foreach&quot;));\n    }\n}\n</code></pre>\n<p>// Prints:</p>\n<pre><code>1:inside map\n5:inside foreach\n2:inside map\n6:inside foreach\n3:inside map\n7:inside foreach\n</code></pre>\n<p>Shouldn't the output be :</p>\n<pre><code>1:inside map\n2:inside map\n3:inside map\n5:inside foreach\n6:inside foreach\n7:inside foreach\n</code></pre>\n<p>I was under the impression that after each intermediate operation ends, it returns a new stream. So foreach should have gotten (5,6,7) and therefore print</p>\n<pre><code> 5:inside foreach\n 6:inside foreach\n 7:inside foreach\n</code></pre>\n<p>But the case shows that foreach is executed for each entry of map one by one.\nWhy is that?</p>\n"},{"tags":["java","list","memory-management","garbage-collection"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1623230506,"post_id":67901163,"comment_id":120017293,"body_markdown":"It should get garbage collected when it goes out of scope. What&#39;s your program doing for two hours?","body":"It should get garbage collected when it goes out of scope. What&#39;s your program doing for two hours?"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623231444,"post_id":67901163,"comment_id":120017738,"body_markdown":"My program is waiting for 1.5 hrs to get data only from source view from Database 1. Then other process takes around 10, 15 to max 30 mins. \n\nNow how will scope become out of scope? Does clear or null make it out of scope?","body":"My program is waiting for 1.5 hrs to get data only from source view from Database 1. Then other process takes around 10, 15 to max 30 mins.   Now how will scope become out of scope? Does clear or null make it out of scope?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1623231749,"post_id":67901163,"comment_id":120017884,"body_markdown":"In the vast majority of cases setting a variable to null or calling `clear()` is not necessary, because the variable should go out of scope if it&#39;s no longer needed anyway. In fact calling `clear()` might cause *more* work than simply letting it be garbage collected. **If** however you somehow hold on to that variable even though you no longer need it, then you should change that. And if you **can&#39;t** change that for some reason, setting it to `null` might work. Show us more precisely where this variable is. Is it a local variable? A field?","body":"In the vast majority of cases setting a variable to null or calling <code>clear()</code> is not necessary, because the variable should go out of scope if it&#39;s no longer needed anyway. In fact calling <code>clear()</code> might cause <i>more</i> work than simply letting it be garbage collected. <b>If</b> however you somehow hold on to that variable even though you no longer need it, then you should change that. And if you <b>can&#39;t</b> change that for some reason, setting it to <code>null</code> might work. Show us more precisely where this variable is. Is it a local variable? A field?"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623232214,"post_id":67901163,"comment_id":120018093,"body_markdown":"It is scheduler. Program ends  (Use JTA/JPA using Wildfly). Nothing happen at end. When you say out of scope then it means  Global { Local } &lt;-- At end line Local scope finishes and Global finishes when scheduler stops. When EJB scheduler starts, it create new object basically. (So when heap continue to fill, Collector must be noticing to empty previous object based on scopes?) .. Also is it possible Garbage collector gets late in collecting object and OOM?","body":"It is scheduler. Program ends  (Use JTA/JPA using Wildfly). Nothing happen at end. When you say out of scope then it means  Global { Local } &lt;-- At end line Local scope finishes and Global finishes when scheduler stops. When EJB scheduler starts, it create new object basically. (So when heap continue to fill, Collector must be noticing to empty previous object based on scopes?) .. Also is it possible Garbage collector gets late in collecting object and OOM?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1623232715,"post_id":67901163,"comment_id":120018324,"body_markdown":"Why are you loading 1.5 million records from the database in the first place? This is the real problem.","body":"Why are you loading 1.5 million records from the database in the first place? This is the real problem."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623233577,"post_id":67901163,"comment_id":120018717,"body_markdown":"@user207421: It is unavoidable requirement.","body":"@user207421: It is unavoidable requirement."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1623237003,"post_id":67901163,"comment_id":120020243,"body_markdown":"There are quite some stuff that is not known by us. How large is a record? What is the memory foot print of a record? Is there a performance requirement for the operation? Could you store the records offheap?","body":"There are quite some stuff that is not known by us. How large is a record? What is the memory foot print of a record? Is there a performance requirement for the operation? Could you store the records offheap?"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623237523,"post_id":67901163,"comment_id":120020439,"body_markdown":"It has only 6 columns (2 Email Address, ID Integer(20), GUID, String of Role Name like Manager). Memory footprint of record means? heap stack?","body":"It has only 6 columns (2 Email Address, ID Integer(20), GUID, String of Role Name like Manager). Memory footprint of record means? heap stack?"},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1623237798,"post_id":67901163,"comment_id":120020560,"body_markdown":"How many bytes is the record? if you wrote all the records to a file, how large would the file be?","body":"How many bytes is the record? if you wrote all the records to a file, how large would the file be?"},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1623251364,"post_id":67901163,"comment_id":120027124,"body_markdown":"you expect to load 1.5 million of entries and everything to be fine? the amount of memory needed is not going to be small, at all.","body":"you expect to load 1.5 million of entries and everything to be fine? the amount of memory needed is not going to be small, at all."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623262334,"post_id":67901163,"comment_id":120031982,"body_markdown":"If I load chunks of data say 100,000 at one DB1 and load 100,000 from DB2-compare(again other 100,000 from DB2-compare... upto till 1.5 million-compare).\nand again next 100,000 from DB1. What do you think will it be memory efficient? Will garbage collection done easily or it will lead to same? (Just thinking it will be quite long task and DB guys would be involve in some performance then only i can do this)","body":"If I load chunks of data say 100,000 at one DB1 and load 100,000 from DB2-compare(again other 100,000 from DB2-compare... upto till 1.5 million-compare). and again next 100,000 from DB1. What do you think will it be memory efficient? Will garbage collection done easily or it will lead to same? (Just thinking it will be quite long task and DB guys would be involve in some performance then only i can do this)"}],"answers":[{"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1623232219,"post_id":67901605,"comment_id":120018095,"body_markdown":"The standards don&#39;t require that heap never shrinks. In fact the JVM spec explicitly says &quot;The heap may be of a fixed size or may be expanded as required by the computation and may be contracted if a larger heap becomes unnecessary. &quot; but doesn&#39;t say much more about how that&#39;s done. All the details of GC and memory management like that are implementation-defined.","body":"The standards don&#39;t require that heap never shrinks. In fact the JVM spec explicitly says &quot;The heap may be of a fixed size or may be expanded as required by the computation and may be contracted if a larger heap becomes unnecessary. &quot; but doesn&#39;t say much more about how that&#39;s done. All the details of GC and memory management like that are implementation-defined."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623232324,"post_id":67901605,"comment_id":120018149,"body_markdown":"Now Heap size of server group is 1024 mb and max heap size is 4096 mb. So do you mean 1024 is reserved by OS and 4096 will considered as Virtual memory?","body":"Now Heap size of server group is 1024 mb and max heap size is 4096 mb. So do you mean 1024 is reserved by OS and 4096 will considered as Virtual memory?"},{"owner":{"account_id":11377243,"reputation":168,"user_id":8341158,"display_name":"michael.k"},"score":0,"creation_date":1623232491,"post_id":67901605,"comment_id":120018218,"body_markdown":"@JoachimSauer Well the thing is that many developers expect the memory consumption of an application – which they may see in the Task Manager or something similar – to shrink once their program frees data. That is the case with a C/C++ program etc., but not so with the common JVM implementations (unless you do configure it to shrink).","body":"@JoachimSauer Well the thing is that many developers expect the memory consumption of an application – which they may see in the Task Manager or something similar – to shrink once their program frees data. That is the case with a C/C++ program etc., but not so with the common JVM implementations (unless you do configure it to shrink)."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":4,"creation_date":1623232617,"post_id":67901605,"comment_id":120018280,"body_markdown":"@michael.k: I think the phrase &quot;by standard&quot; is confusing here, you probably meant &quot;by default&quot;, and I thought you meant that this behaviour is defined in the standards, which it is not.","body":"@michael.k: I think the phrase &quot;by standard&quot; is confusing here, you probably meant &quot;by default&quot;, and I thought you meant that this behaviour is defined in the standards, which it is not."},{"owner":{"account_id":11377243,"reputation":168,"user_id":8341158,"display_name":"michael.k"},"score":0,"creation_date":1623232659,"post_id":67901605,"comment_id":120018300,"body_markdown":"@fatherazrael Once your program allocated the 4096mb of heap memory it will keep it allocated from the operating system in the usual JVM implementations, even if your need for heap size shrinks to 10mb.","body":"@fatherazrael Once your program allocated the 4096mb of heap memory it will keep it allocated from the operating system in the usual JVM implementations, even if your need for heap size shrinks to 10mb."},{"owner":{"account_id":11377243,"reputation":168,"user_id":8341158,"display_name":"michael.k"},"score":0,"creation_date":1623232758,"post_id":67901605,"comment_id":120018354,"body_markdown":"@JoachimSauer You&#39;re right, I changed that &quot;standard&quot; to &quot;default&quot;, thanks.","body":"@JoachimSauer You&#39;re right, I changed that &quot;standard&quot; to &quot;default&quot;, thanks."},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623234319,"post_id":67901605,"comment_id":120019047,"body_markdown":"@michael.k: I increased memory heap size to 10 GB in production and found that in first execution it went fine and in second execution. It shuts down Linux server (0 memory ) :(","body":"@michael.k: I increased memory heap size to 10 GB in production and found that in first execution it went fine and in second execution. It shuts down Linux server (0 memory ) :("},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1623250982,"post_id":67901605,"comment_id":120026937,"body_markdown":"@fatherazrael this answer is completely wrong. the heap [does shrink](https://stackoverflow.com/questions/59362760/does-g1gc-release-back-memory-to-the-os-even-if-xms-xmx/59377080#59377080) even before jdk-12 where there is an explicit setting for this for `G1GC`. And the process is called un-commit memory. It depends on the JVM version, GC.","body":"@fatherazrael this answer is completely wrong. the heap <a href=\"https://stackoverflow.com/questions/59362760/does-g1gc-release-back-memory-to-the-os-even-if-xms-xmx/59377080#59377080\">does shrink</a> even before jdk-12 where there is an explicit setting for this for <code>G1GC</code>. And the process is called un-commit memory. It depends on the JVM version, GC."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":2,"creation_date":1623251148,"post_id":67901605,"comment_id":120027012,"body_markdown":"also `UseAdaptiveSizePolicy` has exactly zero to do with shrink of the heap. You confuse far too much in your answer.","body":"also <code>UseAdaptiveSizePolicy</code> has exactly zero to do with shrink of the heap. You confuse far too much in your answer."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1623392158,"post_id":67901605,"comment_id":120070722,"body_markdown":"and ... shrinking of the heap has nothing to do with the OP&#39;s actual problem.  It won&#39;t prevent OOMEs.","body":"and ... shrinking of the heap has nothing to do with the OP&#39;s actual problem.  It won&#39;t prevent OOMEs."}],"tags":[],"owner":{"account_id":11377243,"reputation":168,"user_id":8341158,"display_name":"michael.k"},"comment_count":10,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1623232705,"creation_date":1623231916,"answer_id":67901605,"question_id":67901163,"body_markdown":"The thing is that, by default, once allocated heap memory size does not shrink (I mean the memory size allocated from the operating system). If your Java application at one time needed 2 GB of RAM it will keep that reserved from the operating system by default.\r\n\r\nIf you can, try to change the design of your application to not firstly load all data into memory, but only load what you really need to do your work.\r\n\r\nIf you really need the two big batches at the same time think about using the following Java command line argument: &quot;-XX:+UseAdaptiveSizePolicy&quot;, which would make it possible to shrink the heap space after big memory usages.\r\n\r\nYou can also call the garbage collector via &quot;System.gc();&quot;, but that a) does not shrink the allocated heap memory without the suggested command line argument, and b) really, you should not think about this. Java will run it on it&#39;s own by time.\r\n\r\nEdit: Improved my first explanation a bit.","title":"Java: Does clear() the big size list help in quick garbage collection?","body":"<p>The thing is that, by default, once allocated heap memory size does not shrink (I mean the memory size allocated from the operating system). If your Java application at one time needed 2 GB of RAM it will keep that reserved from the operating system by default.</p>\n<p>If you can, try to change the design of your application to not firstly load all data into memory, but only load what you really need to do your work.</p>\n<p>If you really need the two big batches at the same time think about using the following Java command line argument: &quot;-XX:+UseAdaptiveSizePolicy&quot;, which would make it possible to shrink the heap space after big memory usages.</p>\n<p>You can also call the garbage collector via &quot;System.gc();&quot;, but that a) does not shrink the allocated heap memory without the suggested command line argument, and b) really, you should not think about this. Java will run it on it's own by time.</p>\n<p>Edit: Improved my first explanation a bit.</p>\n"},{"comments":[{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623262458,"post_id":67905821,"comment_id":120032034,"body_markdown":"Do not understand. Named query returns list of entities. like em.createNamedQuery().getResultList(). \n\nNow how to play with result lIst?","body":"Do not understand. Named query returns list of entities. like em.createNamedQuery().getResultList().   Now how to play with result lIst?"},{"owner":{"account_id":12720604,"reputation":294,"user_id":12622119,"display_name":"Quadslab"},"score":0,"creation_date":1623264332,"post_id":67905821,"comment_id":120032806,"body_markdown":"@fatherazrael what are you using to get your query?","body":"@fatherazrael what are you using to get your query?"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623385937,"post_id":67905821,"comment_id":120069422,"body_markdown":"select * from table name","body":"select * from table name"},{"owner":{"account_id":12720604,"reputation":294,"user_id":12622119,"display_name":"Quadslab"},"score":0,"creation_date":1623388275,"post_id":67905821,"comment_id":120069876,"body_markdown":"@fatherazrael That you are using SQL is rather important information! You can use a [ResultSet](https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html) and only get the data for the next row to do the comparisons. No need to create a list for all of the data.","body":"@fatherazrael That you are using SQL is rather important information! You can use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">ResultSet</a> and only get the data for the next row to do the comparisons. No need to create a list for all of the data."}],"tags":[],"owner":{"account_id":12720604,"reputation":294,"user_id":12622119,"display_name":"Quadslab"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1623247729,"creation_date":1623247729,"answer_id":67905821,"question_id":67901163,"body_markdown":"Best for memory usage would be for the list to not go out of scope. So it would be better (memory wise) to just modify the content one by one, keeping only one temporary entry object instead of a whole other list.\n\nSo you could create a `getNextFromNamedQuery()` and `hasNextInNamedQuery()` method and [set][1] the data at the current index.\n\ne.g.:\n```\nint i=0;\nwhile(hasNextInNamedQuery()) {\n    if(dDb.size()&lt;=i) dDb.add(getNextFromQuery());\n    else dDb.set(i,getNextFromQuery());\n    i++;\n}\n```\n\n [1]: https://docs.oracle.com/javase/8/docs/api/java/util/List.html#set-int-E-","title":"Java: Does clear() the big size list help in quick garbage collection?","body":"<p>Best for memory usage would be for the list to not go out of scope. So it would be better (memory wise) to just modify the content one by one, keeping only one temporary entry object instead of a whole other list.</p>\n<p>So you could create a <code>getNextFromNamedQuery()</code> and <code>hasNextInNamedQuery()</code> method and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#set-int-E-\" rel=\"nofollow noreferrer\">set</a> the data at the current index.</p>\n<p>e.g.:</p>\n<pre><code>int i=0;\nwhile(hasNextInNamedQuery()) {\n    if(dDb.size()&lt;=i) dDb.add(getNextFromQuery());\n    else dDb.set(i,getNextFromQuery());\n    i++;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623262357,"post_id":67907607,"comment_id":120031993,"body_markdown":"Thanks for Comment Stephen. \n\nSuppose, If I load chunks of data say 100,000 at one DB1 and load 100,000 from DB2-compare(again other 100,000 from DB2-compare... upto till 1.5 million-compare).\nand again next 100,000 from DB1. What do you think will it be memory efficient? Will garbage collection done easily or it will lead to same? (Just thinking it will be quite long task and DB guys would be involve in some performance then only i can do this)","body":"Thanks for Comment Stephen.   Suppose, If I load chunks of data say 100,000 at one DB1 and load 100,000 from DB2-compare(again other 100,000 from DB2-compare... upto till 1.5 million-compare). and again next 100,000 from DB1. What do you think will it be memory efficient? Will garbage collection done easily or it will lead to same? (Just thinking it will be quite long task and DB guys would be involve in some performance then only i can do this)"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1623286109,"post_id":67907607,"comment_id":120038456,"body_markdown":"If the size of the in-memory lists is smaller then there will be will be less heap pressure, and GC overheads will be less.  And less risk of OOMEs.  (This doesn&#39;t necessarily mean that the total memory (RAM) footprint will be smaller, but that&#39;s not what you should optimize for ...)","body":"If the size of the in-memory lists is smaller then there will be will be less heap pressure, and GC overheads will be less.  And less risk of OOMEs.  (This doesn&#39;t necessarily mean that the total memory (RAM) footprint will be smaller, but that&#39;s not what you should optimize for ...)"},{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623386255,"post_id":67907607,"comment_id":120069477,"body_markdown":"@Stephel C: As per above comments, i understand At this moment no other way for optimizing then Chunk retrieval of records and compare with chunk n from db 2 . The only thing is increase memory if want to do this.","body":"@Stephel C: As per above comments, i understand At this moment no other way for optimizing then Chunk retrieval of records and compare with chunk n from db 2 . The only thing is increase memory if want to do this."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1623392021,"post_id":67907607,"comment_id":120070689,"body_markdown":"That would be my advice.","body":"That would be my advice."}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684307230,"creation_date":1623253833,"answer_id":67907607,"question_id":67901163,"body_markdown":"Assuming that your goal is to reduce the occurrence of OOMEs over all other considerations ...\r\n\r\nAssigning `null` to the `List` object will make the entire list eligible for garbage collection.  You then need to create a new (presumably empty) list to replace it.\r\n\r\nCalling `clear()` will have a *similar* effect&lt;sup&gt;1&lt;/sup&gt; to nulling and recreating, though the details will depend on the `List` implementation.  (For example, calling `clear()` on an `ArrayList` doesn&#39;t release the backing array.  It just nulls the array cells.)\r\n\r\nIf you can recycle an `ArrayList` for a list of roughly the same size as the original, you can avoid the garbage while growing the list.  (But we don&#39;t know this is an `ArrayList`!)\r\n\r\nAnother factor in your use-case is that:\r\n\r\n    List&lt;DannDB&gt; dDb = fromNamedQuery();\r\n\r\nis (presumably) going to create a new list anyway.  That would render a `clear()` pointless.  (Just assign `null` to `dDb`, or let the variable go out of scope or be reassigned the new list.)\r\n\r\nA final issue is that it is conceivable that the list is finalizable.  That could mean that the list object takes longer to delete.\r\n\r\nOverall, I can&#39;t say which of assigning `null` and calling `clear()` will be better for the memory footprint.  Or that *either* of these will make a significant difference.  But there is no reason why you can&#39;t try both alternatives, and observe what happens.\r\n\r\nThe only other things I can suggest are:\r\n\r\n  - Increase the heap size (and the RAM footprint).\r\n  - Change the application so that you don&#39;t need to hold entire database snapshots in memory.  Depending on the nature of the comparison, you could do it in &quot;chunks&quot; or by streaming the records&lt;sup&gt;2&lt;/sup&gt;.\r\n\r\nThe last one is the only solution that is scalable; i.e. that will work with an ever larger number of records.  (Modulo the time taken to deal with more records.)\r\n\r\n------------------\r\n\r\n**Important Notes:** \r\n\r\n  1.  Manually running `System.gc()` is *unlikely* to help.  At best it will (just) make your application slower.\r\n  2.  Since the real problem is that you are getting OOMEs, anything that tries to get the JVM to shrink the heap by giving memory back to the OS will be counterproductive.\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - Similar from the perspective of storage management.  Obviously, there are semantic differences between clearing a list and creating a new one; e.g. if some other part of your application has a reference to the original list.&lt;br&gt;\r\n2 - Those of you are old enough will remember the classic way of implementing a payroll system with magnetic tape storage.  If you can select from the two data sources in the same key order, you may be able to use the classic approach to compare them.  For example, reading two resultsets in parallel.&lt;/sup&gt;","title":"Java: Does clear() the big size list help in quick garbage collection?","body":"<p>Assuming that your goal is to reduce the occurrence of OOMEs over all other considerations ...</p>\n<p>Assigning <code>null</code> to the <code>List</code> object will make the entire list eligible for garbage collection.  You then need to create a new (presumably empty) list to replace it.</p>\n<p>Calling <code>clear()</code> will have a <em>similar</em> effect<sup>1</sup> to nulling and recreating, though the details will depend on the <code>List</code> implementation.  (For example, calling <code>clear()</code> on an <code>ArrayList</code> doesn't release the backing array.  It just nulls the array cells.)</p>\n<p>If you can recycle an <code>ArrayList</code> for a list of roughly the same size as the original, you can avoid the garbage while growing the list.  (But we don't know this is an <code>ArrayList</code>!)</p>\n<p>Another factor in your use-case is that:</p>\n<pre><code>List&lt;DannDB&gt; dDb = fromNamedQuery();\n</code></pre>\n<p>is (presumably) going to create a new list anyway.  That would render a <code>clear()</code> pointless.  (Just assign <code>null</code> to <code>dDb</code>, or let the variable go out of scope or be reassigned the new list.)</p>\n<p>A final issue is that it is conceivable that the list is finalizable.  That could mean that the list object takes longer to delete.</p>\n<p>Overall, I can't say which of assigning <code>null</code> and calling <code>clear()</code> will be better for the memory footprint.  Or that <em>either</em> of these will make a significant difference.  But there is no reason why you can't try both alternatives, and observe what happens.</p>\n<p>The only other things I can suggest are:</p>\n<ul>\n<li>Increase the heap size (and the RAM footprint).</li>\n<li>Change the application so that you don't need to hold entire database snapshots in memory.  Depending on the nature of the comparison, you could do it in &quot;chunks&quot; or by streaming the records<sup>2</sup>.</li>\n</ul>\n<p>The last one is the only solution that is scalable; i.e. that will work with an ever larger number of records.  (Modulo the time taken to deal with more records.)</p>\n<hr />\n<p><strong>Important Notes:</strong></p>\n<ol>\n<li>Manually running <code>System.gc()</code> is <em>unlikely</em> to help.  At best it will (just) make your application slower.</li>\n<li>Since the real problem is that you are getting OOMEs, anything that tries to get the JVM to shrink the heap by giving memory back to the OS will be counterproductive.</li>\n</ol>\n<hr />\n<p><sup>1 - Similar from the perspective of storage management.  Obviously, there are semantic differences between clearing a list and creating a new one; e.g. if some other part of your application has a reference to the original list.<br>\n2 - Those of you are old enough will remember the classic way of implementing a payroll system with magnetic tape storage.  If you can select from the two data sources in the same key order, you may be able to use the classic approach to compare them.  For example, reading two resultsets in parallel.</sup></p>\n"},{"comments":[{"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"score":0,"creation_date":1623402558,"post_id":67932028,"comment_id":120074543,"body_markdown":"Are you sure if it will solve memory issue?","body":"Are you sure if it will solve memory issue?"},{"owner":{"account_id":12720604,"reputation":294,"user_id":12622119,"display_name":"Quadslab"},"score":0,"creation_date":1623406240,"post_id":67932028,"comment_id":120076033,"body_markdown":"@fatherazrael It always depends on the JVM, but you don&#39;t need to box `int`, `float`, etc. in their classes with this approach. `ResultSet` is the direct result of a `Statement` and you probably can&#39;t really get less overhead in SQL than using this. I would try this, and if there still is a memory issue, you need to change the statement itself, i.e. not getting everything in one call, but get the first n rows or columns instead.","body":"@fatherazrael It always depends on the JVM, but you don&#39;t need to box <code>int</code>, <code>float</code>, etc. in their classes with this approach. <code>ResultSet</code> is the direct result of a <code>Statement</code> and you probably can&#39;t really get less overhead in SQL than using this. I would try this, and if there still is a memory issue, you need to change the statement itself, i.e. not getting everything in one call, but get the first n rows or columns instead."}],"tags":[],"owner":{"account_id":12720604,"reputation":294,"user_id":12622119,"display_name":"Quadslab"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623391863,"creation_date":1623391863,"answer_id":67932028,"question_id":67901163,"body_markdown":"In the case of SQL, you can get your two &lt;code&gt;[ResultSet][1]&lt;/code&gt;s and compare their data iteratively. This way, you don&#39;t have ro save all your data in first place.&lt;br&gt;\nI assume that your data looks like this for demonstration purposes:&lt;br&gt;\n\n| String email1 | String email2 | int someInt |\n| :------------- | :-------------: | -----------: |\n| abc@def.ghi | jkl@mno.pqr | 1234567 |\n| xyz@gmail.com | | 8901234 |\n\n\n&lt;br&gt;To detect a difference between two `ResultSet`s of this database:\n```\nboolean equals(ResultSet a, ResultSet b) {\n    while(a.next() &amp;&amp; b.next()) {\n        String aEmail1 = a.getString(1);\n        String bEmail1 = b.getString(1);\n        if(!aEmail1.equals(bEmail1)) return false;\n        String aEmail2 = a.getString(2);\n        String bEmail2 = b.getString(2);\n        if(!aEmail2.equals(bEmail2)) return false;\n        int aSomeInt = a.getInt(3);\n        int bSomeInt = b.getInt(3);\n        if(aSomeInt!=bSomeInt) return false;\n        if(a.isLast()!=b.isLast())\n            throw new IllegalArgumentException(\n                &quot;ResultSets have different amounts of rows!&quot;\n            );\n    }\n    return true;\n}\n```\nTo set the contents of `ResultSet oldData` (also its corresponding database connection) to `ResultSet newData`:\n```\nvoid updateA(ResultSet oldData, ResultSet newData) {\n    while(oldData.next() &amp;&amp; newData.next()) {\n        String newEmail1 = newData.getString(1);\n        oldData.updateString(1,newEmail1);\n        String newEmail2 = newData.getString(2);\n        oldData.updateString(2,newEmail2);\n        int newSomeInt = newData.getInt(3);\n        oldData.updateInt(3,newSomeInt);\n        if(oldData.isLast()!=newData.isLast())\n            throw new IllegalArgumentException(\n                &quot;ResultSets have different amounts of rows!&quot;\n            );\n    }\n}\n```\n&lt;br&gt;You can ofcourse leave out the `if(a.isLast()!=newData.isLast)) ...` and `if(oldData.isLast()!=newData.isLast()) ...` if you don&#39;t care that the two sets don&#39;t have the same amount of rows.\n\n [1]: https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html","title":"Java: Does clear() the big size list help in quick garbage collection?","body":"<p>In the case of SQL, you can get your two <code><a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/ResultSet.html\" rel=\"nofollow noreferrer\">ResultSet</a></code>s and compare their data iteratively. This way, you don't have ro save all your data in first place.<br>\nI assume that your data looks like this for demonstration purposes:<br></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">String email1</th>\n<th style=\"text-align: center;\">String email2</th>\n<th style=\"text-align: right;\">int someInt</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">abc@def.ghi</td>\n<td style=\"text-align: center;\">jkl@mno.pqr</td>\n<td style=\"text-align: right;\">1234567</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">xyz@gmail.com</td>\n<td style=\"text-align: center;\"></td>\n<td style=\"text-align: right;\">8901234</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><br>To detect a difference between two <code>ResultSet</code>s of this database:</p>\n<pre><code>boolean equals(ResultSet a, ResultSet b) {\n    while(a.next() &amp;&amp; b.next()) {\n        String aEmail1 = a.getString(1);\n        String bEmail1 = b.getString(1);\n        if(!aEmail1.equals(bEmail1)) return false;\n        String aEmail2 = a.getString(2);\n        String bEmail2 = b.getString(2);\n        if(!aEmail2.equals(bEmail2)) return false;\n        int aSomeInt = a.getInt(3);\n        int bSomeInt = b.getInt(3);\n        if(aSomeInt!=bSomeInt) return false;\n        if(a.isLast()!=b.isLast())\n            throw new IllegalArgumentException(\n                &quot;ResultSets have different amounts of rows!&quot;\n            );\n    }\n    return true;\n}\n</code></pre>\n<p>To set the contents of <code>ResultSet oldData</code> (also its corresponding database connection) to <code>ResultSet newData</code>:</p>\n<pre><code>void updateA(ResultSet oldData, ResultSet newData) {\n    while(oldData.next() &amp;&amp; newData.next()) {\n        String newEmail1 = newData.getString(1);\n        oldData.updateString(1,newEmail1);\n        String newEmail2 = newData.getString(2);\n        oldData.updateString(2,newEmail2);\n        int newSomeInt = newData.getInt(3);\n        oldData.updateInt(3,newSomeInt);\n        if(oldData.isLast()!=newData.isLast())\n            throw new IllegalArgumentException(\n                &quot;ResultSets have different amounts of rows!&quot;\n            );\n    }\n}\n</code></pre>\n<p><br>You can ofcourse leave out the <code>if(a.isLast()!=newData.isLast)) ...</code> and <code>if(oldData.isLast()!=newData.isLast()) ...</code> if you don't care that the two sets don't have the same amount of rows.</p>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1088,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67907607,"answer_count":4,"score":2,"last_activity_date":1684307230,"creation_date":1623230307,"question_id":67901163,"body_markdown":"Load 1.5 Million Records from Database 1\r\n\r\nLoad 1.5 Million Records from Database 2\r\n\r\n    List&lt;DannDB&gt; dDb = fromNamedQuery(); //return em.createNamedQuery(&quot;&quot;).getResultList();\r\n    List&lt;LannDB&gt; lDb = fromNamedQuery();\r\n\r\nCompare its data.\r\n    \r\nUpdate/persist into Database (Using JPA)\r\n\r\nand program ends after two hours.\r\n\r\nSame iteration happens every third hour and many a times give Out of Memory. \r\n\r\nDoes following statement work, does object becomes out of scope with this?\r\n\r\n     dDb.clear();\r\n\r\n      or \r\n\r\n     dDb = null\r\n\r\nor what else I can do? ","title":"Java: Does clear() the big size list help in quick garbage collection?","body":"<p>Load 1.5 Million Records from Database 1</p>\n<p>Load 1.5 Million Records from Database 2</p>\n<pre><code>List&lt;DannDB&gt; dDb = fromNamedQuery(); //return em.createNamedQuery(&quot;&quot;).getResultList();\nList&lt;LannDB&gt; lDb = fromNamedQuery();\n</code></pre>\n<p>Compare its data.</p>\n<p>Update/persist into Database (Using JPA)</p>\n<p>and program ends after two hours.</p>\n<p>Same iteration happens every third hour and many a times give Out of Memory.</p>\n<p>Does following statement work, does object becomes out of scope with this?</p>\n<pre><code> dDb.clear();\n\n  or \n\n dDb = null\n</code></pre>\n<p>or what else I can do?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1684305934,"post_id":76269120,"comment_id":134497040,"body_markdown":"Also see, [Why should I not upload images of code/data/errors?](//meta.stackoverflow.com/q/285551)","body":"Also see, <a href=\"//meta.stackoverflow.com/q/285551\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684313272,"post_id":76269120,"comment_id":134498639,"body_markdown":"it is throwing an Exception, so the method terminates abruptly (with reason being that Exception) and nothing can be returned (that FileSystem apparently is read-only, so that operation is not permitted)","body":"it is throwing an Exception, so the method terminates abruptly (with reason being that Exception) and nothing can be returned (that FileSystem apparently is read-only, so that operation is not permitted)"}],"answers":[{"comments":[{"owner":{"account_id":28617760,"reputation":3,"user_id":21911362,"display_name":"TaesunPark"},"score":0,"creation_date":1684305999,"post_id":76269187,"comment_id":134497052,"body_markdown":"thank you I thought there was another device I didn&#39;t know about.","body":"thank you I thought there was another device I didn&#39;t know about."}],"tags":[],"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684305623,"creation_date":1684305623,"answer_id":76269187,"question_id":76269120,"body_markdown":"[`readOnly`](https://github.com/openjdk/jdk20/blob/master/src/java.base/share/classes/jdk/internal/jrtfs/JrtFileSystem.java#L256) is a static method in the same class.\r\n\r\n```\r\nstatic ReadOnlyFileSystemException readOnly() {\r\n    return new ReadOnlyFileSystemException();\r\n}\r\n```\r\n\r\nHence `throw readOnly()` is equivalent to `throw new ReadOnlyFileSystemException()` as `readOnly` method returns an instance of `Exception`.","title":"How does newOutputStream method work in JAVA?","body":"<p><a href=\"https://github.com/openjdk/jdk20/blob/master/src/java.base/share/classes/jdk/internal/jrtfs/JrtFileSystem.java#L256\" rel=\"nofollow noreferrer\"><code>readOnly</code></a> is a static method in the same class.</p>\n<pre><code>static ReadOnlyFileSystemException readOnly() {\n    return new ReadOnlyFileSystemException();\n}\n</code></pre>\n<p>Hence <code>throw readOnly()</code> is equivalent to <code>throw new ReadOnlyFileSystemException()</code> as <code>readOnly</code> method returns an instance of <code>Exception</code>.</p>\n"}],"owner":{"account_id":28617760,"reputation":3,"user_id":21911362,"display_name":"TaesunPark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76269187,"answer_count":1,"score":0,"last_activity_date":1684306741,"creation_date":1684305080,"question_id":76269120,"body_markdown":"While watching the package jdk.internal.jrtfs.JrtFileSystem class\r\n\r\n    final OutputStream newOutputStream(JrtPath jrtPath, OpenOption... options) throws IOException {\r\n         throw readOnly();\r\n    }\r\n\r\nHow does this function work when there is no return value?\r\n\r\nI wonder what the principle of operation is.\r\n[enter image description here](https://i.stack.imgur.com/5XJkx.png)","title":"How does newOutputStream method work in JAVA?","body":"<p>While watching the package jdk.internal.jrtfs.JrtFileSystem class</p>\n<pre><code>final OutputStream newOutputStream(JrtPath jrtPath, OpenOption... options) throws IOException {\n     throw readOnly();\n}\n</code></pre>\n<p>How does this function work when there is no return value?</p>\n<p>I wonder what the principle of operation is.\n<a href=\"https://i.stack.imgur.com/5XJkx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":16208985,"reputation":918,"user_id":11703509,"display_name":"psybrg"},"score":0,"creation_date":1684301341,"post_id":76268693,"comment_id":134496383,"body_markdown":"Kindly refer to following :\n\nhttps://stackoverflow.com/questions/2350495/how-do-i-perform-the-sql-join-equivalent-in-mongodb?rq=2","body":"Kindly refer to following :  <a href=\"https://stackoverflow.com/questions/2350495/how-do-i-perform-the-sql-join-equivalent-in-mongodb?rq=2\" title=\"how do i perform the sql join equivalent in mongodb\">stackoverflow.com/questions/2350495/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":27167345,"reputation":15,"user_id":20704653,"display_name":"Pnmtriet"},"score":0,"creation_date":1685004260,"post_id":76268906,"comment_id":134601119,"body_markdown":"If in SQL it&#39;s like this:\nselect * from Room r inner join RoomType rt on r.roomTypeId=rt._id where rt._id = &#39;abc123&#39;\nWhat is a query in MongoDB?","body":"If in SQL it&#39;s like this: select * from Room r inner join RoomType rt on r.roomTypeId=rt._id where rt._id = &#39;abc123&#39; What is a query in MongoDB?"}],"tags":[],"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684304811,"creation_date":1684302643,"answer_id":76268906,"question_id":76268693,"body_markdown":"    db.Room.aggregate([\r\n     {\r\n     $lookup: {\r\n      from: &quot;RoomType&quot;.\r\n      localField: &quot;roomtypeId&quot;,\r\n      foreignField: &quot;_id&quot;,\r\n      as: &quot;roomType&quot;\r\n     }\r\n     },\r\n    {\r\n     $unwind: &quot;$roomType&quot;\r\n     }\r\n    ])\r\n\r\n 1. Aggregate method for aggregation pipeline\r\n 2. Lookup used to join the collection Room and RoomType\r\n 3. LocalField for the room collection\r\n 4. ForeignField for RoomType collection.\r\n 5. $unwind: is optional mainly used to flatten the resulting array\r\n\r\n\r\nIn java,\r\n\r\n    LookupOperation lookup = LookupOperation.newLookup()\r\n      .from(&quot;roomTypes&quot;)\r\n      .localField(&quot;roomtypeId&quot;)\r\n      .foreignField(&quot;_id&quot;)\r\n      .as(&quot;roomType&quot;);\r\n\r\n    Aggregation aggregation = Aggregation.newAggregation(\r\n      Aggregation.match(&#39;add condition&#39;), lookup );\r\n\r\n    mongoTemplate.aggregate(aggregation, &quot;rooms&quot;, \r\n    Room.class).getMappedResults();\r\n   ","title":"How can I join two collections spring-data-mongodb?","body":"<pre><code>db.Room.aggregate([\n {\n $lookup: {\n  from: &quot;RoomType&quot;.\n  localField: &quot;roomtypeId&quot;,\n  foreignField: &quot;_id&quot;,\n  as: &quot;roomType&quot;\n }\n },\n{\n $unwind: &quot;$roomType&quot;\n }\n])\n</code></pre>\n<ol>\n<li>Aggregate method for aggregation pipeline</li>\n<li>Lookup used to join the collection Room and RoomType</li>\n<li>LocalField for the room collection</li>\n<li>ForeignField for RoomType collection.</li>\n<li>$unwind: is optional mainly used to flatten the resulting array</li>\n</ol>\n<p>In java,</p>\n<pre><code>LookupOperation lookup = LookupOperation.newLookup()\n  .from(&quot;roomTypes&quot;)\n  .localField(&quot;roomtypeId&quot;)\n  .foreignField(&quot;_id&quot;)\n  .as(&quot;roomType&quot;);\n\nAggregation aggregation = Aggregation.newAggregation(\n  Aggregation.match('add condition'), lookup );\n\nmongoTemplate.aggregate(aggregation, &quot;rooms&quot;, \nRoom.class).getMappedResults();\n</code></pre>\n"}],"owner":{"account_id":27167345,"reputation":15,"user_id":20704653,"display_name":"Pnmtriet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76268906,"answer_count":1,"score":0,"last_activity_date":1684306650,"creation_date":1684299480,"question_id":76268693,"body_markdown":"## Collection:\r\nRoom\r\n```\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;6461eb7c1cefe2b485d4ca2e&quot;),\r\n    &quot;AgentId&quot; : &quot;5e7a1caaa08a49ff4d029bbd&quot;,\r\n    &quot;roomName&quot; : &quot;My Room101&quot;,\r\n    &quot;note&quot; : &quot;note abc&quot;,\r\n    &quot;roomStatus&quot; : &quot;Empty&quot;,\r\n    &quot;roomTypeId&quot; : &quot;6461db161cefe2b485d4ca1e&quot;,\r\n    &quot;createdBy&quot; : &quot;Super Administrator&quot;,\r\n    &quot;createdAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\r\n    &quot;updatedBy&quot; : &quot;Super Administrator&quot;,\r\n    &quot;updatedAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\r\n    &quot;isDeleted&quot; : false\r\n}\r\n```\r\nRoomType\r\n```\r\n  {\r\n    &quot;_id&quot; : ObjectId(&quot;6461db161cefe2b485d4ca1e&quot;),\r\n    &quot;roomTypeName&quot; : &quot;VIP 1&quot;,\r\n    &quot;note&quot; : &quot;note xyz&quot;,\r\n    &quot;createdBy&quot; : &quot;Super Administrator&quot;,\r\n    &quot;createdAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\r\n    &quot;updatedBy&quot; : &quot;Super Administrator&quot;,\r\n    &quot;updatedAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\r\n    &quot;isDeleted&quot; : false\r\n}\r\n```\r\n\r\nin SQL:\r\n&gt; select * from Room r inner join RoomType rt on r.roomTypeId=rt._id\r\n\r\nI want to display query result using Query in Java","title":"How can I join two collections spring-data-mongodb?","body":"<h2>Collection:</h2>\n<p>Room</p>\n<pre><code>{\n    &quot;_id&quot; : ObjectId(&quot;6461eb7c1cefe2b485d4ca2e&quot;),\n    &quot;AgentId&quot; : &quot;5e7a1caaa08a49ff4d029bbd&quot;,\n    &quot;roomName&quot; : &quot;My Room101&quot;,\n    &quot;note&quot; : &quot;note abc&quot;,\n    &quot;roomStatus&quot; : &quot;Empty&quot;,\n    &quot;roomTypeId&quot; : &quot;6461db161cefe2b485d4ca1e&quot;,\n    &quot;createdBy&quot; : &quot;Super Administrator&quot;,\n    &quot;createdAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\n    &quot;updatedBy&quot; : &quot;Super Administrator&quot;,\n    &quot;updatedAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\n    &quot;isDeleted&quot; : false\n}\n</code></pre>\n<p>RoomType</p>\n<pre><code>  {\n    &quot;_id&quot; : ObjectId(&quot;6461db161cefe2b485d4ca1e&quot;),\n    &quot;roomTypeName&quot; : &quot;VIP 1&quot;,\n    &quot;note&quot; : &quot;note xyz&quot;,\n    &quot;createdBy&quot; : &quot;Super Administrator&quot;,\n    &quot;createdAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\n    &quot;updatedBy&quot; : &quot;Super Administrator&quot;,\n    &quot;updatedAt&quot; : ISODate(&quot;2023-05-15T08:00:00.000+0000&quot;),\n    &quot;isDeleted&quot; : false\n}\n</code></pre>\n<p>in SQL:</p>\n<blockquote>\n<p>select * from Room r inner join RoomType rt on r.roomTypeId=rt._id</p>\n</blockquote>\n<p>I want to display query result using Query in Java</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","entity-relationship"],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684306490,"creation_date":1684306490,"question_id":76269279,"body_markdown":"I am working on a small project using **Spring Boot, Hibernate, and JPA**. I have created three entities-  \r\n1. Book  \r\n2. Author  \r\n3. Publication    \r\n\r\n**Required relationships-**\r\n1. One book can be written by multiple authors and the author can have many books. Therefore- Many to Many Relationship  \r\n2. One book can have only one publication and one publication can have many books. Therefore- Many to One Relationship   \r\n\r\n**The code for these entities-**\r\n1. Book.java-  \r\n```\r\n//...import statements\r\n\r\n@Entity\r\n@Data\r\npublic class Book {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;Book_id&quot;)\r\n    private int id;\r\n\r\n    @Column(name = &quot;Book_name&quot;,nullable = false, unique = true)\r\n    private String bookName;\r\n\r\n    @Column(name = &quot;Publication_date&quot;,nullable = false)\r\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&quot;)\r\n    private Date publishDate;\r\n\r\n    @Column(name = &quot;ISBN&quot;,nullable = false, unique = true)\r\n    private String isbn;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;publication_id&quot;, nullable = false)\r\n    private Publication publication;\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;Book_Author&quot;, joinColumns = @JoinColumn(name = &quot;book_id&quot;, referencedColumnName = &quot;Book_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;Author_id&quot;))\r\n    private Set&lt;Author&gt; authors = new HashSet&lt;&gt;();\r\n\r\n}\r\n\r\n```\r\n2. Author.java-  \r\n```\r\n//... import statements\r\n\r\n@Entity\r\n@Data\r\npublic class Author {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    @Column(name=&quot;Author_id&quot;)\r\n    private int id;\r\n\r\n    @Column(name=&quot;First_name&quot;,nullable = false)\r\n    private String firstName;\r\n    @Column(name=&quot;Last_name&quot;,nullable = false)\r\n    private String lastName;\r\n    @Column(name=&quot;Mobile_number&quot;,nullable = false, unique = true,length = 10)\r\n    private long mobileNo;\r\n\r\n    @ManyToMany(mappedBy = &quot;authors&quot;)\r\n    Set&lt;Book&gt; books=new HashSet&lt;&gt;();\r\n}\r\n\r\n```\r\n3. Publication.java-\r\n```\r\n//... import statements\r\n@Entity\r\n@Data\r\npublic class Publication {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n    @Column(name=&quot;Publication_name&quot;,nullable = false,unique = true)\r\n    private String name;\r\n\r\n    @Column(name=&quot;Registration_number&quot;,nullable = false, unique = true)\r\n    private String regNumber;\r\n\r\n    @OneToMany(mappedBy = &quot;publication&quot;)\r\n    Set&lt;Book&gt; books=new HashSet&lt;&gt;();\r\n}\r\n```\r\n\r\n**Problems-** I am facing following issues with the code:  \r\n1. In the Many to Many relationship of **Book** and **Author**, when fetching Book or Author, I do not get the corresponding Author and Book respectively. What I get is an  empty set. Example-\r\n```\r\n @Override\r\n    public BookDto getBook(int id) {\r\n        Book book=this.bookRepository.findById(id).get();\r\n        System.out.println(&quot;Book Publisher: &quot;+book.getPublication());\r\n        System.out.println(&quot;Author: &quot;+book.getAuthors()); //empty set\r\n        return this.bookToDto(book);\r\n    }\r\n```\r\n**Although, when I use SQL query in MySQL, I get the result-**\r\n```\r\nSelect * from demodb.book natural join demodb.book_author natural join demodb.author\r\n```\r\nAlso, the Hibernate query shows that the query is being fired on the **join** of the tables to fetch data but nothing is returned in the query.   \r\n2. In the Many to One relationship of **Book** and **Publication**, when fetching Publication, the associated set of books is not fetched from the database, although Hibernate query is fired to fetch. But, when fetching a book, publication is fetched. \r\n \r\nQuery when fetching publication by id- (I am aware that cyclic dependency might occur but the objects are not fetched at all because I get empty **Set** in publication.getBooks())\r\n```\r\nHibernate: \r\n    select\r\n        p1_0.id,\r\n        p1_0.publication_name,\r\n        p1_0.registration_number\r\n    from\r\n        publication p1_0\r\n    where\r\n        p1_0.id=?\r\nHibernate: \r\n    select\r\n        b1_0.publication_id,\r\n        b1_0.book_id,\r\n        b1_0.book_name,\r\n        b1_0.isbn,\r\n        b1_0.publication_date\r\n    from\r\n        book b1_0\r\n    where\r\n        b1_0.publication_id=?\r\nHibernate: \r\n    select\r\n        b1_0.publication_id,\r\n        b1_0.book_id,\r\n        b1_0.book_name,\r\n        b1_0.isbn,\r\n        b1_0.publication_date\r\n    from\r\n        book b1_0\r\n    where\r\n        b1_0.publication_id=?\r\nHibernate: \r\n    select\r\n        a1_0.book_id,\r\n        a1_1.author_id,\r\n        a1_1.first_name,\r\n        a1_1.last_name,\r\n        a1_1.mobile_number\r\n    from\r\n        book_author a1_0\r\n    join\r\n        author a1_1\r\n            on a1_1.author_id=a1_0.author_id\r\n    where\r\n        a1_0.book_id=?\r\nHibernate: \r\n    select\r\n        b1_0.author_id,\r\n        b1_1.book_id,\r\n        b1_1.book_name,\r\n        b1_1.isbn,\r\n        p1_0.id,\r\n        p1_0.publication_name,\r\n        p1_0.registration_number,\r\n        b1_1.publication_date\r\n    from\r\n        book_author b1_0\r\n    join\r\n        book b1_1\r\n            on b1_1.book_id=b1_0.book_id\r\n    left join\r\n        publication p1_0\r\n            on p1_0.id=b1_1.publication_id\r\n    where\r\n        b1_0.author_id=?\r\nHibernate:\r\n    select\r\n        a1_0.book_id,\r\n        a1_1.author_id,\r\n        a1_1.first_name,\r\n        a1_1.last_name,\r\n        a1_1.mobile_number\r\n    from\r\n        book_author a1_0\r\n    join\r\n        book b1_1\r\n            on b1_1.book_id=b1_0.book_id\r\n    left join\r\n        publication p1_0\r\n            on p1_0.id=b1_1.publication_id\r\n    where\r\n        b1_0.author_id=?\r\n```\r\n3. **Error in using FetchType.LAZY in book-publication relationship**-  \r\nWhen I use **fetch=FetchType.LAZY** on the **publication** in **Book** entity and try to fetch book, \r\n```\r\n @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;publication_id&quot;, nullable = false)\r\n    private Publication publication;\r\n```\r\n\r\nI get the following error- \r\n```\r\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.ayushsingh.demojpa.dto.BookDto[&quot;publication&quot;]-&gt;com.ayushsingh.demojpa.entity.Publication$HibernateProxy$F4hnTR8H[&quot;hibernateLazyInitializer&quot;])\r\n```\r\n**Note-**  \r\nI am using **ModelMapper 3.1.1, Dev Tools, Java version- 17 and Spring Boot Version- 3.0.6** .  \r\nI have clubbed these issues as they might be releated. Please help.","title":"Problem fetching data in ManyToMany and OneToMany relationship using JPA: Spring Boot","body":"<p>I am working on a small project using <strong>Spring Boot, Hibernate, and JPA</strong>. I have created three entities-</p>\n<ol>\n<li>Book</li>\n<li>Author</li>\n<li>Publication</li>\n</ol>\n<p><strong>Required relationships-</strong></p>\n<ol>\n<li>One book can be written by multiple authors and the author can have many books. Therefore- Many to Many Relationship</li>\n<li>One book can have only one publication and one publication can have many books. Therefore- Many to One Relationship</li>\n</ol>\n<p><strong>The code for these entities-</strong></p>\n<ol>\n<li>Book.java-</li>\n</ol>\n<pre><code>//...import statements\n\n@Entity\n@Data\npublic class Book {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;Book_id&quot;)\n    private int id;\n\n    @Column(name = &quot;Book_name&quot;,nullable = false, unique = true)\n    private String bookName;\n\n    @Column(name = &quot;Publication_date&quot;,nullable = false)\n    @JsonFormat(shape=JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&quot;)\n    private Date publishDate;\n\n    @Column(name = &quot;ISBN&quot;,nullable = false, unique = true)\n    private String isbn;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;publication_id&quot;, nullable = false)\n    private Publication publication;\n\n    @ManyToMany\n    @JoinTable(name = &quot;Book_Author&quot;, joinColumns = @JoinColumn(name = &quot;book_id&quot;, referencedColumnName = &quot;Book_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;author_id&quot;, referencedColumnName = &quot;Author_id&quot;))\n    private Set&lt;Author&gt; authors = new HashSet&lt;&gt;();\n\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>Author.java-</li>\n</ol>\n<pre><code>//... import statements\n\n@Entity\n@Data\npublic class Author {\n    \n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;Author_id&quot;)\n    private int id;\n\n    @Column(name=&quot;First_name&quot;,nullable = false)\n    private String firstName;\n    @Column(name=&quot;Last_name&quot;,nullable = false)\n    private String lastName;\n    @Column(name=&quot;Mobile_number&quot;,nullable = false, unique = true,length = 10)\n    private long mobileNo;\n\n    @ManyToMany(mappedBy = &quot;authors&quot;)\n    Set&lt;Book&gt; books=new HashSet&lt;&gt;();\n}\n\n</code></pre>\n<ol start=\"3\">\n<li>Publication.java-</li>\n</ol>\n<pre><code>//... import statements\n@Entity\n@Data\npublic class Publication {\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n    @Column(name=&quot;Publication_name&quot;,nullable = false,unique = true)\n    private String name;\n\n    @Column(name=&quot;Registration_number&quot;,nullable = false, unique = true)\n    private String regNumber;\n\n    @OneToMany(mappedBy = &quot;publication&quot;)\n    Set&lt;Book&gt; books=new HashSet&lt;&gt;();\n}\n</code></pre>\n<p><strong>Problems-</strong> I am facing following issues with the code:</p>\n<ol>\n<li>In the Many to Many relationship of <strong>Book</strong> and <strong>Author</strong>, when fetching Book or Author, I do not get the corresponding Author and Book respectively. What I get is an  empty set. Example-</li>\n</ol>\n<pre><code> @Override\n    public BookDto getBook(int id) {\n        Book book=this.bookRepository.findById(id).get();\n        System.out.println(&quot;Book Publisher: &quot;+book.getPublication());\n        System.out.println(&quot;Author: &quot;+book.getAuthors()); //empty set\n        return this.bookToDto(book);\n    }\n</code></pre>\n<p><strong>Although, when I use SQL query in MySQL, I get the result-</strong></p>\n<pre><code>Select * from demodb.book natural join demodb.book_author natural join demodb.author\n</code></pre>\n<p>Also, the Hibernate query shows that the query is being fired on the <strong>join</strong> of the tables to fetch data but nothing is returned in the query.<br />\n2. In the Many to One relationship of <strong>Book</strong> and <strong>Publication</strong>, when fetching Publication, the associated set of books is not fetched from the database, although Hibernate query is fired to fetch. But, when fetching a book, publication is fetched.</p>\n<p>Query when fetching publication by id- (I am aware that cyclic dependency might occur but the objects are not fetched at all because I get empty <strong>Set</strong> in publication.getBooks())</p>\n<pre><code>Hibernate: \n    select\n        p1_0.id,\n        p1_0.publication_name,\n        p1_0.registration_number\n    from\n        publication p1_0\n    where\n        p1_0.id=?\nHibernate: \n    select\n        b1_0.publication_id,\n        b1_0.book_id,\n        b1_0.book_name,\n        b1_0.isbn,\n        b1_0.publication_date\n    from\n        book b1_0\n    where\n        b1_0.publication_id=?\nHibernate: \n    select\n        b1_0.publication_id,\n        b1_0.book_id,\n        b1_0.book_name,\n        b1_0.isbn,\n        b1_0.publication_date\n    from\n        book b1_0\n    where\n        b1_0.publication_id=?\nHibernate: \n    select\n        a1_0.book_id,\n        a1_1.author_id,\n        a1_1.first_name,\n        a1_1.last_name,\n        a1_1.mobile_number\n    from\n        book_author a1_0\n    join\n        author a1_1\n            on a1_1.author_id=a1_0.author_id\n    where\n        a1_0.book_id=?\nHibernate: \n    select\n        b1_0.author_id,\n        b1_1.book_id,\n        b1_1.book_name,\n        b1_1.isbn,\n        p1_0.id,\n        p1_0.publication_name,\n        p1_0.registration_number,\n        b1_1.publication_date\n    from\n        book_author b1_0\n    join\n        book b1_1\n            on b1_1.book_id=b1_0.book_id\n    left join\n        publication p1_0\n            on p1_0.id=b1_1.publication_id\n    where\n        b1_0.author_id=?\nHibernate:\n    select\n        a1_0.book_id,\n        a1_1.author_id,\n        a1_1.first_name,\n        a1_1.last_name,\n        a1_1.mobile_number\n    from\n        book_author a1_0\n    join\n        book b1_1\n            on b1_1.book_id=b1_0.book_id\n    left join\n        publication p1_0\n            on p1_0.id=b1_1.publication_id\n    where\n        b1_0.author_id=?\n</code></pre>\n<ol start=\"3\">\n<li><strong>Error in using FetchType.LAZY in book-publication relationship</strong>-<br />\nWhen I use <strong>fetch=FetchType.LAZY</strong> on the <strong>publication</strong> in <strong>Book</strong> entity and try to fetch book,</li>\n</ol>\n<pre><code> @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;publication_id&quot;, nullable = false)\n    private Publication publication;\n</code></pre>\n<p>I get the following error-</p>\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: com.ayushsingh.demojpa.dto.BookDto[&quot;publication&quot;]-&gt;com.ayushsingh.demojpa.entity.Publication$HibernateProxy$F4hnTR8H[&quot;hibernateLazyInitializer&quot;])\n</code></pre>\n<p><strong>Note-</strong><br />\nI am using <strong>ModelMapper 3.1.1, Dev Tools, Java version- 17 and Spring Boot Version- 3.0.6</strong> .<br />\nI have clubbed these issues as they might be releated. Please help.</p>\n"},{"tags":["java","json","node.js","maven","npm"],"comments":[{"owner":{"account_id":10835566,"reputation":2546,"user_id":7968673,"display_name":"Hamza Belmellouki"},"score":0,"creation_date":1555172983,"post_id":38388824,"comment_id":98021580,"body_markdown":"see https://devops.stackexchange.com/questions/1432/how-does-dependency-management-for-node-js-differ-from-maven","body":"see <a href=\"https://devops.stackexchange.com/questions/1432/how-does-dependency-management-for-node-js-differ-from-maven\" title=\"how does dependency management for node js differ from maven\">devops.stackexchange.com/questions/1432/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1135950,"reputation":10153,"user_id":1121008,"display_name":"Apostolos"},"score":2,"creation_date":1468563605,"post_id":38388995,"comment_id":64187224,"body_markdown":"not sure because i&#39;m not so familiar with all these js tools. `gradle` is `maven + ant` together let&#39;s say. it does what maven does but it gives you also the freedom to write code and scripts apart from all the de-facto jobs that it does. i had a look at `gulp` just now. maybe it&#39;s the same, from what i read. if you want to start using maven vs gradle, i&#39;d suggest starting with `maven` which is more clear and easier to understand and then mess up with `gradle`!","body":"not sure because i&#39;m not so familiar with all these js tools. <code>gradle</code> is <code>maven + ant</code> together let&#39;s say. it does what maven does but it gives you also the freedom to write code and scripts apart from all the de-facto jobs that it does. i had a look at <code>gulp</code> just now. maybe it&#39;s the same, from what i read. if you want to start using maven vs gradle, i&#39;d suggest starting with <code>maven</code> which is more clear and easier to understand and then mess up with <code>gradle</code>!"},{"owner":{"account_id":7362622,"reputation":1884,"user_id":6497083,"accept_rate":91,"display_name":"Shubham Jain"},"score":0,"creation_date":1468563714,"post_id":38388995,"comment_id":64187273,"body_markdown":"Thanks. Does maven have flat dependency tree or nested dependency tree ?","body":"Thanks. Does maven have flat dependency tree or nested dependency tree ?"},{"owner":{"account_id":1135950,"reputation":10153,"user_id":1121008,"display_name":"Apostolos"},"score":0,"creation_date":1468564018,"post_id":38388995,"comment_id":64187412,"body_markdown":"didnt understand what you mean. do you mean about the issue npm had with dependencies stored in sub-node_modules directories and having file path problems with over 256 characters, which was fixed in npm 3? maven stores all the jars in a repo and each jar is stored in its package.","body":"didnt understand what you mean. do you mean about the issue npm had with dependencies stored in sub-node_modules directories and having file path problems with over 256 characters, which was fixed in npm 3? maven stores all the jars in a repo and each jar is stored in its package."},{"owner":{"account_id":7362622,"reputation":1884,"user_id":6497083,"accept_rate":91,"display_name":"Shubham Jain"},"score":0,"creation_date":1468564065,"post_id":38388995,"comment_id":64187427,"body_markdown":"http://stackoverflow.com/questions/18641899/what-is-the-difference-between-bower-and-npm. npm has nested dependency tree, that means all versions of a single module required by different modules is downloaded. Flat dependency tree doesn&#39;t allows that !","body":"<a href=\"http://stackoverflow.com/questions/18641899/what-is-the-difference-between-bower-and-npm\" title=\"what is the difference between bower and npm\">stackoverflow.com/questions/18641899/&hellip;</a>. npm has nested dependency tree, that means all versions of a single module required by different modules is downloaded. Flat dependency tree doesn&#39;t allows that !"},{"owner":{"account_id":1135950,"reputation":10153,"user_id":1121008,"display_name":"Apostolos"},"score":1,"creation_date":1468564071,"post_id":38388995,"comment_id":64187429,"body_markdown":"e.g. see here https://mvnrepository.com/artifact/org.hibernate/hibernate-core/5.2.1.Final. hibernate depends on various other libraries, but these jars wont be stored in local maven repo inside hibernate library but in their own packages.","body":"e.g. see here <a href=\"https://mvnrepository.com/artifact/org.hibernate/hibernate-core/5.2.1.Final\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.hibernate/hibernate-core/&hellip;</a>. hibernate depends on various other libraries, but these jars wont be stored in local maven repo inside hibernate library but in their own packages."},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":1,"creation_date":1468565286,"post_id":38388995,"comment_id":64187977,"body_markdown":"I think there is a difference in the handling of nested (transitive) dependencies. every node module can contain its own version of a dependency while maven will try to resolve to a single common dependency if several dependencies require the same third dependency but in a different version. I also would say grunt matches gradle since its task based. gradle is more of ant+ivy while maven is strongly convention driven. maybe closer to webpack but nothing too similar.","body":"I think there is a difference in the handling of nested (transitive) dependencies. every node module can contain its own version of a dependency while maven will try to resolve to a single common dependency if several dependencies require the same third dependency but in a different version. I also would say grunt matches gradle since its task based. gradle is more of ant+ivy while maven is strongly convention driven. maybe closer to webpack but nothing too similar."},{"owner":{"account_id":1135950,"reputation":10153,"user_id":1121008,"display_name":"Apostolos"},"score":0,"creation_date":1468565600,"post_id":38388995,"comment_id":64188154,"body_markdown":"@wemu if you have 2 different versions of a library inside a pom.xml war, it will include them both, but that&#39;s sth you have to take care because it will end up in some incosistency probably.","body":"@wemu if you have 2 different versions of a library inside a pom.xml war, it will include them both, but that&#39;s sth you have to take care because it will end up in some incosistency probably."},{"owner":{"account_id":1135950,"reputation":10153,"user_id":1121008,"display_name":"Apostolos"},"score":1,"creation_date":1468576288,"post_id":38388995,"comment_id":64194689,"body_markdown":"sorry, you are correct. confused it with the profile building procedure that i sometimes use and define the versions.","body":"sorry, you are correct. confused it with the profile building procedure that i sometimes use and define the versions."}],"tags":[],"owner":{"account_id":1135950,"reputation":10153,"user_id":1121008,"display_name":"Apostolos"},"comment_count":8,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1468563161,"creation_date":1468563161,"answer_id":38388995,"question_id":38388824,"body_markdown":"yes. it&#39;s a similar packaging tool for java. look for `gradle` also which gives you more liberty with `groovy language`, but for start you can use `maven` to organize your dependencies. you include them as tags there and maven does the job for you.\r\n\r\nit traverses the dependency tree and downloads all the appropriate jars.","title":"Is Maven similar to npm?","body":"<p>yes. it's a similar packaging tool for java. look for <code>gradle</code> also which gives you more liberty with <code>groovy language</code>, but for start you can use <code>maven</code> to organize your dependencies. you include them as tags there and maven does the job for you.</p>\n\n<p>it traverses the dependency tree and downloads all the appropriate jars.</p>\n"},{"comments":[{"owner":{"account_id":8785531,"reputation":101,"user_id":6567640,"display_name":"Tommy Thompson"},"score":4,"creation_date":1494561578,"post_id":38392716,"comment_id":74891030,"body_markdown":"In addition to the information above, the following [Youtube Playlist](https://www.youtube.com/watch?v=al7bRZzz4oU&amp;list=PL92E89440B7BFD0F6) does a great job describing Maven&#39;s use as a package manager","body":"In addition to the information above, the following <a href=\"https://www.youtube.com/watch?v=al7bRZzz4oU&amp;list=PL92E89440B7BFD0F6\" rel=\"nofollow noreferrer\">Youtube Playlist</a> does a great job describing Maven&#39;s use as a package manager"},{"owner":{"account_id":328119,"reputation":2575,"user_id":650894,"accept_rate":43,"display_name":"Joe Lapp"},"score":2,"creation_date":1510065508,"post_id":38392716,"comment_id":81270583,"body_markdown":"I often visit npmjs.com to search for a package that might be helpful. It took quite a bit of googling to find a link for doing this on Maven (https://search.maven.org). However, searches don&#39;t point me to docs, don&#39;t show me popularity metrics, don&#39;t point to github. I don&#39;t find it helpful, suggesting that this is something people expect of NPM but not of Maven.","body":"I often visit npmjs.com to search for a package that might be helpful. It took quite a bit of googling to find a link for doing this on Maven (<a href=\"https://search.maven.org\" rel=\"nofollow noreferrer\">search.maven.org</a>). However, searches don&#39;t point me to docs, don&#39;t show me popularity metrics, don&#39;t point to github. I don&#39;t find it helpful, suggesting that this is something people expect of NPM but not of Maven."},{"owner":{"account_id":3558807,"reputation":1377,"user_id":2971795,"accept_rate":36,"display_name":"Clifford Fajardo"},"score":0,"creation_date":1517176754,"post_id":38392716,"comment_id":83976694,"body_markdown":"A  pretty good statistical comparison between NPM &amp; Maven is here: https://stackshare.io/stackups/npm-vs-gradle","body":"A  pretty good statistical comparison between NPM &amp; Maven is here: <a href=\"https://stackshare.io/stackups/npm-vs-gradle\" rel=\"nofollow noreferrer\">stackshare.io/stackups/npm-vs-gradle</a>"},{"owner":{"account_id":2374153,"reputation":884,"user_id":2078000,"display_name":"mnutsch"},"score":6,"creation_date":1553625017,"post_id":38392716,"comment_id":97451845,"body_markdown":"An update to this answer:\n\n&quot;Furthermore, Maven is considerably older than NPM, has a larger user base...&quot;\n\nThis was probably true when the question was originally answered in 2017, but is no longer accurate. According to the link posted by @cacoder, NPM&#39;s user base is now about 11x larger than that of Maven. \n\nSource: https://stackshare.io/stackups/gradle-vs-maven-vs-npm","body":"An update to this answer:  &quot;Furthermore, Maven is considerably older than NPM, has a larger user base...&quot;  This was probably true when the question was originally answered in 2017, but is no longer accurate. According to the link posted by @cacoder, NPM&#39;s user base is now about 11x larger than that of Maven.   Source: <a href=\"https://stackshare.io/stackups/gradle-vs-maven-vs-npm\" rel=\"nofollow noreferrer\">stackshare.io/stackups/gradle-vs-maven-vs-npm</a>"},{"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"score":0,"creation_date":1619922587,"post_id":38392716,"comment_id":119048833,"body_markdown":"How does one get started creating a project with Maven though? This answer is thorough but it sounds like it&#39;s describing a situation where there&#39;s a `pom.xml` file already. But what about if you want to create a new project? In Node.js, I&#39;d do `mkdir &lt;dir&gt;; cd &lt;dir&gt;; npm init -f`. The `npm` tool, out of the box, can create a new project, and I&#39;m not required to choose an archtype to start from.","body":"How does one get started creating a project with Maven though? This answer is thorough but it sounds like it&#39;s describing a situation where there&#39;s a <code>pom.xml</code> file already. But what about if you want to create a new project? In Node.js, I&#39;d do <code>mkdir &lt;dir&gt;; cd &lt;dir&gt;; npm init -f</code>. The <code>npm</code> tool, out of the box, can create a new project, and I&#39;m not required to choose an archtype to start from."},{"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"score":0,"creation_date":1619922589,"post_id":38392716,"comment_id":119048834,"body_markdown":"Maven&#39;s site says &quot;Calling archetype:generate the plugin will first ask to choose the archetype from the internal catalog&quot;, but when I run `mvn archtype:generate`, I don&#39;t get a prompt. I get an error: `No plugin found for prefix &#39;archtype&#39; in the current project`. This is confusing because I don&#39;t have a project yet. I&#39;m trying to use Maven to make the project in the first place.","body":"Maven&#39;s site says &quot;Calling archetype:generate the plugin will first ask to choose the archetype from the internal catalog&quot;, but when I run <code>mvn archtype:generate</code>, I don&#39;t get a prompt. I get an error: <code>No plugin found for prefix &#39;archtype&#39; in the current project</code>. This is confusing because I don&#39;t have a project yet. I&#39;m trying to use Maven to make the project in the first place."},{"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"score":0,"creation_date":1619923438,"post_id":38392716,"comment_id":119048909,"body_markdown":"Found my typo. If I type `mvn archetype:generate`, it works, and it displays a few thousand archetypes for me to choose from. The Maven docs (https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html) include an example where they pick an archetype called &quot;maven-archetype-quickstart&quot; so I could try to just remember that. The syntax is a bit hard to remember though, having to run `mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false` instead of `npm init`&#39;.","body":"Found my typo. If I type <code>mvn archetype:generate</code>, it works, and it displays a few thousand archetypes for me to choose from. The Maven docs (<a href=\"https://maven.apache.org/guides/getting-started/maven-in-five-minutes.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/getting-started/&hellip;</a>) include an example where they pick an archetype called &quot;maven-archetype-quickstart&quot; so I could try to just remember that. The syntax is a bit hard to remember though, having to run <code>mvn archetype:generate -DgroupId=com.mycompany.app -DartifactId=my-app -DarchetypeArtifactId=maven-archetype-quickstart -DarchetypeVersion=1.4 -DinteractiveMode=false</code> instead of <code>npm init</code>&#39;."}],"tags":[],"owner":{"account_id":2908020,"reputation":4642,"user_id":2492865,"display_name":"Anton Koscejev"},"comment_count":7,"down_vote_count":1,"up_vote_count":183,"is_accepted":true,"score":182,"last_activity_date":1484584164,"creation_date":1468575269,"answer_id":38392716,"question_id":38388824,"body_markdown":"Same tool, different language?\r\n------------------------------\r\n\r\nMaven is the most popular build and dependency resolution tool for Java, just like NPM is for JS. But it&#39;s not just the same tool for a different language. There are obviously huge differences between Java and JS builds, and these differences are directly visible in the way Maven operates. For example, while many JS tools rely on Git to do some heavy-lifting, Maven works with custom filesystem-based Maven repositories, as Maven predates Git and needs to handle binary artifacts, which Git historically didn&#39;t handle well. In Maven there&#39;s a clear separation between sources and binaries, while they are often the same thing in JS world.\r\n\r\nMaven basics\r\n------------\r\n\r\nMaven in its purest form follows a declarative model, where `pom.xml` (similar to `package.json`) defines different properties of the build, but contains no scripts. The disadvantage is it can be a challenge to fine-tune some aspects of the build without using scripts as you have to rely on plugins. The advantage is it can be easier to understand other builds just by looking at `pom.xml`, as they usually follow the same approach without too much customization. Gradle is a popular Groovy-based tool built on top of Maven standards and conventions, and is specifically designed to simplify `pom.xml` and break this &quot;no script&quot; barrier.\r\n\r\nReferencing your dependencies\r\n-----------------------------\r\n\r\nSimilarly to `package.json`, you don&#39;t work with `pom.xml` of your dependency directly, but rather define dependency coordinates and let your build tool handle the rest. In Maven the basic form of these coordinates is  GAV (groupId, artifactId, version).\r\n\r\nFlat dependency tree?\r\n---------------------\r\n\r\nBased on comments in the other answer, Maven provides &quot;flat dependency tree&quot;, not &quot;nested dependency tree&quot; that NPM provides by default. Maven does not allow multiple versions of the same dependency. If it happens that different versions are requested, Maven uses [dependency resolution](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html) to pick a single version. This means that sometimes your transitive dependencies will get a different version than they require, but there are ways to manage this. However, this limitation comes from Java, not Maven, as (normally) in Java a class loader will only provide access to a single class definition even if multiple definitions are found on the classpath. Since Java is not particularly good at handling this, Maven tries to avoid this scenario in the first place.\r\n\r\nNote: since [npm](npmjs.com) v3 the dependencies are flatten. The alternative package manager [yarn](https://yarnpkg.com) also does the same.\r\n\r\nMaturity\r\n--------\r\n\r\nFurthermore, Maven is considerably older than NPM, has a larger user base, huge number of custom plugins, and so far could probably be considered more mature overall. Sometimes Maven is used for non-Java or even polyglot projects, as there are plugins for handling other languages or specific environments, such as Android. There are plugins that bridge Maven and other build tools, such as [frontend-maven-plugin](https://github.com/eirslett/frontend-maven-plugin) that actually handles multiple JS build tools.","title":"Is Maven similar to npm?","body":"<h2>Same tool, different language?</h2>\n\n<p>Maven is the most popular build and dependency resolution tool for Java, just like NPM is for JS. But it's not just the same tool for a different language. There are obviously huge differences between Java and JS builds, and these differences are directly visible in the way Maven operates. For example, while many JS tools rely on Git to do some heavy-lifting, Maven works with custom filesystem-based Maven repositories, as Maven predates Git and needs to handle binary artifacts, which Git historically didn't handle well. In Maven there's a clear separation between sources and binaries, while they are often the same thing in JS world.</p>\n\n<h2>Maven basics</h2>\n\n<p>Maven in its purest form follows a declarative model, where <code>pom.xml</code> (similar to <code>package.json</code>) defines different properties of the build, but contains no scripts. The disadvantage is it can be a challenge to fine-tune some aspects of the build without using scripts as you have to rely on plugins. The advantage is it can be easier to understand other builds just by looking at <code>pom.xml</code>, as they usually follow the same approach without too much customization. Gradle is a popular Groovy-based tool built on top of Maven standards and conventions, and is specifically designed to simplify <code>pom.xml</code> and break this \"no script\" barrier.</p>\n\n<h2>Referencing your dependencies</h2>\n\n<p>Similarly to <code>package.json</code>, you don't work with <code>pom.xml</code> of your dependency directly, but rather define dependency coordinates and let your build tool handle the rest. In Maven the basic form of these coordinates is  GAV (groupId, artifactId, version).</p>\n\n<h2>Flat dependency tree?</h2>\n\n<p>Based on comments in the other answer, Maven provides \"flat dependency tree\", not \"nested dependency tree\" that NPM provides by default. Maven does not allow multiple versions of the same dependency. If it happens that different versions are requested, Maven uses <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html\" rel=\"noreferrer\">dependency resolution</a> to pick a single version. This means that sometimes your transitive dependencies will get a different version than they require, but there are ways to manage this. However, this limitation comes from Java, not Maven, as (normally) in Java a class loader will only provide access to a single class definition even if multiple definitions are found on the classpath. Since Java is not particularly good at handling this, Maven tries to avoid this scenario in the first place.</p>\n\n<p>Note: since npm v3 the dependencies are flatten. The alternative package manager <a href=\"https://yarnpkg.com\" rel=\"noreferrer\">yarn</a> also does the same.</p>\n\n<h2>Maturity</h2>\n\n<p>Furthermore, Maven is considerably older than NPM, has a larger user base, huge number of custom plugins, and so far could probably be considered more mature overall. Sometimes Maven is used for non-Java or even polyglot projects, as there are plugins for handling other languages or specific environments, such as Android. There are plugins that bridge Maven and other build tools, such as <a href=\"https://github.com/eirslett/frontend-maven-plugin\" rel=\"noreferrer\">frontend-maven-plugin</a> that actually handles multiple JS build tools.</p>\n"},{"tags":[],"owner":{"account_id":210642,"reputation":8430,"user_id":1347816,"accept_rate":78,"display_name":"LEMUEL  ADANE"},"comment_count":0,"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1523114655,"creation_date":1523114655,"answer_id":49708879,"question_id":38388824,"body_markdown":"Yes, same with gradle, but they are not user friendly as npm.","title":"Is Maven similar to npm?","body":"<p>Yes, same with gradle, but they are not user friendly as npm.</p>\n"},{"comments":[{"owner":{"account_id":1296104,"reputation":997,"user_id":1247123,"accept_rate":74,"display_name":"decal"},"score":0,"creation_date":1675370527,"post_id":52745149,"comment_id":132920393,"body_markdown":"I am a Java developer who recently started working in some Angular projects. You mentioned one of the differences between mvn and npm is that mvn supports &quot;Artifacts that are installed locally, are automatically accessible by other local projects.&quot; Is there any way to accomplish this with npm in a convenient way? It seems like I typically have to build a sub component and manually copy it over to the consuming applications node_modules or release to npm before I can use it.","body":"I am a Java developer who recently started working in some Angular projects. You mentioned one of the differences between mvn and npm is that mvn supports &quot;Artifacts that are installed locally, are automatically accessible by other local projects.&quot; Is there any way to accomplish this with npm in a convenient way? It seems like I typically have to build a sub component and manually copy it over to the consuming applications node_modules or release to npm before I can use it."},{"owner":{"account_id":14873342,"reputation":301,"user_id":10740237,"display_name":"Syed Mushtaq"},"score":0,"creation_date":1694630067,"post_id":52745149,"comment_id":135917868,"body_markdown":"@decal Have a look into `pnpm` . I believe it&#39;s what you need to use","body":"@decal Have a look into <code>pnpm</code> . I believe it&#39;s what you need to use"}],"tags":[],"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"comment_count":2,"down_vote_count":0,"up_vote_count":59,"is_accepted":false,"score":59,"last_activity_date":1684306449,"creation_date":1539190112,"answer_id":52745149,"question_id":38388824,"body_markdown":"Below I provide the common features and differences. I use `|` to separate between `maven` | `npm` terms respectively:\r\n\r\n### Common features:\r\n\r\n- Both tools support **dynamic fetch of dependencies** ( **artifacts | packages** ) based on a descriptor file **`pom.xml`|`package.json`**, and also allow you to **deploy | publish** your own **artifacts | packages**. \r\n\r\n- They both have a default public **repository | registry**  ( http://repo.maven.apache.org/maven2/ | https://registry.npmjs.org), but 3rd-party can also be used (via **`settings.xml`|`.npmrc`** ).\r\n\r\n- They both support the concept of **build-level dependencies (plugins | devDependencies used in scripts)**. \\*Maven supports `provided` dependencies also but this does not seem to apply to npm, since javascript is rarely deployed into containers.\r\n\r\n- They both support dependency namespacing: `groupId`|`scope`\r\n\r\n### Differrences:\r\n\r\n- maven has an additional **local repository**(cache):\r\n    - No need to fetch again the same dependency for differrent projects.\r\n    - Artifacts that are installed locally, are automatically accessible by other local projects.\r\n\r\n- dependencies from a project build in maven are downloaded in `&lt;homedir&gt;/.m2`. With npm they are downloaded in `&lt;projectdir&gt;/node_modules`.\r\n\r\n- Building in **maven** is commonly a **one-step process**: `mvn package` (fetch deps , build). In npm it is a 2-step process: `npm install` (fetch deps) , `npm build` (build)\r\n\r\n- maven defines **build lifecycles** (for building,testing,deploying) **consisted of phases, to which default operations(plugin goals) attach**, based on differrent packaging options(`.jar`,`.war`,`.ear` e.t.c). You can then overwrite these operations, or inject new ones (via the plugin system). This provides kind of an out-of-the box solution for build,docgen,test,deploy e.t.c.  \r\nnpm approach is more simplistic ( see:  [scripts](https://docs.npmjs.com/misc/scripts))\r\n\r\n- Due to the above, npm is labeled as a **package-management tool for javascript** while maven is labeled as a **build-automation and dependency-management tool for java**.\r\n\r\n- In maven setting-up the build process more commonly involves **editing the `pom.xml`**.  \r\nIn npm it involves **writing code** or configuring **complementary build tools** like `gulp`,`webpack` e.t.c\r\n\r\n- For some reason **version ranges** defined by users in npm modules, are much more **loose** than in maven. This can cause issues with transitive dependencies, that is why an additional file was recently added: **`package-lock.json`**\r\n\r\n- With npm it is much more **straightforward to start** a new project: `npm init`. With maven, you need to know how to write a minimal `pom.xml`, or read about archetypes.\r\n\r\n- In general it is much more common to edit `pom.xml` than `package.json`. E.g. **adding dependencies in maven** is done **manually** (or via IDE) while in **npm via command line**.\r\n\r\n- As with all build tools, you can call one tool from inside the other, but I think its much more common to call **npm from inside maven**, than the opposite.\r\n\r\n- npm supports **dev,production builds**. In maven this needs to be defined through **profiles**.\r\n","title":"Is Maven similar to npm?","body":"<p>Below I provide the common features and differences. I use <code>|</code> to separate between <code>maven</code> | <code>npm</code> terms respectively:</p>\n<h3>Common features:</h3>\n<ul>\n<li><p>Both tools support <strong>dynamic fetch of dependencies</strong> ( <strong>artifacts | packages</strong> ) based on a descriptor file <strong><code>pom.xml</code>|<code>package.json</code></strong>, and also allow you to <strong>deploy | publish</strong> your own <strong>artifacts | packages</strong>.</p>\n</li>\n<li><p>They both have a default public <strong>repository | registry</strong>  ( <a href=\"http://repo.maven.apache.org/maven2/\" rel=\"nofollow noreferrer\">http://repo.maven.apache.org/maven2/</a> | <a href=\"https://registry.npmjs.org\" rel=\"nofollow noreferrer\">https://registry.npmjs.org</a>), but 3rd-party can also be used (via <strong><code>settings.xml</code>|<code>.npmrc</code></strong> ).</p>\n</li>\n<li><p>They both support the concept of <strong>build-level dependencies (plugins | devDependencies used in scripts)</strong>. *Maven supports <code>provided</code> dependencies also but this does not seem to apply to npm, since javascript is rarely deployed into containers.</p>\n</li>\n<li><p>They both support dependency namespacing: <code>groupId</code>|<code>scope</code></p>\n</li>\n</ul>\n<h3>Differrences:</h3>\n<ul>\n<li><p>maven has an additional <strong>local repository</strong>(cache):</p>\n<ul>\n<li>No need to fetch again the same dependency for differrent projects.</li>\n<li>Artifacts that are installed locally, are automatically accessible by other local projects.</li>\n</ul>\n</li>\n<li><p>dependencies from a project build in maven are downloaded in <code>&lt;homedir&gt;/.m2</code>. With npm they are downloaded in <code>&lt;projectdir&gt;/node_modules</code>.</p>\n</li>\n<li><p>Building in <strong>maven</strong> is commonly a <strong>one-step process</strong>: <code>mvn package</code> (fetch deps , build). In npm it is a 2-step process: <code>npm install</code> (fetch deps) , <code>npm build</code> (build)</p>\n</li>\n<li><p>maven defines <strong>build lifecycles</strong> (for building,testing,deploying) <strong>consisted of phases, to which default operations(plugin goals) attach</strong>, based on differrent packaging options(<code>.jar</code>,<code>.war</code>,<code>.ear</code> e.t.c). You can then overwrite these operations, or inject new ones (via the plugin system). This provides kind of an out-of-the box solution for build,docgen,test,deploy e.t.c.<br />\nnpm approach is more simplistic ( see:  <a href=\"https://docs.npmjs.com/misc/scripts\" rel=\"nofollow noreferrer\">scripts</a>)</p>\n</li>\n<li><p>Due to the above, npm is labeled as a <strong>package-management tool for javascript</strong> while maven is labeled as a <strong>build-automation and dependency-management tool for java</strong>.</p>\n</li>\n<li><p>In maven setting-up the build process more commonly involves <strong>editing the <code>pom.xml</code></strong>.<br />\nIn npm it involves <strong>writing code</strong> or configuring <strong>complementary build tools</strong> like <code>gulp</code>,<code>webpack</code> e.t.c</p>\n</li>\n<li><p>For some reason <strong>version ranges</strong> defined by users in npm modules, are much more <strong>loose</strong> than in maven. This can cause issues with transitive dependencies, that is why an additional file was recently added: <strong><code>package-lock.json</code></strong></p>\n</li>\n<li><p>With npm it is much more <strong>straightforward to start</strong> a new project: <code>npm init</code>. With maven, you need to know how to write a minimal <code>pom.xml</code>, or read about archetypes.</p>\n</li>\n<li><p>In general it is much more common to edit <code>pom.xml</code> than <code>package.json</code>. E.g. <strong>adding dependencies in maven</strong> is done <strong>manually</strong> (or via IDE) while in <strong>npm via command line</strong>.</p>\n</li>\n<li><p>As with all build tools, you can call one tool from inside the other, but I think its much more common to call <strong>npm from inside maven</strong>, than the opposite.</p>\n</li>\n<li><p>npm supports <strong>dev,production builds</strong>. In maven this needs to be defined through <strong>profiles</strong>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":7362622,"reputation":1884,"user_id":6497083,"accept_rate":91,"display_name":"Shubham Jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67907,"favorite_count":0,"down_vote_count":1,"up_vote_count":128,"accepted_answer_id":38392716,"answer_count":4,"score":127,"last_activity_date":1684306449,"creation_date":1468562353,"question_id":38388824,"body_markdown":"As I have worked with npm which looks for dependencies in package.json file and download it for you. Similarly, I see a pom.xml file in Java project. Does maven looks in this file and download dependencies for me. Can I pass around this pom.xml file like package.json, rather than giving the dependency jars ? Are these tools similar and just build for different platforms ?","title":"Is Maven similar to npm?","body":"<p>As I have worked with npm which looks for dependencies in package.json file and download it for you. Similarly, I see a pom.xml file in Java project. Does maven looks in this file and download dependencies for me. Can I pass around this pom.xml file like package.json, rather than giving the dependency jars ? Are these tools similar and just build for different platforms ?</p>\n"},{"tags":["java","filter","jtable","rowfilter","tablefilter"],"answers":[{"comments":[{"owner":{"account_id":1115371,"reputation":205,"user_id":1104836,"accept_rate":45,"display_name":"user1104836"},"score":0,"creation_date":1462347513,"post_id":36601331,"comment_id":61593403,"body_markdown":"It works perfect, except when I filter on a String containing &quot;(&quot; or &quot;)&quot; for Example: &quot;Car (Porsche)&quot; . How to deal with that?","body":"It works perfect, except when I filter on a String containing &quot;(&quot; or &quot;)&quot; for Example: &quot;Car (Porsche)&quot; . How to deal with that?"},{"owner":{"account_id":1115371,"reputation":205,"user_id":1104836,"accept_rate":45,"display_name":"user1104836"},"score":1,"creation_date":1462356977,"post_id":36601331,"comment_id":61599772,"body_markdown":"Solved it: Pattern.quote(filterValue)","body":"Solved it: Pattern.quote(filterValue)"}],"tags":[],"owner":{"account_id":1248144,"reputation":4402,"user_id":1209159,"accept_rate":36,"display_name":"Natalia"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1460631367,"creation_date":1460557260,"answer_id":36601331,"question_id":36600996,"body_markdown":"you can create RowFilter.AndFilter and pass all filters that you need:\r\n\r\n    List&lt;RowFilter&lt;M, O&gt;&gt; listOfFilters = new ArrayList&lt;&gt;();\r\n    ... add filters into list\r\n    RowFilter.andFilter(listOfFilters);","title":"Java RowFilter on multiple columns","body":"<p>you can create RowFilter.AndFilter and pass all filters that you need:</p>\n\n<pre><code>List&lt;RowFilter&lt;M, O&gt;&gt; listOfFilters = new ArrayList&lt;&gt;();\n... add filters into list\nRowFilter.andFilter(listOfFilters);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6269003,"reputation":967,"user_id":4873750,"display_name":"Edison Arango"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502514428,"creation_date":1502514428,"answer_id":45646719,"question_id":36600996,"body_markdown":"Simply remove the parameter &quot;0&quot; from the RowFilter to sort all columns:\r\n\r\n    rf = RowFilter.regexFilter(filterText.getText());","title":"Java RowFilter on multiple columns","body":"<p>Simply remove the parameter \"0\" from the RowFilter to sort all columns:</p>\n\n<pre><code>rf = RowFilter.regexFilter(filterText.getText());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5782237,"reputation":11,"user_id":4562498,"display_name":"Adoliu Alexandru"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684305936,"creation_date":1684305936,"answer_id":76269218,"question_id":36600996,"body_markdown":"I used 2 inputs JTextField (filterTextOras,filterTextClient), using simple RowFilter&lt;MyTableModel, Object&gt; if either textfields are empty and compoundRowFilter is both contain text.\r\n\r\n    protected void Filtru() {\r\n            RowFilter&lt;MyTableModel, Object&gt; rfo = null;\r\n            RowFilter&lt;MyTableModel, Object&gt; rfc = null;\r\n            if(filterTextClient.getText().equals(&quot;&quot;)){\r\n                if(filterTextOras.getText().equals(&quot;&quot;)){\r\n                    sorter.setRowFilter(null);\r\n                } else {\r\n                    rfc = RowFilter.regexFilter(filterTextOras, 1);//column 1\r\n                    sorter.setRowFilter(rfc);\r\n                }\r\n            } else {\r\n                if(filterTextOras.getText().equals(&quot;&quot;)){\r\n                    rfo = RowFilter.regexFilter(filterTextClient.getText(), 0);//column 0\r\n                    sorter.setRowFilter(rfo);\r\n                }\r\n                else{\r\n                    List&lt;RowFilter&lt;Object,Object&gt;&gt; filters = new ArrayList&lt;RowFilter&lt;Object,Object&gt;&gt;(2);\r\n                    filters.add(RowFilter.regexFilter(filterTextClient.getText(), 0, 0));\r\n                    filters.add(RowFilter.regexFilter(filterTextOras.getText(), 1));\r\n                    RowFilter&lt;Object,Object&gt; compoundRowFilter = RowFilter.andFilter(filters);\r\n                    sorter.setRowFilter(compoundRowFilter);\r\n                }\r\n            }\r\n        }","title":"Java RowFilter on multiple columns","body":"<p>I used 2 inputs JTextField (filterTextOras,filterTextClient), using simple RowFilter&lt;MyTableModel, Object&gt; if either textfields are empty and compoundRowFilter is both contain text.</p>\n<pre><code>protected void Filtru() {\n        RowFilter&lt;MyTableModel, Object&gt; rfo = null;\n        RowFilter&lt;MyTableModel, Object&gt; rfc = null;\n        if(filterTextClient.getText().equals(&quot;&quot;)){\n            if(filterTextOras.getText().equals(&quot;&quot;)){\n                sorter.setRowFilter(null);\n            } else {\n                rfc = RowFilter.regexFilter(filterTextOras, 1);//column 1\n                sorter.setRowFilter(rfc);\n            }\n        } else {\n            if(filterTextOras.getText().equals(&quot;&quot;)){\n                rfo = RowFilter.regexFilter(filterTextClient.getText(), 0);//column 0\n                sorter.setRowFilter(rfo);\n            }\n            else{\n                List&lt;RowFilter&lt;Object,Object&gt;&gt; filters = new ArrayList&lt;RowFilter&lt;Object,Object&gt;&gt;(2);\n                filters.add(RowFilter.regexFilter(filterTextClient.getText(), 0, 0));\n                filters.add(RowFilter.regexFilter(filterTextOras.getText(), 1));\n                RowFilter&lt;Object,Object&gt; compoundRowFilter = RowFilter.andFilter(filters);\n                sorter.setRowFilter(compoundRowFilter);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1115371,"reputation":205,"user_id":1104836,"accept_rate":45,"display_name":"user1104836"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1643,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36601331,"answer_count":3,"score":1,"last_activity_date":1684305936,"creation_date":1460556558,"question_id":36600996,"body_markdown":"I want to sort/filter a JTable on multiple columns, f.E.\r\n\r\n&lt;pre&gt;\r\nColumn1  Column2\r\n   a        1\r\n   b        2\r\n   c        2\r\n&lt;/pre&gt;\r\n\r\nI want to sort this table by the &lt;b&gt;Column1 = b&lt;/b&gt; and by the &lt;b&gt;Column2 = 2&lt;/b&gt;.\r\n\r\n    MyTableModel model = new MyTableModel();\r\n    sorter = new TableRowSorter&lt;MyTableModel&gt;(model);\r\n    table = new JTable(model);\r\n    table.setRowSorter(sorter);\r\n    \r\n    ...\r\n    \r\n    private void newFilter() {\r\n        RowFilter&lt;MyTableModel, Object&gt; rf = null;\r\n        //If current expression doesn&#39;t parse, don&#39;t update.\r\n        try {\r\n            rf = RowFilter.regexFilter(filterText.getText(), 0);\r\n        } catch (java.util.regex.PatternSyntaxException e) {\r\n            return;\r\n        }\r\n        sorter.setRowFilter(rf);\r\n    }\r\n\r\nBut how to sort on more than one column?\r\n","title":"Java RowFilter on multiple columns","body":"<p>I want to sort/filter a JTable on multiple columns, f.E.</p>\n\n<pre>\nColumn1  Column2\n   a        1\n   b        2\n   c        2\n</pre>\n\n<p>I want to sort this table by the <b>Column1 = b</b> and by the <b>Column2 = 2</b>.</p>\n\n<pre><code>MyTableModel model = new MyTableModel();\nsorter = new TableRowSorter&lt;MyTableModel&gt;(model);\ntable = new JTable(model);\ntable.setRowSorter(sorter);\n\n...\n\nprivate void newFilter() {\n    RowFilter&lt;MyTableModel, Object&gt; rf = null;\n    //If current expression doesn't parse, don't update.\n    try {\n        rf = RowFilter.regexFilter(filterText.getText(), 0);\n    } catch (java.util.regex.PatternSyntaxException e) {\n        return;\n    }\n    sorter.setRowFilter(rf);\n}\n</code></pre>\n\n<p>But how to sort on more than one column?</p>\n"},{"tags":["java","html","analytics","highlight","similarity"],"comments":[{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1684304595,"post_id":76268970,"comment_id":134496813,"body_markdown":"&quot;It might not be entirely inside the source page.&quot; what does that even mean?","body":"&quot;It might not be entirely inside the source page.&quot; what does that even mean?"},{"owner":{"account_id":28617606,"reputation":1,"user_id":21911233,"display_name":"TBKJ"},"score":0,"creation_date":1684305809,"post_id":76268970,"comment_id":134497015,"body_markdown":"It means the sub page might not be exactly a substring of source page but some parts of sub page and source page would be intersecting.","body":"It means the sub page might not be exactly a substring of source page but some parts of sub page and source page would be intersecting."},{"owner":{"account_id":112084,"reputation":171457,"user_id":295783,"accept_rate":81,"display_name":"mplungjan"},"score":0,"creation_date":1684306015,"post_id":76268970,"comment_id":134497055,"body_markdown":"So write that, and show an example. It is very hard to understand your question as it is now","body":"So write that, and show an example. It is very hard to understand your question as it is now"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684463062,"post_id":76268970,"comment_id":134524606,"body_markdown":"Use a Java `diff` utility, and use it&#39;s output as constraints for creating a starting and ending index for your highlight procedure.","body":"Use a Java <code>diff</code> utility, and use it&#39;s output as constraints for creating a starting and ending index for your highlight procedure."}],"owner":{"account_id":28617606,"reputation":1,"user_id":21911233,"display_name":"TBKJ"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684305850,"creation_date":1684303337,"question_id":76268970,"body_markdown":"I have 2 HTML pages\r\n    1. A complete HTML page. Let&#39;s call this source page\r\n    2. A small HTML page(sub page) which is similar to a small part of source page.\r\n\r\nExample\r\n\r\n**Source page**\r\n\r\n    &lt;div&gt;\r\n    This is a source page\r\n    &lt;/div&gt;\r\n\r\n**Sub page**\r\n\r\n    &lt;div&gt;\r\n    This is blank page\r\n    &lt;/div&gt;\r\n\r\nHere we have a sub page which is similar to source page.\r\nIt might not be entirely inside the source page. It means the sub page might not be exactly a substring of source page but some parts of sub page and source page would be intersecting.\r\n\r\nI need to highlight the **sub page** inside the **source page**.\r\n\r\nI was thinking about using the graph to find the similarity between words(nodes) and finding the start and end nodes in source page.\r\nThis is not concrete but only a thought.\r\n\r\nAny suggestion/implementation would be helpful.\r\nI am using Java for implementation. \r\n","title":"Highlight similar sub html inside the source html page","body":"<p>I have 2 HTML pages\n1. A complete HTML page. Let's call this source page\n2. A small HTML page(sub page) which is similar to a small part of source page.</p>\n<p>Example</p>\n<p><strong>Source page</strong></p>\n<pre><code>&lt;div&gt;\nThis is a source page\n&lt;/div&gt;\n</code></pre>\n<p><strong>Sub page</strong></p>\n<pre><code>&lt;div&gt;\nThis is blank page\n&lt;/div&gt;\n</code></pre>\n<p>Here we have a sub page which is similar to source page.\nIt might not be entirely inside the source page. It means the sub page might not be exactly a substring of source page but some parts of sub page and source page would be intersecting.</p>\n<p>I need to highlight the <strong>sub page</strong> inside the <strong>source page</strong>.</p>\n<p>I was thinking about using the graph to find the similarity between words(nodes) and finding the start and end nodes in source page.\nThis is not concrete but only a thought.</p>\n<p>Any suggestion/implementation would be helpful.\nI am using Java for implementation.</p>\n"},{"tags":["java","pdf","pdf-generation","pdfbox","pdf-form"],"comments":[{"owner":{"account_id":350198,"reputation":15550,"user_id":685923,"accept_rate":70,"display_name":"Ed Staub"},"score":0,"creation_date":1346375402,"post_id":12198742,"comment_id":16351149,"body_markdown":"I hesitate to ask... is the text perhaps white (the same color as the background)?","body":"I hesitate to ask... is the text perhaps white (the same color as the background)?"}],"answers":[{"tags":[],"owner":{"account_id":1931504,"reputation":29,"user_id":1740802,"display_name":"Zalia"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1350036176,"creation_date":1350036176,"answer_id":12856668,"question_id":12198742,"body_markdown":"I read this on a forum and worked for me:\r\n\r\nUsing Adobe Acrobat Pro, I exported the form using &quot;Export Data&quot; to a XML and then imported it back from XML-file with &quot;Import Data&quot;. Those commands are under Forms/Manage Forms Data\r\n\r\nThis is the link to the post: http://forums.adobe.com/thread/637421","title":"PDF-Form Text hidden unless clicked","body":"<p>I read this on a forum and worked for me:</p>\n\n<p>Using Adobe Acrobat Pro, I exported the form using \"Export Data\" to a XML and then imported it back from XML-file with \"Import Data\". Those commands are under Forms/Manage Forms Data</p>\n\n<p>This is the link to the post: <a href=\"http://forums.adobe.com/thread/637421\" rel=\"nofollow\">http://forums.adobe.com/thread/637421</a></p>\n"},{"tags":[],"owner":{"account_id":469040,"reputation":3336,"user_id":875371,"display_name":"g-eorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361916536,"creation_date":1361916536,"answer_id":15100328,"question_id":12198742,"body_markdown":"I had this exact problem with a form I was filling with PDFBox in Java.\r\n\r\nI fixed it by opening the original (blank) PDF form in Acrobat Pro and changing some options for each of the problem text fields. The options might vary for you, but here&#39;s what worked for me:\r\n\r\nIn the Acrobat Pro menu bar go to Forms &gt; Add or edit fields.\r\nRight click the text field in Acrobat Pro and select properties, then: \r\n\r\nIn the &#39;Options&#39; tab:\r\n\r\n - Untick all options except &#39;scroll long text&#39;\r\n - Add a few space characters in to the Default Value box\r\n\r\nIn the &#39;Appearance&#39; tab:\r\n\r\n - Set the font size to &#39;auto&#39;\r\n\r\nClick &#39;close form editing&#39; and save the file.\r\n\r\n![Field Options][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/4rPRV.png","title":"PDF-Form Text hidden unless clicked","body":"<p>I had this exact problem with a form I was filling with PDFBox in Java.</p>\n\n<p>I fixed it by opening the original (blank) PDF form in Acrobat Pro and changing some options for each of the problem text fields. The options might vary for you, but here's what worked for me:</p>\n\n<p>In the Acrobat Pro menu bar go to Forms > Add or edit fields.\nRight click the text field in Acrobat Pro and select properties, then: </p>\n\n<p>In the 'Options' tab:</p>\n\n<ul>\n<li>Untick all options except 'scroll long text'</li>\n<li>Add a few space characters in to the Default Value box</li>\n</ul>\n\n<p>In the 'Appearance' tab:</p>\n\n<ul>\n<li>Set the font size to 'auto'</li>\n</ul>\n\n<p>Click 'close form editing' and save the file.</p>\n\n<p><img src=\"https://i.stack.imgur.com/4rPRV.png\" alt=\"Field Options\"></p>\n"},{"tags":[],"owner":{"account_id":2647433,"reputation":102,"user_id":2289837,"accept_rate":100,"display_name":"BoBFiSh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387275746,"creation_date":1387275746,"answer_id":20631513,"question_id":12198742,"body_markdown":"I don&#39;t quite know how you can stop it happening in the future but a resolution to getting the file working, similar to g-eorge is to open it in adobe acrobat pro, in tools on the right hand menu select &quot;Interactive objects&quot; and choose select object.\r\n\r\nWhen you highlight the first field you want to fix, you should then be able to control-a to select all interactive objects. Once all are selected, right click on one field and select properties.\r\n\r\nIn the &quot;general&quot; tab the bottom option should have &quot;common properties&quot; which has the option &quot;form field&quot; change this to **hidden** and then back to **visible**. This will then restore all visibility to the form.\r\n\r\nThis has worked for me on all the rare instances when I receive this, and hasn&#39;t failed me once. Hope it does the same for you,\r\n\r\nBoB","title":"PDF-Form Text hidden unless clicked","body":"<p>I don't quite know how you can stop it happening in the future but a resolution to getting the file working, similar to g-eorge is to open it in adobe acrobat pro, in tools on the right hand menu select \"Interactive objects\" and choose select object.</p>\n\n<p>When you highlight the first field you want to fix, you should then be able to control-a to select all interactive objects. Once all are selected, right click on one field and select properties.</p>\n\n<p>In the \"general\" tab the bottom option should have \"common properties\" which has the option \"form field\" change this to <strong>hidden</strong> and then back to <strong>visible</strong>. This will then restore all visibility to the form.</p>\n\n<p>This has worked for me on all the rare instances when I receive this, and hasn't failed me once. Hope it does the same for you,</p>\n\n<p>BoB</p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1398235257,"post_id":23224076,"comment_id":35552138,"body_markdown":"How can you be sure this is an Adobe error? I&#39;ve seen quite a lot of PDFs with an issue as described by the OP, and often the problem was due to some error in the PDF (produced by non-Adobe software).","body":"How can you be sure this is an Adobe error? I&#39;ve seen quite a lot of PDFs with an issue as described by the OP, and often the problem was due to some error in the PDF (produced by non-Adobe software)."}],"tags":[],"owner":{"account_id":1119111,"reputation":11,"user_id":3561148,"display_name":"adamold"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1398181217,"creation_date":1398181217,"answer_id":23224076,"question_id":12198742,"body_markdown":"in the appearance tab of each erroneously hidden object you will see the &quot;fill color&quot; set to none. set it to none again (just click on it) and save the PDF and these fields will show up normally. I can&#39;t believe adobe has let this error persist for so long. It happens constantly when viewing/saving with multiple pdf readers.","title":"PDF-Form Text hidden unless clicked","body":"<p>in the appearance tab of each erroneously hidden object you will see the \"fill color\" set to none. set it to none again (just click on it) and save the PDF and these fields will show up normally. I can't believe adobe has let this error persist for so long. It happens constantly when viewing/saving with multiple pdf readers.</p>\n"},{"comments":[{"owner":{"account_id":5245517,"reputation":21,"user_id":4191364,"display_name":"Susie"},"score":0,"creation_date":1414524333,"post_id":26616824,"comment_id":41844847,"body_markdown":"Apologies, it looks like someone previously mentioned this too!","body":"Apologies, it looks like someone previously mentioned this too!"}],"tags":[],"owner":{"account_id":5245517,"reputation":21,"user_id":4191364,"display_name":"Susie"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414524277,"creation_date":1414524277,"answer_id":26616824,"question_id":12198742,"body_markdown":"I just ran across this and tried a combination of things before one very simple thing worked.  I have Adobe Acrobat 9.0 and I couldn&#39;t find some of the options written here.\r\n\r\nWhat I ended up doing was a two-pronged process:  I went to **Forms &gt; Manage Form Data &gt; Export Data**; I then saved that file on my desktop.  Next, I went back to Forms &gt; Manage Form Data but instead selected **Import Data**, and selected that file I&#39;d just saved.  Bingo!  Everything filled in properly.","title":"PDF-Form Text hidden unless clicked","body":"<p>I just ran across this and tried a combination of things before one very simple thing worked.  I have Adobe Acrobat 9.0 and I couldn't find some of the options written here.</p>\n\n<p>What I ended up doing was a two-pronged process:  I went to <strong>Forms > Manage Form Data > Export Data</strong>; I then saved that file on my desktop.  Next, I went back to Forms > Manage Form Data but instead selected <strong>Import Data</strong>, and selected that file I'd just saved.  Bingo!  Everything filled in properly.</p>\n"},{"comments":[{"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"score":0,"creation_date":1452183564,"post_id":34611473,"comment_id":57065394,"body_markdown":"Adding the &quot;NeedAppearances&quot; line did not resolve the problem for me with pdfbox 1.8.x. Upgrading to pdfbox 2 and setting `form.setNeedAppearances(true)` fixed it","body":"Adding the &quot;NeedAppearances&quot; line did not resolve the problem for me with pdfbox 1.8.x. Upgrading to pdfbox 2 and setting <code>form.setNeedAppearances(true)</code> fixed it"},{"owner":{"account_id":1561904,"reputation":6160,"user_id":1451599,"accept_rate":50,"display_name":"dirkk"},"score":0,"creation_date":1452199270,"post_id":34611473,"comment_id":57075049,"body_markdown":"@D&#243;nal weird, I actually didn&#39;t even test it with pdfbox 2, just read the API. But I did test it with 1.8.10 and it resolved the issue for me. Of course, there could be other issues here as well. I also remove the `AP` values for the form fields before, maybe that&#39;s relevant?","body":"@D&#243;nal weird, I actually didn&#39;t even test it with pdfbox 2, just read the API. But I did test it with 1.8.10 and it resolved the issue for me. Of course, there could be other issues here as well. I also remove the <code>AP</code> values for the form fields before, maybe that&#39;s relevant?"},{"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"score":0,"creation_date":1454258833,"post_id":34611473,"comment_id":57953295,"body_markdown":"Both methods works for me - 1.8 and 2.0.0-RC3. Thanks, you saved my life (mental health at least). I just wonder why it&#39;s not true by default.","body":"Both methods works for me - 1.8 and 2.0.0-RC3. Thanks, you saved my life (mental health at least). I just wonder why it&#39;s not true by default."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1566299223,"post_id":34611473,"comment_id":101604841,"body_markdown":"The `/NeedAppearances` setting in a PDF means that the viewer should create the appearances. PDFBox 2.0.* should create good appearances itself (in theory). The only weakness that I remember are RTL languages (e.g. hebrew, arabic) and languages with complex scripts (e.g. thai and some indian languages).","body":"The <code>&#47;NeedAppearances</code> setting in a PDF means that the viewer should create the appearances. PDFBox 2.0.* should create good appearances itself (in theory). The only weakness that I remember are RTL languages (e.g. hebrew, arabic) and languages with complex scripts (e.g. thai and some indian languages)."}],"tags":[],"owner":{"account_id":1561904,"reputation":6160,"user_id":1451599,"accept_rate":50,"display_name":"dirkk"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1451996104,"creation_date":1451996104,"answer_id":34611473,"question_id":12198742,"body_markdown":"I had the same problem when I tried to programmatically fill PDF forms using pdfbox. I add this answer to a rather old question as all the other answers manipulate the original PDF, which is not always an option.\r\n\r\nThe problem with invisible form fields just appeared in Acrobat PDF, other PDF renderers showed it fine. If using pdfbox 1.8.x you have to set `Need Appearances` as explained [here][1]:\r\n\r\n    PDAcroForm form = docCatalog.getAcroForm();\r\n    form.getDictionary().setItem(COSName.getPDFName(&quot;NeedAppearances&quot;), COSBoolean.TRUE);\r\n\r\nIf using pdfbox 2 this is simplified to:\r\n\r\n    PDAcroForm form = docCatalog.getAcroForm();\r\n    form.setNeedAppearances(true);\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/PDFBOX-71","title":"PDF-Form Text hidden unless clicked","body":"<p>I had the same problem when I tried to programmatically fill PDF forms using pdfbox. I add this answer to a rather old question as all the other answers manipulate the original PDF, which is not always an option.</p>\n\n<p>The problem with invisible form fields just appeared in Acrobat PDF, other PDF renderers showed it fine. If using pdfbox 1.8.x you have to set <code>Need Appearances</code> as explained <a href=\"https://issues.apache.org/jira/browse/PDFBOX-71\">here</a>:</p>\n\n<pre><code>PDAcroForm form = docCatalog.getAcroForm();\nform.getDictionary().setItem(COSName.getPDFName(\"NeedAppearances\"), COSBoolean.TRUE);\n</code></pre>\n\n<p>If using pdfbox 2 this is simplified to:</p>\n\n<pre><code>PDAcroForm form = docCatalog.getAcroForm();\nform.setNeedAppearances(true);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1566299439,"post_id":57568002,"comment_id":101604964,"body_markdown":"It would still be interesting to see your file... if possible, upload it on a sharehoster and post the address here or on the users mailing list, and mention what field you are trying to set. See also the comment I made on the accepted answer.","body":"It would still be interesting to see your file... if possible, upload it on a sharehoster and post the address here or on the users mailing list, and mention what field you are trying to set. See also the comment I made on the accepted answer."}],"tags":[],"owner":{"account_id":16650,"reputation":6289,"user_id":36510,"accept_rate":57,"display_name":"nevster"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566283451,"creation_date":1566283451,"answer_id":57568002,"question_id":12198742,"body_markdown":"Nothing I tried here worked - except to change software.\r\n\r\nI was using PDFElement 6 Pro (trial) and couldn&#39;t make it work. Tried all sorts of things with PDFBox plus all suggestions above.\r\n\r\nEnded up trying https://www.pdfescape.com/ and it all worked just fine.","title":"PDF-Form Text hidden unless clicked","body":"<p>Nothing I tried here worked - except to change software.</p>\n\n<p>I was using PDFElement 6 Pro (trial) and couldn't make it work. Tried all sorts of things with PDFBox plus all suggestions above.</p>\n\n<p>Ended up trying <a href=\"https://www.pdfescape.com/\" rel=\"nofollow noreferrer\">https://www.pdfescape.com/</a> and it all worked just fine.</p>\n"},{"tags":[],"owner":{"account_id":20825010,"reputation":1,"user_id":15295723,"display_name":"Marcelo095"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614427259,"creation_date":1614427259,"answer_id":66398604,"question_id":12198742,"body_markdown":"In my case I solved it by changing the font to Arial (or one of the standard in windows set), in the &#39;Appearance&#39; tab, in properties.\r\nBefore, it was set Helvetica which was not embedded in the file and that I think generated the problem.","title":"PDF-Form Text hidden unless clicked","body":"<p>In my case I solved it by changing the font to Arial (or one of the standard in windows set), in the 'Appearance' tab, in properties.\nBefore, it was set Helvetica which was not embedded in the file and that I think generated the problem.</p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1684331939,"post_id":76269191,"comment_id":134502942,"body_markdown":"Nuking **AP** without replacement in a PDF 2.0 document makes it invalid.","body":"Nuking <b>AP</b> without replacement in a PDF 2.0 document makes it invalid."}],"tags":[],"owner":{"account_id":7772264,"reputation":248,"user_id":5881371,"display_name":"Jakub Pawlowski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684305662,"creation_date":1684305662,"answer_id":76269191,"question_id":12198742,"body_markdown":"Map over all text form fields and programmatically nuke DA, MK and AP entries in a PDF dictionary - those are references to styles so they can include things like fonts that other machine might not have installed and therefore by default they displays as blanks.","title":"PDF-Form Text hidden unless clicked","body":"<p>Map over all text form fields and programmatically nuke DA, MK and AP entries in a PDF dictionary - those are references to styles so they can include things like fonts that other machine might not have installed and therefore by default they displays as blanks.</p>\n"}],"owner":{"account_id":255165,"reputation":3172,"user_id":535024,"accept_rate":88,"display_name":"codejitsu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21315,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34611473,"answer_count":9,"score":4,"last_activity_date":1684305662,"creation_date":1346335505,"question_id":12198742,"body_markdown":"In my application I have to fill a predefined PDF form with data from DB. We are using Java and Pdfbox. The filling itself is not a problem.\r\n\r\nThe problem is that in resulting PDF-file all texts in the form are invisible (or hidden, also grey rectangles) unless field clicked.\r\n\r\nHow can I solve this problem?","title":"PDF-Form Text hidden unless clicked","body":"<p>In my application I have to fill a predefined PDF form with data from DB. We are using Java and Pdfbox. The filling itself is not a problem.</p>\n\n<p>The problem is that in resulting PDF-file all texts in the form are invisible (or hidden, also grey rectangles) unless field clicked.</p>\n\n<p>How can I solve this problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1684369702,"post_id":76269181,"comment_id":134510146,"body_markdown":"Seems out of topic","body":"Seems out of topic"}],"owner":{"account_id":21100892,"reputation":1,"user_id":15510809,"display_name":"vinoth kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684305541,"creation_date":1684305541,"question_id":76269181,"body_markdown":"As i came to know about DCEVM which supports hot reloading in the java application i am working with the jre_1.8.0_352 but the DCEVM latest release for the java 8 is 1.8.0_181.Is there any alternate tool for Hot reload in java applications that comes with commercial license.I also know about jrebel but it comes with the comercial license.Can anyone suggest me with the open source tools.\r\n\r\nalready using DCEVM need another tool.","title":"Alternate of DCEVM for HOt Reload","body":"<p>As i came to know about DCEVM which supports hot reloading in the java application i am working with the jre_1.8.0_352 but the DCEVM latest release for the java 8 is 1.8.0_181.Is there any alternate tool for Hot reload in java applications that comes with commercial license.I also know about jrebel but it comes with the comercial license.Can anyone suggest me with the open source tools.</p>\n<p>already using DCEVM need another tool.</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":108817,"reputation":111656,"user_id":288671,"display_name":"Vitalii Fedorenko"},"score":2,"creation_date":1327622101,"post_id":321549,"comment_id":11321184,"body_markdown":"just make sure you do not operate with doubles more than 2 ^ 54 or numbers will not fit into the [fraction](http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.3), so for example expressions like `myLong == (long)(myDouble + 1)` where `myLong` equals `myDouble` will evaluate to `true`","body":"just make sure you do not operate with doubles more than 2 ^ 54 or numbers will not fit into the <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.3\" rel=\"nofollow noreferrer\">fraction</a>, so for example expressions like <code>myLong == (long)(myDouble + 1)</code> where <code>myLong</code> equals <code>myDouble</code> will evaluate to <code>true</code>"},{"owner":{"account_id":2789334,"reputation":3588,"user_id":2399894,"accept_rate":93,"display_name":"SARose"},"score":0,"creation_date":1419923943,"post_id":321549,"comment_id":43815067,"body_markdown":"This method ( `Double.longValue();` ) is still useful if you have double values from things like an arraylist like this `ArrayList&lt;Double&gt;` since you&#39;ll get a can&#39;t cast error. I&#39;m just saying this for anyone that came here and had a slightly different problem.","body":"This method ( <code>Double.longValue();</code> ) is still useful if you have double values from things like an arraylist like this <code>ArrayList&lt;Double&gt;</code> since you&#39;ll get a can&#39;t cast error. I&#39;m just saying this for anyone that came here and had a slightly different problem."}],"answers":[{"comments":[{"owner":{"account_id":30331,"reputation":1819,"user_id":82663,"accept_rate":94,"display_name":"Phantomwhale"},"score":8,"creation_date":1323406453,"post_id":321558,"comment_id":10432911,"body_markdown":"Great answer - the towards zero part would have been wrong for my app, so applause for highlighting this in your answer, and reminding my hungover brain to use Math.round() here instead of just casting !","body":"Great answer - the towards zero part would have been wrong for my app, so applause for highlighting this in your answer, and reminding my hungover brain to use Math.round() here instead of just casting !"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":275,"is_accepted":false,"score":275,"last_activity_date":1227721638,"creation_date":1227721638,"answer_id":321558,"question_id":321549,"body_markdown":"Assuming you&#39;re happy with truncating towards zero, just cast:\r\n\r\n    double d = 1234.56;\r\n    long x = (long) d; // x = 1234\r\n\r\nThis will be faster than going via the wrapper classes - and more importantly, it&#39;s more readable. Now, if you need rounding other than &quot;always towards zero&quot; you&#39;ll need slightly more complicated code.","title":"How to convert a double to long without casting?","body":"<p>Assuming you're happy with truncating towards zero, just cast:</p>\n\n<pre><code>double d = 1234.56;\nlong x = (long) d; // x = 1234\n</code></pre>\n\n<p>This will be faster than going via the wrapper classes - and more importantly, it's more readable. Now, if you need rounding other than \"always towards zero\" you'll need slightly more complicated code.</p>\n"},{"comments":[{"owner":{"account_id":17619,"reputation":15368,"user_id":39622,"accept_rate":78,"display_name":"Cyrille Ka"},"score":0,"creation_date":1227721855,"post_id":321563,"comment_id":161948,"body_markdown":"It doesn&#39;t give the same result as a cast. So it depends on what rich wants to do.","body":"It doesn&#39;t give the same result as a cast. So it depends on what rich wants to do."},{"owner":{"account_id":16029,"reputation":498875,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"score":3,"creation_date":1227721988,"post_id":321563,"comment_id":161952,"body_markdown":"yeah. it was thought as an addition to what Jon said :)","body":"yeah. it was thought as an addition to what Jon said :)"},{"owner":{"account_id":258837,"reputation":2920,"user_id":541277,"accept_rate":81,"display_name":"themanatuf"},"score":2,"creation_date":1336411121,"post_id":321563,"comment_id":13551623,"body_markdown":"I like this since it also works with Double and Long objects rather than primitive types.","body":"I like this since it also works with Double and Long objects rather than primitive types."}],"tags":[],"owner":{"account_id":16029,"reputation":498875,"user_id":34509,"accept_rate":62,"display_name":"Johannes Schaub - litb"},"comment_count":3,"down_vote_count":1,"up_vote_count":146,"is_accepted":false,"score":145,"last_activity_date":1588705701,"creation_date":1227721747,"answer_id":321563,"question_id":321549,"body_markdown":"... And here is the rounding way which doesn&#39;t truncate. Hurried to look it up in the Java API Manual:\r\n\r\n    double d = 1234.56;\r\n    long x = Math.round(d); //1235","title":"How to convert a double to long without casting?","body":"<p>... And here is the rounding way which doesn't truncate. Hurried to look it up in the Java API Manual:</p>\n\n<pre><code>double d = 1234.56;\nlong x = Math.round(d); //1235\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1227721747,"creation_date":1227721747,"answer_id":321564,"question_id":321549,"body_markdown":"`(new Double(d)).longValue()` internally just does a cast, so there&#39;s no reason to create a Double object.","title":"How to convert a double to long without casting?","body":"<p><code>(new Double(d)).longValue()</code> internally just does a cast, so there's no reason to create a Double object.</p>\n"},{"tags":[],"owner":{"account_id":13612,"reputation":27056,"user_id":27474,"accept_rate":68,"display_name":"Vijay Dev"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1314140232,"creation_date":1227721865,"answer_id":321567,"question_id":321549,"body_markdown":"Simply put, casting is more efficient than creating a Double object.","title":"How to convert a double to long without casting?","body":"<p>Simply put, casting is more efficient than creating a Double object.</p>\n"},{"tags":[],"owner":{"account_id":1644566,"reputation":3148,"user_id":1516331,"accept_rate":63,"display_name":"CyberPlayerOne"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1344940133,"creation_date":1344940133,"answer_id":11950386,"question_id":321549,"body_markdown":"Guava Math library has a method specially designed for converting a double to a long:\r\n\r\n    long DoubleMath.roundToLong(double x, RoundingMode mode)\r\nYou can use `java.math.RoundingMode` to specify the rounding behavior.","title":"How to convert a double to long without casting?","body":"<p>Guava Math library has a method specially designed for converting a double to a long:</p>\n\n<pre><code>long DoubleMath.roundToLong(double x, RoundingMode mode)\n</code></pre>\n\n<p>You can use <code>java.math.RoundingMode</code> to specify the rounding behavior.</p>\n"},{"comments":[{"owner":{"account_id":5204362,"reputation":1292,"user_id":4162800,"accept_rate":65,"display_name":"DJphy"},"score":0,"creation_date":1633605435,"post_id":24130032,"comment_id":122807187,"body_markdown":"This is more convenient than the accepted answer","body":"This is more convenient than the accepted answer"}],"tags":[],"owner":{"account_id":3525812,"reputation":902,"user_id":2946951,"display_name":"leogps"},"comment_count":1,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1490155598,"creation_date":1402352878,"answer_id":24130032,"question_id":321549,"body_markdown":"The preferred approach should be:\r\n\r\n    Double.valueOf(d).longValue()\r\n\r\nFrom the [Double (Java Platform SE 7) documentation][1]:\r\n\r\n    Double.valueOf(d)\r\n\r\n&gt; Returns a `Double` instance representing the specified `double` value.\r\n&gt; If a new `Double` instance is not required, this method should\r\n&gt; generally be used in preference to the constructor `Double(double)`,\r\n&gt; as this method is likely to yield significantly better space and time\r\n&gt; performance by caching frequently requested values.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf(double","title":"How to convert a double to long without casting?","body":"<p>The preferred approach should be:</p>\n\n<pre><code>Double.valueOf(d).longValue()\n</code></pre>\n\n<p>From the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Double.html#valueOf(double\" rel=\"noreferrer\">Double (Java Platform SE 7) documentation</a>:</p>\n\n<pre><code>Double.valueOf(d)\n</code></pre>\n\n<blockquote>\n  <p>Returns a <code>Double</code> instance representing the specified <code>double</code> value.\n  If a new <code>Double</code> instance is not required, this method should\n  generally be used in preference to the constructor <code>Double(double)</code>,\n  as this method is likely to yield significantly better space and time\n  performance by caching frequently requested values.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2113882,"reputation":733,"user_id":1878585,"display_name":"Thariq Nugrohotomo"},"score":0,"creation_date":1542257569,"post_id":30024672,"comment_id":93505714,"body_markdown":"`Long is a subset of Double` is not accurate. The number of significant digits for Long is greater that Double, thus some information held by Long can be lost when converted to Double. Example = https://tio.run/##dY3BCoJAEIbP@hSDECjU0j06eOimJymCiNhcldVxV9xRiPDZt5G6dprh/2a@v5Wz3NmhMq3qvB@mJ@oSSpTOQS61gXcY/EJHknjMVivoGcUFjdo0tzvIsXHJehmgNQ0gwhEy3kSeXh@XNDufDsyUZU8FSjFFXJPi5ajqhZ1IDKwiNDFi8od820Rtx15SHG3Evo62bEvWhyVcvP8A","body":"<code>Long is a subset of Double</code> is not accurate. The number of significant digits for Long is greater that Double, thus some information held by Long can be lost when converted to Double. Example = <a href=\"https://tio.run/##dY3BCoJAEIbP@hSDECjU0j06eOimJymCiNhcldVxV9xRiPDZt5G6dprh/2a@v5Wz3NmhMq3qvB@mJ@oSSpTOQS61gXcY/EJHknjMVivoGcUFjdo0tzvIsXHJehmgNQ0gwhEy3kSeXh@XNDufDsyUZU8FSjFFXJPi5ajqhZ1IDKwiNDFi8od820Rtx15SHG3Evo62bEvWhyVcvP8A\" rel=\"nofollow noreferrer\">tio.run/&hellip;</a>"},{"owner":{"account_id":19504722,"reputation":383,"user_id":14270627,"display_name":"Tech Expert Wizard"},"score":0,"creation_date":1604065090,"post_id":30024672,"comment_id":114240727,"body_markdown":"@ThariqNugrohotomo `double` can store a wider range of numerical information than `long`. Take a look at the sections about `long` and `double` on this [site](https://www.w3schools.com/java/java_data_types.asp).","body":"@ThariqNugrohotomo <code>double</code> can store a wider range of numerical information than <code>long</code>. Take a look at the sections about <code>long</code> and <code>double</code> on this <a href=\"https://www.w3schools.com/java/java_data_types.asp\" rel=\"nofollow noreferrer\">site</a>."}],"tags":[],"owner":{"account_id":2273897,"reputation":1975,"user_id":2000673,"accept_rate":100,"display_name":"dutoitns"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1430749103,"creation_date":1430724156,"answer_id":30024672,"question_id":321549,"body_markdown":"If you have a strong suspicion that the DOUBLE is actually a LONG, and you want to\r\n\r\n1) get a handle on its EXACT value as a LONG\r\n\r\n2) throw an error when its not a LONG\r\n\r\nyou can try something like this:\r\n\r\n    public class NumberUtils {\r\n\r\n\t\t/**\r\n\t \t* Convert a {@link Double} to a {@link Long}.\r\n\t \t* Method is for {@link Double}s that are actually {@link Long}s and we just\r\n\t \t* want to get a handle on it as one.\r\n\t \t*/\r\n\t\tpublic static long getDoubleAsLong(double specifiedNumber) {\r\n\t\t\tAssert.isTrue(NumberUtils.isWhole(specifiedNumber));\r\n\t\t\tAssert.isTrue(specifiedNumber &lt;= Long.MAX_VALUE &amp;&amp; specifiedNumber &gt;= Long.MIN_VALUE);\r\n\t\t\t// we already know its whole and in the Long range\r\n\t\t\treturn Double.valueOf(specifiedNumber).longValue();\r\n\t\t}\r\n\t\r\n\t\tpublic static boolean isWhole(double specifiedNumber) {\r\n\t\t\t// http://stackoverflow.com/questions/15963895/how-to-check-if-a-double-value-has-no-decimal-part\r\n\t\t\treturn (specifiedNumber % 1 == 0);\r\n\t\t}\r\n\t}\r\n\r\nLong is a subset of Double, so you might get some strange results if you unknowingly try to convert a Double that is outside of Long&#39;s range:\r\n\r\n\t@Test\r\n\tpublic void test() throws Exception {\r\n\t\t// Confirm that LONG is a subset of DOUBLE, so numbers outside of the range can be problematic\r\n\t\tAssert.isTrue(Long.MAX_VALUE &lt; Double.MAX_VALUE);\r\n\t\tAssert.isTrue(Long.MIN_VALUE &gt; -Double.MAX_VALUE); // Not Double.MIN_VALUE =&gt; read the Javadocs, Double.MIN_VALUE is the smallest POSITIVE double, not the bottom of the range of values that Double can possible be\r\n\t\t\r\n\t\t// Double.longValue() failure due to being out of range =&gt; results are the same even though I minus ten\r\n\t\tSystem.out.println(&quot;Double.valueOf(Double.MAX_VALUE).longValue(): &quot; + Double.valueOf(Double.MAX_VALUE).longValue());\r\n\t\tSystem.out.println(&quot;Double.valueOf(Double.MAX_VALUE - 10).longValue(): &quot; + Double.valueOf(Double.MAX_VALUE - 10).longValue());\r\n\t\t\r\n\t\t// casting failure due to being out of range =&gt; results are the same even though I minus ten\r\n\t\tSystem.out.println(&quot;(long) Double.valueOf(Double.MAX_VALUE): &quot; + (long) Double.valueOf(Double.MAX_VALUE).doubleValue());\r\n\t\tSystem.out.println(&quot;(long) Double.valueOf(Double.MAX_VALUE - 10).longValue(): &quot; + (long) Double.valueOf(Double.MAX_VALUE - 10).doubleValue());\r\n\t}\r\n","title":"How to convert a double to long without casting?","body":"<p>If you have a strong suspicion that the DOUBLE is actually a LONG, and you want to</p>\n\n<p>1) get a handle on its EXACT value as a LONG</p>\n\n<p>2) throw an error when its not a LONG</p>\n\n<p>you can try something like this:</p>\n\n<pre><code>public class NumberUtils {\n\n    /**\n    * Convert a {@link Double} to a {@link Long}.\n    * Method is for {@link Double}s that are actually {@link Long}s and we just\n    * want to get a handle on it as one.\n    */\n    public static long getDoubleAsLong(double specifiedNumber) {\n        Assert.isTrue(NumberUtils.isWhole(specifiedNumber));\n        Assert.isTrue(specifiedNumber &lt;= Long.MAX_VALUE &amp;&amp; specifiedNumber &gt;= Long.MIN_VALUE);\n        // we already know its whole and in the Long range\n        return Double.valueOf(specifiedNumber).longValue();\n    }\n\n    public static boolean isWhole(double specifiedNumber) {\n        // http://stackoverflow.com/questions/15963895/how-to-check-if-a-double-value-has-no-decimal-part\n        return (specifiedNumber % 1 == 0);\n    }\n}\n</code></pre>\n\n<p>Long is a subset of Double, so you might get some strange results if you unknowingly try to convert a Double that is outside of Long's range:</p>\n\n<pre><code>@Test\npublic void test() throws Exception {\n    // Confirm that LONG is a subset of DOUBLE, so numbers outside of the range can be problematic\n    Assert.isTrue(Long.MAX_VALUE &lt; Double.MAX_VALUE);\n    Assert.isTrue(Long.MIN_VALUE &gt; -Double.MAX_VALUE); // Not Double.MIN_VALUE =&gt; read the Javadocs, Double.MIN_VALUE is the smallest POSITIVE double, not the bottom of the range of values that Double can possible be\n\n    // Double.longValue() failure due to being out of range =&gt; results are the same even though I minus ten\n    System.out.println(\"Double.valueOf(Double.MAX_VALUE).longValue(): \" + Double.valueOf(Double.MAX_VALUE).longValue());\n    System.out.println(\"Double.valueOf(Double.MAX_VALUE - 10).longValue(): \" + Double.valueOf(Double.MAX_VALUE - 10).longValue());\n\n    // casting failure due to being out of range =&gt; results are the same even though I minus ten\n    System.out.println(\"(long) Double.valueOf(Double.MAX_VALUE): \" + (long) Double.valueOf(Double.MAX_VALUE).doubleValue());\n    System.out.println(\"(long) Double.valueOf(Double.MAX_VALUE - 10).longValue(): \" + (long) Double.valueOf(Double.MAX_VALUE - 10).doubleValue());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5082664,"reputation":126,"user_id":4078268,"display_name":"devll"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1536573491,"creation_date":1536573491,"answer_id":52255270,"question_id":321549,"body_markdown":"Simply by the following:\r\n\r\n    double d = 394.000;\r\n    long l = d * 1L;","title":"How to convert a double to long without casting?","body":"<p>Simply by the following:</p>\n\n<pre><code>double d = 394.000;\nlong l = d * 1L;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8677386,"reputation":811,"user_id":6494418,"display_name":"Colin Wang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684305409,"creation_date":1684305409,"answer_id":76269155,"question_id":321549,"body_markdown":"better to use `new BigDecimal(s).longValue()`\r\n\r\nthis is my test, s is raw string of a long value sometimes end with `.0`\r\n\r\ncast double to long(`(long) DoubleValue`) or `Double.longValue()` sometimes will losing 1(why?).\r\n \r\nhttps://stackoverflow.com/a/8754567/6494418\r\n\r\n```java\r\n1651465142958862337, s\r\n1.65146514295886234E18, Double.parseDouble(s)\r\n1.65146514295886234E18, Double.valueOf(s)\r\n1651465142958862340, String.format(&quot;%.0f&quot;, Double.parseDouble(s)).split(&quot;\\\\.&quot;)[0]\r\n1651465142958862336, (long) Double.parseDouble(s)\r\n1651465142958862336, Double.valueOf(s).longValue()\r\n1651465142958862336, Math.round(Double.parseDouble(s))\r\n1651465142958862337, new BigDecimal(s).longValue()  // correct\r\n\r\n\r\n1.651465142958862337E18, s\r\n1.65146514295886234E18, Double.parseDouble(s)\r\n1.65146514295886234E18, Double.valueOf(s)\r\n1651465142958862340, String.format(&quot;%.0f&quot;, Double.parseDouble(s)).split(&quot;\\\\.&quot;)[0]\r\n1651465142958862336, (long) Double.parseDouble(s)\r\n1651465142958862336, Double.valueOf(s).longValue()\r\n1651465142958862336, Math.round(Double.parseDouble(s))\r\n1651465142958862337, new BigDecimal(s).longValue()  // correct\r\n```","title":"How to convert a double to long without casting?","body":"<p>better to use <code>new BigDecimal(s).longValue()</code></p>\n<p>this is my test, s is raw string of a long value sometimes end with <code>.0</code></p>\n<p>cast double to long(<code>(long) DoubleValue</code>) or <code>Double.longValue()</code> sometimes will losing 1(why?).</p>\n<p><a href=\"https://stackoverflow.com/a/8754567/6494418\">https://stackoverflow.com/a/8754567/6494418</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>1651465142958862337, s\n1.65146514295886234E18, Double.parseDouble(s)\n1.65146514295886234E18, Double.valueOf(s)\n1651465142958862340, String.format(&quot;%.0f&quot;, Double.parseDouble(s)).split(&quot;\\\\.&quot;)[0]\n1651465142958862336, (long) Double.parseDouble(s)\n1651465142958862336, Double.valueOf(s).longValue()\n1651465142958862336, Math.round(Double.parseDouble(s))\n1651465142958862337, new BigDecimal(s).longValue()  // correct\n\n\n1.651465142958862337E18, s\n1.65146514295886234E18, Double.parseDouble(s)\n1.65146514295886234E18, Double.valueOf(s)\n1651465142958862340, String.format(&quot;%.0f&quot;, Double.parseDouble(s)).split(&quot;\\\\.&quot;)[0]\n1651465142958862336, (long) Double.parseDouble(s)\n1651465142958862336, Double.valueOf(s).longValue()\n1651465142958862336, Math.round(Double.parseDouble(s))\n1651465142958862337, new BigDecimal(s).longValue()  // correct\n</code></pre>\n"}],"owner":{"display_name":"rich"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":383296,"favorite_count":0,"down_vote_count":0,"up_vote_count":212,"answer_count":9,"score":212,"last_activity_date":1684305409,"creation_date":1227721492,"question_id":321549,"body_markdown":"What is the best way to convert a double to a long without casting?\r\n\r\nFor example:\r\n\r\n    double d = 394.000;\r\n    long l = (new Double(d)).longValue();\r\n    System.out.println(&quot;double=&quot; + d + &quot;, long=&quot; + l);\r\n","title":"How to convert a double to long without casting?","body":"<p>What is the best way to convert a double to a long without casting?</p>\n\n<p>For example:</p>\n\n<pre><code>double d = 394.000;\nlong l = (new Double(d)).longValue();\nSystem.out.println(\"double=\" + d + \", long=\" + l);\n</code></pre>\n"},{"tags":["java","macos","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684305317,"creation_date":1684305317,"answer_id":76269144,"question_id":76267778,"body_markdown":"You need to install a complete [Extension Pack for Java][1] without uninstallation of it. Use the following command to clear the language server cache.\r\n\r\n```\r\nJava: Clean Java Language Server Workspace\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIn addition, check or delete your personal [settings][3], one of these settings may cause error.\r\n\r\n\r\n  [1]: https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\r\n  [2]: https://i.stack.imgur.com/57JFp.png\r\n  [3]: https://code.visualstudio.com/docs/getstarted/settings#_settingsjson","title":"Can&#39;t see red underlines for errors for Java on VS code","body":"<p>You need to install a complete <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">Extension Pack for Java</a> without uninstallation of it. Use the following command to clear the language server cache.</p>\n<pre><code>Java: Clean Java Language Server Workspace\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/57JFp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/57JFp.png\" alt=\"enter image description here\" /></a></p>\n<p>In addition, check or delete your personal <a href=\"https://code.visualstudio.com/docs/getstarted/settings#_settingsjson\" rel=\"nofollow noreferrer\">settings</a>, one of these settings may cause error.</p>\n"}],"owner":{"account_id":28089985,"reputation":11,"user_id":21459713,"display_name":"chrisleeming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":164,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1684305317,"creation_date":1684281626,"question_id":76267778,"body_markdown":"I updated to the latest version of VS code and I can no longer get red underlines for my errors, it just tells me errors once I&#39;ve compiled the code which is super annoying. I am using a mac silicon. \r\n\r\nI have tried downgrading VS code back to `1.77.3` however I am still having the same problem. Have installed and uninstalled Java extension. \r\n\r\nAny ideas how to fix this?","title":"Can&#39;t see red underlines for errors for Java on VS code","body":"<p>I updated to the latest version of VS code and I can no longer get red underlines for my errors, it just tells me errors once I've compiled the code which is super annoying. I am using a mac silicon.</p>\n<p>I have tried downgrading VS code back to <code>1.77.3</code> however I am still having the same problem. Have installed and uninstalled Java extension.</p>\n<p>Any ideas how to fix this?</p>\n"},{"tags":["java","spring","dependency-injection","jdbctemplate"],"comments":[{"owner":{"account_id":118399,"reputation":2148,"user_id":309399,"accept_rate":89,"display_name":"SGB"},"score":0,"creation_date":1374784817,"post_id":17868096,"comment_id":26089866,"body_markdown":"Might be a duplicate of http://stackoverflow.com/q/9460507/309399. But the question is not answered.","body":"Might be a duplicate of <a href=\"http://stackoverflow.com/q/9460507/309399\">stackoverflow.com/q/9460507/309399</a>. But the question is not answered."}],"answers":[{"comments":[{"owner":{"account_id":118399,"reputation":2148,"user_id":309399,"accept_rate":89,"display_name":"SGB"},"score":3,"creation_date":1374789955,"post_id":17868599,"comment_id":26092147,"body_markdown":"++ for the link. Thanks for the concise answer and the quote from the javadoc. This particular question has been bothering me for quite a while now - as all examples I&#39;ve seen online seems to inject the datasource - making me wonder if I was missing something ...","body":"++ for the link. Thanks for the concise answer and the quote from the javadoc. This particular question has been bothering me for quite a while now - as all examples I&#39;ve seen online seems to inject the datasource - making me wonder if I was missing something ..."},{"owner":{"account_id":17919,"reputation":1594,"user_id":40614,"accept_rate":78,"display_name":"pramodc84"},"score":0,"creation_date":1537790081,"post_id":17868599,"comment_id":91898547,"body_markdown":"These are the subtle details, spring can be misleading to many, if someone fails to read between the lines, like me for instance.","body":"These are the subtle details, spring can be misleading to many, if someone fails to read between the lines, like me for instance."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":2,"down_vote_count":0,"up_vote_count":34,"is_accepted":true,"score":34,"last_activity_date":1374787681,"creation_date":1374785829,"answer_id":17868599,"question_id":17868096,"body_markdown":"You can do what you want. [The javadoc of JdbcTemplate][1] even clearly says it:\r\n\r\n&gt; Can be used within a service implementation via direct instantiation with a DataSource reference, or get prepared in an application context and given to services as bean reference.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html","title":"using Spring JdbcTemplate - injecting datasource vs jdbcTemplate","body":"<p>You can do what you want. <a href=\"http://static.springsource.org/spring/docs/3.1.x/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html\">The javadoc of JdbcTemplate</a> even clearly says it:</p>\n\n<blockquote>\n  <p>Can be used within a service implementation via direct instantiation with a DataSource reference, or get prepared in an application context and given to services as bean reference.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1803252,"reputation":393,"user_id":1641022,"accept_rate":75,"display_name":"Analysts"},"score":1,"creation_date":1403807717,"post_id":20235962,"comment_id":37812188,"body_markdown":"How to do the same for multiple data source ? Can I specify like this :&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource1&quot;/&gt;\n&lt;/bean&gt; and for another data source like &lt;bean id=&quot;jdbcTemplate2&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\n    &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource2&quot;/&gt;\n&lt;/bean&gt;. Is this correct way of setting the multiple data source to a JDBC Template","body":"How to do the same for multiple data source ? Can I specify like this :&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;     &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource1&quot;/&gt; &lt;/bean&gt; and for another data source like &lt;bean id=&quot;jdbcTemplate2&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;     &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource2&quot;/&gt; &lt;/bean&gt;. Is this correct way of setting the multiple data source to a JDBC Template"},{"owner":{"account_id":118399,"reputation":2148,"user_id":309399,"accept_rate":89,"display_name":"SGB"},"score":1,"creation_date":1433101503,"post_id":20235962,"comment_id":49195025,"body_markdown":"@Analysts, You should define a separate jdbcTemplate for each datasource. so if you have 2 datasources, you would have jdbcTemplate1 for datasource1 and jdbcTemplate2 for datasource2. And inject the jdbcTemplates separately as needed into your service tier.","body":"@Analysts, You should define a separate jdbcTemplate for each datasource. so if you have 2 datasources, you would have jdbcTemplate1 for datasource1 and jdbcTemplate2 for datasource2. And inject the jdbcTemplates separately as needed into your service tier."},{"owner":{"account_id":3380242,"reputation":305,"user_id":2837416,"display_name":"Odaiah"},"score":0,"creation_date":1491547862,"post_id":20235962,"comment_id":73611201,"body_markdown":"What @SCB said is right, you have to have multiple beans for multiple databases.","body":"What @SCB said is right, you have to have multiple beans for multiple databases."}],"tags":[],"owner":{"account_id":3380242,"reputation":305,"user_id":2837416,"display_name":"Odaiah"},"comment_count":3,"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1385535931,"creation_date":1385535931,"answer_id":20235962,"question_id":17868096,"body_markdown":"In the spring-context.xml add the following and\r\n\r\n    &lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;&gt;\r\n \t \t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nand directly you can use jdbcTemplate by autowiring like \r\n  \r\n      @Autowired JdbcTemplate jdbcTemplate;\r\n\r\nexample:\r\n\r\n\r\n    this.jdbcTemplate.query(&quot;select * from ******&quot;,new RowMapper());\r\n   \r\n   ","title":"using Spring JdbcTemplate - injecting datasource vs jdbcTemplate","body":"<p>In the spring-context.xml add the following and</p>\n\n<pre><code>&lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"&gt;\n    &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and directly you can use jdbcTemplate by autowiring like </p>\n\n<pre><code>  @Autowired JdbcTemplate jdbcTemplate;\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>this.jdbcTemplate.query(\"select * from ******\",new RowMapper());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":980746,"reputation":8466,"user_id":1000510,"accept_rate":76,"display_name":"Basit"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1444217488,"creation_date":1444217488,"answer_id":32991076,"question_id":17868096,"body_markdown":"You can also do it like \r\n\r\n    @Configuration\r\n    @Import({PersistenceConfig.class})\r\n    @ComponentScan(basePackageClasses = { \r\n\t\tServiceMarker.class,\r\n\t\tRepositoryMarker.class }\r\n    )\r\n    public class AppConfig {\r\n\r\n\t    /**\r\n\t     * To resolve ${} in @Values, you must register a static PropertySourcesPlaceholderConfigurer in either XML or \r\n\t     * annotation configuration file.\r\n\t     */\r\n\t    @Bean\r\n\t    public static PropertySourcesPlaceholderConfigurer propertyConfigInDev() {\r\n\t\t    return new PropertySourcesPlaceholderConfigurer();\r\n\t    }\r\n    }\r\n\r\nPersistenceConfig\r\n\r\n    @Configuration\r\n    @PropertySource(value = { &quot;classpath:database/jdbc.properties&quot; })\r\n    @EnableTransactionManagement\r\n    public class PersistenceConfig {\r\n      \r\n\t    @Autowired\r\n\t    private Environment env;\r\n\t \r\n\t /**\r\n\t  * The @Bean annotation is used to declare a Spring bean and the DI requirements. The @Bean annotation is equivalent to\r\n\t *  the &lt;bean&gt; tag, the method name is equivalent to the id attribute within the &lt;bean&gt; tag.\r\n\t  * \r\n\t  * &lt;bean id=&quot;mySqlDataSource&quot; class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot; destroy-method=&quot;close&quot; \r\n\t\t\tp:driverClassName=&quot;${jdbc.mysql.driverClassName}&quot; \r\n\t\t\tp:url=&quot;${jdbc.mysql.url}&quot;   \r\n\t\t\tp:username=&quot;${jdbc.mysql.username}&quot; \r\n\t\t\tp:password=&quot;${jdbc.mysql.password}&quot; /&gt;\r\n\t  * \r\n\t  * @return\r\n\t  */\r\n\t     @Bean(destroyMethod = &quot;close&quot;)\r\n\t     public DataSource mySqlDataSource() {\r\n\t\t     BasicDataSource dataSource = new BasicDataSource();\r\n\t\t     dataSource.setDriverClassName(env.getProperty(&quot;jdbc.mysql.driverClassName&quot;));\r\n\t\t     dataSource.setUrl(env.getProperty(&quot;jdbc.mysql.url&quot;));\r\n\t\t     dataSource.setUsername(env.getProperty(&quot;jdbc.mysql.username&quot;));\r\n\t\t     dataSource.setPassword(env.getProperty(&quot;jdbc.mysql.password&quot;));\r\n\t\t     return dataSource;\r\n\t     }\r\n\t \r\n\t     @Bean(destroyMethod = &quot;close&quot;)\r\n\t     public DataSource ls360DataSource() {\r\n\t\t     BasicDataSource dataSource = new BasicDataSource();\r\n\t\t     dataSource.setDriverClassName(env.getProperty(&quot;jdbc.ls360.driverClassName&quot;));\r\n\t\t     dataSource.setUrl(env.getProperty(&quot;jdbc.ls360.url&quot;));\r\n\t\t     dataSource.setUsername(env.getProperty(&quot;jdbc.ls360.username&quot;));\r\n\t\t     dataSource.setPassword(env.getProperty(&quot;jdbc.ls360.password&quot;));\r\n\t\t     return dataSource;\r\n\t     } \r\n    }\r\n\r\nMySqlDaoImpl\r\n\r\n    @Repository\r\n    public class MySqlDaoImpl implements MySqlDao{\r\n\r\n\t    private static final Logger logger = LogManager.getLogger();\r\n\t\r\n\t    @Inject\r\n\t    private DataSource mySqlDataSource;\r\n\t    private JdbcTemplate mySqlJdbcTemplate;\r\n\t\r\n\t    @PostConstruct\r\n\t    public void afterPropertiesSet() throws Exception {\r\n\t\t    if (mySqlDataSource == null) {\r\n\t\t\t    throw new BeanCreationException(&quot;Must set mySqlDataSource on &quot; + this.getClass().getName());\r\n\t\t    }\r\n\t\t    this.mySqlJdbcTemplate = new JdbcTemplate(mySqlDataSource);\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void callStoredProcedure(String storedProcedureName, Map&lt;String, Object&gt; inParamMap) throws Exception {\r\n\r\n\t\t    SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(mySqlJdbcTemplate).withProcedureName(storedProcedureName);\r\n\t\t    SqlParameterSource in = new MapSqlParameterSource(inParamMap);\r\n\r\n\t\t    logger.info(&quot;Calling stored Procedure: &quot; + storedProcedureName);\r\n\t\t    Map&lt;String, Object&gt; simpleJdbcCallResult = simpleJdbcCall.execute(in);\r\n\t\t    logger.info(&quot;Stored Procedure Result: &quot; + simpleJdbcCallResult);\r\n\t    }\r\n    }\r\n\r\nMain\r\n\r\n    public static void main(String[] args ) {\r\n        try (GenericApplicationContext springContext = new AnnotationConfigApplicationContext(AppConfig.class)) {\r\n\t\t\tMySQLDao mySqlDao = springContext.getBean(MySQLDaoImpl.class);\r\n\t\t\ttry {\r\n                Map&lt;String, Object&gt; inParamMap = new HashMap&lt;String, Object&gt;();\r\n                inParamMap.put(&quot;iCourseId&quot;, 1);\r\n\t\t\t\tmySqlCourseRenewalDao.callStoredProcedure(&quot;usp_processCourseRenewal&quot;, inParamMap);\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.error(&quot;Exception occurs&quot;, e);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot;Exception occurs in loading Spring context: &quot;, e);\r\n\t\t}\r\n    }\r\n\r\nThanks","title":"using Spring JdbcTemplate - injecting datasource vs jdbcTemplate","body":"<p>You can also do it like </p>\n\n<pre><code>@Configuration\n@Import({PersistenceConfig.class})\n@ComponentScan(basePackageClasses = { \n    ServiceMarker.class,\n    RepositoryMarker.class }\n)\npublic class AppConfig {\n\n    /**\n     * To resolve ${} in @Values, you must register a static PropertySourcesPlaceholderConfigurer in either XML or \n     * annotation configuration file.\n     */\n    @Bean\n    public static PropertySourcesPlaceholderConfigurer propertyConfigInDev() {\n        return new PropertySourcesPlaceholderConfigurer();\n    }\n}\n</code></pre>\n\n<p>PersistenceConfig</p>\n\n<pre><code>@Configuration\n@PropertySource(value = { \"classpath:database/jdbc.properties\" })\n@EnableTransactionManagement\npublic class PersistenceConfig {\n\n    @Autowired\n    private Environment env;\n\n /**\n  * The @Bean annotation is used to declare a Spring bean and the DI requirements. The @Bean annotation is equivalent to\n *  the &lt;bean&gt; tag, the method name is equivalent to the id attribute within the &lt;bean&gt; tag.\n  * \n  * &lt;bean id=\"mySqlDataSource\" class=\"org.apache.commons.dbcp2.BasicDataSource\" destroy-method=\"close\" \n        p:driverClassName=\"${jdbc.mysql.driverClassName}\" \n        p:url=\"${jdbc.mysql.url}\"   \n        p:username=\"${jdbc.mysql.username}\" \n        p:password=\"${jdbc.mysql.password}\" /&gt;\n  * \n  * @return\n  */\n     @Bean(destroyMethod = \"close\")\n     public DataSource mySqlDataSource() {\n         BasicDataSource dataSource = new BasicDataSource();\n         dataSource.setDriverClassName(env.getProperty(\"jdbc.mysql.driverClassName\"));\n         dataSource.setUrl(env.getProperty(\"jdbc.mysql.url\"));\n         dataSource.setUsername(env.getProperty(\"jdbc.mysql.username\"));\n         dataSource.setPassword(env.getProperty(\"jdbc.mysql.password\"));\n         return dataSource;\n     }\n\n     @Bean(destroyMethod = \"close\")\n     public DataSource ls360DataSource() {\n         BasicDataSource dataSource = new BasicDataSource();\n         dataSource.setDriverClassName(env.getProperty(\"jdbc.ls360.driverClassName\"));\n         dataSource.setUrl(env.getProperty(\"jdbc.ls360.url\"));\n         dataSource.setUsername(env.getProperty(\"jdbc.ls360.username\"));\n         dataSource.setPassword(env.getProperty(\"jdbc.ls360.password\"));\n         return dataSource;\n     } \n}\n</code></pre>\n\n<p>MySqlDaoImpl</p>\n\n<pre><code>@Repository\npublic class MySqlDaoImpl implements MySqlDao{\n\n    private static final Logger logger = LogManager.getLogger();\n\n    @Inject\n    private DataSource mySqlDataSource;\n    private JdbcTemplate mySqlJdbcTemplate;\n\n    @PostConstruct\n    public void afterPropertiesSet() throws Exception {\n        if (mySqlDataSource == null) {\n            throw new BeanCreationException(\"Must set mySqlDataSource on \" + this.getClass().getName());\n        }\n        this.mySqlJdbcTemplate = new JdbcTemplate(mySqlDataSource);\n    }\n\n    @Override\n    public void callStoredProcedure(String storedProcedureName, Map&lt;String, Object&gt; inParamMap) throws Exception {\n\n        SimpleJdbcCall simpleJdbcCall = new SimpleJdbcCall(mySqlJdbcTemplate).withProcedureName(storedProcedureName);\n        SqlParameterSource in = new MapSqlParameterSource(inParamMap);\n\n        logger.info(\"Calling stored Procedure: \" + storedProcedureName);\n        Map&lt;String, Object&gt; simpleJdbcCallResult = simpleJdbcCall.execute(in);\n        logger.info(\"Stored Procedure Result: \" + simpleJdbcCallResult);\n    }\n}\n</code></pre>\n\n<p>Main</p>\n\n<pre><code>public static void main(String[] args ) {\n    try (GenericApplicationContext springContext = new AnnotationConfigApplicationContext(AppConfig.class)) {\n        MySQLDao mySqlDao = springContext.getBean(MySQLDaoImpl.class);\n        try {\n            Map&lt;String, Object&gt; inParamMap = new HashMap&lt;String, Object&gt;();\n            inParamMap.put(\"iCourseId\", 1);\n            mySqlCourseRenewalDao.callStoredProcedure(\"usp_processCourseRenewal\", inParamMap);\n        } catch (Exception e) {\n            logger.error(\"Exception occurs\", e);\n        }\n    } catch (Exception e) {\n        logger.error(\"Exception occurs in loading Spring context: \", e);\n    }\n}\n</code></pre>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":2784390,"reputation":424,"user_id":2396171,"display_name":"jedwidz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684305311,"creation_date":1606301594,"answer_id":65003186,"question_id":17868096,"body_markdown":"There&#39;s nothing technically wrong with injecting and sharing `JdbcTemplate` in place of the underlying `DataSource`.\r\n\r\nHowever, there are some design drawbacks to sharing `JdbcTemplate`, which may favor injecting `DataSource` instead:\r\n\r\n - Use of `JdbcTemplate` is an implementation detail of the DAO, and we like to keep those details hidden\r\n - `JdbcTemplate` is lightweight, so sharing it for efficiency is likely a premature optimization\r\n - Sharing a `JdbcTemplate` isn&#39;t risk-free as it has some mutable state (in addition to mutable state in the underlying `DataSource`)\r\n\r\nThat&#39;s assuming the typical case where `JdbcTemplate` is used with its default configuration (`fetchSize`, `maxRows`, etc). If configuration is required, that may drive the design in a particular direction, e.g. a shared pre-configured `JdbcTemplate` injected from context, or even multiple `JdbcTemplate` instances owned by a single DAO.","title":"using Spring JdbcTemplate - injecting datasource vs jdbcTemplate","body":"<p>There's nothing technically wrong with injecting and sharing <code>JdbcTemplate</code> in place of the underlying <code>DataSource</code>.</p>\n<p>However, there are some design drawbacks to sharing <code>JdbcTemplate</code>, which may favor injecting <code>DataSource</code> instead:</p>\n<ul>\n<li>Use of <code>JdbcTemplate</code> is an implementation detail of the DAO, and we like to keep those details hidden</li>\n<li><code>JdbcTemplate</code> is lightweight, so sharing it for efficiency is likely a premature optimization</li>\n<li>Sharing a <code>JdbcTemplate</code> isn't risk-free as it has some mutable state (in addition to mutable state in the underlying <code>DataSource</code>)</li>\n</ul>\n<p>That's assuming the typical case where <code>JdbcTemplate</code> is used with its default configuration (<code>fetchSize</code>, <code>maxRows</code>, etc). If configuration is required, that may drive the design in a particular direction, e.g. a shared pre-configured <code>JdbcTemplate</code> injected from context, or even multiple <code>JdbcTemplate</code> instances owned by a single DAO.</p>\n"}],"owner":{"account_id":118399,"reputation":2148,"user_id":309399,"accept_rate":89,"display_name":"SGB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100175,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":17868599,"answer_count":4,"score":39,"last_activity_date":1684305311,"creation_date":1374783941,"question_id":17868096,"body_markdown":"As per Spring [documentation](http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/jdbc.html#jdbc-JdbcTemplate-idioms), \r\nthe steps to use Spring JdbcTemplate is as follows:\r\n\r\n\t\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t\t    xsi:schemaLocation=&quot;\r\n\t\t        http://www.springframework.org/schema/beans\r\n\t\t        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n\t\t        http://www.springframework.org/schema/context\r\n\t\t        http://www.springframework.org/schema/context/spring-context-3.0.xsd&quot;&gt;\r\n\t\t    \r\n\t\t    &lt;!-- Scans within the base package of the application for @Components to configure as beans --&gt;\r\n\t\t    &lt;context:component-scan base-package=&quot;org.springframework.docs.test&quot; /&gt;\r\n\t\t    \r\n\t\t    &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n\t\t        &lt;property name=&quot;driverClassName&quot; value=&quot;${jdbc.driverClassName}&quot;/&gt;\r\n\t\t        &lt;property name=&quot;url&quot; value=&quot;${jdbc.url}&quot;/&gt;\r\n\t\t        &lt;property name=&quot;username&quot; value=&quot;${jdbc.username}&quot;/&gt;\r\n\t\t        &lt;property name=&quot;password&quot; value=&quot;${jdbc.password}&quot;/&gt;\r\n\t\t    &lt;/bean&gt;\r\n\t\t\r\n\t\t    &lt;context:property-placeholder location=&quot;jdbc.properties&quot;/&gt;\r\n\t\t\r\n\t\t&lt;/beans&gt;\r\n\r\n\r\nAnd then, \r\n\r\n\t\t@Repository\r\n\t\tpublic class JdbcCorporateEventDao implements CorporateEventDao {\r\n\t\t\r\n\t\t    private JdbcTemplate jdbcTemplate;\r\n\t\t\r\n\t\t    @Autowired\r\n\t\t    public void setDataSource(DataSource dataSource) {\r\n\t\t        this.jdbcTemplate = new JdbcTemplate(dataSource);\r\n\t\t    }\r\n\t\t\r\n\t\t    // JDBC-backed implementations of the methods on the CorporateEventDao follow...\r\n\t\t}\r\n\r\n\r\nBasically, the JdbcTemplate is created inside the Component class using the setter for datasource.\r\n\r\nIs there anything wrong with doing it this way instead so that there is exactly ONE instance of jdbcTemplate in the application?\r\n\r\n\t&lt;bean id=&quot;jdbcTemplate&quot; class=&quot;org.springframework.jdbc.core.JdbcTemplate&quot;\r\n\t\tp:dataSource-ref=&quot;dataSource&quot; \r\n\t/&gt;\r\n\r\nAnd then injecting the jdbcTemplate itself directly into the Component\r\n\t\r\n\r\n\t@Repository\r\n\tpublic class JdbcCorporateEventDao implements CorporateEventDao {\r\n\t\t@Resource(&quot;jdbcTemplate&quot;)\r\n\t    private JdbcTemplate jdbcTemplate;\r\n\t\r\n\t\r\n\t    // JDBC-backed implementations of the methods on the CorporateEventDao follow...\r\n\t}\r\n\r\n\r\nIs there a reason why the jdbcTemplate itself must not be injected into the component class directly?\r\n\r\nSGB","title":"using Spring JdbcTemplate - injecting datasource vs jdbcTemplate","body":"<p>As per Spring <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/jdbc.html#jdbc-JdbcTemplate-idioms\">documentation</a>, \nthe steps to use Spring JdbcTemplate is as follows:</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xmlns:context=\"http://www.springframework.org/schema/context\"\n        xsi:schemaLocation=\"\n            http://www.springframework.org/schema/beans\n            http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n            http://www.springframework.org/schema/context\n            http://www.springframework.org/schema/context/spring-context-3.0.xsd\"&gt;\n\n        &lt;!-- Scans within the base package of the application for @Components to configure as beans --&gt;\n        &lt;context:component-scan base-package=\"org.springframework.docs.test\" /&gt;\n\n        &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n            &lt;property name=\"driverClassName\" value=\"${jdbc.driverClassName}\"/&gt;\n            &lt;property name=\"url\" value=\"${jdbc.url}\"/&gt;\n            &lt;property name=\"username\" value=\"${jdbc.username}\"/&gt;\n            &lt;property name=\"password\" value=\"${jdbc.password}\"/&gt;\n        &lt;/bean&gt;\n\n        &lt;context:property-placeholder location=\"jdbc.properties\"/&gt;\n\n    &lt;/beans&gt;\n</code></pre>\n\n<p>And then, </p>\n\n<pre><code>    @Repository\n    public class JdbcCorporateEventDao implements CorporateEventDao {\n\n        private JdbcTemplate jdbcTemplate;\n\n        @Autowired\n        public void setDataSource(DataSource dataSource) {\n            this.jdbcTemplate = new JdbcTemplate(dataSource);\n        }\n\n        // JDBC-backed implementations of the methods on the CorporateEventDao follow...\n    }\n</code></pre>\n\n<p>Basically, the JdbcTemplate is created inside the Component class using the setter for datasource.</p>\n\n<p>Is there anything wrong with doing it this way instead so that there is exactly ONE instance of jdbcTemplate in the application?</p>\n\n<pre><code>&lt;bean id=\"jdbcTemplate\" class=\"org.springframework.jdbc.core.JdbcTemplate\"\n    p:dataSource-ref=\"dataSource\" \n/&gt;\n</code></pre>\n\n<p>And then injecting the jdbcTemplate itself directly into the Component</p>\n\n<pre><code>@Repository\npublic class JdbcCorporateEventDao implements CorporateEventDao {\n    @Resource(\"jdbcTemplate\")\n    private JdbcTemplate jdbcTemplate;\n\n\n    // JDBC-backed implementations of the methods on the CorporateEventDao follow...\n}\n</code></pre>\n\n<p>Is there a reason why the jdbcTemplate itself must not be injected into the component class directly?</p>\n\n<p>SGB</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"comments":[{"owner":{"account_id":18219978,"reputation":83,"user_id":13260936,"display_name":"Something Nice"},"score":0,"creation_date":1684238645,"post_id":76237580,"comment_id":134485702,"body_markdown":"I tried with this as well it still gives the same output :&#39;)","body":"I tried with this as well it still gives the same output :&#39;)"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1684247242,"post_id":76237580,"comment_id":134488183,"body_markdown":"DId you delete the index and have it recreated? with the  hanged code?","body":"DId you delete the index and have it recreated? with the  hanged code?"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1684304992,"post_id":76237580,"comment_id":134496874,"body_markdown":"see my edit above","body":"see my edit above"}],"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684304951,"creation_date":1683903681,"answer_id":76237580,"question_id":76236209,"body_markdown":"The JSON you provide in the `@Setting` annotation must only contain the values for the setting, not the *setting* property itself:\r\n\r\n```json\r\n{\r\n\t&quot;analysis&quot;: {\r\n\t\t&quot;analyzer&quot;: {\r\n\t\t\t&quot;my_whitespace_analyzer&quot;: {\r\n\t\t\t\t&quot;tokenizer&quot;: &quot;whitespace&quot;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**Edit 17.05.2023**:\r\n\r\nHaving a closer look:\r\n\r\n1. You are using a pretty outdated version of Spring Data Elasticsearch. 3.2 is out of maintenance since October 2020; I don&#39;t know - and don&#39;t have the time to look it up) - if reading from a file was already implemented there without bugs. The tests I now did are with the current version.\r\n\r\n2. document type were deprecated in Elasticsearch 6 and removed in Elasticsearch 7 (in the meantime Elasticsearch is at 8.7). So for Spring Data Elasticsearch 4+ you need to remove the `type=...` parameter from the `@Document` annotation.\r\n\r\n3. Defining an analyzer for a field of type **keyword** makes no sense. Keyword fields are not analyzed. You need to change this to `FieldType.text`.\r\n \r\n4. The analyzer specified in the JSON file is missing the *type*. But I don&#39;t know if this was already necessary in ES 6.\r\n\r\nSo with these two changes:\r\n```json\r\n{\r\n  &quot;analysis&quot;: {\r\n    &quot;analyzer&quot;: {\r\n      &quot;my_whitespace_analyzer&quot;: {\r\n        &quot;type&quot;: &quot;custom&quot;,\r\n        &quot;tokenizer&quot;: &quot;whitespace&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nand\r\n```java\r\n@Document(indexName = &quot;employeedb&quot;)\r\n@Setting(settingPath = &quot;/elasticsearch/settings.json&quot;)\r\npublic class EmployeeDetailsIndex {\r\n\r\n    @Id\r\n    @Field(type = FieldType.Keyword, name = &quot;empId&quot;, store = true)\r\n    //store will store the original empId as well as the analyzed one\r\n    private String empId;\r\n\r\n\r\n    @Field(type = FieldType.Text, name = &quot;name&quot;, analyzer = &quot;my_whitespace_analyzer&quot;, searchAnalyzer = &quot;my_whitespace_analyzer&quot;)\r\n    private String name;\r\n\r\n// getter and setter\r\n}\r\n```\r\n\r\nthis runs without error in a sample application, creating the index with the correct settings.\r\n","title":"Spring-Data-Elasticsearch custom analyzer not getting imported","body":"<p>The JSON you provide in the <code>@Setting</code> annotation must only contain the values for the setting, not the <em>setting</em> property itself:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;analysis&quot;: {\n        &quot;analyzer&quot;: {\n            &quot;my_whitespace_analyzer&quot;: {\n                &quot;tokenizer&quot;: &quot;whitespace&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p><strong>Edit 17.05.2023</strong>:</p>\n<p>Having a closer look:</p>\n<ol>\n<li><p>You are using a pretty outdated version of Spring Data Elasticsearch. 3.2 is out of maintenance since October 2020; I don't know - and don't have the time to look it up) - if reading from a file was already implemented there without bugs. The tests I now did are with the current version.</p>\n</li>\n<li><p>document type were deprecated in Elasticsearch 6 and removed in Elasticsearch 7 (in the meantime Elasticsearch is at 8.7). So for Spring Data Elasticsearch 4+ you need to remove the <code>type=...</code> parameter from the <code>@Document</code> annotation.</p>\n</li>\n<li><p>Defining an analyzer for a field of type <strong>keyword</strong> makes no sense. Keyword fields are not analyzed. You need to change this to <code>FieldType.text</code>.</p>\n</li>\n<li><p>The analyzer specified in the JSON file is missing the <em>type</em>. But I don't know if this was already necessary in ES 6.</p>\n</li>\n</ol>\n<p>So with these two changes:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;analysis&quot;: {\n    &quot;analyzer&quot;: {\n      &quot;my_whitespace_analyzer&quot;: {\n        &quot;type&quot;: &quot;custom&quot;,\n        &quot;tokenizer&quot;: &quot;whitespace&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(indexName = &quot;employeedb&quot;)\n@Setting(settingPath = &quot;/elasticsearch/settings.json&quot;)\npublic class EmployeeDetailsIndex {\n\n    @Id\n    @Field(type = FieldType.Keyword, name = &quot;empId&quot;, store = true)\n    //store will store the original empId as well as the analyzed one\n    private String empId;\n\n\n    @Field(type = FieldType.Text, name = &quot;name&quot;, analyzer = &quot;my_whitespace_analyzer&quot;, searchAnalyzer = &quot;my_whitespace_analyzer&quot;)\n    private String name;\n\n// getter and setter\n}\n</code></pre>\n<p>this runs without error in a sample application, creating the index with the correct settings.</p>\n"}],"owner":{"account_id":18219978,"reputation":83,"user_id":13260936,"display_name":"Something Nice"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684304951,"creation_date":1683893909,"question_id":76236209,"body_markdown":"\r\nMy settings.json:\r\n```{\r\n  &quot;settings&quot;: {\r\n    &quot;analysis&quot;: {\r\n      &quot;analyzer&quot;: {\r\n        &quot;my_whitespace_analyzer&quot;: {\r\n          &quot;tokenizer&quot;: &quot;whitespace&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nMy Index Domain:\r\n```\r\nimport org.springframework.data.annotation.Id;\r\nimport org.springframework.data.elasticsearch.annotations.*;\r\n\r\n@Document(indexName = &quot;employeedb&quot;, type=&quot;employeeDetails&quot;)\r\n@Setting(settingPath = &quot;/elasticsearch/settings.json&quot;)\r\npublic class EmployeeDetailsIndex {\r\n\r\n    @Id\r\n    @Field(type = FieldType.Keyword, name = &quot;empId&quot;, store = true) //store will store the original empId as well as the analyzed one\r\n    private String empId;\r\n\r\n\r\n    @Field(type = FieldType.Keyword, name = &quot;name&quot;, analyzer = &quot;my_whitespace_analyzer&quot;, searchAnalyzer = &quot;my_whitespace_analyzer&quot;)\r\n    private String name;\r\n\r\n//Getters and Setters\r\n}\r\n```\r\nError that gets thrown:\r\n\r\nfailed to load elasticsearch nodes : org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=Mapping definition for [name] has unsupported parameters:  [search_analyzer : my_whitespace_analyzer] [analyzer : my_whitespace_analyzer]]\r\n\r\nI wanted to test custom analyzer in elastic search. \r\n\r\nFrom the above error, it seems that the settings.json isn&#39;t getting loaded. I have correctly mapped settings.json to @Settings. \r\nAll of the tutorials online maps the settings.json using the @Settings annotation.\r\n\r\nWhat may be the issue with this?\r\n\r\nIs the JSON type incorrect?\r\nI have tried with \r\n\r\nVersions used:\r\nJava: 1.8.0\r\nElastic Search: 6.8.15\r\nSpring Boot: 2.2.8.RELSEASE\r\nSpring-Data-Elasticsearch: 3.2.8.RELEASE\r\n","title":"Spring-Data-Elasticsearch custom analyzer not getting imported","body":"<p>My settings.json:</p>\n<pre><code>  &quot;settings&quot;: {\n    &quot;analysis&quot;: {\n      &quot;analyzer&quot;: {\n        &quot;my_whitespace_analyzer&quot;: {\n          &quot;tokenizer&quot;: &quot;whitespace&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>My Index Domain:</p>\n<pre><code>import org.springframework.data.annotation.Id;\nimport org.springframework.data.elasticsearch.annotations.*;\n\n@Document(indexName = &quot;employeedb&quot;, type=&quot;employeeDetails&quot;)\n@Setting(settingPath = &quot;/elasticsearch/settings.json&quot;)\npublic class EmployeeDetailsIndex {\n\n    @Id\n    @Field(type = FieldType.Keyword, name = &quot;empId&quot;, store = true) //store will store the original empId as well as the analyzed one\n    private String empId;\n\n\n    @Field(type = FieldType.Keyword, name = &quot;name&quot;, analyzer = &quot;my_whitespace_analyzer&quot;, searchAnalyzer = &quot;my_whitespace_analyzer&quot;)\n    private String name;\n\n//Getters and Setters\n}\n</code></pre>\n<p>Error that gets thrown:</p>\n<p>failed to load elasticsearch nodes : org.elasticsearch.ElasticsearchStatusException: Elasticsearch exception [type=mapper_parsing_exception, reason=Mapping definition for [name] has unsupported parameters:  [search_analyzer : my_whitespace_analyzer] [analyzer : my_whitespace_analyzer]]</p>\n<p>I wanted to test custom analyzer in elastic search.</p>\n<p>From the above error, it seems that the settings.json isn't getting loaded. I have correctly mapped settings.json to @Settings.\nAll of the tutorials online maps the settings.json using the @Settings annotation.</p>\n<p>What may be the issue with this?</p>\n<p>Is the JSON type incorrect?\nI have tried with</p>\n<p>Versions used:\nJava: 1.8.0\nElastic Search: 6.8.15\nSpring Boot: 2.2.8.RELSEASE\nSpring-Data-Elasticsearch: 3.2.8.RELEASE</p>\n"},{"tags":["java","fxml"],"owner":{"account_id":28617696,"reputation":11,"user_id":21911314,"display_name":"armin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684304852,"creation_date":1684304852,"question_id":76269105,"body_markdown":"I want to show my animation (TransitionDuration and TransitionPath) non stop\r\n\r\nI try setCycleCount(-1) but when the animation is finish my node is stop and when animation play it plays again\r\nI want to remove this stopping and my animation play non-stop\r\n\r\n\r\n             PathTransition pathTransition = new PathTransition();\r\n            pathTransition.setDuration(Duration.millis(2000));\r\n            pathTransition.setNode(bullet);\r\n            pathTransition.setOrientation(PathTransition.OrientationType.ORTHOGONAL_TO_TANGENT);\r\n            pathTransition.setCycleCount(-1);\r\n            pathTransition.setPath(new Circle(353,200,120));","title":"showing animation Non-stop in java fxml","body":"<p>I want to show my animation (TransitionDuration and TransitionPath) non stop</p>\n<p>I try setCycleCount(-1) but when the animation is finish my node is stop and when animation play it plays again\nI want to remove this stopping and my animation play non-stop</p>\n<pre><code>         PathTransition pathTransition = new PathTransition();\n        pathTransition.setDuration(Duration.millis(2000));\n        pathTransition.setNode(bullet);\n        pathTransition.setOrientation(PathTransition.OrientationType.ORTHOGONAL_TO_TANGENT);\n        pathTransition.setCycleCount(-1);\n        pathTransition.setPath(new Circle(353,200,120));\n</code></pre>\n"},{"tags":["java","android","http","webview"],"answers":[{"tags":[],"owner":{"account_id":10419245,"reputation":81,"user_id":7682357,"display_name":"active_liang"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1604069854,"creation_date":1604049076,"answer_id":64605504,"question_id":59965544,"body_markdown":"I encountered the same problem.\r\n\r\nSolution 1: load new url\r\n\r\n ```\r\npublic WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n    String statusCode = 302; //get it from your response;\r\n    if (statusCode &gt;= 300 &amp;&amp; statusCode &lt;= 399) {\r\n        final String newUrl = &quot;https://example.com&quot;;\r\n        final myWebview = view;\r\n        view.post(new Runnable() {\r\n            @Override public void run() {\r\n                myWebview.loadUrl(newUrl);\r\n            }\r\n        });\r\n        WebResourceResponse nullRes = new WebResourceResponse(&quot;text/html&quot;, &quot;utf-8&quot;, new ByteArrayInputStream(&quot;&quot;.getBytes()));\r\n        return nullRes;\r\n    }\r\n}\r\n ```\r\nSolution 2: return an html template\r\n```\r\npublic WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\r\n    String statusCode = 302; //get it from your response;\r\n    if (statusCode &gt;= 300 &amp;&amp; statusCode &lt;= 399) {\r\n        String newUrl = &quot;https://example.com&quot;;\r\n        String content = &quot;&lt;script&gt;location.href = &#39;&quot; + newUrl + &quot;&#39;&lt;/script&gt;&quot;;\r\n        WebResourceResponse redirectRes = new WebResourceResponse(&quot;text/html&quot;, &quot;utf-8&quot;, new ByteArrayInputStream(content.getBytes()));\r\n        return redirectRes;\r\n    }\r\n}\r\n```","title":"How to pass WebResourceResponse with &quot;redirect&quot; code to Android WebView in WebViewClient.shouldInterceptRequest?","body":"<p>I encountered the same problem.</p>\n<p>Solution 1: load new url</p>\n<pre><code>public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n   String statusCode = 302; //get it from your response;\n   if (statusCode &gt;= 300 &amp;&amp; statusCode &lt;= 399) {\n       final String newUrl = &quot;https://example.com&quot;;\n       final myWebview = view;\n       view.post(new Runnable() {\n           @Override public void run() {\n               myWebview.loadUrl(newUrl);\n           }\n       });\n       WebResourceResponse nullRes = new WebResourceResponse(&quot;text/html&quot;, &quot;utf-8&quot;, new ByteArrayInputStream(&quot;&quot;.getBytes()));\n       return nullRes;\n   }\n}\n</code></pre>\n<p>Solution 2: return an html template</p>\n<pre><code>public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request) {\n    String statusCode = 302; //get it from your response;\n    if (statusCode &gt;= 300 &amp;&amp; statusCode &lt;= 399) {\n        String newUrl = &quot;https://example.com&quot;;\n        String content = &quot;&lt;script&gt;location.href = '&quot; + newUrl + &quot;'&lt;/script&gt;&quot;;\n        WebResourceResponse redirectRes = new WebResourceResponse(&quot;text/html&quot;, &quot;utf-8&quot;, new ByteArrayInputStream(content.getBytes()));\n        return redirectRes;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4790379,"reputation":81,"user_id":3869727,"display_name":"Padge"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624458443,"creation_date":1624458443,"answer_id":68101786,"question_id":59965544,"body_markdown":"As OP stated, they were able to work around this restriction by using reflection. The other answer was insufficient for my needs, so I also took the approach of reflection.\r\n\r\n    // instantiate a response with a default 200 response code\r\n    WebResourceResponse redirectResponse = new WebResourceResponse(&quot;text/html&quot;, &quot;utf-8&quot;, 200, new ByteArrayInputStream(content.getBytes()));\r\n\r\n    // use reflection to set the actual response code\r\n    Field f = WebResourceResponse.class.getDeclaredField(&quot;mStatusCode&quot;);\r\n    f.setAccessible(true);\r\n    f.setInt(redirectResponse, 302);\r\n    return redirectResponse;\r\n\r\n\r\n","title":"How to pass WebResourceResponse with &quot;redirect&quot; code to Android WebView in WebViewClient.shouldInterceptRequest?","body":"<p>As OP stated, they were able to work around this restriction by using reflection. The other answer was insufficient for my needs, so I also took the approach of reflection.</p>\n<pre><code>// instantiate a response with a default 200 response code\nWebResourceResponse redirectResponse = new WebResourceResponse(&quot;text/html&quot;, &quot;utf-8&quot;, 200, new ByteArrayInputStream(content.getBytes()));\n\n// use reflection to set the actual response code\nField f = WebResourceResponse.class.getDeclaredField(&quot;mStatusCode&quot;);\nf.setAccessible(true);\nf.setInt(redirectResponse, 302);\nreturn redirectResponse;\n</code></pre>\n"}],"owner":{"account_id":1104623,"reputation":20026,"user_id":1103561,"accept_rate":55,"display_name":"4ntoine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3052,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1684304766,"creation_date":1580295235,"question_id":59965544,"body_markdown":"In order to access response headers (get specific header value) we have to [intercept][1] HTTP requests in WebView, perform the downloading of HTTP resources by ourselves and return a result as a `WebResourceResponse` instance:\r\n```\r\npublic WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request)\r\n{\r\n    return new WebResourceResponse(&quot;text/plain&quot;, &quot;UTF-8&quot;, 302, ...); // 302 is invalid (not supported) value\r\n}\r\n```\r\n\r\n\r\nHowever the codes within 300-399 are [not accepted][2]:\r\n```\r\n2019-12-02 16:48:05.710 1812-1903 W/System.err: java.lang.IllegalArgumentException: statusCode can&#39;t be in the [300, 399] range.\r\n2019-12-02 16:48:05.712 1812-1903 W/System.err:     at android.webkit.WebResourceResponse.setStatusCodeAndReasonPhrase(WebResourceResponse.java:134)\r\n2019-12-02 16:48:05.712 1812-1903 W/System.err:     at android.webkit.WebResourceResponse.&lt;init&gt;(WebResourceResponse.java:76)\r\n...\r\n2019-12-02 16:48:05.714 1812-1903 W/System.err:     at xl.a(PG:56)\r\n2019-12-02 16:48:05.714 1812-1903 W/System.err:     at aeW.a(PG:9)\r\n2019-12-02 16:48:05.714 1812-1903 W/System.err:     at org.chromium.android_webview.AwContentsBackgroundThreadClient.shouldInterceptRequestFromNative(PG:11)\r\n2019-12-02 16:48:05.718 1812-1903 A/chromium: [FATAL:jni_android.cc(256)] Please include Java exception stack in crash report\r\n```\r\n\r\nIs there any proper way to make WebView accept the redirect response?\r\n\r\nPS. I was able to workaround it with Java reflection and inject the values right into the fields (not via ctor with validation), but it seems to be extremely fragile (though it worked in fact).\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/webkit/WebViewClient#shouldInterceptRequest(android.webkit.WebView,%20android.webkit.WebResourceRequest)\r\n  [2]: https://android.googlesource.com/platform/frameworks/base/+/a8352f4/core/java/android/webkit/WebResourceResponse.java#120","title":"How to pass WebResourceResponse with &quot;redirect&quot; code to Android WebView in WebViewClient.shouldInterceptRequest?","body":"<p>In order to access response headers (get specific header value) we have to <a href=\"https://developer.android.com/reference/android/webkit/WebViewClient#shouldInterceptRequest(android.webkit.WebView,%20android.webkit.WebResourceRequest)\" rel=\"nofollow noreferrer\">intercept</a> HTTP requests in WebView, perform the downloading of HTTP resources by ourselves and return a result as a <code>WebResourceResponse</code> instance:</p>\n\n<pre><code>public WebResourceResponse shouldInterceptRequest(WebView view, WebResourceRequest request)\n{\n    return new WebResourceResponse(\"text/plain\", \"UTF-8\", 302, ...); // 302 is invalid (not supported) value\n}\n</code></pre>\n\n<p>However the codes within 300-399 are <a href=\"https://android.googlesource.com/platform/frameworks/base/+/a8352f4/core/java/android/webkit/WebResourceResponse.java#120\" rel=\"nofollow noreferrer\">not accepted</a>:</p>\n\n<pre><code>2019-12-02 16:48:05.710 1812-1903 W/System.err: java.lang.IllegalArgumentException: statusCode can't be in the [300, 399] range.\n2019-12-02 16:48:05.712 1812-1903 W/System.err:     at android.webkit.WebResourceResponse.setStatusCodeAndReasonPhrase(WebResourceResponse.java:134)\n2019-12-02 16:48:05.712 1812-1903 W/System.err:     at android.webkit.WebResourceResponse.&lt;init&gt;(WebResourceResponse.java:76)\n...\n2019-12-02 16:48:05.714 1812-1903 W/System.err:     at xl.a(PG:56)\n2019-12-02 16:48:05.714 1812-1903 W/System.err:     at aeW.a(PG:9)\n2019-12-02 16:48:05.714 1812-1903 W/System.err:     at org.chromium.android_webview.AwContentsBackgroundThreadClient.shouldInterceptRequestFromNative(PG:11)\n2019-12-02 16:48:05.718 1812-1903 A/chromium: [FATAL:jni_android.cc(256)] Please include Java exception stack in crash report\n</code></pre>\n\n<p>Is there any proper way to make WebView accept the redirect response?</p>\n\n<p>PS. I was able to workaround it with Java reflection and inject the values right into the fields (not via ctor with validation), but it seems to be extremely fragile (though it worked in fact).</p>\n"},{"tags":["java","sql-server","spring-boot","spring-data-jpa","common-table-expression"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1618809430,"post_id":67156121,"comment_id":118705020,"body_markdown":"CTE doesn&#39;t work with JPQL, you need to use the SQL instead.","body":"CTE doesn&#39;t work with JPQL, you need to use the SQL instead."},{"owner":{"account_id":20019241,"reputation":117,"user_id":14674517,"display_name":"bee"},"score":0,"creation_date":1618809929,"post_id":67156121,"comment_id":118705110,"body_markdown":"How to use recursive SQL but ?","body":"How to use recursive SQL but ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1618810454,"post_id":67156121,"comment_id":118705212,"body_markdown":"Just put the SQL in and set `native-query` to `true`.","body":"Just put the SQL in and set <code>native-query</code> to <code>true</code>."},{"owner":{"account_id":20019241,"reputation":117,"user_id":14674517,"display_name":"bee"},"score":0,"creation_date":1618811766,"post_id":67156121,"comment_id":118705582,"body_markdown":"Yes, I tried. `@Query(value = &quot;sql here&quot;,nativeQuery = true)` and got same error. But in `native-query` I tried the SQL which to SQL mentioned in [link](https://stackoverflow.com/questions/54889514/cte-sql-to-simple-subset-query-for-jpa). Is that okay ?","body":"Yes, I tried. <code>@Query(value = &quot;sql here&quot;,nativeQuery = true)</code> and got same error. But in <code>native-query</code> I tried the SQL which to SQL mentioned in <a href=\"https://stackoverflow.com/questions/54889514/cte-sql-to-simple-subset-query-for-jpa\">link</a>. Is that okay ?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1618811920,"post_id":67156121,"comment_id":118705610,"body_markdown":"The problem is if you are matching the result to a JPA entity your resulting columns have to match the mapping. Looks like that is off in your result set.","body":"The problem is if you are matching the result to a JPA entity your resulting columns have to match the mapping. Looks like that is off in your result set."},{"owner":{"account_id":20019241,"reputation":117,"user_id":14674517,"display_name":"bee"},"score":0,"creation_date":1618815601,"post_id":67156121,"comment_id":118706826,"body_markdown":"@M.Deinum,Yes. Made changes and now worked for me.","body":"@M.Deinum,Yes. Made changes and now worked for me."}],"answers":[{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1622022074,"creation_date":1622022074,"answer_id":67702358,"question_id":67156121,"body_markdown":"You can write the SQL query in JPA Repositories since the @Query annotation takes native query as well. For that, you need to specify the SQL query in the value parameter and **nativeQuery** is true as follow.\r\n\r\nYou can write CTE queries as well.\r\n\r\n``` Java\r\npublic interface ISomeRepository extends JpaRepository&lt;Entity, Long&gt; {\r\n\r\n\r\n    @Query(value = &quot;SQL QUERY NEED TO BE WRITTEN HERE&quot;, nativeQuery = true)\r\n    List&lt;Long&gt; getEntityIds();\r\n}\r\n```","title":"How to use CTE expression WITH clause in Spring Data JPA","body":"<p>You can write the SQL query in JPA Repositories since the @Query annotation takes native query as well. For that, you need to specify the SQL query in the value parameter and <strong>nativeQuery</strong> is true as follow.</p>\n<p>You can write CTE queries as well.</p>\n<pre><code>public interface ISomeRepository extends JpaRepository&lt;Entity, Long&gt; {\n\n\n    @Query(value = &quot;SQL QUERY NEED TO BE WRITTEN HERE&quot;, nativeQuery = true)\n    List&lt;Long&gt; getEntityIds();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25895906,"reputation":1,"user_id":19622466,"display_name":"葉皓昀"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684304091,"creation_date":1684304091,"answer_id":76269040,"question_id":67156121,"body_markdown":"If you are using recursive query,creating view might be a way to use it in JPA\r\n\r\nFor Example,create a view like below:\r\n\r\n    CREATE VIEW RECUSRSIVE_QUERY_VIEW\r\n    AS\r\n    [Your Recursive CTE]\r\nThen write a Entity class mapping to RECUSRSIVE_QUERY_VIEW:\r\n\r\n    @Entity\r\n    @Table(name=&quot;RECUSRSIVE_QUERY_VIEW&quot;)\r\n    public class RecursiveQueryView {\r\n      //Declare column and getter/setter\r\n    }\r\nThen you should be able to use JpaRepository With this Entity:\r\n\r\n    interface RecursiveQueryViewJpaRepository extends JpaRepository&lt;RecursiveQueryView,String&gt; {\r\n    }\r\n\r\nHope this help","title":"How to use CTE expression WITH clause in Spring Data JPA","body":"<p>If you are using recursive query,creating view might be a way to use it in JPA</p>\n<p>For Example,create a view like below:</p>\n<pre><code>CREATE VIEW RECUSRSIVE_QUERY_VIEW\nAS\n[Your Recursive CTE]\n</code></pre>\n<p>Then write a Entity class mapping to RECUSRSIVE_QUERY_VIEW:</p>\n<pre><code>@Entity\n@Table(name=&quot;RECUSRSIVE_QUERY_VIEW&quot;)\npublic class RecursiveQueryView {\n  //Declare column and getter/setter\n}\n</code></pre>\n<p>Then you should be able to use JpaRepository With this Entity:</p>\n<pre><code>interface RecursiveQueryViewJpaRepository extends JpaRepository&lt;RecursiveQueryView,String&gt; {\n}\n</code></pre>\n<p>Hope this help</p>\n"}],"owner":{"account_id":20019241,"reputation":117,"user_id":14674517,"display_name":"bee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5214,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1684304091,"creation_date":1618807860,"question_id":67156121,"body_markdown":"I want to write a recursive query in SQL Server. So I am using CTE. Query is working properly in SSMS but when I am trying to use the same CTE in JPA as native SQL it gives an error:\r\n\r\n&gt; Invalid name column Id. \r\n\r\nThe entity (which I am using in CTE to fetch data recursively) has `@Id @Column(name=&quot;pk_id&quot;) private int Id` field.\r\n\r\nI also followed this SOQ : https://stackoverflow.com/questions/54889514/cte-sql-to-simple-subset-query-for-jpa\r\n\r\nBut still getting error as invalid name column Id.\r\n\r\nI have never used CTE before. How can this be fixed? ","title":"How to use CTE expression WITH clause in Spring Data JPA","body":"<p>I want to write a recursive query in SQL Server. So I am using CTE. Query is working properly in SSMS but when I am trying to use the same CTE in JPA as native SQL it gives an error:</p>\n<blockquote>\n<p>Invalid name column Id.</p>\n</blockquote>\n<p>The entity (which I am using in CTE to fetch data recursively) has <code>@Id @Column(name=&quot;pk_id&quot;) private int Id</code> field.</p>\n<p>I also followed this SOQ : <a href=\"https://stackoverflow.com/questions/54889514/cte-sql-to-simple-subset-query-for-jpa\">cte sql to simple subset query for JPA</a></p>\n<p>But still getting error as invalid name column Id.</p>\n<p>I have never used CTE before. How can this be fixed?</p>\n"},{"tags":["java","video","codec"],"answers":[{"tags":[],"owner":{"account_id":280439,"reputation":48160,"user_id":576139,"accept_rate":100,"display_name":"Chris Eberle"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1306510207,"creation_date":1306510207,"answer_id":6154457,"question_id":6154342,"body_markdown":"Maybe [mjpeg][1]? It doesn&#39;t require any special hardware or acceleration, and JPEG is pretty easy to implement.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Motion_JPEG","title":"Looking for most simple video codec","body":"<p>Maybe <a href=\"http://en.wikipedia.org/wiki/Motion_JPEG\" rel=\"nofollow\">mjpeg</a>? It doesn't require any special hardware or acceleration, and JPEG is pretty easy to implement.</p>\n"},{"tags":[],"owner":{"account_id":2284422,"reputation":11,"user_id":2008799,"display_name":"user2008799"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1359056079,"creation_date":1359056079,"answer_id":14509275,"question_id":6154342,"body_markdown":"Cinepak decoder is very simple, compared even to mjpeg. There are unfortunately no open source encoders but a binary encoder dll is available and usable both on Windows and on Linux via mencoder.\r\n\r\nhttp://multimedia.cx/mirror/cinepak.txt\r\n\r\nFor possibly an even simpler format see\r\n\r\nhttp://multimedia.cx/eggs/worlds-simplest-vector-quantizer/","title":"Looking for most simple video codec","body":"<p>Cinepak decoder is very simple, compared even to mjpeg. There are unfortunately no open source encoders but a binary encoder dll is available and usable both on Windows and on Linux via mencoder.</p>\n\n<p><a href=\"http://multimedia.cx/mirror/cinepak.txt\" rel=\"nofollow\">http://multimedia.cx/mirror/cinepak.txt</a></p>\n\n<p>For possibly an even simpler format see</p>\n\n<p><a href=\"http://multimedia.cx/eggs/worlds-simplest-vector-quantizer/\" rel=\"nofollow\">http://multimedia.cx/eggs/worlds-simplest-vector-quantizer/</a></p>\n"}],"owner":{"account_id":34541,"reputation":33238,"user_id":97688,"accept_rate":76,"display_name":"clamp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3095,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"closed_date":1684339130,"answer_count":2,"score":3,"last_activity_date":1684304057,"creation_date":1306509716,"question_id":6154342,"body_markdown":"i am looking for a simple video codec, for which it would be very easy to write a decoder in java.\r\n\r\nit could even be a lossless codec. this is just to learn to understand how codecs work!\r\n\r\nthanks!","title":"Looking for most simple video codec","body":"<p>i am looking for a simple video codec, for which it would be very easy to write a decoder in java.</p>\n\n<p>it could even be a lossless codec. this is just to learn to understand how codecs work!</p>\n\n<p>thanks!</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":16737428,"reputation":3,"user_id":12098104,"display_name":"MrDk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684304010,"creation_date":1684304010,"question_id":76269029,"body_markdown":"I have recently started spring Framwork and I found ExchangeStrategies and I am curious to know that what is it.\r\n\r\nsample code that I have found \r\n\r\n\r\n```\r\n   final ExchangeStrategies strategies = ExchangeStrategies.builder()\r\n                .codecs(codecs -&gt; codecs.defaultCodecs().maxInMemorySize(150000))\r\n                .build();\r\n```\r\n\r\nThanks in advance :)","title":"What is ExchangeStrategies in Spring Framework API?","body":"<p>I have recently started spring Framwork and I found ExchangeStrategies and I am curious to know that what is it.</p>\n<p>sample code that I have found</p>\n<pre><code>   final ExchangeStrategies strategies = ExchangeStrategies.builder()\n                .codecs(codecs -&gt; codecs.defaultCodecs().maxInMemorySize(150000))\n                .build();\n</code></pre>\n<p>Thanks in advance :)</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":455505,"reputation":1708,"user_id":853694,"accept_rate":78,"display_name":"JSantos"},"score":0,"creation_date":1492612471,"post_id":43498590,"comment_id":74051783,"body_markdown":"You should maybe post your applicationContext file and the class that you&#39;re creating a bean for","body":"You should maybe post your applicationContext file and the class that you&#39;re creating a bean for"}],"answers":[{"comments":[{"owner":{"account_id":10721362,"reputation":3,"user_id":7890359,"display_name":"Adri&#225;n Blanco"},"score":0,"creation_date":1492613802,"post_id":43498673,"comment_id":74052860,"body_markdown":"Hello Jens. I am very new with Spring Tool Suite and your solution didn&#180;t solve my problem. Thanks anyway.","body":"Hello Jens. I am very new with Spring Tool Suite and your solution didn&#180;t solve my problem. Thanks anyway."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1492669196,"post_id":43498673,"comment_id":74077126,"body_markdown":"@Adri&#225;nBlanco That means you get the same exdception?","body":"@Adri&#225;nBlanco That means you get the same exdception?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1492672160,"post_id":43498673,"comment_id":74078893,"body_markdown":"@Adri&#225;nBlanco you have added the new dependency and removed the dependency to Version 2.0?","body":"@Adri&#225;nBlanco you have added the new dependency and removed the dependency to Version 2.0?"},{"owner":{"account_id":10721362,"reputation":3,"user_id":7890359,"display_name":"Adri&#225;n Blanco"},"score":0,"creation_date":1492672792,"post_id":43498673,"comment_id":74079283,"body_markdown":"Thanks for your quick answer Jens","body":"Thanks for your quick answer Jens"}],"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684303787,"creation_date":1492612227,"answer_id":43498673,"question_id":43498590,"body_markdown":"`Caused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;`\r\n\r\nThis error message points to an incompatible version of `javax.persistence` and `hibernate` artifacts.\r\n\r\nYou have to use `version 2.1` of `javax.persistence` with `hibernate 5`\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]:","body":"<p><code>Caused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;</code></p>\n<p>This error message points to an incompatible version of <code>javax.persistence</code> and <code>hibernate</code> artifacts.</p>\n<p>You have to use <code>version 2.1</code> of <code>javax.persistence</code> with <code>hibernate 5</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-jpa-2.1-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":10721362,"reputation":3,"user_id":7890359,"display_name":"Adri&#225;n Blanco"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5750,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43498673,"answer_count":1,"score":0,"last_activity_date":1684303787,"creation_date":1492612025,"question_id":43498590,"body_markdown":"I have some problems with this error: \r\n\r\n```\r\nError creating bean with name &#39;entityManagerFactory&#39; defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]\r\n```\r\n\r\nI am using Spring Tool Suite.\r\n\r\nMy Log:\r\n\r\n    WARN : org.springframework.web.context.support.XmlWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n    ERROR: org.springframework.web.context.ContextLoader - Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\r\n    \tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4727)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5189)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\r\n    \tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\r\n    \tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\r\n    \tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:596)\r\n    \tat org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1805)\r\n    \tat java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\r\n    \tat org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:1087)\r\n    \tat org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:767)\r\n    \tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:245)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:222)\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:265)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:848)\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:876)\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:343)\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:319)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\r\n    \t... 25 more\r\n    abr 19, 2017 4:10:17 PM org.apache.catalina.startup.Catalina start\r\n    INFORMACI?N: Server startup in 5577 ms\r\n\r\nMy `pom.xml`\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.companyname&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springapp&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;springapp Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;4.12&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        \t&lt;version&gt;2.5&lt;/version&gt;\r\n        \t&lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        \t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n        \t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;jstl-api&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.apache.taglibs&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;taglibs-standard-impl&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.2.5&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.1.0.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        \t&lt;version&gt;5.2.4.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.7.21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.7.21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        \t&lt;version&gt;5.1.38&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n        \t&lt;version&gt;5.2.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n        \t&lt;version&gt;${org.springframework.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n        \t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n        \t&lt;version&gt;4.1.4.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n      &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n      &lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;springapp&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n      &lt;properties&gt;\r\n      \t&lt;org.springframework.version&gt;4.2.5.RELEASE&lt;/org.springframework.version&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nMy `web.xml`:\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\r\n    \r\n    \t&lt;context-param&gt;\r\n    \t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \r\n    \t&lt;listener&gt;\r\n    \t\t&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    \t&lt;/listener&gt;\r\n    \r\n    \t&lt;display-name&gt;Springapp&lt;/display-name&gt;\r\n    \r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;springapp&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;/WEB-INF/spring/app-config.xml&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    \t&lt;/servlet&gt;\r\n    \r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;springapp&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\n`app-config.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd\r\n    \t\thttp://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd&quot;&gt;\r\n    \r\n    \t&lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\r\n            &lt;property name=&quot;basename&quot; value=&quot;messages&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Scans the classpath of this application for @Components to deploy as beans --&gt;\r\n        &lt;context:component-scan base-package=&quot;com.companyname.springapp.web&quot; /&gt;\r\n    \r\n        &lt;!-- Configures the @Controller programming model --&gt;\r\n        &lt;mvc:annotation-driven/&gt;\r\n    \t\r\n        &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n            &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\r\n            &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;        \r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\nI don&#39;t know how to fix it.","title":"Error creating bean with name &#39;entityManagerFactory&#39; defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]:","body":"<p>I have some problems with this error:</p>\n<pre><code>Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]\n</code></pre>\n<p>I am using Spring Tool Suite.</p>\n<p>My Log:</p>\n<pre><code>WARN : org.springframework.web.context.support.XmlWebApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\nERROR: org.springframework.web.context.ContextLoader - Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in ServletContext resource [/WEB-INF/spring/applicationContext.xml]: Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1578)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:545)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1054)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:829)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:538)\n    at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:444)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:326)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4727)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5189)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:752)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:728)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:734)\n    at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:596)\n    at org.apache.catalina.startup.HostConfig$DeployDescriptor.run(HostConfig.java:1805)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index;\n    at org.hibernate.cfg.annotations.EntityBinder.processComplementaryTableDefinitions(EntityBinder.java:1087)\n    at org.hibernate.cfg.AnnotationBinder.bindClass(AnnotationBinder.java:767)\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:245)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:222)\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:265)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:848)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:876)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:60)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:343)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:319)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1637)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1574)\n    ... 25 more\nabr 19, 2017 4:10:17 PM org.apache.catalina.startup.Catalina start\nINFORMACI?N: Server startup in 5577 ms\n</code></pre>\n<p>My <code>pom.xml</code></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.companyname&lt;/groupId&gt;\n  &lt;artifactId&gt;springapp&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;springapp Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.12&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;2.5&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.taglibs&lt;/groupId&gt;\n        &lt;artifactId&gt;taglibs-standard-impl&lt;/artifactId&gt;\n        &lt;version&gt;1.2.5&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.1.0.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;5.2.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.21&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.38&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.2.3.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;${org.springframework.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-jpa-2.0-api&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;4.1.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate.common&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-commons-annotations&lt;/artifactId&gt;\n  &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n  &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n  &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n  &lt;version&gt;${hibernate.version}&lt;/version&gt;\n&lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;springapp&lt;/finalName&gt;\n  &lt;/build&gt;\n  &lt;properties&gt;\n    &lt;org.springframework.version&gt;4.2.5.RELEASE&lt;/org.springframework.version&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My <code>web.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;web-app version=&quot;2.5&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;&gt;\n\n    &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;/WEB-INF/spring/applicationContext.xml&lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n    &lt;/listener&gt;\n\n    &lt;display-name&gt;Springapp&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;springapp&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/spring/app-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;springapp&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.htm&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><code>app-config.xml</code>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-4.2.xsd\n        http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc-4.2.xsd&quot;&gt;\n\n    &lt;bean id=&quot;messageSource&quot; class=&quot;org.springframework.context.support.ResourceBundleMessageSource&quot;&gt;\n        &lt;property name=&quot;basename&quot; value=&quot;messages&quot;/&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Scans the classpath of this application for @Components to deploy as beans --&gt;\n    &lt;context:component-scan base-package=&quot;com.companyname.springapp.web&quot; /&gt;\n\n    &lt;!-- Configures the @Controller programming model --&gt;\n    &lt;mvc:annotation-driven/&gt;\n    \n    &lt;bean id=&quot;viewResolver&quot; class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\n        &lt;property name=&quot;viewClass&quot; value=&quot;org.springframework.web.servlet.view.JstlView&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/views/&quot;&gt;&lt;/property&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;        \n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>I don't know how to fix it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1683506922,"post_id":76196869,"comment_id":134372800,"body_markdown":"The `while(true)` loop in the `main` method is a really, really, really bad idea. `setTimer` does not take any parameters, even if you could call it, you&#39;d be blocking the Event Dispatching Thread and the UI would be unable to be updated.  `KeyListener` is generally a bad way to monitor keyboard input, instead make use of the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html) instead","body":"The <code>while(true)</code> loop in the <code>main</code> method is a really, really, really bad idea. <code>setTimer</code> does not take any parameters, even if you could call it, you&#39;d be blocking the Event Dispatching Thread and the UI would be unable to be updated.  <code>KeyListener</code> is generally a bad way to monitor keyboard input, instead make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a> instead"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683507059,"post_id":76196869,"comment_id":134372818,"body_markdown":"I would avoid extending from top level containers like `JFrame`; you&#39;re not extending any of the functionality of the class and you&#39;re locking yourself into a single use case.  For example, it might be easier to use a `CardLayout` to switch between the &quot;clock&quot; and the &quot;stop watch&quot;, if they were based on a `JPanel`","body":"I would avoid extending from top level containers like <code>JFrame</code>; you&#39;re not extending any of the functionality of the class and you&#39;re locking yourself into a single use case.  For example, it might be easier to use a <code>CardLayout</code> to switch between the &quot;clock&quot; and the &quot;stop watch&quot;, if they were based on a <code>JPanel</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1683507124,"post_id":76196869,"comment_id":134372826,"body_markdown":"I would recommend taking a look at [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [How to use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html)","body":"I would recommend taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to use Swing Timers</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1683507838,"post_id":76196869,"comment_id":134372875,"body_markdown":"I would decouple the &quot;clock&quot; and &quot;stop watch&quot; models - these should be capable of reporting information back to the UI, so you could, technically, use the same UI for both - for [example](https://stackoverflow.com/questions/50408678/adding-resume-function-to-stopwatch/50409049#50409049); [example](https://stackoverflow.com/questions/52978554/pause-and-resume-for-swing-timer-does-not-work-properly/52979420#52979420)","body":"I would decouple the &quot;clock&quot; and &quot;stop watch&quot; models - these should be capable of reporting information back to the UI, so you could, technically, use the same UI for both - for <a href=\"https://stackoverflow.com/questions/50408678/adding-resume-function-to-stopwatch/50409049#50409049\">example</a>; <a href=\"https://stackoverflow.com/questions/52978554/pause-and-resume-for-swing-timer-does-not-work-properly/52979420#52979420\">example</a>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1683510390,"post_id":76196869,"comment_id":134373058,"body_markdown":"*&quot;the methods `isRunning` and `isStopwatchKeyPressed` are undefined.&quot;*  You showed us code in which each of these methods is called. But, you have no code that has code for these methods.  So, they are undefined.  You have code for method `void setTimer ()` in `class ClockProject` and you overrode it in `class Stopwatch`. As defined, those methods don&#39;t take any argument. So, a call to one can&#39;t have an argument.","body":"<i>&quot;the methods <code>isRunning</code> and <code>isStopwatchKeyPressed</code> are undefined.&quot;</i>  You showed us code in which each of these methods is called. But, you have no code that has code for these methods.  So, they are undefined.  You have code for method <code>void setTimer ()</code> in <code>class ClockProject</code> and you overrode it in <code>class Stopwatch</code>. As defined, those methods don&#39;t take any argument. So, a call to one can&#39;t have an argument."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684303704,"creation_date":1683512390,"answer_id":76197139,"question_id":76196869,"body_markdown":"This...\r\n\r\n    public static void main(String[] args) {\r\n        Help.about();\r\n        boolean isStopwatchActive = false;\r\n        while (true) {\r\n            if (isStopwatchActive) {\r\n                Stopwatch stopwatch = new Stopwatch(); \r\n                stopwatch.setVisible(true);\r\n                while (true) {\r\n                    stopwatch.setTimer();\r\n                    if (!stopwatch.isRunning()) {\r\n                        isStopwatchActive = false;\r\n                        break;\r\n                    }\r\n                }\r\n            } else {\r\n                ClockProject clock = new ClockProject();\r\n                clock.writeToFile(&quot;data.txt&quot;);\r\n                while (true) {\r\n                    clock.setTimer();\r\n                    if (clock.isStopwatchKeyPressed()) {\r\n                        isStopwatchActive = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nis a bad idea.  This is not how a UI should work.  Apart from the fact that fact that you&#39;re trying to read state from another thread context, which could result in dirty reads, your `while-loop` is &quot;free wheeling&quot; which will consume CPU time and have a degrading performance on your whole system.\r\n\r\nThere&#39;s also no escape out of the inner loops, so, now you&#39;re completely stuck.\r\n\r\nSwing, like most UIs, is event driven, that is, something happens and you respond to it.  What you&#39;ve presented here instead is more procedural in nature. \r\n\r\n`setTimer` does not take any parameters, even if you could call it, you&#39;d be blocking the Event Dispatching Thread and the UI would be unable to be updated. \r\n\r\n`KeyListener` is generally a bad way to monitor keyboard input, instead make use of the [key bindings API](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html).\r\n\r\nI would avoid extending from top level containers like `JFrame`; you&#39;re not extending any of the functionality of the class and you&#39;re locking yourself into a single use case. For example, it might be easier to use a `CardLayout` to switch between the &quot;clock&quot; and the &quot;stop watch&quot; views, if they were based on a `JPanel`. – \r\n\r\nI would recommend taking a look at [Concurrency in Swing](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html) and [How to use Swing Timers](https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html).\r\n\r\n# A &quot;simple&quot; implementation...\r\n\r\nLet&#39;s take a step back for a second and try and take in the &quot;big picture&quot;.  You want to display some time information, either from a &quot;wall clock&quot; or &quot;stop watch&quot;. \r\n\r\nI would decouple the concepts and the UI, so that the &quot;presentation&quot; of the time was seperated from the &quot;calculation&quot; of the time, this then provides us with the concept of a &quot;model&quot; (or data) and the &quot;view&quot;.  The presentation of the data should be decided by the view, which is why, in the following example, I&#39;ve excluded providing any kind of formatting at the model level.\r\n\r\nBoth these could be used to display `hour`, `minute` and `second` information, so, let&#39;s start there...\r\n\r\n    public interface Time {\r\n        public int getHours();\r\n        public int getMinutes();\r\n        public int getSeconds();\r\n    }\r\n    \r\nNow, you need some kind of &quot;container&quot; which managers this information, for this I&#39;ve used a `Clock`...\r\n\r\n    public interface Clock {\r\n        public Time getTime();\r\n    }\r\n\r\nThere&#39;s a pretty basic, but lay down the core contracts.\r\n\r\nTo make life a little more easier, I created a &quot;default&quot; implementation of `Time`\r\n\r\n    public class DefaultTime implements Time {        \r\n        private int hours;\r\n        private int minutes;\r\n        private int seconds;\r\n\r\n        public DefaultTime(int hours, int minutes, int seconds) {\r\n            this.hours = hours;\r\n            this.minutes = minutes;\r\n            this.seconds = seconds;\r\n        }\r\n\r\n        public DefaultTime(LocalTime time) {\r\n            this(time.getHour(), time.getMinute(), time.getSecond());\r\n        }\r\n\r\n        public DefaultTime(Duration duration) {\r\n            this(duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart());\r\n        }\r\n        \r\n        @Override\r\n        public int getHours() {\r\n            return hours;\r\n        }\r\n\r\n        @Override\r\n        public int getMinutes() {\r\n            return minutes;\r\n        }\r\n\r\n        @Override\r\n        public int getSeconds() {\r\n            return seconds;\r\n        }\r\n    }\r\n\r\nWith these in hand, we can create a `WallClock` and `StopWatch` implementation...\r\n\r\n    public class WallClock implements Clock {\r\n        @Override\r\n        public Time getTime() {\r\n            return new DefaultTime(LocalTime.now());\r\n        }\r\n    }\r\n\r\n    public class StopWatch implements Clock {\r\n        \r\n        private Instant startTime;\r\n        private Instant stopTime;\r\n        \r\n        public void start() {\r\n            startTime = Instant.now();\r\n            stopTime = null;\r\n        }\r\n        \r\n        public void stop() {\r\n            if (startTime == null) {\r\n                 return;\r\n            }\r\n            stopTime = Instant.now();\r\n        }\r\n        \r\n        @Override\r\n        public Time getTime() {\r\n            if (startTime == null) {\r\n                return new DefaultTime(0, 0, 0);\r\n            }\r\n            Duration duration = Duration.between(startTime, stopTime == null ? Instant.now() : stopTime);\r\n            return new DefaultTime(duration);\r\n        }\r\n    }\r\n\r\nWhat&#39;s important here is, the `StopWatch` has some additional functionality, it can be started and stopped, this demonstrates how functionality can be expended and separated based on your needs. \r\n\r\nNow, finally, we need some way to display it...\r\n\r\n    public class ClockPane extends JPanel {\r\n        enum State {\r\n            WALL_CLOCK, STOP_WATCH;\r\n        }\r\n        \r\n        private State state = State.WALL_CLOCK;\r\n        private Clock clock = new WallClock();\r\n        \r\n        private Timer timer = new Timer(500, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                updateTime();\r\n            }\r\n        });\r\n\r\n        private JLabel timeDisplay;\r\n        \r\n        public ClockPane() {\r\n            setLayout(new GridBagLayout());\r\n            setBorder(new EmptyBorder(32, 32, 32, 32));\r\n            \r\n            timeDisplay = new JLabel();\r\n            timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\r\n            \r\n            add(timeDisplay);\r\n            updateTime();\r\n            \r\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n            ActionMap actionMap = getActionMap();\r\n            \r\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;Space.pressed&quot;);\r\n            actionMap.put(&quot;Space.pressed&quot;, new AbstractAction() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    switch (getState()) {\r\n                        case WALL_CLOCK:\r\n                            setState(State.STOP_WATCH);\r\n                            break;\r\n                            \r\n                        case STOP_WATCH:\r\n                            setState(State.WALL_CLOCK);\r\n                            break;\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        @Override\r\n        public void addNotify() {\r\n            super.addNotify();\r\n            timer.start();\r\n        }\r\n\r\n        @Override\r\n        public void removeNotify() {\r\n            super.removeNotify();\r\n            timer.stop();\r\n        }\r\n        \r\n        protected void updateTime() {\r\n            Time time = getClock().getTime();\r\n            timeDisplay.setText(String.format(&quot;%02d:%02d:%02d&quot;, time.getHours(), time.getMinutes(), time.getSeconds()));\r\n        }\r\n\r\n        public Clock getClock() {\r\n            return clock;\r\n        }\r\n\r\n        public State getState() {\r\n            return state;\r\n        }\r\n\r\n        public void setState(State state) {\r\n            this.state = state;\r\n            switch (state) {\r\n                case WALL_CLOCK:\r\n                    clock = new WallClock();\r\n                    break;\r\n                    \r\n                case STOP_WATCH:\r\n                    StopWatch stopWatch = new StopWatch();\r\n                    stopWatch.start();\r\n                    clock = stopWatch;\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\nThis is pretty basic. We allow the presentation of two &quot;states&quot;, a wall clock or stop watch.  In doing so, we simply switch the underlying `Clock` implementation to be used to generate the `Time` value.\r\n\r\nThe UI then makes use of a simple Swing `Timer` to update the `Time` value on the UI at a regular interval.\r\n\r\nIt also has a key binding, binding the &lt;kbd&gt;Space&lt;/kbd&gt; key, so that when pressed, we simple switch state between the `WALL_CLOCK` and `STOP_WATCH`\r\n\r\n## Runnable example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.time.LocalTime;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new ClockPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class ClockPane extends JPanel {\r\n            enum State {\r\n                WALL_CLOCK, STOP_WATCH;\r\n            }\r\n\r\n            private State state = State.WALL_CLOCK;\r\n            private Clock clock = new WallClock();\r\n\r\n            private Timer timer = new Timer(500, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    updateTime();\r\n                }\r\n            });\r\n\r\n            private JLabel timeDisplay;\r\n\r\n            public ClockPane() {\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                timeDisplay = new JLabel();\r\n                timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\r\n\r\n                add(timeDisplay);\r\n                updateTime();\r\n\r\n                InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap actionMap = getActionMap();\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;Space.pressed&quot;);\r\n                actionMap.put(&quot;Space.pressed&quot;, new AbstractAction() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        switch (getState()) {\r\n                            case WALL_CLOCK:\r\n                                setState(State.STOP_WATCH);\r\n                                break;\r\n\r\n                            case STOP_WATCH:\r\n                                setState(State.WALL_CLOCK);\r\n                                break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                timer.stop();\r\n            }\r\n\r\n            protected void updateTime() {\r\n                Time time = getClock().getTime();\r\n                timeDisplay.setText(String.format(&quot;%02d:%02d:%02d&quot;, time.getHours(), time.getMinutes(), time.getSeconds()));\r\n            }\r\n\r\n            public Clock getClock() {\r\n                return clock;\r\n            }\r\n\r\n            public State getState() {\r\n                return state;\r\n            }\r\n\r\n            public void setState(State state) {\r\n                this.state = state;\r\n                switch (state) {\r\n                    case WALL_CLOCK:\r\n                        clock = new WallClock();\r\n                        break;\r\n\r\n                    case STOP_WATCH:\r\n                        StopWatch stopWatch = new StopWatch();\r\n                        stopWatch.start();\r\n                        clock = stopWatch;\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        public interface Time {\r\n            public int getHours();\r\n            public int getMinutes();\r\n            public int getSeconds();\r\n        }\r\n\r\n        public interface Clock {\r\n            public Time getTime();\r\n        }\r\n\r\n        public class DefaultTime implements Time {        \r\n            private int hours;\r\n            private int minutes;\r\n            private int seconds;\r\n\r\n            public DefaultTime(int hours, int minutes, int seconds) {\r\n                this.hours = hours;\r\n                this.minutes = minutes;\r\n                this.seconds = seconds;\r\n            }\r\n\r\n            public DefaultTime(LocalTime time) {\r\n                this(time.getHour(), time.getMinute(), time.getSecond());\r\n            }\r\n\r\n            public DefaultTime(Duration duration) {\r\n                this(duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart());\r\n            }\r\n\r\n            @Override\r\n            public int getHours() {\r\n                return hours;\r\n            }\r\n\r\n            @Override\r\n            public int getMinutes() {\r\n                return minutes;\r\n            }\r\n\r\n            @Override\r\n            public int getSeconds() {\r\n                return seconds;\r\n            }\r\n        }\r\n\r\n        public class WallClock implements Clock {\r\n            @Override\r\n            public Time getTime() {\r\n                return new DefaultTime(LocalTime.now());\r\n            }\r\n        }\r\n\r\n        public class StopWatch implements Clock {\r\n\r\n            private Instant startTime;\r\n            private Instant stopTime;\r\n\r\n            public void start() {\r\n                startTime = Instant.now();\r\n                stopTime = null;\r\n            }\r\n\r\n            public void stop() {\r\n                if (startTime == null) {\r\n                     return;\r\n                }\r\n                stopTime = Instant.now();\r\n            }\r\n\r\n            @Override\r\n            public Time getTime() {\r\n                if (startTime == null) {\r\n                    return new DefaultTime(0, 0, 0);\r\n                }\r\n                Duration duration = Duration.between(startTime, stopTime == null ? Instant.now() : stopTime);\r\n                return new DefaultTime(duration);\r\n            }\r\n        }\r\n    }\r\n\r\n# But what if we want something more complicated?\r\n\r\nWhat if we want to format the wall clock time differently?  What if we want to add in controls for the stop watch?\r\n\r\nWell, then, you&#39;d create specialised implementations of the view to support it and then, possibly, use a `CardLayout` to switch between them.\r\n\r\nFirst, we create a  wall clock view.  This will display the time in `hour:minute:second daypart` format (ie 2:30:00 pm)\r\n\r\nNext, the stop watch view. The format remains unchanged, but will  add a &quot;start/stop&quot; button, so you can control the stop watch.\r\n\r\nWe also update the `StopWatch` to add a `isRunning` method, so we can tell when it&#39;s &quot;running&quot; or not, so we can start/stop it appropriatly.\r\n\r\nThen we update the `ClockPane` so we can switch between the views. This is making use of a [`CardLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html) which makes it really simple to switch between different views...\r\n\r\n## Runnable example...\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.CardLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.KeyEvent;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import javax.swing.AbstractAction;\r\n    import javax.swing.ActionMap;\r\n    import javax.swing.InputMap;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.KeyStroke;\r\n    import javax.swing.Timer;\r\n    import javax.swing.border.EmptyBorder;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new ClockPane());\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class ClockPane extends JPanel {\r\n            enum State {\r\n                WALL_CLOCK, STOP_WATCH;\r\n            }\r\n\r\n            private State state = State.WALL_CLOCK;\r\n            private CardLayout cardLayout;\r\n\r\n            public ClockPane() {\r\n                cardLayout = new CardLayout();\r\n\r\n                setLayout(cardLayout);\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                add(new WallClockPane(), &quot;WALL_CLOCK&quot;);\r\n                add(new StopWatchPane(), &quot;STOP_WATCH&quot;);\r\n\r\n                InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\r\n                ActionMap actionMap = getActionMap();\r\n\r\n                inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;Space.pressed&quot;);\r\n                actionMap.put(&quot;Space.pressed&quot;, new AbstractAction() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        switch (getState()) {\r\n                            case WALL_CLOCK:\r\n                                setState(State.STOP_WATCH);\r\n                                break;\r\n\r\n                            case STOP_WATCH:\r\n                                setState(State.WALL_CLOCK);\r\n                                break;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n\r\n            public State getState() {\r\n                return state;\r\n            }\r\n\r\n            public void setState(State state) {\r\n                this.state = state;\r\n                switch (state) {\r\n                    case WALL_CLOCK:\r\n                        cardLayout.show(this, &quot;WALL_CLOCK&quot;);\r\n                        break;\r\n\r\n                    case STOP_WATCH:\r\n                        cardLayout.show(this, &quot;STOP_WATCH&quot;);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n\r\n        public class WallClockPane extends JPanel {\r\n            private Clock clock = new WallClock();\r\n\r\n            private Timer timer = new Timer(500, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    updateTime();\r\n                }\r\n            });\r\n\r\n            private JLabel timeDisplay;\r\n            private DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;hh:mm:ss a&quot;);\r\n\r\n            public WallClockPane() {\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                timeDisplay = new JLabel();\r\n                timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\r\n\r\n                add(timeDisplay);\r\n                updateTime();\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                timer.stop();\r\n            }\r\n\r\n            protected void updateTime() {\r\n                Time time = getClock().getTime();\r\n                LocalTime localTime = LocalTime.of(time.getHours(), time.getMinutes(), time.getSeconds());\r\n                timeDisplay.setText(localTime.format(formatter));\r\n            }\r\n\r\n            public Clock getClock() {\r\n                return clock;\r\n            }\r\n        }\r\n\r\n        public class StopWatchPane extends JPanel {\r\n            private StopWatch clock = new StopWatch();\r\n\r\n            private Timer timer = new Timer(500, new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    updateTime();\r\n                }\r\n            });\r\n\r\n            private JLabel timeDisplay;\r\n\r\n            private JButton toggleStateButton;\r\n\r\n            public StopWatchPane() {\r\n                setLayout(new GridBagLayout());\r\n                setBorder(new EmptyBorder(32, 32, 32, 32));\r\n\r\n                timeDisplay = new JLabel();\r\n                timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\r\n\r\n                toggleStateButton = new JButton(&quot;Start&quot;);\r\n                toggleStateButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (clock.isRunning()) {\r\n                            toggleStateButton.setText(&quot;Start&quot;);\r\n                            clock.stop();\r\n                        } else {\r\n                            toggleStateButton.setText(&quot;Stop&quot;);\r\n                            clock.start();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                GridBagConstraints gbc = new GridBagConstraints();\r\n                gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n                add(timeDisplay, gbc);\r\n                add(toggleStateButton, gbc);\r\n                updateTime();\r\n            }\r\n\r\n            @Override\r\n            public void addNotify() {\r\n                super.addNotify();\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            public void removeNotify() {\r\n                super.removeNotify();\r\n                timer.stop();\r\n            }\r\n\r\n            protected void updateTime() {\r\n                Time time = getClock().getTime();\r\n                timeDisplay.setText(String.format(&quot;%02d:%02d:%02d&quot;, time.getHours(), time.getMinutes(), time.getSeconds()));\r\n            }\r\n\r\n            public Clock getClock() {\r\n                return clock;\r\n            }\r\n        }\r\n\r\n        public interface Time {\r\n            public int getHours();\r\n\r\n            public int getMinutes();\r\n\r\n            public int getSeconds();\r\n        }\r\n\r\n        public interface Clock {\r\n            public Time getTime();\r\n        }\r\n\r\n        public class DefaultTime implements Time {\r\n            private int hours;\r\n            private int minutes;\r\n            private int seconds;\r\n\r\n            public DefaultTime(int hours, int minutes, int seconds) {\r\n                this.hours = hours;\r\n                this.minutes = minutes;\r\n                this.seconds = seconds;\r\n            }\r\n\r\n            public DefaultTime(LocalTime time) {\r\n                this(time.getHour(), time.getMinute(), time.getSecond());\r\n            }\r\n\r\n            public DefaultTime(Duration duration) {\r\n                this(duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart());\r\n            }\r\n\r\n            @Override\r\n            public int getHours() {\r\n                return hours;\r\n            }\r\n\r\n            @Override\r\n            public int getMinutes() {\r\n                return minutes;\r\n            }\r\n\r\n            @Override\r\n            public int getSeconds() {\r\n                return seconds;\r\n            }\r\n        }\r\n\r\n        public class WallClock implements Clock {\r\n            @Override\r\n            public Time getTime() {\r\n                return new DefaultTime(LocalTime.now());\r\n            }\r\n        }\r\n\r\n        public class StopWatch implements Clock {\r\n\r\n            private Instant startTime;\r\n            private Instant stopTime;\r\n\r\n            private boolean isRunning = false;\r\n\r\n            public void start() {\r\n                startTime = Instant.now();\r\n                stopTime = null;\r\n                isRunning = true;\r\n            }\r\n\r\n            public void stop() {\r\n                if (startTime == null) {\r\n                    return;\r\n                }\r\n                stopTime = Instant.now();\r\n                isRunning = false;\r\n            }\r\n\r\n            public boolean isRunning() {\r\n                return isRunning;\r\n            }\r\n\r\n            @Override\r\n            public Time getTime() {\r\n                if (startTime == null) {\r\n                    return new DefaultTime(0, 0, 0);\r\n                }\r\n                Duration duration = Duration.between(startTime, stopTime == null ? Instant.now() : stopTime);\r\n                return new DefaultTime(duration);\r\n            }\r\n        }\r\n    }\r\n\r\nThe interesting thing about this is...\r\n\r\n1. The stop watch will continue running if you switch back to the wall clock view (you can change this behaviour, but I thought it was an interesting side effect)\r\n2. The button will consume the &lt;kbd&gt;Space&lt;/kbd&gt; event, so you might want to consider the key binding or provide another navigation workflow, maybe using a `JTabbedPane` instead\r\n\r\n# Dependency Injection\r\n\r\nYou could pass the `Clock` and a &quot;formatter&quot; into a common view component, instead of specialising the views.\r\n\r\nThese are just a view ideas.\r\n\r\n  [1]: https://i.stack.imgur.com/mPnL4.png\r\n  [2]: https://i.stack.imgur.com/FpmYw.png","title":"Hello, I&#39;m making a digital clock that will change to a stopwatch when the spacebar is pressed. What is wrong with my code?","body":"<p>This...</p>\n<pre><code>public static void main(String[] args) {\n    Help.about();\n    boolean isStopwatchActive = false;\n    while (true) {\n        if (isStopwatchActive) {\n            Stopwatch stopwatch = new Stopwatch(); \n            stopwatch.setVisible(true);\n            while (true) {\n                stopwatch.setTimer();\n                if (!stopwatch.isRunning()) {\n                    isStopwatchActive = false;\n                    break;\n                }\n            }\n        } else {\n            ClockProject clock = new ClockProject();\n            clock.writeToFile(&quot;data.txt&quot;);\n            while (true) {\n                clock.setTimer();\n                if (clock.isStopwatchKeyPressed()) {\n                    isStopwatchActive = true;\n                    break;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>is a bad idea.  This is not how a UI should work.  Apart from the fact that fact that you're trying to read state from another thread context, which could result in dirty reads, your <code>while-loop</code> is &quot;free wheeling&quot; which will consume CPU time and have a degrading performance on your whole system.</p>\n<p>There's also no escape out of the inner loops, so, now you're completely stuck.</p>\n<p>Swing, like most UIs, is event driven, that is, something happens and you respond to it.  What you've presented here instead is more procedural in nature.</p>\n<p><code>setTimer</code> does not take any parameters, even if you could call it, you'd be blocking the Event Dispatching Thread and the UI would be unable to be updated.</p>\n<p><code>KeyListener</code> is generally a bad way to monitor keyboard input, instead make use of the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">key bindings API</a>.</p>\n<p>I would avoid extending from top level containers like <code>JFrame</code>; you're not extending any of the functionality of the class and you're locking yourself into a single use case. For example, it might be easier to use a <code>CardLayout</code> to switch between the &quot;clock&quot; and the &quot;stop watch&quot; views, if they were based on a <code>JPanel</code>. –</p>\n<p>I would recommend taking a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/index.html\" rel=\"nofollow noreferrer\">Concurrency in Swing</a> and <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/timer.html\" rel=\"nofollow noreferrer\">How to use Swing Timers</a>.</p>\n<h1>A &quot;simple&quot; implementation...</h1>\n<p>Let's take a step back for a second and try and take in the &quot;big picture&quot;.  You want to display some time information, either from a &quot;wall clock&quot; or &quot;stop watch&quot;.</p>\n<p>I would decouple the concepts and the UI, so that the &quot;presentation&quot; of the time was seperated from the &quot;calculation&quot; of the time, this then provides us with the concept of a &quot;model&quot; (or data) and the &quot;view&quot;.  The presentation of the data should be decided by the view, which is why, in the following example, I've excluded providing any kind of formatting at the model level.</p>\n<p>Both these could be used to display <code>hour</code>, <code>minute</code> and <code>second</code> information, so, let's start there...</p>\n<pre><code>public interface Time {\n    public int getHours();\n    public int getMinutes();\n    public int getSeconds();\n}\n</code></pre>\n<p>Now, you need some kind of &quot;container&quot; which managers this information, for this I've used a <code>Clock</code>...</p>\n<pre><code>public interface Clock {\n    public Time getTime();\n}\n</code></pre>\n<p>There's a pretty basic, but lay down the core contracts.</p>\n<p>To make life a little more easier, I created a &quot;default&quot; implementation of <code>Time</code></p>\n<pre><code>public class DefaultTime implements Time {        \n    private int hours;\n    private int minutes;\n    private int seconds;\n\n    public DefaultTime(int hours, int minutes, int seconds) {\n        this.hours = hours;\n        this.minutes = minutes;\n        this.seconds = seconds;\n    }\n\n    public DefaultTime(LocalTime time) {\n        this(time.getHour(), time.getMinute(), time.getSecond());\n    }\n\n    public DefaultTime(Duration duration) {\n        this(duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart());\n    }\n    \n    @Override\n    public int getHours() {\n        return hours;\n    }\n\n    @Override\n    public int getMinutes() {\n        return minutes;\n    }\n\n    @Override\n    public int getSeconds() {\n        return seconds;\n    }\n}\n</code></pre>\n<p>With these in hand, we can create a <code>WallClock</code> and <code>StopWatch</code> implementation...</p>\n<pre><code>public class WallClock implements Clock {\n    @Override\n    public Time getTime() {\n        return new DefaultTime(LocalTime.now());\n    }\n}\n\npublic class StopWatch implements Clock {\n    \n    private Instant startTime;\n    private Instant stopTime;\n    \n    public void start() {\n        startTime = Instant.now();\n        stopTime = null;\n    }\n    \n    public void stop() {\n        if (startTime == null) {\n             return;\n        }\n        stopTime = Instant.now();\n    }\n    \n    @Override\n    public Time getTime() {\n        if (startTime == null) {\n            return new DefaultTime(0, 0, 0);\n        }\n        Duration duration = Duration.between(startTime, stopTime == null ? Instant.now() : stopTime);\n        return new DefaultTime(duration);\n    }\n}\n</code></pre>\n<p>What's important here is, the <code>StopWatch</code> has some additional functionality, it can be started and stopped, this demonstrates how functionality can be expended and separated based on your needs.</p>\n<p>Now, finally, we need some way to display it...</p>\n<pre><code>public class ClockPane extends JPanel {\n    enum State {\n        WALL_CLOCK, STOP_WATCH;\n    }\n    \n    private State state = State.WALL_CLOCK;\n    private Clock clock = new WallClock();\n    \n    private Timer timer = new Timer(500, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            updateTime();\n        }\n    });\n\n    private JLabel timeDisplay;\n    \n    public ClockPane() {\n        setLayout(new GridBagLayout());\n        setBorder(new EmptyBorder(32, 32, 32, 32));\n        \n        timeDisplay = new JLabel();\n        timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\n        \n        add(timeDisplay);\n        updateTime();\n        \n        InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n        ActionMap actionMap = getActionMap();\n        \n        inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;Space.pressed&quot;);\n        actionMap.put(&quot;Space.pressed&quot;, new AbstractAction() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                switch (getState()) {\n                    case WALL_CLOCK:\n                        setState(State.STOP_WATCH);\n                        break;\n                        \n                    case STOP_WATCH:\n                        setState(State.WALL_CLOCK);\n                        break;\n                }\n            }\n        });\n    }\n\n    @Override\n    public void addNotify() {\n        super.addNotify();\n        timer.start();\n    }\n\n    @Override\n    public void removeNotify() {\n        super.removeNotify();\n        timer.stop();\n    }\n    \n    protected void updateTime() {\n        Time time = getClock().getTime();\n        timeDisplay.setText(String.format(&quot;%02d:%02d:%02d&quot;, time.getHours(), time.getMinutes(), time.getSeconds()));\n    }\n\n    public Clock getClock() {\n        return clock;\n    }\n\n    public State getState() {\n        return state;\n    }\n\n    public void setState(State state) {\n        this.state = state;\n        switch (state) {\n            case WALL_CLOCK:\n                clock = new WallClock();\n                break;\n                \n            case STOP_WATCH:\n                StopWatch stopWatch = new StopWatch();\n                stopWatch.start();\n                clock = stopWatch;\n                break;\n        }\n    }\n}\n</code></pre>\n<p>This is pretty basic. We allow the presentation of two &quot;states&quot;, a wall clock or stop watch.  In doing so, we simply switch the underlying <code>Clock</code> implementation to be used to generate the <code>Time</code> value.</p>\n<p>The UI then makes use of a simple Swing <code>Timer</code> to update the <code>Time</code> value on the UI at a regular interval.</p>\n<p>It also has a key binding, binding the <kbd>Space</kbd> key, so that when pressed, we simple switch state between the <code>WALL_CLOCK</code> and <code>STOP_WATCH</code></p>\n<h2>Runnable example...</h2>\n<p><a href=\"https://i.stack.imgur.com/mPnL4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPnL4.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.time.LocalTime;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new ClockPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class ClockPane extends JPanel {\n        enum State {\n            WALL_CLOCK, STOP_WATCH;\n        }\n\n        private State state = State.WALL_CLOCK;\n        private Clock clock = new WallClock();\n\n        private Timer timer = new Timer(500, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                updateTime();\n            }\n        });\n\n        private JLabel timeDisplay;\n\n        public ClockPane() {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            timeDisplay = new JLabel();\n            timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\n\n            add(timeDisplay);\n            updateTime();\n\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;Space.pressed&quot;);\n            actionMap.put(&quot;Space.pressed&quot;, new AbstractAction() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    switch (getState()) {\n                        case WALL_CLOCK:\n                            setState(State.STOP_WATCH);\n                            break;\n\n                        case STOP_WATCH:\n                            setState(State.WALL_CLOCK);\n                            break;\n                    }\n                }\n            });\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            timer.stop();\n        }\n\n        protected void updateTime() {\n            Time time = getClock().getTime();\n            timeDisplay.setText(String.format(&quot;%02d:%02d:%02d&quot;, time.getHours(), time.getMinutes(), time.getSeconds()));\n        }\n\n        public Clock getClock() {\n            return clock;\n        }\n\n        public State getState() {\n            return state;\n        }\n\n        public void setState(State state) {\n            this.state = state;\n            switch (state) {\n                case WALL_CLOCK:\n                    clock = new WallClock();\n                    break;\n\n                case STOP_WATCH:\n                    StopWatch stopWatch = new StopWatch();\n                    stopWatch.start();\n                    clock = stopWatch;\n                    break;\n            }\n        }\n    }\n\n    public interface Time {\n        public int getHours();\n        public int getMinutes();\n        public int getSeconds();\n    }\n\n    public interface Clock {\n        public Time getTime();\n    }\n\n    public class DefaultTime implements Time {        \n        private int hours;\n        private int minutes;\n        private int seconds;\n\n        public DefaultTime(int hours, int minutes, int seconds) {\n            this.hours = hours;\n            this.minutes = minutes;\n            this.seconds = seconds;\n        }\n\n        public DefaultTime(LocalTime time) {\n            this(time.getHour(), time.getMinute(), time.getSecond());\n        }\n\n        public DefaultTime(Duration duration) {\n            this(duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart());\n        }\n\n        @Override\n        public int getHours() {\n            return hours;\n        }\n\n        @Override\n        public int getMinutes() {\n            return minutes;\n        }\n\n        @Override\n        public int getSeconds() {\n            return seconds;\n        }\n    }\n\n    public class WallClock implements Clock {\n        @Override\n        public Time getTime() {\n            return new DefaultTime(LocalTime.now());\n        }\n    }\n\n    public class StopWatch implements Clock {\n\n        private Instant startTime;\n        private Instant stopTime;\n\n        public void start() {\n            startTime = Instant.now();\n            stopTime = null;\n        }\n\n        public void stop() {\n            if (startTime == null) {\n                 return;\n            }\n            stopTime = Instant.now();\n        }\n\n        @Override\n        public Time getTime() {\n            if (startTime == null) {\n                return new DefaultTime(0, 0, 0);\n            }\n            Duration duration = Duration.between(startTime, stopTime == null ? Instant.now() : stopTime);\n            return new DefaultTime(duration);\n        }\n    }\n}\n</code></pre>\n<h1>But what if we want something more complicated?</h1>\n<p>What if we want to format the wall clock time differently?  What if we want to add in controls for the stop watch?</p>\n<p>Well, then, you'd create specialised implementations of the view to support it and then, possibly, use a <code>CardLayout</code> to switch between them.</p>\n<p>First, we create a  wall clock view.  This will display the time in <code>hour:minute:second daypart</code> format (ie 2:30:00 pm)</p>\n<p>Next, the stop watch view. The format remains unchanged, but will  add a &quot;start/stop&quot; button, so you can control the stop watch.</p>\n<p>We also update the <code>StopWatch</code> to add a <code>isRunning</code> method, so we can tell when it's &quot;running&quot; or not, so we can start/stop it appropriatly.</p>\n<p>Then we update the <code>ClockPane</code> so we can switch between the views. This is making use of a <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a> which makes it really simple to switch between different views...</p>\n<h2>Runnable example...</h2>\n<p><a href=\"https://i.stack.imgur.com/FpmYw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FpmYw.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.CardLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport javax.swing.AbstractAction;\nimport javax.swing.ActionMap;\nimport javax.swing.InputMap;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.KeyStroke;\nimport javax.swing.Timer;\nimport javax.swing.border.EmptyBorder;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new ClockPane());\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class ClockPane extends JPanel {\n        enum State {\n            WALL_CLOCK, STOP_WATCH;\n        }\n\n        private State state = State.WALL_CLOCK;\n        private CardLayout cardLayout;\n\n        public ClockPane() {\n            cardLayout = new CardLayout();\n\n            setLayout(cardLayout);\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            add(new WallClockPane(), &quot;WALL_CLOCK&quot;);\n            add(new StopWatchPane(), &quot;STOP_WATCH&quot;);\n\n            InputMap inputMap = getInputMap(WHEN_IN_FOCUSED_WINDOW);\n            ActionMap actionMap = getActionMap();\n\n            inputMap.put(KeyStroke.getKeyStroke(KeyEvent.VK_SPACE, 0), &quot;Space.pressed&quot;);\n            actionMap.put(&quot;Space.pressed&quot;, new AbstractAction() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    switch (getState()) {\n                        case WALL_CLOCK:\n                            setState(State.STOP_WATCH);\n                            break;\n\n                        case STOP_WATCH:\n                            setState(State.WALL_CLOCK);\n                            break;\n                    }\n                }\n            });\n        }\n\n        public State getState() {\n            return state;\n        }\n\n        public void setState(State state) {\n            this.state = state;\n            switch (state) {\n                case WALL_CLOCK:\n                    cardLayout.show(this, &quot;WALL_CLOCK&quot;);\n                    break;\n\n                case STOP_WATCH:\n                    cardLayout.show(this, &quot;STOP_WATCH&quot;);\n                    break;\n            }\n        }\n    }\n\n    public class WallClockPane extends JPanel {\n        private Clock clock = new WallClock();\n\n        private Timer timer = new Timer(500, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                updateTime();\n            }\n        });\n\n        private JLabel timeDisplay;\n        private DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;hh:mm:ss a&quot;);\n\n        public WallClockPane() {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            timeDisplay = new JLabel();\n            timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\n\n            add(timeDisplay);\n            updateTime();\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            timer.stop();\n        }\n\n        protected void updateTime() {\n            Time time = getClock().getTime();\n            LocalTime localTime = LocalTime.of(time.getHours(), time.getMinutes(), time.getSeconds());\n            timeDisplay.setText(localTime.format(formatter));\n        }\n\n        public Clock getClock() {\n            return clock;\n        }\n    }\n\n    public class StopWatchPane extends JPanel {\n        private StopWatch clock = new StopWatch();\n\n        private Timer timer = new Timer(500, new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                updateTime();\n            }\n        });\n\n        private JLabel timeDisplay;\n\n        private JButton toggleStateButton;\n\n        public StopWatchPane() {\n            setLayout(new GridBagLayout());\n            setBorder(new EmptyBorder(32, 32, 32, 32));\n\n            timeDisplay = new JLabel();\n            timeDisplay.setFont(timeDisplay.getFont().deriveFont(48f));\n\n            toggleStateButton = new JButton(&quot;Start&quot;);\n            toggleStateButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (clock.isRunning()) {\n                        toggleStateButton.setText(&quot;Start&quot;);\n                        clock.stop();\n                    } else {\n                        toggleStateButton.setText(&quot;Stop&quot;);\n                        clock.start();\n                    }\n                }\n            });\n\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n            add(timeDisplay, gbc);\n            add(toggleStateButton, gbc);\n            updateTime();\n        }\n\n        @Override\n        public void addNotify() {\n            super.addNotify();\n            timer.start();\n        }\n\n        @Override\n        public void removeNotify() {\n            super.removeNotify();\n            timer.stop();\n        }\n\n        protected void updateTime() {\n            Time time = getClock().getTime();\n            timeDisplay.setText(String.format(&quot;%02d:%02d:%02d&quot;, time.getHours(), time.getMinutes(), time.getSeconds()));\n        }\n\n        public Clock getClock() {\n            return clock;\n        }\n    }\n\n    public interface Time {\n        public int getHours();\n\n        public int getMinutes();\n\n        public int getSeconds();\n    }\n\n    public interface Clock {\n        public Time getTime();\n    }\n\n    public class DefaultTime implements Time {\n        private int hours;\n        private int minutes;\n        private int seconds;\n\n        public DefaultTime(int hours, int minutes, int seconds) {\n            this.hours = hours;\n            this.minutes = minutes;\n            this.seconds = seconds;\n        }\n\n        public DefaultTime(LocalTime time) {\n            this(time.getHour(), time.getMinute(), time.getSecond());\n        }\n\n        public DefaultTime(Duration duration) {\n            this(duration.toHoursPart(), duration.toMinutesPart(), duration.toSecondsPart());\n        }\n\n        @Override\n        public int getHours() {\n            return hours;\n        }\n\n        @Override\n        public int getMinutes() {\n            return minutes;\n        }\n\n        @Override\n        public int getSeconds() {\n            return seconds;\n        }\n    }\n\n    public class WallClock implements Clock {\n        @Override\n        public Time getTime() {\n            return new DefaultTime(LocalTime.now());\n        }\n    }\n\n    public class StopWatch implements Clock {\n\n        private Instant startTime;\n        private Instant stopTime;\n\n        private boolean isRunning = false;\n\n        public void start() {\n            startTime = Instant.now();\n            stopTime = null;\n            isRunning = true;\n        }\n\n        public void stop() {\n            if (startTime == null) {\n                return;\n            }\n            stopTime = Instant.now();\n            isRunning = false;\n        }\n\n        public boolean isRunning() {\n            return isRunning;\n        }\n\n        @Override\n        public Time getTime() {\n            if (startTime == null) {\n                return new DefaultTime(0, 0, 0);\n            }\n            Duration duration = Duration.between(startTime, stopTime == null ? Instant.now() : stopTime);\n            return new DefaultTime(duration);\n        }\n    }\n}\n</code></pre>\n<p>The interesting thing about this is...</p>\n<ol>\n<li>The stop watch will continue running if you switch back to the wall clock view (you can change this behaviour, but I thought it was an interesting side effect)</li>\n<li>The button will consume the <kbd>Space</kbd> event, so you might want to consider the key binding or provide another navigation workflow, maybe using a <code>JTabbedPane</code> instead</li>\n</ol>\n<h1>Dependency Injection</h1>\n<p>You could pass the <code>Clock</code> and a &quot;formatter&quot; into a common view component, instead of specialising the views.</p>\n<p>These are just a view ideas.</p>\n"}],"owner":{"account_id":27922691,"reputation":1,"user_id":21322440,"display_name":"novemberRain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684303704,"creation_date":1683506526,"question_id":76196869,"body_markdown":"The code shows that the &quot;setTimer&quot; method is not applicable for the boolean type and the methods &quot;isRunning&quot; and &quot;isStopwatchKeyPressed&quot; are undefined.\r\n\r\nClockProject Class:\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.ArrayList;\r\nimport java.util.Calendar;\r\n \r\n \r\npublic class ClockProject extends JFrame implements KeyListener {\r\n    Calendar calendar;\r\n    SimpleDateFormat timeFormat;\r\n    SimpleDateFormat dayFormat;\r\n    SimpleDateFormat dateFormat;\r\n \r\n    JLabel timeLabel;\r\n    JLabel dayLabel;\r\n    JLabel dateLabel;\r\n    String time;\r\n    String day;\r\n    String date;\r\n    ArrayList&lt;String&gt; arrayList;\r\n \r\n    //Sets format and appearance of the clock\r\n    public ClockProject() {\r\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        setTitle(&quot;Ryan&#39;s Digital Clock&quot;);\r\n        setLayout(new FlowLayout());\r\n        setSize(350, 220);\r\n        setResizable(false);\r\n        timeFormat = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);\r\n        dateFormat = new SimpleDateFormat(&quot;EEEE&quot;);\r\n        dayFormat = new SimpleDateFormat(&quot;dd MMMM, yyyy&quot;);\r\n \r\n        timeLabel = new JLabel();\r\n        timeLabel.setFont(new Font(&quot;SANS_SERIF&quot;, Font.PLAIN, 59));\r\n        timeLabel.setBackground(Color.BLACK);\r\n        timeLabel.setForeground(Color.WHITE);\r\n        timeLabel.setOpaque(true);\r\n \r\n        dayLabel = new JLabel();\r\n        dayLabel.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 34));\r\n        dateLabel = new JLabel();\r\n        dateLabel.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 30));\r\n        add(timeLabel);\r\n        add(dayLabel);\r\n        add(dateLabel);\r\n        setVisible(true);\r\n        arrayList = new ArrayList&lt;String&gt;();\r\n        readFromFile(&quot;data.txt&quot;);\r\n        for (String data : arrayList) {\r\n            System.out.println(data);\r\n        }\r\n        setTimer();\r\n        addKeyListener(this);\r\n        setFocusable(true);\r\n    }\r\n \r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        if (e.getKeyCode() == KeyEvent.VK_SPACE) {\r\n            setTimer(false); //stop the clock\r\n            Stopwatch stopwatch = new Stopwatch();\r\n            stopwatch.setVisible(true); //open the stopwatch\r\n            removeKeyListener(this); //remove the key listener from the frame\r\n        }\r\n    }\r\n \r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n    }\r\n \r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n    }\r\n \r\n    // Count control using a while loop in setTimer() method\r\n    public void setTimer() {\r\n        int counter = 0;\r\n        while (true) {\r\n            time = timeFormat.format(Calendar.getInstance().getTime());\r\n            timeLabel.setText(time);\r\n            day = dayFormat.format(Calendar.getInstance().getTime());\r\n            dayLabel.setText(day);\r\n            date = dateFormat.format(Calendar.getInstance().getTime());\r\n            dateLabel.setText(date);\r\n            if (counter % 2 == 0) {\r\n                timeLabel.setForeground(Color.RED);\r\n            } else {\r\n                timeLabel.setForeground(Color.WHITE);\r\n            }\r\n            try {\r\n                Thread.sleep(1000);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            counter++;\r\n        }\r\n    }\r\n \r\n    // Polymorphism using method overloading for readFromFile() method.\r\n    public void readFromFile(String filename) {\r\n        try {\r\n            BufferedReader reader = new BufferedReader(new FileReader(filename));\r\n            String line = reader.readLine();\r\n            while (line != null) {\r\n                arrayList.add(line);\r\n                line = reader.readLine();\r\n            }\r\n            reader.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n \r\n    public void writeToFile(String filename) {\r\n        try {\r\n            FileWriter writer = new FileWriter(filename);\r\n            for (String data : arrayList) {\r\n                writer.write(data + &quot;\\n&quot;);\r\n            }\r\n \r\n            writer.close();\r\n            Thread.sleep(1000);\r\n} \r\ncatch (Exception e) {\r\ne.printStackTrace();\r\n}\r\n}\r\n \r\npublic static void main(String[] args) {\r\n    Help.about();\r\n    boolean isStopwatchActive = false;\r\n    while (true) {\r\n        if (isStopwatchActive) {\r\n            Stopwatch stopwatch = new Stopwatch(); \r\n            stopwatch.setVisible(true);\r\n            while (true) {\r\n                stopwatch.setTimer();\r\n                if (!stopwatch.isRunning()) {\r\n                    isStopwatchActive = false;\r\n                    break;\r\n                }\r\n            }\r\n        } else {\r\n            ClockProject clock = new ClockProject();\r\n            clock.writeToFile(&quot;data.txt&quot;);\r\n            while (true) {\r\n                clock.setTimer();\r\n                if (clock.isStopwatchKeyPressed()) {\r\n                    isStopwatchActive = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n}\r\n```\r\nStopwatch class:\r\n\r\n```\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class Stopwatch extends ClockProject implements KeyListener {\r\n    private long startTime;\r\n    private boolean running;\r\n    private long elapsedTime;\r\n\r\n    // constructor and other methods\r\n\r\n    @Override\r\n    public void setTimer() {\r\n        if (!running) {\r\n            // add a KeyListener to the Frame\r\n            addKeyListener(this);\r\n            setFocusable(true);\r\n            startTime = System.currentTimeMillis();\r\n            running = true;\r\n        }\r\n        elapsedTime = System.currentTimeMillis() - startTime;\r\n        Long hours = elapsedTime / 3600000;\r\n        long minutes = (elapsedTime / 60000) % 60;\r\n        long seconds = (elapsedTime / 1000) % 60;\r\n        timeLabel.setText(String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds));\r\n        try {\r\n            Thread.sleep(18);\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    // Implement the KeyListener methods to stop the stopwatch\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        if (e.getKeyCode() == KeyEvent.VK_SPACE) {\r\n            running = false;\r\n            removeKeyListener(this);\r\n            Stopwatch stopwatch = new Stopwatch();\r\n            stopwatch.setVisible(true);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n        // not used\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        // not used\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nI tried finding the reason why the setTimer method could not be used as a boolean type but could not figure it out. ","title":"Hello, I&#39;m making a digital clock that will change to a stopwatch when the spacebar is pressed. What is wrong with my code?","body":"<p>The code shows that the &quot;setTimer&quot; method is not applicable for the boolean type and the methods &quot;isRunning&quot; and &quot;isStopwatchKeyPressed&quot; are undefined.</p>\n<p>ClockProject Class:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.FileWriter;\nimport java.text.SimpleDateFormat;\nimport java.util.ArrayList;\nimport java.util.Calendar;\n \n \npublic class ClockProject extends JFrame implements KeyListener {\n    Calendar calendar;\n    SimpleDateFormat timeFormat;\n    SimpleDateFormat dayFormat;\n    SimpleDateFormat dateFormat;\n \n    JLabel timeLabel;\n    JLabel dayLabel;\n    JLabel dateLabel;\n    String time;\n    String day;\n    String date;\n    ArrayList&lt;String&gt; arrayList;\n \n    //Sets format and appearance of the clock\n    public ClockProject() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setTitle(&quot;Ryan's Digital Clock&quot;);\n        setLayout(new FlowLayout());\n        setSize(350, 220);\n        setResizable(false);\n        timeFormat = new SimpleDateFormat(&quot;hh:mm:ss a&quot;);\n        dateFormat = new SimpleDateFormat(&quot;EEEE&quot;);\n        dayFormat = new SimpleDateFormat(&quot;dd MMMM, yyyy&quot;);\n \n        timeLabel = new JLabel();\n        timeLabel.setFont(new Font(&quot;SANS_SERIF&quot;, Font.PLAIN, 59));\n        timeLabel.setBackground(Color.BLACK);\n        timeLabel.setForeground(Color.WHITE);\n        timeLabel.setOpaque(true);\n \n        dayLabel = new JLabel();\n        dayLabel.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 34));\n        dateLabel = new JLabel();\n        dateLabel.setFont(new Font(&quot;Ink Free&quot;, Font.BOLD, 30));\n        add(timeLabel);\n        add(dayLabel);\n        add(dateLabel);\n        setVisible(true);\n        arrayList = new ArrayList&lt;String&gt;();\n        readFromFile(&quot;data.txt&quot;);\n        for (String data : arrayList) {\n            System.out.println(data);\n        }\n        setTimer();\n        addKeyListener(this);\n        setFocusable(true);\n    }\n \n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_SPACE) {\n            setTimer(false); //stop the clock\n            Stopwatch stopwatch = new Stopwatch();\n            stopwatch.setVisible(true); //open the stopwatch\n            removeKeyListener(this); //remove the key listener from the frame\n        }\n    }\n \n    @Override\n    public void keyTyped(KeyEvent e) {\n    }\n \n    @Override\n    public void keyReleased(KeyEvent e) {\n    }\n \n    // Count control using a while loop in setTimer() method\n    public void setTimer() {\n        int counter = 0;\n        while (true) {\n            time = timeFormat.format(Calendar.getInstance().getTime());\n            timeLabel.setText(time);\n            day = dayFormat.format(Calendar.getInstance().getTime());\n            dayLabel.setText(day);\n            date = dateFormat.format(Calendar.getInstance().getTime());\n            dateLabel.setText(date);\n            if (counter % 2 == 0) {\n                timeLabel.setForeground(Color.RED);\n            } else {\n                timeLabel.setForeground(Color.WHITE);\n            }\n            try {\n                Thread.sleep(1000);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n            counter++;\n        }\n    }\n \n    // Polymorphism using method overloading for readFromFile() method.\n    public void readFromFile(String filename) {\n        try {\n            BufferedReader reader = new BufferedReader(new FileReader(filename));\n            String line = reader.readLine();\n            while (line != null) {\n                arrayList.add(line);\n                line = reader.readLine();\n            }\n            reader.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n \n    public void writeToFile(String filename) {\n        try {\n            FileWriter writer = new FileWriter(filename);\n            for (String data : arrayList) {\n                writer.write(data + &quot;\\n&quot;);\n            }\n \n            writer.close();\n            Thread.sleep(1000);\n} \ncatch (Exception e) {\ne.printStackTrace();\n}\n}\n \npublic static void main(String[] args) {\n    Help.about();\n    boolean isStopwatchActive = false;\n    while (true) {\n        if (isStopwatchActive) {\n            Stopwatch stopwatch = new Stopwatch(); \n            stopwatch.setVisible(true);\n            while (true) {\n                stopwatch.setTimer();\n                if (!stopwatch.isRunning()) {\n                    isStopwatchActive = false;\n                    break;\n                }\n            }\n        } else {\n            ClockProject clock = new ClockProject();\n            clock.writeToFile(&quot;data.txt&quot;);\n            while (true) {\n                clock.setTimer();\n                if (clock.isStopwatchKeyPressed()) {\n                    isStopwatchActive = true;\n                    break;\n                }\n            }\n        }\n    }\n}\n}\n</code></pre>\n<p>Stopwatch class:</p>\n<pre><code>import java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class Stopwatch extends ClockProject implements KeyListener {\n    private long startTime;\n    private boolean running;\n    private long elapsedTime;\n\n    // constructor and other methods\n\n    @Override\n    public void setTimer() {\n        if (!running) {\n            // add a KeyListener to the Frame\n            addKeyListener(this);\n            setFocusable(true);\n            startTime = System.currentTimeMillis();\n            running = true;\n        }\n        elapsedTime = System.currentTimeMillis() - startTime;\n        Long hours = elapsedTime / 3600000;\n        long minutes = (elapsedTime / 60000) % 60;\n        long seconds = (elapsedTime / 1000) % 60;\n        timeLabel.setText(String.format(&quot;%02d:%02d:%02d&quot;, hours, minutes, seconds));\n        try {\n            Thread.sleep(18);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    // Implement the KeyListener methods to stop the stopwatch\n    @Override\n    public void keyPressed(KeyEvent e) {\n        if (e.getKeyCode() == KeyEvent.VK_SPACE) {\n            running = false;\n            removeKeyListener(this);\n            Stopwatch stopwatch = new Stopwatch();\n            stopwatch.setVisible(true);\n        }\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // not used\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // not used\n    }\n}\n</code></pre>\n<p>I tried finding the reason why the setTimer method could not be used as a boolean type but could not figure it out.</p>\n"},{"tags":["java","html","spring-boot"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684304484,"post_id":76267893,"comment_id":134496795,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3027001,"reputation":156,"user_id":2566770,"display_name":"rodpold"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684303504,"creation_date":1684303504,"answer_id":76268987,"question_id":76267893,"body_markdown":"You are better off writing the source code yourself instead of the image.\r\n\r\nif you using @ModelAttribute need setter method.\r\n\r\nI can&#39;t see your Member class. but maybe your member_id variable does not set setter method. so you have to make a setter method.\r\n\r\n    public void setMember_id(String member_id) {\r\n        this.member_id = member_id;\r\n    }\r\n\r\nif you using lombok annotation just add @Setter annotation on you class name\r\n\r\n    @Setter\r\n    public class Member ...\r\n\r\nAnd because of @RequestBody it can be confusing. Because it doesn&#39;t need a setter.","title":"I don&#39;t know why the object comes out to Null even if I use the @ModelAttribute","body":"<p>You are better off writing the source code yourself instead of the image.</p>\n<p>if you using @ModelAttribute need setter method.</p>\n<p>I can't see your Member class. but maybe your member_id variable does not set setter method. so you have to make a setter method.</p>\n<pre><code>public void setMember_id(String member_id) {\n    this.member_id = member_id;\n}\n</code></pre>\n<p>if you using lombok annotation just add @Setter annotation on you class name</p>\n<pre><code>@Setter\npublic class Member ...\n</code></pre>\n<p>And because of @RequestBody it can be confusing. Because it doesn't need a setter.</p>\n"}],"owner":{"account_id":28616365,"reputation":1,"user_id":21910257,"display_name":"kingkang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684303504,"creation_date":1684284154,"question_id":76267893,"body_markdown":"[[enter image description here](https://i.stack.imgur.com/wBAVi.png)](https://i.stack.imgur.com/0DMiE.png)\r\nI don&#39;t know why the object comes out to Null even if I use the model attribute\r\n\r\nI don&#39;t know because it hasn&#39;t been fixed even when I change the value of the model attribute. I need help","title":"I don&#39;t know why the object comes out to Null even if I use the @ModelAttribute","body":"<p>[<a href=\"https://i.stack.imgur.com/wBAVi.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/0DMiE.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/0DMiE.png</a>)\nI don't know why the object comes out to Null even if I use the model attribute</p>\n<p>I don't know because it hasn't been fixed even when I change the value of the model attribute. I need help</p>\n"},{"tags":["java","aggregate","odata","olingo","odata-v4"],"owner":{"account_id":17268121,"reputation":149,"user_id":12504411,"display_name":"prathyusha magam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684302946,"creation_date":1684128853,"question_id":76251114,"body_markdown":"We&#39;ve reference for using $apply query option in odata uri at client side(http://docs.oasis-open.org/odata/odata-data-aggregation-ext/v4.0/cs01/odata-data-aggregation-ext-v4.0-cs01.html).\r\n\r\nCan anyone please let me know how to use olingo lib for server usage to handle $apply.\r\nThe link, https://olingo.apache.org/doc/odata4/ only shows about handling other system query options except $apply.","title":"How to handle $apply system query option at server side in odata using olingo lib?","body":"<p>We've reference for using $apply query option in odata uri at client side(<a href=\"http://docs.oasis-open.org/odata/odata-data-aggregation-ext/v4.0/cs01/odata-data-aggregation-ext-v4.0-cs01.html\" rel=\"nofollow noreferrer\">http://docs.oasis-open.org/odata/odata-data-aggregation-ext/v4.0/cs01/odata-data-aggregation-ext-v4.0-cs01.html</a>).</p>\n<p>Can anyone please let me know how to use olingo lib for server usage to handle $apply.\nThe link, <a href=\"https://olingo.apache.org/doc/odata4/\" rel=\"nofollow noreferrer\">https://olingo.apache.org/doc/odata4/</a> only shows about handling other system query options except $apply.</p>\n"},{"tags":["java","jackson","jackson-dataformat-csv"],"answers":[{"tags":[],"owner":{"account_id":1662902,"reputation":455,"user_id":1530836,"accept_rate":93,"display_name":"Kaninchen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684302782,"creation_date":1684302782,"answer_id":76268920,"question_id":76251440,"body_markdown":"With further digging and some tips from the jackson lib&#39;s member, it turn out that isn&#39;t my WAR&#39;s fault but JBoss. Their default setting would use a module call `resteasy-jackson2-provider` and it will be using `jackson-core` and `jackson-databind` as part of its dependencies even if your server config doesn&#39;t includes them. It&#39;s indirect dependency.\r\n\r\nThere are two ways to resolve this issue, I prefer first one for less trouble.\r\n\r\n 1. Exclude them in your `jboss-deployment-structure.xml`\r\n\r\n    As I mentioned that this is **indirect dependency**. So the lib that you have to exclude would be `resteasy-jackson2-provider`. Add them all to exclusions if you&#39;re not sure that the other JBoss would include them or not.\r\n\r\n \t\t&lt;exclusions&gt;\r\n\t\t\t&lt;module name=&quot;com.fasterxml.jackson.core.jackson-core&quot; /&gt;\r\n\t\t\t&lt;module name=&quot;com.fasterxml.jackson.core.jackson-databind&quot; /&gt;\r\n\t\t\t&lt;module name=&quot;org.jboss.resteasy.resteasy-jackson2-provider&quot; /&gt;\r\n\t\t&lt;/exclusions&gt;\r\n\r\n 2. Update JBoss&#39;s modules\r\n    \r\n    Well, this WILL be super annoying if you have many of them.","title":"Jackson dataformat csv NoSuchMethodError createContentReference","body":"<p>With further digging and some tips from the jackson lib's member, it turn out that isn't my WAR's fault but JBoss. Their default setting would use a module call <code>resteasy-jackson2-provider</code> and it will be using <code>jackson-core</code> and <code>jackson-databind</code> as part of its dependencies even if your server config doesn't includes them. It's indirect dependency.</p>\n<p>There are two ways to resolve this issue, I prefer first one for less trouble.</p>\n<ol>\n<li><p>Exclude them in your <code>jboss-deployment-structure.xml</code></p>\n<p>As I mentioned that this is <strong>indirect dependency</strong>. So the lib that you have to exclude would be <code>resteasy-jackson2-provider</code>. Add them all to exclusions if you're not sure that the other JBoss would include them or not.</p>\n<pre><code>&lt;exclusions&gt;\n    &lt;module name=&quot;com.fasterxml.jackson.core.jackson-core&quot; /&gt;\n    &lt;module name=&quot;com.fasterxml.jackson.core.jackson-databind&quot; /&gt;\n    &lt;module name=&quot;org.jboss.resteasy.resteasy-jackson2-provider&quot; /&gt;\n&lt;/exclusions&gt;\n</code></pre>\n</li>\n<li><p>Update JBoss's modules</p>\n<p>Well, this WILL be super annoying if you have many of them.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":1662902,"reputation":455,"user_id":1530836,"accept_rate":93,"display_name":"Kaninchen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76268920,"answer_count":1,"score":0,"last_activity_date":1684302782,"creation_date":1684132738,"question_id":76251440,"body_markdown":"I&#39;m using `jackson-dataformat-csv 2.15.0` with following code to export my data into an text file\r\n\r\n                List&lt;HashMap&lt;String, String&gt;&gt; data = &lt;list of data&gt;;\r\n                PrintWriter out = new PrintWriter(new File(FILE_PATH));\r\n                CsvSchema schema = null;\r\n    \t\t\tCsvSchema.Builder schemaBuilder = CsvSchema.builder();\r\n    \t\t\t// output verify list record\r\n    \t\t\tif (data != null &amp;&amp; !data.isEmpty()) {\r\n    \t\t\t\tschema = schemaBuilder.addColumn(&quot;ID&quot;).addColumn(&quot;Date&quot;).build()\r\n    \t\t\t\t\t\t.withLineSeparator(&quot;\\r&quot;).withHeader();\r\n    \r\n    \t\t\t\tCsvMapper mapper = new CsvMapper();\r\n    \t\t\t\tmapper.writer(schema).writeValues(out).writeAll(data);\r\n    \t\t\t}\r\n                out.close();\r\n\r\nBut it just pop up error\r\n\r\n    2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394) Exception in thread &quot;Thread-394&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.dataformat.csv.CsvFactory._createContentReference(Ljava/lang/Object;)Lcom/fasterxml/jackson/core/io/ContentReference;\r\n    \r\n    2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394) \tat com.fasterxml.jackson.dataformat.csv.CsvFactory.createGenerator(CsvFactory.java:372)\r\n    \r\n    2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394) \tat com.fasterxml.jackson.dataformat.csv.CsvFactory.createGenerator(CsvFactory.java:16)\r\n    \r\n    2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394) \tat com.fasterxml.jackson.databind.ObjectWriter.createGenerator(ObjectWriter.java:703)\r\n    \r\n    2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394) \tat com.fasterxml.jackson.databind.ObjectWriter.writeValues(ObjectWriter.java:789)\r\n\r\nI have checked maven hierarchy, those conflicted jackson libs are ommited. I also checked the exported WAR that its `jackson-core`, `jackson-annotations`, `jackson-databind`, and `jackson-dataformat-csv` are `2.15.0` and no other old-duplicated lib. No error reported from my eclipse about method not found or otherwise. Does anyone know what happen about this?","title":"Jackson dataformat csv NoSuchMethodError createContentReference","body":"<p>I'm using <code>jackson-dataformat-csv 2.15.0</code> with following code to export my data into an text file</p>\n<pre><code>            List&lt;HashMap&lt;String, String&gt;&gt; data = &lt;list of data&gt;;\n            PrintWriter out = new PrintWriter(new File(FILE_PATH));\n            CsvSchema schema = null;\n            CsvSchema.Builder schemaBuilder = CsvSchema.builder();\n            // output verify list record\n            if (data != null &amp;&amp; !data.isEmpty()) {\n                schema = schemaBuilder.addColumn(&quot;ID&quot;).addColumn(&quot;Date&quot;).build()\n                        .withLineSeparator(&quot;\\r&quot;).withHeader();\n\n                CsvMapper mapper = new CsvMapper();\n                mapper.writer(schema).writeValues(out).writeAll(data);\n            }\n            out.close();\n</code></pre>\n<p>But it just pop up error</p>\n<pre><code>2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394) Exception in thread &quot;Thread-394&quot; java.lang.NoSuchMethodError: com.fasterxml.jackson.dataformat.csv.CsvFactory._createContentReference(Ljava/lang/Object;)Lcom/fasterxml/jackson/core/io/ContentReference;\n\n2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394)     at com.fasterxml.jackson.dataformat.csv.CsvFactory.createGenerator(CsvFactory.java:372)\n\n2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394)     at com.fasterxml.jackson.dataformat.csv.CsvFactory.createGenerator(CsvFactory.java:16)\n\n2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394)     at com.fasterxml.jackson.databind.ObjectWriter.createGenerator(ObjectWriter.java:703)\n\n2023-05-14 14:11:25,865 ERROR [stderr] (Thread-394)     at com.fasterxml.jackson.databind.ObjectWriter.writeValues(ObjectWriter.java:789)\n</code></pre>\n<p>I have checked maven hierarchy, those conflicted jackson libs are ommited. I also checked the exported WAR that its <code>jackson-core</code>, <code>jackson-annotations</code>, <code>jackson-databind</code>, and <code>jackson-dataformat-csv</code> are <code>2.15.0</code> and no other old-duplicated lib. No error reported from my eclipse about method not found or otherwise. Does anyone know what happen about this?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":0,"creation_date":1421678411,"post_id":28026845,"comment_id":44439368,"body_markdown":"Very good question! I would like to see a wise answer of this question.","body":"Very good question! I would like to see a wise answer of this question."}],"answers":[{"comments":[{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":0,"creation_date":1421681024,"post_id":28027582,"comment_id":44441007,"body_markdown":"Yes, I have been writing selenium tests for a while now and never had to use that. But, can you at least show a high level implementation of that though?","body":"Yes, I have been writing selenium tests for a while now and never had to use that. But, can you at least show a high level implementation of that though?"},{"owner":{"account_id":4725054,"reputation":16161,"user_id":3821981,"accept_rate":62,"display_name":"Saifur"},"score":0,"creation_date":1421682320,"post_id":28027582,"comment_id":44441821,"body_markdown":"Appreciate that @ sircapsalot","body":"Appreciate that @ sircapsalot"},{"owner":{"account_id":427496,"reputation":853,"user_id":809289,"accept_rate":79,"display_name":"k-den"},"score":9,"creation_date":1424384076,"post_id":28027582,"comment_id":45539024,"body_markdown":"According to the documentation here: https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html the ExpectedCondition.refreshed() expects another ExpectedCondition, and not a WebElement as in your example.  Could you explain or update your example?  Thanks.","body":"According to the documentation here: <a href=\"https://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html\" rel=\"nofollow noreferrer\">selenium.googlecode.com/git/docs/api/java/org/openqa/seleniu&zwnj;&#8203;m/&hellip;</a> the ExpectedCondition.refreshed() expects another ExpectedCondition, and not a WebElement as in your example.  Could you explain or update your example?  Thanks."},{"owner":{"account_id":2744942,"reputation":353,"user_id":2365564,"accept_rate":60,"display_name":"Shoaib Shaikh"},"score":0,"creation_date":1437557109,"post_id":28027582,"comment_id":51074303,"body_markdown":"@sircapsalot the above issue is a common one, whenever a developer uses a &#39;AutoPostBack=&quot;true&quot;&#39; , you do fall in the sort of situation. [See](http://stackoverflow.com/questions/5116258/selenium-2-staleelementreferenceexception-when-using-dropdownlist-with-autopostb)","body":"@sircapsalot the above issue is a common one, whenever a developer uses a &#39;AutoPostBack=&quot;true&quot;&#39; , you do fall in the sort of situation. <a href=\"http://stackoverflow.com/questions/5116258/selenium-2-staleelementreferenceexception-when-using-dropdownlist-with-autopostb\">See</a>"}],"tags":[],"owner":{"account_id":1873413,"reputation":28421,"user_id":1695163,"accept_rate":79,"display_name":"ddavison"},"comment_count":4,"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1421682153,"creation_date":1421679862,"answer_id":28027582,"question_id":28026845,"body_markdown":"According to the source:\n\n&gt; Wrapper for a condition, which allows for elements to update by redrawing.\n&gt; This works around the problem of conditions which have two parts: find an\n&gt; element and then check for some condition on it. For these conditions it is\n&gt; possible that an element is located and then subsequently it is redrawn on\n&gt; the client. When this happens a {@link StaleElementReferenceException} is\n&gt; thrown when the second part of the condition is checked.\n\nSo basically, this is a method that waits until a DOM manipulation is finished on an object.  \n\nTypically, when you do `driver.findElement`  that object represents what the object is.\n\nWhen the DOM has manipulated, and say after clicking a button, adds a class to that element.  If you try to perform an action on said element, it will throw `StaleElementReferenceException`  since now the `WebElement` returned now does not represent the updated element.\n\nYou&#39;ll use `refreshed` when you expect DOM manipulation to occur, and you want to wait until it&#39;s done being manipulated in the DOM.\n\n### Example:\n\n    &lt;body&gt;\n      &lt;button id=&quot;myBtn&quot; class=&quot;&quot; onmouseover=&quot;this.class = \\&quot;hovered\\&quot;;&quot; /&gt;\n    &lt;/body&gt;\n    \n    // pseudo-code\n    1. WebElement button = driver.findElement(By.id(&quot;myBtn&quot;)); // right now, if you read the Class, it will return &quot;&quot;\n    2. button.hoverOver(); // now the class will be &quot;hovered&quot;\n    3. wait.until(ExpectedConditions.refreshed(button));\n    4. button = driver.findElement(By.id(&quot;myBtn&quot;)); // by this point, the DOM manipulation should have finished since we used refreshed.\n    5. button.getClass();  // will now == &quot;hovered&quot;\n\n_Note that if you perform say a `button.click()` at line #3, it will throw a StaleReferenceException since the DOM has been manipulated at this point._\n\nIn my years of using Selenium, I&#39;ve never had to use this condition, so I believe that it is an &quot;edge case&quot; situation, that you most likely won&#39;t even have to worry about using.  Hope this helps!","title":"How and when to implement refreshed(ExpectedCondition&lt;T&gt; condition) of Selenium WebDriver?","body":"<p>According to the source:</p>\n<blockquote>\n<p>Wrapper for a condition, which allows for elements to update by redrawing.\nThis works around the problem of conditions which have two parts: find an\nelement and then check for some condition on it. For these conditions it is\npossible that an element is located and then subsequently it is redrawn on\nthe client. When this happens a {@link StaleElementReferenceException} is\nthrown when the second part of the condition is checked.</p>\n</blockquote>\n<p>So basically, this is a method that waits until a DOM manipulation is finished on an object.</p>\n<p>Typically, when you do <code>driver.findElement</code>  that object represents what the object is.</p>\n<p>When the DOM has manipulated, and say after clicking a button, adds a class to that element.  If you try to perform an action on said element, it will throw <code>StaleElementReferenceException</code>  since now the <code>WebElement</code> returned now does not represent the updated element.</p>\n<p>You'll use <code>refreshed</code> when you expect DOM manipulation to occur, and you want to wait until it's done being manipulated in the DOM.</p>\n<h3>Example:</h3>\n<pre><code>&lt;body&gt;\n  &lt;button id=&quot;myBtn&quot; class=&quot;&quot; onmouseover=&quot;this.class = \\&quot;hovered\\&quot;;&quot; /&gt;\n&lt;/body&gt;\n\n// pseudo-code\n1. WebElement button = driver.findElement(By.id(&quot;myBtn&quot;)); // right now, if you read the Class, it will return &quot;&quot;\n2. button.hoverOver(); // now the class will be &quot;hovered&quot;\n3. wait.until(ExpectedConditions.refreshed(button));\n4. button = driver.findElement(By.id(&quot;myBtn&quot;)); // by this point, the DOM manipulation should have finished since we used refreshed.\n5. button.getClass();  // will now == &quot;hovered&quot;\n</code></pre>\n<p><em>Note that if you perform say a <code>button.click()</code> at line #3, it will throw a StaleReferenceException since the DOM has been manipulated at this point.</em></p>\n<p>In my years of using Selenium, I've never had to use this condition, so I believe that it is an &quot;edge case&quot; situation, that you most likely won't even have to worry about using.  Hope this helps!</p>\n"},{"comments":[{"owner":{"account_id":3340410,"reputation":5354,"user_id":2806819,"accept_rate":97,"display_name":"k_rollo"},"score":0,"creation_date":1561524041,"post_id":44791057,"comment_id":100086814,"body_markdown":"This is really good, was facing the same with search results.","body":"This is really good, was facing the same with search results."}],"tags":[],"owner":{"account_id":8251305,"reputation":912,"user_id":6205848,"display_name":"HaC"},"comment_count":1,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1498603330,"creation_date":1498603330,"answer_id":44791057,"question_id":28026845,"body_markdown":"The `refreshed` method has been very helpful for me when trying to access a search result that has been newly refreshed. Trying to wait on the search result by just `ExpectedConditions.elementToBeClickable(...)` returns `StaleElementReferenceException`. To work around that, this is the helper method that would wait and retry for a max of 30s for the search element to be refreshed and clickable. \r\n\r\n    public WebElement waitForElementToBeRefreshedAndClickable(WebDriver driver, By by) {\r\n        return new WebDriverWait(driver, 30)\r\n                .until(ExpectedConditions.refreshed(\r\n                        ExpectedConditions.elementToBeClickable(by)));\r\n    }\r\n\r\nThen to click on the result after searching:\r\n\r\n    waitForElementToBeRefreshedAndClickable(driver, By.cssSelector(&quot;css_selector_to_search_result_link&quot;)).click();\r\n\r\nHope this was helpful for others. \r\n\r\n","title":"How and when to implement refreshed(ExpectedCondition&lt;T&gt; condition) of Selenium WebDriver?","body":"<p>The <code>refreshed</code> method has been very helpful for me when trying to access a search result that has been newly refreshed. Trying to wait on the search result by just <code>ExpectedConditions.elementToBeClickable(...)</code> returns <code>StaleElementReferenceException</code>. To work around that, this is the helper method that would wait and retry for a max of 30s for the search element to be refreshed and clickable. </p>\n\n<pre><code>public WebElement waitForElementToBeRefreshedAndClickable(WebDriver driver, By by) {\n    return new WebDriverWait(driver, 30)\n            .until(ExpectedConditions.refreshed(\n                    ExpectedConditions.elementToBeClickable(by)));\n}\n</code></pre>\n\n<p>Then to click on the result after searching:</p>\n\n<pre><code>waitForElementToBeRefreshedAndClickable(driver, By.cssSelector(\"css_selector_to_search_result_link\")).click();\n</code></pre>\n\n<p>Hope this was helpful for others. </p>\n"},{"tags":[],"owner":{"account_id":28616481,"reputation":1,"user_id":21910352,"display_name":"Geom George"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684302592,"creation_date":1684286072,"answer_id":76267983,"question_id":28026845,"body_markdown":"Should be like this\r\n\r\n    wait.until(ExpectedConditions.refreshed(ExpectedConditions.presenceOfElementLocated(By.id(&quot;myBtn&quot;))));","title":"How and when to implement refreshed(ExpectedCondition&lt;T&gt; condition) of Selenium WebDriver?","body":"<p>Should be like this</p>\n<pre><code>wait.until(ExpectedConditions.refreshed(ExpectedConditions.presenceOfElementLocated(By.id(&quot;myBtn&quot;))));\n</code></pre>\n"}],"owner":{"account_id":1587389,"reputation":13480,"user_id":1471417,"accept_rate":50,"display_name":"Alpha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19967,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":28027582,"answer_count":3,"score":15,"last_activity_date":1684302592,"creation_date":1421677531,"question_id":28026845,"body_markdown":"I was going through methods of `ExpectedCondtions` class and found one method: [refreshed][1]\r\n\r\nI can understand that the method can be used when you get `StaleElementReferenceException` and you want to retrieve that element again and this way to avoid `StaleElementReferenceException`\r\n\r\nMy above understanding might not be correct hence I want to confirm:\r\n\r\n1. When `refreshed` should be used?\r\n2. What should be the code for `something` part of following code:\r\n\r\n\r\n`wait.until(ExpectedConditions.refreshed(**something**));`\r\n\r\nCan someone please explain this with an example?\r\n\r\n\r\n\r\n  [1]: http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#refreshed(org.openqa.selenium.support.ui.ExpectedCondition)","title":"How and when to implement refreshed(ExpectedCondition&lt;T&gt; condition) of Selenium WebDriver?","body":"<p>I was going through methods of <code>ExpectedCondtions</code> class and found one method: <a href=\"http://selenium.googlecode.com/git/docs/api/java/org/openqa/selenium/support/ui/ExpectedConditions.html#refreshed(org.openqa.selenium.support.ui.ExpectedCondition)\">refreshed</a></p>\n\n<p>I can understand that the method can be used when you get <code>StaleElementReferenceException</code> and you want to retrieve that element again and this way to avoid <code>StaleElementReferenceException</code></p>\n\n<p>My above understanding might not be correct hence I want to confirm:</p>\n\n<ol>\n<li>When <code>refreshed</code> should be used?</li>\n<li>What should be the code for <code>something</code> part of following code:</li>\n</ol>\n\n<p><code>wait.until(ExpectedConditions.refreshed(**something**));</code></p>\n\n<p>Can someone please explain this with an example?</p>\n"},{"tags":["java","gradle","build.gradle"],"comments":[{"owner":{"account_id":235131,"reputation":2628,"user_id":501739,"accept_rate":67,"display_name":"Jolta"},"score":4,"creation_date":1428093451,"post_id":29427020,"comment_id":47047380,"body_markdown":"This seems unnecessary, based on the given information. If neither the application code nor the test code have changed, why do you need to re-run the tests?","body":"This seems unnecessary, based on the given information. If neither the application code nor the test code have changed, why do you need to re-run the tests?"},{"owner":{"account_id":1188061,"reputation":5354,"user_id":1161594,"accept_rate":79,"display_name":"USer22999299"},"score":13,"creation_date":1428141913,"post_id":29427020,"comment_id":47057493,"body_markdown":"@Jolta Some of the tests in my code are related on  3-party inputs, I&#39;m running my tests not only to make sure i did not put any bug inside the code, also to check if something change on the 3-party inputs that i&#39;m getting","body":"@Jolta Some of the tests in my code are related on  3-party inputs, I&#39;m running my tests not only to make sure i did not put any bug inside the code, also to check if something change on the 3-party inputs that i&#39;m getting"},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":4,"creation_date":1475429445,"post_id":29427020,"comment_id":66929573,"body_markdown":"Sorry to be nit-picky, but I don&#39;t really think this is the correct way of thinking about this: if you have variable 3-party inputs isn&#39;t the correct way of dealing with this to mock these inputs in some way?  Testing should actually be about testing the code you&#39;re writing.  Aren&#39;t you in fairly obvious danger of getting false-positives if you&#39;re relying on 3-party input to be unacceptable?  Shouldn&#39;t the strategy be to cater for problem input as part of your app code?","body":"Sorry to be nit-picky, but I don&#39;t really think this is the correct way of thinking about this: if you have variable 3-party inputs isn&#39;t the correct way of dealing with this to mock these inputs in some way?  Testing should actually be about testing the code you&#39;re writing.  Aren&#39;t you in fairly obvious danger of getting false-positives if you&#39;re relying on 3-party input to be unacceptable?  Shouldn&#39;t the strategy be to cater for problem input as part of your app code?"},{"owner":{"account_id":1762499,"reputation":5333,"user_id":1609201,"accept_rate":64,"display_name":"Elist"},"score":10,"creation_date":1484213814,"post_id":29427020,"comment_id":70420711,"body_markdown":"@mikerodent consider testing your code against a 3rd party online service. You would want to monitor possible changes in the service API to be able to respond with deployed fixes ASAP. Isn&#39;t CI tests a good way of doing that? Using a mock will only tell you your own code doesn&#39;t have regressions, but the dependencies still might have changes. using the real service would indicate that your product can actually perform the expected operations in the current environment.","body":"@mikerodent consider testing your code against a 3rd party online service. You would want to monitor possible changes in the service API to be able to respond with deployed fixes ASAP. Isn&#39;t CI tests a good way of doing that? Using a mock will only tell you your own code doesn&#39;t have regressions, but the dependencies still might have changes. using the real service would indicate that your product can actually perform the expected operations in the current environment."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":1,"creation_date":1484243778,"post_id":29427020,"comment_id":70441144,"body_markdown":"@Elist I understand what you&#39;re saying... but 2 points: first, if your app has to cater for third party inputs changing, this versatility (including the ability to &quot;hang up the phone&quot; gracefully and cleanly and in a non-puzzling way during a run) needs to be part of your *app* code, not your testing code, and you have to anticipate *in your app* this input becoming incomprehensible.  A secondary point is that the testing suites for your app shouldn&#39;t show fails or passes which result from &quot;random&quot; outside input: your tests should only be to tell you one thing: is your app a functional thing?","body":"@Elist I understand what you&#39;re saying... but 2 points: first, if your app has to cater for third party inputs changing, this versatility (including the ability to &quot;hang up the phone&quot; gracefully and cleanly and in a non-puzzling way during a run) needs to be part of your <i>app</i> code, not your testing code, and you have to anticipate <i>in your app</i> this input becoming incomprehensible.  A secondary point is that the testing suites for your app shouldn&#39;t show fails or passes which result from &quot;random&quot; outside input: your tests should only be to tell you one thing: is your app a functional thing?"},{"owner":{"account_id":1762499,"reputation":5333,"user_id":1609201,"accept_rate":64,"display_name":"Elist"},"score":0,"creation_date":1484296115,"post_id":29427020,"comment_id":70460473,"body_markdown":"@mikerodent of course the app should behave gracefully on failure, and of course this good behaviour should be tested as part of regression tests and only when your own code changes. But let&#39;s agree that the need of the software deployer to be alerted of changes in external (even &quot;random&quot;) dependencies and ship a hotfix ASAP can easily be addressed by running tests on unchanged code, tests which results does not have to appear as part of the testing suits of the app, but alert the product team in some other way. Inputs from an external source are sometimes an essential part of functionality.","body":"@mikerodent of course the app should behave gracefully on failure, and of course this good behaviour should be tested as part of regression tests and only when your own code changes. But let&#39;s agree that the need of the software deployer to be alerted of changes in external (even &quot;random&quot;) dependencies and ship a hotfix ASAP can easily be addressed by running tests on unchanged code, tests which results does not have to appear as part of the testing suits of the app, but alert the product team in some other way. Inputs from an external source are sometimes an essential part of functionality."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":0,"creation_date":1484331487,"post_id":29427020,"comment_id":70481905,"body_markdown":"@Elist yes, I really do see what you&#39;re saying... it&#39;s just that I&#39;m not really sure this is part of the &quot;testing&quot; phase of a project in the sense of TDD. You seem to think that this will help &quot;ship a hotfix ASAP&quot;... but when are planning to run these 3rd party input tests?  I suggest that if this 3rd party source is critical you&#39;d want your app to be testing this 3rd party source regularly: every day/hour/whatever.  Perhaps even set up a special service to do this... If it made sense you could use Gradle&#39;s Java classes as part of app code, if you like the way it handles task management.","body":"@Elist yes, I really do see what you&#39;re saying... it&#39;s just that I&#39;m not really sure this is part of the &quot;testing&quot; phase of a project in the sense of TDD. You seem to think that this will help &quot;ship a hotfix ASAP&quot;... but when are planning to run these 3rd party input tests?  I suggest that if this 3rd party source is critical you&#39;d want your app to be testing this 3rd party source regularly: every day/hour/whatever.  Perhaps even set up a special service to do this... If it made sense you could use Gradle&#39;s Java classes as part of app code, if you like the way it handles task management."},{"owner":{"account_id":2273,"reputation":132125,"user_id":3146,"accept_rate":79,"display_name":"1800 INFORMATION"},"score":7,"creation_date":1493948616,"post_id":29427020,"comment_id":74631070,"body_markdown":"This is also valid from an integration testing point of view where the point of the test is to validate the integration of your code with other bits of code, where it would be not appropriate to mock in dependancies","body":"This is also valid from an integration testing point of view where the point of the test is to validate the integration of your code with other bits of code, where it would be not appropriate to mock in dependancies"},{"owner":{"account_id":3774,"reputation":205987,"user_id":5486,"accept_rate":59,"display_name":"Ryan Lundy"},"score":1,"creation_date":1528107507,"post_id":29427020,"comment_id":88365954,"body_markdown":"It&#39;s also valid in case of Selenium tests, where timing issues can cause a test to fail sometimes and pass other times.  It&#39;s perfectly legitimate to run a test repeatedly to gain confidence that it&#39;s stable, and not passing by luck one time.","body":"It&#39;s also valid in case of Selenium tests, where timing issues can cause a test to fail sometimes and pass other times.  It&#39;s perfectly legitimate to run a test repeatedly to gain confidence that it&#39;s stable, and not passing by luck one time."},{"owner":{"account_id":10663356,"reputation":776,"user_id":7850685,"display_name":"Luzian"},"score":3,"creation_date":1535463987,"post_id":29427020,"comment_id":91069115,"body_markdown":"@mikerodent what a nonsense argument. For exactly the purpose of running tests regularly (every day/hour whatever) or even manually when it is suspected that something has changed in the 3rd party input, it is useful to be able re-run the tests if neither the application code nor the test code have change. Why not use gradle for this purpose? Re-running tests is a perfectly valid scenario, that&#39;s why the option --rerun-tasks exists, as a more helpful user points out in the accepted answer.","body":"@mikerodent what a nonsense argument. For exactly the purpose of running tests regularly (every day/hour whatever) or even manually when it is suspected that something has changed in the 3rd party input, it is useful to be able re-run the tests if neither the application code nor the test code have change. Why not use gradle for this purpose? Re-running tests is a perfectly valid scenario, that&#39;s why the option --rerun-tasks exists, as a more helpful user points out in the accepted answer."}],"answers":[{"comments":[{"owner":{"account_id":2687220,"reputation":1610,"user_id":2321368,"display_name":"dan.m was user2321368"},"score":8,"creation_date":1576623926,"post_id":29428063,"comment_id":104958530,"body_markdown":"```gradle cleanTest test``` does not rerun the tests, it cleans their output, but the ```test``` task will still get the test results from the cache -  see https://github.com/gradle/gradle/issues/9153","body":"<code>gradle cleanTest test</code> does not rerun the tests, it cleans their output, but the <code>test</code> task will still get the test results from the cache -  see <a href=\"https://github.com/gradle/gradle/issues/9153\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/issues/9153</a>"},{"owner":{"account_id":552103,"reputation":5002,"user_id":704945,"accept_rate":71,"display_name":"vRallev"},"score":17,"creation_date":1580241262,"post_id":29428063,"comment_id":106031160,"body_markdown":"The comment above is right. But if you use `--no-build-cache`, then it&#39;ll work as expected, e.g. `gradle cleanTest test --no-build-cache`.","body":"The comment above is right. But if you use <code>--no-build-cache</code>, then it&#39;ll work as expected, e.g. <code>gradle cleanTest test --no-build-cache</code>."},{"owner":{"account_id":9349134,"reputation":2323,"user_id":9910298,"display_name":"Mike Hardy"},"score":4,"creation_date":1618403142,"post_id":29428063,"comment_id":118589982,"body_markdown":"`--rerun-tasks` is just the ticket. `--no-build-cache` even with cleaning was not functional for me. Thanks @Amnon","body":"<code>--rerun-tasks</code> is just the ticket. <code>--no-build-cache</code> even with cleaning was not functional for me. Thanks @Amnon"},{"owner":{"account_id":186752,"reputation":8053,"user_id":424353,"accept_rate":88,"display_name":"Bogdan Calmac"},"score":2,"creation_date":1638494643,"post_id":29428063,"comment_id":124110213,"body_markdown":"`gradle cleanTest test` worked for me.","body":"<code>gradle cleanTest test</code> worked for me."},{"owner":{"account_id":5135780,"reputation":644,"user_id":4126765,"accept_rate":80,"display_name":"Andrzej Wąsowski"},"score":2,"creation_date":1653939252,"post_id":29428063,"comment_id":127968797,"body_markdown":"`--rerun-tasks` is a bad idea in a large project. It compiles everything from scratch, which can take ages, even if you just want to run a quick test in a local module.","body":"<code>--rerun-tasks</code> is a bad idea in a large project. It compiles everything from scratch, which can take ages, even if you just want to run a quick test in a local module."},{"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"score":0,"creation_date":1687125707,"post_id":29428063,"comment_id":134889416,"body_markdown":"@AndrzejWąsowski what would you do instead?","body":"@AndrzejWąsowski what would you do instead?"}],"tags":[],"owner":{"account_id":5375202,"reputation":9086,"user_id":4282370,"display_name":"Amnon Shochot"},"comment_count":6,"down_vote_count":5,"up_vote_count":260,"is_accepted":true,"score":255,"last_activity_date":1613924078,"creation_date":1428046189,"answer_id":29428063,"question_id":29427020,"body_markdown":"One option would be using the `--rerun-tasks` flag in the [Forcing tasks to execute][1] section. This would rerun all the the test task and all the tasks it depends on.\r\n\r\nIf you&#39;re only interested in rerunning the tests then another option would be to make gradle clean the tests results before executing the tests. This can be done using the `cleanTest` task. \r\n\r\nSome background - the Java plugin defines a clean tasks to each of the other tasks. According to the [Tasks][2] documentation:\r\n\r\n&gt; *cleanTaskName* - Deletes files created by specified task. cleanJar will delete the JAR file created by the jar task, and cleanTest will delete the test results created by the test task.\r\n\r\nTherefore, all you need in order to re-run your tests is to also run the `cleanTest` task, i.e.:    \r\n`gradle cleanTest test`\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/command_line_interface.html#sec:rerun_tasks\r\n  [2]: https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_tasks","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"<p>One option would be using the <code>--rerun-tasks</code> flag in the <a href=\"https://docs.gradle.org/current/userguide/command_line_interface.html#sec:rerun_tasks\" rel=\"noreferrer\">Forcing tasks to execute</a> section. This would rerun all the the test task and all the tasks it depends on.</p>\n<p>If you're only interested in rerunning the tests then another option would be to make gradle clean the tests results before executing the tests. This can be done using the <code>cleanTest</code> task.</p>\n<p>Some background - the Java plugin defines a clean tasks to each of the other tasks. According to the <a href=\"https://docs.gradle.org/current/userguide/java_plugin.html#sec:java_tasks\" rel=\"noreferrer\">Tasks</a> documentation:</p>\n<blockquote>\n<p><em>cleanTaskName</em> - Deletes files created by specified task. cleanJar will delete the JAR file created by the jar task, and cleanTest will delete the test results created by the test task.</p>\n</blockquote>\n<p>Therefore, all you need in order to re-run your tests is to also run the <code>cleanTest</code> task, i.e.:<br />\n<code>gradle cleanTest test</code></p>\n"},{"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":13,"creation_date":1573664053,"post_id":29428175,"comment_id":103957949,"body_markdown":"I think it will re-run all dependent tasks as well, which isn&#39;t the asker intended behavior.","body":"I think it will re-run all dependent tasks as well, which isn&#39;t the asker intended behavior."},{"owner":{"account_id":523682,"reputation":5868,"user_id":949327,"display_name":"Kenn Knowles"},"score":0,"creation_date":1655311719,"post_id":29428175,"comment_id":128304658,"body_markdown":"Yea this answer doesn&#39;t work at all, since it rebuilds and reruns zillions of unnecessary things.","body":"Yea this answer doesn&#39;t work at all, since it rebuilds and reruns zillions of unnecessary things."}],"tags":[],"owner":{"account_id":1322512,"reputation":18477,"user_id":1268003,"accept_rate":82,"display_name":"Martin Andersson"},"comment_count":2,"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1428046629,"creation_date":1428046629,"answer_id":29428175,"question_id":29427020,"body_markdown":"`gradle test --rerun-tasks`\r\n\r\n&gt; Specifies that any task optimization is ignored.\r\n\r\nSource: [https://gradle.org/docs/current/userguide/gradle_command_line.html](https://gradle.org/docs/current/userguide/gradle_command_line.html)","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"<p><code>gradle test --rerun-tasks</code></p>\n\n<blockquote>\n  <p>Specifies that any task optimization is ignored.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://gradle.org/docs/current/userguide/gradle_command_line.html\" rel=\"noreferrer\">https://gradle.org/docs/current/userguide/gradle_command_line.html</a></p>\n"},{"comments":[{"owner":{"account_id":60800,"reputation":1229,"user_id":181506,"accept_rate":60,"display_name":"pharsicle"},"score":1,"creation_date":1495808488,"post_id":36178581,"comment_id":75420477,"body_markdown":"I used this technique for a `funcTest` task I created to run functional tests.","body":"I used this technique for a <code>funcTest</code> task I created to run functional tests."},{"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"score":5,"creation_date":1515011199,"post_id":36178581,"comment_id":83144051,"body_markdown":"This is a much better approach than the accepted answer, as it will only be applied to the desired task. The `upToDateWhen` can be used in any &quot;code-driven&quot; way such as system properties, environment variables, project properties, etc.","body":"This is a much better approach than the accepted answer, as it will only be applied to the desired task. The <code>upToDateWhen</code> can be used in any &quot;code-driven&quot; way such as system properties, environment variables, project properties, etc."},{"owner":{"account_id":136578,"reputation":3188,"user_id":340175,"display_name":"JulianHarty"},"score":3,"creation_date":1572947380,"post_id":36178581,"comment_id":103711392,"body_markdown":"As answer https://stackoverflow.com/a/52484259/340175 mentions, there&#39;s a useful blog post https://blog.gradle.org/stop-rerunning-tests which explains why this approach is not recommended as a general approach. I agree however that it may be useful and does achive what the question asks.","body":"As answer <a href=\"https://stackoverflow.com/a/52484259/340175\">stackoverflow.com/a/52484259/340175</a> mentions, there&#39;s a useful blog post <a href=\"https://blog.gradle.org/stop-rerunning-tests\" rel=\"nofollow noreferrer\">blog.gradle.org/stop-rerunning-tests</a> which explains why this approach is not recommended as a general approach. I agree however that it may be useful and does achive what the question asks."},{"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"score":0,"creation_date":1572950634,"post_id":36178581,"comment_id":103713159,"body_markdown":"Yes, this is dated answer, when I wrote this Gradle was at version 2.11 and just started to be usable, but still had many rough edges, which are polished today.","body":"Yes, this is dated answer, when I wrote this Gradle was at version 2.11 and just started to be usable, but still had many rough edges, which are polished today."},{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":4,"creation_date":1573665119,"post_id":36178581,"comment_id":103958492,"body_markdown":"Great answer!!! Passed it using a parameter: `gradle test -Prerun-tests`. Code in build.gradle: ```if(project.hasProperty(&quot;rerun-tests&quot;))\n{\n\ttest.outputs.upToDateWhen {false}\n}\n```","body":"Great answer!!! Passed it using a parameter: <code>gradle test -Prerun-tests</code>. Code in build.gradle: <code>if(project.hasProperty(&quot;rerun-tests&quot;)) { \ttest.outputs.upToDateWhen {false} } </code>"},{"owner":{"account_id":7100578,"reputation":2612,"user_id":5432315,"accept_rate":71,"display_name":"Brad Turek"},"score":3,"creation_date":1665590555,"post_id":36178581,"comment_id":130738210,"body_markdown":"In Gradle 7.3+ you can use [`doNotTrackState(&quot;Tests should always run&quot;)`](https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:disable-state-tracking) to disable up-to-date checks.","body":"In Gradle 7.3+ you can use <a href=\"https://docs.gradle.org/current/userguide/more_about_tasks.html#sec:disable-state-tracking\" rel=\"nofollow noreferrer\"><code>doNotTrackState(&quot;Tests should always run&quot;)</code></a> to disable up-to-date checks."},{"owner":{"account_id":806575,"reputation":349,"user_id":917751,"display_name":"Hans"},"score":1,"creation_date":1675093013,"post_id":36178581,"comment_id":132848927,"body_markdown":"Thanks. This solution also work in combination with the gradle configuration-cache, unlike some other solutions.","body":"Thanks. This solution also work in combination with the gradle configuration-cache, unlike some other solutions."}],"tags":[],"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"comment_count":7,"down_vote_count":1,"up_vote_count":77,"is_accepted":false,"score":76,"last_activity_date":1458737089,"creation_date":1458737089,"answer_id":36178581,"question_id":29427020,"body_markdown":"Other option would be to add following in your build.gradle:\r\n\r\n    test.outputs.upToDateWhen {false}","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"<p>Other option would be to add following in your build.gradle:</p>\n\n<pre><code>test.outputs.upToDateWhen {false}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2687220,"reputation":1610,"user_id":2321368,"display_name":"dan.m was user2321368"},"score":3,"creation_date":1576624073,"post_id":39026897,"comment_id":104958570,"body_markdown":"running ```cleanTest``` before ```test``` will not rerun the tests, it cleans their output, but the test task will still get the test results from the cache - see github.com/gradle/gradle/issues/9153","body":"running <code>cleanTest</code> before <code>test</code> will not rerun the tests, it cleans their output, but the test task will still get the test results from the cache - see github.com/gradle/gradle/issues/9153"},{"owner":{"account_id":1979880,"reputation":709,"user_id":1776759,"display_name":"SMDC"},"score":0,"creation_date":1686733278,"post_id":39026897,"comment_id":134838382,"body_markdown":"this answer helped me","body":"this answer helped me"},{"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"score":0,"creation_date":1687126148,"post_id":39026897,"comment_id":134889446,"body_markdown":"Is there a way to make `gradle test` do this, but not `gradle build` ?","body":"Is there a way to make <code>gradle test</code> do this, but not <code>gradle build</code> ?"}],"tags":[],"owner":{"account_id":8065050,"reputation":141,"user_id":6079494,"display_name":"TealSeed"},"comment_count":3,"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1476802746,"creation_date":1471551881,"answer_id":39026897,"question_id":29427020,"body_markdown":"Here&#39;s a solution using the &quot;build.gradle&quot; file, in case you don&#39;t want to modify your command line:\r\n\r\n    test {\r\n        dependsOn &#39;cleanTest&#39;\r\n        //Your previous task details (if any)\r\n    }\r\n\r\nAnd here&#39;s the output. Notice 2 changes from your previous output:\r\n\r\n1) A new &#39;cleanTest&#39; task appears in the output.\r\n\r\n2) &#39;test&#39; is always cleaned (i.e. never &#39;UP-TO-DATE&#39;) so it gets executed every time:\r\n\r\n    $ gradle build\r\n    :compileJava UP-TO-DATE\r\n    :processResources UP-TO-DATE\r\n    :classes UP-TO-DATE\r\n    :findMainClass\r\n    :jar\r\n    :bootRepackage\r\n    :assemble\r\n    :cleanTest\r\n    :compileTestJava UP-TO-DATE\r\n    :processTestResources UP-TO-DATE\r\n    :testClasses UP-TO-DATE\r\n    :test\r\n    :check\r\n    :build","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"<p>Here's a solution using the \"build.gradle\" file, in case you don't want to modify your command line:</p>\n\n<pre><code>test {\n    dependsOn 'cleanTest'\n    //Your previous task details (if any)\n}\n</code></pre>\n\n<p>And here's the output. Notice 2 changes from your previous output:</p>\n\n<p>1) A new 'cleanTest' task appears in the output.</p>\n\n<p>2) 'test' is always cleaned (i.e. never 'UP-TO-DATE') so it gets executed every time:</p>\n\n<pre><code>$ gradle build\n:compileJava UP-TO-DATE\n:processResources UP-TO-DATE\n:classes UP-TO-DATE\n:findMainClass\n:jar\n:bootRepackage\n:assemble\n:cleanTest\n:compileTestJava UP-TO-DATE\n:processTestResources UP-TO-DATE\n:testClasses UP-TO-DATE\n:test\n:check\n:build\n</code></pre>\n"},{"comments":[{"owner":{"account_id":255643,"reputation":1952,"user_id":535827,"accept_rate":62,"display_name":"Brandon"},"score":18,"creation_date":1561088932,"post_id":52484259,"comment_id":99957904,"body_markdown":"This sounds great for the specific use case you are talking about, but I&#39;m writing post-deployment tests against a live external web service and just happen to be using junit and gradle to accomplish this.  The code under test doesn&#39;t live in the repo, and in fact there *is* no &#39;application code&#39; because I&#39;m actually testing a live production system rather than the code itself.  Thanks for the answer, this is very useful!  Just wanted to point out that there are additional use cases that do require rerunning the tests every time even if none of the code gradle knows about is changing","body":"This sounds great for the specific use case you are talking about, but I&#39;m writing post-deployment tests against a live external web service and just happen to be using junit and gradle to accomplish this.  The code under test doesn&#39;t live in the repo, and in fact there <i>is</i> no &#39;application code&#39; because I&#39;m actually testing a live production system rather than the code itself.  Thanks for the answer, this is very useful!  Just wanted to point out that there are additional use cases that do require rerunning the tests every time even if none of the code gradle knows about is changing"},{"owner":{"account_id":87092,"reputation":5028,"user_id":241750,"accept_rate":88,"display_name":"Sebastian"},"score":9,"creation_date":1598878381,"post_id":52484259,"comment_id":112591517,"body_markdown":"the author is missing a basic concept of testing: nondeterministic behavior. If you are suspicious a test is OK but the code has some bugs and is making the result nondeterministic, then, with this short-minded advice you will never get a stacktrace if it happens to succeed in the first run. Test should be ran the amount of times you want. Considering bad practice running test multiple is plain wrong and goes against the test concept.","body":"the author is missing a basic concept of testing: nondeterministic behavior. If you are suspicious a test is OK but the code has some bugs and is making the result nondeterministic, then, with this short-minded advice you will never get a stacktrace if it happens to succeed in the first run. Test should be ran the amount of times you want. Considering bad practice running test multiple is plain wrong and goes against the test concept."},{"owner":{"account_id":1281080,"reputation":1101,"user_id":1235165,"display_name":"hmijail"},"score":0,"creation_date":1655109805,"post_id":52484259,"comment_id":128243839,"body_markdown":"@Sebastian if you actually read the article, you&#39;ll see your case is covered explicitly.","body":"@Sebastian if you actually read the article, you&#39;ll see your case is covered explicitly."},{"owner":{"account_id":7510262,"reputation":470,"user_id":7390688,"display_name":"pullmyteeth"},"score":1,"creation_date":1691523930,"post_id":52484259,"comment_id":135502646,"body_markdown":"The author is also missing that since your elaborate hierarchy of gradle tasks is also code you&#39;ve written, it&#39;s just as likely to contain logic errors as the rest of your code. You&#39;re only ever one tiny little bug or forgotten declared input away from your tests not running when they should. I&#39;ve seen this happen so many times.","body":"The author is also missing that since your elaborate hierarchy of gradle tasks is also code you&#39;ve written, it&#39;s just as likely to contain logic errors as the rest of your code. You&#39;re only ever one tiny little bug or forgotten declared input away from your tests not running when they should. I&#39;ve seen this happen so many times."}],"tags":[],"owner":{"account_id":313216,"reputation":44997,"user_id":627727,"accept_rate":84,"display_name":"mkobit"},"comment_count":4,"down_vote_count":2,"up_vote_count":35,"is_accepted":false,"score":33,"last_activity_date":1537808998,"creation_date":1537808998,"answer_id":52484259,"question_id":29427020,"body_markdown":"&lt;!-- language-all: lang-groovy --&gt;\r\n\r\nThis was recently the topic on Gradle&#39;s blog post [*Stop rerunning your tests*][1]. The [author][2] shows an example using `outputs.upToDateWhen { false }` and explains why it is wrong:\r\n\r\n&gt; ### This doesn’t actually force reruns\r\n&gt;\r\n&gt; What the author of this snippet probably wanted to say is “Always rerun my tests”. That’s not what this snippet does though. It will only mark the task out-of-date, forcing Gradle to _recreate_ the output. But here’s the thing, if the build cache is enabled, Gradle doesn’t need to run the task to recreate the output. It will find an entry in the cache and unpack the result into the test’s output directory.\r\n&gt;\r\n&gt; The same is true for this snippet:\r\n&gt;\r\n&gt;     test.dependsOn cleanTest\r\n&gt;\r\n&gt;\r\n&gt; Gradle will unpack the test results from the build cache after the output has been cleaned, so nothing will be rerun. In short, these snippets are creating a very expensive no-op.\r\n&gt;\r\n&gt; If you’re now thinking “Okay, I’ll deactivate the cache too”, let me tell you why you shouldn’t.\r\n\r\nThen, the author goes on to explain why rerunning some tests is a waste of time:\r\n\r\n&gt; The vast majority of your tests should be deterministic, i.e. given the same inputs they should produce the same result.\r\n\r\nIn the few cases where you do want to rerun tests where the code has not changed, you should model them as an input. Here are both examples from the blog post that show adding an input so the task will use it during its up-to-date checks.\r\n\r\n\r\n    task randomizedTest(type: Test) {\r\n      systemProperty &quot;random.testing.seed&quot;, new Random().nextInt()\r\n    }\r\n\r\n------\r\n\r\n    task systemIntegrationTest(type: Test) {\r\n      inputs.property &quot;integration.date&quot;, LocalDate.now()\r\n    }\r\n\r\nI recommend reading the entire blog post.\r\n\r\n\r\n  [1]: https://blog.gradle.org/stop-rerunning-tests\r\n  [2]: https://github.com/oehme","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"\n\n<p>This was recently the topic on Gradle's blog post <a href=\"https://blog.gradle.org/stop-rerunning-tests\" rel=\"noreferrer\"><em>Stop rerunning your tests</em></a>. The <a href=\"https://github.com/oehme\" rel=\"noreferrer\">author</a> shows an example using <code>outputs.upToDateWhen { false }</code> and explains why it is wrong:</p>\n\n<blockquote>\n  <h3>This doesn’t actually force reruns</h3>\n  \n  <p>What the author of this snippet probably wanted to say is “Always rerun my tests”. That’s not what this snippet does though. It will only mark the task out-of-date, forcing Gradle to <em>recreate</em> the output. But here’s the thing, if the build cache is enabled, Gradle doesn’t need to run the task to recreate the output. It will find an entry in the cache and unpack the result into the test’s output directory.</p>\n  \n  <p>The same is true for this snippet:</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>test.dependsOn cleanTest\n</code></pre>\n  \n  <p>Gradle will unpack the test results from the build cache after the output has been cleaned, so nothing will be rerun. In short, these snippets are creating a very expensive no-op.</p>\n  \n  <p>If you’re now thinking “Okay, I’ll deactivate the cache too”, let me tell you why you shouldn’t.</p>\n</blockquote>\n\n<p>Then, the author goes on to explain why rerunning some tests is a waste of time:</p>\n\n<blockquote>\n  <p>The vast majority of your tests should be deterministic, i.e. given the same inputs they should produce the same result.</p>\n</blockquote>\n\n<p>In the few cases where you do want to rerun tests where the code has not changed, you should model them as an input. Here are both examples from the blog post that show adding an input so the task will use it during its up-to-date checks.</p>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>task randomizedTest(type: Test) {\n  systemProperty \"random.testing.seed\", new Random().nextInt()\n}\n</code></pre>\n\n<hr>\n\n<pre class=\"lang-groovy prettyprint-override\"><code>task systemIntegrationTest(type: Test) {\n  inputs.property \"integration.date\", LocalDate.now()\n}\n</code></pre>\n\n<p>I recommend reading the entire blog post.</p>\n"},{"tags":[],"owner":{"account_id":1357360,"reputation":409,"user_id":1295498,"display_name":"masc3d"},"comment_count":0,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1570794641,"creation_date":1570794641,"answer_id":58340703,"question_id":29427020,"body_markdown":"`--rerun-tasks` works, but is inefficient as it reruns all tasks.\r\n\r\n`cleanTest` by itself may not suffice due to build cache.\r\n\r\nso, best way to accomplish this is:\r\n\r\n\r\n```\r\n./gradlew --no-build-cache cleanTest test\r\n```","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"<p><code>--rerun-tasks</code> works, but is inefficient as it reruns all tasks.</p>\n\n<p><code>cleanTest</code> by itself may not suffice due to build cache.</p>\n\n<p>so, best way to accomplish this is:</p>\n\n<pre><code>./gradlew --no-build-cache cleanTest test\n</code></pre>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1576399538,"post_id":59340447,"comment_id":104882088,"body_markdown":"According to https://stackoverflow.com/a/52484259/466862 that won&#39;t work.","body":"According to <a href=\"https://stackoverflow.com/a/52484259/466862\">stackoverflow.com/a/52484259/466862</a> that won&#39;t work."},{"owner":{"account_id":178949,"reputation":12261,"user_id":411247,"accept_rate":91,"display_name":"Topera"},"score":0,"creation_date":1594806868,"post_id":59340447,"comment_id":111253299,"body_markdown":"Well, the gradle docs are a bit confusing.... Here they say that cleanTest can be used for this purpose. https://docs.gradle.org/current/userguide/java_testing.html#sec:forcing_java_tests_to_run. And also, it works on my machine (and gradle version 4.10.3) ;)","body":"Well, the gradle docs are a bit confusing.... Here they say that cleanTest can be used for this purpose. <a href=\"https://docs.gradle.org/current/userguide/java_testing.html#sec:forcing_java_tests_to_run\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>. And also, it works on my machine (and gradle version 4.10.3) ;)"}],"tags":[],"owner":{"account_id":178949,"reputation":12261,"user_id":411247,"accept_rate":91,"display_name":"Topera"},"comment_count":2,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1576371872,"creation_date":1576371872,"answer_id":59340447,"question_id":29427020,"body_markdown":"TL;DR\r\n\r\n    test.dependsOn cleanTest","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"<p>TL;DR</p>\n\n<pre><code>test.dependsOn cleanTest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2174289,"reputation":8434,"user_id":1925388,"accept_rate":81,"display_name":"Anmol Singh Jaggi"},"comment_count":0,"down_vote_count":5,"up_vote_count":1,"is_accepted":false,"score":-4,"last_activity_date":1621446873,"creation_date":1621446873,"answer_id":67608458,"question_id":29427020,"body_markdown":"None of the above methods worked for me.  \r\nWhat worked for me was simply removing all items from the cache directory in `/Users/&lt;username&gt;/.gradle/caches/build-cache-1/`.","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"<p>None of the above methods worked for me.<br />\nWhat worked for me was simply removing all items from the cache directory in <code>/Users/&lt;username&gt;/.gradle/caches/build-cache-1/</code>.</p>\n"},{"comments":[{"owner":{"account_id":4019407,"reputation":11310,"user_id":3310334,"accept_rate":64,"display_name":"theonlygusti"},"score":0,"creation_date":1687126162,"post_id":76268763,"comment_id":134889448,"body_markdown":"How can I add that by default (in build.gradle)?","body":"How can I add that by default (in build.gradle)?"}],"tags":[],"owner":{"account_id":248187,"reputation":22658,"user_id":523391,"display_name":"prunge"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684300611,"creation_date":1684300611,"answer_id":76268763,"question_id":29427020,"body_markdown":"As of Gradle 7.6, it is possible to use  `gradle test --rerun`.\r\n\r\nA description of the `--rerun` [feature is in the Gradle issue tracker](https://github.com/gradle/gradle/issues/20641) and works for any task (not just &#39;test&#39;).  Basically it just forces Gradle to consider that task and only that task not up-to-date which will rerun it.\r\n\r\nSee also [--rerun in the manual](https://docs.gradle.org/8.1/userguide/command_line_interface.html#sec:builtin_task_options).\r\n\r\n&gt; \r\n&gt;     --rerun\r\n&gt; \r\n&gt;     Causes the task to be re-run even if up-to-date. Similar to --rerun-tasks, but for a specific task.\r\n\r\n","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"<p>As of Gradle 7.6, it is possible to use  <code>gradle test --rerun</code>.</p>\n<p>A description of the <code>--rerun</code> <a href=\"https://github.com/gradle/gradle/issues/20641\" rel=\"nofollow noreferrer\">feature is in the Gradle issue tracker</a> and works for any task (not just 'test').  Basically it just forces Gradle to consider that task and only that task not up-to-date which will rerun it.</p>\n<p>See also <a href=\"https://docs.gradle.org/8.1/userguide/command_line_interface.html#sec:builtin_task_options\" rel=\"nofollow noreferrer\">--rerun in the manual</a>.</p>\n<blockquote>\n<pre><code>--rerun\n\nCauses the task to be re-run even if up-to-date. Similar to --rerun-tasks, but for a specific task.\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":1188061,"reputation":5354,"user_id":1161594,"accept_rate":79,"display_name":"USer22999299"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108238,"favorite_count":0,"down_vote_count":0,"up_vote_count":203,"accepted_answer_id":29428063,"answer_count":9,"score":203,"last_activity_date":1684300611,"creation_date":1428040983,"question_id":29427020,"body_markdown":"I have my grade script set up.\r\nWhen I execute the Gradle build, everything is working and it runs the jUnit tests.\r\n\r\nAfter that when I run the Gradle test I get the following:\r\n\r\n    C:\\Users\\..\\..\\Project&gt;gradle test\r\n    :compileJava UP-TO-DATE\r\n    :processResources UP-TO-DATE\r\n    :classes UP-TO-DATE\r\n    :compileTestJava UP-TO-DATE\r\n    :processTestResources UP-TO-DATE\r\n    :testClasses UP-TO-DATE\r\n    :test UP-TO-DATE\r\n\r\nWhen I perform `gradle clean`, then Gradle build works, of course...\r\nI want to be able to reset only the tests, not build the whole project: how should I do this?","title":"How to run Gradle test when all tests are UP-TO-DATE?","body":"<p>I have my grade script set up.\nWhen I execute the Gradle build, everything is working and it runs the jUnit tests.</p>\n\n<p>After that when I run the Gradle test I get the following:</p>\n\n<pre><code>C:\\Users\\..\\..\\Project&gt;gradle test\n:compileJava UP-TO-DATE\n:processResources UP-TO-DATE\n:classes UP-TO-DATE\n:compileTestJava UP-TO-DATE\n:processTestResources UP-TO-DATE\n:testClasses UP-TO-DATE\n:test UP-TO-DATE\n</code></pre>\n\n<p>When I perform <code>gradle clean</code>, then Gradle build works, of course...\nI want to be able to reset only the tests, not build the whole project: how should I do this?</p>\n"},{"tags":["java","android","android-studio","android-13"],"owner":{"account_id":15928951,"reputation":315,"user_id":13794072,"display_name":"PontiacGTX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684299454,"creation_date":1684154950,"question_id":76254245,"body_markdown":"I am looking to get the list of physical cameras on my device using Android SDK 31 target on a  SDK33 required device... but the returned camera id by \r\nmanager.getCameraIdList() doesnt have a list of compatible devices I am using CameraView library if that&#39;s relevant. I am looking for alternative solutions to find the logical and physical cameras\r\n```\r\n  protected final boolean collectCameraInfo(@NonNull Facing facing) {\r\n        int internalFacing = mMapper.mapFacing(facing);\r\n        String[] cameraIds = null;\r\n        try {\r\n            cameraIds = mManager.getCameraIdList();\r\n        } catch (CameraAccessException e) {\r\n            // This should never happen, I don&#39;t see how it could crash here.\r\n            // However, let&#39;s launch an unrecoverable exception.\r\n            throw createCameraException(e);\r\n        }\r\n        LOG.i(&quot;collectCameraInfo&quot;, &quot;Facing:&quot;, facing,\r\n                &quot;Internal:&quot;, internalFacing,\r\n                &quot;Cameras:&quot;, cameraIds.length);\r\n        //Context ctx =getCallback().getContext();\r\n        for (String cameraId : cameraIds) {\r\n            try {\r\n\r\n                CameraCharacteristics characteristics = mManager.getCameraCharacteristics(cameraId);\r\n\r\n                if(!CamerasDataInfo.containsKey(cameraId))\r\n                {\r\n                    String cameraName = characteristics.get(CameraCharacteristics.LENS_FACING).toString();\r\n                    CameraDataInfo camInfo =new CameraDataInfo();\r\n                    camInfo.CameraId = cameraId;\r\n                    camInfo.CameraName =&quot;&quot;;\r\n                    CamerasDataInfo.put(cameraId,camInfo);\r\n                }\r\n                int[] capabilities = Arrays.stream(characteristics.get(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES)).toArray();\r\n                Boolean containsMultipleCameras  = Arrays.stream(capabilities).anyMatch( x-&gt; x ==CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_LOGICAL_MULTI_CAMERA);\r\n                if(containsMultipleCameras)\r\n                {\r\n                    Object[] physicalCamerasIds = characteristics.getPhysicalCameraIds().toArray();\r\n                    for(Object physicalCamera :physicalCamerasIds){\r\n                        String physicalId =physicalCamera.toString();\r\n                        if(!CamerasDataInfo.containsKey(cameraId)){\r\n                            CameraDataInfo physicalDataInfo = new CameraDataInfo();\r\n                            physicalDataInfo.CameraId = physicalId;\r\n                            CamerasDataInfo.put(physicalId,physicalDataInfo);\r\n                        }\r\n                    }\r\n\r\n                }\r\n                if (internalFacing == readCharacteristic(characteristics,\r\n                        CameraCharacteristics.LENS_FACING, -99)) {\r\n                    mCameraId = cameraId;\r\n                    int sensorOffset = readCharacteristic(characteristics,\r\n                            CameraCharacteristics.SENSOR_ORIENTATION, 0);\r\n                    getAngles().setSensorOffset(facing, sensorOffset);\r\n                    return true;\r\n                }\r\n            } catch (CameraAccessException ignore) {\r\n                // This specific camera has been disconnected.\r\n                // Keep searching in other camerIds.\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"Request physical cameras on CameraCharacteristics for Camera2 API","body":"<p>I am looking to get the list of physical cameras on my device using Android SDK 31 target on a  SDK33 required device... but the returned camera id by\nmanager.getCameraIdList() doesnt have a list of compatible devices I am using CameraView library if that's relevant. I am looking for alternative solutions to find the logical and physical cameras</p>\n<pre><code>  protected final boolean collectCameraInfo(@NonNull Facing facing) {\n        int internalFacing = mMapper.mapFacing(facing);\n        String[] cameraIds = null;\n        try {\n            cameraIds = mManager.getCameraIdList();\n        } catch (CameraAccessException e) {\n            // This should never happen, I don't see how it could crash here.\n            // However, let's launch an unrecoverable exception.\n            throw createCameraException(e);\n        }\n        LOG.i(&quot;collectCameraInfo&quot;, &quot;Facing:&quot;, facing,\n                &quot;Internal:&quot;, internalFacing,\n                &quot;Cameras:&quot;, cameraIds.length);\n        //Context ctx =getCallback().getContext();\n        for (String cameraId : cameraIds) {\n            try {\n\n                CameraCharacteristics characteristics = mManager.getCameraCharacteristics(cameraId);\n\n                if(!CamerasDataInfo.containsKey(cameraId))\n                {\n                    String cameraName = characteristics.get(CameraCharacteristics.LENS_FACING).toString();\n                    CameraDataInfo camInfo =new CameraDataInfo();\n                    camInfo.CameraId = cameraId;\n                    camInfo.CameraName =&quot;&quot;;\n                    CamerasDataInfo.put(cameraId,camInfo);\n                }\n                int[] capabilities = Arrays.stream(characteristics.get(CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES)).toArray();\n                Boolean containsMultipleCameras  = Arrays.stream(capabilities).anyMatch( x-&gt; x ==CameraCharacteristics.REQUEST_AVAILABLE_CAPABILITIES_LOGICAL_MULTI_CAMERA);\n                if(containsMultipleCameras)\n                {\n                    Object[] physicalCamerasIds = characteristics.getPhysicalCameraIds().toArray();\n                    for(Object physicalCamera :physicalCamerasIds){\n                        String physicalId =physicalCamera.toString();\n                        if(!CamerasDataInfo.containsKey(cameraId)){\n                            CameraDataInfo physicalDataInfo = new CameraDataInfo();\n                            physicalDataInfo.CameraId = physicalId;\n                            CamerasDataInfo.put(physicalId,physicalDataInfo);\n                        }\n                    }\n\n                }\n                if (internalFacing == readCharacteristic(characteristics,\n                        CameraCharacteristics.LENS_FACING, -99)) {\n                    mCameraId = cameraId;\n                    int sensorOffset = readCharacteristic(characteristics,\n                            CameraCharacteristics.SENSOR_ORIENTATION, 0);\n                    getAngles().setSensorOffset(facing, sensorOffset);\n                    return true;\n                }\n            } catch (CameraAccessException ignore) {\n                // This specific camera has been disconnected.\n                // Keep searching in other camerIds.\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":4931280,"reputation":493,"user_id":3970983,"accept_rate":94,"display_name":"Yokupoku Maioku"},"score":0,"creation_date":1408905195,"post_id":25474980,"comment_id":39756571,"body_markdown":"if you see there is a setMethod on my Display class.","body":"if you see there is a setMethod on my Display class."},{"owner":{"account_id":3207519,"reputation":804,"user_id":2708278,"accept_rate":43,"display_name":"Fouad Wahabi"},"score":0,"creation_date":1408905348,"post_id":25474980,"comment_id":39756627,"body_markdown":"@YokupokuMaioku it&#39;s preffered to make the initialisation of the context in the constructor , in your case , can you tell us when you have called the doSomthing() method , because it depends on the call position if it&#39;s before or after the setting of the context","body":"@YokupokuMaioku it&#39;s preffered to make the initialisation of the context in the constructor , in your case , can you tell us when you have called the doSomthing() method , because it depends on the call position if it&#39;s before or after the setting of the context"},{"owner":{"account_id":4931280,"reputation":493,"user_id":3970983,"accept_rate":94,"display_name":"Yokupoku Maioku"},"score":0,"creation_date":1408905483,"post_id":25474980,"comment_id":39756666,"body_markdown":"what you said is all right, but the method is called after the context&#39;s setting, that&#39;s is weird.","body":"what you said is all right, but the method is called after the context&#39;s setting, that&#39;s is weird."},{"owner":{"account_id":3207519,"reputation":804,"user_id":2708278,"accept_rate":43,"display_name":"Fouad Wahabi"},"score":0,"creation_date":1408905494,"post_id":25474980,"comment_id":39756671,"body_markdown":"and in your case your context is not initialised to null , so in all cases it will not be set","body":"and in your case your context is not initialised to null , so in all cases it will not be set"}],"tags":[],"owner":{"account_id":3207519,"reputation":804,"user_id":2708278,"accept_rate":43,"display_name":"Fouad Wahabi"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1408905062,"creation_date":1408905062,"answer_id":25474980,"question_id":25474914,"body_markdown":"Add the initialisation of the context to the Constructor like this :\r\n\r\n    public Display(Context context){ \r\n           this.context = context;\r\n       } ","title":"nullPoint Exception on getResources()","body":"<p>Add the initialisation of the context to the Constructor like this :</p>\n\n<pre><code>public Display(Context context){ \n       this.context = context;\n   } \n</code></pre>\n"},{"comments":[{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1689082371,"post_id":76268618,"comment_id":135160556,"body_markdown":"This answer looks like it was generated by an AI (like ChatGPT), not by an actual human being. You should be aware that [posting AI-generated output is officially **BANNED** on Stack Overflow](https://meta.stackoverflow.com/q/421831). If this answer was indeed generated by an AI, then I strongly suggest you delete it before you get yourself into even bigger trouble: **WE TAKE PLAGIARISM SERIOUSLY HERE.** Please read: [Why posting GPT and ChatGPT generated answers is not currently allowed](https://stackoverflow.com/help/gpt-policy).","body":"This answer looks like it was generated by an AI (like ChatGPT), not by an actual human being. You should be aware that <a href=\"https://meta.stackoverflow.com/q/421831\">posting AI-generated output is officially <b>BANNED</b> on Stack Overflow</a>. If this answer was indeed generated by an AI, then I strongly suggest you delete it before you get yourself into even bigger trouble: <b>WE TAKE PLAGIARISM SERIOUSLY HERE.</b> Please read: <a href=\"https://stackoverflow.com/help/gpt-policy\">Why posting GPT and ChatGPT generated answers is not currently allowed</a>."}],"tags":[],"owner":{"account_id":27772579,"reputation":34,"user_id":21202611,"display_name":"Imran Ullah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684298608,"creation_date":1684298608,"answer_id":76268618,"question_id":25474914,"body_markdown":"\r\nThe correct approach is to initialize the context in the constructor of the Display class. By doing so, you ensure that the context is properly set when the Display object is created, avoiding the null pointer exception when calling getResources() on a null context. Here&#39;s an example of how to implement it:\r\n\r\n        class Display {\r\n        private Context context;\r\n    \r\n        public Display(Context context) {\r\n            this.context = context;\r\n        }\r\n    \r\n        public void doSomething() {\r\n            Bitmap bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.custom_marker);\r\n            // Rest of the code...\r\n        }\r\n    }\r\n\r\n\r\nMake sure to update the constructor of the Display class to accept a Context parameter and assign it to the context field. This way, the context will be available when calling getResources() in the doSomething() method.","title":"nullPoint Exception on getResources()","body":"<p>The correct approach is to initialize the context in the constructor of the Display class. By doing so, you ensure that the context is properly set when the Display object is created, avoiding the null pointer exception when calling getResources() on a null context. Here's an example of how to implement it:</p>\n<pre><code>    class Display {\n    private Context context;\n\n    public Display(Context context) {\n        this.context = context;\n    }\n\n    public void doSomething() {\n        Bitmap bitmap = BitmapFactory.decodeResource(context.getResources(), R.drawable.custom_marker);\n        // Rest of the code...\n    }\n}\n</code></pre>\n<p>Make sure to update the constructor of the Display class to accept a Context parameter and assign it to the context field. This way, the context will be available when calling getResources() in the doSomething() method.</p>\n"}],"owner":{"account_id":4931280,"reputation":493,"user_id":3970983,"accept_rate":94,"display_name":"Yokupoku Maioku"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":25474980,"answer_count":2,"score":0,"last_activity_date":1684298608,"creation_date":1408904723,"question_id":25474914,"body_markdown":"i&#39; m getting nullPoint exception on `getResources()` method. I&#39;m starting the activity below from an another class with this:\r\n\r\n\r\n    Intent intent = new Intent(getActivity(), FooActivity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n    startActivity(intent);\r\n\r\n \r\nand from the `activity` called, i have set the context that is used by a not-Activity class.\r\n\r\n\r\n    class FooActivity {\r\n\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        [...]\r\n        Display display  = new Display(...);\r\n        display.setContext(this.getApplicationContext());\r\n      }\r\n    }\r\n\r\nclass that use the `getResources()` method:\r\n\r\n    class Display{\r\n       private static Context context;\r\n\r\n       public Display(...){ } \r\n\r\n       public void doSomething(){\r\n         **** NullPoint exception Row ****\r\n        Bitmap bitmpa = BitmapFactory.decodeResource(context.getResources(), R.drawable.custom_marker);\r\n       }\r\n\r\n       public void setContext(Context context) {\r\n         if (context == null)\r\n    \t  this.context = context;\r\n    \t}\r\n    }\r\n\r\n**my Logcat:**\r\n\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): FATAL EXCEPTION: main\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): java.lang.NullPointerException\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): \tat com.graphic.core.Display.doSomething(Display.java:43)\r\n    android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): \tat android.os.Looper.loop(Looper.java:137)\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): \tat android.app.ActivityThread.main(ActivityThread.java:4895)\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:994)\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:761)\r\n    08-24 20:18:46.656: E/AndroidRuntime(10526): \tat dalvik.system.NativeStart.main(Native Method)\r\n\r\n\r\n\r\n***is the context  not set properly , that cause the nullPoint?***\r\n ","title":"nullPoint Exception on getResources()","body":"<p>i' m getting nullPoint exception on <code>getResources()</code> method. I'm starting the activity below from an another class with this:</p>\n\n<pre><code>Intent intent = new Intent(getActivity(), FooActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\nstartActivity(intent);\n</code></pre>\n\n<p>and from the <code>activity</code> called, i have set the context that is used by a not-Activity class.</p>\n\n<pre><code>class FooActivity {\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    [...]\n    Display display  = new Display(...);\n    display.setContext(this.getApplicationContext());\n  }\n}\n</code></pre>\n\n<p>class that use the <code>getResources()</code> method:</p>\n\n<pre><code>class Display{\n   private static Context context;\n\n   public Display(...){ } \n\n   public void doSomething(){\n     **** NullPoint exception Row ****\n    Bitmap bitmpa = BitmapFactory.decodeResource(context.getResources(), R.drawable.custom_marker);\n   }\n\n   public void setContext(Context context) {\n     if (context == null)\n      this.context = context;\n    }\n}\n</code></pre>\n\n<p><strong>my Logcat:</strong></p>\n\n<pre><code>08-24 20:18:46.656: E/AndroidRuntime(10526): FATAL EXCEPTION: main\n08-24 20:18:46.656: E/AndroidRuntime(10526): java.lang.NullPointerException\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at com.graphic.core.Display.doSomething(Display.java:43)\nandroid.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:644)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at android.os.Handler.dispatchMessage(Handler.java:99)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at android.os.Looper.loop(Looper.java:137)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at android.app.ActivityThread.main(ActivityThread.java:4895)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at java.lang.reflect.Method.invokeNative(Native Method)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at java.lang.reflect.Method.invoke(Method.java:511)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:994)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:761)\n08-24 20:18:46.656: E/AndroidRuntime(10526):    at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p><strong><em>is the context  not set properly , that cause the nullPoint?</em></strong></p>\n"},{"tags":["java","spring-boot","maven","jar"],"comments":[{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1646938688,"post_id":71428916,"comment_id":126253849,"body_markdown":"Hi @user16320675, that is not what I&#39;m looking for. From what I understand that will return me the implementationVersion but please take a look on attached image. Also, have you tryed what you suggest? Is not a solution for my issue but also doesn&#39;t work me, but anyway I tried on my void main and doesn&#39;t work. Regards, Gaspar.","body":"Hi @user16320675, that is not what I&#39;m looking for. From what I understand that will return me the implementationVersion but please take a look on attached image. Also, have you tryed what you suggest? Is not a solution for my issue but also doesn&#39;t work me, but anyway I tried on my void main and doesn&#39;t work. Regards, Gaspar."},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1646940696,"post_id":71428916,"comment_id":126254470,"body_markdown":"@user16320675 Yes, is a Windows explorer image. I specifically detail in my question what is what I&#39;m looking for: find the product version under right mouse click -&gt; details -&gt; &quot;product version&quot; like in a .exe. Anyway, I don&#39;t have in my project a MANIFEST.MF, it generates automatically when I do a &quot;package&quot; of my project afterwards.","body":"@user16320675 Yes, is a Windows explorer image. I specifically detail in my question what is what I&#39;m looking for: find the product version under right mouse click -&gt; details -&gt; &quot;product version&quot; like in a .exe. Anyway, I don&#39;t have in my project a MANIFEST.MF, it generates automatically when I do a &quot;package&quot; of my project afterwards."},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1646940730,"post_id":71428916,"comment_id":126254481,"body_markdown":"@user16320675 However, accesing to the Implementation-Version on MANIFEST.MF on code it will not turn to a solution to me because I already have it on my pom.xml. I want a easy access version check of my .jar and it could not be on the name of the .jar itself, I don&#39;t know if I explain me correctly. Sorry if my previous answer seemed rude, English is not my main language and I try my best. Regards, Gaspar.","body":"@user16320675 However, accesing to the Implementation-Version on MANIFEST.MF on code it will not turn to a solution to me because I already have it on my pom.xml. I want a easy access version check of my .jar and it could not be on the name of the .jar itself, I don&#39;t know if I explain me correctly. Sorry if my previous answer seemed rude, English is not my main language and I try my best. Regards, Gaspar."}],"answers":[{"comments":[{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1646937847,"post_id":71428988,"comment_id":126253565,"body_markdown":"Hi Rob, thanks for your answer. This still not help me about what I&#39;m looking for.","body":"Hi Rob, thanks for your answer. This still not help me about what I&#39;m looking for."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646936445,"creation_date":1646936445,"answer_id":71428988,"question_id":71428916,"body_markdown":"A JAR file itself can&#39;t have a version. But you&#39;re using Maven, and that means you can already access the Maven version:\r\n\r\n    try (InputStream inputStream = getClass().getResourceAsStream(&quot;/META-INF/maven/&lt;groupId&gt;/&lt;artifactId&gt;/pom.properties&quot;)) {\r\n        Properties properties = new Properties();\r\n        properties.load(inputStream);\r\n        // available properties:\r\n        // - artifactId=xxx\r\n        // - groupId=xxx\r\n        // - version=xxx\r\n    }\r\n\r\nNote that this often doesn&#39;t work in unit tests (especially when run from IDEs) because the files are only added to the JAR file.","title":"How can I add file version detail on properties to a .jar?","body":"<p>A JAR file itself can't have a version. But you're using Maven, and that means you can already access the Maven version:</p>\n<pre><code>try (InputStream inputStream = getClass().getResourceAsStream(&quot;/META-INF/maven/&lt;groupId&gt;/&lt;artifactId&gt;/pom.properties&quot;)) {\n    Properties properties = new Properties();\n    properties.load(inputStream);\n    // available properties:\n    // - artifactId=xxx\n    // - groupId=xxx\n    // - version=xxx\n}\n</code></pre>\n<p>Note that this often doesn't work in unit tests (especially when run from IDEs) because the files are only added to the JAR file.</p>\n"},{"comments":[{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1646937781,"post_id":71429002,"comment_id":126253540,"body_markdown":"Yea, but from what I understand I will still have to access inside of the .jar in order to check the .jar version. Also I forgot to mention that my .jar filename have to remain exactly the same so the service that runs the .jar has no problems. As I said, it is an API Rest .jar that runs in background, I do not have and should not show anything on &quot;screen&quot; about the version in addition to what is shown in the attached image","body":"Yea, but from what I understand I will still have to access inside of the .jar in order to check the .jar version. Also I forgot to mention that my .jar filename have to remain exactly the same so the service that runs the .jar has no problems. As I said, it is an API Rest .jar that runs in background, I do not have and should not show anything on &quot;screen&quot; about the version in addition to what is shown in the attached image"},{"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"score":0,"creation_date":1646939166,"post_id":71429002,"comment_id":126253988,"body_markdown":"Also I&#39;m trying to do that and I&#39;m getting the error &quot;Cannot return a value from a method with void result type&quot;. Where should I do that, on my only void main?","body":"Also I&#39;m trying to do that and I&#39;m getting the error &quot;Cannot return a value from a method with void result type&quot;. Where should I do that, on my only void main?"}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1646936521,"creation_date":1646936521,"answer_id":71429002,"question_id":71428916,"body_markdown":"Just include a text file anywhere in your jar. Build systems of all stripes make this trivial. Then write in your code that you read out this text file with the version, and show it on screen.\r\n\r\nIn maven, gradle, etc, to include a plain text file in the jar, just put it in `src/main/resources/version.txt` and it gets included automatically.\r\n\r\nTo read it in java:\r\n\r\n```\r\npublic class Main {\r\n  public static String getVersion() {\r\n    try (var in = Main.class.getResourceAsStream(&quot;/version.txt&quot;)) {\r\n      return new String(in.readAllBytes(), StandardCharsets.UTF_8);\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThis:\r\n\r\n* Asks the classloader to load version.txt using the same systems that load `.class` files.\r\n* reads that inputstream fully, and turns it into a string using the UTF_8 encoding.\r\n* Uses try-with-resources because, it&#39;s a resource, you have to do that if you don&#39;t want leaks.\r\n","title":"How can I add file version detail on properties to a .jar?","body":"<p>Just include a text file anywhere in your jar. Build systems of all stripes make this trivial. Then write in your code that you read out this text file with the version, and show it on screen.</p>\n<p>In maven, gradle, etc, to include a plain text file in the jar, just put it in <code>src/main/resources/version.txt</code> and it gets included automatically.</p>\n<p>To read it in java:</p>\n<pre><code>public class Main {\n  public static String getVersion() {\n    try (var in = Main.class.getResourceAsStream(&quot;/version.txt&quot;)) {\n      return new String(in.readAllBytes(), StandardCharsets.UTF_8);\n    }\n  }\n}\n</code></pre>\n<p>This:</p>\n<ul>\n<li>Asks the classloader to load version.txt using the same systems that load <code>.class</code> files.</li>\n<li>reads that inputstream fully, and turns it into a string using the UTF_8 encoding.</li>\n<li>Uses try-with-resources because, it's a resource, you have to do that if you don't want leaks.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4335495,"reputation":33,"user_id":3540069,"display_name":"Stuboy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684297458,"creation_date":1684297458,"answer_id":76268550,"question_id":71428916,"body_markdown":"If you don&#39;t necessarily need the exact version, a mnemonic strategy I&#39;ve seen is to touch the file timestamp. It may not be suitable and/or you&#39;ll have to determine what to do for numbers that fall outside the scope of a timestamp.\r\n\r\neg Use Powershell to set the LastWriteTime (or CreationTime) to match v2.3.4 -&gt; 02:03:04\r\n``` Powershell\r\n$ff = Get-Item my.jar\r\n$ff.LastWriteTime         # Monday, 24 April 2023 16:25:56\r\n$ff.LastWriteTime = $(Get-Date &quot;24-apr-2023 02:03:04&quot;)\r\n$ff.LastWriteTime         # Monday, 24 April 2023 02:03:04\r\n```\r\n\r\nLastWriteTime will show up in the &quot;Date Modified&quot; column of Windows Explorer.","title":"How can I add file version detail on properties to a .jar?","body":"<p>If you don't necessarily need the exact version, a mnemonic strategy I've seen is to touch the file timestamp. It may not be suitable and/or you'll have to determine what to do for numbers that fall outside the scope of a timestamp.</p>\n<p>eg Use Powershell to set the LastWriteTime (or CreationTime) to match v2.3.4 -&gt; 02:03:04</p>\n<pre><code>$ff = Get-Item my.jar\n$ff.LastWriteTime         # Monday, 24 April 2023 16:25:56\n$ff.LastWriteTime = $(Get-Date &quot;24-apr-2023 02:03:04&quot;)\n$ff.LastWriteTime         # Monday, 24 April 2023 02:03:04\n</code></pre>\n<p>LastWriteTime will show up in the &quot;Date Modified&quot; column of Windows Explorer.</p>\n"}],"owner":{"account_id":21288509,"reputation":71,"user_id":15665766,"display_name":"Gaspar Zanini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684297458,"creation_date":1646936147,"question_id":71428916,"body_markdown":"I&#39;m looking to add a product version number to appear in my .jar file information. Currently I&#39;m using Maven in my Spring boot project for API Rest.\r\n\r\nI have read a lot of solutions about the manifest versioning. There you have to decompress and access to the META-INF/MANIFEST.MF to check the Implementation-Version. That&#39;s too tedious for what I&#39;m looking for. \r\n\r\nLike for a .exe. where you can found it under right mouse click -&gt; details -&gt; &quot;product version&quot; or simply checking on File Version column as shown on image. [Example of a file version description][1].\r\n\r\nAlso I read that JAR file is a file format based on the popular ZIP file format and is used for aggregating many files into one. Kinda that I&#39;m looking to add a file version to .zip, but I want to ask anyway if that is possible.\r\n\r\n[1]: https://i.stack.imgur.com/UZTlu.png\r\n\r\nRegards, Gaspar.\r\n\r\n","title":"How can I add file version detail on properties to a .jar?","body":"<p>I'm looking to add a product version number to appear in my .jar file information. Currently I'm using Maven in my Spring boot project for API Rest.</p>\n<p>I have read a lot of solutions about the manifest versioning. There you have to decompress and access to the META-INF/MANIFEST.MF to check the Implementation-Version. That's too tedious for what I'm looking for.</p>\n<p>Like for a .exe. where you can found it under right mouse click -&gt; details -&gt; &quot;product version&quot; or simply checking on File Version column as shown on image. <a href=\"https://i.stack.imgur.com/UZTlu.png\" rel=\"nofollow noreferrer\">Example of a file version description</a>.</p>\n<p>Also I read that JAR file is a file format based on the popular ZIP file format and is used for aggregating many files into one. Kinda that I'm looking to add a file version to .zip, but I want to ask anyway if that is possible.</p>\n<p>Regards, Gaspar.</p>\n"},{"tags":["java","swing","canvas","printing","jpanel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1684292361,"post_id":76268285,"comment_id":134495516,"body_markdown":"You are asking about code that is not behaving as expected, a common issue. Also, you&#39;re not new here, and so should be quite familiar with the [mre] link, why it is recommended in this situation and why it would be quite helpful for you and for us. So, I have to ask, why not post a valid [mre] code post with your question?","body":"You are asking about code that is not behaving as expected, a common issue. Also, you&#39;re not new here, and so should be quite familiar with the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> link, why it is recommended in this situation and why it would be quite helpful for you and for us. So, I have to ask, why not post a valid <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with your question?"},{"owner":{"account_id":935312,"reputation":6386,"user_id":964335,"accept_rate":92,"display_name":"Quillion"},"score":0,"creation_date":1684292474,"post_id":76268285,"comment_id":134495528,"body_markdown":"@HovercraftFullOfEels I have tried to do so. But the code to generate the problem in question is quite large. I will try to create a quick window with a canvas and a dot then as an example. Sorry about that!","body":"@HovercraftFullOfEels I have tried to do so. But the code to generate the problem in question is quite large. I will try to create a quick window with a canvas and a dot then as an example. Sorry about that!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1684292632,"post_id":76268285,"comment_id":134495538,"body_markdown":"As you probably know, this is usually the case, and that is why the [mre] link recommends that you create a new small program, one that isolates the problem from the rest of the code so that the issue is easy to see, easy to analyze and easy to fix. Always best to do this before asking, if at all possible.","body":"As you probably know, this is usually the case, and that is why the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> link recommends that you create a new small program, one that isolates the problem from the rest of the code so that the issue is easy to see, easy to analyze and easy to fix. Always best to do this before asking, if at all possible."},{"owner":{"account_id":935312,"reputation":6386,"user_id":964335,"accept_rate":92,"display_name":"Quillion"},"score":0,"creation_date":1684292927,"post_id":76268285,"comment_id":134495564,"body_markdown":"@HovercraftFullOfEels added! Sorry about that! Made it as small as possible!","body":"@HovercraftFullOfEels added! Sorry about that! Made it as small as possible!"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1684293669,"post_id":76268285,"comment_id":134495604,"body_markdown":"`Canvas` is not the best choice for this, use a `JPanel` instead","body":"<code>Canvas</code> is not the best choice for this, use a <code>JPanel</code> instead"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684294104,"post_id":76268285,"comment_id":134495635,"body_markdown":"I would, instead, start with a pluggable rendering workflow, which could be used to render directly to any given `Graphics`.  I&#39;d then use it to paint on to a component or a `Printable` directly","body":"I would, instead, start with a pluggable rendering workflow, which could be used to render directly to any given <code>Graphics</code>.  I&#39;d then use it to paint on to a component or a <code>Printable</code> directly"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1684294487,"post_id":76268285,"comment_id":134495673,"body_markdown":"Did you write `ComponentPrinter` yourself?","body":"Did you write <code>ComponentPrinter</code> yourself?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684296277,"post_id":76268285,"comment_id":134495872,"body_markdown":"@g00se No, it&#39;s mine &#128561;","body":"@g00se No, it&#39;s mine 😱"},{"owner":{"account_id":935312,"reputation":6386,"user_id":964335,"accept_rate":92,"display_name":"Quillion"},"score":0,"creation_date":1684330497,"post_id":76268285,"comment_id":134502543,"body_markdown":"@MadProgrammer yup yup, I linked to your answer. Just had to provide a compilable example, so I included your code. Also thanks for suggesting to use pluggable workflow.","body":"@MadProgrammer yup yup, I linked to your answer. Just had to provide a compilable example, so I included your code. Also thanks for suggesting to use pluggable workflow."}],"answers":[{"comments":[{"owner":{"account_id":935312,"reputation":6386,"user_id":964335,"accept_rate":92,"display_name":"Quillion"},"score":0,"creation_date":1684330600,"post_id":76268508,"comment_id":134502573,"body_markdown":"How would one know which components are not printable?","body":"How would one know which components are not printable?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684359323,"post_id":76268508,"comment_id":134508922,"body_markdown":"Well, since `Printable` is a `Swing` based concept, I would suggest that only Swing based components are likely to support it.  I would also, personally, discourage the printing of Swing components directly like this, as there are significant differences between screen rendering and paper rendering","body":"Well, since <code>Printable</code> is a <code>Swing</code> based concept, I would suggest that only Swing based components are likely to support it.  I would also, personally, discourage the printing of Swing components directly like this, as there are significant differences between screen rendering and paper rendering"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684368053,"post_id":76268508,"comment_id":134510018,"body_markdown":"@Quillion See [this example](https://stackoverflow.com/questions/28427566/save-jpanel-as-image-hd-quality/28492187#28492187) for a demonstration of a &quot;renderable&quot; solution","body":"@Quillion See <a href=\"https://stackoverflow.com/questions/28427566/save-jpanel-as-image-hd-quality/28492187#28492187\">this example</a> for a demonstration of a &quot;renderable&quot; solution"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684296734,"creation_date":1684296734,"answer_id":76268508,"question_id":76268285,"body_markdown":"First, Don&#39;t use `Canvas` for this, I&#39;m not sure it&#39;s &quot;printable&quot;, or at the very least, it didn&#39;t work for me.\r\n\r\nInstead, extend from `JPanel` instead...\r\n\r\n    JPanel canvas = new JPanel() {\r\n        @Override\r\n        protected void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n            g.drawOval(3, 3, 94, 94);\r\n        }\r\n\r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            return new Dimension(100, 100);\r\n        }\r\n    };\r\n\r\nYou should also avoid call `setBounds` and prefer to provide sizing hints instead.\r\n\r\nSecond, choose the component you want to print carefully, for example, in your runnable code, you&#39;re passing `panel`, which will print both the button and the circle, instead, you should really only need to pass `canvas`\r\n\r\n    print.addActionListener(e -&gt; printComponentToFile(canvas, false));\r\n\r\nWith these couple of fixes, it now outputs...\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI also thing that `if (comp.getParent() != null) {` is a mistake and instead should be `if (comp.getParent() == null) {`\r\n\r\nYou may also need to call\r\n\r\n    comp.revalidate();\r\n    comp.repaint();\r\n\r\nafter you&#39;ve printed the component, but this is one of the many issues with trying to print a &quot;live&quot; component.\r\n\r\nPersonally, I create a concept of a &quot;renderable question&quot;, which could be passed a `Graphics` context onto which it should be rendered.\r\n\r\nYou could then create a &quot;renderable question sheet&quot; which would paint multiple &quot;questions&quot;.\r\n\r\nThis could then be used by both a custom component and `Printable` independently, but that&#39;s me.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gFLhI.png","title":"JPanel print attached canvases shows up as blank","body":"<p>First, Don't use <code>Canvas</code> for this, I'm not sure it's &quot;printable&quot;, or at the very least, it didn't work for me.</p>\n<p>Instead, extend from <code>JPanel</code> instead...</p>\n<pre><code>JPanel canvas = new JPanel() {\n    @Override\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.drawOval(3, 3, 94, 94);\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        return new Dimension(100, 100);\n    }\n};\n</code></pre>\n<p>You should also avoid call <code>setBounds</code> and prefer to provide sizing hints instead.</p>\n<p>Second, choose the component you want to print carefully, for example, in your runnable code, you're passing <code>panel</code>, which will print both the button and the circle, instead, you should really only need to pass <code>canvas</code></p>\n<pre><code>print.addActionListener(e -&gt; printComponentToFile(canvas, false));\n</code></pre>\n<p>With these couple of fixes, it now outputs...</p>\n<p><a href=\"https://i.stack.imgur.com/gFLhI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gFLhI.png\" alt=\"enter image description here\" /></a></p>\n<p>I also thing that <code>if (comp.getParent() != null) {</code> is a mistake and instead should be <code>if (comp.getParent() == null) {</code></p>\n<p>You may also need to call</p>\n<pre><code>comp.revalidate();\ncomp.repaint();\n</code></pre>\n<p>after you've printed the component, but this is one of the many issues with trying to print a &quot;live&quot; component.</p>\n<p>Personally, I create a concept of a &quot;renderable question&quot;, which could be passed a <code>Graphics</code> context onto which it should be rendered.</p>\n<p>You could then create a &quot;renderable question sheet&quot; which would paint multiple &quot;questions&quot;.</p>\n<p>This could then be used by both a custom component and <code>Printable</code> independently, but that's me.</p>\n"}],"owner":{"account_id":935312,"reputation":6386,"user_id":964335,"accept_rate":92,"display_name":"Quillion"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76268508,"answer_count":1,"score":-1,"last_activity_date":1684296734,"creation_date":1684292135,"question_id":76268285,"body_markdown":"I am trying to help my son do math, so I made a small program.\r\nI have a JPanel with 12 Canvases and a giant print button on the bottom.\r\n\r\n[![Window I want to print][1]][1]\r\n\r\nThis is the listener I have attached on my print button.\r\n\r\n\t\tprint.addActionListener(new ActionListener()\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void actionPerformed(ActionEvent e)\r\n\t\t\t{\r\n\t\t\t\tpanel.remove(print);\r\n\t\t\t\twindow.pack();\r\n\t\t\t\tprintComponent(panel, false);\r\n\t\t\t\tpanel.add(print);\r\n\t\t\t\twindow.pack();\r\n\t\t\t}\r\n\t\t});\r\n\r\nI have followed example from [here][2] and sadly it doesn&#39;t work.\r\nWhen I pass JFrame as the component then it prints the whole window!\r\n[![Window printed!][3]][3]\r\nWhen I pass JPanel as the component then it only prints the print button!\r\n[![Print button only printed!][4]][4]\r\n\r\nIf it is of any relevance I attach everything to the JFrame and JPanel like so:\r\n\r\n\tpanel.setBackground(Color.WHITE);\r\n\tpanel.setLayout(/*layout stuff*/);\r\n\twindow.setContentPane(panel);\r\n\tfor (int i = 0; i &lt; 12; i++)\r\n\t{\r\n\t\tpanel.add(/*canvas class which renders one single question*/);\r\n\t}\r\n\tpanel.add(print, /*layout constraints*/);\r\n\r\nI have even tried following examples from [here][5] and [here][6] and nothing works.\r\nI can&#39;t seem to just print jpanel with the canvas showing up, and I sure as heck do not want to print the whole window.\r\nAny advice on how to fix this?\r\n\r\nHere is small example code with same problem.\r\n\r\n    package carefree.school;\r\n\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.awt.print.PageFormat;\r\n    import java.awt.print.Paper;\r\n    import java.awt.print.Printable;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class TestWindow\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tJFrame frame = new JFrame();\r\n    \t\tJPanel panel = new JPanel();\r\n    \t\tCanvas canvas = new Canvas()\r\n    \t\t{\r\n    \t\t\t@Override\r\n    \t\t\tpublic void paint(Graphics g)\r\n    \t\t\t{\r\n    \t\t\t\tsuper.paint(g);\r\n    \t\t\t\tg.drawOval(3, 3, 94, 94);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tcanvas.setSize(100, 100);\r\n    \t\tJButton print = new JButton(&quot;Print&quot;);\r\n    \t\tframe.setContentPane(panel);\r\n    \t\tpanel.add(canvas);\r\n    \t\tpanel.add(print);\r\n    \t\tframe.setVisible(true);\r\n    \t\tframe.pack();\r\n    \t\tprint.addActionListener(e -&gt; printComponentToFile(panel, false));\r\n    \t}\r\n    \r\n    \tpublic static void printComponentToFile(Component comp, boolean fill)\r\n    \t{\r\n    \t\tPaper paper = new Paper();\r\n    \t\tpaper.setSize(8.3 * 72, 11.7 * 72);\r\n    \t\tpaper.setImageableArea(18, 18, 559, 783);\r\n    \r\n    \t\tPageFormat pf = new PageFormat();\r\n    \t\tpf.setPaper(paper);\r\n    \t\tpf.setOrientation(PageFormat.PORTRAIT);\r\n    \r\n    \t\tBufferedImage img = new BufferedImage((int) Math.round(pf.getWidth()), (int) Math.round(pf.getHeight()),\r\n    \t\t\t\t\t\t\t\t\t\t\t  BufferedImage.TYPE_INT_RGB);\r\n    \r\n    \t\tGraphics2D g2d = img.createGraphics();\r\n    \t\tg2d.setColor(Color.WHITE);\r\n    \t\tg2d.fill(new Rectangle(0, 0, img.getWidth(), img.getHeight()));\r\n    \t\tComponentPrinter cp = new ComponentPrinter(comp, fill);\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tcp.print(g2d, pf, 0);\r\n    \t\t}\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\tg2d.dispose();\r\n    \t\t}\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tImageIO.write(img, &quot;png&quot;, new File(&quot;Page-&quot; + (fill ? &quot;Filled&quot; : &quot;&quot;) + &quot;.png&quot;));\r\n    \t\t}\r\n    \t\tcatch (IOException ex)\r\n    \t\t{\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static class ComponentPrinter\r\n    \t\t\timplements Printable\r\n    \t{\r\n    \t\tprivate Component comp;\r\n    \t\tprivate boolean   fill;\r\n    \r\n    \t\tpublic ComponentPrinter(Component comp, boolean fill)\r\n    \t\t{\r\n    \t\t\tthis.comp = comp;\r\n    \t\t\tthis.fill = fill;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int print(Graphics g, PageFormat format, int page_index)\r\n    \t\t{\r\n    \t\t\tif (page_index &gt; 0)\r\n    \t\t\t{\r\n    \t\t\t\treturn Printable.NO_SUCH_PAGE;\r\n    \t\t\t}\r\n    \r\n    \t\t\tGraphics2D g2 = (Graphics2D) g;\r\n    \t\t\tg2.translate(format.getImageableX(), format.getImageableY());\r\n    \r\n    \t\t\tdouble width  = (int) Math.floor(format.getImageableWidth());\r\n    \t\t\tdouble height = (int) Math.floor(format.getImageableHeight());\r\n    \r\n    \t\t\tif (!fill)\r\n    \t\t\t{\r\n    \r\n    \t\t\t\twidth = Math.min(width, comp.getPreferredSize().width);\r\n    \t\t\t\theight = Math.min(height, comp.getPreferredSize().height);\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\tcomp.setBounds(0, 0, (int) Math.floor(width), (int) Math.floor(height));\r\n    \t\t\tif (comp.getParent() == null)\r\n    \t\t\t{\r\n    \t\t\t\tcomp.addNotify();\r\n    \t\t\t}\r\n    \t\t\tcomp.validate();\r\n    \t\t\tcomp.doLayout();\r\n    \t\t\tcomp.printAll(g2);\r\n    \t\t\tif (comp.getParent() != null)\r\n    \t\t\t{\r\n    \t\t\t\tcomp.removeNotify();\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn Printable.PAGE_EXISTS;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V2BmM.png\r\n  [2]: https://stackoverflow.com/questions/12764634/printing-a-jframe-and-its-components/12765916#12765916\r\n  [3]: https://i.stack.imgur.com/3ebIS.png\r\n  [4]: https://i.stack.imgur.com/M0yoA.png\r\n  [5]: https://stackoverflow.com/questions/22241711/setting-print-size-of-a-jlabel-and-put-a-jradiobutton-on-the-print/22244116#22244116\r\n  [6]: https://stackoverflow.com/questions/22241711/setting-print-size-of-a-jlabel-and-put-a-jradiobutton-on-the-print/22242658#22242658","title":"JPanel print attached canvases shows up as blank","body":"<p>I am trying to help my son do math, so I made a small program.\nI have a JPanel with 12 Canvases and a giant print button on the bottom.</p>\n<p><a href=\"https://i.stack.imgur.com/V2BmM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V2BmM.png\" alt=\"Window I want to print\" /></a></p>\n<p>This is the listener I have attached on my print button.</p>\n<pre><code>    print.addActionListener(new ActionListener()\n    {\n        @Override\n        public void actionPerformed(ActionEvent e)\n        {\n            panel.remove(print);\n            window.pack();\n            printComponent(panel, false);\n            panel.add(print);\n            window.pack();\n        }\n    });\n</code></pre>\n<p>I have followed example from <a href=\"https://stackoverflow.com/questions/12764634/printing-a-jframe-and-its-components/12765916#12765916\">here</a> and sadly it doesn't work.\nWhen I pass JFrame as the component then it prints the whole window!\n<a href=\"https://i.stack.imgur.com/3ebIS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3ebIS.png\" alt=\"Window printed!\" /></a>\nWhen I pass JPanel as the component then it only prints the print button!\n<a href=\"https://i.stack.imgur.com/M0yoA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M0yoA.png\" alt=\"Print button only printed!\" /></a></p>\n<p>If it is of any relevance I attach everything to the JFrame and JPanel like so:</p>\n<pre><code>panel.setBackground(Color.WHITE);\npanel.setLayout(/*layout stuff*/);\nwindow.setContentPane(panel);\nfor (int i = 0; i &lt; 12; i++)\n{\n    panel.add(/*canvas class which renders one single question*/);\n}\npanel.add(print, /*layout constraints*/);\n</code></pre>\n<p>I have even tried following examples from <a href=\"https://stackoverflow.com/questions/22241711/setting-print-size-of-a-jlabel-and-put-a-jradiobutton-on-the-print/22244116#22244116\">here</a> and <a href=\"https://stackoverflow.com/questions/22241711/setting-print-size-of-a-jlabel-and-put-a-jradiobutton-on-the-print/22242658#22242658\">here</a> and nothing works.\nI can't seem to just print jpanel with the canvas showing up, and I sure as heck do not want to print the whole window.\nAny advice on how to fix this?</p>\n<p>Here is small example code with same problem.</p>\n<pre><code>package carefree.school;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.awt.print.PageFormat;\nimport java.awt.print.Paper;\nimport java.awt.print.Printable;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class TestWindow\n{\n    public static void main(String[] args)\n    {\n        JFrame frame = new JFrame();\n        JPanel panel = new JPanel();\n        Canvas canvas = new Canvas()\n        {\n            @Override\n            public void paint(Graphics g)\n            {\n                super.paint(g);\n                g.drawOval(3, 3, 94, 94);\n            }\n        };\n        canvas.setSize(100, 100);\n        JButton print = new JButton(&quot;Print&quot;);\n        frame.setContentPane(panel);\n        panel.add(canvas);\n        panel.add(print);\n        frame.setVisible(true);\n        frame.pack();\n        print.addActionListener(e -&gt; printComponentToFile(panel, false));\n    }\n\n    public static void printComponentToFile(Component comp, boolean fill)\n    {\n        Paper paper = new Paper();\n        paper.setSize(8.3 * 72, 11.7 * 72);\n        paper.setImageableArea(18, 18, 559, 783);\n\n        PageFormat pf = new PageFormat();\n        pf.setPaper(paper);\n        pf.setOrientation(PageFormat.PORTRAIT);\n\n        BufferedImage img = new BufferedImage((int) Math.round(pf.getWidth()), (int) Math.round(pf.getHeight()),\n                                              BufferedImage.TYPE_INT_RGB);\n\n        Graphics2D g2d = img.createGraphics();\n        g2d.setColor(Color.WHITE);\n        g2d.fill(new Rectangle(0, 0, img.getWidth(), img.getHeight()));\n        ComponentPrinter cp = new ComponentPrinter(comp, fill);\n        try\n        {\n            cp.print(g2d, pf, 0);\n        }\n        finally\n        {\n            g2d.dispose();\n        }\n\n        try\n        {\n            ImageIO.write(img, &quot;png&quot;, new File(&quot;Page-&quot; + (fill ? &quot;Filled&quot; : &quot;&quot;) + &quot;.png&quot;));\n        }\n        catch (IOException ex)\n        {\n            ex.printStackTrace();\n        }\n    }\n\n    public static class ComponentPrinter\n            implements Printable\n    {\n        private Component comp;\n        private boolean   fill;\n\n        public ComponentPrinter(Component comp, boolean fill)\n        {\n            this.comp = comp;\n            this.fill = fill;\n        }\n\n        @Override\n        public int print(Graphics g, PageFormat format, int page_index)\n        {\n            if (page_index &gt; 0)\n            {\n                return Printable.NO_SUCH_PAGE;\n            }\n\n            Graphics2D g2 = (Graphics2D) g;\n            g2.translate(format.getImageableX(), format.getImageableY());\n\n            double width  = (int) Math.floor(format.getImageableWidth());\n            double height = (int) Math.floor(format.getImageableHeight());\n\n            if (!fill)\n            {\n\n                width = Math.min(width, comp.getPreferredSize().width);\n                height = Math.min(height, comp.getPreferredSize().height);\n\n            }\n\n            comp.setBounds(0, 0, (int) Math.floor(width), (int) Math.floor(height));\n            if (comp.getParent() == null)\n            {\n                comp.addNotify();\n            }\n            comp.validate();\n            comp.doLayout();\n            comp.printAll(g2);\n            if (comp.getParent() != null)\n            {\n                comp.removeNotify();\n            }\n\n            return Printable.PAGE_EXISTS;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","spring-boot","backend"],"comments":[{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1684300808,"post_id":76268477,"comment_id":134496327,"body_markdown":"Have you looked into OIDC flows? Here&#39;s a Baeldung example for OIDC [Tutorial](https://www.baeldung.com/spring-security-openid-connect). There are multiple ways to verify the Id Token, some identity provider have a verfication endpoint e.g.","body":"Have you looked into OIDC flows? Here&#39;s a Baeldung example for OIDC <a href=\"https://www.baeldung.com/spring-security-openid-connect\" rel=\"nofollow noreferrer\">Tutorial</a>. There are multiple ways to verify the Id Token, some identity provider have a verfication endpoint e.g."},{"owner":{"account_id":13939713,"reputation":21,"user_id":10065940,"display_name":"Youssif Hossam"},"score":0,"creation_date":1684305819,"post_id":76268477,"comment_id":134497021,"body_markdown":"i will check it out","body":"i will check it out"}],"owner":{"account_id":13939713,"reputation":21,"user_id":10065940,"display_name":"Youssif Hossam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684296188,"creation_date":1684296188,"question_id":76268477,"body_markdown":"I&#39;m working on a personal project spring boot for the back-end and android kotlin \r\nnow I want to add third-party authentication like Facebook and google like any other well-respected app \r\nafter surfing the web and asking chat-GPT I have arrived at noting \r\nwhat I&#39;m trying to do is  \r\n- in my Android app, the user will sign up via either Google or Facebook \r\n- the selected Oauth provider will return an object that contains some token \r\n- I will send the token to my back-end and there I can send this token for verification to the \r\n  chosen Oauth provider\r\n- if that token is legit then I will generate a JWT  for that user and use it instead \r\n  throughout the application \r\n\r\nwhat I need is a way for my spring-boot back-end to verify some kind of token that I can get from the sign-in button via either Google or Facebook in the android ","title":"third party Oauth authentication and email verification","body":"<p>I'm working on a personal project spring boot for the back-end and android kotlin\nnow I want to add third-party authentication like Facebook and google like any other well-respected app\nafter surfing the web and asking chat-GPT I have arrived at noting\nwhat I'm trying to do is</p>\n<ul>\n<li>in my Android app, the user will sign up via either Google or Facebook</li>\n<li>the selected Oauth provider will return an object that contains some token</li>\n<li>I will send the token to my back-end and there I can send this token for verification to the\nchosen Oauth provider</li>\n<li>if that token is legit then I will generate a JWT  for that user and use it instead\nthroughout the application</li>\n</ul>\n<p>what I need is a way for my spring-boot back-end to verify some kind of token that I can get from the sign-in button via either Google or Facebook in the android</p>\n"},{"tags":["java","android","react-native","gradle"],"comments":[{"owner":{"account_id":21209622,"reputation":356,"user_id":15598519,"display_name":"LegendSayantan"},"score":0,"creation_date":1649334391,"post_id":71781962,"comment_id":126852541,"body_markdown":"It clearly says that you can&#39;t use java 1.8 . To continue with JDK 11 , go to Project Structure &gt; SDK location &gt; Jdk location was moved to Gradle Settings &gt; Gradle JDK drop down menu &gt; Select &quot;Embedded JDK&quot;.","body":"It clearly says that you can&#39;t use java 1.8 . To continue with JDK 11 , go to Project Structure &gt; SDK location &gt; Jdk location was moved to Gradle Settings &gt; Gradle JDK drop down menu &gt; Select &quot;Embedded JDK&quot;."},{"owner":{"account_id":19388265,"reputation":233,"user_id":14177537,"display_name":"selcukctn"},"score":0,"creation_date":1649335099,"post_id":71781962,"comment_id":126852833,"body_markdown":"when i change it as said ,&quot; Task :react-native-gradle-plugin:compileKotlin\n&#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compatibility should be set to the same Java version.&quot; this error not fixed","body":"when i change it as said ,&quot; Task :react-native-gradle-plugin:compileKotlin &#39;compileJava&#39; task (current target is 1.8) and &#39;compileKotlin&#39; task (current target is 11) jvm target compatibility should be set to the same Java version.&quot; this error not fixed"}],"answers":[{"comments":[{"owner":{"account_id":17198464,"reputation":325,"user_id":12450694,"display_name":"yalcinozer"},"score":0,"creation_date":1649342199,"post_id":71782823,"comment_id":126856002,"body_markdown":"Modifying files in node_modules folder is not a good idea.","body":"Modifying files in node_modules folder is not a good idea."},{"owner":{"account_id":19388265,"reputation":233,"user_id":14177537,"display_name":"selcukctn"},"score":0,"creation_date":1649410973,"post_id":71782823,"comment_id":126873655,"body_markdown":"you are right but its working","body":"you are right but its working"}],"tags":[],"owner":{"account_id":19388265,"reputation":233,"user_id":14177537,"display_name":"selcukctn"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1649337134,"creation_date":1649337134,"answer_id":71782823,"question_id":71781962,"body_markdown":"what you need to do;\r\n\r\n 1. log into my computer\r\n 2. right click and select properties\r\n 3. enter advanced system settings\r\n 4. add new path name: JAVA_HOME\r\n 5. select the java 11 jdk location and save it\r\n\r\nor \r\n\r\n 1. open cmd for adminstator\r\n 2. setx JAVA_HOME -m &quot;path&quot;\r\n\r\nAfter doing all of them, delete your old React Native project and install a new one.\r\n\r\nor \r\n \r\n\r\n 1. open project with android stiduo\r\n 2. find node_moduls -&gt; react-native-gradle-plugin -&gt; build.gradle -&gt; change java 1.8 to java 11.0\r\n\r\n\r\n","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. React Native","body":"<p>what you need to do;</p>\n<ol>\n<li>log into my computer</li>\n<li>right click and select properties</li>\n<li>enter advanced system settings</li>\n<li>add new path name: JAVA_HOME</li>\n<li>select the java 11 jdk location and save it</li>\n</ol>\n<p>or</p>\n<ol>\n<li>open cmd for adminstator</li>\n<li>setx JAVA_HOME -m &quot;path&quot;</li>\n</ol>\n<p>After doing all of them, delete your old React Native project and install a new one.</p>\n<p>or</p>\n<ol>\n<li>open project with android stiduo</li>\n<li>find node_moduls -&gt; react-native-gradle-plugin -&gt; build.gradle -&gt; change java 1.8 to java 11.0</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22010094,"reputation":1,"user_id":16280503,"display_name":"xbstrxct"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659956502,"creation_date":1659956502,"answer_id":73276843,"question_id":71781962,"body_markdown":"Try following commands:\r\n\r\n`nano ./zshrc`\r\n\r\nFind JAVA_HOME and replace with your v11 java path.\r\nYou can find the path here:\r\n\r\n`/usr/libexec/java_home -V`\r\n\r\nSave the file, re-launch the terminal and try again.\r\n","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. React Native","body":"<p>Try following commands:</p>\n<p><code>nano ./zshrc</code></p>\n<p>Find JAVA_HOME and replace with your v11 java path.\nYou can find the path here:</p>\n<p><code>/usr/libexec/java_home -V</code></p>\n<p>Save the file, re-launch the terminal and try again.</p>\n"},{"comments":[{"owner":{"account_id":18740842,"reputation":3833,"user_id":13664137,"display_name":"moken"},"score":0,"creation_date":1684152955,"post_id":76246028,"comment_id":134470470,"body_markdown":"Answer needs supporting information\nYour answer could be improved with additional supporting information. Please [edit](https://stackoverflow.com/posts/76246028/edit) to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](https://stackoverflow.com/help/how-to-answer).","body":"Answer needs supporting information Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76246028/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"https://stackoverflow.com/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8097807,"reputation":66,"user_id":7553216,"display_name":"Nicky"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684292024,"creation_date":1684043194,"answer_id":76246028,"question_id":71781962,"body_markdown":"What you need to do：\r\n\r\n- Download jdk11:\r\n   https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html\r\n- Config `android/gradle.properties`\r\n\r\n\r\n```bash\r\norg.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-11.jdk/contents/Home\r\n```","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. React Native","body":"<p>What you need to do：</p>\n<ul>\n<li>Download jdk11:\n<a href=\"https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/in/java/technologies/javase/jdk11-archive-downloads.html</a></li>\n<li>Config <code>android/gradle.properties</code></li>\n</ul>\n<pre class=\"lang-bash prettyprint-override\"><code>org.gradle.java.home=/Library/Java/JavaVirtualMachines/jdk-11.jdk/contents/Home\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22589321,"reputation":39,"user_id":16772693,"display_name":"ninh312"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684296172,"creation_date":1684296172,"answer_id":76268476,"question_id":71781962,"body_markdown":"if you need to upgrade jdk, android studio provides a quick way to do it\r\n**File** -&gt;**Setting** -&gt;**Build,Execution,Deployment** -&gt;**Build Tools** -&gt;**Gradle**\r\nIn Gradle JDK selected version you want\r\n\r\n","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. React Native","body":"<p>if you need to upgrade jdk, android studio provides a quick way to do it\n<strong>File</strong> -&gt;<strong>Setting</strong> -&gt;<strong>Build,Execution,Deployment</strong> -&gt;<strong>Build Tools</strong> -&gt;<strong>Gradle</strong>\nIn Gradle JDK selected version you want</p>\n"}],"owner":{"account_id":19388265,"reputation":233,"user_id":14177537,"display_name":"selcukctn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4008,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":71782823,"answer_count":4,"score":5,"last_activity_date":1684296172,"creation_date":1649333520,"question_id":71781962,"body_markdown":"I get the same issue as in this question when I do react-native run-android. I think it wants java 11 but I want to continue with 1.8. How can I do it?\r\n\r\nhttps://stackoverflow.com/questions/69997158/android-studio-com-android-internal-application-java-11-fix-gradle-project","title":"Android Gradle plugin requires Java 11 to run. You are currently using Java 1.8. React Native","body":"<p>I get the same issue as in this question when I do react-native run-android. I think it wants java 11 but I want to continue with 1.8. How can I do it?</p>\n<p><a href=\"https://stackoverflow.com/questions/69997158/android-studio-com-android-internal-application-java-11-fix-gradle-project\">Android Studio - &#39;com.android.internal.application&#39; Java 11 - fix gradle projects not visibile in Android studio</a></p>\n"},{"tags":["java","android","transparent","launcher","homescreen"],"answers":[{"tags":[],"owner":{"account_id":2653529,"reputation":8176,"user_id":2294683,"accept_rate":50,"display_name":"Andrew Orobator"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684296171,"creation_date":1684296171,"answer_id":76268475,"question_id":76204410,"body_markdown":"To set your application as the default launcher and ensure that it replaces the previously set launcher on the home screen, you can make use of the `CLEAR_TOP` flag in the `Intent` used to start your main activity. This flag clears the activity stack of the target application, removing any previously opened activities.\r\n\r\nHere&#39;s an example of how you can modify your `MainActivity` to achieve this:\r\n\r\n\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n   super.onCreate(savedInstanceState);\r\n\r\n   // Check if the application is already the default launcher\r\n   if (!isMyLauncherDefault()) {\r\n       // Create an intent with the CLEAR_TOP flag\r\n       Intent intent = new Intent(Intent.ACTION_MAIN);\r\n       intent.addCategory(Intent.CATEGORY_HOME);\r\n       intent.addCategory(Intent.CATEGORY_DEFAULT);\r\n       intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\r\n       // Start the intent\r\n       startActivity(intent);\r\n       finish();\r\n   }\r\n   // Rest of your onCreate code...\r\n}\r\n```\r\n\r\nThe `isMyLauncherDefault()` method is used to check if your application is already set as the default launcher. You can implement it as follows:\r\n\r\n```java\r\nprivate boolean isMyLauncherDefault() {\r\n   String packageName = getPackageName();\r\n   String defaultLauncher = null;\r\n\r\n   Intent intent = new Intent(Intent.ACTION_MAIN);\r\n   intent.addCategory(Intent.CATEGORY_HOME);\r\n\r\n   ResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\r\n   if (resolveInfo != null &amp;&amp; resolveInfo.activityInfo != null) {\r\n       defaultLauncher = resolveInfo.activityInfo.packageName;\r\n   }\r\n\r\n   return defaultLauncher != null &amp;&amp; defaultLauncher.equals(packageName);\r\n}\r\n```\r\n\r\nThis code will check if your application is already the default launcher. If it&#39;s not, it will create an `Intent` with the `CLEAR_TOP` flag and start the intent to bring your launcher to the front, effectively replacing the previous launcher. The `finish()` method is called to ensure that the previous launcher&#39;s activities are removed from the stack.\r\n\r\nRemember to replace `MainActivity` with the correct name of your launcher&#39;s main activity class.\r\n\r\nBy using this approach, your launcher will be set as the default and will replace the previous launcher on the home screen.","title":"Android Homescreen Launcher App Development - Previous launcher shows behind my transparent launcher activity","body":"<p>To set your application as the default launcher and ensure that it replaces the previously set launcher on the home screen, you can make use of the <code>CLEAR_TOP</code> flag in the <code>Intent</code> used to start your main activity. This flag clears the activity stack of the target application, removing any previously opened activities.</p>\n<p>Here's an example of how you can modify your <code>MainActivity</code> to achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n   super.onCreate(savedInstanceState);\n\n   // Check if the application is already the default launcher\n   if (!isMyLauncherDefault()) {\n       // Create an intent with the CLEAR_TOP flag\n       Intent intent = new Intent(Intent.ACTION_MAIN);\n       intent.addCategory(Intent.CATEGORY_HOME);\n       intent.addCategory(Intent.CATEGORY_DEFAULT);\n       intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n       // Start the intent\n       startActivity(intent);\n       finish();\n   }\n   // Rest of your onCreate code...\n}\n</code></pre>\n<p>The <code>isMyLauncherDefault()</code> method is used to check if your application is already set as the default launcher. You can implement it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean isMyLauncherDefault() {\n   String packageName = getPackageName();\n   String defaultLauncher = null;\n\n   Intent intent = new Intent(Intent.ACTION_MAIN);\n   intent.addCategory(Intent.CATEGORY_HOME);\n\n   ResolveInfo resolveInfo = getPackageManager().resolveActivity(intent, PackageManager.MATCH_DEFAULT_ONLY);\n   if (resolveInfo != null &amp;&amp; resolveInfo.activityInfo != null) {\n       defaultLauncher = resolveInfo.activityInfo.packageName;\n   }\n\n   return defaultLauncher != null &amp;&amp; defaultLauncher.equals(packageName);\n}\n</code></pre>\n<p>This code will check if your application is already the default launcher. If it's not, it will create an <code>Intent</code> with the <code>CLEAR_TOP</code> flag and start the intent to bring your launcher to the front, effectively replacing the previous launcher. The <code>finish()</code> method is called to ensure that the previous launcher's activities are removed from the stack.</p>\n<p>Remember to replace <code>MainActivity</code> with the correct name of your launcher's main activity class.</p>\n<p>By using this approach, your launcher will be set as the default and will replace the previous launcher on the home screen.</p>\n"}],"owner":{"account_id":28551280,"reputation":1,"user_id":21856127,"display_name":"schendes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684296171,"creation_date":1683580616,"question_id":76204410,"body_markdown":"I&#39;m developing an Android launcher homescreen app, and whenever I go to set the application I&#39;m developing as the default launcher, it shows my launcher over the previously set default launcher on the homescreen.\r\n\r\nI want to use the system background, so my homescreen app&#39;s main activity has a transparent background, but I don&#39;t want it sitting on top of the previous launcher&#39;s UI (OneUI).\r\n\r\nIs there an activity tag that should be in my application manifest, or something to ensure the previously set launcher is no longer running? Thanks for any help! \r\n\r\n[example outcome](https://i.stack.imgur.com/gyeWj.png)\r\n\r\nI&#39;ve looked into how I can close other tasks on Android, but my app doesn&#39;t have the permissions. I&#39;m not sure how else to remove other apps from the UI under my transparent default launcher within the scope of its permissions.\r\n\r\nThis is the current activity in the manifest:\r\n\r\n```\r\n&lt;activity\r\n   android:launchMode=&quot;singleTask&quot;\r\n   android:name=&quot;.MainActivity&quot;\r\n   android:exported=&quot;true&quot;&gt;\r\n   &lt;intent-filter&gt;\r\n      &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n      &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n      &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n      &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\r\n   &lt;/intent-filter&gt;\r\n&lt;/activity&gt;\r\n```\r\n","title":"Android Homescreen Launcher App Development - Previous launcher shows behind my transparent launcher activity","body":"<p>I'm developing an Android launcher homescreen app, and whenever I go to set the application I'm developing as the default launcher, it shows my launcher over the previously set default launcher on the homescreen.</p>\n<p>I want to use the system background, so my homescreen app's main activity has a transparent background, but I don't want it sitting on top of the previous launcher's UI (OneUI).</p>\n<p>Is there an activity tag that should be in my application manifest, or something to ensure the previously set launcher is no longer running? Thanks for any help!</p>\n<p><a href=\"https://i.stack.imgur.com/gyeWj.png\" rel=\"nofollow noreferrer\">example outcome</a></p>\n<p>I've looked into how I can close other tasks on Android, but my app doesn't have the permissions. I'm not sure how else to remove other apps from the UI under my transparent default launcher within the scope of its permissions.</p>\n<p>This is the current activity in the manifest:</p>\n<pre><code>&lt;activity\n   android:launchMode=&quot;singleTask&quot;\n   android:name=&quot;.MainActivity&quot;\n   android:exported=&quot;true&quot;&gt;\n   &lt;intent-filter&gt;\n      &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n      &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n      &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n      &lt;category android:name=&quot;android.intent.category.HOME&quot; /&gt;\n   &lt;/intent-filter&gt;\n&lt;/activity&gt;\n</code></pre>\n"},{"tags":["java","kotlin","jpa","spring-data-jpa"],"owner":{"account_id":20297592,"reputation":735,"user_id":14887783,"display_name":"SageJustus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684293758,"creation_date":1684063005,"question_id":76247191,"body_markdown":"I have three tables where `ItemTag` acts as an intermediate table to relate the other two tables.\r\n```kotlin\r\ndata class Item(\r\n    val id: Int,\r\n    val title: String\r\n)\r\n\r\ndata class ItemTag(\r\n    val id: Int,\r\n    val itemId: Int,\r\n    val tagId: Int\r\n)\r\n\r\ndata class Tag(\r\n    val id: Int,\r\n    val title: String\r\n)\r\n```\r\nThen there is a projection DTO.\r\n```kotlin\r\ninterface ItemDTO {\r\n    val id: Int\r\n    val title: String\r\n    val tag: List&lt;String&gt;\r\n}\r\n```\r\nThen use JPQL custom query:\r\n```kotlin\r\n@Query(\r\n    &quot;&quot;&quot;\r\n    select\r\n    e.title as title,\r\n    e.id as id,\r\n    t.title as tag\r\n    from Item e\r\n    left join ItemTag it on e.id = it.itemId\r\n    left join Tag t on it.tagId = t.id\r\n    where e.id in (:ids)\r\n    &quot;&quot;&quot;\r\n)\r\nfun queryById(@Param(&quot;ids&quot;) ids: List&lt;Int&gt;): List&lt;ItemDTO&gt;\r\n```\r\nBut this code does not work properly, the `tag` field cannot be queried.\r\n\r\nWhat is the correct way to do it, note: I don&#39;t want to use foreign key associations, that is, I don&#39;t use annotations like `@OneToMany`\r\n\r\n","title":"How to use DTO projection without using foreign key association?","body":"<p>I have three tables where <code>ItemTag</code> acts as an intermediate table to relate the other two tables.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Item(\n    val id: Int,\n    val title: String\n)\n\ndata class ItemTag(\n    val id: Int,\n    val itemId: Int,\n    val tagId: Int\n)\n\ndata class Tag(\n    val id: Int,\n    val title: String\n)\n</code></pre>\n<p>Then there is a projection DTO.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>interface ItemDTO {\n    val id: Int\n    val title: String\n    val tag: List&lt;String&gt;\n}\n</code></pre>\n<p>Then use JPQL custom query:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Query(\n    &quot;&quot;&quot;\n    select\n    e.title as title,\n    e.id as id,\n    t.title as tag\n    from Item e\n    left join ItemTag it on e.id = it.itemId\n    left join Tag t on it.tagId = t.id\n    where e.id in (:ids)\n    &quot;&quot;&quot;\n)\nfun queryById(@Param(&quot;ids&quot;) ids: List&lt;Int&gt;): List&lt;ItemDTO&gt;\n</code></pre>\n<p>But this code does not work properly, the <code>tag</code> field cannot be queried.</p>\n<p>What is the correct way to do it, note: I don't want to use foreign key associations, that is, I don't use annotations like <code>@OneToMany</code></p>\n"},{"tags":["java","jmeter"],"comments":[{"owner":{"account_id":516334,"reputation":4808,"user_id":1680826,"accept_rate":60,"display_name":"botchniaque"},"score":1,"creation_date":1437553736,"post_id":14828027,"comment_id":51072056,"body_markdown":"probably user starting jmeter has no permissions to `/opt/apache-jmeter-2.6` directory. Try running as root, but better option is to add needed permissions `sudo chmod -R u+w /opt/apache-jmeter-2.6`","body":"probably user starting jmeter has no permissions to <code>&#47;opt&#47;apache-jmeter-2.6</code> directory. Try running as root, but better option is to add needed permissions <code>sudo chmod -R u+w &#47;opt&#47;apache-jmeter-2.6</code>"},{"owner":{"account_id":913756,"reputation":973,"user_id":1366617,"accept_rate":71,"display_name":"yousafsajjad"},"score":0,"creation_date":1449767902,"post_id":14828027,"comment_id":56160241,"body_markdown":"Check jmeter.log in the same directory and copy error messages to provide more information","body":"Check jmeter.log in the same directory and copy error messages to provide more information"},{"owner":{"account_id":3387473,"reputation":2354,"user_id":2843151,"accept_rate":89,"display_name":"bikeman868"},"score":0,"creation_date":1558819860,"post_id":14828027,"comment_id":99227966,"body_markdown":"I just came across the same issue. The current JMeter download does not include the lib folder and seems to be a faulty build.","body":"I just came across the same issue. The current JMeter download does not include the lib folder and seems to be a faulty build."},{"owner":{"account_id":19252859,"reputation":355,"user_id":14070426,"display_name":"Abhishek Puri"},"score":0,"creation_date":1605586404,"post_id":14828027,"comment_id":114689161,"body_markdown":"chmod -R 777 ./ will help","body":"chmod -R 777 ./ will help"}],"answers":[{"comments":[{"owner":{"account_id":2309026,"reputation":111,"user_id":2027613,"display_name":"cutejakes ."},"score":0,"creation_date":1360725264,"post_id":14830690,"comment_id":20805878,"body_markdown":"Hi I already tried the jmeter 2.9, I used the installer which I download. apache-jmeter-2.9.zip, apache-jmeter-2.9_src.tgz, apache-jmeter-2.9_src.zip but I still encounter same problem. Here&#39;s what I did I extracted the file on /opt/ then make it executable the apache-jmeter-2.9 by issuing this command chmod 770 -R apache-jmeter-2.9 then copy the ApacheJMeter.jar inside apache-jmeter-2.9/bin and run ./jmeter.sh but I still get or encounter same error. Please kindly let me know the proper procedure or steps on installing the apachejmeter.","body":"Hi I already tried the jmeter 2.9, I used the installer which I download. apache-jmeter-2.9.zip, apache-jmeter-2.9_src.tgz, apache-jmeter-2.9_src.zip but I still encounter same problem. Here&#39;s what I did I extracted the file on /opt/ then make it executable the apache-jmeter-2.9 by issuing this command chmod 770 -R apache-jmeter-2.9 then copy the ApacheJMeter.jar inside apache-jmeter-2.9/bin and run ./jmeter.sh but I still get or encounter same error. Please kindly let me know the proper procedure or steps on installing the apachejmeter."},{"owner":{"account_id":970613,"reputation":12755,"user_id":993246,"display_name":"Aliaksandr Belik"},"score":0,"creation_date":1360742467,"post_id":14830690,"comment_id":20810677,"body_markdown":"1. jmeter.sh is very basic JMeter script with no JVM options specified; try also `jmeter` script instead (`./jmeter` or `sh jmeter`); 2. have you checked your JDK installation and version? 3. `then copy the ApacheJMeter.jar inside apache-jmeter-2.9/bin` - no need to copy ApacheJMeter.jar into /bin dir, it&#39;s already there in out-of-box installation.","body":"1. jmeter.sh is very basic JMeter script with no JVM options specified; try also <code>jmeter</code> script instead (<code>.&#47;jmeter</code> or <code>sh jmeter</code>); 2. have you checked your JDK installation and version? 3. <code>then copy the ApacheJMeter.jar inside apache-jmeter-2.9&#47;bin</code> - no need to copy ApacheJMeter.jar into /bin dir, it&#39;s already there in out-of-box installation."},{"owner":{"account_id":11020469,"reputation":866,"user_id":8094897,"display_name":"RMati"},"score":0,"creation_date":1602225533,"post_id":14830690,"comment_id":113658294,"body_markdown":"I had same issue and resolve it by downloading it from different mirror.","body":"I had same issue and resolve it by downloading it from different mirror."}],"tags":[],"owner":{"account_id":970613,"reputation":12755,"user_id":993246,"display_name":"Aliaksandr Belik"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1602238389,"creation_date":1360665971,"answer_id":14830690,"question_id":14828027,"body_markdown":"Your JMeter installation may be broken.&lt;br&gt;\r\nYou can possibly try the following:\r\n\r\n1. try to use a fresh installation of [last available JMeter version](http://jmeter.apache.org/download_jmeter.cgi#binaries) instead of your current - if using 2.6 is no requirement in your case;\r\n2. check the integrity of downloaded JMeter archive against [PGP or MD5 signatures](http://www.apache.org/info/verification.html);\r\n3. class `org.apache.jmeter.JMeter` should be in the file `JMETER_HOME/lib/ext/ApacheJMeter_core.jar`. Check if this is there or not. Check that jar is not broken;\r\n4. check that `$JAVA_HOME` is defined and points to [actual JDK](https://jmeter.apache.org/usermanual/get-started.html#java_versions).","title":"JMeter Installation","body":"<p>Your JMeter installation may be broken.<br>\nYou can possibly try the following:</p>\n<ol>\n<li>try to use a fresh installation of <a href=\"http://jmeter.apache.org/download_jmeter.cgi#binaries\" rel=\"nofollow noreferrer\">last available JMeter version</a> instead of your current - if using 2.6 is no requirement in your case;</li>\n<li>check the integrity of downloaded JMeter archive against <a href=\"http://www.apache.org/info/verification.html\" rel=\"nofollow noreferrer\">PGP or MD5 signatures</a>;</li>\n<li>class <code>org.apache.jmeter.JMeter</code> should be in the file <code>JMETER_HOME/lib/ext/ApacheJMeter_core.jar</code>. Check if this is there or not. Check that jar is not broken;</li>\n<li>check that <code>$JAVA_HOME</code> is defined and points to <a href=\"https://jmeter.apache.org/usermanual/get-started.html#java_versions\" rel=\"nofollow noreferrer\">actual JDK</a>.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":2309026,"reputation":111,"user_id":2027613,"display_name":"cutejakes ."},"score":0,"creation_date":1360724153,"post_id":14830977,"comment_id":20805655,"body_markdown":"I got the following error when I run the command you give to me. How can solve or fix that error?\n\n\n[root@bx1 bin]# jar -tf /opt/apache-jmeter-2.6/lib/ext/ApacheJMeter_core.jar \n\n\njava.util.zip.ZipException: error in opening zip file\n\tat java.util.zip.ZipFile.open(Native Method)\n\tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:131)\n\tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:92)\n\tat sun.tools.jar.Main.list(Main.java:997)\n\tat sun.tools.jar.Main.run(Main.java:242)\n\tat sun.tools.jar.Main.main(Main.java:1167)\nYou have new mail in /var/spool/mail/root\n[root@bx1 bin]#","body":"I got the following error when I run the command you give to me. How can solve or fix that error?   [root@bx1 bin]# jar -tf /opt/apache-jmeter-2.6/lib/ext/ApacheJMeter_core.jar    java.util.zip.ZipException: error in opening zip file \tat java.util.zip.ZipFile.open(Native Method) \tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:131) \tat java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:92) \tat sun.tools.jar.Main.list(Main.java:997) \tat sun.tools.jar.Main.run(Main.java:242) \tat sun.tools.jar.Main.main(Main.java:1167) You have new mail in /var/spool/mail/root [root@bx1 bin]#"},{"owner":{"account_id":2304421,"reputation":510,"user_id":2023987,"display_name":"Ramadas"},"score":0,"creation_date":1360986952,"post_id":14830977,"comment_id":20910545,"body_markdown":"The error shows that your jar might be corrupted. The installation is strait forward and you need not copy any jars in to bin directory. Verify your downloaded file for correctness.","body":"The error shows that your jar might be corrupted. The installation is strait forward and you need not copy any jars in to bin directory. Verify your downloaded file for correctness."}],"tags":[],"owner":{"account_id":2304421,"reputation":510,"user_id":2023987,"display_name":"Ramadas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360733806,"creation_date":1360666863,"answer_id":14830977,"question_id":14828027,"body_markdown":"Looks like your JMeter installation is not successful.\r\n\r\n    java.lang.ClassNotFoundException: org.apache.jmeter.JMeter\r\n\r\nThe class org.apache.jmeter.JMeter should be in the jar file `&lt;JMETER_HOME&gt;/lib/ext/ApacheJMeter_core.jar`. Run the below jar command to check if the file exists in the jar.\r\n\r\n    jar -tf &lt;JMETER_HOME&gt;/lib/ext/ApacheJMeter_core.jar \r\n\r\n","title":"JMeter Installation","body":"<p>Looks like your JMeter installation is not successful.</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.apache.jmeter.JMeter\n</code></pre>\n\n<p>The class org.apache.jmeter.JMeter should be in the jar file <code>&lt;JMETER_HOME&gt;/lib/ext/ApacheJMeter_core.jar</code>. Run the below jar command to check if the file exists in the jar.</p>\n\n<pre><code>jar -tf &lt;JMETER_HOME&gt;/lib/ext/ApacheJMeter_core.jar \n</code></pre>\n"},{"tags":[],"owner":{"account_id":365360,"reputation":3605,"user_id":710238,"accept_rate":72,"display_name":"Manish Sapariya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376624101,"creation_date":1376624101,"answer_id":18265403,"question_id":14828027,"body_markdown":"This may sound wierd, but I have seen many java program raise such random errors, when run with openjdk which ships by default with CentOS. In such cases, I could run same programs with SUN/Oracle JDK.\r\n\r\nYou should try that if everything else fail.\r\n\r\nYou will have to appropriately set JAVA_HOME and PATH, which has newer java in it.","title":"JMeter Installation","body":"<p>This may sound wierd, but I have seen many java program raise such random errors, when run with openjdk which ships by default with CentOS. In such cases, I could run same programs with SUN/Oracle JDK.</p>\n\n<p>You should try that if everything else fail.</p>\n\n<p>You will have to appropriately set JAVA_HOME and PATH, which has newer java in it.</p>\n"},{"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1430737503,"post_id":30028213,"comment_id":48173422,"body_markdown":"Please note that [link-only answers are discouraged](http://meta.stackoverflow.com/tags/link-only-answers/info), SO answers should be the end-point of a search for a solution (vs. yet another stopover of references, which tend to get stale over time). Please consider adding a stand-alone synopsis here, keeping the link as a reference.","body":"Please note that <a href=\"http://meta.stackoverflow.com/tags/link-only-answers/info\">link-only answers are discouraged</a>, SO answers should be the end-point of a search for a solution (vs. yet another stopover of references, which tend to get stale over time). Please consider adding a stand-alone synopsis here, keeping the link as a reference."}],"tags":[],"owner":{"account_id":1857103,"reputation":39,"user_id":1682436,"display_name":"Tarun Gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430736435,"creation_date":1430736435,"answer_id":30028213,"question_id":14828027,"body_markdown":"Download latest version of jmeter and run the jar file .\r\n\r\ncheck the below link http://www.thetestingworld.com/category/docs/jmeter/","title":"JMeter Installation","body":"<p>Download latest version of jmeter and run the jar file .</p>\n\n<p>check the below link <a href=\"http://www.thetestingworld.com/category/docs/jmeter/\" rel=\"nofollow\">http://www.thetestingworld.com/category/docs/jmeter/</a></p>\n"},{"tags":[],"owner":{"account_id":6182489,"reputation":421,"user_id":4817488,"display_name":"Dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1512965630,"creation_date":1430847031,"answer_id":30059558,"question_id":14828027,"body_markdown":"ClassNotFoundException has 2 possible meanings:\r\n\r\n 1. You don&#39;t have a jar with the class defined\r\n 2. You have *duplicate* definitions of that class. \r\n\r\nMaybe you are stuck with some jar in a folder common to all your java programs? e.g your path, or libraries/java/extensions\r\n\r\n","title":"JMeter Installation","body":"<p>ClassNotFoundException has 2 possible meanings:</p>\n\n<ol>\n<li>You don't have a jar with the class defined</li>\n<li>You have <em>duplicate</em> definitions of that class. </li>\n</ol>\n\n<p>Maybe you are stuck with some jar in a folder common to all your java programs? e.g your path, or libraries/java/extensions</p>\n"},{"tags":[],"owner":{"account_id":3565087,"reputation":193,"user_id":2976849,"accept_rate":60,"display_name":"Rams"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431363893,"creation_date":1431363893,"answer_id":30173571,"question_id":14828027,"body_markdown":"Please use the latest version of jmeter as it has all the fixes which you could be looking for","title":"JMeter Installation","body":"<p>Please use the latest version of jmeter as it has all the fixes which you could be looking for</p>\n"},{"tags":[],"owner":{"account_id":3984502,"reputation":113,"user_id":3285525,"accept_rate":100,"display_name":"user3285525"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1436573333,"creation_date":1436572192,"answer_id":31351966,"question_id":14828027,"body_markdown":"There is basically no installation of the Jmeter, you don&#39;t execute or the set up file to install it. When you download the zip/gzip from the Apache site unzip, navigate to the `bin` folder and click on the `ApacheJmeter.Jar`. This will launch the Jmeter UI instance. Also make sure you the Java JDK and JRE installed in your system.\r\n\r\nCan you please let us know the OS version you are trying to install?","title":"JMeter Installation","body":"<p>There is basically no installation of the Jmeter, you don't execute or the set up file to install it. When you download the zip/gzip from the Apache site unzip, navigate to the <code>bin</code> folder and click on the <code>ApacheJmeter.Jar</code>. This will launch the Jmeter UI instance. Also make sure you the Java JDK and JRE installed in your system.</p>\n\n<p>Can you please let us know the OS version you are trying to install?</p>\n"},{"tags":[],"owner":{"account_id":2642572,"reputation":588,"user_id":2285933,"accept_rate":49,"display_name":"trai bui"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1437641218,"creation_date":1437640910,"answer_id":31582297,"question_id":14828027,"body_markdown":"it seem permision error, try this command line,\r\n\r\n&gt; sudo chmod -R 777 /opt/\r\n\r\nmake sure you have install oracle jdk,check this, \r\n\r\n&gt; java -version\r\n&gt; \r\n&gt; \r\n&gt; java version &quot;1.8.0_45&quot;\r\n&gt; \r\n&gt; Java(TM) SE Runtime Environment (build1.8.0_45-b14)  \r\nJava HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)\r\n\r\ncheck java_home\r\n\r\n\r\n&gt; echo $JAVA_HOME\r\n&gt; \r\n&gt; /usr/lib/jvm/java-8-oracle/jre\r\n\r\n\r\n\r\n\r\n","title":"JMeter Installation","body":"<p>it seem permision error, try this command line,</p>\n\n<blockquote>\n  <p>sudo chmod -R 777 /opt/</p>\n</blockquote>\n\n<p>make sure you have install oracle jdk,check this, </p>\n\n<blockquote>\n  <p>java -version</p>\n  \n  <p>java version \"1.8.0_45\"</p>\n  \n  <p>Java(TM) SE Runtime Environment (build1.8.0_45-b14)<br>\n  Java HotSpot(TM) 64-Bit Server VM (build 25.45-b02, mixed mode)</p>\n</blockquote>\n\n<p>check java_home</p>\n\n<blockquote>\n  <p>echo $JAVA_HOME</p>\n  \n  <p>/usr/lib/jvm/java-8-oracle/jre</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2187925,"reputation":2707,"user_id":1935861,"accept_rate":85,"display_name":"astorije"},"score":3,"creation_date":1437731348,"post_id":31607110,"comment_id":51164711,"body_markdown":"Is this a joke? No, please NO, DO NOT TRY THIS! `chmod -R 777` is usually a bad practice, depending on what follows (`/mydir/uploads/` might be acceptable for example). Here this is a directory at root level used to install software, you should never do that.","body":"Is this a joke? No, please NO, DO NOT TRY THIS! <code>chmod -R 777</code> is usually a bad practice, depending on what follows (<code>&#47;mydir&#47;uploads&#47;</code> might be acceptable for example). Here this is a directory at root level used to install software, you should never do that."},{"owner":{"account_id":2440294,"reputation":1,"user_id":4345359,"display_name":"Sac Phamvan"},"score":0,"creation_date":1437732459,"post_id":31607110,"comment_id":51165404,"body_markdown":"/opt/ is the system folder and this message java.lang.Throwable: Could not access /opt/apache-jmeter-2.6/lib/ext, you should have root or permission to  acess that folder","body":"/opt/ is the system folder and this message java.lang.Throwable: Could not access /opt/apache-jmeter-2.6/lib/ext, you should have root or permission to  acess that folder"},{"owner":{"account_id":2187925,"reputation":2707,"user_id":1935861,"accept_rate":85,"display_name":"astorije"},"score":0,"creation_date":1437732669,"post_id":31607110,"comment_id":51165536,"body_markdown":"To that very specific directory, yes, but not a 777 on `/opt/`!!","body":"To that very specific directory, yes, but not a 777 on <code>&#47;opt&#47;</code>!!"}],"tags":[],"owner":{"account_id":2440294,"reputation":1,"user_id":4345359,"display_name":"Sac Phamvan"},"comment_count":3,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1437730656,"creation_date":1437730656,"answer_id":31607110,"question_id":14828027,"body_markdown":"try this \r\n\r\n&gt; sudo chmod -R 777 /opt/","title":"JMeter Installation","body":"<p>try this </p>\n\n<blockquote>\n  <p>sudo chmod -R 777 /opt/</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7067487,"reputation":1,"user_id":5411111,"display_name":"Andresnet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444057200,"creation_date":1444055952,"answer_id":32951301,"question_id":14828027,"body_markdown":"    JAVA_HOME=path JAVA_HOME\r\n\r\nand modify this line in script jmeter\r\n\r\n    java $JVM_ARGS $JMETER_OPTS -jar &quot;$PRGDIR/ApacheJMeter.jar&quot; &quot;$@&quot;\r\n\r\nfor this\r\n\r\n    $JAVA_HOME/bin/java $JVM_ARGS $JMETER_OPTS -jar &quot;$PRGDIR/ApacheJMeter.jar&quot; &quot;$@&quot;","title":"JMeter Installation","body":"<pre><code>JAVA_HOME=path JAVA_HOME\n</code></pre>\n\n<p>and modify this line in script jmeter</p>\n\n<pre><code>java $JVM_ARGS $JMETER_OPTS -jar \"$PRGDIR/ApacheJMeter.jar\" \"$@\"\n</code></pre>\n\n<p>for this</p>\n\n<pre><code>$JAVA_HOME/bin/java $JVM_ARGS $JMETER_OPTS -jar \"$PRGDIR/ApacheJMeter.jar\" \"$@\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11646091,"reputation":11,"user_id":8528921,"display_name":"Abhinay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504129572,"creation_date":1504121325,"answer_id":45968355,"question_id":14828027,"body_markdown":"Check your JDK version. It should always be the latest for jmeter.","title":"JMeter Installation","body":"<p>Check your JDK version. It should always be the latest for jmeter.</p>\n"},{"tags":[],"owner":{"account_id":9016316,"reputation":75,"user_id":6719046,"accept_rate":50,"display_name":"Shan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510252044,"creation_date":1510252044,"answer_id":47209077,"question_id":14828027,"body_markdown":"Below are possbile issues\r\n\r\n 1. Either Java Path not set properly\r\n 2. Your installation of JMeter is not proper\r\n 3. Trying to run JMeter from a Invalid directory structure where the\r\n    necessary lib files are not found\r\n 4. Finally your Java version compatibility.\r\n\r\nQuick fix: \r\n\r\n 1. Check your Java Installation from cmd promt with java -version which should be 1.7\r\n    or greater\r\n 2. If above step works download and unzip/untar JMeter into a new\r\n    directory and try again.","title":"JMeter Installation","body":"<p>Below are possbile issues</p>\n\n<ol>\n<li>Either Java Path not set properly</li>\n<li>Your installation of JMeter is not proper</li>\n<li>Trying to run JMeter from a Invalid directory structure where the\nnecessary lib files are not found</li>\n<li>Finally your Java version compatibility.</li>\n</ol>\n\n<p>Quick fix: </p>\n\n<ol>\n<li>Check your Java Installation from cmd promt with java -version which should be 1.7\nor greater</li>\n<li>If above step works download and unzip/untar JMeter into a new\ndirectory and try again.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2300838,"reputation":21,"user_id":2021166,"display_name":"Gaurav Pandey"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1528727603,"creation_date":1528727603,"answer_id":50800202,"question_id":14828027,"body_markdown":"The only thing needed to run Jmeter is JDK and JRE(which JDK/JRE sersion to be installed depends on the Jmeter version you are installing), which should be installed on your system. And the JRE path should be set in Environment variables. This should be enough to run Jmeter. \r\nAlso once check the compatibility of JDK/JRE version with Jmeter version u r installing.","title":"JMeter Installation","body":"<p>The only thing needed to run Jmeter is JDK and JRE(which JDK/JRE sersion to be installed depends on the Jmeter version you are installing), which should be installed on your system. And the JRE path should be set in Environment variables. This should be enough to run Jmeter. \nAlso once check the compatibility of JDK/JRE version with Jmeter version u r installing.</p>\n"},{"tags":[],"owner":{"account_id":11071445,"reputation":1,"user_id":8129425,"display_name":"Arjun Raju"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1541752995,"creation_date":1541747502,"answer_id":53221262,"question_id":14828027,"body_markdown":"`ClassNotFoundException` occurs if:\r\n\r\n1. the jar containing the class definition is not present.\r\n\r\n2. there exists some duplicate definition of a class.\r\n\r\nThe error:\r\n\r\n \r\n\r\n    java.lang.ClassNotFoundException: org.apache.jmeter.JMeter\r\n    means that the jar file is missing/corrupted, due to which you&#39;re getting this error message.\r\n\r\nYou can try these methods:\r\n\r\n - Check if this class is present in  &lt;JMETER_HOME&gt;/lib/ext/ApacheJMeter_core.jar\r\n - Check if this jar file is not broken.\r\n - try to use fresh installation of last available jmeter version\r\n - check integrity of downloaded jmeter archive against PGP or MD5 signatures\r\n - check that $JAVA_HOME is defined and points to JDK 1.6.0 or higher.\r\n","title":"JMeter Installation","body":"<p><code>ClassNotFoundException</code> occurs if:</p>\n\n<ol>\n<li><p>the jar containing the class definition is not present.</p></li>\n<li><p>there exists some duplicate definition of a class.</p></li>\n</ol>\n\n<p>The error:</p>\n\n<pre><code>java.lang.ClassNotFoundException: org.apache.jmeter.JMeter\nmeans that the jar file is missing/corrupted, due to which you're getting this error message.\n</code></pre>\n\n<p>You can try these methods:</p>\n\n<ul>\n<li>Check if this class is present in  /lib/ext/ApacheJMeter_core.jar</li>\n<li>Check if this jar file is not broken.</li>\n<li>try to use fresh installation of last available jmeter version</li>\n<li>check integrity of downloaded jmeter archive against PGP or MD5 signatures</li>\n<li>check that $JAVA_HOME is defined and points to JDK 1.6.0 or higher.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7680129,"reputation":1367,"user_id":5820716,"display_name":"anuja jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588517573,"creation_date":1588517573,"answer_id":61576507,"question_id":14828027,"body_markdown":"JMeter Plugin Manager Installation -\r\n\r\nFor this download the jar file from [THIS LINK][1] and  put inside lib/ext and restart JMeter. You will be able to view JMeter Plugin Manager icon as per below screenshot.","title":"JMeter Installation","body":"<p>JMeter Plugin Manager Installation -</p>\n\n<p>For this download the jar file from [THIS LINK][1] and  put inside lib/ext and restart JMeter. You will be able to view JMeter Plugin Manager icon as per below screenshot.</p>\n"},{"tags":[],"owner":{"account_id":28616850,"reputation":1,"user_id":21910644,"display_name":"Daniel_Go"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684293329,"creation_date":1684293329,"answer_id":76268343,"question_id":14828027,"body_markdown":"just put your JMeter folder to other directories (like C:\\JMeter) rather than system directories like program files, bin, win32....","title":"JMeter Installation","body":"<p>just put your JMeter folder to other directories (like C:\\JMeter) rather than system directories like program files, bin, win32....</p>\n"}],"owner":{"account_id":2309026,"reputation":111,"user_id":2027613,"display_name":"cutejakes ."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22701,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":16,"score":10,"last_activity_date":1684293329,"creation_date":1360656284,"question_id":14828027,"body_markdown":"How can I solve this error when running JMeter:\r\n\r\n \r\n\r\n    [root@bx1 bin]#./jmeter.sh \r\n\r\n\r\n&gt; java.lang.Throwable: Could not access /opt/apache-jmeter-2.6/lib/ext\r\n&gt; at org.apache.jmeter.NewDriver.&lt;clinit&gt;(NewDriver.java:98)\r\n&gt; \r\n&gt; java.lang.Throwable: Could not access /opt/apache-jmeter-2.6/lib/junit\r\n&gt; at org.apache.jmeter.NewDriver.&lt;clinit&gt;(NewDriver.java:98)\r\n&gt; \r\n&gt; java.lang.ClassNotFoundException: org.apache.jmeter.JMeter\r\n&gt; \r\n&gt; at java.net.URLClassLoader$1.run(URLClassLoader.java:217) at\r\n&gt; java.security.AccessController.doPrivileged(Native Method) at\r\n&gt; java.net.URLClassLoader.findClass(URLClassLoader.java:205) at\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:321) at\r\n&gt; java.lang.ClassLoader.loadClass(ClassLoader.java:266) at\r\n&gt; org.apache.jmeter.NewDriver.main(NewDriver.java:212)\r\n\r\nJMeter home directory was detected as: `/opt/apache-jmeter-2.6`.\r\n","title":"JMeter Installation","body":"<p>How can I solve this error when running JMeter:</p>\n\n<pre><code>[root@bx1 bin]#./jmeter.sh \n</code></pre>\n\n<blockquote>\n  <p>java.lang.Throwable: Could not access /opt/apache-jmeter-2.6/lib/ext\n  at org.apache.jmeter.NewDriver.(NewDriver.java:98)</p>\n  \n  <p>java.lang.Throwable: Could not access /opt/apache-jmeter-2.6/lib/junit\n  at org.apache.jmeter.NewDriver.(NewDriver.java:98)</p>\n  \n  <p>java.lang.ClassNotFoundException: org.apache.jmeter.JMeter</p>\n  \n  <p>at java.net.URLClassLoader$1.run(URLClassLoader.java:217) at\n  java.security.AccessController.doPrivileged(Native Method) at\n  java.net.URLClassLoader.findClass(URLClassLoader.java:205) at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:321) at\n  java.lang.ClassLoader.loadClass(ClassLoader.java:266) at\n  org.apache.jmeter.NewDriver.main(NewDriver.java:212)</p>\n</blockquote>\n\n<p>JMeter home directory was detected as: <code>/opt/apache-jmeter-2.6</code>.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684295349,"post_id":76268228,"comment_id":134495769,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23761894,"reputation":1,"user_id":17777160,"display_name":"Blank"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684293172,"creation_date":1684290991,"question_id":76268228,"body_markdown":"I&#39;m trying to make a portion of my imageview clickable using a Path, how do I do that? I tried to search for solutions but I just can&#39;t seem to find it\r\n\r\nI tried to use RectF and ComputeBounds for the path but the bounds always becomes incorrect, I tried to draw the bounds with a drawRect and it displays a Flat rectangle while my PATH is a slanted rectangle. I don&#39;t know how to fix it please help.","title":"How to make Path a button android studio","body":"<p>I'm trying to make a portion of my imageview clickable using a Path, how do I do that? I tried to search for solutions but I just can't seem to find it</p>\n<p>I tried to use RectF and ComputeBounds for the path but the bounds always becomes incorrect, I tried to draw the bounds with a drawRect and it displays a Flat rectangle while my PATH is a slanted rectangle. I don't know how to fix it please help.</p>\n"},{"tags":["java","spring","spring-boot","kotlin","jpa"],"owner":{"account_id":12204971,"reputation":1227,"user_id":8908318,"accept_rate":100,"display_name":"monamona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684291427,"creation_date":1684291427,"question_id":76268254,"body_markdown":"I currently have the following situation. I have, next to others, two projects of interest. I have a project called `authlib` which contains a lot of data classes and a class to perform web requests to my second project of interest, let&#39;s call it `server`.\r\n\r\nThe first project is meant to be used as a library to facilitate web requests to the `server` project. `server` is a Spring Boot project made with Java and it has a `implementation` relation to `authlib`, meaning that the classes in `authlib` are available in the server, but not the other way round. This is unfortunate, since the class that makes all the api requests to the `server` lives in the `authlib` and I cannot use the database entities directly. This shows, because there seem to be already some duplicate classes, where my predecessors have needed data from the server but weren&#39;t able to use the correct classes. Instead, they created a &quot;light&quot; version of the entities they needed and created a parsing method in the server to just return this light version of the data class, when returning something in the controller.\r\n\r\nMy Entities in the `server` project look something like this:\r\n\r\n```java\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Data\r\n@NoArgsConstructor\r\npublic class MinecraftAccountRank {\r\n\r\n    @Id\r\n    @Column(length = 40)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    private String name;\r\n    private String pexGroup;\r\n    private String displayName;\r\n    private String discordRole;\r\n    private String discordPrefix;\r\n    private String teamspeakRole;\r\n\r\n    private int rankOrder = 0;\r\n\r\n}\r\n\r\n```\r\n\r\nNote the includes. I am not using any spring specific annotations from spring boot. I therefore thought it must be possible to move the class to my auth, since the repositories and every use of my entity classes could then just use the import from the `authlib`. This shouldn&#39;t make any difference... should it?\r\n\r\nThis is where I got first doubts and began to question if there were any side effects I just didn&#39;t see. Firstly, the `authlib` project is entirely written in Kotlin, which I usually wouldn&#39;t consider a problem and which would just save me the lombok annotations. Also, I could just add `javax.persistence` to the authlib. \r\n\r\nIn total I have two questions:\r\n\r\n- Will my project using Kotlin be bothered by my java class just exisiting there? If so, are there any side effects to be expected when I translate my entity code to Kotlin?\r\n\r\n- Do I have to expect any other drawbacks from moving my entity class to another project? My `server` project is at the end of the dependency chain and is itself not a dependency to any other project (that I know of). Will there be a problem with my `JPARepository` classes when the entity is coming from a library?","title":"Does it matter if an entity for a JPA Repository is defined in another gradle project for Spring Boot?","body":"<p>I currently have the following situation. I have, next to others, two projects of interest. I have a project called <code>authlib</code> which contains a lot of data classes and a class to perform web requests to my second project of interest, let's call it <code>server</code>.</p>\n<p>The first project is meant to be used as a library to facilitate web requests to the <code>server</code> project. <code>server</code> is a Spring Boot project made with Java and it has a <code>implementation</code> relation to <code>authlib</code>, meaning that the classes in <code>authlib</code> are available in the server, but not the other way round. This is unfortunate, since the class that makes all the api requests to the <code>server</code> lives in the <code>authlib</code> and I cannot use the database entities directly. This shows, because there seem to be already some duplicate classes, where my predecessors have needed data from the server but weren't able to use the correct classes. Instead, they created a &quot;light&quot; version of the entities they needed and created a parsing method in the server to just return this light version of the data class, when returning something in the controller.</p>\n<p>My Entities in the <code>server</code> project look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.Data;\nimport lombok.NoArgsConstructor;\n\nimport javax.persistence.*;\n\n@Entity\n@Data\n@NoArgsConstructor\npublic class MinecraftAccountRank {\n\n    @Id\n    @Column(length = 40)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    private String name;\n    private String pexGroup;\n    private String displayName;\n    private String discordRole;\n    private String discordPrefix;\n    private String teamspeakRole;\n\n    private int rankOrder = 0;\n\n}\n\n</code></pre>\n<p>Note the includes. I am not using any spring specific annotations from spring boot. I therefore thought it must be possible to move the class to my auth, since the repositories and every use of my entity classes could then just use the import from the <code>authlib</code>. This shouldn't make any difference... should it?</p>\n<p>This is where I got first doubts and began to question if there were any side effects I just didn't see. Firstly, the <code>authlib</code> project is entirely written in Kotlin, which I usually wouldn't consider a problem and which would just save me the lombok annotations. Also, I could just add <code>javax.persistence</code> to the authlib.</p>\n<p>In total I have two questions:</p>\n<ul>\n<li><p>Will my project using Kotlin be bothered by my java class just exisiting there? If so, are there any side effects to be expected when I translate my entity code to Kotlin?</p>\n</li>\n<li><p>Do I have to expect any other drawbacks from moving my entity class to another project? My <code>server</code> project is at the end of the dependency chain and is itself not a dependency to any other project (that I know of). Will there be a problem with my <code>JPARepository</code> classes when the entity is coming from a library?</p>\n</li>\n</ul>\n"},{"tags":["java","intellij-idea"],"answers":[{"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":2,"creation_date":1684304918,"post_id":76268224,"comment_id":134496859,"body_markdown":"Are you sure this is the right place for this information? It feels like a bug in plugin, and I&#39;d suggest filing an issue to this plugin if it&#39;s opensource, or writing to support otherwise.","body":"Are you sure this is the right place for this information? It feels like a bug in plugin, and I&#39;d suggest filing an issue to this plugin if it&#39;s opensource, or writing to support otherwise."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1684306441,"post_id":76268224,"comment_id":134497139,"body_markdown":"Looks like it is a known issue https://github.com/withfig/fig/issues/2469","body":"Looks like it is a known issue <a href=\"https://github.com/withfig/fig/issues/2469\" rel=\"nofollow noreferrer\">github.com/withfig/fig/issues/2469</a>"}],"tags":[],"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684290951,"creation_date":1684290951,"answer_id":76268224,"question_id":76268223,"body_markdown":"Go to help -&gt; show log in Finder -&gt; open `idea.log` with editor like vim.\r\n\r\nSearch `window`, and I saw exceptions like below \r\n\r\n```\r\n2023-05-17 09:25:51,431 [  13694] SEVERE - #c.i.o.w.i.ToolWindowManagerImpl - Cannot invoke (class=FigWindowListener, method=toolWindowsRegistered, topic=tool window events)\r\njava.lang.RuntimeException: Cannot invoke (class=FigWindowListener, method=toolWindowsRegistered, topic=tool window events)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.invokeListener(MessageBusImpl.kt:657)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.deliverMessage(MessageBusImpl.kt:415)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.pumpWaiting(MessageBusImpl.kt:394)\r\n\tat com.intellij.util.messages.impl.MessageBusImplKt.access$pumpWaiting(MessageBusImpl.kt:1)\r\n\tat com.intellij.util.messages.impl.MessagePublisher.invoke(MessageBusImpl.kt:454)\r\n\tat jdk.proxy1/jdk.proxy1.$Proxy95.toolWindowsRegistered(Unknown Source)\r\n\tat com.intellij.toolWindow.ToolWindowSetInitializer.postEntryProcessing(ToolWindowSetInitializer.kt:155)\r\n\tat com.intellij.toolWindow.ToolWindowSetInitializer.postEntryProcessing$default(ToolWindowSetInitializer.kt:152)\r\n\tat com.intellij.toolWindow.ToolWindowSetInitializer.createAndLayoutToolWindows(ToolWindowSetInitializer.kt:138)\r\n\tat com.intellij.toolWindow.ToolWindowSetInitializer.access$createAndLayoutToolWindows(ToolWindowSetInitializer.kt:45)\r\n\tat com.intellij.toolWindow.ToolWindowSetInitializer$createAndLayoutToolWindows$1.invokeSuspend(ToolWindowSetInitializer.kt)\r\n\tat kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n\tat kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\r\n\tat kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\r\nCaused by: com.intellij.openapi.diagnostic.RuntimeExceptionWithAttachments: Current thread: Thread[DefaultDispatcher-worker-48,5,main] 1688829040 (EventQueue.isDispatchThread()=false)\r\n\r\n```\r\n\r\nSomething wrong with ToolWindowManagerImpl. And it comes from class FigWindowListener\r\n\r\nSo go to settings -&gt; Plugins -&gt; disable plugin called `Fig` -&gt; restart Intellij Idea. Problem solved.","title":"Project window is missing in keymap settings in Intellij Idea 2023.1.2","body":"<p>Go to help -&gt; show log in Finder -&gt; open <code>idea.log</code> with editor like vim.</p>\n<p>Search <code>window</code>, and I saw exceptions like below</p>\n<pre><code>2023-05-17 09:25:51,431 [  13694] SEVERE - #c.i.o.w.i.ToolWindowManagerImpl - Cannot invoke (class=FigWindowListener, method=toolWindowsRegistered, topic=tool window events)\njava.lang.RuntimeException: Cannot invoke (class=FigWindowListener, method=toolWindowsRegistered, topic=tool window events)\n    at com.intellij.util.messages.impl.MessageBusImplKt.invokeListener(MessageBusImpl.kt:657)\n    at com.intellij.util.messages.impl.MessageBusImplKt.deliverMessage(MessageBusImpl.kt:415)\n    at com.intellij.util.messages.impl.MessageBusImplKt.pumpWaiting(MessageBusImpl.kt:394)\n    at com.intellij.util.messages.impl.MessageBusImplKt.access$pumpWaiting(MessageBusImpl.kt:1)\n    at com.intellij.util.messages.impl.MessagePublisher.invoke(MessageBusImpl.kt:454)\n    at jdk.proxy1/jdk.proxy1.$Proxy95.toolWindowsRegistered(Unknown Source)\n    at com.intellij.toolWindow.ToolWindowSetInitializer.postEntryProcessing(ToolWindowSetInitializer.kt:155)\n    at com.intellij.toolWindow.ToolWindowSetInitializer.postEntryProcessing$default(ToolWindowSetInitializer.kt:152)\n    at com.intellij.toolWindow.ToolWindowSetInitializer.createAndLayoutToolWindows(ToolWindowSetInitializer.kt:138)\n    at com.intellij.toolWindow.ToolWindowSetInitializer.access$createAndLayoutToolWindows(ToolWindowSetInitializer.kt:45)\n    at com.intellij.toolWindow.ToolWindowSetInitializer$createAndLayoutToolWindows$1.invokeSuspend(ToolWindowSetInitializer.kt)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler.runSafely(CoroutineScheduler.kt:570)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.executeTask(CoroutineScheduler.kt:750)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.runWorker(CoroutineScheduler.kt:677)\n    at kotlinx.coroutines.scheduling.CoroutineScheduler$Worker.run(CoroutineScheduler.kt:664)\nCaused by: com.intellij.openapi.diagnostic.RuntimeExceptionWithAttachments: Current thread: Thread[DefaultDispatcher-worker-48,5,main] 1688829040 (EventQueue.isDispatchThread()=false)\n\n</code></pre>\n<p>Something wrong with ToolWindowManagerImpl. And it comes from class FigWindowListener</p>\n<p>So go to settings -&gt; Plugins -&gt; disable plugin called <code>Fig</code> -&gt; restart Intellij Idea. Problem solved.</p>\n"}],"owner":{"account_id":22506547,"reputation":980,"user_id":16702058,"display_name":"Hi computer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76268224,"answer_count":1,"score":-1,"last_activity_date":1684290951,"creation_date":1684290951,"question_id":76268223,"body_markdown":"I am using Intellij Idea, I would like to assign a keyboard shortcut to `Project window`, for example Cmd+1.\r\n\r\nI go to settings -&gt; keymap -&gt; search project window.\r\n\r\nexpected result: display `project window` so that I can assign shortcut to it\r\n\r\nactual result: there is no `project window`.\r\n\r\n\r\nI am using \r\n\r\nIntelliJ IDEA 2023.1.2 (Ultimate Edition) Build #IU-231.9011.34, built on May 16, 2023\r\n\r\nMacbook Pro, 15-inch, 2018\r\n\r\nMacOS 13.3.1","title":"Project window is missing in keymap settings in Intellij Idea 2023.1.2","body":"<p>I am using Intellij Idea, I would like to assign a keyboard shortcut to <code>Project window</code>, for example Cmd+1.</p>\n<p>I go to settings -&gt; keymap -&gt; search project window.</p>\n<p>expected result: display <code>project window</code> so that I can assign shortcut to it</p>\n<p>actual result: there is no <code>project window</code>.</p>\n<p>I am using</p>\n<p>IntelliJ IDEA 2023.1.2 (Ultimate Edition) Build #IU-231.9011.34, built on May 16, 2023</p>\n<p>Macbook Pro, 15-inch, 2018</p>\n<p>MacOS 13.3.1</p>\n"},{"tags":["java","geotools"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1684200324,"post_id":76258547,"comment_id":134479339,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"comments":[{"owner":{"account_id":28608608,"reputation":1,"user_id":21904030,"display_name":"Hope"},"score":0,"creation_date":1684290087,"post_id":76260507,"comment_id":134495333,"body_markdown":"I appreciate how I have conflated Geometry and Projection.\n\nRegarding your feedback to jump in and contribute to an open source project.  There is a possibility this is on the cards.  My understanding of what I am requesting is WKT 2.0 support where geo-tools currently supports WKT 1.0.  I imagined giving a major version change this would be something the geo-tools community would be actively working towards.","body":"I appreciate how I have conflated Geometry and Projection.  Regarding your feedback to jump in and contribute to an open source project.  There is a possibility this is on the cards.  My understanding of what I am requesting is WKT 2.0 support where geo-tools currently supports WKT 1.0.  I imagined giving a major version change this would be something the geo-tools community would be actively working towards."},{"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"score":0,"creation_date":1684308836,"post_id":76260507,"comment_id":134497621,"body_markdown":"As far as I can see it is in WKT 1.0 but obviously no one is using it or someone would have noticed before now. Apparently: &quot;Projected CRS is defined in Clause 9.In this International Standard the following definitions from ISO 19125‑1:2004 and OGC 01-009 have been deprecated but are included here for the purposes of documenting backward compatibility.&quot;","body":"As far as I can see it is in WKT 1.0 but obviously no one is using it or someone would have noticed before now. Apparently: &quot;Projected CRS is defined in Clause 9.In this International Standard the following definitions from ISO 19125‑1:2004 and OGC 01-009 have been deprecated but are included here for the purposes of documenting backward compatibility.&quot;"}],"tags":[],"owner":{"account_id":195980,"reputation":10228,"user_id":439194,"accept_rate":100,"display_name":"Ian Turton"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684223204,"creation_date":1684223204,"answer_id":76260507,"question_id":76258547,"body_markdown":"You seem to be conflating two different types of well known text - projections and geometries (ISO-19107) - that are totally unrelated. \r\n\r\nHowever, looking at the [spec][1] and the [code][2] there does seem to be a missing prefix (`PROJCRS`). So I would raise an issue and submit a PR with the fix and a test case.\r\n\r\n\r\n  [1]: https://docs.ogc.org/is/18-010r7/18-010r7.html#71\r\n  [2]: https://github.com/geotools/geotools/blob/f0556d450f0ade2e7e98e6f1e94c95e2c57f5660/modules/library/referencing/src/main/java/org/geotools/referencing/wkt/Parser.java#L229","title":"Supporting WKT &quot;PROJCRS[...]&quot;","body":"<p>You seem to be conflating two different types of well known text - projections and geometries (ISO-19107) - that are totally unrelated.</p>\n<p>However, looking at the <a href=\"https://docs.ogc.org/is/18-010r7/18-010r7.html#71\" rel=\"nofollow noreferrer\">spec</a> and the <a href=\"https://github.com/geotools/geotools/blob/f0556d450f0ade2e7e98e6f1e94c95e2c57f5660/modules/library/referencing/src/main/java/org/geotools/referencing/wkt/Parser.java#L229\" rel=\"nofollow noreferrer\">code</a> there does seem to be a missing prefix (<code>PROJCRS</code>). So I would raise an issue and submit a PR with the fix and a test case.</p>\n"}],"owner":{"account_id":28608608,"reputation":1,"user_id":21904030,"display_name":"Hope"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684290729,"creation_date":1684194030,"question_id":76258547,"body_markdown":"Currently my Java application uses CRS parser to convert a WKT to a Co-ordinate Reference System.  This works fine for &quot;PROJCS[...]&quot; However after some off the shelf tools generates &quot;PROJCRS[...]&quot; the solutions fails to parse.\r\n\r\n```\r\n        String wkt = &quot;PROJCRS[...]&quot; // (Some WKT 2.0 string)\r\n        org.geotools.referencing.CRS.parseWKT(wkt);\r\n\r\n```\r\n\r\nMy question relates to when/if we should expect support for later versions of WKT through geo-tools\r\n\r\n\r\nAs this is expected I have tried a number of other libraries (to varying success) including \r\n- Apache SIS\r\n- GDAL\r\n\r\nMy goal with this question is to weigh up bringing more dependencies to the solution vs expectation of new geo-tools versions.  I am reaching out here because my understanding is this represents geo-tools supporting WKT 2.0 and that this would be a broad effort by the geo-tools community","title":"Supporting WKT &quot;PROJCRS[...]&quot;","body":"<p>Currently my Java application uses CRS parser to convert a WKT to a Co-ordinate Reference System.  This works fine for &quot;PROJCS[...]&quot; However after some off the shelf tools generates &quot;PROJCRS[...]&quot; the solutions fails to parse.</p>\n<pre><code>        String wkt = &quot;PROJCRS[...]&quot; // (Some WKT 2.0 string)\n        org.geotools.referencing.CRS.parseWKT(wkt);\n\n</code></pre>\n<p>My question relates to when/if we should expect support for later versions of WKT through geo-tools</p>\n<p>As this is expected I have tried a number of other libraries (to varying success) including</p>\n<ul>\n<li>Apache SIS</li>\n<li>GDAL</li>\n</ul>\n<p>My goal with this question is to weigh up bringing more dependencies to the solution vs expectation of new geo-tools versions.  I am reaching out here because my understanding is this represents geo-tools supporting WKT 2.0 and that this would be a broad effort by the geo-tools community</p>\n"},{"tags":["java","mysql","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684292279,"post_id":76267971,"comment_id":134495511,"body_markdown":"what is you DB version and vendor?","body":"what is you DB version and vendor?"},{"owner":{"account_id":11326339,"reputation":1,"user_id":8305120,"display_name":"Chris Kim"},"score":0,"creation_date":1684297541,"post_id":76267971,"comment_id":134495996,"body_markdown":"Thank you. I found the problem. My DB was **10.4.16-MariaDB-log**  And the problmen was that I was using &#39;com.mysql:mysql-connector-j:8.0.33&#39; . **The problem was solved when I used &#39;org.mariadb.jdbc:mariadb-java-client:3.1.4&#39;**","body":"Thank you. I found the problem. My DB was <b>10.4.16-MariaDB-log</b>  And the problmen was that I was using &#39;com.mysql:mysql-connector-j:8.0.33&#39; . <b>The problem was solved when I used &#39;org.mariadb.jdbc:mariadb-java-client:3.1.4&#39;</b>"}],"answers":[{"tags":[],"owner":{"account_id":11326339,"reputation":1,"user_id":8305120,"display_name":"Chris Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684290337,"creation_date":1684290337,"answer_id":76268181,"question_id":76267971,"body_markdown":"I still don&#39;t know why my original code removes milliseconds but I found other way to solve the problem.\r\n\r\nfor column such as **create_date** which needs to be set when first **INSERT**, \r\nuse \r\n\r\n    &#39;create_date&#39; DATETIME(3) NOT NULL DEFAULT current_timestamp(3)\r\n\r\nand \r\n\r\n    @Column(\r\n\t\t\tinsertable = false\r\n\t\t\t,updatable = false\r\n\t)\r\n\tprivate LocalDateTime createDate;\r\n\r\n\r\nfor column like **update_date** which needs to be updated each time **UPDATE** executed, \r\n\r\n    &#39;update_date&#39; DATETIME(6) NOT NULL DEFAULT current_timestamp(3) ON UPDATE current_timestamp(3)\r\n\r\nand entity to \r\n\r\n\t@Column(updatable = false)\r\n\tprivate LocalDateTime updateDate;\r\n\r\nIn this way, each DATETIME columns will be set by database&#39;s server time which is better for my situation.\r\n\r\n\r\n","title":"Spring-JPA removes milliseconds when inserting or updating","body":"<p>I still don't know why my original code removes milliseconds but I found other way to solve the problem.</p>\n<p>for column such as <strong>create_date</strong> which needs to be set when first <strong>INSERT</strong>,\nuse</p>\n<pre><code>'create_date' DATETIME(3) NOT NULL DEFAULT current_timestamp(3)\n</code></pre>\n<p>and</p>\n<pre><code>@Column(\n        insertable = false\n        ,updatable = false\n)\nprivate LocalDateTime createDate;\n</code></pre>\n<p>for column like <strong>update_date</strong> which needs to be updated each time <strong>UPDATE</strong> executed,</p>\n<pre><code>'update_date' DATETIME(6) NOT NULL DEFAULT current_timestamp(3) ON UPDATE current_timestamp(3)\n</code></pre>\n<p>and entity to</p>\n<pre><code>@Column(updatable = false)\nprivate LocalDateTime updateDate;\n</code></pre>\n<p>In this way, each DATETIME columns will be set by database's server time which is better for my situation.</p>\n"}],"owner":{"account_id":11326339,"reputation":1,"user_id":8305120,"display_name":"Chris Kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684290337,"creation_date":1684285864,"question_id":76267971,"body_markdown":"In my spring boot framework with spring-data-jpa, \r\n\r\n\r\nwhen I INSERT or UPDATE with javax.persistence.EntityManager, MySQL database is **inserted without milli seconds**.\r\n\r\n\r\n\r\nin my spring boot framework, I&#39;m working with \r\n\r\nspring-data-jpa 2.7.11 \r\n\r\nmysql-connector-j 8.0.33\r\n\r\nhibernate-core 5.6.15.Final\r\n\r\n\r\n\r\n```java\r\n\r\njavax.persistence.EntityManager entityManager;\r\nentityManager.persist(myEntityItem);\r\n\r\n```\r\n\r\nI tested with Table&#39;s columns with\r\n**DATETIME(3) and DATETIME(6)**\r\n\r\n**MySQL Table :**\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\nI tried using \r\n**java.util.Date, java.util.Calendar and java.time.LocalDateTime.**\r\n\r\nI also tried with \r\n@CreationTimestamp annotation on my parameter of entity class \r\nand also, manually set each parameter&#39;s values. \r\n\r\nand every time, I get my TRACE level log with milliseconds included. \r\n\r\n\r\n\r\n```\r\nHibernate: \r\n    insert \r\n    into\r\n        DREAM_TEST.time_table\r\n        (calendar3, calendar6, java_util_date3, java_util_date6, local_date_time3, local_date_time6, text) \r\n    values\r\n        (?, ?, ?, ?, ?, ?, ?)\r\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [TIMESTAMP] - [java.util.GregorianCalendar[time=1684285347672,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Asia/Seoul&quot;,offset=32400000,dstSavings=0,useDaylight=false,transitions=30,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2023,MONTH=4,WEEK_OF_YEAR=20,WEEK_OF_MONTH=3,DAY_OF_MONTH=17,DAY_OF_YEAR=137,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=3,AM_PM=0,HOUR=10,HOUR_OF_DAY=10,MINUTE=2,SECOND=27,MILLISECOND=672,ZONE_OFFSET=32400000,DST_OFFSET=0]]\r\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [java.util.GregorianCalendar[time=1684285347672,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Asia/Seoul&quot;,offset=32400000,dstSavings=0,useDaylight=false,transitions=30,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2023,MONTH=4,WEEK_OF_YEAR=20,WEEK_OF_MONTH=3,DAY_OF_MONTH=17,DAY_OF_YEAR=137,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=3,AM_PM=0,HOUR=10,HOUR_OF_DAY=10,MINUTE=2,SECOND=27,MILLISECOND=672,ZONE_OFFSET=32400000,DST_OFFSET=0]]\r\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2023-05-17 10:02:27.6725819]\r\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [TIMESTAMP] - [2023-05-17 10:02:27.6725819]\r\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [2023-05-17T10:02:27.672581900]\r\n2023-05-17 10:02:27.686 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [TIMESTAMP] - [2023-05-17T10:02:27.672581900]\r\n2023-05-17 10:02:27.686 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [with values set]\r\n2023-05-17 10:02:27.691  INFO 31760 --- [           main] p6spy                                    : #1684285347691 | took 2ms | statement | connection 9| url jdbc:mysql://dreamtest.db:4306/DREAM_TEST\r\ninsert into DREAM_TEST.time_table (calendar3, calendar6, java_util_date3, java_util_date6, local_date_time3, local_date_time6, text) values (?, ?, ?, ?, ?, ?, ?)\r\ninsert into DREAM_TEST.time_table (calendar3, calendar6, java_util_date3, java_util_date6, local_date_time3, local_date_time6, text) values (&#39;2023-05-17T10:02:27.672+0900&#39;, &#39;2023-05-17T10:02:27.672+0900&#39;, &#39;2023-05-17T10:02:27.672+0900&#39;, &#39;2023-05-17T10:02:27.672+0900&#39;, &#39;2023-05-17T10:02:27.672+0900&#39;, &#39;2023-05-17T10:02:27.672+0900&#39;, &#39;with values set&#39;);\r\n\r\n```\r\n\r\n\r\nBut in my database as a result, all the milli seconds are removed\r\n\r\n\r\n**Result Table:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4wWTC.png\r\n  [2]: https://i.stack.imgur.com/0rYf4.png","title":"Spring-JPA removes milliseconds when inserting or updating","body":"<p>In my spring boot framework with spring-data-jpa,</p>\n<p>when I INSERT or UPDATE with javax.persistence.EntityManager, MySQL database is <strong>inserted without milli seconds</strong>.</p>\n<p>in my spring boot framework, I'm working with</p>\n<p>spring-data-jpa 2.7.11</p>\n<p>mysql-connector-j 8.0.33</p>\n<p>hibernate-core 5.6.15.Final</p>\n<pre class=\"lang-java prettyprint-override\"><code>\njavax.persistence.EntityManager entityManager;\nentityManager.persist(myEntityItem);\n\n</code></pre>\n<p>I tested with Table's columns with\n<strong>DATETIME(3) and DATETIME(6)</strong></p>\n<p><strong>MySQL Table :</strong></p>\n<p><a href=\"https://i.stack.imgur.com/4wWTC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4wWTC.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried using\n<strong>java.util.Date, java.util.Calendar and java.time.LocalDateTime.</strong></p>\n<p>I also tried with\n@CreationTimestamp annotation on my parameter of entity class\nand also, manually set each parameter's values.</p>\n<p>and every time, I get my TRACE level log with milliseconds included.</p>\n<pre><code>Hibernate: \n    insert \n    into\n        DREAM_TEST.time_table\n        (calendar3, calendar6, java_util_date3, java_util_date6, local_date_time3, local_date_time6, text) \n    values\n        (?, ?, ?, ?, ?, ?, ?)\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [1] as [TIMESTAMP] - [java.util.GregorianCalendar[time=1684285347672,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Asia/Seoul&quot;,offset=32400000,dstSavings=0,useDaylight=false,transitions=30,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2023,MONTH=4,WEEK_OF_YEAR=20,WEEK_OF_MONTH=3,DAY_OF_MONTH=17,DAY_OF_YEAR=137,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=3,AM_PM=0,HOUR=10,HOUR_OF_DAY=10,MINUTE=2,SECOND=27,MILLISECOND=672,ZONE_OFFSET=32400000,DST_OFFSET=0]]\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [2] as [TIMESTAMP] - [java.util.GregorianCalendar[time=1684285347672,areFieldsSet=true,areAllFieldsSet=true,lenient=true,zone=sun.util.calendar.ZoneInfo[id=&quot;Asia/Seoul&quot;,offset=32400000,dstSavings=0,useDaylight=false,transitions=30,lastRule=null],firstDayOfWeek=1,minimalDaysInFirstWeek=1,ERA=1,YEAR=2023,MONTH=4,WEEK_OF_YEAR=20,WEEK_OF_MONTH=3,DAY_OF_MONTH=17,DAY_OF_YEAR=137,DAY_OF_WEEK=4,DAY_OF_WEEK_IN_MONTH=3,AM_PM=0,HOUR=10,HOUR_OF_DAY=10,MINUTE=2,SECOND=27,MILLISECOND=672,ZONE_OFFSET=32400000,DST_OFFSET=0]]\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [3] as [TIMESTAMP] - [2023-05-17 10:02:27.6725819]\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [4] as [TIMESTAMP] - [2023-05-17 10:02:27.6725819]\n2023-05-17 10:02:27.685 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [5] as [TIMESTAMP] - [2023-05-17T10:02:27.672581900]\n2023-05-17 10:02:27.686 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [6] as [TIMESTAMP] - [2023-05-17T10:02:27.672581900]\n2023-05-17 10:02:27.686 TRACE 31760 --- [           main] o.h.type.descriptor.sql.BasicBinder      : binding parameter [7] as [VARCHAR] - [with values set]\n2023-05-17 10:02:27.691  INFO 31760 --- [           main] p6spy                                    : #1684285347691 | took 2ms | statement | connection 9| url jdbc:mysql://dreamtest.db:4306/DREAM_TEST\ninsert into DREAM_TEST.time_table (calendar3, calendar6, java_util_date3, java_util_date6, local_date_time3, local_date_time6, text) values (?, ?, ?, ?, ?, ?, ?)\ninsert into DREAM_TEST.time_table (calendar3, calendar6, java_util_date3, java_util_date6, local_date_time3, local_date_time6, text) values ('2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', '2023-05-17T10:02:27.672+0900', 'with values set');\n\n</code></pre>\n<p>But in my database as a result, all the milli seconds are removed</p>\n<p><strong>Result Table:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/0rYf4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0rYf4.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9795,"page":430,"page_size":100}
