{"items":[{"tags":["java","networking","minecraft"],"comments":[{"owner":{"account_id":37136,"reputation":57812,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1664572104,"post_id":73861651,"comment_id":130510447,"body_markdown":"Minecraft packets are completely separate from TCP packets as TCP doesn&#39;t care what you call a packet.","body":"Minecraft packets are completely separate from TCP packets as TCP doesn&#39;t care what you call a packet."}],"answers":[{"tags":[],"owner":{"account_id":23952877,"reputation":33,"user_id":17944179,"display_name":"LoserEXE"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664329591,"creation_date":1664329591,"answer_id":73875376,"question_id":73861651,"body_markdown":"Hey i figured it out when you send the username you need to add a byte before it to indicate the length of the username this as probably in the wiki sorry about that ","title":"Minecraft Client Server Login Protocol - Malformed public key bytes","body":"<p>Hey i figured it out when you send the username you need to add a byte before it to indicate the length of the username this as probably in the wiki sorry about that</p>\n"}],"owner":{"account_id":23952877,"reputation":33,"user_id":17944179,"display_name":"LoserEXE"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":583,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73875376,"answer_count":1,"score":-2,"last_activity_date":1664329591,"creation_date":1664244401,"question_id":73861651,"body_markdown":"I was able to get the server list ping to work fine but when I moved on to the login protocol, I&#39;m having some issues. \r\n\r\nAfter some analysis with Wireshark it looks like its sending the handshake and login packets in the same packet. I&#39;m starting off with a offline login. Fom what I understand from the [Wiki][1], if you set `hasSigData` to false you don&#39;t need to send a public key and all that stuff. All I&#39;m sending over is the username, `hasSigData` as false, and `hasPlayerUUID` as true with a UUID v3 derived from the string `OfflinePlayer:[username]`. \r\n\r\nI have two questions:\r\n\r\n 1. Am I even encoding the login packet right. Yes the server I&#39;m trying to log in to is in offline mode. \r\n 2. How do I separate the packets?\r\n\r\n## Packet Hex dump from wireshark ##\r\n\r\n[![][2]][2]\r\n\r\nI have marked out where the data starts and roughly where the handshake packet ends and the login packet begins.\r\n\r\n## Server response ##\r\n\r\n    /[My IP] lost connection: Internal Exception: io.netty.handler.codec.DecoderException: Malformed public key bytes\r\n\r\n## My code ##\r\n\r\n### LoginStart Packet (Offlne) ###\r\n\r\n    public static byte[] getLoginStartPacket(String name) throws IOException {\r\n        ByteArrayOutputStream buffer = new ByteArrayOutputStream();\r\n        DataOutputStream loginStart = new DataOutputStream(buffer);\r\n\r\n        UUID uuid = UUID.nameUUIDFromBytes(name.getBytes(StandardCharsets.UTF_8));\r\n\r\n        loginStart.writeByte(PACKET_ID);\r\n        loginStart.writeChars(name);\r\n        loginStart.writeBoolean(false);\r\n        loginStart.writeBoolean(true);\r\n        MinecraftUUID.writeBytes(loginStart, uuid);\r\n\r\n        return buffer.toByteArray();\r\n    }\r\n\r\n### Sending Packet ###\r\n\r\n        byte[] handshakeMessage = Handshake.getHandshakePacket(\r\n                    this.port,\r\n                    this.serverAddress,\r\n                    this.protocolVersion,\r\n                    2);\r\n\r\n        VarInt.write(dataOutputStream, handshakeMessage.length);\r\n        dataOutputStream.write(handshakeMessage);\r\n\r\n        byte[] login = LoginOfflineStart.getLoginStartPacket(name);\r\n        VarInt.write(dataOutputStream, login.length);\r\n        dataOutputStream.write(login);\r\n\r\n\r\n  [1]: https://wiki.vg/Protocol#Login_Start\r\n  [2]: https://i.stack.imgur.com/jz6ah.png","title":"Minecraft Client Server Login Protocol - Malformed public key bytes","body":"<p>I was able to get the server list ping to work fine but when I moved on to the login protocol, I'm having some issues.</p>\n<p>After some analysis with Wireshark it looks like its sending the handshake and login packets in the same packet. I'm starting off with a offline login. Fom what I understand from the <a href=\"https://wiki.vg/Protocol#Login_Start\" rel=\"nofollow noreferrer\">Wiki</a>, if you set <code>hasSigData</code> to false you don't need to send a public key and all that stuff. All I'm sending over is the username, <code>hasSigData</code> as false, and <code>hasPlayerUUID</code> as true with a UUID v3 derived from the string <code>OfflinePlayer:[username]</code>.</p>\n<p>I have two questions:</p>\n<ol>\n<li>Am I even encoding the login packet right. Yes the server I'm trying to log in to is in offline mode.</li>\n<li>How do I separate the packets?</li>\n</ol>\n<h2>Packet Hex dump from wireshark</h2>\n<p><a href=\"https://i.stack.imgur.com/jz6ah.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jz6ah.png\" alt=\"\" /></a></p>\n<p>I have marked out where the data starts and roughly where the handshake packet ends and the login packet begins.</p>\n<h2>Server response</h2>\n<pre><code>/[My IP] lost connection: Internal Exception: io.netty.handler.codec.DecoderException: Malformed public key bytes\n</code></pre>\n<h2>My code</h2>\n<h3>LoginStart Packet (Offlne)</h3>\n<pre><code>public static byte[] getLoginStartPacket(String name) throws IOException {\n    ByteArrayOutputStream buffer = new ByteArrayOutputStream();\n    DataOutputStream loginStart = new DataOutputStream(buffer);\n\n    UUID uuid = UUID.nameUUIDFromBytes(name.getBytes(StandardCharsets.UTF_8));\n\n    loginStart.writeByte(PACKET_ID);\n    loginStart.writeChars(name);\n    loginStart.writeBoolean(false);\n    loginStart.writeBoolean(true);\n    MinecraftUUID.writeBytes(loginStart, uuid);\n\n    return buffer.toByteArray();\n}\n</code></pre>\n<h3>Sending Packet</h3>\n<pre><code>    byte[] handshakeMessage = Handshake.getHandshakePacket(\n                this.port,\n                this.serverAddress,\n                this.protocolVersion,\n                2);\n\n    VarInt.write(dataOutputStream, handshakeMessage.length);\n    dataOutputStream.write(handshakeMessage);\n\n    byte[] login = LoginOfflineStart.getLoginStartPacket(name);\n    VarInt.write(dataOutputStream, login.length);\n    dataOutputStream.write(login);\n</code></pre>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664328618,"creation_date":1664328618,"answer_id":73875304,"question_id":73874974,"body_markdown":"You are facing with a typical trap of `java.util.Date#Date(int, int, int)` constructor:\r\n\r\n```\r\nParams:\r\n year – the year minus 1900. \r\n month – the month between 0-11. \r\n date – the day of the month between 1-31.\r\n```\r\n\r\nPlease note **year – the year minus 1900**, i.e. all dates you are using in unit tests are in the far future.\r\n\r\nPS.\r\n\r\nI do believe that checking the type of exception thrown is not enough, because all three branches throws the same `IllegalArgumentException` - you need to check exception message as well.\r\n","title":"How make a JUnit test that checks whether a date you entered is invalid or not","body":"<p>You are facing with a typical trap of <code>java.util.Date#Date(int, int, int)</code> constructor:</p>\n<pre><code>Params:\n year – the year minus 1900. \n month – the month between 0-11. \n date – the day of the month between 1-31.\n</code></pre>\n<p>Please note <strong>year – the year minus 1900</strong>, i.e. all dates you are using in unit tests are in the far future.</p>\n<p>PS.</p>\n<p>I do believe that checking the type of exception thrown is not enough, because all three branches throws the same <code>IllegalArgumentException</code> - you need to check exception message as well.</p>\n"},{"tags":[],"owner":{"account_id":3625596,"reputation":390,"user_id":3023327,"accept_rate":50,"display_name":"Demian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664329009,"creation_date":1664329009,"answer_id":73875327,"question_id":73874974,"body_markdown":"Consider moving to new **java.time.LocalDate**\r\n\r\n    import java.time.LocalDate;\r\n    \r\n    public class Appointment {\r\n        private String appointmentId;\r\n        private LocalDate appointmentDate;\r\n        private String description;\r\n    \r\n        public Appointment(String appointmentId, LocalDate appointmentDate, String description) {\r\n            if (appointmentId == null || appointmentId.length() &gt; 10) {\r\n                //We will want to test for the exception\r\n                throw new IllegalArgumentException(&quot;Invalid input&quot;);\r\n            }\r\n            if (appointmentDate == null || appointmentDate.isBefore(LocalDate.now())) {\r\n                throw new IllegalArgumentException(&quot;Invalid date&quot;);\r\n            }\r\n            if (description == null || description.length() &gt; 50) {\r\n                throw new IllegalArgumentException(&quot;Invalid description&quot;);\r\n            }\r\n            this.appointmentId = appointmentId;\r\n            this.appointmentDate = appointmentDate;\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getAppointmentId() {\r\n            return appointmentId;\r\n        }\r\n    \r\n        public LocalDate getAppointmentDate() {\r\n            return appointmentDate;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n    }\r\n\r\n\r\nand:\r\n\r\n    import Appointment;\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.util.Calendar;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.assertTrue;\r\n    \r\n    \r\n    class AppointmentTest {\r\n    \r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n        @Test\r\n        void testAppointment() {\r\n            Appointment appointment = new Appointment(&quot;12121212&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\r\n            assertTrue(appointment.getAppointmentId().equals(&quot;12121212&quot;));\r\n            assertTrue(appointment.getAppointmentDate().equals(LocalDate.of(2023, Calendar.MAY, 26)));\r\n            assertTrue(appointment.getDescription().equals(&quot;This appointment involves a couple things&quot;));\r\n    \r\n        }\r\n    \r\n        @Test\r\n        void testAppointmentIdToLong() {\r\n            Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n                new Appointment(&quot;121212124545&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\r\n            });\r\n        }\r\n    \r\n        @SuppressWarnings(&quot;deprecation&quot;)\r\n        @Test\r\n        void testDateInThePast() {\r\n            Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n                new Appointment(&quot;34345612&quot;, LocalDate.of(2022, Calendar.JUNE, 26), &quot;This appointment involves a couple things&quot;);\r\n            });\r\n        }\r\n    \r\n        @Test\r\n        void testAppointmentDescriptionToLong() {\r\n            Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n                new Appointment(&quot;34345612&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment description is very long and many people would not bother to read the whole thing and just skip over some parts&quot;);\r\n            });\r\n        }\r\n    \r\n    }","title":"How make a JUnit test that checks whether a date you entered is invalid or not","body":"<p>Consider moving to new <strong>java.time.LocalDate</strong></p>\n<pre><code>import java.time.LocalDate;\n\npublic class Appointment {\n    private String appointmentId;\n    private LocalDate appointmentDate;\n    private String description;\n\n    public Appointment(String appointmentId, LocalDate appointmentDate, String description) {\n        if (appointmentId == null || appointmentId.length() &gt; 10) {\n            //We will want to test for the exception\n            throw new IllegalArgumentException(&quot;Invalid input&quot;);\n        }\n        if (appointmentDate == null || appointmentDate.isBefore(LocalDate.now())) {\n            throw new IllegalArgumentException(&quot;Invalid date&quot;);\n        }\n        if (description == null || description.length() &gt; 50) {\n            throw new IllegalArgumentException(&quot;Invalid description&quot;);\n        }\n        this.appointmentId = appointmentId;\n        this.appointmentDate = appointmentDate;\n        this.description = description;\n    }\n\n    public String getAppointmentId() {\n        return appointmentId;\n    }\n\n    public LocalDate getAppointmentDate() {\n        return appointmentDate;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n}\n</code></pre>\n<p>and:</p>\n<pre><code>import Appointment;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport java.time.LocalDate;\nimport java.util.Calendar;\n\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\n\nclass AppointmentTest {\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @Test\n    void testAppointment() {\n        Appointment appointment = new Appointment(&quot;12121212&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\n        assertTrue(appointment.getAppointmentId().equals(&quot;12121212&quot;));\n        assertTrue(appointment.getAppointmentDate().equals(LocalDate.of(2023, Calendar.MAY, 26)));\n        assertTrue(appointment.getDescription().equals(&quot;This appointment involves a couple things&quot;));\n\n    }\n\n    @Test\n    void testAppointmentIdToLong() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;121212124545&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\n        });\n    }\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @Test\n    void testDateInThePast() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;34345612&quot;, LocalDate.of(2022, Calendar.JUNE, 26), &quot;This appointment involves a couple things&quot;);\n        });\n    }\n\n    @Test\n    void testAppointmentDescriptionToLong() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;34345612&quot;, LocalDate.of(2023, Calendar.MAY, 26), &quot;This appointment description is very long and many people would not bother to read the whole thing and just skip over some parts&quot;);\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":25399218,"reputation":59,"user_id":19209006,"display_name":"MachoMan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73875327,"answer_count":2,"score":0,"last_activity_date":1664329009,"creation_date":1664324009,"question_id":73874974,"body_markdown":"I am trying to make a JUnit test that checks whether the inputs for an Appointment object are valid or not. I have finished making all the tests, but whenever I run the test, all of the tests pass except for one. For some reason the test testDateInThePast() is failing. Can someone point out the problem? Here is my code:\r\n\r\nAppointment.java\r\n\r\n        package appointment;\r\n    \r\n    import java.util.Date;\r\n    \r\n    public class Appointment {\r\n    \tprivate String appointmentId;\r\n    \tprivate Date appointmentDate;\r\n    \tprivate String description;\r\n    \t\r\n    \tpublic Appointment(String appointmentId, Date appointmentDate, String description) {\r\n    \t\tif(appointmentId == null || appointmentId.length() &gt; 10) {\r\n    \t\t\t//We will want to test for the exception\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid input&quot;);\r\n    \t\t}\r\n    \t\tif(appointmentDate == null || appointmentDate.before(new Date())) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid date&quot;);\r\n    \t\t}\r\n    \t\tif(description == null || description.length() &gt; 50) {\r\n    \t\t\tthrow new IllegalArgumentException(&quot;Invalid description&quot;);\r\n    \t\t}\r\n    \t\tthis.appointmentId = appointmentId;\r\n    \t\tthis.appointmentDate = appointmentDate;\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \t\r\n    \tpublic String getAppointmentId() {\r\n    \t\treturn appointmentId;\r\n    \t}\r\n    \t\r\n    \tpublic Date getAppointmentDate() {\r\n    \t\treturn appointmentDate;\r\n    \t}\r\n    \t\r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nAppointmentTest.java\r\n\r\n        package test;\r\n    \r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    import appointment.Appointment;\r\n    \r\n    class AppointmentTest {\r\n    \r\n    \t@SuppressWarnings(&quot;deprecation&quot;)\r\n    \t@Test\r\n    \tvoid testAppointment() {\r\n    \t\tAppointment appointment = new Appointment(&quot;12121212&quot;, new Date(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\r\n    \t\tassertTrue(appointment.getAppointmentId().equals(&quot;12121212&quot;));\r\n    \t\tassertTrue(appointment.getAppointmentDate().equals(new Date(2023, Calendar.MAY, 26)));\r\n    \t\tassertTrue(appointment.getDescription().equals(&quot;This appointment involves a couple things&quot;));\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tvoid testAppointmentIdToLong() {\r\n    \t\tAssertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n    \t\t\tnew Appointment(&quot;121212124545&quot;, new Date(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;deprecation&quot;)\r\n    \t@Test\r\n    \tvoid testDateInThePast() {\r\n    \t\tAssertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n    \t\t\tnew Appointment(&quot;34345612&quot;, new Date(2022, Calendar.JUNE, 26), &quot;This appointment involves a couple things&quot;);\r\n    \t\t});\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tvoid testAppointmentDescriptionToLong() {\r\n    \t\tAssertions.assertThrows(IllegalArgumentException.class, () -&gt; {\r\n    \t\t\tnew Appointment(&quot;34345612&quot;,  new Date(2023, Calendar.MAY, 26), &quot;This appointment description is very long and many people would not bother to read the whole thing and just skip over some parts&quot;);\r\n    \t\t});\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"How make a JUnit test that checks whether a date you entered is invalid or not","body":"<p>I am trying to make a JUnit test that checks whether the inputs for an Appointment object are valid or not. I have finished making all the tests, but whenever I run the test, all of the tests pass except for one. For some reason the test testDateInThePast() is failing. Can someone point out the problem? Here is my code:</p>\n<p>Appointment.java</p>\n<pre><code>    package appointment;\n\nimport java.util.Date;\n\npublic class Appointment {\n    private String appointmentId;\n    private Date appointmentDate;\n    private String description;\n    \n    public Appointment(String appointmentId, Date appointmentDate, String description) {\n        if(appointmentId == null || appointmentId.length() &gt; 10) {\n            //We will want to test for the exception\n            throw new IllegalArgumentException(&quot;Invalid input&quot;);\n        }\n        if(appointmentDate == null || appointmentDate.before(new Date())) {\n            throw new IllegalArgumentException(&quot;Invalid date&quot;);\n        }\n        if(description == null || description.length() &gt; 50) {\n            throw new IllegalArgumentException(&quot;Invalid description&quot;);\n        }\n        this.appointmentId = appointmentId;\n        this.appointmentDate = appointmentDate;\n        this.description = description;\n    }\n    \n    public String getAppointmentId() {\n        return appointmentId;\n    }\n    \n    public Date getAppointmentDate() {\n        return appointmentDate;\n    }\n    \n    public String getDescription() {\n        return description;\n    }\n    \n}\n</code></pre>\n<p>AppointmentTest.java</p>\n<pre><code>    package test;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\nimport java.util.Calendar;\nimport java.util.Date;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Test;\n\nimport appointment.Appointment;\n\nclass AppointmentTest {\n\n    @SuppressWarnings(&quot;deprecation&quot;)\n    @Test\n    void testAppointment() {\n        Appointment appointment = new Appointment(&quot;12121212&quot;, new Date(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\n        assertTrue(appointment.getAppointmentId().equals(&quot;12121212&quot;));\n        assertTrue(appointment.getAppointmentDate().equals(new Date(2023, Calendar.MAY, 26)));\n        assertTrue(appointment.getDescription().equals(&quot;This appointment involves a couple things&quot;));\n        \n    }\n    \n    @Test\n    void testAppointmentIdToLong() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;121212124545&quot;, new Date(2023, Calendar.MAY, 26), &quot;This appointment involves a couple things&quot;);\n        });\n    }\n    \n    @SuppressWarnings(&quot;deprecation&quot;)\n    @Test\n    void testDateInThePast() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;34345612&quot;, new Date(2022, Calendar.JUNE, 26), &quot;This appointment involves a couple things&quot;);\n        });\n    }\n    \n    @Test\n    void testAppointmentDescriptionToLong() {\n        Assertions.assertThrows(IllegalArgumentException.class, () -&gt; {\n            new Appointment(&quot;34345612&quot;,  new Date(2023, Calendar.MAY, 26), &quot;This appointment description is very long and many people would not bother to read the whole thing and just skip over some parts&quot;);\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":["java","bufferedreader"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":6,"creation_date":1664318352,"post_id":73874431,"comment_id":130443193,"body_markdown":"Note that `BufferedReader#read()` reads a single **character** as an `int`. You&#39;re seeing the codepoint for `3`, `2`, and `1`, respectively. Using `System.out.println((char) choice)` will give you the expected output, but that likely won&#39;t help with the rest of your program when you write it. You need to parse the character into an integer. Personally, I would do this with `BufferedReader#readLine()` and process the returned `String`. Or use `Scanner` and its `nextInt()` method.","body":"Note that <code>BufferedReader#read()</code> reads a single <b>character</b> as an <code>int</code>. You&#39;re seeing the codepoint for <code>3</code>, <code>2</code>, and <code>1</code>, respectively. Using <code>System.out.println((char) choice)</code> will give you the expected output, but that likely won&#39;t help with the rest of your program when you write it. You need to parse the character into an integer. Personally, I would do this with <code>BufferedReader#readLine()</code> and process the returned <code>String</code>. Or use <code>Scanner</code> and its <code>nextInt()</code> method."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1664321123,"post_id":73874431,"comment_id":130443572,"body_markdown":"Every text character has a numeric code (codepoint) associated with it.  The first 128 codepoints are called [ASCII](https://www.asciitable.com).  Look up the values you’re getting (49, 50, 51) under the ‘Dec’ columns in that table.  (Dec stands for decimal, which means base 10 numbers.  Hx means hexadecimal, which is base 16, and Oct means octal, which is base 8.)  When you find the row where the Dec value is 49, 50, or 51, look rightward:  what character (under the ‘Chr’ column) corresponds to each of those values?","body":"Every text character has a numeric code (codepoint) associated with it.  The first 128 codepoints are called <a href=\"https://www.asciitable.com\" rel=\"nofollow noreferrer\">ASCII</a>.  Look up the values you’re getting (49, 50, 51) under the ‘Dec’ columns in that table.  (Dec stands for decimal, which means base 10 numbers.  Hx means hexadecimal, which is base 16, and Oct means octal, which is base 8.)  When you find the row where the Dec value is 49, 50, or 51, look rightward:  what character (under the ‘Chr’ column) corresponds to each of those values?"},{"owner":{"account_id":10730,"reputation":118663,"user_id":20394,"accept_rate":73,"display_name":"Mike Samuel"},"score":0,"creation_date":1664322466,"post_id":73874431,"comment_id":130443753,"body_markdown":"@Slaw, If your comment were an answer, I&#39;d upvote.","body":"@Slaw, If your comment were an answer, I&#39;d upvote."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1664329064,"post_id":73874431,"comment_id":130444686,"body_markdown":"@Mike I found some duplicates instead","body":"@Mike I found some duplicates instead"}],"owner":{"account_id":17940598,"reputation":15,"user_id":13035946,"display_name":"Malcolm Thompson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664328953,"answer_count":0,"score":0,"last_activity_date":1664328967,"creation_date":1664318234,"question_id":73874431,"body_markdown":"I&#39;m trying to use the BufferedReader class and I&#39;m getting a weird output compared to what I put in.\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n\r\n    public class A1TCPClient {\r\n        public static void main(String[] args) throws Exception {\r\n        \r\n        System.out.println(&quot;Enter an integer 1, 2, or 3: &quot;);\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); //This basically like creating scanner class \r\n        int choice = br.read();\r\n        br.close();\r\n\r\n        System.out.println(choice);\r\n\r\n    }\r\nThis produces the output\r\n\r\n    Enter an integer 1, 2, or 3: \r\n    3          \r\n    51\r\nWith that I&#39;ll say 2 produces 50 and 1 produces 49... What went wrong here?\r\n\r\n","title":"Getting the wrong input with BufferedReader Class","body":"<p>I'm trying to use the BufferedReader class and I'm getting a weird output compared to what I put in.</p>\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class A1TCPClient {\n    public static void main(String[] args) throws Exception {\n    \n    System.out.println(&quot;Enter an integer 1, 2, or 3: &quot;);\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in)); //This basically like creating scanner class \n    int choice = br.read();\n    br.close();\n\n    System.out.println(choice);\n\n}\n</code></pre>\n<p>This produces the output</p>\n<pre><code>Enter an integer 1, 2, or 3: \n3          \n51\n</code></pre>\n<p>With that I'll say 2 produces 50 and 1 produces 49... What went wrong here?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664319666,"post_id":73874566,"comment_id":130443392,"body_markdown":"It would be better if you gave an example which just uses static data instead of including your user input code in the question, as that isn&#39;t the part you&#39;re asking about.","body":"It would be better if you gave an example which just uses static data instead of including your user input code in the question, as that isn&#39;t the part you&#39;re asking about."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1664332342,"post_id":73874566,"comment_id":130445115,"body_markdown":"What do you expect to happen if the count of `$` doesn’t match the array length?","body":"What do you expect to happen if the count of <code>$</code> doesn’t match the array length?"}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664326894,"creation_date":1664320509,"answer_id":73874663,"question_id":73874566,"body_markdown":"Try this.\r\n\r\n    static Pattern PAT = Pattern.compile(&quot;\\\\$&quot;);\r\n\r\n    static String replaceWords(String s, String[] stickers) {\r\n        Iterator&lt;String&gt; i = Arrays.stream(stickers).iterator();\r\n        return PAT.matcher(s).replaceAll(m -&gt; i.next());\r\n    }\r\n\r\nand\r\n\r\n    String[] stickers= {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\r\n    String s = &quot;He$$$llo&quot;;\r\n    System.out.println(replaceWords(s, stickers));\r\n\r\noutput:\r\n\r\n    HeBEARRICESTEAKllo\r\n\r\n","title":"How can I replace each occurence of a specifc letter with a word from an array","body":"<p>Try this.</p>\n<pre><code>static Pattern PAT = Pattern.compile(&quot;\\\\$&quot;);\n\nstatic String replaceWords(String s, String[] stickers) {\n    Iterator&lt;String&gt; i = Arrays.stream(stickers).iterator();\n    return PAT.matcher(s).replaceAll(m -&gt; i.next());\n}\n</code></pre>\n<p>and</p>\n<pre><code>String[] stickers= {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\nString s = &quot;He$$$llo&quot;;\nSystem.out.println(replaceWords(s, stickers));\n</code></pre>\n<p>output:</p>\n<pre><code>HeBEARRICESTEAKllo\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664328422,"creation_date":1664328422,"answer_id":73875282,"question_id":73874566,"body_markdown":"Acquire the number of tags (&quot;$&quot;) that need to be changed then iterate based on that number and sequentially change those tags with array elements. In the following method code, any number of tags can be supplied in any size of string. The tags will be sequentially changed based on what is contained as string elements within the supplied String[] Array.\r\n\r\nRead the comments in code:\r\n\r\n    /**\r\n     * This method will replace all of a specific string character tag encountered \r\n     * within a supplied string sequentially with a string element contained within \r\n     * the supplied String[] Array. \r\n     * &lt;p&gt;\r\n     * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\r\n     * \r\n     *    String[] array = {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\r\n     *    String inputString = &quot;He$$$ll$o Th$$er$e&quot;;\r\n     *    String modifiedString = replaceTagsWithArrayElements(inputString, &quot;$&quot;, array);\r\n     *    System.out.println(modifiedString);\r\n     * \r\n     * With the above example, the Console Window will display:\r\n     * \r\n     *    HeBEARRICESTEAKllBEARo ThRICESTEAKerBEARe&lt;/pre&gt;\r\n     * \r\n     * @param inputString (String) The supplied string to replace tags in. If \r\n     * null or an empty string is supplied then the same is returned.&lt;br&gt;\r\n     * \r\n     * @param tag (String) The tag within the string which needs to be sequentially \r\n     * replaced with supplied String[] array elements. The tag can only be a single \r\n     * character. If null or an empty string is supplied then an IllegalArumentException \r\n     * is thrown.&lt;br&gt;\r\n     * \r\n     * @param replacementArray (String[] Array) The supplied String[] Array which \r\n     * contains the strings that each encountered tag will be sequentially replaced \r\n     * with. If the supplied array is null or contains a length of 0 then an \r\n     * IllegalArumentException is thrown.&lt;br&gt;\r\n     * \r\n     * @return (String) The modified input string.\r\n     */\r\n    public static String replaceTagsWithArrayElements(String inputString, \r\n                             String tag, String[] replacementArray) {\r\n        // Validate Parameters..\r\n        if (inputString == null || inputString.isEmpty()) { \r\n            return inputString; \r\n        }\r\n        else if (tag == null || tag.length() &gt; 1) {\r\n            throw new IllegalArgumentException(&quot;replaceTagsWithArrayElements() &quot;\r\n                    + &quot;Method Error! Invalid Tag (&quot; + tag + &quot;) Supplied!&quot;);\r\n        }\r\n        else if (replacementArray.length == 0) {\r\n            throw new IllegalArgumentException(&quot;replaceTagsWithArrayElements() &quot;\r\n                    + &quot;Method Error! The supplied String[] Array is empty!&quot;);\r\n        }\r\n        \r\n        // Keep the supplied string intact. Use a worker variable (strg).\r\n        String strg = inputString;\r\n        \r\n        // See how many tags are contained within the supplied input string.\r\n        int numOfSigns = strg.replaceAll(&quot;[^&quot; + tag +&quot;]&quot;, &quot;&quot;).length();\r\n        \r\n        int ii = 0;  // index counter to supply String[] array element Strings\r\n        \r\n        // Iterate based on the number of tags...\r\n        for (int i = 0; i &lt; numOfSigns; i++) {\r\n            /* If the array index counter exceeds the length \r\n               of the array then reset the counter to 0.  */\r\n            if (ii &gt; replacementArray.length -1) { \r\n                ii = 0; \r\n            }\r\n            // Change the current Tag with the current array element.\r\n            strg = strg.substring(0, strg.indexOf(&quot;$&quot;)) \r\n                    + replacementArray[ii] + strg.substring(strg.indexOf(&quot;$&quot;) + 1);\r\n            ii++;  // Increment the array index counter by 1.\r\n        }\r\n        \r\n        return strg;   // Return the modified input string.\r\n    }\r\n    \r\nTo use the above method, you might do this:\r\n\r\n    String[] array = {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\r\n    String inputString = &quot;He$$$ll$o Th$$er$e&quot;;\r\n    String modifiedString = replaceTagsWithArrayElements(inputString, &quot;$&quot;, array);\r\n    System.out.println(modifiedString);\r\n\r\nThe Console Window should display:\r\n\r\n    HeBEARRICESTEAKllBEARo ThRICESTEAKerBEARe\r\n","title":"How can I replace each occurence of a specifc letter with a word from an array","body":"<p>Acquire the number of tags (&quot;$&quot;) that need to be changed then iterate based on that number and sequentially change those tags with array elements. In the following method code, any number of tags can be supplied in any size of string. The tags will be sequentially changed based on what is contained as string elements within the supplied String[] Array.</p>\n<p>Read the comments in code:</p>\n<pre><code>/**\n * This method will replace all of a specific string character tag encountered \n * within a supplied string sequentially with a string element contained within \n * the supplied String[] Array. \n * &lt;p&gt;\n * &lt;b&gt;Example Usage:&lt;/b&gt;&lt;pre&gt;\n * \n *    String[] array = {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\n *    String inputString = &quot;He$$$ll$o Th$$er$e&quot;;\n *    String modifiedString = replaceTagsWithArrayElements(inputString, &quot;$&quot;, array);\n *    System.out.println(modifiedString);\n * \n * With the above example, the Console Window will display:\n * \n *    HeBEARRICESTEAKllBEARo ThRICESTEAKerBEARe&lt;/pre&gt;\n * \n * @param inputString (String) The supplied string to replace tags in. If \n * null or an empty string is supplied then the same is returned.&lt;br&gt;\n * \n * @param tag (String) The tag within the string which needs to be sequentially \n * replaced with supplied String[] array elements. The tag can only be a single \n * character. If null or an empty string is supplied then an IllegalArumentException \n * is thrown.&lt;br&gt;\n * \n * @param replacementArray (String[] Array) The supplied String[] Array which \n * contains the strings that each encountered tag will be sequentially replaced \n * with. If the supplied array is null or contains a length of 0 then an \n * IllegalArumentException is thrown.&lt;br&gt;\n * \n * @return (String) The modified input string.\n */\npublic static String replaceTagsWithArrayElements(String inputString, \n                         String tag, String[] replacementArray) {\n    // Validate Parameters..\n    if (inputString == null || inputString.isEmpty()) { \n        return inputString; \n    }\n    else if (tag == null || tag.length() &gt; 1) {\n        throw new IllegalArgumentException(&quot;replaceTagsWithArrayElements() &quot;\n                + &quot;Method Error! Invalid Tag (&quot; + tag + &quot;) Supplied!&quot;);\n    }\n    else if (replacementArray.length == 0) {\n        throw new IllegalArgumentException(&quot;replaceTagsWithArrayElements() &quot;\n                + &quot;Method Error! The supplied String[] Array is empty!&quot;);\n    }\n    \n    // Keep the supplied string intact. Use a worker variable (strg).\n    String strg = inputString;\n    \n    // See how many tags are contained within the supplied input string.\n    int numOfSigns = strg.replaceAll(&quot;[^&quot; + tag +&quot;]&quot;, &quot;&quot;).length();\n    \n    int ii = 0;  // index counter to supply String[] array element Strings\n    \n    // Iterate based on the number of tags...\n    for (int i = 0; i &lt; numOfSigns; i++) {\n        /* If the array index counter exceeds the length \n           of the array then reset the counter to 0.  */\n        if (ii &gt; replacementArray.length -1) { \n            ii = 0; \n        }\n        // Change the current Tag with the current array element.\n        strg = strg.substring(0, strg.indexOf(&quot;$&quot;)) \n                + replacementArray[ii] + strg.substring(strg.indexOf(&quot;$&quot;) + 1);\n        ii++;  // Increment the array index counter by 1.\n    }\n    \n    return strg;   // Return the modified input string.\n}\n</code></pre>\n<p>To use the above method, you might do this:</p>\n<pre><code>String[] array = {&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;};\nString inputString = &quot;He$$$ll$o Th$$er$e&quot;;\nString modifiedString = replaceTagsWithArrayElements(inputString, &quot;$&quot;, array);\nSystem.out.println(modifiedString);\n</code></pre>\n<p>The Console Window should display:</p>\n<pre><code>HeBEARRICESTEAKllBEARo ThRICESTEAKerBEARe\n</code></pre>\n"}],"owner":{"account_id":24409091,"reputation":7,"user_id":18336823,"display_name":"Nicolas Nino"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1664328422,"creation_date":1664319501,"question_id":73874566,"body_markdown":"Im basically just trying to replace the character &#39;$&#39; with words that I have in this array. \r\nI also want it so that every time that character appears, it goes to the next word in the array. \r\n\r\nExample:\r\n\r\nArray = (&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;) \r\n\r\nString = &quot;He$$$llo&quot;\r\n\r\nOutput: HeBEARRICESTEAKllo\r\n\r\nAS you can see, it goes down sequentially through the array.\r\n\r\nThis is the code I have.\r\n\r\n```\r\n    private static String[] stickers= {&quot;PUMPKIN&quot;, &quot;BAT&quot;, &quot;WITCH&quot;, &quot;BAT&quot;};\r\n    public static void main(String[] args) {\r\n        int count=0;\r\n        char search = &#39;$&#39;;\r\n        String data_type,data,replacedata,updated_data;\r\n        Scanner scan = new Scanner(System.in);\r\n        do{\r\n            System.out.println(&quot;What type of data?&quot;);\r\n            data_type=scan.nextLine();\r\n            String updated_datatype = data_type.toLowerCase().replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\r\n            System.out.println(&quot;Type your message: &quot;);\r\n            data=scan.nextLine();\r\n            for(int i=0;i&lt;data.length();i++){\r\n                if(data.charAt(i)==search)\r\n                    count++;\r\n            }\r\n            for(int j=0;j&lt;count;j++){\r\n                updated_data = data.replace(&quot;$&quot;, stickers[j]);\r\n                System.out.println(&quot;Your updated message is: &quot;+updated_data);\r\n            }\r\n            //System.out.println(&quot;Your word: &quot;+data+&quot; ,has this many occurances of $: &quot;+count);\r\n            //replacedata=data.replace(&#39;$&#39;, replacement&#39;&#39;)\r\n\r\n            //if (data_type==&quot;name&quot;);\r\n\r\n        }while(data_type!=&quot;exit&quot;);\r\n    }\r\n```\r\nAll this does for me is replace the all the characters with the element thats being iterated through the array. \r\n\r\nAlso, as you can tell, im fairly new to java and programming overall. Thanks!!\r\n","title":"How can I replace each occurence of a specifc letter with a word from an array","body":"<p>Im basically just trying to replace the character '$' with words that I have in this array.\nI also want it so that every time that character appears, it goes to the next word in the array.</p>\n<p>Example:</p>\n<p>Array = (&quot;BEAR&quot;, &quot;RICE&quot;, &quot;STEAK&quot;)</p>\n<p>String = &quot;He$$$llo&quot;</p>\n<p>Output: HeBEARRICESTEAKllo</p>\n<p>AS you can see, it goes down sequentially through the array.</p>\n<p>This is the code I have.</p>\n<pre><code>    private static String[] stickers= {&quot;PUMPKIN&quot;, &quot;BAT&quot;, &quot;WITCH&quot;, &quot;BAT&quot;};\n    public static void main(String[] args) {\n        int count=0;\n        char search = '$';\n        String data_type,data,replacedata,updated_data;\n        Scanner scan = new Scanner(System.in);\n        do{\n            System.out.println(&quot;What type of data?&quot;);\n            data_type=scan.nextLine();\n            String updated_datatype = data_type.toLowerCase().replaceAll(&quot;\\\\s&quot;,&quot;&quot;);\n            System.out.println(&quot;Type your message: &quot;);\n            data=scan.nextLine();\n            for(int i=0;i&lt;data.length();i++){\n                if(data.charAt(i)==search)\n                    count++;\n            }\n            for(int j=0;j&lt;count;j++){\n                updated_data = data.replace(&quot;$&quot;, stickers[j]);\n                System.out.println(&quot;Your updated message is: &quot;+updated_data);\n            }\n            //System.out.println(&quot;Your word: &quot;+data+&quot; ,has this many occurances of $: &quot;+count);\n            //replacedata=data.replace('$', replacement'')\n\n            //if (data_type==&quot;name&quot;);\n\n        }while(data_type!=&quot;exit&quot;);\n    }\n</code></pre>\n<p>All this does for me is replace the all the characters with the element thats being iterated through the array.</p>\n<p>Also, as you can tell, im fairly new to java and programming overall. Thanks!!</p>\n"},{"tags":["java","performance","benchmarking","jit","microbenchmark"],"comments":[{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":6,"creation_date":1273988704,"post_id":2842695,"comment_id":2885199,"body_markdown":"It&#39;s bedtime for me, so here&#39;s just a dumb comment with a link to get you started with reading the material: http://java.sun.com/docs/hotspot/HotSpotFAQ.html (check the &quot;Benchmarking&quot; chapters at bottom of TOC).","body":"It&#39;s bedtime for me, so here&#39;s just a dumb comment with a link to get you started with reading the material: <a href=\"http://java.sun.com/docs/hotspot/HotSpotFAQ.html\" rel=\"nofollow noreferrer\">java.sun.com/docs/hotspot/HotSpotFAQ.html</a> (check the &quot;Benchmarking&quot; chapters at bottom of TOC)."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":11,"creation_date":1273994816,"post_id":2842695,"comment_id":2885428,"body_markdown":"Only 1 millionth as useful as benchmarking :-)","body":"Only 1 millionth as useful as benchmarking :-)"},{"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":1,"creation_date":1275109664,"post_id":2842695,"comment_id":2987972,"body_markdown":"http://code.google.com/p/caliper/wiki/JavaMicrobenchmarks","body":"<a href=\"http://code.google.com/p/caliper/wiki/JavaMicrobenchmarks\" rel=\"nofollow noreferrer\">code.google.com/p/caliper/wiki/JavaMicrobenchmarks</a>"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1664324370,"creation_date":1273988796,"answer_id":2842705,"question_id":2842695,"body_markdown":"*Note: This is a Java-centric answer, given the tags that the OP used.*\r\n\r\nThere is no definition of micro-benchmarking, but when I use it I mean a small artificial benchmark designed to test the performance of some specific hardware&lt;sup&gt;1&lt;/sup&gt; or language feature.  By contrast, a better (Java) benchmark is a real program designed to perform a real task.  (Drawing a hard line between the two cases is pointless, IMO, and I won&#39;t try.)\r\n\r\nThe danger of micro benchmarking is that it is easy to write a benchmark that gives results that are totally misleading.  Some common traps in Java micro-benchmarks are:\r\n\r\n  - writing code that the compiler can deduce does not useful work, and therefore optimize away entirely,\r\n  - not taking account of the &quot;lumpy&quot; nature of Java memory management (i.e. garbage collection), and\r\n  - not taking account of JVM startup effects; e.g. the time take to load and JIT compile classes, and (conversely) the execution speedup that happens once the methods have been JIT compiled.\r\n\r\nHowever, even once you have addressed the issues above, there is a systemic issue with micro-benchmarking that is impossible to address.  The code and behavior of a micro-benchmark frequently bears little relation to what you really care about; i.e. how *your* application is going to perform.  There are far too many &quot;hidden variables&quot; for you to be able to generalize from a micro-benchmark to typical Java programs, let alone to your program.\r\n\r\nFor these reasons, we regularly advise people *not to waste their time* with micro-benchmarks.  Instead, it is better to write simple and natural code, and use a profiler to identify areas that need to be hand optimized.  It usually turns out&lt;sup&gt;2&lt;/sup&gt; that the most significant performance problems in typical real-world applications are due to bad design of data structures and algorithms (including networking, database and threading-related bottlenecks) rather than the kind of fine-grained things that typical micro-benchmarks are trying to test.\r\n\r\n@BalusC has provided an excellent link to material on this topic in the [Hotspot FAQ][1] page.  And here is a link to an IBM whitepaper by [Brian Goetz][2].\r\n\r\nSee also: https://stackoverflow.com/questions/504103\r\n\r\n\r\n  [1]: http://java.sun.com/docs/hotspot/HotSpotFAQ.html#benchmarking_simple\r\n  [2]: http://www.ibm.com/developerworks/java/library/j-jtp12214/\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - Experts would not even try to do hardware benchmarking in Java.  There are too many &quot;complex things&quot; happening between the bytecodes and the hardware to draw valid / useful conclusions about hardware from the raw results.  You would be better off using a language that is closer to the hardware; e.g. C or even assembly code.&lt;br&gt;\r\n2 - I assert this without providing any supporting evidence.  And there are exceptions, of course.&lt;/sup&gt;","title":"What is microbenchmarking?","body":"<p><em>Note: This is a Java-centric answer, given the tags that the OP used.</em></p>\n<p>There is no definition of micro-benchmarking, but when I use it I mean a small artificial benchmark designed to test the performance of some specific hardware<sup>1</sup> or language feature.  By contrast, a better (Java) benchmark is a real program designed to perform a real task.  (Drawing a hard line between the two cases is pointless, IMO, and I won't try.)</p>\n<p>The danger of micro benchmarking is that it is easy to write a benchmark that gives results that are totally misleading.  Some common traps in Java micro-benchmarks are:</p>\n<ul>\n<li>writing code that the compiler can deduce does not useful work, and therefore optimize away entirely,</li>\n<li>not taking account of the &quot;lumpy&quot; nature of Java memory management (i.e. garbage collection), and</li>\n<li>not taking account of JVM startup effects; e.g. the time take to load and JIT compile classes, and (conversely) the execution speedup that happens once the methods have been JIT compiled.</li>\n</ul>\n<p>However, even once you have addressed the issues above, there is a systemic issue with micro-benchmarking that is impossible to address.  The code and behavior of a micro-benchmark frequently bears little relation to what you really care about; i.e. how <em>your</em> application is going to perform.  There are far too many &quot;hidden variables&quot; for you to be able to generalize from a micro-benchmark to typical Java programs, let alone to your program.</p>\n<p>For these reasons, we regularly advise people <em>not to waste their time</em> with micro-benchmarks.  Instead, it is better to write simple and natural code, and use a profiler to identify areas that need to be hand optimized.  It usually turns out<sup>2</sup> that the most significant performance problems in typical real-world applications are due to bad design of data structures and algorithms (including networking, database and threading-related bottlenecks) rather than the kind of fine-grained things that typical micro-benchmarks are trying to test.</p>\n<p>@BalusC has provided an excellent link to material on this topic in the <a href=\"http://java.sun.com/docs/hotspot/HotSpotFAQ.html#benchmarking_simple\" rel=\"nofollow noreferrer\">Hotspot FAQ</a> page.  And here is a link to an IBM whitepaper by <a href=\"http://www.ibm.com/developerworks/java/library/j-jtp12214/\" rel=\"nofollow noreferrer\">Brian Goetz</a>.</p>\n<p>See also: <a href=\"https://stackoverflow.com/questions/504103\">How do I write a correct micro-benchmark in Java?</a></p>\n<hr />\n<p><sup>1 - Experts would not even try to do hardware benchmarking in Java.  There are too many &quot;complex things&quot; happening between the bytecodes and the hardware to draw valid / useful conclusions about hardware from the raw results.  You would be better off using a language that is closer to the hardware; e.g. C or even assembly code.<br>\n2 - I assert this without providing any supporting evidence.  And there are exceptions, of course.</sup></p>\n"},{"tags":[],"owner":{"account_id":117977,"reputation":51321,"user_id":308661,"display_name":"In silico"},"down_vote_count":0,"up_vote_count":109,"is_accepted":true,"score":109,"last_activity_date":1274135699,"creation_date":1273988835,"answer_id":2842707,"question_id":2842695,"body_markdown":"It means exactly what it says on the tin can - it&#39;s measuring the performance of something &quot;small&quot;, like a system call to the kernel of an operating system.\r\n\r\nThe danger is that people may use whatever results they obtain from microbenchmarking to dictate optimizations. And as we all know:\r\n\r\n&gt; We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of\r\n&gt; all evil&quot; -- Donald Knuth\r\n\r\nThere can be many factors that skew the result of microbenchmarks. Compiler optimizations is one of them. If the operation being measured takes so little time that whatever you use to measure it takes longer than the actual operation itself, your microbenchmarks will be skewed also.\r\n\r\nFor example, someone might take a microbenchmark of the overhead of `for` loops:\r\n\r\n    void TestForLoop()\r\n    {\r\n        time start = GetTime();\r\n\r\n        for(int i = 0; i &lt; 1000000000; ++i)\r\n        {\r\n        }\r\n\r\n        time elapsed = GetTime() - start;\r\n        time elapsedPerIteration = elapsed / 1000000000;\r\n        printf(&quot;Time elapsed for each iteration: %d\\n&quot;, elapsedPerIteration);\r\n    }\r\n\r\nObviously compilers can see that the loop does absolutely nothing and not generate any code for the loop at all. So the value of `elapsed` and `elapsedPerIteration` is pretty much useless.\r\n\r\nEven if the loop does something:\r\n\r\n    void TestForLoop()\r\n    {\r\n        int sum = 0;\r\n        time start = GetTime();\r\n\r\n        for(int i = 0; i &lt; 1000000000; ++i)\r\n        {\r\n            ++sum;\r\n        }\r\n\r\n        time elapsed = GetTime() - start;\r\n        time elapsedPerIteration = elapsed / 1000000000;\r\n        printf(&quot;Time elapsed for each iteration: %d\\n&quot;, elapsedPerIteration);\r\n    }\r\n\r\nThe compiler may see that the variable `sum` isn&#39;t going to be used for anything and optimize it away, and optimize away the for loop as well. But wait! What if we do this:\r\n\r\n    void TestForLoop()\r\n    {\r\n        int sum = 0;\r\n        time start = GetTime();\r\n\r\n        for(int i = 0; i &lt; 1000000000; ++i)\r\n        {\r\n            ++sum;\r\n        }\r\n\r\n        time elapsed = GetTime() - start;\r\n        time elapsedPerIteration = elapsed / 1000000000;\r\n        printf(&quot;Time elapsed for each iteration: %d\\n&quot;, elapsedPerIteration);\r\n        printf(&quot;Sum: %d\\n&quot;, sum); // Added\r\n    }\r\n\r\nThe compiler might be smart enough to realize that `sum` will always be a constant value, and optimize all that away as well. Many would be surprised at the optimizing capabilities of compilers these days.\r\n\r\nBut what about things that compilers can&#39;t optimize away?\r\n\r\n    void TestFileOpenPerformance()\r\n    {\r\n        FILE* file = NULL;\r\n        time start = GetTime();\r\n\r\n        for(int i = 0; i &lt; 1000000000; ++i)\r\n        {\r\n            file = fopen(&quot;testfile.dat&quot;);\r\n            fclose(file);\r\n        }\r\n\r\n        time elapsed = GetTime() - start;\r\n        time elapsedPerIteration = elapsed / 1000000000;\r\n        printf(&quot;Time elapsed for each file open: %d\\n&quot;, elapsedPerIteration);\r\n    }\r\n\r\nEven this is not a useful test! The operating system may see that the file is being opened very frequently, so it may preload it in memory to improve performance. Pretty much all operating systems do this. The same thing happens when you open applications - operating systems may figure out the top ~5 applications you open the most and preload the application code in memory when you boot up the computer!\r\n\r\nIn fact, there are countless variables that come into play: locality of reference (e.g. arrays vs. linked lists), effects of caches and memory bandwidth, compiler inlining, compiler implementation, compiler switches, number of processor cores, optimizations at the processor level, operating system schedulers, operating system background processes, etc.\r\n\r\nSo microbenchmarking isn&#39;t exactly a useful metric in a lot of cases. It definitely does not replace whole-program benchmarks with well-defined test cases (profiling). Write readable code first, then profile to see what needs to be done, if any.\r\n\r\nI would like to emphasize that microbenchmarks are not evil *per se*, but one has to use them carefully (that&#39;s true for lots of other things related to computers)","title":"What is microbenchmarking?","body":"<p>It means exactly what it says on the tin can - it's measuring the performance of something \"small\", like a system call to the kernel of an operating system.</p>\n\n<p>The danger is that people may use whatever results they obtain from microbenchmarking to dictate optimizations. And as we all know:</p>\n\n<blockquote>\n  <p>We should forget about small efficiencies, say about 97% of the time: premature optimization is the root of\n  all evil\" -- Donald Knuth</p>\n</blockquote>\n\n<p>There can be many factors that skew the result of microbenchmarks. Compiler optimizations is one of them. If the operation being measured takes so little time that whatever you use to measure it takes longer than the actual operation itself, your microbenchmarks will be skewed also.</p>\n\n<p>For example, someone might take a microbenchmark of the overhead of <code>for</code> loops:</p>\n\n<pre><code>void TestForLoop()\n{\n    time start = GetTime();\n\n    for(int i = 0; i &lt; 1000000000; ++i)\n    {\n    }\n\n    time elapsed = GetTime() - start;\n    time elapsedPerIteration = elapsed / 1000000000;\n    printf(\"Time elapsed for each iteration: %d\\n\", elapsedPerIteration);\n}\n</code></pre>\n\n<p>Obviously compilers can see that the loop does absolutely nothing and not generate any code for the loop at all. So the value of <code>elapsed</code> and <code>elapsedPerIteration</code> is pretty much useless.</p>\n\n<p>Even if the loop does something:</p>\n\n<pre><code>void TestForLoop()\n{\n    int sum = 0;\n    time start = GetTime();\n\n    for(int i = 0; i &lt; 1000000000; ++i)\n    {\n        ++sum;\n    }\n\n    time elapsed = GetTime() - start;\n    time elapsedPerIteration = elapsed / 1000000000;\n    printf(\"Time elapsed for each iteration: %d\\n\", elapsedPerIteration);\n}\n</code></pre>\n\n<p>The compiler may see that the variable <code>sum</code> isn't going to be used for anything and optimize it away, and optimize away the for loop as well. But wait! What if we do this:</p>\n\n<pre><code>void TestForLoop()\n{\n    int sum = 0;\n    time start = GetTime();\n\n    for(int i = 0; i &lt; 1000000000; ++i)\n    {\n        ++sum;\n    }\n\n    time elapsed = GetTime() - start;\n    time elapsedPerIteration = elapsed / 1000000000;\n    printf(\"Time elapsed for each iteration: %d\\n\", elapsedPerIteration);\n    printf(\"Sum: %d\\n\", sum); // Added\n}\n</code></pre>\n\n<p>The compiler might be smart enough to realize that <code>sum</code> will always be a constant value, and optimize all that away as well. Many would be surprised at the optimizing capabilities of compilers these days.</p>\n\n<p>But what about things that compilers can't optimize away?</p>\n\n<pre><code>void TestFileOpenPerformance()\n{\n    FILE* file = NULL;\n    time start = GetTime();\n\n    for(int i = 0; i &lt; 1000000000; ++i)\n    {\n        file = fopen(\"testfile.dat\");\n        fclose(file);\n    }\n\n    time elapsed = GetTime() - start;\n    time elapsedPerIteration = elapsed / 1000000000;\n    printf(\"Time elapsed for each file open: %d\\n\", elapsedPerIteration);\n}\n</code></pre>\n\n<p>Even this is not a useful test! The operating system may see that the file is being opened very frequently, so it may preload it in memory to improve performance. Pretty much all operating systems do this. The same thing happens when you open applications - operating systems may figure out the top ~5 applications you open the most and preload the application code in memory when you boot up the computer!</p>\n\n<p>In fact, there are countless variables that come into play: locality of reference (e.g. arrays vs. linked lists), effects of caches and memory bandwidth, compiler inlining, compiler implementation, compiler switches, number of processor cores, optimizations at the processor level, operating system schedulers, operating system background processes, etc.</p>\n\n<p>So microbenchmarking isn't exactly a useful metric in a lot of cases. It definitely does not replace whole-program benchmarks with well-defined test cases (profiling). Write readable code first, then profile to see what needs to be done, if any.</p>\n\n<p>I would like to emphasize that microbenchmarks are not evil <em>per se</em>, but one has to use them carefully (that's true for lots of other things related to computers)</p>\n"},{"tags":[],"owner":{"account_id":26919,"reputation":9871,"user_id":70477,"accept_rate":67,"display_name":"Dan Davies Brackett"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1273989898,"creation_date":1273989898,"answer_id":2842730,"question_id":2842695,"body_markdown":"Microbenchmarking is benchmarking I don&#39;t think is worthwhile.  Effective benchmarking is benchmarking I think is worth the time.\r\n\r\nGenerally speaking, microbenchmarking is (as in silico says) attempting to measure the performance of some very granular task, which is both hard to do well and usually pointless in the context of actual performance headaches.","title":"What is microbenchmarking?","body":"<p>Microbenchmarking is benchmarking I don't think is worthwhile.  Effective benchmarking is benchmarking I think is worth the time.</p>\n\n<p>Generally speaking, microbenchmarking is (as in silico says) attempting to measure the performance of some very granular task, which is both hard to do well and usually pointless in the context of actual performance headaches.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1605817412,"creation_date":1273991402,"answer_id":2842778,"question_id":2842695,"body_markdown":"&gt; * What DOES it mean and what DOESN&#39;T it mean?\r\n\r\nI would say micro-benchmarking simply means measuring something tiny. Tiny is probably context dependent, but typically on the level of a single system call or something similar. Benchmarking refers to everything above. \r\n\r\n&gt; * What are some examples of what IS and ISN&#39;T microbenchmarking?\r\n\r\n[This](https://web.archive.org/web/20120419175805/http://blogs.microsoft.co.il/blogs/sasha/archive/2009/05/08/micro-benchmarking-considered-harmful.aspx) (archived) article lists *measuring time of a getpid() system call* and *measuring the time to copy memory using memcpy()* as examples of micro-benchmarking.\r\n\r\nAny measurement of an algorithm implementation etc would not count as micro-benchmarking. Especially result reports listing tasks with decreasing execution time probably seldom count as micro benchmarking.\r\n\r\n&gt; * What are the dangers of microbenchmarking and how do you avoid it?\r\n\r\nThe obvious danger is that it tempts developers to optimize the wrong parts of a program. Another danger is that it is notoriously difficult to do measurements of something small accurately. The easiest way to avoid it is probably just to get a good picture of where the most time is spent in the program.\r\n\r\nPeople usually say &quot;don&#39;t do micro-benchmarking&quot; but what they probably mean is &quot;don&#39;t make optimization decisions based on micro-benchmarks&quot;.\r\n\r\n&gt;  - (or is it a good thing?)\r\n\r\nIt&#39;s not at all a bad thing per se as others here, and many webpages seem to suggest. It has it&#39;s places. I work with program rewriting and runtime aspect weaving etc. We usually publish micro-benchmarks of our added instructions, not to guide any optimizations, but making sure that our extra code has close to no impact on the execution of the rewritten program.\r\n\r\nIt&#39;s an art however, especially in the context of a VM that has JIT, warm-up times etc. A well described approach for Java is descrbed [here](https://web.archive.org/web/20111225074029/http://www.cris.com:80/~Ttwang/tech/microbench.htm) (archived).","title":"What is microbenchmarking?","body":"<blockquote>\n<ul>\n<li>What DOES it mean and what DOESN'T it mean?</li>\n</ul>\n</blockquote>\n<p>I would say micro-benchmarking simply means measuring something tiny. Tiny is probably context dependent, but typically on the level of a single system call or something similar. Benchmarking refers to everything above.</p>\n<blockquote>\n<ul>\n<li>What are some examples of what IS and ISN'T microbenchmarking?</li>\n</ul>\n</blockquote>\n<p><a href=\"https://web.archive.org/web/20120419175805/http://blogs.microsoft.co.il/blogs/sasha/archive/2009/05/08/micro-benchmarking-considered-harmful.aspx\" rel=\"nofollow noreferrer\">This</a> (archived) article lists <em>measuring time of a getpid() system call</em> and <em>measuring the time to copy memory using memcpy()</em> as examples of micro-benchmarking.</p>\n<p>Any measurement of an algorithm implementation etc would not count as micro-benchmarking. Especially result reports listing tasks with decreasing execution time probably seldom count as micro benchmarking.</p>\n<blockquote>\n<ul>\n<li>What are the dangers of microbenchmarking and how do you avoid it?</li>\n</ul>\n</blockquote>\n<p>The obvious danger is that it tempts developers to optimize the wrong parts of a program. Another danger is that it is notoriously difficult to do measurements of something small accurately. The easiest way to avoid it is probably just to get a good picture of where the most time is spent in the program.</p>\n<p>People usually say &quot;don't do micro-benchmarking&quot; but what they probably mean is &quot;don't make optimization decisions based on micro-benchmarks&quot;.</p>\n<blockquote>\n<ul>\n<li>(or is it a good thing?)</li>\n</ul>\n</blockquote>\n<p>It's not at all a bad thing per se as others here, and many webpages seem to suggest. It has it's places. I work with program rewriting and runtime aspect weaving etc. We usually publish micro-benchmarks of our added instructions, not to guide any optimizations, but making sure that our extra code has close to no impact on the execution of the rewritten program.</p>\n<p>It's an art however, especially in the context of a VM that has JIT, warm-up times etc. A well described approach for Java is descrbed <a href=\"https://web.archive.org/web/20111225074029/http://www.cris.com:80/%7ETtwang/tech/microbench.htm\" rel=\"nofollow noreferrer\">here</a> (archived).</p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203659,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619084419,"creation_date":1274023699,"answer_id":2844291,"question_id":2842695,"body_markdown":"Here are some good articles by Brian Goetz that explain why (micro)benchmarking is especially hard in Java:\r\n\r\n - [Dynamic compilation and performance measurement][1]\r\n - [Anatomy of a flawed microbenchmark][2]\r\n - [Garbage collection and performance][3]\r\n\r\n\r\n  [1]: https://web.archive.org/web/20210228055617/https://www.ibm.com/developerworks/library/j-jtp12214/\r\n  [2]: https://web.archive.org/web/20090221111917/http://www.ibm.com/developerworks/java/library/j-jtp02225.html\r\n  [3]: https://web.archive.org/web/20090329224854/http://www.ibm.com/developerworks/java/library/j-jtp01274.html","title":"What is microbenchmarking?","body":"<p>Here are some good articles by Brian Goetz that explain why (micro)benchmarking is especially hard in Java:</p>\n<ul>\n<li><a href=\"https://web.archive.org/web/20210228055617/https://www.ibm.com/developerworks/library/j-jtp12214/\" rel=\"nofollow noreferrer\">Dynamic compilation and performance measurement</a></li>\n<li><a href=\"https://web.archive.org/web/20090221111917/http://www.ibm.com/developerworks/java/library/j-jtp02225.html\" rel=\"nofollow noreferrer\">Anatomy of a flawed microbenchmark</a></li>\n<li><a href=\"https://web.archive.org/web/20090329224854/http://www.ibm.com/developerworks/java/library/j-jtp01274.html\" rel=\"nofollow noreferrer\">Garbage collection and performance</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5136603,"reputation":161,"user_id":4115170,"display_name":"castilloRT"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1594876702,"creation_date":1472918221,"answer_id":39308775,"question_id":2842695,"body_markdown":"The book &#39;Java Performance: The Definitive Guide&#39;\r\nhas this definition and example about microbenchmarks:\r\n\r\n1. Microbenchmarks\r\n    \r\n    A microbenchmark is a test designed to measure a very small unit\r\n    performance: the time to call a synchronized method versus a\r\n    non-synchronized method; the overhead in creating a thread versus using\r\n    a thread pool; the time to execute one arithmetic algoritm versus an\r\n    alternate implementation; and so on.\r\n    \r\n    Microbenchmarks may seem like a good idea, but they are very\r\n    difficult to write correctly. Consider the following code, which\r\n    is an attempt to write a microbenchmark that tests the performance of\r\n    different implementations of a method to compute the 50th Fibonacci\r\n    number:\r\n\r\n&gt;     public void doTest(){\r\n&gt;     double l;\r\n&gt;     long then = System.currentTimeMillis();\r\n&gt;     \r\n&gt;     for(int i = 0; i &lt; nLoops; i++){\r\n&gt;      l = fibImpl1(50);\r\n&gt;     }\r\n&gt;     \r\n&gt;     long now = system.currentTimeMillis();\r\n&gt;     System.out.println(&quot;Elapsed time: &quot; + (now - then))\r\n&gt;     \r\n&gt;     }\r\n&gt;     \r\n&gt;     ...\r\n&gt;     \r\n&gt;     private double fibImpl1(int n){\r\n&gt;     if(n &lt; 0) throw new IllegalArgumentException(&quot;Must be &gt; 0&quot;);\r\n&gt;     if(n == 0) return 0d;\r\n&gt;     if(n == 1) return 1d;\r\n&gt;     double d = fibImpl1(n - 2) + fibImpl(n - 1);\r\n&gt;     if(Double.isInfinited(d)) throw new ArithmeticException(&quot;Overflow&quot;);\r\n&gt;     return d;\r\n&gt;     }\r\n\r\nMicrobenchmarks must use their results.\r\n\r\nThe biggest problem with this code is that it never actually changes any program state. Because the result of the Fibonacci calculation is never used, the compiler is free to discard that calculation, A smart compiler (including current Java 7 and 8 compilers) will end up executing this code:\r\n\r\n&gt;     long then = System.currentTimeMillis();\r\n&gt;     long now = System.currentTimeMillis();\r\n&gt;     System.out.println(&quot;Elapsed time: &quot; + (now - then));\r\n\r\nAs a result, the elapsed time will be only a few milliseconds, regardless of the implementation of the Fibonacci method, or the number of times the loop is supposed to be executed.\r\n\r\nThere is a way around that particular issue: ensure that each result is read, nor simply written. In practice, changing the definition of l from a local variable to an instance variable (declared with the volatile keyword) will allow the performance of the method to be measured.\r\n\r\n\r\n\r\n","title":"What is microbenchmarking?","body":"<p>The book 'Java Performance: The Definitive Guide'\nhas this definition and example about microbenchmarks:</p>\n<ol>\n<li><p>Microbenchmarks</p>\n<p>A microbenchmark is a test designed to measure a very small unit\nperformance: the time to call a synchronized method versus a\nnon-synchronized method; the overhead in creating a thread versus using\na thread pool; the time to execute one arithmetic algoritm versus an\nalternate implementation; and so on.</p>\n<p>Microbenchmarks may seem like a good idea, but they are very\ndifficult to write correctly. Consider the following code, which\nis an attempt to write a microbenchmark that tests the performance of\ndifferent implementations of a method to compute the 50th Fibonacci\nnumber:</p>\n</li>\n</ol>\n<blockquote>\n<pre><code>public void doTest(){\ndouble l;\nlong then = System.currentTimeMillis();\n\nfor(int i = 0; i &lt; nLoops; i++){\n l = fibImpl1(50);\n}\n\nlong now = system.currentTimeMillis();\nSystem.out.println(&quot;Elapsed time: &quot; + (now - then))\n\n}\n\n...\n\nprivate double fibImpl1(int n){\nif(n &lt; 0) throw new IllegalArgumentException(&quot;Must be &gt; 0&quot;);\nif(n == 0) return 0d;\nif(n == 1) return 1d;\ndouble d = fibImpl1(n - 2) + fibImpl(n - 1);\nif(Double.isInfinited(d)) throw new ArithmeticException(&quot;Overflow&quot;);\nreturn d;\n}\n</code></pre>\n</blockquote>\n<p>Microbenchmarks must use their results.</p>\n<p>The biggest problem with this code is that it never actually changes any program state. Because the result of the Fibonacci calculation is never used, the compiler is free to discard that calculation, A smart compiler (including current Java 7 and 8 compilers) will end up executing this code:</p>\n<blockquote>\n<pre><code>long then = System.currentTimeMillis();\nlong now = System.currentTimeMillis();\nSystem.out.println(&quot;Elapsed time: &quot; + (now - then));\n</code></pre>\n</blockquote>\n<p>As a result, the elapsed time will be only a few milliseconds, regardless of the implementation of the Fibonacci method, or the number of times the loop is supposed to be executed.</p>\n<p>There is a way around that particular issue: ensure that each result is read, nor simply written. In practice, changing the definition of l from a local variable to an instance variable (declared with the volatile keyword) will allow the performance of the method to be measured.</p>\n"}],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28806,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":2842707,"answer_count":6,"score":90,"last_activity_date":1664324370,"creation_date":1273988479,"question_id":2842695,"body_markdown":"I&#39;ve heard this term used, but I&#39;m not entirely sure what it means, so:\r\n\r\n* What DOES it mean and what DOESN&#39;T it mean?\r\n* What are some examples of what IS and ISN&#39;T microbenchmarking?\r\n* What are the dangers of microbenchmarking and how do you avoid it?\r\n   * (or is it a good thing?)","title":"What is microbenchmarking?","body":"<p>I've heard this term used, but I'm not entirely sure what it means, so:</p>\n\n<ul>\n<li>What DOES it mean and what DOESN'T it mean?</li>\n<li>What are some examples of what IS and ISN'T microbenchmarking?</li>\n<li>What are the dangers of microbenchmarking and how do you avoid it?\n\n<ul>\n<li>(or is it a good thing?)</li>\n</ul></li>\n</ul>\n"},{"tags":["java","android","execution"],"comments":[{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1664317718,"post_id":73874348,"comment_id":130443102,"body_markdown":"What&#39;s `I` in your `for` loop? Might that be a typo and it should actually be `i`? You&#39;re also missing an delcaration/ initialization for `array`.","body":"What&#39;s <code>I</code> in your <code>for</code> loop? Might that be a typo and it should actually be <code>i</code>? You&#39;re also missing an delcaration/ initialization for <code>array</code>."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1664317743,"post_id":73874348,"comment_id":130443105,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":20995350,"reputation":77,"user_id":15427321,"display_name":"Jason W"},"score":0,"creation_date":1664318429,"post_id":73874348,"comment_id":130443207,"body_markdown":"Thanks, I updated the example to address the array and fix the I typo.","body":"Thanks, I updated the example to address the array and fix the I typo."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664318977,"post_id":73874348,"comment_id":130443288,"body_markdown":"That code is really incomplete and full of syntax errors it&#39;s really hard to understand. What you show couldn&#39;t produce a `IndexOutOfBoundsException` unless there are threads that modified `array` or maybe `magicList`. The exception you get should also include a line where it happened, that would very useful to know.","body":"That code is really incomplete and full of syntax errors it&#39;s really hard to understand. What you show couldn&#39;t produce a <code>IndexOutOfBoundsException</code> unless there are threads that modified <code>array</code> or maybe <code>magicList</code>. The exception you get should also include a line where it happened, that would very useful to know."},{"owner":{"account_id":23428052,"reputation":6895,"user_id":17487348,"display_name":"Mushroomator"},"score":0,"creation_date":1664319233,"post_id":73874348,"comment_id":130443327,"body_markdown":"Also `case` is a reserved keyword which you cannot use as a variable/ parameter name.","body":"Also <code>case</code> is a reserved keyword which you cannot use as a variable/ parameter name."},{"owner":{"account_id":20995350,"reputation":77,"user_id":15427321,"display_name":"Jason W"},"score":0,"creation_date":1664319994,"post_id":73874348,"comment_id":130443436,"body_markdown":"Yes, thanks for the feedback. I tried to simply it and maybe made the code more confusing. And yes even with the simplification I made some errors. Hopefully the revised example is easier to understand. In the Google Play Console it doesn&#39;t provide with a line where the crash happened - as far as I know that only applies in Android Studio&#39;s Logcat.","body":"Yes, thanks for the feedback. I tried to simply it and maybe made the code more confusing. And yes even with the simplification I made some errors. Hopefully the revised example is easier to understand. In the Google Play Console it doesn&#39;t provide with a line where the crash happened - as far as I know that only applies in Android Studio&#39;s Logcat."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664320363,"post_id":73874348,"comment_id":130443485,"body_markdown":"if you have hardcoded `i &lt; 4` then yes, that code would always crash if `gameArray`  is not at least 4 long, in that code it&#39;s not changed from it&#39;s initial empty state from `new ArrayList&lt;&gt;()` at all before it hits that for loop. (in the version before it couldn&#39;t crash because you used .length()). Not sure what your actual code really does, but don&#39;t simplify the code to the point where it no longer correctly represents your actual code. Maybe post it as is and just replace irrelevant parts with comments. Java won&#39;t skip over code, it goes step by step through your code so that isn&#39;t it","body":"if you have hardcoded <code>i &lt; 4</code> then yes, that code would always crash if <code>gameArray</code>  is not at least 4 long, in that code it&#39;s not changed from it&#39;s initial empty state from <code>new ArrayList&lt;&gt;()</code> at all before it hits that for loop. (in the version before it couldn&#39;t crash because you used .length()). Not sure what your actual code really does, but don&#39;t simplify the code to the point where it no longer correctly represents your actual code. Maybe post it as is and just replace irrelevant parts with comments. Java won&#39;t skip over code, it goes step by step through your code so that isn&#39;t it"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664320798,"post_id":73874348,"comment_id":130443527,"body_markdown":"correction, `magicList` is empty, `gameArray` is whatever you pass in the method. `gameArray` still needs to be 4 long or ` gameArray.get(i)` fails.","body":"correction, <code>magicList</code> is empty, <code>gameArray</code> is whatever you pass in the method. <code>gameArray</code> still needs to be 4 long or ` gameArray.get(i)` fails."}],"answers":[{"tags":[],"owner":{"account_id":122115,"reputation":5060,"user_id":315702,"accept_rate":88,"display_name":"Mark McClelland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664324182,"creation_date":1664324182,"answer_id":73874992,"question_id":73874348,"body_markdown":"The short answer is NO — the `switch` statement itself is not asynchronous. It will be fully executed, and only after that will your `newMagicMethod()` be called.\r\n\r\nHowever, it seems that the code you provided is pseudo-code, since it wouldn&#39;t compile. For example, you can&#39;t declare an ArrayList inline within a method call, as you currently do here, where you presumably meant to use the `magicList` variable declared further up within `gameMethod()`:\r\n\r\n```\r\nnewMagicMethod(ArrayList magicList)\r\n```\r\n\r\nGiven that you&#39;ve only provided pseudo-code, here are a couple of things to consider:\r\n- Do you have any asynchronous calls in your `case` blocks? If so, you may have introduced a race condition where there&#39;s no guarantee that your collection will be populated before the call to `newMagicMethod()`.\r\n- Are you sure the logic in your `case` blocks guarantees that at least one object will end up in your collection? The most likely explanation here is that you failed to account for a scenario whereby your calls to `add()` will be bypassed. You can use breakpoints or logging to catch such unexpected scenarios.\r\n- Do you have a `default` block, where you log the fact that your collection will be empty, or maybe throw an exception? It&#39;s all-too-common for developers to assume they&#39;ve covered all cases in a `switch` statement, when in fact there are one or more cases for which they forgot to account.","title":"Java &amp; Order of Execution","body":"<p>The short answer is NO — the <code>switch</code> statement itself is not asynchronous. It will be fully executed, and only after that will your <code>newMagicMethod()</code> be called.</p>\n<p>However, it seems that the code you provided is pseudo-code, since it wouldn't compile. For example, you can't declare an ArrayList inline within a method call, as you currently do here, where you presumably meant to use the <code>magicList</code> variable declared further up within <code>gameMethod()</code>:</p>\n<pre><code>newMagicMethod(ArrayList magicList)\n</code></pre>\n<p>Given that you've only provided pseudo-code, here are a couple of things to consider:</p>\n<ul>\n<li>Do you have any asynchronous calls in your <code>case</code> blocks? If so, you may have introduced a race condition where there's no guarantee that your collection will be populated before the call to <code>newMagicMethod()</code>.</li>\n<li>Are you sure the logic in your <code>case</code> blocks guarantees that at least one object will end up in your collection? The most likely explanation here is that you failed to account for a scenario whereby your calls to <code>add()</code> will be bypassed. You can use breakpoints or logging to catch such unexpected scenarios.</li>\n<li>Do you have a <code>default</code> block, where you log the fact that your collection will be empty, or maybe throw an exception? It's all-too-common for developers to assume they've covered all cases in a <code>switch</code> statement, when in fact there are one or more cases for which they forgot to account.</li>\n</ul>\n"}],"owner":{"account_id":20995350,"reputation":77,"user_id":15427321,"display_name":"Jason W"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73874992,"answer_count":1,"score":-1,"last_activity_date":1664324182,"creation_date":1664317491,"question_id":73874348,"body_markdown":"I released my first Android app and I&#39;m attempting to troubleshoot some bugs that have resulted in crashes (as identified via the Google Play Console). \r\n\r\nThe code simplified the code as much as possible - the following method is called:\r\n\r\n```\r\nprivate void gameMethod(int switchCase, ArrayList gameArray) {\r\n\r\n\r\nboolean magicBoolean = false;\r\nArrayList magicList = new ArrayList&lt;&gt;();\r\n\r\nswitch(switchCase) {\r\n    case 1:\r\n          for(int i = 0; i &lt; 4; i++) {\r\n   \r\n              if(gameArray.get(i) == 2) {\r\n         \r\n                  magicBoolean = true;\r\n              } \r\n\r\n              if(magicBoolean) {\r\n                  magicList.add(gameArray.get(i));\r\n              } \r\n           }\r\n           break;\r\n\r\n     case 2:\r\n          // basic repeat of case 1\r\n          break;\r\n     case 3:\r\n          // basic repeat of case 1\r\n          break;\r\n                                                        \r\n}\r\n\r\n\r\nnewMagicMethod(ArrayList magicList);\r\n\r\n```\r\n\r\nAs you can see, the 2nd method (newMagicMethod) uses the magicList which is populated via the switch. The magicList size will never be 0, the first method is only called when the array has more than 1 item in it. \r\n\r\nIn my crash report it is telling me the following:\r\n\r\n**Exception java.lang.IndexOutOfBoundsException: Index: 0, Size: 0**\r\n\r\nSo I conclude that somehow the 2nd method is attempting to use the magicList (e.g find and use the 1st item on the list) and then crashes when the list is empty. \r\n\r\nMy question would be is there any way that the Java code would attempt to execute the call to the newMagicMethod() FIRST before the switch statement is executed. Obviously is this is the case this would explain how the arrayList could be empty and would cause a crash. Otherwise I have look for other reasons as to why the arrayList could be empty. \r\n\r\nIf I could confirm if code like this can execute out of order, I would figure out a way to resolve/define the order.\r\n","title":"Java &amp; Order of Execution","body":"<p>I released my first Android app and I'm attempting to troubleshoot some bugs that have resulted in crashes (as identified via the Google Play Console).</p>\n<p>The code simplified the code as much as possible - the following method is called:</p>\n<pre><code>private void gameMethod(int switchCase, ArrayList gameArray) {\n\n\nboolean magicBoolean = false;\nArrayList magicList = new ArrayList&lt;&gt;();\n\nswitch(switchCase) {\n    case 1:\n          for(int i = 0; i &lt; 4; i++) {\n   \n              if(gameArray.get(i) == 2) {\n         \n                  magicBoolean = true;\n              } \n\n              if(magicBoolean) {\n                  magicList.add(gameArray.get(i));\n              } \n           }\n           break;\n\n     case 2:\n          // basic repeat of case 1\n          break;\n     case 3:\n          // basic repeat of case 1\n          break;\n                                                        \n}\n\n\nnewMagicMethod(ArrayList magicList);\n\n</code></pre>\n<p>As you can see, the 2nd method (newMagicMethod) uses the magicList which is populated via the switch. The magicList size will never be 0, the first method is only called when the array has more than 1 item in it.</p>\n<p>In my crash report it is telling me the following:</p>\n<p><strong>Exception java.lang.IndexOutOfBoundsException: Index: 0, Size: 0</strong></p>\n<p>So I conclude that somehow the 2nd method is attempting to use the magicList (e.g find and use the 1st item on the list) and then crashes when the list is empty.</p>\n<p>My question would be is there any way that the Java code would attempt to execute the call to the newMagicMethod() FIRST before the switch statement is executed. Obviously is this is the case this would explain how the arrayList could be empty and would cause a crash. Otherwise I have look for other reasons as to why the arrayList could be empty.</p>\n<p>If I could confirm if code like this can execute out of order, I would figure out a way to resolve/define the order.</p>\n"},{"tags":["java","android","android-layout","android-activity"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1619808698,"post_id":67337779,"comment_id":119025709,"body_markdown":"sounds like a basic if/switch statement, no ?","body":"sounds like a basic if/switch statement, no ?"},{"owner":{"account_id":16893702,"reputation":13,"user_id":12216760,"display_name":"momo"},"score":0,"creation_date":1619810510,"post_id":67337779,"comment_id":119026324,"body_markdown":"@a_local_nobody yeah, i have the if else statement, but idk how to use the spinner, idk how to get the string array from XML file","body":"@a_local_nobody yeah, i have the if else statement, but idk how to use the spinner, idk how to get the string array from XML file"}],"answers":[{"tags":[],"owner":{"account_id":20349900,"reputation":36,"user_id":14926808,"display_name":"Zaleckz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1619822629,"creation_date":1619808021,"answer_id":67338944,"question_id":67337779,"body_markdown":"You could either have a method in your second activity which updates the spinners adapter with a string array.\r\n\r\nOr you could have a public variable as an array which acts as your selected array. This array could be updated based on the selected state of the spinner. Then you can access this array from your second activity and use it when you set the adapter of your spinner. \r\n\r\nThe last one of the two is probably the easiest. \r\n\r\nHere is an example of how you could do it. First activity contains a spinner and a button which takes you to the second\r\n\r\nFirst activity:\r\n\r\n    //The spinner in the first activity\r\n    Spinner spinner;\r\n\r\n    //the lists that we use in our spinner\r\n    public List&lt;String&gt; asiaList = new ArrayList&lt;String&gt;();\r\n    public List&lt;String&gt; europeList = new ArrayList&lt;String&gt;();\r\n\r\n    //Our selected array\r\n    public List&lt;String&gt; selectedArray = new ArrayList&lt;String&gt;();\r\n\r\n\r\n    public static MainActivity mainActivity;\r\n\r\n    @SuppressLint(&quot;ResourceType&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mainActivity = this;\r\n\r\n\r\n        //Getting the xml arrays into our lists\r\n        getListInfo(getResources().getStringArray(R.array.asia), asiaList);\r\n        getListInfo(getResources().getStringArray(R.array.europe), europeList);\r\n\r\n\r\n\r\n        //Your spinner\r\n        spinner = findViewById(R.id.spinner1);\r\n\r\n        // Spinner Drop down elements\r\n        List&lt;String&gt; categories = new ArrayList&lt;String&gt;();\r\n\r\n        //Items in your first spinner;\r\n        categories.add(&quot;Asia&quot;);\r\n        categories.add(&quot;Europe&quot;);\r\n\r\n        // Creating adapter for spinner\r\n        ArrayAdapter&lt;String&gt; dataAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, categories);\r\n\r\n        // Drop down layout style\r\n        dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        // attaching data adapter to spinner\r\n        spinner.setAdapter(dataAdapter);\r\n\r\n\r\n        //Isn&#39;t necessary and can be done by using spinner.getSelectedItemPosition()\r\n        // Spinner click listener\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n\r\n                //If asia is selected\r\n                if(position == 0){\r\n                    selectedArray = asiaList;\r\n                }else{\r\n                    selectedArray = europeList;\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; parent) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n    }\r\n    //function for your button to open next activity\r\n    public void OpenSecondActivity(View v){\r\n            Intent myIntent = new Intent(MainActivity.this, secondActivity.class);\r\n            startActivity(myIntent);\r\n    secondActivity.selectedArray = selectedArray;\r\n\r\n\r\n            \r\n\r\n    }\r\n\r\n\r\n    //Put xml strings into your array lists;\r\n    public void getListInfo(String[] strings, List&lt;String&gt; list){\r\n        for (int i = 0; i &lt; strings.length; i++) {\r\n            list.add(strings[i]);\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\nSecond Activity: \r\n\r\n    \r\n    //Spinner second class\r\n    Spinner spinner;\r\n\r\n    public static List&lt;String&gt; selectedArray = new ArrayList&lt;String&gt;();\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_second);\r\n\r\n\r\n        spinner = findViewById(R.id.spinner2);\r\n\r\n\r\n        // Creating adapter for spinner and also reference the current list from first activity to get right info\r\n        ArrayAdapter&lt;String&gt; dataAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, selectedArray);\r\n\r\n        // Drop down layout style\r\n        dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n\r\n        // attaching data adapter to spinner\r\n        spinner.setAdapter(dataAdapter);\r\n\r\n    }\r\n\r\n\r\n\r\nThe strings.xml:\r\n\r\n    &lt;string-array name=&quot;asia&quot;&gt;\r\n        &lt;item&gt;&quot;India&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;pakistan&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;China&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Japan&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Bangladesh&quot;&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n    &lt;string-array name=&quot;europe&quot;&gt;\r\n        &lt;item&gt;&quot;Sweden&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;England&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Spain&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Norway&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Germany&quot;&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n","title":"Android: Is there a way to switch the spinner array based on user input from other activity?","body":"<p>You could either have a method in your second activity which updates the spinners adapter with a string array.</p>\n<p>Or you could have a public variable as an array which acts as your selected array. This array could be updated based on the selected state of the spinner. Then you can access this array from your second activity and use it when you set the adapter of your spinner.</p>\n<p>The last one of the two is probably the easiest.</p>\n<p>Here is an example of how you could do it. First activity contains a spinner and a button which takes you to the second</p>\n<p>First activity:</p>\n<pre><code>//The spinner in the first activity\nSpinner spinner;\n\n//the lists that we use in our spinner\npublic List&lt;String&gt; asiaList = new ArrayList&lt;String&gt;();\npublic List&lt;String&gt; europeList = new ArrayList&lt;String&gt;();\n\n//Our selected array\npublic List&lt;String&gt; selectedArray = new ArrayList&lt;String&gt;();\n\n\npublic static MainActivity mainActivity;\n\n@SuppressLint(&quot;ResourceType&quot;)\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    mainActivity = this;\n\n\n    //Getting the xml arrays into our lists\n    getListInfo(getResources().getStringArray(R.array.asia), asiaList);\n    getListInfo(getResources().getStringArray(R.array.europe), europeList);\n\n\n\n    //Your spinner\n    spinner = findViewById(R.id.spinner1);\n\n    // Spinner Drop down elements\n    List&lt;String&gt; categories = new ArrayList&lt;String&gt;();\n\n    //Items in your first spinner;\n    categories.add(&quot;Asia&quot;);\n    categories.add(&quot;Europe&quot;);\n\n    // Creating adapter for spinner\n    ArrayAdapter&lt;String&gt; dataAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, categories);\n\n    // Drop down layout style\n    dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n    // attaching data adapter to spinner\n    spinner.setAdapter(dataAdapter);\n\n\n    //Isn't necessary and can be done by using spinner.getSelectedItemPosition()\n    // Spinner click listener\n    spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n        @Override\n        public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n\n            //If asia is selected\n            if(position == 0){\n                selectedArray = asiaList;\n            }else{\n                selectedArray = europeList;\n            }\n\n        }\n\n        @Override\n        public void onNothingSelected(AdapterView&lt;?&gt; parent) {\n\n        }\n    });\n\n\n}\n//function for your button to open next activity\npublic void OpenSecondActivity(View v){\n        Intent myIntent = new Intent(MainActivity.this, secondActivity.class);\n        startActivity(myIntent);\nsecondActivity.selectedArray = selectedArray;\n\n\n        \n\n}\n\n\n//Put xml strings into your array lists;\npublic void getListInfo(String[] strings, List&lt;String&gt; list){\n    for (int i = 0; i &lt; strings.length; i++) {\n        list.add(strings[i]);\n    }\n\n\n}\n</code></pre>\n<p>Second Activity:</p>\n<pre><code>//Spinner second class\nSpinner spinner;\n\npublic static List&lt;String&gt; selectedArray = new ArrayList&lt;String&gt;();\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_second);\n\n\n    spinner = findViewById(R.id.spinner2);\n\n\n    // Creating adapter for spinner and also reference the current list from first activity to get right info\n    ArrayAdapter&lt;String&gt; dataAdapter = new ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_spinner_item, selectedArray);\n\n    // Drop down layout style\n    dataAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n\n    // attaching data adapter to spinner\n    spinner.setAdapter(dataAdapter);\n\n}\n</code></pre>\n<p>The strings.xml:</p>\n<pre><code>&lt;string-array name=&quot;asia&quot;&gt;\n    &lt;item&gt;&quot;India&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;pakistan&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;China&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Japan&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Bangladesh&quot;&lt;/item&gt;\n&lt;/string-array&gt;\n\n&lt;string-array name=&quot;europe&quot;&gt;\n    &lt;item&gt;&quot;Sweden&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;England&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Spain&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Norway&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Germany&quot;&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7790296,"reputation":41,"user_id":5893527,"display_name":"G.Mendoza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664323010,"creation_date":1664323010,"answer_id":73874880,"question_id":67337779,"body_markdown":"Based on https://developer.android.com/develop/ui/views/components/spinner#kotlin\r\n\r\nI adecuate the sample function in the above link to &quot;switch&quot; between Volume or Weight units arrays:\r\n\r\n    private fun refillSpinner(radioChoiceVolWei: Int) {\r\n        val fromSpinner: Spinner = findViewById(R.id.from_units)\r\n\r\n        // Create an ArrayAdapter using the string array and a default spinner layout\r\n        ArrayAdapter.createFromResource(\r\n            this,\r\n            radioChoiceVolWei, // Reference to the Res string-array\r\n            android.R.layout.simple_spinner_item\r\n        ).also { adapter -&gt;\r\n            // Specify the layout to use when the list of choices appears\r\n            adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\r\n            // Apply the adapter to the spinner\r\n            fromSpinner.adapter = adapter\r\n        }\r\n    }\r\n\r\nThen I call the function with: \r\n\r\n        refillSpinner(R.array.weight_units_array)\r\n\r\nor\r\n\r\n        refillSpinner(R.array.volume_units_array)\r\n\r\nWhere the arrays are somehow like yours:\r\n\r\n    &lt;string-array name=&quot;weight_units_array&quot;&gt;\r\n        &lt;item&gt;kilogram&lt;/item&gt;\r\n        &lt;item&gt;gram&lt;/item&gt;\r\n        &lt;item&gt;ounce&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nand\r\n\r\n    &lt;string-array name=&quot;volume_units_array&quot;&gt;\r\n        &lt;item&gt;litre&lt;/item&gt;\r\n        &lt;item&gt;millilitre&lt;/item&gt;\r\n        &lt;item&gt;ounce&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\nRegards.\r\n","title":"Android: Is there a way to switch the spinner array based on user input from other activity?","body":"<p>Based on <a href=\"https://developer.android.com/develop/ui/views/components/spinner#kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/components/spinner#kotlin</a></p>\n<p>I adecuate the sample function in the above link to &quot;switch&quot; between Volume or Weight units arrays:</p>\n<pre><code>private fun refillSpinner(radioChoiceVolWei: Int) {\n    val fromSpinner: Spinner = findViewById(R.id.from_units)\n\n    // Create an ArrayAdapter using the string array and a default spinner layout\n    ArrayAdapter.createFromResource(\n        this,\n        radioChoiceVolWei, // Reference to the Res string-array\n        android.R.layout.simple_spinner_item\n    ).also { adapter -&gt;\n        // Specify the layout to use when the list of choices appears\n        adapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n        // Apply the adapter to the spinner\n        fromSpinner.adapter = adapter\n    }\n}\n</code></pre>\n<p>Then I call the function with:</p>\n<pre><code>    refillSpinner(R.array.weight_units_array)\n</code></pre>\n<p>or</p>\n<pre><code>    refillSpinner(R.array.volume_units_array)\n</code></pre>\n<p>Where the arrays are somehow like yours:</p>\n<pre><code>&lt;string-array name=&quot;weight_units_array&quot;&gt;\n    &lt;item&gt;kilogram&lt;/item&gt;\n    &lt;item&gt;gram&lt;/item&gt;\n    &lt;item&gt;ounce&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>and</p>\n<pre><code>&lt;string-array name=&quot;volume_units_array&quot;&gt;\n    &lt;item&gt;litre&lt;/item&gt;\n    &lt;item&gt;millilitre&lt;/item&gt;\n    &lt;item&gt;ounce&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>Regards.</p>\n"}],"owner":{"account_id":16893702,"reputation":13,"user_id":12216760,"display_name":"momo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67338944,"answer_count":2,"score":0,"last_activity_date":1664323010,"creation_date":1619802060,"question_id":67337779,"body_markdown":"I am a beginner in Android development. I am trying to make an app for a class project. During registration (Registration activity) the user can choose any continent from the spinner. In another activity, the user gets to choose countries depending on what continent the user had chosen before from the spinner on registration activity. I already have different arrays in my string.xml file.\r\n\r\nMy thought process is, in the second activity, if the user chose Asia, this layout will have the spinner display countries in Asia. If the user chose Europe, the spinner will display countries in Europe (array from strings.xml)\r\nexample of my array on string.xml \r\n\r\n     &lt;string-array name=&quot;asia&quot;&gt;\r\n        &lt;item&gt;&quot;India&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;pakistan&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;China&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Japan&quot;&lt;/item&gt;\r\n        &lt;item&gt;&quot;Bangladesh&quot;&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n\r\nI also have a string array for Europe and other continents. I have a spinner on my layout, but I don&#39;t know how to implement the different arrays based on user input from first activity. I haven&#39;t assigned any arrays/options on my spinner yet. Any kind of help/suggestions/resource/advice is highly appreciated.","title":"Android: Is there a way to switch the spinner array based on user input from other activity?","body":"<p>I am a beginner in Android development. I am trying to make an app for a class project. During registration (Registration activity) the user can choose any continent from the spinner. In another activity, the user gets to choose countries depending on what continent the user had chosen before from the spinner on registration activity. I already have different arrays in my string.xml file.</p>\n<p>My thought process is, in the second activity, if the user chose Asia, this layout will have the spinner display countries in Asia. If the user chose Europe, the spinner will display countries in Europe (array from strings.xml)\nexample of my array on string.xml</p>\n<pre><code> &lt;string-array name=&quot;asia&quot;&gt;\n    &lt;item&gt;&quot;India&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;pakistan&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;China&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Japan&quot;&lt;/item&gt;\n    &lt;item&gt;&quot;Bangladesh&quot;&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>I also have a string array for Europe and other continents. I have a spinner on my layout, but I don't know how to implement the different arrays based on user input from first activity. I haven't assigned any arrays/options on my spinner yet. Any kind of help/suggestions/resource/advice is highly appreciated.</p>\n"},{"tags":["java","spring-boot","spring-security-oauth2","openfeign"],"comments":[{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":0,"creation_date":1664306555,"post_id":73869465,"comment_id":130440334,"body_markdown":"Have you checked a first Google result: https://www.baeldung.com/spring-cloud-feign-oauth-token ?","body":"Have you checked a first Google result: <a href=\"https://www.baeldung.com/spring-cloud-feign-oauth-token\" rel=\"nofollow noreferrer\">baeldung.com/spring-cloud-feign-oauth-token</a> ?"},{"owner":{"display_name":"user19950573"},"score":0,"creation_date":1664331083,"post_id":73869465,"comment_id":130444945,"body_markdown":"I do. The problem here is I don&#39;t know how to get the OAuth2 token inside openfeign interceptor.","body":"I do. The problem here is I don&#39;t know how to get the OAuth2 token inside openfeign interceptor."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664322647,"creation_date":1664319908,"answer_id":73874612,"question_id":73869465,"body_markdown":"In the case you&#39;re on a [resource-server][1] and want to issue a request from that resource-server on behalf of the authenticated user, you should be able to \r\naccess the Bearer token from the `Authentication` instance in the security-context.\r\n\r\nDefault `Authentication` types are `JwtAuthenticationToken` for resource-servers with JWT decoder and `BearerTokenAuthentication` for those with introspection.\r\n\r\nYou can query directly the SecurityContext of the request:\r\n```Java\r\n    final AbstractOAuth2TokenAuthenticationToken&lt;? extends AbstractOAuth2Token&gt; auth = (AbstractOAuth2TokenAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\r\n    final String bearerToken = auth.getToken().getTokenValue();\r\n```\r\nor have it auto-magically injected as `@Controller` method parameter:\r\n```java\r\n@RestController\r\npublic class MyController {\r\n    @GetMapping(&quot;/reflect-bearer-token&quot;)\r\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\r\n    public String reflectBearerToken(AbstractOAuth2TokenAuthenticationToken&lt;? extends AbstractOAuth2Token&gt; auth) {\r\n        return auth.getToken().getTokenValue();\r\n}\r\n```\r\n\r\nFirst option (querying security-context) can be applied in a a feign `RequestInterceptor` to add an `Authorization` header with authenticated user Bearer to every request.\r\n\r\n  [1]: https://dzone.com/articles/spring-oauth2-resource-servers","title":"Spring boot pass OAuth2 credential to OpenFeign client","body":"<p>In the case you're on a <a href=\"https://dzone.com/articles/spring-oauth2-resource-servers\" rel=\"nofollow noreferrer\">resource-server</a> and want to issue a request from that resource-server on behalf of the authenticated user, you should be able to\naccess the Bearer token from the <code>Authentication</code> instance in the security-context.</p>\n<p>Default <code>Authentication</code> types are <code>JwtAuthenticationToken</code> for resource-servers with JWT decoder and <code>BearerTokenAuthentication</code> for those with introspection.</p>\n<p>You can query directly the SecurityContext of the request:</p>\n<pre><code>    final AbstractOAuth2TokenAuthenticationToken&lt;? extends AbstractOAuth2Token&gt; auth = (AbstractOAuth2TokenAuthenticationToken) SecurityContextHolder.getContext().getAuthentication();\n    final String bearerToken = auth.getToken().getTokenValue();\n</code></pre>\n<p>or have it auto-magically injected as <code>@Controller</code> method parameter:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class MyController {\n    @GetMapping(&quot;/reflect-bearer-token&quot;)\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\n    public String reflectBearerToken(AbstractOAuth2TokenAuthenticationToken&lt;? extends AbstractOAuth2Token&gt; auth) {\n        return auth.getToken().getTokenValue();\n}\n</code></pre>\n<p>First option (querying security-context) can be applied in a a feign <code>RequestInterceptor</code> to add an <code>Authorization</code> header with authenticated user Bearer to every request.</p>\n"}],"owner":{"display_name":"user19950573"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73874612,"answer_count":1,"score":0,"last_activity_date":1664322647,"creation_date":1664289587,"question_id":73869465,"body_markdown":"I&#39;m having 2 services: service A (spring boot and `openfeign` for http client) and service B. My services are behind a gateway (APISIX), which is integrated with keycloak. Both services are configured OAuth2 to expose to public.\r\n\r\nThere is a use case, when a `logged in` user requests to service A, and service A requests to service B using `openfeign`. What is the proper way to pass OAuth2 credential to OpenFeign client when requesting to service B?\r\n\r\nThank you very much.","title":"Spring boot pass OAuth2 credential to OpenFeign client","body":"<p>I'm having 2 services: service A (spring boot and <code>openfeign</code> for http client) and service B. My services are behind a gateway (APISIX), which is integrated with keycloak. Both services are configured OAuth2 to expose to public.</p>\n<p>There is a use case, when a <code>logged in</code> user requests to service A, and service A requests to service B using <code>openfeign</code>. What is the proper way to pass OAuth2 credential to OpenFeign client when requesting to service B?</p>\n<p>Thank you very much.</p>\n"},{"tags":["java","websphere-liberty"],"comments":[{"owner":{"account_id":4932543,"reputation":61,"user_id":3971808,"display_name":"Bill Holtzhauser"},"score":0,"creation_date":1605721294,"post_id":64888285,"comment_id":114740424,"body_markdown":"I looked at the Knowledge Center for Liberty and searched for the AES topics and found this one https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/cwlp_pwd_encrypt.html and from reading that it looks like the only file that can have the encryption in it is the server.xml. But I have not tried what you are doing, so I can not say for sure.  I think you already understand the steps in this video I made: https://youtu.be/pJ2GVR-I6dg","body":"I looked at the Knowledge Center for Liberty and searched for the AES topics and found this one <a href=\"https://www.ibm.com/support/knowledgecenter/SSAW57_liberty/com.ibm.websphere.wlp.nd.multiplatform.doc/ae/cwlp_pwd_encrypt.html\" rel=\"nofollow noreferrer\">ibm.com/support/knowledgecenter/SSAW57_liberty/&hellip;</a> and from reading that it looks like the only file that can have the encryption in it is the server.xml. But I have not tried what you are doing, so I can not say for sure.  I think you already understand the steps in this video I made: <a href=\"https://youtu.be/pJ2GVR-I6dg\" rel=\"nofollow noreferrer\">youtu.be/pJ2GVR-I6dg</a>"}],"answers":[{"tags":[],"owner":{"account_id":8468354,"reputation":739,"user_id":6351865,"display_name":"M. Broz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1605731827,"creation_date":1605722116,"answer_id":64898636,"question_id":64888285,"body_markdown":"First, you need to enable the [passwordUtilities-1.0 feature][1]:\r\n\r\n    &lt;featureManager&gt;\r\n        &lt;feature&gt;passwordUtilities-1.0&lt;/feature&gt;\r\n    &lt;/featureManager&gt;\r\n\r\nThen, you can use the [com.ibm.websphere.crypto.PasswordUtil API][2] to decode the password:\r\n\r\n    String encodedPassword = System.getProperty(&quot;encKey&quot;);\r\n    String decodedPassword = PasswordUtil.decode(encodedPassword);\r\n\r\n\r\n  [1]: https://openliberty.io/docs/20.0.0.8/reference/feature/passwordUtilities-1.0.html\r\n  [2]: https://www.ibm.com/support/knowledgecenter/SSD28V_liberty/com.ibm.websphere.javadoc.liberty.doc/com.ibm.websphere.appserver.api.passwordUtil_1.0-javadoc/com/ibm/websphere/crypto/PasswordUtil.html","title":"Decode AES encryption in web application in IBM Liberty server","body":"<p>First, you need to enable the <a href=\"https://openliberty.io/docs/20.0.0.8/reference/feature/passwordUtilities-1.0.html\" rel=\"nofollow noreferrer\">passwordUtilities-1.0 feature</a>:</p>\n<pre><code>&lt;featureManager&gt;\n    &lt;feature&gt;passwordUtilities-1.0&lt;/feature&gt;\n&lt;/featureManager&gt;\n</code></pre>\n<p>Then, you can use the <a href=\"https://www.ibm.com/support/knowledgecenter/SSD28V_liberty/com.ibm.websphere.javadoc.liberty.doc/com.ibm.websphere.appserver.api.passwordUtil_1.0-javadoc/com/ibm/websphere/crypto/PasswordUtil.html\" rel=\"nofollow noreferrer\">com.ibm.websphere.crypto.PasswordUtil API</a> to decode the password:</p>\n<pre><code>String encodedPassword = System.getProperty(&quot;encKey&quot;);\nString decodedPassword = PasswordUtil.decode(encodedPassword);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1605796063,"creation_date":1605796063,"answer_id":64913733,"question_id":64888285,"body_markdown":"Your encoded string is malformed\r\n\r\n`-DencKey={aes}{aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg==...`\r\n\r\nit should only have a single encryption preamble like \r\n\r\n`-DencKey={aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg==...`","title":"Decode AES encryption in web application in IBM Liberty server","body":"<p>Your encoded string is malformed</p>\n<p><code>-DencKey={aes}{aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg==...</code></p>\n<p>it should only have a single encryption preamble like</p>\n<p><code>-DencKey={aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg==...</code></p>\n"},{"tags":[],"owner":{"account_id":1095538,"reputation":1110,"user_id":1747983,"display_name":"Tilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664322072,"creation_date":1664305551,"answer_id":73872664,"question_id":64888285,"body_markdown":"for ppl who find this on their search to decode the PW: \r\nhere an example to decode with passwordUtilities feature\r\n\r\nhttps://github.com/TiloGit/liberty-pw-util/tree/master/dyn-pw\r\n\r\nhttps://gitlab.com/pppoudel/public_shared/-/tree/master/WLibertyPwdUtil\r\n\r\nblog post of it: \r\nhttps://purnapoudel.blogspot.com/2017/10/how-to-use-wlp-passwordutilities.html\r\n\r\nimportant to have the enc key set.\r\n```lang-xml\r\n &#160;&lt;variable name=&quot;wlp.password.encryption.key&quot; value=&quot;myEncKey123&quot;&gt;\r\n```\r\n\r\ncode example: \r\n```lang-jsp\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;%@page language=&quot;java&quot;\r\n\tcontentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;title&gt;index&lt;/title&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n     &lt;%! String password=&quot;t3mp_pwD&quot;; %&gt;\r\n     &lt;h2&gt; This page shows how to use com.ibm.websphere.crypto.PasswordUtil to encrypt/decrypt password using xor or aes.&lt;/h2&gt;\r\n     &lt;hr/&gt;\r\n     &lt;h3&gt; Provided plain text password is:&lt;%= password %&gt;&lt;/h3&gt;\r\n     Note: encryption key &quot;replaceM3&quot; is being used for &quot;aes&quot; encryption/decryption. &lt;br/&gt;\r\n     &lt;br/&gt;\r\n     &lt;%! String xorEncodedVal=com.ibm.websphere.crypto.PasswordUtil.passwordEncode(password, &quot;xor&quot;);\r\n         String aesEncodedVal=com.ibm.websphere.crypto.PasswordUtil.passwordEncode(password, &quot;aes&quot;); %&gt;\r\n     &lt;h3&gt; xor encoded value is: &lt;%= xorEncodedVal %&gt; &lt;/h3&gt;\r\n     &lt;h3&gt; aes encrypted value is: &lt;%= aesEncodedVal %&gt; &lt;/h3&gt;\r\n     &lt;h3&gt; xor decoded value is: &lt;% out.println(com.ibm.websphere.crypto.PasswordUtil.passwordDecode(xorEncodedVal)); %&gt; &lt;/h3&gt;\r\n     &lt;h3&gt; aes decrypted value is: &lt;% out.println(com.ibm.websphere.crypto.PasswordUtil.passwordDecode(aesEncodedVal)); %&gt; &lt;/h3&gt; \r\n     \r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```","title":"Decode AES encryption in web application in IBM Liberty server","body":"<p>for ppl who find this on their search to decode the PW:\nhere an example to decode with passwordUtilities feature</p>\n<p><a href=\"https://github.com/TiloGit/liberty-pw-util/tree/master/dyn-pw\" rel=\"nofollow noreferrer\">https://github.com/TiloGit/liberty-pw-util/tree/master/dyn-pw</a></p>\n<p><a href=\"https://gitlab.com/pppoudel/public_shared/-/tree/master/WLibertyPwdUtil\" rel=\"nofollow noreferrer\">https://gitlab.com/pppoudel/public_shared/-/tree/master/WLibertyPwdUtil</a></p>\n<p>blog post of it:\n<a href=\"https://purnapoudel.blogspot.com/2017/10/how-to-use-wlp-passwordutilities.html\" rel=\"nofollow noreferrer\">https://purnapoudel.blogspot.com/2017/10/how-to-use-wlp-passwordutilities.html</a></p>\n<p>important to have the enc key set.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;variable name=&quot;wlp.password.encryption.key&quot; value=&quot;myEncKey123&quot;&gt;\n</code></pre>\n<p>code example:</p>\n<pre class=\"lang-jsp prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;\n&lt;%@page language=&quot;java&quot;\n    contentType=&quot;text/html; charset=ISO-8859-1&quot; pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;index&lt;/title&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n     &lt;%! String password=&quot;t3mp_pwD&quot;; %&gt;\n     &lt;h2&gt; This page shows how to use com.ibm.websphere.crypto.PasswordUtil to encrypt/decrypt password using xor or aes.&lt;/h2&gt;\n     &lt;hr/&gt;\n     &lt;h3&gt; Provided plain text password is:&lt;%= password %&gt;&lt;/h3&gt;\n     Note: encryption key &quot;replaceM3&quot; is being used for &quot;aes&quot; encryption/decryption. &lt;br/&gt;\n     &lt;br/&gt;\n     &lt;%! String xorEncodedVal=com.ibm.websphere.crypto.PasswordUtil.passwordEncode(password, &quot;xor&quot;);\n         String aesEncodedVal=com.ibm.websphere.crypto.PasswordUtil.passwordEncode(password, &quot;aes&quot;); %&gt;\n     &lt;h3&gt; xor encoded value is: &lt;%= xorEncodedVal %&gt; &lt;/h3&gt;\n     &lt;h3&gt; aes encrypted value is: &lt;%= aesEncodedVal %&gt; &lt;/h3&gt;\n     &lt;h3&gt; xor decoded value is: &lt;% out.println(com.ibm.websphere.crypto.PasswordUtil.passwordDecode(xorEncodedVal)); %&gt; &lt;/h3&gt;\n     &lt;h3&gt; aes decrypted value is: &lt;% out.println(com.ibm.websphere.crypto.PasswordUtil.passwordDecode(aesEncodedVal)); %&gt; &lt;/h3&gt; \n     \n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n"}],"owner":{"account_id":1476537,"reputation":69,"user_id":1386799,"display_name":"Bibin Raj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1901,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1664322072,"creation_date":1605681801,"question_id":64888285,"body_markdown":"Placed the AES encryption password in liberty server jvm.options file as below\r\n-DencKey={aes}{aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg== ........\r\n\r\nwhile retrieving in java application by using System.getProperty(&quot;encKey&quot;).\r\n\r\ngetting the exact value not the decrypted one.\r\n\r\nShould we do  decrypt manually or through configurations we can achieve the decrypted value ?","title":"Decode AES encryption in web application in IBM Liberty server","body":"<p>Placed the AES encryption password in liberty server jvm.options file as below\n-DencKey={aes}{aes}ANRib/ITz7RTc2YB+VXWZqINrjZ15vSBeg== ........</p>\n<p>while retrieving in java application by using System.getProperty(&quot;encKey&quot;).</p>\n<p>getting the exact value not the decrypted one.</p>\n<p>Should we do  decrypt manually or through configurations we can achieve the decrypted value ?</p>\n"},{"tags":["java","attributes","offset","collada","normals"],"answers":[{"tags":[],"owner":{"account_id":10036343,"reputation":61,"user_id":7420810,"display_name":"Anders Gustafsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664321795,"creation_date":1664321795,"answer_id":73874772,"question_id":71677530,"body_markdown":"The offset only describes how to read the list.\r\n\r\nIn this example you would read every second number, but starting at a given offset.\r\n```xml\r\n&lt;input semantic=&quot;VERTEX&quot; source=&quot;#some-mesh-vertices&quot; offset=&quot;0&quot;/&gt;\r\n&lt;input semantic=&quot;NORMAL&quot; source=&quot;#some-mesh-normals&quot; offset=&quot;1&quot;/&gt;\r\n&lt;p&gt;0 1 2 3 4 5 6 7&lt;/p&gt;\r\n```\r\n```\r\nvertexIndices = [0,2,4,6]\r\nnormalIndices = [1,3,5,7]\r\n```\r\nThese indices would then be used to get the actual values from their source.\r\n","title":"Collada geometry mesh triangles node&#39;s NORMAL offset attribute","body":"<p>The offset only describes how to read the list.</p>\n<p>In this example you would read every second number, but starting at a given offset.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;input semantic=&quot;VERTEX&quot; source=&quot;#some-mesh-vertices&quot; offset=&quot;0&quot;/&gt;\n&lt;input semantic=&quot;NORMAL&quot; source=&quot;#some-mesh-normals&quot; offset=&quot;1&quot;/&gt;\n&lt;p&gt;0 1 2 3 4 5 6 7&lt;/p&gt;\n</code></pre>\n<pre><code>vertexIndices = [0,2,4,6]\nnormalIndices = [1,3,5,7]\n</code></pre>\n<p>These indices would then be used to get the actual values from their source.</p>\n"}],"owner":{"account_id":16651827,"reputation":502,"user_id":12034466,"display_name":"qraqatit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":151,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664321795,"creation_date":1648644484,"question_id":71677530,"body_markdown":"I am trying to understand what exactly attribute &quot;offset&quot; does to values of the triangles/normals in a collada .dae file.\r\n\r\nFor example, let&#39;s say we have this in mesh node inside of a geometry node:\r\n\r\n    &lt;triangles count=&quot;4&quot;&gt;\r\n        &lt;input semantic=&quot;VERTEX&quot; source=&quot;#some-mesh-vertices&quot; offset=&quot;0&quot;/&gt;\r\n        &lt;input semantic=&quot;NORMAL&quot; source=&quot;#some-mesh-normals&quot; offset=&quot;1&quot;/&gt;\r\n        &lt;p&gt;0 0 1 0 2 0 2 0 1 0 3 1 4 2 5 2 6 2 6 2 5 2 7 2&lt;/p&gt;\r\n    &lt;/triangles&gt;\r\n\r\nDoes that value of &quot;1&quot; do something to the normals or to triangles...or to both? And what exactly...like does it moves the normals/triangles array elements, or adding some value to them? I am strugling to understand it as I am building arrays from it for 3D model in Java, so of course, without this knowledge it is giving me errors as that offset value has to have some meaning which I do not get yet.","title":"Collada geometry mesh triangles node&#39;s NORMAL offset attribute","body":"<p>I am trying to understand what exactly attribute &quot;offset&quot; does to values of the triangles/normals in a collada .dae file.</p>\n<p>For example, let's say we have this in mesh node inside of a geometry node:</p>\n<pre><code>&lt;triangles count=&quot;4&quot;&gt;\n    &lt;input semantic=&quot;VERTEX&quot; source=&quot;#some-mesh-vertices&quot; offset=&quot;0&quot;/&gt;\n    &lt;input semantic=&quot;NORMAL&quot; source=&quot;#some-mesh-normals&quot; offset=&quot;1&quot;/&gt;\n    &lt;p&gt;0 0 1 0 2 0 2 0 1 0 3 1 4 2 5 2 6 2 6 2 5 2 7 2&lt;/p&gt;\n&lt;/triangles&gt;\n</code></pre>\n<p>Does that value of &quot;1&quot; do something to the normals or to triangles...or to both? And what exactly...like does it moves the normals/triangles array elements, or adding some value to them? I am strugling to understand it as I am building arrays from it for 3D model in Java, so of course, without this knowledge it is giving me errors as that offset value has to have some meaning which I do not get yet.</p>\n"},{"tags":["java","stack","java-threads"],"answers":[{"tags":[],"owner":{"account_id":3569330,"reputation":423,"user_id":2980077,"display_name":"Arian Kiehr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1431741161,"creation_date":1431737228,"answer_id":30270680,"question_id":30270646,"body_markdown":"Each thread has its own stack that holds a frame for each method executing on that thread as you can see [here](http://blog.jamesdbloom.com/JVMInternals.html) in the section &quot;Per Thread&quot;.","title":"Is there a stack space for every thread?","body":"<p>Each thread has its own stack that holds a frame for each method executing on that thread as you can see <a href=\"http://blog.jamesdbloom.com/JVMInternals.html\" rel=\"nofollow\">here</a> in the section \"Per Thread\".</p>\n"},{"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431737568,"creation_date":1431737568,"answer_id":30270711,"question_id":30270646,"body_markdown":"&gt;Or does the JRE allocate separate stacks for each threads?\r\n\r\nYes.[ The JVM is specified to do so](http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.2):\r\n\r\n&gt;**Each Java Virtual Machine thread has a private *Java Virtual Machine stack*, created at the same time as the thread.** A Java Virtual Machine stack stores frames. [...] Because the Java Virtual Machine stack is never manipulated directly except to push and pop frames, frames may be heap allocated.","title":"Is there a stack space for every thread?","body":"<blockquote>\n  <p>Or does the JRE allocate separate stacks for each threads?</p>\n</blockquote>\n\n<p>Yes.<a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.2\" rel=\"nofollow\"> The JVM is specified to do so</a>:</p>\n\n<blockquote>\n  <p><strong>Each Java Virtual Machine thread has a private <em>Java Virtual Machine stack</em>, created at the same time as the thread.</strong> A Java Virtual Machine stack stores frames. [...] Because the Java Virtual Machine stack is never manipulated directly except to push and pop frames, frames may be heap allocated.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1664320238,"creation_date":1431739185,"answer_id":30270849,"question_id":30270646,"body_markdown":"&gt; Or does the JRE allocate separate stacks for each threads?\r\n\r\nConceptually yes.  (See this [JVM spec link][1], for example.)\r\n\r\nHow the spec&#39;s conceptualization gets implemented in a particular JVM is ... implementation specific.  However, my understanding is that current generation (e.g. Hotspot) JVMs allocate each thread stack in a separate block of memory requested from the OS; e.g. using a `mmap` syscall&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\nThere is certainly no wholesale copying of stack content when a thread switch occurs.  However thread context switching does entail saving and loading registers, and (indirectly) to extra load on memory cache and TLB entries.  This can be significant ... which is why excessive thread context switches (e.g. caused by lock contention or excessive wait/notify) can be bad for performance.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - Some JVMs include a read-only &quot;red-zone&quot; page at the end of each stack segment.  (This means that thread stack overflow triggers a memory fault, and the JVM doesn&#39;t need to explicitly check for stack overflow on each method call, which would be a significant performance hit.) Anyhow, my understanding is that the &quot;red-zone&quot; page requires the thread stacks to be requested using mmap. &lt;/sup&gt;\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.2","title":"Is there a stack space for every thread?","body":"<blockquote>\n<p>Or does the JRE allocate separate stacks for each threads?</p>\n</blockquote>\n<p>Conceptually yes.  (See this <a href=\"http://docs.oracle.com/javase/specs/jvms/se8/html/jvms-2.html#jvms-2.5.2\" rel=\"nofollow noreferrer\">JVM spec link</a>, for example.)</p>\n<p>How the spec's conceptualization gets implemented in a particular JVM is ... implementation specific.  However, my understanding is that current generation (e.g. Hotspot) JVMs allocate each thread stack in a separate block of memory requested from the OS; e.g. using a <code>mmap</code> syscall<sup>1</sup>.</p>\n<p>There is certainly no wholesale copying of stack content when a thread switch occurs.  However thread context switching does entail saving and loading registers, and (indirectly) to extra load on memory cache and TLB entries.  This can be significant ... which is why excessive thread context switches (e.g. caused by lock contention or excessive wait/notify) can be bad for performance.</p>\n<hr />\n<p><sup>1 - Some JVMs include a read-only &quot;red-zone&quot; page at the end of each stack segment.  (This means that thread stack overflow triggers a memory fault, and the JVM doesn't need to explicitly check for stack overflow on each method call, which would be a significant performance hit.) Anyhow, my understanding is that the &quot;red-zone&quot; page requires the thread stacks to be requested using mmap. </sup></p>\n"},{"tags":[],"owner":{"account_id":2779425,"reputation":1569,"user_id":2392258,"display_name":"Nitin Dandriyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1431740171,"creation_date":1431740171,"answer_id":30270940,"question_id":30270646,"body_markdown":"Java threads are represented by thread objects, each thread is assigned a separate thread stack used for storing runtime data. The thread stack has a specific size (Can be set using VM option `java -Xss1m Application`). \r\n\r\nIf during runtime, the Thread tries to store more date than the stack size allows, a stack overflow error occurs.\r\n\r\n","title":"Is there a stack space for every thread?","body":"<p>Java threads are represented by thread objects, each thread is assigned a separate thread stack used for storing runtime data. The thread stack has a specific size (Can be set using VM option <code>java -Xss1m Application</code>). </p>\n\n<p>If during runtime, the Thread tries to store more date than the stack size allows, a stack overflow error occurs.</p>\n"}],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6955,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1664320238,"creation_date":1431736806,"question_id":30270646,"body_markdown":"If I understand correctly the stack is for local primities and references to the objects in the heap. So what happens if you have more than one threads? \r\n\r\nDo they share the same stack space at the same time (but different areas) or does the JRE switch contexts and load-deload the stack content when switching between threads? \r\n\r\nOr does the JRE allocate separate stacks for each threads?","title":"Is there a stack space for every thread?","body":"<p>If I understand correctly the stack is for local primities and references to the objects in the heap. So what happens if you have more than one threads? </p>\n\n<p>Do they share the same stack space at the same time (but different areas) or does the JRE switch contexts and load-deload the stack content when switching between threads? </p>\n\n<p>Or does the JRE allocate separate stacks for each threads?</p>\n"},{"tags":["java","spring","spring-framework-beans"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1664319538,"post_id":73874515,"comment_id":130443378,"body_markdown":"Spring will gather implementations of an interface/extentions of a base class and inject them where a `List` is required. Try it.","body":"Spring will gather implementations of an interface/extentions of a base class and inject them where a <code>List</code> is required. Try it."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1664319542,"post_id":73874515,"comment_id":130443380,"body_markdown":"Yes!  Mark all `CreditValidator` implementations as an @Component, and spring will make a `List&lt;CreditValidator&gt;` available for injection (to avoid the `Array.asList(...)` ickyness).","body":"Yes!  Mark all <code>CreditValidator</code> implementations as an @Component, and spring will make a <code>List&lt;CreditValidator&gt;</code> available for injection (to avoid the <code>Array.asList(...)</code> ickyness)."}],"owner":{"account_id":26463753,"reputation":1,"user_id":20105301,"display_name":"Dazt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664319034,"creation_date":1664318961,"question_id":73874515,"body_markdown":"I hope you&#39;re doing well, I have a doubt when I try to create a method that can validate some business rules.\r\n\r\nIn this case, I have a class \r\n\r\n```\r\npublic class ValidationUtils {\r\n\r\n    final List&lt;CreditValidations&gt; creditValidations;\r\n\r\n    public ValidationUtils(){\r\n        creditValidations = Arrays.asList(\r\n            new ValidateAge(),\r\n            new ValidateSalary()\r\n        );\r\n    }\r\n\r\n    public ValidationRs passAllValidations(Client client){\r\n        final var validationsFailed = new ArrayList&lt;String&gt;();\r\n        boolean validationResult = false;\r\n        for (CreditValidations creditValidationClasses : creditValidations){\r\n            validationResult = Boolean.logicalXor(creditValidationClasses .validate(client,validationsFailed),\r\n                validationResult);\r\n        }\r\n        final var rs = new ValidationRs();\r\n        rs.setSuccessfulValidations(validationResult);\r\n        rs.setValidationsFailed(validationsFailed);\r\n        return rs;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nthis class has a method called &quot;passAllValidations&quot; That method can evaluate each CreditValidation implementation and join their results, Using this code I don&#39;t need to create more methods when I have a new validation, only extends the abstraction and create the new Validation class and inject it in the ValidationUtils constructor.   \r\n\r\nthe abstraction and implementation of CreditValidations look like \r\n\r\n```\r\npublic abstract class CreditValidations {\r\n\r\n    protected final String errorCode;\r\n\r\n    protected CreditValidations(final String errorCode) {\r\n        this.errorCode = errorCode;\r\n    }\r\n\r\n    protected abstract boolean validate(final Client client,final List&lt;String&gt; validationsFailed);\r\n\r\n    protected boolean evaluateValidation(boolean validationResult, List&lt;String&gt; validationsFailed){\r\n        if (!validationResult){\r\n            setCode(validationsFailed);\r\n        }\r\n        return  validationResult;\r\n    }\r\n\r\n    protected String getErrorCode() {\r\n        return this.errorCode;\r\n    }\r\n\r\n    protected void setCode(List&lt;String&gt; failedValidations) {\r\n        failedValidations.add(errorCode);\r\n    }\r\n}\r\n```\r\n```\r\npublic class ValidateAge extends CreditValidations {\r\n\r\n    public ValidateAge() {\r\n        super(CreditValidationErrorEnum.ERROR_VALIDATING_AGE.getCode());\r\n    }\r\n\r\n    @Override\r\n    public boolean validate(final Client client, List&lt;String&gt; validationsFailed) {\r\n        return this.evaluateValidation(client.getAge() &gt;= 18,validationsFailed);\r\n    }\r\n\r\n}\r\n```\r\n\r\nin summary, my question is referring to the dependency injection in the class ValidationUtils, I don&#39;t know if it way is correct or if Spring Framework has some things that help me to inject all of the CreditValidation implementations and avoid using Array.asList(new NewValidationClass()) or another design pattern which can help.\r\n\r\nThanks in advance. \r\n","title":"Inject several implementations of an abstraction in a class","body":"<p>I hope you're doing well, I have a doubt when I try to create a method that can validate some business rules.</p>\n<p>In this case, I have a class</p>\n<pre><code>public class ValidationUtils {\n\n    final List&lt;CreditValidations&gt; creditValidations;\n\n    public ValidationUtils(){\n        creditValidations = Arrays.asList(\n            new ValidateAge(),\n            new ValidateSalary()\n        );\n    }\n\n    public ValidationRs passAllValidations(Client client){\n        final var validationsFailed = new ArrayList&lt;String&gt;();\n        boolean validationResult = false;\n        for (CreditValidations creditValidationClasses : creditValidations){\n            validationResult = Boolean.logicalXor(creditValidationClasses .validate(client,validationsFailed),\n                validationResult);\n        }\n        final var rs = new ValidationRs();\n        rs.setSuccessfulValidations(validationResult);\n        rs.setValidationsFailed(validationsFailed);\n        return rs;\n    }\n\n\n}\n</code></pre>\n<p>this class has a method called &quot;passAllValidations&quot; That method can evaluate each CreditValidation implementation and join their results, Using this code I don't need to create more methods when I have a new validation, only extends the abstraction and create the new Validation class and inject it in the ValidationUtils constructor.</p>\n<p>the abstraction and implementation of CreditValidations look like</p>\n<pre><code>public abstract class CreditValidations {\n\n    protected final String errorCode;\n\n    protected CreditValidations(final String errorCode) {\n        this.errorCode = errorCode;\n    }\n\n    protected abstract boolean validate(final Client client,final List&lt;String&gt; validationsFailed);\n\n    protected boolean evaluateValidation(boolean validationResult, List&lt;String&gt; validationsFailed){\n        if (!validationResult){\n            setCode(validationsFailed);\n        }\n        return  validationResult;\n    }\n\n    protected String getErrorCode() {\n        return this.errorCode;\n    }\n\n    protected void setCode(List&lt;String&gt; failedValidations) {\n        failedValidations.add(errorCode);\n    }\n}\n</code></pre>\n<pre><code>public class ValidateAge extends CreditValidations {\n\n    public ValidateAge() {\n        super(CreditValidationErrorEnum.ERROR_VALIDATING_AGE.getCode());\n    }\n\n    @Override\n    public boolean validate(final Client client, List&lt;String&gt; validationsFailed) {\n        return this.evaluateValidation(client.getAge() &gt;= 18,validationsFailed);\n    }\n\n}\n</code></pre>\n<p>in summary, my question is referring to the dependency injection in the class ValidationUtils, I don't know if it way is correct or if Spring Framework has some things that help me to inject all of the CreditValidation implementations and avoid using Array.asList(new NewValidationClass()) or another design pattern which can help.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1664316495,"post_id":73873914,"comment_id":130442902,"body_markdown":"`public int getRowCount() {\n   return 0;\n }` uh oh!! Don&#39;t don&#39;t ***don&#39;t*** do this. Seriously. You&#39;re telling the model that it has no data, that it will *never* have data.","body":"<code>public int getRowCount() {    return 0;  }</code> uh oh!! Don&#39;t don&#39;t <b><i>don&#39;t</i></b> do this. Seriously. You&#39;re telling the model that it has no data, that it will <i>never</i> have data."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1664316680,"post_id":73873914,"comment_id":130442935,"body_markdown":"addRow(Product product) should not just add data, it should also fire a table data changed event.","body":"addRow(Product product) should not just add data, it should also fire a table data changed event."},{"owner":{"account_id":26463293,"reputation":1,"user_id":20104908,"display_name":"Neonify"},"score":0,"creation_date":1664318357,"post_id":73873914,"comment_id":130443195,"body_markdown":"getRowCount() was giving me problems and that&#39;s why I changed it to 0 but completely overlooked to change it back. Thanks for that! I&#39;ve edited my question to the most up to date code. Still, nothing happens when I try to add new row.","body":"getRowCount() was giving me problems and that&#39;s why I changed it to 0 but completely overlooked to change it back. Thanks for that! I&#39;ve edited my question to the most up to date code. Still, nothing happens when I try to add new row."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664321988,"post_id":73873914,"comment_id":130443684,"body_markdown":"It seems your question has changed quite a lot, rendering existing answers mostly useless.  As of this writing, you have a TableModel defined *inside* your TableModel class.  Don’t do that.  Your `addRow` method needs to add to the source of data—namely, your `products` List.  Then it needs to call `fireTableRowsUpdated` to let the JTable know the model has changed.  Under no circumstances should a TableModel contain another TableModel.","body":"It seems your question has changed quite a lot, rendering existing answers mostly useless.  As of this writing, you have a TableModel defined <i>inside</i> your TableModel class.  Don’t do that.  Your <code>addRow</code> method needs to add to the source of data—namely, your <code>products</code> List.  Then it needs to call <code>fireTableRowsUpdated</code> to let the JTable know the model has changed.  Under no circumstances should a TableModel contain another TableModel."},{"owner":{"account_id":26463293,"reputation":1,"user_id":20104908,"display_name":"Neonify"},"score":0,"creation_date":1664322704,"post_id":73873914,"comment_id":130443794,"body_markdown":"I will delete those useless fields as it seems that it runs without it. Also, fireTableRowsUpdated helped me quiet a lot since only five mintues ago I&#39;ve realized that table actually shows new data by having it resized! Thanks!","body":"I will delete those useless fields as it seems that it runs without it. Also, fireTableRowsUpdated helped me quiet a lot since only five mintues ago I&#39;ve realized that table actually shows new data by having it resized! Thanks!"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1664332534,"post_id":73873914,"comment_id":130445145,"body_markdown":"*I want to retrieve whole row as a Object (in this case an instance of class Product) instead of having to retrieve each cell from same row and peice it together into a Product.* - See [Row Table Model](https://tips4java.wordpress.com/2008/11/21/row-table-model/) for an example of how the Product object can be stored and retrieved as a single object.","body":"<i>I want to retrieve whole row as a Object (in this case an instance of class Product) instead of having to retrieve each cell from same row and peice it together into a Product.</i> - See <a href=\"https://tips4java.wordpress.com/2008/11/21/row-table-model/\" rel=\"nofollow noreferrer\">Row Table Model</a> for an example of how the Product object can be stored and retrieved as a single object."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664316802,"creation_date":1664316647,"answer_id":73874261,"question_id":73873914,"body_markdown":"Your model returns 0 always from its `getRowCount()` method, and a JTable made with this model will show no rows of data ever. Instead, if you&#39;re overriding DefaultTableModel, then best not to override this method. Let the super&#39;s object handle it.\r\n\r\nAlso, you&#39;re trying to use two data nuclei for the model, the super&#39;s internal Vector as well as your own linked list of Product, and that&#39;s not good. Either use the super&#39;s data or extend AbstractTableModel. If you do extend the abstract model, then yes, override getRowCount and return the count of rows in the data, here the size of your linked list.","title":"JTable not showing data from custom table model","body":"<p>Your model returns 0 always from its <code>getRowCount()</code> method, and a JTable made with this model will show no rows of data ever. Instead, if you're overriding DefaultTableModel, then best not to override this method. Let the super's object handle it.</p>\n<p>Also, you're trying to use two data nuclei for the model, the super's internal Vector as well as your own linked list of Product, and that's not good. Either use the super's data or extend AbstractTableModel. If you do extend the abstract model, then yes, override getRowCount and return the count of rows in the data, here the size of your linked list.</p>\n"}],"owner":{"account_id":26463293,"reputation":1,"user_id":20104908,"display_name":"Neonify"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":73874261,"answer_count":1,"score":-2,"last_activity_date":1664318831,"creation_date":1664313470,"question_id":73873914,"body_markdown":"I have JTable that&#39;s supposed to show data that&#39;s present in a model that&#39;s a custom class that extends DefaultTableModel. It is supposed to start as a blank table, and that works but unfortunately, whenever I try to add new row, it seems like model is not properly assigned to JTable (data doesn&#39;t show up on JTable at all).\r\n\r\nHere&#39;s **TableOrdersModel**:\r\n\r\n    public class TableOrdersModel extends AbstractTableModel{\r\n\tString tableHeaders[] = {&quot;KATEGORIJA&quot;, &quot;NAZIV&quot;, &quot;CENA&quot;, &quot;KOLIČINA&quot;}; \r\n    private LinkedList&lt;Product&gt; products;\r\n    private DefaultTableModel tableModel;\r\n\r\n    public TableOrdersModel(LinkedList&lt;Product&gt; products) {\r\n    \tthis.tableModel = new DefaultTableModel(0, tableHeaders.length);\r\n    \tthis.tableModel.setColumnIdentifiers(tableHeaders);\r\n        this.products = products;\r\n    }\r\n\r\n    public void addRow(Product product) {\r\n    \tproducts.add(product);\r\n    \ttableModel.addRow(new Object[]{product.getCategory(), product.getName(), product.getPrice(), product.getQuantity()});\r\n    }\r\n    \r\n    @Override \r\n    public int getColumnCount() { \r\n        return tableHeaders.length; \r\n    } \r\n    @Override \r\n    public String getColumnName(int index) { \r\n        return tableHeaders[index]; \r\n    }\r\n    @Override\r\n    public void setValueAt(Object value, int row, int col) {\r\n        fireTableCellUpdated(row, col);\r\n    }\r\n    \r\n    \r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n\r\n        Object value = null;\r\n        Product product = products.get(rowIndex);\r\n        switch (columnIndex) {\r\n            case 0:\r\n                value = product.getCategory();\r\n                break;\r\n            case 1:\r\n                value = product.getName();\r\n                break;\r\n            case 2:\r\n                value = product.getPrice();\r\n                break;\r\n            case 3:\r\n                value = product.getQuantity();\r\n                break;\r\n            default:\r\n            \tSystem.err.println(&quot;ERROR: Invalid column index.&quot;);\r\n        }\r\n\r\n        return value;\r\n\r\n    }\r\n    public Product getProductAt(int row) {\r\n        return products.get(row);\r\n    }\r\n\r\n\t@Override\r\n\tpublic int getRowCount() {\r\n\t\treturn products.size();\r\n\t}\r\n}\r\n\r\n\r\nAnd here&#39;s how I&#39;m trying to assign it:\r\n\r\n    void displayOrdersForThisTable(Table selectedTable) {\r\n\t\tLinkedList&lt;Product&gt; products = selectedTable.getOrders();\r\n\t\tIterator&lt;Product&gt; it = products.iterator();\r\n\t\t\r\n\t\tTableOrdersModel tableModel = (TableOrdersModel) table.getModel();\r\n\t\t\r\n\t\twhile(it.hasNext()) {\r\n\t\t\tProduct productIterator = it.next();\r\n\t\t\ttableModel.addRow(productIterator);\r\n\t\t}\r\n\r\nHere is how JTable is initialized:\r\n\r\n    private JTable getTable() {\r\n\t\tif (table == null) {\r\n\t\t\tTableOrdersModel tableModel = new TableOrdersModel(new LinkedList&lt;Product&gt;());\r\n\t\t\ttable = new JTable(tableModel) {\r\n\t\t\t\tpublic boolean editCellAt(int row, int column, java.util.EventObject e) {\r\n\t\t            return false;\r\n\t\t         }\r\n\t\t\t};\r\n\t\t\ttable.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 18));\r\n\t\t}\r\n\t\treturn table;\r\n\t}\r\n\r\nAlso, the reason why I&#39;m using a custom model is because of this post (https://stackoverflow.com/questions/12559287/how-to-set-a-custom-object-in-a-jtable-row) where I want to retrieve whole row as a Object (in this case an instance of class Product) instead of having to retrieve each cell from same row and peice it together into a Product.\r\n\r\n\r\nAny help is greatly appericiated, thanks!","title":"JTable not showing data from custom table model","body":"<p>I have JTable that's supposed to show data that's present in a model that's a custom class that extends DefaultTableModel. It is supposed to start as a blank table, and that works but unfortunately, whenever I try to add new row, it seems like model is not properly assigned to JTable (data doesn't show up on JTable at all).</p>\n<p>Here's <strong>TableOrdersModel</strong>:</p>\n<pre><code>public class TableOrdersModel extends AbstractTableModel{\nString tableHeaders[] = {&quot;KATEGORIJA&quot;, &quot;NAZIV&quot;, &quot;CENA&quot;, &quot;KOLIČINA&quot;}; \nprivate LinkedList&lt;Product&gt; products;\nprivate DefaultTableModel tableModel;\n\npublic TableOrdersModel(LinkedList&lt;Product&gt; products) {\n    this.tableModel = new DefaultTableModel(0, tableHeaders.length);\n    this.tableModel.setColumnIdentifiers(tableHeaders);\n    this.products = products;\n}\n\npublic void addRow(Product product) {\n    products.add(product);\n    tableModel.addRow(new Object[]{product.getCategory(), product.getName(), product.getPrice(), product.getQuantity()});\n}\n\n@Override \npublic int getColumnCount() { \n    return tableHeaders.length; \n} \n@Override \npublic String getColumnName(int index) { \n    return tableHeaders[index]; \n}\n@Override\npublic void setValueAt(Object value, int row, int col) {\n    fireTableCellUpdated(row, col);\n}\n\n\n@Override\npublic Object getValueAt(int rowIndex, int columnIndex) {\n\n    Object value = null;\n    Product product = products.get(rowIndex);\n    switch (columnIndex) {\n        case 0:\n            value = product.getCategory();\n            break;\n        case 1:\n            value = product.getName();\n            break;\n        case 2:\n            value = product.getPrice();\n            break;\n        case 3:\n            value = product.getQuantity();\n            break;\n        default:\n            System.err.println(&quot;ERROR: Invalid column index.&quot;);\n    }\n\n    return value;\n\n}\npublic Product getProductAt(int row) {\n    return products.get(row);\n}\n\n@Override\npublic int getRowCount() {\n    return products.size();\n}\n</code></pre>\n<p>}</p>\n<p>And here's how I'm trying to assign it:</p>\n<pre><code>void displayOrdersForThisTable(Table selectedTable) {\n    LinkedList&lt;Product&gt; products = selectedTable.getOrders();\n    Iterator&lt;Product&gt; it = products.iterator();\n    \n    TableOrdersModel tableModel = (TableOrdersModel) table.getModel();\n    \n    while(it.hasNext()) {\n        Product productIterator = it.next();\n        tableModel.addRow(productIterator);\n    }\n</code></pre>\n<p>Here is how JTable is initialized:</p>\n<pre><code>private JTable getTable() {\n    if (table == null) {\n        TableOrdersModel tableModel = new TableOrdersModel(new LinkedList&lt;Product&gt;());\n        table = new JTable(tableModel) {\n            public boolean editCellAt(int row, int column, java.util.EventObject e) {\n                return false;\n             }\n        };\n        table.setFont(new Font(&quot;Segoe UI&quot;, Font.PLAIN, 18));\n    }\n    return table;\n}\n</code></pre>\n<p>Also, the reason why I'm using a custom model is because of this post (<a href=\"https://stackoverflow.com/questions/12559287/how-to-set-a-custom-object-in-a-jtable-row\">How to set a custom object in a JTable row</a>) where I want to retrieve whole row as a Object (in this case an instance of class Product) instead of having to retrieve each cell from same row and peice it together into a Product.</p>\n<p>Any help is greatly appericiated, thanks!</p>\n"},{"tags":["java","maven","sbt","dropwizard"],"comments":[{"owner":{"account_id":3792667,"reputation":551,"user_id":3148709,"accept_rate":88,"display_name":"Rohan"},"score":0,"creation_date":1520981067,"post_id":49262060,"comment_id":85537452,"body_markdown":"You can give default values to your properties in your `Configuration` objects, or make them not required. I *think* if they have default values or are not specified as `@NotEmpty` / `@NotNull`, then Dropwizard will not complain if you don&#39;t load a config file.","body":"You can give default values to your properties in your <code>Configuration</code> objects, or make them not required. I <i>think</i> if they have default values or are not specified as <code>@NotEmpty</code> / <code>@NotNull</code>, then Dropwizard will not complain if you don&#39;t load a config file."},{"owner":{"account_id":211270,"reputation":10872,"user_id":463324,"accept_rate":77,"display_name":"condit"},"score":0,"creation_date":1521057373,"post_id":49262060,"comment_id":85576170,"body_markdown":"Have a look at: https://stackoverflow.com/questions/46682279/dropwizard-is-a-yml-config-mandatory/47099122#47099122","body":"Have a look at: <a href=\"https://stackoverflow.com/questions/46682279/dropwizard-is-a-yml-config-mandatory/47099122#47099122\" title=\"dropwizard is a yml config mandatory\">stackoverflow.com/questions/46682279/&hellip;</a>"},{"owner":{"display_name":"user8080556"},"score":0,"creation_date":1521057673,"post_id":49262060,"comment_id":85576335,"body_markdown":"@condit thanks for the link, maybe my question was unclear, I meant the default in dropwizard is a yaml file in resources folder. Is there no default configuration. So that if I start the application without passing the config.yaml as parameter that he looks if there is a config file in the resource folder?","body":"@condit thanks for the link, maybe my question was unclear, I meant the default in dropwizard is a yaml file in resources folder. Is there no default configuration. So that if I start the application without passing the config.yaml as parameter that he looks if there is a config file in the resource folder?"}],"answers":[{"tags":[],"owner":{"account_id":211270,"reputation":10872,"user_id":463324,"accept_rate":77,"display_name":"condit"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1664317695,"creation_date":1521125556,"answer_id":49302650,"question_id":49262060,"body_markdown":"Use class [`ResourceConfigurationSourceProvider`](https://javadoc.io/doc/io.dropwizard/dropwizard-project/latest/io/dropwizard/configuration/ResourceConfigurationSourceProvider.html):\r\n\r\n&lt;!-- lang:java --&gt;\r\n\r\n    @Override\r\n    public void initialize(final Bootstrap&lt;ExampleConfiguration&gt; bootstrap) {  \r\n\t  bootstrap.setConfigurationSourceProvider(new ResourceConfigurationSourceProvider());\r\n      // The rest of initialize...\r\n    }\r\n\r\nAnd then invoke the application like:\r\n\r\n`java -jar APPLICATION.jar server /resource-config.yaml`\r\n\r\n(note the initial `/`)","title":"Start Dropwizard with config.yaml from resources","body":"<p>Use class <a href=\"https://javadoc.io/doc/io.dropwizard/dropwizard-project/latest/io/dropwizard/configuration/ResourceConfigurationSourceProvider.html\" rel=\"nofollow noreferrer\"><code>ResourceConfigurationSourceProvider</code></a>:</p>\n\n<pre><code>@Override\npublic void initialize(final Bootstrap&lt;ExampleConfiguration&gt; bootstrap) {  \n  bootstrap.setConfigurationSourceProvider(new ResourceConfigurationSourceProvider());\n  // The rest of initialize...\n}\n</code></pre>\n<p>And then invoke the application like:</p>\n<p><code>java -jar APPLICATION.jar server /resource-config.yaml</code></p>\n<p>(note the initial <code>/</code>)</p>\n"},{"tags":[],"owner":{"account_id":3477746,"reputation":23,"user_id":2910554,"display_name":"Paul Jose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643307421,"creation_date":1643307421,"answer_id":70883731,"question_id":49262060,"body_markdown":"&lt;p&gt;While this answer is very late, just thought I&#39;d put this here. There is a dirty little hack to make it work so that you don&#39;t have to provide config.yaml in your application arguments.&lt;/p&gt;\r\n&lt;p&gt;Basically, you can submit a new String[] args to the run() method in the dropwizard application.&lt;/p&gt;\r\n\r\n\r\n    public class ApplicationServer extends Application&lt;Config&gt; {\r\n\r\n      public static void main(String[] args) {\r\n        String[] appArgs = new String[2];\r\n        appArgs[0] = args[0]; // This will be the usual server argument\r\n        appArgs[1] = &quot;config.yaml&quot;;\r\n        \r\n        new ApplicationServer().run(appArgs);\r\n      }\r\n      \r\n      @Override\r\n      public void run(Config configuration, Environment environment) {\r\n        // Configure your resources and other application related things\r\n      }\r\n      \r\n    }\r\n\r\n&lt;p&gt;I used this little trick to specify which config file I wanted to run with. So instead of specifying config.yaml, I would give my second argument as DEV/UAT/STAGE/PROD and pass on the appropriate config file to the run method.&lt;/p&gt;\r\n","title":"Start Dropwizard with config.yaml from resources","body":"<p>While this answer is very late, just thought I'd put this here. There is a dirty little hack to make it work so that you don't have to provide config.yaml in your application arguments.</p>\n<p>Basically, you can submit a new String[] args to the run() method in the dropwizard application.</p>\n<pre><code>public class ApplicationServer extends Application&lt;Config&gt; {\n\n  public static void main(String[] args) {\n    String[] appArgs = new String[2];\n    appArgs[0] = args[0]; // This will be the usual server argument\n    appArgs[1] = &quot;config.yaml&quot;;\n    \n    new ApplicationServer().run(appArgs);\n  }\n  \n  @Override\n  public void run(Config configuration, Environment environment) {\n    // Configure your resources and other application related things\n  }\n  \n}\n</code></pre>\n<p>I used this little trick to specify which config file I wanted to run with. So instead of specifying config.yaml, I would give my second argument as DEV/UAT/STAGE/PROD and pass on the appropriate config file to the run method.</p>\n"},{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664318570,"creation_date":1664318570,"answer_id":73874468,"question_id":49262060,"body_markdown":"Also interesting to have a look at:\r\n[earlye/dropwizard-multi-config][1]\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.thenewentity&lt;/groupId&gt;\r\n  &lt;artifactId&gt;dropwizard-multi-config&lt;/artifactId&gt;\r\n  &lt;version&gt;{version}&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIt allows overriding and merging multiple config-files passed on the java command-line like:\r\n```shell\r\njava -jar sample.jar server -- sample.yaml override.yaml\r\n```\r\nHere you pass (1) `sample.yaml` as the primary configuration (e.g. having default values) and (2) `override.yaml` as the override. The effective config is a result from merging both in order of appearance: (1) defaults will be overwritten and merged with (2).\r\n\r\n  [1]: https://github.com/earlye/dropwizard-multi-config","title":"Start Dropwizard with config.yaml from resources","body":"<p>Also interesting to have a look at:\n<a href=\"https://github.com/earlye/dropwizard-multi-config\" rel=\"nofollow noreferrer\">earlye/dropwizard-multi-config</a></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.thenewentity&lt;/groupId&gt;\n  &lt;artifactId&gt;dropwizard-multi-config&lt;/artifactId&gt;\n  &lt;version&gt;{version}&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It allows overriding and merging multiple config-files passed on the java command-line like:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar sample.jar server -- sample.yaml override.yaml\n</code></pre>\n<p>Here you pass (1) <code>sample.yaml</code> as the primary configuration (e.g. having default values) and (2) <code>override.yaml</code> as the override. The effective config is a result from merging both in order of appearance: (1) defaults will be overwritten and merged with (2).</p>\n"}],"owner":{"display_name":"user8080556"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3244,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49302650,"answer_count":3,"score":8,"last_activity_date":1664318570,"creation_date":1520961176,"question_id":49262060,"body_markdown":"I have a dropwizard question. I use Dropwizard with SBT (which works pretty fine).\r\nIf I run my application i package it with:\r\n\r\n    $ sbt clean assembly\r\n\r\nAnd than run the application with:\r\n\r\n    $ java -jar APPLICATION.jar server\r\n\r\nThe problem is with this command Dropwizard doesnt load my config file (config.yaml), which is in the resources located. \r\nRegarding the Dropwizard Docs I always have to give the config file as parameter like:\r\n\r\n    $ java -jar APPLICATION.jar server config.yaml\r\n\r\nThis works fine and it loads the application but is there any possibility to tell Dropwizard to load directly the config.yaml file, because my configuration in the config.yaml file is static and it is always the same. Settings like Database etc which are changing from Server Stage to Server Stage are made as Enviroment Variable which I load with EnvironmentVariableSubstitutor.\r\n\r\nThanks","title":"Start Dropwizard with config.yaml from resources","body":"<p>I have a dropwizard question. I use Dropwizard with SBT (which works pretty fine).\nIf I run my application i package it with:</p>\n\n<pre><code>$ sbt clean assembly\n</code></pre>\n\n<p>And than run the application with:</p>\n\n<pre><code>$ java -jar APPLICATION.jar server\n</code></pre>\n\n<p>The problem is with this command Dropwizard doesnt load my config file (config.yaml), which is in the resources located. \nRegarding the Dropwizard Docs I always have to give the config file as parameter like:</p>\n\n<pre><code>$ java -jar APPLICATION.jar server config.yaml\n</code></pre>\n\n<p>This works fine and it loads the application but is there any possibility to tell Dropwizard to load directly the config.yaml file, because my configuration in the config.yaml file is static and it is always the same. Settings like Database etc which are changing from Server Stage to Server Stage are made as Enviroment Variable which I load with EnvironmentVariableSubstitutor.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","utf-8","substring","java-11"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664294080,"post_id":73869716,"comment_id":130436424,"body_markdown":"Git bash &quot;handles Unicode correctly&quot; (not in &quot;windows-style&quot;)... https://stackoverflow.com/q/10651975/592355","body":"Git bash &quot;handles Unicode correctly&quot; (not in &quot;windows-style&quot;)... <a href=\"https://stackoverflow.com/q/10651975/592355\">stackoverflow.com/q/10651975/592355</a>"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1664318407,"creation_date":1664292987,"answer_id":73870242,"question_id":73869716,"body_markdown":"[Prior to JDK-18] and [JEP 400][1], `getBytes()` on a `String` uses the platforms default character encoding which is not guaranteed to be UTF-8. You would have to use `line.getBytes(StandardCharsets.UTF_8)` to ensure to always get the bytes according to the UTF-8 encoding.\r\n\r\nHowever, this is unnecessarily complicated. To remove the BOM, if present, you can simply use the string’s UTF-16 based API.\r\n\r\n```java\r\nif(line.startsWith(&quot;\\uFEFF&quot;)) line = line.substring(1);\r\n```\r\n\r\nNot only is this shorter, it is more efficient as it doesn’t convert the entire string to UTF-8, just to check the first char.\r\n\r\n---\r\n\r\nBut you also have to check the source of the string. It is possible that you have a similar problem at the file reading site, using the platform’s default encoding rather than reading the file as UTF-8.\r\n\r\nNote the differences between the APIs (prior to JDK&#160;18)\r\n\r\n - [`Files.newBufferedReader(path)`] always uses UTF-8\r\n - [`new FileReader(file)`] uses the platform’s default charset\r\n - [`new InputStreamReader(inputStream)`] also uses the platform’s default charset\r\n\r\nIf in doubt, always specify the intended charset.\r\n\r\n[`Files.newBufferedReader(path)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#newBufferedReader(java.nio.file.Path)\r\n[`new FileReader(file)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File)\r\n[`new InputStreamReader(inputStream)`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html#%3Cinit%3E(java.io.InputStream)\r\n[Prior to JDK-18]: https://bugs.openjdk.org/browse/JDK-8260266\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/400","title":"Handle utf-8 with bom in java","body":"<p><a href=\"https://bugs.openjdk.org/browse/JDK-8260266\" rel=\"noreferrer\">Prior to JDK-18</a> and <a href=\"https://openjdk.org/jeps/400\" rel=\"noreferrer\">JEP 400</a>, <code>getBytes()</code> on a <code>String</code> uses the platforms default character encoding which is not guaranteed to be UTF-8. You would have to use <code>line.getBytes(StandardCharsets.UTF_8)</code> to ensure to always get the bytes according to the UTF-8 encoding.</p>\n<p>However, this is unnecessarily complicated. To remove the BOM, if present, you can simply use the string’s UTF-16 based API.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(line.startsWith(&quot;\\uFEFF&quot;)) line = line.substring(1);\n</code></pre>\n<p>Not only is this shorter, it is more efficient as it doesn’t convert the entire string to UTF-8, just to check the first char.</p>\n<hr />\n<p>But you also have to check the source of the string. It is possible that you have a similar problem at the file reading site, using the platform’s default encoding rather than reading the file as UTF-8.</p>\n<p>Note the differences between the APIs (prior to JDK 18)</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/Files.html#newBufferedReader(java.nio.file.Path)\" rel=\"noreferrer\"><code>Files.newBufferedReader(path)</code></a> always uses UTF-8</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/FileReader.html#%3Cinit%3E(java.io.File)\" rel=\"noreferrer\"><code>new FileReader(file)</code></a> uses the platform’s default charset</li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStreamReader.html#%3Cinit%3E(java.io.InputStream)\" rel=\"noreferrer\"><code>new InputStreamReader(inputStream)</code></a> also uses the platform’s default charset</li>\n</ul>\n<p>If in doubt, always specify the intended charset.</p>\n"}],"owner":{"account_id":11239377,"reputation":1307,"user_id":8244247,"display_name":"Joseph Budin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73870242,"answer_count":1,"score":1,"last_activity_date":1664318407,"creation_date":1664290669,"question_id":73869716,"body_markdown":"I have some code removing the BOM header of the first line of a file like this  : \r\n\r\n    public static String removeBOMIndicator(String line) {\r\n        if (line.length() &gt; 1) {\r\n            byte[] bytes = line.getBytes();\r\n            if (bytes.length &gt;= 3 &amp;&amp; bytes[0] == (byte) 0xEF &amp;&amp; bytes[1] == (byte) 0xBB &amp;&amp; bytes[2] == (byte) 0xBF) {\r\n                line = line.substring(1);\r\n            }\r\n        }\r\n        return line;\r\n    }\r\n\r\nThis function works well and I created a test case to be sure it stays that way. The test passes without trouble when I launch it with IntelliJ or when our SonarQube instance runs it.\r\n\r\nHowever, when I launch the test using Git Bash (`mvn surefire:test -Dtest=RemoveBomHeadertTest`), the output of my function contains two characters `╗┐` at the start.\r\n\r\nIf I change my code to remove the 3 first characters instead of only the first one, then it works well in Git Bash, but in IntelliJ, I&#39;m missing the first two characters of my String.\r\n\r\nAny idea why the behaviour of `substring` might be different in these two cases ?","title":"Handle utf-8 with bom in java","body":"<p>I have some code removing the BOM header of the first line of a file like this  :</p>\n<pre><code>public static String removeBOMIndicator(String line) {\n    if (line.length() &gt; 1) {\n        byte[] bytes = line.getBytes();\n        if (bytes.length &gt;= 3 &amp;&amp; bytes[0] == (byte) 0xEF &amp;&amp; bytes[1] == (byte) 0xBB &amp;&amp; bytes[2] == (byte) 0xBF) {\n            line = line.substring(1);\n        }\n    }\n    return line;\n}\n</code></pre>\n<p>This function works well and I created a test case to be sure it stays that way. The test passes without trouble when I launch it with IntelliJ or when our SonarQube instance runs it.</p>\n<p>However, when I launch the test using Git Bash (<code>mvn surefire:test -Dtest=RemoveBomHeadertTest</code>), the output of my function contains two characters <code>╗┐</code> at the start.</p>\n<p>If I change my code to remove the 3 first characters instead of only the first one, then it works well in Git Bash, but in IntelliJ, I'm missing the first two characters of my String.</p>\n<p>Any idea why the behaviour of <code>substring</code> might be different in these two cases ?</p>\n"},{"tags":["java","kerberos"],"answers":[{"tags":[],"owner":{"account_id":23599,"reputation":3481,"user_id":59241,"accept_rate":76,"display_name":"Dikla"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1245835232,"creation_date":1245835232,"answer_id":1037289,"question_id":1037009,"body_markdown":"\r\n&gt; The class com.sun.security.auth.module.Krb5LoginModule is Sun&#39;s implementation of a login module for the Kerberos version 5 protocol. Upon successful authentication the Ticket Granting Ticket (TGT) is stored in the Subject&#39;s private credentials set and the Kerberos principal is stored in the Subject&#39;s principal set.\r\n\r\n(Taken from [here][1])\r\n\r\nThis means that `LoginContext.login` is indeed equal to `kinit` in that after each of them, we have a TGT.\r\n\r\nThe service ticket will be obtained and used later - according to the action performed in `Subject.doAs()`.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/guides/security/jgss/single-signon.html","title":"Kerberos Authentication in Java - does &quot;login&quot; action in java equals to &quot;kinit&quot;?","body":"<blockquote>\n  <p>The class com.sun.security.auth.module.Krb5LoginModule is Sun's implementation of a login module for the Kerberos version 5 protocol. Upon successful authentication the Ticket Granting Ticket (TGT) is stored in the Subject's private credentials set and the Kerberos principal is stored in the Subject's principal set.</p>\n</blockquote>\n\n<p>(Taken from <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/security/jgss/single-signon.html\" rel=\"noreferrer\">here</a>)</p>\n\n<p>This means that <code>LoginContext.login</code> is indeed equal to <code>kinit</code> in that after each of them, we have a TGT.</p>\n\n<p>The service ticket will be obtained and used later - according to the action performed in <code>Subject.doAs()</code>.</p>\n"},{"tags":[],"owner":{"account_id":19868807,"reputation":11,"user_id":14555457,"display_name":"tritbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664317836,"creation_date":1664317836,"answer_id":73874387,"question_id":1037009,"body_markdown":"Never use LoginContext.login because it doesn&#39;t support MIT Kerberos cred cache standard for popular OS like Windows, Linux, MacOSX and etc.\r\nJavaAPI is proprietary feature for Oracle environment\r\n\r\nkinit and MIT is C libraries and no one alternative replaces it.\r\n\r\nIf you need specific TGT service to do correctly it&#39;s only to use kinit source code to make your own module.\r\n\r\nOf course you must also use right way to get TGS without Java modules. \r\nNever use Jaas and krb5Module in Linux/Windows.\r\nOnly Sun GSS native is fit for any OS: https://docs.oracle.com/en/java/javase/11/security/accessing-native-gss-api.html\r\n\r\nThis is important unless you don&#39;t want to make your KDC servers failed by thousands of requests flood.","title":"Kerberos Authentication in Java - does &quot;login&quot; action in java equals to &quot;kinit&quot;?","body":"<p>Never use LoginContext.login because it doesn't support MIT Kerberos cred cache standard for popular OS like Windows, Linux, MacOSX and etc.\nJavaAPI is proprietary feature for Oracle environment</p>\n<p>kinit and MIT is C libraries and no one alternative replaces it.</p>\n<p>If you need specific TGT service to do correctly it's only to use kinit source code to make your own module.</p>\n<p>Of course you must also use right way to get TGS without Java modules.\nNever use Jaas and krb5Module in Linux/Windows.\nOnly Sun GSS native is fit for any OS: <a href=\"https://docs.oracle.com/en/java/javase/11/security/accessing-native-gss-api.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/11/security/accessing-native-gss-api.html</a></p>\n<p>This is important unless you don't want to make your KDC servers failed by thousands of requests flood.</p>\n"}],"owner":{"account_id":23599,"reputation":3481,"user_id":59241,"accept_rate":76,"display_name":"Dikla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6574,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":1037289,"answer_count":2,"score":5,"last_activity_date":1664317836,"creation_date":1245830742,"question_id":1037009,"body_markdown":"I&#39;m using GSSAPI in Java in order to login to an LDAP server using Kerberos authentication. I&#39;m a newbie to Kerberos, so I&#39;m sorry if this is an obvious question, but I couldn&#39;t find anything clear enough on the internet.\r\n\r\nI perform the following steps:\r\n\r\n 1. Define Login configuration by setting the system property `&quot;java.security.auth.login.config&quot;` to the configuration file path.\r\n 2. Call `LoginContext.login()` with the name of the configuration and a self defined callback handler\r\n 3. In case login succeeded, &quot;pretend to be&quot; the subject (by using `Subject.doAs()`), and connect to the LDAP server by creating a new `InitialLDAPContext` with the appropriate environment variables.\r\n\r\nNow, My problem is I don&#39;t understand which step correlates to which kerberos action?\r\nIs it correct to say that after the login action I only have a TGT? When do I get the service specific ticket?\r\n\r\nThanks,\r\nDikla","title":"Kerberos Authentication in Java - does &quot;login&quot; action in java equals to &quot;kinit&quot;?","body":"<p>I'm using GSSAPI in Java in order to login to an LDAP server using Kerberos authentication. I'm a newbie to Kerberos, so I'm sorry if this is an obvious question, but I couldn't find anything clear enough on the internet.</p>\n\n<p>I perform the following steps:</p>\n\n<ol>\n<li>Define Login configuration by setting the system property <code>\"java.security.auth.login.config\"</code> to the configuration file path.</li>\n<li>Call <code>LoginContext.login()</code> with the name of the configuration and a self defined callback handler</li>\n<li>In case login succeeded, \"pretend to be\" the subject (by using <code>Subject.doAs()</code>), and connect to the LDAP server by creating a new <code>InitialLDAPContext</code> with the appropriate environment variables.</li>\n</ol>\n\n<p>Now, My problem is I don't understand which step correlates to which kerberos action?\nIs it correct to say that after the login action I only have a TGT? When do I get the service specific ticket?</p>\n\n<p>Thanks,\nDikla</p>\n"},{"tags":["java","annotation-processing"],"comments":[{"owner":{"account_id":8412094,"reputation":131,"user_id":6313636,"display_name":"wolfenblut"},"score":1,"creation_date":1664308537,"post_id":73873113,"comment_id":130440905,"body_markdown":"If you explain why you need to access all of those classes, we can help you in a better fashion. Also, do you create these classes or someone else uses these classes? Are you able to add some annotations to these classes?","body":"If you explain why you need to access all of those classes, we can help you in a better fashion. Also, do you create these classes or someone else uses these classes? Are you able to add some annotations to these classes?"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664308778,"post_id":73873113,"comment_id":130440967,"body_markdown":"an annotation processor needs annotated types to find what it should process, once you have an element, I think you need to get to https://docs.oracle.com/javase/9/docs/api/javax/lang/model/element/TypeElement.html#getInterfaces-- to check what interfaces are implemented and filter","body":"an annotation processor needs annotated types to find what it should process, once you have an element, I think you need to get to <a href=\"https://docs.oracle.com/javase/9/docs/api/javax/lang/model/element/TypeElement.html#getInterfaces--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/docs/api/javax/lang/model/element/&hellip;</a> to check what interfaces are implemented and filter"},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1664308886,"post_id":73873113,"comment_id":130441014,"body_markdown":"@wolfenblut This classes already exist but I cannot edit them in any way.","body":"@wolfenblut This classes already exist but I cannot edit them in any way."},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1664308930,"post_id":73873113,"comment_id":130441031,"body_markdown":"@zapl Yes I&#39;m able to get the classes that have an annotation but these ones don&#39;t have one, but the ones that have need this ones.","body":"@zapl Yes I&#39;m able to get the classes that have an annotation but these ones don&#39;t have one, but the ones that have need this ones."},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664309791,"post_id":73873113,"comment_id":130441266,"body_markdown":"An annotation processor can&#39;t find classes that are not annotated as far as I&#39;m aware. The compiler during compilation provides only those classes that have an annotation you are interested in. Maybe it&#39;s the wrong tool for the job. Postprocessing compiled java bytecode (statically or from within a classloader) could work but that gets even more complicated and fragile than annotation processors. Isn&#39;t there maybe a simpler solution to the problem you are trying to solve? Maybe cheat by extending those classes and put an annotation on them.","body":"An annotation processor can&#39;t find classes that are not annotated as far as I&#39;m aware. The compiler during compilation provides only those classes that have an annotation you are interested in. Maybe it&#39;s the wrong tool for the job. Postprocessing compiled java bytecode (statically or from within a classloader) could work but that gets even more complicated and fragile than annotation processors. Isn&#39;t there maybe a simpler solution to the problem you are trying to solve? Maybe cheat by extending those classes and put an annotation on them."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1664310122,"post_id":73873113,"comment_id":130441348,"body_markdown":"You can’t.  You’re not supposed to.  Java classes are loaded dynamically, so you can’t ever know “all classes” for any qualification, except service providers.  Perhaps you should describe why you believe you need this;  there’s probably a better way to accomplish what you want.","body":"You can’t.  You’re not supposed to.  Java classes are loaded dynamically, so you can’t ever know “all classes” for any qualification, except service providers.  Perhaps you should describe why you believe you need this;  there’s probably a better way to accomplish what you want."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664317827,"creation_date":1664317827,"answer_id":73874385,"question_id":73873113,"body_markdown":"Depends on your definition of &#39;all classes that implement an interface&#39;.\r\n\r\n## Just the ones that are being compiled right now\r\n\r\nThis is trickier than it looks like. Compilation is often _incremental_, meaning, even if you run a build that says &#39;compile everything&#39;, only those source files that actually need to be recompiled (because their source file has a more recent modification timestamp than the class files that spin off from it and it doesn&#39;t reference anything from sources that are marked for recompilation). So, &#39;being compiled right now&#39; is a smaller batch of files than you think.\r\n\r\nTo do this, it&#39;s easy. First, register yourself for the annotation `&quot;*&quot;`, which means, you want to trigger on every source file, annotated or not: `@SupportedAnnotationTypes(&quot;*&quot;)`.\r\n\r\nNext, in your `process` method, you can ask the `RoundEnv` for all classes. Go through them, check what interfaces they implement, and process everything that implements what you wanted.\r\n\r\n## Everything from my project\r\n\r\nThis is impossible. Classpath as a concept doesn&#39;t have a &#39;list&#39; abstraction, therefore, you can&#39;t just &#39;get everything that implements X&#39;.\r\n\r\nWhat you _can_ do, is spit out a textfile as part of your annotation processing, which lists the source file of everything that is relevant. You can then use the Filer during the final round (where `process` is called with a `roundEnv` indicating it is the final one) to read this text file (the classpath _does_ have the concept of &#39;give me the resource named FOO&#39;), then you ask the filer for each of the source (or class, whatever way you want to go) file and check if they still exist. If yes, then at least you know it hasn&#39;t changed at all. If it doesn&#39;t, then the programmer deleted it and you should act accordingly.\r\n\r\nThis is somewhat complicated and I&#39;m not aware of any frameworks. You&#39;ll have to build it yourself.\r\n\r\n## All classes anywhere on any machine anywhere in time or space.\r\n\r\nYeah, well. Not possible, duh.\r\n\r\n\r\n","title":"Get all classes that implement interface","body":"<p>Depends on your definition of 'all classes that implement an interface'.</p>\n<h2>Just the ones that are being compiled right now</h2>\n<p>This is trickier than it looks like. Compilation is often <em>incremental</em>, meaning, even if you run a build that says 'compile everything', only those source files that actually need to be recompiled (because their source file has a more recent modification timestamp than the class files that spin off from it and it doesn't reference anything from sources that are marked for recompilation). So, 'being compiled right now' is a smaller batch of files than you think.</p>\n<p>To do this, it's easy. First, register yourself for the annotation <code>&quot;*&quot;</code>, which means, you want to trigger on every source file, annotated or not: <code>@SupportedAnnotationTypes(&quot;*&quot;)</code>.</p>\n<p>Next, in your <code>process</code> method, you can ask the <code>RoundEnv</code> for all classes. Go through them, check what interfaces they implement, and process everything that implements what you wanted.</p>\n<h2>Everything from my project</h2>\n<p>This is impossible. Classpath as a concept doesn't have a 'list' abstraction, therefore, you can't just 'get everything that implements X'.</p>\n<p>What you <em>can</em> do, is spit out a textfile as part of your annotation processing, which lists the source file of everything that is relevant. You can then use the Filer during the final round (where <code>process</code> is called with a <code>roundEnv</code> indicating it is the final one) to read this text file (the classpath <em>does</em> have the concept of 'give me the resource named FOO'), then you ask the filer for each of the source (or class, whatever way you want to go) file and check if they still exist. If yes, then at least you know it hasn't changed at all. If it doesn't, then the programmer deleted it and you should act accordingly.</p>\n<p>This is somewhat complicated and I'm not aware of any frameworks. You'll have to build it yourself.</p>\n<h2>All classes anywhere on any machine anywhere in time or space.</h2>\n<p>Yeah, well. Not possible, duh.</p>\n"}],"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":73874385,"answer_count":1,"score":-2,"last_activity_date":1664317827,"creation_date":1664308239,"question_id":73873113,"body_markdown":"I&#39;m implementing an annotation processor that needs all classes that implement an interface.\r\n\r\nThe main issue is that these classes can be anywhere, so there isn&#39;t an easy way to get them.\r\n\r\nI cannot edit this classes in any way.\r\n\r\nI need to get this classes to generate a Map.\r\n\r\nHow can I achieve this?\r\n\r\nThanks","title":"Get all classes that implement interface","body":"<p>I'm implementing an annotation processor that needs all classes that implement an interface.</p>\n<p>The main issue is that these classes can be anywhere, so there isn't an easy way to get them.</p>\n<p>I cannot edit this classes in any way.</p>\n<p>I need to get this classes to generate a Map.</p>\n<p>How can I achieve this?</p>\n<p>Thanks</p>\n"},{"tags":["java","json","dictionary","data-structures","dataset"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1664292061,"post_id":73868777,"comment_id":130435587,"body_markdown":"Create a tree, fill items in the tree according to their level, print the tree. What do you have so far?","body":"Create a tree, fill items in the tree according to their level, print the tree. What do you have so far?"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1664292839,"post_id":73868777,"comment_id":130435903,"body_markdown":"Also you&#39;re missing information here. How can you tell if `Item4` is a child of `Item3` and not a child of `Item2` ?  Or `Item8` is a child of `Item7` but not of `Item2` and `Item3` (which are also level 2 elements? )","body":"Also you&#39;re missing information here. How can you tell if <code>Item4</code> is a child of <code>Item3</code> and not a child of <code>Item2</code> ?  Or <code>Item8</code> is a child of <code>Item7</code> but not of <code>Item2</code> and <code>Item3</code> (which are also level 2 elements? )"}],"answers":[{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664317717,"creation_date":1664317717,"answer_id":73874369,"question_id":73868777,"body_markdown":"### Logic\r\n\r\n- Iterate all the elements\r\n- Figure out the list where they belong to\r\n- Add them to that list\r\n- Mark the node as the list for the next level\r\n- Repeat\r\n\r\n\r\n### Details\r\n\r\nTo keep track of the list where a node will go, you can create a map `level -&gt; list`\r\n```\r\nvar map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\r\n```\r\n\r\nThen get the list for the current level and add the node \r\n\r\n```\r\nvar list = map.get(node.level());\r\nlist.add(node);\r\n```\r\n\r\nFinally, and the most important part, add that node&#39;s list as the list where the next level will go\r\n\r\nSo, then you add `item1`, all the nodes with level 2 will go in its list.\r\n\r\nWhen you add `item6` (which is also level 1) you will be replacing the place where level 2 go now (e.g. `item7`)\r\n\r\n```\r\nmap.put(node.level() + 1, node.list());\r\n```\r\n\r\n\r\nSo, putting all together it looks like this: \r\n\r\n```java\r\n    var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\r\n    map.put(1, new ArrayList&lt;&gt;());\r\n    for (var node: input) {\r\n      var list = map.get(node.level());\r\n      list.add(node);\r\n      map.put(node.level() + 1, node.list());\r\n    }\r\n```\r\n\r\n### Standalone Example\r\n\r\n```\r\nimport java.util.*;\r\n\r\n\r\nclass Main {\r\n\r\n  public static void main(String ... args) {\r\n    var input = Arrays.asList(\r\n          node(&quot;1&quot;, &quot;1&quot;,  &quot;Item1&quot;),\r\n          node(&quot;2&quot;, &quot;2&quot;,  &quot;Item2&quot;),\r\n          node(&quot;3&quot;, &quot;2&quot;,  &quot;Item3&quot;),\r\n          node(&quot;4&quot;, &quot;3&quot;,  &quot;Item4&quot;),\r\n          node(&quot;5&quot;, &quot;2&quot;,  &quot;Item5&quot;),\r\n          node(&quot;6&quot;, &quot;1&quot;,  &quot;Item6&quot;),\r\n          node(&quot;7&quot;, &quot;2&quot;,  &quot;Item7&quot;),\r\n          node(&quot;8&quot;, &quot;3&quot;,  &quot;Item8&quot;),\r\n          node(&quot;9&quot;, &quot;4&quot;,  &quot;Item9&quot;)\r\n    );\r\n    var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\r\n    map.put(1, new ArrayList&lt;&gt;()); // for top level\r\n    for (var node: input) {\r\n      var list = map.get(node.level());\r\n      list.add(node);\r\n      map.put(node.level() + 1, node.list());\r\n    }\r\n    System.out.println(map.get(1)); \r\n  }\r\n  static record Node(String id, int level, String name, List&lt;Node&gt; list){}\r\n  static Node node(String id, String level, String name) {\r\n    return new Node(id, Integer.valueOf(level), name, new ArrayList&lt;&gt;());\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\n```\r\nOutput: \r\n```\r\n[\r\n  Node[id=1, level=1, name=Item1, list=[\r\n    Node[id=2, level=2, name=Item2, list=[]],\r\n    Node[id=3, level=2, name=Item3, list=[\r\n      Node[id=4, level=3, name=Item4, list=[]]\r\n    ]],\r\n    Node[id=5, level=2, name=Item5, list=[]]]\r\n  ],\r\n  Node[id=6, level=1, name=Item6, list=[\r\n    Node[id=7, level=2, name=Item7, list=[\r\n      Node[id=8, level=3, name=Item8, list=[\r\n        Node[id=9, level=4, name=Item9, list=[]]\r\n      ]]\r\n    ]]\r\n  ]]\r\n]\r\n```\r\n\r\nFrom there you can walk the elements and transform it to JSON.","title":"Leveled List to JSON (JAVA)","body":"<h3>Logic</h3>\n<ul>\n<li>Iterate all the elements</li>\n<li>Figure out the list where they belong to</li>\n<li>Add them to that list</li>\n<li>Mark the node as the list for the next level</li>\n<li>Repeat</li>\n</ul>\n<h3>Details</h3>\n<p>To keep track of the list where a node will go, you can create a map <code>level -&gt; list</code></p>\n<pre><code>var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\n</code></pre>\n<p>Then get the list for the current level and add the node</p>\n<pre><code>var list = map.get(node.level());\nlist.add(node);\n</code></pre>\n<p>Finally, and the most important part, add that node's list as the list where the next level will go</p>\n<p>So, then you add <code>item1</code>, all the nodes with level 2 will go in its list.</p>\n<p>When you add <code>item6</code> (which is also level 1) you will be replacing the place where level 2 go now (e.g. <code>item7</code>)</p>\n<pre><code>map.put(node.level() + 1, node.list());\n</code></pre>\n<p>So, putting all together it looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\n    map.put(1, new ArrayList&lt;&gt;());\n    for (var node: input) {\n      var list = map.get(node.level());\n      list.add(node);\n      map.put(node.level() + 1, node.list());\n    }\n</code></pre>\n<h3>Standalone Example</h3>\n<pre><code>import java.util.*;\n\n\nclass Main {\n\n  public static void main(String ... args) {\n    var input = Arrays.asList(\n          node(&quot;1&quot;, &quot;1&quot;,  &quot;Item1&quot;),\n          node(&quot;2&quot;, &quot;2&quot;,  &quot;Item2&quot;),\n          node(&quot;3&quot;, &quot;2&quot;,  &quot;Item3&quot;),\n          node(&quot;4&quot;, &quot;3&quot;,  &quot;Item4&quot;),\n          node(&quot;5&quot;, &quot;2&quot;,  &quot;Item5&quot;),\n          node(&quot;6&quot;, &quot;1&quot;,  &quot;Item6&quot;),\n          node(&quot;7&quot;, &quot;2&quot;,  &quot;Item7&quot;),\n          node(&quot;8&quot;, &quot;3&quot;,  &quot;Item8&quot;),\n          node(&quot;9&quot;, &quot;4&quot;,  &quot;Item9&quot;)\n    );\n    var map = new HashMap&lt;Integer, List&lt;Node&gt;&gt;();\n    map.put(1, new ArrayList&lt;&gt;()); // for top level\n    for (var node: input) {\n      var list = map.get(node.level());\n      list.add(node);\n      map.put(node.level() + 1, node.list());\n    }\n    System.out.println(map.get(1)); \n  }\n  static record Node(String id, int level, String name, List&lt;Node&gt; list){}\n  static Node node(String id, String level, String name) {\n    return new Node(id, Integer.valueOf(level), name, new ArrayList&lt;&gt;());\n  }\n\n}\n\n\n\n</code></pre>\n<p>Output:</p>\n<pre><code>[\n  Node[id=1, level=1, name=Item1, list=[\n    Node[id=2, level=2, name=Item2, list=[]],\n    Node[id=3, level=2, name=Item3, list=[\n      Node[id=4, level=3, name=Item4, list=[]]\n    ]],\n    Node[id=5, level=2, name=Item5, list=[]]]\n  ],\n  Node[id=6, level=1, name=Item6, list=[\n    Node[id=7, level=2, name=Item7, list=[\n      Node[id=8, level=3, name=Item8, list=[\n        Node[id=9, level=4, name=Item9, list=[]]\n      ]]\n    ]]\n  ]]\n]\n</code></pre>\n<p>From there you can walk the elements and transform it to JSON.</p>\n"}],"owner":{"account_id":17302469,"reputation":403,"user_id":12531920,"display_name":"Cesar Lopes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664317717,"creation_date":1664286616,"question_id":73868777,"body_markdown":"I&#39;m working with an API that retrievies data from a level structure dataset.\r\nIn the WebSite it shows a Json structure like this:\r\n\r\n    - Item1\r\n        - Item2\r\n        - Item3\r\n            - Item4\r\n        - Item5\r\n    - Item6\r\n        - Item7\r\n            - Item8\r\n                - Item9\r\n    ...\r\n\r\nThe problem is that when I retrieve the data from the API, it comes in a txt file with each element displayed in lines like this (I think that is because they are working with SQL): \r\n\r\n    id:&quot;1&quot;, Level:&quot;1&quot;, name: &quot;Item1&quot;\r\n    id:&quot;2&quot;, Level:&quot;2&quot;, name: &quot;Item2&quot;\r\n    id:&quot;3&quot;, Level:&quot;2&quot;, name: &quot;Item3&quot;\r\n    id:&quot;4&quot;, Level:&quot;3&quot;, name: &quot;Item4&quot;\r\n    id:&quot;5&quot;, Level:&quot;2&quot;, name: &quot;Item5&quot;\r\n    id:&quot;6&quot;, Level:&quot;1&quot;, name: &quot;Item6&quot;\r\n    id:&quot;7&quot;, Level:&quot;2&quot;, name: &quot;Item7&quot;\r\n    id:&quot;8&quot;, Level:&quot;3&quot;, name: &quot;Item8&quot;\r\n    id:&quot;9&quot;, Level:&quot;4&quot;, name: &quot;Item9&quot;\r\n    ...\r\n\r\nRight now I&#39;m converting each line to an object and storing all of them in a Map, with the id as a key. But I&#39;d like to convert this to a JSON to make it easier to see and program the level structure. The problem is that I can&#39;t know for sure how many levels there will be and how many elements there will be in each level. Can someone please help me with that?\r\n","title":"Leveled List to JSON (JAVA)","body":"<p>I'm working with an API that retrievies data from a level structure dataset.\nIn the WebSite it shows a Json structure like this:</p>\n<pre><code>- Item1\n    - Item2\n    - Item3\n        - Item4\n    - Item5\n- Item6\n    - Item7\n        - Item8\n            - Item9\n...\n</code></pre>\n<p>The problem is that when I retrieve the data from the API, it comes in a txt file with each element displayed in lines like this (I think that is because they are working with SQL):</p>\n<pre><code>id:&quot;1&quot;, Level:&quot;1&quot;, name: &quot;Item1&quot;\nid:&quot;2&quot;, Level:&quot;2&quot;, name: &quot;Item2&quot;\nid:&quot;3&quot;, Level:&quot;2&quot;, name: &quot;Item3&quot;\nid:&quot;4&quot;, Level:&quot;3&quot;, name: &quot;Item4&quot;\nid:&quot;5&quot;, Level:&quot;2&quot;, name: &quot;Item5&quot;\nid:&quot;6&quot;, Level:&quot;1&quot;, name: &quot;Item6&quot;\nid:&quot;7&quot;, Level:&quot;2&quot;, name: &quot;Item7&quot;\nid:&quot;8&quot;, Level:&quot;3&quot;, name: &quot;Item8&quot;\nid:&quot;9&quot;, Level:&quot;4&quot;, name: &quot;Item9&quot;\n...\n</code></pre>\n<p>Right now I'm converting each line to an object and storing all of them in a Map, with the id as a key. But I'd like to convert this to a JSON to make it easier to see and program the level structure. The problem is that I can't know for sure how many levels there will be and how many elements there will be in each level. Can someone please help me with that?</p>\n"},{"tags":["java","artifactory"],"answers":[{"tags":[],"owner":{"account_id":47032,"reputation":1768,"user_id":139163,"accept_rate":64,"display_name":"videoguy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664317281,"creation_date":1664317281,"answer_id":73874323,"question_id":72091329,"body_markdown":"Below is modified version that gave me sorted list.\r\n\r\n\r\n    public static List&lt;String&gt; listChildren(RepositoryHandle aRepo, String folder, FileFilter filter)\r\n        {\r\n            List&lt;String&gt; children = null;\r\n            \r\n            if (null == aRepo || null == folder || folder.length() &lt;= 0)\r\n                return null;\r\n            try\r\n            {\r\n                folder = FilenameUtils.normalizeNoEndSeparator(folder, true);\r\n                ItemHandle folderItem = aRepo.folder(folder);\r\n                Folder folderInfo = folderItem.info();\r\n                List&lt;Item&gt; itemChildren = folderInfo.getChildren();\r\n                if (null == itemChildren)\r\n                    return null;\r\n                List&lt;org.jfrog.artifactory.client.model.File&gt; itemExtChildren = new ArrayList&lt;&gt;();\r\n                for(Item curItem: itemChildren)\r\n                {\r\n                    ItemHandle hItem = aRepo.file(folder+curItem.getUri());\r\n                    if (null == hItem)\r\n                        continue;\r\n                    org.jfrog.artifactory.client.model.File aFile = hItem.info();\r\n                    itemExtChildren.add(aFile);\r\n                }\r\n                Collections.sort(itemExtChildren, (org.jfrog.artifactory.client.model.File f1, org.jfrog.artifactory.client.model.File f2) -&gt; \r\n                                                  f1.getLastModified().compareTo(f2.getLastModified()));\r\n                children = new ArrayList&lt;&gt;(itemChildren.size());\r\n                String name;\r\n                for(Item curItem: itemExtChildren)\r\n                {\r\n                    name = curItem.getName();\r\n                    if (null != name)\r\n                    {\r\n                        if (null == filter ||\r\n                            filter.accept(new File(name)))\r\n                            children.add(name);\r\n                    }\r\n                } \r\n            }\r\n            catch (Throwable ex)\r\n            {\r\n            }\r\n            return children;\r\n        }\r\n\r\n","title":"How to get file list of an Artifactory folder sorted by last modified stamp from Java client","body":"<p>Below is modified version that gave me sorted list.</p>\n<pre><code>public static List&lt;String&gt; listChildren(RepositoryHandle aRepo, String folder, FileFilter filter)\n    {\n        List&lt;String&gt; children = null;\n        \n        if (null == aRepo || null == folder || folder.length() &lt;= 0)\n            return null;\n        try\n        {\n            folder = FilenameUtils.normalizeNoEndSeparator(folder, true);\n            ItemHandle folderItem = aRepo.folder(folder);\n            Folder folderInfo = folderItem.info();\n            List&lt;Item&gt; itemChildren = folderInfo.getChildren();\n            if (null == itemChildren)\n                return null;\n            List&lt;org.jfrog.artifactory.client.model.File&gt; itemExtChildren = new ArrayList&lt;&gt;();\n            for(Item curItem: itemChildren)\n            {\n                ItemHandle hItem = aRepo.file(folder+curItem.getUri());\n                if (null == hItem)\n                    continue;\n                org.jfrog.artifactory.client.model.File aFile = hItem.info();\n                itemExtChildren.add(aFile);\n            }\n            Collections.sort(itemExtChildren, (org.jfrog.artifactory.client.model.File f1, org.jfrog.artifactory.client.model.File f2) -&gt; \n                                              f1.getLastModified().compareTo(f2.getLastModified()));\n            children = new ArrayList&lt;&gt;(itemChildren.size());\n            String name;\n            for(Item curItem: itemExtChildren)\n            {\n                name = curItem.getName();\n                if (null != name)\n                {\n                    if (null == filter ||\n                        filter.accept(new File(name)))\n                        children.add(name);\n                }\n            } \n        }\n        catch (Throwable ex)\n        {\n        }\n        return children;\n    }\n</code></pre>\n"}],"owner":{"account_id":47032,"reputation":1768,"user_id":139163,"accept_rate":64,"display_name":"videoguy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73874323,"answer_count":1,"score":0,"last_activity_date":1664317281,"creation_date":1651518964,"question_id":72091329,"body_markdown":"I am trying to get last modified time stamp on Artifactory file item, but it is coming as null.\r\nWhat am I doing wrong with this function?\r\n\r\n```\r\n    public static List&lt;File&gt; listChildren(RepositoryHandle aRepo, String folder, FileFilter filter)\r\n    {\r\n        List&lt;File&gt; children = null;\r\n        \r\n        if (null == aRepo || null == folder || folder.length() &lt;= 0)\r\n            return null;\r\n        try\r\n        {\r\n            folder = FilenameUtils.normalizeNoEndSeparator(folder, true);\r\n            ItemHandle folderItem = aRepo.folder(folder);\r\n            Folder folderInfo = folderItem.info();\r\n            List&lt;Item&gt; itemChildren = folderInfo.getChildren();\r\n            if (null == itemChildren)\r\n                return null;\r\n            children = new ArrayList&lt;&gt;(itemChildren.size());\r\n            String name;\r\n            File fileItem;\r\n            for(Item curItem: itemChildren)\r\n            {\r\n                \r\n                fileItem = new File(curItem.getUri());\r\n                Date timeStamp = curItem.getLastModified(); // This is coming as null\r\n                fileItem.setLastModified(curItem.getLastModified().getTime());\r\n                name = fileItem.getName();\r\n                if (null != name)\r\n                {\r\n                    if (null == filter ||\r\n                        filter.accept(fileItem))\r\n                        children.add(fileItem);\r\n                }\r\n            } \r\n            // Sort the list by last modified stamp so that the oldest is at the front\r\n            Collections.sort(children, Comparator.comparingLong(File::lastModified));\r\n        }\r\n        catch (Throwable ex)\r\n        {\r\n            ex.printStackTrace();\r\n        }\r\n        return children;\r\n    }\r\n```","title":"How to get file list of an Artifactory folder sorted by last modified stamp from Java client","body":"<p>I am trying to get last modified time stamp on Artifactory file item, but it is coming as null.\nWhat am I doing wrong with this function?</p>\n<pre><code>    public static List&lt;File&gt; listChildren(RepositoryHandle aRepo, String folder, FileFilter filter)\n    {\n        List&lt;File&gt; children = null;\n        \n        if (null == aRepo || null == folder || folder.length() &lt;= 0)\n            return null;\n        try\n        {\n            folder = FilenameUtils.normalizeNoEndSeparator(folder, true);\n            ItemHandle folderItem = aRepo.folder(folder);\n            Folder folderInfo = folderItem.info();\n            List&lt;Item&gt; itemChildren = folderInfo.getChildren();\n            if (null == itemChildren)\n                return null;\n            children = new ArrayList&lt;&gt;(itemChildren.size());\n            String name;\n            File fileItem;\n            for(Item curItem: itemChildren)\n            {\n                \n                fileItem = new File(curItem.getUri());\n                Date timeStamp = curItem.getLastModified(); // This is coming as null\n                fileItem.setLastModified(curItem.getLastModified().getTime());\n                name = fileItem.getName();\n                if (null != name)\n                {\n                    if (null == filter ||\n                        filter.accept(fileItem))\n                        children.add(fileItem);\n                }\n            } \n            // Sort the list by last modified stamp so that the oldest is at the front\n            Collections.sort(children, Comparator.comparingLong(File::lastModified));\n        }\n        catch (Throwable ex)\n        {\n            ex.printStackTrace();\n        }\n        return children;\n    }\n</code></pre>\n"},{"tags":["java","tuples"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":5,"creation_date":1664315920,"post_id":73874172,"comment_id":130442792,"body_markdown":"What&#39;s stopping your from writing your own Tuple with your own definition of what `equals` means? That method is one line of code. The `hashCode` method that you need to use it as your `Map`&#39;s key should be equally easy to write.","body":"What&#39;s stopping your from writing your own Tuple with your own definition of what <code>equals</code> means? That method is one line of code. The <code>hashCode</code> method that you need to use it as your <code>Map</code>&#39;s key should be equally easy to write."},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1664316287,"post_id":73874172,"comment_id":130442868,"body_markdown":"How about representing your tuple as a set of two elements?","body":"How about representing your tuple as a set of two elements?"},{"owner":{"account_id":1324943,"reputation":150,"user_id":1269992,"display_name":"Brian Michalk"},"score":0,"creation_date":1664316761,"post_id":73874172,"comment_id":130442950,"body_markdown":"I am currently writing my own implementation, but after thinking about it, I thought someone else would have a library that does this.  I just don&#39;t like reinventing the wheel.","body":"I am currently writing my own implementation, but after thinking about it, I thought someone else would have a library that does this.  I just don&#39;t like reinventing the wheel."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1664316815,"post_id":73874172,"comment_id":130442959,"body_markdown":"To ask for a library, use [Software Recommendations Stack Exchange](https://softwarerecs.stackexchange.com/), not Stack Overflow. Explicitly off-topic here.","body":"To ask for a library, use <a href=\"https://softwarerecs.stackexchange.com/\">Software Recommendations Stack Exchange</a>, not Stack Overflow. Explicitly off-topic here."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1664317064,"post_id":73874172,"comment_id":130443006,"body_markdown":"By the way, a couple of tips: (a) You can override `equals`/`hashCode` on a [`record`](https://openjdk.org/jeps/395), and implement `Comparable` there too. (b) Check *Google Guava* and *Eclipse Collections* for something that might do what you want (I&#39;ve no idea if they do).","body":"By the way, a couple of tips: (a) You can override <code>equals</code>/<code>hashCode</code> on a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\"><code>record</code></a>, and implement <code>Comparable</code> there too. (b) Check <i>Google Guava</i> and <i>Eclipse Collections</i> for something that might do what you want (I&#39;ve no idea if they do)."}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664317149,"creation_date":1664317149,"answer_id":73874309,"question_id":73874172,"body_markdown":"As suggested, if you really wanted to you could use a `Set`, but much nicer to write your own, especially if you need to preserve the order of your two elements.\r\n```java\r\npublic class Eg {\r\n\r\n    public static void main(String[] args) {\r\n        Set&lt;String&gt; ab = new LinkedHashSet&lt;String&gt;(List.of(&quot;A&quot;, &quot;B&quot;));\r\n        Set&lt;String&gt; ba = new LinkedHashSet&lt;String&gt;(List.of(&quot;B&quot;, &quot;A&quot;));\r\n\r\n        System.out.println(ab.equals(ba));\r\n        System.out.println(ba.equals(ab));\r\n        System.out.println(ab.stream().findFirst().get());\r\n        System.out.println(ab.stream().skip(1).findFirst().get());\r\n        System.out.println(ba.stream().findFirst().get());\r\n        System.out.println(ba.stream().skip(1).findFirst().get());\r\n\r\n        MyTuple&lt;String&gt; mab = new MyTuple&lt;&gt;(&quot;A&quot;, &quot;B&quot;);\r\n        MyTuple&lt;String&gt; mba = new MyTuple&lt;&gt;(&quot;B&quot;, &quot;A&quot;);\r\n        System.out.println(mab.equals(mba));\r\n        System.out.println(mba.equals(mab));\r\n    }\r\n\r\n    public record MyTuple&lt;T&gt;(T first, T second) {\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            return o instanceof MyTuple&lt;?&gt; other &amp;&amp;\r\n                    ((other.first.equals(first) &amp;&amp; other.second.equals(second)) ||\r\n                            (other.first.equals(second) &amp;&amp; other.second.equals(first)));\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(first, second);\r\n        }\r\n    }\r\n}\r\n```","title":"Java datatype that is symmetric pair?","body":"<p>As suggested, if you really wanted to you could use a <code>Set</code>, but much nicer to write your own, especially if you need to preserve the order of your two elements.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Eg {\n\n    public static void main(String[] args) {\n        Set&lt;String&gt; ab = new LinkedHashSet&lt;String&gt;(List.of(&quot;A&quot;, &quot;B&quot;));\n        Set&lt;String&gt; ba = new LinkedHashSet&lt;String&gt;(List.of(&quot;B&quot;, &quot;A&quot;));\n\n        System.out.println(ab.equals(ba));\n        System.out.println(ba.equals(ab));\n        System.out.println(ab.stream().findFirst().get());\n        System.out.println(ab.stream().skip(1).findFirst().get());\n        System.out.println(ba.stream().findFirst().get());\n        System.out.println(ba.stream().skip(1).findFirst().get());\n\n        MyTuple&lt;String&gt; mab = new MyTuple&lt;&gt;(&quot;A&quot;, &quot;B&quot;);\n        MyTuple&lt;String&gt; mba = new MyTuple&lt;&gt;(&quot;B&quot;, &quot;A&quot;);\n        System.out.println(mab.equals(mba));\n        System.out.println(mba.equals(mab));\n    }\n\n    public record MyTuple&lt;T&gt;(T first, T second) {\n        @Override\n        public boolean equals(Object o) {\n            return o instanceof MyTuple&lt;?&gt; other &amp;&amp;\n                    ((other.first.equals(first) &amp;&amp; other.second.equals(second)) ||\n                            (other.first.equals(second) &amp;&amp; other.second.equals(first)));\n        }\n\n        @Override\n        public int hashCode() {\n            return Objects.hash(first, second);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1324943,"reputation":150,"user_id":1269992,"display_name":"Brian Michalk"},"comment_count":5,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1664319801,"answer_count":1,"score":0,"last_activity_date":1664317149,"creation_date":1664315682,"question_id":73874172,"body_markdown":"I would like to pre-calculate a similarity score of a group of elements.\r\nSo if the group has three elements, A, B, C, then there are scores for similarity:\r\nA,B: score1\r\nA,C: score2\r\nB,C: score3\r\nC,B: score3\r\n\r\nThe relationship is symmetric, so f(B,A) is the same as f(A,B).  I would like to do something like: HashMap&lt;Pair&lt;&gt;, Score&gt;, but so far of the tuple classes I have looked at, f(B,A).equals(f(A,B)) does not hold.\r\n\r\nIs there a Pair tuples implementation where Pair(A,B) == Pair(B,A)?","title":"Java datatype that is symmetric pair?","body":"<p>I would like to pre-calculate a similarity score of a group of elements.\nSo if the group has three elements, A, B, C, then there are scores for similarity:\nA,B: score1\nA,C: score2\nB,C: score3\nC,B: score3</p>\n<p>The relationship is symmetric, so f(B,A) is the same as f(A,B).  I would like to do something like: HashMap&lt;Pair&lt;&gt;, Score&gt;, but so far of the tuple classes I have looked at, f(B,A).equals(f(A,B)) does not hold.</p>\n<p>Is there a Pair tuples implementation where Pair(A,B) == Pair(B,A)?</p>\n"},{"tags":["java","javafx","canvas"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1664296602,"post_id":73870876,"comment_id":130437278,"body_markdown":"Create and post a [mre] demonstrating the issue. You might be able to solve this by setting a transform on the graphics context, or perhaps by setting appropriate stroke attributes (such as line cap).","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the issue. You might be able to solve this by setting a transform on the graphics context, or perhaps by setting appropriate stroke attributes (such as line cap)."},{"owner":{"account_id":26460680,"reputation":57,"user_id":20102671,"display_name":"Yubi"},"score":0,"creation_date":1664298222,"post_id":73870876,"comment_id":130437802,"body_markdown":"@James_D I added the example","body":"@James_D I added the example"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664298245,"post_id":73870876,"comment_id":130437816,"body_markdown":"That&#39;s not a [mre]. Can you create and post one?","body":"That&#39;s not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Can you create and post one?"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664298380,"post_id":73870876,"comment_id":130437857,"body_markdown":"Also, it looks like you are modifying the canvas from a background thread. This is not allowed (see [documentation](https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/canvas/GraphicsContext.html)). Use the animation API if you want to animate something.","body":"Also, it looks like you are modifying the canvas from a background thread. This is not allowed (see <a href=\"https://openjfx.io/javadoc/18/javafx.graphics/javafx/scene/canvas/GraphicsContext.html\" rel=\"nofollow noreferrer\">documentation</a>). Use the animation API if you want to animate something."},{"owner":{"account_id":26460680,"reputation":57,"user_id":20102671,"display_name":"Yubi"},"score":0,"creation_date":1664300282,"post_id":73870876,"comment_id":130438462,"body_markdown":"Oh Sorry. I made a mistake reading the Task documentation saying something about FX Application Thread. Do you have a fix for this?\n\nI added the minimal reproducible example. Hope this is fine now. It should show the issue at the top and bottom very clear.\n\nYes I know that I should use animation API for stuff like this but its my task in school to do it like that.","body":"Oh Sorry. I made a mistake reading the Task documentation saying something about FX Application Thread. Do you have a fix for this?  I added the minimal reproducible example. Hope this is fine now. It should show the issue at the top and bottom very clear.  Yes I know that I should use animation API for stuff like this but its my task in school to do it like that."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1664302787,"post_id":73870876,"comment_id":130439243,"body_markdown":"If you have to use a background thread, you should wrap the calls to the `GraphicsContext` in `Platform.runLater(...)`.","body":"If you have to use a background thread, you should wrap the calls to the <code>GraphicsContext</code> in <code>Platform.runLater(...)</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1664306394,"post_id":73870876,"comment_id":130440296,"body_markdown":"And if you don&#39;t have to use a background, but you&#39;d like the graph to be incrementally drawn in front of the user, then use the `javafx.animation` API.","body":"And if you don&#39;t have to use a background, but you&#39;d like the graph to be incrementally drawn in front of the user, then use the <code>javafx.animation</code> API."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1664317118,"post_id":73870876,"comment_id":130443014,"body_markdown":"Unrelated to your question, but you might be interested in some similar plotting questions [Draw Cartesian Plane Graph with canvas in JavaFX](https://stackoverflow.com/questions/24005247/draw-cartesian-plane-graph-with-canvas-in-javafx/24008426#24008426) and [Making a zoomable coordinate system in JavaFX](https://stackoverflow.com/questions/68944897/making-a-zoomable-coordinate-system-in-javafx/68945835#68945835)","body":"Unrelated to your question, but you might be interested in some similar plotting questions <a href=\"https://stackoverflow.com/questions/24005247/draw-cartesian-plane-graph-with-canvas-in-javafx/24008426#24008426\">Draw Cartesian Plane Graph with canvas in JavaFX</a> and <a href=\"https://stackoverflow.com/questions/68944897/making-a-zoomable-coordinate-system-in-javafx/68945835#68945835\">Making a zoomable coordinate system in JavaFX</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664303271,"creation_date":1664303271,"answer_id":73872259,"question_id":73870876,"body_markdown":"One way to add some padding around the area in which you&#39;re drawing, without changing the coordinates you use, is to add a transform to the graphics context. Basically, you first scale the drawing area to make it smaller by ratios `(width-2*padding)/width` and `(height-2*padding)/height` (so the actual drawing area is reduced by a size `2*padding` in each dimension). Then translate by `padding` in each dimension. This looks like:\r\n\r\n    public class HelloApplication extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            Canvas c = new Canvas(715,495);\r\n            GraphicsContext gc = c.getGraphicsContext2D();\r\n            VBox v = new VBox();\r\n            Pane p = new Pane();\r\n            p.getChildren().add(c);\r\n    \r\n    \r\n            Button b1 = new Button(&quot;Draw Sinus at Canvas&quot;);\r\n            b1.setOnAction(e -&gt; drawSinus(c, gc, 10));\r\n    \r\n            v.getChildren().addAll(b1, p);\r\n            Scene sc = new Scene(v);\r\n            stage.setScene(sc);\r\n            stage.setTitle(&quot;Drawing Lines - Dynamically at Runtime&quot;);\r\n            stage.show();\r\n        }\r\n    \r\n    \r\n        private void drawSinus(Canvas c, GraphicsContext gc, double padding) {\r\n    \r\n    \r\n            double height = c.getHeight();\r\n            double width = c.getWidth();\r\n    \r\n            Affine transform = new Affine(Transform.scale((width-2*padding)/width, (height-2*padding)/height));\r\n            transform.appendTranslation(padding, padding);\r\n            gc.setTransform(transform);\r\n    \r\n            double multiplier = (2 * Math.PI)/width;\r\n            double x1 = 0;\r\n            double y1 = height/2;\r\n            double x2 = 1;\r\n            double y2 = 0;\r\n            int i = 0;\r\n            gc.setStroke(Color.BLACK);\r\n            gc.setLineWidth(10);\r\n    \r\n            while(i &lt; width) {\r\n                y2 = (height/2) - ((height/2) * Math.sin(x2 * multiplier));\r\n                gc.strokeLine(x1,y1,x2,y2);\r\n                x1 = x2;\r\n                y1 = y2;\r\n                x2++;\r\n                i++;\r\n            }\r\n    \r\n            // reset transform; may not be necessary depending on actual use case\r\n            gc.setTransform(new Affine());\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    }\r\n\r\nYou need to reset the transform if you want to, e.g., clear the entire canvas, including the padded area.\r\n\r\n","title":"apply padding to canvas in javafx","body":"<p>One way to add some padding around the area in which you're drawing, without changing the coordinates you use, is to add a transform to the graphics context. Basically, you first scale the drawing area to make it smaller by ratios <code>(width-2*padding)/width</code> and <code>(height-2*padding)/height</code> (so the actual drawing area is reduced by a size <code>2*padding</code> in each dimension). Then translate by <code>padding</code> in each dimension. This looks like:</p>\n<pre><code>public class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        Canvas c = new Canvas(715,495);\n        GraphicsContext gc = c.getGraphicsContext2D();\n        VBox v = new VBox();\n        Pane p = new Pane();\n        p.getChildren().add(c);\n\n\n        Button b1 = new Button(&quot;Draw Sinus at Canvas&quot;);\n        b1.setOnAction(e -&gt; drawSinus(c, gc, 10));\n\n        v.getChildren().addAll(b1, p);\n        Scene sc = new Scene(v);\n        stage.setScene(sc);\n        stage.setTitle(&quot;Drawing Lines - Dynamically at Runtime&quot;);\n        stage.show();\n    }\n\n\n    private void drawSinus(Canvas c, GraphicsContext gc, double padding) {\n\n\n        double height = c.getHeight();\n        double width = c.getWidth();\n\n        Affine transform = new Affine(Transform.scale((width-2*padding)/width, (height-2*padding)/height));\n        transform.appendTranslation(padding, padding);\n        gc.setTransform(transform);\n\n        double multiplier = (2 * Math.PI)/width;\n        double x1 = 0;\n        double y1 = height/2;\n        double x2 = 1;\n        double y2 = 0;\n        int i = 0;\n        gc.setStroke(Color.BLACK);\n        gc.setLineWidth(10);\n\n        while(i &lt; width) {\n            y2 = (height/2) - ((height/2) * Math.sin(x2 * multiplier));\n            gc.strokeLine(x1,y1,x2,y2);\n            x1 = x2;\n            y1 = y2;\n            x2++;\n            i++;\n        }\n\n        // reset transform; may not be necessary depending on actual use case\n        gc.setTransform(new Affine());\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>You need to reset the transform if you want to, e.g., clear the entire canvas, including the padded area.</p>\n"},{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664316872,"creation_date":1664316872,"answer_id":73874285,"question_id":73870876,"body_markdown":"Place the canvas a `StackPane` and [set padding on the StackPane](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/Region.html#setPadding(javafx.geometry.Insets)).\r\n\r\n    Canvas canvas = new Canvas(715,495);\r\n    StackPane stackPane = new StackPane(canvas);\r\n    stackPane.setPadding(new Insets(5));\r\n\r\nAdjust canvas and padding sizes as needed for your requirements. ","title":"apply padding to canvas in javafx","body":"<p>Place the canvas a <code>StackPane</code> and <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/layout/Region.html#setPadding(javafx.geometry.Insets)\" rel=\"nofollow noreferrer\">set padding on the StackPane</a>.</p>\n<pre><code>Canvas canvas = new Canvas(715,495);\nStackPane stackPane = new StackPane(canvas);\nstackPane.setPadding(new Insets(5));\n</code></pre>\n<p>Adjust canvas and padding sizes as needed for your requirements.</p>\n"}],"owner":{"account_id":26460680,"reputation":57,"user_id":20102671,"display_name":"Yubi"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73872259,"answer_count":2,"score":2,"last_activity_date":1664316872,"creation_date":1664296037,"question_id":73870876,"body_markdown":"I have to draw a sinus curve in a javafx canvas dot after dot and connect these. But as you can change the width of the line to it sometimes gets cut in width because the line is near the border. So is there a possibility to like make a padding or a border to avoid this? It would be possible to like manipulate the coordinates but tbh I dont want to do that as I think there should be a better solution.\r\n[Picture of the canvas][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lNWi3.png\r\n\r\nEDIT:\r\n\r\nThis is the code example to reproduce it in a javafx project\r\n\r\n```java\r\npublic class HelloApplication extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        Canvas c = new Canvas(715,495);\r\n        GraphicsContext gc = c.getGraphicsContext2D();\r\n        VBox v = new VBox();\r\n        Pane p = new Pane();\r\n        p.getChildren().add(c);\r\n\r\n\r\n        Button b1 = new Button(&quot;Draw Sinus at Canvas&quot;);\r\n        b1.setOnAction(e -&gt; drawSinus(c, gc));\r\n\r\n        v.getChildren().addAll(b1, p);\r\n        Scene sc = new Scene(v);\r\n        stage.setScene(sc);\r\n        stage.setTitle(&quot;Drawing Lines - Dynamically at Runtime&quot;);\r\n        stage.show();\r\n    }\r\n\r\n\r\n    private void drawSinus(Canvas c, GraphicsContext gc) {\r\n        double height = c.getHeight();\r\n        double width = c.getWidth();\r\n        double multiplier = (2 * Math.PI)/width;\r\n        double x1 = 0;\r\n        double y1 = height/2;\r\n        double x2 = 1;\r\n        double y2 = 0;\r\n        int i = 0;\r\n        gc.setStroke(Color.BLACK);\r\n        gc.setLineWidth(10);\r\n\r\n        while(i &lt; width) {\r\n            y2 = (height/2) - ((height/2) * Math.sin(x2 * multiplier));\r\n            gc.strokeLine(x1,y1,x2,y2);\r\n            x1 = x2;\r\n            y1 = y2;\r\n            x2++;\r\n            i++;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}","title":"apply padding to canvas in javafx","body":"<p>I have to draw a sinus curve in a javafx canvas dot after dot and connect these. But as you can change the width of the line to it sometimes gets cut in width because the line is near the border. So is there a possibility to like make a padding or a border to avoid this? It would be possible to like manipulate the coordinates but tbh I dont want to do that as I think there should be a better solution.\n<a href=\"https://i.stack.imgur.com/lNWi3.png\" rel=\"nofollow noreferrer\">Picture of the canvas</a></p>\n<p>EDIT:</p>\n<p>This is the code example to reproduce it in a javafx project</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloApplication extends Application {\n\n    @Override\n    public void start(Stage stage) throws IOException {\n        Canvas c = new Canvas(715,495);\n        GraphicsContext gc = c.getGraphicsContext2D();\n        VBox v = new VBox();\n        Pane p = new Pane();\n        p.getChildren().add(c);\n\n\n        Button b1 = new Button(&quot;Draw Sinus at Canvas&quot;);\n        b1.setOnAction(e -&gt; drawSinus(c, gc));\n\n        v.getChildren().addAll(b1, p);\n        Scene sc = new Scene(v);\n        stage.setScene(sc);\n        stage.setTitle(&quot;Drawing Lines - Dynamically at Runtime&quot;);\n        stage.show();\n    }\n\n\n    private void drawSinus(Canvas c, GraphicsContext gc) {\n        double height = c.getHeight();\n        double width = c.getWidth();\n        double multiplier = (2 * Math.PI)/width;\n        double x1 = 0;\n        double y1 = height/2;\n        double x2 = 1;\n        double y2 = 0;\n        int i = 0;\n        gc.setStroke(Color.BLACK);\n        gc.setLineWidth(10);\n\n        while(i &lt; width) {\n            y2 = (height/2) - ((height/2) * Math.sin(x2 * multiplier));\n            gc.strokeLine(x1,y1,x2,y2);\n            x1 = x2;\n            y1 = y2;\n            x2++;\n            i++;\n        }\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user11044402"},"score":5,"creation_date":1565506735,"post_id":57447896,"comment_id":101371519,"body_markdown":"The text `SOME JSON TEXT HERE` is encoded identical in both UTF-8 and ASCII. Show us your *real* input and the result.","body":"The text <code>SOME JSON TEXT HERE</code> is encoded identical in both UTF-8 and ASCII. Show us your <i>real</i> input and the result."},{"owner":{"account_id":9476001,"reputation":667,"user_id":7045339,"display_name":"SuperAadi"},"score":0,"creation_date":1565506946,"post_id":57447896,"comment_id":101371546,"body_markdown":"Does notepad auto detect the encoding?","body":"Does notepad auto detect the encoding?"},{"owner":{"account_id":14247473,"reputation":1113,"user_id":10292075,"display_name":"Yoshikage Kira"},"score":0,"creation_date":1565507054,"post_id":57447896,"comment_id":101371558,"body_markdown":"I think it is your notepad issue (Maybe it is default to ASCII code). I ran the code with non-ascii (`x√ab c`) characters and the file was written correctly.","body":"I think it is your notepad issue (Maybe it is default to ASCII code). I ran the code with non-ascii (<code>x√ab c</code>) characters and the file was written correctly."},{"owner":{"account_id":9476001,"reputation":667,"user_id":7045339,"display_name":"SuperAadi"},"score":0,"creation_date":1565507276,"post_id":57447896,"comment_id":101371587,"body_markdown":"I know it will write all characters correctly ,but with just ascii characters in the output and   when I see &#39;save as&#39; the encoding is ANSI ,eventhough I specified  the output to be in Unicode.","body":"I know it will write all characters correctly ,but with just ascii characters in the output and   when I see &#39;save as&#39; the encoding is ANSI ,eventhough I specified  the output to be in Unicode."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1565507365,"post_id":57447896,"comment_id":101371604,"body_markdown":"That&#39;s just the behaviour of Notepad. You *are* writing out UTF-8. Try writing out text with non-ASCII characters and you&#39;ll see that. Every file which only contains ASCII characters is the same whether encoded in ASCII or UTF-8.","body":"That&#39;s just the behaviour of Notepad. You <i>are</i> writing out UTF-8. Try writing out text with non-ASCII characters and you&#39;ll see that. Every file which only contains ASCII characters is the same whether encoded in ASCII or UTF-8."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1664316315,"creation_date":1565508172,"answer_id":57448074,"question_id":57447896,"body_markdown":"# Unicode is superset of US-ASCII character set,&lt;br /&gt;UTF-8 is superset of 8-bit US-ASCII character encoding \r\n\r\nThere is no such thing as [ANSI encoding][1]. See [*What is ANSI format?*][2].\r\n\r\nLikely what is meant is [US-ASCII][3]. And **every 8-bit US-ASCII file is also a UTF-8 file**. Unicode is a superset of US-ASCII. When written out using octets, ASCII files *are* UTF-8 files. UTF-8 encoding was designed this way on purpose, to be compatible. \r\n\r\nUS-ASCII is a 7-bit character set, having only 128 characters, numbered 0-127. So if written using [octets][4] ([8-bits][5]), the first bit of every octet is a zero. See the [Wikipedia page on UTF-8 encoding][6], and notice the role played by the first bit. \r\n\r\n# No file meta-data\r\n\r\nUnderstand that both US-ASCII files and UTF-8 files (without a [BOM][7]) are **just a bunch of bits**, with no meta-data. The computer industry never managed to establish a standard for file system meta-data, unfortunately. So an app has to guess the content’s content, or the user must indicate the expected format. \r\n\r\nYour text editor is likely looking at the domain of characters found in your file, and then trying to be helpfully conservative in labeling the file using the smallest-scope encoding possible. If only US-ASCII characters, then label as US-ASCII (and apparently misreport as “ANSI”). As soon as you add higher-numbered characters with a code point beyond that of ASCII, then label as UTF-8. \r\n\r\n\r\n----------\r\n\r\nFor background info, such as the distinction between *character set* and *character encoding*, see: [*The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)*](https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/)\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ANSI_character_set\r\n  [2]: https://stackoverflow.com/q/701882/642706\r\n  [3]: https://en.wikipedia.org/wiki/ASCII\r\n  [4]: https://en.wikipedia.org/wiki/Octet_(computing)\r\n  [5]: https://en.wikipedia.org/wiki/8-bit_computing\r\n  [6]: https://en.wikipedia.org/wiki/UTF-8\r\n  [7]: https://en.wikipedia.org/wiki/Byte_order_mark","title":"Why is text file encoding still ANSI when in the java code i am specifying it be UTF-8","body":"<h1>Unicode is superset of US-ASCII character set,<br />UTF-8 is superset of 8-bit US-ASCII character encoding</h1>\n<p>There is no such thing as <a href=\"https://en.wikipedia.org/wiki/ANSI_character_set\" rel=\"nofollow noreferrer\">ANSI encoding</a>. See <a href=\"https://stackoverflow.com/q/701882/642706\"><em>What is ANSI format?</em></a>.</p>\n<p>Likely what is meant is <a href=\"https://en.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">US-ASCII</a>. And <strong>every 8-bit US-ASCII file is also a UTF-8 file</strong>. Unicode is a superset of US-ASCII. When written out using octets, ASCII files <em>are</em> UTF-8 files. UTF-8 encoding was designed this way on purpose, to be compatible.</p>\n<p>US-ASCII is a 7-bit character set, having only 128 characters, numbered 0-127. So if written using <a href=\"https://en.wikipedia.org/wiki/Octet_(computing)\" rel=\"nofollow noreferrer\">octets</a> (<a href=\"https://en.wikipedia.org/wiki/8-bit_computing\" rel=\"nofollow noreferrer\">8-bits</a>), the first bit of every octet is a zero. See the <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">Wikipedia page on UTF-8 encoding</a>, and notice the role played by the first bit.</p>\n<h1>No file meta-data</h1>\n<p>Understand that both US-ASCII files and UTF-8 files (without a <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">BOM</a>) are <strong>just a bunch of bits</strong>, with no meta-data. The computer industry never managed to establish a standard for file system meta-data, unfortunately. So an app has to guess the content’s content, or the user must indicate the expected format.</p>\n<p>Your text editor is likely looking at the domain of characters found in your file, and then trying to be helpfully conservative in labeling the file using the smallest-scope encoding possible. If only US-ASCII characters, then label as US-ASCII (and apparently misreport as “ANSI”). As soon as you add higher-numbered characters with a code point beyond that of ASCII, then label as UTF-8.</p>\n<hr />\n<p>For background info, such as the distinction between <em>character set</em> and <em>character encoding</em>, see: <a href=\"https://www.joelonsoftware.com/2003/10/08/the-absolute-minimum-every-software-developer-absolutely-positively-must-know-about-unicode-and-character-sets-no-excuses/\" rel=\"nofollow noreferrer\"><em>The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets (No Excuses!)</em></a></p>\n"}],"owner":{"account_id":9476001,"reputation":667,"user_id":7045339,"display_name":"SuperAadi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1653,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57448074,"answer_count":1,"score":3,"last_activity_date":1664316315,"creation_date":1565505936,"question_id":57447896,"body_markdown":"I am writing a some text into file using the FileWriter object. I am specifying that I want the output to be in UTF-8,but when i open the text file and go to save as , I see that it is in ANSI encoding.\r\n\r\nI want to also add that when there are characters other than the standard ascii charset (eg:- japansese character) the file encoding is UTF-8, but without then text file encoding is ANSI.\r\n\r\n\r\n\r\n```\r\nFile json_file= new File(path);\r\nFileWriter json_file_output=newFileWriter(json_file,StandardCharsets.UTF_8);\r\njson_file_output.write(&quot;SOME JSON TEXT HERE&quot;);\r\njson_file_output.flush();\r\n```\r\n\r\n\r\nI am not sure whether it is due to java code or notepad.\r\n\r\nThank you for the help.","title":"Why is text file encoding still ANSI when in the java code i am specifying it be UTF-8","body":"<p>I am writing a some text into file using the FileWriter object. I am specifying that I want the output to be in UTF-8,but when i open the text file and go to save as , I see that it is in ANSI encoding.</p>\n\n<p>I want to also add that when there are characters other than the standard ascii charset (eg:- japansese character) the file encoding is UTF-8, but without then text file encoding is ANSI.</p>\n\n<pre><code>File json_file= new File(path);\nFileWriter json_file_output=newFileWriter(json_file,StandardCharsets.UTF_8);\njson_file_output.write(\"SOME JSON TEXT HERE\");\njson_file_output.flush();\n</code></pre>\n\n<p>I am not sure whether it is due to java code or notepad.</p>\n\n<p>Thank you for the help.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664306291,"post_id":73872728,"comment_id":130440268,"body_markdown":"whats the error you get? Should be in either logcat or the output window shown at the bottom of Android Studio. See https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this","body":"whats the error you get? Should be in either logcat or the output window shown at the bottom of Android Studio. See <a href=\"https://stackoverflow.com/questions/23353173/unfortunately-myapp-has-stopped-how-can-i-solve-this\" title=\"unfortunately myapp has stopped how can i solve this\">stackoverflow.com/questions/23353173/&hellip;</a>"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664306664,"post_id":73872728,"comment_id":130440367,"body_markdown":"From looking at the code it could be https://stackoverflow.com/questions/6130216/do-i-need-to-set-internet-permission-for-opening-a-website-in-android but that&#39;s just a guess","body":"From looking at the code it could be <a href=\"https://stackoverflow.com/questions/6130216/do-i-need-to-set-internet-permission-for-opening-a-website-in-android\" title=\"do i need to set internet permission for opening a website in android\">stackoverflow.com/questions/6130216/&hellip;</a> but that&#39;s just a guess"},{"owner":{"account_id":14107225,"reputation":15,"user_id":10190966,"display_name":"Mark_Revans"},"score":0,"creation_date":1664311324,"post_id":73872728,"comment_id":130441694,"body_markdown":"I can&#39;t configure the emulator, just weird thing before it worked now it doesn&#39;t ...\nalso the activity.main seems to me to be fine","body":"I can&#39;t configure the emulator, just weird thing before it worked now it doesn&#39;t ... also the activity.main seems to me to be fine"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664314755,"post_id":73872728,"comment_id":130442545,"body_markdown":"I think something in your build process went wrong, it&#39;s not finding some Java 8 lambda compatibility code. Try &quot;File -&gt; Invalidate Caches / Restart&quot; in Android Studio and rebuild the app.","body":"I think something in your build process went wrong, it&#39;s not finding some Java 8 lambda compatibility code. Try &quot;File -&gt; Invalidate Caches / Restart&quot; in Android Studio and rebuild the app."}],"owner":{"account_id":14107225,"reputation":15,"user_id":10190966,"display_name":"Mark_Revans"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664314596,"creation_date":1664305893,"question_id":73872728,"body_markdown":"I created an application with the webview element.\r\nIn short, the app should connect to the website on startup.\r\nIn any case, this does not. Crashes on startup.\r\nHere are the files Manifest, and Activity.\r\nWhere is the problem?\r\n\r\n\r\n\r\n\r\n    \r\nManifest:\r\n\r\n    package=&quot;(name of package Don&#39;t Look this\r\n)&quot;&gt;\r\n    &lt;supports-screens android:anyDensity=&quot;true&quot; android:largeScreens=&quot;true&quot; android:normalScreens=&quot;true&quot; android:smallScreens=&quot;true&quot; android:xlargeScreens=&quot;true&quot;/&gt;\r\n\r\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;&gt;&lt;/uses-permission&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot; android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;``\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\nActivity\r\n\r\n    package (name); // Don&#39;t Look this\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    public class MainActivity extends AppCompatActivity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            WebView webView = (WebView) findViewById(R.id.webView);\r\n            webView.getSettings().setJavaScriptEnabled(true);\r\n            webView.setWebViewClient(new WebViewClient());\r\n            webView.loadUrl(&quot;https://www.website.com&quot;);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nWhat&#39;s the problem?\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main Process: com.miotvonline.website, PID: 4535\r\n        java.lang.NoSuchMethodError: No static method metafactory(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\r\n            in class Ljava/lang/invoke/LambdaMetafactory; or its super classes (declaration of &#39;java.lang.invoke.LambdaMetafactory&#39; appears in /apex/com.android.runtime/javalib/core-oj.jar)\r\n        at androidx.activity.ComponentActivity.(ComponentActivity.java:138)\r\n        at androidx.fragment.app.FragmentActivity.(FragmentActivity.java:103)\r\n        at androidx.appcompat.app.AppCompatActivity.(AppCompatActivity.java:94)\r\n        at com.miotvonline.website.MainActivity.(MainActivity.java:8)\r\n        at java.lang.Class.newInstance(Native Method)\r\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\r\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\r\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\r\n        at android.os.Handler.dispatchMessage(Handler.java:107)\r\n        at android.os.Looper.loop(Looper.java:214)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n```","title":"Aapp crashes on startup Android Studio","body":"<p>I created an application with the webview element.\nIn short, the app should connect to the website on startup.\nIn any case, this does not. Crashes on startup.\nHere are the files Manifest, and Activity.\nWhere is the problem?</p>\n<p>Manifest:</p>\n<pre><code>package=&quot;(name of package Don't Look this\n</code></pre>\n<p>)&quot;&gt;\n</p>\n<p></p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n    &lt;activity android:name=&quot;.MainActivity&quot; android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;``\n&lt;/application&gt;\n</code></pre>\n\nActivity\n<pre><code>package (name); // Don't Look this\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        WebView webView = (WebView) findViewById(R.id.webView);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.setWebViewClient(new WebViewClient());\n        webView.loadUrl(&quot;https://www.website.com&quot;);\n    }\n}\n</code></pre>\n<p>What's the problem?</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main Process: com.miotvonline.website, PID: 4535\n        java.lang.NoSuchMethodError: No static method metafactory(Ljava/lang/invoke/MethodHandles$Lookup;Ljava/lang/String;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodType;Ljava/lang/invoke/MethodHandle;Ljava/lang/invoke/MethodType;)Ljava/lang/invoke/CallSite;\n            in class Ljava/lang/invoke/LambdaMetafactory; or its super classes (declaration of 'java.lang.invoke.LambdaMetafactory' appears in /apex/com.android.runtime/javalib/core-oj.jar)\n        at androidx.activity.ComponentActivity.(ComponentActivity.java:138)\n        at androidx.fragment.app.FragmentActivity.(FragmentActivity.java:103)\n        at androidx.appcompat.app.AppCompatActivity.(AppCompatActivity.java:94)\n        at com.miotvonline.website.MainActivity.(MainActivity.java:8)\n        at java.lang.Class.newInstance(Native Method)\n        at android.app.AppComponentFactory.instantiateActivity(AppComponentFactory.java:95)\n        at androidx.core.app.CoreComponentFactory.instantiateActivity(CoreComponentFactory.java:45)\n        at android.app.Instrumentation.newActivity(Instrumentation.java:1243)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3182)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3409)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2016)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":7,"creation_date":1455977790,"post_id":35524450,"comment_id":58738384,"body_markdown":"If code isn&#39;t used, how could it do expensive computations?","body":"If code isn&#39;t used, how could it do expensive computations?"}],"answers":[{"tags":[],"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455987164,"creation_date":1455977841,"answer_id":35524480,"question_id":35524450,"body_markdown":"It&#39;s difficult to do in Java since it&#39;s a reflective language. (You can&#39;t simply hunt for calls to a certain class or function, for example, since reflection can be used to call a function using strings that can only be resolved at runtime.)\r\n\r\nSo in full generality, you cannot be certain.\r\n\r\nIf you have adequate unit tests for your code base then the possibility of redundant code should not be a cause for concern.","title":"Is there a way to tell if there is code not being used in java?","body":"<p>It's difficult to do in Java since it's a reflective language. (You can't simply hunt for calls to a certain class or function, for example, since reflection can be used to call a function using strings that can only be resolved at runtime.)</p>\n\n<p>So in full generality, you cannot be certain.</p>\n\n<p>If you have adequate unit tests for your code base then the possibility of redundant code should not be a cause for concern.</p>\n"},{"tags":[],"owner":{"account_id":7837113,"reputation":8165,"user_id":5924721,"accept_rate":100,"display_name":"Frank Puffer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455978566,"creation_date":1455978263,"answer_id":35524570,"question_id":35524450,"body_markdown":"Try to avoid accumulating trash in the first place. Remove stuff you don&#39;t need anymore. (You could make a backup or better use a source code management system.) \r\n\r\nYou should also write unit tests for your functions. So you know if it still works after you remove something.\r\n\r\nAside from that, most IDEs will show you unused local variables and private methods.","title":"Is there a way to tell if there is code not being used in java?","body":"<p>Try to avoid accumulating trash in the first place. Remove stuff you don't need anymore. (You could make a backup or better use a source code management system.) </p>\n\n<p>You should also write unit tests for your functions. So you know if it still works after you remove something.</p>\n\n<p>Aside from that, most IDEs will show you unused local variables and private methods.</p>\n"},{"tags":[],"owner":{"account_id":2607518,"reputation":103,"user_id":2258366,"display_name":"mvlaicevich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455978507,"creation_date":1455978507,"answer_id":35524613,"question_id":35524450,"body_markdown":"i think the best way to check that is to install a plugin of coverage like eclemma and create unit and integration tests to get 100% of coverage of the code that accomplish the use code/task you have. \r\nThe code that don&#39;t need to be tested or don&#39;t pass over it after the tests are completed and run, is code that you are not using","title":"Is there a way to tell if there is code not being used in java?","body":"<p>i think the best way to check that is to install a plugin of coverage like eclemma and create unit and integration tests to get 100% of coverage of the code that accomplish the use code/task you have. \nThe code that don't need to be tested or don't pass over it after the tests are completed and run, is code that you are not using</p>\n"},{"tags":[],"owner":{"account_id":1273842,"reputation":3099,"user_id":1229509,"accept_rate":69,"display_name":"Saket"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455978930,"creation_date":1455978930,"answer_id":35524694,"question_id":35524450,"body_markdown":"One of the basic principles which will help you in this regard is to reduce visibility of everything as much as possible. If a class can be private don&#39;t make it default, protected or public. Same applies for methods and variables. It is much easier when you can say for sure if something is not being used outside a class. In cases like this even IDEs like Eclipse and IntelliJ Idea will suggest you about unused code.\n\nUsing this practice while developing and refactoring code is the best way to clean unused code confidently without the possibility of breaking the application. This will help in scenarios even when reflection is being used.","title":"Is there a way to tell if there is code not being used in java?","body":"<p>One of the basic principles which will help you in this regard is to reduce visibility of everything as much as possible. If a class can be private don't make it default, protected or public. Same applies for methods and variables. It is much easier when you can say for sure if something is not being used outside a class. In cases like this even IDEs like Eclipse and IntelliJ Idea will suggest you about unused code.</p>\n\n<p>Using this practice while developing and refactoring code is the best way to clean unused code confidently without the possibility of breaking the application. This will help in scenarios even when reflection is being used.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1455979422,"creation_date":1455979422,"answer_id":35524795,"question_id":35524450,"body_markdown":"I think &quot;unused code&quot; means the code that is always not executed at runtime. I hope I interpreted you correctly.\r\n\r\nThe way to do a simple check on this is very easy. Just use IntelliJ IDEA to write your code. It will tell you that parts of your code that will _never_ be executed and also the parts where the code can be simplified. For example,\r\n\r\n    if (x == 5) {\r\n\r\n    }\r\n\r\nAnd then it will tell you that this if statement is redundant. Or if you have this:\r\n\r\n    return;\r\n    someMethod();\r\n\r\nThe IDE will tell you that `someMethod()` can never be reached. And it also provides a lot of other cool features.\r\n\r\nBut sometimes this isn&#39;t enough. What if you have\r\n\r\n    if (x == 5) {\r\n        someMethod();\r\n    }\r\n\r\nBut actually in your code, `x` can only be in the range of 1 to 4? The IDE won&#39;t tell you about this. You can use a tool that shows your code coverage by running lots of tests. Then you can see which part of your code is not executed.\r\n\r\nIf you don&#39;t want to use such a tool, you can put breakpoints in your methods. Then run some tests by hand. When the debugger steps through your code, you can see exactly where the code goes and exactly which piece(s) of code is not executed.\r\n\r\nAnother method to do this is to use the Find/Replace function of the IDE. Check if some of your public/private methods are not being called anywhere. For example, to check whether `someMethod()` is called, search for `someMethod` in the whole project and see if there are occurrences other than the declaration.\r\n\r\nBut the most effective way would be,\r\n\r\n**Stop writing this kind of code in the first place!**","title":"Is there a way to tell if there is code not being used in java?","body":"<p>I think \"unused code\" means the code that is always not executed at runtime. I hope I interpreted you correctly.</p>\n\n<p>The way to do a simple check on this is very easy. Just use IntelliJ IDEA to write your code. It will tell you that parts of your code that will <em>never</em> be executed and also the parts where the code can be simplified. For example,</p>\n\n<pre><code>if (x == 5) {\n\n}\n</code></pre>\n\n<p>And then it will tell you that this if statement is redundant. Or if you have this:</p>\n\n<pre><code>return;\nsomeMethod();\n</code></pre>\n\n<p>The IDE will tell you that <code>someMethod()</code> can never be reached. And it also provides a lot of other cool features.</p>\n\n<p>But sometimes this isn't enough. What if you have</p>\n\n<pre><code>if (x == 5) {\n    someMethod();\n}\n</code></pre>\n\n<p>But actually in your code, <code>x</code> can only be in the range of 1 to 4? The IDE won't tell you about this. You can use a tool that shows your code coverage by running lots of tests. Then you can see which part of your code is not executed.</p>\n\n<p>If you don't want to use such a tool, you can put breakpoints in your methods. Then run some tests by hand. When the debugger steps through your code, you can see exactly where the code goes and exactly which piece(s) of code is not executed.</p>\n\n<p>Another method to do this is to use the Find/Replace function of the IDE. Check if some of your public/private methods are not being called anywhere. For example, to check whether <code>someMethod()</code> is called, search for <code>someMethod</code> in the whole project and see if there are occurrences other than the declaration.</p>\n\n<p>But the most effective way would be,</p>\n\n<p><strong>Stop writing this kind of code in the first place!</strong></p>\n"},{"tags":[],"owner":{"account_id":26463467,"reputation":1,"user_id":20105056,"display_name":"Marcino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664314339,"creation_date":1664314339,"answer_id":73874019,"question_id":35524450,"body_markdown":"I do imagine situation when you have app developed by years and some part of your functions doesn&#39;t used anymore even they still working. Example: Let&#39;s assume you make some changes on internal systems when specific event occured but it is not occurs anymore. \r\n\r\nI would say you could use AspectJ to obtain such data / log and then analyze after some time.","title":"Is there a way to tell if there is code not being used in java?","body":"<p>I do imagine situation when you have app developed by years and some part of your functions doesn't used anymore even they still working. Example: Let's assume you make some changes on internal systems when specific event occured but it is not occurs anymore.</p>\n<p>I would say you could use AspectJ to obtain such data / log and then analyze after some time.</p>\n"}],"owner":{"account_id":7597651,"reputation":61,"user_id":5763363,"accept_rate":86,"display_name":"Bom Tomdabil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":602,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35524795,"answer_count":6,"score":0,"last_activity_date":1664314339,"creation_date":1455977677,"question_id":35524450,"body_markdown":"Whenever I program, I seem to accumulate a lot of &quot;trash&quot; code, code that is not in use anymore. Just to keep my code neat, and to avoid making any expensive and unnecessary computations, Is there an easy way to tell if there is code that is not being used? ","title":"Is there a way to tell if there is code not being used in java?","body":"<p>Whenever I program, I seem to accumulate a lot of \"trash\" code, code that is not in use anymore. Just to keep my code neat, and to avoid making any expensive and unnecessary computations, Is there an easy way to tell if there is code that is not being used? </p>\n"},{"tags":["java","recursion","arguments","variadic-functions"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1664314004,"post_id":73873960,"comment_id":130442372,"body_markdown":"The same way that you would if you got an array by any other means - because you **did** get an array, and the means doesn&#39;t matter.","body":"The same way that you would if you got an array by any other means - because you <b>did</b> get an array, and the means doesn&#39;t matter."},{"owner":{"account_id":16817262,"reputation":83324,"user_id":12158757,"display_name":"ThomasIsCoding"},"score":0,"creation_date":1664314345,"post_id":73873960,"comment_id":130442449,"body_markdown":"@KarlKnechtel Do you mean we can use `Arrays.copyOfRange(x,0,x.length-1)`?","body":"@KarlKnechtel Do you mean we can use <code>Arrays.copyOfRange(x,0,x.length-1)</code>?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1664314502,"post_id":73873960,"comment_id":130442486,"body_markdown":"Almost. Please read the documentation, and think carefully about the necessary endpoints of the slice.","body":"Almost. Please read the documentation, and think carefully about the necessary endpoints of the slice."},{"owner":{"account_id":16817262,"reputation":83324,"user_id":12158757,"display_name":"ThomasIsCoding"},"score":0,"creation_date":1664314657,"post_id":73873960,"comment_id":130442521,"body_markdown":"Okay, I see, the endpoint is exclusive. Thanks for the thread, which solves my problem!","body":"Okay, I see, the endpoint is exclusive. Thanks for the thread, which solves my problem!"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1664314722,"post_id":73873960,"comment_id":130442536,"body_markdown":"&quot;Is there any way to get x[0], x[1], ..., x[x.length-2]&quot; that would require creating *separate* array with reduced size. But that means you would need to populate such array each time you call your method. This means you would need to copy `N-1` first time, `N-2` elements in another recursive call, N-3, etc. so you introduce O(N^2) complexity. Instead of varags you could accept `int[]` array and additional argument which represents current &quot;limit&quot; of array (which actually be position of element *currently tested*).","body":"&quot;Is there any way to get x[0], x[1], ..., x[x.length-2]&quot; that would require creating <i>separate</i> array with reduced size. But that means you would need to populate such array each time you call your method. This means you would need to copy <code>N-1</code> first time, <code>N-2</code> elements in another recursive call, N-3, etc. so you introduce O(N^2) complexity. Instead of varags you could accept <code>int[]</code> array and additional argument which represents current &quot;limit&quot; of array (which actually be position of element <i>currently tested</i>)."},{"owner":{"account_id":16817262,"reputation":83324,"user_id":12158757,"display_name":"ThomasIsCoding"},"score":0,"creation_date":1664314941,"post_id":73873960,"comment_id":130442592,"body_markdown":"@Pshemo Really good point! Thanks! I am just wondering about the &quot;possibility&quot; of using varargs in recursions all the time (regardless of the complexity, though) :P","body":"@Pshemo Really good point! Thanks! I am just wondering about the &quot;possibility&quot; of using varargs in recursions all the time (regardless of the complexity, though) :P"}],"owner":{"account_id":16817262,"reputation":83324,"user_id":12158757,"display_name":"ThomasIsCoding"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664314661,"answer_count":0,"score":0,"last_activity_date":1664313878,"creation_date":1664313878,"question_id":73873960,"body_markdown":"I am learning the vararg argument method in Java but I have no idea how to subset the variable arguments if I want to create a recursion function.\r\n\r\n--------------------------------\r\nFor example, I attempted to build a function `max`, which aims to obtain the max value from variable arguments, e.g., `fmax(1,5,3,2,7,-2)`, but I wanted it in a recursion manner, i.e., `fmax(1,5,3,2,7,-2) = Math.max(fmax(1,5,3,2,7,-2), -2)`, so on so forth till the recursion ends when meeting the termination condition.\r\n\r\nMy piece of code is as below \r\n```\r\n\tpublic static int fmax(int... x) {\r\n\t\tif (x.length == 1) {\r\n\t\t\treturn x[0];\r\n\t\t}\r\n\t\treturn Math.max(fmax(XXXXXXX), x[x.length-1]);\r\n\t}\r\n``` \r\nbut I have no clue what should be filled in for the part `XXXXXXX`, which actually should be a subset of `x` (excluding the last entry of `x`).\r\n\r\n## Question\r\nIs there any way to get `x[0], x[1], ..., x[x.length-2]` to replace `XXXXXXX`? Or, do we have some workaround? Much appreciated!\r\n","title":"How to extract a subset of variable arguments (like `int ... x`) for a recursion function?","body":"<p>I am learning the vararg argument method in Java but I have no idea how to subset the variable arguments if I want to create a recursion function.</p>\n<hr />\n<p>For example, I attempted to build a function <code>max</code>, which aims to obtain the max value from variable arguments, e.g., <code>fmax(1,5,3,2,7,-2)</code>, but I wanted it in a recursion manner, i.e., <code>fmax(1,5,3,2,7,-2) = Math.max(fmax(1,5,3,2,7,-2), -2)</code>, so on so forth till the recursion ends when meeting the termination condition.</p>\n<p>My piece of code is as below</p>\n<pre><code>    public static int fmax(int... x) {\n        if (x.length == 1) {\n            return x[0];\n        }\n        return Math.max(fmax(XXXXXXX), x[x.length-1]);\n    }\n</code></pre>\n<p>but I have no clue what should be filled in for the part <code>XXXXXXX</code>, which actually should be a subset of <code>x</code> (excluding the last entry of <code>x</code>).</p>\n<h2>Question</h2>\n<p>Is there any way to get <code>x[0], x[1], ..., x[x.length-2]</code> to replace <code>XXXXXXX</code>? Or, do we have some workaround? Much appreciated!</p>\n"},{"tags":["java","generics","collections"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":7,"creation_date":1664271416,"post_id":73865332,"comment_id":130427590,"body_markdown":"Because `C` is implicitly convertible to `B`. It would be odd to prevent `myBlist.add(c);` but to allow `B tmp = c; myBlist.add(tmp);`. They do the same thing, so why would you want to force users to write unwieldy code? (Or `myBlist.add((B) c);` where the cast is guaranteed to succeed...)","body":"Because <code>C</code> is implicitly convertible to <code>B</code>. It would be odd to prevent <code>myBlist.add(c);</code> but to allow <code>B tmp = c; myBlist.add(tmp);</code>. They do the same thing, so why would you want to force users to write unwieldy code? (Or <code>myBlist.add((B) c);</code> where the cast is guaranteed to succeed...)"},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":1,"creation_date":1664313138,"post_id":73865332,"comment_id":130442145,"body_markdown":"This question was just closed as a duplicate of a question whose answer was cited in this question. Presumably the OP has read that question and other answers and is seeking clarification about this particular answer. OP can you clarify your question? (Reopened.)","body":"This question was just closed as a duplicate of a question whose answer was cited in this question. Presumably the OP has read that question and other answers and is seeking clarification about this particular answer. OP can you clarify your question? (Reopened.)"}],"answers":[{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1664313609,"creation_date":1664313609,"answer_id":73873930,"question_id":73865332,"body_markdown":"I think the question is specifically about the meaning of `List&lt;? super B&gt;`. The OP wrote &quot;`myBlist` accepts ... B or up&quot; and I think this is the root of the misunderstanding. `List&lt;? super B&gt;` does **not** mean a list that can only contain elements of type `B` or of a supertype of `B`.\r\n\r\nInstead, `List&lt;? super B&gt;` is a list whose *type parameter* is `B` or is a supertype of `B`. Given the type hierarchy in the question, and this declaration:\r\n\r\n    public void testContraVariance(List&lt;? super B&gt; myBlist)\r\n\r\nthen `myBlist` can be a `List&lt;B&gt;`, a `List&lt;A&gt;`, or a `List&lt;Object&gt;`. *Any* of these types can contain a `C`. That&#39;s why `myBlist.add(c)` works.\r\n","title":"Generics-why can you add a child of T to a List&lt;? super T&gt;","body":"<p>I think the question is specifically about the meaning of <code>List&lt;? super B&gt;</code>. The OP wrote &quot;<code>myBlist</code> accepts ... B or up&quot; and I think this is the root of the misunderstanding. <code>List&lt;? super B&gt;</code> does <strong>not</strong> mean a list that can only contain elements of type <code>B</code> or of a supertype of <code>B</code>.</p>\n<p>Instead, <code>List&lt;? super B&gt;</code> is a list whose <em>type parameter</em> is <code>B</code> or is a supertype of <code>B</code>. Given the type hierarchy in the question, and this declaration:</p>\n<pre><code>public void testContraVariance(List&lt;? super B&gt; myBlist)\n</code></pre>\n<p>then <code>myBlist</code> can be a <code>List&lt;B&gt;</code>, a <code>List&lt;A&gt;</code>, or a <code>List&lt;Object&gt;</code>. <em>Any</em> of these types can contain a <code>C</code>. That's why <code>myBlist.add(c)</code> works.</p>\n"},{"tags":[],"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664313876,"creation_date":1664313876,"answer_id":73873959,"question_id":73865332,"body_markdown":"Every `C` [is-a][1] `B`. You should be comfortable with the notion of assigning an instance of `C` to a variable of type `B`:\r\n\r\n```java\r\nB c = new C();\r\n```\r\n\r\nFrom there, it should not be surprising that this is valid:\r\n\r\n```java\r\nList&lt;? super B&gt; myBlist = new ArrayList&lt;Object&gt;();\r\nmyBlist.add(c);\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Is-a","title":"Generics-why can you add a child of T to a List&lt;? super T&gt;","body":"<p>Every <code>C</code> <a href=\"https://en.wikipedia.org/wiki/Is-a\" rel=\"nofollow noreferrer\">is-a</a> <code>B</code>. You should be comfortable with the notion of assigning an instance of <code>C</code> to a variable of type <code>B</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>B c = new C();\n</code></pre>\n<p>From there, it should not be surprising that this is valid:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;? super B&gt; myBlist = new ArrayList&lt;Object&gt;();\nmyBlist.add(c);\n</code></pre>\n"}],"owner":{"account_id":1622560,"reputation":1026,"user_id":1498827,"accept_rate":84,"display_name":"microwth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73873930,"answer_count":2,"score":1,"last_activity_date":1664313876,"creation_date":1664271260,"question_id":73865332,"body_markdown":"Taken from https://stackoverflow.com/a/19231762/1498827\r\n\r\n```\r\npublic class Test {\r\n\r\n    public class A {}\r\n\r\n    public class B extends A {}\r\n\r\n    public class C extends B {}\r\n\r\n    public void testContraVariance(List&lt;? super B&gt; myBlist) {\r\n        B b = new B();\r\n        C c = new C();\r\n        myBlist.add(b);\r\n        myBlist.add(c);\r\n        A a = myBlist.get(0); // does not compile\r\n    }\r\n}\r\n```\r\n\r\nIf myBlist accepts a super type of B ,which means B or up, then why can you also add a child to it as in `myBlist.add(c)` ?\r\n","title":"Generics-why can you add a child of T to a List&lt;? super T&gt;","body":"<p>Taken from <a href=\"https://stackoverflow.com/a/19231762/1498827\">https://stackoverflow.com/a/19231762/1498827</a></p>\n<pre><code>public class Test {\n\n    public class A {}\n\n    public class B extends A {}\n\n    public class C extends B {}\n\n    public void testContraVariance(List&lt;? super B&gt; myBlist) {\n        B b = new B();\n        C c = new C();\n        myBlist.add(b);\n        myBlist.add(c);\n        A a = myBlist.get(0); // does not compile\n    }\n}\n</code></pre>\n<p>If myBlist accepts a super type of B ,which means B or up, then why can you also add a child to it as in <code>myBlist.add(c)</code> ?</p>\n"},{"tags":["java","php","if-statement","jsp","web"],"comments":[{"owner":{"account_id":15385820,"reputation":912,"user_id":11099895,"display_name":"Shashank Gb"},"score":0,"creation_date":1664312655,"post_id":73873788,"comment_id":130442025,"body_markdown":"Does this answer your question? [Is there any isset-like function in JSP?](https://stackoverflow.com/questions/12024655/is-there-any-isset-like-function-in-jsp)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/12024655/is-there-any-isset-like-function-in-jsp\">Is there any isset-like function in JSP?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26231167,"reputation":38,"user_id":19907088,"display_name":"Muhammad Ali Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664313510,"creation_date":1664313510,"answer_id":73873918,"question_id":73873788,"body_markdown":"i think you are asking about jsp java blow code will help you to check the value of variable in jsp java.\r\n\r\n    &lt;%\r\n    boolean exist = false;\r\n            int pageno =request.getParameter(&quot;pageno&quot;);\r\n            if(pageno !=null){\r\n                exist  = true;\r\n                out.println(pageno);\r\n            }else{\r\n                exist = false;\r\n                out.println(&quot;page num donot exist&quot;);\r\n            }\r\n        %&gt;","title":"How do I check if variable exists in a jsp page for post in index?","body":"<p>i think you are asking about jsp java blow code will help you to check the value of variable in jsp java.</p>\n<pre><code>&lt;%\nboolean exist = false;\n        int pageno =request.getParameter(&quot;pageno&quot;);\n        if(pageno !=null){\n            exist  = true;\n            out.println(pageno);\n        }else{\n            exist = false;\n            out.println(&quot;page num donot exist&quot;);\n        }\n    %&gt;\n</code></pre>\n"}],"owner":{"account_id":17926436,"reputation":3,"user_id":13025071,"display_name":"Dante"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73873918,"answer_count":1,"score":0,"last_activity_date":1664313510,"creation_date":1664312540,"question_id":73873788,"body_markdown":"well this is what I want to do. I have a website that is supposed to show post created from an Admin dashboard in index page using jsp as language, I did this in Php but I can&#39;t find how to do it in jsp in this case, how can I check if the variable &quot;pageno&quot; exists to begin with?\r\n\r\nin php is like:\r\n\r\n ```\r\nif(isset($_GET[&#39;pageno&#39;])){\r\n$pageno = $_GET[&#39;pageno&#39;];\r\n}else{$pageno = 1;\r\n}\r\n ```\r\n\r\nhow can I do this in jsp?\r\n\r\nI&#39;ve been trying to search but no luck.\r\n\r\nThanks a bunch in advance!","title":"How do I check if variable exists in a jsp page for post in index?","body":"<p>well this is what I want to do. I have a website that is supposed to show post created from an Admin dashboard in index page using jsp as language, I did this in Php but I can't find how to do it in jsp in this case, how can I check if the variable &quot;pageno&quot; exists to begin with?</p>\n<p>in php is like:</p>\n<pre><code>if(isset($_GET['pageno'])){\n$pageno = $_GET['pageno'];\n}else{$pageno = 1;\n}\n</code></pre>\n<p>how can I do this in jsp?</p>\n<p>I've been trying to search but no luck.</p>\n<p>Thanks a bunch in advance!</p>\n"},{"tags":["java","linux","macos","version","fdt"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":2,"creation_date":1545908878,"post_id":53944025,"comment_id":94726706,"body_markdown":"Java 1.8 is in fact Java 8 . `1.x`  is called `x` for the java version.","body":"Java 1.8 is in fact Java 8 . <code>1.x</code>  is called <code>x</code> for the java version."},{"owner":{"account_id":4132257,"reputation":1146,"user_id":3389828,"display_name":"Nikhil"},"score":0,"creation_date":1545909017,"post_id":53944025,"comment_id":94726776,"body_markdown":"What is your `javac -version`?","body":"What is your <code>javac -version</code>?"},{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1545909179,"post_id":53944025,"comment_id":94726854,"body_markdown":"We&#39;ll need a better description of the error than &quot;we need legacy java&quot;: where does this message appear, what are you trying to do when it appears etc","body":"We&#39;ll need a better description of the error than &quot;we need legacy java&quot;: where does this message appear, what are you trying to do when it appears etc"},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1545909334,"post_id":53944025,"comment_id":94726932,"body_markdown":"@Joni it is on the Mac.","body":"@Joni it is on the Mac."}],"answers":[{"tags":[],"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1545909267,"creation_date":1545909267,"answer_id":53944144,"question_id":53944025,"body_markdown":"You are using Java 8. \r\n\r\nThe Mac problem is a historic one because the legacy question is for a 32-bit JVM for some programs and you need a 64-bit for Java 8. \r\n\r\nInstall the Java 6 the programs want and then install A newer java from oracle and he should be good to go. ","title":"What version of Java is &quot;1.8.0_191&quot; on my Ubuntu install?","body":"<p>You are using Java 8. </p>\n\n<p>The Mac problem is a historic one because the legacy question is for a 32-bit JVM for some programs and you need a 64-bit for Java 8. </p>\n\n<p>Install the Java 6 the programs want and then install A newer java from oracle and he should be good to go. </p>\n"}],"owner":{"account_id":1814662,"reputation":51165,"user_id":1650012,"accept_rate":67,"display_name":"kramer65"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6883,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":53944144,"answer_count":1,"score":3,"last_activity_date":1664312097,"creation_date":1545908784,"question_id":53944025,"body_markdown":"On of our (remote) developers needs to install [FDT][1] (an Eclipse based IDE) to compile some legacy ActionScript code. I&#39;ve got FDT working on my Ubuntu 18.04 laptop just fine, but the dev is having trouble getting it to work on his Mac. When he has Java version 7, 8 or 9 installed he gets a message saying \r\n\r\n    we need legacy java you can download it here...\r\n\r\nand if he uses Java version 6, it says it needs version 7 or more.\r\n\r\nSo I checked which version I have on my Ubuntu 18.04 laptop so he can get the same one, and to my surprise it says:\r\n\r\n    $ java -version\r\n    java version &quot;1.8.0_191&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_191-b12)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)\r\n\r\nAs far as I know Java is WAY ahead of version 1.8. So I logged into our production server (Ubuntu 16.04) and there we&#39;ve got something similar:\r\n\r\n    $ java -version\r\n    openjdk version &quot;1.8.0_191&quot;\r\n    OpenJDK Runtime Environment (build 1.8.0_191-8u191-b12-0ubuntu0.16.04.1-b12)\r\n    OpenJDK 64-Bit Server VM (build 25.191-b12, mixed mode)\r\n\r\nI checked out [the OpenJDK website][2] and there it says OpenJDK is now at version 11.\r\n\r\nWhat version of Java my laptop is actually running so our dev can get the same version?\r\n\r\n  [1]: https://fdt.powerflasher.com/buy-download/\r\n  [2]: http://openjdk.java.net/","title":"What version of Java is &quot;1.8.0_191&quot; on my Ubuntu install?","body":"<p>On of our (remote) developers needs to install <a href=\"https://fdt.powerflasher.com/buy-download/\" rel=\"nofollow noreferrer\">FDT</a> (an Eclipse based IDE) to compile some legacy ActionScript code. I've got FDT working on my Ubuntu 18.04 laptop just fine, but the dev is having trouble getting it to work on his Mac. When he has Java version 7, 8 or 9 installed he gets a message saying</p>\n<pre><code>we need legacy java you can download it here...\n</code></pre>\n<p>and if he uses Java version 6, it says it needs version 7 or more.</p>\n<p>So I checked which version I have on my Ubuntu 18.04 laptop so he can get the same one, and to my surprise it says:</p>\n<pre><code>$ java -version\njava version &quot;1.8.0_191&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_191-b12)\nJava HotSpot(TM) 64-Bit Server VM (build 25.191-b12, mixed mode)\n</code></pre>\n<p>As far as I know Java is WAY ahead of version 1.8. So I logged into our production server (Ubuntu 16.04) and there we've got something similar:</p>\n<pre><code>$ java -version\nopenjdk version &quot;1.8.0_191&quot;\nOpenJDK Runtime Environment (build 1.8.0_191-8u191-b12-0ubuntu0.16.04.1-b12)\nOpenJDK 64-Bit Server VM (build 25.191-b12, mixed mode)\n</code></pre>\n<p>I checked out <a href=\"http://openjdk.java.net/\" rel=\"nofollow noreferrer\">the OpenJDK website</a> and there it says OpenJDK is now at version 11.</p>\n<p>What version of Java my laptop is actually running so our dev can get the same version?</p>\n"},{"tags":["java","jdbc","connector","pervasive"],"comments":[{"owner":{"account_id":121244,"reputation":8982,"user_id":314193,"display_name":"mirtheil"},"score":0,"creation_date":1336389773,"post_id":10477378,"comment_id":13543437,"body_markdown":"Are you having a problem with the code posted?  If so, what is it?  What version of Pervasive are you using?","body":"Are you having a problem with the code posted?  If so, what is it?  What version of Pervasive are you using?"},{"owner":{"account_id":1250073,"reputation":1660,"user_id":1294642,"accept_rate":52,"display_name":"Navyah"},"score":0,"creation_date":1336394255,"post_id":10477378,"comment_id":13545103,"body_markdown":"java.lang.NuSuchMethodError: main when i running the code, i can find it is run time exception but, i am not able to find what next i need to do, i am using pervasive version 10","body":"java.lang.NuSuchMethodError: main when i running the code, i can find it is run time exception but, i am not able to find what next i need to do, i am using pervasive version 10"}],"answers":[{"tags":[],"owner":{"account_id":121244,"reputation":8982,"user_id":314193,"display_name":"mirtheil"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1664311171,"creation_date":1336399121,"answer_id":10483420,"question_id":10477378,"body_markdown":"Here&#39;s a simple program I have that works for me to connect to a [Pervasive PSQL][1] database:\r\n\r\n    /*\r\n     * SQLStatement.java\r\n     * Simple JDBC Sample using Pervasive JDBC driver.\r\n     */\r\n    import java.*;\r\n    import java.sql.*;\r\n    import pervasive.jdbc.*;\r\n    import java.io.*;\r\n\r\n\r\n    public class SQLStatement {\r\n\r\n        public static void main(String args[]) {\r\n\r\n            String url = &quot;jdbc:pervasive://localhost:1583/demodata?transport=tcp&quot;;\r\n            Connection con;\r\n\r\n            String query = &quot;select* from class&quot;;\r\n            Statement stmt;\r\n\r\n            try {\r\n                Class.forName(&quot;com.pervasive.jdbc.v2.Driver&quot;);\r\n\r\n            } catch(Exception e) {\r\n                System.err.print(&quot;ClassNotFoundException: &quot;);\r\n                System.out.println(e.toString());\r\n                System.err.println(e.getMessage());\r\n            }\r\n\r\n            try {\r\n                Connection conn = DriverManager.getConnection(url);\r\n\r\n                stmt = conn.createStatement();\r\n\r\n                ResultSet rs = stmt.executeQuery(query);\r\n                ResultSetMetaData rsmd = rs.getMetaData();\r\n                int numberOfColumns = rsmd.getColumnCount();\r\n                int rowCount = 1;\r\n                long j = 0;\r\n                int i = 1;\r\n\r\n                while (rs.next()) {\r\n                    System.out.println(&quot;Row &quot; + rowCount + &quot;:  &quot;);\r\n                    for (i = 1; i &lt;= numberOfColumns; i++) {\r\n                        System.out.print(&quot;   Column &quot; + i + &quot;:  &quot;);\r\n                        System.out.println(rs.getString(i));\r\n                    }\r\n                    System.out.println(&quot;&quot;);\r\n                    rowCount++;\r\n                }\r\n\r\n                System.out.println(&quot;Waiting.&quot;);\r\n                String thisLine;\r\n                try {\r\n                    InputStreamReader converter = new InputStreamReader(System.in);\r\n                    BufferedReader br = new BufferedReader(converter);\r\n                    while ((thisLine = br.readLine()) != null) { // while loop begins here\r\n                        System.out.println(thisLine);\r\n                    } // end while\r\n                } // end try\r\n                catch (IOException e) {\r\n                    System.err.println(&quot;Error: &quot; + e);\r\n                }\r\n\r\n                stmt.close();\r\n                conn.close();\r\n\r\n            } catch(SQLException ex) {\r\n                System.err.print(&quot;SQLException: &quot;);\r\n                System.err.println(ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nTo compile it, I use:\r\n\r\n    javac -classpath &quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\pvjdbc2.jar&quot;;&quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\pvjdbc2x.jar&quot;;&quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\jpscs.jar&quot;;. SQLStatement.java\r\n\r\nAnd to run it, I use:\r\n\r\n    java -classpath &quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\pvjdbc2.jar&quot;;&quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\pvjdbc2x.jar&quot;;&quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\jpscs.jar&quot;;.\\ SQLStatement.java\r\n\r\nYou might need to change the location of the PSQL JAR files if you are using a 64-bit OS.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Pervasive_PSQL\r\n\r\n\r\n\r\n","title":"Creating a Java Connector for Pervasive PSQL","body":"<p>Here's a simple program I have that works for me to connect to a <a href=\"https://en.wikipedia.org/wiki/Pervasive_PSQL\" rel=\"nofollow noreferrer\">Pervasive PSQL</a> database:</p>\n<pre><code>/*\n * SQLStatement.java\n * Simple JDBC Sample using Pervasive JDBC driver.\n */\nimport java.*;\nimport java.sql.*;\nimport pervasive.jdbc.*;\nimport java.io.*;\n\n\npublic class SQLStatement {\n\n    public static void main(String args[]) {\n\n        String url = &quot;jdbc:pervasive://localhost:1583/demodata?transport=tcp&quot;;\n        Connection con;\n\n        String query = &quot;select* from class&quot;;\n        Statement stmt;\n\n        try {\n            Class.forName(&quot;com.pervasive.jdbc.v2.Driver&quot;);\n\n        } catch(Exception e) {\n            System.err.print(&quot;ClassNotFoundException: &quot;);\n            System.out.println(e.toString());\n            System.err.println(e.getMessage());\n        }\n\n        try {\n            Connection conn = DriverManager.getConnection(url);\n\n            stmt = conn.createStatement();\n\n            ResultSet rs = stmt.executeQuery(query);\n            ResultSetMetaData rsmd = rs.getMetaData();\n            int numberOfColumns = rsmd.getColumnCount();\n            int rowCount = 1;\n            long j = 0;\n            int i = 1;\n\n            while (rs.next()) {\n                System.out.println(&quot;Row &quot; + rowCount + &quot;:  &quot;);\n                for (i = 1; i &lt;= numberOfColumns; i++) {\n                    System.out.print(&quot;   Column &quot; + i + &quot;:  &quot;);\n                    System.out.println(rs.getString(i));\n                }\n                System.out.println(&quot;&quot;);\n                rowCount++;\n            }\n\n            System.out.println(&quot;Waiting.&quot;);\n            String thisLine;\n            try {\n                InputStreamReader converter = new InputStreamReader(System.in);\n                BufferedReader br = new BufferedReader(converter);\n                while ((thisLine = br.readLine()) != null) { // while loop begins here\n                    System.out.println(thisLine);\n                } // end while\n            } // end try\n            catch (IOException e) {\n                System.err.println(&quot;Error: &quot; + e);\n            }\n\n            stmt.close();\n            conn.close();\n\n        } catch(SQLException ex) {\n            System.err.print(&quot;SQLException: &quot;);\n            System.err.println(ex.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>To compile it, I use:</p>\n<pre><code>javac -classpath &quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\pvjdbc2.jar&quot;;&quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\pvjdbc2x.jar&quot;;&quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\jpscs.jar&quot;;. SQLStatement.java\n</code></pre>\n<p>And to run it, I use:</p>\n<pre><code>java -classpath &quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\pvjdbc2.jar&quot;;&quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\pvjdbc2x.jar&quot;;&quot;C:\\Program Files\\Pervasive Software\\PSQL\\bin\\jpscs.jar&quot;;.\\ SQLStatement.java\n</code></pre>\n<p>You might need to change the location of the PSQL JAR files if you are using a 64-bit OS.</p>\n"},{"tags":[],"owner":{"account_id":8954345,"reputation":85,"user_id":6679294,"display_name":"Unknown Kadaba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476653671,"creation_date":1476388271,"answer_id":40029749,"question_id":10477378,"body_markdown":"I use the following library with Dbeaver for querying in a Pervasive database:\r\n\r\n - jpscs.jar\r\n - pvjdbc2x.jar\r\n - pvjdbc2.jar\r\n\r\n","title":"Creating a Java Connector for Pervasive PSQL","body":"<p>I use the following library with Dbeaver for querying in a Pervasive database:</p>\n\n<ul>\n<li>jpscs.jar</li>\n<li>pvjdbc2x.jar</li>\n<li>pvjdbc2.jar</li>\n</ul>\n"}],"owner":{"account_id":1250073,"reputation":1660,"user_id":1294642,"accept_rate":52,"display_name":"Navyah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10483420,"answer_count":2,"score":0,"last_activity_date":1664311403,"creation_date":1336370611,"question_id":10477378,"body_markdown":"How can I create a connector for [Pervasive PSQL][1] in Java?\r\n\r\nHow can I create a connector for Pervasive PSQL? I created a sample connector, but I am not sure whether it is right or wrong.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Pervasive_PSQL\r\n\r\n","title":"Creating a Java Connector for Pervasive PSQL","body":"<p>How can I create a connector for <a href=\"https://en.wikipedia.org/wiki/Pervasive_PSQL\" rel=\"nofollow noreferrer\">Pervasive PSQL</a> in Java?</p>\n<p>How can I create a connector for Pervasive PSQL? I created a sample connector, but I am not sure whether it is right or wrong.</p>\n"},{"tags":["java","version"],"answers":[{"tags":[],"owner":{"account_id":26463095,"reputation":31,"user_id":20104749,"display_name":"voltar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1664311386,"creation_date":1664311386,"answer_id":73873623,"question_id":73031072,"body_markdown":"I went to\r\n\r\nhttps://www.oracle.com/java/technologies/downloads/#java8-mac\r\n\r\nand selected jdk-8u341-macosx-x64.dmg to download. Here&#39;s the link:\r\n\r\nhttps://www.oracle.com/webapps/redirect/signon?nexturl=https://download.oracle.com/otn/java/jdk/8u341-b10/424b9da4b48848379167015dcc250d8d/jdk-8u341-macosx-x64.dmg\r\n\r\nInstalled this and that problem went away.\r\nHope this helps.\r\n","title":"Java Control Panel - Update tab keeps loading","body":"<p>I went to</p>\n<p><a href=\"https://www.oracle.com/java/technologies/downloads/#java8-mac\" rel=\"nofollow noreferrer\">https://www.oracle.com/java/technologies/downloads/#java8-mac</a></p>\n<p>and selected jdk-8u341-macosx-x64.dmg to download. Here's the link:</p>\n<p><a href=\"https://www.oracle.com/webapps/redirect/signon?nexturl=https://download.oracle.com/otn/java/jdk/8u341-b10/424b9da4b48848379167015dcc250d8d/jdk-8u341-macosx-x64.dmg\" rel=\"nofollow noreferrer\">https://www.oracle.com/webapps/redirect/signon?nexturl=https://download.oracle.com/otn/java/jdk/8u341-b10/424b9da4b48848379167015dcc250d8d/jdk-8u341-macosx-x64.dmg</a></p>\n<p>Installed this and that problem went away.\nHope this helps.</p>\n"}],"owner":{"account_id":5399819,"reputation":109,"user_id":11015575,"display_name":"Anjali Rana"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1101,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":1,"score":4,"last_activity_date":1664311386,"creation_date":1658204340,"question_id":73031072,"body_markdown":"I am trying to see if there are updates available for java, but the update tab keeps loading endlessly. My macOs is `macOS Monterey`. Below is how it&#39;s looking while it loads:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z4RX2.png\r\n\r\nAny help is appreciated.","title":"Java Control Panel - Update tab keeps loading","body":"<p>I am trying to see if there are updates available for java, but the update tab keeps loading endlessly. My macOs is <code>macOS Monterey</code>. Below is how it's looking while it loads:\n<a href=\"https://i.stack.imgur.com/Z4RX2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4RX2.png\" alt=\"enter image description here\" /></a></p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":2,"creation_date":1664311380,"post_id":73873592,"comment_id":130441711,"body_markdown":"Parses fine in Java 11 and 8 for me.","body":"Parses fine in Java 11 and 8 for me."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1664312796,"post_id":73873592,"comment_id":130442060,"body_markdown":"Works fine for me as well in Java8. In any case, it&#39;s better to use the `java.time.xxx` classes since the antique `Date` class is error prone.","body":"Works fine for me as well in Java8. In any case, it&#39;s better to use the <code>java.time.xxx</code> classes since the antique <code>Date</code> class is error prone."},{"owner":{"account_id":18946671,"reputation":11,"user_id":13825393,"display_name":"Ronei Vinicius Gebert"},"score":2,"creation_date":1664313349,"post_id":73873592,"comment_id":130442194,"body_markdown":"@SilvioMayolo / @DevilsHnd - thanks for your answers! I found the problem.. Actually the date `2010-10-17 00:00:00` isn&#39;t valid because of the &#39;daylight saving time&#39; for Brazilian timezone :/\nSo, the Java&#39;s bahaviour is&#39;t wrong..","body":"@SilvioMayolo / @DevilsHnd - thanks for your answers! I found the problem.. Actually the date <code>2010-10-17 00:00:00</code> isn&#39;t valid because of the &#39;daylight saving time&#39; for Brazilian timezone :/ So, the Java&#39;s bahaviour is&#39;t wrong.."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1664378455,"post_id":73873592,"comment_id":130459241,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalDateTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalDateTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1664378580,"post_id":73873592,"comment_id":130459292,"body_markdown":"Since the date and time in combination is not valid because of summer time (DST), does that mean that you *do* want the exception?","body":"Since the date and time in combination is not valid because of summer time (DST), does that mean that you <i>do</i> want the exception?"},{"owner":{"account_id":18946671,"reputation":11,"user_id":13825393,"display_name":"Ronei Vinicius Gebert"},"score":0,"creation_date":1664384872,"post_id":73873592,"comment_id":130461468,"body_markdown":"@OleV.V. well, in this specific case (DST) I don&#39;t want error and I workaround my code to increse 1 hour (2010-10-17 00:00:00 =&gt; 2010-10-17 01:00:00), but, I need to use LENIENT=FALSE because of other reasons.. For example, If I don&#39;t use LENIENT=FALSE the parser won&#39;t raise error for a grotesque invalid date.. Example, `9-99-9999 99:99:99` will work.. About my workaround (+1hr), I know it doesn&#39;t sound good but it was my only option, I&#39;m consuming an API that returns this &quot;invalid date&quot; and fixing the API is out of my league..","body":"@OleV.V. well, in this specific case (DST) I don&#39;t want error and I workaround my code to increse 1 hour (2010-10-17 00:00:00 =&gt; 2010-10-17 01:00:00), but, I need to use LENIENT=FALSE because of other reasons.. For example, If I don&#39;t use LENIENT=FALSE the parser won&#39;t raise error for a grotesque invalid date.. Example, <code>9-99-9999 99:99:99</code> will work.. About my workaround (+1hr), I know it doesn&#39;t sound good but it was my only option, I&#39;m consuming an API that returns this &quot;invalid date&quot; and fixing the API is out of my league.."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1664385385,"post_id":73873592,"comment_id":130461645,"body_markdown":"In this case java.time offers a very fine solution for you: `LocalDateTime.parse(&quot;2010-10-17 00:00:00&quot;, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;).withResolverStyle(ResolverStyle.STRICT)).atZone(ZoneId.of(&quot;America/Sao_Paulo&quot;))`. Yields `2010-10-17T01:00-02:00[America/Sao_Paulo]`. Substitute the Brazilian time zone you intended, as you know, there are several.","body":"In this case java.time offers a very fine solution for you: <code>LocalDateTime.parse(&quot;2010-10-17 00:00:00&quot;, DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm:ss&quot;).withResolverStyle(ResolverStyle.STRICT)).atZone(Z&zwnj;&#8203;oneId.of(&quot;America&#47;Sa&zwnj;&#8203;o_Paulo&quot;))</code>. Yields <code>2010-10-17T01:00-02:00[America&#47;Sao_Paulo]</code>. Substitute the Brazilian time zone you intended, as you know, there are several."}],"owner":{"account_id":18946671,"reputation":11,"user_id":13825393,"display_name":"Ronei Vinicius Gebert"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664311190,"creation_date":1664311190,"question_id":73873592,"body_markdown":"I&#39;m using SimpleDateFormat to parse dates.. And I&#39;ve detected that some &quot;valid&quot; dates are causing exceptions.\r\n\r\nExample that works fine:\r\n\r\n```\r\n\t@Test\r\n\tpublic void testThatWorksFine() throws ParseException {\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyy-MM-dd HH:mm:ss&quot; );\r\n\t\tdateFormat.setLenient( false );\r\n\t\tDate parsedDate = dateFormat.parse( &quot;2006-11-22 00:00:00&quot; );\r\n\t\tassertNotNull( parsedDate );\r\n\t}\r\n\r\n```\r\n\r\n\r\nTest with error:\r\n\r\n```\r\n\t@Test\r\n\tpublic void testThatDoesntWork() throws ParseException {\r\n\t\tSimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyy-MM-dd HH:mm:ss&quot; );\r\n\t\tdateFormat.setLenient( false );\r\n\t\tDate parsedDate = dateFormat.parse( &quot;2010-10-17 00:00:00&quot; );\r\n\t\tassertNotNull( parsedDate );\r\n\t}\r\n```\r\n\r\nResult: `java.text.ParseException: Unparseable date: &quot;2010-10-17 00:00:00&quot;`\r\n\r\nImportant: I need to disable lenient because I want to raise error when my date String is invalid, but, in the second test the date is valid and the parse doesn&#39;t works.. \r\n\r\nAny idea why the date `2010-10-17 00:00:00` results in error when I try to parse?\r\nWhen I increse or decrease 1 day (`2010-10-16 00:00:00` or `2010-10-18 00:00:00`) it works..\r\n\r\nObs about env.: Running Java version 1.8","title":"Java - Parsing exception for some specific dates","body":"<p>I'm using SimpleDateFormat to parse dates.. And I've detected that some &quot;valid&quot; dates are causing exceptions.</p>\n<p>Example that works fine:</p>\n<pre><code>    @Test\n    public void testThatWorksFine() throws ParseException {\n        SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyy-MM-dd HH:mm:ss&quot; );\n        dateFormat.setLenient( false );\n        Date parsedDate = dateFormat.parse( &quot;2006-11-22 00:00:00&quot; );\n        assertNotNull( parsedDate );\n    }\n\n</code></pre>\n<p>Test with error:</p>\n<pre><code>    @Test\n    public void testThatDoesntWork() throws ParseException {\n        SimpleDateFormat dateFormat = new SimpleDateFormat( &quot;yyyy-MM-dd HH:mm:ss&quot; );\n        dateFormat.setLenient( false );\n        Date parsedDate = dateFormat.parse( &quot;2010-10-17 00:00:00&quot; );\n        assertNotNull( parsedDate );\n    }\n</code></pre>\n<p>Result: <code>java.text.ParseException: Unparseable date: &quot;2010-10-17 00:00:00&quot;</code></p>\n<p>Important: I need to disable lenient because I want to raise error when my date String is invalid, but, in the second test the date is valid and the parse doesn't works..</p>\n<p>Any idea why the date <code>2010-10-17 00:00:00</code> results in error when I try to parse?\nWhen I increse or decrease 1 day (<code>2010-10-16 00:00:00</code> or <code>2010-10-18 00:00:00</code>) it works..</p>\n<p>Obs about env.: Running Java version 1.8</p>\n"},{"tags":["java","apache-spark","machine-learning","apache-spark-mllib"],"answers":[{"tags":[],"owner":{"account_id":277849,"reputation":7412,"user_id":572083,"display_name":"Holden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433357768,"creation_date":1433357273,"answer_id":30628239,"question_id":30623227,"body_markdown":"You&#39;re heading in the correct direction, and you&#39;ve already managed to train a model which is great.\r\n\r\nFor binary clasification it will return either a 0.0 or a 1.0, and  its up to you to map this back to your string values.","title":"How to get Spark MLlib RandomForestModel.predict response as text value YES/NO?","body":"<p>You're heading in the correct direction, and you've already managed to train a model which is great.</p>\n\n<p>For binary clasification it will return either a 0.0 or a 1.0, and  its up to you to map this back to your string values.</p>\n"},{"tags":[],"owner":{"account_id":2558827,"reputation":735,"user_id":2220275,"accept_rate":14,"display_name":"Dr VComas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1436843512,"creation_date":1436843512,"answer_id":31396994,"question_id":30623227,"body_markdown":"I am more familiar with the scala version but I&#39;ll try to help. \r\n\r\nYou need to map the target variable (Action) and all categorical features into levels starting in 0 like 0,1,2,3... For example router1, router2, ... router5 into 0,1,2...4. The same with your target variable which I think was the only one you actually mapped, yes/no to 1/0 (I am not sure what your `tf.transform(featureList)` is actually doing). \r\n \r\nOnce you have done this you can train your Randomforest classifier specifying the map for categorical features. Basically it needs you to tell which features are categorical and how many levels do they have, this is the scala version but you can easily translate it into java:\r\n\r\n    val categoricalFeaturesInfo = Map[Int, Int]((2,2),(3,5))\r\n\r\nthis is basically saying that in your list of features the 3rd one (2) has 2 levels (2,2) and the 4th one (3) has 5 levels (3,5). The rest are considered Doubles. \r\n \r\nNow you pass the categoricalFeaturesInfo when training the classifier together with the other parameters as:\r\n\r\n    val modelRF = RandomForest.trainClassifier(trainingData, numClasses, categoricalFeaturesInfo,numTrees, featureSubsetStrategy, impurity, maxDepth, maxBins)\r\n\r\nNow when you need to evaluate it, the predict function will return a double 0,1 and you can use that to compute accuracy, precision or any metric needed. \r\n\r\nThis is the example (sorry scala again) if you have a testData where you did the same transformations as before:\r\n\r\n    val predictionAndLabels = testData.map { point =&gt;\r\n      val prediction = modelRF.predict(point.features)\r\n      (point.label, prediction)\r\n    } \r\n\r\nHere your results are clear, the label as 1/0 and the predicted value is also 1/0, any computation of Accuracy, Precision and Recall is straightforward. \r\n\r\nI hope it helps!!","title":"How to get Spark MLlib RandomForestModel.predict response as text value YES/NO?","body":"<p>I am more familiar with the scala version but I'll try to help. </p>\n\n<p>You need to map the target variable (Action) and all categorical features into levels starting in 0 like 0,1,2,3... For example router1, router2, ... router5 into 0,1,2...4. The same with your target variable which I think was the only one you actually mapped, yes/no to 1/0 (I am not sure what your <code>tf.transform(featureList)</code> is actually doing). </p>\n\n<p>Once you have done this you can train your Randomforest classifier specifying the map for categorical features. Basically it needs you to tell which features are categorical and how many levels do they have, this is the scala version but you can easily translate it into java:</p>\n\n<pre><code>val categoricalFeaturesInfo = Map[Int, Int]((2,2),(3,5))\n</code></pre>\n\n<p>this is basically saying that in your list of features the 3rd one (2) has 2 levels (2,2) and the 4th one (3) has 5 levels (3,5). The rest are considered Doubles. </p>\n\n<p>Now you pass the categoricalFeaturesInfo when training the classifier together with the other parameters as:</p>\n\n<pre><code>val modelRF = RandomForest.trainClassifier(trainingData, numClasses, categoricalFeaturesInfo,numTrees, featureSubsetStrategy, impurity, maxDepth, maxBins)\n</code></pre>\n\n<p>Now when you need to evaluate it, the predict function will return a double 0,1 and you can use that to compute accuracy, precision or any metric needed. </p>\n\n<p>This is the example (sorry scala again) if you have a testData where you did the same transformations as before:</p>\n\n<pre><code>val predictionAndLabels = testData.map { point =&gt;\n  val prediction = modelRF.predict(point.features)\n  (point.label, prediction)\n} \n</code></pre>\n\n<p>Here your results are clear, the label as 1/0 and the predicted value is also 1/0, any computation of Accuracy, Precision and Recall is straightforward. </p>\n\n<p>I hope it helps!!</p>\n"}],"owner":{"account_id":202342,"reputation":13496,"user_id":449355,"accept_rate":91,"display_name":"Umesh K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2485,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":31396994,"answer_count":2,"score":1,"last_activity_date":1664311040,"creation_date":1433342299,"question_id":30623227,"body_markdown":"I am trying to implement RandomForest algorithm using Apache Spark MLLib. I have the dataset in the CSV format with the following features:\r\n\r\n    DayOfWeek(int),AlertType(String),Application(String),Router(String),Symptom(String),Action(String)\r\n    0,Network1,App1,Router1,Not reachable,YES\r\n    0,Network1,App2,Router5,Not reachable,NO\r\n\r\nI want to use RandomForest MLlib and do prediction on last field Action and I want response as YES/NO.\r\n\r\nI am following code from [GitHub][1] to create RandomForest model. Since I have all categorical features except one int feature I have used the following code to convert them into `JavaRDD&lt;LabeledPoint&gt;` - is any of that wrong?\r\n\r\n    // Load and parse the data file.\r\n            JavaRDD&lt;String&gt; data = jsc.textFile(&quot;/tmp/xyz/data/training-dataset.csv&quot;);\r\n    \r\n           // I have 14 features so giving 14 as arg to the following\r\n            final HashingTF tf = new HashingTF(14);\r\n    \r\n            // Create LabeledPoint datasets for Actionable and nonactionable\r\n            JavaRDD&lt;LabeledPoint&gt; labledData = data.map(new Function&lt;String, LabeledPoint&gt;() {\r\n                @Override public LabeledPoint call(String alert) {\r\n                    List&lt;String&gt; featureList = Arrays.asList(alert.trim().split(&quot;,&quot;));\r\n                    String actionType = featureList.get(featureList.size() - 1).toLowerCase();\r\n                    return new LabeledPoint(actionType.equals(&quot;YES&quot;)? 1 : 0, tf.transform(featureList));\r\n                }\r\n            });\r\n\r\nSimilarly above I create testdata and use in the following code to do prediction\r\n\r\n    JavaPairRDD&lt;Double, Double&gt; predictionAndLabel =\r\n            testData.mapToPair(new PairFunction&lt;LabeledPoint, Double, Double&gt;() {\r\n              @Override\r\n              public Tuple2&lt;Double, Double&gt; call(LabeledPoint p) {\r\n                return new Tuple2&lt;Double, Double&gt;(model.predict(p.features()), p.label());\r\n              }\r\n            });\r\n\r\nHow do I get prediction based on my last field Action and prediction should come as YES/NO? Current predict method returns double not able to understand how do I implement it? Also am I following the correct approach of categorical feature into `LabledPoint`? I am new to machine learning and Spark MLlib.\r\n\r\n  [1]: https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/mllib/JavaRandomForestExample.java","title":"How to get Spark MLlib RandomForestModel.predict response as text value YES/NO?","body":"<p>I am trying to implement RandomForest algorithm using Apache Spark MLLib. I have the dataset in the CSV format with the following features:</p>\n<pre><code>DayOfWeek(int),AlertType(String),Application(String),Router(String),Symptom(String),Action(String)\n0,Network1,App1,Router1,Not reachable,YES\n0,Network1,App2,Router5,Not reachable,NO\n</code></pre>\n<p>I want to use RandomForest MLlib and do prediction on last field Action and I want response as YES/NO.</p>\n<p>I am following code from <a href=\"https://github.com/apache/spark/blob/master/examples/src/main/java/org/apache/spark/examples/mllib/JavaRandomForestExample.java\" rel=\"nofollow noreferrer\">GitHub</a> to create RandomForest model. Since I have all categorical features except one int feature I have used the following code to convert them into <code>JavaRDD&lt;LabeledPoint&gt;</code> - is any of that wrong?</p>\n<pre><code>// Load and parse the data file.\n        JavaRDD&lt;String&gt; data = jsc.textFile(&quot;/tmp/xyz/data/training-dataset.csv&quot;);\n\n       // I have 14 features so giving 14 as arg to the following\n        final HashingTF tf = new HashingTF(14);\n\n        // Create LabeledPoint datasets for Actionable and nonactionable\n        JavaRDD&lt;LabeledPoint&gt; labledData = data.map(new Function&lt;String, LabeledPoint&gt;() {\n            @Override public LabeledPoint call(String alert) {\n                List&lt;String&gt; featureList = Arrays.asList(alert.trim().split(&quot;,&quot;));\n                String actionType = featureList.get(featureList.size() - 1).toLowerCase();\n                return new LabeledPoint(actionType.equals(&quot;YES&quot;)? 1 : 0, tf.transform(featureList));\n            }\n        });\n</code></pre>\n<p>Similarly above I create testdata and use in the following code to do prediction</p>\n<pre><code>JavaPairRDD&lt;Double, Double&gt; predictionAndLabel =\n        testData.mapToPair(new PairFunction&lt;LabeledPoint, Double, Double&gt;() {\n          @Override\n          public Tuple2&lt;Double, Double&gt; call(LabeledPoint p) {\n            return new Tuple2&lt;Double, Double&gt;(model.predict(p.features()), p.label());\n          }\n        });\n</code></pre>\n<p>How do I get prediction based on my last field Action and prediction should come as YES/NO? Current predict method returns double not able to understand how do I implement it? Also am I following the correct approach of categorical feature into <code>LabledPoint</code>? I am new to machine learning and Spark MLlib.</p>\n"},{"tags":["java","eclipse","swt","bufferedimage","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":14177131,"reputation":46,"user_id":10241996,"display_name":"Hossein Rezaei"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1534573241,"creation_date":1534573241,"answer_id":51905883,"question_id":51904271,"body_markdown":"I had this problem in before, and i resolved that. assuming your image has located in resource folder of your project:\r\n\r\n    String yourImg = &quot;sampleImg.png&quot;;\r\n    ...\r\n    Label swtImg = new Label(composite, SWT.NONE);\r\n    swtImg.setImage(new Image(display, YourClassName.calss.getResourceAsStream(yourImg)));\r\n\r\nit&#39;s worked for me!\r\ngood luck ;)\r\n\r\n","title":"How to display a PNG image in a java SWT?","body":"<p>I had this problem in before, and i resolved that. assuming your image has located in resource folder of your project:</p>\n\n<pre><code>String yourImg = \"sampleImg.png\";\n...\nLabel swtImg = new Label(composite, SWT.NONE);\nswtImg.setImage(new Image(display, YourClassName.calss.getResourceAsStream(yourImg)));\n</code></pre>\n\n<p>it's worked for me!\ngood luck ;)</p>\n"}],"owner":{"account_id":221733,"reputation":36359,"user_id":479886,"accept_rate":61,"display_name":"NullPointerException"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51905883,"answer_count":1,"score":1,"last_activity_date":1664310831,"creation_date":1534552235,"question_id":51904271,"body_markdown":"I need to display a PNG image in a SWT Java window, I&#39;m using WindowBuilder and Eclipse.\r\n\r\nFirst I tried with a label and this code:\r\n\r\n    Label lblNewLabel = new Label(this, SWT.NONE);\r\n    \t\tlblNewLabel.setLayoutData(new GridData(SWT.CENTER, SWT.CENTER, true, true, 1, 1));\r\n    \t\tImage image = new Image(display, &quot;img/selae_mini.png&quot;);\t\t\r\n    \t\tlblNewLabel.setImage(image)\r\n\r\nIt worked when executing in eclipse, but when I generate the jar, then, it doesn&#39;t work. Then I found on Stack Overflow that you must use `ClassLoader.getSystemClassLoader().getResourceAsStream` to get a `bufferedImage` and after that  you must convert that `bufferedImage` to a `ImageData`, and finally convert that into a SWT `Image`. \r\n\r\nSo I tried with this code:\r\n\r\n\tprotected Image readImage(String path, Display display) {\r\n\t\tInputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(path);\r\n\t\tBufferedImage bi = null;\r\n\t\ttry {\r\n\t\t\tbi = ImageIO.read(stream);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tif (stream != null)\r\n\t\t\t\t\tstream.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn new Image(display, convertToSWT(bi));\r\n\t}\r\n\t\r\n\tpublic static ImageData convertToSWT(BufferedImage bufferedImage) {\r\n\t    if (bufferedImage.getColorModel() instanceof DirectColorModel) {\r\n\t        DirectColorModel colorModel = (DirectColorModel) bufferedImage.getColorModel();\r\n\t        PaletteData palette = new PaletteData(\r\n\t            colorModel.getRedMask(),\r\n\t            colorModel.getGreenMask(),\r\n\t            colorModel.getBlueMask()\r\n\t        );\r\n\t        ImageData data = new ImageData(\r\n\t            bufferedImage.getWidth(),\r\n\t            bufferedImage.getHeight(), colorModel.getPixelSize(),\r\n\t            palette\r\n\t        );\r\n\t        WritableRaster raster = bufferedImage.getRaster();\r\n\t        int[] pixelArray = new int[3];\r\n\t        for (int y = 0; y &lt; data.height; y++) {\r\n\t            for (int x = 0; x &lt; data.width; x++) {\r\n\t                raster.getPixel(x, y, pixelArray);\r\n\t                int pixel = palette.getPixel(\r\n\t                    new RGB(pixelArray[0], pixelArray[1], pixelArray[2])\r\n\t                );\r\n\t                data.setPixel(x, y, pixel);\r\n\t            }\r\n\t        }\r\n\t        return data;\r\n\t    } else if (bufferedImage.getColorModel() instanceof IndexColorModel) {\r\n\t        IndexColorModel colorModel = (IndexColorModel) bufferedImage.getColorModel();\r\n\t        int size = colorModel.getMapSize();\r\n\t        byte[] reds = new byte[size];\r\n\t        byte[] greens = new byte[size];\r\n\t        byte[] blues = new byte[size];\r\n\t        colorModel.getReds(reds);\r\n\t        colorModel.getGreens(greens);\r\n\t        colorModel.getBlues(blues);\r\n\t        RGB[] rgbs = new RGB[size];\r\n\t        for (int i = 0; i &lt; rgbs.length; i++) {\r\n\t            rgbs[i] = new RGB(reds[i] &amp; 0xFF, greens[i] &amp; 0xFF, blues[i] &amp; 0xFF);\r\n\t        }\r\n\t        PaletteData palette = new PaletteData(rgbs);\r\n\t        ImageData data = new ImageData(\r\n\t            bufferedImage.getWidth(),\r\n\t            bufferedImage.getHeight(),\r\n\t            colorModel.getPixelSize(),\r\n\t            palette\r\n\t        );\r\n\t        data.transparentPixel = colorModel.getTransparentPixel();\r\n\t        WritableRaster raster = bufferedImage.getRaster();\r\n\t        int[] pixelArray = new int[1];\r\n\t        for (int y = 0; y &lt; data.height; y++) {\r\n\t            for (int x = 0; x &lt; data.width; x++) {\r\n\t                raster.getPixel(x, y, pixelArray);\r\n\t                data.setPixel(x, y, pixelArray[0]);\r\n\t            }\r\n\t        }\r\n\t        return data;\r\n\t    }\r\n\t    return null;\r\n\t}\r\n\r\nThe problem now is that my Image is a PNG file, and when doing the IF of the convertToSWT method, it gets that the image has a ColorModel called #pixelBits, so it returns null on that method! and I can&#39;t find any info about how to solve this problem.\r\n","title":"How to display a PNG image in a java SWT?","body":"<p>I need to display a PNG image in a SWT Java window, I'm using WindowBuilder and Eclipse.</p>\n<p>First I tried with a label and this code:</p>\n<pre><code>Label lblNewLabel = new Label(this, SWT.NONE);\n        lblNewLabel.setLayoutData(new GridData(SWT.CENTER, SWT.CENTER, true, true, 1, 1));\n        Image image = new Image(display, &quot;img/selae_mini.png&quot;);     \n        lblNewLabel.setImage(image)\n</code></pre>\n<p>It worked when executing in eclipse, but when I generate the jar, then, it doesn't work. Then I found on Stack Overflow that you must use <code>ClassLoader.getSystemClassLoader().getResourceAsStream</code> to get a <code>bufferedImage</code> and after that  you must convert that <code>bufferedImage</code> to a <code>ImageData</code>, and finally convert that into a SWT <code>Image</code>.</p>\n<p>So I tried with this code:</p>\n<pre><code>protected Image readImage(String path, Display display) {\n    InputStream stream = ClassLoader.getSystemClassLoader().getResourceAsStream(path);\n    BufferedImage bi = null;\n    try {\n        bi = ImageIO.read(stream);\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            if (stream != null)\n                stream.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    \n    return new Image(display, convertToSWT(bi));\n}\n\npublic static ImageData convertToSWT(BufferedImage bufferedImage) {\n    if (bufferedImage.getColorModel() instanceof DirectColorModel) {\n        DirectColorModel colorModel = (DirectColorModel) bufferedImage.getColorModel();\n        PaletteData palette = new PaletteData(\n            colorModel.getRedMask(),\n            colorModel.getGreenMask(),\n            colorModel.getBlueMask()\n        );\n        ImageData data = new ImageData(\n            bufferedImage.getWidth(),\n            bufferedImage.getHeight(), colorModel.getPixelSize(),\n            palette\n        );\n        WritableRaster raster = bufferedImage.getRaster();\n        int[] pixelArray = new int[3];\n        for (int y = 0; y &lt; data.height; y++) {\n            for (int x = 0; x &lt; data.width; x++) {\n                raster.getPixel(x, y, pixelArray);\n                int pixel = palette.getPixel(\n                    new RGB(pixelArray[0], pixelArray[1], pixelArray[2])\n                );\n                data.setPixel(x, y, pixel);\n            }\n        }\n        return data;\n    } else if (bufferedImage.getColorModel() instanceof IndexColorModel) {\n        IndexColorModel colorModel = (IndexColorModel) bufferedImage.getColorModel();\n        int size = colorModel.getMapSize();\n        byte[] reds = new byte[size];\n        byte[] greens = new byte[size];\n        byte[] blues = new byte[size];\n        colorModel.getReds(reds);\n        colorModel.getGreens(greens);\n        colorModel.getBlues(blues);\n        RGB[] rgbs = new RGB[size];\n        for (int i = 0; i &lt; rgbs.length; i++) {\n            rgbs[i] = new RGB(reds[i] &amp; 0xFF, greens[i] &amp; 0xFF, blues[i] &amp; 0xFF);\n        }\n        PaletteData palette = new PaletteData(rgbs);\n        ImageData data = new ImageData(\n            bufferedImage.getWidth(),\n            bufferedImage.getHeight(),\n            colorModel.getPixelSize(),\n            palette\n        );\n        data.transparentPixel = colorModel.getTransparentPixel();\n        WritableRaster raster = bufferedImage.getRaster();\n        int[] pixelArray = new int[1];\n        for (int y = 0; y &lt; data.height; y++) {\n            for (int x = 0; x &lt; data.width; x++) {\n                raster.getPixel(x, y, pixelArray);\n                data.setPixel(x, y, pixelArray[0]);\n            }\n        }\n        return data;\n    }\n    return null;\n}\n</code></pre>\n<p>The problem now is that my Image is a PNG file, and when doing the IF of the convertToSWT method, it gets that the image has a ColorModel called #pixelBits, so it returns null on that method! and I can't find any info about how to solve this problem.</p>\n"},{"tags":["java","jakarta-ee","jca"],"comments":[{"owner":{"account_id":5031641,"reputation":3025,"user_id":4041633,"accept_rate":100,"display_name":"Thomas Stets"},"score":0,"creation_date":1416478352,"post_id":27036240,"comment_id":42593971,"body_markdown":"Look at https://xadisk.java.net/ . This is a JCA connector for file access with transaction support.","body":"Look at <a href=\"https://xadisk.java.net/\" rel=\"nofollow noreferrer\">xadisk.java.net</a> . This is a JCA connector for file access with transaction support."},{"owner":{"account_id":212026,"reputation":3241,"user_id":464590,"accept_rate":75,"display_name":"berezovskyi"},"score":0,"creation_date":1564223148,"post_id":27036240,"comment_id":100965561,"body_markdown":"A very good intro to JCA: https://www.youtube.com/watch?v=0mzd5c6oqQI","body":"A very good intro to JCA: <a href=\"https://www.youtube.com/watch?v=0mzd5c6oqQI\" rel=\"nofollow noreferrer\">youtube.com/watch?v=0mzd5c6oqQI</a>"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1664310476,"creation_date":1416476882,"answer_id":27036368,"question_id":27036240,"body_markdown":"JCA is a &quot;generic architecture for connection to legacy systems&quot;, mainly larger more mainframe-like systems (such as [SAP][1]).\r\n\r\nIt&#39;s definitely not something you would use when unzipping, nor would you access the file system with it.\r\n\r\nIt sounds like your teacher is confused.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SAP\r\n","title":"What is the use of Java Connector Architecture (JCA)?","body":"<p>JCA is a &quot;generic architecture for connection to legacy systems&quot;, mainly larger more mainframe-like systems (such as <a href=\"https://en.wikipedia.org/wiki/SAP\" rel=\"nofollow noreferrer\">SAP</a>).</p>\n<p>It's definitely not something you would use when unzipping, nor would you access the file system with it.</p>\n<p>It sounds like your teacher is confused.</p>\n"},{"tags":[],"owner":{"account_id":1622656,"reputation":1043,"user_id":1498904,"accept_rate":100,"display_name":"nomoa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664310672,"creation_date":1416477001,"answer_id":27036411,"question_id":27036240,"body_markdown":"JCA is the connector architecture that resource implementers should use to integrate their resource adapter (RA) into a Java EE application server.\r\n\r\nWhat your architect is asking is to make an RA for your resource management. It&#39;s clean, but it can be overkill.\r\n\r\nThe main benefit of using a resource adapter is to be cleanly integrated in the application server transaction workflow.\r\n\r\nLook *[Understanding Resource Adapters][1]* for more information.\r\n\r\nBut if you just read a ZIP file without any modification, it&#39;s not worth the effort.\r\n\r\nNote that some have already written a generic filesystem RA that you could use *[File Resource Adapter][2]*. Maybe it can help as is or at least it&#39;s a good start at understanding how to make an RA.\r\n\r\n  [1]: https://docs.oracle.com/cd/E13222_01/wls/docs92/resadapter/understanding.html\r\n  [2]: http://sourceforge.net/projects/filera/\r\n\r\n\r\n\r\n","title":"What is the use of Java Connector Architecture (JCA)?","body":"<p>JCA is the connector architecture that resource implementers should use to integrate their resource adapter (RA) into a Java EE application server.</p>\n<p>What your architect is asking is to make an RA for your resource management. It's clean, but it can be overkill.</p>\n<p>The main benefit of using a resource adapter is to be cleanly integrated in the application server transaction workflow.</p>\n<p>Look <em><a href=\"https://docs.oracle.com/cd/E13222_01/wls/docs92/resadapter/understanding.html\" rel=\"nofollow noreferrer\">Understanding Resource Adapters</a></em> for more information.</p>\n<p>But if you just read a ZIP file without any modification, it's not worth the effort.</p>\n<p>Note that some have already written a generic filesystem RA that you could use <em><a href=\"http://sourceforge.net/projects/filera/\" rel=\"nofollow noreferrer\">File Resource Adapter</a></em>. Maybe it can help as is or at least it's a good start at understanding how to make an RA.</p>\n"}],"owner":{"account_id":2157580,"reputation":2593,"user_id":1912429,"accept_rate":43,"display_name":"Krishna Chaitanya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3092,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664310672,"creation_date":1416476525,"question_id":27036240,"body_markdown":"I am trying to extract a ZIP file using SDK zip API. I wrote the extraction code directly in my service class and my architect said the code has to be shifted to another module and should be implemented using [JCA][1]. I don&#39;t understand the use of JCA. He said it is a Java EE principle. All external systems, like the file system, should be accessed using JCA.\r\n\r\nIf this is the procedure then what about the database? It is also an external resource to my Java application. Why should not I use JCA to access a database?\r\n\r\nI don&#39;t understand the importance and advantage at all. I tried to read online also. But I did not find any page which explains the advantages. Besides, there aren&#39;t any good tutorials which explains the development step by step. Most of the links are broken.\r\n\r\nWhat is the explanation?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Jakarta_Connectors\r\n\r\n\r\n\r\n\r\n","title":"What is the use of Java Connector Architecture (JCA)?","body":"<p>I am trying to extract a ZIP file using SDK zip API. I wrote the extraction code directly in my service class and my architect said the code has to be shifted to another module and should be implemented using <a href=\"https://en.wikipedia.org/wiki/Jakarta_Connectors\" rel=\"nofollow noreferrer\">JCA</a>. I don't understand the use of JCA. He said it is a Java EE principle. All external systems, like the file system, should be accessed using JCA.</p>\n<p>If this is the procedure then what about the database? It is also an external resource to my Java application. Why should not I use JCA to access a database?</p>\n<p>I don't understand the importance and advantage at all. I tried to read online also. But I did not find any page which explains the advantages. Besides, there aren't any good tutorials which explains the development step by step. Most of the links are broken.</p>\n<p>What is the explanation?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1664352678,"post_id":73872177,"comment_id":130449359,"body_markdown":"&quot;it is removing some of the actual elements&quot; it removes elements with even parity, i.e. the elements that occur an even number of times.","body":"&quot;it is removing some of the actual elements&quot; it removes elements with even parity, i.e. the elements that occur an even number of times."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664303049,"creation_date":1664303049,"answer_id":73872222,"question_id":73872177,"body_markdown":"`map.remove(arr[i]);` removes the entry, and your code _does not_ put any new entry back in its place.\r\n\r\nThe simplest fix is just to replace\r\n\r\n```\r\nif(map.containsKey(arr[i])){\r\n  map.remove(arr[i]);\r\n} else {\r\n  map.put(arr[i],i);\r\n}\r\n```\r\n\r\nwith\r\n\r\n```\r\nmap.put(arr[i],i);\r\n```","title":"Why this code is not giving the unique values? I implemented hashmap here","body":"<p><code>map.remove(arr[i]);</code> removes the entry, and your code <em>does not</em> put any new entry back in its place.</p>\n<p>The simplest fix is just to replace</p>\n<pre><code>if(map.containsKey(arr[i])){\n  map.remove(arr[i]);\n} else {\n  map.put(arr[i],i);\n}\n</code></pre>\n<p>with</p>\n<pre><code>map.put(arr[i],i);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664309744,"creation_date":1664303142,"answer_id":73872240,"question_id":73872177,"body_markdown":"As an addendum to [Louis&#39; answer](https://stackoverflow.com/a/73872222/3788176), you don&#39;t need the a map here, because you don&#39;t use the value.\r\n\r\nJust use a `HashSet`:\r\n\r\n        HashSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        for(int i=0; i&lt;arr.length; i++){\r\n            set.add(arr[i]);\r\n        }\r\n        // Or:\r\n        // HashSet&lt;Integer&gt; set = Arrays.stream(arr).boxed().collect(Collectors.toCollection(HashSet::new));\r\n        set.forEach(k-&gt; System.out.print(k+&quot; &quot;));\r\n\r\nActually, the way `HashSet` is implemented is just using a `HashMap`: the values you add to the `Set` are the map keys; the value stored for each key is some arbitrary value. [See this question for more details](https://stackoverflow.com/questions/2235546/why-does-hashset-implementation-in-sun-java-use-hashmap-as-its-backing).\r\n\r\nNote that with either a `HashSet` or `HashMap` you don&#39;t get a reliable iteration order. If you want the entries to appear in the encounter order, use a `LinkedHashSet` (/`LinkedHashMap`).","title":"Why this code is not giving the unique values? I implemented hashmap here","body":"<p>As an addendum to <a href=\"https://stackoverflow.com/a/73872222/3788176\">Louis' answer</a>, you don't need the a map here, because you don't use the value.</p>\n<p>Just use a <code>HashSet</code>:</p>\n<pre><code>    HashSet&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    for(int i=0; i&lt;arr.length; i++){\n        set.add(arr[i]);\n    }\n    // Or:\n    // HashSet&lt;Integer&gt; set = Arrays.stream(arr).boxed().collect(Collectors.toCollection(HashSet::new));\n    set.forEach(k-&gt; System.out.print(k+&quot; &quot;));\n</code></pre>\n<p>Actually, the way <code>HashSet</code> is implemented is just using a <code>HashMap</code>: the values you add to the <code>Set</code> are the map keys; the value stored for each key is some arbitrary value. <a href=\"https://stackoverflow.com/questions/2235546/why-does-hashset-implementation-in-sun-java-use-hashmap-as-its-backing\">See this question for more details</a>.</p>\n<p>Note that with either a <code>HashSet</code> or <code>HashMap</code> you don't get a reliable iteration order. If you want the entries to appear in the encounter order, use a <code>LinkedHashSet</code> (/<code>LinkedHashMap</code>).</p>\n"}],"owner":{"account_id":24970662,"reputation":1,"user_id":18833865,"display_name":"workfromhome"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1664309744,"creation_date":1664302828,"question_id":73872177,"body_markdown":"why this code is not giving me the desired output?As we use hashmaps to implement key value pairs \r\n and the keys are unique. So this can remove the duplicate elements from the array. But instead of removing duplicate elements it is removing some of the actual elements.&lt;br /&gt; \r\n```\r\npackage hashmaps;\r\n\r\nimport java.util.HashMap;\r\n\r\npublic class HashMap01 {\r\n    public static void main(String[] args) {\r\n        int[] arr = {1,2,2,4,5,5,5,7,66,65,65};\r\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n        for(int i=0; i&lt;arr.length; i++){\r\n            if(map.containsKey(arr[i])){\r\n                map.remove(arr[i]);\r\n            } else {\r\n                map.put(arr[i],i);\r\n            }\r\n        }\r\n        map.forEach((k,v)-&gt; System.out.print(k+&quot; &quot;));\r\n    }\r\n}\r\n\r\n```\r\nI want\r\n```1,2,4,5,7,66,65```\r\n\r\n&lt;br /&gt;\r\n \r\n\r\n But getting  ```1,66,4,5,7```","title":"Why this code is not giving the unique values? I implemented hashmap here","body":"<p>why this code is not giving me the desired output?As we use hashmaps to implement key value pairs\nand the keys are unique. So this can remove the duplicate elements from the array. But instead of removing duplicate elements it is removing some of the actual elements.<br /></p>\n<pre><code>package hashmaps;\n\nimport java.util.HashMap;\n\npublic class HashMap01 {\n    public static void main(String[] args) {\n        int[] arr = {1,2,2,4,5,5,5,7,66,65,65};\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n        for(int i=0; i&lt;arr.length; i++){\n            if(map.containsKey(arr[i])){\n                map.remove(arr[i]);\n            } else {\n                map.put(arr[i],i);\n            }\n        }\n        map.forEach((k,v)-&gt; System.out.print(k+&quot; &quot;));\n    }\n}\n\n</code></pre>\n<p>I want\n<code>1,2,4,5,7,66,65</code></p>\n<br />\n \n<p>But getting  <code>1,66,4,5,7</code></p>\n"},{"tags":["java","junit","junit5"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1664308148,"post_id":73873018,"comment_id":130440795,"body_markdown":"Is `@Nested` perhaps something you can use?","body":"Is <code>@Nested</code> perhaps something you can use?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1664308222,"post_id":73873018,"comment_id":130440814,"body_markdown":"As for the temporary files, you can use `@TempDir Path myTempDir` (or if you prefer, `File` instead of `Path`). JUnit will create it for you, and clean it up when your tests ends.","body":"As for the temporary files, you can use <code>@TempDir Path myTempDir</code> (or if you prefer, <code>File</code> instead of <code>Path</code>). JUnit will create it for you, and clean it up when your tests ends."},{"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"score":0,"creation_date":1664308346,"post_id":73873018,"comment_id":130440846,"body_markdown":"@RobSpoor It appears so, but putting that annotation on the TestSuite class didn&#39;t change the error or the console output. Should I have put it somewhere else? I&#39;m not very familiar with &quot;Nested.&quot;","body":"@RobSpoor It appears so, but putting that annotation on the TestSuite class didn&#39;t change the error or the console output. Should I have put it somewhere else? I&#39;m not very familiar with &quot;Nested.&quot;"},{"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"score":0,"creation_date":1664308410,"post_id":73873018,"comment_id":130440863,"body_markdown":"@RobSpoor It also doesn&#39;t look like I can use &quot;TempDir,&quot; sounds like it would have been pretty cool.","body":"@RobSpoor It also doesn&#39;t look like I can use &quot;TempDir,&quot; sounds like it would have been pretty cool."},{"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"score":0,"creation_date":1664309393,"post_id":73873018,"comment_id":130441154,"body_markdown":"@user16320675 A public class with no annotations on the class declaration, every method &quot;public void&quot; and annotated with &quot;Test&quot; and a &quot;DisplayName.&quot;","body":"@user16320675 A public class with no annotations on the class declaration, every method &quot;public void&quot; and annotated with &quot;Test&quot; and a &quot;DisplayName.&quot;"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1664309462,"post_id":73873018,"comment_id":130441176,"body_markdown":"Which `Test`? `org.junit.Test` or `org.junit.jupiter.api.Test` ? I believe you are mixing JUnit 4 and JUnit 5...","body":"Which <code>Test</code>? <code>org.junit.Test</code> or <code>org.junit.jupiter.api.Test</code> ? I believe you are mixing JUnit 4 and JUnit 5..."},{"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"score":0,"creation_date":1664309673,"post_id":73873018,"comment_id":130441237,"body_markdown":"@user16320675 org.junit.jupiter.api.Test","body":"@user16320675 org.junit.jupiter.api.Test"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1664309786,"post_id":73873018,"comment_id":130441261,"body_markdown":"probably that is why the methods are not being recognized, try  the first one `org.junit.Test` since using JUnit 4 style (actually almost a JUnit 3 style)","body":"probably that is why the methods are not being recognized, try  the first one <code>org.junit.Test</code> since using JUnit 4 style (actually almost a JUnit 3 style)"},{"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"score":0,"creation_date":1664309932,"post_id":73873018,"comment_id":130441297,"body_markdown":"@user16320675 What in the?!?! The import says JUnit 5. Somebody must have mislabeled it. Ugh! Thank you so much!","body":"@user16320675 What in the?!?! The import says JUnit 5. Somebody must have mislabeled it. Ugh! Thank you so much!"}],"owner":{"account_id":26041418,"reputation":15,"user_id":19746165,"display_name":"jsrc..programmer"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664309727,"creation_date":1664307743,"question_id":73873018,"body_markdown":"I am trying to create a JUnit test suite with actions that occur before tests run and after they complete. I have to copy some files from a resources folder contained in a project so they&#39;re available on the file system for testing, run tests, and then delete the temporary copied resources folder. (I know that otherwise I could just use getResourceAsStream(), but since some third-party dependencies can only read files if they&#39;re given file names as a string, this is how I have to do things.)\r\n\r\nI am currently using IntelliJ IDEA 2022.2 (Ultimate) and JUnit 5.3.2. Both programs are installed and configured properly; I have used them without issue to create and run tests for some time.\r\n\r\nHowever, I am running into problems creating this test suite. I have created the following test suite class:\r\n\r\n    import org.junit.AfterClass;\r\n    import org.junit.BeforeClass;\r\n    import org.junit.runner.JUnitCore;\r\n    import org.junit.runner.Result;\r\n    import org.junit.runner.RunWith;\r\n    import org.junit.runner.notification.Failure;\r\n    import org.junit.runners.Suite;\r\n    \r\n    public class MyTest {\r\n        public static void main(String[] args) {\r\n            Result result = JUnitCore.runClasses(TestSuite.class);\r\n            for (Failure failure: result.getFailures()) {\r\n                System.out.println(failure.toString());\r\n                failure.getException().printStackTrace();\r\n            }\r\n            System.out.println(result.wasSuccessful());\r\n        }\r\n    \r\n        @RunWith(Suite.class)\r\n        @Suite.SuiteClasses({\r\n            correct.package.path.Class1.class,\r\n            correct.package.path.Class2.class\r\n        })\r\n        public static class TestSuite {\r\n    \r\n            @BeforeClass\r\n            public static void setup() {\r\n                System.out.println(&quot;Setting up&quot;);\r\n            }\r\n    \r\n            @AfterClass\r\n            public static void cleanup() {\r\n                System.out.println(&quot;Cleaning up&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nWhen I run MyTest, however, I get the following output:\r\n\r\n    Setting up\r\n    Cleaning up\r\n    initializationError(correct.package.path.Class1): No runnable methods\r\n    initializationError(correct.package.path.Class2): No runnable methods\r\n    false\r\n    java.lang.Exception: No runnable methods\r\n    ... long ugly stack trace through JUnit classes ...\r\n\r\nThe paths to the Class1/Class2 classes containing testable methods (which are in different packages than the test suite class) are correct; I have triple-checked that. The testable methods in those classes also run just fine if I execute them independently.\r\n\r\nBased on the current output, it looks like my suite is executing setup, then cleanup, then trying to find tests in the other classes and not finding them.\r\n\r\nI have tried switching annotations from &quot;BeforeClass&quot; and &quot;AfterClass&quot; to &quot;BeforeAll&quot; and &quot;AfterAll,&quot; moving the TestSuite class out of the MyTest class, and eliminating the setup and cleanup methods, without success. The only significant change I&#39;ve seen is that if I switch annotations from &quot;BeforeClass&quot; and &quot;AfterClass&quot; to &quot;BeforeAll&quot; and &quot;AfterAll&quot; I get no messages from those methods on the console. I&#39;ve also gone through StackOverflow; that&#39;s where I got all these potential solutions to try.\r\n\r\nAlso, I do not appear to have access to the &quot;SelectPackages&quot; annotation, the simple &quot;Suite&quot; annotation in lieu of &quot;RunWith,&quot; or parameterized annotations. (Perhaps there&#39;s something I&#39;m missing?)\r\n\r\nCan anyone help me figure out why this test suite isn&#39;t working properly, please? I would appreciate any help you could give.\r\n\r\nThanks!\r\n\r\nEDIT: Example tested class:\r\n\r\n    package correct.package.path;\r\n    \r\n    import org.junit.jupiter.api.DisplayName;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    public class Class1 {\r\n    \r\n    \t@Test\r\n    \t@DisplayName(&quot;Test Display&quot;)\r\n    \tpublic void myTestMethod() {\r\n    \t\tSystem.out.println(&quot;hi&quot;);\r\n    \t}\r\n    }","title":"Creating a JUnit 5 test suite with multiple classes, setup, and cleanup","body":"<p>I am trying to create a JUnit test suite with actions that occur before tests run and after they complete. I have to copy some files from a resources folder contained in a project so they're available on the file system for testing, run tests, and then delete the temporary copied resources folder. (I know that otherwise I could just use getResourceAsStream(), but since some third-party dependencies can only read files if they're given file names as a string, this is how I have to do things.)</p>\n<p>I am currently using IntelliJ IDEA 2022.2 (Ultimate) and JUnit 5.3.2. Both programs are installed and configured properly; I have used them without issue to create and run tests for some time.</p>\n<p>However, I am running into problems creating this test suite. I have created the following test suite class:</p>\n<pre><code>import org.junit.AfterClass;\nimport org.junit.BeforeClass;\nimport org.junit.runner.JUnitCore;\nimport org.junit.runner.Result;\nimport org.junit.runner.RunWith;\nimport org.junit.runner.notification.Failure;\nimport org.junit.runners.Suite;\n\npublic class MyTest {\n    public static void main(String[] args) {\n        Result result = JUnitCore.runClasses(TestSuite.class);\n        for (Failure failure: result.getFailures()) {\n            System.out.println(failure.toString());\n            failure.getException().printStackTrace();\n        }\n        System.out.println(result.wasSuccessful());\n    }\n\n    @RunWith(Suite.class)\n    @Suite.SuiteClasses({\n        correct.package.path.Class1.class,\n        correct.package.path.Class2.class\n    })\n    public static class TestSuite {\n\n        @BeforeClass\n        public static void setup() {\n            System.out.println(&quot;Setting up&quot;);\n        }\n\n        @AfterClass\n        public static void cleanup() {\n            System.out.println(&quot;Cleaning up&quot;);\n        }\n    }\n}\n</code></pre>\n<p>When I run MyTest, however, I get the following output:</p>\n<pre><code>Setting up\nCleaning up\ninitializationError(correct.package.path.Class1): No runnable methods\ninitializationError(correct.package.path.Class2): No runnable methods\nfalse\njava.lang.Exception: No runnable methods\n... long ugly stack trace through JUnit classes ...\n</code></pre>\n<p>The paths to the Class1/Class2 classes containing testable methods (which are in different packages than the test suite class) are correct; I have triple-checked that. The testable methods in those classes also run just fine if I execute them independently.</p>\n<p>Based on the current output, it looks like my suite is executing setup, then cleanup, then trying to find tests in the other classes and not finding them.</p>\n<p>I have tried switching annotations from &quot;BeforeClass&quot; and &quot;AfterClass&quot; to &quot;BeforeAll&quot; and &quot;AfterAll,&quot; moving the TestSuite class out of the MyTest class, and eliminating the setup and cleanup methods, without success. The only significant change I've seen is that if I switch annotations from &quot;BeforeClass&quot; and &quot;AfterClass&quot; to &quot;BeforeAll&quot; and &quot;AfterAll&quot; I get no messages from those methods on the console. I've also gone through StackOverflow; that's where I got all these potential solutions to try.</p>\n<p>Also, I do not appear to have access to the &quot;SelectPackages&quot; annotation, the simple &quot;Suite&quot; annotation in lieu of &quot;RunWith,&quot; or parameterized annotations. (Perhaps there's something I'm missing?)</p>\n<p>Can anyone help me figure out why this test suite isn't working properly, please? I would appreciate any help you could give.</p>\n<p>Thanks!</p>\n<p>EDIT: Example tested class:</p>\n<pre><code>package correct.package.path;\n\nimport org.junit.jupiter.api.DisplayName;\nimport org.junit.jupiter.api.Test;\n\npublic class Class1 {\n\n    @Test\n    @DisplayName(&quot;Test Display&quot;)\n    public void myTestMethod() {\n        System.out.println(&quot;hi&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1483490978,"post_id":41454202,"comment_id":70115592,"body_markdown":"Why do you (think you) need this? What are you trying to do?","body":"Why do you (think you) need this? What are you trying to do?"}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664309464,"creation_date":1483488808,"answer_id":41454338,"question_id":41454202,"body_markdown":"*Update*\r\n\r\n[ScrollPaneSkin][1] is now part of the public JavaFX API in more recent JavaFX versions, however, the rest of this answer regarding naming for the anonymous inner class still applies.\r\n\r\n----\r\n\r\n`ScrollPaneSkin$4` is likely an instance of [name mangling][2] for anonymous inner class created inside the ScrollPaneSkin.  This is probably why your code `event.getTarget() instanceof ScrollPaneSkin` does not work (because the target is actually the instance of the anonymous inner class rather than a skin itself).\r\n\r\n&gt; The scope of anonymous classes is confined to their parent class, so the compiler must produce a &quot;qualified&quot; public name for the inner class, to avoid conflict where other classes with the same name (inner or not) exist in the same namespace. Similarly, anonymous classes must have &quot;fake&quot; public names generated for them (as the concept of anonymous classes only exists in the compiler, not the runtime). So, compiling the following java program\r\n&gt; \r\n&gt;     public class foo {\r\n&gt;         class bar {\r\n&gt;             public int x;\r\n&gt;         }\r\n&gt;     \r\n&gt;         public void zark () {\r\n&gt;             Object f = new Object () {\r\n&gt;                 public String toString() {\r\n&gt;                     return &quot;hello&quot;;\r\n&gt;                 }\r\n&gt;             };\r\n&gt;         }\r\n&gt;     }\r\n&gt; \r\n&gt; will produce three .class files:\r\n&gt; \r\n&gt;  - `foo.class`, containing the main (outer) class foo \r\n&gt;  - `foo$bar.class`, containing the named inner class foo.bar \r\n&gt;  - `foo$1.class`, containing the anonymous inner class (local to method foo.zark)\r\n\r\nAs `ScrollPaneSkin` is a `com.sun` which is not supported public API, writing code based upon it is probably not a good idea as it may be fragile and prone to error due to the internal implementation of ScrollPaneSkin, which could change from Java to version to version.  I don&#39;t have a further suggestion on how you to accomplish what you wish to accomplish.\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/skin/ScrollPaneSkin.html\r\n  [2]: https://en.wikipedia.org/wiki/Name_mangling#Creating_unique_names_for_inner_and_anonymous_classes","title":"JavaFX instanceof ScrollPaneSkin fails","body":"<p><em>Update</em></p>\n<p><a href=\"https://openjfx.io/javadoc/19/javafx.controls/javafx/scene/control/skin/ScrollPaneSkin.html\" rel=\"nofollow noreferrer\">ScrollPaneSkin</a> is now part of the public JavaFX API in more recent JavaFX versions, however, the rest of this answer regarding naming for the anonymous inner class still applies.</p>\n<hr />\n<p><code>ScrollPaneSkin$4</code> is likely an instance of <a href=\"https://en.wikipedia.org/wiki/Name_mangling#Creating_unique_names_for_inner_and_anonymous_classes\" rel=\"nofollow noreferrer\">name mangling</a> for anonymous inner class created inside the ScrollPaneSkin.  This is probably why your code <code>event.getTarget() instanceof ScrollPaneSkin</code> does not work (because the target is actually the instance of the anonymous inner class rather than a skin itself).</p>\n<blockquote>\n<p>The scope of anonymous classes is confined to their parent class, so the compiler must produce a &quot;qualified&quot; public name for the inner class, to avoid conflict where other classes with the same name (inner or not) exist in the same namespace. Similarly, anonymous classes must have &quot;fake&quot; public names generated for them (as the concept of anonymous classes only exists in the compiler, not the runtime). So, compiling the following java program</p>\n<pre><code>public class foo {\n    class bar {\n        public int x;\n    }\n\n    public void zark () {\n        Object f = new Object () {\n            public String toString() {\n                return &quot;hello&quot;;\n            }\n        };\n    }\n}\n</code></pre>\n<p>will produce three .class files:</p>\n<ul>\n<li><code>foo.class</code>, containing the main (outer) class foo</li>\n<li><code>foo$bar.class</code>, containing the named inner class foo.bar</li>\n<li><code>foo$1.class</code>, containing the anonymous inner class (local to method foo.zark)</li>\n</ul>\n</blockquote>\n<p>As <code>ScrollPaneSkin</code> is a <code>com.sun</code> which is not supported public API, writing code based upon it is probably not a good idea as it may be fragile and prone to error due to the internal implementation of ScrollPaneSkin, which could change from Java to version to version.  I don't have a further suggestion on how you to accomplish what you wish to accomplish.</p>\n"},{"tags":[],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1483488861,"creation_date":1483488861,"answer_id":41454343,"question_id":41454202,"body_markdown":"Ok, I fixed it by myself. The problem was quite simple and the reason is `$4`. As I just found out, the `$4` points to an anonymous inner class of `ScrollPaneSkin` that obviously cannot be accessed from outside. That means that the target really was not an instance of `ScrollPaneSkin` but rather an instance of that inner class. The only workaround is to use `event.getTarget.getClass().getName()` and do a String-comparison. (Solution taken from [here](https://stackoverflow.com/a/17468215/5736633))","title":"JavaFX instanceof ScrollPaneSkin fails","body":"<p>Ok, I fixed it by myself. The problem was quite simple and the reason is <code>$4</code>. As I just found out, the <code>$4</code> points to an anonymous inner class of <code>ScrollPaneSkin</code> that obviously cannot be accessed from outside. That means that the target really was not an instance of <code>ScrollPaneSkin</code> but rather an instance of that inner class. The only workaround is to use <code>event.getTarget.getClass().getName()</code> and do a String-comparison. (Solution taken from <a href=\"https://stackoverflow.com/a/17468215/5736633\">here</a>)</p>\n"}],"owner":{"account_id":7557680,"reputation":2844,"user_id":5736633,"accept_rate":71,"display_name":"vatbub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":676,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":41454343,"answer_count":2,"score":1,"last_activity_date":1664309464,"creation_date":1483487815,"question_id":41454202,"body_markdown":"Just a quick question which is on my mind right now:\r\n\r\nI have a JavaFX application that contains (among others) a ScrollPane and I need to capture the MouseClicked event of that ScrollPane. That itself is actually no problem, except that I only need to handle the event if the event target is an instance of a Rectangle, ToggleButton or a ScrollPaneSkin. That is actually quite easy, too, I know. Right now, I have the following code:\r\n\r\n    @FXML\r\n    void scrollPaneOnMouseClicked(MouseEvent event) {\r\n        System.out.println(event.getTarget().getClass().getName());\r\n        System.out.println(event.getTarget() instanceof  ScrollPaneSkin);\r\n        if (event.getTarget() instanceof RoomRectangle || event.getTarget() instanceof ToggleButton || event.getTarget() instanceof ScrollPaneSkin) {\r\n            // handle\r\n        }\r\n    }\r\n\r\nexcept that `event.getTarget() instanceof ScrollPaneSkin` says false even if `System.out.println(event.getTarget().getClass().getName());` outputs `com.sun.javafx.scene.control.skin.ScrollPaneSkin$4` (and the debugger confirms that).\r\n\r\nI also tried `event.getTarget() instanceof ScrollPaneSkin$4` which resulted in a &quot;cannot find symbol&quot;-error.\r\n\r\nWhat did I miss here?","title":"JavaFX instanceof ScrollPaneSkin fails","body":"<p>Just a quick question which is on my mind right now:</p>\n\n<p>I have a JavaFX application that contains (among others) a ScrollPane and I need to capture the MouseClicked event of that ScrollPane. That itself is actually no problem, except that I only need to handle the event if the event target is an instance of a Rectangle, ToggleButton or a ScrollPaneSkin. That is actually quite easy, too, I know. Right now, I have the following code:</p>\n\n<pre><code>@FXML\nvoid scrollPaneOnMouseClicked(MouseEvent event) {\n    System.out.println(event.getTarget().getClass().getName());\n    System.out.println(event.getTarget() instanceof  ScrollPaneSkin);\n    if (event.getTarget() instanceof RoomRectangle || event.getTarget() instanceof ToggleButton || event.getTarget() instanceof ScrollPaneSkin) {\n        // handle\n    }\n}\n</code></pre>\n\n<p>except that <code>event.getTarget() instanceof ScrollPaneSkin</code> says false even if <code>System.out.println(event.getTarget().getClass().getName());</code> outputs <code>com.sun.javafx.scene.control.skin.ScrollPaneSkin$4</code> (and the debugger confirms that).</p>\n\n<p>I also tried <code>event.getTarget() instanceof ScrollPaneSkin$4</code> which resulted in a \"cannot find symbol\"-error.</p>\n\n<p>What did I miss here?</p>\n"},{"tags":["java","android-studio","http-live-streaming","iptv"],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664309360,"creation_date":1664309360,"answer_id":73873297,"question_id":72968164,"body_markdown":"If you look at the response from the servers in a browser inspector you will see that the MIME type, or content type, in the video that plays is:\r\n\r\n - application/vnd.apple.mpegurl\r\n\r\nwhile the MIME type of the video that does not play is:\r\n\r\n - text/plain; charset=utf-8\r\n\r\nI suspect this may be causing your issue.\r\n\r\nNote that the video which does not play is also a master playlist - i.e. it contains links to other m3u8 files.\r\n\r\nThis is hard to verify as online HLS Analyser&#39;s and some test players seem to be able to handle this and still request the individual video streams, which do have the video MIME type, and will likely play for you if requested individually.\r\n\r\n\r\n","title":"How to play any type of m8u3 live tv streaming on android?","body":"<p>If you look at the response from the servers in a browser inspector you will see that the MIME type, or content type, in the video that plays is:</p>\n<ul>\n<li>application/vnd.apple.mpegurl</li>\n</ul>\n<p>while the MIME type of the video that does not play is:</p>\n<ul>\n<li>text/plain; charset=utf-8</li>\n</ul>\n<p>I suspect this may be causing your issue.</p>\n<p>Note that the video which does not play is also a master playlist - i.e. it contains links to other m3u8 files.</p>\n<p>This is hard to verify as online HLS Analyser's and some test players seem to be able to handle this and still request the individual video streams, which do have the video MIME type, and will likely play for you if requested individually.</p>\n"}],"owner":{"account_id":15417207,"reputation":395,"user_id":11122289,"display_name":"Sarwar Sateer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664309360,"creation_date":1657723255,"question_id":72968164,"body_markdown":"I could play some of the live tv streams on my app, but I failed to play some of them.\r\non VLC play I can play this: https://raw.githubusercontent.com/taodicakhia/IPTV_Exception/master/channels/af/tolotv.m3u8\r\n\r\nand also this: http://51.210.227.142/hls/stream.m3u8\r\n\r\nbut in the android app, I can only play this one: http://51.210.227.142/hls/stream.m3u8\r\nI tried a lot but I couldn&#39;t figure out how to play the first one: https://raw.githubusercontent.com/taodicakhia/IPTV_Exception/master/channels/af/tolotv.m3u8\r\n\r\nThis is my code:\r\n\r\n    private void playVideo() {\r\n        try {\r\n            getWindow().setFormat(PixelFormat.TRANSLUCENT);\r\n            MediaController mediaController = new MediaController(AfghanistanTvAct.this);\r\n            myVideoView.setMediaController(mediaController);\r\n            Uri videoURI = Uri.parse(url);\r\n            myVideoView.setVideoURI(videoURI);\r\n            myVideoView.requestFocus();\r\n            myVideoView.setOnPreparedListener(mp -&gt; myVideoView.start());\r\n\r\n        } catch (Exception e) {\r\n            Toast.makeText(this, &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n\r\n","title":"How to play any type of m8u3 live tv streaming on android?","body":"<p>I could play some of the live tv streams on my app, but I failed to play some of them.\non VLC play I can play this: <a href=\"https://raw.githubusercontent.com/taodicakhia/IPTV_Exception/master/channels/af/tolotv.m3u8\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/taodicakhia/IPTV_Exception/master/channels/af/tolotv.m3u8</a></p>\n<p>and also this: <a href=\"http://51.210.227.142/hls/stream.m3u8\" rel=\"nofollow noreferrer\">http://51.210.227.142/hls/stream.m3u8</a></p>\n<p>but in the android app, I can only play this one: <a href=\"http://51.210.227.142/hls/stream.m3u8\" rel=\"nofollow noreferrer\">http://51.210.227.142/hls/stream.m3u8</a>\nI tried a lot but I couldn't figure out how to play the first one: <a href=\"https://raw.githubusercontent.com/taodicakhia/IPTV_Exception/master/channels/af/tolotv.m3u8\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/taodicakhia/IPTV_Exception/master/channels/af/tolotv.m3u8</a></p>\n<p>This is my code:</p>\n<pre><code>private void playVideo() {\n    try {\n        getWindow().setFormat(PixelFormat.TRANSLUCENT);\n        MediaController mediaController = new MediaController(AfghanistanTvAct.this);\n        myVideoView.setMediaController(mediaController);\n        Uri videoURI = Uri.parse(url);\n        myVideoView.setVideoURI(videoURI);\n        myVideoView.requestFocus();\n        myVideoView.setOnPreparedListener(mp -&gt; myVideoView.start());\n\n    } catch (Exception e) {\n        Toast.makeText(this, &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","testing"],"answers":[{"tags":[],"owner":{"account_id":10469593,"reputation":74,"user_id":7911017,"display_name":"Pavlo Kuchereshko"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1664219320,"creation_date":1664217786,"answer_id":73858586,"question_id":73858336,"body_markdown":"I suppose you forgot the **throw** keyword.\r\n\r\n    throw new IllegalArgumentException()\r\n\r\nbut this wouldn&#39;t help since you are in another thread. I&#39;ve got this passed:\r\n\r\n  \r\n\r\n      @Test\r\n      void should_throw_IllegalArgumentException() throws InterruptedException {\r\n        Thread.UncaughtExceptionHandler h = (th, ex) -&gt; assertTrue(ex instanceof IllegalArgumentException);\r\n\r\n        Thread t = new Thread(() -&gt; {\r\n          throw new IllegalArgumentException();\r\n        });\r\n\r\n        t.setUncaughtExceptionHandler(h);\r\n        t.start();\r\n        t.join();\r\n      }\r\n\r\nor use `Thread.setDefaultUncaughtExceptionHandler()` and set default handler for all threads on each test. ","title":"How to detect an exception thrown in another thread?","body":"<p>I suppose you forgot the <strong>throw</strong> keyword.</p>\n<pre><code>throw new IllegalArgumentException()\n</code></pre>\n<p>but this wouldn't help since you are in another thread. I've got this passed:</p>\n<pre><code>  @Test\n  void should_throw_IllegalArgumentException() throws InterruptedException {\n    Thread.UncaughtExceptionHandler h = (th, ex) -&gt; assertTrue(ex instanceof IllegalArgumentException);\n\n    Thread t = new Thread(() -&gt; {\n      throw new IllegalArgumentException();\n    });\n\n    t.setUncaughtExceptionHandler(h);\n    t.start();\n    t.join();\n  }\n</code></pre>\n<p>or use <code>Thread.setDefaultUncaughtExceptionHandler()</code> and set default handler for all threads on each test.</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664309234,"creation_date":1664223210,"answer_id":73859491,"question_id":73858336,"body_markdown":"The only way that this can throw an exception is if there is some reason why the new thread cannot be created:\r\n\r\n``` lang-java\r\n    new Thread(...).start();\r\n```\r\n\r\nWhatever exception happens _in_ the new thread _stays_ in the new thread. If you want to know whether an exception happened in the new thread, then you&#39;ll have to write code to _catch_ it in the new thread, and then the handler can pass the exception object to other threads in any of the same ways that you would use to pass any other object from one thread to another.\r\n\r\nThe [`CompletableFuture`](https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/CompletableFuture.html) class offers one way.\\*\r\n\r\n``` lang-java\r\nCompletableFuture&lt;Foobar&gt; cf = new CompletableFuture&lt;&gt;();\r\nnew Thread(() -&gt; {\r\n    try {\r\n        cf.complete(makeMeAFoobar(...));\r\n    }\r\n    catch (Throwable t) {\r\n        cf.completeExceptionally(t);\r\n    }\r\n}).start\r\n\r\n... do some other stuff, and then...\r\n\r\n// This either will return the `Foobar` object that was returned by the\r\n// `makeMeAFoobar()` call in the other thread, or else it will throw\r\n// an `ExecutionException` containing an exception that was caught in \r\n// the other thread.\r\n//\r\nFoobar foobar = cf.get();\r\n```\r\n\r\n--------------\r\n\r\n\\* Maybe somebody can suggest a more elegant way to use `CompletableFuture` in an explicitly created `new&#160;Thread(...)`. But, if you&#39;re willing to use the default thread pool instead of explicitly creating a thread, then you could save a few lines of code by writing this instead:\r\n\r\n``` lang-java\r\nCompletableFuture&lt;Foobar&gt; cf = CompletableFuture.runAsync(() -&gt; {\r\n    return makeMeAFoobar(...);\r\n});\r\n\r\n... do some other stuff ...\r\n\r\n// This either will return the `Foobar` object...or else it will throw...\r\nFoobar foobar = cf.get();\r\n```\r\n\r\n","title":"How to detect an exception thrown in another thread?","body":"<p>The only way that this can throw an exception is if there is some reason why the new thread cannot be created:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    new Thread(...).start();\n</code></pre>\n<p>Whatever exception happens <em>in</em> the new thread <em>stays</em> in the new thread. If you want to know whether an exception happened in the new thread, then you'll have to write code to <em>catch</em> it in the new thread, and then the handler can pass the exception object to other threads in any of the same ways that you would use to pass any other object from one thread to another.</p>\n<p>The <a href=\"https://download.java.net/java/early_access/loom/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\"><code>CompletableFuture</code></a> class offers one way.*</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Foobar&gt; cf = new CompletableFuture&lt;&gt;();\nnew Thread(() -&gt; {\n    try {\n        cf.complete(makeMeAFoobar(...));\n    }\n    catch (Throwable t) {\n        cf.completeExceptionally(t);\n    }\n}).start\n\n... do some other stuff, and then...\n\n// This either will return the `Foobar` object that was returned by the\n// `makeMeAFoobar()` call in the other thread, or else it will throw\n// an `ExecutionException` containing an exception that was caught in \n// the other thread.\n//\nFoobar foobar = cf.get();\n</code></pre>\n<hr />\n<p>* Maybe somebody can suggest a more elegant way to use <code>CompletableFuture</code> in an explicitly created <code>new Thread(...)</code>. But, if you're willing to use the default thread pool instead of explicitly creating a thread, then you could save a few lines of code by writing this instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Foobar&gt; cf = CompletableFuture.runAsync(() -&gt; {\n    return makeMeAFoobar(...);\n});\n\n... do some other stuff ...\n\n// This either will return the `Foobar` object...or else it will throw...\nFoobar foobar = cf.get();\n</code></pre>\n"}],"owner":{"account_id":19132605,"reputation":33,"user_id":13974170,"display_name":"Fran&#231;ois"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73859491,"answer_count":2,"score":0,"last_activity_date":1664309234,"creation_date":1664216394,"question_id":73858336,"body_markdown":"I would like to know if a code in a thread does throw an exception. When I run the following test :\r\n\r\n```java\r\n@Test\r\nvoid should_throw_IllegalArgumentException() {\r\n    assertThatExceptionOfType(IllegalArgumentException.class)\r\n        .isThrownBy(() -&gt; {\r\n            new Thread(() -&gt; new IllegalArgumentException()).start();\r\n        });\r\n}\r\n```\r\n\r\nThen the result is the following:\r\n\r\n```plain\r\njava.lang.AssertionError: \r\nExpecting code to raise a throwable.\r\n```\r\n\r\nDo you have an explanation? Do you know how to detect the `IllegalArgumentException` in this thread?","title":"How to detect an exception thrown in another thread?","body":"<p>I would like to know if a code in a thread does throw an exception. When I run the following test :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid should_throw_IllegalArgumentException() {\n    assertThatExceptionOfType(IllegalArgumentException.class)\n        .isThrownBy(() -&gt; {\n            new Thread(() -&gt; new IllegalArgumentException()).start();\n        });\n}\n</code></pre>\n<p>Then the result is the following:</p>\n<pre><code>java.lang.AssertionError: \nExpecting code to raise a throwable.\n</code></pre>\n<p>Do you have an explanation? Do you know how to detect the <code>IllegalArgumentException</code> in this thread?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1664314443,"post_id":73873194,"comment_id":130442470,"body_markdown":"You&#39;re converting a number into a string and comparing it to strings that have letters. The conditions shouldn&#39;t pass.","body":"You&#39;re converting a number into a string and comparing it to strings that have letters. The conditions shouldn&#39;t pass."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1664315194,"post_id":73873194,"comment_id":130442649,"body_markdown":"Instead of `String.valueOf(zufall)` I think it should be: `Pos[zufall]`.","body":"Instead of <code>String.valueOf(zufall)</code> I think it should be: <code>Pos[zufall]</code>."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1664322241,"post_id":73873194,"comment_id":130443716,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26462683,"reputation":1,"user_id":20104388,"display_name":"brian23"},"score":0,"creation_date":1664386275,"post_id":73873194,"comment_id":130461933,"body_markdown":"Hey thank you! The code works perfectly now.","body":"Hey thank you! The code works perfectly now."}],"owner":{"account_id":26462683,"reputation":1,"user_id":20104388,"display_name":"brian23"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664309138,"creation_date":1664308764,"question_id":73873194,"body_markdown":"my code does not print the if and else if methods after the random String from the array is scanned. \r\n```java\r\nimport java.util.Scanner;\r\nimport java.util.Random;\r\n\r\npublic class ScherreSteinPapier {\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString Pos[] = {&quot;Schere&quot;, &quot;Stein&quot;, &quot;Papier&quot;};\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\tString eingabe = scanner.nextLine();\r\n\t\t//if (String.valueOf(login).equals(&quot;accnumber&quot;))\r\n\t\tRandom random = new Random();\r\n\t\t\r\n\t\tint zufall=random.nextInt(Pos.length);\r\n      \tSystem.out.println(Pos[zufall]);\r\n\t\r\n      \t\tif (eingabe.equals(String.valueOf(zufall))) {\r\n      \t\t\tSystem.out.println(&quot;Gleichstand&quot;);\r\n\t\t}\r\n\t\telse if (eingabe.equals(Pos[0]) &amp;&amp; String.valueOf(zufall).equals(Pos[1])) {\r\n\t\t\tSystem.out.println(&quot;Verloren&quot;);\r\n\t\t}\r\n\t\telse if (eingabe.equals(Pos[0]) &amp;&amp; (String.valueOf(zufall).equals(Pos[2]))) {\r\n\t\t\tSystem.out.println(&quot;Gewonnen&quot;);\r\n\t\t\r\n\t\t}\r\n\t\telse if (eingabe.equals(Pos[1]) &amp;&amp; (String.valueOf(zufall).equals(Pos[0]))) {\r\n\t\t\tSystem.out.println(&quot;Gewonnen&quot;);\r\n\t\t}\r\n\t\telse if (eingabe.equals(Pos[1]) &amp;&amp; (String.valueOf(zufall).equals(Pos[0]))) {\r\n\t\t\tSystem.out.println(&quot;Verloren&quot;);\r\n\t\t}\r\n\t\telse if (eingabe.equals(Pos[2]) &amp;&amp; (String.valueOf(zufall).equals(Pos[1]))) {\r\n\t\t\tSystem.out.println(&quot;Gewonnen&quot;);\r\n\t\t}\r\n\t\telse if (eingabe.equals(Pos[2]) &amp;&amp; (String.valueOf(zufall).equals(Pos[0]))) {\r\n\t\t\tSystem.out.println(&quot;Verloren&quot;);\r\n\t\t}\r\n\t\telse if (!eingabe.equals(Pos[0]) &amp;&amp; (!eingabe.equals(Pos[1]) &amp;&amp; (!eingabe.equals(Pos[2])))) {\r\n\t\t\tSystem.out.println(&quot;Fehler&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Print problem after scanning random String","body":"<p>my code does not print the if and else if methods after the random String from the array is scanned.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\nimport java.util.Random;\n\npublic class ScherreSteinPapier {\n    public static void main(String[] args) {\n        \n        String Pos[] = {&quot;Schere&quot;, &quot;Stein&quot;, &quot;Papier&quot;};\n        Scanner scanner = new Scanner(System.in);\n        \n        String eingabe = scanner.nextLine();\n        //if (String.valueOf(login).equals(&quot;accnumber&quot;))\n        Random random = new Random();\n        \n        int zufall=random.nextInt(Pos.length);\n        System.out.println(Pos[zufall]);\n    \n            if (eingabe.equals(String.valueOf(zufall))) {\n                System.out.println(&quot;Gleichstand&quot;);\n        }\n        else if (eingabe.equals(Pos[0]) &amp;&amp; String.valueOf(zufall).equals(Pos[1])) {\n            System.out.println(&quot;Verloren&quot;);\n        }\n        else if (eingabe.equals(Pos[0]) &amp;&amp; (String.valueOf(zufall).equals(Pos[2]))) {\n            System.out.println(&quot;Gewonnen&quot;);\n        \n        }\n        else if (eingabe.equals(Pos[1]) &amp;&amp; (String.valueOf(zufall).equals(Pos[0]))) {\n            System.out.println(&quot;Gewonnen&quot;);\n        }\n        else if (eingabe.equals(Pos[1]) &amp;&amp; (String.valueOf(zufall).equals(Pos[0]))) {\n            System.out.println(&quot;Verloren&quot;);\n        }\n        else if (eingabe.equals(Pos[2]) &amp;&amp; (String.valueOf(zufall).equals(Pos[1]))) {\n            System.out.println(&quot;Gewonnen&quot;);\n        }\n        else if (eingabe.equals(Pos[2]) &amp;&amp; (String.valueOf(zufall).equals(Pos[0]))) {\n            System.out.println(&quot;Verloren&quot;);\n        }\n        else if (!eingabe.equals(Pos[0]) &amp;&amp; (!eingabe.equals(Pos[1]) &amp;&amp; (!eingabe.equals(Pos[2])))) {\n            System.out.println(&quot;Fehler&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","groovy","mocking","spock"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1664309045,"creation_date":1664309045,"answer_id":73873246,"question_id":73873112,"body_markdown":"You don&#39;t want to return _the same Stream_, since you can only process each one once. Instead, return _identical copies of the Stream_:\r\n\r\n```\r\nsomeService.getSome(*_) &gt;&gt; { Stream.of(&quot;A&quot;, &quot;B&quot;) }\r\n```\r\n\r\n(It&#39;s probably also a good idea to be more specific about your expected arguments rather than using `*_`.)","title":"Groovy Mock the same Stream call more than one time","body":"<p>You don't want to return <em>the same Stream</em>, since you can only process each one once. Instead, return <em>identical copies of the Stream</em>:</p>\n<pre><code>someService.getSome(*_) &gt;&gt; { Stream.of(&quot;A&quot;, &quot;B&quot;) }\n</code></pre>\n<p>(It's probably also a good idea to be more specific about your expected arguments rather than using <code>*_</code>.)</p>\n"}],"owner":{"account_id":18610431,"reputation":41,"user_id":13563000,"display_name":"Dovile Barkauskaite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73873246,"answer_count":1,"score":0,"last_activity_date":1664309045,"creation_date":1664308239,"question_id":73873112,"body_markdown":"Has problem :\r\n```\r\ngiven:\r\nsomeService.getSome(*_) &gt;&gt; Stream.of(&quot;A&quot;, &quot;B&quot;)\r\nwhen:\r\nsomeService.getSomeMethod()\r\nthen:\r\nnoExceptionThrown()\r\n```\r\nError:\r\n&quot;stream has already been operated upon or closed&quot;\r\n\r\nin method &quot;getSomeMethod()&quot; few times are calling someService.getSome(*_) which has to return the same stream.\r\nCan somebody help with this case?\r\n","title":"Groovy Mock the same Stream call more than one time","body":"<p>Has problem :</p>\n<pre><code>given:\nsomeService.getSome(*_) &gt;&gt; Stream.of(&quot;A&quot;, &quot;B&quot;)\nwhen:\nsomeService.getSomeMethod()\nthen:\nnoExceptionThrown()\n</code></pre>\n<p>Error:\n&quot;stream has already been operated upon or closed&quot;</p>\n<p>in method &quot;getSomeMethod()&quot; few times are calling someService.getSome(*_) which has to return the same stream.\nCan somebody help with this case?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664309033,"creation_date":1664309033,"answer_id":73873243,"question_id":73820446,"body_markdown":"The `StreamsBuilderFactoryBeanCustomizer` is a Boot class, used to customize the single `SBFB` configured by Spring Boot.\r\n\r\nThat factory bean is not used by the binder because a new one is needed for each binding.\r\n\r\nSpring Cloud Stream uses the `StreamsBuilderFactoryBeanConfigurer` provided by spring-kafka instead (if there is exactly one in the application context).","title":"Unable to customize kafkaStreams globalstaterestorelistener","body":"<p>The <code>StreamsBuilderFactoryBeanCustomizer</code> is a Boot class, used to customize the single <code>SBFB</code> configured by Spring Boot.</p>\n<p>That factory bean is not used by the binder because a new one is needed for each binding.</p>\n<p>Spring Cloud Stream uses the <code>StreamsBuilderFactoryBeanConfigurer</code> provided by spring-kafka instead (if there is exactly one in the application context).</p>\n"}],"owner":{"account_id":1284789,"reputation":87,"user_id":1238097,"accept_rate":90,"display_name":"user1238097"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73873243,"answer_count":1,"score":0,"last_activity_date":1664309033,"creation_date":1663879196,"question_id":73820446,"body_markdown":"This is my configuration class but when I delete the state and restart so it builds from the changelog topic I am unable see any messages in the logs.\r\n\r\nSteps to produce setup kafkastream:\r\n1. Write to a kafka topic and kstream reads and stores state locally.\r\n2. I stop application and kafkastream builds from the changetopic\r\n3. It is still displaying the default logs.\r\n```shell\r\n[-StreamThread-2] o.a.k.s.p.i.StoreChangelogReade stream-thread [foobar-91eae487-939e-439a-bd5f-c918c1f13145-StreamThread-2] Finished restoring changelog foobar-test-avro-leg-changelog-1 to store test-avro-leg with a total number of 66718 records\r\n```\r\n\r\n\r\n```java\r\n@EnableAutoConfiguration\r\n@Slf4j\r\npublic class SpringKafkaStreamConfig {\r\n\r\n    @Bean\r\n    public StreamsBuilderFactoryBeanCustomizer streamsBuilderFactoryBeanCustomizer(){\r\n        return factoryBean -&gt; {\r\n\r\n            List&lt; StreamsBuilderFactoryBean.Listener\r\n                &gt; out = factoryBean.getListeners();\r\n            factoryBean.setKafkaStreamsCustomizer(new KafkaStreamsCustomizer() {\r\n                @Override\r\n                public void customize(KafkaStreams kafkaStreams) {\r\n                    kafkaStreams.setGlobalStateRestoreListener(new StateRestoreListener() {\r\n                        java.util.Date start = null;\r\n                        java.util.Date stop = null;\r\n                        @Override\r\n                        public void onRestoreStart(TopicPartition topicPartition,String storeName,long startingOffset,long endingOffset) {\r\n                            start = Time.from(Instant.now());\r\n                            log.info(&quot;Restarting the building of the following &quot; +\r\n                                         &quot;state store: {} &quot; +\r\n                                         &quot;starting &quot; +\r\n                                         &quot;at offset: {} at the this time: {}&quot;,\r\n                                     storeName,\r\n                                     startingOffset,Time.from(Instant.now()));\r\n                        }\r\n\r\n                        @Override\r\n                        public void onBatchRestored(TopicPartition topicPartition,String storeName,long batchEndOffset,long numRestored) {\r\n\r\n                        }\r\n\r\n                        @Override\r\n                        public void onRestoreEnd(TopicPartition topicPartition,\r\n                                                 String storeName,long totalRestored) {\r\n                            stop = Time.from(Instant.now());\r\n                            log.info(&quot;State has completed building at this &quot; +\r\n                                         &quot;time: {} and restored for the &quot; +\r\n                                         &quot;following records: {}&quot;,\r\n                                     stop,totalRestored);\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        };\r\n    }\r\n}\r\n```","title":"Unable to customize kafkaStreams globalstaterestorelistener","body":"<p>This is my configuration class but when I delete the state and restart so it builds from the changelog topic I am unable see any messages in the logs.</p>\n<p>Steps to produce setup kafkastream:</p>\n<ol>\n<li>Write to a kafka topic and kstream reads and stores state locally.</li>\n<li>I stop application and kafkastream builds from the changetopic</li>\n<li>It is still displaying the default logs.</li>\n</ol>\n<pre class=\"lang-bash prettyprint-override\"><code>[-StreamThread-2] o.a.k.s.p.i.StoreChangelogReade stream-thread [foobar-91eae487-939e-439a-bd5f-c918c1f13145-StreamThread-2] Finished restoring changelog foobar-test-avro-leg-changelog-1 to store test-avro-leg with a total number of 66718 records\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableAutoConfiguration\n@Slf4j\npublic class SpringKafkaStreamConfig {\n\n    @Bean\n    public StreamsBuilderFactoryBeanCustomizer streamsBuilderFactoryBeanCustomizer(){\n        return factoryBean -&gt; {\n\n            List&lt; StreamsBuilderFactoryBean.Listener\n                &gt; out = factoryBean.getListeners();\n            factoryBean.setKafkaStreamsCustomizer(new KafkaStreamsCustomizer() {\n                @Override\n                public void customize(KafkaStreams kafkaStreams) {\n                    kafkaStreams.setGlobalStateRestoreListener(new StateRestoreListener() {\n                        java.util.Date start = null;\n                        java.util.Date stop = null;\n                        @Override\n                        public void onRestoreStart(TopicPartition topicPartition,String storeName,long startingOffset,long endingOffset) {\n                            start = Time.from(Instant.now());\n                            log.info(&quot;Restarting the building of the following &quot; +\n                                         &quot;state store: {} &quot; +\n                                         &quot;starting &quot; +\n                                         &quot;at offset: {} at the this time: {}&quot;,\n                                     storeName,\n                                     startingOffset,Time.from(Instant.now()));\n                        }\n\n                        @Override\n                        public void onBatchRestored(TopicPartition topicPartition,String storeName,long batchEndOffset,long numRestored) {\n\n                        }\n\n                        @Override\n                        public void onRestoreEnd(TopicPartition topicPartition,\n                                                 String storeName,long totalRestored) {\n                            stop = Time.from(Instant.now());\n                            log.info(&quot;State has completed building at this &quot; +\n                                         &quot;time: {} and restored for the &quot; +\n                                         &quot;following records: {}&quot;,\n                                     stop,totalRestored);\n                        }\n                    });\n                }\n            });\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","macos","double-click"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1664310038,"post_id":73873219,"comment_id":130441323,"body_markdown":"Can you show the `META-INF/MANIFEST.MF` of a jar that doesn&#39;t work?","body":"Can you show the <code>META-INF&#47;MANIFEST.MF</code> of a jar that doesn&#39;t work?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1664371851,"post_id":73873219,"comment_id":130456526,"body_markdown":"A common mistake is code that tries to refer to embedded application resources as if they’re files.  Obviously, jar entries are not files.","body":"A common mistake is code that tries to refer to embedded application resources as if they’re files.  Obviously, jar entries are not files."},{"owner":{"account_id":8699562,"reputation":47,"user_id":6509921,"display_name":"JDC"},"score":0,"creation_date":1664399902,"post_id":73873219,"comment_id":130465698,"body_markdown":"@stunbar Contents of the META-INF/MANIFEST.MF file (main class is correct):\nManifest-Version: 1.0\nMain-Class: vwall.VWDemo","body":"@stunbar Contents of the META-INF/MANIFEST.MF file (main class is correct): Manifest-Version: 1.0 Main-Class: vwall.VWDemo"},{"owner":{"account_id":8699562,"reputation":47,"user_id":6509921,"display_name":"JDC"},"score":0,"creation_date":1664400716,"post_id":73873219,"comment_id":130465882,"body_markdown":"Get popup: Java Application launch failed -- (sometimes, not every time). Followed by message:\nCheck Console for possible error messages related to ”/Users/jdc/Projects/TMViewer/out/TMViewer.V6.jar”.\n\nTried searching the logs, but did not find anything.","body":"Get popup: Java Application launch failed -- (sometimes, not every time). Followed by message: Check Console for possible error messages related to ”/Users/jdc/Projects/TMViewer/out/TMViewer.V6.jar”.  Tried searching the logs, but did not find anything."}],"owner":{"account_id":8699562,"reputation":47,"user_id":6509921,"display_name":"JDC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664308880,"creation_date":1664308880,"question_id":73873219,"body_markdown":"Have 4 different Java projects, completely independent, and all build a Jar. All created in IntelliJ (2022.2.2 Ultimate) on MacOS (Monterey 12.6), built to target Java 8.\r\n\r\n2 of the Jars open as expected by a double click, and 2 do not (error message to check for problems in log files via Console but could never find any).\r\n\r\nThe Jars all created within IntelliJ as an artifact of the project, and AFAIK the same process and options.\r\n\r\nOne of the Jars will also not open on the command line with either:\r\n\r\n    java -jar MyJarFile.jar    (the Jar does contain the correct manifest)\r\n    java -cp MyJarFile.jar package.mainclass\r\n\r\nbut if you do:\r\n\r\n    unzip MyJarFile.jar\r\n\r\nto unzip the jar into the current directory then:\r\n\r\n    java package.mainclass\r\n\r\nstarts the application as expected.\r\n\r\nNo change to the external environment (JAVA_HOME, etc) between any of the projects.\r\n\r\nSomething has to be different .... but what?\r\n\r\nAny suggestions appreciated.","title":"some Jar files open with double click, others do not","body":"<p>Have 4 different Java projects, completely independent, and all build a Jar. All created in IntelliJ (2022.2.2 Ultimate) on MacOS (Monterey 12.6), built to target Java 8.</p>\n<p>2 of the Jars open as expected by a double click, and 2 do not (error message to check for problems in log files via Console but could never find any).</p>\n<p>The Jars all created within IntelliJ as an artifact of the project, and AFAIK the same process and options.</p>\n<p>One of the Jars will also not open on the command line with either:</p>\n<pre><code>java -jar MyJarFile.jar    (the Jar does contain the correct manifest)\njava -cp MyJarFile.jar package.mainclass\n</code></pre>\n<p>but if you do:</p>\n<pre><code>unzip MyJarFile.jar\n</code></pre>\n<p>to unzip the jar into the current directory then:</p>\n<pre><code>java package.mainclass\n</code></pre>\n<p>starts the application as expected.</p>\n<p>No change to the external environment (JAVA_HOME, etc) between any of the projects.</p>\n<p>Something has to be different .... but what?</p>\n<p>Any suggestions appreciated.</p>\n"},{"tags":["java","android","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664350978,"post_id":73873124,"comment_id":130448786,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"display_name":"user19417023"},"score":0,"creation_date":1664396417,"post_id":73873124,"comment_id":130464778,"body_markdown":"its not displaying the data from firestore its just blank","body":"its not displaying the data from firestore its just blank"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1664440465,"post_id":73873124,"comment_id":130473707,"body_markdown":"Please edit your question and add your database structure as a screenshot.","body":"Please edit your question and add your database structure as a screenshot."}],"owner":{"display_name":"user19417023"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664308665,"creation_date":1664308292,"question_id":73873124,"body_markdown":"i am trying to retrieve data from firestore and add it to an object class Trade then adding trade to a public list then display, but its not displaying anything.\r\n\r\nmy list handler class:\r\n\r\n```\r\npublic class ListHandler {\r\n    public static List&lt;Trade&gt; ListTrades = new ArrayList&lt;Trade&gt;();\r\n}\r\n```\r\n\r\nmy trade obj class:\r\n```\r\npublic class Trade implements Serializable {\r\n\r\n    public Trade(String name, String surname, String description, String phone) {\r\n        Name = name;\r\n        Surname = surname;\r\n        Description = description;\r\n        Phone = phone;\r\n    }\r\n\r\n    public String getName() {\r\n        return Name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        Name = name;\r\n    }\r\n\r\n    public String getSurname() {\r\n        return Surname;\r\n    }\r\n\r\n    public void setSurname(String surname) {\r\n        Surname = surname;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return Description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        Description = description;\r\n    }\r\n\r\n    public String getPhone() {\r\n        return Phone;\r\n    }\r\n\r\n    public void setPhone(String phone) {\r\n        Phone = phone;\r\n    }\r\n\r\n    String Name, Surname, Description, Phone;\r\n\r\n    public Trade() {\r\n\r\n    }\r\n```\r\n\r\nmy code for retrieving data:\r\n\r\n\r\n    public void onClick(View v)\r\n        {\r\n       \r\n         getData();\r\n    \r\n            Intent Job = new Intent(Post.this,MainActivity.class);\r\n\r\n            startActivity(Job);\r\n\r\n        }\r\n    });\r\n    void getData(){\r\n        db.collection(&quot;Posts&quot;).get().addOnCompleteListener(\r\n                new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if(task.isSuccessful()){\r\n                            //List&lt;Trade&gt; ListTrade = new ArrayList&lt;Trade&gt;();\r\n                            for(QueryDocumentSnapshot document : task.getResult() ){\r\n                                Log.d(TAG, document.getId() + &quot;=&gt;&quot; + document.getData());\r\n\r\n                                Map&lt;String, Object&gt; data = document.getData();\r\n\r\n                                String Name = (String) data.get(&quot;Name&quot;);\r\n                                String Surname = (String) data.get(&quot;Surname&quot;);\r\n                                String Phone = (String) data.get(&quot;Phone&quot;);\r\n                                String Description = (String) data.get(&quot;Description&quot;);\r\n\r\n                                if(Name != null ){\r\n                                    Trade Service = new Trade(Name,Surname,Phone,Description);\r\n                                    ListHandler.ListTrades.add(Service);\r\n\r\n                                }else{\r\n                                    Log.d(TAG, &quot;Got Bad Data for &quot; + document.getId() + &quot; =&gt; &quot; + document.getId());\r\n                                }\r\n\r\n                            }\r\n\r\n\r\n                        }else{\r\n                            Log.d(TAG, &quot;Error getting document: &quot;, task.getException());\r\n                        }\r\n\r\n                    }\r\n                });\r\n\r\n\r\n\r\nmy main class which displays:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        txtDisplay = findViewById(R.id.txtDisplay);\r\n\r\n        btnPost1 = findViewById(R.id.btnPost);\r\n        btnPost1.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v)\r\n            {\r\n                Intent Job = new Intent(MainActivity.this,Post.class);\r\n\r\n                startActivity(Job);\r\n            }\r\n        });\r\n\r\n        if (!ListHandler.ListTrades.isEmpty())\r\n        {  String Text =&quot;&quot; ;\r\n            for (Trade Output: ListHandler.ListTrades)\r\n            {\r\n                Text+= Output.Name+&quot;\\n&quot;+Output.Surname+&quot;\\n&quot;+Output.Phone+&quot;\\n&quot;+Output.Description+&quot;\\n\\n&quot;;\r\n            }\r\n            txtDisplay.setText(Text);\r\n        }\r\n\r\n\r\n\r\n    }\r\n","title":"how can i retrieve data from firestore and store it in a object class the a public list","body":"<p>i am trying to retrieve data from firestore and add it to an object class Trade then adding trade to a public list then display, but its not displaying anything.</p>\n<p>my list handler class:</p>\n<pre><code>public class ListHandler {\n    public static List&lt;Trade&gt; ListTrades = new ArrayList&lt;Trade&gt;();\n}\n</code></pre>\n<p>my trade obj class:</p>\n<pre><code>public class Trade implements Serializable {\n\n    public Trade(String name, String surname, String description, String phone) {\n        Name = name;\n        Surname = surname;\n        Description = description;\n        Phone = phone;\n    }\n\n    public String getName() {\n        return Name;\n    }\n\n    public void setName(String name) {\n        Name = name;\n    }\n\n    public String getSurname() {\n        return Surname;\n    }\n\n    public void setSurname(String surname) {\n        Surname = surname;\n    }\n\n    public String getDescription() {\n        return Description;\n    }\n\n    public void setDescription(String description) {\n        Description = description;\n    }\n\n    public String getPhone() {\n        return Phone;\n    }\n\n    public void setPhone(String phone) {\n        Phone = phone;\n    }\n\n    String Name, Surname, Description, Phone;\n\n    public Trade() {\n\n    }\n</code></pre>\n<p>my code for retrieving data:</p>\n<pre><code>public void onClick(View v)\n    {\n   \n     getData();\n\n        Intent Job = new Intent(Post.this,MainActivity.class);\n\n        startActivity(Job);\n\n    }\n});\nvoid getData(){\n    db.collection(&quot;Posts&quot;).get().addOnCompleteListener(\n            new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if(task.isSuccessful()){\n                        //List&lt;Trade&gt; ListTrade = new ArrayList&lt;Trade&gt;();\n                        for(QueryDocumentSnapshot document : task.getResult() ){\n                            Log.d(TAG, document.getId() + &quot;=&gt;&quot; + document.getData());\n\n                            Map&lt;String, Object&gt; data = document.getData();\n\n                            String Name = (String) data.get(&quot;Name&quot;);\n                            String Surname = (String) data.get(&quot;Surname&quot;);\n                            String Phone = (String) data.get(&quot;Phone&quot;);\n                            String Description = (String) data.get(&quot;Description&quot;);\n\n                            if(Name != null ){\n                                Trade Service = new Trade(Name,Surname,Phone,Description);\n                                ListHandler.ListTrades.add(Service);\n\n                            }else{\n                                Log.d(TAG, &quot;Got Bad Data for &quot; + document.getId() + &quot; =&gt; &quot; + document.getId());\n                            }\n\n                        }\n\n\n                    }else{\n                        Log.d(TAG, &quot;Error getting document: &quot;, task.getException());\n                    }\n\n                }\n            });\n</code></pre>\n<p>my main class which displays:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    txtDisplay = findViewById(R.id.txtDisplay);\n\n    btnPost1 = findViewById(R.id.btnPost);\n    btnPost1.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v)\n        {\n            Intent Job = new Intent(MainActivity.this,Post.class);\n\n            startActivity(Job);\n        }\n    });\n\n    if (!ListHandler.ListTrades.isEmpty())\n    {  String Text =&quot;&quot; ;\n        for (Trade Output: ListHandler.ListTrades)\n        {\n            Text+= Output.Name+&quot;\\n&quot;+Output.Surname+&quot;\\n&quot;+Output.Phone+&quot;\\n&quot;+Output.Description+&quot;\\n\\n&quot;;\n        }\n        txtDisplay.setText(Text);\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":1,"creation_date":1473789060,"post_id":39436870,"comment_id":66271510,"body_markdown":"Are you trying this for HTML5?","body":"Are you trying this for HTML5?"},{"owner":{"account_id":2365998,"reputation":921,"user_id":2071673,"accept_rate":58,"display_name":"Naseem"},"score":0,"creation_date":1473830445,"post_id":39436870,"comment_id":66284528,"body_markdown":"It starts with &lt;!DOCTYPE html&gt; in View source page. So yes it is html5 page.","body":"It starts with &lt;!DOCTYPE html&gt; in View source page. So yes it is html5 page."},{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":2,"creation_date":1473836309,"post_id":39436870,"comment_id":66286853,"body_markdown":"Have a look at this - http://stackoverflow.com/questions/29381233/how-to-simulate-html5-drag-and-drop-in-selenium-webdriver. Somebody has even created a github with corresponding java code.","body":"Have a look at this - <a href=\"http://stackoverflow.com/questions/29381233/how-to-simulate-html5-drag-and-drop-in-selenium-webdriver\" title=\"how to simulate html5 drag and drop in selenium webdriver\">stackoverflow.com/questions/29381233/&hellip;</a>. Somebody has even created a github with corresponding java code."},{"owner":{"account_id":2365998,"reputation":921,"user_id":2071673,"accept_rate":58,"display_name":"Naseem"},"score":0,"creation_date":1473845845,"post_id":39436870,"comment_id":66292290,"body_markdown":"Yeah, I saw the same question earlier as well and tried with the js file mentioned in the github site but it didn&#39;t work in my case :(","body":"Yeah, I saw the same question earlier as well and tried with the js file mentioned in the github site but it didn&#39;t work in my case :("},{"owner":{"account_id":344910,"reputation":7321,"user_id":677518,"display_name":"Ardesco"},"score":0,"creation_date":1552991356,"post_id":39436870,"comment_id":97210416,"body_markdown":"We need to know the HTML, however if it&#39;s a standard HTML5 page it won&#39;t work in selenium without some additional work to trigger specific JS callbacks","body":"We need to know the HTML, however if it&#39;s a standard HTML5 page it won&#39;t work in selenium without some additional work to trigger specific JS callbacks"}],"answers":[{"tags":[],"owner":{"account_id":9088496,"reputation":386,"user_id":6765457,"display_name":"FayazMd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594044226,"creation_date":1473620625,"answer_id":39439628,"question_id":39436870,"body_markdown":"In your code 1:\r\nNot calling perform() method, \r\nit should be \r\n\r\n     Actions builder = new Actions( _controls.getDriver());\r\n    \r\n     builder.dragAndDrop(sourceelement, destelement).perform();\r\n\r\nIn your code 2: I don&#39;t think you need to call release()\r\n\r\nPlease search for [similar question][1]s before posting.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14210051/how-to-automate-drag-drop-functionality-using-selenium-webdriver","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>In your code 1:\nNot calling perform() method,\nit should be</p>\n<pre><code> Actions builder = new Actions( _controls.getDriver());\n\n builder.dragAndDrop(sourceelement, destelement).perform();\n</code></pre>\n<p>In your code 2: I don't think you need to call release()</p>\n<p>Please search for <a href=\"https://stackoverflow.com/questions/14210051/how-to-automate-drag-drop-functionality-using-selenium-webdriver\">similar question</a>s before posting.</p>\n"},{"tags":[],"owner":{"account_id":5924549,"reputation":302,"user_id":4806710,"accept_rate":52,"display_name":"nandesh kalyankar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1473853964,"creation_date":1473853964,"answer_id":39489776,"question_id":39436870,"body_markdown":"You might want to check if webelement is enabled or displayed prior performing desired action over it. You may give it a try with below code\r\n\r\n    public void dragAndDrop(WebElement sourceElement, WebElement destinationElement) {\r\n\t\ttry {\r\n\t\t\tif (sourceElement.isDisplayed() &amp;&amp; destinationElement.isDisplayed()) {\r\n\t\t\t\tActions action = new Actions(driver);\r\n\t\t\t\taction.dragAndDrop(sourceElement, destinationElement).build().perform();\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;Element was not displayed to drag&quot;);\r\n\t\t\t}\r\n\t\t} catch (StaleElementReferenceException e) {\r\n\t\t\tSystem.out.println(&quot;Element with &quot; + sourceElement + &quot;or&quot; + destinationElement + &quot;is not attached to the page document &quot;\r\n\t\t\t\t\t+ e.getStackTrace());\r\n\t\t} catch (NoSuchElementException e) {\r\n\t\t\tSystem.out.println(&quot;Element &quot; + sourceElement + &quot;or&quot; + destinationElement + &quot; was not found in DOM &quot;+ e.getStackTrace());\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Error occurred while performing drag and drop operation &quot;+ e.getStackTrace());\r\n\t\t}\r\n\t}\r\n\r\n\r\n    public void dragAndDrop(WebElement sourceElement, WebElement destinationElement)\r\n\t    {\r\n\t        (new Actions(driver)).dragAndDrop(sourceElement, destinationElement).perform();\r\n\t    }\r\n    }","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>You might want to check if webelement is enabled or displayed prior performing desired action over it. You may give it a try with below code</p>\n\n<pre><code>public void dragAndDrop(WebElement sourceElement, WebElement destinationElement) {\n    try {\n        if (sourceElement.isDisplayed() &amp;&amp; destinationElement.isDisplayed()) {\n            Actions action = new Actions(driver);\n            action.dragAndDrop(sourceElement, destinationElement).build().perform();\n        } else {\n            System.out.println(\"Element was not displayed to drag\");\n        }\n    } catch (StaleElementReferenceException e) {\n        System.out.println(\"Element with \" + sourceElement + \"or\" + destinationElement + \"is not attached to the page document \"\n                + e.getStackTrace());\n    } catch (NoSuchElementException e) {\n        System.out.println(\"Element \" + sourceElement + \"or\" + destinationElement + \" was not found in DOM \"+ e.getStackTrace());\n    } catch (Exception e) {\n        System.out.println(\"Error occurred while performing drag and drop operation \"+ e.getStackTrace());\n    }\n}\n\n\npublic void dragAndDrop(WebElement sourceElement, WebElement destinationElement)\n    {\n        (new Actions(driver)).dragAndDrop(sourceElement, destinationElement).perform();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5917301,"reputation":1409,"user_id":4655707,"accept_rate":37,"display_name":"BountyHunter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1474379266,"creation_date":1474379266,"answer_id":39595894,"question_id":39436870,"body_markdown":"I would suggest you try the following solution:\r\n\r\n    WebElement sourceelement  = driver.findElement(By.cssSelector(&quot;XXX&quot;));\r\n    Locatable element = (Locatable)sourceelement ;\r\n    Point p= element.getCoordinates().inViewPort();\r\n    int sourceX=p.getX();\r\n    int sourceY=p.getY();\r\n\r\n    WebElement destelement = driver.findElement(By.cssSelector(&quot;YYY&quot;));\r\n    Locatable elementTarget = (Locatable)destelement;\r\n    Point Target= elementTarget.getCoordinates().inViewPort();\r\n    int targetX=Target.getX();\r\n    int targetY=Target.getY();\r\n\r\nYou may then use Robot to drag and drop the element","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>I would suggest you try the following solution:</p>\n\n<pre><code>WebElement sourceelement  = driver.findElement(By.cssSelector(\"XXX\"));\nLocatable element = (Locatable)sourceelement ;\nPoint p= element.getCoordinates().inViewPort();\nint sourceX=p.getX();\nint sourceY=p.getY();\n\nWebElement destelement = driver.findElement(By.cssSelector(\"YYY\"));\nLocatable elementTarget = (Locatable)destelement;\nPoint Target= elementTarget.getCoordinates().inViewPort();\nint targetX=Target.getX();\nint targetY=Target.getY();\n</code></pre>\n\n<p>You may then use Robot to drag and drop the element</p>\n"},{"tags":[],"owner":{"account_id":5281851,"reputation":499,"user_id":4216934,"accept_rate":57,"display_name":"badal16"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497036029,"creation_date":1497036029,"answer_id":44465299,"question_id":39436870,"body_markdown":"I would suggest you to use Touch Action to perform drag and drop.\r\n\r\n    Point coordinates1 = sourceelement.getLocation();\r\n    Point coordinates2 = destelement.getLocation();  \r\n    TouchActions builder = new TouchActions(driver);\r\n    builder.longPress(coordinates1)\r\n           .move(coordinates2).release(coordinates2).perform();","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>I would suggest you to use Touch Action to perform drag and drop.</p>\n\n<pre><code>Point coordinates1 = sourceelement.getLocation();\nPoint coordinates2 = destelement.getLocation();  \nTouchActions builder = new TouchActions(driver);\nbuilder.longPress(coordinates1)\n       .move(coordinates2).release(coordinates2).perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3988677,"reputation":434,"user_id":3288413,"accept_rate":79,"display_name":"Karim Narsindani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505675443,"creation_date":1505675443,"answer_id":46267884,"question_id":39436870,"body_markdown":"I have face similar problem way back, I have used dragAndDropBy to move slider but it didn&#39;t worked for me but later I found help and below the snippet for my working code:\r\n\r\n    public static void slider(){\r\n    x=10;\r\n    WebElement slider = driver.findElement(By.id(&quot;slider&quot;));\r\n    int width=slider.getSize().getWidth();\r\n    Actions move = new Actions(driver);\r\n    move.moveToElement(slider, ((width*x)/100), 0).click();\r\n    move.build().perform();\r\n    System.out.println(&quot;Slider moved&quot;);\r\n    }\r\n\r\nYou can refer the link [here][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28453230/selenium-webdriver-move-slider-on-left-side/45566287#45566287","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>I have face similar problem way back, I have used dragAndDropBy to move slider but it didn't worked for me but later I found help and below the snippet for my working code:</p>\n\n<pre><code>public static void slider(){\nx=10;\nWebElement slider = driver.findElement(By.id(\"slider\"));\nint width=slider.getSize().getWidth();\nActions move = new Actions(driver);\nmove.moveToElement(slider, ((width*x)/100), 0).click();\nmove.build().perform();\nSystem.out.println(\"Slider moved\");\n}\n</code></pre>\n\n<p>You can refer the link <a href=\"https://stackoverflow.com/questions/28453230/selenium-webdriver-move-slider-on-left-side/45566287#45566287\">here</a></p>\n"},{"tags":[],"owner":{"account_id":7007843,"reputation":234,"user_id":5371691,"display_name":"Kenil Fadia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1523612703,"creation_date":1523612703,"answer_id":49813976,"question_id":39436870,"body_markdown":"You may try executing the following javascript to perform drag and drop\r\n\r\n    WebDriver _driver;\r\n    WebElement _sourceElement = _driver.findElement(&lt;source&gt;);\r\n    WebElement _targetElement = _driver.findElement(&lt;source&gt;);\r\n    JavascriptExecutor _js = (JavascriptExecutor) _driver;\r\n    _js.executeScript(&quot;$(arguments[0]).simulate(&#39;drag-n-drop&#39;,{dragTarget:arguments[1],interpolation:{stepWidth:100,stepDelay:50}});&quot;, _sourceElement, _targetElement);\r\n\r\nPlease find more details [here][1].\r\n\r\nIt works perfectly for all the browsers and devices.\r\n\r\n\r\n  [1]: https://github.com/j-ulrich/jquery-simulate-ext","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>You may try executing the following javascript to perform drag and drop</p>\n\n<pre><code>WebDriver _driver;\nWebElement _sourceElement = _driver.findElement(&lt;source&gt;);\nWebElement _targetElement = _driver.findElement(&lt;source&gt;);\nJavascriptExecutor _js = (JavascriptExecutor) _driver;\n_js.executeScript(\"$(arguments[0]).simulate('drag-n-drop',{dragTarget:arguments[1],interpolation:{stepWidth:100,stepDelay:50}});\", _sourceElement, _targetElement);\n</code></pre>\n\n<p>Please find more details <a href=\"https://github.com/j-ulrich/jquery-simulate-ext\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>It works perfectly for all the browsers and devices.</p>\n"},{"tags":[],"owner":{"account_id":1648031,"reputation":2286,"user_id":1519178,"accept_rate":48,"display_name":"mosaad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530921696,"creation_date":1530921696,"answer_id":51218896,"question_id":39436870,"body_markdown":"This is working for me : \r\n\r\n    Actions act = new Actions(driver);\r\n    act.moveToElement(element, (elementWidth / 2), elementHeight / 2).clickAndHold().build().perform();\r\n    act.moveToElement(dest, (destWidth / 2) , (destHeight / 2)).release().build().perform();\r\n\r\n\t\r\nThere are sometimes bugs in some version of selenium. Make sure you use the lastest one and play around with clicking. Would be easier of you can send a link of what you are trying to drag/drop","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>This is working for me : </p>\n\n<pre><code>Actions act = new Actions(driver);\nact.moveToElement(element, (elementWidth / 2), elementHeight / 2).clickAndHold().build().perform();\nact.moveToElement(dest, (destWidth / 2) , (destHeight / 2)).release().build().perform();\n</code></pre>\n\n<p>There are sometimes bugs in some version of selenium. Make sure you use the lastest one and play around with clicking. Would be easier of you can send a link of what you are trying to drag/drop</p>\n"},{"tags":[],"owner":{"account_id":13862130,"reputation":1,"user_id":10007528,"display_name":"Nathaniel Yearwood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542739475,"creation_date":1542739475,"answer_id":53399533,"question_id":39436870,"body_markdown":"I&#39;ve tried a bunch of workarounds, this one seems to work for me using macOS and chromedriver\r\n\r\n   \tpublic void dragAndDrop(WebElement source, WebElement target) throws AWTException {\r\n\t\tnew Actions(driver).dragAndDrop(source, target).release().build().perform();\r\n\t\tRobot robot = new Robot();\r\n\t\trobot.keyPress(KeyEvent.VK_ESCAPE);\r\n\t\trobot.keyRelease(KeyEvent.VK_ESCAPE);\r\n\t}\r\n","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>I've tried a bunch of workarounds, this one seems to work for me using macOS and chromedriver</p>\n\n<pre><code>public void dragAndDrop(WebElement source, WebElement target) throws AWTException {\n    new Actions(driver).dragAndDrop(source, target).release().build().perform();\n    Robot robot = new Robot();\n    robot.keyPress(KeyEvent.VK_ESCAPE);\n    robot.keyRelease(KeyEvent.VK_ESCAPE);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14860641,"reputation":1,"user_id":10731575,"display_name":"gautam"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1543669964,"creation_date":1543668564,"answer_id":53570927,"question_id":39436870,"body_markdown":"\r\n    Actions act = new Actions(driver);\r\n    WebElement source = driver.findElement(By.id(&quot;XXX&quot;));\r\n    WebElement destination = driver.findElement(By.id(&quot;XXX&quot;));\r\n    \r\n    Action dragAndDrop =act.moveToElement(source,destination).build().perform();","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<pre><code>Actions act = new Actions(driver);\nWebElement source = driver.findElement(By.id(\"XXX\"));\nWebElement destination = driver.findElement(By.id(\"XXX\"));\n\nAction dragAndDrop =act.moveToElement(source,destination).build().perform();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6076341,"reputation":131,"user_id":4743599,"display_name":"Gaurav_QA"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1545845828,"creation_date":1545819182,"answer_id":53930565,"question_id":39436870,"body_markdown":"Can you try Java Script Executor for this\r\n\r\n    JavascriptExecutor js = (JavascriptExecutor)driver\r\n    js.executeScript(&quot;function createEvent(typeOfEvent) {\\n&quot; + &quot;var event =document.createEvent(\\&quot;CustomEvent\\&quot;);\\n&quot;\r\n                        + &quot;event.initCustomEvent(typeOfEvent,true, true, null);\\n&quot; + &quot;event.dataTransfer = {\\n&quot; + &quot;data: {},\\n&quot;\r\n                        + &quot;setData: function (key, value) {\\n&quot; + &quot;this.data[key] = value;\\n&quot; + &quot;},\\n&quot;\r\n                        + &quot;getData: function (key) {\\n&quot; + &quot;return this.data[key];\\n&quot; + &quot;}\\n&quot; + &quot;};\\n&quot; + &quot;return event;\\n&quot;\r\n                        + &quot;}\\n&quot; + &quot;\\n&quot; + &quot;function dispatchEvent(element, event,transferData) {\\n&quot;\r\n                        + &quot;if (transferData !== undefined) {\\n&quot; + &quot;event.dataTransfer = transferData;\\n&quot; + &quot;}\\n&quot;\r\n                        + &quot;if (element.dispatchEvent) {\\n&quot; + &quot;element.dispatchEvent(event);\\n&quot;\r\n                        + &quot;} else if (element.fireEvent) {\\n&quot; + &quot;element.fireEvent(\\&quot;on\\&quot; + event.type, event);\\n&quot; + &quot;}\\n&quot;\r\n                        + &quot;}\\n&quot; + &quot;\\n&quot; + &quot;function simulateHTML5DragAndDrop(element, destination) {\\n&quot;\r\n                        + &quot;var dragStartEvent =createEvent(&#39;dragstart&#39;);\\n&quot; + &quot;dispatchEvent(element, dragStartEvent);\\n&quot;\r\n                        + &quot;var dropEvent = createEvent(&#39;drop&#39;);\\n&quot;\r\n                        + &quot;dispatchEvent(destination, dropEvent,dragStartEvent.dataTransfer);\\n&quot;\r\n                        + &quot;var dragEndEvent = createEvent(&#39;dragend&#39;);\\n&quot;\r\n                        + &quot;dispatchEvent(element, dragEndEvent,dropEvent.dataTransfer);\\n&quot; + &quot;}\\n&quot; + &quot;\\n&quot;\r\n                        + &quot;var source = arguments[0];\\n&quot; + &quot;var destination = arguments[1];\\n&quot;\r\n                        + &quot;simulateHTML5DragAndDrop(source,destination);&quot;, ElementFrom, ElementTo);\r\n\r\nRefrence: https://www.linkedin.com/pulse/javascriptexecutor-selenium-gaurav-gupta/\r\n\r\nIt works for me on web application which are angular based.","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>Can you try Java Script Executor for this</p>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor)driver\njs.executeScript(\"function createEvent(typeOfEvent) {\\n\" + \"var event =document.createEvent(\\\"CustomEvent\\\");\\n\"\n                    + \"event.initCustomEvent(typeOfEvent,true, true, null);\\n\" + \"event.dataTransfer = {\\n\" + \"data: {},\\n\"\n                    + \"setData: function (key, value) {\\n\" + \"this.data[key] = value;\\n\" + \"},\\n\"\n                    + \"getData: function (key) {\\n\" + \"return this.data[key];\\n\" + \"}\\n\" + \"};\\n\" + \"return event;\\n\"\n                    + \"}\\n\" + \"\\n\" + \"function dispatchEvent(element, event,transferData) {\\n\"\n                    + \"if (transferData !== undefined) {\\n\" + \"event.dataTransfer = transferData;\\n\" + \"}\\n\"\n                    + \"if (element.dispatchEvent) {\\n\" + \"element.dispatchEvent(event);\\n\"\n                    + \"} else if (element.fireEvent) {\\n\" + \"element.fireEvent(\\\"on\\\" + event.type, event);\\n\" + \"}\\n\"\n                    + \"}\\n\" + \"\\n\" + \"function simulateHTML5DragAndDrop(element, destination) {\\n\"\n                    + \"var dragStartEvent =createEvent('dragstart');\\n\" + \"dispatchEvent(element, dragStartEvent);\\n\"\n                    + \"var dropEvent = createEvent('drop');\\n\"\n                    + \"dispatchEvent(destination, dropEvent,dragStartEvent.dataTransfer);\\n\"\n                    + \"var dragEndEvent = createEvent('dragend');\\n\"\n                    + \"dispatchEvent(element, dragEndEvent,dropEvent.dataTransfer);\\n\" + \"}\\n\" + \"\\n\"\n                    + \"var source = arguments[0];\\n\" + \"var destination = arguments[1];\\n\"\n                    + \"simulateHTML5DragAndDrop(source,destination);\", ElementFrom, ElementTo);\n</code></pre>\n\n<p>Refrence: <a href=\"https://www.linkedin.com/pulse/javascriptexecutor-selenium-gaurav-gupta/\" rel=\"noreferrer\">https://www.linkedin.com/pulse/javascriptexecutor-selenium-gaurav-gupta/</a></p>\n\n<p>It works for me on web application which are angular based.</p>\n"},{"tags":[],"owner":{"account_id":7518225,"reputation":760,"user_id":5710990,"display_name":"atul parate"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574937889,"creation_date":1574937889,"answer_id":59087008,"question_id":39436870,"body_markdown":"I have also faced the same issue. Please find below custom java-script function for drag &amp; drop.\r\n\r\n1) Create DragDrop.js file and paste below code in it\r\n\r\n        function customEvent(typeOfEvent) {\r\n        var event = document.createEvent(&quot;CustomEvent&quot;);\r\n        event.initCustomEvent(typeOfEvent, true, true, null);\r\n        event.dataTransfer = {\r\n            data: {},\r\n            setData: function (key, value) {\r\n                this.data[key] = value;\r\n            },\r\n            getData: function (key) {\r\n                return this.data[key];\r\n            }\r\n        };\r\n        return event;\r\n    }\r\n    function dispatchEvent(element, event, transferData) {\r\n        if (transferData !== undefined) {\r\n            event.dataTransfer = transferData;\r\n        }\r\n        if (element.dispatchEvent) {\r\n            element.dispatchEvent(event);\r\n        } else if (element.fireEvent) {\r\n            element.fireEvent(&quot;on&quot; + event.type, event);\r\n        }\r\n    }\r\n    function executeDrageAndDrop(element, target) {\r\n        var dragStartEvent = customEvent(&#39;dragstart&#39;);\r\n        dispatchEvent(element, dragStartEvent);\r\n        var dropEvent = customEvent(&#39;drop&#39;);\r\n        dispatchEvent(target, dropEvent, dragStartEvent.dataTransfer);\r\n        var dragEndEvent = customEvent(&#39;dragend&#39;);\r\n        dispatchEvent(element, dragEndEvent, dropEvent.dataTransfer);\r\n    }\r\n\r\n2) Using below code we can call above custom function(Below is C# code)\r\n    \r\n    string script = System.IO.File.ReadAllText(@&quot;{filepath of DragDrop.js file}&quot;);\r\n    script = script + &quot;executeDrageAndDrop(arguments[0], arguments[1])&quot;;\r\n    IJavaScriptExecutor executor = (IJavaScriptExecutor)driver;\r\n\r\n    IWebElement source = driver.findElement(By......);\r\n    IWebElement target = driver.findElement(By......);\r\n\r\n    executor.ExecuteScript(script, source, target);\r\n","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>I have also faced the same issue. Please find below custom java-script function for drag &amp; drop.</p>\n\n<p>1) Create DragDrop.js file and paste below code in it</p>\n\n<pre><code>    function customEvent(typeOfEvent) {\n    var event = document.createEvent(\"CustomEvent\");\n    event.initCustomEvent(typeOfEvent, true, true, null);\n    event.dataTransfer = {\n        data: {},\n        setData: function (key, value) {\n            this.data[key] = value;\n        },\n        getData: function (key) {\n            return this.data[key];\n        }\n    };\n    return event;\n}\nfunction dispatchEvent(element, event, transferData) {\n    if (transferData !== undefined) {\n        event.dataTransfer = transferData;\n    }\n    if (element.dispatchEvent) {\n        element.dispatchEvent(event);\n    } else if (element.fireEvent) {\n        element.fireEvent(\"on\" + event.type, event);\n    }\n}\nfunction executeDrageAndDrop(element, target) {\n    var dragStartEvent = customEvent('dragstart');\n    dispatchEvent(element, dragStartEvent);\n    var dropEvent = customEvent('drop');\n    dispatchEvent(target, dropEvent, dragStartEvent.dataTransfer);\n    var dragEndEvent = customEvent('dragend');\n    dispatchEvent(element, dragEndEvent, dropEvent.dataTransfer);\n}\n</code></pre>\n\n<p>2) Using below code we can call above custom function(Below is C# code)</p>\n\n<pre><code>string script = System.IO.File.ReadAllText(@\"{filepath of DragDrop.js file}\");\nscript = script + \"executeDrageAndDrop(arguments[0], arguments[1])\";\nIJavaScriptExecutor executor = (IJavaScriptExecutor)driver;\n\nIWebElement source = driver.findElement(By......);\nIWebElement target = driver.findElement(By......);\n\nexecutor.ExecuteScript(script, source, target);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15095197,"reputation":1792,"user_id":10893827,"display_name":"Norayr Sargsyan"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1662562391,"creation_date":1593609657,"answer_id":62677813,"question_id":39436870,"body_markdown":" If the known cases do not work, you can try this solution\r\n\r\n            WebElement a = driver.findElement(By.cssSelector(&quot;your_selector&quot;));\r\n            WebElement b = driver.findElement(By.cssSelector(&quot;your_selector&quot;));\r\n    \r\n            int x = b.getLocation().x;\r\n            int y = b.getLocation().y;\r\n    \r\n            Actions actions = new Actions(driver);\r\n            actions.moveToElement(a)\r\n                    .pause(Duration.ofSeconds(1))\r\n                    .clickAndHold(a)\r\n                    .pause(Duration.ofSeconds(1))\r\n                    .moveByOffset(x, y)\r\n                    .moveToElement(b)\r\n                    .moveByOffset(x,y)\r\n                    .pause(Duration.ofSeconds(1))\r\n                    .release().build().perform();\r\n\r\nIf you want to drag the element in a different area(not to drag the element to another one) you can use this scenario for that:\r\n\r\n    WebElement source = driver.findElement(By.cssSelector(&quot;your_selector&quot;));\r\n\r\n    Actions actions = new Actions(driver);\r\n    actions.moveToElement(source)\r\n                .pause(Duration.ofSeconds(1))\r\n                .clickAndHold(source)\r\n                .pause(Duration.ofSeconds(1))\r\n                .moveByOffset(0,50) //change the x, y values to be applicable for your cases\r\n                .moveByOffset(0,50)\r\n                .pause(Duration.ofSeconds(1))\r\n                .release().build().perform();\r\n    }\r\n","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>If the known cases do not work, you can try this solution</p>\n<pre><code>        WebElement a = driver.findElement(By.cssSelector(&quot;your_selector&quot;));\n        WebElement b = driver.findElement(By.cssSelector(&quot;your_selector&quot;));\n\n        int x = b.getLocation().x;\n        int y = b.getLocation().y;\n\n        Actions actions = new Actions(driver);\n        actions.moveToElement(a)\n                .pause(Duration.ofSeconds(1))\n                .clickAndHold(a)\n                .pause(Duration.ofSeconds(1))\n                .moveByOffset(x, y)\n                .moveToElement(b)\n                .moveByOffset(x,y)\n                .pause(Duration.ofSeconds(1))\n                .release().build().perform();\n</code></pre>\n<p>If you want to drag the element in a different area(not to drag the element to another one) you can use this scenario for that:</p>\n<pre><code>WebElement source = driver.findElement(By.cssSelector(&quot;your_selector&quot;));\n\nActions actions = new Actions(driver);\nactions.moveToElement(source)\n            .pause(Duration.ofSeconds(1))\n            .clickAndHold(source)\n            .pause(Duration.ofSeconds(1))\n            .moveByOffset(0,50) //change the x, y values to be applicable for your cases\n            .moveByOffset(0,50)\n            .pause(Duration.ofSeconds(1))\n            .release().build().perform();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":415813,"reputation":3142,"user_id":790839,"display_name":"Anver Sadhat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623001763,"creation_date":1623001763,"answer_id":67862055,"question_id":39436870,"body_markdown":"Please refer this Java Script based solution with sample web application given By [Dmitrii Bormotov][1] in Medium. It&#39;s in python (With little tweak you can use it in java) \r\n\r\nI tried using plain selenium **Actions** *DragAndDrop* method, with different combinations and it was not at all working for me.\r\n\r\n  [1]: https://medium.com/python-pandemonium/how-to-bypass-selenium-drag-drop-bug-in-python-e33704a15761","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>Please refer this Java Script based solution with sample web application given By <a href=\"https://medium.com/python-pandemonium/how-to-bypass-selenium-drag-drop-bug-in-python-e33704a15761\" rel=\"nofollow noreferrer\">Dmitrii Bormotov</a> in Medium. It's in python (With little tweak you can use it in java)</p>\n<p>I tried using plain selenium <strong>Actions</strong> <em>DragAndDrop</em> method, with different combinations and it was not at all working for me.</p>\n"}],"owner":{"account_id":2365998,"reputation":921,"user_id":2071673,"accept_rate":58,"display_name":"Naseem"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25574,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":13,"score":18,"last_activity_date":1664308535,"creation_date":1473602534,"question_id":39436870,"body_markdown":"I am trying to drag an element into another element using Selenium WebDriver but it&#39;s not working. I tried all the solutions which I can find on the internet but none of the solutions seems to be working for me. \r\n\r\n    WebElement sourceelement = driver.findElement(By.cssSelector(&quot;XXX&quot;));\r\n    WebElement destelement = driver.findElement(By.cssSelector(&quot;YYY&quot;));\r\n\r\nCode1:-\r\n\r\n    Actions builder = new Actions( _controls.getDriver());\r\n\tbuilder.dragAndDrop(sourceelement, destelement);\r\n\r\nCode2:- \r\n\r\n    Actions builder = new Actions(_controls.getDriver());\r\n\tAction dragAndDrop =\r\n\tbuilder.clickAndHold(sourceelement).moveToElement(destelement).release(destelement).build();\r\n    Thread.sleep(2000);\r\n\tdragAndDrop.perform()\r\n\r\nCode3:-\r\n\r\n    Point coordinates1 = sourceelement.getLocation();\r\n\tPoint coordinates2 = destelement.getLocation();\t \r\n\tRobot robot = new Robot();\t\t\t \r\n\trobot.mouseMove(coordinates1.getX(), coordinates1.getY());\r\n\trobot.mousePress(InputEvent.BUTTON1_MASK);\r\n\trobot.mouseMove(coordinates2.getX(), coordinates2.getY());\r\n\trobot.mouseRelease(InputEvent.BUTTON1_MASK);\r\n\tThread.sleep(2000);\r\n\r\n\r\nCode4:-\r\n\r\n    final String java_script =\r\n\t&quot;var src=arguments[0],tgt=arguments[1];var dataTransfer={dropEffe&quot; +\r\n\t\t\t\t\t&quot;ct:&#39;&#39;,effectAllowed:&#39;all&#39;,files:[],items:{},types:[],setData:fun&quot; +\r\n\t\t\t\t\t&quot;ction(format,data){this.items[format]=data;this.types.append(for&quot; +\r\n\t\t\t\t\t&quot;mat);},getData:function(format){return this.items[format];},clea&quot; +\r\n\t\t\t\t\t&quot;rData:function(format){}};var emit=function(event,target){var ev&quot; +\r\n\t\t\t\t\t&quot;t=document.createEvent(&#39;Event&#39;);evt.initEvent(event,true,false);&quot; +\r\n\t\t\t\t\t&quot;evt.dataTransfer=dataTransfer;target.dispatchEvent(evt);};emit(&#39;&quot; +\r\n\t\t\t\t\t&quot;dragstart&#39;,src);emit(&#39;dragenter&#39;,tgt);emit(&#39;dragover&#39;,tgt);emit(&quot; +\r\n\t\t\t\t\t&quot;&#39;drop&#39;,tgt);emit(&#39;dragend&#39;,src);&quot;;\r\n\t\t\t\r\n\t\t\t((JavascriptExecutor)_controls.getDriver()).executeScript(java_script, sourceelement, destelement);\r\n\t\t\tThread.sleep(2000);\r\n\r\nNone of the above codes is working for me. All the above runs without any error but drag and drop is not happening in the application. Does anyone have any other solution? Thanks.","title":"Why drag and drop is not working in Selenium Webdriver?","body":"<p>I am trying to drag an element into another element using Selenium WebDriver but it's not working. I tried all the solutions which I can find on the internet but none of the solutions seems to be working for me.</p>\n<pre><code>WebElement sourceelement = driver.findElement(By.cssSelector(&quot;XXX&quot;));\nWebElement destelement = driver.findElement(By.cssSelector(&quot;YYY&quot;));\n</code></pre>\n<p>Code1:-</p>\n<pre><code>Actions builder = new Actions( _controls.getDriver());\nbuilder.dragAndDrop(sourceelement, destelement);\n</code></pre>\n<p>Code2:-</p>\n<pre><code>Actions builder = new Actions(_controls.getDriver());\nAction dragAndDrop =\nbuilder.clickAndHold(sourceelement).moveToElement(destelement).release(destelement).build();\nThread.sleep(2000);\ndragAndDrop.perform()\n</code></pre>\n<p>Code3:-</p>\n<pre><code>Point coordinates1 = sourceelement.getLocation();\nPoint coordinates2 = destelement.getLocation();  \nRobot robot = new Robot();           \nrobot.mouseMove(coordinates1.getX(), coordinates1.getY());\nrobot.mousePress(InputEvent.BUTTON1_MASK);\nrobot.mouseMove(coordinates2.getX(), coordinates2.getY());\nrobot.mouseRelease(InputEvent.BUTTON1_MASK);\nThread.sleep(2000);\n</code></pre>\n<p>Code4:-</p>\n<pre><code>final String java_script =\n&quot;var src=arguments[0],tgt=arguments[1];var dataTransfer={dropEffe&quot; +\n                &quot;ct:'',effectAllowed:'all',files:[],items:{},types:[],setData:fun&quot; +\n                &quot;ction(format,data){this.items[format]=data;this.types.append(for&quot; +\n                &quot;mat);},getData:function(format){return this.items[format];},clea&quot; +\n                &quot;rData:function(format){}};var emit=function(event,target){var ev&quot; +\n                &quot;t=document.createEvent('Event');evt.initEvent(event,true,false);&quot; +\n                &quot;evt.dataTransfer=dataTransfer;target.dispatchEvent(evt);};emit('&quot; +\n                &quot;dragstart',src);emit('dragenter',tgt);emit('dragover',tgt);emit(&quot; +\n                &quot;'drop',tgt);emit('dragend',src);&quot;;\n        \n        ((JavascriptExecutor)_controls.getDriver()).executeScript(java_script, sourceelement, destelement);\n        Thread.sleep(2000);\n</code></pre>\n<p>None of the above codes is working for me. All the above runs without any error but drag and drop is not happening in the application. Does anyone have any other solution? Thanks.</p>\n"},{"tags":["java","hashmap","lru"],"answers":[{"tags":[],"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1371939560,"creation_date":1371939052,"answer_id":17255782,"question_id":17255572,"body_markdown":"&gt; I know that there&#39;s a removeEldestEntry method that I have to **override**\r\n\r\n**This statement is wrong since `LinkedHashSet` HAS-A `LinkedHashMap` and not IS-A.**\r\n\r\nYou could use the useful (although not well known), [Collections.newSetFromMap][1] method:\r\n\r\n    Set&lt;String&gt; mySet = Collections.newSetFromMap(new LinkedHashMap&lt;String, Boolean&gt;(){\r\n        protected boolean removeEldestEntry(Map.Entry&lt;String, Boolean&gt; eldest) {\r\n            return size() &gt; MAX_ENTRIES;\r\n        }\r\n    });\r\n\r\nIt will thus return a `Set` vision of a `LinkedHashMap` (a Set-Like interface) implementing your custom `removeEldestEntry` method. \r\n\r\n`MAX_ENTRIES` being a custom constant that you would have defined.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29","title":"LinkedHashSet to implement LRU","body":"<blockquote>\n  <p>I know that there's a removeEldestEntry method that I have to <strong>override</strong></p>\n</blockquote>\n\n<p><strong>This statement is wrong since <code>LinkedHashSet</code> HAS-A <code>LinkedHashMap</code> and not IS-A.</strong></p>\n\n<p>You could use the useful (although not well known), <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collections.html#newSetFromMap%28java.util.Map%29\" rel=\"noreferrer\">Collections.newSetFromMap</a> method:</p>\n\n<pre><code>Set&lt;String&gt; mySet = Collections.newSetFromMap(new LinkedHashMap&lt;String, Boolean&gt;(){\n    protected boolean removeEldestEntry(Map.Entry&lt;String, Boolean&gt; eldest) {\n        return size() &gt; MAX_ENTRIES;\n    }\n});\n</code></pre>\n\n<p>It will thus return a <code>Set</code> vision of a <code>LinkedHashMap</code> (a Set-Like interface) implementing your custom <code>removeEldestEntry</code> method. </p>\n\n<p><code>MAX_ENTRIES</code> being a custom constant that you would have defined.</p>\n"},{"tags":[],"owner":{"account_id":22338605,"reputation":1,"user_id":16558726,"display_name":"Ernie Jones"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664308359,"creation_date":1664308359,"answer_id":73873140,"question_id":17255572,"body_markdown":"Slight enhancement to the above answer:\r\n```\r\n    Collections.newSetFromMap(new LinkedHashMap&lt;T, Boolean&gt;(maxSize, 0.75f, true) {  \r\n\r\n      @Override\r\n      public boolean containsKey(Object key) {\r\n       // Unfortunately, the LinkedHashMap containsKey method doesn&#39;t reset the LRU order, \r\n       // so perform a &#39;get&#39; call here too\r\n        return super.containsKey(key)\r\n                &amp;&amp; super.get(key); \r\n      }\r\n\r\n      @Override\r\n      protected boolean removeEldestEntry(Map.Entry&lt;T, Boolean&gt; eldest) {\r\n        return this.size() &gt; maxSize;\r\n      }\r\n    });\r\n```","title":"LinkedHashSet to implement LRU","body":"<p>Slight enhancement to the above answer:</p>\n<pre><code>    Collections.newSetFromMap(new LinkedHashMap&lt;T, Boolean&gt;(maxSize, 0.75f, true) {  \n\n      @Override\n      public boolean containsKey(Object key) {\n       // Unfortunately, the LinkedHashMap containsKey method doesn't reset the LRU order, \n       // so perform a 'get' call here too\n        return super.containsKey(key)\n                &amp;&amp; super.get(key); \n      }\n\n      @Override\n      protected boolean removeEldestEntry(Map.Entry&lt;T, Boolean&gt; eldest) {\n        return this.size() &gt; maxSize;\n      }\n    });\n</code></pre>\n"}],"owner":{"account_id":1833467,"reputation":7501,"user_id":1664315,"accept_rate":59,"display_name":"Arian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6516,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1664308359,"creation_date":1371937170,"question_id":17255572,"body_markdown":"I want to remove the oldest member of a `LinkedHashSet` , I know that there&#39;s a `removeEldestEntry` method that I have to override ([Java doc for removeEldestEntry\r\n][1]),\r\nbut I guess that I have to define `initial capacity` and `load factor` which I don&#39;t care and I simply want to remove the element which was least recently accessed (here by access I mean being `put` while it&#39;s already in the set or being read)\r\n\r\nIs there any way not to override `removeEldestEntry` ?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html#removeEldestEntry%28java.util.Map.Entry%29","title":"LinkedHashSet to implement LRU","body":"<p>I want to remove the oldest member of a <code>LinkedHashSet</code> , I know that there's a <code>removeEldestEntry</code> method that I have to override (<a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/LinkedHashMap.html#removeEldestEntry%28java.util.Map.Entry%29\">Java doc for removeEldestEntry\n</a>),\nbut I guess that I have to define <code>initial capacity</code> and <code>load factor</code> which I don't care and I simply want to remove the element which was least recently accessed (here by access I mean being <code>put</code> while it's already in the set or being read)</p>\n\n<p>Is there any way not to override <code>removeEldestEntry</code> ?</p>\n"},{"tags":["java","selenium","xpath","html-table","webdriver"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1664307148,"post_id":73871943,"comment_id":130440526,"body_markdown":"you should be able to construct a locator that describes all rows that contain children of td...  (sibling) ultimately the locator will depend on what you are doing with those webelements.  Are you getting the cells for each row?  Only a certain cell in each?  You can probably construct a locator to get at just what you need.","body":"you should be able to construct a locator that describes all rows that contain children of td...  (sibling) ultimately the locator will depend on what you are doing with those webelements.  Are you getting the cells for each row?  Only a certain cell in each?  You can probably construct a locator to get at just what you need."}],"answers":[{"tags":[],"owner":{"account_id":15083819,"reputation":33038,"user_id":10885684,"display_name":"KunduK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664307722,"creation_date":1664307722,"answer_id":73873011,"question_id":73871943,"body_markdown":"If you want to exclude `header row` you can use below xpath, which will ignore `th` column.\r\n\r\n    //table/tbody/tr[not(th)]\r\n\r\nyour code will be\r\n\r\n    @FindBy(xpath = &quot;//table/tbody/tr[not(th)]&quot;)\r\n     private List&lt;WebElement&gt; detailRows;","title":"Getting rows from a table by index in special cases using Selenium with Java","body":"<p>If you want to exclude <code>header row</code> you can use below xpath, which will ignore <code>th</code> column.</p>\n<pre><code>//table/tbody/tr[not(th)]\n</code></pre>\n<p>your code will be</p>\n<pre><code>@FindBy(xpath = &quot;//table/tbody/tr[not(th)]&quot;)\n private List&lt;WebElement&gt; detailRows;\n</code></pre>\n"}],"owner":{"account_id":7783163,"reputation":1123,"user_id":5888946,"accept_rate":58,"display_name":"Tony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73873011,"answer_count":1,"score":0,"last_activity_date":1664307744,"creation_date":1664301593,"question_id":73871943,"body_markdown":"We have a table where the first row in the *tbody* actually describes the headers rather than the headers being in a *thead*. So I have something like the following to get the headers.\r\n\r\n     @FindBy(xpath = &quot;//table/tbody/tr[1]/th&quot;)\r\n     private List&lt;WebElement&gt; headerRows.\r\n\r\nI would like to make something similar to get the detail rows (starting from row 2).  If I do\r\n\r\n     @FindBy(xpath = &quot;//table/tbody/tr&quot;)\r\n     private List&lt;WebElement&gt; detailRows;\r\n\r\nThis will also get the header row.  I would like to exclude index 1.  I tried this:\r\n\r\n     @FindBy(xpath=&quot;//table/tbody/tr[!1]&quot;) and @FindBy(xpath=&quot;//table/tbody/tr[not(1)]&quot;)\r\n\r\n but those didn&#39;t work?  Any suggestions?  I can do it with code and find and skip the first row when reading in a loop if necessary:\r\n\r\n     @FindBy(xpath=&quot;//table/tbody/tr&quot;)\r\n     private WebElement rows;\r\n\r\n     for (int i = 1; i rows.size(); i++) {\r\n          WebElement row = rows.get(i);\r\n     }    \r\n\r\nbut that does not seem elegant.  Is that the best way?","title":"Getting rows from a table by index in special cases using Selenium with Java","body":"<p>We have a table where the first row in the <em>tbody</em> actually describes the headers rather than the headers being in a <em>thead</em>. So I have something like the following to get the headers.</p>\n<pre><code> @FindBy(xpath = &quot;//table/tbody/tr[1]/th&quot;)\n private List&lt;WebElement&gt; headerRows.\n</code></pre>\n<p>I would like to make something similar to get the detail rows (starting from row 2).  If I do</p>\n<pre><code> @FindBy(xpath = &quot;//table/tbody/tr&quot;)\n private List&lt;WebElement&gt; detailRows;\n</code></pre>\n<p>This will also get the header row.  I would like to exclude index 1.  I tried this:</p>\n<pre><code> @FindBy(xpath=&quot;//table/tbody/tr[!1]&quot;) and @FindBy(xpath=&quot;//table/tbody/tr[not(1)]&quot;)\n</code></pre>\n<p>but those didn't work?  Any suggestions?  I can do it with code and find and skip the first row when reading in a loop if necessary:</p>\n<pre><code> @FindBy(xpath=&quot;//table/tbody/tr&quot;)\n private WebElement rows;\n\n for (int i = 1; i rows.size(); i++) {\n      WebElement row = rows.get(i);\n }    \n</code></pre>\n<p>but that does not seem elegant.  Is that the best way?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":18958610,"reputation":304,"user_id":17512310,"display_name":"devman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1663905580,"creation_date":1663903529,"answer_id":73822676,"question_id":73822657,"body_markdown":"you need space between `Bearer` and `token`:\r\n```java\r\nheaders.set(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, token));\r\n```","title":"How to call an api that needs a bearer token in java?","body":"<p>you need space between <code>Bearer</code> and <code>token</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>headers.set(&quot;Authorization&quot;, String.format(&quot;Bearer %s&quot;, token));\n</code></pre>\n"}],"owner":{"account_id":19898621,"reputation":7,"user_id":14579187,"display_name":"Artyom47"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73822676,"answer_count":1,"score":0,"last_activity_date":1664307085,"creation_date":1663903274,"question_id":73822657,"body_markdown":"I am making an application in spring boot but that can auto invite an organization and I am testing by calling the pi, the problem is that when I enter the Bearer Token, I keep getting the 401 Unauthorized error.\r\n\r\n```\r\n\r\npublic class RestClient {\r\n\r\n    private static final String GET_INVITATION = &quot;https://api.github.com/orgs/ORG-Example/invitations&quot;;\r\n    private static final String token = &quot;THE TOKEN&quot;;\r\n\r\n    static RestTemplate restTemplate = new RestTemplate();\r\n\r\n    public static void main(String[] args) {\r\n        callListOrganizationAPI();\r\n    }\r\n\r\n    public static void callListOrganizationAPI(){\r\n\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\r\n        headers.set(&quot;Authorization&quot;,&quot;Bearer&quot;+ token);\r\n\r\n        HttpEntity &lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\r\n        ResponseEntity &lt;String&gt; result =  restTemplate.exchange(GET_INVITATION, HttpMethod.GET,request,String.class);\r\n\r\n        String json = result.getBody();\r\n        System.out.println(json);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nBeen looking at various solutions but now I have not been able to get any of them to work.\r\n\r\nError:\r\n\r\n```\r\n22:14:36.171 [main] DEBUG org.springframework.web.client.RestTemplate - HTTP GET https://api.github.com/orgs/ORG-Example/invitations\r\n22:14:36.179 [main] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]\r\n22:14:36.598 [main] DEBUG org.springframework.web.client.RestTemplate - Response 401 UNAUTHORIZED\r\nException in thread &quot;main&quot; org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: &quot;{&quot;message&quot;:&quot;Requires authentication&quot;,&quot;documentation_url&quot;:&quot;https://docs.github.com/rest/reference/orgs#list-pending-organization-invitations&quot;}&quot;\r\n\tat org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:105)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\r\n\tat org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\r\n\tat org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\r\n\tat org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\r\n\tat com.texhnolyze.githubapi.RestClient.callListOrganizationAPI(RestClient.java:26)\r\n\tat com.texhnolyze.githubapi.RestClient.main(RestClient.java:16)\r\n\r\n```\r\n","title":"How to call an api that needs a bearer token in java?","body":"<p>I am making an application in spring boot but that can auto invite an organization and I am testing by calling the pi, the problem is that when I enter the Bearer Token, I keep getting the 401 Unauthorized error.</p>\n<pre><code>\npublic class RestClient {\n\n    private static final String GET_INVITATION = &quot;https://api.github.com/orgs/ORG-Example/invitations&quot;;\n    private static final String token = &quot;THE TOKEN&quot;;\n\n    static RestTemplate restTemplate = new RestTemplate();\n\n    public static void main(String[] args) {\n        callListOrganizationAPI();\n    }\n\n    public static void callListOrganizationAPI(){\n\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Arrays.asList(MediaType.APPLICATION_JSON));\n        headers.set(&quot;Authorization&quot;,&quot;Bearer&quot;+ token);\n\n        HttpEntity &lt;String&gt; request = new HttpEntity&lt;String&gt;(headers);\n        ResponseEntity &lt;String&gt; result =  restTemplate.exchange(GET_INVITATION, HttpMethod.GET,request,String.class);\n\n        String json = result.getBody();\n        System.out.println(json);\n    }\n\n}\n\n</code></pre>\n<p>Been looking at various solutions but now I have not been able to get any of them to work.</p>\n<p>Error:</p>\n<pre><code>22:14:36.171 [main] DEBUG org.springframework.web.client.RestTemplate - HTTP GET https://api.github.com/orgs/ORG-Example/invitations\n22:14:36.179 [main] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]\n22:14:36.598 [main] DEBUG org.springframework.web.client.RestTemplate - Response 401 UNAUTHORIZED\nException in thread &quot;main&quot; org.springframework.web.client.HttpClientErrorException$Unauthorized: 401 Unauthorized: &quot;{&quot;message&quot;:&quot;Requires authentication&quot;,&quot;documentation_url&quot;:&quot;https://docs.github.com/rest/reference/orgs#list-pending-organization-invitations&quot;}&quot;\n    at org.springframework.web.client.HttpClientErrorException.create(HttpClientErrorException.java:105)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:168)\n    at org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:122)\n    at org.springframework.web.client.ResponseErrorHandler.handleError(ResponseErrorHandler.java:63)\n    at org.springframework.web.client.RestTemplate.handleResponse(RestTemplate.java:819)\n    at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:777)\n    at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:711)\n    at org.springframework.web.client.RestTemplate.exchange(RestTemplate.java:602)\n    at com.texhnolyze.githubapi.RestClient.callListOrganizationAPI(RestClient.java:26)\n    at com.texhnolyze.githubapi.RestClient.main(RestClient.java:16)\n\n</code></pre>\n"},{"tags":["java","byte-buddy","javaagents"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664275972,"creation_date":1664275972,"answer_id":73866408,"question_id":73861020,"body_markdown":"The `Transport` class is invoked from the HTTP agent, which is part of the JDK and on the platform class loader. The platform class loader cannot see your agent which lives on the system loader.\r\n\r\nYou would need to inject your &quot;general infrastructure&quot; into the boot loader via the `Instrumentation` instance that is presented to your agent. Byte Buddy offers convenience for this by the `ClassInjector` hierarchy.","title":"Bytebuddy: Method not being called in agent","body":"<p>The <code>Transport</code> class is invoked from the HTTP agent, which is part of the JDK and on the platform class loader. The platform class loader cannot see your agent which lives on the system loader.</p>\n<p>You would need to inject your &quot;general infrastructure&quot; into the boot loader via the <code>Instrumentation</code> instance that is presented to your agent. Byte Buddy offers convenience for this by the <code>ClassInjector</code> hierarchy.</p>\n"}],"owner":{"account_id":26432214,"reputation":35,"user_id":20078193,"display_name":"Daven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73866408,"answer_count":1,"score":2,"last_activity_date":1664306470,"creation_date":1664236440,"question_id":73861020,"body_markdown":"I&#39;m creating an agent and using bytebuddy. I&#39;d like to measure the time it takes to execute the `java.net.http.HttpClient`&#39;s `send` method. \r\n\r\n```java\r\n// premain\r\npublic static void premain(String arguments, Instrumentation instrumentation) {\r\n    new AgentBuilder.Default()\r\n        .ignore(ElementMatchers.none())\r\n        .with(Listener.StreamWriting.toSystemOut().withErrorsOnly())\r\n        .type(hasSuperType(named(&quot;java.net.http.HttpClient&quot;)))\r\n        .transform((builder, typeDescription, classLoader,\r\n            module, protectionDomain) -&gt; {\r\n          return builder\r\n              .visit(Advice.to(SendAdvice.class)\r\n                  .on(hasMethodName(&quot;send&quot;)\r\n                      .and(returns(named(&quot;java.net.http.HttpResponse&quot;)))));\r\n        })\r\n        .asTerminalTransformation()\r\n        .installOn(instrumentation);\r\n  }\r\n\r\n// Transport\r\npublic class Transport {\r\n    public static void send() {\r\n        System.out.println(&quot;hello static&quot;);\r\n  }\r\n}\r\n\r\n// Advice\r\nclass SendAdvice {\r\n  @Advice.OnMethodEnter()\r\n  public static long start() {\r\n    return System.nanoTime();\r\n  }\r\n\r\n  @Advice.OnMethodExit(onThrowable = Throwable.class, suppress = Throwable.class)\r\n  public static void exit(\r\n      @Advice.Enter long startTime) throws MalformedURLException {\r\n    Transport.send(System.nanoTime() - startTime);\r\n  }\r\n}\r\n```\r\n\r\nFor some reason, the `Transport.send` is not being invoked. I only have a logging statement in there but it doesn&#39;t log. If i just inline the log statement in the `exit` method, it works. ","title":"Bytebuddy: Method not being called in agent","body":"<p>I'm creating an agent and using bytebuddy. I'd like to measure the time it takes to execute the <code>java.net.http.HttpClient</code>'s <code>send</code> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// premain\npublic static void premain(String arguments, Instrumentation instrumentation) {\n    new AgentBuilder.Default()\n        .ignore(ElementMatchers.none())\n        .with(Listener.StreamWriting.toSystemOut().withErrorsOnly())\n        .type(hasSuperType(named(&quot;java.net.http.HttpClient&quot;)))\n        .transform((builder, typeDescription, classLoader,\n            module, protectionDomain) -&gt; {\n          return builder\n              .visit(Advice.to(SendAdvice.class)\n                  .on(hasMethodName(&quot;send&quot;)\n                      .and(returns(named(&quot;java.net.http.HttpResponse&quot;)))));\n        })\n        .asTerminalTransformation()\n        .installOn(instrumentation);\n  }\n\n// Transport\npublic class Transport {\n    public static void send() {\n        System.out.println(&quot;hello static&quot;);\n  }\n}\n\n// Advice\nclass SendAdvice {\n  @Advice.OnMethodEnter()\n  public static long start() {\n    return System.nanoTime();\n  }\n\n  @Advice.OnMethodExit(onThrowable = Throwable.class, suppress = Throwable.class)\n  public static void exit(\n      @Advice.Enter long startTime) throws MalformedURLException {\n    Transport.send(System.nanoTime() - startTime);\n  }\n}\n</code></pre>\n<p>For some reason, the <code>Transport.send</code> is not being invoked. I only have a logging statement in there but it doesn't log. If i just inline the log statement in the <code>exit</code> method, it works.</p>\n"},{"tags":["java","language-design"],"comments":[{"owner":{"account_id":2048438,"reputation":8159,"user_id":1827992,"accept_rate":88,"display_name":"BevynQ"},"score":0,"creation_date":1456806530,"post_id":35714431,"comment_id":59105723,"body_markdown":"`in a List&lt;MyType&gt;, you can only put a MyType in, not any of it&#39;s subclasses` that is incorrect.","body":"<code>in a List&lt;MyType&gt;, you can only put a MyType in, not any of it&#39;s subclasses</code> that is incorrect."},{"owner":{"account_id":3823725,"reputation":2958,"user_id":3171100,"accept_rate":67,"display_name":"Chris Smith"},"score":0,"creation_date":1456806623,"post_id":35714431,"comment_id":59105751,"body_markdown":"Then what is the purpose of `extends`?","body":"Then what is the purpose of <code>extends</code>?"},{"owner":{"account_id":186082,"reputation":4236,"user_id":423199,"accept_rate":99,"display_name":"Hector"},"score":0,"creation_date":1456807128,"post_id":35714431,"comment_id":59105896,"body_markdown":"if you require insight into Java Generics then your first port of call should be this FAQ, http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html","body":"if you require insight into Java Generics then your first port of call should be this FAQ, <a href=\"http://www.angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html\" rel=\"nofollow noreferrer\">angelikalanger.com/GenericsFAQ/JavaGenericsFAQ.html</a>"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1456808295,"post_id":35714431,"comment_id":59106239,"body_markdown":"*&quot;As a Student extends Person, the compare method would be handled by it&#39;s superclass, Person.&quot;* If you infer `T=Person` then you are trying to convert a `List&lt;Student&gt;` to `List&lt;Person&gt;` which is not allowed. The answer to almost every question of the form *&quot;Why can&#39;t I do X with Java generics?&quot;* is that *X* can lead to some kind of failure.","body":"<i>&quot;As a Student extends Person, the compare method would be handled by it&#39;s superclass, Person.&quot;</i> If you infer <code>T=Person</code> then you are trying to convert a <code>List&lt;Student&gt;</code> to <code>List&lt;Person&gt;</code> which is not allowed. The answer to almost every question of the form <i>&quot;Why can&#39;t I do X with Java generics?&quot;</i> is that <i>X</i> can lead to some kind of failure."}],"answers":[{"tags":[],"owner":{"account_id":6406447,"reputation":3104,"user_id":4967497,"accept_rate":83,"display_name":"JojOatXGME"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1456809211,"creation_date":1456807838,"answer_id":35714885,"question_id":35714431,"body_markdown":"First: The method declaration\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; void sort(List&lt;T&gt; list)\r\n\r\ndoes not make much sense for me. I thing it should be\r\n\r\n    public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\r\n\r\nThen it would be possible to write `sort(listOfStudents)`. Now I will explain the advantage of *upper* and *lower bounded wildcards*:\r\n\r\n---\r\n\r\nPolymorphism of type parameters is not transferred to it&#39;s generic type\r\n-----------------------------------------------------------------------\r\n\r\nThis mean a list of students (`List&lt;Student&gt;`) is *not* a list of persons (`List&lt;Person&gt;`). A instruction like\r\n\r\n    List&lt;Person&gt; list = new List&lt;Student&gt;();\r\n\r\nwould fail in Java. There is a simple reason: `list.add(new Person());` would be illegal for a list of students but not for a list of persons.\r\n\r\nUpper Bounded Wildcards\r\n-----------------------\r\n\r\nBut maybe you have a function which doesn&#39;t care whether the objects are subclasses or not. For example: You could have a method like this:\r\n\r\n    void printAll(List&lt;Person&gt; list)\r\n\r\nThey just print some data about all persons to stdout. If you have a list of students (`List&lt;Student&gt; listOfStudents`) you could write:\r\n\r\n    List&lt;Person&gt; listOfPersons = new ArrayList&lt;&gt;();\r\n    for (final Student student : listOfStudents) {\r\n        listOfPersons.add(student);\r\n    }\r\n    printAll(listOfPersons);\r\n\r\nBut you may see that it isn&#39;t a very nice solution. Another solution would be to use *upper bounded wildcards* for `printAll`:\r\n\r\n    void printAll(List&lt;? extends Person&gt; list)\r\n\r\nYou can write something like `Person person = list.get(0)` in `printAll`. But you cannot write `print.add(new Person())` because `list` could be a list of students or something else.\r\n\r\nLower Bounded Wildcards\r\n-----------------------\r\n\r\nNow the same in the other direction: Lets say you have a function which generates some students and put them in a list. Something like this:\r\n\r\n    void generateStudents(List&lt;Student&gt; list) {\r\n        for (int i = 0; i &lt; 10; ++i) {\r\n            list.add(new Student());\r\n        }\r\n    }\r\n\r\nNow you have a list of persons (`List&lt;Person&gt; listOfPersons`) and want to generate students in this list. You could write\r\n\r\n    List&lt;Student&gt; listOfStudents = new ArrayList&lt;&gt;();\r\n    generateStudents(listOfStudents);\r\n    for (Student student : listOfStudents) {\r\n        listOfPersons.add(student);\r\n    }\r\n\r\nYou may see again, that it is not a very nice solution. You could also change the declaration of `generateStudents` to\r\n\r\n    void generateStudents(List&lt;? super Student&gt; list)\r\n\r\nNow, you can just write `generateStudents(listOfPersons);`.","title":"Why does Java have lower bounds in generics?","body":"<p>First: The method declaration</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; void sort(List&lt;T&gt; list)\n</code></pre>\n\n<p>does not make much sense for me. I thing it should be</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List&lt;T&gt; list)\n</code></pre>\n\n<p>Then it would be possible to write <code>sort(listOfStudents)</code>. Now I will explain the advantage of <em>upper</em> and <em>lower bounded wildcards</em>:</p>\n\n<hr>\n\n<h2>Polymorphism of type parameters is not transferred to it's generic type</h2>\n\n<p>This mean a list of students (<code>List&lt;Student&gt;</code>) is <em>not</em> a list of persons (<code>List&lt;Person&gt;</code>). A instruction like</p>\n\n<pre><code>List&lt;Person&gt; list = new List&lt;Student&gt;();\n</code></pre>\n\n<p>would fail in Java. There is a simple reason: <code>list.add(new Person());</code> would be illegal for a list of students but not for a list of persons.</p>\n\n<h2>Upper Bounded Wildcards</h2>\n\n<p>But maybe you have a function which doesn't care whether the objects are subclasses or not. For example: You could have a method like this:</p>\n\n<pre><code>void printAll(List&lt;Person&gt; list)\n</code></pre>\n\n<p>They just print some data about all persons to stdout. If you have a list of students (<code>List&lt;Student&gt; listOfStudents</code>) you could write:</p>\n\n<pre><code>List&lt;Person&gt; listOfPersons = new ArrayList&lt;&gt;();\nfor (final Student student : listOfStudents) {\n    listOfPersons.add(student);\n}\nprintAll(listOfPersons);\n</code></pre>\n\n<p>But you may see that it isn't a very nice solution. Another solution would be to use <em>upper bounded wildcards</em> for <code>printAll</code>:</p>\n\n<pre><code>void printAll(List&lt;? extends Person&gt; list)\n</code></pre>\n\n<p>You can write something like <code>Person person = list.get(0)</code> in <code>printAll</code>. But you cannot write <code>print.add(new Person())</code> because <code>list</code> could be a list of students or something else.</p>\n\n<h2>Lower Bounded Wildcards</h2>\n\n<p>Now the same in the other direction: Lets say you have a function which generates some students and put them in a list. Something like this:</p>\n\n<pre><code>void generateStudents(List&lt;Student&gt; list) {\n    for (int i = 0; i &lt; 10; ++i) {\n        list.add(new Student());\n    }\n}\n</code></pre>\n\n<p>Now you have a list of persons (<code>List&lt;Person&gt; listOfPersons</code>) and want to generate students in this list. You could write</p>\n\n<pre><code>List&lt;Student&gt; listOfStudents = new ArrayList&lt;&gt;();\ngenerateStudents(listOfStudents);\nfor (Student student : listOfStudents) {\n    listOfPersons.add(student);\n}\n</code></pre>\n\n<p>You may see again, that it is not a very nice solution. You could also change the declaration of <code>generateStudents</code> to</p>\n\n<pre><code>void generateStudents(List&lt;? super Student&gt; list)\n</code></pre>\n\n<p>Now, you can just write <code>generateStudents(listOfPersons);</code>.</p>\n"},{"tags":[],"owner":{"account_id":2368245,"reputation":564,"user_id":2073500,"accept_rate":91,"display_name":"Jonathan Ellithorpe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1456808619,"creation_date":1456807991,"answer_id":35714915,"question_id":35714431,"body_markdown":"I think your confusion may be coming from the fact that while elements of `List&lt;Student&gt;` can be compared to each other by virtue of the fact that class `Student` subclasses `Person` which implements `Comparable&lt;Person&gt;` (class `Student` therefore inherits `compareTo(Person o)`, which can be called with an instance of `Student`), you still cannot call the `sort` method with a `List&lt;Student&gt;`...\r\n\r\nThe problem is that when the Java compiler encounters the statement:\r\n\r\n    sort(studentList); \r\n\r\nWhere `studentList` is an instance of parameterized type `List&lt;Student&gt;`, it uses type inference to infer that the type argument to the `sort` method `T` is `Student`, and `Student` does not satisfy the upper bound: `Student extends Comparable&lt;Student&gt;`. Therefore, the compiler will throw an error in this case, telling you that the inferred type does not conform to the constraints.\r\n\r\nThe article that you linked to shows you that the solution to this is to re-write the sort method as:\r\n\r\n    public static &lt;T extends Comparable &lt;? super T &gt; &gt; void sort(List&lt;T&gt; list)\r\n\r\nThis method signature loosens the constraint on the type parameter so that you can call the method with a `List&lt;Student&gt;`.\r\n   \r\n\r\nI&#39;m not too clear on the last part of your post:\r\n\r\n&gt; in a `List&lt;MyType&gt;`, you can only put a `MyType` in, not any of it&#39;s subclasses.\r\n\r\nIf you&#39;re referring to the elements of `List&lt;MyType&gt;`, yes, you can put any element that is a subtype of `MyType` in this list, say, `MySubType`. If you&#39;re referring to a variable with `List&lt;MyType&gt;` as its reference type, then no, you cannot put a reference to `List&lt;MySubType&gt;` in a variable of type `List&lt;MyType&gt;`. The reason for this is easy to see when you consider the following:\r\n\r\n    List&lt;MyType&gt; a;\r\n    List&lt;MySubType&gt; b = new ArrayList&lt;&gt;();\r\n    a = b; // compile-time-error, but assume OK for now\r\n    a.add(new MyType()); // Based on the type of a, this should be OK, but it&#39;s not because a is actually a reference to List&lt;MySubType&gt;.","title":"Why does Java have lower bounds in generics?","body":"<p>I think your confusion may be coming from the fact that while elements of <code>List&lt;Student&gt;</code> can be compared to each other by virtue of the fact that class <code>Student</code> subclasses <code>Person</code> which implements <code>Comparable&lt;Person&gt;</code> (class <code>Student</code> therefore inherits <code>compareTo(Person o)</code>, which can be called with an instance of <code>Student</code>), you still cannot call the <code>sort</code> method with a <code>List&lt;Student&gt;</code>...</p>\n\n<p>The problem is that when the Java compiler encounters the statement:</p>\n\n<pre><code>sort(studentList); \n</code></pre>\n\n<p>Where <code>studentList</code> is an instance of parameterized type <code>List&lt;Student&gt;</code>, it uses type inference to infer that the type argument to the <code>sort</code> method <code>T</code> is <code>Student</code>, and <code>Student</code> does not satisfy the upper bound: <code>Student extends Comparable&lt;Student&gt;</code>. Therefore, the compiler will throw an error in this case, telling you that the inferred type does not conform to the constraints.</p>\n\n<p>The article that you linked to shows you that the solution to this is to re-write the sort method as:</p>\n\n<pre><code>public static &lt;T extends Comparable &lt;? super T &gt; &gt; void sort(List&lt;T&gt; list)\n</code></pre>\n\n<p>This method signature loosens the constraint on the type parameter so that you can call the method with a <code>List&lt;Student&gt;</code>.</p>\n\n<p>I'm not too clear on the last part of your post:</p>\n\n<blockquote>\n  <p>in a <code>List&lt;MyType&gt;</code>, you can only put a <code>MyType</code> in, not any of it's subclasses.</p>\n</blockquote>\n\n<p>If you're referring to the elements of <code>List&lt;MyType&gt;</code>, yes, you can put any element that is a subtype of <code>MyType</code> in this list, say, <code>MySubType</code>. If you're referring to a variable with <code>List&lt;MyType&gt;</code> as its reference type, then no, you cannot put a reference to <code>List&lt;MySubType&gt;</code> in a variable of type <code>List&lt;MyType&gt;</code>. The reason for this is easy to see when you consider the following:</p>\n\n<pre><code>List&lt;MyType&gt; a;\nList&lt;MySubType&gt; b = new ArrayList&lt;&gt;();\na = b; // compile-time-error, but assume OK for now\na.add(new MyType()); // Based on the type of a, this should be OK, but it's not because a is actually a reference to List&lt;MySubType&gt;.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194909,"reputation":4585,"user_id":437506,"accept_rate":47,"display_name":"Kedar Mhaswade"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456808007,"creation_date":1456808007,"answer_id":35714917,"question_id":35714431,"body_markdown":"I also think you should refer to Java Generics by Wadler and Naftalin, an excellent introduction to Java (5+) Type System. \r\n\r\nWhen you ask &quot;what is the purpose of `extends` keyword?&quot; based on your observations about collections of objects, the first thing you should remember is generic collections are tricky. I quote from the Wadler/Naftalin book (emphasis mine):\r\n\r\n&gt; In Java, one type is a **subtype** of another if they are related by an\r\n&gt; **extends** or implements clause: Integer is a subtype of Number.\r\n&gt; Subtyping is transitive. \r\n&gt; \r\n&gt; If A is a subtype of B, B is the supertype of A. \r\n&gt; \r\n&gt; Liskov’s Substitution Principle tells us that wherever a **value** of one\r\n&gt; type is expected, one may provide a value of any subtype of that type:\r\n&gt; a variable of a given type may be assigned a value of any subtype of\r\n&gt; that type, and a method with a parameter of a given type may be\r\n&gt; invoked with an argument of any subtype of that type.\r\n&gt; \r\n&gt; It’s because of **violation of Liskov’s Substitution Principle** (that\r\n&gt; would arise very rapidly in practice) **that a List&amp;lt;Integer&gt; is not a**\r\n&gt; **subtype of List&amp;lt;Number&gt; although Integer is a subtype of Number**. The\r\n&gt; other way round also does not work because List&amp;lt;Number&gt; is NOT a\r\n&gt; subtype of List&amp;lt;Integer&gt;.\r\n\r\nThis paragraph should help us understand why the keyword `extends` is essential to support inheritance and polymorphism, and yet it (sort of) comes in the way of generic collections.","title":"Why does Java have lower bounds in generics?","body":"<p>I also think you should refer to Java Generics by Wadler and Naftalin, an excellent introduction to Java (5+) Type System. </p>\n\n<p>When you ask \"what is the purpose of <code>extends</code> keyword?\" based on your observations about collections of objects, the first thing you should remember is generic collections are tricky. I quote from the Wadler/Naftalin book (emphasis mine):</p>\n\n<blockquote>\n  <p>In Java, one type is a <strong>subtype</strong> of another if they are related by an\n  <strong>extends</strong> or implements clause: Integer is a subtype of Number.\n  Subtyping is transitive. </p>\n  \n  <p>If A is a subtype of B, B is the supertype of A. </p>\n  \n  <p>Liskov’s Substitution Principle tells us that wherever a <strong>value</strong> of one\n  type is expected, one may provide a value of any subtype of that type:\n  a variable of a given type may be assigned a value of any subtype of\n  that type, and a method with a parameter of a given type may be\n  invoked with an argument of any subtype of that type.</p>\n  \n  <p>It’s because of <strong>violation of Liskov’s Substitution Principle</strong> (that\n  would arise very rapidly in practice) <strong>that a List&lt;Integer> is not a</strong>\n  <strong>subtype of List&lt;Number> although Integer is a subtype of Number</strong>. The\n  other way round also does not work because List&lt;Number> is NOT a\n  subtype of List&lt;Integer>.</p>\n</blockquote>\n\n<p>This paragraph should help us understand why the keyword <code>extends</code> is essential to support inheritance and polymorphism, and yet it (sort of) comes in the way of generic collections.</p>\n"},{"tags":[],"owner":{"account_id":260172,"reputation":15404,"user_id":543572,"accept_rate":100,"display_name":"James-Jesse Drinkard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664306320,"creation_date":1664306320,"answer_id":73872798,"question_id":35714431,"body_markdown":"I think your question would be stated better as: &quot;What are valid use cases for using lower bound generics in JAVA&quot;?  I had the same question and it makes sense to use the upper bounds when you have a list and you want to use different types that are all subtypes or the supertype of a hierarchy of classes.\r\n\r\nFor example, you want methods to populate a list of numbers with int, double, and long.  Using extends you can do this as they are all subtypes of Number.\r\n\r\nOn the other hand, if you want to restrict methods to only use Integer, then you want the more narrowly defined class so that only int is allowed, not float, double, etc.  \r\n\r\nFrom the [java docs][1]:\r\n\r\n&gt; The abstract class Number is the superclass of platform classes\r\n&gt; representing numeric values that are convertible to the primitive\r\n&gt; types byte, double, float, int, long, and short.\r\n&gt; \r\n&gt; The Integer class wraps a value of the primitive type int in an\r\n&gt; object. An object of type Integer contains a single field whose type\r\n&gt; is int.\r\n\r\nA better example might be work you are doing at the JVM level, so you want to restrict your methods to use the VirtualMachineError to get specific information written to the logs, rather than using the Error class, from which it inherits, to limit the number of errors you write to the logs for something very refined, possibly relating to some debugging task.\r\n\r\n\r\n\r\nThese are obviously contrived examples, but the theme is the lower bounds can be used to restrict method type parameters.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/allclasses-noframe.html","title":"Why does Java have lower bounds in generics?","body":"<p>I think your question would be stated better as: &quot;What are valid use cases for using lower bound generics in JAVA&quot;?  I had the same question and it makes sense to use the upper bounds when you have a list and you want to use different types that are all subtypes or the supertype of a hierarchy of classes.</p>\n<p>For example, you want methods to populate a list of numbers with int, double, and long.  Using extends you can do this as they are all subtypes of Number.</p>\n<p>On the other hand, if you want to restrict methods to only use Integer, then you want the more narrowly defined class so that only int is allowed, not float, double, etc.</p>\n<p>From the <a href=\"https://docs.oracle.com/javase/8/docs/api/allclasses-noframe.html\" rel=\"nofollow noreferrer\">java docs</a>:</p>\n<blockquote>\n<p>The abstract class Number is the superclass of platform classes\nrepresenting numeric values that are convertible to the primitive\ntypes byte, double, float, int, long, and short.</p>\n<p>The Integer class wraps a value of the primitive type int in an\nobject. An object of type Integer contains a single field whose type\nis int.</p>\n</blockquote>\n<p>A better example might be work you are doing at the JVM level, so you want to restrict your methods to use the VirtualMachineError to get specific information written to the logs, rather than using the Error class, from which it inherits, to limit the number of errors you write to the logs for something very refined, possibly relating to some debugging task.</p>\n<p>These are obviously contrived examples, but the theme is the lower bounds can be used to restrict method type parameters.</p>\n"}],"owner":{"account_id":3823725,"reputation":2958,"user_id":3171100,"accept_rate":67,"display_name":"Chris Smith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1013,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":35714885,"answer_count":4,"score":2,"last_activity_date":1664306320,"creation_date":1456805045,"question_id":35714431,"body_markdown":"I&#39;m trying to design my own programming language, and am thinking about generics. I&#39;ve been doing Java for quite a while now and know about the `extends` and `super` generic bounds.\r\n\r\nI&#39;m reading [this][1] post and trying to understand the need for the lower bounds.\r\n\r\nIn my language, I am planning to do generics the same way as a regular field, if you say `List&lt;MyObject&gt;`, you can store either a `MyObject`, or any subtype of `MyObject`. Makes sense right?\r\n\r\nOn the post, they have the following class hierarchy:\r\n\r\n    class Person implements Comparable&lt;Person&gt; {\r\n      ...\r\n    }\r\n    \r\n    class Student extends Person {\r\n      ...\r\n    }\r\n\r\nThey then have a sort method:\r\n\r\n    public static &lt;T extends Comparable&lt;T&gt;&gt; void sort(List&lt;T&gt; list) {\r\n      ...\r\n    }\r\n\r\nWhat I think, is that you should be able to send a `List&lt;Student&gt;` to this method. As a `Student` extends `Person`, the `compare` method would be handled by it&#39;s superclass, `Person`.\r\n\r\n&gt; The reason for the error message is that the compiler infers the type parameter of the sort method as T:=Student and that class Student is not `Comparable&lt;Student&gt;` .  It is `Comparable&lt;Person&gt;` , but that does not meet the requirements imposed by the bound of the type parameter of method sort.  It is required that `T` (i.e. `Student` ) is `Comparable&lt;T&gt;` (i.e. `Comparable&lt;Student&gt;` ), which in fact it is not.\r\n\r\nThe above doesn&#39;t make any sense to me...you should be able to do `student.compare(person)`, so why doesn&#39;t this work?\r\n\r\nMaybe it&#39;s saying that `Student` should implement it&#39;s own comparable method so that `Student` has a say in the comparison? You don&#39;t need to do anything special, just override `Person`&#39;s method. You won&#39;t be able to guarantee you are comparing to another `Student`, but that can be checked with `instanceof`.\r\n\r\nIs there something I&#39;m missing here?\r\n\r\nAnd after all this thinking, I&#39;m now wondering what the purpose of `extends` is. From my understanding, in a `List&lt;MyType&gt;`, you can only put a `MyType` in, not any of it&#39;s subclasses. As mentioned above, this doesn&#39;t make any sense to me and you should be able to put any subclass in the list like a field.\r\n\r\nI should probably make this clear, it&#39;s not &quot;why doesn&#39;t it work in Java&quot;, but &quot;why doesn&#39;t it work in generics theory&quot;. I just tagged java because that is where I&#39;m making my comparisons.\r\n\r\n  [1]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#FAQ204","title":"Why does Java have lower bounds in generics?","body":"<p>I'm trying to design my own programming language, and am thinking about generics. I've been doing Java for quite a while now and know about the <code>extends</code> and <code>super</code> generic bounds.</p>\n\n<p>I'm reading <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ProgrammingIdioms.html#FAQ204\" rel=\"nofollow\">this</a> post and trying to understand the need for the lower bounds.</p>\n\n<p>In my language, I am planning to do generics the same way as a regular field, if you say <code>List&lt;MyObject&gt;</code>, you can store either a <code>MyObject</code>, or any subtype of <code>MyObject</code>. Makes sense right?</p>\n\n<p>On the post, they have the following class hierarchy:</p>\n\n<pre><code>class Person implements Comparable&lt;Person&gt; {\n  ...\n}\n\nclass Student extends Person {\n  ...\n}\n</code></pre>\n\n<p>They then have a sort method:</p>\n\n<pre><code>public static &lt;T extends Comparable&lt;T&gt;&gt; void sort(List&lt;T&gt; list) {\n  ...\n}\n</code></pre>\n\n<p>What I think, is that you should be able to send a <code>List&lt;Student&gt;</code> to this method. As a <code>Student</code> extends <code>Person</code>, the <code>compare</code> method would be handled by it's superclass, <code>Person</code>.</p>\n\n<blockquote>\n  <p>The reason for the error message is that the compiler infers the type parameter of the sort method as T:=Student and that class Student is not <code>Comparable&lt;Student&gt;</code> .  It is <code>Comparable&lt;Person&gt;</code> , but that does not meet the requirements imposed by the bound of the type parameter of method sort.  It is required that <code>T</code> (i.e. <code>Student</code> ) is <code>Comparable&lt;T&gt;</code> (i.e. <code>Comparable&lt;Student&gt;</code> ), which in fact it is not.</p>\n</blockquote>\n\n<p>The above doesn't make any sense to me...you should be able to do <code>student.compare(person)</code>, so why doesn't this work?</p>\n\n<p>Maybe it's saying that <code>Student</code> should implement it's own comparable method so that <code>Student</code> has a say in the comparison? You don't need to do anything special, just override <code>Person</code>'s method. You won't be able to guarantee you are comparing to another <code>Student</code>, but that can be checked with <code>instanceof</code>.</p>\n\n<p>Is there something I'm missing here?</p>\n\n<p>And after all this thinking, I'm now wondering what the purpose of <code>extends</code> is. From my understanding, in a <code>List&lt;MyType&gt;</code>, you can only put a <code>MyType</code> in, not any of it's subclasses. As mentioned above, this doesn't make any sense to me and you should be able to put any subclass in the list like a field.</p>\n\n<p>I should probably make this clear, it's not \"why doesn't it work in Java\", but \"why doesn't it work in generics theory\". I just tagged java because that is where I'm making my comparisons.</p>\n"},{"tags":["java","for-loop","while-loop","do-while"],"comments":[{"owner":{"account_id":3980402,"reputation":12987,"user_id":3282436,"accept_rate":79,"display_name":"0x5453"},"score":2,"creation_date":1664305335,"post_id":73872617,"comment_id":130440033,"body_markdown":"You don&#39;t reset `n` between loops.","body":"You don&#39;t reset <code>n</code> between loops."}],"answers":[{"tags":[],"owner":{"account_id":1708417,"reputation":426,"user_id":1567005,"display_name":"funkygono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664306007,"creation_date":1664306007,"answer_id":73872745,"question_id":73872617,"body_markdown":"Before your &quot;do... while()&quot;, you have to set n to 0, otherwise n is equal to the number entered plus one. If you do so, you will have the same answer.\r\n\r\n```java\r\n        System.out.println(&quot;do while loop:&quot;);\r\n        n = 0;\r\n        do {\r\n            total3 += n;\r\n            n++;\r\n            System.out.println(total3);\r\n        } while(n&lt;=input);\r\n```\r\n\r\nTip : avoid when possible to use a variable is several places and have long living variables (especially when they are mutable).\r\n\r\nThe `for (n=0; n&lt;input; n++)` could be replace with `for (int i=0; i&lt;input; i++)` for example, which avoid using an existing variable and avoid complex state.\r\n","title":"Why is my do-while loop not producing the same results as my for &amp; while loops?","body":"<p>Before your &quot;do... while()&quot;, you have to set n to 0, otherwise n is equal to the number entered plus one. If you do so, you will have the same answer.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        System.out.println(&quot;do while loop:&quot;);\n        n = 0;\n        do {\n            total3 += n;\n            n++;\n            System.out.println(total3);\n        } while(n&lt;=input);\n</code></pre>\n<p>Tip : avoid when possible to use a variable is several places and have long living variables (especially when they are mutable).</p>\n<p>The <code>for (n=0; n&lt;input; n++)</code> could be replace with <code>for (int i=0; i&lt;input; i++)</code> for example, which avoid using an existing variable and avoid complex state.</p>\n"}],"owner":{"account_id":26295345,"reputation":3,"user_id":19961693,"display_name":"Cameron Cross"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73872745,"answer_count":1,"score":0,"last_activity_date":1664306007,"creation_date":1664305218,"question_id":73872617,"body_markdown":"I&#39;m trying to write the same loop to calculate the sum of the integers from 1 to the input value, and output the sum 3 different ways, and so far I&#39;ve completed my for and while loops correctly, and had them output the same result. However, for some reason my do-while loop isn&#39;t working properly, and instead of adding the sum of all the numbers together, it just adds one to the user input. Can anyone help me figure out how to get it to copy the process of my other loops correctly? Attached is my code.\r\n\r\n```\r\nimport java.util.Scanner;\r\npublic class CountLoop{\r\n\tpublic static void main(String[] args){\r\n\t\tScanner sc = new Scanner(System.in);\r\n\t\tint total = 0;\r\n\t\tint total2 = 0;\r\n\t\tint total3 = 0;\r\n\t\tint n = 0;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please input a positive integer&quot;);\r\n\t\tint input = sc.nextInt();\r\n\r\n\t\tSystem.out.println(&quot;while loop:&quot;);\r\n\t\twhile(n&lt;=input){\r\n\t\t\ttotal += n;\r\n\t\t\tn++;\r\n\t\t\tSystem.out.println(total);\r\n\t\t} \r\n\t\t\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;for loop:&quot;);\r\n\t\tfor(n = 0; n &lt;= input; n++){\r\n\t\t\ttotal2 += n;\r\n\t\t\tSystem.out.println(total2);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\t\r\n\t\tSystem.out.println(&quot;do while loop:&quot;);\r\n\t\tdo {\r\n\t\t\ttotal3 += n;\r\n\t\t\tn++;\r\n\t\t\tSystem.out.println(total3);\r\n\t\t} while(n&lt;=input);\r\n\r\n\t}\r\n}\r\n","title":"Why is my do-while loop not producing the same results as my for &amp; while loops?","body":"<p>I'm trying to write the same loop to calculate the sum of the integers from 1 to the input value, and output the sum 3 different ways, and so far I've completed my for and while loops correctly, and had them output the same result. However, for some reason my do-while loop isn't working properly, and instead of adding the sum of all the numbers together, it just adds one to the user input. Can anyone help me figure out how to get it to copy the process of my other loops correctly? Attached is my code.</p>\n<pre><code>import java.util.Scanner;\npublic class CountLoop{\n    public static void main(String[] args){\n        Scanner sc = new Scanner(System.in);\n        int total = 0;\n        int total2 = 0;\n        int total3 = 0;\n        int n = 0;\n        \n        System.out.println(&quot;Please input a positive integer&quot;);\n        int input = sc.nextInt();\n\n        System.out.println(&quot;while loop:&quot;);\n        while(n&lt;=input){\n            total += n;\n            n++;\n            System.out.println(total);\n        } \n        \n        System.out.println(&quot; &quot;);\n        \n        System.out.println(&quot;for loop:&quot;);\n        for(n = 0; n &lt;= input; n++){\n            total2 += n;\n            System.out.println(total2);\n        }\n\n        System.out.println(&quot; &quot;);\n        \n        System.out.println(&quot;do while loop:&quot;);\n        do {\n            total3 += n;\n            n++;\n            System.out.println(total3);\n        } while(n&lt;=input);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","printing","bitmap","point-of-sale"],"owner":{"account_id":25361394,"reputation":31,"user_id":19176576,"display_name":"JNMP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1664305988,"creation_date":1664305988,"question_id":73872743,"body_markdown":"Is it possible to convert a PrintJob to a bitmap? I have an Android 7.1.1 POS and its internal thermal printer is not recognized by any application (it also doesn&#39;t work bluetooth), but it can print using its API (which I have), with tips from users @Zap! and @Commonsware I managed to create a service with the PrintService that adds a custom printer, now the applications can recognize this custom printer, however I am not able to pass on what should be printed to the POS printer, since it only supports simple things like bitmaps, text, tables, bar codes, qrcodes, RAW data...\r\n\r\nApplications try to print receipts in image format (JPEG or PNG), would it be possible to extract these files from PrintJob and convert to Bitmap? [I found a topic about converting PrintJob to bitmap][1] but the ByteBuffer.NEW() function doesn&#39;t exist anymore, which made it not work\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/72363832/how-to-access-the-file-associated-with-printjob-object-in-an-android-printservic","title":"(Android) Is it possible to convert a PrintJob into Bitmap and pass it on to a POS printer?","body":"<p>Is it possible to convert a PrintJob to a bitmap? I have an Android 7.1.1 POS and its internal thermal printer is not recognized by any application (it also doesn't work bluetooth), but it can print using its API (which I have), with tips from users @Zap! and @Commonsware I managed to create a service with the PrintService that adds a custom printer, now the applications can recognize this custom printer, however I am not able to pass on what should be printed to the POS printer, since it only supports simple things like bitmaps, text, tables, bar codes, qrcodes, RAW data...</p>\n<p>Applications try to print receipts in image format (JPEG or PNG), would it be possible to extract these files from PrintJob and convert to Bitmap? <a href=\"https://stackoverflow.com/questions/72363832/how-to-access-the-file-associated-with-printjob-object-in-an-android-printservic\">I found a topic about converting PrintJob to bitmap</a> but the ByteBuffer.NEW() function doesn't exist anymore, which made it not work</p>\n"},{"tags":["java","spring","amazon-web-services","spring-boot","azure"],"owner":{"account_id":26423346,"reputation":11,"user_id":20070703,"display_name":"Ravi Choudhari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664305579,"creation_date":1664294186,"question_id":73870490,"body_markdown":"I am trying to setup SSO using Azure AD. Our aplication is a spring boot application deployed on Amazon ECS. \r\n\r\nFor this I have refered https://dummybot.medium.com/saml-integration-with-spring-boot-spring-security-microsoft-azure-ad-b9610bdb78b9, which uses Spring Security SAML2 with Spring Boot.\r\n\r\nIn our case the application exposes the port 8080 from docker container and doesn&#39;t have its own SSL configuration. We are using Amazon ELB as load balancer in which the SSL is configured and through the load balancer we can access the application `https://our-domain.com`\r\n\r\nWhen testing application locally I am able to login successfully when `https://localhost:8443/saml/sso` is added as a reply Url in Azure AD.\r\n\r\nWhen I add only the https://our-domain.com/saml/sso as reply URL and try logging in while executing application locally, I get this error:\r\n\r\n[correct http protocol and port in AD request][1]\r\n\r\nwhich is expected as we dont have `https://localhost:8080/..` as white listed reply URL in Azure AD now.\r\n\r\n\r\nBut what I noticed here in the error message is `https://localhost:8080/...` doesn&#39;t match the reply URL, which is correct, but there is no change in HTTP protocol or port 8080 which I am trying to access.\r\n\r\nBut, When I try to access the application deployed on AWS ECS using `https://our-domain.com`, I am successfully redirected to login page, but there I get this error.\r\n[incorrect http protocol and port in AD request][2]\r\n\r\nWhere I can see HTTP protocol has been changed from https to http and the port is passed in the request as 8443.\r\n\r\nI could see only in our AWS ELB which has configuration for SSL certificate and has a HTTPS listener 8443, and I am suspecting it is due to this the incorrect reply URL is passed by the Spring Security in the Azure AD Authentication request.\r\n[Amazon ELB configuration][3]\r\n\r\nI have tried to find solution for this and found an issue reported in Spring-Security-Saml project at https://github.com/spring-projects/spring-security-saml/issues/447, which talks about SAMLContextProviderLB as the context provider bean. \r\n\r\nMore details in Spring-Security SAML Extension documentation: https://docs.spring.io/spring-security-saml/docs/1.0.x/reference/htmlsingle/#configuration-load-balancing\r\n\r\nAlthough it is mentioned in the documentation for latest version of Spring-Security SAML Extension, I cant find this class, but it is available in older 1.0.x version of extension. Hence I am not able to use it.\r\n\r\nCan someone please provide any pointers to fix this issue..\r\n\r\nThanks\r\n\r\n  [1]: https://i.stack.imgur.com/B71Gs.png\r\n  [2]: https://i.stack.imgur.com/7DSou.png\r\n  [3]: https://i.stack.imgur.com/yL6Od.png","title":"Azure AD SSO using SAML2 with Amazon ELB SSL","body":"<p>I am trying to setup SSO using Azure AD. Our aplication is a spring boot application deployed on Amazon ECS.</p>\n<p>For this I have refered <a href=\"https://dummybot.medium.com/saml-integration-with-spring-boot-spring-security-microsoft-azure-ad-b9610bdb78b9\" rel=\"nofollow noreferrer\">https://dummybot.medium.com/saml-integration-with-spring-boot-spring-security-microsoft-azure-ad-b9610bdb78b9</a>, which uses Spring Security SAML2 with Spring Boot.</p>\n<p>In our case the application exposes the port 8080 from docker container and doesn't have its own SSL configuration. We are using Amazon ELB as load balancer in which the SSL is configured and through the load balancer we can access the application <code>https://our-domain.com</code></p>\n<p>When testing application locally I am able to login successfully when <code>https://localhost:8443/saml/sso</code> is added as a reply Url in Azure AD.</p>\n<p>When I add only the <a href=\"https://our-domain.com/saml/sso\" rel=\"nofollow noreferrer\">https://our-domain.com/saml/sso</a> as reply URL and try logging in while executing application locally, I get this error:</p>\n<p><a href=\"https://i.stack.imgur.com/B71Gs.png\" rel=\"nofollow noreferrer\">correct http protocol and port in AD request</a></p>\n<p>which is expected as we dont have <code>https://localhost:8080/..</code> as white listed reply URL in Azure AD now.</p>\n<p>But what I noticed here in the error message is <code>https://localhost:8080/...</code> doesn't match the reply URL, which is correct, but there is no change in HTTP protocol or port 8080 which I am trying to access.</p>\n<p>But, When I try to access the application deployed on AWS ECS using <code>https://our-domain.com</code>, I am successfully redirected to login page, but there I get this error.\n<a href=\"https://i.stack.imgur.com/7DSou.png\" rel=\"nofollow noreferrer\">incorrect http protocol and port in AD request</a></p>\n<p>Where I can see HTTP protocol has been changed from https to http and the port is passed in the request as 8443.</p>\n<p>I could see only in our AWS ELB which has configuration for SSL certificate and has a HTTPS listener 8443, and I am suspecting it is due to this the incorrect reply URL is passed by the Spring Security in the Azure AD Authentication request.\n<a href=\"https://i.stack.imgur.com/yL6Od.png\" rel=\"nofollow noreferrer\">Amazon ELB configuration</a></p>\n<p>I have tried to find solution for this and found an issue reported in Spring-Security-Saml project at <a href=\"https://github.com/spring-projects/spring-security-saml/issues/447\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-security-saml/issues/447</a>, which talks about SAMLContextProviderLB as the context provider bean.</p>\n<p>More details in Spring-Security SAML Extension documentation: <a href=\"https://docs.spring.io/spring-security-saml/docs/1.0.x/reference/htmlsingle/#configuration-load-balancing\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security-saml/docs/1.0.x/reference/htmlsingle/#configuration-load-balancing</a></p>\n<p>Although it is mentioned in the documentation for latest version of Spring-Security SAML Extension, I cant find this class, but it is available in older 1.0.x version of extension. Hence I am not able to use it.</p>\n<p>Can someone please provide any pointers to fix this issue..</p>\n<p>Thanks</p>\n"},{"tags":["java","leading-zero"],"comments":[{"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"score":0,"creation_date":1492965818,"post_id":43573696,"comment_id":74197573,"body_markdown":"Possible duplicate of [Left padding a String with Zeros](http://stackoverflow.com/questions/4469717/left-padding-a-string-with-zeros)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4469717/left-padding-a-string-with-zeros\">Left padding a String with Zeros</a>"}],"answers":[{"tags":[],"owner":{"account_id":1284041,"reputation":3613,"user_id":1237490,"accept_rate":100,"display_name":"Jaydeep Rajput"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1492965453,"creation_date":1492965453,"answer_id":43573766,"question_id":43573696,"body_markdown":"Try this\r\n\r\n    System.out.println(String.format(&quot;%07.1f&quot;,1.1F));","title":"How to left-pad double with zeroes in Java","body":"<p>Try this</p>\n\n<pre><code>System.out.println(String.format(\"%07.1f\",1.1F));\n</code></pre>\n"}],"owner":{"account_id":1258244,"reputation":636,"user_id":1217228,"accept_rate":60,"display_name":"VilleLipponen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2931,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43573766,"answer_count":1,"score":2,"last_activity_date":1664305074,"creation_date":1492965083,"question_id":43573696,"body_markdown":"I need to pre-pend a number of zeroes to a double value in Java.\r\nIt is simple with integers, for example:\r\n\r\n    System.out.printf(&quot;%08d\\n&quot;, 1);\r\n\r\nProduces:\r\n00000001\r\n\r\nIf i try the same with a real value:\r\n\r\n    System.out.printf(&quot;%08f\\n&quot;, 1.1);\r\n\r\nThe produced output is 1.100000\r\n\r\nHow do i achieve 0000001.1 ?\r\n\r\n\r\nThanks.\r\n\r\n\r\n\r\n","title":"How to left-pad double with zeroes in Java","body":"<p>I need to pre-pend a number of zeroes to a double value in Java.\nIt is simple with integers, for example:</p>\n<pre><code>System.out.printf(&quot;%08d\\n&quot;, 1);\n</code></pre>\n<p>Produces:\n00000001</p>\n<p>If i try the same with a real value:</p>\n<pre><code>System.out.printf(&quot;%08f\\n&quot;, 1.1);\n</code></pre>\n<p>The produced output is 1.100000</p>\n<p>How do i achieve 0000001.1 ?</p>\n<p>Thanks.</p>\n"},{"tags":["java","event-bus","vert.x","vertx3"],"answers":[{"tags":[],"owner":{"account_id":3641725,"reputation":402,"user_id":3035648,"display_name":"michali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450185161,"creation_date":1450185161,"answer_id":34290207,"question_id":34269834,"body_markdown":"Did you try setting setClustered(true) on VertxOptions? I was testing this example code and it works fine for me:\r\n\r\n    public static void main(String[] args) {\r\n\t\tVertxOptions op = new VertxOptions();\r\n\t\top.setClustered(true);\r\n\t\tVertx.clusteredVertx(op, e -&gt; {\r\n\t\t\tif (e.succeeded()) {\r\n\t\t\t\tHelloWorldVerticle hwv = new HelloWorldVerticle();\r\n\t\t\t\te.result().deployVerticle(hwv);\r\n\t\t\t} else {\r\n\t\t\t\te.cause().printStackTrace();\r\n\t\t\t}\r\n\t\t});\r\n\t}","title":"Cannot communicate using event bus for verticles running on different machines","body":"<p>Did you try setting setClustered(true) on VertxOptions? I was testing this example code and it works fine for me:</p>\n\n<pre><code>public static void main(String[] args) {\n    VertxOptions op = new VertxOptions();\n    op.setClustered(true);\n    Vertx.clusteredVertx(op, e -&gt; {\n        if (e.succeeded()) {\n            HelloWorldVerticle hwv = new HelloWorldVerticle();\n            e.result().deployVerticle(hwv);\n        } else {\n            e.cause().printStackTrace();\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5224958,"reputation":536,"user_id":4177271,"display_name":"Tcheutchoua Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664305054,"creation_date":1664305054,"answer_id":73872579,"question_id":34269834,"body_markdown":"Hazelcat communication is different from Vert.x communication. \r\nFrom the [documentation][1]\r\n\r\n&gt; &quot;Cluster managers do not handle the event bus inter-node transport,\r\n&gt; this is done directly by Vert.x with TCP connections.&quot;\r\n\r\nWhen deploying, you can set the event bus to be in clustered mode.\r\nFrom [this on the documentation][2],\r\n\r\n&gt; The event bus doesn’t just exist in a single Vert.x instance. By\r\n&gt; clustering different Vert.x instances together on your network they\r\n&gt; can form a single, distributed event bus.\r\n\r\nWith respect to clustering the event bus, the [documentation says][3]\r\n\r\n&gt; The EventBusOptions  also lets you specify whether or not the event\r\n&gt; bus is clustered, the port and host.\r\n&gt; \r\n&gt; When used in containers, you can also configure the public host and\r\n&gt; port:\r\n\r\nCode snippet is \r\n\r\n    VertxOptions options = new VertxOptions()\r\n        .setEventBusOptions(new EventBusOptions()\r\n            .setClusterPublicHost(&quot;whatever&quot;)\r\n            .setClusterPublicPort(1234)\r\n        );\r\n    \r\n    Vertx.clusteredVertx(options, res -&gt; {\r\n    // check if deployment was successful.\r\n\r\n\r\nOther useful link is [this][4] \r\n\r\n\r\n  [1]: https://vertx.io/docs/vertx-core/java/#_cluster_managers\r\n  [2]: https://vertx.io/docs/vertx-core/java/#_clustered_event_bus\r\n  [3]: https://vertx.io/docs/3.9.13/vertx-core/java/#_configuring_the_event_bus\r\n  [4]: https://groups.google.com/g/vertx/c/kT2ifx1j044","title":"Cannot communicate using event bus for verticles running on different machines","body":"<p>Hazelcat communication is different from Vert.x communication.\nFrom the <a href=\"https://vertx.io/docs/vertx-core/java/#_cluster_managers\" rel=\"nofollow noreferrer\">documentation</a></p>\n<blockquote>\n<p>&quot;Cluster managers do not handle the event bus inter-node transport,\nthis is done directly by Vert.x with TCP connections.&quot;</p>\n</blockquote>\n<p>When deploying, you can set the event bus to be in clustered mode.\nFrom <a href=\"https://vertx.io/docs/vertx-core/java/#_clustered_event_bus\" rel=\"nofollow noreferrer\">this on the documentation</a>,</p>\n<blockquote>\n<p>The event bus doesn’t just exist in a single Vert.x instance. By\nclustering different Vert.x instances together on your network they\ncan form a single, distributed event bus.</p>\n</blockquote>\n<p>With respect to clustering the event bus, the <a href=\"https://vertx.io/docs/3.9.13/vertx-core/java/#_configuring_the_event_bus\" rel=\"nofollow noreferrer\">documentation says</a></p>\n<blockquote>\n<p>The EventBusOptions  also lets you specify whether or not the event\nbus is clustered, the port and host.</p>\n<p>When used in containers, you can also configure the public host and\nport:</p>\n</blockquote>\n<p>Code snippet is</p>\n<pre><code>VertxOptions options = new VertxOptions()\n    .setEventBusOptions(new EventBusOptions()\n        .setClusterPublicHost(&quot;whatever&quot;)\n        .setClusterPublicPort(1234)\n    );\n\nVertx.clusteredVertx(options, res -&gt; {\n// check if deployment was successful.\n</code></pre>\n<p>Other useful link is <a href=\"https://groups.google.com/g/vertx/c/kT2ifx1j044\" rel=\"nofollow noreferrer\">this</a></p>\n"}],"owner":{"account_id":3995393,"reputation":877,"user_id":3293087,"accept_rate":50,"display_name":"Abhishek Kedia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":611,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1664305054,"creation_date":1450104361,"question_id":34269834,"body_markdown":"We were trying to establish communication between verticles using event bus. We tried the simplest ping-pong communication example -\r\n    \r\n    public class Sender extends AbstractVerticle {\r\n        public static void main(String[] args) {\r\n            Vertx.clusteredVertx(new VertxOptions(),res-&gt;{\r\n                res.result().deployVerticle(new Sender());\r\n            });\r\n        }\r\n        @Override\r\n        public void start() throws Exception {\r\n            EventBus eb = vertx.eventBus();\r\n            vertx.setPeriodic(1000, v -&gt; {\r\n                eb.send(&quot;ping-address&quot;, &quot;ping!&quot;, reply -&gt; {\r\n                    if (reply.succeeded()) {\r\n                        System.out.println(&quot;Received reply: &quot; + reply.result().body());\r\n                    } else {\r\n                        System.out.println(&quot;No reply&quot;);\r\n                    }\r\n               });\r\n            });\r\n        }\r\n    }\r\n\r\n\r\nSimilarly we wrote the wrote the receiver. [See the code](https://github.com/golo-vertx/vertx-examples/tree/master/java/eventbus/pointtopoint).\r\n\r\nCommunication is successful if both the sender and receiver are run on the same machine. But when they are run different machines communication fails.\r\nAlso this does not seems to be the issue with Hazelcast Cluster manager (which we used) because hazelcast correctly discovers the other peer on both machine (this is evident from the console logs of hazelcast).\r\n\r\n    Members [2] {\r\n\t    Member [192.168.43.12]:5701\r\n\t    Member [192.168.43.84]:5701 this\r\n    }\r\n\r\nAlso firewall has not been enabled on both machines, and we were able to establish communication between the same machines using only hazelcast(without using vertx), and it worked perfectly (for example [this](https://github.com/dropboxclone/messaging_demo)).\r\nSo probably the issue is with vert-x.","title":"Cannot communicate using event bus for verticles running on different machines","body":"<p>We were trying to establish communication between verticles using event bus. We tried the simplest ping-pong communication example -</p>\n\n<pre><code>public class Sender extends AbstractVerticle {\n    public static void main(String[] args) {\n        Vertx.clusteredVertx(new VertxOptions(),res-&gt;{\n            res.result().deployVerticle(new Sender());\n        });\n    }\n    @Override\n    public void start() throws Exception {\n        EventBus eb = vertx.eventBus();\n        vertx.setPeriodic(1000, v -&gt; {\n            eb.send(\"ping-address\", \"ping!\", reply -&gt; {\n                if (reply.succeeded()) {\n                    System.out.println(\"Received reply: \" + reply.result().body());\n                } else {\n                    System.out.println(\"No reply\");\n                }\n           });\n        });\n    }\n}\n</code></pre>\n\n<p>Similarly we wrote the wrote the receiver. <a href=\"https://github.com/golo-vertx/vertx-examples/tree/master/java/eventbus/pointtopoint\" rel=\"nofollow\">See the code</a>.</p>\n\n<p>Communication is successful if both the sender and receiver are run on the same machine. But when they are run different machines communication fails.\nAlso this does not seems to be the issue with Hazelcast Cluster manager (which we used) because hazelcast correctly discovers the other peer on both machine (this is evident from the console logs of hazelcast).</p>\n\n<pre><code>Members [2] {\n    Member [192.168.43.12]:5701\n    Member [192.168.43.84]:5701 this\n}\n</code></pre>\n\n<p>Also firewall has not been enabled on both machines, and we were able to establish communication between the same machines using only hazelcast(without using vertx), and it worked perfectly (for example <a href=\"https://github.com/dropboxclone/messaging_demo\" rel=\"nofollow\">this</a>).\nSo probably the issue is with vert-x.</p>\n"},{"tags":["java","gradle","groovy","build.gradle"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1663006225,"post_id":73693535,"comment_id":130133054,"body_markdown":"You want to do this at build time? Or do you want your users to do this at runtime? What do you mean by “avoid redistributing software”?","body":"You want to do this at build time? Or do you want your users to do this at runtime? What do you mean by “avoid redistributing software”?"},{"owner":{"account_id":2818343,"reputation":23,"user_id":2422777,"display_name":"Bill Wohler"},"score":0,"creation_date":1663006425,"post_id":73693535,"comment_id":130133118,"body_markdown":"I&#39;m thinking build time so the user&#39;s don&#39;t have to worry about it. I was thinking buildSrc to avoid this process each time &quot;gradle clean&quot; is run.\n\nFor legal reasons, we can&#39;t include the 3rd-party source code or compiled libraries in our project&#39;s Git repository.","body":"I&#39;m thinking build time so the user&#39;s don&#39;t have to worry about it. I was thinking buildSrc to avoid this process each time &quot;gradle clean&quot; is run.  For legal reasons, we can&#39;t include the 3rd-party source code or compiled libraries in our project&#39;s Git repository."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1663006446,"post_id":73693535,"comment_id":130133126,"body_markdown":"&quot;*Our goals are to avoid redistributing software and to make it easier to use our software.*&quot; - I do not really think that it is &quot;*easier to use*&quot; if you expect your users to have a C toolchain in addition to a Java toolchain. Also keep in mind that the C program might have further dependencies (e.g. some certain libs) that would have to be installed on the machine executing the build. I think it would be easier to provide pre-compiled `.so` or `.dll`-files.","body":"&quot;<i>Our goals are to avoid redistributing software and to make it easier to use our software.</i>&quot; - I do not really think that it is &quot;<i>easier to use</i>&quot; if you expect your users to have a C toolchain in addition to a Java toolchain. Also keep in mind that the C program might have further dependencies (e.g. some certain libs) that would have to be installed on the machine executing the build. I think it would be easier to provide pre-compiled <code>.so</code> or <code>.dll</code>-files."}],"answers":[{"tags":[],"owner":{"account_id":2818343,"reputation":23,"user_id":2422777,"display_name":"Bill Wohler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664304639,"creation_date":1664304639,"answer_id":73872511,"question_id":73693535,"body_markdown":"This is what I came up with. While it accomplishes my needs, I&#39;m open to improving it. In `buildSrc/build.gradle`, I have:\r\n\r\n    apply from: &quot;script-plugins/hdf5.gradle&quot;\r\n\r\nHere is `hdf5.gradle`:\r\n\r\n    // Download and build HDF5.\r\n    //\r\n    // TODO Next time around, parameterize the version and possibly the URL\r\n\r\n    task buildHdf5() {\r\n        def tmp = file(&quot;$buildDir/tmp/hdf5&quot;)\r\n        def hdf5 = file(&quot;$tmp/hdf5-1.12.2&quot;)\r\n        def lib = file(&quot;$buildDir/lib&quot;)\r\n\r\n        outputs.file &quot;$lib/jarhdf5-1.12.2.jar&quot;\r\n\r\n        doLast() {\r\n            tmp.mkdirs()\r\n\r\n            // Use the SHA256 links at https://www.hdfgroup.org/downloads/hdf5/source-code/ to determine the URL.\r\n            exec {\r\n                workingDir tmp\r\n                commandLine &quot;curl&quot;, &quot;-o&quot;, &quot;hdf5-1.12.2.#1&quot;, &quot;https://hdf-wordpress-1.s3.amazonaws.com/wp-content/uploads/manual/HDF5/HDF5_1_12_2/source/hdf5-1.12.2.{tar.bz2,sha256}&quot;\r\n            }\r\n            exec {\r\n                workingDir tmp\r\n                commandLine &quot;tar&quot;, &quot;-xf&quot;, &quot;hdf5-1.12.2.tar.bz2&quot;\r\n            }\r\n            exec {\r\n                workingDir hdf5\r\n                commandLine &quot;sh&quot;, &quot;-c&quot;, &quot;./configure --with-zlib=/usr --prefix=$buildDir --enable-threadsafe --with-pthread=/usr --enable-unsupported --enable-java&quot;\r\n            }\r\n            exec {\r\n                workingDir hdf5\r\n                commandLine &quot;make&quot;\r\n            }\r\n            exec {\r\n                workingDir hdf5\r\n                commandLine &quot;make&quot;, &quot;install&quot;\r\n            }\r\n            copy {\r\n                from(&quot;$tmp/lib&quot;) {\r\n                    include &quot;*.jar&quot;\r\n                }\r\n                into &quot;$lib&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n    assemble.dependsOn buildHdf5\r\n\r\nIn `gradle.properties`, I have:\r\n\r\n    ziggyDependencies = buildSrc/build\r\n \r\nIn `build.gradle`, I have:\r\n\r\n    ext.ziggyDependencies = &quot;$rootDir/$ziggyDependencies&quot;\r\n    …\r\n    repositories {\r\n        mavenCentral()\r\n        flatDir {\r\n            dirs &quot;$ziggyDependencies/lib&quot;\r\n        }\r\n    }\r\n    …\r\n    dependencies {\r\n        …\r\n        compile &#39;:jarhdf5:1.12.+&#39;\r\n        …\r\n\r\nAnd that&#39;s it!\r\n","title":"Managing 3rd-party software with Gradle","body":"<p>This is what I came up with. While it accomplishes my needs, I'm open to improving it. In <code>buildSrc/build.gradle</code>, I have:</p>\n<pre><code>apply from: &quot;script-plugins/hdf5.gradle&quot;\n</code></pre>\n<p>Here is <code>hdf5.gradle</code>:</p>\n<pre><code>// Download and build HDF5.\n//\n// TODO Next time around, parameterize the version and possibly the URL\n\ntask buildHdf5() {\n    def tmp = file(&quot;$buildDir/tmp/hdf5&quot;)\n    def hdf5 = file(&quot;$tmp/hdf5-1.12.2&quot;)\n    def lib = file(&quot;$buildDir/lib&quot;)\n\n    outputs.file &quot;$lib/jarhdf5-1.12.2.jar&quot;\n\n    doLast() {\n        tmp.mkdirs()\n\n        // Use the SHA256 links at https://www.hdfgroup.org/downloads/hdf5/source-code/ to determine the URL.\n        exec {\n            workingDir tmp\n            commandLine &quot;curl&quot;, &quot;-o&quot;, &quot;hdf5-1.12.2.#1&quot;, &quot;https://hdf-wordpress-1.s3.amazonaws.com/wp-content/uploads/manual/HDF5/HDF5_1_12_2/source/hdf5-1.12.2.{tar.bz2,sha256}&quot;\n        }\n        exec {\n            workingDir tmp\n            commandLine &quot;tar&quot;, &quot;-xf&quot;, &quot;hdf5-1.12.2.tar.bz2&quot;\n        }\n        exec {\n            workingDir hdf5\n            commandLine &quot;sh&quot;, &quot;-c&quot;, &quot;./configure --with-zlib=/usr --prefix=$buildDir --enable-threadsafe --with-pthread=/usr --enable-unsupported --enable-java&quot;\n        }\n        exec {\n            workingDir hdf5\n            commandLine &quot;make&quot;\n        }\n        exec {\n            workingDir hdf5\n            commandLine &quot;make&quot;, &quot;install&quot;\n        }\n        copy {\n            from(&quot;$tmp/lib&quot;) {\n                include &quot;*.jar&quot;\n            }\n            into &quot;$lib&quot;\n        }\n    }\n}\n\nassemble.dependsOn buildHdf5\n</code></pre>\n<p>In <code>gradle.properties</code>, I have:</p>\n<pre><code>ziggyDependencies = buildSrc/build\n</code></pre>\n<p>In <code>build.gradle</code>, I have:</p>\n<pre><code>ext.ziggyDependencies = &quot;$rootDir/$ziggyDependencies&quot;\n…\nrepositories {\n    mavenCentral()\n    flatDir {\n        dirs &quot;$ziggyDependencies/lib&quot;\n    }\n}\n…\ndependencies {\n    …\n    compile ':jarhdf5:1.12.+'\n    …\n</code></pre>\n<p>And that's it!</p>\n"}],"owner":{"account_id":2818343,"reputation":23,"user_id":2422777,"display_name":"Bill Wohler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73872511,"answer_count":1,"score":1,"last_activity_date":1664304639,"creation_date":1663006066,"question_id":73693535,"body_markdown":"You can use `mavenCentral()` to download jars and have them added to your classpath automatically. But what if you need to download a tarball and compile a `C` library to add to `LD_LIBRARY_PATH` in addition to the jar that is needed to compile and run?\r\n\r\nUsing Gradle, what do you think would be the best approach to incorporate this type of 3rd-party software into your build?\r\n\r\nI don&#39;t think we can accomplish this declaratively, so my naive approach would be to create a task that downloads and extracts the tarball, compiles the software, and copies the libraries to build/lib or something, and make javaCompile depend upon it. Is there a better way? Would it be wise to put the task and libraries in buildSrc instead?\r\n\r\nOur goals are to avoid redistributing software and to make it easier to use our software.\r\n\r\nOur first example is [HDF Group&#39;s HDF5 tarball](https://www.hdfgroup.org/downloads/hdf5/source-code/). If you use this software, what was your approach?","title":"Managing 3rd-party software with Gradle","body":"<p>You can use <code>mavenCentral()</code> to download jars and have them added to your classpath automatically. But what if you need to download a tarball and compile a <code>C</code> library to add to <code>LD_LIBRARY_PATH</code> in addition to the jar that is needed to compile and run?</p>\n<p>Using Gradle, what do you think would be the best approach to incorporate this type of 3rd-party software into your build?</p>\n<p>I don't think we can accomplish this declaratively, so my naive approach would be to create a task that downloads and extracts the tarball, compiles the software, and copies the libraries to build/lib or something, and make javaCompile depend upon it. Is there a better way? Would it be wise to put the task and libraries in buildSrc instead?</p>\n<p>Our goals are to avoid redistributing software and to make it easier to use our software.</p>\n<p>Our first example is <a href=\"https://www.hdfgroup.org/downloads/hdf5/source-code/\" rel=\"nofollow noreferrer\">HDF Group's HDF5 tarball</a>. If you use this software, what was your approach?</p>\n"},{"tags":["java","cucumber","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664304393,"creation_date":1664304393,"answer_id":73872466,"question_id":73864194,"body_markdown":"Yes, try using the `classpath:` prefix: https://github.com/karatelabs/karate#reading-files\r\n\r\nFor example:\r\n\r\n    Runner.path(&quot;classpath:abc.feature&quot;).parallel(1);\r\n\r\nAlso see: https://stackoverflow.com/a/58339662/143475","title":"Karate not able to find feature file inside the jar app","body":"<p>Yes, try using the <code>classpath:</code> prefix: <a href=\"https://github.com/karatelabs/karate#reading-files\" rel=\"nofollow noreferrer\">https://github.com/karatelabs/karate#reading-files</a></p>\n<p>For example:</p>\n<pre><code>Runner.path(&quot;classpath:abc.feature&quot;).parallel(1);\n</code></pre>\n<p>Also see: <a href=\"https://stackoverflow.com/a/58339662/143475\">https://stackoverflow.com/a/58339662/143475</a></p>\n"}],"owner":{"account_id":2531294,"reputation":97,"user_id":11277353,"display_name":"Shashi Ranjan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":488,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664304393,"creation_date":1664265577,"question_id":73864194,"body_markdown":"I am trying to execute some feature file using karate runner(feature file is bundled with application jar file) from REST controller class call. In service class I am using karate runner to run the tests.\r\n    \r\n    public Results executeTest(String featureFile, List&lt;String&gt; featureTags) {\r\n       return Runner.path(featureFile).tags(featureTags).parallel(10);\r\n    }\r\nResource file exist under `resources/abc.feature` inside the jar file, so I am providing `featureFile=&quot;classpath:abc.feature&quot;`, also I have tried with `featureFile=&quot;abc.feature&quot;` or `featureFile=&quot;./abc.feature&quot;`, but Karate is not able to find the feature file. Is there a way to pass the file path of feature file which is inside the jar file?","title":"Karate not able to find feature file inside the jar app","body":"<p>I am trying to execute some feature file using karate runner(feature file is bundled with application jar file) from REST controller class call. In service class I am using karate runner to run the tests.</p>\n<pre><code>public Results executeTest(String featureFile, List&lt;String&gt; featureTags) {\n   return Runner.path(featureFile).tags(featureTags).parallel(10);\n}\n</code></pre>\n<p>Resource file exist under <code>resources/abc.feature</code> inside the jar file, so I am providing <code>featureFile=&quot;classpath:abc.feature&quot;</code>, also I have tried with <code>featureFile=&quot;abc.feature&quot;</code> or <code>featureFile=&quot;./abc.feature&quot;</code>, but Karate is not able to find the feature file. Is there a way to pass the file path of feature file which is inside the jar file?</p>\n"},{"tags":["java","redis","redis-cluster"],"comments":[{"owner":{"account_id":22645718,"reputation":1545,"user_id":16821109,"display_name":"JeanJacquesGourdin"},"score":0,"creation_date":1664291825,"post_id":73869801,"comment_id":130435485,"body_markdown":"How are your dates saved ? This format or via timestamps ? Do you need utc days or 24h chunks are fine ?","body":"How are your dates saved ? This format or via timestamps ? Do you need utc days or 24h chunks are fine ?"},{"owner":{"account_id":10627584,"reputation":107,"user_id":7826910,"display_name":"Lizhi Liu"},"score":0,"creation_date":1664292193,"post_id":73869801,"comment_id":130435647,"body_markdown":"@JeanJacquesGourdin In my real system, the transaction time is timestamp in ms. utc days or 24h chunks can be accepted, albeit reluctantly.","body":"@JeanJacquesGourdin In my real system, the transaction time is timestamp in ms. utc days or 24h chunks can be accepted, albeit reluctantly."}],"answers":[{"tags":[],"owner":{"account_id":22645718,"reputation":1545,"user_id":16821109,"display_name":"JeanJacquesGourdin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664304392,"creation_date":1664293593,"answer_id":73870353,"question_id":73869801,"body_markdown":"You can store timestamps as scores and amounts as members in a sorted set named after user ids. \r\n\r\nUsing your first example :\r\n\r\n1) You can add entries in the sorted set with :\r\n```\r\nZADD u0001 1664177699000 3\r\nZADD u0001 1664267699000 5\r\nZADD u0001 1664285699000 10\r\n```\r\n\r\n2) You can retrieve the number of times the user came via :\r\n```\r\nZCOUNT u0001 now.timestamp-86400000 now.timestamp // 2\r\nZCOUNT u0001 now.timestamp-86400000*2 now.timestamp-86400000 // 1\r\n//etc...\r\n``` \r\n\r\n3) Get all members in the specified window\r\n\r\nI dont think there is an easy way to add all of them in redis, they are strings, you could do a lua script for that. Like ```ZRANGE...```and for each, ```INCRBY nb:u0001 ARG``` and then get the value\r\n```\r\nZRANGE u0001 now.timestamp-86400000 now.timestamp // 10, 5\r\nZRANGE u0001 now.timestamp-86400000*2 now.timestamp-86400000 // 3\r\n```\r\n\r\n4) Remove members by chunks\r\n```\r\nZREMRANGEBYSCORE u0001 now.timestamp-86400000*8 now.timestamp*7\r\n```\r\n\r\nYou could also use redis time series, no idea how it works tho.","title":"How to implement dynamic counter in Redis?","body":"<p>You can store timestamps as scores and amounts as members in a sorted set named after user ids.</p>\n<p>Using your first example :</p>\n<ol>\n<li>You can add entries in the sorted set with :</li>\n</ol>\n<pre><code>ZADD u0001 1664177699000 3\nZADD u0001 1664267699000 5\nZADD u0001 1664285699000 10\n</code></pre>\n<ol start=\"2\">\n<li>You can retrieve the number of times the user came via :</li>\n</ol>\n<pre><code>ZCOUNT u0001 now.timestamp-86400000 now.timestamp // 2\nZCOUNT u0001 now.timestamp-86400000*2 now.timestamp-86400000 // 1\n//etc...\n</code></pre>\n<ol start=\"3\">\n<li>Get all members in the specified window</li>\n</ol>\n<p>I dont think there is an easy way to add all of them in redis, they are strings, you could do a lua script for that. Like <code>ZRANGE...</code>and for each, <code>INCRBY nb:u0001 ARG</code> and then get the value</p>\n<pre><code>ZRANGE u0001 now.timestamp-86400000 now.timestamp // 10, 5\nZRANGE u0001 now.timestamp-86400000*2 now.timestamp-86400000 // 3\n</code></pre>\n<ol start=\"4\">\n<li>Remove members by chunks</li>\n</ol>\n<pre><code>ZREMRANGEBYSCORE u0001 now.timestamp-86400000*8 now.timestamp*7\n</code></pre>\n<p>You could also use redis time series, no idea how it works tho.</p>\n"}],"owner":{"account_id":10627584,"reputation":107,"user_id":7826910,"display_name":"Lizhi Liu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664304392,"creation_date":1664291002,"question_id":73869801,"body_markdown":"Recently, I need to query the cumulative times, amount, and days of transactions in a single week and within 7 days.\r\n\r\nHere is an example to explain my demend. Suppose there is an user `u0001`, his transaction logs are as follows:\r\n\r\n\r\n```\r\nTime\t\t\t\t\tAmount\r\n14:15:16 9-19 (Mon)\t\t$21\r\n20:05:45 9-20 (Tue)\t\t$15\r\n08:14:42 9-22 (Thu)\t\t$9\r\n17:34:24 9-23 (Fri)\t\t$5\r\n11:19:48 9-24 (Sat)\t\t$6\r\n13:15:14 9-24 (Sat)\t\t$7\r\n09:30:55 9-26 (Mon)\t\t$3\r\n10:34:45 9-27 (Tue)\t\t$5\r\n15:09:14 9-27 (Tue)\t\t$10\r\n19:43:25 9-28 (Wed)\t\t$8\r\n08:34:52 9-29 (Thu)\t\t$2\r\n10:09:28 9-29 (Thu)\t\t$3\r\n```\r\n\r\n1. The cumulation in a single week refers to the summation from the start to the end of the week of the queried day. For instance, I query the cumulative times, amount, and days of transactions at 15:00:00 9-28 (Wed), the range should be 00:00:00 9-26 (Mon) to 23:59:59 10-02 (Sun). The valid transactions are\r\n\r\n```\r\nTime\t\t\t\t\tAmount\r\n09:30:55 9-26 (Mon)\t\t$3\r\n10:34:45 9-27 (Tue)\t\t$5\r\n15:09:14 9-27 (Tue)\t\t$10\r\n```\r\n\r\nTherefore, the results of `u0001` are\r\n\r\n```\r\nTotal times\t\tTotal amount\t\tTotal days\r\n3\t\t\t\t$18\t\t\t\t\t2\r\n```\r\n\r\n2. The cumulation within 7 days refers to the summation of the past 7 * 24 hours from the queried time. For instance, I query at 15:00:00 9-28 (Wed), the range should be 15:00:00 9-21 (Wed) to 14:59:59 9-28 (Wed). The valid transactions are \r\n\r\n```\r\nTime\t\t\t\t\tAmount\r\n08:14:42 9-22 (Thu)\t\t$9\r\n17:34:24 9-23 (Fri)\t\t$5\r\n11:19:48 9-24 (Sat)\t\t$6\r\n13:15:14 9-24 (Sat)\t\t$7\r\n09:30:55 9-26 (Mon)\t\t$3\r\n10:34:45 9-27 (Tue)\t\t$5\r\n15:09:14 9-27 (Tue)\t\t$10\r\n```\r\n\r\nTherefore, the results of `u0001` are\r\n\r\n```\r\nTotal times\t\tTotal amount\t\tTotal days\r\n7\t\t\t\t$45\t\t\t\t\t5\r\n```\r\n\r\n---\r\n\r\nNow, I want to implement it by Redis. What are the suitable data structures and commands? How to implement the accumulation under the above two semantics?\r\n","title":"How to implement dynamic counter in Redis?","body":"<p>Recently, I need to query the cumulative times, amount, and days of transactions in a single week and within 7 days.</p>\n<p>Here is an example to explain my demend. Suppose there is an user <code>u0001</code>, his transaction logs are as follows:</p>\n<pre><code>Time                    Amount\n14:15:16 9-19 (Mon)     $21\n20:05:45 9-20 (Tue)     $15\n08:14:42 9-22 (Thu)     $9\n17:34:24 9-23 (Fri)     $5\n11:19:48 9-24 (Sat)     $6\n13:15:14 9-24 (Sat)     $7\n09:30:55 9-26 (Mon)     $3\n10:34:45 9-27 (Tue)     $5\n15:09:14 9-27 (Tue)     $10\n19:43:25 9-28 (Wed)     $8\n08:34:52 9-29 (Thu)     $2\n10:09:28 9-29 (Thu)     $3\n</code></pre>\n<ol>\n<li>The cumulation in a single week refers to the summation from the start to the end of the week of the queried day. For instance, I query the cumulative times, amount, and days of transactions at 15:00:00 9-28 (Wed), the range should be 00:00:00 9-26 (Mon) to 23:59:59 10-02 (Sun). The valid transactions are</li>\n</ol>\n<pre><code>Time                    Amount\n09:30:55 9-26 (Mon)     $3\n10:34:45 9-27 (Tue)     $5\n15:09:14 9-27 (Tue)     $10\n</code></pre>\n<p>Therefore, the results of <code>u0001</code> are</p>\n<pre><code>Total times     Total amount        Total days\n3               $18                 2\n</code></pre>\n<ol start=\"2\">\n<li>The cumulation within 7 days refers to the summation of the past 7 * 24 hours from the queried time. For instance, I query at 15:00:00 9-28 (Wed), the range should be 15:00:00 9-21 (Wed) to 14:59:59 9-28 (Wed). The valid transactions are</li>\n</ol>\n<pre><code>Time                    Amount\n08:14:42 9-22 (Thu)     $9\n17:34:24 9-23 (Fri)     $5\n11:19:48 9-24 (Sat)     $6\n13:15:14 9-24 (Sat)     $7\n09:30:55 9-26 (Mon)     $3\n10:34:45 9-27 (Tue)     $5\n15:09:14 9-27 (Tue)     $10\n</code></pre>\n<p>Therefore, the results of <code>u0001</code> are</p>\n<pre><code>Total times     Total amount        Total days\n7               $45                 5\n</code></pre>\n<hr />\n<p>Now, I want to implement it by Redis. What are the suitable data structures and commands? How to implement the accumulation under the above two semantics?</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":129540,"reputation":210847,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":0,"creation_date":1664300858,"post_id":73871782,"comment_id":130438643,"body_markdown":"In what way is your code not working as expected?  Please elaborate on the specific problem you are observing and what debugging you have done.  To learn more about this community and how we can help you, please start with the [tour] and read [ask] and its linked resources.","body":"In what way is your code not working as expected?  Please elaborate on the specific problem you are observing and what debugging you have done.  To learn more about this community and how we can help you, please start with the <a href=\"https://stackoverflow.com/tour\">tour</a> and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and its linked resources."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1664300953,"post_id":73871782,"comment_id":130438682,"body_markdown":"Your main method does not need the switch block -- get  rid of it. Instead, pass whatever key string is obtained into the `MovieFactory.getMovie(...)` method and test what is returned. If it returns `null` then the String entered is invalid.","body":"Your main method does not need the switch block -- get  rid of it. Instead, pass whatever key string is obtained into the <code>MovieFactory.getMovie(...)</code> method and test what is returned. If it returns <code>null</code> then the String entered is invalid."},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1664301287,"post_id":73871782,"comment_id":130438804,"body_markdown":"Agree with @HovercraftFullOfEels.. Keep this statement at the end of while loop &quot;if (!b) break;&quot;","body":"Agree with @HovercraftFullOfEels.. Keep this statement at the end of while loop &quot;if (!b) break;&quot;"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664304289,"creation_date":1664303436,"answer_id":73872298,"question_id":73871782,"body_markdown":"You can simplify your main method a lot:\r\n\r\n * use the stop condition in the while loop instead of `if` with `break`\r\n * don&#39;t do the same thing in the `switch` over and over again\r\n * use a `List&lt;String&gt;` to check for valid keys\r\n * minimize the visibility of your variables but extend it where necessary\r\n\r\n``` lang-java\r\nBufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\nList&lt;String&gt; validKeys = List.of(&quot;soapOpera&quot;, &quot;cartoon&quot;, &quot;thriller&quot;);\r\nboolean validKey = true;\r\n\r\nwhile (validKey) {\r\n    String key = reader.readLine();\r\n    validKey = validKeys.contains(key);\r\n\r\n    Movie movie = MovieFactory.getMovie(key);\r\n    System.out.println(movie.getClass().getSimpleName());\r\n}\r\n```\r\n\r\nUPDATE: with a modern version of Java (would recommend at least 17) you can also simplify your method `getMovie` a lot:\r\n``` lang-java\r\nstatic Movie getMovie(String key) {\r\n\treturn switch(key) {\r\n\t\tcase &quot;soapOpera&quot; -&gt; new SoapOpera();\r\n\t\tcase &quot;cartoon&quot; -&gt; new Cartoon();\r\n\t\tcase &quot;thriller&quot; -&gt; new Thriller();\r\n\t\tdefault -&gt; new Unknown();\r\n\t};\r\n}\r\n```\r\nBut you have to add a new class for your case where the key is unknown:\r\n\r\n``` lang-java\r\nstatic class Unknown extends Movie{}\r\n```","title":"Can&#39;t understand how to call a method","body":"<p>You can simplify your main method a lot:</p>\n<ul>\n<li>use the stop condition in the while loop instead of <code>if</code> with <code>break</code></li>\n<li>don't do the same thing in the <code>switch</code> over and over again</li>\n<li>use a <code>List&lt;String&gt;</code> to check for valid keys</li>\n<li>minimize the visibility of your variables but extend it where necessary</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\nList&lt;String&gt; validKeys = List.of(&quot;soapOpera&quot;, &quot;cartoon&quot;, &quot;thriller&quot;);\nboolean validKey = true;\n\nwhile (validKey) {\n    String key = reader.readLine();\n    validKey = validKeys.contains(key);\n\n    Movie movie = MovieFactory.getMovie(key);\n    System.out.println(movie.getClass().getSimpleName());\n}\n</code></pre>\n<p>UPDATE: with a modern version of Java (would recommend at least 17) you can also simplify your method <code>getMovie</code> a lot:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static Movie getMovie(String key) {\n    return switch(key) {\n        case &quot;soapOpera&quot; -&gt; new SoapOpera();\n        case &quot;cartoon&quot; -&gt; new Cartoon();\n        case &quot;thriller&quot; -&gt; new Thriller();\n        default -&gt; new Unknown();\n    };\n}\n</code></pre>\n<p>But you have to add a new class for your case where the key is unknown:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static class Unknown extends Movie{}\n</code></pre>\n"}],"owner":{"account_id":25490472,"reputation":1,"user_id":19285339,"display_name":"TheRedBaron43"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1664304289,"creation_date":1664300673,"question_id":73871782,"body_markdown":"Conditions of a task: \r\n\r\n* The main method should stop reading lines from the keyboard if an invalid string was entered (not &quot;cartoon&quot;, not &quot;thriller&quot; or not &quot;soapOpera&quot;);\r\n* For each string entered (including invalid strings), the MovieFactory.getMovie() method must be called;\r\n\r\nAnother conditions is not so important for my problem.\r\n\r\nMy problem is I can&#39;t understand how to call a MovieFactory.getMovie() for an invalid strings.   \r\nIMPORTANT! Strings of &quot;default&quot; is my my attempt to resolve the condition, but it doesn&#39;t work.\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n        Movie movie = null;\r\n        String key;\r\n        while (true)\r\n        {\r\n            key = reader.readLine();\r\n            boolean b = key.equals(&quot;soapOpera&quot;) || key.equals(&quot;cartoon&quot;) || key.equals(&quot;thriller&quot;);\r\n            if (!b) break;\r\n\r\n            switch (key)\r\n            {\r\n                case &quot;soapOpera&quot;:\r\n                    movie = MovieFactory.getMovie(&quot;soapOpera&quot;);\r\n                    System.out.println(movie.getClass().getSimpleName());\r\n                    break;\r\n                case &quot;cartoon&quot;:\r\n                    movie = MovieFactory.getMovie(&quot;cartoon&quot;);\r\n                    System.out.println(movie.getClass().getSimpleName());\r\n                    break;\r\n                case &quot;thriller&quot;:\r\n                    movie = MovieFactory.getMovie(&quot;thriller&quot;);\r\n                    System.out.println(movie.getClass().getSimpleName());\r\n                    break;\r\n                default:\r\n                    movie = MovieFactory.getMovie(key);\r\n                    System.out.println(movie.getClass().getSimpleName());\r\n            }\r\n        }\r\n    }\r\n\r\n    static class MovieFactory\r\n    {\r\n        static Movie getMovie(String key)\r\n        {\r\n            Movie movie = null;\r\n\r\n            if (&quot;soapOpera&quot;.equals(key))\r\n            {\r\n                movie = new SoapOpera();\r\n            }\r\n            else if (&quot;cartoon&quot;.equals(key))\r\n            {\r\n                movie = new Cartoon();\r\n            }\r\n            else if (&quot;thriller&quot;.equals(key))\r\n            {\r\n                movie = new Thriller();\r\n            }\r\n            return movie;\r\n        }\r\n    }\r\n\r\n    static abstract class Movie\r\n    {\r\n\r\n    }\r\n\r\n    static class SoapOpera extends Movie\r\n    {\r\n\r\n    }\r\n\r\n    static class Cartoon extends Movie\r\n    {\r\n\r\n    }\r\n\r\n    static class Thriller extends Movie\r\n    {\r\n\r\n    }","title":"Can&#39;t understand how to call a method","body":"<p>Conditions of a task:</p>\n<ul>\n<li>The main method should stop reading lines from the keyboard if an invalid string was entered (not &quot;cartoon&quot;, not &quot;thriller&quot; or not &quot;soapOpera&quot;);</li>\n<li>For each string entered (including invalid strings), the MovieFactory.getMovie() method must be called;</li>\n</ul>\n<p>Another conditions is not so important for my problem.</p>\n<p>My problem is I can't understand how to call a MovieFactory.getMovie() for an invalid strings.<br />\nIMPORTANT! Strings of &quot;default&quot; is my my attempt to resolve the condition, but it doesn't work.</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    Movie movie = null;\n    String key;\n    while (true)\n    {\n        key = reader.readLine();\n        boolean b = key.equals(&quot;soapOpera&quot;) || key.equals(&quot;cartoon&quot;) || key.equals(&quot;thriller&quot;);\n        if (!b) break;\n\n        switch (key)\n        {\n            case &quot;soapOpera&quot;:\n                movie = MovieFactory.getMovie(&quot;soapOpera&quot;);\n                System.out.println(movie.getClass().getSimpleName());\n                break;\n            case &quot;cartoon&quot;:\n                movie = MovieFactory.getMovie(&quot;cartoon&quot;);\n                System.out.println(movie.getClass().getSimpleName());\n                break;\n            case &quot;thriller&quot;:\n                movie = MovieFactory.getMovie(&quot;thriller&quot;);\n                System.out.println(movie.getClass().getSimpleName());\n                break;\n            default:\n                movie = MovieFactory.getMovie(key);\n                System.out.println(movie.getClass().getSimpleName());\n        }\n    }\n}\n\nstatic class MovieFactory\n{\n    static Movie getMovie(String key)\n    {\n        Movie movie = null;\n\n        if (&quot;soapOpera&quot;.equals(key))\n        {\n            movie = new SoapOpera();\n        }\n        else if (&quot;cartoon&quot;.equals(key))\n        {\n            movie = new Cartoon();\n        }\n        else if (&quot;thriller&quot;.equals(key))\n        {\n            movie = new Thriller();\n        }\n        return movie;\n    }\n}\n\nstatic abstract class Movie\n{\n\n}\n\nstatic class SoapOpera extends Movie\n{\n\n}\n\nstatic class Cartoon extends Movie\n{\n\n}\n\nstatic class Thriller extends Movie\n{\n\n}\n</code></pre>\n"},{"tags":["java","swing","awt"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322346038,"creation_date":1322346038,"answer_id":8282075,"question_id":8282048,"body_markdown":"You can cache the last dir location in application and while opening the file chooser specify the default location by [`setCurrentDirectory`][1] \r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/swing/JFileChooser.html#setCurrentDirectory(java.io.File)\r\n","title":"Is there any way to make Java file selection dialogs remember the last directory?","body":"<p>You can cache the last dir location in application and while opening the file chooser specify the default location by <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/JFileChooser.html#setCurrentDirectory%28java.io.File%29\" rel=\"nofollow\"><code>setCurrentDirectory</code></a> </p>\n"},{"tags":[],"owner":{"account_id":182820,"reputation":5625,"user_id":417791,"accept_rate":96,"display_name":"Wojciech Owczarczyk"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1322346627,"creation_date":1322346627,"answer_id":8282128,"question_id":8282048,"body_markdown":"Swing `JFileChooser` has an method to set the initial directory. [setCurrentDirectory(File dir)][1]\r\nAfter the file has been chosen you can get the selected directory by calling [getCurrentDirectory][2] and store it in some config file of your app.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/swing/JFileChooser.html#setCurrentDirectory%28java.io.File%29\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/javax/swing/JFileChooser.html#getCurrentDirectory%28%29","title":"Is there any way to make Java file selection dialogs remember the last directory?","body":"<p>Swing <code>JFileChooser</code> has an method to set the initial directory. <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/JFileChooser.html#setCurrentDirectory%28java.io.File%29\" rel=\"noreferrer\">setCurrentDirectory(File dir)</a>\nAfter the file has been chosen you can get the selected directory by calling <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/JFileChooser.html#getCurrentDirectory%28%29\" rel=\"noreferrer\">getCurrentDirectory</a> and store it in some config file of your app.</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":16,"is_accepted":true,"score":15,"last_activity_date":1322382712,"creation_date":1322351800,"answer_id":8282562,"question_id":8282048,"body_markdown":"Store the file chooser as a class attribute.  When it is re-opened, the following will be preserved.\r\n\r\n1. The directory.\r\n1. The place in the directory to where the user had scrolled.\r\n1. The selected file filter.\r\n1. The size.\r\n1. The location on screen.\r\n1. The PLAF.\r\n1. ..\r\n\r\n---------------\r\n\r\n&gt; Is there any way to make it remember the last used directory? \r\n\r\nOf course, if you mean persist the state *between runs,* there are a number of alternative forms of storing the details, and places/ways to store them.\r\nSee [this answer](https://stackoverflow.com/questions/7777640/what-is-the-best-practice-for-setting-jframe-locations-in-java/7778332#7778332) for an example of storing the bounds of a `JFrame`  using a `Properties` file.\r\n\r\n---------------\r\n\r\n&gt; Perhaps it&#39;s not possible for the user to change the file browser interface, ..\r\n\r\nWhat &#39;user&#39;?  Do you mean the developer who uses one in an app.?\r\n\r\nMaybe what you need is to implement your own file chooser.  If that is the case, you might  start with the [FileBro](https://codereview.stackexchange.com/questions/4446/file-browser-gui) code.\r\n\r\n&lt;img src=&quot;http://i.stack.imgur.com/yswnE.png&quot;&gt;","title":"Is there any way to make Java file selection dialogs remember the last directory?","body":"<p>Store the file chooser as a class attribute.  When it is re-opened, the following will be preserved.</p>\n\n<ol>\n<li>The directory.</li>\n<li>The place in the directory to where the user had scrolled.</li>\n<li>The selected file filter.</li>\n<li>The size.</li>\n<li>The location on screen.</li>\n<li>The PLAF.</li>\n<li>..</li>\n</ol>\n\n<hr>\n\n<blockquote>\n  <p>Is there any way to make it remember the last used directory? </p>\n</blockquote>\n\n<p>Of course, if you mean persist the state <em>between runs,</em> there are a number of alternative forms of storing the details, and places/ways to store them.\nSee <a href=\"https://stackoverflow.com/questions/7777640/what-is-the-best-practice-for-setting-jframe-locations-in-java/7778332#7778332\">this answer</a> for an example of storing the bounds of a <code>JFrame</code>  using a <code>Properties</code> file.</p>\n\n<hr>\n\n<blockquote>\n  <p>Perhaps it's not possible for the user to change the file browser interface, ..</p>\n</blockquote>\n\n<p>What 'user'?  Do you mean the developer who uses one in an app.?</p>\n\n<p>Maybe what you need is to implement your own file chooser.  If that is the case, you might  start with the <a href=\"https://codereview.stackexchange.com/questions/4446/file-browser-gui\">FileBro</a> code.</p>\n\n<p><img src=\"https://i.stack.imgur.com/yswnE.png\"></p>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1503835843,"creation_date":1395761378,"answer_id":22639163,"question_id":8282048,"body_markdown":"JFileChooser does not remember it. However, Java provides a Preferences API\r\n\r\n    Preferences prefs = Preferences.userRoot().node(getClass().getName());\r\n    JFileChooser chooser = new JFileChooser(prefs.get(LAST_USED_FOLDER,\r\n        new File(&quot;.&quot;).getAbsolutePath()));\r\n    int returnVal = chooser.showOpenDialog(null);\r\n    if (returnVal == JFileChooser.APPROVE_OPTION) {\r\n        // do something\r\n        prefs.put(LAST_USED_FOLDER, chooser.getSelectedFile().getParent());\r\n    }\r\n\r\n","title":"Is there any way to make Java file selection dialogs remember the last directory?","body":"<p>JFileChooser does not remember it. However, Java provides a Preferences API</p>\n\n<pre><code>Preferences prefs = Preferences.userRoot().node(getClass().getName());\nJFileChooser chooser = new JFileChooser(prefs.get(LAST_USED_FOLDER,\n    new File(\".\").getAbsolutePath()));\nint returnVal = chooser.showOpenDialog(null);\nif (returnVal == JFileChooser.APPROVE_OPTION) {\n    // do something\n    prefs.put(LAST_USED_FOLDER, chooser.getSelectedFile().getParent());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7618695,"reputation":479,"user_id":5777299,"display_name":"V Kash Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500267094,"creation_date":1500267094,"answer_id":45136180,"question_id":8282048,"body_markdown":"Here i used a simple code with directory dialog to open with last use directory\r\n\r\n    IDialogSettings dialogSettings = Activator.getDefault().getDialogSettings(); \r\n\t\tString lastUsedPath = dialogSettings.get(IAntUIConstants.DIALOGSTORE_LASTANTHOME);\r\n\t\tif (lastUsedPath == null) {\r\n\t\t\tlastUsedPath = &quot;c:\\\\&quot;;\r\n\t\t}\r\n\t\tDirectoryDialog dialog = new DirectoryDialog(Display.getDefault().getActiveShell());\r\n\t\tdialog.setFilterPath(lastUsedPath);\r\n\t\tString location = dialog.open();\r\n\t\tif (location == null) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdialogSettings.put(IAntUIConstants.DIALOGSTORE_LASTANTHOME, location); \r\n\t\t  AntCorePreferences preferences = AntCorePlugin.getPlugin().getPreferences(); \r\n\t\t  String defaultHome = preferences.getAntHome(); \r\n\t\t  if (location.equalsIgnoreCase(defaultHome)) { \r\n\t\t\t  location = null; \r\n\t\t  } ","title":"Is there any way to make Java file selection dialogs remember the last directory?","body":"<p>Here i used a simple code with directory dialog to open with last use directory</p>\n\n<pre><code>IDialogSettings dialogSettings = Activator.getDefault().getDialogSettings(); \n    String lastUsedPath = dialogSettings.get(IAntUIConstants.DIALOGSTORE_LASTANTHOME);\n    if (lastUsedPath == null) {\n        lastUsedPath = \"c:\\\\\";\n    }\n    DirectoryDialog dialog = new DirectoryDialog(Display.getDefault().getActiveShell());\n    dialog.setFilterPath(lastUsedPath);\n    String location = dialog.open();\n    if (location == null) {\n        return;\n    }\n    dialogSettings.put(IAntUIConstants.DIALOGSTORE_LASTANTHOME, location); \n      AntCorePreferences preferences = AntCorePlugin.getPlugin().getPreferences(); \n      String defaultHome = preferences.getAntHome(); \n      if (location.equalsIgnoreCase(defaultHome)) { \n          location = null; \n      } \n</code></pre>\n"}],"owner":{"account_id":430749,"reputation":18446,"user_id":814354,"accept_rate":78,"display_name":"keflavich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17802,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":8282562,"answer_count":5,"score":21,"last_activity_date":1664304282,"creation_date":1322345848,"question_id":8282048,"body_markdown":"When using Java applications, every time I open a dialog box, the starting directory is always my home directory.\r\nIs there any way to make it remember the last used directory?\r\n\r\nAlternately, are there *improved* Java file selection dialogs that allow type-to-search or any of the features that are standard in most other application file selection dialogs?\r\n\r\nEDIT: I think the answers posted address the question for *writing* Java applications, but not for a user. Perhaps it&#39;s not possible for the user to change the file browser interface, but I&#39;d like to know that. In case it matters, I have a few specific examples in mind (Amazon AWS uploader) but I have observed that behavior in most Java applications that use a file browser.\r\n","title":"Is there any way to make Java file selection dialogs remember the last directory?","body":"<p>When using Java applications, every time I open a dialog box, the starting directory is always my home directory.\nIs there any way to make it remember the last used directory?</p>\n<p>Alternately, are there <em>improved</em> Java file selection dialogs that allow type-to-search or any of the features that are standard in most other application file selection dialogs?</p>\n<p>EDIT: I think the answers posted address the question for <em>writing</em> Java applications, but not for a user. Perhaps it's not possible for the user to change the file browser interface, but I'd like to know that. In case it matters, I have a few specific examples in mind (Amazon AWS uploader) but I have observed that behavior in most Java applications that use a file browser.</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664303734,"creation_date":1664303734,"answer_id":73872359,"question_id":73865307,"body_markdown":"Because Mockito works through [side-effects stored in ThreadLocal variables](https://stackoverflow.com/q/22822512/1426891), it is particularly subject to test pollution: If your tests fail when run in random order, it may be because some previous test left a mock in a state it wasn&#39;t expecting to be in. Also, Mockito stubbing relies on observing method calls in a specific order, which can cause odd exceptions if it can&#39;t observe the method calls (such as when they&#39;re `final`) or if you interact with a different mock while preparing a `thenVerb` argument.\r\n\r\nOne of your first lines of defense is to use [`validateMockitoUsage`](https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#validateMockitoUsage()), which is meant to be run at the end of every test and confirms that no interaction with Mockito is left unfinished. You could put this in an `@After` method, but Mockito does so automatically if using [MockitoJUnitRunner](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/junit/MockitoJUnitRunner.html) or [MockitoRule](https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/junit/MockitoRule.html). I&#39;d recommend either of those latter options if possible, particularly MockitoRule.\r\n\r\nThis should help you confirm which test(s) are problematic. Once you&#39;re there, try these:\r\n\r\n- Double-check that you&#39;re not trying to mock `final` methods without [Mockito&#39;s opt-in `final` support](https://www.javadoc.io/static/org.mockito/mockito-core/4.8.0/org/mockito/Mockito.html#Mocking_Final). If Mockito can&#39;t override your mock method, it won&#39;t be able to detect your stubbing calls in its expected order. If any of your methods are written in Kotlin, remember that unlike Java the methods are `final` unless declared `open`.\r\n- Your test doesn&#39;t seem to use Matchers, but if you do, make sure you use them for all arguments in a method if you use them for any argument in a method.\r\n- Be careful about calling real methods in the middle of stubbing. `new AccountOwnerVO(...)` shouldn&#39;t interact with mocks, but if it does, then Mockito might interpreted it as if your `when` call never got a `thenReturn` (when in reality it just hasn&#39;t gotten to it yet). Extracting your return value as a local variable is a reasonable step to try.","title":"UnfinishedStubbingException when JUnit tests are ran in random order","body":"<p>Because Mockito works through <a href=\"https://stackoverflow.com/q/22822512/1426891\">side-effects stored in ThreadLocal variables</a>, it is particularly subject to test pollution: If your tests fail when run in random order, it may be because some previous test left a mock in a state it wasn't expecting to be in. Also, Mockito stubbing relies on observing method calls in a specific order, which can cause odd exceptions if it can't observe the method calls (such as when they're <code>final</code>) or if you interact with a different mock while preparing a <code>thenVerb</code> argument.</p>\n<p>One of your first lines of defense is to use <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/Mockito.html#validateMockitoUsage()\" rel=\"nofollow noreferrer\"><code>validateMockitoUsage</code></a>, which is meant to be run at the end of every test and confirms that no interaction with Mockito is left unfinished. You could put this in an <code>@After</code> method, but Mockito does so automatically if using <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"nofollow noreferrer\">MockitoJUnitRunner</a> or <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/latest/org/mockito/junit/MockitoRule.html\" rel=\"nofollow noreferrer\">MockitoRule</a>. I'd recommend either of those latter options if possible, particularly MockitoRule.</p>\n<p>This should help you confirm which test(s) are problematic. Once you're there, try these:</p>\n<ul>\n<li>Double-check that you're not trying to mock <code>final</code> methods without <a href=\"https://www.javadoc.io/static/org.mockito/mockito-core/4.8.0/org/mockito/Mockito.html#Mocking_Final\" rel=\"nofollow noreferrer\">Mockito's opt-in <code>final</code> support</a>. If Mockito can't override your mock method, it won't be able to detect your stubbing calls in its expected order. If any of your methods are written in Kotlin, remember that unlike Java the methods are <code>final</code> unless declared <code>open</code>.</li>\n<li>Your test doesn't seem to use Matchers, but if you do, make sure you use them for all arguments in a method if you use them for any argument in a method.</li>\n<li>Be careful about calling real methods in the middle of stubbing. <code>new AccountOwnerVO(...)</code> shouldn't interact with mocks, but if it does, then Mockito might interpreted it as if your <code>when</code> call never got a <code>thenReturn</code> (when in reality it just hasn't gotten to it yet). Extracting your return value as a local variable is a reasonable step to try.</li>\n</ul>\n"}],"owner":{"account_id":23205744,"reputation":13,"user_id":17299986,"display_name":"Jesper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664303734,"creation_date":1664271131,"question_id":73865307,"body_markdown":"The following test is one of several tests that fail when I run my tests in random order using this Maven command: *mvn -Dsurefire.runOrder=random clean test*\r\n\r\n    @Test\r\n    public void ShouldReturnCorrectAccountLoanSumForDebtRatioWhenRedemptionAmountIsNull(){\r\n        AccountVO account = mock(AccountVO.class);\r\n        CustomerGroupInformationVO group = mock(CustomerGroupInformationVO.class);\r\n        when(group.getCustomerIds()).thenReturn(Set.of(&quot;199406208123&quot;));\r\n        when(account.getAccountOwners()).thenReturn(List.of((new AccountOwnerVO(null, &quot;199406208123&quot;, null))));\r\n        when(account.getAmount()).thenReturn(BigDecimal.valueOf(500000));\r\n        when(account.getRedemptionAmount()).thenReturn(null);\r\n\r\n        assertEquals(BigDecimal.valueOf(500000), getAdjustedAccountLoanSumForDebtRatio(account, group, caseClientVO));\r\n    }\r\n\r\nMore specifically this is the line mentioned: \r\n\r\n    when(account.getAccountOwners()).thenReturn(List.of((new AccountOwnerVO(null, &quot;199406208123&quot;, null))));\r\n\r\nAny idea what is causing this and how I can fix it? When I run my tests normally using mvn clean install there are no issues at all. The reason I want it to work with a random order is that our build tool seems to use it and it can&#39;t build. Like I said it works fine locally.","title":"UnfinishedStubbingException when JUnit tests are ran in random order","body":"<p>The following test is one of several tests that fail when I run my tests in random order using this Maven command: <em>mvn -Dsurefire.runOrder=random clean test</em></p>\n<pre><code>@Test\npublic void ShouldReturnCorrectAccountLoanSumForDebtRatioWhenRedemptionAmountIsNull(){\n    AccountVO account = mock(AccountVO.class);\n    CustomerGroupInformationVO group = mock(CustomerGroupInformationVO.class);\n    when(group.getCustomerIds()).thenReturn(Set.of(&quot;199406208123&quot;));\n    when(account.getAccountOwners()).thenReturn(List.of((new AccountOwnerVO(null, &quot;199406208123&quot;, null))));\n    when(account.getAmount()).thenReturn(BigDecimal.valueOf(500000));\n    when(account.getRedemptionAmount()).thenReturn(null);\n\n    assertEquals(BigDecimal.valueOf(500000), getAdjustedAccountLoanSumForDebtRatio(account, group, caseClientVO));\n}\n</code></pre>\n<p>More specifically this is the line mentioned:</p>\n<pre><code>when(account.getAccountOwners()).thenReturn(List.of((new AccountOwnerVO(null, &quot;199406208123&quot;, null))));\n</code></pre>\n<p>Any idea what is causing this and how I can fix it? When I run my tests normally using mvn clean install there are no issues at all. The reason I want it to work with a random order is that our build tool seems to use it and it can't build. Like I said it works fine locally.</p>\n"},{"tags":["java","android","adb","serversocket","tcpserver"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1664304005,"post_id":73872226,"comment_id":130439607,"body_markdown":"you may not even need to implement that, https://github.com/vidstige/jadb - it should also contain a lot of information about the protocol (which someone documented https://github.com/cstyan/adbDocumentation ), I&#39;m just not sure the adb server side is exposed in a way that allows clients from within.","body":"you may not even need to implement that, <a href=\"https://github.com/vidstige/jadb\" rel=\"nofollow noreferrer\">github.com/vidstige/jadb</a> - it should also contain a lot of information about the protocol (which someone documented <a href=\"https://github.com/cstyan/adbDocumentation\" rel=\"nofollow noreferrer\">github.com/cstyan/adbDocumentation</a> ), I&#39;m just not sure the adb server side is exposed in a way that allows clients from within."},{"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"score":0,"creation_date":1664318689,"post_id":73872226,"comment_id":130443253,"body_markdown":"You will need `adb` to give the needed permission to your `fake-adb` for it to be able to do something useful (*if your intention is to create a new one as the question seems to indicate*)","body":"You will need <code>adb</code> to give the needed permission to your <code>fake-adb</code> for it to be able to do something useful (<i>if your intention is to create a new one as the question seems to indicate</i>)"}],"owner":{"account_id":13354497,"reputation":51,"user_id":15007032,"display_name":"zaxunobi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664303073,"creation_date":1664303073,"question_id":73872226,"body_markdown":"As I asked here: https://stackoverflow.com/questions/73866936/tcp-listening-on-port-tcpip-without-root-and-usb-cable-on-android-11?noredirect=1#comment130435394_73866936\r\n\r\nI am trying to listen on a specific port (without root or usb cable) for running commands through adb. Someone, in the comments of the previous question, suggested that I could open a ServerSocket on port 5555. I am asking because I am not sure how I would need to replicate the adb server, more specifically how to handle the strings that I would receive on the socket.\r\n\r\nSo, as mentioned in the title, I would like to take a peek at the source of the command tcpip an replicate, if possible, the behaviour without needing root.","title":"Where can I find the source of command tcpip on android? Is it possible to replicate the behaviour without root?","body":"<p>As I asked here: <a href=\"https://stackoverflow.com/questions/73866936/tcp-listening-on-port-tcpip-without-root-and-usb-cable-on-android-11?noredirect=1#comment130435394_73866936\">TCP listening on port (tcpip) without root and usb cable on android &lt; 11</a></p>\n<p>I am trying to listen on a specific port (without root or usb cable) for running commands through adb. Someone, in the comments of the previous question, suggested that I could open a ServerSocket on port 5555. I am asking because I am not sure how I would need to replicate the adb server, more specifically how to handle the strings that I would receive on the socket.</p>\n<p>So, as mentioned in the title, I would like to take a peek at the source of the command tcpip an replicate, if possible, the behaviour without needing root.</p>\n"},{"tags":["java","android","android-activity","android-theme"],"answers":[{"tags":[],"owner":{"account_id":1312446,"reputation":915,"user_id":1262012,"accept_rate":65,"display_name":"Bialy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663925105,"creation_date":1663925105,"answer_id":73825642,"question_id":73825408,"body_markdown":"Just found it out. Simply adding this flag to the launching intent\r\n\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_MULTIPLE_TASK);","title":"Display activity as a popup window","body":"<p>Just found it out. Simply adding this flag to the launching intent</p>\n<pre><code>intent.addFlags(Intent.FLAG_ACTIVITY_MULTIPLE_TASK);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664302931,"creation_date":1664302931,"answer_id":73872199,"question_id":73825408,"body_markdown":"If the popup dialog has nothing to do with your app (and you want it to be separate and distinct from your app in case your app is already running), then you want to do the following:\r\n\r\nIn the manifest, set the `taskAffinity` for this dialog-themed `Activity` to an empty string, set the `excludeFromRecents` flag and the `noHistory` flag like this:\r\n\r\n    &lt;activity android:name=&quot;.DialogThemedActivity&quot;\r\n              android:taskAffinity=&quot;&quot;\r\n              android:excludeFromRecents=&quot;true&quot;\r\n              android:noHistory=&quot;true&quot;\r\n              ... /&gt;\r\n\r\nDeclaring the `Activity` like this ensures that it is not associated with any existing task that your app is currently in. It also ensures that this task will not end up in the list of recent tasks (so that the user doesn&#39;t accidentally start the `Activity` again from the list of recent tasks) and that the task will be deleted as soon as the user navigates away from the dialog-themed `Activity`.\r\n\r\nNow, in your `Service`, make sure that when you launch the `Activity` you add `FLAG_ACTIVITY_NEW_TASK`:\r\n\r\n    Intent intent = new Intent(this, DialogThemedActivity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\r\nThis is the correct way to do this.","title":"Display activity as a popup window","body":"<p>If the popup dialog has nothing to do with your app (and you want it to be separate and distinct from your app in case your app is already running), then you want to do the following:</p>\n<p>In the manifest, set the <code>taskAffinity</code> for this dialog-themed <code>Activity</code> to an empty string, set the <code>excludeFromRecents</code> flag and the <code>noHistory</code> flag like this:</p>\n<pre><code>&lt;activity android:name=&quot;.DialogThemedActivity&quot;\n          android:taskAffinity=&quot;&quot;\n          android:excludeFromRecents=&quot;true&quot;\n          android:noHistory=&quot;true&quot;\n          ... /&gt;\n</code></pre>\n<p>Declaring the <code>Activity</code> like this ensures that it is not associated with any existing task that your app is currently in. It also ensures that this task will not end up in the list of recent tasks (so that the user doesn't accidentally start the <code>Activity</code> again from the list of recent tasks) and that the task will be deleted as soon as the user navigates away from the dialog-themed <code>Activity</code>.</p>\n<p>Now, in your <code>Service</code>, make sure that when you launch the <code>Activity</code> you add <code>FLAG_ACTIVITY_NEW_TASK</code>:</p>\n<pre><code>Intent intent = new Intent(this, DialogThemedActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n</code></pre>\n<p>This is the correct way to do this.</p>\n"}],"owner":{"account_id":1312446,"reputation":915,"user_id":1262012,"accept_rate":65,"display_name":"Bialy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73872199,"answer_count":2,"score":1,"last_activity_date":1664302931,"creation_date":1663923845,"question_id":73825408,"body_markdown":"I have a service that starts an activity as a dialog/popup window from my app. It works generally ok. \r\n\r\nWhen my app is closed (not in recents), the popup will overlay any underlying app with a transparent surrounding background.\r\n\r\nBut the issue comes when my app was minimized in the background and I&#39;m using another app, then I click on the service button to display the popup, it brings my app back into the front with the popup over my app (not the previous third-party app).\r\n\r\nHow can I prevent this behavior and make my activity overly any window regardless of my app&#39;s state?\r\n\r\nThis is the theme I&#39;m using\r\n\r\n    \r\n    &lt;style name=&quot;PopupTheme&quot; parent=&quot;Theme.AppCompat.Dialog&quot;&gt;\r\n    &lt;/style&gt;","title":"Display activity as a popup window","body":"<p>I have a service that starts an activity as a dialog/popup window from my app. It works generally ok.</p>\n<p>When my app is closed (not in recents), the popup will overlay any underlying app with a transparent surrounding background.</p>\n<p>But the issue comes when my app was minimized in the background and I'm using another app, then I click on the service button to display the popup, it brings my app back into the front with the popup over my app (not the previous third-party app).</p>\n<p>How can I prevent this behavior and make my activity overly any window regardless of my app's state?</p>\n<p>This is the theme I'm using</p>\n<pre><code>&lt;style name=&quot;PopupTheme&quot; parent=&quot;Theme.AppCompat.Dialog&quot;&gt;\n&lt;/style&gt;\n</code></pre>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":0,"creation_date":1664305715,"post_id":73872119,"comment_id":130440128,"body_markdown":"I think that Jackson can do this with `@JsonAnyGetter` but Gson does not. See https://stackoverflow.com/questions/25551283/how-can-you-get-a-list-of-unrecognized-json-fields-in-gson-like-jacksons-jsona","body":"I think that Jackson can do this with <code>@JsonAnyGetter</code> but Gson does not. See <a href=\"https://stackoverflow.com/questions/25551283/how-can-you-get-a-list-of-unrecognized-json-fields-in-gson-like-jacksons-jsona\" title=\"how can you get a list of unrecognized json fields in gson like jacksons jsona\">stackoverflow.com/questions/25551283/&hellip;</a>"},{"owner":{"account_id":9191414,"reputation":521,"user_id":6831795,"display_name":"Alex"},"score":0,"creation_date":1664306518,"post_id":73872119,"comment_id":130440317,"body_markdown":"You have to option to not map your json to a java class put parse the tree. You can also iterate over all the fields an object has. Have a look here for parising json as a tree: https://www.tutorialspoint.com/gson/gson_tree_model.htm . If you want to know what fields exist have a look here: https://stackoverflow.com/questions/31094305/java-gson-getting-the-list-of-all-keys-under-a-jsonobject","body":"You have to option to not map your json to a java class put parse the tree. You can also iterate over all the fields an object has. Have a look here for parising json as a tree: <a href=\"https://www.tutorialspoint.com/gson/gson_tree_model.htm\" rel=\"nofollow noreferrer\">tutorialspoint.com/gson/gson_tree_model.htm</a> . If you want to know what fields exist have a look here: <a href=\"https://stackoverflow.com/questions/31094305/java-gson-getting-the-list-of-all-keys-under-a-jsonobject\" title=\"java gson getting the list of all keys under a jsonobject\">stackoverflow.com/questions/31094305/&hellip;</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":1,"creation_date":1664308488,"post_id":73872119,"comment_id":130440890,"body_markdown":"In addition to @Alex&#39;s solution you can also deserialize the `JsonObject` as your model class with `Gson.fromJson(JsonElement, ...)` and then manually retrieve the field with dynamic name from the `JsonObject` and set the value for the model class instance.","body":"In addition to @Alex&#39;s solution you can also deserialize the <code>JsonObject</code> as your model class with <code>Gson.fromJson(JsonElement, ...)</code> and then manually retrieve the field with dynamic name from the <code>JsonObject</code> and set the value for the model class instance."}],"owner":{"account_id":5011528,"reputation":647,"user_id":4341206,"accept_rate":30,"display_name":"user4341206"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":309,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664302469,"creation_date":1664302469,"question_id":73872119,"body_markdown":"I have problem parsing dynamic JSON field name with GSON into Java Object. I have JSON like this:\r\n\r\n```\r\n{\r\n...\r\n&quot;field_basic&quot;: &quot;12.3&quot;,\r\n&quot;field_basic_country&quot;: &quot;12.3&quot;,\r\n&quot;field_ex4&quot;: &quot;2.7&quot;,\r\n...\r\n}\r\n```\r\n\r\nField field_ex4 can have different names like field_ex1, field_ex2... I don&#39;t want to make all the atributes in Java class like this:\r\n\r\n```\r\nprivate String field_ex1;\r\nprivate String field_ex2;\r\nprivate String field_ex3;\r\nprivate String field_ex4;\r\n...\r\n```\r\n\r\nSo my question is if there is posibility that this field is parsed into one universal filed name (like &quot;field_exN&quot;) and that I also would know what values N is. There is always just one field_ex in JSON.\r\n\r\nThank you.\r\n","title":"How to parse dynamic JSON field name with GSON into Java Object","body":"<p>I have problem parsing dynamic JSON field name with GSON into Java Object. I have JSON like this:</p>\n<pre><code>{\n...\n&quot;field_basic&quot;: &quot;12.3&quot;,\n&quot;field_basic_country&quot;: &quot;12.3&quot;,\n&quot;field_ex4&quot;: &quot;2.7&quot;,\n...\n}\n</code></pre>\n<p>Field field_ex4 can have different names like field_ex1, field_ex2... I don't want to make all the atributes in Java class like this:</p>\n<pre><code>private String field_ex1;\nprivate String field_ex2;\nprivate String field_ex3;\nprivate String field_ex4;\n...\n</code></pre>\n<p>So my question is if there is posibility that this field is parsed into one universal filed name (like &quot;field_exN&quot;) and that I also would know what values N is. There is always just one field_ex in JSON.</p>\n<p>Thank you.</p>\n"},{"tags":["java","elasticsearch","resthighlevelclient","elasticsearch-high-level-restclient"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1664302770,"post_id":73872108,"comment_id":130439238,"body_markdown":"let me guess: You tried to mock a &quot;chained call&quot; like: `when(someMock.hits().hits()).then...`? No, though this is legal syntax&amp;runtime, it won&#39;t give you the desired result, you have to : `when(someMock.hits()).then...` pass some (real or mock) object/class... and when this is again a mock, you have to `when(someOtherMock.hits()).then...`","body":"let me guess: You tried to mock a &quot;chained call&quot; like: <code>when(someMock.hits().hits()).then...</code>? No, though this is legal syntax&amp;runtime, it won&#39;t give you the desired result, you have to : <code>when(someMock.hits()).then...</code> pass some (real or mock) object/class... and when this is again a mock, you have to <code>when(someOtherMock.hits()).then...</code>"},{"owner":{"account_id":9690499,"reputation":145,"user_id":7188713,"display_name":"Ashish Mishra"},"score":0,"creation_date":1664331715,"post_id":73872108,"comment_id":130445040,"body_markdown":"Hit hit = mock(Hit.class);\n        HitsMetadata hitsMetadata = mock(HitsMetadata.class);\n        when(searchResponse.hits()).thenReturn(hitsMetadata);\n        when(hit.source()).thenReturn(mockContent(Collections.singletonList(&quot;ScaledImage&quot;),1));\n        when(hitsMetadata.hits()).thenReturn(List.of(hit));\n        Mockito.when(elasticClient.search((SearchRequest) Mockito.any(),\n                        Mockito.any()))\n                .thenReturn(searchResponse);","body":"Hit hit = mock(Hit.class);         HitsMetadata hitsMetadata = mock(HitsMetadata.class);         when(searchResponse.hits()).thenReturn(hitsMetadata);         when(hit.source()).thenReturn(mockContent(Collections.single&zwnj;&#8203;tonList(&quot;ScaledImage&zwnj;&#8203;&quot;),1));         when(hitsMetadata.hits()).thenReturn(List.of(hit));         Mockito.when(elasticClient.search((SearchRequest) Mockito.any(),                         Mockito.any()))                 .thenReturn(searchResponse);"},{"owner":{"account_id":9690499,"reputation":145,"user_id":7188713,"display_name":"Ashish Mishra"},"score":0,"creation_date":1664331747,"post_id":73872108,"comment_id":130445042,"body_markdown":"i tried this but its not working","body":"i tried this but its not working"},{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1664354037,"post_id":73872108,"comment_id":130449850,"body_markdown":"Can you check [this](https://github.com/elastic/elasticsearch-java/blob/main/java-client/src/test/java/co/elastic/clients/documentation/usage/SearchingTest.java) code. it might help you to writing junit.","body":"Can you check <a href=\"https://github.com/elastic/elasticsearch-java/blob/main/java-client/src/test/java/co/elastic/clients/documentation/usage/SearchingTest.java\" rel=\"nofollow noreferrer\">this</a> code. it might help you to writing junit."}],"owner":{"account_id":9690499,"reputation":145,"user_id":7188713,"display_name":"Ashish Mishra"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1001,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1664302390,"creation_date":1664302390,"question_id":73872108,"body_markdown":"I have tried to mock the response for the below method, but it&#39;s not working. Not able to mock the search.hits().hits() method. \r\n\r\nAny idea how to do that?\r\n\r\n```\r\nSearchResponse&lt;Product&gt; search = client.search(s -&gt; s\r\n    .index(&quot;products&quot;)\r\n    .query(q -&gt; q\r\n        .term(t -&gt; t\r\n            .field(&quot;name&quot;)\r\n            .value(v -&gt; v.stringValue(&quot;bicycle&quot;))\r\n        )),\r\n    Product.class);\r\n\r\nfor (Hit&lt;Product&gt; hit: search.hits().hits()) {\r\n    processProduct(hit.source());\r\n}\r\n```\r\n\r\nReference for code- https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html#_your_first_request","title":"Mockito Test for Elastic Java api client","body":"<p>I have tried to mock the response for the below method, but it's not working. Not able to mock the search.hits().hits() method.</p>\n<p>Any idea how to do that?</p>\n<pre><code>SearchResponse&lt;Product&gt; search = client.search(s -&gt; s\n    .index(&quot;products&quot;)\n    .query(q -&gt; q\n        .term(t -&gt; t\n            .field(&quot;name&quot;)\n            .value(v -&gt; v.stringValue(&quot;bicycle&quot;))\n        )),\n    Product.class);\n\nfor (Hit&lt;Product&gt; hit: search.hits().hits()) {\n    processProduct(hit.source());\n}\n</code></pre>\n<p>Reference for code- <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html#_your_first_request\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/connecting.html#_your_first_request</a></p>\n"},{"tags":["java","quarkus","narayana","quarkus-hibernate-orm"],"comments":[{"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"score":0,"creation_date":1664255877,"post_id":73856928,"comment_id":130423270,"body_markdown":"Does this answer your question? [JPA EntityManager: Why use persist() over merge()?](https://stackoverflow.com/questions/1069992/jpa-entitymanager-why-use-persist-over-merge)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1069992/jpa-entitymanager-why-use-persist-over-merge\">JPA EntityManager: Why use persist() over merge()?</a>"},{"owner":{"account_id":10057394,"reputation":376,"user_id":7435186,"display_name":"Jakob Graf"},"score":0,"creation_date":1664258874,"post_id":73856928,"comment_id":130423794,"body_markdown":"@LucaBassoRicci unluckily not, since what I understand merging the changes should persist the object to the related database entry.","body":"@LucaBassoRicci unluckily not, since what I understand merging the changes should persist the object to the related database entry."},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1664277872,"post_id":73856928,"comment_id":130429794,"body_markdown":"Try enabling SQL logging to see what happens.","body":"Try enabling SQL logging to see what happens."},{"owner":{"account_id":10057394,"reputation":376,"user_id":7435186,"display_name":"Jakob Graf"},"score":0,"creation_date":1664278916,"post_id":73856928,"comment_id":130430109,"body_markdown":"Somehow when flushing, there is no update on this object, but the entity contains the changed data. See updated Log output.","body":"Somehow when flushing, there is no update on this object, but the entity contains the changed data. See updated Log output."}],"answers":[{"tags":[],"owner":{"account_id":10057394,"reputation":376,"user_id":7435186,"display_name":"Jakob Graf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664301834,"creation_date":1664301834,"answer_id":73871995,"question_id":73856928,"body_markdown":"The solution was a wrong @Entity class\r\n\r\n    @Entity\r\n    public class ValueObject {\r\n      private String value;\r\n\r\n      @Column(name = &quot;VALUE&quot;)\r\n      public getValue() {...}\r\n      \r\n      public setValue(String value) {...}\r\n    }\r\n\r\nhad to be changed to:\r\n\r\n    @Entity\r\n    public class ValueObject {\r\n      @Column(name = &quot;VALUE&quot;)\r\n      private String value;\r\n\r\n      public getValue() {...}\r\n      \r\n      public setValue(String value) {...}\r\n    }","title":"Quarkus-Hibernate-ORM EntityManager.merge() is not updating database","body":"<p>The solution was a wrong @Entity class</p>\n<pre><code>@Entity\npublic class ValueObject {\n  private String value;\n\n  @Column(name = &quot;VALUE&quot;)\n  public getValue() {...}\n  \n  public setValue(String value) {...}\n}\n</code></pre>\n<p>had to be changed to:</p>\n<pre><code>@Entity\npublic class ValueObject {\n  @Column(name = &quot;VALUE&quot;)\n  private String value;\n\n  public getValue() {...}\n  \n  public setValue(String value) {...}\n}\n</code></pre>\n"}],"owner":{"account_id":10057394,"reputation":376,"user_id":7435186,"display_name":"Jakob Graf"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73871995,"answer_count":1,"score":0,"last_activity_date":1664301834,"creation_date":1664208528,"question_id":73856928,"body_markdown":"I have a quarkus application with an Entity, and an DAO Class.\r\n\r\nNow I try to update the Entity by calling the merge() function of the EntityManager:\r\n\r\n    public void update(final T valueObject) {\r\n      getEntityManager().merge(valueObject);\r\n    }\r\n\r\nThe EntityManager is injected:\r\n\r\n    @Inject\r\n    @PersistenceUnit(&quot;MY_DB&quot;)\r\n    protected EntityManager _entityManager;\r\n\r\nand the class of the DAO is a `@Singleton`\r\n\r\nWhen I call `update()` I get no Exception and there is also no information in the logs, but the database is just not updated. When I perform a `persist()` or `remove()` on the entityManager, that works as expected.\r\n\r\nI furher work with transactions:\r\n\r\n\r\n    @Inject\r\n    private EntityDAO entityDao;\r\n    \r\n    QuarkusTransaction.begin();\r\n    entity.setValue(&quot;my value&quot;);\r\n    entityDao.update(entity);\r\n    QuarkusTransaction.commit();\r\n\r\nAny ideas what could be the problem on this issue?\r\n\r\n**Edit:** Log...\r\n\r\n    DEBUG [org.hib.eve.int.AbstractFlushingEventListener] (executor-thread-0) Processing flush-time cascades\r\n    DEBUG [org.hib.eve.int.AbstractFlushingEventListener] (executor-thread-0) Dirty checking collections\r\n    DEBUG [org.hib.eve.int.AbstractFlushingEventListener] (executor-thread-0) Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects\r\n    DEBUG [org.hib.eve.int.AbstractFlushingEventListener] (executor-thread-0) Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections\r\n    DEBUG [org.hib.int.uti.EntityPrinter] (executor-thread-0) Listing entities:\r\n    DEBUG [org.hib.int.uti.EntityPrinter] (executor-thread-0) at....{THE UPDATED DATA}\r\n    DEBUG [at...LoggingInterceptor] (executor-thread-0) at....update() finished\r\n\r\nSo I proofed, if the hibernate session is dirty,\r\n\r\n    boolean before = _session.isDirty();\r\n    _session.merge(valueObject);\r\n    boolean after = _session.isDirty();\r\n\r\nbut also after merging the session is not dirty.","title":"Quarkus-Hibernate-ORM EntityManager.merge() is not updating database","body":"<p>I have a quarkus application with an Entity, and an DAO Class.</p>\n<p>Now I try to update the Entity by calling the merge() function of the EntityManager:</p>\n<pre><code>public void update(final T valueObject) {\n  getEntityManager().merge(valueObject);\n}\n</code></pre>\n<p>The EntityManager is injected:</p>\n<pre><code>@Inject\n@PersistenceUnit(&quot;MY_DB&quot;)\nprotected EntityManager _entityManager;\n</code></pre>\n<p>and the class of the DAO is a <code>@Singleton</code></p>\n<p>When I call <code>update()</code> I get no Exception and there is also no information in the logs, but the database is just not updated. When I perform a <code>persist()</code> or <code>remove()</code> on the entityManager, that works as expected.</p>\n<p>I furher work with transactions:</p>\n<pre><code>@Inject\nprivate EntityDAO entityDao;\n\nQuarkusTransaction.begin();\nentity.setValue(&quot;my value&quot;);\nentityDao.update(entity);\nQuarkusTransaction.commit();\n</code></pre>\n<p>Any ideas what could be the problem on this issue?</p>\n<p><strong>Edit:</strong> Log...</p>\n<pre><code>DEBUG [org.hib.eve.int.AbstractFlushingEventListener] (executor-thread-0) Processing flush-time cascades\nDEBUG [org.hib.eve.int.AbstractFlushingEventListener] (executor-thread-0) Dirty checking collections\nDEBUG [org.hib.eve.int.AbstractFlushingEventListener] (executor-thread-0) Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects\nDEBUG [org.hib.eve.int.AbstractFlushingEventListener] (executor-thread-0) Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections\nDEBUG [org.hib.int.uti.EntityPrinter] (executor-thread-0) Listing entities:\nDEBUG [org.hib.int.uti.EntityPrinter] (executor-thread-0) at....{THE UPDATED DATA}\nDEBUG [at...LoggingInterceptor] (executor-thread-0) at....update() finished\n</code></pre>\n<p>So I proofed, if the hibernate session is dirty,</p>\n<pre><code>boolean before = _session.isDirty();\n_session.merge(valueObject);\nboolean after = _session.isDirty();\n</code></pre>\n<p>but also after merging the session is not dirty.</p>\n"},{"tags":["java","spring-mvc","mockito","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":5157043,"reputation":1369,"user_id":4130003,"display_name":"johnnyutts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664301358,"creation_date":1664301358,"answer_id":73871900,"question_id":73871553,"body_markdown":"The order list that you return has all three orders in it so it&#39;s always going to return all of them. If you are mocking the behaviour then just add orders 1 and 3\r\n```\r\nList&lt;Order&gt; orderList = new ArrayList&lt;&gt;();\r\n\r\nOrder order1 = new Order(1, 1, 11.0, &quot;Pending&quot;);\r\nOrder order2 = new Order(2, 2, 12.0, &quot;Cancelled&quot;);\r\nOrder order3 = new Order(3, 1, 13.0, &quot;Shipped&quot;);\r\n\r\norderList.add(order1);\r\norderList.add(order3);\r\n```","title":"Test Get method using MockMvc and Mockito","body":"<p>The order list that you return has all three orders in it so it's always going to return all of them. If you are mocking the behaviour then just add orders 1 and 3</p>\n<pre><code>List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();\n\nOrder order1 = new Order(1, 1, 11.0, &quot;Pending&quot;);\nOrder order2 = new Order(2, 2, 12.0, &quot;Cancelled&quot;);\nOrder order3 = new Order(3, 1, 13.0, &quot;Shipped&quot;);\n\norderList.add(order1);\norderList.add(order3);\n</code></pre>\n"}],"owner":{"account_id":22048796,"reputation":31,"user_id":16313394,"display_name":"Kim Gordon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664301358,"creation_date":1664299404,"question_id":73871553,"body_markdown":"I&#39;m working on writing test case using MockMvc and Mokito.\r\n\r\nAssume I have a list of order:\r\n\r\n    {\r\n       {\r\n        &quot;order_id&quot;: 1,\r\n        &quot;user_id&quot;: 1,\r\n        &quot;price&quot;: 11.0,\r\n        &quot;order_status&quot;: &quot;Pending&quot;,\r\n       },\r\n        {\r\n        &quot;order_id&quot;: 2,\r\n        &quot;user_id&quot;: 2,\r\n        &quot;price&quot;: 12.0,\r\n        &quot;order_status&quot;: &quot;Cancelled&quot;,\r\n       }, \r\n       {\r\n        &quot;order_id&quot;: 3,\r\n        &quot;user_id&quot;: 1,\r\n        &quot;price&quot;: 13.0,\r\n        &quot;order_status&quot;: &quot;Delivered&quot;,\r\n       },\r\n    }\r\n\r\nThe column **order_id** is **unique** since I set it as primary key. But one user can have multiple orders so the column user_id can appear multiple times.\r\n\r\nWhen I tried the endpoint `/api/order/getOrders/user/{user_id}` in **Postman** (For example, I set user_id = 1). The response is exactly same what I expected:\r\n\r\n    {\r\n       {\r\n        &quot;order_id&quot;: 1,\r\n        &quot;user_id&quot;: 1,\r\n        &quot;price&quot;: 11.0,\r\n        &quot;order_status&quot;: &quot;Pending&quot;,\r\n       },\r\n       {\r\n        &quot;order_id&quot;: 3,\r\n        &quot;user_id&quot;: 1,\r\n        &quot;price&quot;: 13.0,\r\n        &quot;order_status&quot;: &quot;Delivered&quot;,\r\n       },\r\n    }\r\n\r\nHowever, when I tried to write the unit test case using MockMvc and Mockito. It always return all the orders. Here is my code:\r\n\r\n    List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();\r\n\r\n    Order order1 = new Order(1, 1, 11.0, &quot;Pending&quot;);\r\n    Order order2 = new Order(2, 2, 12.0, &quot;Cancelled&quot;);\r\n    Order order3 = new Order(3, 1, 13.0, &quot;Shipped&quot;);\r\n\r\n    orderList.add(order1);\r\n    orderList.add(order2);\r\n    orderList.add(order3);\r\n\r\n    Mockito.when(orderService.getOrdersUserId(1)).thenReturn(orderList);\r\n    mockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/order/getOrders/user/{user_id}&quot;, 1).contentType(MediaType.APPLICATION_JSON))\r\n            .andExpect(status().isOk())\r\n            .andDo(print())\r\n            .andExpect(jsonPath(&quot;$&quot;, hasSize(2)));\r\n\r\nThe test is failed because the response include all 3 items. I believe that I was wrong by using `thenReturn(orderList)` but I have no idea to fix it.\r\nCan someone let me know how can I fix it, please?\r\n\r\n\r\n","title":"Test Get method using MockMvc and Mockito","body":"<p>I'm working on writing test case using MockMvc and Mokito.</p>\n<p>Assume I have a list of order:</p>\n<pre><code>{\n   {\n    &quot;order_id&quot;: 1,\n    &quot;user_id&quot;: 1,\n    &quot;price&quot;: 11.0,\n    &quot;order_status&quot;: &quot;Pending&quot;,\n   },\n    {\n    &quot;order_id&quot;: 2,\n    &quot;user_id&quot;: 2,\n    &quot;price&quot;: 12.0,\n    &quot;order_status&quot;: &quot;Cancelled&quot;,\n   }, \n   {\n    &quot;order_id&quot;: 3,\n    &quot;user_id&quot;: 1,\n    &quot;price&quot;: 13.0,\n    &quot;order_status&quot;: &quot;Delivered&quot;,\n   },\n}\n</code></pre>\n<p>The column <strong>order_id</strong> is <strong>unique</strong> since I set it as primary key. But one user can have multiple orders so the column user_id can appear multiple times.</p>\n<p>When I tried the endpoint <code>/api/order/getOrders/user/{user_id}</code> in <strong>Postman</strong> (For example, I set user_id = 1). The response is exactly same what I expected:</p>\n<pre><code>{\n   {\n    &quot;order_id&quot;: 1,\n    &quot;user_id&quot;: 1,\n    &quot;price&quot;: 11.0,\n    &quot;order_status&quot;: &quot;Pending&quot;,\n   },\n   {\n    &quot;order_id&quot;: 3,\n    &quot;user_id&quot;: 1,\n    &quot;price&quot;: 13.0,\n    &quot;order_status&quot;: &quot;Delivered&quot;,\n   },\n}\n</code></pre>\n<p>However, when I tried to write the unit test case using MockMvc and Mockito. It always return all the orders. Here is my code:</p>\n<pre><code>List&lt;Order&gt; orderList = new ArrayList&lt;&gt;();\n\nOrder order1 = new Order(1, 1, 11.0, &quot;Pending&quot;);\nOrder order2 = new Order(2, 2, 12.0, &quot;Cancelled&quot;);\nOrder order3 = new Order(3, 1, 13.0, &quot;Shipped&quot;);\n\norderList.add(order1);\norderList.add(order2);\norderList.add(order3);\n\nMockito.when(orderService.getOrdersUserId(1)).thenReturn(orderList);\nmockMvc.perform(MockMvcRequestBuilders.get(&quot;/api/order/getOrders/user/{user_id}&quot;, 1).contentType(MediaType.APPLICATION_JSON))\n        .andExpect(status().isOk())\n        .andDo(print())\n        .andExpect(jsonPath(&quot;$&quot;, hasSize(2)));\n</code></pre>\n<p>The test is failed because the response include all 3 items. I believe that I was wrong by using <code>thenReturn(orderList)</code> but I have no idea to fix it.\nCan someone let me know how can I fix it, please?</p>\n"},{"tags":["java","azure","azureservicebus"],"answers":[{"tags":[],"owner":{"account_id":9418019,"reputation":24311,"user_id":7005159,"display_name":"Tom Sun"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1538096346,"creation_date":1538096346,"answer_id":52546908,"question_id":52540897,"body_markdown":"&gt;I&#39;ve referenced doesn&#39;t have any of those classes (QueueDescription or ManagementClientAsync).\n&gt;\n&gt;However this class seem not to be part of azure-core or azure-servicebus librairy and I can seem to find which lib to add to the project to have access to those class.\n\nYou mentioned `QueueDescription` or `ManagementClientAsync` seems only available in the [2.0.0-PREVIEW version][1]. Please have a try to use the following dependency.\n \n\n    &lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/azure-servicebus --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;azure-servicebus&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0-PREVIEW-5&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n**Demo code:**\n\n    String connectionString = &quot;Endpoint=sb://xxxx.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=xxxxxx&quot;;\n    ConnectionStringBuilder connectionStringBuilder = new ConnectionStringBuilder(connectionString);\n    ManagementClient client = new ManagementClient(connectionStringBuilder);\n    if(!client.queueExists(&quot;queueName&quot;))\n    {\n        QueueDescription queue = client.createQueue(&quot;queueName&quot;);\n    }\n\n\n\n\n\n\n\n  [1]: https://mvnrepository.com/artifact/com.microsoft.azure/azure-servicebus/2.0.0-PREVIEW-5\n\n","title":"How to create a Queue in Azure Service Bus using Java?","body":"<blockquote>\n<p>I've referenced doesn't have any of those classes (QueueDescription or ManagementClientAsync).</p>\n<p>However this class seem not to be part of azure-core or azure-servicebus librairy and I can seem to find which lib to add to the project to have access to those class.</p>\n</blockquote>\n<p>You mentioned <code>QueueDescription</code> or <code>ManagementClientAsync</code> seems only available in the <a href=\"https://mvnrepository.com/artifact/com.microsoft.azure/azure-servicebus/2.0.0-PREVIEW-5\" rel=\"nofollow noreferrer\">2.0.0-PREVIEW version</a>. Please have a try to use the following dependency.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/com.microsoft.azure/azure-servicebus --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-servicebus&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-PREVIEW-5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Demo code:</strong></p>\n<pre><code>String connectionString = &quot;Endpoint=sb://xxxx.servicebus.windows.net/;SharedAccessKeyName=RootManageSharedAccessKey;SharedAccessKey=xxxxxx&quot;;\nConnectionStringBuilder connectionStringBuilder = new ConnectionStringBuilder(connectionString);\nManagementClient client = new ManagementClient(connectionStringBuilder);\nif(!client.queueExists(&quot;queueName&quot;))\n{\n    QueueDescription queue = client.createQueue(&quot;queueName&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18895932,"reputation":3508,"user_id":13785121,"display_name":"Abhinaba Chakraborty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664300040,"creation_date":1664300040,"answer_id":73871678,"question_id":52540897,"body_markdown":"Please note that the above mentioned library `com.microsoft.azure:azure-servicebus` is deprecated and it is encouraged to use the newer `com.azure:azure-messaging-servicebus` library as of December 2020.\r\n\r\nAs per the new library, the process to create a servicebus queue is as follows:\r\n\r\n```\r\nServiceBusAdministrationClient sbAdminClient =  new ServiceBusAdministrationClientBuilder()\r\n        .connectionString(servicebusConnString).buildClient();\r\n    String queueName = &quot;my-queue&quot;;\r\n    if(!sbAdminClient.getQueueExists(queueName))\r\n    {\r\n      CreateQueueOptions queueOptions =\r\n          new CreateQueueOptions().setMaxSizeInMegabytes(1024)\r\n              .setMaxDeliveryCount(10)\r\n              .setDefaultMessageTimeToLive(Duration.ofDays(1))\r\n              .setLockDuration(Duration.ofSeconds(10))\r\n              .setDeadLetteringOnMessageExpiration(true)\r\n              .setPartitioningEnabled(true);\r\n      sbAdminClient.createQueue(queueName,queueOptions);\r\n    }\r\n```","title":"How to create a Queue in Azure Service Bus using Java?","body":"<p>Please note that the above mentioned library <code>com.microsoft.azure:azure-servicebus</code> is deprecated and it is encouraged to use the newer <code>com.azure:azure-messaging-servicebus</code> library as of December 2020.</p>\n<p>As per the new library, the process to create a servicebus queue is as follows:</p>\n<pre><code>ServiceBusAdministrationClient sbAdminClient =  new ServiceBusAdministrationClientBuilder()\n        .connectionString(servicebusConnString).buildClient();\n    String queueName = &quot;my-queue&quot;;\n    if(!sbAdminClient.getQueueExists(queueName))\n    {\n      CreateQueueOptions queueOptions =\n          new CreateQueueOptions().setMaxSizeInMegabytes(1024)\n              .setMaxDeliveryCount(10)\n              .setDefaultMessageTimeToLive(Duration.ofDays(1))\n              .setLockDuration(Duration.ofSeconds(10))\n              .setDeadLetteringOnMessageExpiration(true)\n              .setPartitioningEnabled(true);\n      sbAdminClient.createQueue(queueName,queueOptions);\n    }\n</code></pre>\n"}],"owner":{"account_id":1273048,"reputation":1854,"user_id":1228906,"accept_rate":34,"display_name":"webber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1020,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52546908,"answer_count":2,"score":1,"last_activity_date":1664300040,"creation_date":1538063853,"question_id":52540897,"body_markdown":"I need to provision a Service Bus queue from code but I can&#39;t seem to find any details on how to do it. The Azure Service bus library has a unit test that is creating the queue ([link][1]) but the maven library I&#39;ve referenced  doesn&#39;t have any of those classes (QueueDescription or ManagementClientAsync). \r\n\r\nHas anyone tried creating a queue dynamically from java?\r\n\r\nMaven:\r\n\r\n    &lt;dependency&gt; \r\n      &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt; \r\n      &lt;artifactId&gt;azure-servicebus&lt;/artifactId&gt; \r\n      &lt;version&gt;1.2.5&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://github.com/Azure/azure-service-bus-java/blob/dev/azure-servicebus/src/test/java/com/microsoft/azure/servicebus/ManagementTests.java\r\n","title":"How to create a Queue in Azure Service Bus using Java?","body":"<p>I need to provision a Service Bus queue from code but I can't seem to find any details on how to do it. The Azure Service bus library has a unit test that is creating the queue (<a href=\"https://github.com/Azure/azure-service-bus-java/blob/dev/azure-servicebus/src/test/java/com/microsoft/azure/servicebus/ManagementTests.java\" rel=\"nofollow noreferrer\">link</a>) but the maven library I've referenced  doesn't have any of those classes (QueueDescription or ManagementClientAsync). </p>\n\n<p>Has anyone tried creating a queue dynamically from java?</p>\n\n<p>Maven:</p>\n\n<pre><code>&lt;dependency&gt; \n  &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt; \n  &lt;artifactId&gt;azure-servicebus&lt;/artifactId&gt; \n  &lt;version&gt;1.2.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","math","floating-point"],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1664299765,"creation_date":1664298927,"answer_id":73871465,"question_id":73871349,"body_markdown":"This is entirely normal for floating point maths. Both `int` and `float` are 32-bit values. `float` only has about 7 significant digits of precision, because it uses some of the bits for scale. As you get to large values, &quot;adjacent&quot; `float` values (i.e. going from one precisely-representable value to the next one up) are more than 1 apart - so any integer between those two adjacent values *can&#39;t* be represented precisely as a `float`.\r\n\r\nAnother way of looking at this is a version of the [pigeonhole principle](https://en.wikipedia.org/wiki/Pigeonhole_principle):\r\n\r\n- Both `float` and `int` have 2^32 possible bit patterns\r\n- There&#39;s a valid mapping from every `int` to a `float` value\r\n- *Every* bit pattern is a valid `int`, so there are 2^32 possible integer values\r\n- `float` also contains the value 1.5 (and many other non-integers, but we only need one of them to prove the point)\r\n- Therefore *at least two* `int` values must map to the same `float`, which means the mapping *cannot* be reversible in every case\r\n\r\nNote that if you use `double`, you&#39;re fine - every `int` can be cast to `double` and then cast back to `int`, and you&#39;ll get the original value. However, using `double` and `long` (instead of `int`) you get the same problem, for the same reason, but using 64 bits instead of 32.","title":"Java int cast to float cast to int does not equal original int","body":"<p>This is entirely normal for floating point maths. Both <code>int</code> and <code>float</code> are 32-bit values. <code>float</code> only has about 7 significant digits of precision, because it uses some of the bits for scale. As you get to large values, &quot;adjacent&quot; <code>float</code> values (i.e. going from one precisely-representable value to the next one up) are more than 1 apart - so any integer between those two adjacent values <em>can't</em> be represented precisely as a <code>float</code>.</p>\n<p>Another way of looking at this is a version of the <a href=\"https://en.wikipedia.org/wiki/Pigeonhole_principle\" rel=\"noreferrer\">pigeonhole principle</a>:</p>\n<ul>\n<li>Both <code>float</code> and <code>int</code> have 2^32 possible bit patterns</li>\n<li>There's a valid mapping from every <code>int</code> to a <code>float</code> value</li>\n<li><em>Every</em> bit pattern is a valid <code>int</code>, so there are 2^32 possible integer values</li>\n<li><code>float</code> also contains the value 1.5 (and many other non-integers, but we only need one of them to prove the point)</li>\n<li>Therefore <em>at least two</em> <code>int</code> values must map to the same <code>float</code>, which means the mapping <em>cannot</em> be reversible in every case</li>\n</ul>\n<p>Note that if you use <code>double</code>, you're fine - every <code>int</code> can be cast to <code>double</code> and then cast back to <code>int</code>, and you'll get the original value. However, using <code>double</code> and <code>long</code> (instead of <code>int</code>) you get the same problem, for the same reason, but using 64 bits instead of 32.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664299300,"creation_date":1664299300,"answer_id":73871531,"question_id":73871349,"body_markdown":"&gt; How does this casting conversion math work?\r\n\r\nCasting an `int` to a `float` works the same way any float operation works: Do the math (which in this case is nothing - just take the int as is), then convert it to the &#39;nearest representable float&#39; - that float which is closer to the result of the calculation than any other.\r\n\r\nWhy is it &#39;lossy&#39;? See the other answer.\r\n\r\nWhat&#39;s the math behind which floats are representable? [Wikipedia&#39;s page on IEEE754 floating point representation](https://en.wikipedia.org/wiki/Single-precision_floating-point_format) explains that.\r\n","title":"Java int cast to float cast to int does not equal original int","body":"<blockquote>\n<p>How does this casting conversion math work?</p>\n</blockquote>\n<p>Casting an <code>int</code> to a <code>float</code> works the same way any float operation works: Do the math (which in this case is nothing - just take the int as is), then convert it to the 'nearest representable float' - that float which is closer to the result of the calculation than any other.</p>\n<p>Why is it 'lossy'? See the other answer.</p>\n<p>What's the math behind which floats are representable? <a href=\"https://en.wikipedia.org/wiki/Single-precision_floating-point_format\" rel=\"nofollow noreferrer\">Wikipedia's page on IEEE754 floating point representation</a> explains that.</p>\n"}],"owner":{"account_id":14302904,"reputation":167,"user_id":10331792,"display_name":"AJ_4real"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73871465,"answer_count":2,"score":1,"last_activity_date":1664299765,"creation_date":1664298300,"question_id":73871349,"body_markdown":"Using this snippet:\r\n```\r\n    public static void main(String[] args){\r\n        int i = XXX;\r\n        System.out.println( (int) ( (float) i ) );\r\n    }\r\n```\r\n\r\nIf `int i = 1234;` then the output is `1234`\r\n\r\nIf `int i = Integer.MAX_VALUE;` then the output is equal to `Integer.MAX_VALUE`\r\n\r\nHowever, if `int i = 1234567990;`, then the output is `1234567936`, which is not equal to `i`.\r\n\r\nAnd if `int i = 1235567990;`, then the output is `1235568000`, which is also not equal to `i`.\r\n\r\nHow does this casting conversion math work?\r\n","title":"Java int cast to float cast to int does not equal original int","body":"<p>Using this snippet:</p>\n<pre><code>    public static void main(String[] args){\n        int i = XXX;\n        System.out.println( (int) ( (float) i ) );\n    }\n</code></pre>\n<p>If <code>int i = 1234;</code> then the output is <code>1234</code></p>\n<p>If <code>int i = Integer.MAX_VALUE;</code> then the output is equal to <code>Integer.MAX_VALUE</code></p>\n<p>However, if <code>int i = 1234567990;</code>, then the output is <code>1234567936</code>, which is not equal to <code>i</code>.</p>\n<p>And if <code>int i = 1235567990;</code>, then the output is <code>1235568000</code>, which is also not equal to <code>i</code>.</p>\n<p>How does this casting conversion math work?</p>\n"},{"tags":["java","html","javadoc"],"answers":[{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1359206867,"creation_date":1359206867,"answer_id":14537381,"question_id":14537311,"body_markdown":"From [the W3C on TT](http://www.w3.org/wiki/HTML/Elements/tt).\n\n&gt;  **HTML Reference**\n&gt;\n&gt; The &lt;tt&gt; element is a non-standard element.\n&gt;\n&gt; HTML5 classifies it as a non-conforming feature.\n&gt;\n&gt; **Examples**\n&gt;\n&gt; No, really, don&#39;t use it. \n\nAnd I think that answers the question.  Choice of 2 elements, W3C says do not use one of them.","title":"&lt;tt&gt; vs &lt;code&gt; elements when writing Java docs","body":"<p>From <a href=\"http://www.w3.org/wiki/HTML/Elements/tt\" rel=\"noreferrer\">the W3C on TT</a>.</p>\n<blockquote>\n<p><strong>HTML Reference</strong></p>\n<p>The  element is a non-standard element.</p>\n<p>HTML5 classifies it as a non-conforming feature.</p>\n<p><strong>Examples</strong></p>\n<p>No, really, don't use it.</p>\n</blockquote>\n<p>And I think that answers the question.  Choice of 2 elements, W3C says do not use one of them.</p>\n"},{"tags":[],"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1359207004,"creation_date":1359207004,"answer_id":14537407,"question_id":14537311,"body_markdown":"The code tag is preferred as tt is a font style element and as of HTML 4, styling by style sheets is preferred to font style elements.","title":"&lt;tt&gt; vs &lt;code&gt; elements when writing Java docs","body":"<p>The code tag is preferred as tt is a font style element and as of HTML 4, styling by style sheets is preferred to font style elements.</p>\n"},{"tags":[],"owner":{"account_id":136796,"reputation":14752,"user_id":340556,"accept_rate":88,"display_name":"Cephalopod"},"down_vote_count":1,"up_vote_count":36,"is_accepted":true,"score":35,"last_activity_date":1464809415,"creation_date":1359208953,"answer_id":14537631,"question_id":14537311,"body_markdown":"For inline code in Javadocs,you should use `{@code your-code-here}`\n\nSee [javadoc  - `{@code text}`][1] for more details.\n\n&gt; Equivalent to `&lt;code&gt;{@literal text}&lt;/code&gt;`.\n&gt;\n&gt; Displays *text* in `code` font without interpreting the text as HTML markup or nested javadoc tags. ..\n\n\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html#%7B@code%7D ","title":"&lt;tt&gt; vs &lt;code&gt; elements when writing Java docs","body":"<p>For inline code in Javadocs,you should use <code>{@code your-code-here}</code></p>\n<p>See <a href=\"http://docs.oracle.com/javase/1.5.0/docs/tooldocs/windows/javadoc.html#%7B@code%7D\" rel=\"noreferrer\">javadoc  - <code>{@code text}</code></a> for more details.</p>\n<blockquote>\n<p>Equivalent to <code>&lt;code&gt;{@literal text}&lt;/code&gt;</code>.</p>\n<p>Displays <em>text</em> in <code>code</code> font without interpreting the text as HTML markup or nested javadoc tags. ..</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1089467,"reputation":196749,"user_id":1084437,"display_name":"Jukka K. Korpela"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1359220987,"creation_date":1359220987,"answer_id":14539492,"question_id":14537311,"body_markdown":"There is little practical difference between `code` and `tt`, i.e. software that processes HTML documents treats them the same way: they are by default treated as inline elements, rendered in a browser-dependent monospace font and possibly (depending on browser) in reduced font size. A distinction between them is mostly just theoretic talk. However, some automatic translation software makes a difference, treating `code` as having non-translatable content.\r\n\r\nSo there is some advantage in using `code`, but it is more important that you consider the real implications of either markup. If you don’t want reduced font size, set `font-size: 100%`. If you don’t want browser’s default monospace, which tends to be Courier New, set `font-family`.","title":"&lt;tt&gt; vs &lt;code&gt; elements when writing Java docs","body":"<p>There is little practical difference between <code>code</code> and <code>tt</code>, i.e. software that processes HTML documents treats them the same way: they are by default treated as inline elements, rendered in a browser-dependent monospace font and possibly (depending on browser) in reduced font size. A distinction between them is mostly just theoretic talk. However, some automatic translation software makes a difference, treating <code>code</code> as having non-translatable content.</p>\n\n<p>So there is some advantage in using <code>code</code>, but it is more important that you consider the real implications of either markup. If you don’t want reduced font size, set <code>font-size: 100%</code>. If you don’t want browser’s default monospace, which tends to be Courier New, set <code>font-family</code>.</p>\n"},{"tags":[],"owner":{"account_id":1065188,"reputation":680,"user_id":1065953,"display_name":"Martin P."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664299190,"creation_date":1664299190,"answer_id":73871508,"question_id":14537311,"body_markdown":"To provide more information about the subject:\r\n\r\nIn my case I added an [ASCII flow][1] in my class javadoc and I had to use this to keep a monospace rendering:\r\n\r\n    /**\r\n     * &lt;pre&gt;{@code \r\n     * flow here\r\n     * }&lt;/pre&gt;\r\n     */\r\n\r\nI just verify it in my IDE popup. I guess it will work in an HTML page...\r\n\r\n  [1]: https://asciiflow.com","title":"&lt;tt&gt; vs &lt;code&gt; elements when writing Java docs","body":"<p>To provide more information about the subject:</p>\n<p>In my case I added an <a href=\"https://asciiflow.com\" rel=\"nofollow noreferrer\">ASCII flow</a> in my class javadoc and I had to use this to keep a monospace rendering:</p>\n<pre><code>/**\n * &lt;pre&gt;{@code \n * flow here\n * }&lt;/pre&gt;\n */\n</code></pre>\n<p>I just verify it in my IDE popup. I guess it will work in an HTML page...</p>\n"}],"owner":{"account_id":1658137,"reputation":26719,"user_id":1527084,"accept_rate":81,"display_name":"Geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12735,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":14537631,"answer_count":5,"score":32,"last_activity_date":1664299190,"creation_date":1359206256,"question_id":14537311,"body_markdown":"To represent `keywords` while writing  Java Docs  should I use the `&lt;code&gt;` element or the `&lt;tt&gt;` element? Are there specific situations when one should be preferred over the other?","title":"&lt;tt&gt; vs &lt;code&gt; elements when writing Java docs","body":"<p>To represent <code>keywords</code> while writing  Java Docs  should I use the <code>&lt;code&gt;</code> element or the <code>&lt;tt&gt;</code> element? Are there specific situations when one should be preferred over the other?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":6,"creation_date":1376090430,"post_id":18157064,"comment_id":26596786,"body_markdown":"There is no Java prototype keyword. He&#39;s saying prototype in the English language usage, meaning a model from which things can be made.","body":"There is no Java prototype keyword. He&#39;s saying prototype in the English language usage, meaning a model from which things can be made."},{"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"score":2,"creation_date":1376090507,"post_id":18157064,"comment_id":26596804,"body_markdown":"It comes from two greek words, &quot;proto&quot; meaning first, and &quot;typ&quot; meaning a model to be used for making copies.","body":"It comes from two greek words, &quot;proto&quot; meaning first, and &quot;typ&quot; meaning a model to be used for making copies."},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1376090530,"post_id":18157064,"comment_id":26596809,"body_markdown":"&quot;Prototype&quot; is not a thing in Java.  He&#39;s probably referring to the [concept in C/C++/etc.](http://en.wikipedia.org/wiki/Function_prototype).","body":"&quot;Prototype&quot; is not a thing in Java.  He&#39;s probably referring to the <a href=\"http://en.wikipedia.org/wiki/Function_prototype\" rel=\"nofollow noreferrer\">concept in C/C++/etc.</a>."},{"owner":{"account_id":1391389,"reputation":408,"user_id":1322142,"accept_rate":60,"display_name":"jac1013"},"score":0,"creation_date":1376091285,"post_id":18157064,"comment_id":26597012,"body_markdown":"first time i see the use of the word &quot;prototype&quot; for defining Interfaces, the term i have read in many books is &quot;contract&quot; as &quot;Interfaces are the bussiness contract that your classes must implement if they of course `implements` it&quot;","body":"first time i see the use of the word &quot;prototype&quot; for defining Interfaces, the term i have read in many books is &quot;contract&quot; as &quot;Interfaces are the bussiness contract that your classes must implement if they of course <code>implements</code> it&quot;"},{"owner":{"account_id":113085,"reputation":18448,"user_id":298029,"display_name":"fgb"},"score":0,"creation_date":1376094201,"post_id":18157064,"comment_id":26597528,"body_markdown":"&quot;Interface&quot; has different meanings too. &quot;Interface of a class&quot; implies that he&#39;s referring to a more general concept than the interface construct in Java.","body":"&quot;Interface&quot; has different meanings too. &quot;Interface of a class&quot; implies that he&#39;s referring to a more general concept than the interface construct in Java."}],"answers":[{"tags":[],"owner":{"account_id":424976,"reputation":18834,"user_id":805284,"accept_rate":100,"display_name":"sjas"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521320347,"creation_date":1376091471,"answer_id":18157188,"question_id":18157064,"body_markdown":"&quot;prototype&quot; is not the the best/right terminus to be used. `interfaces` are more like &quot;contracts&quot;, that implementing classes have to fulfill.\r\n\r\nThe method&#39;s heads/definitions will have to be implemented in the implementing class (using `implements` keyword in the class head/class definition/`public class xy implements ...`).\r\n\r\nI guess this naming conventions leave much room for many ideological debates.\r\n\r\nOr the author had some sort of a mental lapsus and mapped the construct of prototypical inheritance from javascript into java in his mind somehow.","title":"Java - what is a a prototype?","body":"<p>\"prototype\" is not the the best/right terminus to be used. <code>interfaces</code> are more like \"contracts\", that implementing classes have to fulfill.</p>\n\n<p>The method's heads/definitions will have to be implemented in the implementing class (using <code>implements</code> keyword in the class head/class definition/<code>public class xy implements ...</code>).</p>\n\n<p>I guess this naming conventions leave much room for many ideological debates.</p>\n\n<p>Or the author had some sort of a mental lapsus and mapped the construct of prototypical inheritance from javascript into java in his mind somehow.</p>\n"},{"tags":[],"owner":{"account_id":16836,"reputation":2308,"user_id":37110,"accept_rate":70,"display_name":"BeWarned"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1376091495,"creation_date":1376091495,"answer_id":18157191,"question_id":18157064,"body_markdown":"I think the use of the word prototype in this context is unfortunate, some languages like JavaScript use something called prototypical inheritance which is totally different than what is being discussed in the lecture. I think the word &#39;contract&#39; would be more appropriate.  A Java interface is a language feature that allows the author of a class to declare that any concrete implementations of that class will provide implementations of all methods declared in any interfaces they implement.\r\n\r\nIt is used to allow Java classes to form several is-a relationships without resorting to multiple inheritance (not allowed in Java).  You could have a Car class the inherits from a Vehicle class but implements a Product interface, therefor the Car is both a Vehicle and a Product.\r\n\r\n\r\n\r\n\r\n ","title":"Java - what is a a prototype?","body":"<p>I think the use of the word prototype in this context is unfortunate, some languages like JavaScript use something called prototypical inheritance which is totally different than what is being discussed in the lecture. I think the word 'contract' would be more appropriate.  A Java interface is a language feature that allows the author of a class to declare that any concrete implementations of that class will provide implementations of all methods declared in any interfaces they implement.</p>\n\n<p>It is used to allow Java classes to form several is-a relationships without resorting to multiple inheritance (not allowed in Java).  You could have a Car class the inherits from a Vehicle class but implements a Product interface, therefor the Car is both a Vehicle and a Product.</p>\n"},{"tags":[],"owner":{"account_id":1345052,"reputation":1692,"user_id":1285973,"display_name":"Vishnuprasad R"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376091546,"creation_date":1376091546,"answer_id":18157198,"question_id":18157064,"body_markdown":"Interfaces are not prototypes for classes in Java.\r\n\r\nIn languages like C &amp; C++, which compiles to machine code sirectly, compiler should be aware of the nature of any identifier (variable/class/functions) before they are references anywhere in the program. That mean those languages require to know the nature of the identifier to generate a machine code output that is related to it.\r\n\r\nIn simple words, C++ compiler should be aware of methods and member of a class before that class is used anywhere in the code. To accomplish that, you should define the class before the code line where it is used, or you should at least declare its nature. Declaring only the nature of a function or a class creates a &#39;prototype&#39;.\r\n\r\n\r\nIn Java, an &#39;interface&#39; is something like description of a class. This defines what all methods a particular kind of class should mandatory have. You can then create classes that implements those interface. Main purpose that interfaces serve in java is the possibility that a Variable declared as of a particular interface type can hold objects of any class that implements the object.\r\n\r\n","title":"Java - what is a a prototype?","body":"<p>Interfaces are not prototypes for classes in Java.</p>\n\n<p>In languages like C &amp; C++, which compiles to machine code sirectly, compiler should be aware of the nature of any identifier (variable/class/functions) before they are references anywhere in the program. That mean those languages require to know the nature of the identifier to generate a machine code output that is related to it.</p>\n\n<p>In simple words, C++ compiler should be aware of methods and member of a class before that class is used anywhere in the code. To accomplish that, you should define the class before the code line where it is used, or you should at least declare its nature. Declaring only the nature of a function or a class creates a 'prototype'.</p>\n\n<p>In Java, an 'interface' is something like description of a class. This defines what all methods a particular kind of class should mandatory have. You can then create classes that implements those interface. Main purpose that interfaces serve in java is the possibility that a Variable declared as of a particular interface type can hold objects of any class that implements the object.</p>\n"},{"tags":[],"owner":{"account_id":2188609,"reputation":3007,"user_id":1936366,"display_name":"Onur A."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376091601,"creation_date":1376091601,"answer_id":18157207,"question_id":18157064,"body_markdown":"He tells it in `C/C++` way, let me explain, in `C++` you can define prototypes for methods at the header files of classes so that other classes can recognize these methods, also in `C` where there is no class concept, you can define prototypes at the beginning of file and then at somewhere in same file you can implement these prototypes, so that methods can be used even before their implementation is provided. So in `Java` interfaces provide pretty much same way, you can define prototypes for methods(method headers) that will be implemented by classes that implement this interface.","title":"Java - what is a a prototype?","body":"<p>He tells it in <code>C/C++</code> way, let me explain, in <code>C++</code> you can define prototypes for methods at the header files of classes so that other classes can recognize these methods, also in <code>C</code> where there is no class concept, you can define prototypes at the beginning of file and then at somewhere in same file you can implement these prototypes, so that methods can be used even before their implementation is provided. So in <code>Java</code> interfaces provide pretty much same way, you can define prototypes for methods(method headers) that will be implemented by classes that implement this interface.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1376096047,"creation_date":1376096047,"answer_id":18157610,"question_id":18157064,"body_markdown":"&gt; What does &quot;prototype&quot; mean in Java in the above context?\r\n\r\nThe word &quot;prototype&quot; is not standard Java terminology.  It is not used in the JLS, and it is not mentioned in the [Java Tutorial Glossary][1].  In short there is no Java specific meaning.\r\n\r\nYour lecturer is using this word in a broader sense rather than a Java-specific sense.  In fact, his usage matches &quot;function prototype&quot; as described in [this Wikipedia page][2].\r\n\r\n------------------------\r\n\r\nUnfortunately, the &quot;IT English&quot; language is full of examples where a word or phrase means different (and sometimes contradictory) things in different contexts.  There are *other* meanings for &quot;template&quot; that you will come across in IT.  For instance:\r\n\r\n  - In C++ &quot;template&quot; refers to what Java calls a generic class or method.\r\n\r\n  - In Javascript, an object has a &quot;template&quot; attribute that gives the objects methods.\r\n\r\n  - More generally, template-based typing is an alternative (more dynamic) way of doing OO typing.\r\n\r\nBut the fact that these meanings exist does not mean that your lecturer was wrong to refer to interface method signatures as &quot;templates&quot;.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/information/glossary.html#P\r\n  [2]: http://en.wikipedia.org/wiki/Function_prototype","title":"Java - what is a a prototype?","body":"<blockquote>\n  <p>What does \"prototype\" mean in Java in the above context?</p>\n</blockquote>\n\n<p>The word \"prototype\" is not standard Java terminology.  It is not used in the JLS, and it is not mentioned in the <a href=\"http://docs.oracle.com/javase/tutorial/information/glossary.html#P\" rel=\"nofollow\">Java Tutorial Glossary</a>.  In short there is no Java specific meaning.</p>\n\n<p>Your lecturer is using this word in a broader sense rather than a Java-specific sense.  In fact, his usage matches \"function prototype\" as described in <a href=\"http://en.wikipedia.org/wiki/Function_prototype\" rel=\"nofollow\">this Wikipedia page</a>.</p>\n\n<hr>\n\n<p>Unfortunately, the \"IT English\" language is full of examples where a word or phrase means different (and sometimes contradictory) things in different contexts.  There are <em>other</em> meanings for \"template\" that you will come across in IT.  For instance:</p>\n\n<ul>\n<li><p>In C++ \"template\" refers to what Java calls a generic class or method.</p></li>\n<li><p>In Javascript, an object has a \"template\" attribute that gives the objects methods.</p></li>\n<li><p>More generally, template-based typing is an alternative (more dynamic) way of doing OO typing.</p></li>\n</ul>\n\n<p>But the fact that these meanings exist does not mean that your lecturer was wrong to refer to interface method signatures as \"templates\".</p>\n"},{"tags":[],"owner":{"display_name":"user1630938"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1394355350,"creation_date":1394350080,"answer_id":22279540,"question_id":18157064,"body_markdown":"_In a lecture on Java, a computer science professor states that:_\r\n\r\n&gt; Java **interfaces of a class** are:  \r\n&gt; 1. are prototypes for public methods,  \r\n&gt; 2. plus descriptions of their behaviors.  \r\n\r\n For 1. Is ok: - yes, they are prototypes for implemented public methods of a class.  \r\n For 2. This part could be a little bit tricky. :)\r\n \r\n - why?\r\n - we know: interface definition (contain prototypes), but doesn&#39;t define (describe) methods behavior.  \r\n - computer science professor states: &quot;... plus descriptions of their behaviors.&quot;. This is correct only if we look inside class that implements that interface (interface implementation = prototype definitions or descriptions). \r\n\r\n&gt; Yes, a little bit tricky to understand :) \r\n\r\n_Bibliography:_  \r\n[Definition vs Description](http://en.wikipedia.org/wiki/Description)  \r\n[Context-dependent](http://en.wikipedia.org/wiki/Context-dependent)  \r\n[Name visibility - C++ Tutorials](http://goo.gl/yPV5a0)\r\n\r\n---\r\n\r\n_ExtraWork:_\r\n\r\n**Note: not tested, just thinking! :)**\r\n\r\nC++:\r\n\r\n    // C++ namespace just with prototypes: \r\n    // could be used like interface similar with Java?\r\n    // hm, could we then define (describe) prototypes?\r\n    // could we then inherit namespace? :)\r\n\r\n    namespace anIntf{\r\n       void politeHello(char *msg);\r\n       void bigThankYou();\r\n    }\r\n\r\n","title":"Java - what is a a prototype?","body":"<p><em>In a lecture on Java, a computer science professor states that:</em></p>\n\n<blockquote>\n  <p>Java <strong>interfaces of a class</strong> are:<br>\n  1. are prototypes for public methods,<br>\n  2. plus descriptions of their behaviors.  </p>\n</blockquote>\n\n<p>For 1. Is ok: - yes, they are prototypes for implemented public methods of a class.<br>\n For 2. This part could be a little bit tricky. :)</p>\n\n<ul>\n<li>why?</li>\n<li>we know: interface definition (contain prototypes), but doesn't define (describe) methods behavior.  </li>\n<li>computer science professor states: \"... plus descriptions of their behaviors.\". This is correct only if we look inside class that implements that interface (interface implementation = prototype definitions or descriptions). </li>\n</ul>\n\n<blockquote>\n  <p>Yes, a little bit tricky to understand :) </p>\n</blockquote>\n\n<p><em>Bibliography:</em><br>\n<a href=\"http://en.wikipedia.org/wiki/Description\" rel=\"nofollow\">Definition vs Description</a><br>\n<a href=\"http://en.wikipedia.org/wiki/Context-dependent\" rel=\"nofollow\">Context-dependent</a><br>\n<a href=\"http://goo.gl/yPV5a0\" rel=\"nofollow\">Name visibility - C++ Tutorials</a></p>\n\n<hr>\n\n<p><em>ExtraWork:</em></p>\n\n<p><strong>Note: not tested, just thinking! :)</strong></p>\n\n<p>C++:</p>\n\n<pre><code>// C++ namespace just with prototypes: \n// could be used like interface similar with Java?\n// hm, could we then define (describe) prototypes?\n// could we then inherit namespace? :)\n\nnamespace anIntf{\n   void politeHello(char *msg);\n   void bigThankYou();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2569041,"reputation":683,"user_id":2228270,"accept_rate":82,"display_name":"libra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456976924,"creation_date":1456976924,"answer_id":35762835,"question_id":18157064,"body_markdown":"Prototypes provide the signatures of the functions you will use\r\nwithin your code. They are somewhat optional, if you can order\r\nyour code such that you only use functions that are previously\r\ndefined then you can get away without defining them\r\n\r\nBelow a prototype for a function that sums two integers is given.\r\n\r\n    int add(int a, int b);","title":"Java - what is a a prototype?","body":"<p>Prototypes provide the signatures of the functions you will use\nwithin your code. They are somewhat optional, if you can order\nyour code such that you only use functions that are previously\ndefined then you can get away without defining them</p>\n\n<p>Below a prototype for a function that sums two integers is given.</p>\n\n<pre><code>int add(int a, int b);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11975165,"reputation":21,"user_id":8768170,"display_name":"Erwin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664298728,"creation_date":1664298728,"answer_id":73871427,"question_id":18157064,"body_markdown":"I found this question because i have the same impression as that teacher.\r\n\r\nIn early C (and C++ i think) a function, for example &quot;a&quot; (something around lexic analysis or syntactic, whatever) can not be called, for example inside main, before it&#39;s declaration, because the compiler doesn&#39;t know it (yet).\r\n\r\nThe way to solve it was, either to declare it before it&#39;s usage (before main in the example), or to create a prototype of it (before main in the example) which just specifies the name, return values and parameters; but not the code of the function itself, leaving this last one for wherever now is placed even after it&#39;s called.\r\n\r\nThese prototypes are basically the contents of the include (.h) files\r\n\r\nSo I think is a way to understand interfaces or the way they say in java &quot;a contract&quot; which states the &quot;header&quot; but not the real body, in this case of a class or methods","title":"Java - what is a a prototype?","body":"<p>I found this question because i have the same impression as that teacher.</p>\n<p>In early C (and C++ i think) a function, for example &quot;a&quot; (something around lexic analysis or syntactic, whatever) can not be called, for example inside main, before it's declaration, because the compiler doesn't know it (yet).</p>\n<p>The way to solve it was, either to declare it before it's usage (before main in the example), or to create a prototype of it (before main in the example) which just specifies the name, return values and parameters; but not the code of the function itself, leaving this last one for wherever now is placed even after it's called.</p>\n<p>These prototypes are basically the contents of the include (.h) files</p>\n<p>So I think is a way to understand interfaces or the way they say in java &quot;a contract&quot; which states the &quot;header&quot; but not the real body, in this case of a class or methods</p>\n"}],"owner":{"account_id":233335,"reputation":7836,"user_id":1267363,"accept_rate":85,"display_name":"davidjhp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22191,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"answer_count":8,"score":7,"last_activity_date":1664298728,"creation_date":1376090356,"question_id":18157064,"body_markdown":"In a lecture on Java, a computer science professor states that Java interfaces of a class are **prototypes** for public methods, plus descriptions of their behaviors.\r\n\r\n![enter image description here][1]&lt;br&gt;\r\n(Source https://www.youtube.com/watch?v=-c4I3gFYe3w @8:47)\r\n\r\nAnd at 8:13 in the video he says go to discussion section with teaching assistants to learn what he means by prototype.\r\n\r\nWhat does &quot;prototype&quot; mean in Java in the above context?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0h96N.png\r\n","title":"Java - what is a a prototype?","body":"<p>In a lecture on Java, a computer science professor states that Java interfaces of a class are <strong>prototypes</strong> for public methods, plus descriptions of their behaviors.</p>\n\n<p><img src=\"https://i.stack.imgur.com/0h96N.png\" alt=\"enter image description here\"><br>\n(Source <a href=\"https://www.youtube.com/watch?v=-c4I3gFYe3w\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=-c4I3gFYe3w</a> @8:47)</p>\n\n<p>And at 8:13 in the video he says go to discussion section with teaching assistants to learn what he means by prototype.</p>\n\n<p>What does \"prototype\" mean in Java in the above context?</p>\n"},{"tags":["java","debugging","intellij-idea"],"answers":[{"tags":[],"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1423683224,"creation_date":1423683224,"answer_id":28462943,"question_id":28462849,"body_markdown":"The is a convention related to non static inner classes.  The bytecode of the inner class will contain a reference to a package-scoped field named `this$0` that allows you to refer to the this object of the enclosing class.  Notice in your example `this$0` is the same as the `Mystery Object this` variable defined above it.","title":"What does it mean if a variable has the name &quot;this$0&quot; in IntelliJ IDEA while debugging Java?","body":"<p>The is a convention related to non static inner classes.  The bytecode of the inner class will contain a reference to a package-scoped field named <code>this$0</code> that allows you to refer to the this object of the enclosing class.  Notice in your example <code>this$0</code> is the same as the <code>Mystery Object this</code> variable defined above it.</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1664298351,"creation_date":1423683243,"answer_id":28462949,"question_id":28462849,"body_markdown":"`this$0` is &quot;hidden field&quot; in `Inner` class (the **non-static** nested class) which is used to hold reference to instance of `Outer` class which was used to create current instance of Inner class.\r\n\r\nIn short when you have \r\n\r\n    Outer outer = new Outer();\r\n    Outer.Inner inner = outer.new Outer.Inner(); \r\n\r\n`Inner` instance held by `inner` will store in its `this$0` field reference to `Outer` instance used to create it (same reference as held by `outer` variable).\r\n\r\nIt is necessary because nested classes must have access to all members of outer classes (including private ones). If we want to be able to write something like `methodFromOuterClass();` in inner class JVM needs to know on which `Outer` instance it should invoke this method. To make it possible compiler &quot;changes&quot; such code to `this$0.methodFromOuterClass()`.\r\n\r\n---\r\nLittle more details and example:\r\n\r\n    public class Outer {\r\n        private int id;\r\n        public Outer(int id) { this.id = id;}\r\n    \r\n    \tpublic class Inner{\r\n            void printOuterID(){\r\n                System.out.println(id); \r\n            }\r\n        }\r\n    }\r\n\r\nNow what will be printed here and why?\r\n\r\n\tOuter o1 = new Outer(1);\r\n\tOuter o2 = new Outer(2);\r\n\tOuter.Inner in1 = o1.new Inner();\r\n\tOuter.Inner in2 = o2.new Inner();\r\n\t\r\n\tin1.printOuterID();\r\n\tin2.printOuterID();\r\n\r\nWe will see \r\n\r\n    1\r\n    2\r\n\r\nbut how `in1` knew that it should print value of `id` from `o1` and not from `o2`?  \r\nIt is because each instance of inner class knows on which instance of outer class was it created. And that is because of `this$0` reference which stores reference to outer instance used to create inner instance.  \r\nThis variable is added to all non-static inner classes by compiler and its value is set when you invoke\r\n\r\n    Outer.Inner in1 = o1.new Inner(); //`this$0` will be set to hold `o1` instance.\r\n\r\nSo code like \r\n\r\n    void printOuterID(){\r\n        System.out.println(id); \r\n      //OR\r\n      //System.out.println(Outer.this.id);\r\n    }\r\n\r\n\r\nis compiled into \r\n\r\n    void printOuterID(){\r\n        System.out.println(this$0.id); //although we can&#39;t access this$0 explicitly\r\n    }\r\n\r\n---\r\n\r\nBTW if your inner class doesn&#39;t need to access non-static members of any of its outer classes you may change it to `static class` which will get rid of `this$0` field.","title":"What does it mean if a variable has the name &quot;this$0&quot; in IntelliJ IDEA while debugging Java?","body":"<p><code>this$0</code> is &quot;hidden field&quot; in <code>Inner</code> class (the <strong>non-static</strong> nested class) which is used to hold reference to instance of <code>Outer</code> class which was used to create current instance of Inner class.</p>\n<p>In short when you have</p>\n<pre><code>Outer outer = new Outer();\nOuter.Inner inner = outer.new Outer.Inner(); \n</code></pre>\n<p><code>Inner</code> instance held by <code>inner</code> will store in its <code>this$0</code> field reference to <code>Outer</code> instance used to create it (same reference as held by <code>outer</code> variable).</p>\n<p>It is necessary because nested classes must have access to all members of outer classes (including private ones). If we want to be able to write something like <code>methodFromOuterClass();</code> in inner class JVM needs to know on which <code>Outer</code> instance it should invoke this method. To make it possible compiler &quot;changes&quot; such code to <code>this$0.methodFromOuterClass()</code>.</p>\n<hr />\n<p>Little more details and example:</p>\n<pre><code>public class Outer {\n    private int id;\n    public Outer(int id) { this.id = id;}\n\n    public class Inner{\n        void printOuterID(){\n            System.out.println(id); \n        }\n    }\n}\n</code></pre>\n<p>Now what will be printed here and why?</p>\n<pre><code>Outer o1 = new Outer(1);\nOuter o2 = new Outer(2);\nOuter.Inner in1 = o1.new Inner();\nOuter.Inner in2 = o2.new Inner();\n\nin1.printOuterID();\nin2.printOuterID();\n</code></pre>\n<p>We will see</p>\n<pre><code>1\n2\n</code></pre>\n<p>but how <code>in1</code> knew that it should print value of <code>id</code> from <code>o1</code> and not from <code>o2</code>?<br />\nIt is because each instance of inner class knows on which instance of outer class was it created. And that is because of <code>this$0</code> reference which stores reference to outer instance used to create inner instance.<br />\nThis variable is added to all non-static inner classes by compiler and its value is set when you invoke</p>\n<pre><code>Outer.Inner in1 = o1.new Inner(); //`this$0` will be set to hold `o1` instance.\n</code></pre>\n<p>So code like</p>\n<pre><code>void printOuterID(){\n    System.out.println(id); \n  //OR\n  //System.out.println(Outer.this.id);\n}\n</code></pre>\n<p>is compiled into</p>\n<pre><code>void printOuterID(){\n    System.out.println(this$0.id); //although we can't access this$0 explicitly\n}\n</code></pre>\n<hr />\n<p>BTW if your inner class doesn't need to access non-static members of any of its outer classes you may change it to <code>static class</code> which will get rid of <code>this$0</code> field.</p>\n"}],"owner":{"account_id":1234733,"reputation":20412,"user_id":1198559,"accept_rate":70,"display_name":"jhegedus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5998,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":28462949,"answer_count":2,"score":11,"last_activity_date":1664298351,"creation_date":1423682867,"question_id":28462849,"body_markdown":"![enter image description here][1]\r\n\r\nI am trying to understand [this][2] Functional Reactive Java library by running a [test][3] called `testSendStream` in debug mode and stepping through the code as the test executes. \r\n\r\nThe snapshot above shows that there is an oddly named variable called `this$0`. \r\n\r\nWhere does this name come from ? \r\n\r\nWhat does this name mean ? \r\n\r\nWhy does this variable has this name ? \r\n\r\nWhat is the reasoning behind giving it this name? \r\n\r\nSurely this name does not come from the code itself, it is generated by IntelliJ or javac/java. But why ?\r\n\r\nIt is also interesting to see what happens if I mark this object by the label `Mystery Object`.\r\n\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/mlPQM.png\r\n  [2]: https://github.com/SodiumFRP/sodium\r\n  [3]: https://github.com/SodiumFRP/sodium/blob/master/java/tests/java8/sodium/StreamTester.java\r\n  [4]: http://i.stack.imgur.com/dwdJN.png","title":"What does it mean if a variable has the name &quot;this$0&quot; in IntelliJ IDEA while debugging Java?","body":"<p><img src=\"https://i.stack.imgur.com/mlPQM.png\" alt=\"enter image description here\"></p>\n\n<p>I am trying to understand <a href=\"https://github.com/SodiumFRP/sodium\" rel=\"noreferrer\">this</a> Functional Reactive Java library by running a <a href=\"https://github.com/SodiumFRP/sodium/blob/master/java/tests/java8/sodium/StreamTester.java\" rel=\"noreferrer\">test</a> called <code>testSendStream</code> in debug mode and stepping through the code as the test executes. </p>\n\n<p>The snapshot above shows that there is an oddly named variable called <code>this$0</code>. </p>\n\n<p>Where does this name come from ? </p>\n\n<p>What does this name mean ? </p>\n\n<p>Why does this variable has this name ? </p>\n\n<p>What is the reasoning behind giving it this name? </p>\n\n<p>Surely this name does not come from the code itself, it is generated by IntelliJ or javac/java. But why ?</p>\n\n<p>It is also interesting to see what happens if I mark this object by the label <code>Mystery Object</code>.</p>\n\n<p><img src=\"https://i.stack.imgur.com/dwdJN.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring-boot","process","pid"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1664297363,"post_id":73871059,"comment_id":130437537,"body_markdown":"Try looking at [Verify if a process is running using its PID in JAVA](https://stackoverflow.com/q/21460775/16653700).","body":"Try looking at <a href=\"https://stackoverflow.com/q/21460775/16653700\">Verify if a process is running using its PID in JAVA</a>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1664300034,"post_id":73871059,"comment_id":130438393,"body_markdown":"Since Java 9, you can use `process.pid()` instead of using reflection. And if you know the pid, you can use what I added as comment to Bart-del&#39;s answer. Or, for the started process, `process.isAlive()`, available since Java 8.","body":"Since Java 9, you can use <code>process.pid()</code> instead of using reflection. And if you know the pid, you can use what I added as comment to Bart-del&#39;s answer. Or, for the started process, <code>process.isAlive()</code>, available since Java 8."}],"answers":[{"tags":[],"owner":{"account_id":17755107,"reputation":36,"user_id":12892370,"display_name":"Bart-del"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664297779,"creation_date":1664297779,"answer_id":73871261,"question_id":73871059,"body_markdown":"Since Java 9 there is standard library to get all alive process. With this you can simply find if process with pid is alive.\r\n\r\n    private boolean checkIsProcessAlive(Long pid)\r\n    {\r\n        return ProcessHandle.allProcesses()\r\n                .map(ProcessHandle::pid)\r\n                .anyMatch(p -&gt; p.equals(pid));\r\n    }\r\n\r\nBut there is one more way to reach this. When you create process object with `Process process = pb.start();` you can check if process is alive with `process.isAlive();` method.","title":"I got the pid of my process, but i can&#39;t judge the process is alive by pid. How to solve this problem？","body":"<p>Since Java 9 there is standard library to get all alive process. With this you can simply find if process with pid is alive.</p>\n<pre><code>private boolean checkIsProcessAlive(Long pid)\n{\n    return ProcessHandle.allProcesses()\n            .map(ProcessHandle::pid)\n            .anyMatch(p -&gt; p.equals(pid));\n}\n</code></pre>\n<p>But there is one more way to reach this. When you create process object with <code>Process process = pb.start();</code> you can check if process is alive with <code>process.isAlive();</code> method.</p>\n"}],"owner":{"account_id":13250437,"reputation":11,"user_id":9568080,"display_name":"GZK329"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664297779,"creation_date":1664296873,"question_id":73871059,"body_markdown":"I want to execute a program through the command line similar to `java -jar xxx.jar`   \r\nthen get the process ID of the program  \r\njudge whether the process is alive or not by the process ID later.  \r\n\r\n```java\r\n//start a process\r\nString command = &quot;...&quot;;\r\nProcessBuilder pb = new ProcessBuilder(command);\r\nProcess process = pb.start();\r\n```\r\n\r\n```\r\n//get the pid of process\r\nif (System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;mac&quot;)) {\r\n                Class&lt;?&gt; clazz = Class.forName(&quot;java.lang.UNIXProcess&quot;);\r\n                field = clazz.getDeclaredField(&quot;pid&quot;);\r\n                ReflectionUtils.makeAccessible(field);\r\n                pid = (Integer) field.get(process);\r\n            }\r\n```\r\n\r\nThen, i want to determine if this process is alive,i tried like:\r\n\r\n```\r\n// judge the process is alive or not. By pid.\r\nif (System.getProperty(Constants.SYSTEM_NAME).toLowerCase().contains(&quot;linux&quot;) || System.getProperty(Constants.SYSTEM_NAME).toLowerCase().contains(&quot;mac&quot;)) {\r\n            process = RuntimeUtil.exec(BIN_BASH + &quot; -c&quot; + &quot; ps -elf | grep &quot; + pid);\r\n        }\r\n\r\n        if(process != null){\r\n            String line;\r\n            try(InputStream in = process.getInputStream();\r\n                BufferedReader br = new BufferedReader(new InputStreamReader(in,StandardCharsets.UTF_8))){\r\n                while((line = br.readLine()) != null){\r\n                    if(line.contains(pid)){\r\n// i can&#39;t see the pid of my process (always)\r\n                        return true;\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n               //exception handle\r\n            }\r\n        }\r\n```\r\n","title":"I got the pid of my process, but i can&#39;t judge the process is alive by pid. How to solve this problem？","body":"<p>I want to execute a program through the command line similar to <code>java -jar xxx.jar</code><br />\nthen get the process ID of the program<br />\njudge whether the process is alive or not by the process ID later.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//start a process\nString command = &quot;...&quot;;\nProcessBuilder pb = new ProcessBuilder(command);\nProcess process = pb.start();\n</code></pre>\n<pre><code>//get the pid of process\nif (System.getProperty(&quot;os.name&quot;).toLowerCase().contains(&quot;mac&quot;)) {\n                Class&lt;?&gt; clazz = Class.forName(&quot;java.lang.UNIXProcess&quot;);\n                field = clazz.getDeclaredField(&quot;pid&quot;);\n                ReflectionUtils.makeAccessible(field);\n                pid = (Integer) field.get(process);\n            }\n</code></pre>\n<p>Then, i want to determine if this process is alive,i tried like:</p>\n<pre><code>// judge the process is alive or not. By pid.\nif (System.getProperty(Constants.SYSTEM_NAME).toLowerCase().contains(&quot;linux&quot;) || System.getProperty(Constants.SYSTEM_NAME).toLowerCase().contains(&quot;mac&quot;)) {\n            process = RuntimeUtil.exec(BIN_BASH + &quot; -c&quot; + &quot; ps -elf | grep &quot; + pid);\n        }\n\n        if(process != null){\n            String line;\n            try(InputStream in = process.getInputStream();\n                BufferedReader br = new BufferedReader(new InputStreamReader(in,StandardCharsets.UTF_8))){\n                while((line = br.readLine()) != null){\n                    if(line.contains(pid)){\n// i can't see the pid of my process (always)\n                        return true;\n                    }\n                }\n            } catch (IOException e) {\n               //exception handle\n            }\n        }\n</code></pre>\n"},{"tags":["java","arrays","performance"],"comments":[{"owner":{"account_id":2293921,"reputation":9958,"user_id":2015912,"accept_rate":70,"display_name":"scottb"},"score":1,"creation_date":1652136236,"post_id":72178888,"comment_id":127528627,"body_markdown":"Are you certain that the solution you have doesn&#39;t already yield adequate performance?","body":"Are you certain that the solution you have doesn&#39;t already yield adequate performance?"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1652136253,"post_id":72178888,"comment_id":127528632,"body_markdown":"Premature Optimization. You won&#39;t see any difference unless your arrays are millions of elements, and even then figuring out which is marginally faster is a major project due to JIT optimization.  Don&#39;t worry about it unless you can prove there&#39;s a bottleneck.","body":"Premature Optimization. You won&#39;t see any difference unless your arrays are millions of elements, and even then figuring out which is marginally faster is a major project due to JIT optimization.  Don&#39;t worry about it unless you can prove there&#39;s a bottleneck."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1652136254,"post_id":72178888,"comment_id":127528633,"body_markdown":"Well, why do you need an `Integer[]`? You could just write a comparator for the `int` type.","body":"Well, why do you need an <code>Integer[]</code>? You could just write a comparator for the <code>int</code> type."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1652136380,"post_id":72178888,"comment_id":127528655,"body_markdown":"Is it really necessary to have an `Integer[]`? How does your comparator look like? It probably will unbox all the `Integer`s to `int`s anyway when applying arithmetic operators","body":"Is it really necessary to have an <code>Integer[]</code>? How does your comparator look like? It probably will unbox all the <code>Integer</code>s to <code>int</code>s anyway when applying arithmetic operators"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":0,"creation_date":1652140419,"post_id":72178888,"comment_id":127529242,"body_markdown":"&quot;Is there any of them that is significantly faster than the rest?&quot; Did you try running the code to see how long it takes?","body":"&quot;Is there any of them that is significantly faster than the rest?&quot; Did you try running the code to see how long it takes?"},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1652140617,"post_id":72178888,"comment_id":127529279,"body_markdown":"Please note that the `time-complexity` tag is not for all questions about how long it takes to run the code. It is for questions related to *how the time taken by an algorithm relates to the problem size*. Doing something to each element of an array is going to be O(n) no matter what  &quot;something&quot; is.","body":"Please note that the <code>time-complexity</code> tag is not for all questions about how long it takes to run the code. It is for questions related to <i>how the time taken by an algorithm relates to the problem size</i>. Doing something to each element of an array is going to be O(n) no matter what  &quot;something&quot; is."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1652140145,"creation_date":1652140145,"answer_id":72179289,"question_id":72178888,"body_markdown":"&gt; Is there any of them that is significantly faster than the rest?\r\n\r\nYou realize the question you&#39;re asking is akin to:\r\n\r\n&quot;I have 500,000 screws to screw into place. Unfortunately, I can&#39;t be bothered to go out and buy a screwdriver. I do have a clawhammer and an old shoe. Should I use the clawhammer to bash these things into place, or is the shoe a better option?&quot;\r\n\r\nThe answer is clearly: Uh, neither. Go get a screwdriver, please.\r\n\r\nTo put it differently, if the &#39;cost&#39; of converting to `Integer[]` first is 1000 points of cost in some arbitrary unit, then the difference in the options you listed is probably between 0.01 and 0.05 points - i.e. dwarfed so much, it&#39;s irrelevant. Thus, the direct answer to your question? It just does not matter.\r\n\r\nYou have 2 options:\r\n\r\n1. Performance is completely irrelevant. In which case this is fine, and there&#39;s absolutely no point to actually answering this question.\r\n\r\n2. You care about performance quite a bit. In which case, this `Integer[]` plan needs to be off the table.\r\n\r\nAssuming you might be intrigued by option 2, you have various options.\r\n\r\nThe easiest one is to enjoy the extensive java ecosystem. Someone&#39;s been here before and made an excellent class _just_ for this purpose. It abstracts the concept of an int array and gives you all sorts of useful methods, including sorting, and the team that made it is extremely concerned about performance, so they put in the many, many, many personweeks it takes to do proper performance analysis (between hotspot, pipelining CPUs, and today&#39;s complex OSes, it&#39;s __much__ harder than you might think!).\r\n\r\nThus, I present you: [IntArrayList](https://www.eclipse.org/collections/javadoc/11.0.0/org/eclipse/collections/impl/list/mutable/primitive/IntArrayList.html). It has a `.sortThis()` method, as well as a `.sortThis(IntComparator c)` method, which you can use for sorting purposes.\r\n\r\nThere are a few others out there, searching the web for &#39;java primitive collections&#39; should find them all, if for some reason the excellent eclipse collections project isn&#39;t to your liking (NB: You don&#39;t need eclipse-the-IDE to use it. It&#39;s a general purpose library that so happens to be maintained by the eclipse team).\r\n\r\nIf you must handroll it, searching the web for how to implement quicksort in java is not hard, thus, you can easily write your own &#39;sort this int array for me&#39; code. Not that I would reinvent that particular wheel. Just pointing out that it&#39;s not too difficult if you must.\r\n","title":"Which way of converting int[] to Integer[] is fastest?","body":"<blockquote>\n<p>Is there any of them that is significantly faster than the rest?</p>\n</blockquote>\n<p>You realize the question you're asking is akin to:</p>\n<p>&quot;I have 500,000 screws to screw into place. Unfortunately, I can't be bothered to go out and buy a screwdriver. I do have a clawhammer and an old shoe. Should I use the clawhammer to bash these things into place, or is the shoe a better option?&quot;</p>\n<p>The answer is clearly: Uh, neither. Go get a screwdriver, please.</p>\n<p>To put it differently, if the 'cost' of converting to <code>Integer[]</code> first is 1000 points of cost in some arbitrary unit, then the difference in the options you listed is probably between 0.01 and 0.05 points - i.e. dwarfed so much, it's irrelevant. Thus, the direct answer to your question? It just does not matter.</p>\n<p>You have 2 options:</p>\n<ol>\n<li><p>Performance is completely irrelevant. In which case this is fine, and there's absolutely no point to actually answering this question.</p>\n</li>\n<li><p>You care about performance quite a bit. In which case, this <code>Integer[]</code> plan needs to be off the table.</p>\n</li>\n</ol>\n<p>Assuming you might be intrigued by option 2, you have various options.</p>\n<p>The easiest one is to enjoy the extensive java ecosystem. Someone's been here before and made an excellent class <em>just</em> for this purpose. It abstracts the concept of an int array and gives you all sorts of useful methods, including sorting, and the team that made it is extremely concerned about performance, so they put in the many, many, many personweeks it takes to do proper performance analysis (between hotspot, pipelining CPUs, and today's complex OSes, it's <strong>much</strong> harder than you might think!).</p>\n<p>Thus, I present you: <a href=\"https://www.eclipse.org/collections/javadoc/11.0.0/org/eclipse/collections/impl/list/mutable/primitive/IntArrayList.html\" rel=\"noreferrer\">IntArrayList</a>. It has a <code>.sortThis()</code> method, as well as a <code>.sortThis(IntComparator c)</code> method, which you can use for sorting purposes.</p>\n<p>There are a few others out there, searching the web for 'java primitive collections' should find them all, if for some reason the excellent eclipse collections project isn't to your liking (NB: You don't need eclipse-the-IDE to use it. It's a general purpose library that so happens to be maintained by the eclipse team).</p>\n<p>If you must handroll it, searching the web for how to implement quicksort in java is not hard, thus, you can easily write your own 'sort this int array for me' code. Not that I would reinvent that particular wheel. Just pointing out that it's not too difficult if you must.</p>\n"}],"owner":{"account_id":24590228,"reputation":184,"user_id":18494246,"display_name":"Isaac Dzikum"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":72179289,"answer_count":1,"score":2,"last_activity_date":1664297150,"creation_date":1652135911,"question_id":72178888,"body_markdown":"I am trying to convert a very long `int[]` with length of 1,000,000 to `Integer[]` so that I can sort it with a custom comparator (which sorts elements based on the length of their corresponding lists in a defined `Map&lt;Integer, List&lt;Integer&gt;&gt;`). \r\n\r\nI have done the following:\r\n```\r\nprivate static Integer[] convert(int[] arr) {\r\n\t\tInteger[] ans = new Integer[arr.length];\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tans[i] = arr[i];\r\n\t\t}\r\n\t\treturn ans;\r\n\t}\r\n```\r\nIt works well for me but I have also come across\r\n```\r\nInteger[] ans = Arrays.stream(intArray).boxed().toArray( Integer[]::new );\r\n```\r\nand\r\n```\r\nInteger[] ans = IntStream.of(intArray).boxed().toArray( Integer[]::new );\r\n```\r\n\r\nIs there any of them that is significantly faster than the rest? Or is there any other approach that is fast enough to shorten the run-time?","title":"Which way of converting int[] to Integer[] is fastest?","body":"<p>I am trying to convert a very long <code>int[]</code> with length of 1,000,000 to <code>Integer[]</code> so that I can sort it with a custom comparator (which sorts elements based on the length of their corresponding lists in a defined <code>Map&lt;Integer, List&lt;Integer&gt;&gt;</code>).</p>\n<p>I have done the following:</p>\n<pre><code>private static Integer[] convert(int[] arr) {\n        Integer[] ans = new Integer[arr.length];\n        for (int i = 0; i &lt; arr.length; i++) {\n            ans[i] = arr[i];\n        }\n        return ans;\n    }\n</code></pre>\n<p>It works well for me but I have also come across</p>\n<pre><code>Integer[] ans = Arrays.stream(intArray).boxed().toArray( Integer[]::new );\n</code></pre>\n<p>and</p>\n<pre><code>Integer[] ans = IntStream.of(intArray).boxed().toArray( Integer[]::new );\n</code></pre>\n<p>Is there any of them that is significantly faster than the rest? Or is there any other approach that is fast enough to shorten the run-time?</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"display_name":"user3091996"},"score":0,"creation_date":1664295647,"post_id":73870121,"comment_id":130436969,"body_markdown":"You could make those methods return null just for now","body":"You could make those methods return null just for now"}],"answers":[{"tags":[],"owner":{"account_id":26308299,"reputation":121,"user_id":19972353,"display_name":"Shaun Phillips"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664296873,"creation_date":1664296873,"answer_id":73871058,"question_id":73870121,"body_markdown":"I think it&#39;s important to understand the difference between running a build and running a test.\r\n\r\nA test runs on compiled code, your code is compiled when you run a build.\r\n\r\nTo be able to build, the code must be complete with no fatal errors that prevent the code from compiling.\r\n\r\nHaving half-written code, in this case a method without a return type, will prevent the code from compiling. So to answer your question, no it&#39;s not possible.\r\n\r\nTo solve this, you could:\r\n - Comment out the half-written methods, and anywhere that they are called from, you can use a double ```//``` to do this, or a block comment using ```/*commented out*/``` across multiple lines.\r\n\r\n - Insert some placeholders into the code. For example if change the method declaration to have `void` as the return type. This means it does not expect anything to be returned.\r\n```\r\n     public static void voidMethod() {\r\n```\r\n - Just return null, or empty string, or an int from these methods.\r\n\r\nBasically, as you don&#39;t care about these methods, just keep them out of the way.\r\nHope that helps.","title":"Running Junit tests even if build failed because of other files that do not depend on the test","body":"<p>I think it's important to understand the difference between running a build and running a test.</p>\n<p>A test runs on compiled code, your code is compiled when you run a build.</p>\n<p>To be able to build, the code must be complete with no fatal errors that prevent the code from compiling.</p>\n<p>Having half-written code, in this case a method without a return type, will prevent the code from compiling. So to answer your question, no it's not possible.</p>\n<p>To solve this, you could:</p>\n<ul>\n<li><p>Comment out the half-written methods, and anywhere that they are called from, you can use a double <code>//</code> to do this, or a block comment using <code>/*commented out*/</code> across multiple lines.</p>\n</li>\n<li><p>Insert some placeholders into the code. For example if change the method declaration to have <code>void</code> as the return type. This means it does not expect anything to be returned.</p>\n</li>\n</ul>\n<pre><code>     public static void voidMethod() {\n</code></pre>\n<ul>\n<li>Just return null, or empty string, or an int from these methods.</li>\n</ul>\n<p>Basically, as you don't care about these methods, just keep them out of the way.\nHope that helps.</p>\n"}],"owner":{"account_id":9713609,"reputation":219,"user_id":7204691,"accept_rate":40,"display_name":"Mathieu Rousseau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73871058,"answer_count":1,"score":0,"last_activity_date":1664296873,"creation_date":1664292501,"question_id":73870121,"body_markdown":"I have a Java project on intellij with multiple exercices to do for the semester. Some tests are associated with these exercises. However, I cannot run the tests as the build fail because some methods are not yet implemented in other files.\r\n\r\nFor example, I have a StackWithTwoQueues.java file that I implemented and associated with that I have StackWithTwoQueuesTest.java file. When I run this file, I get &quot;build failed&quot; because some methods in a file MinMaxHeap.java do not contain return value (which makes sense because I&#39;m not worked on this exercise yet). \r\n\r\nIs there a way to run the test and ignoring this &quot;build failed&quot; ?","title":"Running Junit tests even if build failed because of other files that do not depend on the test","body":"<p>I have a Java project on intellij with multiple exercices to do for the semester. Some tests are associated with these exercises. However, I cannot run the tests as the build fail because some methods are not yet implemented in other files.</p>\n<p>For example, I have a StackWithTwoQueues.java file that I implemented and associated with that I have StackWithTwoQueuesTest.java file. When I run this file, I get &quot;build failed&quot; because some methods in a file MinMaxHeap.java do not contain return value (which makes sense because I'm not worked on this exercise yet).</p>\n<p>Is there a way to run the test and ignoring this &quot;build failed&quot; ?</p>\n"},{"tags":["java","database","hibernate","paging"],"comments":[{"owner":{"account_id":49175,"reputation":23807,"user_id":146347,"accept_rate":100,"display_name":"KLE"},"score":1,"creation_date":1256127499,"post_id":1600215,"comment_id":1465445,"body_markdown":"I agree with the two other answers. In addition, I ask for implementation practices in this post : \nhttp://stackoverflow.com/questions/1600440/java-coding-best-practices-for-reusing-part-of-a-query-to-count","body":"I agree with the two other answers. In addition, I ask for implementation practices in this post :  <a href=\"http://stackoverflow.com/questions/1600440/java-coding-best-practices-for-reusing-part-of-a-query-to-count\" title=\"java coding best practices for reusing part of a query to count\">stackoverflow.com/questions/1600440/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1256124352,"creation_date":1256124352,"answer_id":1600229,"question_id":1600215,"body_markdown":"you could perform two queries - a count(*) type query, which should be cheap if you are not joining too many tables together, and a second query that has the limits set. Then you know how many items exists but only grab the ones being viewed.","title":"Implementing result paging in hibernate (getting total number of rows)","body":"<p>you could perform two queries - a count(*) type query, which should be cheap if you are not joining too many tables together, and a second query that has the limits set. Then you know how many items exists but only grab the ones being viewed.</p>\n"},{"tags":[],"owner":{"account_id":45917,"reputation":20079,"user_id":167365,"accept_rate":78,"display_name":"sinuhepop"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1256125752,"creation_date":1256124733,"answer_id":1600258,"question_id":1600215,"body_markdown":"You can use Query.setMaxResults(int results) and Query.setFirstResult(int offset).\r\n\r\nEditing too: There&#39;s no way to know how many results you&#39;ll get. So, first you must query with &quot;select count(*)...&quot;. A little ugly, IMHO.","title":"Implementing result paging in hibernate (getting total number of rows)","body":"<p>You can use Query.setMaxResults(int results) and Query.setFirstResult(int offset).</p>\n\n<p>Editing too: There's no way to know how many results you'll get. So, first you must query with \"select count(*)...\". A little ugly, IMHO.</p>\n"},{"tags":[],"owner":{"account_id":57984,"reputation":5167,"user_id":173670,"display_name":"NickDK"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1256127851,"creation_date":1256127851,"answer_id":1600460,"question_id":1600215,"body_markdown":"I personally think you should handle the paging in the front-end. I know this isn&#39;t that effici&#235;nt but at least it would be less error prone.\r\n\r\nIf you would use the count(*) thing what would happen if records get deleted from the table in between requests for a certain page? Lots of things could go wrong this way.","title":"Implementing result paging in hibernate (getting total number of rows)","body":"<p>I personally think you should handle the paging in the front-end. I know this isn't that efficiënt but at least it would be less error prone.</p>\n\n<p>If you would use the count(*) thing what would happen if records get deleted from the table in between requests for a certain page? Lots of things could go wrong this way.</p>\n"},{"tags":[],"owner":{"account_id":40645,"reputation":18426,"user_id":117783,"accept_rate":97,"display_name":"non sequitor"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1256142655,"creation_date":1256142655,"answer_id":1602002,"question_id":1600215,"body_markdown":"You must do a separate query to get the max results...and in the case where between time A of the first time the client issues a paging request to time B when another request is issued, if  new records are added or some records now fit the criteria then you have to query the max again to reflect such. I usually do this in HQL like this\r\n\r\n    Integer count = (Integer) session.createQuery(&quot;select count(*) from ....&quot;).uniqueResult();\r\n\r\nfor `Criteria` queries I usually push my data into a DTO like this\r\n\r\n    ScrollableResults scrollable = criteria.scroll(ScrollMode.SCROLL_INSENSITIVE);\r\n    if(scrollable.last()){//returns true if there is a resultset\r\n        genericDTO.setTotalCount(scrollable.getRowNumber() + 1);\r\n        criteria.setFirstResult(command.getStart())\r\n                .setMaxResults(command.getLimit());\r\n        genericDTO.setLineItems(Collections.unmodifiableList(criteria.list()));\r\n    }\r\n    scrollable.close();\r\n    return genericDTO;","title":"Implementing result paging in hibernate (getting total number of rows)","body":"<p>You must do a separate query to get the max results...and in the case where between time A of the first time the client issues a paging request to time B when another request is issued, if  new records are added or some records now fit the criteria then you have to query the max again to reflect such. I usually do this in HQL like this</p>\n\n<pre><code>Integer count = (Integer) session.createQuery(\"select count(*) from ....\").uniqueResult();\n</code></pre>\n\n<p>for <code>Criteria</code> queries I usually push my data into a DTO like this</p>\n\n<pre><code>ScrollableResults scrollable = criteria.scroll(ScrollMode.SCROLL_INSENSITIVE);\nif(scrollable.last()){//returns true if there is a resultset\n    genericDTO.setTotalCount(scrollable.getRowNumber() + 1);\n    criteria.setFirstResult(command.getStart())\n            .setMaxResults(command.getLimit());\n    genericDTO.setLineItems(Collections.unmodifiableList(criteria.list()));\n}\nscrollable.close();\nreturn genericDTO;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":492593,"reputation":361,"user_id":1145916,"display_name":"Bill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1363100960,"creation_date":1363094151,"answer_id":15362332,"question_id":1600215,"body_markdown":"You can just setMaxResults to the maximum number of rows you want returned.  There is no harm in setting this value greater than the number of actual rows available.  The problem the other solutions is they assume the ordering of records remains the same each repeat of the query, and there are no changes going on between commands.\r\n\r\nTo avoid that if you really want to scroll through results, it is best to use the ScrollableResults.  Don&#39;t throw this object away between paging, but use it to keep the records in the same order.  To find out the number of records from the ScrollableResults, you can simply move to the last() position, and then get the row number.   Remember to add 1 to this value, since row numbers start counting at 0.\r\n\r\n","title":"Implementing result paging in hibernate (getting total number of rows)","body":"<p>You can just setMaxResults to the maximum number of rows you want returned.  There is no harm in setting this value greater than the number of actual rows available.  The problem the other solutions is they assume the ordering of records remains the same each repeat of the query, and there are no changes going on between commands.</p>\n\n<p>To avoid that if you really want to scroll through results, it is best to use the ScrollableResults.  Don't throw this object away between paging, but use it to keep the records in the same order.  To find out the number of records from the ScrollableResults, you can simply move to the last() position, and then get the row number.   Remember to add 1 to this value, since row numbers start counting at 0.</p>\n"},{"tags":[],"owner":{"account_id":4447893,"reputation":19,"user_id":3620694,"display_name":"user3620694"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664296817,"creation_date":1664296290,"answer_id":73870935,"question_id":1600215,"body_markdown":"You can do one thing. just prepare Criteria query as per your busness requirement with all Predicates , sorting , searching etc.\r\nand then do as below :-\r\n\r\n     CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\r\n       CriteriaQuery&lt;Feedback&gt; criteriaQuery = criteriaBuilder.createQuery(Feedback.class);\r\n\r\n//Just Prepare your all Predicates as per your business need.\r\n//eg :-\r\n\r\n     yourPredicateAsPerYourBusnessNeed = criteriaBuilder.equal(Root.get(&quot;applicationName&quot;), applicationName);\r\n     criteriaQuery.where(yourPredicateAsPerYourBusnessNeed).distinct(true);\r\n\r\n       TypedQuery&lt;Feedback&gt; criteriaQueryWithPredicate = em.createQuery(criteriaQuery);\r\n       //Getting total Count Here\r\n       Long totalCount = criteriaQueryWithPredicate.getResultStream().distinct().count();\r\n\r\n\r\nNow we have our actual data with us as above with total count , right.\r\nSo now we can apply pagination on the data we have in our hand above , as below :-\r\n\r\n    List&lt;Feedback&gt; feedbackList = criteriaQueryWithPredicate.setFirstResult(offset).setMaxResults(pageSize).getResultList();\r\n\r\nNow You can prepare a wrapper with your List return by DB along with the totalCount , startingPageNo that is offset here in this case, page Size etc and can return to your service / controller class.\r\n\r\nI am 101 % sure , this will solve your problem, Because I  was facing same problem and sorted it out same way.\r\n      Thanks- Sunil Kumar Mali","title":"Implementing result paging in hibernate (getting total number of rows)","body":"<p>You can do one thing. just prepare Criteria query as per your busness requirement with all Predicates , sorting , searching etc.\nand then do as below :-</p>\n<pre><code> CriteriaBuilder criteriaBuilder = em.getCriteriaBuilder();\n   CriteriaQuery&lt;Feedback&gt; criteriaQuery = criteriaBuilder.createQuery(Feedback.class);\n</code></pre>\n<p>//Just Prepare your all Predicates as per your business need.\n//eg :-</p>\n<pre><code> yourPredicateAsPerYourBusnessNeed = criteriaBuilder.equal(Root.get(&quot;applicationName&quot;), applicationName);\n criteriaQuery.where(yourPredicateAsPerYourBusnessNeed).distinct(true);\n\n   TypedQuery&lt;Feedback&gt; criteriaQueryWithPredicate = em.createQuery(criteriaQuery);\n   //Getting total Count Here\n   Long totalCount = criteriaQueryWithPredicate.getResultStream().distinct().count();\n</code></pre>\n<p>Now we have our actual data with us as above with total count , right.\nSo now we can apply pagination on the data we have in our hand above , as below :-</p>\n<pre><code>List&lt;Feedback&gt; feedbackList = criteriaQueryWithPredicate.setFirstResult(offset).setMaxResults(pageSize).getResultList();\n</code></pre>\n<p>Now You can prepare a wrapper with your List return by DB along with the totalCount , startingPageNo that is offset here in this case, page Size etc and can return to your service / controller class.</p>\n<p>I am 101 % sure , this will solve your problem, Because I  was facing same problem and sorted it out same way.\nThanks- Sunil Kumar Mali</p>\n"}],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21769,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":1600258,"answer_count":6,"score":11,"last_activity_date":1664296817,"creation_date":1256124170,"question_id":1600215,"body_markdown":"How do I implement paging in Hibernate? The [`Query`][1] objects has methods called [`setMaxResults`][2] and [`setFirstResult`][3] which are certainly helpful. But where can I get the total number of results, so that I can show link to last page of results, and print things such as results 200 to 250 of *xxx*?\r\n\r\n\r\n  [1]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html\r\n  [2]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html#setMaxResults(int)\r\n  [3]: https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html#setFirstResult(int)","title":"Implementing result paging in hibernate (getting total number of rows)","body":"<p>How do I implement paging in Hibernate? The <a href=\"https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html\" rel=\"noreferrer\"><code>Query</code></a> objects has methods called <a href=\"https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html#setMaxResults(int)\" rel=\"noreferrer\"><code>setMaxResults</code></a> and <a href=\"https://www.hibernate.org/hib_docs/v3/api/org/hibernate/Query.html#setFirstResult(int)\" rel=\"noreferrer\"><code>setFirstResult</code></a> which are certainly helpful. But where can I get the total number of results, so that I can show link to last page of results, and print things such as results 200 to 250 of <em>xxx</em>?</p>\n"},{"tags":["java","mysql","intellij-idea"],"comments":[{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1664297086,"post_id":73871038,"comment_id":130437446,"body_markdown":"You can use a lib like Flyway or Liquibase.","body":"You can use a lib like Flyway or Liquibase."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664298973,"post_id":73871038,"comment_id":130438042,"body_markdown":"What&#39;s *forcing* you to run a script at all?","body":"What&#39;s <i>forcing</i> you to run a script at all?"},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1664301226,"post_id":73871038,"comment_id":130438782,"body_markdown":"@g00se nothing is forcing me, it’s just since I use two computers (one at home and one whenever I’m away from home) it would be nice to be able to work with the same data.","body":"@g00se nothing is forcing me, it’s just since I use two computers (one at home and one whenever I’m away from home) it would be nice to be able to work with the same data."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664301365,"post_id":73871038,"comment_id":130438839,"body_markdown":"Well you can - use the same database ;) But be careful how you configure for remote access. Normally it&#39;s not an issue as DBs are used with webapps (safer)","body":"Well you can - use the same database ;) But be careful how you configure for remote access. Normally it&#39;s not an issue as DBs are used with webapps (safer)"},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1664301609,"post_id":73871038,"comment_id":130438913,"body_markdown":"@g00se how would that look like? I’m still fairly new to all this, I thought docker would help me with that until I read up on what Docker does.","body":"@g00se how would that look like? I’m still fairly new to all this, I thought docker would help me with that until I read up on what Docker does."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1664301848,"post_id":73871038,"comment_id":130438981,"body_markdown":"I can&#39;t advise on Docker I&#39;m afraid. But I really don&#39;t want to encourage using direct remote access as it causes vulnerability. Consider programming your game app as a webapp","body":"I can&#39;t advise on Docker I&#39;m afraid. But I really don&#39;t want to encourage using direct remote access as it causes vulnerability. Consider programming your game app as a webapp"}],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664296794,"creation_date":1664296794,"question_id":73871038,"body_markdown":"I have a java REST API, and I am trying to write queries in the database console (I am using Intelli J). My goal is that every time I start the API, it will execute the queries so that I don&#39;t constantly have to populate the database myself upon startup.\r\n\r\n[my SQL Query in Intelli J][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/m7ZUA.png","title":"Run MySQL Query on API startup","body":"<p>I have a java REST API, and I am trying to write queries in the database console (I am using Intelli J). My goal is that every time I start the API, it will execute the queries so that I don't constantly have to populate the database myself upon startup.</p>\n<p><a href=\"https://i.stack.imgur.com/m7ZUA.png\" rel=\"nofollow noreferrer\">my SQL Query in Intelli J</a></p>\n"},{"tags":["java","arrays","algorithm","sorting","mergesort"],"comments":[{"owner":{"display_name":"user1196549"},"score":0,"creation_date":1664295871,"post_id":73870744,"comment_id":130437036,"body_markdown":"You don&#39;t merge anything, as `conquer` does not retain `newa`.","body":"You don&#39;t merge anything, as <code>conquer</code> does not retain <code>newa</code>."},{"owner":{"account_id":18069799,"reputation":37,"user_id":19551765,"display_name":"Aman Nambisan"},"score":0,"creation_date":1664296622,"post_id":73870744,"comment_id":130437286,"body_markdown":"@YvesDaoust then how come it is working with one the sample inputs? How can i solve this?","body":"@YvesDaoust then how come it is working with one the sample inputs? How can i solve this?"}],"answers":[{"tags":[],"owner":{"account_id":17601655,"reputation":51,"user_id":19548123,"display_name":"Suyash Chavan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664296676,"creation_date":1664296676,"answer_id":73871022,"question_id":73870744,"body_markdown":"Your algorithm is correct only one thing missing is, you are not storing modified i.e conquered elements back to array ***a***. One more thing, size of intermediate array i.e ***newa*** should be ***ei-si***.\r\n\r\nThis is modified code:\r\n\r\n    import java.util.*;\r\n\r\n    public class Main {\r\n        public static void main(String args[]) {\r\n            int n;\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.println(&quot;Enter the size of array&quot;);\r\n            n = sc.nextInt();\r\n            int a[] = new int[n];\r\n    \r\n            System.out.println(&quot;Enter the elements into array&quot;);\r\n    \r\n            for (int i = 0; i &lt; n; i++) {\r\n                a[i] = sc.nextInt();\r\n            }\r\n            divide(a, 0, n - 1);\r\n        }\r\n    \r\n        public static void divide(int a[], int si, int ei) {\r\n            if (si &gt;= ei) {\r\n                return;\r\n            }\r\n            int mid = si + (ei - si) / 2;\r\n            divide(a, si, mid);\r\n            divide(a, mid + 1, ei);\r\n            conquer(a, si, mid, ei);\r\n        }\r\n    \r\n        public static void conquer(int a[],int si,int mid, int ei){\r\n            int newa[] = new int[ei-si+1];\r\n            \r\n            int i=si;\r\n            int j=mid+1;\r\n            int k=0;\r\n    \r\n            while(i&lt;=mid &amp;&amp; j&lt;=ei){\r\n                if(a[i]&lt;=a[j]){\r\n                    newa[k]=a[i];\r\n                    i++;\r\n                }else{\r\n                    newa[k]=a[j];\r\n                    j++;\r\n                }\r\n                k++;\r\n            }\r\n            while(i&lt;=mid){\r\n                newa[k]=a[i];\r\n                i++;\r\n                k++;\r\n            }\r\n            while(j&lt;=ei){\r\n                newa[k]=a[j];\r\n                j++;\r\n                k++;\r\n            }\r\n    \r\n            for(int p=0;p&lt;=(ei-si);p++){\r\n                a[si+p] = newa[p];\r\n                System.out.print(newa[p]);\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println(&quot; &quot;);\r\n            \r\n        }\r\n    }","title":"Merge sort algorithim not working consistently and giving wrong output","body":"<p>Your algorithm is correct only one thing missing is, you are not storing modified i.e conquered elements back to array <em><strong>a</strong></em>. One more thing, size of intermediate array i.e <em><strong>newa</strong></em> should be <em><strong>ei-si</strong></em>.</p>\n<p>This is modified code:</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String args[]) {\n        int n;\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter the size of array&quot;);\n        n = sc.nextInt();\n        int a[] = new int[n];\n\n        System.out.println(&quot;Enter the elements into array&quot;);\n\n        for (int i = 0; i &lt; n; i++) {\n            a[i] = sc.nextInt();\n        }\n        divide(a, 0, n - 1);\n    }\n\n    public static void divide(int a[], int si, int ei) {\n        if (si &gt;= ei) {\n            return;\n        }\n        int mid = si + (ei - si) / 2;\n        divide(a, si, mid);\n        divide(a, mid + 1, ei);\n        conquer(a, si, mid, ei);\n    }\n\n    public static void conquer(int a[],int si,int mid, int ei){\n        int newa[] = new int[ei-si+1];\n        \n        int i=si;\n        int j=mid+1;\n        int k=0;\n\n        while(i&lt;=mid &amp;&amp; j&lt;=ei){\n            if(a[i]&lt;=a[j]){\n                newa[k]=a[i];\n                i++;\n            }else{\n                newa[k]=a[j];\n                j++;\n            }\n            k++;\n        }\n        while(i&lt;=mid){\n            newa[k]=a[i];\n            i++;\n            k++;\n        }\n        while(j&lt;=ei){\n            newa[k]=a[j];\n            j++;\n            k++;\n        }\n\n        for(int p=0;p&lt;=(ei-si);p++){\n            a[si+p] = newa[p];\n            System.out.print(newa[p]);\n            System.out.print(&quot; &quot;);\n        }\n        System.out.println(&quot; &quot;);\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18069799,"reputation":37,"user_id":19551765,"display_name":"Aman Nambisan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73871022,"answer_count":1,"score":0,"last_activity_date":1664296676,"creation_date":1664295382,"question_id":73870744,"body_markdown":"I have tried to implement merge sort and this is my code:\r\n\r\n    import java.util.*;\r\n    \r\n    public class MergeSort{\r\n        public static void main(String args[]){\r\n            int n;\r\n            Scanner sc=new Scanner (System.in);\r\n            System.out.println(&quot;Enter the size of array&quot;);\r\n            n = sc.nextInt();\r\n            int a[]=new int[n];\r\n    \r\n            System.out.println(&quot;Enter the elements into array&quot;);\r\n            \r\n            for(int i=0;i&lt;n;i++){\r\n                a[i]=sc.nextInt();\r\n            }\r\n            divide(a,0,n-1);\r\n        }\r\n    \r\n        public static void divide(int a[], int si, int ei){\r\n            if(si&gt;=ei){\r\n                return;\r\n            }\r\n            int mid = si + (ei-si)/2;\r\n            divide(a,si,mid);\r\n            divide(a,mid+1,ei);\r\n            conquer(a,si,mid,ei);\r\n        }\r\n        \r\n        public static void conquer(int a[],int si,int mid, int ei){\r\n            int newa[] = new int[ei+1];\r\n            \r\n            int i=si;\r\n            int j=mid+1;\r\n            int k=0;\r\n    \r\n            while(i&lt;=mid &amp;&amp; j&lt;=ei){\r\n                if(a[i]&lt;=a[j]){\r\n                    newa[k]=a[i];\r\n                    i++;\r\n                }else{\r\n                    newa[k]=a[j];\r\n                    j++;\r\n                }\r\n                k++;\r\n            }\r\n            while(i&lt;=mid){\r\n                newa[k]=a[i];\r\n                i++;\r\n                k++;\r\n            }\r\n            while(j&lt;=ei){\r\n                newa[k]=a[j];\r\n                j++;\r\n                k++;\r\n            }\r\n    \r\n            for(int p=0;p&lt;=ei;p++){\r\n                System.out.println(newa[p]);\r\n            }\r\n            \r\n        }\r\n    }\r\n\r\nFor some reason the code works for some inputs but doesnt for others.Example-\r\nit doesnt work here\r\n\r\n&gt; Enter the size of array 4 Enter the elements into array 9 5 7 8 5 9 7\r\n&gt; 8 0 0 7 8 9 5\r\n\r\nbut it works here\r\n\r\n&gt; Enter the size of array 4 Enter the elements into array 7 5 6 4 7 5 6\r\n&gt; 0 0 4 5 6 7\r\n\r\nI realise that the way i have tried to display the sorted array is not proper and it will print the values even during recusive call. Ignoring this, how do i solve the issue with sorting? I have tried to debug but couldnt find anything wrong with the code","title":"Merge sort algorithim not working consistently and giving wrong output","body":"<p>I have tried to implement merge sort and this is my code:</p>\n<pre><code>import java.util.*;\n\npublic class MergeSort{\n    public static void main(String args[]){\n        int n;\n        Scanner sc=new Scanner (System.in);\n        System.out.println(&quot;Enter the size of array&quot;);\n        n = sc.nextInt();\n        int a[]=new int[n];\n\n        System.out.println(&quot;Enter the elements into array&quot;);\n        \n        for(int i=0;i&lt;n;i++){\n            a[i]=sc.nextInt();\n        }\n        divide(a,0,n-1);\n    }\n\n    public static void divide(int a[], int si, int ei){\n        if(si&gt;=ei){\n            return;\n        }\n        int mid = si + (ei-si)/2;\n        divide(a,si,mid);\n        divide(a,mid+1,ei);\n        conquer(a,si,mid,ei);\n    }\n    \n    public static void conquer(int a[],int si,int mid, int ei){\n        int newa[] = new int[ei+1];\n        \n        int i=si;\n        int j=mid+1;\n        int k=0;\n\n        while(i&lt;=mid &amp;&amp; j&lt;=ei){\n            if(a[i]&lt;=a[j]){\n                newa[k]=a[i];\n                i++;\n            }else{\n                newa[k]=a[j];\n                j++;\n            }\n            k++;\n        }\n        while(i&lt;=mid){\n            newa[k]=a[i];\n            i++;\n            k++;\n        }\n        while(j&lt;=ei){\n            newa[k]=a[j];\n            j++;\n            k++;\n        }\n\n        for(int p=0;p&lt;=ei;p++){\n            System.out.println(newa[p]);\n        }\n        \n    }\n}\n</code></pre>\n<p>For some reason the code works for some inputs but doesnt for others.Example-\nit doesnt work here</p>\n<blockquote>\n<p>Enter the size of array 4 Enter the elements into array 9 5 7 8 5 9 7\n8 0 0 7 8 9 5</p>\n</blockquote>\n<p>but it works here</p>\n<blockquote>\n<p>Enter the size of array 4 Enter the elements into array 7 5 6 4 7 5 6\n0 0 4 5 6 7</p>\n</blockquote>\n<p>I realise that the way i have tried to display the sorted array is not proper and it will print the values even during recusive call. Ignoring this, how do i solve the issue with sorting? I have tried to debug but couldnt find anything wrong with the code</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3988805,"reputation":509,"user_id":3288493,"accept_rate":96,"display_name":"Seeker"},"score":0,"creation_date":1394732777,"post_id":22386693,"comment_id":34033229,"body_markdown":"first of all, what input field are you using, JTextfield?","body":"first of all, what input field are you using, JTextfield?"},{"owner":{"account_id":4168146,"reputation":1,"user_id":3416641,"display_name":"user3416641"},"score":0,"creation_date":1394732821,"post_id":22386693,"comment_id":34033265,"body_markdown":"I am using jTextFields, thank you","body":"I am using jTextFields, thank you"}],"answers":[{"tags":[],"owner":{"account_id":1652167,"reputation":3610,"user_id":1522522,"accept_rate":86,"display_name":"vandale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394733797,"creation_date":1394732893,"answer_id":22386826,"question_id":22386693,"body_markdown":" 1. retrieve text from textfield via [getText()][1];\r\n 2. parse via [Integer.parseInt()][2], if it throws an exception, then the input was not valid\r\n 3. verify numbers are in range\r\n 4. add them all to a [Set][3], and check to see if its size is 6. If not then there were duplicates.\r\n\r\n\r\nHere&#39;s an example of what the validation could look like:\r\n\r\n    JTextField[] fields;\r\n\r\n    void vaildate() {//call when appropriate(ie ActionListener of JButton)\r\n        int[] nums = new int[fields.length];\r\n        Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\r\n        for (int i = 0; i &lt; fields.length; i++) {\r\n            try {\r\n                nums[i] = Integer.parseInt(fields[i].getText());\r\n            } catch (NumberFormatException ex) {\r\n                //not a valid number tell user of error\r\n                return;\r\n            }\r\n            if (nums[i] &lt; 1 || nums[i] &gt; 48) {\r\n                //out of number range tell user of error\r\n                return;\r\n            }\r\n            if (!set.add(nums[i])) {\r\n                //duplicate element tell user of error\r\n                return;\r\n            }\r\n        }\r\n        //do what you want with the data now\r\n    }\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#getText%28%29\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/Set.html","title":"Input validation in Swing","body":"<ol>\n<li>retrieve text from textfield via <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/text/JTextComponent.html#getText%28%29\" rel=\"nofollow\">getText()</a>;</li>\n<li>parse via <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#parseInt%28java.lang.String%29\" rel=\"nofollow\">Integer.parseInt()</a>, if it throws an exception, then the input was not valid</li>\n<li>verify numbers are in range</li>\n<li>add them all to a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Set.html\" rel=\"nofollow\">Set</a>, and check to see if its size is 6. If not then there were duplicates.</li>\n</ol>\n\n<p>Here's an example of what the validation could look like:</p>\n\n<pre><code>JTextField[] fields;\n\nvoid vaildate() {//call when appropriate(ie ActionListener of JButton)\n    int[] nums = new int[fields.length];\n    Set&lt;Integer&gt; set = new HashSet&lt;&gt;();\n    for (int i = 0; i &lt; fields.length; i++) {\n        try {\n            nums[i] = Integer.parseInt(fields[i].getText());\n        } catch (NumberFormatException ex) {\n            //not a valid number tell user of error\n            return;\n        }\n        if (nums[i] &lt; 1 || nums[i] &gt; 48) {\n            //out of number range tell user of error\n            return;\n        }\n        if (!set.add(nums[i])) {\n            //duplicate element tell user of error\n            return;\n        }\n    }\n    //do what you want with the data now\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3988805,"reputation":509,"user_id":3288493,"accept_rate":96,"display_name":"Seeker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394732985,"creation_date":1394732985,"answer_id":22386851,"question_id":22386693,"body_markdown":"    JTextField field = new JTextField();\r\n    \r\n    \r\n    do{\r\n       int number = Interger.parseInterger(field.getText()); // this is how you will parse it into int\r\n    \r\n       if (number &lt; 1 || number is &gt; 48){\r\n        System.Out.Println(&quot;Error, try again&quot;);\r\n    }\r\n    \r\n    }while(number &gt; 0 || number is &lt; 49)","title":"Input validation in Swing","body":"<pre><code>JTextField field = new JTextField();\n\n\ndo{\n   int number = Interger.parseInterger(field.getText()); // this is how you will parse it into int\n\n   if (number &lt; 1 || number is &gt; 48){\n    System.Out.Println(\"Error, try again\");\n}\n\n}while(number &gt; 0 || number is &lt; 49)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1664296660,"creation_date":1394752619,"answer_id":22393022,"question_id":22386693,"body_markdown":"There a number of ways that this might be achieved depending on how you want to achieve it...\r\n\r\n## You Could... ##\r\n\r\nUse a [`JFormattedTextField`](http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html), this will  validate the user inpur when the field is actioned or focus is lost, discard, what it considers to be, invalid input.\r\n\r\nThis is good for post validation of most common formats but does lack some flexibility...\r\n\r\n## You Could... ##\r\n\r\nUse a [`JSpinner`](http://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html), this will validate the user input after the field is actioned or focus is lost.  This is good when you want to allow the user to quickly move between values without the need to actually type something (click up or down is much easier the selecting the field, moving to the right, deleting the last character and incrementing the value by one...for example :P)\r\n\r\n## You Could... ##\r\n\r\nUse a [`InputVerifier`](http://docs.oracle.com/javase/tutorial/uiswing/misc/focus.html#inputVerification) to perform your own validation and take appropriate steps based on your needs.\r\n\r\nTechnically, you could use this with the other solutions, but it might effect how `JFormattedField` and `JSpinner` work, so be careful.\r\n\r\nThis provides you with the ability to define the actual rules used to post validate the field when it is actioned or focus is lost.  It also allows you to decide how focus transversal should work when the field is invalid, allowing to maintain focus on the field until the value is valid if you want.\r\n\r\nYou could also display an error message here as well...\r\n\r\n## You Could... ##\r\n\r\nUse a [`DocumentFilter`](http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter), which would allow you to do real time valildation of the input as the user makes it, discard invalid characters in real time.\r\n\r\nThis is one of the most complex solutions, but can also be one of the most useful.\r\n\r\nFor examples see [MDP&#39;s blog][1] (archived). \r\n\r\n\r\n  [1]: https://web.archive.org/web/20170730154818/http://www.jroller.com/dpmihai/entry/documentfilter","title":"Input validation in Swing","body":"<p>There a number of ways that this might be achieved depending on how you want to achieve it...</p>\n<h2>You Could...</h2>\n<p>Use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/formattedtextfield.html\" rel=\"nofollow noreferrer\"><code>JFormattedTextField</code></a>, this will  validate the user inpur when the field is actioned or focus is lost, discard, what it considers to be, invalid input.</p>\n<p>This is good for post validation of most common formats but does lack some flexibility...</p>\n<h2>You Could...</h2>\n<p>Use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/spinner.html\" rel=\"nofollow noreferrer\"><code>JSpinner</code></a>, this will validate the user input after the field is actioned or focus is lost.  This is good when you want to allow the user to quickly move between values without the need to actually type something (click up or down is much easier the selecting the field, moving to the right, deleting the last character and incrementing the value by one...for example :P)</p>\n<h2>You Could...</h2>\n<p>Use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/misc/focus.html#inputVerification\" rel=\"nofollow noreferrer\"><code>InputVerifier</code></a> to perform your own validation and take appropriate steps based on your needs.</p>\n<p>Technically, you could use this with the other solutions, but it might effect how <code>JFormattedField</code> and <code>JSpinner</code> work, so be careful.</p>\n<p>This provides you with the ability to define the actual rules used to post validate the field when it is actioned or focus is lost.  It also allows you to decide how focus transversal should work when the field is invalid, allowing to maintain focus on the field until the value is valid if you want.</p>\n<p>You could also display an error message here as well...</p>\n<h2>You Could...</h2>\n<p>Use a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\"><code>DocumentFilter</code></a>, which would allow you to do real time valildation of the input as the user makes it, discard invalid characters in real time.</p>\n<p>This is one of the most complex solutions, but can also be one of the most useful.</p>\n<p>For examples see <a href=\"https://web.archive.org/web/20170730154818/http://www.jroller.com/dpmihai/entry/documentfilter\" rel=\"nofollow noreferrer\">MDP's blog</a> (archived).</p>\n"}],"owner":{"account_id":4168146,"reputation":1,"user_id":3416641,"display_name":"user3416641"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1664296660,"creation_date":1394732580,"question_id":22386693,"body_markdown":"I have made form in swing with 6 jTextFields. User should be able to input only numbers from 1 to 48 in each of Text fields. There should be also check to see if any of numbers repeat and app should check if any field is left blank.\r\n\r\nI know how to do this in VB.net but i&#39;m new to java in general.\r\n\r\nIn VB.net i would put all textfields in array and then check to see if all text fields are filled in, are the numbers in range and check if there is a duplicate number in any field. If all criteria is met i would proceed to send inputs to database. \r\n\r\nI am fairly new to java so if anyone could help me or point me in right direction that would be awesome.\r\n","title":"Input validation in Swing","body":"<p>I have made form in swing with 6 jTextFields. User should be able to input only numbers from 1 to 48 in each of Text fields. There should be also check to see if any of numbers repeat and app should check if any field is left blank.</p>\n\n<p>I know how to do this in VB.net but i'm new to java in general.</p>\n\n<p>In VB.net i would put all textfields in array and then check to see if all text fields are filled in, are the numbers in range and check if there is a duplicate number in any field. If all criteria is met i would proceed to send inputs to database. </p>\n\n<p>I am fairly new to java so if anyone could help me or point me in right direction that would be awesome.</p>\n"},{"tags":["java","maven","selenium","cucumber"],"comments":[{"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"score":0,"creation_date":1505458748,"post_id":46233489,"comment_id":79430380,"body_markdown":"You do not have the following class import listed: `import cucumber.api.CucumberOptions;`","body":"You do not have the following class import listed: <code>import cucumber.api.CucumberOptions;</code>"},{"owner":{"account_id":4347208,"reputation":73,"user_id":3548850,"accept_rate":29,"display_name":"user3548850"},"score":0,"creation_date":1505458876,"post_id":46233489,"comment_id":79430460,"body_markdown":"On adding that I was getting &quot;The import cucumber.api.CucumberOptions cannot be resolved&quot; error .","body":"On adding that I was getting &quot;The import cucumber.api.CucumberOptions cannot be resolved&quot; error ."},{"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"score":2,"creation_date":1505459049,"post_id":46233489,"comment_id":79430562,"body_markdown":"Eclipse is quite special regarding Maven. After running `mvn clean install` to compile a project, you also need to run `mvn eclipse:clean eclipse:eclipse` to update the Eclipse configuration of the project.","body":"Eclipse is quite special regarding Maven. After running <code>mvn clean install</code> to compile a project, you also need to run <code>mvn eclipse:clean eclipse:eclipse</code> to update the Eclipse configuration of the project."},{"owner":{"account_id":4347208,"reputation":73,"user_id":3548850,"accept_rate":29,"display_name":"user3548850"},"score":0,"creation_date":1505459891,"post_id":46233489,"comment_id":79431023,"body_markdown":"did it and restated but still the same . Some how it works fine with my system fine at home . But the same code here doesnt work .","body":"did it and restated but still the same . Some how it works fine with my system fine at home . But the same code here doesnt work ."},{"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"score":1,"creation_date":1515058256,"post_id":46233489,"comment_id":83158825,"body_markdown":"Do you actually have the Cucumber dependencies downloaded?","body":"Do you actually have the Cucumber dependencies downloaded?"}],"answers":[{"tags":[],"owner":{"account_id":9892893,"reputation":275,"user_id":7325348,"display_name":"gary.zhang"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514678805,"creation_date":1514678805,"answer_id":48038928,"question_id":46233489,"body_markdown":"I met the same issue. cucumber-java 1.2.2 is working for me.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"CucumberOptions cannot be resolved to a type","body":"<p>I met the same issue. cucumber-java 1.2.2 is working for me.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n    &lt;version&gt;1.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12201179,"reputation":1,"user_id":8905405,"display_name":"Arjun Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573982434,"creation_date":1573982434,"answer_id":58899050,"question_id":46233489,"body_markdown":"To Resolve this import - import cucumber.api.CucumberOptions;\r\n\r\nadd the below maven dependency- \r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;`\r\n&lt;version&gt;1.2.5&lt;/version&gt;\r\n&lt;/dependency&gt;","title":"CucumberOptions cannot be resolved to a type","body":"<p>To Resolve this import - import cucumber.api.CucumberOptions;</p>\n\n<p>add the below maven dependency- </p>\n\n<p>\n    info.cukes\n    cucumber-core`\n1.2.5\n</p>\n"},{"tags":[],"owner":{"account_id":17590119,"reputation":1,"user_id":12762167,"display_name":"KEERTHI RAM PUVVADA"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1579701250,"creation_date":1579701250,"answer_id":59861303,"question_id":46233489,"body_markdown":"This option worked out very well.\r\n\r\n- import cucumber.api.junit.Cucumber; then change the scope of this dependency at Compile level instead of Test. &lt;dependency&gt; &lt;groupId&gt;info.cukes&lt;/groupId&gt; &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt; &lt;version&gt;1.2.5&lt;/version&gt; &lt;scope&gt;compile&lt;/scope&gt; &lt;/dependency&gt; ","title":"CucumberOptions cannot be resolved to a type","body":"<p>This option worked out very well.</p>\n\n<ul>\n<li>import cucumber.api.junit.Cucumber; then change the scope of this dependency at Compile level instead of Test.  info.cukes cucumber-junit 1.2.5 compile  </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":19925137,"reputation":41,"user_id":14600025,"display_name":"Mohammad Shahnawaz"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1605764937,"creation_date":1605449395,"answer_id":64845362,"question_id":46233489,"body_markdown":"I was facing the same issue and resolved the error by including following maven dependency:\r\n```xml\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\nThanks.\r\n","title":"CucumberOptions cannot be resolved to a type","body":"<p>I was facing the same issue and resolved the error by including following maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Thanks.</p>\n"},{"tags":[],"owner":{"account_id":10266657,"reputation":71,"user_id":7576432,"display_name":"newdoct"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637353942,"creation_date":1637353942,"answer_id":70040617,"question_id":46233489,"body_markdown":"This answer is outdated.\r\n\r\nAssuming you are either doing a new project or don&#39;t rely on any related legacy version code.\r\n\r\nNow you need \r\n```\r\nimport io.cucumber.junit.CucumberOptions;\r\n```\r\n\r\nin maven pom.xml, and replace the 7.0.0 to the most recent version.\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n  &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n  &lt;version&gt;7.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"CucumberOptions cannot be resolved to a type","body":"<p>This answer is outdated.</p>\n<p>Assuming you are either doing a new project or don't rely on any related legacy version code.</p>\n<p>Now you need</p>\n<pre><code>import io.cucumber.junit.CucumberOptions;\n</code></pre>\n<p>in maven pom.xml, and replace the 7.0.0 to the most recent version.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n  &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n  &lt;version&gt;7.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5194410,"reputation":616,"user_id":4156237,"display_name":"Tuan Hoang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638168665,"creation_date":1638168665,"answer_id":70150730,"question_id":46233489,"body_markdown":"I am currently working with Cucumber (it&#39;s end of Nov, 2021 and I believe that the version is newer than the answer) and I am following [this document][1]. Please also check their skeleton pom file [here][2] for the dependencies.\r\n\r\nThe setup is now use\r\n```\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;com/example&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.example&quot;)\r\npublic class RunCucumberTest {\r\n}\r\n```\r\n\r\nand for the `@CucumberOptions`, you can use `junit-platform.properties` to config. \r\n\r\nFor more details about the properties configuration, you can find [here][3]\r\n\r\nI also have [an example][4] if you are interested in.\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/blob/main/junit-platform-engine/README.md\r\n  [2]: https://github.com/cucumber/cucumber-java-skeleton/blob/main/pom.xml\r\n  [3]: http://junit-platform.properties\r\n  [4]: https://github.com/tuanmhoang/testing/tree/main/bdd-cucumber","title":"CucumberOptions cannot be resolved to a type","body":"<p>I am currently working with Cucumber (it's end of Nov, 2021 and I believe that the version is newer than the answer) and I am following <a href=\"https://github.com/cucumber/cucumber-jvm/blob/main/junit-platform-engine/README.md\" rel=\"nofollow noreferrer\">this document</a>. Please also check their skeleton pom file <a href=\"https://github.com/cucumber/cucumber-java-skeleton/blob/main/pom.xml\" rel=\"nofollow noreferrer\">here</a> for the dependencies.</p>\n<p>The setup is now use</p>\n<pre><code>import org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;com/example&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.example&quot;)\npublic class RunCucumberTest {\n}\n</code></pre>\n<p>and for the <code>@CucumberOptions</code>, you can use <code>junit-platform.properties</code> to config.</p>\n<p>For more details about the properties configuration, you can find <a href=\"http://junit-platform.properties\" rel=\"nofollow noreferrer\">here</a></p>\n<p>I also have <a href=\"https://github.com/tuanmhoang/testing/tree/main/bdd-cucumber\" rel=\"nofollow noreferrer\">an example</a> if you are interested in.</p>\n"},{"tags":[],"owner":{"account_id":23178601,"reputation":3,"user_id":17276742,"display_name":"Saikumar Reddy Yelampalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638309146,"creation_date":1638245913,"answer_id":70164243,"question_id":46233489,"body_markdown":"Try using this dependency:\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;tech.grasshopper&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;extentreports-cucumber6-adapter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"CucumberOptions cannot be resolved to a type","body":"<p>Try using this dependency:\n\ntech.grasshopper\nextentreports-cucumber6-adapter\n2.1.0\n</p>\n"},{"tags":[],"owner":{"account_id":23731886,"reputation":31,"user_id":17751021,"display_name":"Manish Nagle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1640362390,"creation_date":1640290148,"answer_id":70466945,"question_id":46233489,"body_markdown":"    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n\r\nMost probably both are not getting resolved.\r\n\r\nSolution:\r\n\r\n 1. Step 1: Change scope of &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt; from\r\n    test to compile.\r\n    \r\n 2. Step 2:  In your Test runner class\r\n\r\n**Import Below:** \r\n\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import io.cucumber.junit.Cucumber;\r\n    \r\nInstead of :\r\n\r\n    import cucumber.api.CucumberOptions;\r\n    import cucumber.api.junit.Cucumber;\r\n\r\n**Working for me**","title":"CucumberOptions cannot be resolved to a type","body":"<pre><code>import cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n</code></pre>\n<p>Most probably both are not getting resolved.</p>\n<p>Solution:</p>\n<ol>\n<li><p>Step 1: Change scope of cucumber-junit from\ntest to compile.</p>\n</li>\n<li><p>Step 2:  In your Test runner class</p>\n</li>\n</ol>\n<p><strong>Import Below:</strong></p>\n<pre><code>import io.cucumber.junit.CucumberOptions;\nimport io.cucumber.junit.Cucumber;\n</code></pre>\n<p>Instead of :</p>\n<pre><code>import cucumber.api.CucumberOptions;\nimport cucumber.api.junit.Cucumber;\n</code></pre>\n<p><strong>Working for me</strong></p>\n"},{"tags":[],"owner":{"account_id":3903431,"reputation":391,"user_id":3230647,"display_name":"lionxlamb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653099226,"creation_date":1653099226,"answer_id":72326194,"question_id":46233489,"body_markdown":"Remove the scope from the dependency. That resolved the issue for me.\r\n\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n\r\n\r\nFollowing should be your dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n    &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    &lt;version&gt;7.3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"CucumberOptions cannot be resolved to a type","body":"<p>Remove the scope from the dependency. That resolved the issue for me.</p>\n<pre><code>&lt;scope&gt;test&lt;/scope&gt;\n</code></pre>\n<p>Following should be your dependency</p>\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n&lt;version&gt;7.3.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":4347208,"reputation":73,"user_id":3548850,"accept_rate":29,"display_name":"user3548850"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33646,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":9,"score":5,"last_activity_date":1664296546,"creation_date":1505458497,"question_id":46233489,"body_markdown":"In my testrunner class, on using `@CucumberOptions`, I am getting an error message saying &quot;CucumberOptions cannot be resolved to a type&quot;. I am using the latest version of eclipse cucumber dependencies. I have tried every possible way by installing and uninstalling eclipse, by lowering the cucumber dependencies version.  \r\n       \r\n    \r\n   \r\n    \r\n    \r\nMy runner class is : \r\n\r\n    import org.junit.runner.RunWith;\r\n    import cucumber.api.junit.*;\r\n    import cucumber.api.testng.AbstractTestNGCucumberTests;    \r\n        \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n    \t\t// format = {&quot;pretty&quot;,&quot;html:target/html/&quot; } ,\r\n    \t\tfeatures = &quot;src/test/resources&quot;, glue = &quot;com.cucumber.bhsibase.party.tests&quot;)\r\n    public class TestRunner extends AbstractTestNGCucumberTests {\r\n    }\r\n    \r\n   \r\n    \r\nAnd my POM.xml : \r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;BHSI_BASE&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;BHSI_BASE&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;BHSI_BASE&lt;/name&gt;\r\n    \t&lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- dependencies added for testng start --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;6.11&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- dependencies added for testng completed --&gt;\r\n    \r\n    \t\t&lt;!-- dependencies on cucumber jarss --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jdom&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jdom&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.53.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;info.cukes&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2.5&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n            &lt;!-- dependencies on log4j jarss --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n    \r\nPlease let me know how to proceed ahead with this . \r\n\r\n","title":"CucumberOptions cannot be resolved to a type","body":"<p>In my testrunner class, on using <code>@CucumberOptions</code>, I am getting an error message saying \"CucumberOptions cannot be resolved to a type\". I am using the latest version of eclipse cucumber dependencies. I have tried every possible way by installing and uninstalling eclipse, by lowering the cucumber dependencies version.  </p>\n\n<p>My runner class is : </p>\n\n<pre><code>import org.junit.runner.RunWith;\nimport cucumber.api.junit.*;\nimport cucumber.api.testng.AbstractTestNGCucumberTests;    \n\n@RunWith(Cucumber.class)\n@CucumberOptions(\n        // format = {\"pretty\",\"html:target/html/\" } ,\n        features = \"src/test/resources\", glue = \"com.cucumber.bhsibase.party.tests\")\npublic class TestRunner extends AbstractTestNGCucumberTests {\n}\n</code></pre>\n\n<p>And my POM.xml : </p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;BHSI_BASE&lt;/groupId&gt;\n    &lt;artifactId&gt;BHSI_BASE&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;BHSI_BASE&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- dependencies added for testng start --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\n            &lt;version&gt;6.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/info.cukes/cucumber-testng --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- dependencies added for testng completed --&gt;\n\n        &lt;!-- dependencies on cucumber jarss --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jdom&lt;/groupId&gt;\n            &lt;artifactId&gt;jdom&lt;/artifactId&gt;\n            &lt;version&gt;1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-server&lt;/artifactId&gt;\n            &lt;version&gt;2.53.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-jvm&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- dependencies on log4j jarss --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Please let me know how to proceed ahead with this . </p>\n"},{"tags":["java","selenium","selenium-webdriver","webdriver","guava"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1612044294,"creation_date":1612044294,"answer_id":65973602,"question_id":65973443,"body_markdown":"This error message...\r\n\r\n\tjava.lang.NoSuchMethodError: &#39;java.util.stream.Collector com.google.common.collect.ImmutableList.toImmutableList()&#39;\r\n\r\n...implies that there is some **incompatibility** between the version of the binaries you are using.\r\n\r\nThe [Selenium](https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491) project with Junit in which you see this error have mismatched versions of [**guava**](https://stackoverflow.com/questions/57634492/org-openqa-selenium-remote-service-driverservicebuilder-createargslcom-google/57658406#57658406) installed.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nYou need to configure compatible version of [**guava**](https://stackoverflow.com/questions/51856558/java-lang-nosuchmethoderror-com-google-common-base-preconditions-checkargument/51872398#51872398) as per the list below:\r\n\r\n- **`Selenium v2.49.0`** : Bump guava to version 19\r\n- **`Selenium v3.1.0`** : Requires an update to the  latest guava version 21.0\r\n- **`Selenium v3.5.0`** : Bump guava to version 22.\r\n- **`Selenium v3.5.1`** : Bump guava to version 23.\r\n- **`Selenium v3.12.0`** : guava-23.6-jre\r\n- **`Selenium v3.13.0`** : guava-25.0-jre\r\n- **`Selenium v3.14.0`** : guava-25.0-jre\r\n- **`Selenium v3.141.0`** : guava-25.0-jre\r\n- **`Selenium v3.141.5`** : guava-25.0-jre\r\n- **`Selenium v3.141.59`** : guava-25.0-jre\r\n\r\n\r\n----------\r\n\r\n\r\nReferences\r\n----------\r\nYou can find a couple of relevant detailed discussion in:\r\n\r\n- [Incompatible library version selenium / guava](https://stackoverflow.com/questions/50284776/incompatible-library-version-selenium-guava/50287063#50287063)\r\n- [Exception in thread “main” java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;Ljava/lang/Object;)](https://stackoverflow.com/questions/52014053/exception-in-thread-main-java-lang-nosuchmethoderror-com-google-common-base-p/52034052#52034052)","title":"java.lang.NoSuchMethodError: &#39;java.util.stream.Collector com.google.common.collect.ImmutableList.toImmutableList()&#39; using ChromeDriver and Selenium","body":"<p>This error message...</p>\n<pre><code>java.lang.NoSuchMethodError: 'java.util.stream.Collector com.google.common.collect.ImmutableList.toImmutableList()'\n</code></pre>\n<p>...implies that there is some <strong>incompatibility</strong> between the version of the binaries you are using.</p>\n<p>The <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">Selenium</a> project with Junit in which you see this error have mismatched versions of <a href=\"https://stackoverflow.com/questions/57634492/org-openqa-selenium-remote-service-driverservicebuilder-createargslcom-google/57658406#57658406\"><strong>guava</strong></a> installed.</p>\n<hr />\n<h2>Solution</h2>\n<p>You need to configure compatible version of <a href=\"https://stackoverflow.com/questions/51856558/java-lang-nosuchmethoderror-com-google-common-base-preconditions-checkargument/51872398#51872398\"><strong>guava</strong></a> as per the list below:</p>\n<ul>\n<li><strong><code>Selenium v2.49.0</code></strong> : Bump guava to version 19</li>\n<li><strong><code>Selenium v3.1.0</code></strong> : Requires an update to the  latest guava version 21.0</li>\n<li><strong><code>Selenium v3.5.0</code></strong> : Bump guava to version 22.</li>\n<li><strong><code>Selenium v3.5.1</code></strong> : Bump guava to version 23.</li>\n<li><strong><code>Selenium v3.12.0</code></strong> : guava-23.6-jre</li>\n<li><strong><code>Selenium v3.13.0</code></strong> : guava-25.0-jre</li>\n<li><strong><code>Selenium v3.14.0</code></strong> : guava-25.0-jre</li>\n<li><strong><code>Selenium v3.141.0</code></strong> : guava-25.0-jre</li>\n<li><strong><code>Selenium v3.141.5</code></strong> : guava-25.0-jre</li>\n<li><strong><code>Selenium v3.141.59</code></strong> : guava-25.0-jre</li>\n</ul>\n<hr />\n<h2>References</h2>\n<p>You can find a couple of relevant detailed discussion in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50284776/incompatible-library-version-selenium-guava/50287063#50287063\">Incompatible library version selenium / guava</a></li>\n<li><a href=\"https://stackoverflow.com/questions/52014053/exception-in-thread-main-java-lang-nosuchmethoderror-com-google-common-base-p/52034052#52034052\">Exception in thread “main” java.lang.NoSuchMethodError: com.google.common.base.Preconditions.checkState(ZLjava/lang/String;Ljava/lang/Object;)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4027,"user_id":5844686,"display_name":"Big Pumpkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640975376,"creation_date":1640975376,"answer_id":70544839,"question_id":65973443,"body_markdown":"Changing \r\n\r\n`org.seleniumhq.selenium:selenium-java:3.141.59` to \r\n\r\n`org.seleniumhq.selenium:selenium-java:4.1.1` \r\n\r\nin my gradle fixed it.","title":"java.lang.NoSuchMethodError: &#39;java.util.stream.Collector com.google.common.collect.ImmutableList.toImmutableList()&#39; using ChromeDriver and Selenium","body":"<p>Changing</p>\n<p><code>org.seleniumhq.selenium:selenium-java:3.141.59</code> to</p>\n<p><code>org.seleniumhq.selenium:selenium-java:4.1.1</code></p>\n<p>in my gradle fixed it.</p>\n"}],"owner":{"account_id":19846227,"reputation":435,"user_id":14537803,"display_name":"Simone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16537,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1664296487,"creation_date":1612043147,"question_id":65973443,"body_markdown":"I&#39;m working on Selenium and I have this test method:\r\n\r\n\t@Test\r\n\tpublic void testHeight() {\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Drivers/chromedriver.exe&quot;);\r\n\t\t\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.get(&quot;https://www.rapidtables.com/convert/length/feet-to-cm.html&quot;);\r\n\t\t\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;x\\&quot;]&quot;)).sendKeys(&quot;6&quot;);\r\n\t\tdriver.findElement(By.xpath(&quot;//*[@id=\\&quot;calc\\&quot;]&quot;)).click();\r\n\t\t\r\n\t\tWebElement txtBoxContent = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;doc\\&quot;]/form/table/tbody/tr[3]/td[2]/input&quot;));\r\n\t\t\r\n\t\tString result = txtBoxContent.getAttribute(&quot;value&quot;);\r\n\t\t\r\n\t\tdriver.close();\r\n\t\t\r\n\t\tSystem.out.println(&quot;The value is: &quot; + result);\r\n\t\t\r\n\t\tassertEquals((double)180,Double.valueOf(result), 5);\r\n\t\t\r\n\t}\r\n\r\n\r\n\r\nWhen I try to run Selenium in my project with Junit I receive this error.\r\nThe strange thing is that I try to run the method in a new project that has only the method and all work fine. I didn&#39;t forget anything, Drivers/chromedriver.exe is included in my project, all the Selenium driver are added in the classpath.\r\n\r\n    java.lang.NoSuchMethodError: &#39;java.util.stream.Collector com.google.common.collect.ImmutableList.toImmutableList()&#39;\r\n    \tat org.openqa.selenium.chrome.ChromeOptions.asMap(ChromeOptions.java:292)\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:94)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\r\n    \tat test.selenium.TestAttractionViewSortByDistance.testHeight(TestAttractionViewSortByDistance.java:18)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:564)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n    \tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n    \tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n    \tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n    \tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n    \tat java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n    \tat java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\r\n    \tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\r\n    \tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\r\n    \tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)\r\n    \tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\r\n    \tat org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\r\n\r\n\r\n**EDIT**:\r\n\r\nThe problem was that the selenium libraries needs to be added also in WebContent/lib.\r\n","title":"java.lang.NoSuchMethodError: &#39;java.util.stream.Collector com.google.common.collect.ImmutableList.toImmutableList()&#39; using ChromeDriver and Selenium","body":"<p>I'm working on Selenium and I have this test method:</p>\n<pre><code>@Test\npublic void testHeight() {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;Drivers/chromedriver.exe&quot;);\n    \n    WebDriver driver = new ChromeDriver();\n    driver.get(&quot;https://www.rapidtables.com/convert/length/feet-to-cm.html&quot;);\n    \n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;x\\&quot;]&quot;)).sendKeys(&quot;6&quot;);\n    driver.findElement(By.xpath(&quot;//*[@id=\\&quot;calc\\&quot;]&quot;)).click();\n    \n    WebElement txtBoxContent = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;doc\\&quot;]/form/table/tbody/tr[3]/td[2]/input&quot;));\n    \n    String result = txtBoxContent.getAttribute(&quot;value&quot;);\n    \n    driver.close();\n    \n    System.out.println(&quot;The value is: &quot; + result);\n    \n    assertEquals((double)180,Double.valueOf(result), 5);\n    \n}\n</code></pre>\n<p>When I try to run Selenium in my project with Junit I receive this error.\nThe strange thing is that I try to run the method in a new project that has only the method and all work fine. I didn't forget anything, Drivers/chromedriver.exe is included in my project, all the Selenium driver are added in the classpath.</p>\n<pre><code>java.lang.NoSuchMethodError: 'java.util.stream.Collector com.google.common.collect.ImmutableList.toImmutableList()'\n    at org.openqa.selenium.chrome.ChromeOptions.asMap(ChromeOptions.java:292)\n    at org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:94)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:83)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:181)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:168)\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:123)\n    at test.selenium.TestAttractionViewSortByDistance.testHeight(TestAttractionViewSortByDistance.java:18)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:564)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:43)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at java.base/java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:82)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:73)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:248)\n    at org.junit.platform.launcher.core.DefaultLauncher.lambda$execute$5(DefaultLauncher.java:211)\n    at org.junit.platform.launcher.core.DefaultLauncher.withInterceptedStreams(DefaultLauncher.java:226)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:199)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:141)\n    at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:98)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:41)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:542)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:770)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:464)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:210)\n</code></pre>\n<p><strong>EDIT</strong>:</p>\n<p>The problem was that the selenium libraries needs to be added also in WebContent/lib.</p>\n"},{"tags":["java","spring","multithreading","spring-boot","completable-future"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1664300852,"post_id":73870892,"comment_id":130438639,"body_markdown":"You don&#39;t. Also you shouldn&#39;t be calling `get` on each and every completable future but rather `join` all of them in 1 single `CompletableFuture` and then call the `handle` method, which either gives you the result else the exception. Everything else will be handled for you then.","body":"You don&#39;t. Also you shouldn&#39;t be calling <code>get</code> on each and every completable future but rather <code>join</code> all of them in 1 single <code>CompletableFuture</code> and then call the <code>handle</code> method, which either gives you the result else the exception. Everything else will be handled for you then."},{"owner":{"account_id":13784342,"reputation":79,"user_id":9948679,"display_name":"anshu_anand"},"score":0,"creation_date":1664303049,"post_id":73870892,"comment_id":130439313,"body_markdown":"Can you please elaborate your answer showing code ?","body":"Can you please elaborate your answer showing code ?"},{"owner":{"account_id":13784342,"reputation":79,"user_id":9948679,"display_name":"anshu_anand"},"score":0,"creation_date":1664303267,"post_id":73870892,"comment_id":130439381,"body_markdown":"@M.Deinum , Can I know what exception has been thrown by different threads ? Or will `join` stop everything else if exception is thrown by one thread ? Can you please elaborate on it as I am a beginner in this ?","body":"@M.Deinum , Can I know what exception has been thrown by different threads ? Or will <code>join</code> stop everything else if exception is thrown by one thread ? Can you please elaborate on it as I am a beginner in this ?"}],"owner":{"account_id":13784342,"reputation":79,"user_id":9948679,"display_name":"anshu_anand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664296119,"creation_date":1664296119,"question_id":73870892,"body_markdown":"I am having an async method . \r\n\r\n        @Async\r\n        public CompletableFuture&lt;Void&gt; getRandom(){\r\n         // Return null or some exception is thrown\r\n         // I will be calling restTemplate.getForEntity() here\r\n         // So I can get some correct response or I can get HttpClientErrorException or HttpServerErrorException\r\n        }\r\n\r\nThis is being called in following way : -\r\n\r\n    List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;() ;\r\n    \r\n    for(int i = 0 ; i &lt; 5 ; i++){\r\n        futures.add(commonUtil.getRandom());\r\n     }\r\n       \r\n       for(CompletableFuture&lt;Void&gt; future : futures){\r\n      try{\r\n        future.get();\r\n      }catch ( ExecutionException ex){\r\n    \r\n        Throwable ee = ex.getCause() ;\r\n        if(ee instanceof CustomException){\r\n        \r\n           CustomException exception = (CustomException) ee ;\r\n           System.out.println(ex.getMessage());\r\n    \r\n           throw exception ;\r\n\r\n\r\nSo as I am calling Async method inside loop , so whenever I get the customexception from any one of them , I want to kill all other treads which was triggered inside the loop and send this exception to the ***Controller*** ( as I want it to send to the client ) .\r\n\r\nHow can I do that ?\r\n\r\nAny help is appreciated .\r\n","title":"Stopping threads started by @Async in Spring Boot","body":"<p>I am having an async method .</p>\n<pre><code>    @Async\n    public CompletableFuture&lt;Void&gt; getRandom(){\n     // Return null or some exception is thrown\n     // I will be calling restTemplate.getForEntity() here\n     // So I can get some correct response or I can get HttpClientErrorException or HttpServerErrorException\n    }\n</code></pre>\n<p>This is being called in following way : -</p>\n<pre><code>List&lt;CompletableFuture&lt;Void&gt;&gt; futures = new ArrayList&lt;&gt;() ;\n\nfor(int i = 0 ; i &lt; 5 ; i++){\n    futures.add(commonUtil.getRandom());\n }\n   \n   for(CompletableFuture&lt;Void&gt; future : futures){\n  try{\n    future.get();\n  }catch ( ExecutionException ex){\n\n    Throwable ee = ex.getCause() ;\n    if(ee instanceof CustomException){\n    \n       CustomException exception = (CustomException) ee ;\n       System.out.println(ex.getMessage());\n\n       throw exception ;\n</code></pre>\n<p>So as I am calling Async method inside loop , so whenever I get the customexception from any one of them , I want to kill all other treads which was triggered inside the loop and send this exception to the <em><strong>Controller</strong></em> ( as I want it to send to the client ) .</p>\n<p>How can I do that ?</p>\n<p>Any help is appreciated .</p>\n"},{"tags":["java","regex","vtl"],"answers":[{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664296000,"creation_date":1664296000,"answer_id":73870869,"question_id":73870602,"body_markdown":"You might use:\r\n\r\n    ^\\s*\\&quot;([^\\&quot;]+)\\&quot;:.*(?=,)\r\n\r\n**Explanation**\r\n\r\n- `^` Start of string\r\n- `\\s*` Match optional whitespace chars (Or use `\\h*` in Java to not match newlines)\r\n- `\\&quot;([^\\&quot;]+)\\&quot;` Capture in group 1 all between double quotes\r\n- `:.*` Match `:` and then the rest of the line\r\n- `(?=,)` Positive lookahead, assert a comma to the right\r\n\r\n[Regex demo](https://regex101.com/r/krT8qP/1)\r\n\r\nIn the replacement use capture group 1.\r\n\r\nThe result after the replacement:\r\n\r\n    open,\r\n    onDidDismiss,\r\n    message,\r\n    showAddReceiptModal,\r\n    showModal,\r\n    vehicleTabRef,\r\n    onReceiptSubmit,\r\n    vehicle,\r\n    showModal1,\r\n    showModal2,\r\n    selectedReceipt,\r\n    onClick,\r\n    onClick1,\r\n    dataEditing,\r\n    toastMessage,\r\n    editing,\r\n    showToast,\r\n    showModal3,\r\n    showModal4,\r\n    dateFilter,","title":"Remove values from Java map and replace with comma using Regex","body":"<p>You might use:</p>\n<pre><code>^\\s*\\&quot;([^\\&quot;]+)\\&quot;:.*(?=,)\n</code></pre>\n<p><strong>Explanation</strong></p>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>\\s*</code> Match optional whitespace chars (Or use <code>\\h*</code> in Java to not match newlines)</li>\n<li><code>\\&quot;([^\\&quot;]+)\\&quot;</code> Capture in group 1 all between double quotes</li>\n<li><code>:.*</code> Match <code>:</code> and then the rest of the line</li>\n<li><code>(?=,)</code> Positive lookahead, assert a comma to the right</li>\n</ul>\n<p><a href=\"https://regex101.com/r/krT8qP/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n<p>In the replacement use capture group 1.</p>\n<p>The result after the replacement:</p>\n<pre><code>open,\nonDidDismiss,\nmessage,\nshowAddReceiptModal,\nshowModal,\nvehicleTabRef,\nonReceiptSubmit,\nvehicle,\nshowModal1,\nshowModal2,\nselectedReceipt,\nonClick,\nonClick1,\ndataEditing,\ntoastMessage,\nediting,\nshowToast,\nshowModal3,\nshowModal4,\ndateFilter,\n</code></pre>\n"}],"owner":{"account_id":17290538,"reputation":750,"user_id":12522186,"display_name":"klaurtar1"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664296000,"creation_date":1664294751,"question_id":73870602,"body_markdown":"I have a regular expression that will target everything to the right of &quot;:&quot; in a map and to the left of a &quot;,&quot;\r\n\r\nI am using this RegExp:\r\n\r\n    :(.*?)(,|})\r\n\r\nLike this:\r\n\r\n    $PROP_TYPES.replaceAll(&quot;:(.*?)(,|})&quot;, &quot;,&quot;).concat(&quot;}&quot;)\r\n\r\nThis works well for the most part, except when the expression runs into objects that are on the right side of the &quot;:&quot;\r\n\r\nFor example, on a list of prop type definitions in TypeScript:\r\n\r\n      &quot;open&quot;: &quot;boolean&quot;,\r\n      &quot;onDidDismiss&quot;: &quot;() =&gt; void&quot;,\r\n      &quot;message&quot;: &quot;string&quot;,\r\n      &quot;showAddReceiptModal&quot;: &quot;boolean&quot;,\r\n      &quot;showModal&quot;: &quot;(value: (((prevState: boolean) =&gt; boolean) | boolean)) =&gt; void&quot;,\r\n      &quot;vehicleTabRef&quot;: &quot;React.MutableRefObject&lt;null&gt;&quot;,\r\n      &quot;onReceiptSubmit&quot;: &quot;(data) =&gt; void&quot;,\r\n      &quot;vehicle&quot;: &quot;any&quot;,\r\n      &quot;showModal1&quot;: &quot;boolean&quot;,\r\n      &quot;showModal2&quot;: &quot;(value: (((prevState: boolean) =&gt; boolean) | boolean)) =&gt; void&quot;,\r\n      &quot;selectedReceipt&quot;: &quot;{ __typename: &quot;Receipt&quot; | undefined; id: string | undefined; purchaseDate: string | undefined; sellerName: string | undefined; sellerAddress: string | undefined; sellerCity: string | undefined; sellerState: string | undefined; sellerZipCode: string | undefined; totalAmount: number | undefined; gallonsPurchased: number | undefined; image?: string | null | undefined | undefined; userID?: string | null | undefined | undefined; vehicleID: string | undefined; vehicle?: Vehicle | null | undefined | undefined; taxRefund?: number | null | undefined | undefined; createdAt: string | undefined; updatedAt: string | undefined }&quot;,\r\n      &quot;onClick&quot;: &quot;() =&gt; void&quot;,\r\n      &quot;onClick1&quot;: &quot;() =&gt; void&quot;,\r\n      &quot;dataEditing&quot;: &quot;boolean&quot;,\r\n      &quot;toastMessage&quot;: &quot;(val) =&gt; void&quot;,\r\n      &quot;editing&quot;: &quot;(bool) =&gt; void&quot;,\r\n      &quot;showToast&quot;: &quot;(bool) =&gt; void&quot;,\r\n      &quot;showModal3&quot;: &quot;boolean&quot;,\r\n      &quot;showModal4&quot;: &quot;(bool) =&gt; void&quot;,\r\n      &quot;dateFilter&quot;: &quot;{ startDate: string; endDate: string }&quot;,\r\n\r\nWhen I run replaceAll with this regex, and the replacement is a comma I am left with this:\r\n\r\n  \r\n\r\n      open,\r\n      onDidDismiss,\r\n      message,\r\n      showAddReceiptModal,\r\n      showModal,\r\n      vehicleTabRef,\r\n      onReceiptSubmit,\r\n      vehicle,\r\n      showModal1,\r\n      showModal2,\r\n      selectedReceipt,                                                 \r\n      , \r\n      onClick, \r\n      onClick1, \r\n      dataEditing,\r\n      toastMessage, \r\n      editing, \r\n      showToast, \r\n      showModal3, \r\n      showModal4, \r\n      dateFilter, \r\n      , \r\n\r\nNotice the empty commas, these should not be here. This expression should target everything to the right of the &quot;:&quot; and replace it all with a comma.\r\n\r\nThis code is written in VTL to use with the Webstorm IDE to create quick typescript templates. But Java string manipulation works as well\r\n\r\nWhat regex can I use to only remove everything to the right of the `:` to the ending comma, and just leave that comma?","title":"Remove values from Java map and replace with comma using Regex","body":"<p>I have a regular expression that will target everything to the right of &quot;:&quot; in a map and to the left of a &quot;,&quot;</p>\n<p>I am using this RegExp:</p>\n<pre><code>:(.*?)(,|})\n</code></pre>\n<p>Like this:</p>\n<pre><code>$PROP_TYPES.replaceAll(&quot;:(.*?)(,|})&quot;, &quot;,&quot;).concat(&quot;}&quot;)\n</code></pre>\n<p>This works well for the most part, except when the expression runs into objects that are on the right side of the &quot;:&quot;</p>\n<p>For example, on a list of prop type definitions in TypeScript:</p>\n<pre><code>  &quot;open&quot;: &quot;boolean&quot;,\n  &quot;onDidDismiss&quot;: &quot;() =&gt; void&quot;,\n  &quot;message&quot;: &quot;string&quot;,\n  &quot;showAddReceiptModal&quot;: &quot;boolean&quot;,\n  &quot;showModal&quot;: &quot;(value: (((prevState: boolean) =&gt; boolean) | boolean)) =&gt; void&quot;,\n  &quot;vehicleTabRef&quot;: &quot;React.MutableRefObject&lt;null&gt;&quot;,\n  &quot;onReceiptSubmit&quot;: &quot;(data) =&gt; void&quot;,\n  &quot;vehicle&quot;: &quot;any&quot;,\n  &quot;showModal1&quot;: &quot;boolean&quot;,\n  &quot;showModal2&quot;: &quot;(value: (((prevState: boolean) =&gt; boolean) | boolean)) =&gt; void&quot;,\n  &quot;selectedReceipt&quot;: &quot;{ __typename: &quot;Receipt&quot; | undefined; id: string | undefined; purchaseDate: string | undefined; sellerName: string | undefined; sellerAddress: string | undefined; sellerCity: string | undefined; sellerState: string | undefined; sellerZipCode: string | undefined; totalAmount: number | undefined; gallonsPurchased: number | undefined; image?: string | null | undefined | undefined; userID?: string | null | undefined | undefined; vehicleID: string | undefined; vehicle?: Vehicle | null | undefined | undefined; taxRefund?: number | null | undefined | undefined; createdAt: string | undefined; updatedAt: string | undefined }&quot;,\n  &quot;onClick&quot;: &quot;() =&gt; void&quot;,\n  &quot;onClick1&quot;: &quot;() =&gt; void&quot;,\n  &quot;dataEditing&quot;: &quot;boolean&quot;,\n  &quot;toastMessage&quot;: &quot;(val) =&gt; void&quot;,\n  &quot;editing&quot;: &quot;(bool) =&gt; void&quot;,\n  &quot;showToast&quot;: &quot;(bool) =&gt; void&quot;,\n  &quot;showModal3&quot;: &quot;boolean&quot;,\n  &quot;showModal4&quot;: &quot;(bool) =&gt; void&quot;,\n  &quot;dateFilter&quot;: &quot;{ startDate: string; endDate: string }&quot;,\n</code></pre>\n<p>When I run replaceAll with this regex, and the replacement is a comma I am left with this:</p>\n<pre><code>  open,\n  onDidDismiss,\n  message,\n  showAddReceiptModal,\n  showModal,\n  vehicleTabRef,\n  onReceiptSubmit,\n  vehicle,\n  showModal1,\n  showModal2,\n  selectedReceipt,                                                 \n  , \n  onClick, \n  onClick1, \n  dataEditing,\n  toastMessage, \n  editing, \n  showToast, \n  showModal3, \n  showModal4, \n  dateFilter, \n  , \n</code></pre>\n<p>Notice the empty commas, these should not be here. This expression should target everything to the right of the &quot;:&quot; and replace it all with a comma.</p>\n<p>This code is written in VTL to use with the Webstorm IDE to create quick typescript templates. But Java string manipulation works as well</p>\n<p>What regex can I use to only remove everything to the right of the <code>:</code> to the ending comma, and just leave that comma?</p>\n"},{"tags":["java","pdf","ftp","apache-camel","sftp"],"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664386706,"post_id":73870822,"comment_id":130462049,"body_markdown":"Hey @KJ thanks for replying. I do not understand. What do you mean?. What should i do?","body":"Hey @KJ thanks for replying. I do not understand. What do you mean?. What should i do?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1664410853,"post_id":73870822,"comment_id":130467705,"body_markdown":"@KJ don&#39;t know what to do. I don&#39;t understand or why this is happening. It does not make sense to me :/","body":"@KJ don&#39;t know what to do. I don&#39;t understand or why this is happening. It does not make sense to me :/"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1664968936,"answer_count":0,"score":1,"last_activity_date":1664295778,"creation_date":1664295778,"question_id":73870822,"body_markdown":"My API REST looks like this (i am using JAVA, APACHE CAMEL):\r\n\r\n    http://server3343.erp.local:5464/api/rest/invoices/receipts/pdf?companyNumber=45&amp;accountNumber=000333&amp;documentType=FC&amp;transactionNumber=BG534530SF\r\n\r\nThese parameters are completed to look for a file, in the given example i set:\r\n\r\n    companyNumber: 45\r\n    accountNumber: 000333\r\n    documentType: FC\r\n    transactionNumber: BG534530SF\r\n\r\nThe PDF file has this name:\r\n\r\n    45000333FCBG534530SF\r\n\r\nThe filename is specified and then, my code try to find it in the FTP DIRECTORY\r\n\r\n--------------------------------------------\r\nThe problem is that everytime time it is executed it TAKES more than **20 seconds to get the file**:\r\n[![enter image description here][1]][1]\r\n\r\n**But the second time it is executed it takes 5 seconds or less:**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n**My code:**\r\n\r\n      package ar.com.newsan.esb.route;\r\n        \r\n        import ar.com.company.camel.common.route.RestRouteBuilder;\r\n        import ar.com.company.esb.Constants;\r\n        import org.apache.camel.LoggingLevel;\r\n        import org.apache.camel.model.rest.RestParamType;\r\n        import org.springframework.beans.factory.annotation.Value;\r\n        import org.springframework.stereotype.Component;\r\n        import javax.ws.rs.core.MediaType;\r\n        \r\n        @Component\r\n        public class GetReceiptsPDFRoute extends RestRouteBuilder {\r\n        \r\n        \t@Value(&quot;${timeout.FTP}&quot;)\r\n        \tprivate Long timeoutFTP;\r\n        \r\n            @Override\r\n            public void configure() {\r\n                super.configure();\r\n                rest(restApiPath)\r\n        \t\t\t.get(&quot;/receipts/pdf?companyNumber={companyNumber}&amp;accountNumber={accountNumber}&amp;documentType={documentType}&amp;transactionNumber={transactionNumber}&quot;).id(&quot;receipts PDF&quot;)\r\n        \t        .param().name(&quot;companyNumber&quot;).type(RestParamType.query).dataType(&quot;String&quot;).required(true).endParam()\r\n        \t        .param().name(&quot;accountNumber&quot;).type(RestParamType.query).dataType(&quot;String&quot;).required(true).endParam()\r\n        \t        .param().name(&quot;documentType&quot;).type(RestParamType.query).dataType(&quot;String&quot;).required(true).endParam()\r\n        \t        .param().name(&quot;transactionNumber&quot;).type(RestParamType.query).dataType(&quot;String&quot;).required(true).endParam()\r\n        \t        .consumes(MediaType.APPLICATION_JSON)\r\n        \t        .produces(&quot;application/pdf&quot;)\r\n        \t        .to(&quot;direct:receiptsPDF&quot;);\r\n        \r\n        \t    /**\r\n        \t     *  set name and location to look for the PDF in FTP DIRECTORY\r\n        \t     */\r\n        \t    from(&quot;direct:receiptsPDF&quot;).routeId(&quot;ReceiptsPDF&quot;)\r\n        \t\t    .setProperty(&quot;currentOperation&quot;, constant(&quot;ReceiptsPDF&quot;))\r\n        \t\t    .log(LoggingLevel.INFO,&quot;ReceiptsPDF&quot;, &quot;[Inicia ${property.currentOperation}]&quot;)\r\n        \t\t    .log(LoggingLevel.INFO, &quot;company Number: ${header.companyNumber}&quot;)\r\n        \t\t    .log(LoggingLevel.INFO, &quot;account Number: ${header.accountNumber}&quot;)\r\n        \t\t    .log(LoggingLevel.INFO, &quot;document Type: ${header.documentType}&quot;)\r\n        \t\t    .log(LoggingLevel.INFO, &quot;transaction Number: ${header.transactionNumber}&quot;)\r\n        \t\t    .doTry()\r\n        \t\t        .choice()\r\n        \t\t            .when(header(&quot;documentType&quot;).isEqualTo(Constants.FILE))\r\n        \t\t\t\t\t    .log(LoggingLevel.INFO, &quot;ReceiptsPDF&quot;,&quot;[${property.currentOperation}] Find FILE&quot;)\r\n        \t\t\t\t\t    .setHeader(&quot;TARGET_DIR&quot;, simple(&quot;{{source.ebs.FILEs}}&quot;))\r\n        \t\t        .endChoice()\r\n        \t\t        .otherwise()\r\n        \t\t            .log(LoggingLevel.INFO, &quot;ReceiptsPDF&quot;,&quot;[${property.currentOperation}] Find FILES&quot;)\r\n        \t\t            .setHeader(&quot;TARGET_DIR&quot;, simple(&quot;{{source.ebs.FILES}}&quot;))\r\n        \t\t        .end()\r\n        \t\t        .setProperty(&quot;fileName&quot;, simple(&quot;${header.companyNumber}${header.accountNumber}${header.documentType}${header.transactionNumber}.pdf&quot;))\r\n        \t\t        .to(&quot;direct:findPdfInFTP&quot;)\r\n        \t\t        .log(LoggingLevel.INFO,&quot;ReceiptsPDF&quot;, &quot;[Ending ${property.currentOperation}]&quot;)\r\n        \t\t    .endDoTry()\r\n        \t\t    .doCatch(Exception.class)\r\n        \t\t\t    .log(LoggingLevel.ERROR, &quot;ReceiptsPDF&quot;, &quot;[ERROR: ${exception.message}&quot;)\r\n        \t\t.end();\r\n        \r\n        \t    /**\r\n        \t     *  search in FTP DIRECTORY\r\n        \t     */\r\n        \t    from(&quot;direct:findPdfInFTP&quot;).routeId(&quot;find file in ftp&quot;)\r\n        \t\t    .doTry()\r\n        \t\t\t    .to(&quot;direct:searchInFTP&quot;)\r\n        \t\t\t    .choice()\r\n        \t\t\t        .when(simple(&quot;${body} == null&quot;))\r\n        \t\t\t            .log(LoggingLevel.INFO, &quot;findPdfInFTP&quot;, &quot;Search in processed sub-direcotries&quot;)\r\n        \t\t\t\t\t    .setHeader(&quot;TARGET_DIR&quot;, simple(&quot;${header.TARGET_DIR}/Procesados&quot;))\r\n        \t\t\t\t\t    .to(&quot;direct:searchInFTP&quot;)\r\n        \t\t\t    .otherwise()\r\n        \t\t\t    .log(LoggingLevel.INFO,&quot;findPdfInFTP&quot;,&quot;FILE OBTAINED: ${headers.CamelFileName}&quot;)\r\n        \t\t    .endDoTry()\r\n        \t\t    .doCatch(Exception.class)\r\n        \t\t        .log(LoggingLevel.ERROR, &quot;findPdfInFTP&quot;, &quot;[ERROR: ${exception.message}&quot;)\r\n        \t\t    .end();\r\n        \r\n        \t    from(&quot;direct:searchInFTP&quot;).routeId(&quot;searchInFTP&quot;)\r\n        \t\t    .doTry()\r\n        \t\t\t    .log(LoggingLevel.INFO, &quot;searchInFTP&quot;,&quot;Search: {{ebs.sftp}}/${header.TARGET_DIR}/${property.fileName}&quot;)\r\n        \t\t\t    .pollEnrich().simple(&quot;{{ebs.sftp}}/${header.TARGET_DIR}?password={{ebs.sftp.password}}&amp;fileName=${property.fileName}&amp;disconnect=true&amp;useList=false&amp;ignoreFileNotFoundOrPermissionError=true&amp;useUserKnownHostsFile=false&quot;).timeout(timeoutFTP)\r\n        \t\t    .endDoTry()\r\n        \t\t    .doCatch(Exception.class)\r\n        \t\t        .log(LoggingLevel.ERROR, &quot;searchInFTP&quot;, &quot;[ERROR: ${exception.message}&quot;)\r\n        \t\t    .end();\r\n            }\r\n        }\r\n\r\nWhat&#39;s wrong with my code? I need to find it in 5 seconds, at once.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eaoKY.gif\r\n  [2]: https://i.stack.imgur.com/cGhPS.gif","title":"PDF takes 22 seconds to download but at second execution 5 seconds (JAVA) - Why","body":"<p>My API REST looks like this (i am using JAVA, APACHE CAMEL):</p>\n<pre><code>http://server3343.erp.local:5464/api/rest/invoices/receipts/pdf?companyNumber=45&amp;accountNumber=000333&amp;documentType=FC&amp;transactionNumber=BG534530SF\n</code></pre>\n<p>These parameters are completed to look for a file, in the given example i set:</p>\n<pre><code>companyNumber: 45\naccountNumber: 000333\ndocumentType: FC\ntransactionNumber: BG534530SF\n</code></pre>\n<p>The PDF file has this name:</p>\n<pre><code>45000333FCBG534530SF\n</code></pre>\n<p>The filename is specified and then, my code try to find it in the FTP DIRECTORY</p>\n<hr />\n<p>The problem is that everytime time it is executed it TAKES more than <strong>20 seconds to get the file</strong>:\n<a href=\"https://i.stack.imgur.com/eaoKY.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eaoKY.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>But the second time it is executed it takes 5 seconds or less:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/cGhPS.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cGhPS.gif\" alt=\"enter image description here\" /></a></p>\n<p><strong>My code:</strong></p>\n<pre><code>  package ar.com.newsan.esb.route;\n    \n    import ar.com.company.camel.common.route.RestRouteBuilder;\n    import ar.com.company.esb.Constants;\n    import org.apache.camel.LoggingLevel;\n    import org.apache.camel.model.rest.RestParamType;\n    import org.springframework.beans.factory.annotation.Value;\n    import org.springframework.stereotype.Component;\n    import javax.ws.rs.core.MediaType;\n    \n    @Component\n    public class GetReceiptsPDFRoute extends RestRouteBuilder {\n    \n        @Value(&quot;${timeout.FTP}&quot;)\n        private Long timeoutFTP;\n    \n        @Override\n        public void configure() {\n            super.configure();\n            rest(restApiPath)\n                .get(&quot;/receipts/pdf?companyNumber={companyNumber}&amp;accountNumber={accountNumber}&amp;documentType={documentType}&amp;transactionNumber={transactionNumber}&quot;).id(&quot;receipts PDF&quot;)\n                .param().name(&quot;companyNumber&quot;).type(RestParamType.query).dataType(&quot;String&quot;).required(true).endParam()\n                .param().name(&quot;accountNumber&quot;).type(RestParamType.query).dataType(&quot;String&quot;).required(true).endParam()\n                .param().name(&quot;documentType&quot;).type(RestParamType.query).dataType(&quot;String&quot;).required(true).endParam()\n                .param().name(&quot;transactionNumber&quot;).type(RestParamType.query).dataType(&quot;String&quot;).required(true).endParam()\n                .consumes(MediaType.APPLICATION_JSON)\n                .produces(&quot;application/pdf&quot;)\n                .to(&quot;direct:receiptsPDF&quot;);\n    \n            /**\n             *  set name and location to look for the PDF in FTP DIRECTORY\n             */\n            from(&quot;direct:receiptsPDF&quot;).routeId(&quot;ReceiptsPDF&quot;)\n                .setProperty(&quot;currentOperation&quot;, constant(&quot;ReceiptsPDF&quot;))\n                .log(LoggingLevel.INFO,&quot;ReceiptsPDF&quot;, &quot;[Inicia ${property.currentOperation}]&quot;)\n                .log(LoggingLevel.INFO, &quot;company Number: ${header.companyNumber}&quot;)\n                .log(LoggingLevel.INFO, &quot;account Number: ${header.accountNumber}&quot;)\n                .log(LoggingLevel.INFO, &quot;document Type: ${header.documentType}&quot;)\n                .log(LoggingLevel.INFO, &quot;transaction Number: ${header.transactionNumber}&quot;)\n                .doTry()\n                    .choice()\n                        .when(header(&quot;documentType&quot;).isEqualTo(Constants.FILE))\n                            .log(LoggingLevel.INFO, &quot;ReceiptsPDF&quot;,&quot;[${property.currentOperation}] Find FILE&quot;)\n                            .setHeader(&quot;TARGET_DIR&quot;, simple(&quot;{{source.ebs.FILEs}}&quot;))\n                    .endChoice()\n                    .otherwise()\n                        .log(LoggingLevel.INFO, &quot;ReceiptsPDF&quot;,&quot;[${property.currentOperation}] Find FILES&quot;)\n                        .setHeader(&quot;TARGET_DIR&quot;, simple(&quot;{{source.ebs.FILES}}&quot;))\n                    .end()\n                    .setProperty(&quot;fileName&quot;, simple(&quot;${header.companyNumber}${header.accountNumber}${header.documentType}${header.transactionNumber}.pdf&quot;))\n                    .to(&quot;direct:findPdfInFTP&quot;)\n                    .log(LoggingLevel.INFO,&quot;ReceiptsPDF&quot;, &quot;[Ending ${property.currentOperation}]&quot;)\n                .endDoTry()\n                .doCatch(Exception.class)\n                    .log(LoggingLevel.ERROR, &quot;ReceiptsPDF&quot;, &quot;[ERROR: ${exception.message}&quot;)\n            .end();\n    \n            /**\n             *  search in FTP DIRECTORY\n             */\n            from(&quot;direct:findPdfInFTP&quot;).routeId(&quot;find file in ftp&quot;)\n                .doTry()\n                    .to(&quot;direct:searchInFTP&quot;)\n                    .choice()\n                        .when(simple(&quot;${body} == null&quot;))\n                            .log(LoggingLevel.INFO, &quot;findPdfInFTP&quot;, &quot;Search in processed sub-direcotries&quot;)\n                            .setHeader(&quot;TARGET_DIR&quot;, simple(&quot;${header.TARGET_DIR}/Procesados&quot;))\n                            .to(&quot;direct:searchInFTP&quot;)\n                    .otherwise()\n                    .log(LoggingLevel.INFO,&quot;findPdfInFTP&quot;,&quot;FILE OBTAINED: ${headers.CamelFileName}&quot;)\n                .endDoTry()\n                .doCatch(Exception.class)\n                    .log(LoggingLevel.ERROR, &quot;findPdfInFTP&quot;, &quot;[ERROR: ${exception.message}&quot;)\n                .end();\n    \n            from(&quot;direct:searchInFTP&quot;).routeId(&quot;searchInFTP&quot;)\n                .doTry()\n                    .log(LoggingLevel.INFO, &quot;searchInFTP&quot;,&quot;Search: {{ebs.sftp}}/${header.TARGET_DIR}/${property.fileName}&quot;)\n                    .pollEnrich().simple(&quot;{{ebs.sftp}}/${header.TARGET_DIR}?password={{ebs.sftp.password}}&amp;fileName=${property.fileName}&amp;disconnect=true&amp;useList=false&amp;ignoreFileNotFoundOrPermissionError=true&amp;useUserKnownHostsFile=false&quot;).timeout(timeoutFTP)\n                .endDoTry()\n                .doCatch(Exception.class)\n                    .log(LoggingLevel.ERROR, &quot;searchInFTP&quot;, &quot;[ERROR: ${exception.message}&quot;)\n                .end();\n        }\n    }\n</code></pre>\n<p>What's wrong with my code? I need to find it in 5 seconds, at once.</p>\n"},{"tags":["java","file","io"],"comments":[{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":0,"creation_date":1640657106,"post_id":70501925,"comment_id":124626573,"body_markdown":"Does this answer your question? [How to sort file\\directory tree in lexicographic order (case-insensitive) on Linux system](https://stackoverflow.com/questions/70318593/how-to-sort-file-directory-tree-in-lexicographic-order-case-insensitive-on-lin)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/70318593/how-to-sort-file-directory-tree-in-lexicographic-order-case-insensitive-on-lin\">How to sort file\\directory tree in lexicographic order (case-insensitive) on Linux system</a>"},{"owner":{"account_id":9055663,"reputation":2527,"user_id":6744133,"display_name":"Oli"},"score":0,"creation_date":1640657415,"post_id":70501925,"comment_id":124626629,"body_markdown":"I did something similar a few years ago if you&#39;re interested. See the `toString` method in https://gitlab.com/olisol/oreo-parser/-/blob/master/src/parser/ParseTree.java","body":"I did something similar a few years ago if you&#39;re interested. See the <code>toString</code> method in <a href=\"https://gitlab.com/olisol/oreo-parser/-/blob/master/src/parser/ParseTree.java\" rel=\"nofollow noreferrer\">gitlab.com/olisol/oreo-parser/-/blob/master/src/parser/&hellip;</a>"},{"owner":{"account_id":9055663,"reputation":2527,"user_id":6744133,"display_name":"Oli"},"score":1,"creation_date":1640658286,"post_id":70501925,"comment_id":124626759,"body_markdown":"You need to loop `depth` times in order to add the correct amount of indentation, and you also need to keep track of which columns are `&quot;│  &quot;` and which are `&quot;  &quot;`. A boolean is insufficient, it needs to be something like a list of booleans.","body":"You need to loop <code>depth</code> times in order to add the correct amount of indentation, and you also need to keep track of which columns are <code>&quot;│  &quot;</code> and which are <code>&quot;  &quot;</code>. A boolean is insufficient, it needs to be something like a list of booleans."}],"answers":[{"tags":[],"owner":{"account_id":19974769,"reputation":41,"user_id":14639377,"display_name":"npogoncuk"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1640690053,"creation_date":1640690053,"answer_id":70506241,"question_id":70501925,"body_markdown":"Here is the solution.\r\n\r\n    import java.io.File;\r\n    import java.nio.file.Path;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    public class FileTreeImpl implements FileTree {\r\n    \r\n        @Override\r\n        public Optional&lt;String&gt; tree(Path path) {\r\n            File file = new File(String.valueOf(path));\r\n            if ( !file.exists()) return Optional.empty();\r\n            if ( file.isFile()) {\r\n                return Optional.of(file.getName() + &quot; &quot; + file.length() + &quot; bytes&quot;);\r\n            }\r\n            if (file.isDirectory()) {\r\n               \r\n                return Optional.of(directoryTree(file, new ArrayList&lt;&gt;()));\r\n            }\r\n            return Optional.empty();\r\n        }\r\n        private String directoryTree(File folder, List&lt;Boolean&gt; lastFolders) {\r\n            String directory = &quot;&quot;;\r\n            if (lastFolders.size() != 0)\r\n                directory += (!(lastFolders.get(lastFolders.size() -1 )) ? &quot;├─ &quot; : &quot;└─ &quot;);\r\n            directory += folder.getName() + &quot; &quot; + folderSize(folder);\r\n    \r\n            File[] files = folder.listFiles();\r\n            int count = files.length;\r\n            files = sortFiles(files);\r\n            for (int i = 0; i &lt; count; i++) {\r\n                directory += &quot;\\n&quot;;\r\n                for (Boolean lastFolder : lastFolders) {\r\n                    if (lastFolder) {\r\n                        directory += &quot;   &quot;;\r\n                    } else {\r\n                        directory += &quot;│  &quot;;\r\n                    }\r\n                }\r\n                if (files[i].isFile()) {\r\n                    directory += (i + 1 == count ? &quot;└&quot; : &quot;├&quot;) + &quot;─ &quot; +\r\n                            files[i].getName() + &quot; &quot; + files[i].length() + &quot; bytes&quot;;\r\n                } else {\r\n                    ArrayList&lt;Boolean&gt; list = new ArrayList&lt;&gt;(lastFolders);\r\n                    list.add(i+1 == count);\r\n                    directory += directoryTree(files[i], list);\r\n                }\r\n            }\r\n            return directory;\r\n        }\r\n        private long getFolderSize(File folder) {\r\n            long size = 0;\r\n            File[] files = folder.listFiles();\r\n    \r\n            int count = files.length;\r\n    \r\n            for (int i = 0; i &lt; count; i++) {\r\n                if (files[i].isFile()) {\r\n                    size += files[i].length();\r\n                } else {\r\n                    size += getFolderSize(files[i]);\r\n                }\r\n            }\r\n            return size;\r\n        }\r\n        private String folderSize(File folder) {\r\n            return getFolderSize(folder) + &quot; bytes&quot;;\r\n        }\r\n        private File[] sortFiles(File[] folder) {\r\n    \r\n            Arrays.sort(folder);\r\n            List&lt;File&gt; sorted = new ArrayList&lt;&gt;();\r\n    \r\n            for (int i = 0; i &lt; folder.length; i++) {\r\n                if (folder[i].isDirectory()) sorted.add(folder[i]);\r\n            }\r\n    \r\n            for (int i = 0; i &lt; folder.length; i++) {\r\n                if (folder[i].isFile()) sorted.add(folder[i]);\r\n            }\r\n            return sorted.toArray(new File[sorted.size()]);\r\n        }\r\n    }\r\n\r\nExample of output\r\n\r\n    test3 0 bytes\r\n    ├─ a 0 bytes\r\n    │  ├─ aa 0 bytes\r\n    │  │  ├─ a.txt 0 bytes\r\n    │  │  ├─ b.txt 0 bytes\r\n    │  │  ├─ c.txt 0 bytes\r\n    │  │  └─ d.txt 0 bytes\r\n    │  └─ BA 0 bytes\r\n    │     ├─ A.txt 0 bytes\r\n    │     ├─ b.txt 0 bytes\r\n    │     ├─ C.txt 0 bytes\r\n    │     └─ d.txt 0 bytes\r\n    ├─ b 0 bytes\r\n    │  ├─ AB 0 bytes\r\n    │  │  ├─ a.txt 0 bytes\r\n    │  │  ├─ b.txt 0 bytes\r\n    │  │  ├─ c.txt 0 bytes\r\n    │  │  └─ d.txt 0 bytes\r\n    │  └─ bb 0 bytes\r\n    │     ├─ A.txt 0 bytes\r\n    │     ├─ b.txt 0 bytes\r\n    │     ├─ C.txt 0 bytes\r\n    │     └─ d.txt 0 bytes\r\n    ├─ c 0 bytes\r\n    │  ├─ aa 0 bytes\r\n    │  │  ├─ a.txt 0 bytes\r\n    │  │  ├─ b.txt 0 bytes\r\n    │  │  ├─ c.txt 0 bytes\r\n    │  │  └─ d.txt 0 bytes\r\n    │  ├─ BA 0 bytes\r\n    │  │  ├─ A.txt 0 bytes\r\n    │  │  ├─ b.txt 0 bytes\r\n    │  │  ├─ C.txt 0 bytes\r\n    │  │  └─ d.txt 0 bytes\r\n    │  ├─ a.txt 0 bytes\r\n    │  ├─ b.txt 0 bytes\r\n    │  ├─ c.txt 0 bytes\r\n    │  └─ d.txt 0 bytes\r\n    └─ d 0 bytes\r\n       ├─ aa 0 bytes\r\n       │  ├─ a.txt 0 bytes\r\n       │  ├─ b.txt 0 bytes\r\n       │  ├─ c.txt 0 bytes\r\n       │  └─ d.txt 0 bytes\r\n       └─ bb 0 bytes\r\n          ├─ A.txt 0 bytes\r\n          ├─ b.txt 0 bytes\r\n          ├─ C.txt 0 bytes\r\n          └─ d.txt 0 bytes","title":"File Tree. Visualization","body":"<p>Here is the solution.</p>\n<pre><code>import java.io.File;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Optional;\n\npublic class FileTreeImpl implements FileTree {\n\n    @Override\n    public Optional&lt;String&gt; tree(Path path) {\n        File file = new File(String.valueOf(path));\n        if ( !file.exists()) return Optional.empty();\n        if ( file.isFile()) {\n            return Optional.of(file.getName() + &quot; &quot; + file.length() + &quot; bytes&quot;);\n        }\n        if (file.isDirectory()) {\n           \n            return Optional.of(directoryTree(file, new ArrayList&lt;&gt;()));\n        }\n        return Optional.empty();\n    }\n    private String directoryTree(File folder, List&lt;Boolean&gt; lastFolders) {\n        String directory = &quot;&quot;;\n        if (lastFolders.size() != 0)\n            directory += (!(lastFolders.get(lastFolders.size() -1 )) ? &quot;├─ &quot; : &quot;└─ &quot;);\n        directory += folder.getName() + &quot; &quot; + folderSize(folder);\n\n        File[] files = folder.listFiles();\n        int count = files.length;\n        files = sortFiles(files);\n        for (int i = 0; i &lt; count; i++) {\n            directory += &quot;\\n&quot;;\n            for (Boolean lastFolder : lastFolders) {\n                if (lastFolder) {\n                    directory += &quot;   &quot;;\n                } else {\n                    directory += &quot;│  &quot;;\n                }\n            }\n            if (files[i].isFile()) {\n                directory += (i + 1 == count ? &quot;└&quot; : &quot;├&quot;) + &quot;─ &quot; +\n                        files[i].getName() + &quot; &quot; + files[i].length() + &quot; bytes&quot;;\n            } else {\n                ArrayList&lt;Boolean&gt; list = new ArrayList&lt;&gt;(lastFolders);\n                list.add(i+1 == count);\n                directory += directoryTree(files[i], list);\n            }\n        }\n        return directory;\n    }\n    private long getFolderSize(File folder) {\n        long size = 0;\n        File[] files = folder.listFiles();\n\n        int count = files.length;\n\n        for (int i = 0; i &lt; count; i++) {\n            if (files[i].isFile()) {\n                size += files[i].length();\n            } else {\n                size += getFolderSize(files[i]);\n            }\n        }\n        return size;\n    }\n    private String folderSize(File folder) {\n        return getFolderSize(folder) + &quot; bytes&quot;;\n    }\n    private File[] sortFiles(File[] folder) {\n\n        Arrays.sort(folder);\n        List&lt;File&gt; sorted = new ArrayList&lt;&gt;();\n\n        for (int i = 0; i &lt; folder.length; i++) {\n            if (folder[i].isDirectory()) sorted.add(folder[i]);\n        }\n\n        for (int i = 0; i &lt; folder.length; i++) {\n            if (folder[i].isFile()) sorted.add(folder[i]);\n        }\n        return sorted.toArray(new File[sorted.size()]);\n    }\n}\n</code></pre>\n<p>Example of output</p>\n<pre><code>test3 0 bytes\n├─ a 0 bytes\n│  ├─ aa 0 bytes\n│  │  ├─ a.txt 0 bytes\n│  │  ├─ b.txt 0 bytes\n│  │  ├─ c.txt 0 bytes\n│  │  └─ d.txt 0 bytes\n│  └─ BA 0 bytes\n│     ├─ A.txt 0 bytes\n│     ├─ b.txt 0 bytes\n│     ├─ C.txt 0 bytes\n│     └─ d.txt 0 bytes\n├─ b 0 bytes\n│  ├─ AB 0 bytes\n│  │  ├─ a.txt 0 bytes\n│  │  ├─ b.txt 0 bytes\n│  │  ├─ c.txt 0 bytes\n│  │  └─ d.txt 0 bytes\n│  └─ bb 0 bytes\n│     ├─ A.txt 0 bytes\n│     ├─ b.txt 0 bytes\n│     ├─ C.txt 0 bytes\n│     └─ d.txt 0 bytes\n├─ c 0 bytes\n│  ├─ aa 0 bytes\n│  │  ├─ a.txt 0 bytes\n│  │  ├─ b.txt 0 bytes\n│  │  ├─ c.txt 0 bytes\n│  │  └─ d.txt 0 bytes\n│  ├─ BA 0 bytes\n│  │  ├─ A.txt 0 bytes\n│  │  ├─ b.txt 0 bytes\n│  │  ├─ C.txt 0 bytes\n│  │  └─ d.txt 0 bytes\n│  ├─ a.txt 0 bytes\n│  ├─ b.txt 0 bytes\n│  ├─ c.txt 0 bytes\n│  └─ d.txt 0 bytes\n└─ d 0 bytes\n   ├─ aa 0 bytes\n   │  ├─ a.txt 0 bytes\n   │  ├─ b.txt 0 bytes\n   │  ├─ c.txt 0 bytes\n   │  └─ d.txt 0 bytes\n   └─ bb 0 bytes\n      ├─ A.txt 0 bytes\n      ├─ b.txt 0 bytes\n      ├─ C.txt 0 bytes\n      └─ d.txt 0 bytes\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26460621,"reputation":11,"user_id":20102619,"display_name":"N0FantaSIES"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664295101,"creation_date":1664295101,"answer_id":73870682,"question_id":70501925,"body_markdown":"slightly modified the code above\r\n\r\n    public class FileTreeImpl implements FileTree {\r\n    public Optional&lt;String&gt; tree(Path path) {\r\n        File file = new File(String.valueOf(path));\r\n        if ( !file.exists()) return Optional.empty();\r\n        if ( file.isFile()) {\r\n            return Optional.of(file.getName() + &quot; &quot; + file.length() + &quot; bytes&quot;);\r\n        }\r\n        if (file.isDirectory()) {\r\n\r\n            return Optional.of(directoryTree(file, new ArrayList&lt;&gt;()));\r\n        }\r\n        return Optional.empty();\r\n    }\r\n    private String directoryTree(File folder, List&lt;Boolean&gt; lastFolders) {\r\n        String directory = &quot;&quot;;\r\n        if (lastFolders.size() != 0)\r\n            directory += (!(lastFolders.get(lastFolders.size() -1 )) ? &quot;├─ &quot; : &quot;└─ &quot;);\r\n        directory += folder.getName() + &quot; &quot; + folderSize(folder);\r\n\r\n        File[] files = folder.listFiles();\r\n        int count = files.length;\r\n        files = sortFiles(files);\r\n        for (int i = 0; i &lt; count; i++) {\r\n            directory += &quot;\\n&quot;;\r\n            for (Boolean lastFolder : lastFolders) {\r\n                if (lastFolder) {\r\n                    directory += &quot;   &quot;;\r\n                } else {\r\n                    directory += &quot;│  &quot;;\r\n                }\r\n            }\r\n            if (files[i].isFile()) {\r\n                directory += (i + 1 == count ? &quot;└&quot; : &quot;├&quot;) + &quot;─ &quot; +\r\n                        files[i].getName() + &quot; &quot; + files[i].length() + &quot; bytes&quot;;\r\n            } else {\r\n                ArrayList&lt;Boolean&gt; list = new ArrayList&lt;&gt;(lastFolders);\r\n                list.add(i+1 == count);\r\n                directory += directoryTree(files[i], list);\r\n            }\r\n        }\r\n        return directory;\r\n    }\r\n    private long getFolderSize(File folder) {\r\n        long size = 0;\r\n        File[] files = folder.listFiles();\r\n\r\n        int count = files.length;\r\n\r\n        for (int i = 0; i &lt; count; i++) {\r\n            if (files[i].isFile()) {\r\n                size += files[i].length();\r\n            } else {\r\n                size += getFolderSize(files[i]);\r\n            }\r\n        }\r\n        return size;\r\n    }\r\n    private String folderSize(File folder) {\r\n        return getFolderSize(folder) + &quot; bytes&quot;;\r\n    }\r\n    private File[] sortFiles(File[] folder) {\r\n        List&lt;File&gt; file = new ArrayList&lt;&gt;();\r\n        List&lt;File&gt; directory = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; folder.length; i++) {\r\n            if (folder[i].isDirectory())\r\n                file.add(folder[i]);\r\n        }\r\n        file.sort((o1, o2) -&gt; o1.getName().compareToIgnoreCase(o2.getName()));\r\n\r\n        for (int i = 0; i &lt; folder.length; i++) {\r\n            if (folder[i].isFile())\r\n                directory.add(folder[i]);\r\n        }\r\n        directory.sort((o1, o2) -&gt; o1.getName().compareToIgnoreCase(o2.getName()));\r\n        file.addAll(directory);\r\n\r\n        return file.toArray(new File[file.size()]);\r\n    }\r\n}","title":"File Tree. Visualization","body":"<p>slightly modified the code above</p>\n<pre><code>public class FileTreeImpl implements FileTree {\npublic Optional&lt;String&gt; tree(Path path) {\n    File file = new File(String.valueOf(path));\n    if ( !file.exists()) return Optional.empty();\n    if ( file.isFile()) {\n        return Optional.of(file.getName() + &quot; &quot; + file.length() + &quot; bytes&quot;);\n    }\n    if (file.isDirectory()) {\n\n        return Optional.of(directoryTree(file, new ArrayList&lt;&gt;()));\n    }\n    return Optional.empty();\n}\nprivate String directoryTree(File folder, List&lt;Boolean&gt; lastFolders) {\n    String directory = &quot;&quot;;\n    if (lastFolders.size() != 0)\n        directory += (!(lastFolders.get(lastFolders.size() -1 )) ? &quot;├─ &quot; : &quot;└─ &quot;);\n    directory += folder.getName() + &quot; &quot; + folderSize(folder);\n\n    File[] files = folder.listFiles();\n    int count = files.length;\n    files = sortFiles(files);\n    for (int i = 0; i &lt; count; i++) {\n        directory += &quot;\\n&quot;;\n        for (Boolean lastFolder : lastFolders) {\n            if (lastFolder) {\n                directory += &quot;   &quot;;\n            } else {\n                directory += &quot;│  &quot;;\n            }\n        }\n        if (files[i].isFile()) {\n            directory += (i + 1 == count ? &quot;└&quot; : &quot;├&quot;) + &quot;─ &quot; +\n                    files[i].getName() + &quot; &quot; + files[i].length() + &quot; bytes&quot;;\n        } else {\n            ArrayList&lt;Boolean&gt; list = new ArrayList&lt;&gt;(lastFolders);\n            list.add(i+1 == count);\n            directory += directoryTree(files[i], list);\n        }\n    }\n    return directory;\n}\nprivate long getFolderSize(File folder) {\n    long size = 0;\n    File[] files = folder.listFiles();\n\n    int count = files.length;\n\n    for (int i = 0; i &lt; count; i++) {\n        if (files[i].isFile()) {\n            size += files[i].length();\n        } else {\n            size += getFolderSize(files[i]);\n        }\n    }\n    return size;\n}\nprivate String folderSize(File folder) {\n    return getFolderSize(folder) + &quot; bytes&quot;;\n}\nprivate File[] sortFiles(File[] folder) {\n    List&lt;File&gt; file = new ArrayList&lt;&gt;();\n    List&lt;File&gt; directory = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; folder.length; i++) {\n        if (folder[i].isDirectory())\n            file.add(folder[i]);\n    }\n    file.sort((o1, o2) -&gt; o1.getName().compareToIgnoreCase(o2.getName()));\n\n    for (int i = 0; i &lt; folder.length; i++) {\n        if (folder[i].isFile())\n            directory.add(folder[i]);\n    }\n    directory.sort((o1, o2) -&gt; o1.getName().compareToIgnoreCase(o2.getName()));\n    file.addAll(directory);\n\n    return file.toArray(new File[file.size()]);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":19974769,"reputation":41,"user_id":14639377,"display_name":"npogoncuk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2063,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70506241,"answer_count":2,"score":0,"last_activity_date":1664295101,"creation_date":1640654553,"question_id":70501925,"body_markdown":"I beg you for help. This is my task.\r\n\r\nFile Tree\r\nDescription\r\n\r\nBuild a String representation of directory hierarchy under a given path\r\n\r\nDetails\r\n\r\nImplement tree method in FileTreeImpl class.\r\n\r\nInput parameter is a path.\r\n\r\nIf a given path does not exist, return an empty Optional.\r\n\r\nIf a given path refers to a file, return a String with its name and size like this:\r\n\r\n    some-file.txt 128 bytes \r\n\r\nIF a given path refers to a directory, return a String with its name, total size and its full hierarchy:\r\n\r\n    some-dir 100 bytes\r\n    ├─ some-inner-dir 50 bytes\r\n    │  ├─ some-file.txt 20 bytes    \r\n    │  └─ some-other-file.txt 30 bytes\r\n    └─ some-one-more-file.txt 50 bytes\r\n\r\nUse pseudo graphic symbols to format output.\r\nCompute directory size as a sum of all its contents.\r\n\r\nSort content in following way:\r\ndirectories go first,\r\ndirectories and files are sorted in lexicographic order (case-insensitive).\r\n\r\nThis is my implementation.\r\n\r\n    import java.io.File;\r\n    import java.nio.file.Path;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    public class FileTreeImpl implements FileTree {\r\n    \r\n        @Override\r\n        public Optional&lt;String&gt; tree(Path path) {\r\n            File file = new File(String.valueOf(path));\r\n            if ( !file.exists()) return Optional.empty();\r\n            if ( file.isFile()) {\r\n                return Optional.of(file.getName() + &quot; &quot; + file.length() + &quot; bytes&quot;);\r\n            }\r\n            if (file.isDirectory()) {\r\n                return Optional.of(directoryTree(file, 0, false));\r\n            }\r\n            return Optional.empty();\r\n        }\r\n        private String directoryTree(File folder, int depth, boolean lastFolder) {\r\n            String directory = folder.getName() + &quot; &quot; + folderSize(folder);\r\n            if (depth != 0) directory = ((!lastFolder) ? &quot;├─ &quot; : &quot;└─ &quot;) + directory;\r\n            File[] files = folder.listFiles();\r\n            int count = files.length;\r\n            files = sortFiles(files);\r\n            for (int i = 0; i &lt; count; i++) {\r\n                directory += &quot;\\n&quot;;\r\n                if (depth != 0) directory += &quot;│  &quot;;\r\n                if (files[i].isFile()) {\r\n                    directory += (lastFolder ? &quot;   &quot; : &quot;│  &quot;) + (i + 1 == count ? &quot;└&quot; : &quot;├&quot;) + &quot;─ &quot; +\r\n                            files[i].getName() + &quot; &quot; + files[i].length() + &quot; bytes&quot;;\r\n                } else {\r\n                    directory += directoryTree(files[i], depth + 1, i + 1 == numberOfFolders(files));\r\n                }\r\n            }\r\n            System.out.println(directory);\r\n            return directory;\r\n        }\r\n        private long getFolderSize(File folder) {\r\n            long size = 0;\r\n            File[] files = folder.listFiles();\r\n    \r\n            int count = files.length;\r\n    \r\n            for (int i = 0; i &lt; count; i++) {\r\n                if (files[i].isFile()) {\r\n                    size += files[i].length();\r\n                } else {\r\n                    size += getFolderSize(files[i]);\r\n                }\r\n            }\r\n            return size;\r\n        }\r\n        private String folderSize(File folder) {\r\n            return getFolderSize(folder) + &quot; bytes&quot;;\r\n        }\r\n        private File[] sortFiles(File[] folder) {\r\n          \r\n            Arrays.sort(folder);\r\n            List&lt;File&gt; sorted = new ArrayList&lt;&gt;();\r\n        \r\n            for (int i = 0; i &lt; folder.length; i++) {\r\n                if (folder[i].isDirectory()) sorted.add(folder[i]);\r\n            }\r\n            \r\n            for (int i = 0; i &lt; folder.length; i++) {\r\n                if (folder[i].isFile()) sorted.add(folder[i]);\r\n            }\r\n            return sorted.toArray(new File[sorted.size()]);\r\n        }\r\n        private int numberOfFolders(File[] files) {\r\n            int folders = 0;\r\n            for (File file : files)\r\n                if (file.isDirectory()) folders++;\r\n            return folders;\r\n        }\r\n    }\r\ncode of tests you can see here: https://github.com/npogoncuk/file-tree\r\n\r\n\r\nexpected and actual:\r\n\r\n[![https://i.stack.imgur.com/N8ftB.png][1]][1]\r\n\r\nPlease, help me change the code or, please, give me a piece of advice about new algorithm. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/N8ftB.png","title":"File Tree. Visualization","body":"<p>I beg you for help. This is my task.</p>\n<p>File Tree\nDescription</p>\n<p>Build a String representation of directory hierarchy under a given path</p>\n<p>Details</p>\n<p>Implement tree method in FileTreeImpl class.</p>\n<p>Input parameter is a path.</p>\n<p>If a given path does not exist, return an empty Optional.</p>\n<p>If a given path refers to a file, return a String with its name and size like this:</p>\n<pre><code>some-file.txt 128 bytes \n</code></pre>\n<p>IF a given path refers to a directory, return a String with its name, total size and its full hierarchy:</p>\n<pre><code>some-dir 100 bytes\n├─ some-inner-dir 50 bytes\n│  ├─ some-file.txt 20 bytes    \n│  └─ some-other-file.txt 30 bytes\n└─ some-one-more-file.txt 50 bytes\n</code></pre>\n<p>Use pseudo graphic symbols to format output.\nCompute directory size as a sum of all its contents.</p>\n<p>Sort content in following way:\ndirectories go first,\ndirectories and files are sorted in lexicographic order (case-insensitive).</p>\n<p>This is my implementation.</p>\n<pre><code>import java.io.File;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Optional;\n\npublic class FileTreeImpl implements FileTree {\n\n    @Override\n    public Optional&lt;String&gt; tree(Path path) {\n        File file = new File(String.valueOf(path));\n        if ( !file.exists()) return Optional.empty();\n        if ( file.isFile()) {\n            return Optional.of(file.getName() + &quot; &quot; + file.length() + &quot; bytes&quot;);\n        }\n        if (file.isDirectory()) {\n            return Optional.of(directoryTree(file, 0, false));\n        }\n        return Optional.empty();\n    }\n    private String directoryTree(File folder, int depth, boolean lastFolder) {\n        String directory = folder.getName() + &quot; &quot; + folderSize(folder);\n        if (depth != 0) directory = ((!lastFolder) ? &quot;├─ &quot; : &quot;└─ &quot;) + directory;\n        File[] files = folder.listFiles();\n        int count = files.length;\n        files = sortFiles(files);\n        for (int i = 0; i &lt; count; i++) {\n            directory += &quot;\\n&quot;;\n            if (depth != 0) directory += &quot;│  &quot;;\n            if (files[i].isFile()) {\n                directory += (lastFolder ? &quot;   &quot; : &quot;│  &quot;) + (i + 1 == count ? &quot;└&quot; : &quot;├&quot;) + &quot;─ &quot; +\n                        files[i].getName() + &quot; &quot; + files[i].length() + &quot; bytes&quot;;\n            } else {\n                directory += directoryTree(files[i], depth + 1, i + 1 == numberOfFolders(files));\n            }\n        }\n        System.out.println(directory);\n        return directory;\n    }\n    private long getFolderSize(File folder) {\n        long size = 0;\n        File[] files = folder.listFiles();\n\n        int count = files.length;\n\n        for (int i = 0; i &lt; count; i++) {\n            if (files[i].isFile()) {\n                size += files[i].length();\n            } else {\n                size += getFolderSize(files[i]);\n            }\n        }\n        return size;\n    }\n    private String folderSize(File folder) {\n        return getFolderSize(folder) + &quot; bytes&quot;;\n    }\n    private File[] sortFiles(File[] folder) {\n      \n        Arrays.sort(folder);\n        List&lt;File&gt; sorted = new ArrayList&lt;&gt;();\n    \n        for (int i = 0; i &lt; folder.length; i++) {\n            if (folder[i].isDirectory()) sorted.add(folder[i]);\n        }\n        \n        for (int i = 0; i &lt; folder.length; i++) {\n            if (folder[i].isFile()) sorted.add(folder[i]);\n        }\n        return sorted.toArray(new File[sorted.size()]);\n    }\n    private int numberOfFolders(File[] files) {\n        int folders = 0;\n        for (File file : files)\n            if (file.isDirectory()) folders++;\n        return folders;\n    }\n}\n</code></pre>\n<p>code of tests you can see here: <a href=\"https://github.com/npogoncuk/file-tree\" rel=\"nofollow noreferrer\">https://github.com/npogoncuk/file-tree</a></p>\n<p>expected and actual:</p>\n<p><a href=\"https://i.stack.imgur.com/N8ftB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N8ftB.png\" alt=\"https://i.stack.imgur.com/N8ftB.png\" /></a></p>\n<p>Please, help me change the code or, please, give me a piece of advice about new algorithm.</p>\n"},{"tags":["java","c++","java-native-interface","swig"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1664287660,"post_id":73868975,"comment_id":130433742,"body_markdown":"Doesn&#39;t RTI DDS generate Java code? Why convert to JNI?","body":"Doesn&#39;t RTI DDS generate Java code? Why convert to JNI?"},{"owner":{"account_id":477135,"reputation":33,"user_id":888451,"display_name":"Vincent"},"score":0,"creation_date":1664287841,"post_id":73868975,"comment_id":130433814,"body_markdown":"While RTI DDS can generate Java code for the messages and topics, we have a more elaborate C++ pub/sub service built on top of RTI DDS that I need to use.  Hence the C++ and the JNI translation.","body":"While RTI DDS can generate Java code for the messages and topics, we have a more elaborate C++ pub/sub service built on top of RTI DDS that I need to use.  Hence the C++ and the JNI translation."},{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1664288175,"post_id":73868975,"comment_id":130433934,"body_markdown":"`JNIEnv * jenv = swigjnienv.getJNIEnv()` Does this always succeed? You don&#39;t seem to be checking the return value for `nullptr`. Maybe if you can check when `swig_get_self` returns `nullptr`.","body":"<code>JNIEnv * jenv = swigjnienv.getJNIEnv()</code> Does this always succeed? You don&#39;t seem to be checking the return value for <code>nullptr</code>. Maybe if you can check when <code>swig_get_self</code> returns <code>nullptr</code>."},{"owner":{"account_id":477135,"reputation":33,"user_id":888451,"display_name":"Vincent"},"score":0,"creation_date":1664289119,"post_id":73868975,"comment_id":130434322,"body_markdown":"JNIEnv * jenv = swigjnienv.getJNIEnv() appears to always succeed, even when swig_get_self starts returning nullptr.","body":"JNIEnv * jenv = swigjnienv.getJNIEnv() appears to always succeed, even when swig_get_self starts returning nullptr."}],"answers":[{"tags":[],"owner":{"account_id":477135,"reputation":33,"user_id":888451,"display_name":"Vincent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664295099,"creation_date":1664295099,"answer_id":73870680,"question_id":73868975,"body_markdown":"After further research, I can confirm that adding:\r\n\r\n`-XX:+UseConcMarkSweepGC`\r\n\r\nto the invocation of my Java application fixes this issue.","title":"&quot;null upcall object&quot; in SWIG-generated JNI","body":"<p>After further research, I can confirm that adding:</p>\n<p><code>-XX:+UseConcMarkSweepGC</code></p>\n<p>to the invocation of my Java application fixes this issue.</p>\n"}],"owner":{"account_id":477135,"reputation":33,"user_id":888451,"display_name":"Vincent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664295099,"creation_date":1664287440,"question_id":73868975,"body_markdown":"I have a C++ Publication/Subscription service that uses RTI&#39;s DDS middleware to exchange messages.  This works correctly.  I use SWIG to generate JNI so Java applications can use the Publication/Subscription service.  This also works correctly.  We recently upgraded from Red Hat Enterprise Linux 6.x to Red Hat Enterprise Linux 8.x (with accompanying new gcc, Java, and DDS versions).  In this new environment, a pure C++ Pub/Sub application still works correctly.  However, in the new environment, when calling the Pub/Sub service in Java (via SWIG/JNI), I get about 50-60 successful pub/subs on different topics, and then the subscriptions stop receiving data.  I don&#39;t believe any specific message is causing the error.  I looked in the SWIG-generated JNI and I observe the following:\r\n\r\n```\r\nvoid SwigDirector_SubscriptionIssueListener_I::onIssueReceived(infrastructureservices::common::Message_T const *issue, infrastructureservices::pubsub::Subscription_I &amp;subscription) throw() {\r\n  JNIEnvWrapper swigjnienv(this) ;\r\n  JNIEnv * jenv = swigjnienv.getJNIEnv() ;\r\n  jobject swigjobj = (jobject) NULL ;\r\n  jlong jissue = 0 ;\r\n  jlong jsubscription = 0 ;\r\n\r\n  if (!swig_override[0]) {\r\n    SWIG_JavaThrowException(JNIEnvWrapper(this).getJNIEnv(), SWIG_JavaDirectorPureVirtual, &quot;Attempted to invoke pure virtual method infrastructureservices::pubsub::SubscriptionIssueListener_I::onIssueReceived.&quot;);\r\n    return;\r\n  }\r\n  swigjobj = swig_get_self(jenv); // *** THIS IS THE PROBLEM LINE ***\r\n  if (swigjobj &amp;&amp; jenv-&gt;IsSameObject(swigjobj, NULL) == JNI_FALSE) {\r\n    *((infrastructureservices::common::Message_T **)&amp;jissue) = (infrastructureservices::common::Message_T *) issue;\r\n    *(infrastructureservices::pubsub::Subscription_I **)&amp;jsubscription = (infrastructureservices::pubsub::Subscription_I *) &amp;subscription;\r\n    jenv-&gt;CallStaticVoidMethod(Swig::jclass_cfpubsubJNI, Swig::director_methids[7], swigjobj, jissue, jsubscription);\r\n    if (jenv-&gt;ExceptionCheck() == JNI_TRUE) return ;\r\n  } else {\r\n    SWIG_JavaThrowException(jenv, SWIG_JavaNullPointerException, &quot;null upcall object&quot;);\r\n  }\r\n  if (swigjobj) jenv-&gt;DeleteLocalRef(swigjobj);\r\n}\r\n\r\n```  \r\n\r\nNote the emphasized &quot;swigjobj = swig_get_self(jenv);&quot; line.  When the Java application is behaving well, this line is providing a good return value.  However, at some point mid-execution, this line starts returning NULL, and the subscriptions cease to be received.\r\n\r\nTo me this feels like some sort of resource is being exhausted.  I tried increasing -Xmx and -Xms to my Java application (which in previous circumstances fixed a similar symptom), but no luck there.  I used the SWIG ExceptionDescribe() method which outputs:\r\n\r\n`Exception in thread &quot;Thread-0&quot; java.lang.NullPointerException: null upcall object`\r\n\r\nwhich is basically just telling me what I already know.\r\n\r\nAny thoughts on what might be going on?\r\n\r\n","title":"&quot;null upcall object&quot; in SWIG-generated JNI","body":"<p>I have a C++ Publication/Subscription service that uses RTI's DDS middleware to exchange messages.  This works correctly.  I use SWIG to generate JNI so Java applications can use the Publication/Subscription service.  This also works correctly.  We recently upgraded from Red Hat Enterprise Linux 6.x to Red Hat Enterprise Linux 8.x (with accompanying new gcc, Java, and DDS versions).  In this new environment, a pure C++ Pub/Sub application still works correctly.  However, in the new environment, when calling the Pub/Sub service in Java (via SWIG/JNI), I get about 50-60 successful pub/subs on different topics, and then the subscriptions stop receiving data.  I don't believe any specific message is causing the error.  I looked in the SWIG-generated JNI and I observe the following:</p>\n<pre><code>void SwigDirector_SubscriptionIssueListener_I::onIssueReceived(infrastructureservices::common::Message_T const *issue, infrastructureservices::pubsub::Subscription_I &amp;subscription) throw() {\n  JNIEnvWrapper swigjnienv(this) ;\n  JNIEnv * jenv = swigjnienv.getJNIEnv() ;\n  jobject swigjobj = (jobject) NULL ;\n  jlong jissue = 0 ;\n  jlong jsubscription = 0 ;\n\n  if (!swig_override[0]) {\n    SWIG_JavaThrowException(JNIEnvWrapper(this).getJNIEnv(), SWIG_JavaDirectorPureVirtual, &quot;Attempted to invoke pure virtual method infrastructureservices::pubsub::SubscriptionIssueListener_I::onIssueReceived.&quot;);\n    return;\n  }\n  swigjobj = swig_get_self(jenv); // *** THIS IS THE PROBLEM LINE ***\n  if (swigjobj &amp;&amp; jenv-&gt;IsSameObject(swigjobj, NULL) == JNI_FALSE) {\n    *((infrastructureservices::common::Message_T **)&amp;jissue) = (infrastructureservices::common::Message_T *) issue;\n    *(infrastructureservices::pubsub::Subscription_I **)&amp;jsubscription = (infrastructureservices::pubsub::Subscription_I *) &amp;subscription;\n    jenv-&gt;CallStaticVoidMethod(Swig::jclass_cfpubsubJNI, Swig::director_methids[7], swigjobj, jissue, jsubscription);\n    if (jenv-&gt;ExceptionCheck() == JNI_TRUE) return ;\n  } else {\n    SWIG_JavaThrowException(jenv, SWIG_JavaNullPointerException, &quot;null upcall object&quot;);\n  }\n  if (swigjobj) jenv-&gt;DeleteLocalRef(swigjobj);\n}\n\n</code></pre>\n<p>Note the emphasized &quot;swigjobj = swig_get_self(jenv);&quot; line.  When the Java application is behaving well, this line is providing a good return value.  However, at some point mid-execution, this line starts returning NULL, and the subscriptions cease to be received.</p>\n<p>To me this feels like some sort of resource is being exhausted.  I tried increasing -Xmx and -Xms to my Java application (which in previous circumstances fixed a similar symptom), but no luck there.  I used the SWIG ExceptionDescribe() method which outputs:</p>\n<p><code>Exception in thread &quot;Thread-0&quot; java.lang.NullPointerException: null upcall object</code></p>\n<p>which is basically just telling me what I already know.</p>\n<p>Any thoughts on what might be going on?</p>\n"},{"tags":["java","selenium","google-chrome","webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":1779,"reputation":4164,"user_id":2440,"display_name":"Sire"},"score":0,"creation_date":1606207368,"post_id":60615769,"comment_id":114885723,"body_markdown":"Here is the solution: https://stackoverflow.com/a/60403652/2440","body":"Here is the solution: <a href=\"https://stackoverflow.com/a/60403652/2440\">stackoverflow.com/a/60403652/2440</a>"},{"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"score":0,"creation_date":1614423280,"post_id":60615769,"comment_id":117384455,"body_markdown":"Yes. `--disable-blink-features=AutomationControlled` worked for me. Thank you.","body":"Yes. <code>--disable-blink-features=AutomationControlled</code> worked for me. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":157039,"reputation":27241,"user_id":374693,"accept_rate":79,"display_name":"JimEvans"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1583984624,"creation_date":1583984624,"answer_id":60647331,"question_id":60615769,"body_markdown":"The presence of the `window.navigator.webdriver` property is mandated by the [W3C WebDriver Specification](https://w3c.github.io/webdriver/#interface). It is both a security feature and a feature to allow better testability of web pages. If you are attempting to automate a page with a WebDriver-powered bot, and you do not own the page being automated, and you are attempting to hide the fact that you’re using a bot from the page’s owners, that is _exactly_ the kind of thing that the property is intended to expose.\r\n\r\nIt looks like the developers of Chrome and chromedriver have now closed the security loophole they had allowed in previous versions. I suppose it’s possible you could build your own hacked version of the browser and the driver to not set that property when browsing sites with WebDriver, but that would be the only way.\r\n\r\nAs an editorial comment, attempting to hide browsing by a WebDriver-powered bot is most often a fool’s errand. There are multiple ways of detecting such a bot beyond the `navigator.webdriver` property, and it would be nearly impossible to mask them all. Even if it appeared to work for awhile, eventually, the site in question will come up with more detection mechanisms. Moreover, such activity more than likely violates the Terms of Service of nearly any site one would care to attempt this for. It would be far better to find another mechanism for accomplishing your goal.","title":"chromedriver window.navigator.webdriver flag is true with chrome v80+","body":"<p>The presence of the <code>window.navigator.webdriver</code> property is mandated by the <a href=\"https://w3c.github.io/webdriver/#interface\" rel=\"noreferrer\">W3C WebDriver Specification</a>. It is both a security feature and a feature to allow better testability of web pages. If you are attempting to automate a page with a WebDriver-powered bot, and you do not own the page being automated, and you are attempting to hide the fact that you’re using a bot from the page’s owners, that is <em>exactly</em> the kind of thing that the property is intended to expose.</p>\n\n<p>It looks like the developers of Chrome and chromedriver have now closed the security loophole they had allowed in previous versions. I suppose it’s possible you could build your own hacked version of the browser and the driver to not set that property when browsing sites with WebDriver, but that would be the only way.</p>\n\n<p>As an editorial comment, attempting to hide browsing by a WebDriver-powered bot is most often a fool’s errand. There are multiple ways of detecting such a bot beyond the <code>navigator.webdriver</code> property, and it would be nearly impossible to mask them all. Even if it appeared to work for awhile, eventually, the site in question will come up with more detection mechanisms. Moreover, such activity more than likely violates the Terms of Service of nearly any site one would care to attempt this for. It would be far better to find another mechanism for accomplishing your goal.</p>\n"}],"owner":{"account_id":10549957,"reputation":283,"user_id":7772947,"display_name":"xmcx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4001,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60647331,"answer_count":1,"score":2,"last_activity_date":1664294950,"creation_date":1583836279,"question_id":60615769,"body_markdown":"I am using selenium chromeDriver for automated testing. But I cannot &quot;hide&quot; the `window.navigator.webdriver` property. When I open chrome(v64-80.0.3987.100) through the driver, it always returns true when viewed in the console. Here is my code: \r\n\r\n    System.setProperty(&quot;webdriver.firefox.marionette&quot;, &quot;false&quot;);\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, webDriverPath);\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;--no-sandbox&quot;);\r\n    options.addArguments(&quot;--disable-extensions&quot;);\r\n    options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;);\r\n    options.addArguments(&quot;--disable-infobars&quot;);\r\n    options.addArguments(&quot;--disable-dev-shm-usage&quot;);\r\n    options.setExperimentalOption(&quot;useAutomationExtension&quot;, false);\r\n    options.addArguments(&quot;--incognito&quot;);\r\n    options.addArguments(&quot;--start-maximized&quot;);\r\n    options.setExperimentalOption(&quot;excludeSwitches&quot;, new String[]{&quot;enable-automation&quot;});\r\n    options.addArguments(&quot;--lang=zh-CN,zh,en&quot;);\r\n    options.addArguments(&quot;--user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36&quot;);\r\n    options.addArguments(&quot;--window-size=1920,1080&quot;);\r\n    ChromeDriver driver = new ChromeDriver(options);\r\n    driver.executeScript(&quot;Object.defineProperty(navigator, \\&quot;webdriver\\&quot;, {\\n&quot; + &quot;    get()  { return undefined; },\\n&quot; + &quot;    set(v) { return v; },\\n&quot; + &quot;    configurable: true,\\n&quot; + &quot;    enumerable: false\\n&quot; + &quot;});&quot;);\r\n    driver.manage().timeouts().pageLoadTimeout(30L, TimeUnit.SECONDS);\r\n    driver.manage().timeouts().setScriptTimeout(5L, TimeUnit.SECONDS);\r\n\r\nIf I use a lower version of chrome (like v64-76.0.3809.100), it returns undefined. Can anyone help me?","title":"chromedriver window.navigator.webdriver flag is true with chrome v80+","body":"<p>I am using selenium chromeDriver for automated testing. But I cannot \"hide\" the <code>window.navigator.webdriver</code> property. When I open chrome(v64-80.0.3987.100) through the driver, it always returns true when viewed in the console. Here is my code: </p>\n\n<pre><code>System.setProperty(\"webdriver.firefox.marionette\", \"false\");\nSystem.setProperty(\"webdriver.chrome.driver\", webDriverPath);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--no-sandbox\");\noptions.addArguments(\"--disable-extensions\");\noptions.addArguments(\"--blink-settings=imagesEnabled=false\");\noptions.addArguments(\"--disable-infobars\");\noptions.addArguments(\"--disable-dev-shm-usage\");\noptions.setExperimentalOption(\"useAutomationExtension\", false);\noptions.addArguments(\"--incognito\");\noptions.addArguments(\"--start-maximized\");\noptions.setExperimentalOption(\"excludeSwitches\", new String[]{\"enable-automation\"});\noptions.addArguments(\"--lang=zh-CN,zh,en\");\noptions.addArguments(\"--user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.142 Safari/537.36\");\noptions.addArguments(\"--window-size=1920,1080\");\nChromeDriver driver = new ChromeDriver(options);\ndriver.executeScript(\"Object.defineProperty(navigator, \\\"webdriver\\\", {\\n\" + \"    get()  { return undefined; },\\n\" + \"    set(v) { return v; },\\n\" + \"    configurable: true,\\n\" + \"    enumerable: false\\n\" + \"});\");\ndriver.manage().timeouts().pageLoadTimeout(30L, TimeUnit.SECONDS);\ndriver.manage().timeouts().setScriptTimeout(5L, TimeUnit.SECONDS);\n</code></pre>\n\n<p>If I use a lower version of chrome (like v64-76.0.3809.100), it returns undefined. Can anyone help me?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1664289048,"post_id":73869084,"comment_id":130434300,"body_markdown":"Your code doesn&#39;t show any call to `Files`. That&#39;s a crucial part of your problem and should be included in the post. &quot;i also use ... thread implement it still don&#39;t work.&quot; That could make the situation worse.","body":"Your code doesn&#39;t show any call to <code>Files</code>. That&#39;s a crucial part of your problem and should be included in the post. &quot;i also use ... thread implement it still don&#39;t work.&quot; That could make the situation worse."},{"owner":{"account_id":22429147,"reputation":1,"user_id":16635276,"display_name":"ASD1122"},"score":0,"creation_date":1664290546,"post_id":73869084,"comment_id":130434910,"body_markdown":"@erickson Thank you very much for your reply. I update Files method that I use I try to copy/rename/move/delete also with and with out option and nothing work. is this what you ask for? if not please let me know I am very new to programming (and also any suggestions are very appreciated)","body":"@erickson Thank you very much for your reply. I update Files method that I use I try to copy/rename/move/delete also with and with out option and nothing work. is this what you ask for? if not please let me know I am very new to programming (and also any suggestions are very appreciated)"},{"owner":{"account_id":2496,"reputation":266234,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1664290928,"post_id":73869084,"comment_id":130435089,"body_markdown":"Sort of. You should start with an [mcve] that reproduces the problem on your system and post that. With the various stories you&#39;ve told, I am not confident what thread `update_user_data()` is called, or when.","body":"Sort of. You should start with an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that reproduces the problem on your system and post that. With the various stories you&#39;ve told, I am not confident what thread <code>update_user_data()</code> is called, or when."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1664291248,"post_id":73869084,"comment_id":130435235,"body_markdown":"Are you reading from the same file you are trying to write to?","body":"Are you reading from the same file you are trying to write to?"},{"owner":{"account_id":22429147,"reputation":1,"user_id":16635276,"display_name":"ASD1122"},"score":0,"creation_date":1664291622,"post_id":73869084,"comment_id":130435398,"body_markdown":"&#39;&#39;&#39;update_user_data()&#39;&#39;&#39; is call when button is press using JavaFX (fxml). basically I try to change any data on CSV file. this method should consume what column name to edit and new data so this method can edit CSV files. right now everything works except the last one that should move the temporary file to original file(delete original and change temporary file to original name) but it get this &quot;The process cannot access the file because it is being used by another process&quot; error","body":"&#39;&#39;&#39;update_user_data()&#39;&#39;&#39; is call when button is press using JavaFX (fxml). basically I try to change any data on CSV file. this method should consume what column name to edit and new data so this method can edit CSV files. right now everything works except the last one that should move the temporary file to original file(delete original and change temporary file to original name) but it get this &quot;The process cannot access the file because it is being used by another process&quot; error"},{"owner":{"account_id":22429147,"reputation":1,"user_id":16635276,"display_name":"ASD1122"},"score":0,"creation_date":1664291752,"post_id":73869084,"comment_id":130435456,"body_markdown":"@vsfDawg i read the original file get that data and write a temporary file with data that I read and update it with data I want to update(new_data parameter). (all above it work ) when it finish. I want to delete original file and rename temporary to be a new original file. this part is what I get error.","body":"@vsfDawg i read the original file get that data and write a temporary file with data that I read and update it with data I want to update(new_data parameter). (all above it work ) when it finish. I want to delete original file and rename temporary to be a new original file. this part is what I get error."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1664292152,"post_id":73869084,"comment_id":130435628,"body_markdown":"The question includes the code that reads the original file and writes to a temporary file.  In the previous comment you state that this works.  When you go to delete the original file and/or when you rename the temp file is when you get an exception?  Please add THAT code to the question if that is the case and include the full stacktrace.","body":"The question includes the code that reads the original file and writes to a temporary file.  In the previous comment you state that this works.  When you go to delete the original file and/or when you rename the temp file is when you get an exception?  Please add THAT code to the question if that is the case and include the full stacktrace."},{"owner":{"account_id":22429147,"reputation":1,"user_id":16635276,"display_name":"ASD1122"},"score":0,"creation_date":1664292764,"post_id":73869084,"comment_id":130435872,"body_markdown":"@vsfDawg I update it in question sorry for forget it. by the way this is all error I got\n    java.nio.file.FileSystemException: src\\main\\java\\allaccount\\data\\Account.csv: The process cannot access the file because it is being used by another process. FYI I use intellij IDE / maven for build and java 17","body":"@vsfDawg I update it in question sorry for forget it. by the way this is all error I got     java.nio.file.FileSystemException: src\\main\\java\\allaccount\\data\\Account.csv: The process cannot access the file because it is being used by another process. FYI I use intellij IDE / maven for build and java 17"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664294829,"creation_date":1664294829,"answer_id":73870615,"question_id":73869084,"body_markdown":"The code contains only one serious bug, `continue` causes the replacement of all lines after `Userprofile.getUserline()`.\r\n\r\nAnd String objects are immutable. So you need to do `s = s.trim()` as `trim()` delivers a new String value not altering the original string.\r\n\r\nFurthermore I used [`Files`][1] with its utility functions.\r\n\r\n    protected static void editCsvData(String columname, String newData) throws IOException {\r\n\t\tPath accountPath = accountfile.toPath();\r\n        // When File. Or when String: Paths.get(accountfile).\r\n\t\tPath tempPath = tempFile.toPath();\r\n        try (BufferedReader reader = Files.newBufferedReader(accountPath,\r\n                                         Charset.defaultCharset());\r\n\t\t        BuffedWriter writer = Files.newBufferedWriter(tempPath,\r\n                                          Charset.defaultCharset())) {\r\n\r\n            String currentLine;\r\n            int index = 10;\r\n            int line = 0;\r\n            while ((currentLine = reader.readLine()) != null) {\r\n                if (line == Userprofile.getUserline()) {\r\n                    currentine = currentLine.trim();\r\n                    String[] data = currentLine.split(&quot;,&quot;);\r\n                    for (int x = 0; x &lt; data.length; x++) {\r\n                        if (x &gt; 0) {\r\n\t\t\t\t\t\t\twriter.write(&quot;,&quot;);\r\n\t\t\t\t\t\t}\r\n                        writer.write(index == x ? newData : data[x]);\r\n                    }\r\n                } else {\r\n                    writer.write(currentLine);\r\n                }\r\n\t\t\t\twriter.write(System.getProperty(&quot;line.separator&quot;));\r\n                ++line;\r\n            }\r\n            System.err.println(&quot;write fin&quot;);\r\n        }\r\n\t}\r\n\r\nWhat concerns the **error**: there are two files here: accountFile and tempFile. Either one could not have been closed - kept in use - and cause the mentioned error.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html","title":"The process cannot access the file because it is being used by another process (buffer read and try with resource not work)","body":"<p>The code contains only one serious bug, <code>continue</code> causes the replacement of all lines after <code>Userprofile.getUserline()</code>.</p>\n<p>And String objects are immutable. So you need to do <code>s = s.trim()</code> as <code>trim()</code> delivers a new String value not altering the original string.</p>\n<p>Furthermore I used <a href=\"https://docs.oracle.com/javase/10/docs/api/java/nio/file/Files.html\" rel=\"nofollow noreferrer\"><code>Files</code></a> with its utility functions.</p>\n<pre><code>protected static void editCsvData(String columname, String newData) throws IOException {\n    Path accountPath = accountfile.toPath();\n    // When File. Or when String: Paths.get(accountfile).\n    Path tempPath = tempFile.toPath();\n    try (BufferedReader reader = Files.newBufferedReader(accountPath,\n                                     Charset.defaultCharset());\n            BuffedWriter writer = Files.newBufferedWriter(tempPath,\n                                      Charset.defaultCharset())) {\n\n        String currentLine;\n        int index = 10;\n        int line = 0;\n        while ((currentLine = reader.readLine()) != null) {\n            if (line == Userprofile.getUserline()) {\n                currentine = currentLine.trim();\n                String[] data = currentLine.split(&quot;,&quot;);\n                for (int x = 0; x &lt; data.length; x++) {\n                    if (x &gt; 0) {\n                        writer.write(&quot;,&quot;);\n                    }\n                    writer.write(index == x ? newData : data[x]);\n                }\n            } else {\n                writer.write(currentLine);\n            }\n            writer.write(System.getProperty(&quot;line.separator&quot;));\n            ++line;\n        }\n        System.err.println(&quot;write fin&quot;);\n    }\n}\n</code></pre>\n<p>What concerns the <strong>error</strong>: there are two files here: accountFile and tempFile. Either one could not have been closed - kept in use - and cause the mentioned error.</p>\n"}],"owner":{"account_id":22429147,"reputation":1,"user_id":16635276,"display_name":"ASD1122"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664294829,"creation_date":1664287997,"question_id":73869084,"body_markdown":"   Hi i try to implement csv edit method using https://stackoverflow.com/a/1377322 as example. everything work except when i try to Files.copy/move/delete it i get this &quot;The process cannot access the file because it is being used by another process&quot; error. i also use (try with resource) and thread implement it still don&#39;t work. this error is only base on bufferreader file so may i ask what seem to be the problem.\r\n\r\n\r\n    protected static void edit_csv_data(String columname, String new_data) throws IOException {\r\n            try (FileReader fr = new FileReader(accountfile); BufferedReader reader = new BufferedReader(fr)) {\r\n    \r\n                File tempFile = new File(tempfile);\r\n                BufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\r\n                String currentLine;\r\n                int index = 10;\r\n                int line = 0;\r\n                while ((currentLine = reader.readLine()) != null) {\r\n                    if (line == Userprofile.getUserline()) {\r\n                        currentLine.trim();\r\n                        String[] data = currentLine.split(&quot;,&quot;);\r\n                        for (int x = 0; x &lt; data.length; x++) {\r\n                            if (index == x) {\r\n                                writer.write(new_data);\r\n                            } else writer.write(data[x]);\r\n                            if (x &lt; data.length - 1) writer.write(&quot;,&quot;);\r\n                        }\r\n                        writer.write(System.getProperty(&quot;line.separator&quot;));\r\n                        continue;\r\n                    }else {\r\n                        writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));\r\n                    }\r\n                    line += 1;\r\n                }\r\n                writer.flush();\r\n                writer.close();\r\n                reader.close();\r\n                System.err.println(&quot;write fin&quot;);\r\n                return;\r\n            }\r\n  \r\nI also try resource monitor in window 11 .the process java.exe and I also cant delete file when java is running or even after error was thrown and I can edit accountfile after close java or leave program open long enough i can delete file even java is run so i believe BufferReader is Stuck and not close properly.\r\n\r\nCSV File\r\n&#39;&#39;&#39;\r\n\r\n    Username,Password,Account_Type,Name,Surname,ID,Email,Picture_name,Ban_status,Attemp_Login_during_Baned,Last_Login\r\n    admin,1234,admin,Chicken,Little,62001,ASD.l@hotmail.com,picture.jpg,false,0,132\r\n\r\n&#39;&#39;&#39;\r\n\r\n    protected static void update_user_data(String columname, String new_data) throws IOException {\r\n            DataEdit.edit_csv_data(columname,new_data);\r\n            System.err.println(Files.isWritable(Path.of(accountfile)));\r\n            Files.copy(Path.of(tempfile), Path.of(accountfile_back),StandardCopyOption.REPLACE_EXISTING);\r\n            Files.copy(Path.of(accountfile), Path.of(accountfile_back), StandardCopyOption.REPLACE_EXISTING);\r\n            Files.copy(Path.of(tempfile), Path.of(accountfile),StandardCopyOption.REPLACE_EXISTING);\r\n            return;\r\n        }\r\n\r\n\r\nError\r\n\r\n    java.nio.file.FileSystemException: src\\main\\java\\allaccount\\data\\Account.csv: The process cannot access the file because it is being used by another process\r\n\r\nFYI I use Intellij IDE,maven for build,java 17","title":"The process cannot access the file because it is being used by another process (buffer read and try with resource not work)","body":"<p>Hi i try to implement csv edit method using <a href=\"https://stackoverflow.com/a/1377322\">https://stackoverflow.com/a/1377322</a> as example. everything work except when i try to Files.copy/move/delete it i get this &quot;The process cannot access the file because it is being used by another process&quot; error. i also use (try with resource) and thread implement it still don't work. this error is only base on bufferreader file so may i ask what seem to be the problem.</p>\n<pre><code>protected static void edit_csv_data(String columname, String new_data) throws IOException {\n        try (FileReader fr = new FileReader(accountfile); BufferedReader reader = new BufferedReader(fr)) {\n\n            File tempFile = new File(tempfile);\n            BufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\n            String currentLine;\n            int index = 10;\n            int line = 0;\n            while ((currentLine = reader.readLine()) != null) {\n                if (line == Userprofile.getUserline()) {\n                    currentLine.trim();\n                    String[] data = currentLine.split(&quot;,&quot;);\n                    for (int x = 0; x &lt; data.length; x++) {\n                        if (index == x) {\n                            writer.write(new_data);\n                        } else writer.write(data[x]);\n                        if (x &lt; data.length - 1) writer.write(&quot;,&quot;);\n                    }\n                    writer.write(System.getProperty(&quot;line.separator&quot;));\n                    continue;\n                }else {\n                    writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));\n                }\n                line += 1;\n            }\n            writer.flush();\n            writer.close();\n            reader.close();\n            System.err.println(&quot;write fin&quot;);\n            return;\n        }\n</code></pre>\n<p>I also try resource monitor in window 11 .the process java.exe and I also cant delete file when java is running or even after error was thrown and I can edit accountfile after close java or leave program open long enough i can delete file even java is run so i believe BufferReader is Stuck and not close properly.</p>\n<p>CSV File\n'''</p>\n<pre><code>Username,Password,Account_Type,Name,Surname,ID,Email,Picture_name,Ban_status,Attemp_Login_during_Baned,Last_Login\nadmin,1234,admin,Chicken,Little,62001,ASD.l@hotmail.com,picture.jpg,false,0,132\n</code></pre>\n<p>'''</p>\n<pre><code>protected static void update_user_data(String columname, String new_data) throws IOException {\n        DataEdit.edit_csv_data(columname,new_data);\n        System.err.println(Files.isWritable(Path.of(accountfile)));\n        Files.copy(Path.of(tempfile), Path.of(accountfile_back),StandardCopyOption.REPLACE_EXISTING);\n        Files.copy(Path.of(accountfile), Path.of(accountfile_back), StandardCopyOption.REPLACE_EXISTING);\n        Files.copy(Path.of(tempfile), Path.of(accountfile),StandardCopyOption.REPLACE_EXISTING);\n        return;\n    }\n</code></pre>\n<p>Error</p>\n<pre><code>java.nio.file.FileSystemException: src\\main\\java\\allaccount\\data\\Account.csv: The process cannot access the file because it is being used by another process\n</code></pre>\n<p>FYI I use Intellij IDE,maven for build,java 17</p>\n"},{"tags":["java","android","android-pendingintent","android-12"],"answers":[{"tags":[],"owner":{"account_id":26377214,"reputation":68,"user_id":20030981,"display_name":"Sneh Malani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664294723,"creation_date":1664294723,"answer_id":73870598,"question_id":73869654,"body_markdown":"There is little bit mistake,\r\n\r\nUse both ``PendingIntent Flags`` like this example, ``PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE``\r\n\r\n[example](https://stackoverflow.com/questions/73849561/pendingintent-flag-update-current-error-on-android-12/73851903#73851903)\r\n\r\n\r\nin your code change in ``PendingIntent.getBroadcast()``\r\n\r\n    pendingIntent= PendingIntent.getBroadcast(mCon, ALARM1_ID, myIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\r\n\r\n\r\nalso change in ``PendingIntent.getActivity()``\r\n\r\n\r\n    PendingIntent pendingIntent2 = PendingIntent.getActivity(mCon, 2, i2, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);","title":"Pending Intent &gt; Flag_Immutable Android 12 Still getting errors","body":"<p>There is little bit mistake,</p>\n<p>Use both <code>PendingIntent Flags</code> like this example, <code>PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE</code></p>\n<p><a href=\"https://stackoverflow.com/questions/73849561/pendingintent-flag-update-current-error-on-android-12/73851903#73851903\">example</a></p>\n<p>in your code change in <code>PendingIntent.getBroadcast()</code></p>\n<pre><code>pendingIntent= PendingIntent.getBroadcast(mCon, ALARM1_ID, myIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\n</code></pre>\n<p>also change in <code>PendingIntent.getActivity()</code></p>\n<pre><code>PendingIntent pendingIntent2 = PendingIntent.getActivity(mCon, 2, i2, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_MUTABLE);\n</code></pre>\n"}],"owner":{"account_id":18724988,"reputation":519,"user_id":13651898,"display_name":"Supun Ayeshmantha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664294723,"creation_date":1664290416,"question_id":73869654,"body_markdown":"Here is my Code For the Alarm to be set\r\n\r\n    public void setAlarm(int hr ,int min) {\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.set(Calendar.HOUR_OF_DAY, hr);\r\n        calendar.set(Calendar.MINUTE, min);\r\n        calendar.set(Calendar.SECOND, 0);\r\n        calendar.set(Calendar.MILLISECOND, 0);\r\n\r\n        Calendar cur = Calendar.getInstance();\r\n\r\n        if (cur.after(calendar)) {\r\n            calendar.add(Calendar.DATE, 1);\r\n        }\r\n        Intent myIntent = new Intent(mCon, DailyReminder.class);\r\n        int ALARM1_ID = 10000;\r\n\r\n\r\n        PendingIntent pendingIntent;\r\n        \r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\r\n           pendingIntent= PendingIntent.getBroadcast(mCon, ALARM1_ID, myIntent, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\r\n        } else {\r\n            pendingIntent = PendingIntent.getBroadcast(mCon, ALARM1_ID, myIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n        }\r\n\r\n        AlarmManager alarmManager = (AlarmManager) mCon.getSystemService(Context.ALARM_SERVICE);\r\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntent);\r\n\r\n    }\r\n\r\n\r\nI did the changes mentioned in this [Stackoverfolw question][1] to the above code .\r\n\r\nHere is the Broadcast Receiver I used in this\r\n\r\n    public class DailyReminder extends BroadcastReceiver {\r\n\r\n\r\n    @Override\r\n    public void onReceive(Context mCon, Intent intent) {\r\n       BirthdayNotification(mCon,intent);\r\n    }\r\n\r\n private void BirthdayNotification(Context mCon, Intent intent) {\r\n       \r\n\r\n Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n\r\n        NotificationCompat.Builder mBuilder =new NotificationCompat.Builder(mCon.getApplicationContext(), &quot;Birthday Notify&quot;);\r\n        Intent i2 = new Intent(mCon.getApplicationContext(), MainActivity.class);\r\n        PendingIntent pendingIntent2 = PendingIntent.getActivity(mCon, 2, i2, 0);\r\n\r\n        DateData dateData=new DateData().getTimeNow();\r\n        ArrayList&lt;DoctorData&gt; Birthday_List=new DataLoader(mCon).getFilteredDoctorData(dateData);\r\n\r\n        if(Birthday_List.size()&gt;0){\r\n            //calls planned\r\n            NotificationCompat.InboxStyle inboxStyle = new NotificationCompat.InboxStyle();\r\n            inboxStyle.setBigContentTitle(&quot;Birthday&#39;s&quot;);\r\n            for(DoctorData item :Birthday_List){\r\n                inboxStyle.addLine(item.getName()+&quot;-&quot;+item.getLocation());\r\n            }\r\n            inboxStyle.setSummaryText(&quot;Total Birthday&#39;s :&quot;+Birthday_List.size());\r\n            mBuilder.setStyle(inboxStyle);\r\n\r\n            mBuilder.setContentIntent(pendingIntent2);\r\n            mBuilder.setSmallIcon(R.mipmap.ic_launcher_round);\r\n            mBuilder.setContentTitle(&quot;Doctor Birthday&#39;s today&quot;);\r\n            mBuilder.setSound(alarmSound);\r\n            mBuilder.setContentText(&quot;See birthday&#39;s&quot;);\r\n            mBuilder.setPriority(Notification.PRIORITY_MAX);\r\n\r\n\r\n            NotificationManager mNotificationManager =\r\n                    (NotificationManager) mCon.getSystemService(Context.NOTIFICATION_SERVICE);\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\r\n            {\r\n                String channelId = &quot;Birthday Channel&quot;;\r\n                NotificationChannel channel = new NotificationChannel(\r\n                        channelId,\r\n                        &quot;Birthday Notification&quot;,\r\n                        NotificationManager.IMPORTANCE_HIGH);\r\n                mNotificationManager.createNotificationChannel(channel);\r\n                mBuilder.setChannelId(channelId);\r\n            }\r\n\r\n            mNotificationManager.notify(2, mBuilder.build());\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n\r\n\r\nWhen I run the above code , the following error shows up again. can anyone help on this?\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThank you\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/73849561/pendingintent-flag-update-current-error-on-android-12\r\n  [2]: https://i.stack.imgur.com/o3p7I.png","title":"Pending Intent &gt; Flag_Immutable Android 12 Still getting errors","body":"<p>Here is my Code For the Alarm to be set</p>\n<pre><code>public void setAlarm(int hr ,int min) {\n    Calendar calendar = Calendar.getInstance();\n    calendar.set(Calendar.HOUR_OF_DAY, hr);\n    calendar.set(Calendar.MINUTE, min);\n    calendar.set(Calendar.SECOND, 0);\n    calendar.set(Calendar.MILLISECOND, 0);\n\n    Calendar cur = Calendar.getInstance();\n\n    if (cur.after(calendar)) {\n        calendar.add(Calendar.DATE, 1);\n    }\n    Intent myIntent = new Intent(mCon, DailyReminder.class);\n    int ALARM1_ID = 10000;\n\n\n    PendingIntent pendingIntent;\n    \n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.S) {\n       pendingIntent= PendingIntent.getBroadcast(mCon, ALARM1_ID, myIntent, PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT);\n    } else {\n        pendingIntent = PendingIntent.getBroadcast(mCon, ALARM1_ID, myIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n    }\n\n    AlarmManager alarmManager = (AlarmManager) mCon.getSystemService(Context.ALARM_SERVICE);\n    alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.getTimeInMillis(), AlarmManager.INTERVAL_DAY, pendingIntent);\n\n}\n</code></pre>\n<p>I did the changes mentioned in this <a href=\"https://stackoverflow.com/questions/73849561/pendingintent-flag-update-current-error-on-android-12\">Stackoverfolw question</a> to the above code .</p>\n<p>Here is the Broadcast Receiver I used in this</p>\n<pre><code>public class DailyReminder extends BroadcastReceiver {\n\n\n@Override\npublic void onReceive(Context mCon, Intent intent) {\n   BirthdayNotification(mCon,intent);\n}\n</code></pre>\n<p>private void BirthdayNotification(Context mCon, Intent intent) {</p>\n<p>Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);</p>\n<pre><code>    NotificationCompat.Builder mBuilder =new NotificationCompat.Builder(mCon.getApplicationContext(), &quot;Birthday Notify&quot;);\n    Intent i2 = new Intent(mCon.getApplicationContext(), MainActivity.class);\n    PendingIntent pendingIntent2 = PendingIntent.getActivity(mCon, 2, i2, 0);\n\n    DateData dateData=new DateData().getTimeNow();\n    ArrayList&lt;DoctorData&gt; Birthday_List=new DataLoader(mCon).getFilteredDoctorData(dateData);\n\n    if(Birthday_List.size()&gt;0){\n        //calls planned\n        NotificationCompat.InboxStyle inboxStyle = new NotificationCompat.InboxStyle();\n        inboxStyle.setBigContentTitle(&quot;Birthday's&quot;);\n        for(DoctorData item :Birthday_List){\n            inboxStyle.addLine(item.getName()+&quot;-&quot;+item.getLocation());\n        }\n        inboxStyle.setSummaryText(&quot;Total Birthday's :&quot;+Birthday_List.size());\n        mBuilder.setStyle(inboxStyle);\n\n        mBuilder.setContentIntent(pendingIntent2);\n        mBuilder.setSmallIcon(R.mipmap.ic_launcher_round);\n        mBuilder.setContentTitle(&quot;Doctor Birthday's today&quot;);\n        mBuilder.setSound(alarmSound);\n        mBuilder.setContentText(&quot;See birthday's&quot;);\n        mBuilder.setPriority(Notification.PRIORITY_MAX);\n\n\n        NotificationManager mNotificationManager =\n                (NotificationManager) mCon.getSystemService(Context.NOTIFICATION_SERVICE);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)\n        {\n            String channelId = &quot;Birthday Channel&quot;;\n            NotificationChannel channel = new NotificationChannel(\n                    channelId,\n                    &quot;Birthday Notification&quot;,\n                    NotificationManager.IMPORTANCE_HIGH);\n            mNotificationManager.createNotificationChannel(channel);\n            mBuilder.setChannelId(channelId);\n        }\n\n        mNotificationManager.notify(2, mBuilder.build());\n\n    }\n\n}\n</code></pre>\n<p>}</p>\n<p>When I run the above code , the following error shows up again. can anyone help on this?</p>\n<p><a href=\"https://i.stack.imgur.com/o3p7I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o3p7I.png\" alt=\"enter image description here\" /></a></p>\n<p>Thank you</p>\n"},{"tags":["java","jsp"],"answers":[{"tags":[],"owner":{"account_id":26264666,"reputation":21,"user_id":19935421,"display_name":"Andrea Riccio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664279777,"creation_date":1664279777,"answer_id":73867167,"question_id":73841099,"body_markdown":"JSP can only show information to user, if you want to do some elaboration you have to re-call a servlet that to that for you.\r\n","title":"Can I create methods in JSPs?","body":"<p>JSP can only show information to user, if you want to do some elaboration you have to re-call a servlet that to that for you.</p>\n"},{"tags":[],"owner":{"account_id":25629836,"reputation":21,"user_id":19400377,"display_name":"JM."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664294695,"creation_date":1664294695,"answer_id":73870589,"question_id":73841099,"body_markdown":"Analize and try using this:\r\nEverything in your jsp.\r\n\r\nBut i recommend you that if your a gonna use methods, use classes instead. They are safer and loads quite faster when calling them.\r\n\r\n    &lt;%\r\n       //Your main logic\r\n       out.print(myMethod());\r\n    %&gt;\r\n    &lt;html&gt;\r\n         your client side content\r\n    &lt;/html&gt;\r\n    &lt;%!\r\n       public String myMethod(){\r\n          return &quot;Method called successfully&quot;;\r\n       }\r\n    %&gt;","title":"Can I create methods in JSPs?","body":"<p>Analize and try using this:\nEverything in your jsp.</p>\n<p>But i recommend you that if your a gonna use methods, use classes instead. They are safer and loads quite faster when calling them.</p>\n<pre><code>&lt;%\n   //Your main logic\n   out.print(myMethod());\n%&gt;\n&lt;html&gt;\n     your client side content\n&lt;/html&gt;\n&lt;%!\n   public String myMethod(){\n      return &quot;Method called successfully&quot;;\n   }\n%&gt;\n</code></pre>\n"}],"owner":{"account_id":2441648,"reputation":133,"user_id":2130004,"display_name":"talon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1664294695,"creation_date":1664060777,"question_id":73841099,"body_markdown":"Can I write methods in JSPs? (Java Server Pages)\r\n\r\nI tried writing a method within the body of the JSP, but my IDE doesn&#39;t seem to like it.","title":"Can I create methods in JSPs?","body":"<p>Can I write methods in JSPs? (Java Server Pages)</p>\n<p>I tried writing a method within the body of the JSP, but my IDE doesn't seem to like it.</p>\n"},{"tags":["java","xml","marshalling"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":2,"creation_date":1664290124,"post_id":73869491,"comment_id":130434723,"body_markdown":"It should be `@XmlAttribute(name=&quot;name&quot;)`, because in the annotation of the class you put the name of the attribute (which is `name`), not its value (that is `test`).","body":"It should be <code>@XmlAttribute(name=&quot;name&quot;)</code>, because in the annotation of the class you put the name of the attribute (which is <code>name</code>), not its value (that is <code>test</code>)."},{"owner":{"display_name":"user19906023"},"score":0,"creation_date":1664293754,"post_id":73869491,"comment_id":130436292,"body_markdown":"wait, the name of the attribute is name and its value is test\n\nso name=&quot;value&quot; should be correct since i want to be able to change the value of the attribute name","body":"wait, the name of the attribute is name and its value is test  so name=&quot;value&quot; should be correct since i want to be able to change the value of the attribute name"},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1664296371,"post_id":73869491,"comment_id":130437207,"body_markdown":"The annotation that you&#39;re using on the property `private String name` is telling JAXB that your XML will contain an attribute called `test` that contains whatever value is after the `=` sign. Which is not what you want. What you want is that the attribute is called `name` and will contain whatever value is after the `=` sign (that may be `test` or `test2`","body":"The annotation that you&#39;re using on the property <code>private String name</code> is telling JAXB that your XML will contain an attribute called <code>test</code> that contains whatever value is after the <code>=</code> sign. Which is not what you want. What you want is that the attribute is called <code>name</code> and will contain whatever value is after the <code>=</code> sign (that may be <code>test</code> or <code>test2</code>"}],"owner":{"display_name":"user19906023"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664294375,"creation_date":1664289682,"question_id":73869491,"body_markdown":"Hello i&#39;m trying to create Java classes that can marshall the following xml\r\n\r\n```xml\r\n&lt;ns1:container name=&quot;test&quot;&gt;\r\n    &lt;ns1:subContainer type=&quot;String&quot;&gt;\r\n        &lt;ns1:value&gt;hello_world&lt;/ns1:value&gt;\r\n    &lt;/ns1:subContainer&gt;\r\n&lt;/ns1:container&gt; \r\n```\r\n\r\nexample 2\r\n```xml\r\n&lt;ns1:container name=&quot;test2&quot;&gt;\r\n    &lt;ns1:subContainer type=&quot;String&quot;&gt;\r\n        &lt;ns1:value&gt;hello_world2&lt;/ns1:value&gt;\r\n    &lt;/ns1:subContainer&gt;\r\n&lt;/ns1:container&gt; \r\n```\r\n\r\nNow the name attribute is different on these 2 examples. What I would like to do is to use the same java class for both xmls but be able to change the value of the name attribute.\r\n\r\nSo far i&#39;ve created\r\n\r\n```java\r\npublic class Container {\r\n    @XmlAttribute(name=&quot;test&quot;)\r\n    private String name;\r\n\r\n    @XmlElement(name=&quot;subContainer&quot;, namespace = &quot;ns1&quot;)\r\n    private SubContainer subContainer;\r\n\r\n    public Container() {\r\n    }\r\n\r\n    public Container(String value, String name) {\r\n        this.name = name;\r\n        this.subContainer = new SubContainer(&quot;String&quot;, value);\r\n    }\r\n}\r\n```\r\n\r\nand this works for the first example. however, `@XmlAttribute(name=&quot;test&quot;)` needs a constant so how can i reuse this class for example 2? Or is there a better way to dynamically change the attribute?\r\n","title":"Java creating classes for xml marshalling","body":"<p>Hello i'm trying to create Java classes that can marshall the following xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ns1:container name=&quot;test&quot;&gt;\n    &lt;ns1:subContainer type=&quot;String&quot;&gt;\n        &lt;ns1:value&gt;hello_world&lt;/ns1:value&gt;\n    &lt;/ns1:subContainer&gt;\n&lt;/ns1:container&gt; \n</code></pre>\n<p>example 2</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ns1:container name=&quot;test2&quot;&gt;\n    &lt;ns1:subContainer type=&quot;String&quot;&gt;\n        &lt;ns1:value&gt;hello_world2&lt;/ns1:value&gt;\n    &lt;/ns1:subContainer&gt;\n&lt;/ns1:container&gt; \n</code></pre>\n<p>Now the name attribute is different on these 2 examples. What I would like to do is to use the same java class for both xmls but be able to change the value of the name attribute.</p>\n<p>So far i've created</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Container {\n    @XmlAttribute(name=&quot;test&quot;)\n    private String name;\n\n    @XmlElement(name=&quot;subContainer&quot;, namespace = &quot;ns1&quot;)\n    private SubContainer subContainer;\n\n    public Container() {\n    }\n\n    public Container(String value, String name) {\n        this.name = name;\n        this.subContainer = new SubContainer(&quot;String&quot;, value);\n    }\n}\n</code></pre>\n<p>and this works for the first example. however, <code>@XmlAttribute(name=&quot;test&quot;)</code> needs a constant so how can i reuse this class for example 2? Or is there a better way to dynamically change the attribute?</p>\n"},{"tags":["java","dependency-injection","ejb","cdi"],"answers":[{"tags":[],"owner":{"account_id":25629836,"reputation":21,"user_id":19400377,"display_name":"JM."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664294179,"creation_date":1664294179,"answer_id":73870489,"question_id":73868478,"body_markdown":"Let me see if i understand. \r\n\r\nYou want to store data in session, like a shopping cart?\r\n\r\nIf you want to store in session an entire object you can set it in a usebean.\r\n\r\n    &lt;jsp:useBean id=&quot;objectname&quot; scope=&quot;session&quot; class=&quot;com.mypackage.myclass&quot;/&gt;\r\n\r\nThis way you can call the object and it&#39;s methods wherever the usebean is.\r\n\r\n\r\nI hope this could help.\r\n","title":"What is a proper way to inject an object that needs parameter inside servlets in java ee?","body":"<p>Let me see if i understand.</p>\n<p>You want to store data in session, like a shopping cart?</p>\n<p>If you want to store in session an entire object you can set it in a usebean.</p>\n<pre><code>&lt;jsp:useBean id=&quot;objectname&quot; scope=&quot;session&quot; class=&quot;com.mypackage.myclass&quot;/&gt;\n</code></pre>\n<p>This way you can call the object and it's methods wherever the usebean is.</p>\n<p>I hope this could help.</p>\n"}],"owner":{"account_id":23270618,"reputation":127,"user_id":18453555,"display_name":"ruskaof"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664294179,"creation_date":1664285460,"question_id":73868478,"body_markdown":"I&#39;m making a java application using jsp and servlets. I want to store some data in HTTP session but I want to use the session only inside a `RepositoryImpl` class. I also have an interface called `Repository` with methods like `addItem()` and `getData()`. So my `RepositoryImpl` class implements these methods and uses HTTP session to store the data.\r\n\r\nI want to inject the `RepositoryImpl` class into different servlets to use it as an instance of `Repository` interface. The problem is I don&#39;t know how to pass the `session` to the `RepostioryImpl` instance with `ejb` or `cdi`. What is the best way to handle my problem?","title":"What is a proper way to inject an object that needs parameter inside servlets in java ee?","body":"<p>I'm making a java application using jsp and servlets. I want to store some data in HTTP session but I want to use the session only inside a <code>RepositoryImpl</code> class. I also have an interface called <code>Repository</code> with methods like <code>addItem()</code> and <code>getData()</code>. So my <code>RepositoryImpl</code> class implements these methods and uses HTTP session to store the data.</p>\n<p>I want to inject the <code>RepositoryImpl</code> class into different servlets to use it as an instance of <code>Repository</code> interface. The problem is I don't know how to pass the <code>session</code> to the <code>RepostioryImpl</code> instance with <code>ejb</code> or <code>cdi</code>. What is the best way to handle my problem?</p>\n"},{"tags":["java","android","kotlin","dependency-injection","dagger-2"],"comments":[{"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"score":0,"creation_date":1664258847,"post_id":73836543,"comment_id":130423791,"body_markdown":"Why are you using `kapt` for one but `annotationProcessor` for the other? The [docs](https://github.com/google/dagger#gradle) say to use `kapt` all over, not just for one, assuming you&#39;re using Kotlin. I haven&#39;t seen your specific error but if those two annotation processors don&#39;t match I could imagine the Kotlin annotation phase giving that error if it encounters `@ContributesAndroidInjector` before the Android processor comes in.","body":"Why are you using <code>kapt</code> for one but <code>annotationProcessor</code> for the other? The <a href=\"https://github.com/google/dagger#gradle\" rel=\"nofollow noreferrer\">docs</a> say to use <code>kapt</code> all over, not just for one, assuming you&#39;re using Kotlin. I haven&#39;t seen your specific error but if those two annotation processors don&#39;t match I could imagine the Kotlin annotation phase giving that error if it encounters <code>@ContributesAndroidInjector</code> before the Android processor comes in."}],"answers":[{"tags":[],"owner":{"account_id":7657514,"reputation":199,"user_id":5803815,"display_name":"Kunal Parte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664273639,"creation_date":1664273639,"answer_id":73865894,"question_id":73836543,"body_markdown":"I managed to solve this by changing my dependencies to the following-\r\n\r\n    implementation &#39;com.google.dagger:dagger-android:2.16&#39;\r\n    implementation &#39;com.google.dagger:dagger-android-support:2.16&#39;\r\n    kapt &quot;com.google.dagger:dagger-compiler:2.16&quot;\r\n    kapt &quot;com.google.dagger:dagger-android-processor:2.16&quot;\r\n\r\nThis seems to be more like a a hack than a proper solution as when I update my libraries it starts giving me compile time error","title":"Why @ContributesAndroidInjector cant be found by DaggerAndroidProcessor library on the processor path?","body":"<p>I managed to solve this by changing my dependencies to the following-</p>\n<pre><code>implementation 'com.google.dagger:dagger-android:2.16'\nimplementation 'com.google.dagger:dagger-android-support:2.16'\nkapt &quot;com.google.dagger:dagger-compiler:2.16&quot;\nkapt &quot;com.google.dagger:dagger-android-processor:2.16&quot;\n</code></pre>\n<p>This seems to be more like a a hack than a proper solution as when I update my libraries it starts giving me compile time error</p>\n"},{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664294167,"creation_date":1664294167,"answer_id":73870488,"question_id":73836543,"body_markdown":"Oh! You were not using the same Dagger compiler as your implementations. Your compiler was 2.28.3 and your implementations were 2.35.1. If the Dagger compiler has a different version than its implementation, it may generate non-working code that refers to missing implementations, or (as here) it may not generate code at all.\r\n\r\nMake them match:\r\n\r\n```gradle\r\nimplementation &quot;com.google.dagger:dagger:2.35.1&quot;\r\nimplementation &quot;com.google.dagger:dagger-android:2.35.1&quot;\r\nimplementation &quot;com.google.dagger:dagger-android-support:2.35.1&quot;\r\nkapt &quot;com.google.dagger:dagger-android-processor:2.35.1&quot;\r\nkapt &quot;com.google.dagger:dagger-compiler:2.35.1&quot;\r\n\r\nimplementation &#39;javax.inject:javax.inject:1&#39;\r\nkapt &quot;org.jetbrains.kotlinx:kotlinx-metadata-jvm:0.3.0&quot;\r\nimplementation &quot;androidx.compose.runtime:runtime:1.2.1&quot;\r\n```\r\n\r\nI also switched your Android compiler to `kapt` per [the Dagger README section on Gradle](https://github.com/google/dagger#gradle).","title":"Why @ContributesAndroidInjector cant be found by DaggerAndroidProcessor library on the processor path?","body":"<p>Oh! You were not using the same Dagger compiler as your implementations. Your compiler was 2.28.3 and your implementations were 2.35.1. If the Dagger compiler has a different version than its implementation, it may generate non-working code that refers to missing implementations, or (as here) it may not generate code at all.</p>\n<p>Make them match:</p>\n<pre><code>implementation &quot;com.google.dagger:dagger:2.35.1&quot;\nimplementation &quot;com.google.dagger:dagger-android:2.35.1&quot;\nimplementation &quot;com.google.dagger:dagger-android-support:2.35.1&quot;\nkapt &quot;com.google.dagger:dagger-android-processor:2.35.1&quot;\nkapt &quot;com.google.dagger:dagger-compiler:2.35.1&quot;\n\nimplementation 'javax.inject:javax.inject:1'\nkapt &quot;org.jetbrains.kotlinx:kotlinx-metadata-jvm:0.3.0&quot;\nimplementation &quot;androidx.compose.runtime:runtime:1.2.1&quot;\n</code></pre>\n<p>I also switched your Android compiler to <code>kapt</code> per <a href=\"https://github.com/google/dagger#gradle\" rel=\"nofollow noreferrer\">the Dagger README section on Gradle</a>.</p>\n"}],"owner":{"account_id":7657514,"reputation":199,"user_id":5803815,"display_name":"Kunal Parte"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":712,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1664294167,"creation_date":1664015683,"question_id":73836543,"body_markdown":"I am implementing Dagger2 and when I am using @ContributesAndroidInjector, I get compile time \r\nerror:`@dagger.android.ContributesAndroidInjector was used,but dagger.android.processor.AndroidProcessor was not found on the processor path`\r\n\r\nI tried multiple solutions but this error never goes away. I tried using old library     \r\nversion of dagger2 dependencies. I tried creating a java abstract @Module class. I   \r\ntried using Kotlin android processor declaring kapt dependency, But Nothing really Helped. Can somebody please help me to rid of this error. Following are the dependencies of Dagger2 that I am using in my project for reference:\r\n\r\n    implementation &quot;com.google.dagger:dagger:2.35.1&quot;\r\n    implementation &quot;com.google.dagger:dagger-android:2.35.1&quot;\r\n    implementation &quot;com.google.dagger:dagger-android-support:2.35.1&quot;\r\n    annotationProcessor &quot;com.google.dagger:dagger-android-processor:2.35.1&quot;\r\n    kapt &#39;com.google.dagger:dagger-compiler:2.28.3&#39;\r\n    implementation &#39;javax.inject:javax.inject:1&#39;\r\n    kapt &quot;org.jetbrains.kotlinx:kotlinx-metadata-jvm:0.3.0&quot;\r\n    implementation &quot;androidx.compose.runtime:runtime:1.2.1&quot;\r\n\r\n","title":"Why @ContributesAndroidInjector cant be found by DaggerAndroidProcessor library on the processor path?","body":"<p>I am implementing Dagger2 and when I am using @ContributesAndroidInjector, I get compile time\nerror:<code>@dagger.android.ContributesAndroidInjector was used,but dagger.android.processor.AndroidProcessor was not found on the processor path</code></p>\n<p>I tried multiple solutions but this error never goes away. I tried using old library<br />\nversion of dagger2 dependencies. I tried creating a java abstract @Module class. I<br />\ntried using Kotlin android processor declaring kapt dependency, But Nothing really Helped. Can somebody please help me to rid of this error. Following are the dependencies of Dagger2 that I am using in my project for reference:</p>\n<pre><code>implementation &quot;com.google.dagger:dagger:2.35.1&quot;\nimplementation &quot;com.google.dagger:dagger-android:2.35.1&quot;\nimplementation &quot;com.google.dagger:dagger-android-support:2.35.1&quot;\nannotationProcessor &quot;com.google.dagger:dagger-android-processor:2.35.1&quot;\nkapt 'com.google.dagger:dagger-compiler:2.28.3'\nimplementation 'javax.inject:javax.inject:1'\nkapt &quot;org.jetbrains.kotlinx:kotlinx-metadata-jvm:0.3.0&quot;\nimplementation &quot;androidx.compose.runtime:runtime:1.2.1&quot;\n</code></pre>\n"},{"tags":["java","selenium","maven","cucumber","testng"],"comments":[{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1664291890,"post_id":73867891,"comment_id":130435508,"body_markdown":"What&#39;s wrong with the surefire plugin? It should work with parallel execution. Could you please share your maven Surefire configuration?","body":"What&#39;s wrong with the surefire plugin? It should work with parallel execution. Could you please share your maven Surefire configuration?"}],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1664294103,"creation_date":1664294103,"answer_id":73870473,"question_id":73867891,"body_markdown":"You have to set `dataproviderthreadcount`. You can do this through surefire.\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#maven-surefire-plugin-configuration-for-parallel-execution\r\n\r\n```\r\n&lt;plugins&gt;\r\n   &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n         &lt;properties&gt;\r\n            &lt;property&gt;\r\n               &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\r\n               &lt;value&gt;${threadcount}&lt;/value&gt;\r\n            &lt;/property&gt;\r\n         &lt;/properties&gt;\r\n      &lt;/configuration&gt;\r\n   &lt;/plugin&gt;\r\n&lt;/plugins&gt;\r\n\r\n```","title":"How to set the thread count in parallel execution of cucumber testng framework?","body":"<p>You have to set <code>dataproviderthreadcount</code>. You can do this through surefire.</p>\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#maven-surefire-plugin-configuration-for-parallel-execution\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-testng#maven-surefire-plugin-configuration-for-parallel-execution</a></p>\n<pre><code>&lt;plugins&gt;\n   &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n      &lt;configuration&gt;\n         &lt;properties&gt;\n            &lt;property&gt;\n               &lt;name&gt;dataproviderthreadcount&lt;/name&gt;\n               &lt;value&gt;${threadcount}&lt;/value&gt;\n            &lt;/property&gt;\n         &lt;/properties&gt;\n      &lt;/configuration&gt;\n   &lt;/plugin&gt;\n&lt;/plugins&gt;\n\n</code></pre>\n"}],"owner":{"account_id":26019649,"reputation":11,"user_id":19727518,"display_name":"Anju Abraham"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":729,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1664294103,"creation_date":1664283063,"question_id":73867891,"body_markdown":"I would like to limit the parallel execution thread count in cucumber testng framework. Now by default 10 threads (browsers) are getting started.\r\n\r\n\r\nI am using cucumber-java and cucumber-testng version 7.8.0 and maven-surefire plugin version 3.0.0-M6. And testng version is 7.5\r\n\r\nI tried setting thread configurations under maven-surefire-plugin but the same didn&#39;t work. Please help me to set the threadcount somewhere so that I can limit the no. of parallel executions in cucumber framework.\r\n\r\nI have added the below code in my testrunner file to support parallel execution.\r\n\r\n```\r\nimport org.testng.annotations.DataProvider;\r\n \r\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\r\nimport io.cucumber.testng.CucumberOptions;\r\n \r\n@CucumberOptions(tags = &quot;&quot;, features = &quot;src/test/resources/features&quot;, glue = &quot;&quot;src/test/resources/teststepDefinitions&quot;)\r\n \r\npublic class CucumberRunnerTests extends AbstractTestNGCucumberTests {\r\n \r\n    @Override\r\n    @DataProvider(parallel = true)\r\n    public Object[][] scenarios() {\r\n        return super.scenarios();\r\n    }\r\n \r\n}```\r\n\r\n\r\n ","title":"How to set the thread count in parallel execution of cucumber testng framework?","body":"<p>I would like to limit the parallel execution thread count in cucumber testng framework. Now by default 10 threads (browsers) are getting started.</p>\n<p>I am using cucumber-java and cucumber-testng version 7.8.0 and maven-surefire plugin version 3.0.0-M6. And testng version is 7.5</p>\n<p>I tried setting thread configurations under maven-surefire-plugin but the same didn't work. Please help me to set the threadcount somewhere so that I can limit the no. of parallel executions in cucumber framework.</p>\n<p>I have added the below code in my testrunner file to support parallel execution.</p>\n<pre><code>import org.testng.annotations.DataProvider;\n \nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\n \n@CucumberOptions(tags = &quot;&quot;, features = &quot;src/test/resources/features&quot;, glue = &quot;&quot;src/test/resources/teststepDefinitions&quot;)\n \npublic class CucumberRunnerTests extends AbstractTestNGCucumberTests {\n \n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n \n}```\n\n\n \n</code></pre>\n"},{"tags":["java","google-app-engine","servlets","redirect"],"comments":[{"owner":{"account_id":1135698,"reputation":1384,"user_id":1120792,"accept_rate":74,"display_name":"Ankur Jain"},"score":0,"creation_date":1364670663,"post_id":15718588,"comment_id":22333635,"body_markdown":"what is the action of your form ? does it also points to **thankYou** url ?","body":"what is the action of your form ? does it also points to <b>thankYou</b> url ?"}],"answers":[{"tags":[],"owner":{"account_id":1135698,"reputation":1384,"user_id":1120792,"accept_rate":74,"display_name":"Ankur Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1364670835,"creation_date":1364670835,"answer_id":15722415,"question_id":15718588,"body_markdown":"You can try something like this. I am returning a success page on successful form post.\r\n\r\n    @RequestMapping(value=&quot;sendData&quot; ,method = RequestMethod.POST)\r\n    public String add(HttpServletRequest request, ModelMap model) {\r\n\r\n    String firstName = request.getParameter(&quot;firstName&quot;);\r\n    String lastName = request.getParameter(&quot;lastName&quot;);\r\n    String email = request.getParameter(&quot;email&quot;);\r\n\r\n    System.out.println(email);\r\n    System.out.println(firstName);\r\n    System.out.println(lastName);\r\n\r\n    Customer c = new Customer();\r\n    c.setFirstName(firstName);\r\n    c.setLastName(lastName);\r\n    c.setEmail(email);\r\n    c.setDate(new Date());\r\n\r\n    PersistenceManager pm = PMF.get().getPersistenceManager();\r\n    try {\r\n        pm.makePersistent(c);\r\n    } finally {\r\n        pm.close();\r\n    }\r\n\r\n    return &quot;successpage&quot;;\r\n    }","title":"Redirect Servlet to the a div container","body":"<p>You can try something like this. I am returning a success page on successful form post.</p>\n\n<pre><code>@RequestMapping(value=\"sendData\" ,method = RequestMethod.POST)\npublic String add(HttpServletRequest request, ModelMap model) {\n\nString firstName = request.getParameter(\"firstName\");\nString lastName = request.getParameter(\"lastName\");\nString email = request.getParameter(\"email\");\n\nSystem.out.println(email);\nSystem.out.println(firstName);\nSystem.out.println(lastName);\n\nCustomer c = new Customer();\nc.setFirstName(firstName);\nc.setLastName(lastName);\nc.setEmail(email);\nc.setDate(new Date());\n\nPersistenceManager pm = PMF.get().getPersistenceManager();\ntry {\n    pm.makePersistent(c);\n} finally {\n    pm.close();\n}\n\nreturn \"successpage\";\n}\n</code></pre>\n"}],"owner":{"account_id":251993,"reputation":11324,"user_id":1248720,"accept_rate":89,"display_name":"maximus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":15722415,"answer_count":1,"score":0,"last_activity_date":1664293745,"creation_date":1364647054,"question_id":15718588,"body_markdown":"I have a Servlet which is handled by Spring and also uses Google App Engine as a cloud platform.\r\n\r\nI want to redirect this Servlet to another page:\r\n\r\n```java\r\n@Controller\r\npublic class CustomerController {\r\n\r\n\t@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n\tpublic String listAllFeedsOnIndexPage(ModelMap map) throws JSONException {\r\n\t   return &quot;invite&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(method = RequestMethod.GET)\r\n\tpublic ModelAndView add(HttpServletRequest request, ModelMap model) {\r\n\r\n\t\tString firstName = request.getParameter(&quot;firstName&quot;);\r\n\t\tString lastName = request.getParameter(&quot;lastName&quot;);\r\n\t\tString email = request.getParameter(&quot;email&quot;);\r\n\r\n\t\tSystem.out.println(email);\r\n\t\tSystem.out.println(firstName);\r\n\t\tSystem.out.println(lastName);\r\n\t\t\r\n\t\tCustomer c = new Customer();\r\n\t\tc.setFirstName(firstName);\r\n\t\tc.setLastName(lastName);\r\n\t\tc.setEmail(email);\r\n\t\tc.setDate(new Date());\r\n\r\n\t\tPersistenceManager pm = PMF.get().getPersistenceManager();\r\n\t\ttry {\r\n\t\t\tpm.makePersistent(c);\r\n\t\t} finally {\r\n\t\t\tpm.close();\r\n\t\t}\r\n\r\n\t\treturn new ModelAndView(&quot;redirect:thankYou&quot;);\r\n\r\n\t}\r\n```\r\n\r\n```none\r\nMy App Engine output: Initializing App Engine server M&#228;r 30, 2013\r\n1:28:26 PM com.google.apphosting.utils.config.EarHelper logNotAnEar\r\nINFO: Directory &#39;C:\\Users\\user\\workspace\\LandingPage\\war&#39; is not an\r\nEAR directory. File\r\nC:\\Users\\user\\workspace\\LandingPage\\war\\appengine-application.xmlappengine-application.xml\r\nnot detected. M&#228;r 30, 2013 1:28:26 PM\r\ncom.google.apphosting.utils.config.EarHelper logNotAnEar INFO:\r\nDirectory &#39;C:\\Users\\user\\workspace\\LandingPage\\war&#39; is not an EAR\r\ndirectory. File\r\nC:\\Users\\user\\workspace\\LandingPage\\war\\appengine-application.xmlappengine-application.xml\r\nnot detected. M&#228;r 30, 2013 1:28:26 PM\r\ncom.google.apphosting.utils.config.EarHelper logNotAnEar INFO:\r\nDirectory &#39;C:\\Users\\user\\workspace\\LandingPage\\war&#39; is not an EAR\r\ndirectory. File\r\nC:\\Users\\user\\workspace\\LandingPage\\war\\appengine-application.xmlappengine-application.xml\r\nnot detected. M&#228;r 30, 2013 1:28:26 PM\r\ncom.google.apphosting.utils.config.EarHelper logNotAnEar INFO:\r\nDirectory &#39;C:\\Users\\user\\workspace\\LandingPage\\war&#39; is not an EAR\r\ndirectory. File\r\nC:\\Users\\user\\workspace\\LandingPage\\war\\appengine-application.xmlappengine-application.xml\r\nnot detected. M&#228;r 30, 2013 1:28:26 PM\r\ncom.google.apphosting.utils.config.AppEngineWebXmlReader\r\nreadAppEngineWebXml INFO: Successfully processed\r\nC:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF/appengine-web.xml M&#228;r\r\n30, 2013 1:28:26 PM\r\ncom.google.apphosting.utils.config.AbstractConfigXmlReader\r\nreadConfigXml INFO: Successfully processed\r\nC:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF/web.xml M&#228;r 30, 2013\r\n1:28:26 PM\r\ncom.google.appengine.tools.development.SystemPropertiesManager\r\nsetSystemProperties INFO: Overwriting system property key\r\n&#39;java.util.logging.config.file&#39;, value\r\n&#39;C:\\Users\\user\\Desktop\\\\eclipse-java-juno-SR1-win32-x86_64\\eclipse\\plugins\\com.google.appengine.eclipse.sdkbundle_1.7.5\\appengine-java-sdk-1.7.5\\config\\sdk\\logging.properties&#39;\r\nwith value &#39;WEB-INF/logging.properties&#39; from\r\n&#39;C:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF\\appengine-web.xml&#39;\r\nM&#228;r 30, 2013 1:28:26 PM com.google.apphosting.utils.jetty.JettyLogger\r\ninfo INFO: Logging to JettyLogger(null) via\r\ncom.google.apphosting.utils.jetty.JettyLogger M&#228;r 30, 2013 12:28:27 PM\r\ncom.google.apphosting.utils.jetty.JettyLogger info INFO: jetty-6.1.x\r\nM&#228;r 30, 2013 12:28:28 PM\r\ncom.google.appengine.tools.development.ApiProxyLocalImpl log INFO:\r\njavax.servlet.ServletContext log: Initializing Spring root\r\nWebApplicationContext M&#228;r 30, 2013 12:28:28 PM\r\norg.springframework.web.context.ContextLoader\r\ninitWebApplicationContext INFO: Root WebApplicationContext:\r\ninitialization started M&#228;r 30, 2013 12:28:29 PM\r\norg.springframework.web.context.support.XmlWebApplicationContext\r\nprepareRefresh INFO: Refreshing Root WebApplicationContext: startup\r\ndate [Sat Mar 30 12:28:29 UTC 2013]; root of context hierarchy M&#228;r 30,\r\n2013 12:28:29 PM\r\norg.springframework.beans.factory.xml.XmlBeanDefinitionReader\r\nloadBeanDefinitions INFO: Loading XML bean definitions from\r\nServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml] M&#228;r 30,\r\n2013 12:28:29 PM\r\norg.springframework.context.annotation.ClassPathBeanDefinitionScanner\r\nregisterDefaultFilters INFO: JSR-330 &#39;javax.inject.Named&#39; annotation\r\nfound and supported for component scanning M&#228;r 30, 2013 12:28:30 PM\r\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\r\n&lt;init&gt; INFO: JSR-330 &#39;javax.inject.Inject&#39; annotation found and\r\nsupported for autowiring M&#228;r 30, 2013 12:28:30 PM\r\norg.springframework.beans.factory.support.DefaultListableBeanFactory\r\npreInstantiateSingletons INFO: Pre-instantiating singletons in\r\norg.springframework.beans.factory.support.DefaultListableBeanFactory@9b4ed7a:\r\ndefining beans\r\n[customerController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor];\r\nroot of factory hierarchy M&#228;r 30, 2013 12:28:31 PM\r\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\r\nregisterHandlerMethod INFO: Mapped\r\n&quot;{[],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;\r\nonto public org.springframework.web.servlet.ModelAndView\r\ncom.landing.controller.CustomerController.add(javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)\r\nM&#228;r 30, 2013 12:28:31 PM\r\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\r\nregisterHandlerMethod INFO: Mapped\r\n&quot;{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;\r\nonto public java.lang.String\r\ncom.landing.controller.CustomerController.listAllFeedsOnIndexPage(org.springframework.ui.ModelMap)\r\nthrows com.google.appengine.labs.repackaged.org.json.JSONException M&#228;r\r\n30, 2013 12:28:31 PM org.springframework.web.context.ContextLoader\r\ninitWebApplicationContext INFO: Root WebApplicationContext:\r\ninitialization completed in 3010 ms M&#228;r 30, 2013 12:28:32 PM\r\ncom.google.appengine.tools.development.ApiProxyLocalImpl log INFO:\r\njavax.servlet.ServletContext log: Initializing Spring FrameworkServlet\r\n&#39;mvc-dispatcher&#39; M&#228;r 30, 2013 12:28:32 PM\r\norg.springframework.web.servlet.DispatcherServlet initServletBean\r\nINFO: FrameworkServlet &#39;mvc-dispatcher&#39;: initialization started M&#228;r\r\n30, 2013 12:28:32 PM\r\norg.springframework.web.context.support.XmlWebApplicationContext\r\nprepareRefresh INFO: Refreshing WebApplicationContext for namespace\r\n&#39;mvc-dispatcher-servlet&#39;: startup date [Sat Mar 30 12:28:32 UTC 2013];\r\nparent: Root WebApplicationContext M&#228;r 30, 2013 12:28:32 PM\r\norg.springframework.beans.factory.xml.XmlBeanDefinitionReader\r\nloadBeanDefinitions INFO: Loading XML bean definitions from\r\nServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml] M&#228;r 30,\r\n2013 12:28:32 PM\r\norg.springframework.context.annotation.ClassPathBeanDefinitionScanner\r\nregisterDefaultFilters INFO: JSR-330 &#39;javax.inject.Named&#39; annotation\r\nfound and supported for component scanning M&#228;r 30, 2013 12:28:32 PM\r\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\r\n&lt;init&gt; INFO: JSR-330 &#39;javax.inject.Inject&#39; annotation found and\r\nsupported for autowiring M&#228;r 30, 2013 12:28:32 PM\r\norg.springframework.beans.factory.support.DefaultListableBeanFactory\r\npreInstantiateSingletons INFO: Pre-instantiating singletons in\r\norg.springframework.beans.factory.support.DefaultListableBeanFactory@1d3f82cd:\r\ndefining beans\r\n[customerController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor];\r\nparent:\r\norg.springframework.beans.factory.support.DefaultListableBeanFactory@9b4ed7a\r\nM&#228;r 30, 2013 12:28:32 PM\r\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\r\nregisterHandlerMethod INFO: Mapped\r\n&quot;{[],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;\r\nonto public org.springframework.web.servlet.ModelAndView\r\ncom.landing.controller.CustomerController.add(javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)\r\nM&#228;r 30, 2013 12:28:32 PM\r\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\r\nregisterHandlerMethod INFO: Mapped\r\n&quot;{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;\r\nonto public java.lang.String\r\ncom.landing.controller.CustomerController.listAllFeedsOnIndexPage(org.springframework.ui.ModelMap)\r\nthrows com.google.appengine.labs.repackaged.org.json.JSONException M&#228;r\r\n30, 2013 12:28:32 PM org.springframework.web.servlet.DispatcherServlet\r\ninitServletBean INFO: FrameworkServlet &#39;mvc-dispatcher&#39;:\r\ninitialization completed in 520 ms M&#228;r 30, 2013 12:28:32 PM\r\ncom.google.apphosting.utils.jetty.JettyLogger info INFO: Started\r\nSelectChannelConnector@0.0.0.0:8888 M&#228;r 30, 2013 12:28:32 PM\r\ncom.google.appengine.tools.development.AbstractServer startup INFO:\r\nServer default is running at http://`localhost`:8888/ M&#228;r 30, 2013\r\n12:28:32 PM com.google.appengine.tools.development.AbstractServer\r\nstartup INFO: The admin console is running at\r\nhttp://`localhost`:8888/_ah/admin M&#228;r 30, 2013 1:28:32 PM\r\ncom.google.appengine.tools.development.DevAppServerImpl start INFO:\r\nDev App Server is now running null null null null null null M&#228;r 30,\r\n2013 1:28:39 PM\r\ncom.google.appengine.api.datastore.dev.LocalDatastoreService init\r\nINFO: Local Datastore initialized:  \tType: High Replication \tStorage:\r\nC:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF\\appengine-generated\\local_db.bin\r\nM&#228;r 30, 2013 1:28:39 PM\r\ncom.google.appengine.api.datastore.dev.LocalDatastoreService load\r\nINFO: The backing store,\r\nC:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF\\appengine-generated\\local_db.bin,\r\ndoes not exist. It will be created. null null null null null null null\r\n```\r\n\r\nHowever, when I press enter in my form. I get one entry of the data and A LOT OF `null` entries. It seems to me that the redirect, does not redirect to the other page, it recursively redirects back.\r\n\r\nAny idea how to fix that behaviour?","title":"Redirect Servlet to the a div container","body":"<p>I have a Servlet which is handled by Spring and also uses Google App Engine as a cloud platform.</p>\n<p>I want to redirect this Servlet to another page:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class CustomerController {\n\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\n    public String listAllFeedsOnIndexPage(ModelMap map) throws JSONException {\n       return &quot;invite&quot;;\n    }\n    \n    @RequestMapping(method = RequestMethod.GET)\n    public ModelAndView add(HttpServletRequest request, ModelMap model) {\n\n        String firstName = request.getParameter(&quot;firstName&quot;);\n        String lastName = request.getParameter(&quot;lastName&quot;);\n        String email = request.getParameter(&quot;email&quot;);\n\n        System.out.println(email);\n        System.out.println(firstName);\n        System.out.println(lastName);\n        \n        Customer c = new Customer();\n        c.setFirstName(firstName);\n        c.setLastName(lastName);\n        c.setEmail(email);\n        c.setDate(new Date());\n\n        PersistenceManager pm = PMF.get().getPersistenceManager();\n        try {\n            pm.makePersistent(c);\n        } finally {\n            pm.close();\n        }\n\n        return new ModelAndView(&quot;redirect:thankYou&quot;);\n\n    }\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>My App Engine output: Initializing App Engine server Mär 30, 2013\n1:28:26 PM com.google.apphosting.utils.config.EarHelper logNotAnEar\nINFO: Directory 'C:\\Users\\user\\workspace\\LandingPage\\war' is not an\nEAR directory. File\nC:\\Users\\user\\workspace\\LandingPage\\war\\appengine-application.xmlappengine-application.xml\nnot detected. Mär 30, 2013 1:28:26 PM\ncom.google.apphosting.utils.config.EarHelper logNotAnEar INFO:\nDirectory 'C:\\Users\\user\\workspace\\LandingPage\\war' is not an EAR\ndirectory. File\nC:\\Users\\user\\workspace\\LandingPage\\war\\appengine-application.xmlappengine-application.xml\nnot detected. Mär 30, 2013 1:28:26 PM\ncom.google.apphosting.utils.config.EarHelper logNotAnEar INFO:\nDirectory 'C:\\Users\\user\\workspace\\LandingPage\\war' is not an EAR\ndirectory. File\nC:\\Users\\user\\workspace\\LandingPage\\war\\appengine-application.xmlappengine-application.xml\nnot detected. Mär 30, 2013 1:28:26 PM\ncom.google.apphosting.utils.config.EarHelper logNotAnEar INFO:\nDirectory 'C:\\Users\\user\\workspace\\LandingPage\\war' is not an EAR\ndirectory. File\nC:\\Users\\user\\workspace\\LandingPage\\war\\appengine-application.xmlappengine-application.xml\nnot detected. Mär 30, 2013 1:28:26 PM\ncom.google.apphosting.utils.config.AppEngineWebXmlReader\nreadAppEngineWebXml INFO: Successfully processed\nC:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF/appengine-web.xml Mär\n30, 2013 1:28:26 PM\ncom.google.apphosting.utils.config.AbstractConfigXmlReader\nreadConfigXml INFO: Successfully processed\nC:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF/web.xml Mär 30, 2013\n1:28:26 PM\ncom.google.appengine.tools.development.SystemPropertiesManager\nsetSystemProperties INFO: Overwriting system property key\n'java.util.logging.config.file', value\n'C:\\Users\\user\\Desktop\\\\eclipse-java-juno-SR1-win32-x86_64\\eclipse\\plugins\\com.google.appengine.eclipse.sdkbundle_1.7.5\\appengine-java-sdk-1.7.5\\config\\sdk\\logging.properties'\nwith value 'WEB-INF/logging.properties' from\n'C:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF\\appengine-web.xml'\nMär 30, 2013 1:28:26 PM com.google.apphosting.utils.jetty.JettyLogger\ninfo INFO: Logging to JettyLogger(null) via\ncom.google.apphosting.utils.jetty.JettyLogger Mär 30, 2013 12:28:27 PM\ncom.google.apphosting.utils.jetty.JettyLogger info INFO: jetty-6.1.x\nMär 30, 2013 12:28:28 PM\ncom.google.appengine.tools.development.ApiProxyLocalImpl log INFO:\njavax.servlet.ServletContext log: Initializing Spring root\nWebApplicationContext Mär 30, 2013 12:28:28 PM\norg.springframework.web.context.ContextLoader\ninitWebApplicationContext INFO: Root WebApplicationContext:\ninitialization started Mär 30, 2013 12:28:29 PM\norg.springframework.web.context.support.XmlWebApplicationContext\nprepareRefresh INFO: Refreshing Root WebApplicationContext: startup\ndate [Sat Mar 30 12:28:29 UTC 2013]; root of context hierarchy Mär 30,\n2013 12:28:29 PM\norg.springframework.beans.factory.xml.XmlBeanDefinitionReader\nloadBeanDefinitions INFO: Loading XML bean definitions from\nServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml] Mär 30,\n2013 12:28:29 PM\norg.springframework.context.annotation.ClassPathBeanDefinitionScanner\nregisterDefaultFilters INFO: JSR-330 'javax.inject.Named' annotation\nfound and supported for component scanning Mär 30, 2013 12:28:30 PM\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\n&lt;init&gt; INFO: JSR-330 'javax.inject.Inject' annotation found and\nsupported for autowiring Mär 30, 2013 12:28:30 PM\norg.springframework.beans.factory.support.DefaultListableBeanFactory\npreInstantiateSingletons INFO: Pre-instantiating singletons in\norg.springframework.beans.factory.support.DefaultListableBeanFactory@9b4ed7a:\ndefining beans\n[customerController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor];\nroot of factory hierarchy Mär 30, 2013 12:28:31 PM\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\nregisterHandlerMethod INFO: Mapped\n&quot;{[],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;\nonto public org.springframework.web.servlet.ModelAndView\ncom.landing.controller.CustomerController.add(javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)\nMär 30, 2013 12:28:31 PM\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\nregisterHandlerMethod INFO: Mapped\n&quot;{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;\nonto public java.lang.String\ncom.landing.controller.CustomerController.listAllFeedsOnIndexPage(org.springframework.ui.ModelMap)\nthrows com.google.appengine.labs.repackaged.org.json.JSONException Mär\n30, 2013 12:28:31 PM org.springframework.web.context.ContextLoader\ninitWebApplicationContext INFO: Root WebApplicationContext:\ninitialization completed in 3010 ms Mär 30, 2013 12:28:32 PM\ncom.google.appengine.tools.development.ApiProxyLocalImpl log INFO:\njavax.servlet.ServletContext log: Initializing Spring FrameworkServlet\n'mvc-dispatcher' Mär 30, 2013 12:28:32 PM\norg.springframework.web.servlet.DispatcherServlet initServletBean\nINFO: FrameworkServlet 'mvc-dispatcher': initialization started Mär\n30, 2013 12:28:32 PM\norg.springframework.web.context.support.XmlWebApplicationContext\nprepareRefresh INFO: Refreshing WebApplicationContext for namespace\n'mvc-dispatcher-servlet': startup date [Sat Mar 30 12:28:32 UTC 2013];\nparent: Root WebApplicationContext Mär 30, 2013 12:28:32 PM\norg.springframework.beans.factory.xml.XmlBeanDefinitionReader\nloadBeanDefinitions INFO: Loading XML bean definitions from\nServletContext resource [/WEB-INF/mvc-dispatcher-servlet.xml] Mär 30,\n2013 12:28:32 PM\norg.springframework.context.annotation.ClassPathBeanDefinitionScanner\nregisterDefaultFilters INFO: JSR-330 'javax.inject.Named' annotation\nfound and supported for component scanning Mär 30, 2013 12:28:32 PM\norg.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor\n&lt;init&gt; INFO: JSR-330 'javax.inject.Inject' annotation found and\nsupported for autowiring Mär 30, 2013 12:28:32 PM\norg.springframework.beans.factory.support.DefaultListableBeanFactory\npreInstantiateSingletons INFO: Pre-instantiating singletons in\norg.springframework.beans.factory.support.DefaultListableBeanFactory@1d3f82cd:\ndefining beans\n[customerController,org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,mvcContentNegotiationManager,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping#0,org.springframework.format.support.FormattingConversionServiceFactoryBean#0,org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter#0,org.springframework.web.servlet.handler.MappedInterceptor#0,org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver#0,org.springframework.web.servlet.mvc.annotation.ResponseStatusExceptionResolver#0,org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver#0,org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping,org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter,org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter,org.springframework.web.servlet.view.InternalResourceViewResolver#0,org.springframework.context.annotation.ConfigurationClassPostProcessor.importAwareProcessor];\nparent:\norg.springframework.beans.factory.support.DefaultListableBeanFactory@9b4ed7a\nMär 30, 2013 12:28:32 PM\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\nregisterHandlerMethod INFO: Mapped\n&quot;{[],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;\nonto public org.springframework.web.servlet.ModelAndView\ncom.landing.controller.CustomerController.add(javax.servlet.http.HttpServletRequest,org.springframework.ui.ModelMap)\nMär 30, 2013 12:28:32 PM\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\nregisterHandlerMethod INFO: Mapped\n&quot;{[/],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot;\nonto public java.lang.String\ncom.landing.controller.CustomerController.listAllFeedsOnIndexPage(org.springframework.ui.ModelMap)\nthrows com.google.appengine.labs.repackaged.org.json.JSONException Mär\n30, 2013 12:28:32 PM org.springframework.web.servlet.DispatcherServlet\ninitServletBean INFO: FrameworkServlet 'mvc-dispatcher':\ninitialization completed in 520 ms Mär 30, 2013 12:28:32 PM\ncom.google.apphosting.utils.jetty.JettyLogger info INFO: Started\nSelectChannelConnector@0.0.0.0:8888 Mär 30, 2013 12:28:32 PM\ncom.google.appengine.tools.development.AbstractServer startup INFO:\nServer default is running at http://`localhost`:8888/ Mär 30, 2013\n12:28:32 PM com.google.appengine.tools.development.AbstractServer\nstartup INFO: The admin console is running at\nhttp://`localhost`:8888/_ah/admin Mär 30, 2013 1:28:32 PM\ncom.google.appengine.tools.development.DevAppServerImpl start INFO:\nDev App Server is now running null null null null null null Mär 30,\n2013 1:28:39 PM\ncom.google.appengine.api.datastore.dev.LocalDatastoreService init\nINFO: Local Datastore initialized:      Type: High Replication  Storage:\nC:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF\\appengine-generated\\local_db.bin\nMär 30, 2013 1:28:39 PM\ncom.google.appengine.api.datastore.dev.LocalDatastoreService load\nINFO: The backing store,\nC:\\Users\\user\\workspace\\LandingPage\\war\\WEB-INF\\appengine-generated\\local_db.bin,\ndoes not exist. It will be created. null null null null null null null\n</code></pre>\n<p>However, when I press enter in my form. I get one entry of the data and A LOT OF <code>null</code> entries. It seems to me that the redirect, does not redirect to the other page, it recursively redirects back.</p>\n<p>Any idea how to fix that behaviour?</p>\n"},{"tags":["java","mysql","maven","mysql-connector"],"answers":[{"tags":[],"owner":{"account_id":13755916,"reputation":128,"user_id":9926869,"display_name":"JWilliams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1664292940,"creation_date":1528745087,"answer_id":50804732,"question_id":50804676,"body_markdown":"Based on what you&#39;ve said, it sounds like your manually-imported JAR file didn&#39;t import for one reason or another. The Maven import was successful and everything clicked.\r\n\r\nThe other thing that&#39;s possible is that you&#39;re using a different version of the MySQL JDBC driver.\r\n\r\n","title":"What is the difference between the Maven MySQL connector and the official MySQL connector JAR file?","body":"<p>Based on what you've said, it sounds like your manually-imported JAR file didn't import for one reason or another. The Maven import was successful and everything clicked.</p>\n<p>The other thing that's possible is that you're using a different version of the MySQL JDBC driver.</p>\n"}],"owner":{"account_id":10765501,"reputation":69,"user_id":7920633,"display_name":"Under_stand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1664293370,"accepted_answer_id":50804732,"answer_count":1,"score":0,"last_activity_date":1664293598,"creation_date":1528744848,"question_id":50804676,"body_markdown":"Recently I was working with JDBC, and all code which uses JDBC were working perfectly.\r\n\r\nAfter some time I started using JDBC again to refresh all concepts. The problem is, when I wrote my new program at that time, it gave me ClassNotFoundException. Everything in my code was perfect. I also added the external JAR file of the MySQL connector. The exception was **ClassNotFoundException com.mysql.jdbc.Driver**.\r\n\r\nI tried different IDEs to run that code, but it gave me the same error. But then I tried to import [this MySQL connector][1] from the Maven repository and all the exceptions were cleared and executed perfectly.\r\n\r\nPreviously I was using [this MySQL connector][2]. Also both connectors versions were the same which was 8.0.11. I have really less amount of knowledge of Maven.\r\n\r\nWhy did the MySQL connector JAR file from Maven work perfectly and the other didn&#39;t?\r\n\r\n  [1]: https://mvnrepository.com/artifact/mysql/mysql-connector-java/8.0.11\r\n  [2]: https://dev.mysql.com/downloads/connector/j/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"What is the difference between the Maven MySQL connector and the official MySQL connector JAR file?","body":"<p>Recently I was working with JDBC, and all code which uses JDBC were working perfectly.</p>\n<p>After some time I started using JDBC again to refresh all concepts. The problem is, when I wrote my new program at that time, it gave me ClassNotFoundException. Everything in my code was perfect. I also added the external JAR file of the MySQL connector. The exception was <strong>ClassNotFoundException com.mysql.jdbc.Driver</strong>.</p>\n<p>I tried different IDEs to run that code, but it gave me the same error. But then I tried to import <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java/8.0.11\" rel=\"nofollow noreferrer\">this MySQL connector</a> from the Maven repository and all the exceptions were cleared and executed perfectly.</p>\n<p>Previously I was using <a href=\"https://dev.mysql.com/downloads/connector/j/\" rel=\"nofollow noreferrer\">this MySQL connector</a>. Also both connectors versions were the same which was 8.0.11. I have really less amount of knowledge of Maven.</p>\n<p>Why did the MySQL connector JAR file from Maven work perfectly and the other didn't?</p>\n"},{"tags":["java","elasticsearch","elasticsearch-client"],"answers":[{"tags":[],"owner":{"account_id":21285874,"reputation":83,"user_id":15663530,"display_name":"wolle271"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646643004,"creation_date":1646643004,"answer_id":71378472,"question_id":71352688,"body_markdown":"I solved the problem by substituting &quot;Java API Client&quot; (https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/introduction.html) with &quot;Java Low Level Rest Client&quot; (https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/java-rest-low.html).\r\n\r\nThis Library allows sending of arbitrary JSON-Strings to ES: \r\n\r\n      final Request request = new Request(&quot;POST&quot;, &quot;/twitter/_doc&quot;);\r\n      request.setJsonEntity(record.value());\r\n      restClient.performRequest(request);","title":"ElasticSearch Java API Client - Send already serialized data and avoid serialization","body":"<p>I solved the problem by substituting &quot;Java API Client&quot; (<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/introduction.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/introduction.html</a>) with &quot;Java Low Level Rest Client&quot; (<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/java-rest-low.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/java-rest-low.html</a>).</p>\n<p>This Library allows sending of arbitrary JSON-Strings to ES:</p>\n<pre><code>  final Request request = new Request(&quot;POST&quot;, &quot;/twitter/_doc&quot;);\n  request.setJsonEntity(record.value());\n  restClient.performRequest(request);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1656360643,"creation_date":1655246673,"answer_id":72624144,"question_id":71352688,"body_markdown":"If you use a `JacksonJsonpMapper` when creating your `ElasticsearchTransport`, you can use a custom `PreserializedJson` class to send already-serialized JSON.\r\n\r\n    ElasticsearchTransport transport = new RestClientTransport(\r\n        createLowLevelRestClient(), // supply your own!\r\n        new JacksonJsonpMapper()\r\n    );\r\n    \r\n    ElasticsearchClient client = new ElasticsearchClient(transport);\r\n    \r\n    IndexResponse response = client.index(indexReq -&gt; indexReq\r\n        .index(&quot;my-index&quot;)\r\n        .id(&quot;docId&quot;)\r\n        .document(new PreserializedJson(&quot;{\\&quot;foo\\&quot;:\\&quot;bar\\&quot;}&quot;))\r\n    );\r\n    System.out.println(response);\r\n\r\nHere is the source for `PreserializedJson`:\r\n\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n    import com.fasterxml.jackson.databind.ser.std.StdSerializer;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.charset.StandardCharsets;\r\n    \r\n    import static java.util.Objects.requireNonNull;\r\n    \r\n    @JsonSerialize(using = PreserializedJson.Serializer.class)\r\n    public class PreserializedJson {\r\n      private final String value;\r\n    \r\n      public PreserializedJson(String value) {\r\n        this.value = requireNonNull(value);\r\n      }\r\n    \r\n      public PreserializedJson(byte[] value) {\r\n        this(new String(value, StandardCharsets.UTF_8));\r\n      }\r\n    \r\n      public static class Serializer extends StdSerializer&lt;PreserializedJson&gt; {\r\n        public Serializer() {\r\n          super(PreserializedJson.class);\r\n        }\r\n    \r\n        @Override\r\n        public void serialize(PreserializedJson value, JsonGenerator gen, SerializerProvider provider) throws IOException {\r\n          gen.writeRaw(value.value);\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"ElasticSearch Java API Client - Send already serialized data and avoid serialization","body":"<p>If you use a <code>JacksonJsonpMapper</code> when creating your <code>ElasticsearchTransport</code>, you can use a custom <code>PreserializedJson</code> class to send already-serialized JSON.</p>\n<pre><code>ElasticsearchTransport transport = new RestClientTransport(\n    createLowLevelRestClient(), // supply your own!\n    new JacksonJsonpMapper()\n);\n\nElasticsearchClient client = new ElasticsearchClient(transport);\n\nIndexResponse response = client.index(indexReq -&gt; indexReq\n    .index(&quot;my-index&quot;)\n    .id(&quot;docId&quot;)\n    .document(new PreserializedJson(&quot;{\\&quot;foo\\&quot;:\\&quot;bar\\&quot;}&quot;))\n);\nSystem.out.println(response);\n</code></pre>\n<p>Here is the source for <code>PreserializedJson</code>:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\nimport com.fasterxml.jackson.databind.ser.std.StdSerializer;\n\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\nimport static java.util.Objects.requireNonNull;\n\n@JsonSerialize(using = PreserializedJson.Serializer.class)\npublic class PreserializedJson {\n  private final String value;\n\n  public PreserializedJson(String value) {\n    this.value = requireNonNull(value);\n  }\n\n  public PreserializedJson(byte[] value) {\n    this(new String(value, StandardCharsets.UTF_8));\n  }\n\n  public static class Serializer extends StdSerializer&lt;PreserializedJson&gt; {\n    public Serializer() {\n      super(PreserializedJson.class);\n    }\n\n    @Override\n    public void serialize(PreserializedJson value, JsonGenerator gen, SerializerProvider provider) throws IOException {\n      gen.writeRaw(value.value);\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19343518,"reputation":1,"user_id":14142535,"display_name":"Snowrom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664293520,"creation_date":1664293520,"answer_id":73870337,"question_id":71352688,"body_markdown":"With the new API Client, you can natively insert raw json into it.\r\nAs specified here : [Using raw json data][1]\r\n\r\n    IndexRequest&lt;JsonData&gt; request = IndexRequest.of(i -&gt; i\r\n        .index(&quot;logs&quot;)\r\n        .withJson(input)\r\n    );\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing.html#_using_raw_json_data","title":"ElasticSearch Java API Client - Send already serialized data and avoid serialization","body":"<p>With the new API Client, you can natively insert raw json into it.\nAs specified here : <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/indexing.html#_using_raw_json_data\" rel=\"nofollow noreferrer\">Using raw json data</a></p>\n<pre><code>IndexRequest&lt;JsonData&gt; request = IndexRequest.of(i -&gt; i\n    .index(&quot;logs&quot;)\n    .withJson(input)\n);\n</code></pre>\n"}],"owner":{"account_id":21285874,"reputation":83,"user_id":15663530,"display_name":"wolle271"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2750,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72624144,"answer_count":3,"score":2,"last_activity_date":1664293520,"creation_date":1646403160,"question_id":71352688,"body_markdown":"I have a Kafka Topic wit JSON data. Now im trying to send those JSON strings to an ES topic using the new &quot;Java API Client&quot; (https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/index.html), but im running into a parser exception:\r\n\r\n    co.elastic.clients.elasticsearch._types.ElasticsearchException: [es/index] failed: [mapper_parsing_exception] failed to parse\r\n\tat co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:281)\r\n\tat co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:147)\r\n\tat co.elastic.clients.elasticsearch.ElasticsearchClient.index(ElasticsearchClient.java:953)\r\n\r\nThis exception occurs in the last line of the following code:\r\n\r\n    final IndexRequest&lt;String&gt; request =\r\n              new IndexRequest.Builder&lt;String&gt;()\r\n                  .index(&quot;myIndex&quot;)\r\n                  .id(String.valueOf(UUID.randomUUID()))\r\n                  .document(consumerRecord.value()) //already serialized json data\r\n                  .build();\r\n    elasticsearchClient.index(request);\r\n\r\nAs far as I understand this exception occurs, because the ES client tries to serialize the data im providing, which is already serialized, resulting in a malformed JSON string.\r\n\r\nIs there anyway to get around this and just send simple JSON strings? Also I believe this was possible with the earlier &quot;Low Level Java Library&quot;, right? And yes, I know there are ways to allow communication between Kafka and ES without writing a Consumer.\r\n\r\nThanks for any hints.","title":"ElasticSearch Java API Client - Send already serialized data and avoid serialization","body":"<p>I have a Kafka Topic wit JSON data. Now im trying to send those JSON strings to an ES topic using the new &quot;Java API Client&quot; (<a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/index.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/index.html</a>), but im running into a parser exception:</p>\n<pre><code>co.elastic.clients.elasticsearch._types.ElasticsearchException: [es/index] failed: [mapper_parsing_exception] failed to parse\nat co.elastic.clients.transport.rest_client.RestClientTransport.getHighLevelResponse(RestClientTransport.java:281)\nat co.elastic.clients.transport.rest_client.RestClientTransport.performRequest(RestClientTransport.java:147)\nat co.elastic.clients.elasticsearch.ElasticsearchClient.index(ElasticsearchClient.java:953)\n</code></pre>\n<p>This exception occurs in the last line of the following code:</p>\n<pre><code>final IndexRequest&lt;String&gt; request =\n          new IndexRequest.Builder&lt;String&gt;()\n              .index(&quot;myIndex&quot;)\n              .id(String.valueOf(UUID.randomUUID()))\n              .document(consumerRecord.value()) //already serialized json data\n              .build();\nelasticsearchClient.index(request);\n</code></pre>\n<p>As far as I understand this exception occurs, because the ES client tries to serialize the data im providing, which is already serialized, resulting in a malformed JSON string.</p>\n<p>Is there anyway to get around this and just send simple JSON strings? Also I believe this was possible with the earlier &quot;Low Level Java Library&quot;, right? And yes, I know there are ways to allow communication between Kafka and ES without writing a Consumer.</p>\n<p>Thanks for any hints.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1664292975,"post_id":73870149,"comment_id":130435951,"body_markdown":"How about this regex? `^(&lt;span&gt;.+?&lt;/span&gt;){3}$`","body":"How about this regex? <code>^(&lt;span&gt;.+?&lt;&#47;span&gt;){3}$</code>"},{"owner":{"account_id":1406474,"reputation":115,"user_id":1334049,"accept_rate":70,"display_name":"Yoshi"},"score":0,"creation_date":1664293167,"post_id":73870149,"comment_id":130436037,"body_markdown":"That is still matching 4 sets of spans as well. but thanks for the suggestion","body":"That is still matching 4 sets of spans as well. but thanks for the suggestion"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":1,"creation_date":1664293992,"post_id":73870149,"comment_id":130436388,"body_markdown":"Yeah, sorry, you&#39;re right. I guess you need a negative lookahead to match everything but `&lt;/span&gt;` elements: `^(&lt;span&gt;((?!&lt;/span&gt;).)+?&lt;/span&gt;){3}$`","body":"Yeah, sorry, you&#39;re right. I guess you need a negative lookahead to match everything but <code>&lt;&#47;span&gt;</code> elements: <code>^(&lt;span&gt;((?!&lt;&#47;span&gt;).)+?&lt;&#47;span&gt;){3}$</code>"},{"owner":{"account_id":1406474,"reputation":115,"user_id":1334049,"accept_rate":70,"display_name":"Yoshi"},"score":0,"creation_date":1664294534,"post_id":73870149,"comment_id":130436578,"body_markdown":"ah yes, this seems to do the trick.  Thank You!","body":"ah yes, this seems to do the trick.  Thank You!"}],"owner":{"account_id":1406474,"reputation":115,"user_id":1334049,"accept_rate":70,"display_name":"Yoshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1664292589,"creation_date":1664292589,"question_id":73870149,"body_markdown":"I am having trouble understanding the following regex result in Java.\r\n\r\nBasically I want to identify a string that has 3 span tags with some text content, nothing before or after this.\r\n\r\nSo this would be valid: `&lt;span&gt;a&lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;c&lt;/span&gt;`, if adding or taking away a span pair then it would become invalid.\r\n\r\nI tried simplifying this to just match only one tag pair using the following regex: `^&lt;span&gt;.+?(?=&lt;/span&gt;)&lt;/span&gt;$`.\r\n\r\nThis matches `&lt;span&gt;a&lt;/span&gt;` as expected, but also matches `&lt;span&gt;a&lt;/span&gt;&lt;/span&gt;` and `&lt;span&gt;a&lt;/span&gt;&lt;span&gt;b&lt;/span&gt;` which I don&#39;t understand.\r\n\r\nMy assumption with the regex parts are:\r\n\r\n`^` - match beginning of input\r\n\r\n`&lt;span&gt;` - match literal `&lt;span&gt;`\r\n\r\n`.+?(?=&lt;/span&gt;)` - match one or more characters (minimal amount) until reaching literal `&lt;/span&gt;`, which I assume would match just `a`\r\n\r\n`&lt;/span&gt;` - match the literal `&lt;/span&gt;` after the `a`\r\n\r\n`$` - match end of input\r\n\r\nWhat am I missing here.  Why is a second literal `&lt;/span&gt;` allowed at the end of the input I&#39;d expect to fail.  I sort of expect that it has to do with the `.*?(?=&lt;/span&gt;)` not behaving as I expect and matching the final `&lt;/span&gt;` whereas I thought it would only match up to the next occurrence of `&lt;/span&gt;`","title":"java regex, match specific amount of html tag pairs","body":"<p>I am having trouble understanding the following regex result in Java.</p>\n<p>Basically I want to identify a string that has 3 span tags with some text content, nothing before or after this.</p>\n<p>So this would be valid: <code>&lt;span&gt;a&lt;/span&gt;&lt;span&gt;b&lt;/span&gt;&lt;span&gt;c&lt;/span&gt;</code>, if adding or taking away a span pair then it would become invalid.</p>\n<p>I tried simplifying this to just match only one tag pair using the following regex: <code>^&lt;span&gt;.+?(?=&lt;/span&gt;)&lt;/span&gt;$</code>.</p>\n<p>This matches <code>&lt;span&gt;a&lt;/span&gt;</code> as expected, but also matches <code>&lt;span&gt;a&lt;/span&gt;&lt;/span&gt;</code> and <code>&lt;span&gt;a&lt;/span&gt;&lt;span&gt;b&lt;/span&gt;</code> which I don't understand.</p>\n<p>My assumption with the regex parts are:</p>\n<p><code>^</code> - match beginning of input</p>\n<p><code>&lt;span&gt;</code> - match literal <code>&lt;span&gt;</code></p>\n<p><code>.+?(?=&lt;/span&gt;)</code> - match one or more characters (minimal amount) until reaching literal <code>&lt;/span&gt;</code>, which I assume would match just <code>a</code></p>\n<p><code>&lt;/span&gt;</code> - match the literal <code>&lt;/span&gt;</code> after the <code>a</code></p>\n<p><code>$</code> - match end of input</p>\n<p>What am I missing here.  Why is a second literal <code>&lt;/span&gt;</code> allowed at the end of the input I'd expect to fail.  I sort of expect that it has to do with the <code>.*?(?=&lt;/span&gt;)</code> not behaving as I expect and matching the final <code>&lt;/span&gt;</code> whereas I thought it would only match up to the next occurrence of <code>&lt;/span&gt;</code></p>\n"},{"tags":["java","swing","mouseevent","multiple-monitors"],"comments":[{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1249723008,"post_id":1248386,"comment_id":1074943,"body_markdown":"I&#39;m not sure it&#39;s that easy.  I think you have to capture the mouse to see any clicks outside your window, and I have no idea how to do that in java (Hence the comment--I have no &quot;Answer&quot;).","body":"I&#39;m not sure it&#39;s that easy.  I think you have to capture the mouse to see any clicks outside your window, and I have no idea how to do that in java (Hence the comment--I have no &quot;Answer&quot;)."},{"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"score":1,"creation_date":1249737737,"post_id":1248386,"comment_id":1075457,"body_markdown":"Bill, you are right, it is not easy. That&#39;s why I asking the collective brain that is Stack Overflow!","body":"Bill, you are right, it is not easy. That&#39;s why I asking the collective brain that is Stack Overflow!"}],"answers":[{"tags":[],"owner":{"account_id":42418,"reputation":83388,"user_id":123582,"accept_rate":56,"display_name":"Rich Seller"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1506992504,"creation_date":1249725464,"answer_id":1248477,"question_id":1248386,"body_markdown":"You can get display information from [java.awt.GraphicsEnvironment][1]. You can use this to get a information about your local system. Including the bounds of each monitor.\r\n\r\n\r\n    Point point = event.getPoint();\r\n\r\n    GraphicsEnvironment e \r\n         = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n\r\n    GraphicsDevice[] devices = e.getScreenDevices();\r\n\r\n    Rectangle displayBounds = null;\r\n\r\n    //now get the configurations for each device\r\n    for (GraphicsDevice device: devices) { \r\n\r\n        GraphicsConfiguration[] configurations =\r\n            device.getConfigurations();\r\n        for (GraphicsConfiguration config: configurations) {\r\n            Rectangle gcBounds = config.getBounds();\r\n         \r\n            if(gcBounds.contains(point)) {\r\n                displayBounds = gcBounds;\r\n            }\r\n        }\r\n    }\r\n\r\n    if(displayBounds == null) {\r\n        //not found, get the bounds for the default display\r\n        GraphicsDevice device = e.getDefaultScreenDevice();\r\n\r\n        displayBounds =device.getDefaultConfiguration().getBounds();\r\n    }\r\n    //do something with the bounds\r\n    ...\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/awt/GraphicsEnvironment.html","title":"How do I determine which monitor a Swing mouse event occurs in?","body":"<p>You can get display information from <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/awt/GraphicsEnvironment.html\" rel=\"nofollow noreferrer\">java.awt.GraphicsEnvironment</a>. You can use this to get a information about your local system. Including the bounds of each monitor.</p>\n\n<pre><code>Point point = event.getPoint();\n\nGraphicsEnvironment e \n     = GraphicsEnvironment.getLocalGraphicsEnvironment();\n\nGraphicsDevice[] devices = e.getScreenDevices();\n\nRectangle displayBounds = null;\n\n//now get the configurations for each device\nfor (GraphicsDevice device: devices) { \n\n    GraphicsConfiguration[] configurations =\n        device.getConfigurations();\n    for (GraphicsConfiguration config: configurations) {\n        Rectangle gcBounds = config.getBounds();\n\n        if(gcBounds.contains(point)) {\n            displayBounds = gcBounds;\n        }\n    }\n}\n\nif(displayBounds == null) {\n    //not found, get the bounds for the default display\n    GraphicsDevice device = e.getDefaultScreenDevice();\n\n    displayBounds =device.getDefaultConfiguration().getBounds();\n}\n//do something with the bounds\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":48334,"reputation":19092,"user_id":143585,"accept_rate":67,"display_name":"Denis Tulskiy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1249725819,"creation_date":1249725819,"answer_id":1248483,"question_id":1248386,"body_markdown":"Maybe e.getLocationOnScreen(); will work? It&#39;s only for java 1.6.","title":"How do I determine which monitor a Swing mouse event occurs in?","body":"<p>Maybe e.getLocationOnScreen(); will work? It's only for java 1.6.</p>\n"},{"tags":[],"owner":{"account_id":51195,"reputation":61,"user_id":152928,"display_name":"oscargm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1249726580,"creation_date":1249726580,"answer_id":1248503,"question_id":1248386,"body_markdown":"Since Java 1.6 you can use getLocationOnScreen, in previous versions you must get the location of the component that generated the event:\r\n\r\n\r\n    Point loc;\r\n    // in Java 1.6\r\n    loc = e.getLocationOnScreen();\r\n    // in Java 1.5 or previous\r\n    loc = e.getComponent().getLocationOnScreen();\r\n\r\nYou will have to use the GraphicsEnvironment class to get the bound of the screen.\r\n","title":"How do I determine which monitor a Swing mouse event occurs in?","body":"<p>Since Java 1.6 you can use getLocationOnScreen, in previous versions you must get the location of the component that generated the event:</p>\n\n<pre><code>Point loc;\n// in Java 1.6\nloc = e.getLocationOnScreen();\n// in Java 1.5 or previous\nloc = e.getComponent().getLocationOnScreen();\n</code></pre>\n\n<p>You will have to use the GraphicsEnvironment class to get the bound of the screen.</p>\n"},{"tags":[],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1249737696,"creation_date":1249737696,"answer_id":1248865,"question_id":1248386,"body_markdown":"Rich&#39;s answer helped me find a whole solution:\r\n\r\n\r\n    public void mousePressed(MouseEvent e) {\r\n        final Point p = e.getPoint();\r\n        SwingUtilities.convertPointToScreen(p, e.getComponent());\r\n        Rectangle bounds = getBoundsForPoint(p);\r\n        // now bounds contains the bounds for the monitor in which mouse pressed occurred\r\n        // ... do more stuff here\r\n    }\r\n\r\n\r\n    private static Rectangle getBoundsForPoint(Point point) {\r\n        for (GraphicsDevice device : GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()) {\r\n            for (GraphicsConfiguration config : device.getConfigurations()) {\r\n                final Rectangle gcBounds = config.getBounds();\r\n                if (gcBounds.contains(point)) {\r\n                    return gcBounds;\r\n                }\r\n            }\r\n        }\r\n        // if point is outside all monitors, default to default monitor\r\n        return GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\r\n    }\r\n","title":"How do I determine which monitor a Swing mouse event occurs in?","body":"<p>Rich's answer helped me find a whole solution:</p>\n\n<pre><code>public void mousePressed(MouseEvent e) {\n    final Point p = e.getPoint();\n    SwingUtilities.convertPointToScreen(p, e.getComponent());\n    Rectangle bounds = getBoundsForPoint(p);\n    // now bounds contains the bounds for the monitor in which mouse pressed occurred\n    // ... do more stuff here\n}\n\n\nprivate static Rectangle getBoundsForPoint(Point point) {\n    for (GraphicsDevice device : GraphicsEnvironment.getLocalGraphicsEnvironment().getScreenDevices()) {\n        for (GraphicsConfiguration config : device.getConfigurations()) {\n            final Rectangle gcBounds = config.getBounds();\n            if (gcBounds.contains(point)) {\n                return gcBounds;\n            }\n        }\n    }\n    // if point is outside all monitors, default to default monitor\n    return GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1848601,"reputation":79,"user_id":1675701,"display_name":"Baba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664292397,"creation_date":1664292397,"answer_id":73870100,"question_id":1248386,"body_markdown":"Leaving this here to help anyone else who may be searching for this:\r\n\r\n    private int screenIndexOfMouse() {\r\n    \tGraphicsDevice myScreen = MouseInfo.getPointerInfo().getDevice();\r\n\t\tGraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n\t\tGraphicsDevice[] allScreens = env.getScreenDevices();\r\n\t\tint myScreenIndex = -1;\r\n\t\tfor (int i = 0; i &lt; allScreens.length; i++) {\r\n\t\t    if (allScreens[i].equals(myScreen))\r\n\t\t    {\r\n\t\t        myScreenIndex = i;\r\n\t\t        break;\r\n\t\t    }\r\n\t\t}\r\n\t\t\r\n\t\treturn myScreenIndex;\r\n    }","title":"How do I determine which monitor a Swing mouse event occurs in?","body":"<p>Leaving this here to help anyone else who may be searching for this:</p>\n<pre><code>private int screenIndexOfMouse() {\n    GraphicsDevice myScreen = MouseInfo.getPointerInfo().getDevice();\n    GraphicsEnvironment env = GraphicsEnvironment.getLocalGraphicsEnvironment();\n    GraphicsDevice[] allScreens = env.getScreenDevices();\n    int myScreenIndex = -1;\n    for (int i = 0; i &lt; allScreens.length; i++) {\n        if (allScreens[i].equals(myScreen))\n        {\n            myScreenIndex = i;\n            break;\n        }\n    }\n    \n    return myScreenIndex;\n}\n</code></pre>\n"}],"owner":{"account_id":2146,"reputation":51871,"user_id":2959,"accept_rate":67,"display_name":"Steve McLeod"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4909,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":1248477,"answer_count":5,"score":10,"last_activity_date":1664292397,"creation_date":1249721759,"question_id":1248386,"body_markdown":"I have a Java MouseListener on a component to detect mouse presses. How can I tell which monitor the mouse press occurred in?\r\n\r\n    @Override\r\n    public void mousePressed(MouseEvent e) {\r\n      // I want to make something happen on the monitor the user clicked in\r\n    }\r\n\r\nThe effect I&#39;m trying to achieve is: when the user presses the mouse button in my app, a popup window shows some info, until the mouse is released. I want to ensure this window is positioned where the user clicks, but I need to adjust the window position on the current screen so that the entire window is visible.","title":"How do I determine which monitor a Swing mouse event occurs in?","body":"<p>I have a Java MouseListener on a component to detect mouse presses. How can I tell which monitor the mouse press occurred in?</p>\n\n<pre><code>@Override\npublic void mousePressed(MouseEvent e) {\n  // I want to make something happen on the monitor the user clicked in\n}\n</code></pre>\n\n<p>The effect I'm trying to achieve is: when the user presses the mouse button in my app, a popup window shows some info, until the mouse is released. I want to ensure this window is positioned where the user clicks, but I need to adjust the window position on the current screen so that the entire window is visible.</p>\n"},{"tags":["java","spring-boot","spring-webflux","flux","reactor"],"answers":[{"tags":[],"owner":{"account_id":10834672,"reputation":416,"user_id":7968003,"display_name":"anicetkeric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664292134,"creation_date":1664292134,"answer_id":73870052,"question_id":73867994,"body_markdown":"It&#39;ll be the same as your first case.\r\n\r\n    @Autowired \r\n    CustomersService customersService;\r\n    \r\n    public Flux&lt;ResponseEntity&lt;Customer&gt;&gt; getCustomers(String name) {\r\n        return customersService.getCustomers(name)\r\n                .map(ResponseEntity::ok)\r\n                .defaultIfEmpty(ResponseEntity.noContent().build());\r\n    }\r\n\r\n","title":"How to wrap Flux&lt;T&gt; in ResponseEntity (ResponseEntity&lt;Flux&lt;T&gt;)","body":"<p>It'll be the same as your first case.</p>\n<pre><code>@Autowired \nCustomersService customersService;\n\npublic Flux&lt;ResponseEntity&lt;Customer&gt;&gt; getCustomers(String name) {\n    return customersService.getCustomers(name)\n            .map(ResponseEntity::ok)\n            .defaultIfEmpty(ResponseEntity.noContent().build());\n}\n</code></pre>\n"}],"owner":{"account_id":17525087,"reputation":39,"user_id":12710322,"display_name":"94621"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1664292134,"creation_date":1664283454,"question_id":73867994,"body_markdown":"First of all, I know that there are a few other questions essentially asking the same thing ([How to Wrap Flux&lt;MyObject&gt; in a ResponseEntity](https://stackoverflow.com/questions/57743663/how-to-wrap-fluxmyobject-in-a-responseentity), [How to combine Flux and ResponseEntity in Spring Webflux controllers](https://stackoverflow.com/questions/52491405/how-to-combine-flux-and-responseentity-in-spring-webflux-controllers)), but the answers somehow all ended up returning `Mono&lt;ResponseEntity&gt;` in the end.\r\n\r\n## `ResponseEntity&lt;Mono&lt;T&gt;&gt;`\r\nGiven a `Mono&lt;Customer&gt; getCustomer(Long customerId)` method in a `CustomersService`, my controller code would look something like this:\r\n``` java\r\n@Autowired CustomersService customersService;\r\n\r\npublic Mono&lt;ResponseEntity&lt;Customer&gt; getCustomer(Long customerId) {\r\n  return customersService\r\n    .getCustomer(customerId)\r\n    .map(ResponseEntity::ok)\r\n    .defaultIfEmpty(ResponseEntity.notFound().build())\r\n}\r\n```\r\n\r\n## `ResponseEntity&lt;Flux&lt;T&gt;&gt;`\r\nNow if the service would be changed to `Flux&lt;Customer&gt; getCustomers(String name)` instead and the controller return type would be `ResponseEntity&lt;Flux&lt;Customer&gt;&gt;`, how should the controller code look like?\r\n\r\n``` java\r\npublic Flux&lt;ResponseEntity&lt;Customer&gt; getCustomers(String name) {\r\n  return customersService\r\n    .getCustomers(name)\r\n    ...?\r\n}\r\n```","title":"How to wrap Flux&lt;T&gt; in ResponseEntity (ResponseEntity&lt;Flux&lt;T&gt;)","body":"<p>First of all, I know that there are a few other questions essentially asking the same thing (<a href=\"https://stackoverflow.com/questions/57743663/how-to-wrap-fluxmyobject-in-a-responseentity\">How to Wrap Flux in a ResponseEntity</a>, <a href=\"https://stackoverflow.com/questions/52491405/how-to-combine-flux-and-responseentity-in-spring-webflux-controllers\">How to combine Flux and ResponseEntity in Spring Webflux controllers</a>), but the answers somehow all ended up returning <code>Mono&lt;ResponseEntity&gt;</code> in the end.</p>\n<h2><code>ResponseEntity&lt;Mono&lt;T&gt;&gt;</code></h2>\n<p>Given a <code>Mono&lt;Customer&gt; getCustomer(Long customerId)</code> method in a <code>CustomersService</code>, my controller code would look something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired CustomersService customersService;\n\npublic Mono&lt;ResponseEntity&lt;Customer&gt; getCustomer(Long customerId) {\n  return customersService\n    .getCustomer(customerId)\n    .map(ResponseEntity::ok)\n    .defaultIfEmpty(ResponseEntity.notFound().build())\n}\n</code></pre>\n<h2><code>ResponseEntity&lt;Flux&lt;T&gt;&gt;</code></h2>\n<p>Now if the service would be changed to <code>Flux&lt;Customer&gt; getCustomers(String name)</code> instead and the controller return type would be <code>ResponseEntity&lt;Flux&lt;Customer&gt;&gt;</code>, how should the controller code look like?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Flux&lt;ResponseEntity&lt;Customer&gt; getCustomers(String name) {\n  return customersService\n    .getCustomers(name)\n    ...?\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8987,"page":1005,"page_size":100}
