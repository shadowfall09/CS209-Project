{"items":[{"tags":["java","spring","jpa"],"owner":{"account_id":10787001,"reputation":7,"user_id":7935701,"display_name":"Gidi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687048494,"creation_date":1687048494,"question_id":76498637,"body_markdown":"I am following the instructions found in this [link](https://spring.io/guides/gs/accessing-data-rest) in order to create an application that connects to a db2 server. Instead of defining a `Person` class, I want to use my `Accounts` class, which is the name of my table. The key field in my table is a string of `varchar(255)` type, so I defined it like this: \r\n\r\n```java\r\n@Id\r\nString id;\r\n```\r\n\r\nI did not use the `@GeneratedValue` annotation because the id is not generated by the database.\r\n\r\nHere is the repository I defined:\r\n\r\n```java\r\n@RepositoryRestResource(collectionResourceRel = &quot;accounts&quot;, path = &quot;accounts&quot;)\r\npublic interface AccountsRepository extends PagingAndSortingRepository&lt;Accounts, String&gt;, CrudRepository&lt;Accounts, String&gt; {\r\n    List&lt;Accounts&gt; findByLastName(String lastName);\r\n    Optional&lt;Accounts&gt; findById(String id);\r\n}\r\n```\r\n\r\nWhen I run the application and try to connect to `localhost:8080`, I get the following response:\r\n\r\n```\r\n{\r\n  &quot;_links&quot; : {\r\n    &quot;profile&quot; : {\r\n      &quot;href&quot; : &quot;http://localhost:8080/profile&quot;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe result is that I cannot use the link http://localhost:8080/accounts. I will be grateful for any suggestions on how to solve this. Thanks! :-)","title":"Java spring jpa incorrect profile link","body":"<p>I am following the instructions found in this <a href=\"https://spring.io/guides/gs/accessing-data-rest\" rel=\"nofollow noreferrer\">link</a> in order to create an application that connects to a db2 server. Instead of defining a <code>Person</code> class, I want to use my <code>Accounts</code> class, which is the name of my table. The key field in my table is a string of <code>varchar(255)</code> type, so I defined it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Id\nString id;\n</code></pre>\n<p>I did not use the <code>@GeneratedValue</code> annotation because the id is not generated by the database.</p>\n<p>Here is the repository I defined:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RepositoryRestResource(collectionResourceRel = &quot;accounts&quot;, path = &quot;accounts&quot;)\npublic interface AccountsRepository extends PagingAndSortingRepository&lt;Accounts, String&gt;, CrudRepository&lt;Accounts, String&gt; {\n    List&lt;Accounts&gt; findByLastName(String lastName);\n    Optional&lt;Accounts&gt; findById(String id);\n}\n</code></pre>\n<p>When I run the application and try to connect to <code>localhost:8080</code>, I get the following response:</p>\n<pre><code>{\n  &quot;_links&quot; : {\n    &quot;profile&quot; : {\n      &quot;href&quot; : &quot;http://localhost:8080/profile&quot;\n    }\n  }\n}\n</code></pre>\n<p>The result is that I cannot use the link http://localhost:8080/accounts. I will be grateful for any suggestions on how to solve this. Thanks! :-)</p>\n"},{"tags":["java","java-native-interface","jniwrapper"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":5,"creation_date":1687048781,"post_id":76498631,"comment_id":134882699,"body_markdown":"It looks correct to me. The invocation of `jni_print` is on the outer class instance. The inner class doesn’t define such a method.","body":"It looks correct to me. The invocation of <code>jni_print</code> is on the outer class instance. The inner class doesn’t define such a method."},{"owner":{"account_id":150246,"reputation":1242,"user_id":363297,"accept_rate":87,"display_name":"PoltoS"},"score":0,"creation_date":1687093079,"post_id":76498631,"comment_id":134885980,"body_markdown":"Do you mean if I define this function on the inner class, it will call with this of the inner one? Ha, sounds reasonable. Will try it","body":"Do you mean if I define this function on the inner class, it will call with this of the inner one? Ha, sounds reasonable. Will try it"},{"owner":{"account_id":150246,"reputation":1242,"user_id":363297,"accept_rate":87,"display_name":"PoltoS"},"score":0,"creation_date":1687094098,"post_id":76498631,"comment_id":134886082,"body_markdown":"@TimMoore That worked, thanks! You can make it an answer to let me accept it","body":"@TimMoore That worked, thanks! You can make it an answer to let me accept it"},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":1,"creation_date":1687165795,"post_id":76498631,"comment_id":134893637,"body_markdown":"To add a bit more explanation, your call to `jni_print(this)` is actually more like `this.this$0.jni_print(this)`, where `this$0` is the autogenerated field that references your OuterClass.","body":"To add a bit more explanation, your call to <code>jni_print(this)</code> is actually more like <code>this.this$0.jni_print(this)</code>, where <code>this$0</code> is the autogenerated field that references your OuterClass."}],"owner":{"account_id":150246,"reputation":1242,"user_id":363297,"accept_rate":87,"display_name":"PoltoS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687048059,"creation_date":1687048059,"question_id":76498631,"body_markdown":"I&#39;ve two classes: `OuterClass` and `InnerClass` inside.\r\nJNI received outer class this instead of inner class this in inner class method\r\n\r\n```\r\npublic final class OuterClass {\r\n    static {\r\n        System.loadLibrary(&quot;jtest&quot;);\r\n    }\r\n\r\n    private native void jni_print(Object obj);\r\n    \r\n    static private void print(Object o1, Object o2) {\r\n        System.out.println(&quot;this = &quot; + o1 + &quot;, arg1 = &quot; + o2);\r\n    }\r\n    \r\n    public OuterClass() {\r\n    }\r\n\r\n    public void printThis() {\r\n        jni_print(this);\r\n    }\r\n\r\n    public final class InnerClass {\r\n        public InnerClass() {\r\n        }\r\n\r\n        public void printThis() {\r\n            jni_print(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI create one instance of `OuterClass` and inside one instance of `InnerClass` and execute `printThis` function:\r\n\r\n```\r\nclass Main {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        OuterClass oc = new OuterClass();\r\n        OuterClass.InnerClass ic = oc.new InnerClass();\r\n        \r\n        oc.printThis();\r\n        ic.printThis();\r\n    }\r\n}\r\n```\r\n\r\nAs a result I get this:\r\n```\r\nthis = OuterClass@3764951d, arg1 = OuterClass@3764951d\r\nthis = OuterClass@3764951d, arg1 = OuterClass$InnerClass@4b1210ee\r\n```\r\n\r\nAs you see, `this` is incorrect in the InnerClass method call. Is it intended? Why isn&#39;t it documented? Should I pass the handler to this as a parameter?\r\n\r\nMy JNI is:\r\n```\r\n#include &lt;stdio.h&gt;\r\n#include &lt;stdlib.h&gt;\r\n#include &lt;jni.h&gt;\r\n\r\n#define JNIT_CLASS &quot;OuterClass&quot;\r\n\r\nstatic void jni_print(JNIEnv *env, jobject this, jobject obj) {\r\n    jclass cls = (*env)-&gt;FindClass(env, JNIT_CLASS);\r\n    jmethodID printID = (*env)-&gt;GetStaticMethodID(env, cls, &quot;print&quot;, &quot;(Ljava/lang/Object;Ljava/lang/Object;)V&quot;);\r\n    (*env)-&gt;CallStaticVoidMethod(env, cls, printID, this, obj);\r\n}\r\n\r\nstatic JNINativeMethod funcs[] = {\r\n    { &quot;jni_print&quot;, &quot;(Ljava/lang/Object;)V&quot;, (void *)&amp;jni_print },\r\n};\r\n\r\nJNIEXPORT jint JNICALL JNI_OnLoad(JavaVM* vm, void* reserved) {\r\n    JNIEnv *env;\r\n    jclass  cls;\r\n    jint    reg_res;\r\n\r\n    (void)reserved;\r\n\r\n    if ((*vm)-&gt;GetEnv(vm, (void **)&amp;env, JNI_VERSION_1_8) != JNI_OK)\r\n        return -1;\r\n\r\n    cls = (*env)-&gt;FindClass(env, JNIT_CLASS);\r\n    if (cls == NULL)\r\n        return -1;\r\n\r\n    reg_res = (*env)-&gt;RegisterNatives(env, cls, funcs, sizeof(funcs)/sizeof(funcs[0]));\r\n    if (reg_res != 0)\r\n        return -1;\r\n\r\n    return JNI_VERSION_1_8;\r\n}\r\n\r\nJNIEXPORT void JNICALL JNI_OnUnload(JavaVM *vm, void *reserved) {\r\n    JNIEnv *env;\r\n    jclass  cls;\r\n\r\n    (void)reserved;\r\n\r\n    if ((*vm)-&gt;GetEnv(vm, (void **)&amp;env, JNI_VERSION_1_8) != JNI_OK)\r\n        return;\r\n\r\n    cls = (*env)-&gt;FindClass(env, JNIT_CLASS);\r\n    if (cls == NULL)\r\n        return;\r\n\r\n    (*env)-&gt;UnregisterNatives(env, cls);\r\n}\r\n```\r\n","title":"JNI received outer class this instead of inner class this in inner class method","body":"<p>I've two classes: <code>OuterClass</code> and <code>InnerClass</code> inside.\nJNI received outer class this instead of inner class this in inner class method</p>\n<pre><code>public final class OuterClass {\n    static {\n        System.loadLibrary(&quot;jtest&quot;);\n    }\n\n    private native void jni_print(Object obj);\n    \n    static private void print(Object o1, Object o2) {\n        System.out.println(&quot;this = &quot; + o1 + &quot;, arg1 = &quot; + o2);\n    }\n    \n    public OuterClass() {\n    }\n\n    public void printThis() {\n        jni_print(this);\n    }\n\n    public final class InnerClass {\n        public InnerClass() {\n        }\n\n        public void printThis() {\n            jni_print(this);\n        }\n    }\n}\n</code></pre>\n<p>I create one instance of <code>OuterClass</code> and inside one instance of <code>InnerClass</code> and execute <code>printThis</code> function:</p>\n<pre><code>class Main {\n    public static void main(String[] args) throws InterruptedException {\n        OuterClass oc = new OuterClass();\n        OuterClass.InnerClass ic = oc.new InnerClass();\n        \n        oc.printThis();\n        ic.printThis();\n    }\n}\n</code></pre>\n<p>As a result I get this:</p>\n<pre><code>this = OuterClass@3764951d, arg1 = OuterClass@3764951d\nthis = OuterClass@3764951d, arg1 = OuterClass$InnerClass@4b1210ee\n</code></pre>\n<p>As you see, <code>this</code> is incorrect in the InnerClass method call. Is it intended? Why isn't it documented? Should I pass the handler to this as a parameter?</p>\n<p>My JNI is:</p>\n<pre><code>#include &lt;stdio.h&gt;\n#include &lt;stdlib.h&gt;\n#include &lt;jni.h&gt;\n\n#define JNIT_CLASS &quot;OuterClass&quot;\n\nstatic void jni_print(JNIEnv *env, jobject this, jobject obj) {\n    jclass cls = (*env)-&gt;FindClass(env, JNIT_CLASS);\n    jmethodID printID = (*env)-&gt;GetStaticMethodID(env, cls, &quot;print&quot;, &quot;(Ljava/lang/Object;Ljava/lang/Object;)V&quot;);\n    (*env)-&gt;CallStaticVoidMethod(env, cls, printID, this, obj);\n}\n\nstatic JNINativeMethod funcs[] = {\n    { &quot;jni_print&quot;, &quot;(Ljava/lang/Object;)V&quot;, (void *)&amp;jni_print },\n};\n\nJNIEXPORT jint JNICALL JNI_OnLoad(JavaVM* vm, void* reserved) {\n    JNIEnv *env;\n    jclass  cls;\n    jint    reg_res;\n\n    (void)reserved;\n\n    if ((*vm)-&gt;GetEnv(vm, (void **)&amp;env, JNI_VERSION_1_8) != JNI_OK)\n        return -1;\n\n    cls = (*env)-&gt;FindClass(env, JNIT_CLASS);\n    if (cls == NULL)\n        return -1;\n\n    reg_res = (*env)-&gt;RegisterNatives(env, cls, funcs, sizeof(funcs)/sizeof(funcs[0]));\n    if (reg_res != 0)\n        return -1;\n\n    return JNI_VERSION_1_8;\n}\n\nJNIEXPORT void JNICALL JNI_OnUnload(JavaVM *vm, void *reserved) {\n    JNIEnv *env;\n    jclass  cls;\n\n    (void)reserved;\n\n    if ((*vm)-&gt;GetEnv(vm, (void **)&amp;env, JNI_VERSION_1_8) != JNI_OK)\n        return;\n\n    cls = (*env)-&gt;FindClass(env, JNIT_CLASS);\n    if (cls == NULL)\n        return;\n\n    (*env)-&gt;UnregisterNatives(env, cls);\n}\n</code></pre>\n"},{"tags":["java","concurrency","volatile","happens-before"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1687054693,"post_id":76497704,"comment_id":134883009,"body_markdown":"Re, &quot;...still get some zeros.&quot; The version with `volatile` gets fewer zeros because the assignment `counter=1` propagates to thread2 more quickly than without `volatile`, but there&#39;s nothing in your code that _guarantees_ that thread1 actually will set `counter=1` before thread2 tests it.  Sometimes, thread2 will get to test `counter` before thread1 sets it. Also note, it&#39;s possible for thread2 to sometimes increment both `zeros` and `ones` because it tests `counter` twice, and it&#39;s possible for `counter` to change in between the two tests.","body":"Re, &quot;...still get some zeros.&quot; The version with <code>volatile</code> gets fewer zeros because the assignment <code>counter=1</code> propagates to thread2 more quickly than without <code>volatile</code>, but there&#39;s nothing in your code that <i>guarantees</i> that thread1 actually will set <code>counter=1</code> before thread2 tests it.  Sometimes, thread2 will get to test <code>counter</code> before thread1 sets it. Also note, it&#39;s possible for thread2 to sometimes increment both <code>zeros</code> and <code>ones</code> because it tests <code>counter</code> twice, and it&#39;s possible for <code>counter</code> to change in between the two tests."}],"answers":[{"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1687031690,"post_id":76497802,"comment_id":134881460,"body_markdown":"This is a good answer, it&#39;s fair to point out that the OS or JVM will order threads as it likes, and order of execution is not guaranteed.  People often miss the idea that threads are asynchronous.  That said, I&#39;d describe &quot;subsequent&quot; as &quot;wall clock time.&quot;  If the physical time measured by some arbitrary clock makes one event subsequent to another, that&#39;s what the spec means.  It means the read actually happened after the write.  *Happens-before* is different than wall clock time, it&#39;s a term of art that means the value is visible.","body":"This is a good answer, it&#39;s fair to point out that the OS or JVM will order threads as it likes, and order of execution is not guaranteed.  People often miss the idea that threads are asynchronous.  That said, I&#39;d describe &quot;subsequent&quot; as &quot;wall clock time.&quot;  If the physical time measured by some arbitrary clock makes one event subsequent to another, that&#39;s what the spec means.  It means the read actually happened after the write.  <i>Happens-before</i> is different than wall clock time, it&#39;s a term of art that means the value is visible."}],"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687029653,"creation_date":1687029653,"answer_id":76497802,"question_id":76497704,"body_markdown":"&quot;Subsequent&quot; here means some order in which JVM/OS would order volatile variable accesses. You couldn&#39;t directly control that order.\r\nMarking a field as volatile also doesn&#39;t specify that order.\r\n\r\nStarting `thread1` before `thread2` as you do increases probability that `thread1` instructions would be ordered before `thread2` instructions, but doesn&#39;t guarantee that. Both threads runs in parallel with just a tiny difference at start time, so it&#39;s a matter of chance, which one op would be actually executed first by computer. Thread1 just have a little more chances.","title":"Java volatile and happens-before","body":"<p>&quot;Subsequent&quot; here means some order in which JVM/OS would order volatile variable accesses. You couldn't directly control that order.\nMarking a field as volatile also doesn't specify that order.</p>\n<p>Starting <code>thread1</code> before <code>thread2</code> as you do increases probability that <code>thread1</code> instructions would be ordered before <code>thread2</code> instructions, but doesn't guarantee that. Both threads runs in parallel with just a tiny difference at start time, so it's a matter of chance, which one op would be actually executed first by computer. Thread1 just have a little more chances.</p>\n"},{"comments":[{"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"score":0,"creation_date":1687047320,"post_id":76498261,"comment_id":134882635,"body_markdown":"@Hulk, good point. Edited the answer accordingly.","body":"@Hulk, good point. Edited the answer accordingly."}],"tags":[],"owner":{"account_id":16503230,"reputation":48083,"user_id":11923999,"display_name":"Burak Serdar"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687047300,"creation_date":1687038151,"answer_id":76498261,"question_id":76497704,"body_markdown":"A write operation to `volatile` variable is immediately visible to all the threads. More importantly, any write operation that happens before the volatile write will also become visible. So in the following code:\r\n\r\n```\r\nstatic volatile int counter = 0;\r\nstatic int x = 0;\r\n\r\n...\r\n// A single thread writes to the counter\r\nx = 1;\r\ncounter = 1;\r\n```\r\n\r\nFor all other threads that run:\r\n```\r\nif(counter==1) {\r\n  // Here, x = 1 is guaranteed\r\n}\r\n```\r\nThe value of `x` is not guaranteed to be 1 if `counter` is not volatile. The compiler or the CPU may reorder the memory write operations without the `volatile`.\r\n","title":"Java volatile and happens-before","body":"<p>A write operation to <code>volatile</code> variable is immediately visible to all the threads. More importantly, any write operation that happens before the volatile write will also become visible. So in the following code:</p>\n<pre><code>static volatile int counter = 0;\nstatic int x = 0;\n\n...\n// A single thread writes to the counter\nx = 1;\ncounter = 1;\n</code></pre>\n<p>For all other threads that run:</p>\n<pre><code>if(counter==1) {\n  // Here, x = 1 is guaranteed\n}\n</code></pre>\n<p>The value of <code>x</code> is not guaranteed to be 1 if <code>counter</code> is not volatile. The compiler or the CPU may reorder the memory write operations without the <code>volatile</code>.</p>\n"}],"owner":{"account_id":13361244,"reputation":127,"user_id":9643193,"display_name":"RedMurloc"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76498261,"answer_count":2,"score":1,"last_activity_date":1687047300,"creation_date":1687028133,"question_id":76497704,"body_markdown":"There is what java spec says about it:  \r\nhttps://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5  \r\n&quot;A write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field.&quot;  \r\nBut what does &quot;subsequent&quot; mean in terms of concurrency? How can we be sure what is subsequent ans what is previous? Let&#39;s write a simple test:\r\n```\r\npublic class VolatileTest {\r\n\r\n    static /*volatile*/ int counter = 0;\r\n    static int zeros = 0;\r\n    static int ones = 0;\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n\r\n        int i = 0;\r\n        while (i++ &lt; 1_000_000) {\r\n            if (i % 100_000 == 0) System.out.println(i);\r\n            Thread thread1 = new Thread(VolatileTest::op1);\r\n            Thread thread2 = new Thread(VolatileTest::op2);\r\n            thread1.start();\r\n            thread2.start();\r\n\r\n            thread1.join();\r\n            thread2.join();\r\n\r\n            counter = 0;\r\n        }\r\n\r\n        System.out.println(&quot;Zeros &quot; + zeros);\r\n        System.out.println(&quot;Ones &quot; + ones);\r\n    }\r\n\r\n\r\n    public static void op1() {\r\n        counter = 1;\r\n    }\r\n\r\n    public static void op2() {\r\n        if (counter == 0) ++zeros;\r\n        if (counter == 1) ++ones;\r\n    }\r\n}\r\n\r\n```\r\nThe final output will be like\r\n```\r\nZeros 2095\r\nOnes 997905\r\n```\r\nAnd it is predictable.  \r\nBut when i uncomment the `volatile` word in `counter` variable, i still get some zeros in the answer, which means that read from volatile `count` variable was before the write, despite java spec claims that \r\n&gt;write to a volatile field (&#167;8.3.1.4) happens-before every subsequent read of that field.\r\n\r\nWhere am i wrong?","title":"Java volatile and happens-before","body":"<p>There is what java spec says about it:<br />\n<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jls/se8/html/jls-17.html#jls-17.4.5</a><br />\n&quot;A write to a volatile field (§8.3.1.4) happens-before every subsequent read of that field.&quot;<br />\nBut what does &quot;subsequent&quot; mean in terms of concurrency? How can we be sure what is subsequent ans what is previous? Let's write a simple test:</p>\n<pre><code>public class VolatileTest {\n\n    static /*volatile*/ int counter = 0;\n    static int zeros = 0;\n    static int ones = 0;\n\n    public static void main(String[] args) throws InterruptedException {\n\n        int i = 0;\n        while (i++ &lt; 1_000_000) {\n            if (i % 100_000 == 0) System.out.println(i);\n            Thread thread1 = new Thread(VolatileTest::op1);\n            Thread thread2 = new Thread(VolatileTest::op2);\n            thread1.start();\n            thread2.start();\n\n            thread1.join();\n            thread2.join();\n\n            counter = 0;\n        }\n\n        System.out.println(&quot;Zeros &quot; + zeros);\n        System.out.println(&quot;Ones &quot; + ones);\n    }\n\n\n    public static void op1() {\n        counter = 1;\n    }\n\n    public static void op2() {\n        if (counter == 0) ++zeros;\n        if (counter == 1) ++ones;\n    }\n}\n\n</code></pre>\n<p>The final output will be like</p>\n<pre><code>Zeros 2095\nOnes 997905\n</code></pre>\n<p>And it is predictable.<br />\nBut when i uncomment the <code>volatile</code> word in <code>counter</code> variable, i still get some zeros in the answer, which means that read from volatile <code>count</code> variable was before the write, despite java spec claims that</p>\n<blockquote>\n<p>write to a volatile field (§8.3.1.4) happens-before every subsequent read of that field.</p>\n</blockquote>\n<p>Where am i wrong?</p>\n"},{"tags":["java","appium","appium-ios"],"owner":{"account_id":20400933,"reputation":41,"user_id":14966660,"display_name":"Onurcan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687046533,"creation_date":1687046533,"question_id":76498585,"body_markdown":"I have a webview that needs to be automated, my code is like this, but the element could not be found. “no such element: Unable to locate element:”\r\n\r\nI’m verifying the elements with chrome inspect. Do you have any thoughts? Thank you very much for your help.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k3hvq.png","title":"Appium No such element Webview automation","body":"<p>I have a webview that needs to be automated, my code is like this, but the element could not be found. “no such element: Unable to locate element:”</p>\n<p>I’m verifying the elements with chrome inspect. Do you have any thoughts? Thank you very much for your help.</p>\n<p><a href=\"https://i.stack.imgur.com/k3hvq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k3hvq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1687010674,"post_id":76496499,"comment_id":134878957,"body_markdown":"Answer: No.  Because read operations on collections (in general) are NOT thread-safe.","body":"Answer: No.  Because read operations on collections (in general) are NOT thread-safe."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1687011270,"post_id":76496499,"comment_id":134879023,"body_markdown":"I think this is only safe if the `Collection` is immutable. Like, `List&lt;Integer&gt; myList = List.of(1,2);` -- your&#39;s isn&#39;t.","body":"I think this is only safe if the <code>Collection</code> is immutable. Like, <code>List&lt;Integer&gt; myList = List.of(1,2);</code> -- your&#39;s isn&#39;t."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687013523,"post_id":76496499,"comment_id":134879263,"body_markdown":"Not inherently, unless otherwise specified in the object&#39;s JavaDoc.  A framework will sometimes offer thread-safe alternatives.  There aren&#39;t many.","body":"Not inherently, unless otherwise specified in the object&#39;s JavaDoc.  A framework will sometimes offer thread-safe alternatives.  There aren&#39;t many."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687042738,"creation_date":1687012425,"answer_id":76496661,"question_id":76496499,"body_markdown":"&gt; Question : Is there any Java documentation that will support the claim that read operations on Java collections is thread-safe?\r\n\r\nAnswer: No.  Because read operations on collections (i.e. classes that implement `Collection`) are in general are NOT thread-safe.  \r\n\r\nRead operations may be thread safe for some collection classes or for some use-cases.  But the general claim is not supported by any (official) definitive Java documentation.\r\n\r\nThe only thing that the `Collection` interface [javadoc][1] says about thread-safety is this:\r\n\r\n&gt; &quot;*It is up to each collection to determine its own synchronization policy. In the absence of a stronger guarantee by the implementation, undefined behavior may result from the invocation of any method on a collection that is being mutated by another thread; this includes direct invocations, passing the collection to a method that might perform invocations, and using an existing iterator to examine the collection.*&quot;\r\n\r\nThis basically says that reading while writing can be expected to be non-thread-safe ... unless stated otherwise in an implementation class.  That invalidates the general claim.\r\n\r\nYour first example will be thread-safe because `ArrayList::get` doesn&#39;t mutate the list.  (We can reason this from the `ArrayList` source code using the Java Memory Model rules but I won&#39;t bore you ...)\r\n\r\nYour second example is clearly not thread-safe. The proposed `get` operation is mutating the collection object and that falls foul of the quoted text above.  (We can also reason this using the JMM rules if we have the complete source code.)  \r\n\r\nNote that your example illustrates the claim is false in general.\r\n\r\nBut it also illustrates another point: a classic Java interface is merely a contract.  There is nothing in the Java language or its spec that prevents a class that implements an interface from *not honoring aspects of the contract*.  That applies to thread-safety as well as other things.  \r\n\r\nHypothetically: even if collection read operations *were* specified in one of the collection interfaces meet the thread-safety claim, a collection implementation class *could* simply ignore that.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html","title":"Are read operations on Java containers thread-safe?","body":"<blockquote>\n<p>Question : Is there any Java documentation that will support the claim that read operations on Java collections is thread-safe?</p>\n</blockquote>\n<p>Answer: No.  Because read operations on collections (i.e. classes that implement <code>Collection</code>) are in general are NOT thread-safe.</p>\n<p>Read operations may be thread safe for some collection classes or for some use-cases.  But the general claim is not supported by any (official) definitive Java documentation.</p>\n<p>The only thing that the <code>Collection</code> interface <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html\" rel=\"nofollow noreferrer\">javadoc</a> says about thread-safety is this:</p>\n<blockquote>\n<p>&quot;<em>It is up to each collection to determine its own synchronization policy. In the absence of a stronger guarantee by the implementation, undefined behavior may result from the invocation of any method on a collection that is being mutated by another thread; this includes direct invocations, passing the collection to a method that might perform invocations, and using an existing iterator to examine the collection.</em>&quot;</p>\n</blockquote>\n<p>This basically says that reading while writing can be expected to be non-thread-safe ... unless stated otherwise in an implementation class.  That invalidates the general claim.</p>\n<p>Your first example will be thread-safe because <code>ArrayList::get</code> doesn't mutate the list.  (We can reason this from the <code>ArrayList</code> source code using the Java Memory Model rules but I won't bore you ...)</p>\n<p>Your second example is clearly not thread-safe. The proposed <code>get</code> operation is mutating the collection object and that falls foul of the quoted text above.  (We can also reason this using the JMM rules if we have the complete source code.)</p>\n<p>Note that your example illustrates the claim is false in general.</p>\n<p>But it also illustrates another point: a classic Java interface is merely a contract.  There is nothing in the Java language or its spec that prevents a class that implements an interface from <em>not honoring aspects of the contract</em>.  That applies to thread-safety as well as other things.</p>\n<p>Hypothetically: even if collection read operations <em>were</em> specified in one of the collection interfaces meet the thread-safety claim, a collection implementation class <em>could</em> simply ignore that.</p>\n"}],"owner":{"account_id":151036,"reputation":2696,"user_id":364651,"accept_rate":64,"display_name":"johngreen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687042738,"creation_date":1687009954,"question_id":76496499,"body_markdown":"Taking an example : \r\n\r\n```\r\nclass Test {\r\n\r\n    List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\r\n\r\n    public Test() {\r\n      myList.add(1);\r\n      myList.add(2);\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n       \r\n        Test obj = new Test();\r\n        Thread t1 = new Thread(()-&gt;{ System.out.println(obj.myList.get(0)); });\r\n        Thread t2 = new Thread(()-&gt;{ System.out.println(obj.myList.get(1)); });\r\n        t1.start();\r\n        t2.start();\r\n    }\r\n}\r\n```\r\n\r\nAbove, we are reading the values of an ArrayList from 2 threads. I have seen lot of code where read operations on constant lists (the lists are initialized and never altered after that) have been considered thread-safe. However, theoretically, even calling `get()` on an ArrayList can cause a change in state of the list (depending on the implementation), and so, not be thread-safe. \r\n\r\nFor example, we can have an ArrayList implementation that keeps track of the number of times `get()` is called using a non-atomic integer, which would make the get operation non thread-safe.\r\n\r\n```\r\n    // Just an example\r\n    void get(int n) {\r\n       get_counter++;\r\n       return array[n];\r\n    }\r\n```\r\n\r\n\r\nQuestion : Is there any Java documentation that will support the claim that read operations on Java collections is thread-safe?","title":"Are read operations on Java containers thread-safe?","body":"<p>Taking an example :</p>\n<pre><code>class Test {\n\n    List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\n\n    public Test() {\n      myList.add(1);\n      myList.add(2);\n    }\n\n    public static void main(String args[]) {\n       \n        Test obj = new Test();\n        Thread t1 = new Thread(()-&gt;{ System.out.println(obj.myList.get(0)); });\n        Thread t2 = new Thread(()-&gt;{ System.out.println(obj.myList.get(1)); });\n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n<p>Above, we are reading the values of an ArrayList from 2 threads. I have seen lot of code where read operations on constant lists (the lists are initialized and never altered after that) have been considered thread-safe. However, theoretically, even calling <code>get()</code> on an ArrayList can cause a change in state of the list (depending on the implementation), and so, not be thread-safe.</p>\n<p>For example, we can have an ArrayList implementation that keeps track of the number of times <code>get()</code> is called using a non-atomic integer, which would make the get operation non thread-safe.</p>\n<pre><code>    // Just an example\n    void get(int n) {\n       get_counter++;\n       return array[n];\n    }\n</code></pre>\n<p>Question : Is there any Java documentation that will support the claim that read operations on Java collections is thread-safe?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-authorization-server"],"answers":[{"comments":[{"owner":{"account_id":14174753,"reputation":3,"user_id":10240398,"display_name":"Felix Njenga"},"score":0,"creation_date":1687109992,"post_id":76498456,"comment_id":134887780,"body_markdown":"Thank you, for the suggestion. It is actually working. I was just testing it in the wrong way by sending a POST request to the wrong URL the whole time rather than sending it to /api/order/process/result","body":"Thank you, for the suggestion. It is actually working. I was just testing it in the wrong way by sending a POST request to the wrong URL the whole time rather than sending it to /api/order/process/result"}],"tags":[],"owner":{"account_id":16092544,"reputation":822,"user_id":11615575,"display_name":"Andrei Manolache"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687042493,"creation_date":1687042493,"answer_id":76498456,"question_id":76496948,"body_markdown":"Can you try to swap these 2 instructions `&quot;/api/order/process/result&quot;).permitAll()                       .anyRequest().authenticated()` ?\r\n\r\nI think that the order matters, so try to first make all the endpoints to require auhtorization, then override it by declaring that specific endpoint to not require authorization ","title":"Spring authorization server is not permitting access to my endpoint","body":"<p>Can you try to swap these 2 instructions <code>&quot;/api/order/process/result&quot;).permitAll()                       .anyRequest().authenticated()</code> ?</p>\n<p>I think that the order matters, so try to first make all the endpoints to require auhtorization, then override it by declaring that specific endpoint to not require authorization</p>\n"}],"owner":{"account_id":14174753,"reputation":3,"user_id":10240398,"display_name":"Felix Njenga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76498456,"answer_count":1,"score":0,"last_activity_date":1687042493,"creation_date":1687016604,"question_id":76496948,"body_markdown":"When I send a **POST REQUEST** to the endpoint **api/order/process/result** I receive a **401**\r\nresponse from the spring boot resource server.\r\nI need help in identifying if I have well authorized my endpoint well to be called without an\r\n**Authorization header (Bearer)** in my **Spring boot security configuration**\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class OrderController {\r\n    private final static Logger LOGGER = LoggerFactory.getLogger(OrderController.class);\r\n    private final OrderService orderService;\r\n\r\n    public OrderController(OrderService orderService) {\r\n        this.orderService = orderService;\r\n    }\r\n @PostMapping(\r\n            path = &quot;/order/process/result&quot;,\r\n            consumes = MediaType.APPLICATION_JSON_VALUE,\r\n            produces = MediaType.APPLICATION_JSON_VALUE\r\n    )\r\n    public String handleStkCallback(@RequestBody String result) {\r\n        LOGGER.info(result);\r\n        orderService.handleStkCallback(result);\r\n        return &quot;{\\&quot;responseCode\\&quot;: \\&quot;0\\&quot;}&quot;;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n    @Value(&quot;${jwksUri}&quot;)\r\n    private String jwksUri;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors().and().csrf().disable()\r\n                .authorizeHttpRequests(auth -&gt; auth\r\n                        .requestMatchers(POST, &quot;/api/order/process/result&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .oauth2ResourceServer(oauth2 -&gt; oauth2\r\n                        .jwt(jwt -&gt; jwt\r\n                                .jwkSetUri(jwksUri)\r\n                        )\r\n                );\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowCredentials(true);\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n\r\n        return source;\r\n    }\r\n}\r\n```","title":"Spring authorization server is not permitting access to my endpoint","body":"<p>When I send a <strong>POST REQUEST</strong> to the endpoint <strong>api/order/process/result</strong> I receive a <strong>401</strong>\nresponse from the spring boot resource server.\nI need help in identifying if I have well authorized my endpoint well to be called without an\n<strong>Authorization header (Bearer)</strong> in my <strong>Spring boot security configuration</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class OrderController {\n    private final static Logger LOGGER = LoggerFactory.getLogger(OrderController.class);\n    private final OrderService orderService;\n\n    public OrderController(OrderService orderService) {\n        this.orderService = orderService;\n    }\n @PostMapping(\n            path = &quot;/order/process/result&quot;,\n            consumes = MediaType.APPLICATION_JSON_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE\n    )\n    public String handleStkCallback(@RequestBody String result) {\n        LOGGER.info(result);\n        orderService.handleStkCallback(result);\n        return &quot;{\\&quot;responseCode\\&quot;: \\&quot;0\\&quot;}&quot;;\n    }\n}\n</code></pre>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    @Value(&quot;${jwksUri}&quot;)\n    private String jwksUri;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .cors().and().csrf().disable()\n                .authorizeHttpRequests(auth -&gt; auth\n                        .requestMatchers(POST, &quot;/api/order/process/result&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .oauth2ResourceServer(oauth2 -&gt; oauth2\n                        .jwt(jwt -&gt; jwt\n                                .jwkSetUri(jwksUri)\n                        )\n                );\n        return http.build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowCredentials(true);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n\n        return source;\n    }\n}\n</code></pre>\n"},{"tags":["java","jpa","querydsl"],"answers":[{"comments":[{"owner":{"account_id":19094589,"reputation":72,"user_id":15935845,"display_name":"boomermath"},"score":0,"creation_date":1687124387,"post_id":76498410,"comment_id":134889294,"body_markdown":"The generated SQL query still fetches other fields, and it throws a &quot;query did not return a unique result&quot; error?","body":"The generated SQL query still fetches other fields, and it throws a &quot;query did not return a unique result&quot; error?"}],"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687041528,"creation_date":1687041528,"answer_id":76498410,"question_id":76498123,"body_markdown":"Hibernate only allows FETCH JOINS if the owner of the fetch association is projected in the select clause. so the way to make it work would be to add qBlogArticle to the select .select(qBlogArticle, qBlogArticle.title, qBlogArticle.tags)","title":"Fetch Join with select statement in JPAQuery","body":"<p>Hibernate only allows FETCH JOINS if the owner of the fetch association is projected in the select clause. so the way to make it work would be to add qBlogArticle to the select .select(qBlogArticle, qBlogArticle.title, qBlogArticle.tags)</p>\n"}],"owner":{"account_id":19094589,"reputation":72,"user_id":15935845,"display_name":"boomermath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687041528,"creation_date":1687035361,"question_id":76498123,"body_markdown":"I have two entities: BlogArticle and BlogTag\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class BlogArticle {\r\n    private UUID id;\r\n    private String title;\r\n\r\n    // other fields...\r\n\r\n    @ManyToMany(mappedBy = &quot;articles&quot;)\r\n    private List&lt;BlogTag&gt; tags = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class BlogTag {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.UUID)\r\n    @Setter(AccessLevel.NONE)\r\n    private UUID id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @ManyToMany(fetch = FetchType.LAZY)\r\n    @Builder.Default\r\n    @ToString.Exclude\r\n    private List&lt;BlogArticle&gt; articles = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nWhen I fetch them with a JPAQuery like so:\r\n\r\n```java\r\n        Tuple tuple = new JPAQuery&lt;Tuple&gt;(entityManager)\r\n                .from(qBlogArticle)\r\n                .innerJoin(qBlogArticle.tags)\r\n                .fetchJoin()\r\n                .where(qBlogArticle.slug.eq(slug))\r\n                .fetchOne();\r\n```\r\n\r\nIt works, but when I add a `.select(qBlogArticle.title, qBlogArticle.tags`, it throws an error saying &quot;query specified join fetching, but the owner of the fetched association was not present in the select list&quot;\r\n\r\nHow can select only the fields I want, and fetch join tags (so they can be fetched in one query)?","title":"Fetch Join with select statement in JPAQuery","body":"<p>I have two entities: BlogArticle and BlogTag</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@ToString\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\npublic class BlogArticle {\n    private UUID id;\n    private String title;\n\n    // other fields...\n\n    @ManyToMany(mappedBy = &quot;articles&quot;)\n    private List&lt;BlogTag&gt; tags = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@ToString\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\npublic class BlogTag {\n    @Id\n    @GeneratedValue(strategy = GenerationType.UUID)\n    @Setter(AccessLevel.NONE)\n    private UUID id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    @Builder.Default\n    @ToString.Exclude\n    private List&lt;BlogArticle&gt; articles = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>When I fetch them with a JPAQuery like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Tuple tuple = new JPAQuery&lt;Tuple&gt;(entityManager)\n                .from(qBlogArticle)\n                .innerJoin(qBlogArticle.tags)\n                .fetchJoin()\n                .where(qBlogArticle.slug.eq(slug))\n                .fetchOne();\n</code></pre>\n<p>It works, but when I add a <code>.select(qBlogArticle.title, qBlogArticle.tags</code>, it throws an error saying &quot;query specified join fetching, but the owner of the fetched association was not present in the select list&quot;</p>\n<p>How can select only the fields I want, and fetch join tags (so they can be fetched in one query)?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":4388479,"reputation":576,"user_id":3577765,"accept_rate":42,"display_name":"Amir_Af"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687040244,"creation_date":1687040244,"answer_id":76498360,"question_id":76495277,"body_markdown":"Try adding `@WithMockUser` with your username so it will set Authentication into context.\r\n\r\n\r\n      @WithMockUser(username = &quot;principal@springboot.com&quot;)\r\n    @SneakyThrows\r\n    @Test\r\n    void securityCheckWithOkta() throws Exception {\r\n        String jwt = &quot;...&quot;;\r\n        mockMvc.perform(\r\n                        get(&quot;/security-check&quot;)\r\n                                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                                .header(&quot;companyId&quot;, 1438)\r\n                )\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n    }","title":"Spring Security Test with custom filter gives 401","body":"<p>Try adding <code>@WithMockUser</code> with your username so it will set Authentication into context.</p>\n<pre><code>  @WithMockUser(username = &quot;principal@springboot.com&quot;)\n@SneakyThrows\n@Test\nvoid securityCheckWithOkta() throws Exception {\n    String jwt = &quot;...&quot;;\n    mockMvc.perform(\n                    get(&quot;/security-check&quot;)\n                            .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                            .header(&quot;companyId&quot;, 1438)\n            )\n            .andExpect(status().isOk())\n            .andReturn();\n}\n</code></pre>\n"}],"owner":{"account_id":2818245,"reputation":581,"user_id":2422715,"accept_rate":31,"display_name":"Lorenzo De Francesco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687040244,"creation_date":1686988941,"question_id":76495277,"body_markdown":"I implemented a custom Spring Boot security filter that performs additional checks to the JWT one.\r\n\r\nI created this custom configuration:\r\n\r\n```java\r\n@Slf4j\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity(\r\n        prePostEnabled = true,\r\n        securedEnabled = true,\r\n        jsr250Enabled = true)\r\npublic class WebSecurityConfig {\r\n\r\n    @Autowired\r\n    private AuthGatewayFilter authGatewayFilter;\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain auth0FilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .csrf().disable()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and().headers().frameOptions().disable()\r\n                .addFilterAt(authGatewayFilter, UsernamePasswordAuthenticationFilter.class)\r\n                .authorizeHttpRequests().anyRequest().authenticated().and().build();\r\n    }\r\n}\r\n```\r\n\r\nAnd the authentication filter is made this way (it is an example, the real filter is more complex):\r\n\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class AuthGatewayFilter extends OncePerRequestFilter {\r\n\r\n    @Override\r\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain chain) throws ServletException, IOException {\r\n            UsernamePasswordAuthenticationToken authentication;\r\n            authentication = new UsernamePasswordAuthenticationToken(&quot;principal@springboot.com&quot;, null, null);\r\n            authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n            SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            chain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nSo I wanted to test this security and used MockMVC. Unfortunately, the test always gives me a 401 instead of 200:\r\n\r\n```java\r\n@Slf4j\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@ContextConfiguration(classes = TestApplication.class)\r\n@AutoConfigureMockMvc\r\nclass Auth0IntegrationControllerTest {\r\n\r\n    @Autowired\r\n    MockMvc mockMvc;\r\n\r\n    @SneakyThrows\r\n    @Test\r\n    void securityCheckWithOkta() throws Exception {\r\n        String jwt = &quot;...&quot;;\r\n        mockMvc.perform(\r\n                        get(&quot;/security-check&quot;)\r\n                                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\r\n                                .header(&quot;companyId&quot;, 1438)\r\n                )\r\n                .andExpect(status().isOk())\r\n                .andReturn();\r\n    }\r\n}\r\n```\r\n\r\nHow can I solve it? May I edit the MockMVC?","title":"Spring Security Test with custom filter gives 401","body":"<p>I implemented a custom Spring Boot security filter that performs additional checks to the JWT one.</p>\n<p>I created this custom configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity(\n        prePostEnabled = true,\n        securedEnabled = true,\n        jsr250Enabled = true)\npublic class WebSecurityConfig {\n\n    @Autowired\n    private AuthGatewayFilter authGatewayFilter;\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain auth0FilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf().disable()\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and().headers().frameOptions().disable()\n                .addFilterAt(authGatewayFilter, UsernamePasswordAuthenticationFilter.class)\n                .authorizeHttpRequests().anyRequest().authenticated().and().build();\n    }\n}\n</code></pre>\n<p>And the authentication filter is made this way (it is an example, the real filter is more complex):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class AuthGatewayFilter extends OncePerRequestFilter {\n\n    @Override\n    protected void doFilterInternal(@NonNull HttpServletRequest request, @NonNull HttpServletResponse response, @NonNull FilterChain chain) throws ServletException, IOException {\n            UsernamePasswordAuthenticationToken authentication;\n            authentication = new UsernamePasswordAuthenticationToken(&quot;principal@springboot.com&quot;, null, null);\n            authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n            chain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>So I wanted to test this security and used MockMVC. Unfortunately, the test always gives me a 401 instead of 200:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@ContextConfiguration(classes = TestApplication.class)\n@AutoConfigureMockMvc\nclass Auth0IntegrationControllerTest {\n\n    @Autowired\n    MockMvc mockMvc;\n\n    @SneakyThrows\n    @Test\n    void securityCheckWithOkta() throws Exception {\n        String jwt = &quot;...&quot;;\n        mockMvc.perform(\n                        get(&quot;/security-check&quot;)\n                                .header(&quot;Authorization&quot;, &quot;Bearer &quot; + jwt)\n                                .header(&quot;companyId&quot;, 1438)\n                )\n                .andExpect(status().isOk())\n                .andReturn();\n    }\n}\n</code></pre>\n<p>How can I solve it? May I edit the MockMVC?</p>\n"},{"tags":["java","sockets","websocket"],"owner":{"account_id":28842024,"reputation":1,"user_id":22090006,"display_name":"User3678472"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687039940,"creation_date":1687039845,"question_id":76498343,"body_markdown":"\r\n**Server:**\r\n```java\r\npublic class SocketServer {\r\n\r\n    private final SocketIOServer socketIOServer;\r\n\r\n    public SocketServer() {\r\n        Configuration config = new Configuration();\r\n        config.setHostname(&quot;localhost&quot;);\r\n        config.setPort(9092);\r\n\r\n        this.socketIOServer = new SocketIOServer(config);\r\n\r\n        socketIOServer.addConnectListener(client -&gt; {\r\n            client.sendEvent(&quot;EVENT_CONNECT&quot;);\r\n        });\r\n\r\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n            socketIOServer.stop();\r\n            System.out.println(&quot;Socket server stopped&quot;);\r\n        }));\r\n\r\n        this.startSocket();\r\n    }\r\n\r\n    public void startSocket() {\r\n        socketIOServer.start();\r\n    }\r\n\r\n    public void addEventListener(String name, Event event) {\r\n        socketIOServer.addEventListener(name, String.class, event::run);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Client:**\r\n```java\r\npublic class ConnectionHandler {\r\n\r\n    private final Socket socket;\r\n\r\n    public ConnectionHandler() throws URISyntaxException {\r\n        this.socket = IO.socket(&quot;http://localhost:9092&quot;, IO.Options.builder()\r\n                .setTransports(new String[] {&quot;websocket&quot;})\r\n                .setUpgrade(false)\r\n                .setReconnection(true).build());\r\n    }\r\n\r\n    public void registerEventListener(String name, Event method) {\r\n        socket.on(name, method::run);\r\n    }\r\n\r\n    public void startSocket() {\r\n        socket.open();\r\n    }\r\n\r\n    public Socket getSocket() {\r\n        return socket;\r\n    }\r\n\r\n}\r\n```\r\n\r\ni am 100% certain it is not an issue with my events system, it is something that has to do with the server/library i am using. this client code works perfectly fine with a nodejs socket.io server but when i move it to this server it causes those issues. as i said in the title a connection is recieved but there is nothing communicated between both the sockets\r\n\r\nthe client is running [socket.io-client 2.1.0](https://github.com/socketio/socket.io-client-java)\r\nthe server is running [netty-socketio 1.7.23](https://github.com/mrniko/netty-socketio)\r\n\r\nif anyone has any better recommendations for libraries to use other than netty-socket.io that also works","title":"socket.io client connects to but cannot communicate with netty-socket.io server","body":"<p><strong>Server:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SocketServer {\n\n    private final SocketIOServer socketIOServer;\n\n    public SocketServer() {\n        Configuration config = new Configuration();\n        config.setHostname(&quot;localhost&quot;);\n        config.setPort(9092);\n\n        this.socketIOServer = new SocketIOServer(config);\n\n        socketIOServer.addConnectListener(client -&gt; {\n            client.sendEvent(&quot;EVENT_CONNECT&quot;);\n        });\n\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            socketIOServer.stop();\n            System.out.println(&quot;Socket server stopped&quot;);\n        }));\n\n        this.startSocket();\n    }\n\n    public void startSocket() {\n        socketIOServer.start();\n    }\n\n    public void addEventListener(String name, Event event) {\n        socketIOServer.addEventListener(name, String.class, event::run);\n    }\n\n}\n</code></pre>\n<p><strong>Client:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ConnectionHandler {\n\n    private final Socket socket;\n\n    public ConnectionHandler() throws URISyntaxException {\n        this.socket = IO.socket(&quot;http://localhost:9092&quot;, IO.Options.builder()\n                .setTransports(new String[] {&quot;websocket&quot;})\n                .setUpgrade(false)\n                .setReconnection(true).build());\n    }\n\n    public void registerEventListener(String name, Event method) {\n        socket.on(name, method::run);\n    }\n\n    public void startSocket() {\n        socket.open();\n    }\n\n    public Socket getSocket() {\n        return socket;\n    }\n\n}\n</code></pre>\n<p>i am 100% certain it is not an issue with my events system, it is something that has to do with the server/library i am using. this client code works perfectly fine with a nodejs socket.io server but when i move it to this server it causes those issues. as i said in the title a connection is recieved but there is nothing communicated between both the sockets</p>\n<p>the client is running <a href=\"https://github.com/socketio/socket.io-client-java\" rel=\"nofollow noreferrer\">socket.io-client 2.1.0</a>\nthe server is running <a href=\"https://github.com/mrniko/netty-socketio\" rel=\"nofollow noreferrer\">netty-socketio 1.7.23</a></p>\n<p>if anyone has any better recommendations for libraries to use other than netty-socket.io that also works</p>\n"},{"tags":["java","simd","conditional-compilation"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":5,"creation_date":1642165043,"post_id":70710835,"comment_id":125004448,"body_markdown":"You probably want a [multi-release jar file](https://openjdk.java.net/jeps/238).  There is an example near the end of [the jar tool documentation](https://docs.oracle.com/en/java/javase/17/docs/specs/man/jar.html#examples-of-jar-command-syntax).","body":"You probably want a <a href=\"https://openjdk.java.net/jeps/238\" rel=\"nofollow noreferrer\">multi-release jar file</a>.  There is an example near the end of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jar.html#examples-of-jar-command-syntax\" rel=\"nofollow noreferrer\">the jar tool documentation</a>."},{"owner":{"account_id":268250,"reputation":5373,"user_id":556899,"accept_rate":50,"display_name":"stgatilov"},"score":0,"creation_date":1642168817,"post_id":70710835,"comment_id":125005837,"body_markdown":"@VGR, I suppose one can put all SIMD code into its own jar file, and make this jar multi-release. Of course, without conditional compilation one has to write two separate files for two implementations. That sounds like a solution, even if not very convenient.","body":"@VGR, I suppose one can put all SIMD code into its own jar file, and make this jar multi-release. Of course, without conditional compilation one has to write two separate files for two implementations. That sounds like a solution, even if not very convenient."},{"owner":{"account_id":430236,"reputation":969,"user_id":813561,"display_name":"jasonk"},"score":0,"creation_date":1685985766,"post_id":70710835,"comment_id":134734504,"body_markdown":"Did you end up with a workable solution to this? I&#39;m looking to implement somethig similar.","body":"Did you end up with a workable solution to this? I&#39;m looking to implement somethig similar."},{"owner":{"account_id":268250,"reputation":5373,"user_id":556899,"accept_rate":50,"display_name":"stgatilov"},"score":0,"creation_date":1687010975,"post_id":70710835,"comment_id":134878991,"body_markdown":"@jasonk, no I did not. I guess external codegen/textgen is the only way to go.","body":"@jasonk, no I did not. I guess external codegen/textgen is the only way to go."}],"owner":{"account_id":268250,"reputation":5373,"user_id":556899,"accept_rate":50,"display_name":"stgatilov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1687039373,"creation_date":1642164588,"question_id":70710835,"body_markdown":"I am playing around with Vector API in JDK 17.\r\n\r\nSince it is not available on older version of Java, I wonder if it is possible to conditionally import it. So that if Vector API is available, then Java compiler imports it and runs one code path (the fast one), and if it is not available (e.g. Java 8), then compiler/runtime does not import the module and uses the second code path (the simple one).\r\n\r\nAnd if that&#39;s impossible, then how are early adopters supposed to use the feature in any real code without bumping requirement on Java version?\r\nOr does &quot;incubator API&quot; means that it should never go beyond toy projects and benchmarks?","title":"Conditional import of Java Vector API","body":"<p>I am playing around with Vector API in JDK 17.</p>\n<p>Since it is not available on older version of Java, I wonder if it is possible to conditionally import it. So that if Vector API is available, then Java compiler imports it and runs one code path (the fast one), and if it is not available (e.g. Java 8), then compiler/runtime does not import the module and uses the second code path (the simple one).</p>\n<p>And if that's impossible, then how are early adopters supposed to use the feature in any real code without bumping requirement on Java version?\nOr does &quot;incubator API&quot; means that it should never go beyond toy projects and benchmarks?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1685724705,"post_id":76387891,"comment_id":134706243,"body_markdown":"Thanks. However, I do not see the white edge on my system (JDK 20, JavaFX 20.0.1, Mac OS X). What JDK/JavaFX versions do you have and which OS?","body":"Thanks. However, I do not see the white edge on my system (JDK 20, JavaFX 20.0.1, Mac OS X). What JDK/JavaFX versions do you have and which OS?"},{"owner":{"account_id":18341423,"reputation":63,"user_id":13357589,"display_name":"EpicOweo"},"score":0,"creation_date":1685726187,"post_id":76387891,"comment_id":134706524,"body_markdown":"@James_D That&#39;s odd. I&#39;m running Java 17 OpenJDK, JavaFX 20.0.1, and OpenSuse TW. I recreated the example there from scratch so I don&#39;t see what the issue could be.","body":"@James_D That&#39;s odd. I&#39;m running Java 17 OpenJDK, JavaFX 20.0.1, and OpenSuse TW. I recreated the example there from scratch so I don&#39;t see what the issue could be."},{"owner":{"account_id":18341423,"reputation":63,"user_id":13357589,"display_name":"EpicOweo"},"score":0,"creation_date":1685726450,"post_id":76387891,"comment_id":134706578,"body_markdown":"I&#39;m not sure if this matters, but running `System.out.println(stage.getWidth())` (and then with scene width and canvas width) produces slightly different values: `1282.620`, `1280.625`, and `1280.0`, respectively.","body":"I&#39;m not sure if this matters, but running <code>System.out.println(stage.getWidth())</code> (and then with scene width and canvas width) produces slightly different values: <code>1282.620</code>, <code>1280.625</code>, and <code>1280.0</code>, respectively."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1685728644,"post_id":76387891,"comment_id":134707000,"body_markdown":"I can&#39;t reproduce this on MacOS, Java/FX 17. Also consider the approaches examined [here](https://stackoverflow.com/q/31761361/230513) that fill the entire canvas.","body":"I can&#39;t reproduce this on MacOS, Java/FX 17. Also consider the approaches examined <a href=\"https://stackoverflow.com/q/31761361/230513\">here</a> that fill the entire canvas."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1685732333,"post_id":76387891,"comment_id":134707668,"body_markdown":"On a Mac, the sample code (with the added outputs for canvas, stage, and scene height and width), gives canvas 1280.0 x 720.0, scene 1280.0 x 720.0, stage 1280.0 x 748.0 with the extra height in the stage to account for the title bar.  That is why the problem does not reproduce on a Mac.  On a Mac the canvas fills the scene entirely so the default which scene background fill is not seen, unlike on your OpenSuse TW system.","body":"On a Mac, the sample code (with the added outputs for canvas, stage, and scene height and width), gives canvas 1280.0 x 720.0, scene 1280.0 x 720.0, stage 1280.0 x 748.0 with the extra height in the stage to account for the title bar.  That is why the problem does not reproduce on a Mac.  On a Mac the canvas fills the scene entirely so the default which scene background fill is not seen, unlike on your OpenSuse TW system."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1685732677,"post_id":76387891,"comment_id":134707726,"body_markdown":"Normally the scene is supposed to precisely size to its content.  But for some reason, the calculations for that were slightly wrong on your system.  Perhaps if you manually set the size of the scene to 1280 x 720 in the constructor, rather than letting the system calculate a desired size, it will work.  You also might want to make sure that the stage is not resizable or has a max size.  Otherwise, if the user resizes the scene to enlarge it, it may look weird.","body":"Normally the scene is supposed to precisely size to its content.  But for some reason, the calculations for that were slightly wrong on your system.  Perhaps if you manually set the size of the scene to 1280 x 720 in the constructor, rather than letting the system calculate a desired size, it will work.  You also might want to make sure that the stage is not resizable or has a max size.  Otherwise, if the user resizes the scene to enlarge it, it may look weird."}],"answers":[{"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1685732880,"post_id":76392658,"comment_id":134707758,"body_markdown":"[`scene.setFill()`](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Scene.html#fillProperty) sets the background of the scene.  It does not &quot;clear the screen&quot;.  The scene graph is persistent. The canvas is rendered on top of the background, so setting the scene fill does not affect the canvas. Also clearing the canvas every frame will only clear the canvas, not the area outside of the canvas (where the line you see resides). Setting the canvas one pixel bigger, however, will ensure that (in your case) the canvas spans the entire scene and fix your issue.","body":"<a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/Scene.html#fillProperty\" rel=\"nofollow noreferrer\"><code>scene.setFill()</code></a> sets the background of the scene.  It does not &quot;clear the screen&quot;.  The scene graph is persistent. The canvas is rendered on top of the background, so setting the scene fill does not affect the canvas. Also clearing the canvas every frame will only clear the canvas, not the area outside of the canvas (where the line you see resides). Setting the canvas one pixel bigger, however, will ensure that (in your case) the canvas spans the entire scene and fix your issue."}],"tags":[],"owner":{"account_id":18341423,"reputation":63,"user_id":13357589,"display_name":"EpicOweo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685730736,"creation_date":1685730381,"answer_id":76392658,"question_id":76387891,"body_markdown":"I didn&#39;t find the source of the problem but I found a workaround. Basically the idea is to just use `scene.setFill()` to clear the screen. When I do that, it clears the entire screen even though the Scene&#39;s size is a pixel off. I also will probably still clear the canvas every frame as well to make sure nothing weird happens though.\r\n\r\nEDIT: Also helps to make the canvas one pixel bigger so that whatever you&#39;re drawing spans the entire window.","title":"White line appearing on the edge of JavaFX window","body":"<p>I didn't find the source of the problem but I found a workaround. Basically the idea is to just use <code>scene.setFill()</code> to clear the screen. When I do that, it clears the entire screen even though the Scene's size is a pixel off. I also will probably still clear the canvas every frame as well to make sure nothing weird happens though.</p>\n<p>EDIT: Also helps to make the canvas one pixel bigger so that whatever you're drawing spans the entire window.</p>\n"},{"tags":[],"owner":{"account_id":13313836,"reputation":105,"user_id":9610960,"display_name":"Francis Fajardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685765360,"creation_date":1685765360,"answer_id":76394521,"question_id":76387891,"body_markdown":"I can&#39;t reproduce this either on Windows 10/Ubuntu 22.04 (both running JDK/JavaFX 20). If you&#39;re fine with not letting the user resize the game window, try the following code, which should prevent resizing* of the window/stage and sets an initial size for the scene.\r\n```java\r\nstage.setResizable(false);\r\nScene scene = new Scene(root, 1280, 720);\r\n```\r\n\r\n\\* Do note that there are a few WMs that don&#39;t respect this setting.","title":"White line appearing on the edge of JavaFX window","body":"<p>I can't reproduce this either on Windows 10/Ubuntu 22.04 (both running JDK/JavaFX 20). If you're fine with not letting the user resize the game window, try the following code, which should prevent resizing* of the window/stage and sets an initial size for the scene.</p>\n<pre class=\"lang-java prettyprint-override\"><code>stage.setResizable(false);\nScene scene = new Scene(root, 1280, 720);\n</code></pre>\n<p>* Do note that there are a few WMs that don't respect this setting.</p>\n"},{"tags":[],"owner":{"account_id":18341423,"reputation":63,"user_id":13357589,"display_name":"EpicOweo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687039287,"creation_date":1687039287,"answer_id":76498315,"question_id":76387891,"body_markdown":"UPDATE: I figured out what actually works! Making the canvas bigger just worsened the problem, so after some playing around I bound the maxWidthProperty/maxHeightProperty to the Canvas&#39; width/height properties minus one.\r\n\r\n```java\r\nstage.maxWidthProperty().bind(canvas.widthProperty().subtract(1));\r\nstage.maxHeightProperty().bind(canvas.heightProperty().subtract(1));\r\n```\r\n\r\nSince this seems to mainly be a me problem, I just included these as a seperate patch function in my code in case someone using my engine also has the issue.","title":"White line appearing on the edge of JavaFX window","body":"<p>UPDATE: I figured out what actually works! Making the canvas bigger just worsened the problem, so after some playing around I bound the maxWidthProperty/maxHeightProperty to the Canvas' width/height properties minus one.</p>\n<pre class=\"lang-java prettyprint-override\"><code>stage.maxWidthProperty().bind(canvas.widthProperty().subtract(1));\nstage.maxHeightProperty().bind(canvas.heightProperty().subtract(1));\n</code></pre>\n<p>Since this seems to mainly be a me problem, I just included these as a seperate patch function in my code in case someone using my engine also has the issue.</p>\n"}],"owner":{"account_id":18341423,"reputation":63,"user_id":13357589,"display_name":"EpicOweo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76498315,"answer_count":3,"score":4,"last_activity_date":1687039287,"creation_date":1685689618,"question_id":76387891,"body_markdown":"I&#39;m making a game engine with JavaFX and I&#39;ve come across this problem that I&#39;m struggling to fix. There is a one pixel wide white line on the right side of my window that shouldn&#39;t be there:\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iTIn5.png\r\n\r\n\r\nThe problem appears to be caused by my Scene being ~0.6 pixels too large, even though my canvas is the correct size. However, I don&#39;t know what to do to fix it.\r\n\r\nRunning the following lines gives me the following outputs, respectively:\r\n\r\n```java\r\nSystem.out.println(sr.getCanvas().getWidth());\r\nSystem.out.println(GameEngine.scene.getWidth());\r\nSystem.out.println(GameEngine.stage.getWidth());\r\n\r\nSystem.out.println(sr.getCanvas().getHeight());\r\nSystem.out.println(GameEngine.scene.getHeight());\r\nSystem.out.println(GameEngine.stage.getHeight());\r\n```\r\n\r\n```\r\n1280.0\r\n1280.6259765625\r\n1280.6259765625\r\n\r\n720.0\r\n720.102783203125\r\n749.026611328125\r\n```\r\nCreating the canvas:\r\n```java\r\npublic void createCanvas() {\r\n\tcanvas = new Canvas(GameEngine.getConfig().width,GameEngine.getConfig().height);\r\n\tgc = canvas.getGraphicsContext2D();\r\n}\r\n```\r\nCreating the window:\r\n```java\r\nprivate void createWindow() {\r\n\troot = new Pane();\r\n\tscene = new Scene(root);\r\n\t\r\n\tstage.setTitle(config.title);\r\n\tstage.setScene(scene);\r\n\t\r\n\tfor(Renderer r : GameEngine.renderers) {\r\n\t\tr.createCanvas();\r\n\t}\r\n\t\r\n\tfor(Renderer r : renderers) {\r\n\t\troot.getChildren().add(r.getCanvas());\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;ve been looking all over trying the couple things I could find but they haven&#39;t worked, including:\r\n* Running stage.hide(), then stage.show()\r\n* Running stage.setResizeable(false) and manually editing the stage&#39;s width and height\r\n* Running this code I found on another StackOverflow answer:\r\n```java\r\nstage.setWidth(scene.getRoot().minWidth(-1));\r\nstage.setHeight(scene.getRoot().minHeight(-1));\r\n```\r\n\r\nAny ideas? I&#39;m willing to give more information if needed, I&#39;m apparently not great at giving detailed enough answers so hopefully this was alright. Thanks!\r\n\r\n\r\nEDIT: Here&#39;s a reproducible example of my problem (at least on my device):\r\nTestMain.class\r\n```java\r\npublic class TestMain {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tApplication.launch(TestApp.class);\r\n\t}\r\n}\r\n```\r\nTestApp.class\r\n```java\r\npublic class TestApp extends Application {\r\n\t\t\r\n\tGraphicsContext gc;\r\n\tStage stage;\r\n\tPane root;\r\n\tScene scene;\r\n\tint width;\r\n\tint height;\r\n\tCanvas canvas;\r\n\t\r\n\tpublic TestApp() {}\r\n\t\r\n\tpublic void fillCanvas(Paint c) {\r\n\t\tgc.setFill(c);\r\n\t\tgc.fillRect(0, 0, 1280, 720);\r\n    }\r\n\t\r\n\tpublic void testLoop() {\r\n\t\tnew AnimationTimer() {\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(long nanoTime) {\r\n\t\t\t\tfillCanvas(new Color(0.3, 0.3, 0.3, 1));\r\n\t\t\t}\r\n\t\t}.start();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void start(Stage arg0) throws Exception {\r\n\t\tStage stage = new Stage();\r\n\t\tPane root = new Pane();\r\n\t\tScene scene = new Scene(root);\r\n\t\t\r\n\t\tint width = 1280;\r\n\t\tint height = 720;\r\n\t\t\r\n\t\tCanvas canvas = new Canvas(width, height);\r\n\t\tgc = canvas.getGraphicsContext2D();\r\n\t\t\r\n\t\tstage.setScene(scene);\r\n\t\t\r\n\t\troot.getChildren().add(canvas);\r\n\t\tstage.show();\r\n\t\ttestLoop();\r\n\t}\r\n}\r\n```\r\n\r\nIf anything else is needed please let me know!\r\n\r\n","title":"White line appearing on the edge of JavaFX window","body":"<p>I'm making a game engine with JavaFX and I've come across this problem that I'm struggling to fix. There is a one pixel wide white line on the right side of my window that shouldn't be there:</p>\n<p><a href=\"https://i.stack.imgur.com/iTIn5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iTIn5.png\" alt=\"\" /></a></p>\n<p>The problem appears to be caused by my Scene being ~0.6 pixels too large, even though my canvas is the correct size. However, I don't know what to do to fix it.</p>\n<p>Running the following lines gives me the following outputs, respectively:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(sr.getCanvas().getWidth());\nSystem.out.println(GameEngine.scene.getWidth());\nSystem.out.println(GameEngine.stage.getWidth());\n\nSystem.out.println(sr.getCanvas().getHeight());\nSystem.out.println(GameEngine.scene.getHeight());\nSystem.out.println(GameEngine.stage.getHeight());\n</code></pre>\n<pre><code>1280.0\n1280.6259765625\n1280.6259765625\n\n720.0\n720.102783203125\n749.026611328125\n</code></pre>\n<p>Creating the canvas:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void createCanvas() {\n    canvas = new Canvas(GameEngine.getConfig().width,GameEngine.getConfig().height);\n    gc = canvas.getGraphicsContext2D();\n}\n</code></pre>\n<p>Creating the window:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void createWindow() {\n    root = new Pane();\n    scene = new Scene(root);\n    \n    stage.setTitle(config.title);\n    stage.setScene(scene);\n    \n    for(Renderer r : GameEngine.renderers) {\n        r.createCanvas();\n    }\n    \n    for(Renderer r : renderers) {\n        root.getChildren().add(r.getCanvas());\n    }\n}\n</code></pre>\n<p>I've been looking all over trying the couple things I could find but they haven't worked, including:</p>\n<ul>\n<li>Running stage.hide(), then stage.show()</li>\n<li>Running stage.setResizeable(false) and manually editing the stage's width and height</li>\n<li>Running this code I found on another StackOverflow answer:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>stage.setWidth(scene.getRoot().minWidth(-1));\nstage.setHeight(scene.getRoot().minHeight(-1));\n</code></pre>\n<p>Any ideas? I'm willing to give more information if needed, I'm apparently not great at giving detailed enough answers so hopefully this was alright. Thanks!</p>\n<p>EDIT: Here's a reproducible example of my problem (at least on my device):\nTestMain.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestMain {\n    \n    public static void main(String[] args) {\n        Application.launch(TestApp.class);\n    }\n}\n</code></pre>\n<p>TestApp.class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestApp extends Application {\n        \n    GraphicsContext gc;\n    Stage stage;\n    Pane root;\n    Scene scene;\n    int width;\n    int height;\n    Canvas canvas;\n    \n    public TestApp() {}\n    \n    public void fillCanvas(Paint c) {\n        gc.setFill(c);\n        gc.fillRect(0, 0, 1280, 720);\n    }\n    \n    public void testLoop() {\n        new AnimationTimer() {\n            @Override\n            public void handle(long nanoTime) {\n                fillCanvas(new Color(0.3, 0.3, 0.3, 1));\n            }\n        }.start();\n    }\n\n    @Override\n    public void start(Stage arg0) throws Exception {\n        Stage stage = new Stage();\n        Pane root = new Pane();\n        Scene scene = new Scene(root);\n        \n        int width = 1280;\n        int height = 720;\n        \n        Canvas canvas = new Canvas(width, height);\n        gc = canvas.getGraphicsContext2D();\n        \n        stage.setScene(scene);\n        \n        root.getChildren().add(canvas);\n        stage.show();\n        testLoop();\n    }\n}\n</code></pre>\n<p>If anything else is needed please let me know!</p>\n"},{"tags":["java","methods","static","static-methods","terminology"],"comments":[{"owner":{"account_id":3039548,"reputation":14565,"user_id":2576903,"accept_rate":90,"display_name":"Kaloyan Roussev"},"score":2,"creation_date":1432314175,"post_id":30402169,"comment_id":48892018,"body_markdown":"I always thought it was function in php and method in Java. Basically the same thing with different names","body":"I always thought it was function in php and method in Java. Basically the same thing with different names"},{"owner":{"account_id":2095246,"reputation":43828,"user_id":1864167,"accept_rate":90,"display_name":"Jeroen Vannevel"},"score":20,"creation_date":1432314190,"post_id":30402169,"comment_id":48892022,"body_markdown":"There&#39;s a difference between theoretical computer science and how a language applies it. The JLS makes no distinction and calls it a method.","body":"There&#39;s a difference between theoretical computer science and how a language applies it. The JLS makes no distinction and calls it a method."},{"owner":{"account_id":3157727,"reputation":2306,"user_id":2669716,"accept_rate":97,"display_name":"Anirudh"},"score":3,"creation_date":1432314425,"post_id":30402169,"comment_id":48892130,"body_markdown":"http://stackoverflow.com/a/155655/2669716","body":"<a href=\"http://stackoverflow.com/a/155655/2669716\">stackoverflow.com/a/155655/2669716</a>"},{"owner":{"account_id":6224578,"reputation":437,"user_id":4843289,"display_name":"Vic"},"score":0,"creation_date":1432315101,"post_id":30402169,"comment_id":48892482,"body_markdown":"@JeroenVannevel is correct. On terminology: an **instance** of a class is an **Object** and it has instance methods. A class can have static methods and won&#39;t apply to any instances created from the class.","body":"@JeroenVannevel is correct. On terminology: an <b>instance</b> of a class is an <b>Object</b> and it has instance methods. A class can have static methods and won&#39;t apply to any instances created from the class."},{"owner":{"account_id":22779,"reputation":129011,"user_id":56541,"accept_rate":81,"display_name":"David Z"},"score":2,"creation_date":1432322866,"post_id":30402169,"comment_id":48896646,"body_markdown":"It might be of interest to look at the definitions of &quot;function&quot; and &quot;method&quot; in Python, where there _is_ a difference: basically, a function is a chunk of code with a symbol table and a calling convention, whereas a method is what you get when you put a function into a class. The difference is quite subtle though, even to people who know Python.","body":"It might be of interest to look at the definitions of &quot;function&quot; and &quot;method&quot; in Python, where there <i>is</i> a difference: basically, a function is a chunk of code with a symbol table and a calling convention, whereas a method is what you get when you put a function into a class. The difference is quite subtle though, even to people who know Python."},{"owner":{"display_name":"user3079266"},"score":0,"creation_date":1432323658,"post_id":30402169,"comment_id":48897086,"body_markdown":"I&#39;d take the opportunity to explain how confusing it can be when authors of a programming language start playing with terminology, because *static methods* are exactly the same as *functions*.","body":"I&#39;d take the opportunity to explain how confusing it can be when authors of a programming language start playing with terminology, because <i>static methods</i> are exactly the same as <i>functions</i>."},{"owner":{"account_id":141726,"reputation":10755,"user_id":348975,"accept_rate":86,"display_name":"emory"},"score":2,"creation_date":1432341074,"post_id":30402169,"comment_id":48902825,"body_markdown":"When I was learning theory, I learned function returns a value and procedure does not.  Then I learned java calls functions and procedures methods.  Now I am trying functional programmjng and a function is idempotent.  The terms change meaning on context.","body":"When I was learning theory, I learned function returns a value and procedure does not.  Then I learned java calls functions and procedures methods.  Now I am trying functional programmjng and a function is idempotent.  The terms change meaning on context."},{"owner":{"account_id":1613587,"reputation":752178,"user_id":1491895,"accept_rate":69,"display_name":"Barmar"},"score":0,"creation_date":1432670192,"post_id":30402169,"comment_id":49015906,"body_markdown":"The difference between a static method and a function in most OO languages is that a method is allowed to access private variables and methods of the class.","body":"The difference between a static method and a function in most OO languages is that a method is allowed to access private variables and methods of the class."},{"owner":{"account_id":931267,"reputation":220130,"user_id":961113,"display_name":"Habib"},"score":0,"creation_date":1432677550,"post_id":30402169,"comment_id":49019796,"body_markdown":"@Radiodef, how come this is not a duplicate of the linked question ? http://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function","body":"@Radiodef, how come this is not a duplicate of the linked question ? <a href=\"http://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function\" title=\"difference between a method and a function\">stackoverflow.com/questions/155609/&hellip;</a>"},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1432678065,"post_id":30402169,"comment_id":49020006,"body_markdown":"@Habib I&#39;m inclined to turn that around and ask how it is a duplicate. This question references the definitions from the answers in that question and asks (in so many words) why Java doesn&#39;t appear to follow them. It&#39;s not clear to me how that is addressed by the referenced Q&amp;A.","body":"@Habib I&#39;m inclined to turn that around and ask how it is a duplicate. This question references the definitions from the answers in that question and asks (in so many words) why Java doesn&#39;t appear to follow them. It&#39;s not clear to me how that is addressed by the referenced Q&amp;A."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":0,"creation_date":1432730117,"post_id":30402169,"comment_id":49043774,"body_markdown":"Terminology is language-specific. Java has a lot of terminology that may or may not have usage in the context of other languages. There is no universal terminology. It is just like a language&#39;s syntax.","body":"Terminology is language-specific. Java has a lot of terminology that may or may not have usage in the context of other languages. There is no universal terminology. It is just like a language&#39;s syntax."}],"answers":[{"comments":[{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":3,"creation_date":1432363729,"post_id":30402328,"comment_id":48906634,"body_markdown":"That&#39;s right. Until and including Java 7 you won&#39;t even find the word &quot;function&quot; in the [Language Specification](https://docs.oracle.com/javase/specs/jls/se7/html/index.html)","body":"That&#39;s right. Until and including Java 7 you won&#39;t even find the word &quot;function&quot; in the <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/index.html\" rel=\"nofollow noreferrer\">Language Specification</a>"},{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":4,"creation_date":1432383351,"post_id":30402328,"comment_id":48911308,"body_markdown":"As much as I like the simplicity of this answer, I think Radiodef&#39;s answer is more on track because it mentions the key point that the class itself acts as an object. Thank you though.","body":"As much as I like the simplicity of this answer, I think Radiodef&#39;s answer is more on track because it mentions the key point that the class itself acts as an object. Thank you though."},{"owner":{"account_id":353892,"reputation":37745,"user_id":691884,"display_name":"Random832"},"score":2,"creation_date":1432388244,"post_id":30402328,"comment_id":48912814,"body_markdown":"Interestingly, this is paralleled by earlier languages&#39; decisions not to differentiate between functions and subroutines.","body":"Interestingly, this is paralleled by earlier languages&#39; decisions not to differentiate between functions and subroutines."},{"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"score":4,"creation_date":1432410388,"post_id":30402328,"comment_id":48919759,"body_markdown":"I&#39;m unpleasantly surprised that this answer got so many upvotes. Firstly, this answer pretends that class methods don&#39;t exist. Secondly, this is hardly a concept introduced in Java. Class methods already existed in Smalltalk, for example, which was there for decades before Java became a thing.","body":"I&#39;m unpleasantly surprised that this answer got so many upvotes. Firstly, this answer pretends that class methods don&#39;t exist. Secondly, this is hardly a concept introduced in Java. Class methods already existed in Smalltalk, for example, which was there for decades before Java became a thing."},{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":1,"creation_date":1432482327,"post_id":30402328,"comment_id":48935879,"body_markdown":"@Malcolm I have to agree with you. After considering the other answers, this seems wrong. It&#39;s not apathy on the Java creator&#39;s part, unless they truly didn&#39;t care but ended up naming it correctly regardless.","body":"@Malcolm I have to agree with you. After considering the other answers, this seems wrong. It&#39;s not apathy on the Java creator&#39;s part, unless they truly didn&#39;t care but ended up naming it correctly regardless."},{"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"score":1,"creation_date":1432675307,"post_id":30402328,"comment_id":49018851,"body_markdown":"By &quot;class methods&quot; @Malcolm, do you mean Java&#39;s static methods?  The point that BitcoinM is making is that in the Java language we don&#39;t use the word &quot;function&quot; for instance or static methods.   This is implied in Radiodef&#39;s answer as well.  We can talk about OOP theory but programmers don&#39;t make that distinction and the Java language specs don&#39;t as well.","body":"By &quot;class methods&quot; @Malcolm, do you mean Java&#39;s static methods?  The point that BitcoinM is making is that in the Java language we don&#39;t use the word &quot;function&quot; for instance or static methods.   This is implied in Radiodef&#39;s answer as well.  We can talk about OOP theory but programmers don&#39;t make that distinction and the Java language specs don&#39;t as well."},{"owner":{"account_id":19463,"reputation":41164,"user_id":45668,"accept_rate":88,"display_name":"Malcolm"},"score":1,"creation_date":1432676798,"post_id":30402328,"comment_id":49019497,"body_markdown":"@Gray Once again, quoting JLS: _&quot;A method that is declared static is called a class method.&quot;_ I don&#39;t know, to be honest, how to tie your comment to the actual contents of the answer. I see a completely different point in there, like Java creators invented some wrong terminology when it is in fact (a) entirely correct and (b) had existed before Java. And as for the distinction, it&#39;s pretty clear to me that if all the functions in Java are methods, it makes more sense to call them methods.","body":"@Gray Once again, quoting JLS: <i>&quot;A method that is declared static is called a class method.&quot;</i> I don&#39;t know, to be honest, how to tie your comment to the actual contents of the answer. I see a completely different point in there, like Java creators invented some wrong terminology when it is in fact (a) entirely correct and (b) had existed before Java. And as for the distinction, it&#39;s pretty clear to me that if all the functions in Java are methods, it makes more sense to call them methods."}],"tags":[],"owner":{"account_id":4904091,"reputation":1206,"user_id":3951318,"display_name":"Bitcoin M"},"comment_count":7,"down_vote_count":3,"up_vote_count":85,"is_accepted":false,"score":82,"last_activity_date":1432314574,"creation_date":1432314574,"answer_id":30402328,"question_id":30402169,"body_markdown":"The simple answer is that when Java decided to call everything a &quot;method&quot;, they didn&#39;t care about the distinction between a function and a method in theoretical computer science.\r\n","title":"Why is a static method considered a method?","body":"<p>The simple answer is that when Java decided to call everything a \"method\", they didn't care about the distinction between a function and a method in theoretical computer science.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1432314623,"creation_date":1432314623,"answer_id":30402345,"question_id":30402169,"body_markdown":"In computer science **function** clearly maps to a static method. But &quot;method&quot; of a class is a bit generic, like &quot;member&quot; (field member, method member). There are wordings like\r\n\r\n&gt; Data members and method members have two separate name spaces: .x and .x() can coexist.\r\n\r\nSo the reason is, that as the philosoph Ludwig Wittgenstein said, Language is a tool with different contexts. &quot;Method&quot; is a nice moniker in the citation above to categorize a &quot;member&quot;.","title":"Why is a static method considered a method?","body":"<p>In computer science <strong>function</strong> clearly maps to a static method. But \"method\" of a class is a bit generic, like \"member\" (field member, method member). There are wordings like</p>\n\n<blockquote>\n  <p>Data members and method members have two separate name spaces: .x and .x() can coexist.</p>\n</blockquote>\n\n<p>So the reason is, that as the philosoph Ludwig Wittgenstein said, Language is a tool with different contexts. \"Method\" is a nice moniker in the citation above to categorize a \"member\".</p>\n"},{"comments":[{"owner":{"account_id":178394,"reputation":2540,"user_id":410342,"display_name":"Shotgun Ninja"},"score":0,"creation_date":1432315055,"post_id":30402356,"comment_id":48892455,"body_markdown":"That being said, while &quot;function&quot; is technically correct as a unit of execution in Java, the preferred nomenclature throughout pretty much all of Java is &quot;method&quot;, since all Java functions are part of a class or interface (excluding lambdas, and maybe some other things I&#39;m not aware of).","body":"That being said, while &quot;function&quot; is technically correct as a unit of execution in Java, the preferred nomenclature throughout pretty much all of Java is &quot;method&quot;, since all Java functions are part of a class or interface (excluding lambdas, and maybe some other things I&#39;m not aware of)."},{"owner":{"account_id":225067,"reputation":29525,"user_id":485337,"accept_rate":91,"display_name":"Adam Arold"},"score":1,"creation_date":1432334833,"post_id":30402356,"comment_id":48901513,"body_markdown":"Lambdas are actually anonymous inner classes with the `@FunctionalInterface` annotation and with 1 method under the hood. A lambda is just syntactic sugar and in that regard there is nothing new.","body":"Lambdas are actually anonymous inner classes with the <code>@FunctionalInterface</code> annotation and with 1 method under the hood. A lambda is just syntactic sugar and in that regard there is nothing new."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":1,"creation_date":1432341234,"post_id":30402356,"comment_id":48902860,"body_markdown":"@AdamArold Lambdas are quite a bit fancier than an anonymous inner class. For example, non-capturing lambdas can share an instance across multiple evaluations of a particular expression. (But you are right they ultimately get compiled to static and instance methods.)","body":"@AdamArold Lambdas are quite a bit fancier than an anonymous inner class. For example, non-capturing lambdas can share an instance across multiple evaluations of a particular expression. (But you are right they ultimately get compiled to static and instance methods.)"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1432379783,"post_id":30402356,"comment_id":48910388,"body_markdown":"@Radiodef Maybe a better way to phrase it would be &quot;All lambda expressions can be replaced with equivalent non-lambda expressions, without making any changes to files other than the one containing the lambda expression&quot; or something like that.","body":"@Radiodef Maybe a better way to phrase it would be &quot;All lambda expressions can be replaced with equivalent non-lambda expressions, without making any changes to files other than the one containing the lambda expression&quot; or something like that."},{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":4,"creation_date":1432383447,"post_id":30402356,"comment_id":48911336,"body_markdown":"I&#39;m embarrassed. I&#39;m coming from Scala and still managed to miss the fact that the class itself is object-like. Thank you.","body":"I&#39;m embarrassed. I&#39;m coming from Scala and still managed to miss the fact that the class itself is object-like. Thank you."},{"owner":{"account_id":476140,"reputation":35789,"user_id":886887,"accept_rate":94,"display_name":"Harry Johnston"},"score":0,"creation_date":1432441241,"post_id":30402356,"comment_id":48925876,"body_markdown":"Also, IIRC, a class method, if passed an instance of the class as an argument, can access the private members.  (As well as any static private members.)","body":"Also, IIRC, a class method, if passed an instance of the class as an argument, can access the private members.  (As well as any static private members.)"}],"tags":[],"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"comment_count":6,"down_vote_count":0,"up_vote_count":129,"is_accepted":true,"score":129,"last_activity_date":1432314658,"creation_date":1432314658,"answer_id":30402356,"question_id":30402169,"body_markdown":"This quote from [8.4.3.2](http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.3.2) may help:\n\n&gt;A method that is declared `static` is called a *class method*.\n&gt;\n&gt;A method that is not declared `static` is called an *instance method* [...].\n\n- Class methods: associated with a class.\n- Instance methods: associated with an instance.\n\nJava just wants you to &quot;think object-oriented&quot;. Also, static methods have access to a surrounding scope which may include state. In a way, the class is like an object itself.","title":"Why is a static method considered a method?","body":"<p>This quote from <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-8.html#jls-8.4.3.2\" rel=\"noreferrer\">8.4.3.2</a> may help:</p>\n<blockquote>\n<p>A method that is declared <code>static</code> is called a <em>class method</em>.</p>\n<p>A method that is not declared <code>static</code> is called an <em>instance method</em> [...].</p>\n</blockquote>\n<ul>\n<li>Class methods: associated with a class.</li>\n<li>Instance methods: associated with an instance.</li>\n</ul>\n<p>Java just wants you to &quot;think object-oriented&quot;. Also, static methods have access to a surrounding scope which may include state. In a way, the class is like an object itself.</p>\n"},{"comments":[{"owner":{"account_id":353892,"reputation":37745,"user_id":691884,"display_name":"Random832"},"score":0,"creation_date":1432322336,"post_id":30402498,"comment_id":48896377,"body_markdown":"Is it possible to have two instances of this subclass?","body":"Is it possible to have two instances of this subclass?"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1432327294,"post_id":30402498,"comment_id":48898747,"body_markdown":"Of course, you can load a class in different classloaders (the reason of getting ClassCastExceptions with the message &quot;cannot cast CustomClass to CustomClass&quot;).","body":"Of course, you can load a class in different classloaders (the reason of getting ClassCastExceptions with the message &quot;cannot cast CustomClass to CustomClass&quot;)."},{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":2,"creation_date":1432334105,"post_id":30402498,"comment_id":48901278,"body_markdown":"@Random832 -- sort of.  You can have two (or more) instances of the same Class subclass in the same JVM, as long as each instance has its own separate classloader.  You cannot instantiate the same Class subclass more than once per classloader.  It gets a little confusing and analogies to classic OO concepts start to get stretched a bit thin at this point.","body":"@Random832 -- sort of.  You can have two (or more) instances of the same Class subclass in the same JVM, as long as each instance has its own separate classloader.  You cannot instantiate the same Class subclass more than once per classloader.  It gets a little confusing and analogies to classic OO concepts start to get stretched a bit thin at this point."},{"owner":{"account_id":353892,"reputation":37745,"user_id":691884,"display_name":"Random832"},"score":0,"creation_date":1432334199,"post_id":30402498,"comment_id":48901319,"body_markdown":"@MikeClark if I do that, are they _really_ the same? Like, will the Class subclass be the same class even if the class itself is a different instance of it? Classloaders are pretty confusing to me. Could I call (without reflection) a static method of one classloader&#39;s instance of a class from another classloader&#39;s instance of the same class, by having a reference to it passed in? What if they have different methods?","body":"@MikeClark if I do that, are they <i>really</i> the same? Like, will the Class subclass be the same class even if the class itself is a different instance of it? Classloaders are pretty confusing to me. Could I call (without reflection) a static method of one classloader&#39;s instance of a class from another classloader&#39;s instance of the same class, by having a reference to it passed in? What if they have different methods?"},{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":1,"creation_date":1432334446,"post_id":30402498,"comment_id":48901384,"body_markdown":"@Random832 &quot;Sort of?&quot;  From a purely OO theory point of view, are any two instances of a class ever *really* exactly the same?  At the very least two otherwise identical instances of the same class will have different addresses.  Otherwise, how can we have two of a thing?  The only thing that is *exactly* the same as something, is the thing itself.","body":"@Random832 &quot;Sort of?&quot;  From a purely OO theory point of view, are any two instances of a class ever <i>really</i> exactly the same?  At the very least two otherwise identical instances of the same class will have different addresses.  Otherwise, how can we have two of a thing?  The only thing that is <i>exactly</i> the same as something, is the thing itself."},{"owner":{"account_id":353892,"reputation":37745,"user_id":691884,"display_name":"Random832"},"score":0,"creation_date":1432334522,"post_id":30402498,"comment_id":48901405,"body_markdown":"By &quot;really the same&quot; I mean the class _of_ the class (i.e. the class-subclass itself) being `==`-equal, being able to pass either one to a parameter of type Class&lt;TheClass&gt;, etc.","body":"By &quot;really the same&quot; I mean the class <i>of</i> the class (i.e. the class-subclass itself) being <code>==</code>-equal, being able to pass either one to a parameter of type Class&lt;TheClass&gt;, etc."},{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":0,"creation_date":1432334565,"post_id":30402498,"comment_id":48901417,"body_markdown":"In that sense they are definitely not the same.  The JVM will not let you cast com.foo.Bar (from classloader A) to com.foo.Bar (from classloader B), and they will not be considered `==` equal.  Re: generics: I&#39;m not quite sure.  Generic checks are done at compile-time, so I&#39;m not sure you&#39;d find out you have a problem until runtime.","body":"In that sense they are definitely not the same.  The JVM will not let you cast com.foo.Bar (from classloader A) to com.foo.Bar (from classloader B), and they will not be considered <code>==</code> equal.  Re: generics: I&#39;m not quite sure.  Generic checks are done at compile-time, so I&#39;m not sure you&#39;d find out you have a problem until runtime."},{"owner":{"account_id":353892,"reputation":37745,"user_id":691884,"display_name":"Random832"},"score":0,"creation_date":1432338207,"post_id":30402498,"comment_id":48902242,"body_markdown":"I&#39;m talking about whether the class _of_ [A]com.foo.Bar.class is the same as the class of [B]com.foo.Bar.class - i.e. whether they are both separate instances of a single hypothetical &quot;ClassComFooBar extends Class&quot;, or whether there are also two separate ClassComFooBar&#39;s for each loader&#39;s com.foo.Bar.class to be instances of. That is, will com.foo.Bar.class.getClass() return A) two separate values, per loader B) one value shared only by com.foo.Bar classes or C) java.lang.Class.class?","body":"I&#39;m talking about whether the class <i>of</i> [A]com.foo.Bar.class is the same as the class of [B]com.foo.Bar.class - i.e. whether they are both separate instances of a single hypothetical &quot;ClassComFooBar extends Class&quot;, or whether there are also two separate ClassComFooBar&#39;s for each loader&#39;s com.foo.Bar.class to be instances of. That is, will com.foo.Bar.class.getClass() return A) two separate values, per loader B) one value shared only by com.foo.Bar classes or C) java.lang.Class.class?"},{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":0,"creation_date":1432666406,"post_id":30402498,"comment_id":49013731,"body_markdown":"@Random832  [A]com.foo.Bar.class and [B]com.foo.Bar.class are not instances of some a singleton &quot;ClassComFooBar extends Class&quot; inside the JVM.  There will be [A]&quot;ClassComFooBar extends Class&quot; and [B]&quot;ClassComFooBar extends Class&quot;, respectively. The two classes could contain 99% different bytecode from each other (they might only have a name in common).  On the other hand, the two classes can (and very often do) have identical bytecode, loaded from the same source.  In which case [A]Bar and [B]Bar are conceptually identical, but still treated as entirely unrelated by the JVM.","body":"@Random832  [A]com.foo.Bar.class and [B]com.foo.Bar.class are not instances of some a singleton &quot;ClassComFooBar extends Class&quot; inside the JVM.  There will be [A]&quot;ClassComFooBar extends Class&quot; and [B]&quot;ClassComFooBar extends Class&quot;, respectively. The two classes could contain 99% different bytecode from each other (they might only have a name in common).  On the other hand, the two classes can (and very often do) have identical bytecode, loaded from the same source.  In which case [A]Bar and [B]Bar are conceptually identical, but still treated as entirely unrelated by the JVM."},{"owner":{"account_id":353892,"reputation":37745,"user_id":691884,"display_name":"Random832"},"score":0,"creation_date":1432666481,"post_id":30402498,"comment_id":49013777,"body_markdown":"So then the answer to &quot;Is it possible to have two instances of this subclass?&quot; was &quot;no.&quot;","body":"So then the answer to &quot;Is it possible to have two instances of this subclass?&quot; was &quot;no.&quot;"},{"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"score":0,"creation_date":1432667180,"post_id":30402498,"comment_id":49014207,"body_markdown":"I agree with you that the answer is definitely &quot;no&quot; _in a certain [very real] context_.  Two contexts that are interesting to me are: conceptual classes (_roughly_, at the UML level) vs. &quot;physical&quot; classes (_roughly_, at the JVM level).  To me, if [A]Bar and [B]Bar have identical bytecode that is loaded from the same resource, they are conceptually two instances of the same class. The JVM physically separates [A]Bar and [B]Bar, and treats them as unrelated, but that does not mean they are unrelated (or even unidentical) in all possible ways of thinking about the structure of the system.","body":"I agree with you that the answer is definitely &quot;no&quot; <i>in a certain [very real] context</i>.  Two contexts that are interesting to me are: conceptual classes (<i>roughly</i>, at the UML level) vs. &quot;physical&quot; classes (<i>roughly</i>, at the JVM level).  To me, if [A]Bar and [B]Bar have identical bytecode that is loaded from the same resource, they are conceptually two instances of the same class. The JVM physically separates [A]Bar and [B]Bar, and treats them as unrelated, but that does not mean they are unrelated (or even unidentical) in all possible ways of thinking about the structure of the system."}],"tags":[],"owner":{"account_id":120154,"reputation":10077,"user_id":312407,"accept_rate":100,"display_name":"Mike Clark"},"comment_count":11,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1453790057,"creation_date":1432315263,"answer_id":30402498,"question_id":30402169,"body_markdown":"In Java, a user-defined class is actually an instance of a subclass of java.lang.Class.  \r\n\r\nIn this sense, static methods *are* attached to an instance of a conceptual class: they are attached to an instance of a subclass of java.lang.Class.\r\n\r\nWith this in mind, the term &quot;class method&quot; (an alternate name for Java&#39;s static methods) begins to make sense.  And the term &quot;class method&quot; can be found in many places:  Objective C, Smalltalk, and the JLS -- to name just a few.\r\n","title":"Why is a static method considered a method?","body":"<p>In Java, a user-defined class is actually an instance of a subclass of java.lang.Class.  </p>\n\n<p>In this sense, static methods <em>are</em> attached to an instance of a conceptual class: they are attached to an instance of a subclass of java.lang.Class.</p>\n\n<p>With this in mind, the term \"class method\" (an alternate name for Java's static methods) begins to make sense.  And the term \"class method\" can be found in many places:  Objective C, Smalltalk, and the JLS -- to name just a few.</p>\n"},{"comments":[{"owner":{"account_id":1462865,"reputation":5467,"user_id":1376657,"accept_rate":100,"display_name":"Nadir Sampaoli"},"score":2,"creation_date":1432383867,"post_id":30405846,"comment_id":48911449,"body_markdown":"I kind of like this answer, but would like to better understand some things. Isn&#39;t this more a &quot;pure&quot; vs &quot;side-effectful&quot; function, rather than function vs method? Or is it that a method is such because of side effects? I&#39;m just brainstorming here.","body":"I kind of like this answer, but would like to better understand some things. Isn&#39;t this more a &quot;pure&quot; vs &quot;side-effectful&quot; function, rather than function vs method? Or is it that a method is such because of side effects? I&#39;m just brainstorming here."},{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":2,"creation_date":1432499482,"post_id":30405846,"comment_id":48940900,"body_markdown":"This answer is right. However, one could argue that functions in many (most?) languages can access global variables, so they are often not strictly stateless (same input, same output). And in the case of Java static methods, to access class variables could be considered equivalent to access &quot;global&quot; (i.e. not local to a function/method) variables - with the class instance being sort of a namespace.","body":"This answer is right. However, one could argue that functions in many (most?) languages can access global variables, so they are often not strictly stateless (same input, same output). And in the case of Java static methods, to access class variables could be considered equivalent to access &quot;global&quot; (i.e. not local to a function/method) variables - with the class instance being sort of a namespace."},{"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"score":2,"creation_date":1432500158,"post_id":30405846,"comment_id":48941099,"body_markdown":"@leonbloy Pure [Functional programming languages](https://en.wikipedia.org/wiki/Functional_programming) like Haskell  are completely stateless; there&#39;s nothing which can be called a global variable.","body":"@leonbloy Pure <a href=\"https://en.wikipedia.org/wiki/Functional_programming\" rel=\"nofollow noreferrer\">Functional programming languages</a> like Haskell  are completely stateless; there&#39;s nothing which can be called a global variable."}],"tags":[],"owner":{"account_id":79198,"reputation":4144,"user_id":224774,"accept_rate":90,"display_name":"Thorsten S."},"comment_count":3,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1432500567,"creation_date":1432328672,"answer_id":30405846,"question_id":30402169,"body_markdown":"Static methods are not exactly functions, the difference is subtle, but important.\r\n\r\nA static method using only given input parameters *is* essentially a function.\r\n\r\nBut static methods may access static variables and other static functions (also using static variables) so static methods may have a *state* which is fundamentally different to a function which are by definition *stateless*.\r\n(ADDENDUM: While programmers are often not so strict with using &quot;function&quot; as definition, a strict function in computer science can access only input parameters). So defining this case of accessing static fields it is not valid to say that static methods are always functions.\r\n\r\nAnother difference which justifies the usage of &quot;static method&quot; is that you can define in C derivates global functions and global variables which can be accessed everywhere. If you cannot access the class which contain static methods, the methods are inaccessible, too. So &quot;static methods&quot; are limited in their scope by design in contrast to global functions.","title":"Why is a static method considered a method?","body":"<p>Static methods are not exactly functions, the difference is subtle, but important.</p>\n\n<p>A static method using only given input parameters <em>is</em> essentially a function.</p>\n\n<p>But static methods may access static variables and other static functions (also using static variables) so static methods may have a <em>state</em> which is fundamentally different to a function which are by definition <em>stateless</em>.\n(ADDENDUM: While programmers are often not so strict with using \"function\" as definition, a strict function in computer science can access only input parameters). So defining this case of accessing static fields it is not valid to say that static methods are always functions.</p>\n\n<p>Another difference which justifies the usage of \"static method\" is that you can define in C derivates global functions and global variables which can be accessed everywhere. If you cannot access the class which contain static methods, the methods are inaccessible, too. So \"static methods\" are limited in their scope by design in contrast to global functions.</p>\n"},{"comments":[{"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"score":0,"creation_date":1432383514,"post_id":30407597,"comment_id":48911359,"body_markdown":"Great comparison. I know Scala, so your `object` reference makes a lot of sense. Thank you.","body":"Great comparison. I know Scala, so your <code>object</code> reference makes a lot of sense. Thank you."}],"tags":[],"owner":{"account_id":3648299,"reputation":2129,"user_id":3041008,"accept_rate":86,"display_name":"mucaho"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1432376940,"creation_date":1432340322,"answer_id":30407597,"question_id":30402169,"body_markdown":"Here is another take on the terminology, using [Scala][1] as a mnemonic:   \r\nIn Scala you have `object`s, which are singleton instances of an implicitly defined class [[1]](https://stackoverflow.com/a/1755521/3041008).\r\n\r\nPer your definition, we can call these subroutines belonging to the `object` **methods**, as they operate on a single instance of the class.   \r\nAdditionally the object _will also define class A, and create all of the methods in object A as static methods on class A (for interfacing with Java)_ [[2]](https://stackoverflow.com/questions/1755345/difference-between-object-and-class-in-scala#comment1665301_1755521).\r\n\r\nTherefore we can say that the static methods of Java class A access the same members as the Scala singleton instance, which per your definition then deserve to be called (static) **methods** of class A.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Scala_%28programming_language%29\r\n","title":"Why is a static method considered a method?","body":"<p>Here is another take on the terminology, using <a href=\"http://en.wikipedia.org/wiki/Scala_%28programming_language%29\" rel=\"nofollow noreferrer\">Scala</a> as a mnemonic:<br>\nIn Scala you have <code>object</code>s, which are singleton instances of an implicitly defined class <a href=\"https://stackoverflow.com/a/1755521/3041008\"><a href=\"http://en.wikipedia.org/wiki/Scala_%28programming_language%29\" rel=\"nofollow noreferrer\">1</a></a>.</p>\n\n<p>Per your definition, we can call these subroutines belonging to the <code>object</code> <strong>methods</strong>, as they operate on a single instance of the class.<br>\nAdditionally the object <em>will also define class A, and create all of the methods in object A as static methods on class A (for interfacing with Java)</em> <a href=\"https://stackoverflow.com/questions/1755345/difference-between-object-and-class-in-scala#comment1665301_1755521\">[2]</a>.</p>\n\n<p>Therefore we can say that the static methods of Java class A access the same members as the Scala singleton instance, which per your definition then deserve to be called (static) <strong>methods</strong> of class A.</p>\n"},{"tags":[],"owner":{"account_id":1707399,"reputation":10960,"user_id":1566187,"accept_rate":85,"display_name":"Ely"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1432436820,"creation_date":1432436820,"answer_id":30419685,"question_id":30402169,"body_markdown":"Your thinking is right and it makes sense. It&#39;s just not established terminology in the Java community. Let me explain some internals that can help understand why the terminology subsists.\r\n\r\nJava is a class based object oriented language. A method is always member of a class or instance (This is a general statement valid for other programming languages too). We think of class and instance being both objects.\r\n\r\nInstance method (dynamic)\r\n-------------------------\r\n\r\nYou cannot invoke this method from a class directly, you have to create an instance. Each instance references that method. You can overwrite a method definition with the exact same method signature (when subclassing), i.e. the reference points to a different method (which has the same signature, but can have a different method body). The method is dynamic.\r\n\r\nClass method (static)\r\n---------------------\r\n\r\nYou only can invoke this method from the class directly, i.e. you don&#39;t need to create an instance of that class. There is only one global definition of that method in the whole program. You cannot overwrite the exact same method signature when the method is declared static, because there is only one definition valid for the whole program. Note that the method is member of the class object itself, the instances have all the same unique (and fix) reference to that method.","title":"Why is a static method considered a method?","body":"<p>Your thinking is right and it makes sense. It's just not established terminology in the Java community. Let me explain some internals that can help understand why the terminology subsists.</p>\n\n<p>Java is a class based object oriented language. A method is always member of a class or instance (This is a general statement valid for other programming languages too). We think of class and instance being both objects.</p>\n\n<h2>Instance method (dynamic)</h2>\n\n<p>You cannot invoke this method from a class directly, you have to create an instance. Each instance references that method. You can overwrite a method definition with the exact same method signature (when subclassing), i.e. the reference points to a different method (which has the same signature, but can have a different method body). The method is dynamic.</p>\n\n<h2>Class method (static)</h2>\n\n<p>You only can invoke this method from the class directly, i.e. you don't need to create an instance of that class. There is only one global definition of that method in the whole program. You cannot overwrite the exact same method signature when the method is declared static, because there is only one definition valid for the whole program. Note that the method is member of the class object itself, the instances have all the same unique (and fix) reference to that method.</p>\n"},{"tags":[],"owner":{"account_id":5418740,"reputation":137,"user_id":4313132,"display_name":"Павел Бивойно"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432738794,"creation_date":1432738794,"answer_id":30486215,"question_id":30402169,"body_markdown":"Of course, the main difference is - method can use static fields, not only method parameters.\r\nBut there is additional one - polymorphism! \r\nResults of evaluation Class A.doTheSameStaticMethod() and ClassB.doTheSameStaticMehod() will be depends of class. In this case function is impotent.","title":"Why is a static method considered a method?","body":"<p>Of course, the main difference is - method can use static fields, not only method parameters.\nBut there is additional one - polymorphism! \nResults of evaluation Class A.doTheSameStaticMethod() and ClassB.doTheSameStaticMehod() will be depends of class. In this case function is impotent.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432827651,"creation_date":1432827651,"answer_id":30511194,"question_id":30402169,"body_markdown":"Each class has an object to represent it that is an instance of a subclass of the `Class` class. Static methods are really instance methods on these objects that are instances of a subclass of Class. They have access to state in the form of static fields, so they are not restricted to being just (stateless) functions. They are methods.\r\n\r\n","title":"Why is a static method considered a method?","body":"<p>Each class has an object to represent it that is an instance of a subclass of the <code>Class</code> class. Static methods are really instance methods on these objects that are instances of a subclass of Class. They have access to state in the form of static fields, so they are not restricted to being just (stateless) functions. They are methods.</p>\n"}],"owner":{"account_id":3595277,"reputation":44036,"user_id":3000206,"accept_rate":98,"display_name":"Carcigenicate"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9360,"favorite_count":0,"down_vote_count":3,"up_vote_count":148,"accepted_answer_id":30402356,"answer_count":9,"score":145,"last_activity_date":1687039169,"creation_date":1432314023,"question_id":30402169,"body_markdown":"I&#39;m writing an explanation for some code for a course, and have been accidentally using the words `method` and `function` interchangeably. I decided to go back over and fix the wording, but ran into a hole in my understanding.\r\n\r\nFrom what I understand, a subroutine is a `function` if it doesn&#39;t act on an instance of a class (its effect is restricted to its explicit input/output), and is a `method` if it operates on an instance of a class (it may carry out side effects on the instance that make it impure).\r\n\r\nThere&#39;s a [good discussion here][1] on the topic. Note that by the accepted answer&#39;s definitions, a static `method` should actually be a function because an instance is never implicitly passed, and it doesn&#39;t have access to any instance&#39;s members.\r\n\r\nWith this in mind though, shouldn&#39;t static `methods` actually be functions?\r\n\r\nBy their definition they don&#39;t act on particular instances of a class; they&#39;re only &quot;tied&quot; to the class because of relation. I&#39;ve seen a few good looking sites that refer to static subroutines as &quot;methods&quot; though ([Oracle][2], [Fredosaurus][3], [ProgrammingSimplified][4]), so either they&#39;re all overlooking the terminology, or I&#39;m missing something (my guess is the latter).\r\n\r\nI&#39;d like to make sure I am using the correct wording.   \r\n***Can anybody clear this up?***\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\r\n  [3]: http://www.fredosaurus.com/notes-java/flow/methods/50static-methods.html\r\n  [4]: http://www.programmingsimplified.com/java/source-code/java-static-method-program","title":"Why is a static method considered a method?","body":"<p>I'm writing an explanation for some code for a course, and have been accidentally using the words <code>method</code> and <code>function</code> interchangeably. I decided to go back over and fix the wording, but ran into a hole in my understanding.</p>\n<p>From what I understand, a subroutine is a <code>function</code> if it doesn't act on an instance of a class (its effect is restricted to its explicit input/output), and is a <code>method</code> if it operates on an instance of a class (it may carry out side effects on the instance that make it impure).</p>\n<p>There's a <a href=\"https://stackoverflow.com/questions/155609/difference-between-a-method-and-a-function\">good discussion here</a> on the topic. Note that by the accepted answer's definitions, a static <code>method</code> should actually be a function because an instance is never implicitly passed, and it doesn't have access to any instance's members.</p>\n<p>With this in mind though, shouldn't static <code>methods</code> actually be functions?</p>\n<p>By their definition they don't act on particular instances of a class; they're only &quot;tied&quot; to the class because of relation. I've seen a few good looking sites that refer to static subroutines as &quot;methods&quot; though (<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">Oracle</a>, <a href=\"http://www.fredosaurus.com/notes-java/flow/methods/50static-methods.html\" rel=\"nofollow noreferrer\">Fredosaurus</a>, <a href=\"http://www.programmingsimplified.com/java/source-code/java-static-method-program\" rel=\"nofollow noreferrer\">ProgrammingSimplified</a>), so either they're all overlooking the terminology, or I'm missing something (my guess is the latter).</p>\n<p>I'd like to make sure I am using the correct wording.<br />\n<em><strong>Can anybody clear this up?</strong></em></p>\n"},{"tags":["java","minecraft"],"owner":{"account_id":28841965,"reputation":11,"user_id":22089964,"display_name":"Kishiyami"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687038451,"creation_date":1687037993,"question_id":76498256,"body_markdown":"I am having an issue to get my toggle sprint to properly function, it will work, but the second I move backwards and try to move forward again it stops doing what it is intended to do, but don&#39;t want to get banned for using it as it is not intended to be used for hacks, I have this code: \r\n```\r\npackage me.Kishiyami.ecstasy.module.movement;\r\n\r\nimport org.lwjgl.input.Keyboard;\r\n\r\nimport me.Kishiyami.ecstasy.module.Category;\r\nimport me.Kishiyami.ecstasy.module.Module;\r\n\r\npublic class AutoSprint extends Module{\r\n\r\n\tpublic AutoSprint() {\r\n\t\tsuper(&quot;AutoSprint&quot;, Keyboard.KEY_K, Category.MOVEMENT);\r\n\t}\r\n\t\r\n\tpublic void onEnable() {\r\n\t\tif(this.isToggled()) {\r\n\t\t\tmc.thePlayer.setSprinting(true);\r\n\t\t\tsuper.onEnable();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void onDisable() {\r\n\t\tmc.thePlayer.setSprinting(false);\r\n\t\tsuper.onDisable();\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n So I was wondering if anybody else has had this issue before and if they know a better way to do this?\r\n\r\n I have tried to change some of the code to work with all movement keys, I expected it to stay sprinting after I press w again, but it does not continue the sprinting and goes back to walking.","title":"Toggle Sprint Not working correctly Minecraft 1.8.8 MCP","body":"<p>I am having an issue to get my toggle sprint to properly function, it will work, but the second I move backwards and try to move forward again it stops doing what it is intended to do, but don't want to get banned for using it as it is not intended to be used for hacks, I have this code:</p>\n<pre><code>package me.Kishiyami.ecstasy.module.movement;\n\nimport org.lwjgl.input.Keyboard;\n\nimport me.Kishiyami.ecstasy.module.Category;\nimport me.Kishiyami.ecstasy.module.Module;\n\npublic class AutoSprint extends Module{\n\n    public AutoSprint() {\n        super(&quot;AutoSprint&quot;, Keyboard.KEY_K, Category.MOVEMENT);\n    }\n    \n    public void onEnable() {\n        if(this.isToggled()) {\n            mc.thePlayer.setSprinting(true);\n            super.onEnable();\n        }\n    }\n    \n    public void onDisable() {\n        mc.thePlayer.setSprinting(false);\n        super.onDisable();\n    }\n    \n}\n\n</code></pre>\n<p>So I was wondering if anybody else has had this issue before and if they know a better way to do this?</p>\n<p>I have tried to change some of the code to work with all movement keys, I expected it to stay sprinting after I press w again, but it does not continue the sprinting and goes back to walking.</p>\n"},{"tags":["java","mastodon"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1687037081,"post_id":76498079,"comment_id":134881926,"body_markdown":"You don&#39;t write any bytes. The value of `&quot;file=&quot; + Files.readAllBytes(imageLocation)` is a fairly short String, not byte[]. Print it out and you&#39;ll see.","body":"You don&#39;t write any bytes. The value of <code>&quot;file=&quot; + Files.readAllBytes(imageLocation)</code> is a fairly short String, not byte[]. Print it out and you&#39;ll see."},{"owner":{"display_name":"user22089738"},"score":0,"creation_date":1687041911,"post_id":76498079,"comment_id":134882303,"body_markdown":"I see, how do I get it to return byte[]?","body":"I see, how do I get it to return byte[]?"},{"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"score":0,"creation_date":1687096399,"post_id":76498079,"comment_id":134886346,"body_markdown":"Please add the exception is throwing to add more context","body":"Please add the exception is throwing to add more context"}],"owner":{"display_name":"user22089738"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1687034621,"creation_date":1687034597,"question_id":76498079,"body_markdown":"I am attempting to upload an image to the [Mastodon API](https://docs.joinmastodon.org/methods/media/#form-data-parameters) and that requires me to make a form with &quot;file=(binary)&quot; \r\n\r\nThis Java code does not work as expected and returns &quot;500&quot; instead meaning the server cannot process the image. Am I doing something wrong here? Here&#39;s the relevant code snippet:\r\n\r\n```\r\n    public int uploadImage(Path imageLocation) throws MalformedURLException, IOException {\r\n        int imageID = 0;\r\n        try {\r\n            HttpURLConnection connection = (HttpsURLConnection) new URL(&quot;https&quot;, instanceURL, &quot;/api/v2/media&quot;).openConnection();\r\n            connection.setRequestMethod(&quot;POST&quot;);\r\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);\r\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\r\n            connection.setDoOutput(true);\r\n            DataOutputStream outputStream = new DataOutputStream(connection.getOutputStream());\r\n            outputStream.writeBytes(&quot;file=&quot; + Files.readAllBytes(imageLocation));\r\n            imageID = connection.getResponseCode();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return imageID;\r\n    }\r\n```\r\nI tried doing this in cURL to good success, but I&#39;m unsure why the Java code does not work.\r\n\r\n```\r\ncurl \\\r\n-X POST \\\r\n-H &quot;Authorization: Bearer [hidden]&quot; \\\r\n-H &quot;Content-Type: multipart/form-data&quot; \\\r\n--form &quot;file=@${FILE_LOC}&quot; \\\r\nhttps://mstdn.plus.st/api/v2/media\r\n``` \r\n\r\nCan anyone help me out here? Thanks.","title":"How to put a binary file inside POST form data paramaters in Java","body":"<p>I am attempting to upload an image to the <a href=\"https://docs.joinmastodon.org/methods/media/#form-data-parameters\" rel=\"nofollow noreferrer\">Mastodon API</a> and that requires me to make a form with &quot;file=(binary)&quot;</p>\n<p>This Java code does not work as expected and returns &quot;500&quot; instead meaning the server cannot process the image. Am I doing something wrong here? Here's the relevant code snippet:</p>\n<pre><code>    public int uploadImage(Path imageLocation) throws MalformedURLException, IOException {\n        int imageID = 0;\n        try {\n            HttpURLConnection connection = (HttpsURLConnection) new URL(&quot;https&quot;, instanceURL, &quot;/api/v2/media&quot;).openConnection();\n            connection.setRequestMethod(&quot;POST&quot;);\n            connection.setRequestProperty(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;);\n            connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken);\n            connection.setDoOutput(true);\n            DataOutputStream outputStream = new DataOutputStream(connection.getOutputStream());\n            outputStream.writeBytes(&quot;file=&quot; + Files.readAllBytes(imageLocation));\n            imageID = connection.getResponseCode();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return imageID;\n    }\n</code></pre>\n<p>I tried doing this in cURL to good success, but I'm unsure why the Java code does not work.</p>\n<pre><code>curl \\\n-X POST \\\n-H &quot;Authorization: Bearer [hidden]&quot; \\\n-H &quot;Content-Type: multipart/form-data&quot; \\\n--form &quot;file=@${FILE_LOC}&quot; \\\nhttps://mstdn.plus.st/api/v2/media\n</code></pre>\n<p>Can anyone help me out here? Thanks.</p>\n"},{"tags":["java","macos","performance","intellij-idea","downgrade"],"comments":[{"owner":{"account_id":1547313,"reputation":82164,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1687037183,"post_id":76497977,"comment_id":134881933,"body_markdown":"Do you have an external monitor attached? I have seen recent issues with several other Jetbrains products when I have a high def monitor plugged into my M2 Mackbook. Just wondering if there is a similar problem with x86 macs.","body":"Do you have an external monitor attached? I have seen recent issues with several other Jetbrains products when I have a high def monitor plugged into my M2 Mackbook. Just wondering if there is a similar problem with x86 macs."},{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1687157949,"post_id":76497977,"comment_id":134892138,"body_markdown":"Performance problems could be very specific depending on each case. I&#39;d recommend you contact JetBrains support at at https://intellij-support.jetbrains.com/hc/en-us/requests/new and provide diagnostic data as per https://intellij-support.jetbrains.com/hc/en-us/articles/207241235-Reporting-performance-problems","body":"Performance problems could be very specific depending on each case. I&#39;d recommend you contact JetBrains support at at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> and provide diagnostic data as per <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241235-Reporting-performance-problems\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a>"},{"owner":{"account_id":9115008,"reputation":81,"user_id":6782365,"display_name":"csujiabin"},"score":2,"creation_date":1690885113,"post_id":76497977,"comment_id":135412266,"body_markdown":"Same issue on my mac book pro 2019, I tried both Intellij IDEA 2023.1.4 and 2023.2.  When it run some tasks (e.g. building or indexing) my mac is very slow and I almost cannot do anything. But when I switch back to Intellij 2022.3.2, everything goes well.","body":"Same issue on my mac book pro 2019, I tried both Intellij IDEA 2023.1.4 and 2023.2.  When it run some tasks (e.g. building or indexing) my mac is very slow and I almost cannot do anything. But when I switch back to Intellij 2022.3.2, everything goes well."},{"owner":{"account_id":3337636,"reputation":107,"user_id":3183536,"display_name":"David Labbe"},"score":1,"creation_date":1694272714,"post_id":76497977,"comment_id":135871125,"body_markdown":"I update on this? I am having the same issues. Typing and everything else lags badly","body":"I update on this? I am having the same issues. Typing and everything else lags badly"},{"owner":{"account_id":163079,"reputation":7702,"user_id":384964,"accept_rate":73,"display_name":"oky_sabeni"},"score":0,"creation_date":1695168913,"post_id":76497977,"comment_id":135987261,"body_markdown":"I have the same issue as well. I did try contacting support at one time, but they were requesting so many information, and the conversation goes back and forth. It was too complex and took too long so I gave up and downgrade.","body":"I have the same issue as well. I did try contacting support at one time, but they were requesting so many information, and the conversation goes back and forth. It was too complex and took too long so I gave up and downgrade."},{"owner":{"account_id":3934903,"reputation":579,"user_id":3251627,"display_name":"camslice"},"score":0,"creation_date":1697778693,"post_id":76497977,"comment_id":136324947,"body_markdown":"Same issue on MacBook Pro 2017 Touch Bar. Had to switch back to 2022.3.2","body":"Same issue on MacBook Pro 2017 Touch Bar. Had to switch back to 2022.3.2"}],"answers":[{"tags":[],"owner":{"account_id":17869475,"reputation":19,"user_id":22089363,"display_name":"shawnliu"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1687034305,"creation_date":1687033799,"answer_id":76498042,"question_id":76497977,"body_markdown":"\r\nPlease Tell the detailed version number of the IntelliJ IDEA.\r\n\r\nI&#39;m work fine both in M1 and Intel MacBook Pro.\r\n\r\nIntelliJ IDEA 2023.1 Preview -&gt; Build: 231.8109.175\r\n\r\nEach version of IntelliJ IDEA has macOs dmg for Intel and macOs Apple Silicon dmg for the M1.\r\nMake sure do not install the wrong dmg.","title":"Intellij IDEA 2023 unusably slow on non-M1 Mac","body":"<p>Please Tell the detailed version number of the IntelliJ IDEA.</p>\n<p>I'm work fine both in M1 and Intel MacBook Pro.</p>\n<p>IntelliJ IDEA 2023.1 Preview -&gt; Build: 231.8109.175</p>\n<p>Each version of IntelliJ IDEA has macOs dmg for Intel and macOs Apple Silicon dmg for the M1.\nMake sure do not install the wrong dmg.</p>\n"}],"owner":{"account_id":28841636,"reputation":89,"user_id":22089733,"display_name":"Brandon Wirick"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1139,"favorite_count":0,"down_vote_count":1,"up_vote_count":9,"answer_count":1,"score":8,"last_activity_date":1687034305,"creation_date":1687032713,"question_id":76497977,"body_markdown":"I am using a 2019 MacBook Pro and have been a long-time user of IntelliJ IDEA. However, the 2023 version is extremely slow when attempting to perform any task. I have tried increasing the heap size to 4GB and 8GB, but IntelliJ still uses more than 1000% of the CPU and runs out of memory. After reverting back to version 2022.3.3, it runs smoothly with a 2GB heap size, and I can quickly close project windows and type smoothly in the terminal while a project window is starting.\r\n\r\nIs there anything I can do to improve the performance of the newer version? I don&#39;t want to remain on 2022 indefinitely. Since the issue is unclear, I am unsure how to look for relevant YouTrack tickets.","title":"Intellij IDEA 2023 unusably slow on non-M1 Mac","body":"<p>I am using a 2019 MacBook Pro and have been a long-time user of IntelliJ IDEA. However, the 2023 version is extremely slow when attempting to perform any task. I have tried increasing the heap size to 4GB and 8GB, but IntelliJ still uses more than 1000% of the CPU and runs out of memory. After reverting back to version 2022.3.3, it runs smoothly with a 2GB heap size, and I can quickly close project windows and type smoothly in the terminal while a project window is starting.</p>\n<p>Is there anything I can do to improve the performance of the newer version? I don't want to remain on 2022 indefinitely. Since the issue is unclear, I am unsure how to look for relevant YouTrack tickets.</p>\n"},{"tags":["portability","exe","java","launch4j"],"comments":[{"owner":{"account_id":384624,"reputation":15403,"user_id":741249,"display_name":"THelper"},"score":6,"creation_date":1482322332,"post_id":7071133,"comment_id":69725477,"body_markdown":"Launch4j allows you to bundle a JRE **with** your exe, so alongside it. You can&#39;t use it to embed the JRE in your exe.","body":"Launch4j allows you to bundle a JRE <b>with</b> your exe, so alongside it. You can&#39;t use it to embed the JRE in your exe."},{"owner":{"account_id":297075,"reputation":3471,"user_id":602397,"accept_rate":46,"display_name":"DKIT"},"score":0,"creation_date":1605183796,"post_id":7071133,"comment_id":114576188,"body_markdown":"What does that even mean...","body":"What does that even mean..."},{"owner":{"account_id":9207199,"reputation":1048,"user_id":6841962,"display_name":"Zac"},"score":2,"creation_date":1614279717,"post_id":7071133,"comment_id":117344664,"body_markdown":"@DKIT It means that you can ship your program in a folder with your JRE contained, but you can&#39;t generate a standalone .exe file using launch4j that automatically includes your JRE. Therefore, you can bundle a JRE with your exe (in the same folder), but you can&#39;t embed it into the exe itself. You&#39;ll end up distributing a folder to your clients, or you&#39;ll end up depending on their system&#39;s JRE/JDK.","body":"@DKIT It means that you can ship your program in a folder with your JRE contained, but you can&#39;t generate a standalone .exe file using launch4j that automatically includes your JRE. Therefore, you can bundle a JRE with your exe (in the same folder), but you can&#39;t embed it into the exe itself. You&#39;ll end up distributing a folder to your clients, or you&#39;ll end up depending on their system&#39;s JRE/JDK."}],"answers":[{"comments":[{"owner":{"account_id":275576,"reputation":1991,"user_id":568518,"accept_rate":96,"display_name":"CodeBunny"},"score":0,"creation_date":1313583367,"post_id":7071254,"comment_id":8491160,"body_markdown":"How do I bundle it into the EXE? I&#39;m trying to package everything in the jar so that I wouldn&#39;t have to worry if the user has Java installed.\n\nI realize that just having them download java is probably the best idea; however, I&#39;d like to experiment with all of my deployment options.","body":"How do I bundle it into the EXE? I&#39;m trying to package everything in the jar so that I wouldn&#39;t have to worry if the user has Java installed.  I realize that just having them download java is probably the best idea; however, I&#39;d like to experiment with all of my deployment options."},{"owner":{"account_id":1814811,"reputation":633,"user_id":1650137,"display_name":"Zero3"},"score":3,"creation_date":1412464081,"post_id":7071254,"comment_id":41080748,"body_markdown":"@CodeBunny This is not possible with Launch4j alone, but somebody found another nice solution: http://mark.koli.ch/bundle-java-the-jre-and-launch-a-java-app-with-7zip-sfx","body":"@CodeBunny This is not possible with Launch4j alone, but somebody found another nice solution: <a href=\"http://mark.koli.ch/bundle-java-the-jre-and-launch-a-java-app-with-7zip-sfx\" rel=\"nofollow noreferrer\">mark.koli.ch/&hellip;</a>"}],"tags":[],"owner":{"account_id":471592,"reputation":4206,"user_id":879485,"accept_rate":83,"display_name":"hbhakhra"},"comment_count":2,"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1313445879,"creation_date":1313445185,"answer_id":7071254,"question_id":7071133,"body_markdown":"The jre can usually be found in your SDK folder. Yes the links online are installers, but once it installs, the JRE is now located on your local disk. Mine is located in \r\n\r\n    ${jdk folder}\\jre\r\n\r\nThe parts that you don&#39;t need from the JRE could probably be removed manually if you really wanted (I&#39;m not sure whats available online).","title":"How to bundle a JRE with Launch4j?","body":"<p>The jre can usually be found in your SDK folder. Yes the links online are installers, but once it installs, the JRE is now located on your local disk. Mine is located in </p>\n\n<pre><code>${jdk folder}\\jre\n</code></pre>\n\n<p>The parts that you don't need from the JRE could probably be removed manually if you really wanted (I'm not sure whats available online).</p>\n"},{"comments":[{"owner":{"account_id":38637,"reputation":13122,"user_id":111024,"accept_rate":100,"display_name":"Konrad &#39;ktoso&#39; Malawski"},"score":4,"creation_date":1322441771,"post_id":7582064,"comment_id":10211368,"body_markdown":"That helped me a lot!The docs are not too clear about this... Works like a charm :-)","body":"That helped me a lot!The docs are not too clear about this... Works like a charm :-)"},{"owner":{"account_id":438970,"reputation":22468,"user_id":964741,"accept_rate":87,"display_name":"RajaReddy PolamReddy"},"score":0,"creation_date":1392378133,"post_id":7582064,"comment_id":32948122,"body_markdown":"Hi what is this path &lt;path&gt;../jre&lt;/path&gt; either it is existing path which is in C://..java  folder or a new java JRE installer which is downloaded.","body":"Hi what is this path &lt;path&gt;../jre&lt;/path&gt; either it is existing path which is in C://..java  folder or a new java JRE installer which is downloaded."},{"owner":{"account_id":892239,"reputation":24202,"user_id":930271,"accept_rate":50,"display_name":"Francisco Puga"},"score":0,"creation_date":1392479014,"post_id":7582064,"comment_id":32986250,"body_markdown":"@RajaReddyPolamReddy is the relative path from your .exe file to the folder where the jre is located within your applicatin","body":"@RajaReddyPolamReddy is the relative path from your .exe file to the folder where the jre is located within your applicatin"},{"owner":{"account_id":1550314,"reputation":1563,"user_id":1442870,"accept_rate":100,"display_name":"Enwired"},"score":14,"creation_date":1443129256,"post_id":7582064,"comment_id":53381000,"body_markdown":"The question asked how to bundle the JRE *in* the EXE with launch4j.  This answer shows how to tell launch4j to use a specific JRE which you have bundled *with* your EXE, but not inside it.  This seems to be the best that can be done with launch4j.  (Another answer below shows one way to create an installer which will then install both your EXE and the JRE, but the JRE will not be in the EXE.)","body":"The question asked how to bundle the JRE <i>in</i> the EXE with launch4j.  This answer shows how to tell launch4j to use a specific JRE which you have bundled <i>with</i> your EXE, but not inside it.  This seems to be the best that can be done with launch4j.  (Another answer below shows one way to create an installer which will then install both your EXE and the JRE, but the JRE will not be in the EXE.)"},{"owner":{"account_id":4105,"reputation":281434,"user_id":6068,"accept_rate":65,"display_name":"Pablo Fernandez"},"score":0,"creation_date":1522862407,"post_id":7582064,"comment_id":86322754,"body_markdown":"How do you copy the jre?","body":"How do you copy the jre?"},{"owner":{"account_id":892239,"reputation":24202,"user_id":930271,"accept_rate":50,"display_name":"Francisco Puga"},"score":0,"creation_date":1522933827,"post_id":7582064,"comment_id":86356941,"body_markdown":"At the time this answer was written i was using an Ant script that builds the exe from the launch4j config file, compile my app, and build the zip. The jre was copied in the ant script to a folder prior to zip all the folder.","body":"At the time this answer was written i was using an Ant script that builds the exe from the launch4j config file, compile my app, and build the zip. The jre was copied in the ant script to a folder prior to zip all the folder."},{"owner":{"account_id":15949124,"reputation":3270,"user_id":11508914,"display_name":"Panagiss"},"score":2,"creation_date":1589747418,"post_id":7582064,"comment_id":109410190,"body_markdown":"And what about JDK11 that doesn&#39;t come with a JRE?","body":"And what about JDK11 that doesn&#39;t come with a JRE?"},{"owner":{"account_id":20133401,"reputation":1086,"user_id":14765128,"display_name":"thehale"},"score":0,"creation_date":1618034293,"post_id":7582064,"comment_id":118485047,"body_markdown":"@Panagiss [this answer](https://stackoverflow.com/a/61858820/14765128) links to [AdoptOpenJDK](https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot) which offers JREs for newer versions of Java like Java 11. Alternatively you can learn about and use the `jlink` tool to build your own JRE.","body":"@Panagiss <a href=\"https://stackoverflow.com/a/61858820/14765128\">this answer</a> links to <a href=\"https://adoptopenjdk.net/archive.html?variant=openjdk11&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">AdoptOpenJDK</a> which offers JREs for newer versions of Java like Java 11. Alternatively you can learn about and use the <code>jlink</code> tool to build your own JRE."}],"tags":[],"owner":{"account_id":892239,"reputation":24202,"user_id":930271,"accept_rate":50,"display_name":"Francisco Puga"},"comment_count":8,"down_vote_count":1,"up_vote_count":100,"is_accepted":true,"score":99,"last_activity_date":1317207017,"creation_date":1317207017,"answer_id":7582064,"question_id":7071133,"body_markdown":"After some attempts i finally get a workaround to bundle the jre in my application:\r\n\r\nI package my app as a zip file with the following folders inside:\r\n\r\n    containerFolder\r\n    |- jre\r\n          |-bin (in bin there is java.exe)\r\n          |-lib\r\n    |- cfg (to save the user configuration, but it&#39;s not needed)\r\n    |- bin (my application with the .exe and the .jar and all the other stuff)\r\n\r\n\r\nIn the xml file of launch4j i configure the jre like this:\r\n\r\n    &lt;jre&gt;\r\n        &lt;path&gt;../jre&lt;/path&gt;\r\n        &lt;opt&gt;-DgvSIG.confDir=../cfg&lt;/opt&gt;\r\n    &lt;/jre&gt;\r\n\r\nThe trick here is that the path is not to the java.exe file. The path to the jre is relative to the position of the .exe and it should point to one folder before the java.exe file\r\n\r\nThe jre folder i&#39;m using is just a copy&amp;paste from the jre folder installed on a windows system.\r\n\r\n\r\n","title":"How to bundle a JRE with Launch4j?","body":"<p>After some attempts i finally get a workaround to bundle the jre in my application:</p>\n\n<p>I package my app as a zip file with the following folders inside:</p>\n\n<pre><code>containerFolder\n|- jre\n      |-bin (in bin there is java.exe)\n      |-lib\n|- cfg (to save the user configuration, but it's not needed)\n|- bin (my application with the .exe and the .jar and all the other stuff)\n</code></pre>\n\n<p>In the xml file of launch4j i configure the jre like this:</p>\n\n<pre><code>&lt;jre&gt;\n    &lt;path&gt;../jre&lt;/path&gt;\n    &lt;opt&gt;-DgvSIG.confDir=../cfg&lt;/opt&gt;\n&lt;/jre&gt;\n</code></pre>\n\n<p>The trick here is that the path is not to the java.exe file. The path to the jre is relative to the position of the .exe and it should point to one folder before the java.exe file</p>\n\n<p>The jre folder i'm using is just a copy&amp;paste from the jre folder installed on a windows system.</p>\n"},{"comments":[{"owner":{"account_id":6010717,"reputation":1844,"user_id":4721265,"accept_rate":51,"display_name":"ParisaN"},"score":1,"creation_date":1520974293,"post_id":48076050,"comment_id":85534707,"body_markdown":"Put any file in dist folder making this error during clean and build: Unable to delete file...","body":"Put any file in dist folder making this error during clean and build: Unable to delete file..."}],"tags":[],"owner":{"account_id":2637065,"reputation":7621,"user_id":2281472,"accept_rate":71,"display_name":"Develop4Life"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1514977287,"creation_date":1514977287,"answer_id":48076050,"question_id":7071133,"body_markdown":"The same problem like you mate. No worries now. Its all solve with the maximum depth to solve future solution.\r\nSolution how you can bundle your **JRE** for your jar without the need that the user has to install java or not. Your java application will run.\r\n\r\n\r\n1. Copy `lib` and `bin` folder from your **JRE** folder to your project dist folder\r\n\r\n[![jar to exe conversion][1]][1]\r\n\r\n\r\n\r\n2. open launch4j and enter the following setting.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jpZbP.png\r\n  [2]: https://i.stack.imgur.com/4voUN.png\r\n\r\nThe trick is you need to give the full path to the including javaw.exe.\r\n\r\nEnjoy!!!!","title":"How to bundle a JRE with Launch4j?","body":"<p>The same problem like you mate. No worries now. Its all solve with the maximum depth to solve future solution.\nSolution how you can bundle your <strong>JRE</strong> for your jar without the need that the user has to install java or not. Your java application will run.</p>\n\n<ol>\n<li>Copy <code>lib</code> and <code>bin</code> folder from your <strong>JRE</strong> folder to your project dist folder</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/jpZbP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jpZbP.png\" alt=\"jar to exe conversion\"></a></p>\n\n<ol start=\"2\">\n<li>open launch4j and enter the following setting.\n<a href=\"https://i.stack.imgur.com/4voUN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4voUN.png\" alt=\"enter image description here\"></a></li>\n</ol>\n\n<p>The trick is you need to give the full path to the including javaw.exe.</p>\n\n<p>Enjoy!!!!</p>\n"},{"comments":[{"owner":{"account_id":4815490,"reputation":574,"user_id":3887715,"display_name":"Fodder"},"score":0,"creation_date":1638755753,"post_id":49553161,"comment_id":124165414,"body_markdown":"Does this bundle the jre in with the exe, or do you have to zip it all up and put the .exe with the jre folder when you give it to others to run like in the accepted answer? https://stackoverflow.com/a/7582064/3887715","body":"Does this bundle the jre in with the exe, or do you have to zip it all up and put the .exe with the jre folder when you give it to others to run like in the accepted answer? <a href=\"https://stackoverflow.com/a/7582064/3887715\">stackoverflow.com/a/7582064/3887715</a>"},{"owner":{"account_id":13251520,"reputation":221,"user_id":9568893,"display_name":"Ahmed Awad"},"score":0,"creation_date":1638848699,"post_id":49553161,"comment_id":124191092,"body_markdown":"No, this doesn&#39;t bundle the jre with the exe, the only thing that can be bundled with the exe is your app jar file","body":"No, this doesn&#39;t bundle the jre with the exe, the only thing that can be bundled with the exe is your app jar file"},{"owner":{"account_id":7019340,"reputation":121,"user_id":5379434,"display_name":"RG01"},"score":0,"creation_date":1702329340,"post_id":49553161,"comment_id":136880726,"body_markdown":"Can you please update this for launch4j 3.50 - This does not work any more","body":"Can you please update this for launch4j 3.50 - This does not work any more"}],"tags":[],"owner":{"account_id":13251520,"reputation":221,"user_id":9568893,"display_name":"Ahmed Awad"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1538412168,"creation_date":1522317561,"answer_id":49553161,"question_id":7071133,"body_markdown":"I did the following and it worked for me using ver Launch4j 3.11:\r\n\r\n 1. Created a new folder for my application (called for example\r\n    MyApp).\r\n 2. Copied the jar file from the java project dist folder to the MyApp\r\n    along with the lib folder.\r\n 3. Created a folder called jre in my application folder MyApp\r\n    so now MyApp folder contains:\r\n     - MyApp.jar\r\n     - lib &lt;- this has the libraries needed by my java app.\r\n     - jre\r\n 4. Copied the bin and lib folders from java jre folder (C:\\Program\r\n        Files (x86)\\Java\\jre7) to MyApp\\jre\r\n 5. In the Launch4j having set all the required options, then set the\r\n    Bundled JRE path to &quot;jre&quot;\r\n    \r\n    ![Launch4j JRE options ][1]\r\n 6. Make sure that in the search options &quot;Only use private JDK runtimes&quot;\r\n    is selected.\r\n\r\n  [1]: https://i.stack.imgur.com/UVUiY.png","title":"How to bundle a JRE with Launch4j?","body":"<p>I did the following and it worked for me using ver Launch4j 3.11:</p>\n\n<ol>\n<li>Created a new folder for my application (called for example\nMyApp).</li>\n<li>Copied the jar file from the java project dist folder to the MyApp\nalong with the lib folder.</li>\n<li>Created a folder called jre in my application folder MyApp\nso now MyApp folder contains:\n\n<ul>\n<li>MyApp.jar</li>\n<li>lib &lt;- this has the libraries needed by my java app.</li>\n<li>jre</li>\n</ul></li>\n<li>Copied the bin and lib folders from java jre folder (C:\\Program\n    Files (x86)\\Java\\jre7) to MyApp\\jre</li>\n<li><p>In the Launch4j having set all the required options, then set the\nBundled JRE path to \"jre\"</p>\n\n<p><img src=\"https://i.stack.imgur.com/UVUiY.png\" alt=\"Launch4j JRE options \"></p></li>\n<li>Make sure that in the search options \"Only use private JDK runtimes\"\nis selected.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9111383,"reputation":56,"user_id":6779997,"display_name":"Michelle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561152238,"creation_date":1561152238,"answer_id":56710628,"question_id":7071133,"body_markdown":"I have just done this. Above clearly describe the method for bundling jre. \r\n\r\nHere, I just share an experience that I have struggled. If you want to create an installer exe after created wrapper exe by launch4j, pay attention to the file path for launch4j and jre. This is my path I used to solve my issues:\r\n\r\nlaunch4j, bin/jre, resources/bin/jre.\r\n\r\nlaunch4j, bin, and resources are at same level.    ","title":"How to bundle a JRE with Launch4j?","body":"<p>I have just done this. Above clearly describe the method for bundling jre. </p>\n\n<p>Here, I just share an experience that I have struggled. If you want to create an installer exe after created wrapper exe by launch4j, pay attention to the file path for launch4j and jre. This is my path I used to solve my issues:</p>\n\n<p>launch4j, bin/jre, resources/bin/jre.</p>\n\n<p>launch4j, bin, and resources are at same level.    </p>\n"},{"tags":[],"owner":{"account_id":5790445,"reputation":351,"user_id":4568099,"accept_rate":0,"display_name":"David"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1564519837,"creation_date":1564519837,"answer_id":57279837,"question_id":7071133,"body_markdown":"A working example of using Launch4J to bundle a Java application with a specific JRE can be found at https://github.com/vZome/vzome/blob/master/desktop/platform/windows/README.md. This particular distribution is configured to ___require___ [vZome](http://vzome.com) to use the ___bundled JRE___ rather than any JRE found on the target platform.\r\n\r\nHope this helps.","title":"How to bundle a JRE with Launch4j?","body":"<p>A working example of using Launch4J to bundle a Java application with a specific JRE can be found at <a href=\"https://github.com/vZome/vzome/blob/master/desktop/platform/windows/README.md\" rel=\"nofollow noreferrer\">https://github.com/vZome/vzome/blob/master/desktop/platform/windows/README.md</a>. This particular distribution is configured to <strong><em>require</em></strong> <a href=\"http://vzome.com\" rel=\"nofollow noreferrer\">vZome</a> to use the <strong><em>bundled JRE</em></strong> rather than any JRE found on the target platform.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":18702847,"reputation":88,"user_id":13634675,"display_name":"Васил Егов"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687033425,"creation_date":1687033425,"answer_id":76498019,"question_id":7071133,"body_markdown":"The mentioned answers above did not work for me. I am using JDK 20. What I did:\r\n1. Created my Jar file\r\n2. Create a folder for the application *appFolder*\r\n3. Put the jar file in *appFolder*\r\n4. Created a *myJdk* folder in the *appFolder*\r\n5. Put the contents of the JDK on my machine in the *myJdk* folder in the *appFolder*\r\n6. Set the path to the bundled JRE(JDK in my case) to *myJdk/bin*, which is relative to the *appFolder*.\r\n\r\nA simple folder view:\r\n\r\n    appFolder\r\n    |- myJdk\r\n       |- all contents from my jdk folder, installed on the machine. (The only folder I could remove was the jmods. All the rest were needed)\r\n    |- jar file","title":"How to bundle a JRE with Launch4j?","body":"<p>The mentioned answers above did not work for me. I am using JDK 20. What I did:</p>\n<ol>\n<li>Created my Jar file</li>\n<li>Create a folder for the application <em>appFolder</em></li>\n<li>Put the jar file in <em>appFolder</em></li>\n<li>Created a <em>myJdk</em> folder in the <em>appFolder</em></li>\n<li>Put the contents of the JDK on my machine in the <em>myJdk</em> folder in the <em>appFolder</em></li>\n<li>Set the path to the bundled JRE(JDK in my case) to <em>myJdk/bin</em>, which is relative to the <em>appFolder</em>.</li>\n</ol>\n<p>A simple folder view:</p>\n<pre><code>appFolder\n|- myJdk\n   |- all contents from my jdk folder, installed on the machine. (The only folder I could remove was the jmods. All the rest were needed)\n|- jar file\n</code></pre>\n"}],"owner":{"account_id":275576,"reputation":1991,"user_id":568518,"accept_rate":96,"display_name":"CodeBunny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111662,"favorite_count":0,"down_vote_count":0,"up_vote_count":93,"accepted_answer_id":7582064,"answer_count":7,"score":93,"last_activity_date":1687033425,"creation_date":1313444344,"question_id":7071133,"body_markdown":"I have Launch4J on my computer and it&#39;s a great program. One of its features I&#39;m interested in is the ability to bundle a JRE in the general .EXE file. However, I can&#39;t find any documentation that describes how to go about doing this.\r\n\r\nHow do I bundle a JRE with the EXE? Plus, where do I get a compact, portable JRE to run? The download links on Oracle are for the installer packages.","title":"How to bundle a JRE with Launch4j?","body":"<p>I have Launch4J on my computer and it's a great program. One of its features I'm interested in is the ability to bundle a JRE in the general .EXE file. However, I can't find any documentation that describes how to go about doing this.</p>\n\n<p>How do I bundle a JRE with the EXE? Plus, where do I get a compact, portable JRE to run? The download links on Oracle are for the installer packages.</p>\n"},{"tags":["java","graph","dijkstra"],"answers":[{"tags":[],"owner":{"account_id":28742809,"reputation":1,"user_id":22012594,"display_name":"Maximilian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687017533,"creation_date":1687017533,"answer_id":76496996,"question_id":76496123,"body_markdown":"I solved the problem. This solution works:\r\n\r\n    import java.util.*;\r\n    \r\n    public class FastestPath {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int N = scanner.nextInt(); // Number of intersections\r\n            int S = scanner.nextInt(); // Index of the intersection where Charles parked his car\r\n            int T = scanner.nextInt(); // Index of the intersection where Charles agreed to meet Bernard\r\n    \r\n            // Create graph and initialize distances\r\n            int[][] graph = new int[N][N];\r\n            for (int i = 0; i &lt; N; i++) {\r\n                for (int j = 0; j &lt; N; j++) {\r\n                    graph[i][j] = scanner.nextInt();\r\n                }\r\n            }\r\n    \r\n            int shortestPath = dijkstra(N, S, T, graph);\r\n            System.out.println(shortestPath);\r\n    \r\n            scanner.close();\r\n        }\r\n    \r\n        private static int dijkstra(int N, int S, int T, int[][] graph) {\r\n            int[] dist = new int[N];\r\n            boolean[] visited = new boolean[N];\r\n            Arrays.fill(dist, Integer.MAX_VALUE);\r\n            dist[S] = 0;\r\n    \r\n            for (int i = 0; i &lt; N - 1; i++) {\r\n                int u = findMinDistance(dist, visited);\r\n                visited[u] = true;\r\n    \r\n                for (int v = 0; v &lt; N; v++) {\r\n                    if (!visited[v] &amp;&amp; graph[u][v] &gt; 0 &amp;&amp; dist[u] != Integer.MAX_VALUE &amp;&amp; dist[u] + graph[u][v] &lt; dist[v]) {\r\n                        dist[v] = dist[u] + graph[u][v];\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return dist[T];\r\n        }\r\n    \r\n        private static int findMinDistance(int[] dist, boolean[] visited) {\r\n            int minDist = Integer.MAX_VALUE;\r\n            int minIndex = -1;\r\n    \r\n            for (int i = 0; i &lt; dist.length; i++) {\r\n                if (!visited[i] &amp;&amp; dist[i] &lt; minDist) {\r\n                    minDist = dist[i];\r\n                    minIndex = i;\r\n                }\r\n            }\r\n    \r\n            if (minIndex == -1) {\r\n                throw new RuntimeException(&quot;No unvisited node with a lower distance found&quot;);\r\n            }\r\n    \r\n            return minIndex;\r\n        }\r\n    }","title":"Kattis Cross Country Exercise (Dijkstra-Algorithm) - Cannot find my Error","body":"<p>I solved the problem. This solution works:</p>\n<pre><code>import java.util.*;\n\npublic class FastestPath {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int N = scanner.nextInt(); // Number of intersections\n        int S = scanner.nextInt(); // Index of the intersection where Charles parked his car\n        int T = scanner.nextInt(); // Index of the intersection where Charles agreed to meet Bernard\n\n        // Create graph and initialize distances\n        int[][] graph = new int[N][N];\n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; N; j++) {\n                graph[i][j] = scanner.nextInt();\n            }\n        }\n\n        int shortestPath = dijkstra(N, S, T, graph);\n        System.out.println(shortestPath);\n\n        scanner.close();\n    }\n\n    private static int dijkstra(int N, int S, int T, int[][] graph) {\n        int[] dist = new int[N];\n        boolean[] visited = new boolean[N];\n        Arrays.fill(dist, Integer.MAX_VALUE);\n        dist[S] = 0;\n\n        for (int i = 0; i &lt; N - 1; i++) {\n            int u = findMinDistance(dist, visited);\n            visited[u] = true;\n\n            for (int v = 0; v &lt; N; v++) {\n                if (!visited[v] &amp;&amp; graph[u][v] &gt; 0 &amp;&amp; dist[u] != Integer.MAX_VALUE &amp;&amp; dist[u] + graph[u][v] &lt; dist[v]) {\n                    dist[v] = dist[u] + graph[u][v];\n                }\n            }\n        }\n\n        return dist[T];\n    }\n\n    private static int findMinDistance(int[] dist, boolean[] visited) {\n        int minDist = Integer.MAX_VALUE;\n        int minIndex = -1;\n\n        for (int i = 0; i &lt; dist.length; i++) {\n            if (!visited[i] &amp;&amp; dist[i] &lt; minDist) {\n                minDist = dist[i];\n                minIndex = i;\n            }\n        }\n\n        if (minIndex == -1) {\n            throw new RuntimeException(&quot;No unvisited node with a lower distance found&quot;);\n        }\n\n        return minIndex;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28742809,"reputation":1,"user_id":22012594,"display_name":"Maximilian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687033291,"creation_date":1687003918,"question_id":76496123,"body_markdown":"Good Morning or Day Everyone,\r\n\r\nI did to try to solve the following Exercise &quot;Cross Country&quot; by using Java, but on Kattis comes a Run-Time-Error after the second Test-Case. I have tried to solve it by my own, asked ChatGPT for help, but the Error (with invisible Error-Messege, because Kattis) does not disappear.\r\n\r\nMaybe do you know, why this code fails.\r\n\r\n[Here you can read the Exercise](https://open.kattis.com/problems/crosscountry)\r\n\r\n\r\nThoughts of me and ChatGPT:\r\n- Maybe In- and Output-Format Error\r\n- Limits where not correctly hold (I checked, but have maybe overseen something)\r\n- Algorithm seems to be correct\r\n\r\n\r\n\r\nchallenge.java\r\n```\r\npackage graph;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class challenge {\r\n\r\n    // Zwei Wochen Ski Trip\r\n    // Charles hat Schoki vergessen und musste home gehen um sie zu holen\r\n    // Alle Parkpl&#228;tze in der N&#228;he des Treffpunktes besetzt\r\n    // Workout-Tagebuch von Charles ist gegeben -&gt; Schnellsten Weg zum Treffpunkt finden\r\n    // intersection = Schnittpunkt\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner = new Scanner(System.in);\r\n        int N = scanner.nextInt(); // Anzahl Schnittpunkte\r\n        int S = scanner.nextInt(); // Index des Schnittpunktes wo Charles sein Auto geparkt hat\r\n        int T = scanner.nextInt(); // Index des Schnittpunktes wo Treffpunkt\r\n\r\n        ausschlusskriterien(N,S,T);\r\n\r\n\r\n\r\n        Graph graph = new Graph(N);\r\n\r\n        createGraph(scanner, N, graph);\r\n\r\n        // Berechne den k&#252;rzesten Weg\r\n        int shortestPath = dijkstra(N, S, T, graph);\r\n        System.out.println(shortestPath);\r\n\r\n        scanner.close();\r\n\r\n    }\r\n\r\n    private static void ausschlusskriterien(int N, int S, int T) {\r\n        if (N &lt; 1 || N &gt; 1000) {\r\n            throw new IllegalArgumentException(&quot;Ung&#252;ltige Anzahl von Schnittpunkten (N). Muss zwischen 1 und 1000 liegen.&quot;);\r\n        }\r\n        if (S &lt; 0 || S &gt;= N) {\r\n            throw new IllegalArgumentException(&quot;Ung&#252;ltiger Start-Schnittpunkt (S). Muss zwischen 0 und N-1 liegen.&quot;);\r\n        }\r\n        if (T &lt; 0 || T &gt;= N) {\r\n            throw new IllegalArgumentException(&quot;Ung&#252;ltiger Ziel-Schnittpunkt (T). Muss zwischen 0 und N-1 liegen.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n    private static int dijkstra(int N, int S, int T, Graph graph) {\r\n        int[] dist = new int[N]; // Array zur Speicherung der Distanzen\r\n        boolean[] visited = new boolean[N]; // Array zur Markierung der besuchten Knoten\r\n\r\n        // Initialisiere alle Distanzen als unendlich, au&#223;er dem Startknoten S als 0\r\n        Arrays.fill(dist, Integer.MAX_VALUE);\r\n        dist[S] = 0;\r\n\r\n        // Suche den k&#252;rzesten Pfad mit Dijkstra&#39;s Algorithmus\r\n        for (int i = 0; i &lt; N - 1; i++) {\r\n            int u = findMinDistance(dist, visited); // W&#228;hle den Knoten mit der geringsten Distanz aus\r\n\r\n            visited[u] = true; // Markiere den Knoten als besucht\r\n\r\n            // Aktualisiere die Distanzen der benachbarten Knoten, falls ein k&#252;rzerer Pfad gefunden wurde\r\n            List&lt;Graph.Edge&gt; neighbors = graph.getNeighbors(u);\r\n            for (Graph.Edge edge : neighbors) {\r\n                int v = edge.getDestination();\r\n                int weight = edge.getWeight();\r\n                if (!visited[v] &amp;&amp; dist[u] != Integer.MAX_VALUE &amp;&amp; dist[u] + weight &lt; dist[v]) {\r\n                    dist[v] = dist[u] + weight;\r\n                }\r\n            }\r\n        }\r\n\r\n        return dist[T];\r\n    }\r\n\r\n\r\n    private static int findMinDistance(int[] dist, boolean[] visited) {\r\n        int minDist = Integer.MAX_VALUE;\r\n        int minIndex = -1;\r\n\r\n        for (int i = 0; i &lt; dist.length; i++) {\r\n            if (!visited[i] &amp;&amp; dist[i] &lt; minDist) {\r\n                minDist = dist[i];\r\n                minIndex = i;\r\n            }\r\n        }\r\n\r\n        if (minIndex == -1) {\r\n            throw new RuntimeException(&quot;Kein unbesuchter Knoten mit geringerer Distanz gefunden&quot;);\r\n        }\r\n\r\n        return minIndex;\r\n    }\r\n\r\n    private static void createGraph(Scanner scanner, int N, Graph graph) {\r\n        for (int i = 0; i &lt; N; i++) {\r\n            for (int j = 0; j &lt; N; j++) {\r\n                int weight = scanner.nextInt();\r\n                if (i != j) {\r\n                    if (weight &lt; 1 || weight &gt;= 10000) {\r\n                        throw new IllegalArgumentException(&quot;Ung&#252;ltiges Gewicht (D(i,j)). Muss zwischen 1 und 9999 liegen.&quot;);\r\n                    }\r\n                    graph.addEdge(i, j, weight);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nGraph.java\r\n```\r\npackage graph;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\npublic class Graph {\r\n    private int numNodes;\r\n    private Map&lt;Integer, List&lt;Edge&gt;&gt; adjacencyList;\r\n\r\n    public Graph(int numNodes) {\r\n        this.numNodes = numNodes;\r\n        adjacencyList = new HashMap&lt;&gt;();\r\n        for(int i = 0; i &lt; numNodes; i++){\r\n            adjacencyList.put(i, new ArrayList&lt;&gt;());\r\n        }\r\n    }\r\n\r\n    public void addEdge(int source, int destination, int weight){\r\n        Edge edge = new Edge(destination, weight);\r\n        adjacencyList.get(source).add(edge);\r\n    }\r\n\r\n    public List&lt;Edge&gt; getNeighbors(int node) {\r\n        return adjacencyList.get(node);\r\n    }\r\n\r\n    public int getNumNodes() {\r\n        return numNodes;\r\n    }\r\n\r\n    static class Edge {\r\n        private int destination;\r\n        private int weight;\r\n\r\n        public Edge(int destination, int weight) {\r\n            this.destination = destination;\r\n            this.weight = weight;\r\n        }\r\n\r\n        public int getDestination() {\r\n            return destination;\r\n        }\r\n\r\n        public int getWeight() {\r\n            return weight;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThank you very much and have a nice weekend","title":"Kattis Cross Country Exercise (Dijkstra-Algorithm) - Cannot find my Error","body":"<p>Good Morning or Day Everyone,</p>\n<p>I did to try to solve the following Exercise &quot;Cross Country&quot; by using Java, but on Kattis comes a Run-Time-Error after the second Test-Case. I have tried to solve it by my own, asked ChatGPT for help, but the Error (with invisible Error-Messege, because Kattis) does not disappear.</p>\n<p>Maybe do you know, why this code fails.</p>\n<p><a href=\"https://open.kattis.com/problems/crosscountry\" rel=\"nofollow noreferrer\">Here you can read the Exercise</a></p>\n<p>Thoughts of me and ChatGPT:</p>\n<ul>\n<li>Maybe In- and Output-Format Error</li>\n<li>Limits where not correctly hold (I checked, but have maybe overseen something)</li>\n<li>Algorithm seems to be correct</li>\n</ul>\n<p>challenge.java</p>\n<pre><code>package graph;\n\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class challenge {\n\n    // Zwei Wochen Ski Trip\n    // Charles hat Schoki vergessen und musste home gehen um sie zu holen\n    // Alle Parkplätze in der Nähe des Treffpunktes besetzt\n    // Workout-Tagebuch von Charles ist gegeben -&gt; Schnellsten Weg zum Treffpunkt finden\n    // intersection = Schnittpunkt\n    public static void main(String[] args) {\n\n        Scanner scanner = new Scanner(System.in);\n        int N = scanner.nextInt(); // Anzahl Schnittpunkte\n        int S = scanner.nextInt(); // Index des Schnittpunktes wo Charles sein Auto geparkt hat\n        int T = scanner.nextInt(); // Index des Schnittpunktes wo Treffpunkt\n\n        ausschlusskriterien(N,S,T);\n\n\n\n        Graph graph = new Graph(N);\n\n        createGraph(scanner, N, graph);\n\n        // Berechne den kürzesten Weg\n        int shortestPath = dijkstra(N, S, T, graph);\n        System.out.println(shortestPath);\n\n        scanner.close();\n\n    }\n\n    private static void ausschlusskriterien(int N, int S, int T) {\n        if (N &lt; 1 || N &gt; 1000) {\n            throw new IllegalArgumentException(&quot;Ungültige Anzahl von Schnittpunkten (N). Muss zwischen 1 und 1000 liegen.&quot;);\n        }\n        if (S &lt; 0 || S &gt;= N) {\n            throw new IllegalArgumentException(&quot;Ungültiger Start-Schnittpunkt (S). Muss zwischen 0 und N-1 liegen.&quot;);\n        }\n        if (T &lt; 0 || T &gt;= N) {\n            throw new IllegalArgumentException(&quot;Ungültiger Ziel-Schnittpunkt (T). Muss zwischen 0 und N-1 liegen.&quot;);\n        }\n    }\n\n\n    private static int dijkstra(int N, int S, int T, Graph graph) {\n        int[] dist = new int[N]; // Array zur Speicherung der Distanzen\n        boolean[] visited = new boolean[N]; // Array zur Markierung der besuchten Knoten\n\n        // Initialisiere alle Distanzen als unendlich, außer dem Startknoten S als 0\n        Arrays.fill(dist, Integer.MAX_VALUE);\n        dist[S] = 0;\n\n        // Suche den kürzesten Pfad mit Dijkstra's Algorithmus\n        for (int i = 0; i &lt; N - 1; i++) {\n            int u = findMinDistance(dist, visited); // Wähle den Knoten mit der geringsten Distanz aus\n\n            visited[u] = true; // Markiere den Knoten als besucht\n\n            // Aktualisiere die Distanzen der benachbarten Knoten, falls ein kürzerer Pfad gefunden wurde\n            List&lt;Graph.Edge&gt; neighbors = graph.getNeighbors(u);\n            for (Graph.Edge edge : neighbors) {\n                int v = edge.getDestination();\n                int weight = edge.getWeight();\n                if (!visited[v] &amp;&amp; dist[u] != Integer.MAX_VALUE &amp;&amp; dist[u] + weight &lt; dist[v]) {\n                    dist[v] = dist[u] + weight;\n                }\n            }\n        }\n\n        return dist[T];\n    }\n\n\n    private static int findMinDistance(int[] dist, boolean[] visited) {\n        int minDist = Integer.MAX_VALUE;\n        int minIndex = -1;\n\n        for (int i = 0; i &lt; dist.length; i++) {\n            if (!visited[i] &amp;&amp; dist[i] &lt; minDist) {\n                minDist = dist[i];\n                minIndex = i;\n            }\n        }\n\n        if (minIndex == -1) {\n            throw new RuntimeException(&quot;Kein unbesuchter Knoten mit geringerer Distanz gefunden&quot;);\n        }\n\n        return minIndex;\n    }\n\n    private static void createGraph(Scanner scanner, int N, Graph graph) {\n        for (int i = 0; i &lt; N; i++) {\n            for (int j = 0; j &lt; N; j++) {\n                int weight = scanner.nextInt();\n                if (i != j) {\n                    if (weight &lt; 1 || weight &gt;= 10000) {\n                        throw new IllegalArgumentException(&quot;Ungültiges Gewicht (D(i,j)). Muss zwischen 1 und 9999 liegen.&quot;);\n                    }\n                    graph.addEdge(i, j, weight);\n                }\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p>Graph.java</p>\n<pre><code>package graph;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n\npublic class Graph {\n    private int numNodes;\n    private Map&lt;Integer, List&lt;Edge&gt;&gt; adjacencyList;\n\n    public Graph(int numNodes) {\n        this.numNodes = numNodes;\n        adjacencyList = new HashMap&lt;&gt;();\n        for(int i = 0; i &lt; numNodes; i++){\n            adjacencyList.put(i, new ArrayList&lt;&gt;());\n        }\n    }\n\n    public void addEdge(int source, int destination, int weight){\n        Edge edge = new Edge(destination, weight);\n        adjacencyList.get(source).add(edge);\n    }\n\n    public List&lt;Edge&gt; getNeighbors(int node) {\n        return adjacencyList.get(node);\n    }\n\n    public int getNumNodes() {\n        return numNodes;\n    }\n\n    static class Edge {\n        private int destination;\n        private int weight;\n\n        public Edge(int destination, int weight) {\n            this.destination = destination;\n            this.weight = weight;\n        }\n\n        public int getDestination() {\n            return destination;\n        }\n\n        public int getWeight() {\n            return weight;\n        }\n    }\n}\n\n</code></pre>\n<p>Thank you very much and have a nice weekend</p>\n"},{"tags":["java","foreach","java-8","java-stream","atomic-values"],"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1687019060,"post_id":76497086,"comment_id":134880077,"body_markdown":"Please, provide a compilable code. The variables `min` and `max` are defined at two places.","body":"Please, provide a compilable code. The variables <code>min</code> and <code>max</code> are defined at two places."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":5,"creation_date":1687019159,"post_id":76497086,"comment_id":134880086,"body_markdown":"it is not about using &quot;atomic variables&quot;, but final or effectively final variables - these are needed because they are being used in a Lambda - [JLS 15.27.2. Lambda Body](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.27.2-300): &quot;*Any local variable, formal parameter, or exception parameter used but not declared in a lambda expression must either be final or effectively final (&#167;4.12.4), as specified in &#167;6.5.6.1.*&quot; (why not use `IntSummaryStatistics` or even `min()`/`max()` of `IntStream`?)","body":"it is not about using &quot;atomic variables&quot;, but final or effectively final variables - these are needed because they are being used in a Lambda - <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.27.2-300\" rel=\"nofollow noreferrer\">JLS 15.27.2. Lambda Body</a>: &quot;<i>Any local variable, formal parameter, or exception parameter used but not declared in a lambda expression must either be final or effectively final (&#167;4.12.4), as specified in &#167;6.5.6.1.</i>&quot; (why not use <code>IntSummaryStatistics</code> or even <code>min()</code>/<code>max()</code> of <code>IntStream</code>?)"},{"owner":{"account_id":25413555,"reputation":73,"user_id":19220933,"display_name":"Siddharth Bhatia"},"score":0,"creation_date":1687019902,"post_id":76497086,"comment_id":134880165,"body_markdown":"Thanks for the reply but can you give me the reason why it only permits final variable to be used inside lambda.Is there some thread safety issue? or any any other issue? And why normal for loop won&#39;t need final as both mentioned codes are performing same operation.I am curious about that.An","body":"Thanks for the reply but can you give me the reason why it only permits final variable to be used inside lambda.Is there some thread safety issue? or any any other issue? And why normal for loop won&#39;t need final as both mentioned codes are performing same operation.I am curious about that.An"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1687021335,"post_id":76497086,"comment_id":134880311,"body_markdown":"The link I provided in first comment also explains: &quot;*Similar rules on variable use apply in the body of an inner class (&#167;8.1.3). The restriction to effectively final variables prohibits access to dynamically-changing local variables, whose capture would likely introduce concurrency problems. Compared to the final restriction, it reduces the clerical burden on programmers.*&quot;","body":"The link I provided in first comment also explains: &quot;<i>Similar rules on variable use apply in the body of an inner class (&#167;8.1.3). The restriction to effectively final variables prohibits access to dynamically-changing local variables, whose capture would likely introduce concurrency problems. Compared to the final restriction, it reduces the clerical burden on programmers.</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":20457602,"reputation":17,"user_id":15010903,"display_name":"Vishwas Saini"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1687022931,"creation_date":1687021881,"answer_id":76497297,"question_id":76497086,"body_markdown":"In the code you provided, you need to use `AtomicInteger` instead of standard variables (`int`) inside the `forEach` loop because of the concept of capturing variables in lambda expressions in Java.\r\n\r\nIn Java, when you use a lambda expression or an anonymous inner class, you can only access variables that are effectively final or declared as final. This means you can&#39;t modify the value of a regular variable inside the lambda expression or anonymous inner class.\r\n\r\nLambda expressions are designed to allow the use of variables from the enclosing scope, even if they are not explicitly passed as parameters. However, the Java language specification imposes some restrictions on such variables to prevent potential concurrency and mutability issues.\r\n\r\nBy requiring the variable to be effectively final or explicitly final, the Java compiler ensures that it is not modified after the lambda expression captures it. This guarantees that the lambda operates on a stable value and avoids any unexpected behavior that could arise from concurrent modifications.\r\n\r\nAn effectively final variable is not explicitly declared as final but is never reassigned after its initial assignment. It behaves as a constant within the scope of the lambda expression.\r\n\r\nIn your code, you&#39;re using a lambda expression with `Arrays.stream(data).forEach(i -&gt; { ... })`. Inside this lambda expression, you want to update the values of min and max, but you can&#39;t do that since they are regular variables.\r\n\r\nTo work around this limitation, you can use `AtomicInteger`, which provides a way to update the value within the lambda expression using the set() method. `AtomicInteger` is mutable so that you can modify its value even inside a lambda expression or anonymous inner class.\r\n\r\nYou can also work around this by using an array to store the min and max values and declare them as `final int[] min` and `final int[] max`.\r\n```\r\nclass SingleScan {\r\n  public void elementsData(int[] data) {\r\n    final int[] min = {data[0]};\r\n    final int[] max = {data[1]};\r\n\r\n    Arrays.stream(data).forEach(i -&gt; {\r\n      if (i &lt; min[0]) {\r\n        min[0] = i;\r\n      }\r\n      if (i &gt; max[0]) {\r\n        max[0] = i;\r\n      }\r\n    });\r\n\r\n    System.out.println(&quot;Max element is &quot; + max[0] + &quot; minimum element is &quot; + min[0]);\r\n  }\r\n```\r\n\r\nBy using an `array`, you effectively create a container to hold a mutable reference to an int value. Even though the array itself is final, the content of the array (i.e., the int value inside) can be modified.\r\n\r\nAnother way can be to create a wrapper around `min` and `max`\r\n```\r\nclass MinMaxWrapper {\r\n    int min;\r\n    int max;\r\n\r\n    public MinMaxWrapper(int initialValue) {\r\n        min = initialValue;\r\n        max = initialValue;\r\n    }\r\n\r\n    public void updateMin(int newValue) {\r\n        if (newValue &lt; min) {\r\n            min = newValue;\r\n        }\r\n    }\r\n\r\n    public void updateMax(int newValue) {\r\n        if (newValue &gt; max) {\r\n            max = newValue;\r\n        }\r\n    }\r\n}\r\n\r\nclass SingleScan {\r\n    public void elementsData(int[] data) {\r\n        MinMaxWrapper minMax = new MinMaxWrapper(data[0]);\r\n\r\n        Arrays.stream(data).forEach(i -&gt; {\r\n            minMax.updateMin(i);\r\n            minMax.updateMax(i);\r\n        });\r\n\r\n        System.out.println(&quot;Max element is &quot; + minMax.max + &quot; minimum element is &quot; + minMax.min);\r\n    }\r\n}\r\n```\r\nThe choice of whether to use AtomicInteger, an array (int[]), or a mutable wrapper class depends on your specific needs and the context of your code. Here&#39;s a summary to help you decide:\r\n\r\n1. If you require thread safety or need to handle concurrent modifications, use AtomicInteger. It provides atomic operations and synchronization guarantees, making it suitable for multi-threaded scenarios.\r\n\r\n2. If you&#39;re working in a single-threaded environment and concurrency is not a concern, you can use either an array (int[]) or a mutable wrapper class. Both options allow you to update values within a lambda expression.\r\n    - Arrays (int[]): Simple and lightweight, but accessing values requires array indexing (min[0], max[0]). Suitable when you want to update multiple variables simultaneously or pass values as references.\r\n    - Mutable wrapper class: Provides a more object-oriented approach. You can define methods within the wrapper class to update values. Offers cleaner code and encapsulation but introduces additional complexity.\r\n\r\nConsider the trade-offs between simplicity, performance, and thread safety in your specific scenario. Choose the approach that best aligns with your requirements and ensures the correctness and maintainability of your code.","title":"Why compiler forces to use Atomic variable inside forEach loop in java","body":"<p>In the code you provided, you need to use <code>AtomicInteger</code> instead of standard variables (<code>int</code>) inside the <code>forEach</code> loop because of the concept of capturing variables in lambda expressions in Java.</p>\n<p>In Java, when you use a lambda expression or an anonymous inner class, you can only access variables that are effectively final or declared as final. This means you can't modify the value of a regular variable inside the lambda expression or anonymous inner class.</p>\n<p>Lambda expressions are designed to allow the use of variables from the enclosing scope, even if they are not explicitly passed as parameters. However, the Java language specification imposes some restrictions on such variables to prevent potential concurrency and mutability issues.</p>\n<p>By requiring the variable to be effectively final or explicitly final, the Java compiler ensures that it is not modified after the lambda expression captures it. This guarantees that the lambda operates on a stable value and avoids any unexpected behavior that could arise from concurrent modifications.</p>\n<p>An effectively final variable is not explicitly declared as final but is never reassigned after its initial assignment. It behaves as a constant within the scope of the lambda expression.</p>\n<p>In your code, you're using a lambda expression with <code>Arrays.stream(data).forEach(i -&gt; { ... })</code>. Inside this lambda expression, you want to update the values of min and max, but you can't do that since they are regular variables.</p>\n<p>To work around this limitation, you can use <code>AtomicInteger</code>, which provides a way to update the value within the lambda expression using the set() method. <code>AtomicInteger</code> is mutable so that you can modify its value even inside a lambda expression or anonymous inner class.</p>\n<p>You can also work around this by using an array to store the min and max values and declare them as <code>final int[] min</code> and <code>final int[] max</code>.</p>\n<pre><code>class SingleScan {\n  public void elementsData(int[] data) {\n    final int[] min = {data[0]};\n    final int[] max = {data[1]};\n\n    Arrays.stream(data).forEach(i -&gt; {\n      if (i &lt; min[0]) {\n        min[0] = i;\n      }\n      if (i &gt; max[0]) {\n        max[0] = i;\n      }\n    });\n\n    System.out.println(&quot;Max element is &quot; + max[0] + &quot; minimum element is &quot; + min[0]);\n  }\n</code></pre>\n<p>By using an <code>array</code>, you effectively create a container to hold a mutable reference to an int value. Even though the array itself is final, the content of the array (i.e., the int value inside) can be modified.</p>\n<p>Another way can be to create a wrapper around <code>min</code> and <code>max</code></p>\n<pre><code>class MinMaxWrapper {\n    int min;\n    int max;\n\n    public MinMaxWrapper(int initialValue) {\n        min = initialValue;\n        max = initialValue;\n    }\n\n    public void updateMin(int newValue) {\n        if (newValue &lt; min) {\n            min = newValue;\n        }\n    }\n\n    public void updateMax(int newValue) {\n        if (newValue &gt; max) {\n            max = newValue;\n        }\n    }\n}\n\nclass SingleScan {\n    public void elementsData(int[] data) {\n        MinMaxWrapper minMax = new MinMaxWrapper(data[0]);\n\n        Arrays.stream(data).forEach(i -&gt; {\n            minMax.updateMin(i);\n            minMax.updateMax(i);\n        });\n\n        System.out.println(&quot;Max element is &quot; + minMax.max + &quot; minimum element is &quot; + minMax.min);\n    }\n}\n</code></pre>\n<p>The choice of whether to use AtomicInteger, an array (int[]), or a mutable wrapper class depends on your specific needs and the context of your code. Here's a summary to help you decide:</p>\n<ol>\n<li><p>If you require thread safety or need to handle concurrent modifications, use AtomicInteger. It provides atomic operations and synchronization guarantees, making it suitable for multi-threaded scenarios.</p>\n</li>\n<li><p>If you're working in a single-threaded environment and concurrency is not a concern, you can use either an array (int[]) or a mutable wrapper class. Both options allow you to update values within a lambda expression.</p>\n<ul>\n<li>Arrays (int[]): Simple and lightweight, but accessing values requires array indexing (min[0], max[0]). Suitable when you want to update multiple variables simultaneously or pass values as references.</li>\n<li>Mutable wrapper class: Provides a more object-oriented approach. You can define methods within the wrapper class to update values. Offers cleaner code and encapsulation but introduces additional complexity.</li>\n</ul>\n</li>\n</ol>\n<p>Consider the trade-offs between simplicity, performance, and thread safety in your specific scenario. Choose the approach that best aligns with your requirements and ensures the correctness and maintainability of your code.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687032238,"creation_date":1687032238,"answer_id":76497958,"question_id":76497086,"body_markdown":"For reference, you an just use the _[IntStream#min](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#min())_ and _[IntStream#max](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#max())_ methods.\r\n\r\n```java\r\nint minimum = Arrays.stream(data).min().getAsInt();\r\nint maximum = Arrays.stream(data).max().getAsInt();\r\n```","title":"Why compiler forces to use Atomic variable inside forEach loop in java","body":"<p>For reference, you an just use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#min()\" rel=\"nofollow noreferrer\">IntStream#min</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/stream/IntStream.html#max()\" rel=\"nofollow noreferrer\">IntStream#max</a></em> methods.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int minimum = Arrays.stream(data).min().getAsInt();\nint maximum = Arrays.stream(data).max().getAsInt();\n</code></pre>\n"}],"owner":{"account_id":25413555,"reputation":73,"user_id":19220933,"display_name":"Siddharth Bhatia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1687032238,"creation_date":1687018633,"question_id":76497086,"body_markdown":"I am trying to write a code to find min and max in an array when I write code using basic java I can use normal variable but when I use forEach loop complier forces me use atomic varaible.Why is it necessary to use atomic variable inside a forEach loop\r\nI have attached a sample code for reference\r\n\r\n    class SingleScan{\r\n        public void elementsData(int []data){\r\n            int min=data[0];\r\n            int max=data[1];\r\n            for(int i=0;i&lt;data.length-1;i++){\r\n                if(data[i]&lt;min){\r\n                    min=data[I];//Here I am using normal variable\r\n                }else if(data[i]&gt;max){\r\n                    max=data[i];//Here I am using normal variable\r\n                }\r\n            }\r\n    \r\n            AtomicInteger min = new AtomicInteger(data[0]);\r\n            AtomicInteger max = new AtomicInteger(data[1]);\r\n            Arrays.stream(data).forEach(i-&gt; {\r\n                if (i&lt; min.get()) {\r\n                    min.set(i);//Here I have to use atomic variable why I can&#39;t simply use normal variables\r\n                }\r\n                if(i&gt;max.get()){\r\n                    max.set(i);\r\n                }\r\n            } );\r\n    \r\n            System.out.println(&quot;Max element is &quot;+max +&quot; minimum element is &quot;+min);\r\n        }\r\n    }\r\n    \r\n    public class MaxMinSingleScan {\r\n        public static void main(String[] args) {\r\n            int [] element=new int[]{5,8,3,9,6,2,10,7,-1,4};\r\n            SingleScan singleScan=new SingleScan();\r\n            singleScan.elementsData(element);\r\n        }\r\n    }","title":"Why compiler forces to use Atomic variable inside forEach loop in java","body":"<p>I am trying to write a code to find min and max in an array when I write code using basic java I can use normal variable but when I use forEach loop complier forces me use atomic varaible.Why is it necessary to use atomic variable inside a forEach loop\nI have attached a sample code for reference</p>\n<pre><code>class SingleScan{\n    public void elementsData(int []data){\n        int min=data[0];\n        int max=data[1];\n        for(int i=0;i&lt;data.length-1;i++){\n            if(data[i]&lt;min){\n                min=data[I];//Here I am using normal variable\n            }else if(data[i]&gt;max){\n                max=data[i];//Here I am using normal variable\n            }\n        }\n\n        AtomicInteger min = new AtomicInteger(data[0]);\n        AtomicInteger max = new AtomicInteger(data[1]);\n        Arrays.stream(data).forEach(i-&gt; {\n            if (i&lt; min.get()) {\n                min.set(i);//Here I have to use atomic variable why I can't simply use normal variables\n            }\n            if(i&gt;max.get()){\n                max.set(i);\n            }\n        } );\n\n        System.out.println(&quot;Max element is &quot;+max +&quot; minimum element is &quot;+min);\n    }\n}\n\npublic class MaxMinSingleScan {\n    public static void main(String[] args) {\n        int [] element=new int[]{5,8,3,9,6,2,10,7,-1,4};\n        SingleScan singleScan=new SingleScan();\n        singleScan.elementsData(element);\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":1,"creation_date":1684393421,"post_id":76278375,"comment_id":134512274,"body_markdown":"`jList1.setSelectedIndex(Integer.valueOf(addmore));`","body":"<code>jList1.setSelectedIndex(Integer.valueOf(addmore));</code>"}],"answers":[{"comments":[{"owner":{"account_id":14295423,"reputation":403,"user_id":10326250,"display_name":"JohnnyD"},"score":0,"creation_date":1684480707,"post_id":76285327,"comment_id":134526439,"body_markdown":"yeah thanks mate, I got the answer from @devilshnd yday but thank you :)","body":"yeah thanks mate, I got the answer from @devilshnd yday but thank you :)"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1684515295,"post_id":76285327,"comment_id":134533515,"body_markdown":"@JohnnyD, no problem.  As a recommendation, when coding,  you can keep a browser window open, linked to the Java SE JavaDoc page.  https://docs.oracle.com/en/java/javase/20/","body":"@JohnnyD, no problem.  As a recommendation, when coding,  you can keep a browser window open, linked to the Java SE JavaDoc page.  <a href=\"https://docs.oracle.com/en/java/javase/20/\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/20</a>"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684456979,"creation_date":1684456979,"answer_id":76285327,"question_id":76278375,"body_markdown":"The `JList` method you&#39;re looking for is called `setSelectedIndex`.\r\n\r\n```java\r\nbrandsBgList.setSelectedIndex(Integer.valueOf(addmore));\r\n```\r\n\r\nYou are using `isSelectedIndex`.","title":"Java highlight function selected jlist index name","body":"<p>The <code>JList</code> method you're looking for is called <code>setSelectedIndex</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>brandsBgList.setSelectedIndex(Integer.valueOf(addmore));\n</code></pre>\n<p>You are using <code>isSelectedIndex</code>.</p>\n"}],"owner":{"account_id":14295423,"reputation":403,"user_id":10326250,"display_name":"JohnnyD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76285327,"answer_count":1,"score":1,"last_activity_date":1687031985,"creation_date":1684392357,"question_id":76278375,"body_markdown":"I am trying to programmatically select an jlist index and also highlight it to emulate the mouse click. \r\n\r\nThis is the code I am using to select the index. It does set it, but I can&#39;t get the highlight effect that I need.  `brandsBgList.isSelectedIndex(Integer.valueOf(addmore));`\r\n\r\n\r\n[![Enter image description here](https://i.stack.imgur.com/gkIxR.png)](https://i.stack.imgur.com/gkIxR.png)\r\n\r\n\r\n","title":"Java highlight function selected jlist index name","body":"<p>I am trying to programmatically select an jlist index and also highlight it to emulate the mouse click.</p>\n<p>This is the code I am using to select the index. It does set it, but I can't get the highlight effect that I need.  <code>brandsBgList.isSelectedIndex(Integer.valueOf(addmore));</code></p>\n<p><a href=\"https://i.stack.imgur.com/gkIxR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gkIxR.png\" alt=\"Enter image description here\" /></a></p>\n"},{"tags":["java","mysql","spring","docker"],"answers":[{"comments":[{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1687032751,"post_id":76497938,"comment_id":134881564,"body_markdown":"This is always the right answer. I wonder if you can still get 25 points for answering it, or whether the question will be closed as a duplicate!","body":"This is always the right answer. I wonder if you can still get 25 points for answering it, or whether the question will be closed as a duplicate!"}],"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687031928,"creation_date":1687031928,"answer_id":76497938,"question_id":76475137,"body_markdown":"The application has the URL defined as:\r\n\r\n    - DATABASE_URL=jdbc:mysql://localhost:3306/weather\r\n\r\nBut since you are running it inside a docker container, &quot;localhost&quot; is something else.\r\n\r\nTry changing the url to this:\r\n\r\n      - DATABASE_URL=jdbc:mysql://mysql:3306/weather\r\n\r\n(Within docker-compose, network to specific services works, by just using the container name)\r\n","title":"The driver has not received any packets from the server. Docker","body":"<p>The application has the URL defined as:</p>\n<pre><code>- DATABASE_URL=jdbc:mysql://localhost:3306/weather\n</code></pre>\n<p>But since you are running it inside a docker container, &quot;localhost&quot; is something else.</p>\n<p>Try changing the url to this:</p>\n<pre><code>  - DATABASE_URL=jdbc:mysql://mysql:3306/weather\n</code></pre>\n<p>(Within docker-compose, network to specific services works, by just using the container name)</p>\n"}],"owner":{"account_id":28803316,"reputation":11,"user_id":22059715,"display_name":"Просто Смешно"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687031928,"creation_date":1686756085,"question_id":76475137,"body_markdown":"I have a dockerfile with the following contents: \r\n```\r\nFROM openjdk:18  \r\nWORKDIR /app  \r\nCOPY ./target/weatertop-0.0.1-SNAPSHOT.jar /app/weatertop-0.0.1-SNAPSHOT.jar  \r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;weatertop-0.0.1-SNAPSHOT.jar&quot;]  \r\n```\r\n\r\ndocker-compose.yaml:\r\n```\r\nversion: &#39;3&#39;  \r\nservices:  \r\n  mysql:\r\n    image: mysql:latest\r\n    restart: always\r\n    environment:\r\n      MYSQL_ROOT_PASSWORD: 12345\r\n      MYSQL_DATABASE: weather\r\n      MYSQL_PASSWORD: 12345\r\n    ports:\r\n      - 8090:8090\r\n\r\n  adminer:\r\n    image: adminer\r\n    restart: always\r\n    ports:\r\n      - 8080:8080\r\n\r\n  activemq:\r\n    image: rmohr/activemq\r\n    restart: always\r\n    ports:\r\n      - 8161:8161\r\n      - 61616:61616\r\n\r\n  myproject:\r\n    build:\r\n      context: .\r\n      dockerfile: Dockerfile\r\n    restart: always\r\n    depends_on:\r\n      - mysql\r\n      - activemq\r\n    environment:\r\n      - DATABASE_URL=jdbc:mysql://localhost:3306/weather\r\n      - DATABASE_USERNAME=root\r\n      - DATABASE_PASSWORD=12345\r\n      - ACTIVEMQ_URL=tcp://activemq:61616\r\n```\r\n\r\nThe error occurs only when connecting to the database.  \r\nThe connector is connected in pom.xml.\r\nI tried connecting to the database via connector, everything works fine, but there are some problems in docker.\r\n\r\nError code: \r\n```\r\nCaused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\r\n\r\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server. \r\n\r\n```","title":"The driver has not received any packets from the server. Docker","body":"<p>I have a dockerfile with the following contents:</p>\n<pre><code>FROM openjdk:18  \nWORKDIR /app  \nCOPY ./target/weatertop-0.0.1-SNAPSHOT.jar /app/weatertop-0.0.1-SNAPSHOT.jar  \nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;weatertop-0.0.1-SNAPSHOT.jar&quot;]  \n</code></pre>\n<p>docker-compose.yaml:</p>\n<pre><code>version: '3'  \nservices:  \n  mysql:\n    image: mysql:latest\n    restart: always\n    environment:\n      MYSQL_ROOT_PASSWORD: 12345\n      MYSQL_DATABASE: weather\n      MYSQL_PASSWORD: 12345\n    ports:\n      - 8090:8090\n\n  adminer:\n    image: adminer\n    restart: always\n    ports:\n      - 8080:8080\n\n  activemq:\n    image: rmohr/activemq\n    restart: always\n    ports:\n      - 8161:8161\n      - 61616:61616\n\n  myproject:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    restart: always\n    depends_on:\n      - mysql\n      - activemq\n    environment:\n      - DATABASE_URL=jdbc:mysql://localhost:3306/weather\n      - DATABASE_USERNAME=root\n      - DATABASE_PASSWORD=12345\n      - ACTIVEMQ_URL=tcp://activemq:61616\n</code></pre>\n<p>The error occurs only when connecting to the database.<br />\nThe connector is connected in pom.xml.\nI tried connecting to the database via connector, everything works fine, but there are some problems in docker.</p>\n<p>Error code:</p>\n<pre><code>Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server. \n\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-mongodb"],"comments":[{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1687028870,"post_id":76497579,"comment_id":134881170,"body_markdown":"Is class `Cuourse` a typo?","body":"Is class <code>Cuourse</code> a typo?"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1687030576,"post_id":76497579,"comment_id":134881339,"body_markdown":"Yes, the name of my classes is in Spanish, I have translated it into English. But it&#39;s the same class","body":"Yes, the name of my classes is in Spanish, I have translated it into English. But it&#39;s the same class"},{"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"score":0,"creation_date":1687030790,"post_id":76497579,"comment_id":134881365,"body_markdown":"I corrected the semantic error","body":"I corrected the semantic error"},{"owner":{"account_id":18482495,"reputation":14167,"user_id":13464279,"display_name":"J.F."},"score":0,"creation_date":1687039386,"post_id":76497579,"comment_id":134882115,"body_markdown":"Does the data exists into DB? If it not exists maybe that&#39;s why is not initializing the list. If data exists the list should not be null or empty but if not exists and is not initialized I guess is null.","body":"Does the data exists into DB? If it not exists maybe that&#39;s why is not initializing the list. If data exists the list should not be null or empty but if not exists and is not initialized I guess is null."}],"owner":{"account_id":24379438,"reputation":139,"user_id":18311254,"display_name":"Toms_Hd3z"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687030664,"creation_date":1687026134,"question_id":76497579,"body_markdown":"I have a problem with a REST API that I am testing in postman. I want to be able to authorize a list of student objects to an object of type &quot;Curso&quot; through MONGODB Spring Data document entities. but when I do the aggregation it tells me that the List&lt;Students&gt; attribute is null and I can&#39;t add values:\r\n\r\n    @Document\r\n    public class Student {\r\n        @Id\r\n        private String id;\r\n        @Getter @Setter\r\n        private String primer_nombre;\r\n        @Getter @Setter\r\n        private String segundo_nombre;\r\n        @Getter @Setter\r\n        private String primer_apellido;\r\n        @Getter @Setter\r\n        private String segundo_apellido;\r\n        @Getter @Setter\r\n        private String numero_documento;\r\n        @Getter @Setter\r\n        private documentType tipo_documento;\r\n        @Getter @Setter\r\n        private int nota;\r\n        @Getter @Setter\r\n        private String estado;\r\n    \r\n        public void calificarEstudiante(){\r\n            if(this.getNota() &lt; 3){\r\n                this.setEstado(&quot;reprobado&quot;);\r\n            }else{\r\n                this.setEstado(&quot;aprobado&quot;);\r\n            }\r\n        }\r\n    }\r\n    \r\n    @Data\r\n    @Document\r\n    public class Curso {\r\n       @Id\r\n       @Getter @Setter\r\n       private String id;\r\n       @Getter @Setter\r\n       private String nombre_curso;\r\n       @Getter @Setter\r\n       private String descripcion;\r\n       @Getter @Setter\r\n       private String maestro;\r\n       @DBRef\r\n       @Field(&quot;estudiantes&quot;)\r\n       public List&lt;Student&gt; estudiantes;\r\n    \r\n       public void addStudentsInCourse(Student student){\r\n          System.out.println(&quot;estudiantes = &quot; + estudiantes); //students is null\r\n          this.estudiantes.add(student);\r\n       }\r\n     }\r\n    //Contoller\r\n    @RestController\r\n    @RequestMapping(&quot;/endpoints&quot;)\r\n    public class QualificationsController {\r\n       @PutMapping(&quot;/inscribir/{studentID}/in/{cursoID}&quot;)\r\n       public Curso agregarEstudianteACurso(\r\n            @PathVariable(value =&quot;studentID&quot;)\r\n            String studentID,\r\n            @PathVariable(value =&quot;cursoID&quot;)\r\n            String cursoID)\r\n       {\r\n     \r\n            Curso currentCurso = cursosServices.findById(cursoID);\r\n            Student currentStudent = studentsServices.findById(studentID);\r\n            currentCurso.addStudentsInCourse(currentStudent);\r\n            return this.cursosServices.save(currentCurso);\r\n       }\r\n    }  \r\n\r\n\r\nHow can I add the list of students to the &quot;Curso&quot; object and then persist the changes made? When annotating an attribute with @DBRef I don&#39;t have access to the persisted elements of the student object?\r\n\r\n","title":"How to add an object class to a list of object mapped with @DBRef MongoDB spring Data 3.4.12","body":"<p>I have a problem with a REST API that I am testing in postman. I want to be able to authorize a list of student objects to an object of type &quot;Curso&quot; through MONGODB Spring Data document entities. but when I do the aggregation it tells me that the List attribute is null and I can't add values:</p>\n<pre><code>@Document\npublic class Student {\n    @Id\n    private String id;\n    @Getter @Setter\n    private String primer_nombre;\n    @Getter @Setter\n    private String segundo_nombre;\n    @Getter @Setter\n    private String primer_apellido;\n    @Getter @Setter\n    private String segundo_apellido;\n    @Getter @Setter\n    private String numero_documento;\n    @Getter @Setter\n    private documentType tipo_documento;\n    @Getter @Setter\n    private int nota;\n    @Getter @Setter\n    private String estado;\n\n    public void calificarEstudiante(){\n        if(this.getNota() &lt; 3){\n            this.setEstado(&quot;reprobado&quot;);\n        }else{\n            this.setEstado(&quot;aprobado&quot;);\n        }\n    }\n}\n\n@Data\n@Document\npublic class Curso {\n   @Id\n   @Getter @Setter\n   private String id;\n   @Getter @Setter\n   private String nombre_curso;\n   @Getter @Setter\n   private String descripcion;\n   @Getter @Setter\n   private String maestro;\n   @DBRef\n   @Field(&quot;estudiantes&quot;)\n   public List&lt;Student&gt; estudiantes;\n\n   public void addStudentsInCourse(Student student){\n      System.out.println(&quot;estudiantes = &quot; + estudiantes); //students is null\n      this.estudiantes.add(student);\n   }\n }\n//Contoller\n@RestController\n@RequestMapping(&quot;/endpoints&quot;)\npublic class QualificationsController {\n   @PutMapping(&quot;/inscribir/{studentID}/in/{cursoID}&quot;)\n   public Curso agregarEstudianteACurso(\n        @PathVariable(value =&quot;studentID&quot;)\n        String studentID,\n        @PathVariable(value =&quot;cursoID&quot;)\n        String cursoID)\n   {\n \n        Curso currentCurso = cursosServices.findById(cursoID);\n        Student currentStudent = studentsServices.findById(studentID);\n        currentCurso.addStudentsInCourse(currentStudent);\n        return this.cursosServices.save(currentCurso);\n   }\n}  \n</code></pre>\n<p>How can I add the list of students to the &quot;Curso&quot; object and then persist the changes made? When annotating an attribute with @DBRef I don't have access to the persisted elements of the student object?</p>\n"},{"tags":["java","spring-boot","capacity-planning"],"answers":[{"comments":[{"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"score":0,"creation_date":1687063466,"post_id":76497844,"comment_id":134883374,"body_markdown":"I understand that its an iterative process, but what is the starting resources based on the performance criterion needed?","body":"I understand that its an iterative process, but what is the starting resources based on the performance criterion needed?"}],"tags":[],"owner":{"account_id":23154670,"reputation":159,"user_id":17256101,"display_name":"Amir Shaikh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687030262,"creation_date":1687030262,"answer_id":76497844,"question_id":76496313,"body_markdown":"Optimizing Hardware Resource Planning for Application Performance and Scalability\r\n========================================================================\r\n\r\n\r\n----------\r\n\r\n\r\n**ans:** Above mention approaches won&#39;t provide accurate performance metrics for your specific application.\r\n\r\n\r\nSummary:\r\n--------\r\n\r\nEffective hardware resource planning plays a critical role in ensuring optimal application performance and scalability. This involves a systematic and iterative evaluation process, taking into account evolving requirements and application performance metrics. Thorough performance testing on the live application is essential to ensure stability and scalability.\r\n\r\nKey Points:\r\n-----------\r\n\r\n1. **Iterative Evaluation and Adjustment:** Hardware resource planning should be an ongoing process, continually assessing the application&#39;s performance and adapting to changing requirements.\r\n2. **Comprehensive Performance Testing:** Rigorous performance testing on the live application is crucial to identify bottlenecks, optimize resource allocation, and ensure stable operation.\r\n3. **Iterative Load Testing:** Load testing should be conducted iteratively throughout the application&#39;s lifecycle, considering changes in architecture, requirements, and anticipated user behavior.\r\n4. **Application-Specific Load and Performance Characteristics:** Each application has unique load and performance requirements influenced by factors such as architecture, user behavior, and specific functional needs.\r\n\r\n","title":"Hardware resource planning for Springboot application","body":"<h1>Optimizing Hardware Resource Planning for Application Performance and Scalability</h1>\n<hr />\n<p><strong>ans:</strong> Above mention approaches won't provide accurate performance metrics for your specific application.</p>\n<h2>Summary:</h2>\n<p>Effective hardware resource planning plays a critical role in ensuring optimal application performance and scalability. This involves a systematic and iterative evaluation process, taking into account evolving requirements and application performance metrics. Thorough performance testing on the live application is essential to ensure stability and scalability.</p>\n<h2>Key Points:</h2>\n<ol>\n<li><strong>Iterative Evaluation and Adjustment:</strong> Hardware resource planning should be an ongoing process, continually assessing the application's performance and adapting to changing requirements.</li>\n<li><strong>Comprehensive Performance Testing:</strong> Rigorous performance testing on the live application is crucial to identify bottlenecks, optimize resource allocation, and ensure stable operation.</li>\n<li><strong>Iterative Load Testing:</strong> Load testing should be conducted iteratively throughout the application's lifecycle, considering changes in architecture, requirements, and anticipated user behavior.</li>\n<li><strong>Application-Specific Load and Performance Characteristics:</strong> Each application has unique load and performance requirements influenced by factors such as architecture, user behavior, and specific functional needs.</li>\n</ol>\n"}],"owner":{"account_id":2028428,"reputation":423,"user_id":1812810,"accept_rate":41,"display_name":"kakoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687030262,"creation_date":1687007196,"question_id":76496313,"body_markdown":"I need to do hardware sizing (CPU cores, RAM) for a Spring boot application which will be running on Tomcat web-server.\r\nThe application, to be built from scratch, does not have front-end. \r\nIt is primarily controller-service-persistence with PostgreSQL as database, exposing the server as REST APIs.\r\n\r\n**Performance metrics for Production :**\r\n\r\n    Appl. response time &lt; 10msec\r\n    Concurrent users - max 5000\r\n    Data size upto 100 MB, audit logs - upto 1TB.\r\n    \r\nIf we have a cluster of 3 nodes, how do I arrive at the CPU, RAM requirement for each node? It can be an approx. +- 20%.\r\n\r\nI saw some links on stackoverflow in similar topics where solution was :\r\nYou need to create some load e.g. using Jmeter for a realistic work load of requests and users. Most likely you need to test for 20, 40, 60...users until the system doesn&#39;t perform so well.\r\n\r\nHow do I create load where application is yet to be developed?\r\nIs there any rule-of-thumb for an approx. starting point?\r\n","title":"Hardware resource planning for Springboot application","body":"<p>I need to do hardware sizing (CPU cores, RAM) for a Spring boot application which will be running on Tomcat web-server.\nThe application, to be built from scratch, does not have front-end.\nIt is primarily controller-service-persistence with PostgreSQL as database, exposing the server as REST APIs.</p>\n<p><strong>Performance metrics for Production :</strong></p>\n<pre><code>Appl. response time &lt; 10msec\nConcurrent users - max 5000\nData size upto 100 MB, audit logs - upto 1TB.\n</code></pre>\n<p>If we have a cluster of 3 nodes, how do I arrive at the CPU, RAM requirement for each node? It can be an approx. +- 20%.</p>\n<p>I saw some links on stackoverflow in similar topics where solution was :\nYou need to create some load e.g. using Jmeter for a realistic work load of requests and users. Most likely you need to test for 20, 40, 60...users until the system doesn't perform so well.</p>\n<p>How do I create load where application is yet to be developed?\nIs there any rule-of-thumb for an approx. starting point?</p>\n"},{"tags":["java","spring","jpa","spring-batch"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1687024262,"post_id":76497416,"comment_id":134880647,"body_markdown":"Are the two methods defined in the same class? IIRC, transactional only works for calls across different Spring beans.","body":"Are the two methods defined in the same class? IIRC, transactional only works for calls across different Spring beans."},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1687024607,"post_id":76497416,"comment_id":134880677,"body_markdown":"@daniu I was going to ask the same question.  The way Spring proxies methods requires calls to be external calls (if you want the annotation to work).  See https://www.baeldung.com/transaction-configuration-with-jpa-and-spring which says &quot;Any self-invocation calls will not start any transaction, even if the method has the `@Transactional` annotation.&quot;","body":"@daniu I was going to ask the same question.  The way Spring proxies methods requires calls to be external calls (if you want the annotation to work).  See <a href=\"https://www.baeldung.com/transaction-configuration-with-jpa-and-spring\" rel=\"nofollow noreferrer\">baeldung.com/transaction-configuration-with-jpa-and-spring</a> which says &quot;Any self-invocation calls will not start any transaction, even if the method has the <code>@Transactional</code> annotation.&quot;"},{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":1,"creation_date":1687025026,"post_id":76497416,"comment_id":134880730,"body_markdown":"Also, after over a decade of using Spring Framework, Spring Security, and various other Spring projects, I&#39;m confident in saying that when someone thinks Spring is broken there&#39;s a 99% chance that person is wrong. :)  Sure, Spring has bugs but encountering one in a basic, core feature is highly unlikely.","body":"Also, after over a decade of using Spring Framework, Spring Security, and various other Spring projects, I&#39;m confident in saying that when someone thinks Spring is broken there&#39;s a 99% chance that person is wrong. :)  Sure, Spring has bugs but encountering one in a basic, core feature is highly unlikely."},{"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"score":0,"creation_date":1687028981,"post_id":76497416,"comment_id":134881179,"body_markdown":"question: why is the transaction management here relevant? As you described it, you are saving X entities and the first one is expected to throw, but the second one is not, but somehow the second one throws too. Are you expecting that the first save is getting rolled back? Because if the constraint happened, then you dont need to rollback since it wasnt inserted anyway, so this means for me that the second entry in the list is faulty aswell","body":"question: why is the transaction management here relevant? As you described it, you are saving X entities and the first one is expected to throw, but the second one is not, but somehow the second one throws too. Are you expecting that the first save is getting rolled back? Because if the constraint happened, then you dont need to rollback since it wasnt inserted anyway, so this means for me that the second entry in the list is faulty aswell"},{"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"score":0,"creation_date":1687154558,"post_id":76497416,"comment_id":134891602,"body_markdown":"@daniu that&#39;s right. I was defining both methods in the same class, I tried to change it and it works now. Thanks!","body":"@daniu that&#39;s right. I was defining both methods in the same class, I tried to change it and it works now. Thanks!"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1687166597,"post_id":76497416,"comment_id":134893830,"body_markdown":"@Victor Glad to hear your issue is solved! It would be great to share your solution in an answer and accept it, so that other people having the same issue know how you did it. Thank you.","body":"@Victor Glad to hear your issue is solved! It would be great to share your solution in an answer and accept it, so that other people having the same issue know how you did it. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":14358183,"reputation":339,"user_id":10371394,"display_name":"Sebastian Lore"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687026578,"creation_date":1687026578,"answer_id":76497608,"question_id":76497416,"body_markdown":"As people mentioned in comments, there are some caveats in how Spring handles transactions. And if that&#39;s the case and you do have these two methods in the same class - it won&#39;t work properly. You could go around with something like this:\r\n```java\r\n@Service\r\npublic class MyService {\r\n\r\n    @Lookup\r\n    public MyService self() {\r\n       return null;\r\n    }\r\n\r\n} \r\n```\r\n\r\nAnd then call saveMemberItem like this `self().saveMemberItem (...)`.\r\n\r\nP.S. I&#39;m not sure how good is this way of retrieving self, but there are other ways which you can find on the Internet.\r\n\r\nhttps://www.baeldung.com/spring-self-injection","title":"My @Transactional is malfunctioning in Spring Batch","body":"<p>As people mentioned in comments, there are some caveats in how Spring handles transactions. And if that's the case and you do have these two methods in the same class - it won't work properly. You could go around with something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class MyService {\n\n    @Lookup\n    public MyService self() {\n       return null;\n    }\n\n} \n</code></pre>\n<p>And then call saveMemberItem like this <code>self().saveMemberItem (...)</code>.</p>\n<p>P.S. I'm not sure how good is this way of retrieving self, but there are other ways which you can find on the Internet.</p>\n<p><a href=\"https://www.baeldung.com/spring-self-injection\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-self-injection</a></p>\n"},{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687030181,"creation_date":1687030181,"answer_id":76497839,"question_id":76497416,"body_markdown":"Here is a different guess of what could cause the error:\r\n\r\nYou mentioned that you use spring batch and spring batch has a Transaction per chunk **already**.\r\n\r\nGiven the following code:\r\n\r\n    @Transaction\r\n    public void foo(Object obj){\r\n        repository.save(obj);\r\n    }\r\n\r\nWhat happens behind the scenes is that the code gets proxied to something like this:\r\n\r\n    public void foo(Object obj){\r\n        try {\r\n            repository.save(obj);\r\n        } catch(Exception e){\r\n            markForRollback();\r\n            throw e;\r\n        }\r\n    }\r\n\r\nyou are catching the exception one level higher:\r\n\r\n    public void abc(){\r\n        try {\r\n            foo(obj); //here the first save throws, goes throug the proxied code, gets rethrown and is caught here\r\n        } catch(Exception e){\r\n            log.error(&quot;error!&quot;);\r\n        }\r\n    } \r\n\r\nBut this means that the markForRollback() is getting executed! Since you already have a transaction because of spring batch, the whole batch is **likely** getting rolled back (but not sure here! thats why its a guess) at the end of the chunk.\r\n\r\nYou can try 3 things:\r\n\r\n* move the try catch code into the saveMemberItems method\r\n* remove the @Transactional annotation, because then the proxy is not markign the whole transaction for rollback\r\n* You can change the annotation to: @Transactional(propagation = Propagation.REQUIRES_NEW), which means a new transaction is getting created and you **only** rollback the first save and nothing more\r\n\r\nI would go for the second solution","title":"My @Transactional is malfunctioning in Spring Batch","body":"<p>Here is a different guess of what could cause the error:</p>\n<p>You mentioned that you use spring batch and spring batch has a Transaction per chunk <strong>already</strong>.</p>\n<p>Given the following code:</p>\n<pre><code>@Transaction\npublic void foo(Object obj){\n    repository.save(obj);\n}\n</code></pre>\n<p>What happens behind the scenes is that the code gets proxied to something like this:</p>\n<pre><code>public void foo(Object obj){\n    try {\n        repository.save(obj);\n    } catch(Exception e){\n        markForRollback();\n        throw e;\n    }\n}\n</code></pre>\n<p>you are catching the exception one level higher:</p>\n<pre><code>public void abc(){\n    try {\n        foo(obj); //here the first save throws, goes throug the proxied code, gets rethrown and is caught here\n    } catch(Exception e){\n        log.error(&quot;error!&quot;);\n    }\n} \n</code></pre>\n<p>But this means that the markForRollback() is getting executed! Since you already have a transaction because of spring batch, the whole batch is <strong>likely</strong> getting rolled back (but not sure here! thats why its a guess) at the end of the chunk.</p>\n<p>You can try 3 things:</p>\n<ul>\n<li>move the try catch code into the saveMemberItems method</li>\n<li>remove the @Transactional annotation, because then the proxy is not markign the whole transaction for rollback</li>\n<li>You can change the annotation to: @Transactional(propagation = Propagation.REQUIRES_NEW), which means a new transaction is getting created and you <strong>only</strong> rollback the first save and nothing more</li>\n</ul>\n<p>I would go for the second solution</p>\n"}],"owner":{"account_id":17090435,"reputation":253,"user_id":16862042,"display_name":"Victor"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687030181,"creation_date":1687023744,"question_id":76497416,"body_markdown":"I&#39;m having trouble with making a save in my Spring Batch project.\r\n\r\nHere&#39;s my service method that I&#39;m using in my writer:\r\n\r\n```java\r\npublic void saveMember(List&lt;? extends MemberResult&gt; list) {\r\n   for (MemberResult memberResult : list) {\r\n      try {\r\n         saveMemberItem(memberResult);\r\n      } catch (Exception e) {\r\n         log.error(&quot;An error has occurred while saving the member&quot;);\r\n      }\r\n   }\r\n}\r\n```\r\n\r\nAnd this is my &quot;saveMemberItem&quot; method:\r\n\r\n```java\r\n @Transactional\r\npublic void saveMemberItem(MemberResult memberResult) {\r\n   if (Objects.nonNull(memberResult)) {\r\n      memberResultRepository.save(memberResult);\r\n   }\r\n}\r\n```\r\n\r\nThis isn&#39;t the complete method, as there are more things I need to add.\r\n\r\nI&#39;m using JPA to save the records and I&#39;m trying to save many records, with the first one having existing information in the database and the second one having new information. \r\n\r\nWhen I try to save the first record, I get a database error about a constraint conflict, which is expected.\r\n\r\nBut when the process tries to save the second record, I get the same constraint error as the previous one. I evaluate the &quot;save&quot; method again, and now the saving is okay. But when I run the Spring Batch process without debug, I get the error I mentioned before.\r\n\r\nI&#39;m using the `@EnableTransactionManagement` annotation in my `Application.java` class.\r\n\r\nWhat am I doing wrong?","title":"My @Transactional is malfunctioning in Spring Batch","body":"<p>I'm having trouble with making a save in my Spring Batch project.</p>\n<p>Here's my service method that I'm using in my writer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void saveMember(List&lt;? extends MemberResult&gt; list) {\n   for (MemberResult memberResult : list) {\n      try {\n         saveMemberItem(memberResult);\n      } catch (Exception e) {\n         log.error(&quot;An error has occurred while saving the member&quot;);\n      }\n   }\n}\n</code></pre>\n<p>And this is my &quot;saveMemberItem&quot; method:</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Transactional\npublic void saveMemberItem(MemberResult memberResult) {\n   if (Objects.nonNull(memberResult)) {\n      memberResultRepository.save(memberResult);\n   }\n}\n</code></pre>\n<p>This isn't the complete method, as there are more things I need to add.</p>\n<p>I'm using JPA to save the records and I'm trying to save many records, with the first one having existing information in the database and the second one having new information.</p>\n<p>When I try to save the first record, I get a database error about a constraint conflict, which is expected.</p>\n<p>But when the process tries to save the second record, I get the same constraint error as the previous one. I evaluate the &quot;save&quot; method again, and now the saving is okay. But when I run the Spring Batch process without debug, I get the error I mentioned before.</p>\n<p>I'm using the <code>@EnableTransactionManagement</code> annotation in my <code>Application.java</code> class.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java","architecture","keycloak","openid-connect","user-management"],"owner":{"account_id":7408919,"reputation":701,"user_id":5638500,"display_name":"Loic P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687030154,"creation_date":1683975159,"question_id":76242341,"body_markdown":"## TL;DR \r\nI don&#39;t know the best practise(s) to include user rights inside OIDC protocol to ensure that my REST API is stateless as much as possible. \r\n\r\n#### Technologies context \r\nA single page application (also called SPA) is communicating with REST API (Quarkus behind) via the OIDC protocol (Keycloak used). Keycloak is used for OIDC support but also for as Identity provider. Therefore, no user data (such as roles or rights) are stored within application database. \r\n\r\n#### Project context \r\nThe project is Jira like, each user can administrate, edit, view from zero to infinite projects. Role is only used for application admin and application user. For the admin, project rights ar not checked as the application admin can administrate, edit, view all projects of the applications (same way as GitLab for example). But for user application, rights must be check for each resource calls to identify whether it can administrate, edit, view, belong to the requested project.\r\n\r\n#### Actual issue \r\nAlthough the user role(s) can be easily be set using Keycloak administration interface and append to access token, the right management is a little trickier. **In mind of stateless, is it mandatary to transfer the rights using OIDC protocol (by extension Keycloak instance) or must be checked within the application database while accessing resource via REST API?** \r\n\r\n#### Points to be noted\r\n1. I already looked for custom mapper using Keycloak SDK to add dynamic custom claims (rights : &lt;rights array from database&gt;) but the cons are that if the user rights are changed, the access token may not reflecting it unless the token is refreshed (https://www.baeldung.com/keycloak-custom-protocol-mapper). Besides this try, I do not know if this approach is a bad or best practise.\r\n2. User rights could be cached, but terms of scalability and memory consumption it should be avoid for an application managing a big amount of user/rights\r\n3. I am trying to develop a REST API as much as possible stateless, therefore having the role and rights inside request (using OIDC protocol) will be a nice to have but this criteria can be neglected to use OIDC. So, the request will be done by an authenticated “who” and application will check (inside resource) whether the authenticated “who” has right to access further more to the resource by accessing rights within application database\r\n4. I was/am looking for a lot of documentation about OIDC flow and so on. None actually talk about this kind of scenario, which I think, may point that this is not the right approach.\r\n\r\n","title":"How to do &quot;faster acess&quot; to user rights using stateless API and OIDC protocol","body":"<h2>TL;DR</h2>\n<p>I don't know the best practise(s) to include user rights inside OIDC protocol to ensure that my REST API is stateless as much as possible.</p>\n<h4>Technologies context</h4>\n<p>A single page application (also called SPA) is communicating with REST API (Quarkus behind) via the OIDC protocol (Keycloak used). Keycloak is used for OIDC support but also for as Identity provider. Therefore, no user data (such as roles or rights) are stored within application database.</p>\n<h4>Project context</h4>\n<p>The project is Jira like, each user can administrate, edit, view from zero to infinite projects. Role is only used for application admin and application user. For the admin, project rights ar not checked as the application admin can administrate, edit, view all projects of the applications (same way as GitLab for example). But for user application, rights must be check for each resource calls to identify whether it can administrate, edit, view, belong to the requested project.</p>\n<h4>Actual issue</h4>\n<p>Although the user role(s) can be easily be set using Keycloak administration interface and append to access token, the right management is a little trickier. <strong>In mind of stateless, is it mandatary to transfer the rights using OIDC protocol (by extension Keycloak instance) or must be checked within the application database while accessing resource via REST API?</strong></p>\n<h4>Points to be noted</h4>\n<ol>\n<li>I already looked for custom mapper using Keycloak SDK to add dynamic custom claims (rights : ) but the cons are that if the user rights are changed, the access token may not reflecting it unless the token is refreshed (<a href=\"https://www.baeldung.com/keycloak-custom-protocol-mapper\" rel=\"nofollow noreferrer\">https://www.baeldung.com/keycloak-custom-protocol-mapper</a>). Besides this try, I do not know if this approach is a bad or best practise.</li>\n<li>User rights could be cached, but terms of scalability and memory consumption it should be avoid for an application managing a big amount of user/rights</li>\n<li>I am trying to develop a REST API as much as possible stateless, therefore having the role and rights inside request (using OIDC protocol) will be a nice to have but this criteria can be neglected to use OIDC. So, the request will be done by an authenticated “who” and application will check (inside resource) whether the authenticated “who” has right to access further more to the resource by accessing rights within application database</li>\n<li>I was/am looking for a lot of documentation about OIDC flow and so on. None actually talk about this kind of scenario, which I think, may point that this is not the right approach.</li>\n</ol>\n"},{"tags":["java","iso8601","sap-pi","sap-xi"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":2,"creation_date":1530643247,"post_id":51161060,"comment_id":89305580,"body_markdown":"No you don&#39;t. You need to find a good date time library, and use that. Don&#39;t ever roll your own: you have no idea how insane dates get. Not even after learning how insane dates get.","body":"No you don&#39;t. You need to find a good date time library, and use that. Don&#39;t ever roll your own: you have no idea how insane dates get. Not even after learning how insane dates get."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":2,"creation_date":1530643314,"post_id":51161060,"comment_id":89305616,"body_markdown":"Yes, `DatetimeFormat.ISO_FORMAT.format(yourDatetime) `","body":"Yes, <code>DatetimeFormat.ISO_FORMAT.format(yourDatetime) </code>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1530681353,"post_id":51161060,"comment_id":89315488,"body_markdown":"Don’t use `SimpleDateFormat`, it’s not only long outdated, it’s also notoriously troublesome. Instead use [`java.time`, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). BTW you have forgot to show us your attempt and how it failed.","body":"Don’t use <code>SimpleDateFormat</code>, it’s not only long outdated, it’s also notoriously troublesome. Instead use <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\"><code>java.time</code>, the modern Java date and time API</a>. BTW you have forgot to show us your attempt and how it failed."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1530690457,"post_id":51161060,"comment_id":89319737,"body_markdown":"Search for the java.time class `LocalDateTime`.","body":"Search for the java.time class <code>LocalDateTime</code>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1530698749,"post_id":51161060,"comment_id":89324658,"body_markdown":"Assuming `yourDate` is a `LocalDate`, use `yourDate.atStartOfDay().toString()`. It gives a string like `2018-11-29T00:00`. It hasn’t got seconds, but conforms with the ISO 8601 standard, so should work in your XML and SAP. If it doesn’t, you will need to use `yourDate.atStartOfDay().format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;))`.","body":"Assuming <code>yourDate</code> is a <code>LocalDate</code>, use <code>yourDate.atStartOfDay().toString()</code>. It gives a string like <code>2018-11-29T00:00</code>. It hasn’t got seconds, but conforms with the ISO 8601 standard, so should work in your XML and SAP. If it doesn’t, you will need to use <code>yourDate.atStartOfDay().format(DateTimeFormatter.ofPattern(&quot;&zwnj;&#8203;uuuu-MM-dd&#39;T&#39;HH:mm:s&zwnj;&#8203;s&quot;))</code>."},{"owner":{"account_id":421400,"reputation":677,"user_id":799620,"accept_rate":61,"display_name":"Mike Dole"},"score":0,"creation_date":1530717225,"post_id":51161060,"comment_id":89336162,"body_markdown":"Thanks Ole, that is exactly what I was looking for!","body":"Thanks Ole, that is exactly what I was looking for!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1530783526,"post_id":51161060,"comment_id":89357633,"body_markdown":"Related questions (previously marked as originals of this one): \n[Convert java.util.Date to String](https://stackoverflow.com/questions/5683728/convert-java-util-date-to-string) *15 answers*.\n[How to get current moment in ISO 8601 format with date, hour, and minute?](https://stackoverflow.com/questions/3914404/how-to-get-current-moment-in-iso-8601-format-with-date-hour-and-minute) *21 answers*.","body":"Related questions (previously marked as originals of this one):  <a href=\"https://stackoverflow.com/questions/5683728/convert-java-util-date-to-string\">Convert java.util.Date to String</a> <i>15 answers</i>. <a href=\"https://stackoverflow.com/questions/3914404/how-to-get-current-moment-in-iso-8601-format-with-date-hour-and-minute\">How to get current moment in ISO 8601 format with date, hour, and minute?</a> <i>21 answers</i>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1530783536,"post_id":51161060,"comment_id":89357639,"body_markdown":"I have unmarked this questions as duplicate because none of the linked originals really gave the precise information the asker was after, and I didn’t find it appropriate to add it as an answer to any of those. Mike Dole, if you like, you may add your solution as an answer here rather than giving it in the question (where it doesn’t really belong).","body":"I have unmarked this questions as duplicate because none of the linked originals really gave the precise information the asker was after, and I didn’t find it appropriate to add it as an answer to any of those. Mike Dole, if you like, you may add your solution as an answer here rather than giving it in the question (where it doesn’t really belong)."}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530795890,"creation_date":1530783750,"answer_id":51188086,"question_id":51161060,"body_markdown":"\t\tString dateStringFromSapPo = &quot;2018-08-15&quot;;\r\n\t\tLocalDate date = LocalDate.parse(dateStringFromSapPo);\r\n\t\tLocalDateTime dateTime = date.atStartOfDay();\r\n\t\tString dateTimeStringForSapPi = dateTime.toString();\r\n\t\tSystem.out.println(&quot;String for SAP PI: &quot; + dateTimeStringForSapPi);\r\n\r\nThis prints:\r\n\r\n&gt; String for SAP PI: 2018-08-15T00:00\r\n\r\nIt hasn’t got seconds, but conforms with the ISO 8601 standard, so should work in your XML and SAP. If it doesn’t, you will need to use an explicit formatter:\r\n\r\n\t\tDateTimeFormatter dateTimeFormatter\r\n\t\t\t\t= DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss&quot;);\r\n\t\tString dateTimeStringForSapPi = dateTime.format(dateTimeFormatter);\r\n\r\nNow the seconds come out too:\r\n\r\n&gt; String for SAP PI: 2018-08-15T00:00:00\r\n\r\nAs an aside, it worries me a bit to give you a date-time string without time zone or offset. It’s not a point in time and to interpret it as one, SAP will have to assume a time zone. Only if you are sure it picks the intended one, you’re fine. If not, I’m sorry that I cannot tell you the solution.\r\n\r\n**Link:** [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use `java.time`","title":"SAP PI UDF to convert date without time to datetime ISO8601 string","body":"<pre><code>    String dateStringFromSapPo = \"2018-08-15\";\n    LocalDate date = LocalDate.parse(dateStringFromSapPo);\n    LocalDateTime dateTime = date.atStartOfDay();\n    String dateTimeStringForSapPi = dateTime.toString();\n    System.out.println(\"String for SAP PI: \" + dateTimeStringForSapPi);\n</code></pre>\n\n<p>This prints:</p>\n\n<blockquote>\n  <p>String for SAP PI: 2018-08-15T00:00</p>\n</blockquote>\n\n<p>It hasn’t got seconds, but conforms with the ISO 8601 standard, so should work in your XML and SAP. If it doesn’t, you will need to use an explicit formatter:</p>\n\n<pre><code>    DateTimeFormatter dateTimeFormatter\n            = DateTimeFormatter.ofPattern(\"uuuu-MM-dd'T'HH:mm:ss\");\n    String dateTimeStringForSapPi = dateTime.format(dateTimeFormatter);\n</code></pre>\n\n<p>Now the seconds come out too:</p>\n\n<blockquote>\n  <p>String for SAP PI: 2018-08-15T00:00:00</p>\n</blockquote>\n\n<p>As an aside, it worries me a bit to give you a date-time string without time zone or offset. It’s not a point in time and to interpret it as one, SAP will have to assume a time zone. Only if you are sure it picks the intended one, you’re fine. If not, I’m sorry that I cannot tell you the solution.</p>\n\n<p><strong>Link:</strong> <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use <code>java.time</code></p>\n"}],"owner":{"account_id":421400,"reputation":677,"user_id":799620,"accept_rate":61,"display_name":"Mike Dole"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2347,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1687029140,"creation_date":1530643050,"question_id":51161060,"body_markdown":"I need to write a java function for SAP PI which returns a string for my XML mapping in the format: `yyyy-MM-dd T HH:mm:ss` (e.g., `2018-08-15T00:00:00`) even when my source field is just a date field without time (e.g., `2018-08-15`).\r\n\r\nI&#39;ve tried the `SimpleDateFormat` Java class but I can&#39;t get it to work.\r\n\r\nIs there a simple way of doing this?\r\n\r\nIn the suggested posts (answers / duplicates / links) I couldn&#39;t find what I was looking for. Guess I didn&#39;t make myself clear enough describing the problem but the thing was I&#39;m getting the date from a source XML (SAP PO) and I need to convert it to an ISO 8601 date in the target XML.\r\n\r\nThanks to Ole I came up with the following &#39;beginners&#39; function (for completeness):\r\n\r\n    public String DH_FormatDateTimeStringB(String ndate, String npattern, Container container) throws StreamTransformationException{\r\n    //This function gets a date from the IDOC and returns it as a datetime string in ISO 8601 (ISO 8601 Representation of dates and times \r\n    //in information interchange required. Ex: npattern = &quot;yyyy-MM-dd&quot;)    \r\n           \r\n           DateTimeFormatter formatterDate = DateTimeFormatter.ofPattern(npattern);\r\n           LocalDate date = LocalDate.parse(ndate, formatterDate);\r\n           \r\n           //Convert date to datetime\r\n           LocalDateTime localDateTime1 = date.atStartOfDay(); \r\n\r\n           //System.out.println(localDateTime1.toString());\r\n           \r\n           return localDateTime1.toString(); \r\n    }\r\n\r\nSince it now only takes a date without time, maybe `atStartOfDay` will do. Maybe I adjust it later on to see if there&#39;s a time part in the string.\r\n\r\nThanks all for helping out!\r\n","title":"SAP PI UDF to convert date without time to datetime ISO8601 string","body":"<p>I need to write a java function for SAP PI which returns a string for my XML mapping in the format: <code>yyyy-MM-dd T HH:mm:ss</code> (e.g., <code>2018-08-15T00:00:00</code>) even when my source field is just a date field without time (e.g., <code>2018-08-15</code>).</p>\n<p>I've tried the <code>SimpleDateFormat</code> Java class but I can't get it to work.</p>\n<p>Is there a simple way of doing this?</p>\n<p>In the suggested posts (answers / duplicates / links) I couldn't find what I was looking for. Guess I didn't make myself clear enough describing the problem but the thing was I'm getting the date from a source XML (SAP PO) and I need to convert it to an ISO 8601 date in the target XML.</p>\n<p>Thanks to Ole I came up with the following 'beginners' function (for completeness):</p>\n<pre><code>public String DH_FormatDateTimeStringB(String ndate, String npattern, Container container) throws StreamTransformationException{\n//This function gets a date from the IDOC and returns it as a datetime string in ISO 8601 (ISO 8601 Representation of dates and times \n//in information interchange required. Ex: npattern = &quot;yyyy-MM-dd&quot;)    \n       \n       DateTimeFormatter formatterDate = DateTimeFormatter.ofPattern(npattern);\n       LocalDate date = LocalDate.parse(ndate, formatterDate);\n       \n       //Convert date to datetime\n       LocalDateTime localDateTime1 = date.atStartOfDay(); \n\n       //System.out.println(localDateTime1.toString());\n       \n       return localDateTime1.toString(); \n}\n</code></pre>\n<p>Since it now only takes a date without time, maybe <code>atStartOfDay</code> will do. Maybe I adjust it later on to see if there's a time part in the string.</p>\n<p>Thanks all for helping out!</p>\n"},{"tags":["java","nullpointerexception","sap-pi","sap-xi"],"comments":[{"owner":{"account_id":179146,"reputation":2938,"user_id":411602,"accept_rate":83,"display_name":"Sheetal Mohan Sharma"},"score":0,"creation_date":1544029398,"post_id":53637273,"comment_id":94134273,"body_markdown":"where is this exception thrown? share your stacktrace","body":"where is this exception thrown? share your stacktrace"},{"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"score":0,"creation_date":1544029978,"post_id":53637273,"comment_id":94134634,"body_markdown":"I am sorry, I cant share the stack trace sheetal due to privacy issue. But please find below entire description of error in the test tab of OM:  **java.lang.NullPointerException, while trying to invoke the method com.sap.aii.mapping.api.TransformationInput.getInputParameters() of a null object loaded from nfe2b.test.XmlNFe_To_Mail.input of an object loaded from local variable &quot;this&quot;**","body":"I am sorry, I cant share the stack trace sheetal due to privacy issue. But please find below entire description of error in the test tab of OM:  <b>java.lang.NullPointerException, while trying to invoke the method com.sap.aii.mapping.api.TransformationInput.getInputParamete&zwnj;&#8203;rs() of a null object loaded from nfe2b.test.XmlNFe_To_Mail.input of an object loaded from local variable &quot;this&quot;</b>"}],"answers":[{"comments":[{"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"score":0,"creation_date":1544030363,"post_id":53637381,"comment_id":94134821,"body_markdown":"Hi next soft thanks for replying . Kindly tell me instead of  TransformationInput input = null; if I write  TransformationInput input = new TransformationInput() to create the instance. Will it work? and in the transform function below in the end i have specified  **public void transform(TransformationInput in, TransformationOutput out) throws StreamTransformationException** Will creating instance above affect the tranform function code?","body":"Hi next soft thanks for replying . Kindly tell me instead of  TransformationInput input = null; if I write  TransformationInput input = new TransformationInput() to create the instance. Will it work? and in the transform function below in the end i have specified  <b>public void transform(TransformationInput in, TransformationOutput out) throws StreamTransformationException</b> Will creating instance above affect the tranform function code?"},{"owner":{"display_name":"user10713028"},"score":0,"creation_date":1544030510,"post_id":53637381,"comment_id":94134897,"body_markdown":"so you can pass as reference.. for example TransformationInput input; this declared as variable of instance. so in the transform method you can pass it as reference .. this.input = input; and call it on where you are working","body":"so you can pass as reference.. for example TransformationInput input; this declared as variable of instance. so in the transform method you can pass it as reference .. this.input = input; and call it on where you are working"},{"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"score":0,"creation_date":1544030730,"post_id":53637381,"comment_id":94135003,"body_markdown":"I am accepting the parameterized values in the execute function. so if i am understanding you correctly, this is how i am suppose to modify it.  **TransformationInput input  ;      public void execute(InputStream in, OutputStream out) throws StreamTransformationException {        {\nthis.input=input;\n  BSSystem = input.getInputParameters().getString(&quot;BS_NAME&quot;);\n    ComChannel =input.getInputParameters().getString(&quot;CHANNEL_NAME&quot;);\n    Emails= input.getInputParameters().getString(&quot;EMAIL&quot;);** Correct?","body":"I am accepting the parameterized values in the execute function. so if i am understanding you correctly, this is how i am suppose to modify it.  <b>TransformationInput input  ;      public void execute(InputStream in, OutputStream out) throws StreamTransformationException {        { this.input=input;   BSSystem = input.getInputParameters().getString(&quot;BS_NAME&quot;);     ComChannel =input.getInputParameters().getString(&quot;CHANNEL_NAME&quot;);     Emails= input.getInputParameters().getString(&quot;EMAIL&quot;);</b> Correct?"},{"owner":{"display_name":"user10713028"},"score":0,"creation_date":1544030943,"post_id":53637381,"comment_id":94135098,"body_markdown":"@Kaushik Yes, you are doing it, How is it going?","body":"@Kaushik Yes, you are doing it, How is it going?"}],"tags":[],"owner":{"display_name":"user10713028"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544029650,"creation_date":1544029650,"answer_id":53637381,"question_id":53637273,"body_markdown":"It&#39;s missing instance from the TransformationInput/TransformationOutput classes because their variables are null,\r\n\r\n       TransformationInput input = null;               \r\n       TransformationOutput output = null;\r\n\r\nSo you need to instance them or pass them as reference on some setter.\r\n\r\n      ","title":"NullPointerException while invoking method getInputParameters()","body":"<p>It's missing instance from the TransformationInput/TransformationOutput classes because their variables are null,</p>\n\n<pre><code>   TransformationInput input = null;               \n   TransformationOutput output = null;\n</code></pre>\n\n<p>So you need to instance them or pass them as reference on some setter.</p>\n"}],"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5786,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687028909,"creation_date":1544029282,"question_id":53637273,"body_markdown":"I am doing Parameterized Java Mapping in SAP PI 7.5 with following parameters bound by the tag names specified in the Operation Mapping\r\n\r\n    (BS_NAME,CHANNEL_NAME,EMAIL). \r\n\r\nOn testing the below java mapping in the test tab of OM using the payload, it gives the following error:\r\n&gt; NullPointerException while trying to invoke the method com.sap.aii.mapping.api.TransformationInput.getInputParameters() of a null object loaded from field of an object loaded from local variable &quot;this**&quot;\r\n\r\nI debugged the code but didn&#39;t found the issue, any suggestions?\r\n\r\nPlease find below Java code for XmlNFe_To_Mail Class. BodyText Class is also used to fetch some content. The error is encountered in the XmlNFe_To_Mail Class. \r\n\r\n    public class XmlNFe_To_Mail extends AbstractTransformation {\r\n    private String prefixoSubject = new String();\r\n    private String emailFrom = new String();\r\n    private String prefixoDocumento = new String();\r\n    private String frase = new String();\r\n    private String gap = &quot;\\n\\r&quot;;\r\n    private AbstractTrace trace = null;\r\n    private Map map = null;\r\n    private String BSSystem = &quot;&quot;;\r\n    private String ComChannel = &quot;&quot;;\r\n    private String Emails = &quot;&quot;;\r\n    private final String NFE_EMPRESA = &quot;NFE Company: &quot;;\r\n    private final String NFe = &quot;NFE&quot;;\r\n    private final String NFe_Mail = &quot;nfe@company.com&quot;;\r\n    TransformationInput input = null;\r\n    TransformationOutput output = null;\r\n    public void execute(InputStream in , OutputStream out) throws StreamTransformationException {\r\n        // TODO Auto-generated method stub\r\n        {\r\n            BSSystem = input.getInputParameters().getString(&quot;BS_NAME&quot;);\r\n            ComChannel = input.getInputParameters().getString(&quot;CHANNEL_NAME&quot;);\r\n            Emails = input.getInputParameters().getString(&quot;EMAIL&quot;);\r\n            try {\r\n                configParamEmail();\r\n                BufferedReader inpxml = new BufferedReader(new InputStreamReader( in ));\r\n                StringBuffer buffer = new StringBuffer();\r\n                String line = &quot;&quot;;\r\n                String quebra = System.getProperty(&quot;line.separator&quot;);\r\n                while ((line = inpxml.readLine()) != null) {\r\n                    line.replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n                    line.replaceAll(quebra, &quot;&quot;);\r\n                    line.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n                    line.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n                    line.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n                    buffer.append(line);\r\n                }\r\n                String inptxml = buffer.toString();\r\n                inptxml = inptxml.replace(&quot;\\r\\n&quot;, &quot;&quot;);\r\n                inptxml = inptxml.replaceAll(quebra, &quot;&quot;);\r\n                inptxml = inptxml.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n                inptxml = inptxml.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n                inptxml = inptxml.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n                String idNFe = &quot;&quot;;\r\n                String numeroNF = &quot;&quot;;\r\n                String idEvent = &quot;&quot;;\r\n                idNFe = inptxml.substring(inptxml.indexOf(&quot;&lt;chNFe&gt;&quot;) + 7, inptxml.indexOf(&quot;&lt;/chNFe&gt;&quot;));\r\n                numeroNF = idNFe.substring(25, 34);\r\n                if (inptxml.indexOf(&quot;infEvento&quot;) &gt; 0) {\r\n                    idEvent = inptxml.substring(inptxml.indexOf(&quot;&lt;tpEvento&gt;&quot;) + 10, inptxml.indexOf(&quot;&lt;/tpEvento&gt;&quot;));\r\n                    if (idEvent.length() &gt; 0) {\r\n                        if (idEvent.equals(&quot;111111&quot;)) {\r\n                            this.setPrefixoDocumento(this.getPrefixoDocumento().replaceAll(&quot;NFE&quot;, &quot;CancNFe&quot;));\r\n                            this.setPrefixoSubject(this.getPrefixoSubject().replaceAll(&quot;NFE&quot;, &quot;NFE CANCELADA&quot;));\r\n                        } else if (idEvent.equals(&quot;100000&quot;)) {\r\n                            this.setPrefixoDocumento(this.getPrefixoDocumento().replaceAll(&quot;NFE&quot;, &quot;CCE&quot;));\r\n                            this.setPrefixoSubject(this.getPrefixoSubject().replaceAll(&quot;NFE&quot;, &quot;CCE&quot;));\r\n                        } else {\r\n                            this.setPrefixoDocumento(this.getPrefixoDocumento().replaceAll(&quot;NFE&quot;, &quot;ManDest&quot;));\r\n                            this.setPrefixoSubject(this.getPrefixoSubject().replaceAll(&quot;NFE&quot;, &quot;MANIFESTO&quot;));\r\n                        }\r\n                    }\r\n                }\r\n                Channel chn = null;\r\n                RfcAccessor rfc = null;\r\n                String email = &quot;&quot;;\r\n                String pdf = &quot;&quot;;\r\n                chn = LookupService.getChannel(getBSystem(), getCChannel());\r\n                rfc = LookupService.getRfcAccessor(chn);\r\n                String req = &quot;&lt;ns0:TEST_NFE_MAIL_OPT xmlns:ns0=&#39;urn:sap-com:document:sap:rfc:functions&#39;&gt;&lt;I_ACCESS_KEY&gt;&quot; +\r\n                    idNFe + &quot;&lt;I_ACCESS_KEY&gt;&lt;/ns0:ZOTC_NFE_EMAIL_OUTPUT&gt;&quot;;\r\n                InputStream inputRFC = new ByteArrayInputStream(req.getBytes(&quot;UTF-8&quot;));\r\n                XmlPayload rfcPayload = LookupService.getXmlPayload(inputRFC);\r\n                XmlPayload result = rfc.call(rfcPayload);\r\n                InputStream resp = result.getContent();\r\n                DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n                Document doc = builder.parse(resp);\r\n                Node node = (Node) doc.getElementsByTagName(&quot;E_EMAIL&quot;).item(0);\r\n                if (node.hasChildNodes() &amp;&amp; !node.getFirstChild().getNodeValue().equals(&quot;&quot;)) {\r\n                    email = node.getFirstChild().getNodeValue();\r\n                }\r\n                DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\n                DocumentBuilder db = dbf.newDocumentBuilder();\r\n                TransformerFactory tf = TransformerFactory.newInstance();\r\n                Transformer transform = tf.newTransformer();\r\n                Document docout = db.newDocument();\r\n                Element root = docout.createElement(&quot;ns0:Mail&quot;);\r\n                root.setAttribute(&quot;xmlns:ns0&quot;, &quot;http://sap.com/xi/XI/Mail/30&quot;);\r\n                docout.appendChild(root);\r\n                Element subject = docout.createElement(&quot;Subject&quot;);\r\n                root.appendChild(subject);\r\n                Text subjectText = docout.createTextNode(getPrefixoSubject() + numeroNF);\r\n                subject.appendChild(subjectText);\r\n                Element from = docout.createElement(&quot;From&quot;);\r\n                root.appendChild(from);\r\n                Text fromText = docout.createTextNode(getEmailFrom());\r\n                from.appendChild(fromText);\r\n                if (email.length() &gt; 0) {\r\n                    email += &quot;;&quot;;\r\n                } else {\r\n                    email = this.getEmaillist();\r\n                }\r\n                Element to = docout.createElement(&quot;To&quot;);\r\n                root.appendChild(to);\r\n                Text toText = docout.createTextNode(email);\r\n                to.appendChild(toText);\r\n                Element contentType = docout.createElement(&quot;Content_Type&quot;);\r\n                root.appendChild(contentType);\r\n                Text contentTypeText = docout.createTextNode(&quot;multipart/mixed;boundary=--AaZz&quot;);\r\n                contentType.appendChild(contentTypeText);\r\n                BodyText texto = new BodyText(idNFe, getFrase(), inptxml, pdf);\r\n                Element content = docout.createElement(&quot;Content&quot;);\r\n                root.appendChild(content);\r\n                Text contentText = null;\r\n                if (&quot;NFE Company: &quot;.equalsIgnoreCase(getPrefixoSubject())) {\r\n                    contentText = docout.createTextNode(texto.getnfeText());\r\n                } else if (&quot;NFE CANCELADA Company: &quot;.equalsIgnoreCase(getPrefixoSubject())) {\r\n                    contentText = docout.createTextNode(texto.getCnfeText());\r\n                } else if (&quot;CCE Company: &quot;.equalsIgnoreCase(getPrefixoSubject())) {\r\n                    contentText = docout.createTextNode(texto.getcceText());\r\n                }\r\n                content.appendChild(contentText);\r\n                DOMSource domS = new DOMSource(docout);\r\n                transform.transform((domS), new StreamResult(out));\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (ParserConfigurationException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (TransformerConfigurationException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (TransformerException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (SAXException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (Exception e) {\r\n                // Exception Handling }\r\n            }\r\n        }\r\n    }\r\n    public String getGap() {\r\n        return gap;\r\n    }\r\n    public void setGap(String gap) {\r\n        this.gap = gap;\r\n    }\r\n    public String getFrase() {\r\n        return frase;\r\n    }\r\n    public void setFrase(String frase) {\r\n        this.frase = frase;\r\n    }\r\n    public String getBSystem() {\r\n        return BSSystem;\r\n    }\r\n    public String getEmaillist() {\r\n        return Emails;\r\n    }\r\n    public String getCChannel() {\r\n        return ComChannel;\r\n    }\r\n    public String getPrefixoSubject() {\r\n        return prefixoSubject;\r\n    }\r\n    public void setPrefixoSubject(String prefixoSubject) {\r\n        this.prefixoSubject = prefixoSubject;\r\n    }\r\n    public String getEmailFrom() {\r\n        return emailFrom;\r\n    }\r\n    public void setEmailFrom(String emailFrom) {\r\n        this.emailFrom = emailFrom;\r\n    }\r\n    public String getPrefixoDocumento() {\r\n        return prefixoDocumento;\r\n    }\r\n    public void setPrefixoDocumento(String prefixoDocumento) {\r\n        this.prefixoDocumento = prefixoDocumento;\r\n    }\r\n    private void configParamEmail() {\r\n        setEmailFrom(NFe_Mail);\r\n        setPrefixoDocumento(NFe);\r\n        setPrefixoSubject(NFE_EMPRESA);\r\n    }\r\n    @Override\r\n    public void transform(TransformationInput in , TransformationOutput out) throws StreamTransformationException {\r\n        this.execute( in .getInputPayload().getInputStream(), out.getOutputPayload().getOutputStream());\r\n    }\r\n    /*public void setParameter(Map arg0) {\r\n    // TODO Auto-generated method stub\r\n    }*/\r\n}\r\n\r\nKindly let me know what changes should be done. \r\nThanks.","title":"NullPointerException while invoking method getInputParameters()","body":"<p>I am doing Parameterized Java Mapping in SAP PI 7.5 with following parameters bound by the tag names specified in the Operation Mapping</p>\n\n<pre><code>(BS_NAME,CHANNEL_NAME,EMAIL). \n</code></pre>\n\n<p>On testing the below java mapping in the test tab of OM using the payload, it gives the following error:</p>\n\n<blockquote>\n  <p>NullPointerException while trying to invoke the method com.sap.aii.mapping.api.TransformationInput.getInputParameters() of a null object loaded from field of an object loaded from local variable \"this**\"</p>\n</blockquote>\n\n<p>I debugged the code but didn't found the issue, any suggestions?</p>\n\n<p>Please find below Java code for XmlNFe_To_Mail Class. BodyText Class is also used to fetch some content. The error is encountered in the XmlNFe_To_Mail Class. </p>\n\n<pre><code>public class XmlNFe_To_Mail extends AbstractTransformation {\nprivate String prefixoSubject = new String();\nprivate String emailFrom = new String();\nprivate String prefixoDocumento = new String();\nprivate String frase = new String();\nprivate String gap = \"\\n\\r\";\nprivate AbstractTrace trace = null;\nprivate Map map = null;\nprivate String BSSystem = \"\";\nprivate String ComChannel = \"\";\nprivate String Emails = \"\";\nprivate final String NFE_EMPRESA = \"NFE Company: \";\nprivate final String NFe = \"NFE\";\nprivate final String NFe_Mail = \"nfe@company.com\";\nTransformationInput input = null;\nTransformationOutput output = null;\npublic void execute(InputStream in , OutputStream out) throws StreamTransformationException {\n    // TODO Auto-generated method stub\n    {\n        BSSystem = input.getInputParameters().getString(\"BS_NAME\");\n        ComChannel = input.getInputParameters().getString(\"CHANNEL_NAME\");\n        Emails = input.getInputParameters().getString(\"EMAIL\");\n        try {\n            configParamEmail();\n            BufferedReader inpxml = new BufferedReader(new InputStreamReader( in ));\n            StringBuffer buffer = new StringBuffer();\n            String line = \"\";\n            String quebra = System.getProperty(\"line.separator\");\n            while ((line = inpxml.readLine()) != null) {\n                line.replaceAll(\"\\r\\n\", \"\");\n                line.replaceAll(quebra, \"\");\n                line.replaceAll(\" /&gt;\", \"/&gt;\");\n                line.replaceAll(\" /&gt;\", \"/&gt;\");\n                line.replaceAll(\" /&gt;\", \"/&gt;\");\n                buffer.append(line);\n            }\n            String inptxml = buffer.toString();\n            inptxml = inptxml.replace(\"\\r\\n\", \"\");\n            inptxml = inptxml.replaceAll(quebra, \"\");\n            inptxml = inptxml.replaceAll(\" /&gt;\", \"/&gt;\");\n            inptxml = inptxml.replaceAll(\" /&gt;\", \"/&gt;\");\n            inptxml = inptxml.replaceAll(\" /&gt;\", \"/&gt;\");\n            String idNFe = \"\";\n            String numeroNF = \"\";\n            String idEvent = \"\";\n            idNFe = inptxml.substring(inptxml.indexOf(\"&lt;chNFe&gt;\") + 7, inptxml.indexOf(\"&lt;/chNFe&gt;\"));\n            numeroNF = idNFe.substring(25, 34);\n            if (inptxml.indexOf(\"infEvento\") &gt; 0) {\n                idEvent = inptxml.substring(inptxml.indexOf(\"&lt;tpEvento&gt;\") + 10, inptxml.indexOf(\"&lt;/tpEvento&gt;\"));\n                if (idEvent.length() &gt; 0) {\n                    if (idEvent.equals(\"111111\")) {\n                        this.setPrefixoDocumento(this.getPrefixoDocumento().replaceAll(\"NFE\", \"CancNFe\"));\n                        this.setPrefixoSubject(this.getPrefixoSubject().replaceAll(\"NFE\", \"NFE CANCELADA\"));\n                    } else if (idEvent.equals(\"100000\")) {\n                        this.setPrefixoDocumento(this.getPrefixoDocumento().replaceAll(\"NFE\", \"CCE\"));\n                        this.setPrefixoSubject(this.getPrefixoSubject().replaceAll(\"NFE\", \"CCE\"));\n                    } else {\n                        this.setPrefixoDocumento(this.getPrefixoDocumento().replaceAll(\"NFE\", \"ManDest\"));\n                        this.setPrefixoSubject(this.getPrefixoSubject().replaceAll(\"NFE\", \"MANIFESTO\"));\n                    }\n                }\n            }\n            Channel chn = null;\n            RfcAccessor rfc = null;\n            String email = \"\";\n            String pdf = \"\";\n            chn = LookupService.getChannel(getBSystem(), getCChannel());\n            rfc = LookupService.getRfcAccessor(chn);\n            String req = \"&lt;ns0:TEST_NFE_MAIL_OPT xmlns:ns0='urn:sap-com:document:sap:rfc:functions'&gt;&lt;I_ACCESS_KEY&gt;\" +\n                idNFe + \"&lt;I_ACCESS_KEY&gt;&lt;/ns0:ZOTC_NFE_EMAIL_OUTPUT&gt;\";\n            InputStream inputRFC = new ByteArrayInputStream(req.getBytes(\"UTF-8\"));\n            XmlPayload rfcPayload = LookupService.getXmlPayload(inputRFC);\n            XmlPayload result = rfc.call(rfcPayload);\n            InputStream resp = result.getContent();\n            DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n            Document doc = builder.parse(resp);\n            Node node = (Node) doc.getElementsByTagName(\"E_EMAIL\").item(0);\n            if (node.hasChildNodes() &amp;&amp; !node.getFirstChild().getNodeValue().equals(\"\")) {\n                email = node.getFirstChild().getNodeValue();\n            }\n            DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\n            DocumentBuilder db = dbf.newDocumentBuilder();\n            TransformerFactory tf = TransformerFactory.newInstance();\n            Transformer transform = tf.newTransformer();\n            Document docout = db.newDocument();\n            Element root = docout.createElement(\"ns0:Mail\");\n            root.setAttribute(\"xmlns:ns0\", \"http://sap.com/xi/XI/Mail/30\");\n            docout.appendChild(root);\n            Element subject = docout.createElement(\"Subject\");\n            root.appendChild(subject);\n            Text subjectText = docout.createTextNode(getPrefixoSubject() + numeroNF);\n            subject.appendChild(subjectText);\n            Element from = docout.createElement(\"From\");\n            root.appendChild(from);\n            Text fromText = docout.createTextNode(getEmailFrom());\n            from.appendChild(fromText);\n            if (email.length() &gt; 0) {\n                email += \";\";\n            } else {\n                email = this.getEmaillist();\n            }\n            Element to = docout.createElement(\"To\");\n            root.appendChild(to);\n            Text toText = docout.createTextNode(email);\n            to.appendChild(toText);\n            Element contentType = docout.createElement(\"Content_Type\");\n            root.appendChild(contentType);\n            Text contentTypeText = docout.createTextNode(\"multipart/mixed;boundary=--AaZz\");\n            contentType.appendChild(contentTypeText);\n            BodyText texto = new BodyText(idNFe, getFrase(), inptxml, pdf);\n            Element content = docout.createElement(\"Content\");\n            root.appendChild(content);\n            Text contentText = null;\n            if (\"NFE Company: \".equalsIgnoreCase(getPrefixoSubject())) {\n                contentText = docout.createTextNode(texto.getnfeText());\n            } else if (\"NFE CANCELADA Company: \".equalsIgnoreCase(getPrefixoSubject())) {\n                contentText = docout.createTextNode(texto.getCnfeText());\n            } else if (\"CCE Company: \".equalsIgnoreCase(getPrefixoSubject())) {\n                contentText = docout.createTextNode(texto.getcceText());\n            }\n            content.appendChild(contentText);\n            DOMSource domS = new DOMSource(docout);\n            transform.transform((domS), new StreamResult(out));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (ParserConfigurationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (TransformerConfigurationException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (TransformerException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (SAXException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (Exception e) {\n            // Exception Handling }\n        }\n    }\n}\npublic String getGap() {\n    return gap;\n}\npublic void setGap(String gap) {\n    this.gap = gap;\n}\npublic String getFrase() {\n    return frase;\n}\npublic void setFrase(String frase) {\n    this.frase = frase;\n}\npublic String getBSystem() {\n    return BSSystem;\n}\npublic String getEmaillist() {\n    return Emails;\n}\npublic String getCChannel() {\n    return ComChannel;\n}\npublic String getPrefixoSubject() {\n    return prefixoSubject;\n}\npublic void setPrefixoSubject(String prefixoSubject) {\n    this.prefixoSubject = prefixoSubject;\n}\npublic String getEmailFrom() {\n    return emailFrom;\n}\npublic void setEmailFrom(String emailFrom) {\n    this.emailFrom = emailFrom;\n}\npublic String getPrefixoDocumento() {\n    return prefixoDocumento;\n}\npublic void setPrefixoDocumento(String prefixoDocumento) {\n    this.prefixoDocumento = prefixoDocumento;\n}\nprivate void configParamEmail() {\n    setEmailFrom(NFe_Mail);\n    setPrefixoDocumento(NFe);\n    setPrefixoSubject(NFE_EMPRESA);\n}\n@Override\npublic void transform(TransformationInput in , TransformationOutput out) throws StreamTransformationException {\n    this.execute( in .getInputPayload().getInputStream(), out.getOutputPayload().getOutputStream());\n}\n/*public void setParameter(Map arg0) {\n// TODO Auto-generated method stub\n}*/\n</code></pre>\n\n<p>}</p>\n\n<p>Kindly let me know what changes should be done. \nThanks.</p>\n"},{"tags":["java","sap-pi","javax.xml","sap-xi"],"comments":[{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":0,"creation_date":1544445497,"post_id":53705320,"comment_id":94266216,"body_markdown":"Have you tried the solution proposed in the SAP Note `1392205 - JAXP Factory classes cannot be instantiated`?","body":"Have you tried the solution proposed in the SAP Note <code>1392205 - JAXP Factory classes cannot be instantiated</code>?"},{"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"score":0,"creation_date":1544453173,"post_id":53705320,"comment_id":94270509,"body_markdown":"Hi Jagger.. I checked the SAP note which you suggested. I don&#39;t think it&#39;s applicable in our case. I have googled about this issue and this transformer factory issue is still faced by many.","body":"Hi Jagger.. I checked the SAP note which you suggested. I don&#39;t think it&#39;s applicable in our case. I have googled about this issue and this transformer factory issue is still faced by many."},{"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"score":0,"creation_date":1544453812,"post_id":53705320,"comment_id":94270909,"body_markdown":"Could you include the full stack trace in the question then?","body":"Could you include the full stack trace in the question then?"}],"answers":[{"tags":[],"owner":{"account_id":15090653,"reputation":11,"user_id":10890651,"display_name":"Krystian Napiatek"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547189905,"creation_date":1547047944,"answer_id":54113462,"question_id":53705320,"body_markdown":"Check note 2669221 - Java mapping: Resource not found: META-INF/services/javax.xml.parsers.DocumentBuilderFactory\r\n\r\nApply these two lines via note 2669221:\r\n\r\n    javax.xml.parsers.DocumentBuilderFactory = com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\r\n    javax.xml.transform.TransformerFactory = com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\r\n\r\nAlternatively add these two lines before calling the factories:\r\n\r\n    System.setProperty(&quot;javax.xml.parsers.DocumentBuilderFactory&quot;, &quot;com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl&quot;);\r\n    System.setProperty(&quot;javax.xml.transform.TransformerFactory&quot;, &quot;com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl&quot;);\r\n\r\n","title":"Unable to display tree view in parameterized Java Mapping in SAP PI 7.5","body":"<p>Check note 2669221 - Java mapping: Resource not found: META-INF/services/javax.xml.parsers.DocumentBuilderFactory</p>\n\n<p>Apply these two lines via note 2669221:</p>\n\n<pre><code>javax.xml.parsers.DocumentBuilderFactory = com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\njavax.xml.transform.TransformerFactory = com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\n</code></pre>\n\n<p>Alternatively add these two lines before calling the factories:</p>\n\n<pre><code>System.setProperty(\"javax.xml.parsers.DocumentBuilderFactory\", \"com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl\");\nSystem.setProperty(\"javax.xml.transform.TransformerFactory\", \"com.sun.org.apache.xalan.internal.xsltc.trax.TransformerFactoryImpl\");\n</code></pre>\n"}],"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1880,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687028886,"creation_date":1544443547,"question_id":53705320,"body_markdown":"I am working on `parameterized` java mapping. While testing in Operation Mapping it gives us error:\r\n&gt;Unable to display tree view; Error when parsing an XML document (Premature end of file.)\r\n\r\nAnd the trace log shows:\r\n&gt; Resource not found: META-INF/services/javax.xml.transform.TransformerFactory\r\n\r\nWe faced the same issue for `DocumentFactory` as well but we wrote the following code and it resolved the `documentfactory` issue.\r\n\r\n     DocumentBuilderFactory factory = new com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl();\r\n\r\nBut we are still facing the same error for `TransformerFactory`. Please find below the entire code and please let me know changes to be done.\r\n\r\n**XmlNFe_To_Mail :**\r\n\r\n        package nfeb2b.company;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStream;\r\n    //import java.util.Map;\r\n    \r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    //import javax.xml.parsers.*;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerConfigurationException;\r\n    import javax.xml.transform.TransformerException;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n     \r\n    import org.w3c.dom.Document;\r\n    import org.w3c.dom.Element;\r\n    //import org.w3c.dom.Node;\r\n    import org.w3c.dom.Text;\r\n    //import org.xml.sax.SAXException;\r\n    \r\n    //import com.sap.aii.mapping.api.AbstractTrace;\r\n    import com.sap.aii.mapping.api.AbstractTransformation;\r\n    import com.sap.aii.mapping.api.StreamTransformationException;\r\n    import com.sap.aii.mapping.api.TransformationInput;\r\n    import com.sap.aii.mapping.api.TransformationOutput;\r\n    import com.sap.aii.mapping.lookup.Channel;\r\n    import com.sap.aii.mapping.lookup.LookupService;\r\n    import com.sap.aii.mapping.lookup.Payload;\r\n    import com.sap.aii.mapping.lookup.RfcAccessor;\r\n    import com.sap.aii.mapping.lookup.XmlPayload;\r\n    \r\n    \r\n    public  class XmlNFe_To_Mail extends AbstractTransformation {\r\n    \tprivate String prefixoSubject = new String();\r\n    \tprivate String emailFrom = new String();\r\n    \tprivate String prefixoDocumento = new String();\r\n    \tprivate String frase = new String();\r\n    \tprivate String gap = &quot;\\n\\r&quot;;\r\n    \t//private AbstractTrace trace = null;\r\n    \t//private Map map = null;\r\n    \tpublic String BSSystem;\r\n    \tpublic String ComChannel;\r\n    \tpublic String Emails;\r\n    \tprivate final String NFE_EMPRESA = &quot;NFE Company &quot;;\r\n    \tprivate final String NFe = &quot;NFE&quot;;\t\r\n    \tprivate final String NFe_Mail = &quot;nfe@company.com&quot;;\r\n    \tpublic String email=&quot;&quot;;\r\n    \tpublic String idNFe = &quot;&quot;;\r\n    \tpublic String numeroNF = &quot;&quot;;\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic void transform(TransformationInput arg0, TransformationOutput arg1) throws StreamTransformationException {\r\n    \t\t\r\n    \t\tBSSystem= arg0.getInputParameters().getString(&quot;BS_NAME&quot;);\r\n    \t\tComChannel=arg0.getInputParameters().getString(&quot;CHANNEL_NAME&quot;);\r\n    \t\tEmails=arg0.getInputParameters().getString(&quot;EMAIL&quot;);\r\n    \t\t\r\n    \t\tgetTrace().addInfo(&quot;Business System: &quot; +BSSystem+ &quot; Channel:&quot; +ComChannel+&quot; Emails:&quot;+Emails);\r\n    \t\t\r\n    \t\tthis.execute(arg0.getInputPayload().getInputStream(), arg1.getOutputPayload().getOutputStream());\t\r\n    \t}\r\n    \tpublic void execute(InputStream in, OutputStream out) throws StreamTransformationException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t     \tgetTrace().addInfo(&quot;Before Try Block&quot;);\r\n    \t\t\t\t try\r\n    \t\t\t\t { \r\n    \t\t\t\t\t getTrace().addInfo(&quot;Inside Try Block&quot;);\r\n    \t\t\t\t\t configParamEmail();\r\n    \t\t\t\t\t getTrace().addInfo(&quot;After ConfigParamEmail&quot;);\r\n    \t\t\t\t\t BufferedReader inpxml = new BufferedReader(new InputStreamReader(in));\r\n    \t\t\t\t\t StringBuffer buffer = new StringBuffer();\r\n    \t\t\t\t\t String line = &quot;&quot;;\r\n    \r\n    \t\t\t\t\t String quebra = System.getProperty(&quot;line.separator&quot;);\r\n    \r\n    \t\t\t\t\twhile ((line = inpxml.readLine()) != null) {\r\n    \t\t\t\t\t\tline.replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\r\n    \t\t\t\t\t\tline.replaceAll(quebra, &quot;&quot;);\r\n    \t\t\t\t\t\tline.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n    \t\t\t\t\t\tline.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n    \t\t\t\t\t\tline.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n    \t\t\t\t\t\tbuffer.append(line);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t getTrace().addInfo(&quot;After WhileLoop&quot;);\r\n    \t\t\t\t\tString inptxml = buffer.toString();\r\n    \t\t\t\t\tinptxml = inptxml.replace(&quot;\\r\\n&quot;, &quot;&quot;);\r\n    \t\t\t\t\tinptxml = inptxml.replaceAll(quebra, &quot;&quot;);\r\n    \t\t\t\t\tinptxml = inptxml.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n    \t\t\t\t\tinptxml = inptxml.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n    \t\t\t\t\tinptxml = inptxml.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\tidNFe = inptxml.substring(inptxml.indexOf(&quot;&lt;chNFe&gt;&quot;) + 7, inptxml.indexOf(&quot;&lt;/chNFe&gt;&quot;));\r\n    \t\t\t\t\tnumeroNF = idNFe.substring(25, 34);\r\n    \t\t\t\t\t getTrace().addInfo(&quot;idNFE value:&quot;+idNFe);\r\n    \t\t\t\t\t getTrace().addInfo(&quot;numeroNF value:&quot;+numeroNF);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tString pdf = &quot;&quot;;\r\n    \t\t\t\t\t getTrace().addInfo(&quot;Before LookUp&quot;);\r\n    \t\t\t\t\t getTrace().addInfo(&quot;Going to GetValue&quot;);\r\n    \t\t\t\t\tthis.getValue(idNFe);\t\t\t \r\n    \t\t\t\t\t \r\n    \t\t\t\t\t// monta XML de saida XiMail\r\n    \t\t\t\t\t getTrace().addInfo(&quot;Before DocumentBuilderFactory&quot;);\r\n    \t\t\t\t\t \r\n    \t\t\t\t\t DocumentBuilderFactory factory = new com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl();\r\n    \r\n    \t\t\t\t\t \r\n    \t\t\t\t\tDocumentBuilder db = factory.newDocumentBuilder();\r\n    \t\t\t\t\tDocument docout = db.newDocument();\r\n    \t\t\t\t\tElement root = docout.createElement(&quot;ns0:Mail&quot;);\r\n    \t\t\t\t\troot.setAttribute(&quot;xmlns:ns0&quot;, &quot;http://sap.com/xi/XI/Mail/30&quot;);\r\n    \t\t\t\t\t//BufferedReader bfr = new BufferedReader(new InputStreamReader(in, &quot;utf-8&quot;));\r\n    \t\t\t\t\tdocout.appendChild(root);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tgetTrace().addInfo(&quot;Root value: &quot;+root);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tElement subject = docout.createElement(&quot;Subject&quot;);\r\n    \t\t\t\t\troot.appendChild(subject);\r\n    \t\t\t\t\tText subjectText = docout.createTextNode(getPrefixoSubject() + numeroNF);\r\n    \t\t\t\t\tgetTrace().addInfo(&quot;SubjectText: &quot;+subjectText);// Cria\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// campo\r\n    \t\t\t\t\tsubject.appendChild(subjectText);\r\n    \r\n    \t\t\t\t\t// Cria elemento From\r\n    \t\t\t\t\tElement from = docout.createElement(&quot;From&quot;);\r\n    \t\t\t\t\troot.appendChild(from);\r\n    \t\t\t\t\tText fromText = docout.createTextNode(getEmailFrom()); // Cria valor\t\t\t\t\t\t\t\t\t\t\t\t\t\t// campo\r\n    \t\t\t\t\tfrom.appendChild(fromText);\r\n    \t\t\t\t\tgetTrace().addInfo(&quot;FromText: &quot;+fromText);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tif (email.length() &gt; 0) {\r\n    \t\t\t\t\t\temail += &quot;;&quot;;\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\temail = this.getEmaillist();\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tgetTrace().addInfo(&quot;Email: &quot;+email);\r\n    \t\t\t\t\t// Cria elemento To\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tElement to = docout.createElement(&quot;To&quot;);\r\n    \t\t\t\t\troot.appendChild(to);\r\n    \t\t\t\t\tText toText = docout.createTextNode(email);\r\n    \t\t\t\t\tgetTrace().addInfo(&quot;toText: &quot;+toText);// Cria valor campo\r\n    \t\t\t\t\tto.appendChild(toText);\r\n    \r\n    \t\t\t\t\t// Cria elemento Content Type\r\n    \t\t\t\t\tElement contentType = docout.createElement(&quot;Content_Type&quot;);\r\n    \t\t\t\t\troot.appendChild(contentType);\r\n    \t\t\t\t\t// Text contentTypeText = docout.createTextNode(&quot;application/xml&quot;);\r\n    \t\t\t\t\t// //Cria valor campo\r\n    \t\t\t\t\tText contentTypeText = docout.createTextNode(&quot;multipart/mixed;boundary=--AaZz&quot;); // Cria\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// valor\r\n    \t\t\t\t\tgetTrace().addInfo(&quot;contentTypeText: &quot;+contentTypeText);\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t// campo\r\n    \t\t\t\t\tcontentType.appendChild(contentTypeText);\r\n    \r\n    \t\t\t\t\t// Criando o corpo de texto do e-mail e o anexo\r\n    \t\t\t\t\tBodyText texto = new BodyText(idNFe, getFrase(), inptxml, pdf);\r\n    \t\t\t\t\t// Cria elemento Content\r\n    \t\t\t\t\tElement content = docout.createElement(&quot;Content&quot;);\r\n    \t\t\t\t\troot.appendChild(content);\r\n    \t\t\t\t\tText contentText = null;\r\n    \r\n    \t\t\t\t\t// substituir a sua empresa\r\n    \t\t\t\t\tif (&quot;NFE: &quot;.equalsIgnoreCase(getPrefixoSubject())) {\r\n    \t\t\t\t\t\tcontentText = docout.createTextNode(texto.getnfeText());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\t// substituir a sua empresa\r\n    \t\t\t\t\telse if (&quot;NFE CANCELADA : &quot;.equalsIgnoreCase(getPrefixoSubject())) {\r\n    \t\t\t\t\t\tcontentText = docout.createTextNode(texto.getCnfeText());\r\n    \t\t\t\t\t} \r\n    \t\t\t\t\telse if (&quot;COE FMC: &quot;.equalsIgnoreCase(getPrefixoSubject())) {\r\n    \t\t\t\t\t\tcontentText = docout.createTextNode(texto.getcceText());\r\n    \t\t\t\t\t} \r\n    \t\t\t\t\tgetTrace().addInfo(&quot;contentText: &quot;+contentText);\t\r\n    \t\t\t\tcontent.appendChild(contentText);\r\n    \r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t/*Transformer trns = TransformerFactory.newInstance().newTransformer();\r\n    \t\t\t\tDOMSource targetMsg = new DOMSource(docout);\r\n    \t\t\t\tStreamResult stRslt = new StreamResult(out);\r\n    \t\t\t\ttrns.transform(targetMsg, stRslt);*/\r\n    \t\t\t\t\r\n    \t\t\t\tTransformerFactory tf=TransformerFactory.newInstance();\r\n    \t               Transformer transform=tf.newTransformer();\r\n    \t\t\t\ttransform.transform(new DOMSource(docout), new StreamResult(out));\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\t\t \r\n    \t\t\t }\r\n    \t\t\t\t catch (IOException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t} catch (ParserConfigurationException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t} catch (TransformerConfigurationException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t} catch (TransformerException e) {\r\n    \t\t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t\t\t\r\n    \t\t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t// Exception Handling } \r\n    \t\t\t\t }\r\n    \t\t\t }\r\n    \t\r\n    \t\r\n    \tpublic String getGap() {\r\n    \t\treturn gap;\r\n    \t}\r\n    \r\n    \tpublic void setGap(String gap) {\r\n    \t\tthis.gap = gap;\r\n    \t}\r\n    \r\n    \tpublic String getFrase() {\r\n    \t\treturn frase;\r\n    \t}\r\n    \r\n    \tpublic void setFrase(String frase) {\r\n    \t\tthis.frase = frase;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String getBSystem(){\r\n    \t\treturn BSSystem;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic String getEmaillist(){\r\n    \t\treturn Emails;\r\n    \t}\r\n    \t\r\n    \tpublic String getCChannel() {\r\n    \t\treturn ComChannel;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    \tpublic String getPrefixoSubject() {\r\n    \t\treturn prefixoSubject;\r\n    \t}\r\n    \r\n    \tpublic void setPrefixoSubject(String prefixoSubject) {\r\n    \t\tthis.prefixoSubject = prefixoSubject;\r\n    \t}\r\n    \r\n    \tpublic String getEmailFrom() {\r\n    \t\treturn emailFrom;\r\n    \t}\r\n    \r\n    \tpublic void setEmailFrom(String emailFrom) {\r\n    \t\tthis.emailFrom = emailFrom;\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic String getPrefixoDocumento() {\r\n    \t\treturn prefixoDocumento;\r\n    \t}\r\n    \r\n    \tpublic void setPrefixoDocumento(String prefixoDocumento) {\r\n    \t\tthis.prefixoDocumento = prefixoDocumento;\r\n    \t}\r\n    \t\r\n    \tpublic String getValue(String idNFe){\r\n    \t\tString contentnew;\r\n    \t\t\r\n    \t\tString rfcxml=  &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;+&quot;&lt;ns0:OTC_NFE_MAIL_OUTPUT xmlns:ns0=\\&quot;urn:sap-com:document:sap:rfc:functions\\&quot;&gt;&quot;+&quot;&lt;I_ACCESS_KEY&gt;&quot;\r\n    \t\t\t\t+ idNFe + &quot;&lt;/I_ACCESS_KEY&gt;&lt;I_CANCEL/&gt;&lt;/ns0:OTC_NFE_MAIL_OUTPUT&gt;&quot;;\r\n    \t\tgetTrace().addInfo(&quot;RFCXML:&quot;+rfcxml);\r\n    \t\tRfcAccessor accessor = null;\r\n    \t\tByteArrayOutputStream outRFC = null;\r\n    \t\ttry{\r\n    \t\t\tgetTrace().addInfo(&quot;Went inside GetValue&quot;);\r\n    \t\t\tChannel channel  = LookupService.getChannel(getBSystem(),getCChannel());\r\n    \t\t\t accessor  = LookupService.getRfcAccessor(channel);\r\n    \t\t\tgetTrace().addInfo(&quot;After LookUp&quot;);\r\n    \t\t\t\r\n    \t\t\tInputStream inputStream = new ByteArrayInputStream(rfcxml.getBytes());\r\n    \t\t\tXmlPayload payload  = LookupService.getXmlPayload(inputStream);\r\n    \t\t\tPayload rfcOutPayload  = accessor.call(payload);\r\n    \t\t\tInputStream inputs = rfcOutPayload.getContent();\r\n    \t\t\t outRFC = new ByteArrayOutputStream(1024);\r\n    \t\t\tbyte[] bufferbyte = new byte[1024];\r\n    \t\t\tfor (int read = inputs.read(bufferbyte); read &gt; 0; read = inputs.read(bufferbyte)) {\r\n    \t\t\toutRFC.write(bufferbyte, 0, read);\r\n    \t\t\t}\r\n    \t\t\tcontentnew = outRFC.toString();\r\n    \t\t\tgetTrace().addInfo(&quot;Content&quot;+contentnew);\r\n    \t\t\tint Start_Index , End_Index ;\r\n    \t\t\tStart_Index = outRFC.toString().indexOf(&quot;&lt;E_EMAIL&gt;&quot;) + 9; \r\n    \t\t\tgetTrace().addInfo(&quot;StartIndex&quot;+Start_Index);\r\n    \t\t\tEnd_Index= outRFC.toString().indexOf(&quot;&lt;/E_EMAIL&gt;&quot;); \r\n    \t\t\t\r\n    \t\t\tgetTrace().addInfo(&quot;EndIndex&quot;+End_Index);\r\n    \t\t\temail = outRFC.toString().substring(Start_Index,End_Index);\r\n    \t\t\tgetTrace().addInfo(&quot;Email&quot;+email);\r\n    \t\t\treturn email;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\tcatch(Exception e)\r\n    \r\n    \t\t{\r\n    \r\n    \t\tthrow new RuntimeException(&quot;Error message&quot;+e);\r\n    \r\n    \t\t}\r\n    \t\t\r\n    \t\r\n    \t\t\r\n    \t}\r\n    \r\n    \tprivate void configParamEmail() {\r\n    \t\tsetEmailFrom(NFe_Mail);\r\n    \t\tsetPrefixoDocumento(NFe);\r\n    \t\tsetPrefixoSubject(NFE_EMPRESA);\r\n    \t\t\r\n    \t}\r\n    \r\n    \t\r\n    \t\r\n    \r\n    \r\n    \t/*public void setParameter(Map arg0) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}*/\r\n    \r\n    \r\n    \t\r\n    \r\n    }\r\n\r\n**BodyText.java:**\r\n\r\n    package nfeb2b.company;\r\n    \r\n    import com.sap.aii.mapping.api.AbstractTransformation;\r\n    import com.sap.aii.mapping.api.StreamTransformationException;\r\n    import com.sap.aii.mapping.api.TransformationInput;\r\n    import com.sap.aii.mapping.api.TransformationOutput;\r\n    \r\n    public class BodyText extends AbstractTransformation  {\r\n    \r\n    \tpublic String nfeText = new String();\r\n    \tpublic String cnfeText = new String();\r\n    \tpublic String cceText = new String();\r\n    \tpublic String content = new String();\r\n    \tpublic String chaveNFe = new String();\r\n    \tpublic String frase = new String();\r\n    \tpublic String xmlString = new String();\r\n    \tpublic final String gap = &quot;\\n\\r&quot;;\r\n    \tpublic String numeroNFe = new String();\r\n    \tpublic String dataNFe = new String();\r\n    \tpublic String serieNFe = new String();\r\n    \tpublic String pdf = new String();\r\n    \tpublic String pdfattachment_nfe= &quot;NF-e  - &quot;;\r\n    \tpublic String pdfattachment_cnfe=&quot;NF-e Cancelada - &quot;;\r\n    \tpublic String pdfattachment_ccfe=&quot;CC-e - &quot;;\r\n    \t\r\n    \t\r\n    \r\n    \t// public String sefazNFe = new String();\r\n    \tpublic BodyText()\r\n    \t{\r\n    \t\t\r\n    \t}\r\n    \r\n    \tpublic BodyText(String chaveNFe, String frase, String xmlString, String pdf) {\r\n    \t\tthis.chaveNFe = chaveNFe;\r\n    \t\tthis.frase = frase;\r\n    \t\tthis.xmlString = xmlString;\r\n    \t\tthis.pdf = pdf;\r\n    \t\tthis.numeroNFe = chaveNFe.substring(25, 34);\r\n    \t\tthis.dataNFe = chaveNFe.substring(4, 6) + &quot;/20&quot;\r\n    \t\t\t\t+ chaveNFe.substring(2, 4);\r\n    \t\tthis.serieNFe = chaveNFe.substring(22, 25);\r\n    \t\t// this.sefazNFe = chaveNFe.substring(0,2);\r\n    \t\tpdfattachment_nfe = pdfattachment_nfe + chaveNFe + &quot;.xml&quot;;\r\n    \t\tpdfattachment_cnfe=pdfattachment_cnfe + chaveNFe + &quot;.xml&quot;;\r\n    \t\tpdfattachment_ccfe=pdfattachment_ccfe + chaveNFe + &quot;.xml&quot;;\r\n    \t}\r\n    \r\n    \tpublic String getGap() {\r\n    \t\treturn gap;\r\n    \t}\r\n    \r\n    \tpublic String getnfeText() {\r\n    \t\r\n    \t\tnfeText = &quot;Prezado cliente, &quot; + getGap()\r\n    \t\t\t\t+ &quot;Segue  &quot;\r\n    \t\t\t\t+ getGap() + getGap() + &quot;N&#250;mero da NF-e: &quot;\r\n    \t\t\t\t+ numeroNFe + getGap() + &quot;Serie: &quot; + serieNFe + getGap()\r\n    \t\t\t\t+ &quot;Data emiss&#227;o (MM/AAAA): &quot; + dataNFe + getGap() + getGap()\r\n    \t\t\t\t+ &quot;Atenciosamente,&quot; + getGap() + getGap() + &quot;FMC&quot;;\r\n    \r\n    \t\t\r\n    \t\tcontent = &quot;----AaZz\\r\\n&quot;+ &quot;Content-Type: text/html; charset=UTF-8&quot; +&quot;\\r\\n&quot; + &quot;Content-Disposition: inline\\r\\n\\r\\n&quot; + nfeText + &quot;\\r\\n----AaZz\\r\\n&quot; + &quot;Content-Type: application/pdf; name=&quot; + pdfattachment_nfe + &quot;\\r\\n&quot;\r\n    \r\n            + &quot;Content-Disposition: attachment; filename=&quot; +pdfattachment_nfe + &quot;\\r\\n\\r\\n&quot;  + &quot;\\r\\n&quot; +&quot;\\r\\n&quot;;\r\n    \r\n           \r\n    \r\n    \t\treturn content;\r\n    \t}\r\n    \r\n    \tpublic String getCnfeText() {\r\n    \t\r\n    \t\tcnfeText = &quot;Prezado cliente, &quot;\r\n    \t\t\t\t+ getGap()\r\n    \t\t\t\t+ &quot;Segue.&quot;\r\n    \t\t\t\t+ getGap() + getGap() + &quot;N&#250;mero da NF-e: &quot;\r\n    \t\t\t\t+ numeroNFe + getGap() + &quot;S&#233;rie: &quot; + serieNFe + getGap()\r\n    \t\t\t\t+ &quot;Data emiss&#227;o (MM/AAAA): &quot; + dataNFe + getGap() + getGap()\r\n    \t\t\t\t+ &quot;Atenciosamente,&quot; + getGap() + getGap() + &quot;FMC&quot;;\r\n    \r\n    \t\t\r\n    \t\tcontent = &quot;----AaZz\\r\\n&quot;+ &quot;Content-Type: text/html; charset=UTF-8&quot; +&quot;\\r\\n&quot; + &quot;Content-Disposition: inline\\r\\n\\r\\n&quot; + nfeText + &quot;\\r\\n----AaZz\\r\\n&quot; + &quot;Content-Type: application/pdf; name=&quot; + pdfattachment_nfe + &quot;\\r\\n&quot;\r\n    \r\n            + &quot;Content-Disposition: attachment; filename=&quot; +pdfattachment_nfe + &quot;\\r\\n\\r\\n&quot; + &quot;Content-Transfer-Encoding: base64&quot; + &quot;\\r\\n&quot; +&quot;\\r\\n&quot;;\r\n    \r\n    \t\t\r\n    \t\treturn content;\r\n    \t}\r\n    \r\n    \tpublic String getcceText() {\r\n    \t\tcceText = &quot;Prezado cliente, &quot;\r\n    \t\t\t\t+ getGap()\r\n    \t\t\t\t+ &quot;Segue .&quot;\r\n    \t\t\t\t+ getGap() + getGap()\r\n    \t\t\t\t+ &quot;N&#250;mero da NF-e que recebeu corre&#231;&#227;o eletr&#244;nica: &quot;\r\n    \t\t\t\t+ numeroNFe + getGap() + &quot;S&#233;rie: &quot; + serieNFe + getGap()\r\n    \t\t\t\t+ &quot;Data emiss&#227;o (MM/AAAA): &quot; + dataNFe + getGap() + getGap()\r\n    \t\t\t\t+ &quot;Atenciosamente,&quot; + getGap() + getGap() + &quot;FMC&quot;;\r\n    \t\r\n    \t\t\r\n    \t\t\r\n    \t\tcontent = &quot;----AaZz\\r\\n&quot;+ &quot;Content-Type: text/html; charset=UTF-8&quot; +&quot;\\r\\n&quot; + &quot;Content-Disposition: inline\\r\\n\\r\\n&quot; + nfeText + &quot;\\r\\n----AaZz\\r\\n&quot; + &quot;Content-Type: application/pdf; name=&quot; + pdfattachment_nfe + &quot;\\r\\n&quot;\r\n    \r\n            + &quot;Content-Disposition: attachment; filename=&quot; +pdfattachment_nfe + &quot;\\r\\n\\r\\n&quot; + &quot;Content-Transfer-Encoding: base64&quot; + &quot;\\r\\n&quot; +&quot;\\r\\n&quot;;\r\n    \r\n    \t\treturn content;\r\n    \t\t\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void transform(TransformationInput in, TransformationOutput out) throws StreamTransformationException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\n\r\nPlease find below trace **log:**\r\n\r\n&gt; ```\r\n&gt; Resource not found: META-INF/services/javax.xml.transform.TransformerFactory\r\n&gt; com.sap.aii.ib.server.mapping.execution.MappingClassNotFoundException: META-INF/services/javax.xml.transform.transformerfactory\r\n&gt;     at com.sap.aii.ib.server.mapping.execution.InternalMappingFinder.getInputStream(InternalMappingFinder.java:125)\r\n&gt;     at com.sap.aii.ib.server.mapping.execution.InternalMappingFinder.readFile(InternalMappingFinder.java:63)\r\n&gt;     at com.sap.aii.ib.server.mapping.execution.MappingLoader.findResources(MappingLoader.java:354)\r\n&gt;     at java.lang.ClassLoader.getResources(ClassLoader.java:1241)\r\n&gt;     at java.lang.ClassLoader.getResources(ClassLoader.java:1237)\r\n&gt;     at java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:348)\r\n&gt;     at java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:393)\r\n&gt;     at java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)\r\n&gt;     at javax.xml.transform.FactoryFinder$1.run(FactoryFinder.java:279)\r\n&gt;     at java.security.AccessController.doPrivileged(Native Method)\r\n&gt;     at javax.xml.transform.FactoryFinder.findServiceProvider(FactoryFinder.java:275)\r\n&gt;     at javax.xml.transform.FactoryFinder.find(FactoryFinder.java:251)\r\n&gt;     at javax.xml.transform.TransformerFactory.newInstance(TransformerFactory.java:106)\r\n&gt;     at nfeb2b.fmc.XmlNFe_To_Mail.execute(XmlNFe_To_Mail.java:195)\r\n&gt;     at nfeb2b.fmc.XmlNFe_To_Mail.transform(XmlNFe_To_Mail.java:69)\r\n&gt;     at com.sap.aii.ib.server.mapping.execution.JavaMapping.executeStep(JavaMapping.java:112)\r\n&gt;     at com.sap.aii.ib.server.mapping.execution.Mapping.execute(Mapping.java:60)\r\n&gt;     at com.sap.aii.ib.server.mapping.execution.SequenceMapping.executeStep(SequenceMapping.java:40)\r\n&gt;     at com.sap.aii.ib.server.mapping.execution.Mapping.execute(Mapping.java:60)\r\n&gt;     at com.sap.aii.ib.server.mapping.execution.MappingHandler.map(MappingHandler.java:87)\r\n&gt;     at com.sap.aii.ib.server.mapping.execution.MappingHandler.map(MappingHandler.java:54)\r\n&gt;     at com.sap.aii.ibrep.server.mapping.rt.MappingHandlerAdapter.run(MappingHandlerAdapter.java:139)\r\n&gt;     at com.sap.aii.ibrep.server.mapping.exec.ExecuteIfMapCommand.execute(ExecuteIfMapCommand.java:33)\r\n&gt;     at com.sap.aii.ib.server.mapping.exec.CommandManager.execute(CommandManager.java:43)\r\n&gt;     at com.sap.aii.ibrep.server.mapping.ServerMapService.execute(ServerMapService.java:40)\r\n&gt; ```\r\n\r\nPlease let me know what changes need to be done. Thanks :)","title":"Unable to display tree view in parameterized Java Mapping in SAP PI 7.5","body":"<p>I am working on <code>parameterized</code> java mapping. While testing in Operation Mapping it gives us error:</p>\n<blockquote>\n<p>Unable to display tree view; Error when parsing an XML document (Premature end of file.)</p>\n</blockquote>\n<p>And the trace log shows:</p>\n<blockquote>\n<p>Resource not found: META-INF/services/javax.xml.transform.TransformerFactory</p>\n</blockquote>\n<p>We faced the same issue for <code>DocumentFactory</code> as well but we wrote the following code and it resolved the <code>documentfactory</code> issue.</p>\n<pre><code> DocumentBuilderFactory factory = new com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl();\n</code></pre>\n<p>But we are still facing the same error for <code>TransformerFactory</code>. Please find below the entire code and please let me know changes to be done.</p>\n<p><strong>XmlNFe_To_Mail :</strong></p>\n<pre><code>    package nfeb2b.company;\n\nimport java.io.BufferedReader;\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.OutputStream;\n//import java.util.Map;\n\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\n//import javax.xml.parsers.*;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerConfigurationException;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\n \nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\n//import org.w3c.dom.Node;\nimport org.w3c.dom.Text;\n//import org.xml.sax.SAXException;\n\n//import com.sap.aii.mapping.api.AbstractTrace;\nimport com.sap.aii.mapping.api.AbstractTransformation;\nimport com.sap.aii.mapping.api.StreamTransformationException;\nimport com.sap.aii.mapping.api.TransformationInput;\nimport com.sap.aii.mapping.api.TransformationOutput;\nimport com.sap.aii.mapping.lookup.Channel;\nimport com.sap.aii.mapping.lookup.LookupService;\nimport com.sap.aii.mapping.lookup.Payload;\nimport com.sap.aii.mapping.lookup.RfcAccessor;\nimport com.sap.aii.mapping.lookup.XmlPayload;\n\n\npublic  class XmlNFe_To_Mail extends AbstractTransformation {\n    private String prefixoSubject = new String();\n    private String emailFrom = new String();\n    private String prefixoDocumento = new String();\n    private String frase = new String();\n    private String gap = &quot;\\n\\r&quot;;\n    //private AbstractTrace trace = null;\n    //private Map map = null;\n    public String BSSystem;\n    public String ComChannel;\n    public String Emails;\n    private final String NFE_EMPRESA = &quot;NFE Company &quot;;\n    private final String NFe = &quot;NFE&quot;;   \n    private final String NFe_Mail = &quot;nfe@company.com&quot;;\n    public String email=&quot;&quot;;\n    public String idNFe = &quot;&quot;;\n    public String numeroNF = &quot;&quot;;\n    \n    \n    \n    public void transform(TransformationInput arg0, TransformationOutput arg1) throws StreamTransformationException {\n        \n        BSSystem= arg0.getInputParameters().getString(&quot;BS_NAME&quot;);\n        ComChannel=arg0.getInputParameters().getString(&quot;CHANNEL_NAME&quot;);\n        Emails=arg0.getInputParameters().getString(&quot;EMAIL&quot;);\n        \n        getTrace().addInfo(&quot;Business System: &quot; +BSSystem+ &quot; Channel:&quot; +ComChannel+&quot; Emails:&quot;+Emails);\n        \n        this.execute(arg0.getInputPayload().getInputStream(), arg1.getOutputPayload().getOutputStream());   \n    }\n    public void execute(InputStream in, OutputStream out) throws StreamTransformationException {\n        // TODO Auto-generated method stub\n            getTrace().addInfo(&quot;Before Try Block&quot;);\n                 try\n                 { \n                     getTrace().addInfo(&quot;Inside Try Block&quot;);\n                     configParamEmail();\n                     getTrace().addInfo(&quot;After ConfigParamEmail&quot;);\n                     BufferedReader inpxml = new BufferedReader(new InputStreamReader(in));\n                     StringBuffer buffer = new StringBuffer();\n                     String line = &quot;&quot;;\n\n                     String quebra = System.getProperty(&quot;line.separator&quot;);\n\n                    while ((line = inpxml.readLine()) != null) {\n                        line.replaceAll(&quot;\\r\\n&quot;, &quot;&quot;);\n                        line.replaceAll(quebra, &quot;&quot;);\n                        line.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\n                        line.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\n                        line.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\n                        buffer.append(line);\n                    }\n                     getTrace().addInfo(&quot;After WhileLoop&quot;);\n                    String inptxml = buffer.toString();\n                    inptxml = inptxml.replace(&quot;\\r\\n&quot;, &quot;&quot;);\n                    inptxml = inptxml.replaceAll(quebra, &quot;&quot;);\n                    inptxml = inptxml.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\n                    inptxml = inptxml.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\n                    inptxml = inptxml.replaceAll(&quot; /&gt;&quot;, &quot;/&gt;&quot;);\n                    \n                    \n                \n                    idNFe = inptxml.substring(inptxml.indexOf(&quot;&lt;chNFe&gt;&quot;) + 7, inptxml.indexOf(&quot;&lt;/chNFe&gt;&quot;));\n                    numeroNF = idNFe.substring(25, 34);\n                     getTrace().addInfo(&quot;idNFE value:&quot;+idNFe);\n                     getTrace().addInfo(&quot;numeroNF value:&quot;+numeroNF);\n                    \n                    String pdf = &quot;&quot;;\n                     getTrace().addInfo(&quot;Before LookUp&quot;);\n                     getTrace().addInfo(&quot;Going to GetValue&quot;);\n                    this.getValue(idNFe);            \n                     \n                    // monta XML de saida XiMail\n                     getTrace().addInfo(&quot;Before DocumentBuilderFactory&quot;);\n                     \n                     DocumentBuilderFactory factory = new com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl();\n\n                     \n                    DocumentBuilder db = factory.newDocumentBuilder();\n                    Document docout = db.newDocument();\n                    Element root = docout.createElement(&quot;ns0:Mail&quot;);\n                    root.setAttribute(&quot;xmlns:ns0&quot;, &quot;http://sap.com/xi/XI/Mail/30&quot;);\n                    //BufferedReader bfr = new BufferedReader(new InputStreamReader(in, &quot;utf-8&quot;));\n                    docout.appendChild(root);\n                    \n                    getTrace().addInfo(&quot;Root value: &quot;+root);\n                    \n                    \n                    Element subject = docout.createElement(&quot;Subject&quot;);\n                    root.appendChild(subject);\n                    Text subjectText = docout.createTextNode(getPrefixoSubject() + numeroNF);\n                    getTrace().addInfo(&quot;SubjectText: &quot;+subjectText);// Cria                                                                         // campo\n                    subject.appendChild(subjectText);\n\n                    // Cria elemento From\n                    Element from = docout.createElement(&quot;From&quot;);\n                    root.appendChild(from);\n                    Text fromText = docout.createTextNode(getEmailFrom()); // Cria valor                                                        // campo\n                    from.appendChild(fromText);\n                    getTrace().addInfo(&quot;FromText: &quot;+fromText);\n                    \n                    \n                    if (email.length() &gt; 0) {\n                        email += &quot;;&quot;;\n                    } else {\n                        email = this.getEmaillist();\n                    }\n                    getTrace().addInfo(&quot;Email: &quot;+email);\n                    // Cria elemento To\n                    \n                    Element to = docout.createElement(&quot;To&quot;);\n                    root.appendChild(to);\n                    Text toText = docout.createTextNode(email);\n                    getTrace().addInfo(&quot;toText: &quot;+toText);// Cria valor campo\n                    to.appendChild(toText);\n\n                    // Cria elemento Content Type\n                    Element contentType = docout.createElement(&quot;Content_Type&quot;);\n                    root.appendChild(contentType);\n                    // Text contentTypeText = docout.createTextNode(&quot;application/xml&quot;);\n                    // //Cria valor campo\n                    Text contentTypeText = docout.createTextNode(&quot;multipart/mixed;boundary=--AaZz&quot;); // Cria\n                                                                                                        // valor\n                    getTrace().addInfo(&quot;contentTypeText: &quot;+contentTypeText);                                                                                // campo\n                    contentType.appendChild(contentTypeText);\n\n                    // Criando o corpo de texto do e-mail e o anexo\n                    BodyText texto = new BodyText(idNFe, getFrase(), inptxml, pdf);\n                    // Cria elemento Content\n                    Element content = docout.createElement(&quot;Content&quot;);\n                    root.appendChild(content);\n                    Text contentText = null;\n\n                    // substituir a sua empresa\n                    if (&quot;NFE: &quot;.equalsIgnoreCase(getPrefixoSubject())) {\n                        contentText = docout.createTextNode(texto.getnfeText());\n                    }\n                    // substituir a sua empresa\n                    else if (&quot;NFE CANCELADA : &quot;.equalsIgnoreCase(getPrefixoSubject())) {\n                        contentText = docout.createTextNode(texto.getCnfeText());\n                    } \n                    else if (&quot;COE FMC: &quot;.equalsIgnoreCase(getPrefixoSubject())) {\n                        contentText = docout.createTextNode(texto.getcceText());\n                    } \n                    getTrace().addInfo(&quot;contentText: &quot;+contentText);    \n                content.appendChild(contentText);\n\n                \n                \n                /*Transformer trns = TransformerFactory.newInstance().newTransformer();\n                DOMSource targetMsg = new DOMSource(docout);\n                StreamResult stRslt = new StreamResult(out);\n                trns.transform(targetMsg, stRslt);*/\n                \n                TransformerFactory tf=TransformerFactory.newInstance();\n                   Transformer transform=tf.newTransformer();\n                transform.transform(new DOMSource(docout), new StreamResult(out));\n                    \n                    \n                 \n             }\n                 catch (IOException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                        \n                    } catch (ParserConfigurationException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                        \n                    } catch (TransformerConfigurationException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                        \n                    } catch (TransformerException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                        \n                    } catch (Exception e) {\n                // Exception Handling } \n                 }\n             }\n    \n    \n    public String getGap() {\n        return gap;\n    }\n\n    public void setGap(String gap) {\n        this.gap = gap;\n    }\n\n    public String getFrase() {\n        return frase;\n    }\n\n    public void setFrase(String frase) {\n        this.frase = frase;\n    }\n    \n    \n    public String getBSystem(){\n        return BSSystem;\n    }\n    \n    \n    public String getEmaillist(){\n        return Emails;\n    }\n    \n    public String getCChannel() {\n        return ComChannel;\n    }\n    \n    \n    \n    public String getPrefixoSubject() {\n        return prefixoSubject;\n    }\n\n    public void setPrefixoSubject(String prefixoSubject) {\n        this.prefixoSubject = prefixoSubject;\n    }\n\n    public String getEmailFrom() {\n        return emailFrom;\n    }\n\n    public void setEmailFrom(String emailFrom) {\n        this.emailFrom = emailFrom;\n    }\n\n    \n    public String getPrefixoDocumento() {\n        return prefixoDocumento;\n    }\n\n    public void setPrefixoDocumento(String prefixoDocumento) {\n        this.prefixoDocumento = prefixoDocumento;\n    }\n    \n    public String getValue(String idNFe){\n        String contentnew;\n        \n        String rfcxml=  &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot;+&quot;&lt;ns0:OTC_NFE_MAIL_OUTPUT xmlns:ns0=\\&quot;urn:sap-com:document:sap:rfc:functions\\&quot;&gt;&quot;+&quot;&lt;I_ACCESS_KEY&gt;&quot;\n                + idNFe + &quot;&lt;/I_ACCESS_KEY&gt;&lt;I_CANCEL/&gt;&lt;/ns0:OTC_NFE_MAIL_OUTPUT&gt;&quot;;\n        getTrace().addInfo(&quot;RFCXML:&quot;+rfcxml);\n        RfcAccessor accessor = null;\n        ByteArrayOutputStream outRFC = null;\n        try{\n            getTrace().addInfo(&quot;Went inside GetValue&quot;);\n            Channel channel  = LookupService.getChannel(getBSystem(),getCChannel());\n             accessor  = LookupService.getRfcAccessor(channel);\n            getTrace().addInfo(&quot;After LookUp&quot;);\n            \n            InputStream inputStream = new ByteArrayInputStream(rfcxml.getBytes());\n            XmlPayload payload  = LookupService.getXmlPayload(inputStream);\n            Payload rfcOutPayload  = accessor.call(payload);\n            InputStream inputs = rfcOutPayload.getContent();\n             outRFC = new ByteArrayOutputStream(1024);\n            byte[] bufferbyte = new byte[1024];\n            for (int read = inputs.read(bufferbyte); read &gt; 0; read = inputs.read(bufferbyte)) {\n            outRFC.write(bufferbyte, 0, read);\n            }\n            contentnew = outRFC.toString();\n            getTrace().addInfo(&quot;Content&quot;+contentnew);\n            int Start_Index , End_Index ;\n            Start_Index = outRFC.toString().indexOf(&quot;&lt;E_EMAIL&gt;&quot;) + 9; \n            getTrace().addInfo(&quot;StartIndex&quot;+Start_Index);\n            End_Index= outRFC.toString().indexOf(&quot;&lt;/E_EMAIL&gt;&quot;); \n            \n            getTrace().addInfo(&quot;EndIndex&quot;+End_Index);\n            email = outRFC.toString().substring(Start_Index,End_Index);\n            getTrace().addInfo(&quot;Email&quot;+email);\n            return email;\n            \n        }\n        catch(Exception e)\n\n        {\n\n        throw new RuntimeException(&quot;Error message&quot;+e);\n\n        }\n        \n    \n        \n    }\n\n    private void configParamEmail() {\n        setEmailFrom(NFe_Mail);\n        setPrefixoDocumento(NFe);\n        setPrefixoSubject(NFE_EMPRESA);\n        \n    }\n\n    \n    \n\n\n    /*public void setParameter(Map arg0) {\n        // TODO Auto-generated method stub\n        \n    }*/\n\n\n    \n\n}\n</code></pre>\n<p><strong>BodyText.java:</strong></p>\n<pre><code>package nfeb2b.company;\n\nimport com.sap.aii.mapping.api.AbstractTransformation;\nimport com.sap.aii.mapping.api.StreamTransformationException;\nimport com.sap.aii.mapping.api.TransformationInput;\nimport com.sap.aii.mapping.api.TransformationOutput;\n\npublic class BodyText extends AbstractTransformation  {\n\n    public String nfeText = new String();\n    public String cnfeText = new String();\n    public String cceText = new String();\n    public String content = new String();\n    public String chaveNFe = new String();\n    public String frase = new String();\n    public String xmlString = new String();\n    public final String gap = &quot;\\n\\r&quot;;\n    public String numeroNFe = new String();\n    public String dataNFe = new String();\n    public String serieNFe = new String();\n    public String pdf = new String();\n    public String pdfattachment_nfe= &quot;NF-e  - &quot;;\n    public String pdfattachment_cnfe=&quot;NF-e Cancelada - &quot;;\n    public String pdfattachment_ccfe=&quot;CC-e - &quot;;\n    \n    \n\n    // public String sefazNFe = new String();\n    public BodyText()\n    {\n        \n    }\n\n    public BodyText(String chaveNFe, String frase, String xmlString, String pdf) {\n        this.chaveNFe = chaveNFe;\n        this.frase = frase;\n        this.xmlString = xmlString;\n        this.pdf = pdf;\n        this.numeroNFe = chaveNFe.substring(25, 34);\n        this.dataNFe = chaveNFe.substring(4, 6) + &quot;/20&quot;\n                + chaveNFe.substring(2, 4);\n        this.serieNFe = chaveNFe.substring(22, 25);\n        // this.sefazNFe = chaveNFe.substring(0,2);\n        pdfattachment_nfe = pdfattachment_nfe + chaveNFe + &quot;.xml&quot;;\n        pdfattachment_cnfe=pdfattachment_cnfe + chaveNFe + &quot;.xml&quot;;\n        pdfattachment_ccfe=pdfattachment_ccfe + chaveNFe + &quot;.xml&quot;;\n    }\n\n    public String getGap() {\n        return gap;\n    }\n\n    public String getnfeText() {\n    \n        nfeText = &quot;Prezado cliente, &quot; + getGap()\n                + &quot;Segue  &quot;\n                + getGap() + getGap() + &quot;Número da NF-e: &quot;\n                + numeroNFe + getGap() + &quot;Serie: &quot; + serieNFe + getGap()\n                + &quot;Data emissão (MM/AAAA): &quot; + dataNFe + getGap() + getGap()\n                + &quot;Atenciosamente,&quot; + getGap() + getGap() + &quot;FMC&quot;;\n\n        \n        content = &quot;----AaZz\\r\\n&quot;+ &quot;Content-Type: text/html; charset=UTF-8&quot; +&quot;\\r\\n&quot; + &quot;Content-Disposition: inline\\r\\n\\r\\n&quot; + nfeText + &quot;\\r\\n----AaZz\\r\\n&quot; + &quot;Content-Type: application/pdf; name=&quot; + pdfattachment_nfe + &quot;\\r\\n&quot;\n\n        + &quot;Content-Disposition: attachment; filename=&quot; +pdfattachment_nfe + &quot;\\r\\n\\r\\n&quot;  + &quot;\\r\\n&quot; +&quot;\\r\\n&quot;;\n\n       \n\n        return content;\n    }\n\n    public String getCnfeText() {\n    \n        cnfeText = &quot;Prezado cliente, &quot;\n                + getGap()\n                + &quot;Segue.&quot;\n                + getGap() + getGap() + &quot;Número da NF-e: &quot;\n                + numeroNFe + getGap() + &quot;Série: &quot; + serieNFe + getGap()\n                + &quot;Data emissão (MM/AAAA): &quot; + dataNFe + getGap() + getGap()\n                + &quot;Atenciosamente,&quot; + getGap() + getGap() + &quot;FMC&quot;;\n\n        \n        content = &quot;----AaZz\\r\\n&quot;+ &quot;Content-Type: text/html; charset=UTF-8&quot; +&quot;\\r\\n&quot; + &quot;Content-Disposition: inline\\r\\n\\r\\n&quot; + nfeText + &quot;\\r\\n----AaZz\\r\\n&quot; + &quot;Content-Type: application/pdf; name=&quot; + pdfattachment_nfe + &quot;\\r\\n&quot;\n\n        + &quot;Content-Disposition: attachment; filename=&quot; +pdfattachment_nfe + &quot;\\r\\n\\r\\n&quot; + &quot;Content-Transfer-Encoding: base64&quot; + &quot;\\r\\n&quot; +&quot;\\r\\n&quot;;\n\n        \n        return content;\n    }\n\n    public String getcceText() {\n        cceText = &quot;Prezado cliente, &quot;\n                + getGap()\n                + &quot;Segue .&quot;\n                + getGap() + getGap()\n                + &quot;Número da NF-e que recebeu correção eletrônica: &quot;\n                + numeroNFe + getGap() + &quot;Série: &quot; + serieNFe + getGap()\n                + &quot;Data emissão (MM/AAAA): &quot; + dataNFe + getGap() + getGap()\n                + &quot;Atenciosamente,&quot; + getGap() + getGap() + &quot;FMC&quot;;\n    \n        \n        \n        content = &quot;----AaZz\\r\\n&quot;+ &quot;Content-Type: text/html; charset=UTF-8&quot; +&quot;\\r\\n&quot; + &quot;Content-Disposition: inline\\r\\n\\r\\n&quot; + nfeText + &quot;\\r\\n----AaZz\\r\\n&quot; + &quot;Content-Type: application/pdf; name=&quot; + pdfattachment_nfe + &quot;\\r\\n&quot;\n\n        + &quot;Content-Disposition: attachment; filename=&quot; +pdfattachment_nfe + &quot;\\r\\n\\r\\n&quot; + &quot;Content-Transfer-Encoding: base64&quot; + &quot;\\r\\n&quot; +&quot;\\r\\n&quot;;\n\n        return content;\n        \n    }\n\n    @Override\n    public void transform(TransformationInput in, TransformationOutput out) throws StreamTransformationException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n}\n</code></pre>\n<p>Please find below trace <strong>log:</strong></p>\n<blockquote>\n<pre><code>Resource not found: META-INF/services/javax.xml.transform.TransformerFactory\ncom.sap.aii.ib.server.mapping.execution.MappingClassNotFoundException: META-INF/services/javax.xml.transform.transformerfactory\n    at com.sap.aii.ib.server.mapping.execution.InternalMappingFinder.getInputStream(InternalMappingFinder.java:125)\n    at com.sap.aii.ib.server.mapping.execution.InternalMappingFinder.readFile(InternalMappingFinder.java:63)\n    at com.sap.aii.ib.server.mapping.execution.MappingLoader.findResources(MappingLoader.java:354)\n    at java.lang.ClassLoader.getResources(ClassLoader.java:1241)\n    at java.lang.ClassLoader.getResources(ClassLoader.java:1237)\n    at java.util.ServiceLoader$LazyIterator.hasNextService(ServiceLoader.java:348)\n    at java.util.ServiceLoader$LazyIterator.hasNext(ServiceLoader.java:393)\n    at java.util.ServiceLoader$1.hasNext(ServiceLoader.java:474)\n    at javax.xml.transform.FactoryFinder$1.run(FactoryFinder.java:279)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at javax.xml.transform.FactoryFinder.findServiceProvider(FactoryFinder.java:275)\n    at javax.xml.transform.FactoryFinder.find(FactoryFinder.java:251)\n    at javax.xml.transform.TransformerFactory.newInstance(TransformerFactory.java:106)\n    at nfeb2b.fmc.XmlNFe_To_Mail.execute(XmlNFe_To_Mail.java:195)\n    at nfeb2b.fmc.XmlNFe_To_Mail.transform(XmlNFe_To_Mail.java:69)\n    at com.sap.aii.ib.server.mapping.execution.JavaMapping.executeStep(JavaMapping.java:112)\n    at com.sap.aii.ib.server.mapping.execution.Mapping.execute(Mapping.java:60)\n    at com.sap.aii.ib.server.mapping.execution.SequenceMapping.executeStep(SequenceMapping.java:40)\n    at com.sap.aii.ib.server.mapping.execution.Mapping.execute(Mapping.java:60)\n    at com.sap.aii.ib.server.mapping.execution.MappingHandler.map(MappingHandler.java:87)\n    at com.sap.aii.ib.server.mapping.execution.MappingHandler.map(MappingHandler.java:54)\n    at com.sap.aii.ibrep.server.mapping.rt.MappingHandlerAdapter.run(MappingHandlerAdapter.java:139)\n    at com.sap.aii.ibrep.server.mapping.exec.ExecuteIfMapCommand.execute(ExecuteIfMapCommand.java:33)\n    at com.sap.aii.ib.server.mapping.exec.CommandManager.execute(CommandManager.java:43)\n    at com.sap.aii.ibrep.server.mapping.ServerMapService.execute(ServerMapService.java:40)\n</code></pre>\n</blockquote>\n<p>Please let me know what changes need to be done. Thanks :)</p>\n"},{"tags":["java","oop"],"answers":[{"comments":[{"owner":{"account_id":26002733,"reputation":11,"user_id":19712961,"display_name":"liu2su"},"score":0,"creation_date":1686942232,"post_id":76492627,"comment_id":134873034,"body_markdown":"Thank you very much! \nBut if I assign a int constant to char, for example, char a = 97; \nThe complier won&#39;t generate error, because char is stored as number in JVM.\nBased on this idea, I want to assign a int to a formal parameter which its type is char and get a error this time.\nChould you please tell me why?","body":"Thank you very much!  But if I assign a int constant to char, for example, char a = 97;  The complier won&#39;t generate error, because char is stored as number in JVM. Based on this idea, I want to assign a int to a formal parameter which its type is char and get a error this time. Chould you please tell me why?"},{"owner":{"account_id":20421959,"reputation":13,"user_id":14982772,"display_name":"BornAsSlayer07"},"score":0,"creation_date":1686979262,"post_id":76492627,"comment_id":134876111,"body_markdown":"What you&#39;re asking is logically correct, but that&#39;s not how the Java print method works. You&#39;re seeing the print method as a variable to which you&#39;re assigning the values. See it&#39;s a method, the Java `System.out.print() and Println()` is an overloaded method which only accepts (boolean, char, int, long, float, double, char[], String and object) type arguments. So when you pass in an int value during a method call it calls the method that accepts the int type parameter, which then internally calls String.valueOf() method which calls Integer.toString() method. These are overloaded methods too.","body":"What you&#39;re asking is logically correct, but that&#39;s not how the Java print method works. You&#39;re seeing the print method as a variable to which you&#39;re assigning the values. See it&#39;s a method, the Java <code>System.out.print() and Println()</code> is an overloaded method which only accepts (boolean, char, int, long, float, double, char[], String and object) type arguments. So when you pass in an int value during a method call it calls the method that accepts the int type parameter, which then internally calls String.valueOf() method which calls Integer.toString() method. These are overloaded methods too."},{"owner":{"account_id":20421959,"reputation":13,"user_id":14982772,"display_name":"BornAsSlayer07"},"score":0,"creation_date":1686979609,"post_id":76492627,"comment_id":134876122,"body_markdown":"There are no implicit conversions happening in these methods.  You can also see it for yourself If you&#39;re using any IDE like IntelliJ or Eclipse. Just hold Control then left-click the word print in the `System.out.print()` method or please check [printStream](https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html)","body":"There are no implicit conversions happening in these methods.  You can also see it for yourself If you&#39;re using any IDE like IntelliJ or Eclipse. Just hold Control then left-click the word print in the <code>System.out.print()</code> method or please check <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PrintStream.html\" rel=\"nofollow noreferrer\">printStream</a>"}],"tags":[],"owner":{"account_id":20421959,"reputation":13,"user_id":14982772,"display_name":"BornAsSlayer07"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687027577,"creation_date":1686938465,"answer_id":76492627,"question_id":76492403,"body_markdown":"The implicit conversion only happens when you assign a char to an int-type object. When you call\r\n\r\n&gt; System.out.println();\r\n&gt;\r\n&gt;  System.out.print();\r\n\r\nThese methods internally call the toString() method, which changes everything that is passed inside this method to String and prints the answer as a String in the console.\r\n\r\nSo for you to get the expected result, make the following changes in the code.\r\n\r\nInstead of\r\n\r\n    class AA{\r\n       public void print(int column, int row, char a){\r\n          for(int i = 1; i &lt;= row; i++){\r\n             for(int j = 1; j &lt;= column; j++){\r\n                System.out.print(a);\r\n             }\r\n             System.out.println();\r\n          }\r\n       }\r\n    }\r\n\r\nChange it to\r\n\r\n    public class AA {\r\n        public void print(int column, int row, char a){\r\n            for(int i = 1; i &lt;= row; i++){\r\n                for(int j = 1; j &lt;= column; j++){\r\n                    int c = a;\r\n                    System.out.print(c);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\nIf you look closer, I have assigned a char to the int type variable and passed it into the System.out.print() method. This will implicitly convert char to its corresponding ASCII value and it will provide you the desired result. The conversion happens in this place `int c = a;`\r\n\r\nFor more clarification: [Implicit Type Casting][1]\r\n\r\n  [1]: https://www.javatpoint.com/implicitly-typecasting-in-java#:~:text=The%20process%20of%20converting%20one,type%20casting%20or%20widening%20casting.\r\n\r\n\r\n\r\n\r\n","title":"Formal parameter type transform","body":"<p>The implicit conversion only happens when you assign a char to an int-type object. When you call</p>\n<blockquote>\n<p>System.out.println();</p>\n<p>System.out.print();</p>\n</blockquote>\n<p>These methods internally call the toString() method, which changes everything that is passed inside this method to String and prints the answer as a String in the console.</p>\n<p>So for you to get the expected result, make the following changes in the code.</p>\n<p>Instead of</p>\n<pre><code>class AA{\n   public void print(int column, int row, char a){\n      for(int i = 1; i &lt;= row; i++){\n         for(int j = 1; j &lt;= column; j++){\n            System.out.print(a);\n         }\n         System.out.println();\n      }\n   }\n}\n</code></pre>\n<p>Change it to</p>\n<pre><code>public class AA {\n    public void print(int column, int row, char a){\n        for(int i = 1; i &lt;= row; i++){\n            for(int j = 1; j &lt;= column; j++){\n                int c = a;\n                System.out.print(c);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>If you look closer, I have assigned a char to the int type variable and passed it into the System.out.print() method. This will implicitly convert char to its corresponding ASCII value and it will provide you the desired result. The conversion happens in this place <code>int c = a;</code></p>\n<p>For more clarification: <a href=\"https://www.javatpoint.com/implicitly-typecasting-in-java#:%7E:text=The%20process%20of%20converting%20one,type%20casting%20or%20widening%20casting.\" rel=\"nofollow noreferrer\">Implicit Type Casting</a></p>\n"},{"comments":[{"owner":{"account_id":26002733,"reputation":11,"user_id":19712961,"display_name":"liu2su"},"score":0,"creation_date":1686946356,"post_id":76493155,"comment_id":134873666,"body_markdown":"But how &quot;char a = 97;&quot; work?","body":"But how &quot;char a = 97;&quot; work?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686946745,"post_id":76493155,"comment_id":134873706,"body_markdown":"I believe that is because it&#39;s an assignment.  When you&#39;re passing the value to the parameter, it&#39;s a different context for the compiler,  _https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.2_.  Similar to trying to assign a value too large for an int; _int value = 12345678901;_.  It can infer if the data type can hold the value.","body":"I believe that is because it&#39;s an assignment.  When you&#39;re passing the value to the parameter, it&#39;s a different context for the compiler,  <i><a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se8/html/jls-5.html#jls-5.2</a></i>&zwnj;&#8203;.  Similar to trying to assign a value too large for an int; <i>int value = 12345678901;</i>.  It can infer if the data type can hold the value."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686944471,"creation_date":1686944471,"answer_id":76493155,"question_id":76492403,"body_markdown":"&gt; _&quot;... Shouldn&#39;t implicit conversion happen when assigning an int to char? ...&quot;_\r\n\r\nNo, only from a _char_ to an _int_.\r\n\r\n\r\n_[Java Language Specification &amp;ndash; 5.3. Method Invocation Conversion](https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.3)_.\r\n&gt; _&quot;Method invocation conversions specifically do not include the implicit narrowing of integer constants which is part of assignment conversion ...&quot;_\r\n\r\nThus, since a _char_ is a two byte value, a plausible loss of information may occur.","title":"Formal parameter type transform","body":"<blockquote>\n<p><em>&quot;... Shouldn't implicit conversion happen when assigning an int to char? ...&quot;</em></p>\n</blockquote>\n<p>No, only from a <em>char</em> to an <em>int</em>.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-5.html#jls-5.3\" rel=\"nofollow noreferrer\">Java Language Specification – 5.3. Method Invocation Conversion</a></em>.</p>\n<blockquote>\n<p><em>&quot;Method invocation conversions specifically do not include the implicit narrowing of integer constants which is part of assignment conversion ...&quot;</em></p>\n</blockquote>\n<p>Thus, since a <em>char</em> is a two byte value, a plausible loss of information may occur.</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687028850,"creation_date":1687028093,"answer_id":76497701,"question_id":76492403,"body_markdown":"An implicit conversion from `int` to `char` only occurs if the value is a compile-time constant known to fit within a `char` (and only in an assignment context).\r\n\r\nThis is defined in [section 5.2](https://docs.oracle.com/javase/specs/jls/se19/html/jls-5.html#jls-5.2) of the Java Language Specification, which writes:\r\n\r\n&gt; In addition, if the expression is a constant expression (&#167;15.29) of type `byte`, `short`, `char`, or `int`:\r\n&gt;\r\n&gt; *    A narrowing primitive conversion may be used if the variable is of type `byte`, `short`, or `char`, and the value of the constant expression is representable in the type of the variable.","title":"Formal parameter type transform","body":"<p>An implicit conversion from <code>int</code> to <code>char</code> only occurs if the value is a compile-time constant known to fit within a <code>char</code> (and only in an assignment context).</p>\n<p>This is defined in <a href=\"https://docs.oracle.com/javase/specs/jls/se19/html/jls-5.html#jls-5.2\" rel=\"nofollow noreferrer\">section 5.2</a> of the Java Language Specification, which writes:</p>\n<blockquote>\n<p>In addition, if the expression is a constant expression (§15.29) of type <code>byte</code>, <code>short</code>, <code>char</code>, or <code>int</code>:</p>\n<ul>\n<li>A narrowing primitive conversion may be used if the variable is of type <code>byte</code>, <code>short</code>, or <code>char</code>, and the value of the constant expression is representable in the type of the variable.</li>\n</ul>\n</blockquote>\n"}],"owner":{"account_id":26002733,"reputation":11,"user_id":19712961,"display_name":"liu2su"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1687028850,"creation_date":1686936338,"question_id":76492403,"body_markdown":"I&#39;m quite confused about an issue I encountered while working on Java.\r\n\r\nI created a method called `print` in class `AA` which requires three parameters: `int column`,`int row`, and `char a`.\r\n\r\nIn `main`, I invoked this method by passing three `int` values. However, the compiler says that I can&#39;t assign an `int` to `char`. I know I&#39;m assigning an `int` value to `char`. Shouldn&#39;t implicit conversion happen when assigning an `int` to `char`?\r\n\r\nFor example:\r\n\r\n```java\r\nchar a = 97;\r\n```\r\n\r\n```java\r\npublic class test{\r\n   public static void main(String[] args){\r\n      AA aa = new AA();\r\n      aa.print(10,5,97);\r\n   }\r\n}\r\n\r\nclass AA{\r\n   public void print(int column, int row, char a){\r\n      for(int i = 1; i &lt;= row; i++){\r\n         for(int j = 1; j &lt;= column; j++){\r\n            System.out.print(a);\r\n         }\r\n         System.out.println();\r\n      }\r\n   }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Formal parameter type transform","body":"<p>I'm quite confused about an issue I encountered while working on Java.</p>\n<p>I created a method called <code>print</code> in class <code>AA</code> which requires three parameters: <code>int column</code>,<code>int row</code>, and <code>char a</code>.</p>\n<p>In <code>main</code>, I invoked this method by passing three <code>int</code> values. However, the compiler says that I can't assign an <code>int</code> to <code>char</code>. I know I'm assigning an <code>int</code> value to <code>char</code>. Shouldn't implicit conversion happen when assigning an <code>int</code> to <code>char</code>?</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>char a = 97;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class test{\n   public static void main(String[] args){\n      AA aa = new AA();\n      aa.print(10,5,97);\n   }\n}\n\nclass AA{\n   public void print(int column, int row, char a){\n      for(int i = 1; i &lt;= row; i++){\n         for(int j = 1; j &lt;= column; j++){\n            System.out.print(a);\n         }\n         System.out.println();\n      }\n   }\n}\n</code></pre>\n"},{"tags":["javascript","java","spring-boot","friend"],"comments":[{"owner":{"account_id":7689435,"reputation":161,"user_id":6789749,"display_name":"Rohan Sharma"},"score":0,"creation_date":1687024987,"post_id":76497439,"comment_id":134880724,"body_markdown":"Are you looking for a high level design of this feature, or you want to understand how the low level design will work in spring boot?","body":"Are you looking for a high level design of this feature, or you want to understand how the low level design will work in spring boot?"},{"owner":{"account_id":28841162,"reputation":1,"user_id":22089375,"display_name":"juviscript"},"score":0,"creation_date":1687025386,"post_id":76497439,"comment_id":134880755,"body_markdown":"Just a low level design and how it can integrate within Spring Boot! Its hard for me to grasp how it all really works. In some instances, when you add friends, they&#39;re able to view more of your profile than someone that isn&#39;t a friend.","body":"Just a low level design and how it can integrate within Spring Boot! Its hard for me to grasp how it all really works. In some instances, when you add friends, they&#39;re able to view more of your profile than someone that isn&#39;t a friend."},{"owner":{"account_id":7689435,"reputation":161,"user_id":6789749,"display_name":"Rohan Sharma"},"score":0,"creation_date":1687025633,"post_id":76497439,"comment_id":134880778,"body_markdown":"Do u already have a database setup, does it already contains a User table?","body":"Do u already have a database setup, does it already contains a User table?"},{"owner":{"account_id":28841162,"reputation":1,"user_id":22089375,"display_name":"juviscript"},"score":0,"creation_date":1687025867,"post_id":76497439,"comment_id":134880807,"body_markdown":"I do! Have a User Record, User Controller for the API, User Service class, and a User table that is hosted in AWS using DynamoDB.","body":"I do! Have a User Record, User Controller for the API, User Service class, and a User table that is hosted in AWS using DynamoDB."},{"owner":{"account_id":28841162,"reputation":1,"user_id":22089375,"display_name":"juviscript"},"score":0,"creation_date":1687026045,"post_id":76497439,"comment_id":134880836,"body_markdown":"If you want me to post code, I&#39;d be happy too! Just didn&#39;t want to flood the post is all. :)","body":"If you want me to post code, I&#39;d be happy too! Just didn&#39;t want to flood the post is all. :)"}],"answers":[{"tags":[],"owner":{"account_id":7300136,"reputation":1160,"user_id":5563263,"accept_rate":57,"display_name":"Loading"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687028019,"creation_date":1687028019,"answer_id":76497696,"question_id":76497439,"body_markdown":"you correctly understood that for a UserA, you have to store a List of Friends. The relationship is 1 to here N.\r\n\r\nThe easiest solution is to created another table &quot;FriendsMapping&quot;, with 2 columns: owner &amp; friend and both have a foreign key to the User table.\r\n\r\nIf you want that UserA has two friends UserB and UserC, you will have the Friends table with 2 entries:\r\n\r\n    owner: UserA, friend: UserB\r\n    owner: UserA, friend: UserC\r\n\r\nTo fetch all friends of a user, you execute:\r\n\r\n    SELECT * FROM friends where owner = UserA\r\n\r\nEDIT: if you use Hibernate, you can have projection lists which automatically fetch the friends when requesting the list, see [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-one-to-many","title":"Way to go about implementing an &#39;Add Friends&#39; feature on a site?","body":"<p>you correctly understood that for a UserA, you have to store a List of Friends. The relationship is 1 to here N.</p>\n<p>The easiest solution is to created another table &quot;FriendsMapping&quot;, with 2 columns: owner &amp; friend and both have a foreign key to the User table.</p>\n<p>If you want that UserA has two friends UserB and UserC, you will have the Friends table with 2 entries:</p>\n<pre><code>owner: UserA, friend: UserB\nowner: UserA, friend: UserC\n</code></pre>\n<p>To fetch all friends of a user, you execute:</p>\n<pre><code>SELECT * FROM friends where owner = UserA\n</code></pre>\n<p>EDIT: if you use Hibernate, you can have projection lists which automatically fetch the friends when requesting the list, see <a href=\"https://www.baeldung.com/hibernate-one-to-many\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":28841162,"reputation":1,"user_id":22089375,"display_name":"juviscript"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687028019,"creation_date":1687024076,"question_id":76497439,"body_markdown":"I&#39;ve tried looking through tons of posts on here but haven&#39;t been able to find exactly what I&#39;m looking for but, currently working on a project for my bootcamp that is  a site that is essentially a social anime site, where you have your own dedicated User Profile but you can add friends. \r\n\r\nI&#39;m having a hard time trying to figure out how to implement this into the application despite seeing several different kinds of social media projects. The project is built on Spring Boot and uses Java. \r\n\r\nWe have a User Profile class which has the variables: UUID userID, String displayName, Date birthday, String aboutMe. But would we have to create a variable like &#39;List&lt;User&gt; friendsList&#39;, within each User profile? Then create methods within that User class that call for adding/removing friends (like somehow send a request to a User and then when that person accepts, they&#39;re added to the &#39;List&lt;User&gt; friendsList&#39;?\r\n\r\nOr would creating a whole Friends class, controller, service ect be the route to go? And how would one go about that in a general sense. ","title":"Way to go about implementing an &#39;Add Friends&#39; feature on a site?","body":"<p>I've tried looking through tons of posts on here but haven't been able to find exactly what I'm looking for but, currently working on a project for my bootcamp that is  a site that is essentially a social anime site, where you have your own dedicated User Profile but you can add friends.</p>\n<p>I'm having a hard time trying to figure out how to implement this into the application despite seeing several different kinds of social media projects. The project is built on Spring Boot and uses Java.</p>\n<p>We have a User Profile class which has the variables: UUID userID, String displayName, Date birthday, String aboutMe. But would we have to create a variable like 'List friendsList', within each User profile? Then create methods within that User class that call for adding/removing friends (like somehow send a request to a User and then when that person accepts, they're added to the 'List friendsList'?</p>\n<p>Or would creating a whole Friends class, controller, service ect be the route to go? And how would one go about that in a general sense.</p>\n"},{"tags":["java","spring","logging","logback","logstash-logback-encoder"],"answers":[{"tags":[],"owner":{"account_id":15591978,"reputation":4166,"user_id":11248746,"display_name":"Phil Clay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687027368,"creation_date":1687027368,"answer_id":76497653,"question_id":76170485,"body_markdown":"To specify an explicit field order, you can switch from `net.logstash.logback.encoder.LogstashEncoder` to `net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder`, and add the providers in the order in which you want them to appear in the output.\r\n\r\n(Note that `net.logstash.logback.encoder.LogstashEncoder` is just an extension of `net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder` with a preconfigured set of providers in a specific order.)\r\n\r\n```xml\r\n&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n    &lt;providers&gt;\r\n        &lt;timestamp&gt;\r\n            &lt;fieldName&gt;ts&lt;/fieldName&gt;\r\n        &lt;/timestamp&gt;\r\n        &lt;logLevel/&gt;\r\n        &lt;message&gt;\r\n            &lt;fieldName&gt;msg&lt;/fieldName&gt;\r\n        &lt;/message&gt;\r\n\r\n        &lt;!-- add more providers here for the other fields you want --&gt;\r\n\r\n    &lt;/providers&gt;\r\n&lt;/encoder&gt;\r\n```\r\n\r\nSee the [logstash-logback-encoder documentation](https://github.com/logfellow/logstash-logback-encoder#composite-encoderlayout) for more information on how to use the `LoggingEventCompositeJsonEncoder` and what other providers are available.","title":"Logback - change order of properties using Logstash","body":"<p>To specify an explicit field order, you can switch from <code>net.logstash.logback.encoder.LogstashEncoder</code> to <code>net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder</code>, and add the providers in the order in which you want them to appear in the output.</p>\n<p>(Note that <code>net.logstash.logback.encoder.LogstashEncoder</code> is just an extension of <code>net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder</code> with a preconfigured set of providers in a specific order.)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n    &lt;providers&gt;\n        &lt;timestamp&gt;\n            &lt;fieldName&gt;ts&lt;/fieldName&gt;\n        &lt;/timestamp&gt;\n        &lt;logLevel/&gt;\n        &lt;message&gt;\n            &lt;fieldName&gt;msg&lt;/fieldName&gt;\n        &lt;/message&gt;\n\n        &lt;!-- add more providers here for the other fields you want --&gt;\n\n    &lt;/providers&gt;\n&lt;/encoder&gt;\n</code></pre>\n<p>See the <a href=\"https://github.com/logfellow/logstash-logback-encoder#composite-encoderlayout\" rel=\"nofollow noreferrer\">logstash-logback-encoder documentation</a> for more information on how to use the <code>LoggingEventCompositeJsonEncoder</code> and what other providers are available.</p>\n"}],"owner":{"account_id":7523407,"reputation":103,"user_id":5714534,"accept_rate":75,"display_name":"Michiel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687027368,"creation_date":1683184540,"question_id":76170485,"body_markdown":"I&#39;m trying to change the order of the json properties in my logback file. I want to have the log level after my timestamp so it is easy to see what kind of log it is.\r\n\r\nMy current logback.xml:\r\n\r\n    &lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\r\n\r\n    &lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;target&gt;System.out&lt;/target&gt;\r\n        &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n            &lt;timestampPattern&gt;HH:mm:ss.SSS&lt;/timestampPattern&gt;\r\n            &lt;fieldNames&gt;\r\n                &lt;timestamp&gt;ts&lt;/timestamp&gt;\r\n                &lt;level&gt;level&lt;/level&gt;\r\n                &lt;message&gt;msg&lt;/message&gt;\r\n                &lt;thread&gt;[ignore]&lt;/thread&gt;\r\n                &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\r\n                &lt;logger&gt;logger&lt;/logger&gt;\r\n                &lt;version&gt;[ignore]&lt;/version&gt;\r\n            &lt;/fieldNames&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;json&quot;/&gt;\r\n    &lt;/root&gt;\r\n&lt;/configuration&gt;\r\n\r\nExample output:\r\n\r\n    {&quot;ts&quot;:&quot;09:13:53.736&quot;,&quot;msg&quot;:&quot;Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]&quot;,&quot;logger&quot;:&quot;org.springframework.test.context.support.DefaultTestContextBootstrapper&quot;,&quot;level&quot;:&quot;INFO&quot;}\r\n","title":"Logback - change order of properties using Logstash","body":"<p>I'm trying to change the order of the json properties in my logback file. I want to have the log level after my timestamp so it is easy to see what kind of log it is.</p>\n<p>My current logback.xml:</p>\n<pre><code>&lt;configuration scan=&quot;true&quot; scanPeriod=&quot;30 seconds&quot;&gt;\n\n&lt;appender name=&quot;json&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;target&gt;System.out&lt;/target&gt;\n    &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n        &lt;timestampPattern&gt;HH:mm:ss.SSS&lt;/timestampPattern&gt;\n        &lt;fieldNames&gt;\n            &lt;timestamp&gt;ts&lt;/timestamp&gt;\n            &lt;level&gt;level&lt;/level&gt;\n            &lt;message&gt;msg&lt;/message&gt;\n            &lt;thread&gt;[ignore]&lt;/thread&gt;\n            &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\n            &lt;logger&gt;logger&lt;/logger&gt;\n            &lt;version&gt;[ignore]&lt;/version&gt;\n        &lt;/fieldNames&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;json&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>Example output:</p>\n<pre><code>{&quot;ts&quot;:&quot;09:13:53.736&quot;,&quot;msg&quot;:&quot;Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.event.ApplicationEventsTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener, org.springframework.test.context.event.EventPublishingTestExecutionListener]&quot;,&quot;logger&quot;:&quot;org.springframework.test.context.support.DefaultTestContextBootstrapper&quot;,&quot;level&quot;:&quot;INFO&quot;}\n</code></pre>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1687027191,"post_id":76497623,"comment_id":134880989,"body_markdown":"What if the for loop never loops? The compiler cannot know in advance what value `n` has, and so the error makes sense. Why not simply give curr some default value?","body":"What if the for loop never loops? The compiler cannot know in advance what value <code>n</code> has, and so the error makes sense. Why not simply give curr some default value?"},{"owner":{"account_id":4846635,"reputation":866,"user_id":3910099,"accept_rate":44,"display_name":"white-hawk-73"},"score":0,"creation_date":1687027452,"post_id":76497623,"comment_id":134881016,"body_markdown":"Understood, thanks for your reply. So shall the other variables also be given a default value?","body":"Understood, thanks for your reply. So shall the other variables also be given a default value?"},{"owner":{"account_id":4846635,"reputation":866,"user_id":3910099,"accept_rate":44,"display_name":"white-hawk-73"},"score":0,"creation_date":1687029125,"post_id":76497623,"comment_id":134881196,"body_markdown":"Understood. Thanks.","body":"Understood. Thanks."}],"owner":{"account_id":4846635,"reputation":866,"user_id":3910099,"accept_rate":44,"display_name":"white-hawk-73"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687027182,"answer_count":0,"score":0,"last_activity_date":1687027228,"creation_date":1687026861,"question_id":76497623,"body_markdown":"```\r\nstatic int fib(int n) {\r\n    int beforePrevious;\r\n    int previous;\r\n    int curr;\r\n    if (n &lt;= 1) {\r\n        return n;\r\n    } else {\r\n        beforePrevious = 0;\r\n        previous = 1;\r\n        for (int i = 2; i &lt;= n; i++) {\r\n            curr = beforePrevious + previous;\r\n            beforePrevious = previous;\r\n            previous = curr;\r\n        }\r\n        return curr;\r\n    }\r\n}\r\n```\r\n\r\nHi, in this code why does the compiler say &quot;Variable curr might not have been initialized&quot;? For n &gt;=2, the else clause will run and curr will be assigned a value at least once.\r\n\r\nOn a related not, if I need to assign a value in such cases, is it a good practice to assign default values to other variables also?","title":"Why does the Java compiler say that the variable might not have been initialized?","body":"<pre><code>static int fib(int n) {\n    int beforePrevious;\n    int previous;\n    int curr;\n    if (n &lt;= 1) {\n        return n;\n    } else {\n        beforePrevious = 0;\n        previous = 1;\n        for (int i = 2; i &lt;= n; i++) {\n            curr = beforePrevious + previous;\n            beforePrevious = previous;\n            previous = curr;\n        }\n        return curr;\n    }\n}\n</code></pre>\n<p>Hi, in this code why does the compiler say &quot;Variable curr might not have been initialized&quot;? For n &gt;=2, the else clause will run and curr will be assigned a value at least once.</p>\n<p>On a related not, if I need to assign a value in such cases, is it a good practice to assign default values to other variables also?</p>\n"},{"tags":["java","android","sorting","lambda"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686962226,"post_id":76494208,"comment_id":134875284,"body_markdown":"Is it literally and always `&quot;Item [NUMBER]&quot;`? Can we see `Item`?","body":"Is it literally and always <code>&quot;Item [NUMBER]&quot;</code>? Can we see <code>Item</code>?"},{"owner":{"account_id":12279151,"reputation":15,"user_id":8961360,"display_name":"Tiana"},"score":0,"creation_date":1686963401,"post_id":76494208,"comment_id":134875342,"body_markdown":"I&#39;m not sure I fully understand, but I put in extra data in the original question. Dunno if that&#39;s what you were looking for.","body":"I&#39;m not sure I fully understand, but I put in extra data in the original question. Dunno if that&#39;s what you were looking for."}],"answers":[{"comments":[{"owner":{"account_id":12279151,"reputation":15,"user_id":8961360,"display_name":"Tiana"},"score":0,"creation_date":1686965527,"post_id":76494330,"comment_id":134875470,"body_markdown":"I thought about that, but this is part of a programming challenge and it explicitly states sorting by itemName. Specifically it says \n\n&quot;Display all the items grouped by &quot;listId&quot;\nSort the results first by &quot;listId&quot; then by &quot;name&quot; when displaying.\nFilter out any items where &quot;name&quot; is blank or null.&quot;","body":"I thought about that, but this is part of a programming challenge and it explicitly states sorting by itemName. Specifically it says   &quot;Display all the items grouped by &quot;listId&quot; Sort the results first by &quot;listId&quot; then by &quot;name&quot; when displaying. Filter out any items where &quot;name&quot; is blank or null.&quot;"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686965617,"post_id":76494330,"comment_id":134875473,"body_markdown":"@Tiana Then you should probably use the lexical sort you already have. Otherwise you&#39;re going to have to parse the id back out and you have to make even more assumptions to do that correctly.","body":"@Tiana Then you should probably use the lexical sort you already have. Otherwise you&#39;re going to have to parse the id back out and you have to make even more assumptions to do that correctly."}],"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686964847,"creation_date":1686964847,"answer_id":76494330,"question_id":76494208,"body_markdown":"Based on your added JSON, it appears that name is just the text &quot;Item&quot; and then the id. Which is numeric. Compare on that.\r\n\r\n    Comparator&lt;Item&gt; itemComparator = Comparator.comparing(Item::getListId)\r\n            .thenComparing(Item::getId);\r\n    Collections.sort(itemList, itemComparator);\r\n","title":"Sorting multiple fields from an object in natural order","body":"<p>Based on your added JSON, it appears that name is just the text &quot;Item&quot; and then the id. Which is numeric. Compare on that.</p>\n<pre><code>Comparator&lt;Item&gt; itemComparator = Comparator.comparing(Item::getListId)\n        .thenComparing(Item::getId);\nCollections.sort(itemList, itemComparator);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686970525,"creation_date":1686970525,"answer_id":76494514,"question_id":76494208,"body_markdown":"&gt; _&quot;... So instead of Item 0, Item 101, Item 28. I want Item 0, Item 28, Item 101. Is there a simple way to do this? ...&quot;_\r\n\r\nYou could parse the numeric value within _name_, from the closure.\r\n\r\n```java\r\nComparator&lt;Item&gt; comparator\r\n    = Comparator.comparing(Item::getListId)\r\n                .thenComparing(value -&gt; {\r\n                    int indexOf = value.name.indexOf(&#39; &#39;);\r\n                    return Integer.parseInt(value.name.substring(indexOf + 1));\r\n                });\r\nlist.sort(comparator);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[{id=276, listId=1, name=&#39;Item 276&#39;},\r\n {id=684, listId=1, name=&#39;Item 684&#39;},\r\n {id=735, listId=1, name=&#39;Item 735&#39;},\r\n {id=906, listId=2, name=&#39;Item 906&#39;},\r\n {id=680, listId=3, name=&#39;Item 680&#39;},\r\n {id=534, listId=4, name=&#39;Item 534&#39;},\r\n {id=808, listId=4, name=&#39;Item 808&#39;}]\r\n```","title":"Sorting multiple fields from an object in natural order","body":"<blockquote>\n<p><em>&quot;... So instead of Item 0, Item 101, Item 28. I want Item 0, Item 28, Item 101. Is there a simple way to do this? ...&quot;</em></p>\n</blockquote>\n<p>You could parse the numeric value within <em>name</em>, from the closure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator&lt;Item&gt; comparator\n    = Comparator.comparing(Item::getListId)\n                .thenComparing(value -&gt; {\n                    int indexOf = value.name.indexOf(' ');\n                    return Integer.parseInt(value.name.substring(indexOf + 1));\n                });\nlist.sort(comparator);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[{id=276, listId=1, name='Item 276'},\n {id=684, listId=1, name='Item 684'},\n {id=735, listId=1, name='Item 735'},\n {id=906, listId=2, name='Item 906'},\n {id=680, listId=3, name='Item 680'},\n {id=534, listId=4, name='Item 534'},\n {id=808, listId=4, name='Item 808'}]\n</code></pre>\n"}],"owner":{"account_id":12279151,"reputation":15,"user_id":8961360,"display_name":"Tiana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76494514,"answer_count":2,"score":0,"last_activity_date":1687026891,"creation_date":1686961235,"question_id":76494208,"body_markdown":"Currently I&#39;m using a lamda sort to sort listID first, then Item Name second\r\n\r\n```java\r\nComparator &lt; Item &gt; itemComparator = Comparator.comparing(Item::getListId)\r\n                                               .thenComparing(Item::getItemName);\r\nCollections.sort(itemList, itemComparator);\r\n```\r\nWhich technically works, but ItemName is alphanumeric and sorts by ASCII instead of natural order\r\nSo instead of Item 0, Item 101, Item 28. I want Item 0, Item 28, Item 101. Is there a simple way to do this?\r\n\r\nEdit: Item is taking info from a JSON File\r\n```json\r\n    [{&quot;id&quot;: 684, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 684&quot;},\r\n    {&quot;id&quot;: 276, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 276&quot;},\r\n    {&quot;id&quot;: 808, &quot;listId&quot;: 4, &quot;name&quot;: &quot;Item 808&quot;},\r\n    {&quot;id&quot;: 680, &quot;listId&quot;: 3, &quot;name&quot;: &quot;Item 680&quot;},\r\n    {&quot;id&quot;: 534, &quot;listId&quot;: 4, &quot;name&quot;: &quot;Item 534&quot;},\r\n    {&quot;id&quot;: 906, &quot;listId&quot;: 2, &quot;name&quot;: &quot;Item 906&quot;},\r\n    {&quot;id&quot;: 735, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 735&quot;},\r\n```","title":"Sorting multiple fields from an object in natural order","body":"<p>Currently I'm using a lamda sort to sort listID first, then Item Name second</p>\n<pre class=\"lang-java prettyprint-override\"><code>Comparator &lt; Item &gt; itemComparator = Comparator.comparing(Item::getListId)\n                                               .thenComparing(Item::getItemName);\nCollections.sort(itemList, itemComparator);\n</code></pre>\n<p>Which technically works, but ItemName is alphanumeric and sorts by ASCII instead of natural order\nSo instead of Item 0, Item 101, Item 28. I want Item 0, Item 28, Item 101. Is there a simple way to do this?</p>\n<p>Edit: Item is taking info from a JSON File</p>\n<pre class=\"lang-json prettyprint-override\"><code>    [{&quot;id&quot;: 684, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 684&quot;},\n    {&quot;id&quot;: 276, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 276&quot;},\n    {&quot;id&quot;: 808, &quot;listId&quot;: 4, &quot;name&quot;: &quot;Item 808&quot;},\n    {&quot;id&quot;: 680, &quot;listId&quot;: 3, &quot;name&quot;: &quot;Item 680&quot;},\n    {&quot;id&quot;: 534, &quot;listId&quot;: 4, &quot;name&quot;: &quot;Item 534&quot;},\n    {&quot;id&quot;: 906, &quot;listId&quot;: 2, &quot;name&quot;: &quot;Item 906&quot;},\n    {&quot;id&quot;: 735, &quot;listId&quot;: 1, &quot;name&quot;: &quot;Item 735&quot;},\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687025907,"post_id":76497559,"comment_id":134880813,"body_markdown":"remove semi-colon after `if (time &gt; 4);` || missing `{` for `if` || missing closing `}` for that method |||| BTW `if (expr) { return true; } else { return false; }` is same as just `return expr;`, no need for `if`; `if (expr == true)` is better written as `if (expr)`","body":"remove semi-colon after <code>if (time &gt; 4);</code> || missing <code>{</code> for <code>if</code> || missing closing <code>}</code> for that method |||| BTW <code>if (expr) { return true; } else { return false; }</code> is same as just <code>return expr;</code>, no need for <code>if</code>; <code>if (expr == true)</code> is better written as <code>if (expr)</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1687026065,"post_id":76497559,"comment_id":134880844,"body_markdown":"Also this: `public int setDrinkTime(int time) {\n    return time;\n}` makes no sense. You&#39;re not setting anything and only returning the parameter that was passed in.","body":"Also this: <code>public int setDrinkTime(int time) {     return time; }</code> makes no sense. You&#39;re not setting anything and only returning the parameter that was passed in."},{"owner":{"account_id":28837131,"reputation":3,"user_id":22086259,"display_name":"Ness"},"score":0,"creation_date":1687026226,"post_id":76497559,"comment_id":134880869,"body_markdown":"Thank you for the input. This is only my second week of learning java in class so I&#39;m a super noob.","body":"Thank you for the input. This is only my second week of learning java in class so I&#39;m a super noob."},{"owner":{"account_id":28837131,"reputation":3,"user_id":22086259,"display_name":"Ness"},"score":0,"creation_date":1687027548,"post_id":76497559,"comment_id":134881028,"body_markdown":"I need to create a number that can be greater than 4 or less than 4 as DrinkTime.","body":"I need to create a number that can be greater than 4 or less than 4 as DrinkTime."}],"answers":[{"tags":[],"owner":{"account_id":19918246,"reputation":16,"user_id":14594698,"display_name":"GodOfAxolotl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687026811,"creation_date":1687026811,"answer_id":76497621,"question_id":76497559,"body_markdown":"It appears you have made a type in your needsToGo() Method:\r\n\r\n    public static boolean needsToGo() {\r\n    int time = 3;\r\n    if (time &gt; 4); //&lt;-- Change this Semicolon to a {\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n\r\nAlso, it would be better to write\r\n\r\n    return time &gt; 4;\r\n\r\nBecause time &gt; 4 will result in either true or false already, so no need to resolve this with an if statement.\r\n\r\n","title":"Why can&#39;t I get the &#39;else&#39; to work in this boolean? error: void methods cannot return value","body":"<p>It appears you have made a type in your needsToGo() Method:</p>\n<pre><code>public static boolean needsToGo() {\nint time = 3;\nif (time &gt; 4); //&lt;-- Change this Semicolon to a {\n    return true;\n}\nelse {\n    return false;\n}\n</code></pre>\n<p>Also, it would be better to write</p>\n<pre><code>return time &gt; 4;\n</code></pre>\n<p>Because time &gt; 4 will result in either true or false already, so no need to resolve this with an if statement.</p>\n"}],"owner":{"account_id":28837131,"reputation":3,"user_id":22086259,"display_name":"Ness"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1687027055,"accepted_answer_id":76497621,"answer_count":1,"score":-1,"last_activity_date":1687026811,"creation_date":1687025868,"question_id":76497559,"body_markdown":"I&#39;m trying  to set a boolean expression to return true or false depending on whether getDrinkTime() is greater or less than 4 but I keep getting the error &quot;void methods cannot return a value&quot; on the &quot;else { return false; } line. Am I missing something or is something not setup properly?\r\n\r\n    package sct;\r\n\r\n    public class Dog {\r\n\tpublic String Dog;\r\n\tpublic int DrinkTime;\r\n\tpublic static boolean getDrinkTime;\r\n\t\r\n\r\n\tpublic int setDrinkTime(int time) {\r\n\t\treturn time;\r\n\r\n    }\r\n    public int getDrinkTime() {\r\n\treturn DrinkTime;\r\n\t}\r\n\r\n    public static boolean needsToGo() {\r\n\tint time = 3;\r\n\tif (time &gt; 4);\r\n\t\treturn true;\r\n\t}\r\n\telse {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tif (needsToGo()==true) {\r\n\t\tSystem.out.println(&quot;True&quot;);\r\n\t\t}else {\r\n\t\t\tSystem.out.println(&quot;False&quot;);\r\n\t\t\t}\r\n\t}\r\n    }","title":"Why can&#39;t I get the &#39;else&#39; to work in this boolean? error: void methods cannot return value","body":"<p>I'm trying  to set a boolean expression to return true or false depending on whether getDrinkTime() is greater or less than 4 but I keep getting the error &quot;void methods cannot return a value&quot; on the &quot;else { return false; } line. Am I missing something or is something not setup properly?</p>\n<pre><code>package sct;\n\npublic class Dog {\npublic String Dog;\npublic int DrinkTime;\npublic static boolean getDrinkTime;\n\n\npublic int setDrinkTime(int time) {\n    return time;\n\n}\npublic int getDrinkTime() {\nreturn DrinkTime;\n}\n\npublic static boolean needsToGo() {\nint time = 3;\nif (time &gt; 4);\n    return true;\n}\nelse {\n    return false;\n}\n\npublic static void main(String[] args) {\n    if (needsToGo()==true) {\n    System.out.println(&quot;True&quot;);\n    }else {\n        System.out.println(&quot;False&quot;);\n        }\n}\n}\n</code></pre>\n"},{"tags":["java","linked-list"],"comments":[{"owner":{"account_id":1590282,"reputation":6170,"user_id":1473751,"accept_rate":100,"display_name":"Zong"},"score":0,"creation_date":1384182206,"post_id":19909337,"comment_id":29622052,"body_markdown":"You already have a reasonable idea, what difficulties are you facing with its implementation?","body":"You already have a reasonable idea, what difficulties are you facing with its implementation?"},{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":1,"creation_date":1384182928,"post_id":19909337,"comment_id":29622471,"body_markdown":"To add to the head, you put your current `head` in a temp var, add the new `head`, then set that new `head`&#39;s `next` to the temp var.","body":"To add to the head, you put your current <code>head</code> in a temp var, add the new <code>head</code>, then set that new <code>head</code>&#39;s <code>next</code> to the temp var."},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":1,"creation_date":1384184478,"post_id":19909337,"comment_id":29623480,"body_markdown":"By the way, your class does not correctly implement the `getSize()` function (which, BTW, should actually be named just `size()`). Also, you really ought to make the list class generic.","body":"By the way, your class does not correctly implement the <code>getSize()</code> function (which, BTW, should actually be named just <code>size()</code>). Also, you really ought to make the list class generic."}],"answers":[{"comments":[{"owner":{"account_id":2671095,"reputation":1142,"user_id":2308497,"accept_rate":100,"display_name":"Nishant"},"score":0,"creation_date":1384197118,"post_id":19910086,"comment_id":29630499,"body_markdown":"Your suggestion worked. I have updated the question with my implementation,","body":"Your suggestion worked. I have updated the question with my implementation,"},{"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"score":0,"creation_date":1384237898,"post_id":19910086,"comment_id":29644763,"body_markdown":"Also have a look over the implementation by AJMansfield. It is a clean way to do with this approach.","body":"Also have a look over the implementation by AJMansfield. It is a clean way to do with this approach."}],"tags":[],"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1384184119,"creation_date":1384184119,"answer_id":19910086,"question_id":19909337,"body_markdown":"Follow the procedure to go further : \r\n\r\n1. create methods : insert and delete.\r\n     insert - it will insert data at the beginning.\r\n     delete - it will search for the value passed and delete the first occurrence of item in   the list and returns the node that was deleted.\r\n\r\n\r\n2. Start traversing the linked list. Whenever you find a negative node, delete it from existing linked list and call insert method on the node returned by delete function.\r\n\r\n\r\n \r\n\r\n","title":"Rearranging a linked list","body":"<p>Follow the procedure to go further : </p>\n\n<ol>\n<li><p>create methods : insert and delete.\n insert - it will insert data at the beginning.\n delete - it will search for the value passed and delete the first occurrence of item in   the list and returns the node that was deleted.</p></li>\n<li><p>Start traversing the linked list. Whenever you find a negative node, delete it from existing linked list and call insert method on the node returned by delete function.</p></li>\n</ol>\n"},{"comments":[{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384185277,"post_id":19910504,"comment_id":29623998,"body_markdown":"BTW, in case you don&#39;t recognize the syntax, I am using a lambda expression in the last code block (introduced in Java 8).","body":"BTW, in case you don&#39;t recognize the syntax, I am using a lambda expression in the last code block (introduced in Java 8)."},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384185920,"post_id":19910504,"comment_id":29624411,"body_markdown":"I also use diamond operators `&lt;&gt;`, which are only in Java 7 or later.","body":"I also use diamond operators <code>&lt;&gt;</code>, which are only in Java 7 or later."},{"owner":{"account_id":3455742,"reputation":2315,"user_id":2894309,"accept_rate":56,"display_name":"Nishant Lakhara"},"score":0,"creation_date":1384237765,"post_id":19910504,"comment_id":29644706,"body_markdown":"This looks a clean way to do it. What is this Predicate class that you used?","body":"This looks a clean way to do it. What is this Predicate class that you used?"},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384268699,"post_id":19910504,"comment_id":29661723,"body_markdown":"@nisu its in the `java.util.function` package; its a functional interface for something that takes one parameter of type `E` and returns a `boolean`.","body":"@nisu its in the <code>java.util.function</code> package; its a functional interface for something that takes one parameter of type <code>E</code> and returns a <code>boolean</code>."},{"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"score":0,"creation_date":1384268816,"post_id":19910504,"comment_id":29661804,"body_markdown":"@nishu I used the predicate class as a way to allow the list to be split up based on other attributes, rather than just the required &#39;negative&#39; split. (In particular, I used it so the class could remain generic, instead of having to create a specialized class that could only handle `int`s.)","body":"@nishu I used the predicate class as a way to allow the list to be split up based on other attributes, rather than just the required &#39;negative&#39; split. (In particular, I used it so the class could remain generic, instead of having to create a specialized class that could only handle <code>int</code>s.)"}],"tags":[],"owner":{"account_id":1394594,"reputation":4069,"user_id":1324631,"accept_rate":73,"display_name":"AJMansfield"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384269817,"creation_date":1384185192,"answer_id":19910504,"question_id":19909337,"body_markdown":"Add a new interface to your node type:\r\n\r\n    static Node&lt;T&gt; implements Iterable&lt;Node&lt;T&gt;&gt; {\r\n        private Node&lt;T&gt; next;\r\n        private T data;\r\n        \r\n        public T getData() {return data;}\r\n        public void setData(int data) {this.data = data;}\r\n        \r\n        public Node getNext() {return next;}\r\n        public void setNext(Node&lt;T&gt; next) {this.next = next;}\r\n    }\r\n\r\nThe `NodeIterator` can then be\r\n\r\n    NodeIterator&lt;E extends Node&lt;T&gt;, L extends LinkedList&lt;T&gt;&gt; implements Iterator&lt;E&gt;{\r\n        E last, current; L parent;\r\n        public NodeIterator(E node, L parent){this.current = node; this.parent = parent;}\r\n        @Override public boolean hasNext(){return current.getNext() != null}\r\n        @Override public E next(){last = current; current = current.getNext(); return last;}\r\n        @Override public void remove(){last.setNext(current = current.getNext()); parent.size--;}\r\n    }\r\n\r\nNow that you have this, you can write the method for moving the list:\r\n\r\n    public class LinkedList&lt;E&gt; {\r\n    \r\n        private Node&lt;E&gt; head;\r\n        private int size;\r\n        \r\n        public void insertAtHead(Node&lt;E&gt; node){\r\n            node.setNext(head);\r\n            head=node;\r\n            size++;\r\n        }\r\n\r\n        public void split(Predicate&lt;E&gt; condition){\r\n            Iterator&lt;Node&lt;E&gt;&gt; it = nodeIterator();\r\n            while(it.hasNext()){\r\n                Node&lt;E&gt; node = it.next();\r\n                if(condition.test(node.getData())){\r\n                    it.remove();\r\n                    insertAtHead(node);\r\n                }\r\n            }\r\n        }\r\n\r\n        public Iterator&lt;Node&lt;E&gt;&gt; nodeIterator() {\r\n            return new NodeIterator&lt;Node&lt;E&gt;, LinkedList&lt;E&gt;&gt;(parent, head);\r\n        }\r\n    }\r\n\r\nInvoke like this:\r\n\r\n    LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\r\n     // [... add stuff to list ...]\r\n    list.split((Integer i) -&gt; i &lt; 0);\r\n\r\nEDIT: fixed the code so it will correctly update the list&#39;s size when the iterator&#39;s remove function is called. (Still works only with nodes that are contained in one list, though. If two list instances incorporate the same nodes, and one of their shared nodes is removed, only one will have its size updated.)","title":"Rearranging a linked list","body":"<p>Add a new interface to your node type:</p>\n\n<pre><code>static Node&lt;T&gt; implements Iterable&lt;Node&lt;T&gt;&gt; {\n    private Node&lt;T&gt; next;\n    private T data;\n\n    public T getData() {return data;}\n    public void setData(int data) {this.data = data;}\n\n    public Node getNext() {return next;}\n    public void setNext(Node&lt;T&gt; next) {this.next = next;}\n}\n</code></pre>\n\n<p>The <code>NodeIterator</code> can then be</p>\n\n<pre><code>NodeIterator&lt;E extends Node&lt;T&gt;, L extends LinkedList&lt;T&gt;&gt; implements Iterator&lt;E&gt;{\n    E last, current; L parent;\n    public NodeIterator(E node, L parent){this.current = node; this.parent = parent;}\n    @Override public boolean hasNext(){return current.getNext() != null}\n    @Override public E next(){last = current; current = current.getNext(); return last;}\n    @Override public void remove(){last.setNext(current = current.getNext()); parent.size--;}\n}\n</code></pre>\n\n<p>Now that you have this, you can write the method for moving the list:</p>\n\n<pre><code>public class LinkedList&lt;E&gt; {\n\n    private Node&lt;E&gt; head;\n    private int size;\n\n    public void insertAtHead(Node&lt;E&gt; node){\n        node.setNext(head);\n        head=node;\n        size++;\n    }\n\n    public void split(Predicate&lt;E&gt; condition){\n        Iterator&lt;Node&lt;E&gt;&gt; it = nodeIterator();\n        while(it.hasNext()){\n            Node&lt;E&gt; node = it.next();\n            if(condition.test(node.getData())){\n                it.remove();\n                insertAtHead(node);\n            }\n        }\n    }\n\n    public Iterator&lt;Node&lt;E&gt;&gt; nodeIterator() {\n        return new NodeIterator&lt;Node&lt;E&gt;, LinkedList&lt;E&gt;&gt;(parent, head);\n    }\n}\n</code></pre>\n\n<p>Invoke like this:</p>\n\n<pre><code>LinkedList&lt;Integer&gt; list = new LinkedList&lt;&gt;();\n // [... add stuff to list ...]\nlist.split((Integer i) -&gt; i &lt; 0);\n</code></pre>\n\n<p>EDIT: fixed the code so it will correctly update the list's size when the iterator's remove function is called. (Still works only with nodes that are contained in one list, though. If two list instances incorporate the same nodes, and one of their shared nodes is removed, only one will have its size updated.)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686909812,"post_id":76469009,"comment_id":134866458,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76469009/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27689427,"reputation":1,"user_id":21136433,"display_name":"entropeutic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687026222,"creation_date":1686694084,"answer_id":76469009,"question_id":19909337,"body_markdown":"For those who stumble across this looking for help with their Practice-IT question that is identical, I did the same problem in Practice-It and this is what passed all the tests for me:\r\n\r\n    public void split() {\r\n      ListNode temp = front;\r\n      for (int i = 0; i &lt; this.size; i++) {\r\n        if (temp.data &lt; 0) {\r\n          this.add(0, temp.data);\r\n          this.remove(i + 1);\r\n        }\r\n        temp = temp.next;\r\n      }\r\n    }\r\n\r\nThe idea is that we create our &quot;temp&quot; variable pointing to the front of our `linkedlist`, our for loop helps us iterate sequentially through all of the index locations within our `linkedlist`. our &quot;if&quot; conditions test whether the integer is negative, and if it is, then we want to add this number to the front of the list first, THEN remove it from where we found it. this order is important because if we remove first, we lose it, unless we save it into a variable first, but this approach is simpler. our call on the add() method tells it to add the value we are currently pointing at, to index 0, aka the front of our `linkedlist`. once we do this, we are suddenly pointing at the value prior to what we were pointing at, because we increased the size of the list by one by have not incremented our for-loop variables value yet, so when we call the `remove()` method, the index we pass to it must be 1 greater than what our for-loop variable I is currently set to, so our index is `i + 1`. we must move our temp variable to the next node by setting temp equal to `temp.next`, and we must do this outside of our for loop because we do this whether or not the value we are pointing at is negative. our for-loop test cannot be equal to the size of the `linkedlist` because of indexes beginning at 0, so our test is set to whether our I is less than the size of our `linkedlist`. this was the most straight forward approach I could think of utilizing the built in methods of the `LinkedIntList` class provided by Practice-It. not sure if that is where you encountered the problem but if it is not, I have faith that you will be able to apply the strategy according to what you are working with.","title":"Rearranging a linked list","body":"<p>For those who stumble across this looking for help with their Practice-IT question that is identical, I did the same problem in Practice-It and this is what passed all the tests for me:</p>\n<pre><code>public void split() {\n  ListNode temp = front;\n  for (int i = 0; i &lt; this.size; i++) {\n    if (temp.data &lt; 0) {\n      this.add(0, temp.data);\n      this.remove(i + 1);\n    }\n    temp = temp.next;\n  }\n}\n</code></pre>\n<p>The idea is that we create our &quot;temp&quot; variable pointing to the front of our <code>linkedlist</code>, our for loop helps us iterate sequentially through all of the index locations within our <code>linkedlist</code>. our &quot;if&quot; conditions test whether the integer is negative, and if it is, then we want to add this number to the front of the list first, THEN remove it from where we found it. this order is important because if we remove first, we lose it, unless we save it into a variable first, but this approach is simpler. our call on the add() method tells it to add the value we are currently pointing at, to index 0, aka the front of our <code>linkedlist</code>. once we do this, we are suddenly pointing at the value prior to what we were pointing at, because we increased the size of the list by one by have not incremented our for-loop variables value yet, so when we call the <code>remove()</code> method, the index we pass to it must be 1 greater than what our for-loop variable I is currently set to, so our index is <code>i + 1</code>. we must move our temp variable to the next node by setting temp equal to <code>temp.next</code>, and we must do this outside of our for loop because we do this whether or not the value we are pointing at is negative. our for-loop test cannot be equal to the size of the <code>linkedlist</code> because of indexes beginning at 0, so our test is set to whether our I is less than the size of our <code>linkedlist</code>. this was the most straight forward approach I could think of utilizing the built in methods of the <code>LinkedIntList</code> class provided by Practice-It. not sure if that is where you encountered the problem but if it is not, I have faith that you will be able to apply the strategy according to what you are working with.</p>\n"}],"owner":{"account_id":2671095,"reputation":1142,"user_id":2308497,"accept_rate":100,"display_name":"Nishant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2254,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":19910086,"answer_count":3,"score":0,"last_activity_date":1687026222,"creation_date":1384181927,"question_id":19909337,"body_markdown":"I&#39;m trying to solve the following problem \r\n\r\n&gt; Write a method split that rearranges the elements of a list so that all of the negative values appear before all of the non-negatives. \r\n\tFor example, suppose a variable list stores the following sequence of values:\r\n    \r\n    [8, 7, -4, 19, 0, 43, -8, -7, 2]\r\n    \r\n&gt; The call of list.split(); should rearrange the list to put the negatives first. One possible arrangement would be the following:\r\n    \r\n    [-4, -8, -7, 8, 7, 19, 0, 43, 2]\r\n    \r\n&gt; But it matters only that the negatives appear before the non-negatives. \r\n\tSo this is only one possible solution. Another legal solution would be to rearrange the values this way:\r\n    \r\n    [-7, -8, -4, 2, 43, 0, 19, 7, 8]\r\n    \r\n&gt;You are not allowed to swap data fields or to create any new nodes to solve this problem; \r\n\tyou must rearrange the list by rearranging the links of the list. \r\n\tYou also may not use auxiliary structures like arrays, ArrayLists, stacks, queues, etc, to solve this problem.\r\n\r\nI&#39;m really clueless as how to solve this problem. One approach which I&#39;m thinking of is to identify nodes with negative data and add it to the head, but I&#39;m unable to figure out how to code this approach. Here is my list class.\r\n\r\n    public class LinkedList {\r\n\r\n\t// The Linked List&#39;s Node structure\r\n\t   static class Node {\r\n\t\tprivate Node next;\r\n\t\tprivate int data;\r\n\r\n\t\tNode(int data) {\r\n\t\t\tthis.data = data;\r\n\t\t\tnext = null;\r\n\t\t}\r\n\r\n\t\tpublic int getData() {\r\n\t\t\treturn data;\r\n\t\t}\r\n\r\n\t\tpublic void setNext(Node next) {\r\n\t\t\tthis.next = next;\r\n\t\t}\r\n\r\n\t\tpublic void setData(int data) {\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\r\n\t\tpublic Node getNext() {\r\n\t\t\treturn next;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate Node head;\r\n\tprivate int size;\r\n\r\n\tpublic void setHead(Node head) {\r\n\t\tthis.head = head;\r\n\t}\r\n\r\n\tpublic int getSize() {\r\n\t\treturn size;\r\n\t}\r\n\r\n  \tpublic Node getHead() {\r\n\t\treturn head;\r\n\t}\r\n\r\n\tpublic LinkedList() {\r\n\t\thead = null;\r\n\t\tsize = 0;\r\n\t}\r\n    }\r\n\r\nAny hints/suggestion for tackling this problem?\r\n\r\nAs suggested by @nishu I have come up with the following solution. It works.\r\n\r\n\r\n    public Node delete(int data) {\r\n\r\n\t\tNode del = null;\r\n\t\tNode tmp = head;\r\n\t\tif (head.getData() == data) {\r\n\t\t\tNode tmp2 = head;\r\n\t\t\tNode nxt = tmp.getNext();\r\n\t\t\ttmp2.setNext(null);\r\n\t\t\tthis.setHead(nxt);\r\n\t\t\tdel = tmp2;\r\n\t\t} else if (isLast(data)) {\r\n\t\t\twhile (true) {\r\n\t\t\t\tif (tmp.getNext().getNext() == null) {\r\n\t\t\t\t\tdel = tmp.getNext();\r\n\t\t\t\t\ttmp.setNext(null);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\ttmp = tmp.getNext();\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\twhile (tmp != null &amp;&amp; tmp.getNext() != null) {\r\n\t\t\t\tif (tmp.getNext().getData() == data) {\r\n\t\t\t\t\tNode prev = tmp;\r\n\t\t\t\t\tdel = tmp.getNext();\r\n\t\t\t\t\tNode nextOfToBeDeleted = tmp.getNext().getNext();\r\n\t\t\t\t\tprev.setNext(nextOfToBeDeleted);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\ttmp = tmp.getNext();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn del;\r\n\t}\r\n\r\n\tpublic void addToFront(Node node) {\r\n\t\tnode.setNext(head);\r\n\t\tthis.setHead(node);\r\n\t}\r\n\r\n\tpublic void split() {\r\n\r\n\t\tNode tmp = head;\r\n\t\tNode del = null;\r\n\t\twhile (tmp != null) {\r\n\t\t\tif (tmp.getData() &lt; 0) {\r\n\t\t\t\tNode nxt = tmp.getNext();\r\n\t\t\t\tdel = delete(tmp.getData());\r\n\t\t\t\taddToFront(del);\r\n\t\t\t\twhile (tmp != nxt) {\r\n\t\t\t\t\ttmp = tmp.getNext();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\ttmp = tmp.getNext();\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n\r\n\tpublic boolean isLast(int data) {\r\n\t\tboolean last = false;\r\n\t\tNode tmp = head;\r\n\t\twhile (true) {\r\n\t\t\tif (tmp.getData() == data &amp;&amp; tmp.getNext() != null) {\r\n\t\t\t\tlast = false;\r\n\t\t\t\tbreak;\r\n\t\t\t} else if (tmp.getNext() == null &amp;&amp; tmp.getData() == data) {\r\n\t\t\t\tlast = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\ttmp = tmp.getNext();\r\n\t\t}\r\n\t\treturn last;\r\n\t}\r\n","title":"Rearranging a linked list","body":"<p>I'm trying to solve the following problem </p>\n\n<blockquote>\n  <p>Write a method split that rearranges the elements of a list so that all of the negative values appear before all of the non-negatives. \n      For example, suppose a variable list stores the following sequence of values:</p>\n</blockquote>\n\n<pre><code>[8, 7, -4, 19, 0, 43, -8, -7, 2]\n</code></pre>\n\n<blockquote>\n  <p>The call of list.split(); should rearrange the list to put the negatives first. One possible arrangement would be the following:</p>\n</blockquote>\n\n<pre><code>[-4, -8, -7, 8, 7, 19, 0, 43, 2]\n</code></pre>\n\n<blockquote>\n  <p>But it matters only that the negatives appear before the non-negatives. \n      So this is only one possible solution. Another legal solution would be to rearrange the values this way:</p>\n</blockquote>\n\n<pre><code>[-7, -8, -4, 2, 43, 0, 19, 7, 8]\n</code></pre>\n\n<blockquote>\n  <p>You are not allowed to swap data fields or to create any new nodes to solve this problem; \n      you must rearrange the list by rearranging the links of the list. \n      You also may not use auxiliary structures like arrays, ArrayLists, stacks, queues, etc, to solve this problem.</p>\n</blockquote>\n\n<p>I'm really clueless as how to solve this problem. One approach which I'm thinking of is to identify nodes with negative data and add it to the head, but I'm unable to figure out how to code this approach. Here is my list class.</p>\n\n<pre><code>public class LinkedList {\n\n// The Linked List's Node structure\n   static class Node {\n    private Node next;\n    private int data;\n\n    Node(int data) {\n        this.data = data;\n        next = null;\n    }\n\n    public int getData() {\n        return data;\n    }\n\n    public void setNext(Node next) {\n        this.next = next;\n    }\n\n    public void setData(int data) {\n        this.data = data;\n    }\n\n    public Node getNext() {\n        return next;\n    }\n\n}\n\nprivate Node head;\nprivate int size;\n\npublic void setHead(Node head) {\n    this.head = head;\n}\n\npublic int getSize() {\n    return size;\n}\n\npublic Node getHead() {\n    return head;\n}\n\npublic LinkedList() {\n    head = null;\n    size = 0;\n}\n}\n</code></pre>\n\n<p>Any hints/suggestion for tackling this problem?</p>\n\n<p>As suggested by @nishu I have come up with the following solution. It works.</p>\n\n<pre><code>public Node delete(int data) {\n\n    Node del = null;\n    Node tmp = head;\n    if (head.getData() == data) {\n        Node tmp2 = head;\n        Node nxt = tmp.getNext();\n        tmp2.setNext(null);\n        this.setHead(nxt);\n        del = tmp2;\n    } else if (isLast(data)) {\n        while (true) {\n            if (tmp.getNext().getNext() == null) {\n                del = tmp.getNext();\n                tmp.setNext(null);\n                break;\n            }\n            tmp = tmp.getNext();\n        }\n    } else {\n        while (tmp != null &amp;&amp; tmp.getNext() != null) {\n            if (tmp.getNext().getData() == data) {\n                Node prev = tmp;\n                del = tmp.getNext();\n                Node nextOfToBeDeleted = tmp.getNext().getNext();\n                prev.setNext(nextOfToBeDeleted);\n                break;\n            }\n            tmp = tmp.getNext();\n        }\n    }\n    return del;\n}\n\npublic void addToFront(Node node) {\n    node.setNext(head);\n    this.setHead(node);\n}\n\npublic void split() {\n\n    Node tmp = head;\n    Node del = null;\n    while (tmp != null) {\n        if (tmp.getData() &lt; 0) {\n            Node nxt = tmp.getNext();\n            del = delete(tmp.getData());\n            addToFront(del);\n            while (tmp != nxt) {\n                tmp = tmp.getNext();\n            }\n        } else {\n            tmp = tmp.getNext();\n        }\n\n    }\n}\n\npublic boolean isLast(int data) {\n    boolean last = false;\n    Node tmp = head;\n    while (true) {\n        if (tmp.getData() == data &amp;&amp; tmp.getNext() != null) {\n            last = false;\n            break;\n        } else if (tmp.getNext() == null &amp;&amp; tmp.getData() == data) {\n            last = true;\n            break;\n        }\n        tmp = tmp.getNext();\n    }\n    return last;\n}\n</code></pre>\n"},{"tags":["java","docker","dockerfile"],"comments":[{"owner":{"account_id":1745683,"reputation":2172,"user_id":1595977,"accept_rate":73,"display_name":"Edwin"},"score":1,"creation_date":1500303243,"post_id":45147371,"comment_id":77263895,"body_markdown":"what do you get from echo $JAVA_HOME and $PATH?","body":"what do you get from echo $JAVA_HOME and $PATH?"},{"owner":{"account_id":1351225,"reputation":507,"user_id":1290778,"accept_rate":100,"display_name":"phanteh"},"score":0,"creation_date":1500303309,"post_id":45147371,"comment_id":77263938,"body_markdown":"JAVA_HOME: `/opt/jdk`\nPATH: `/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/opt/jdk/bin`","body":"JAVA_HOME: <code>&#47;opt&#47;jdk</code> PATH: <code>&#47;usr&#47;local&#47;sbin:&#47;usr&#47;local&#47;bin:&#47;usr&#47;sbin:&#47;usr&#47;bin:&#47;sbin:&#47;bin&zwnj;&#8203;:&#47;opt&#47;jdk&#47;bin</code>"},{"owner":{"account_id":1745683,"reputation":2172,"user_id":1595977,"accept_rate":73,"display_name":"Edwin"},"score":0,"creation_date":1500303630,"post_id":45147371,"comment_id":77264184,"body_markdown":"can you try `RUN echo &quot;$(java -version)&quot;` ?","body":"can you try <code>RUN echo &quot;$(java -version)&quot;</code> ?"},{"owner":{"account_id":1351225,"reputation":507,"user_id":1290778,"accept_rate":100,"display_name":"phanteh"},"score":0,"creation_date":1500304033,"post_id":45147371,"comment_id":77264465,"body_markdown":"I get the same output using echo &quot;$(java -version)&quot;","body":"I get the same output using echo &quot;$(java -version)&quot;"},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":1,"creation_date":1500304049,"post_id":45147371,"comment_id":77264478,"body_markdown":"You assume where Java is going to reside... Can you start interactive session with your container and verify where exactly Java is","body":"You assume where Java is going to reside... Can you start interactive session with your container and verify where exactly Java is"},{"owner":{"account_id":1745683,"reputation":2172,"user_id":1595977,"accept_rate":73,"display_name":"Edwin"},"score":0,"creation_date":1500304415,"post_id":45147371,"comment_id":77264729,"body_markdown":"have you tried then the `RUN /opt/jdk/bin/java -version`?","body":"have you tried then the <code>RUN &#47;opt&#47;jdk&#47;bin&#47;java -version</code>?"},{"owner":{"account_id":1351225,"reputation":507,"user_id":1290778,"accept_rate":100,"display_name":"phanteh"},"score":0,"creation_date":1500304598,"post_id":45147371,"comment_id":77264878,"body_markdown":"@Edwin I get the same output with the fully qualified path!\n@diginoise I can&#39;t start an interactive session without some kind of entrypoint (a java server app, for instance). However, using `RUN ls -l /opt/jdk/bin` etc. shows what you&#39;d expect (the executables are def. in that location).","body":"@Edwin I get the same output with the fully qualified path! @diginoise I can&#39;t start an interactive session without some kind of entrypoint (a java server app, for instance). However, using <code>RUN ls -l &#47;opt&#47;jdk&#47;bin</code> etc. shows what you&#39;d expect (the executables are def. in that location)."},{"owner":{"account_id":1745683,"reputation":2172,"user_id":1595977,"accept_rate":73,"display_name":"Edwin"},"score":0,"creation_date":1500304668,"post_id":45147371,"comment_id":77264932,"body_markdown":"check this article: https://runnable.com/docker/java/dockerize-your-java-application, it has some steps that can apply to your dockerfile too. Worth trying.","body":"check this article: <a href=\"https://runnable.com/docker/java/dockerize-your-java-application\" rel=\"nofollow noreferrer\">runnable.com/docker/java/dockerize-your-java-application</a>, it has some steps that can apply to your dockerfile too. Worth trying."},{"owner":{"account_id":13215612,"reputation":1059,"user_id":10183880,"display_name":"MehmedB"},"score":0,"creation_date":1570617743,"post_id":45147371,"comment_id":102967054,"body_markdown":"I know this is an old post but I added the lines as @phanteh suggested and I mgetting this error: wget: server returned error: HTTP/1.1 404 Not Found","body":"I know this is an old post but I added the lines as @phanteh suggested and I mgetting this error: wget: server returned error: HTTP/1.1 404 Not Found"},{"owner":{"account_id":1351225,"reputation":507,"user_id":1290778,"accept_rate":100,"display_name":"phanteh"},"score":0,"creation_date":1580404309,"post_id":45147371,"comment_id":106095460,"body_markdown":"@MehmedB It looks like those lines are out of date. The github page I linked to is now referencing: glibc-2.30-r0.apk","body":"@MehmedB It looks like those lines are out of date. The github page I linked to is now referencing: glibc-2.30-r0.apk"},{"owner":{"account_id":183623,"reputation":4126,"user_id":419097,"accept_rate":75,"display_name":"b01"},"score":0,"creation_date":1613670334,"post_id":45147371,"comment_id":117153763,"body_markdown":"The issue was that I was missing GLibC. Once that was on the system it all ran fine. See the accepted answer below.","body":"The issue was that I was missing GLibC. Once that was on the system it all ran fine. See the accepted answer below."}],"answers":[{"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":1,"creation_date":1500304994,"post_id":45147882,"comment_id":77265154,"body_markdown":".. because the exit code he sees comes from a crashing Java process that misses the aforementioned dependencies","body":".. because the exit code he sees comes from a crashing Java process that misses the aforementioned dependencies"},{"owner":{"account_id":6629715,"reputation":6021,"user_id":5118762,"display_name":"brass monkey"},"score":1,"creation_date":1529510670,"post_id":45147882,"comment_id":88902792,"body_markdown":"You can find examples of Alpine images running with OracleJDK [here](https://hub.docker.com/r/frolvlad/alpine-oraclejdk8/~/dockerfile/) and [here](https://hub.docker.com/r/anapsix/alpine-java/~/dockerfile/). Its basically always about adding the missing GNU C library.","body":"You can find examples of Alpine images running with OracleJDK <a href=\"https://hub.docker.com/r/frolvlad/alpine-oraclejdk8/~/dockerfile/\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://hub.docker.com/r/anapsix/alpine-java/~/dockerfile/\" rel=\"nofollow noreferrer\">here</a>. Its basically always about adding the missing GNU C library."},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":0,"creation_date":1529515416,"post_id":45147882,"comment_id":88905390,"body_markdown":"@LazerBass please edit my answer to add the 2 docker alpine images which have glibC and I will happily approve!","body":"@LazerBass please edit my answer to add the 2 docker alpine images which have glibC and I will happily approve!"},{"owner":{"account_id":183623,"reputation":4126,"user_id":419097,"accept_rate":75,"display_name":"b01"},"score":0,"creation_date":1531405918,"post_id":45147882,"comment_id":89593235,"body_markdown":"From what I&#39;m seeing around the internet this does not to be a correct answer.\nhttps://developer.atlassian.com/blog/2015/08/minimal-java-docker-containers/","body":"From what I&#39;m seeing around the internet this does not to be a correct answer. <a href=\"https://developer.atlassian.com/blog/2015/08/minimal-java-docker-containers/\" rel=\"nofollow noreferrer\">developer.atlassian.com/blog/2015/08/&hellip;</a>"},{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":0,"creation_date":1612540863,"post_id":45147882,"comment_id":116807334,"body_markdown":"@b01 please find details in the update to my answer. Adding Oracle&#39;s java to docker image **could** be in breach of their licensing agreement.","body":"@b01 please find details in the update to my answer. Adding Oracle&#39;s java to docker image <b>could</b> be in breach of their licensing agreement."}],"tags":[],"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"comment_count":5,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1612540792,"creation_date":1500304627,"answer_id":45147882,"question_id":45147371,"body_markdown":"&lt;h2&gt;You cannot achieve what you want&lt;/h2&gt;\r\n\r\nAlpine Linux uses MUSL as a Standard C library.\r\n\r\nOracle&#39;s Java for linux depends on GNU Standard C library (gclib).\r\n\r\n[Here is a bit more detailed info and official stance from Oracle on the topic][1]\r\n\r\n&gt;the JDK source code has not yet been ported to Alpine Linux, or more specifically, the musl C library. That is, it turns out that the thing about Alpine Linux that sticks out/is different from a JDK source code perspective is the C library.\r\n\r\n&lt;h2&gt;The solution&lt;/h2&gt;\r\n\r\nIf you looking for small Java Docker images, [use OpenJDK ones][6]. \r\n\r\n`openjdk:11-jre-slim` image is only **77MB**.\r\n\r\n\r\n&lt;hr/&gt;\r\n\r\n&lt;h2&gt;If you insist, on your head be it...&lt;/h2&gt;\r\n\r\nThere is theoretical way, [but it is not as trivial as you think][2]. \r\n\r\nYou can find many examples of Alpine images running with OracleJDK like [here][3] or see [expert][4]&#39;s answer to this question as well. \r\nThey add the missing Standard GNU C library.\r\n\r\n&lt;h3&gt;Be warned however...&lt;/h3&gt;\r\n\r\nAll of these solutions ***could be in breach*** of Oracle&#39;s license agreement stating that the license is **non-transferable**, and the distributable is **non-modifiable**. \r\nIn the `Dockerfile`s you will find however:\r\n\r\n    Cookie: oraclelicense=accept-securebackup-cookie&quot;\r\nand many entries similar to\r\n\r\n    rm -rf ${JAVA_HOME}/*src.zip\r\n\r\nFor further details about legality of prepackaged Oracle&#39;s **JRE** or **JDK** Docker images [see this article][5].\r\n\r\n\r\n\r\n\r\n  [1]: https://blogs.oracle.com/developers/official-docker-image-for-oracle-java-and-the-openjdk-roadmap-for-containers\r\n  [2]: https://wiki.alpinelinux.org/wiki/Running_glibc_programs\r\n  [3]: https://hub.docker.com/r/anapsix/alpine-java/~/dockerfile/\r\n  [4]: https://stackoverflow.com/users/226895/expert\r\n  [5]: https://www.overops.com/blog/running-java-on-docker-youre-breaking-the-law/\r\n  [6]: https://github.com/docker-library/repo-info/tree/master/repos/openjdk/remote","title":"Docker alpine + oracle java: cannot find java","body":"<h2>You cannot achieve what you want</h2>\n<p>Alpine Linux uses MUSL as a Standard C library.</p>\n<p>Oracle's Java for linux depends on GNU Standard C library (gclib).</p>\n<p><a href=\"https://blogs.oracle.com/developers/official-docker-image-for-oracle-java-and-the-openjdk-roadmap-for-containers\" rel=\"nofollow noreferrer\">Here is a bit more detailed info and official stance from Oracle on the topic</a></p>\n<blockquote>\n<p>the JDK source code has not yet been ported to Alpine Linux, or more specifically, the musl C library. That is, it turns out that the thing about Alpine Linux that sticks out/is different from a JDK source code perspective is the C library.</p>\n</blockquote>\n<h2>The solution</h2>\n<p>If you looking for small Java Docker images, <a href=\"https://github.com/docker-library/repo-info/tree/master/repos/openjdk/remote\" rel=\"nofollow noreferrer\">use OpenJDK ones</a>.</p>\n<p><code>openjdk:11-jre-slim</code> image is only <strong>77MB</strong>.</p>\n<hr/>\n<h2>If you insist, on your head be it...</h2>\n<p>There is theoretical way, <a href=\"https://wiki.alpinelinux.org/wiki/Running_glibc_programs\" rel=\"nofollow noreferrer\">but it is not as trivial as you think</a>.</p>\n<p>You can find many examples of Alpine images running with OracleJDK like <a href=\"https://hub.docker.com/r/anapsix/alpine-java/%7E/dockerfile/\" rel=\"nofollow noreferrer\">here</a> or see <a href=\"https://stackoverflow.com/users/226895/expert\">expert</a>'s answer to this question as well.\nThey add the missing Standard GNU C library.</p>\n<h3>Be warned however...</h3>\n<p>All of these solutions <em><strong>could be in breach</strong></em> of Oracle's license agreement stating that the license is <strong>non-transferable</strong>, and the distributable is <strong>non-modifiable</strong>.\nIn the <code>Dockerfile</code>s you will find however:</p>\n<pre><code>Cookie: oraclelicense=accept-securebackup-cookie&quot;\n</code></pre>\n<p>and many entries similar to</p>\n<pre><code>rm -rf ${JAVA_HOME}/*src.zip\n</code></pre>\n<p>For further details about legality of prepackaged Oracle's <strong>JRE</strong> or <strong>JDK</strong> Docker images <a href=\"https://www.overops.com/blog/running-java-on-docker-youre-breaking-the-law/\" rel=\"nofollow noreferrer\">see this article</a>.</p>\n"},{"comments":[{"owner":{"account_id":28511,"reputation":7390,"user_id":76237,"display_name":"diginoise"},"score":0,"creation_date":1612540915,"post_id":61834096,"comment_id":116807362,"body_markdown":"Please find my updated answer and the discussion about legality of packaging Oracle&#39;s binaries.","body":"Please find my updated answer and the discussion about legality of packaging Oracle&#39;s binaries."}],"tags":[],"owner":{"account_id":80182,"reputation":29519,"user_id":226895,"accept_rate":86,"display_name":"expert"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1612557691,"creation_date":1589618529,"answer_id":61834096,"question_id":45147371,"body_markdown":"In case anyone needs fresh version of JDK I maintain Alpine Oracle JDK images https://hub.docker.com/r/expert/docker-java-minimal\r\n\r\nSources\r\nhttps://github.com/unoexperto/docker-java-minimal/","title":"Docker alpine + oracle java: cannot find java","body":"<p>In case anyone needs fresh version of JDK I maintain Alpine Oracle JDK images <a href=\"https://hub.docker.com/r/expert/docker-java-minimal\" rel=\"nofollow noreferrer\">https://hub.docker.com/r/expert/docker-java-minimal</a></p>\n<p>Sources\n<a href=\"https://github.com/unoexperto/docker-java-minimal/\" rel=\"nofollow noreferrer\">https://github.com/unoexperto/docker-java-minimal/</a></p>\n"},{"comments":[{"owner":{"account_id":183623,"reputation":4126,"user_id":419097,"accept_rate":75,"display_name":"b01"},"score":0,"creation_date":1613672562,"post_id":66265862,"comment_id":117154694,"body_markdown":"barring any licensing issues, this works. The image size was 408MB. Not ideal. but not too bad either. They may be some cleanup that could be done.","body":"barring any licensing issues, this works. The image size was 408MB. Not ideal. but not too bad either. They may be some cleanup that could be done."}],"tags":[],"owner":{"account_id":183623,"reputation":4126,"user_id":419097,"accept_rate":75,"display_name":"b01"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613672431,"creation_date":1613672431,"answer_id":66265862,"question_id":45147371,"body_markdown":"I found an answer that works finally. All is needed is just the [GlibC](https://github.com/sgerrand/alpine-pkg-glibc); huge thanks to [S. Gerrand](https://github.com/sgerrand), this is such a big help.\r\n\r\nHere&#39;s how to get the old JDK 8 running in Alpine 1.13:\r\n\r\n    FROM alpine:3.13\r\n\r\n    RUN apk --no-progress --purge --no-cache upgrade \\\r\n    &amp;&amp; apk --no-progress --purge --no-cache add --upgrade \\\r\n        curl \\\r\n        wget \\\r\n        openssh \\\r\n    &amp;&amp; apk --no-progress --purge --no-cache upgrade \\\r\n    &amp;&amp; rm -vrf /var/cache/apk/* \\\r\n    &amp;&amp; curl --version\r\n\r\n    # Install vanilla GLibC: https://github.com/sgerrand/alpine-pkg-glibc\r\n    RUN curl -o /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub \\\r\n    &amp;&amp; curl -LO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.32-r0/glibc-2.32-r0.apk \\\r\n    &amp;&amp; apk add glibc-2.32-r0.apk\r\n\r\n    RUN wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; \\\r\n            http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz \\\r\n      &amp;&amp; tar xvf jdk-8u131-linux-x64.tar.gz -C /opt \\\r\n      &amp;&amp; rm jdk-8u131-linux-x64.tar.gz \\\r\n      &amp;&amp; ln -s /opt/jdk1.8.0_131 /opt/jdk\r\n\r\n    ENV JAVA_HOME /opt/jdk\r\n    ENV PATH $PATH:/opt/jdk/bin\r\n\r\n    RUN echo $JAVA_HOME &amp;&amp; \\\r\n        echo $PATH\r\n\r\n    RUN which java\r\n    RUN java -version\r\n\r\n    ENTRYPOINT [ &quot;java&quot; ]\r\n\r\n    # To test run: docker run -t khalifahks/alpine-java -version\r\n    # docker export &lt;container-id&gt; | docker import - khalifahks/alpine-java:exported\r\n    # quick interative termnal: docker run -it --entrypoint=sh khalifahks/alpine-java sh","title":"Docker alpine + oracle java: cannot find java","body":"<p>I found an answer that works finally. All is needed is just the <a href=\"https://github.com/sgerrand/alpine-pkg-glibc\" rel=\"nofollow noreferrer\">GlibC</a>; huge thanks to <a href=\"https://github.com/sgerrand\" rel=\"nofollow noreferrer\">S. Gerrand</a>, this is such a big help.</p>\n<p>Here's how to get the old JDK 8 running in Alpine 1.13:</p>\n<pre><code>FROM alpine:3.13\n\nRUN apk --no-progress --purge --no-cache upgrade \\\n&amp;&amp; apk --no-progress --purge --no-cache add --upgrade \\\n    curl \\\n    wget \\\n    openssh \\\n&amp;&amp; apk --no-progress --purge --no-cache upgrade \\\n&amp;&amp; rm -vrf /var/cache/apk/* \\\n&amp;&amp; curl --version\n\n# Install vanilla GLibC: https://github.com/sgerrand/alpine-pkg-glibc\nRUN curl -o /etc/apk/keys/sgerrand.rsa.pub https://alpine-pkgs.sgerrand.com/sgerrand.rsa.pub \\\n&amp;&amp; curl -LO https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.32-r0/glibc-2.32-r0.apk \\\n&amp;&amp; apk add glibc-2.32-r0.apk\n\nRUN wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; \\\n        http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz \\\n  &amp;&amp; tar xvf jdk-8u131-linux-x64.tar.gz -C /opt \\\n  &amp;&amp; rm jdk-8u131-linux-x64.tar.gz \\\n  &amp;&amp; ln -s /opt/jdk1.8.0_131 /opt/jdk\n\nENV JAVA_HOME /opt/jdk\nENV PATH $PATH:/opt/jdk/bin\n\nRUN echo $JAVA_HOME &amp;&amp; \\\n    echo $PATH\n\nRUN which java\nRUN java -version\n\nENTRYPOINT [ &quot;java&quot; ]\n\n# To test run: docker run -t khalifahks/alpine-java -version\n# docker export &lt;container-id&gt; | docker import - khalifahks/alpine-java:exported\n# quick interative termnal: docker run -it --entrypoint=sh khalifahks/alpine-java sh\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13729921,"reputation":1,"user_id":22089452,"display_name":"Rzorze Murzynio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687025828,"creation_date":1687025828,"answer_id":76497554,"question_id":45147371,"body_markdown":"im trying to run my own docker java app, and i have a problem, when i add\r\n\r\n    ENV JAVA_HOME /opt/jdk\r\n    ENV PATH $PATH:/opt/jdk/bin\r\n\r\nto my dockerfile, im getting\r\n\r\n    /bin/sh: ENV: not found\r\n\r\nand i have no idea how to install ENV, or how to make it work...","title":"Docker alpine + oracle java: cannot find java","body":"<p>im trying to run my own docker java app, and i have a problem, when i add</p>\n<pre><code>ENV JAVA_HOME /opt/jdk\nENV PATH $PATH:/opt/jdk/bin\n</code></pre>\n<p>to my dockerfile, im getting</p>\n<pre><code>/bin/sh: ENV: not found\n</code></pre>\n<p>and i have no idea how to install ENV, or how to make it work...</p>\n"}],"owner":{"account_id":1351225,"reputation":507,"user_id":1290778,"accept_rate":100,"display_name":"phanteh"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22545,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":45147882,"answer_count":4,"score":18,"last_activity_date":1687025828,"creation_date":1500303079,"question_id":45147371,"body_markdown":"I&#39;ve been trying to create an alpine-based docker image with Oracle Java (rather than openjdk). I have been specifically asked to create our own image here. \r\n\r\nThis is the Dockerfile I&#39;ve come up with:\r\n\r\n    FROM alpine:3.6\r\n\r\n    RUN apk add --no-cache curl wget\r\n\r\n    RUN mkdir /opt/ &amp;&amp; \\\r\n\t    wget -c --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot;\\\r\n\t    http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz &amp;&amp; \\\r\n\t    tar xvf jdk-8u131-linux-x64.tar.gz -C /opt/ &amp;&amp; \\\r\n\t    rm jdk-8u131-linux-x64.tar.gz &amp;&amp; \\\r\n\t    ln -s /opt/jdk1.8.0_131 /opt/jdk\r\n\r\n    ENV JAVA_HOME /opt/jdk\r\n    ENV PATH $PATH:/opt/jdk/bin\r\n\r\n    RUN echo $JAVA_HOME &amp;&amp; \\\r\n\t    echo $PATH\r\n\r\n    RUN which java\r\n    RUN java -version\r\n\r\nThere are some unnecessary commands (like echoing the JAVA_HOME dir) which were added to help with debugging, but now I&#39;m stuck: `RUN which java` returns `/opt/jdk/bin/java` as expected, but `RUN java -version` returns `/bin/sh: java: not found`.\r\n\r\nI&#39;ve tried a few things, including symlinking the executable(s) into /usr/bin, to no avail.\r\n\r\nWhat am I missing?\r\n\r\nEDIT:\r\nFinal output from docker is:\r\n`The command &#39;/bin/sh -c java -version&#39; returned a non-zero code: 127`\r\n\r\nFinal edit:\r\n\r\nThanks to diginoise for putting me on to MUSL vs libc. I found adding the following to my Dockerfile allowed me to build a working image:\r\n\r\n    RUN apk --no-cache add ca-certificates &amp;&amp; \\\r\n\twget -q -O /etc/apk/keys/sgerrand.rsa.pub https://raw.githubusercontent.com/sgerrand/alpine-pkg-glibc/master/sgerrand.rsa.pub &amp;&amp; \\\r\n\twget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-2.25-r0.apk &amp;&amp; \\\r\n\tapk add glibc-2.25-r0.apk\r\n\r\nFound at: https://github.com/sgerrand/alpine-pkg-glibc","title":"Docker alpine + oracle java: cannot find java","body":"<p>I've been trying to create an alpine-based docker image with Oracle Java (rather than openjdk). I have been specifically asked to create our own image here. </p>\n\n<p>This is the Dockerfile I've come up with:</p>\n\n<pre><code>FROM alpine:3.6\n\nRUN apk add --no-cache curl wget\n\nRUN mkdir /opt/ &amp;&amp; \\\n    wget -c --header \"Cookie: oraclelicense=accept-securebackup-cookie\"\\\n    http://download.oracle.com/otn-pub/java/jdk/8u131-b11/d54c1d3a095b4ff2b6607d096fa80163/jdk-8u131-linux-x64.tar.gz &amp;&amp; \\\n    tar xvf jdk-8u131-linux-x64.tar.gz -C /opt/ &amp;&amp; \\\n    rm jdk-8u131-linux-x64.tar.gz &amp;&amp; \\\n    ln -s /opt/jdk1.8.0_131 /opt/jdk\n\nENV JAVA_HOME /opt/jdk\nENV PATH $PATH:/opt/jdk/bin\n\nRUN echo $JAVA_HOME &amp;&amp; \\\n    echo $PATH\n\nRUN which java\nRUN java -version\n</code></pre>\n\n<p>There are some unnecessary commands (like echoing the JAVA_HOME dir) which were added to help with debugging, but now I'm stuck: <code>RUN which java</code> returns <code>/opt/jdk/bin/java</code> as expected, but <code>RUN java -version</code> returns <code>/bin/sh: java: not found</code>.</p>\n\n<p>I've tried a few things, including symlinking the executable(s) into /usr/bin, to no avail.</p>\n\n<p>What am I missing?</p>\n\n<p>EDIT:\nFinal output from docker is:\n<code>The command '/bin/sh -c java -version' returned a non-zero code: 127</code></p>\n\n<p>Final edit:</p>\n\n<p>Thanks to diginoise for putting me on to MUSL vs libc. I found adding the following to my Dockerfile allowed me to build a working image:</p>\n\n<pre><code>RUN apk --no-cache add ca-certificates &amp;&amp; \\\nwget -q -O /etc/apk/keys/sgerrand.rsa.pub https://raw.githubusercontent.com/sgerrand/alpine-pkg-glibc/master/sgerrand.rsa.pub &amp;&amp; \\\nwget https://github.com/sgerrand/alpine-pkg-glibc/releases/download/2.25-r0/glibc-2.25-r0.apk &amp;&amp; \\\napk add glibc-2.25-r0.apk\n</code></pre>\n\n<p>Found at: <a href=\"https://github.com/sgerrand/alpine-pkg-glibc\" rel=\"noreferrer\">https://github.com/sgerrand/alpine-pkg-glibc</a></p>\n"},{"tags":["java","date","datetime"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":4,"creation_date":1686928159,"post_id":76491455,"comment_id":134870436,"body_markdown":"Don&#39;t use ancient date classes `java.time.LocalDate` is what you want","body":"Don&#39;t use ancient date classes <code>java.time.LocalDate</code> is what you want"}],"answers":[{"comments":[{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":1,"creation_date":1687020658,"post_id":76491535,"comment_id":134880241,"body_markdown":"Likely to be a copy-paste from ChatGPT","body":"Likely to be a copy-paste from ChatGPT"}],"tags":[],"owner":{"account_id":20457602,"reputation":17,"user_id":15010903,"display_name":"Vishwas Saini"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686928657,"creation_date":1686928657,"answer_id":76491535,"question_id":76491455,"body_markdown":"&lt;P&gt;In Java, the Java.util.Date class does not have a specific format associated with it. Printing a Date object uses the default format provided by the toString() method.&lt;/p&gt;\r\n&lt;p&gt;To display the date in the desired format (dd-mm-yyyy) without any time or timezone information, you can use the java.text.SimpleDateFormat class to format the date as a string and then parse it back into a Date object.&lt;/p&gt;\r\n\r\n```\r\n    public static void main(String[] args) throws ParseException {\r\n        String dateOfBirth = &quot;07-06-2023&quot;;\r\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n        Date date = dateFormat.parse(dateOfBirth);\r\n\r\n        String formattedDate = dateFormat.format(date);\r\n        System.out.println(formattedDate);\r\n    }\r\n```\r\n\r\n&lt;p&gt;\r\nNote that the java.util.Date class is outdated, and it&#39;s recommended to use the newer java.time API introduced in Java 8 for date and time manipulation. However, if you specifically need to work with the Date class, the above approach will work fine.\r\n&lt;/p&gt;","title":"How do I convert String date to Date format date in dd-MM-yyyy format in java","body":"<P>In Java, the Java.util.Date class does not have a specific format associated with it. Printing a Date object uses the default format provided by the toString() method.</p>\n<p>To display the date in the desired format (dd-mm-yyyy) without any time or timezone information, you can use the java.text.SimpleDateFormat class to format the date as a string and then parse it back into a Date object.</p>\n<pre><code>    public static void main(String[] args) throws ParseException {\n        String dateOfBirth = &quot;07-06-2023&quot;;\n        SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n        Date date = dateFormat.parse(dateOfBirth);\n\n        String formattedDate = dateFormat.format(date);\n        System.out.println(formattedDate);\n    }\n</code></pre>\n<p>\nNote that the java.util.Date class is outdated, and it's recommended to use the newer java.time API introduced in Java 8 for date and time manipulation. However, if you specifically need to work with the Date class, the above approach will work fine.\n</p>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686928739,"creation_date":1686928739,"answer_id":76491545,"question_id":76491455,"body_markdown":"Avoid old date classes, so:\r\n\r\n```\r\nString s = &quot;Wed Jun 07 00:00:00 IST 2023&quot;;\r\nDateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;eee MMM dd HH:mm:ss z uuuu&quot;, Locale.UK);\r\nZonedDateTime zdt = ZonedDateTime.parse(s, dtf1);\r\nDateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;, Locale.UK);\r\nString s2 = dtf2.format(zdt.toLocalDate());\r\nSystem.out.println(s2);\r\n```\r\nAny date type, including `java.util.Date` is essentially a number internally. Like `int`, they don&#39;t have formats.","title":"How do I convert String date to Date format date in dd-MM-yyyy format in java","body":"<p>Avoid old date classes, so:</p>\n<pre><code>String s = &quot;Wed Jun 07 00:00:00 IST 2023&quot;;\nDateTimeFormatter dtf1 = DateTimeFormatter.ofPattern(&quot;eee MMM dd HH:mm:ss z uuuu&quot;, Locale.UK);\nZonedDateTime zdt = ZonedDateTime.parse(s, dtf1);\nDateTimeFormatter dtf2 = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;, Locale.UK);\nString s2 = dtf2.format(zdt.toLocalDate());\nSystem.out.println(s2);\n</code></pre>\n<p>Any date type, including <code>java.util.Date</code> is essentially a number internally. Like <code>int</code>, they don't have formats.</p>\n"},{"tags":[],"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687025597,"creation_date":1686929063,"answer_id":76491587,"question_id":76491455,"body_markdown":"Since Java 8+, you really should be leveraging the `java.time` classes for any date functionality.\r\n\r\nBut to answer your question, you need to use `java.text.SimpleDateFormat#format` to convert the legacy Date to any format you want:\r\n\r\n```\r\npublic static void main(String[] args) throws ParseException {\r\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    String dateOfBirth = &quot;07-06-2023&quot;;\r\n    Date date = simpleDateFormat.parse(dateOfBirth);\r\n\r\n    System.out.println(simpleDateFormat.format(date));\r\n}\r\n```\r\n\r\n","title":"How do I convert String date to Date format date in dd-MM-yyyy format in java","body":"<p>Since Java 8+, you really should be leveraging the <code>java.time</code> classes for any date functionality.</p>\n<p>But to answer your question, you need to use <code>java.text.SimpleDateFormat#format</code> to convert the legacy Date to any format you want:</p>\n<pre><code>public static void main(String[] args) throws ParseException {\n    SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n    String dateOfBirth = &quot;07-06-2023&quot;;\n    Date date = simpleDateFormat.parse(dateOfBirth);\n\n    System.out.println(simpleDateFormat.format(date));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1686930201,"creation_date":1686929765,"answer_id":76491666,"question_id":76491455,"body_markdown":"&gt; _&quot;... I want it as in dd-mm-yyyy format in DATE type only. ...&quot;_\r\n\r\nI&#39;m not sure I understand the question, entirely.&amp;nbsp; You already have the _Date_ value,  here.\r\n\r\n```java\r\nDate date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(dateOfBirht);\r\n```\r\n\r\n&gt; _&quot;... If you see the output of the above code snippet is printing as `Wed Jun 07 00:00:00 IST 2023` which is not my desired answer. It should be `07-06-2023` ...&quot;_\r\n\r\nI believe you&#39;re implying that the _Date_ object should not be returning the time, since you had only parsed the date values.\r\n\r\nThis isn&#39;t the case.&amp;nbsp; Similarly, it is still a valid date; the zeroed time fields should play no role in the date fields.\r\n\r\nNevertheless, you can use a basic _String_ format.  \r\nFormat specifiers can be found on the _[Formatter](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html#dt)_ class JavaDoc.\r\n\r\n```java\r\nSystem.out.printf(&quot;%td-%1$tm-%1$tY&quot;, date);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n07-06-2023\r\n```","title":"How do I convert String date to Date format date in dd-MM-yyyy format in java","body":"<blockquote>\n<p><em>&quot;... I want it as in dd-mm-yyyy format in DATE type only. ...&quot;</em></p>\n</blockquote>\n<p>I'm not sure I understand the question, entirely.  You already have the <em>Date</em> value,  here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Date date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(dateOfBirht);\n</code></pre>\n<blockquote>\n<p><em>&quot;... If you see the output of the above code snippet is printing as <code>Wed Jun 07 00:00:00 IST 2023</code> which is not my desired answer. It should be <code>07-06-2023</code> ...&quot;</em></p>\n</blockquote>\n<p>I believe you're implying that the <em>Date</em> object should not be returning the time, since you had only parsed the date values.</p>\n<p>This isn't the case.  Similarly, it is still a valid date; the zeroed time fields should play no role in the date fields.</p>\n<p>Nevertheless, you can use a basic <em>String</em> format.<br />\nFormat specifiers can be found on the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Formatter.html#dt\" rel=\"nofollow noreferrer\">Formatter</a></em> class JavaDoc.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.printf(&quot;%td-%1$tm-%1$tY&quot;, date);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>07-06-2023\n</code></pre>\n"}],"owner":{"account_id":24736193,"reputation":21,"user_id":18623537,"display_name":"Ravi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":8,"up_vote_count":0,"accepted_answer_id":76491666,"answer_count":4,"score":-8,"last_activity_date":1687025597,"creation_date":1686927962,"question_id":76491455,"body_markdown":"I have date in string format as Wed Jun 07 00:00:00 IST 2023 but I want it as in dd-mm-yyyy format in DATE type only... I can convert it but it is converting in String type I want it should convert it into ONLY Date type in dd-mm-yyyy format.\r\n\r\nI tried below code but it is converting in String format as Wed Jun 07 00:00:00 IST 2023 but I want output should be something like\r\n\r\nDate date = 07-06-2023 only.\r\n\r\nPlease help me.\r\n\r\nMy code snippet is: \r\n\r\n    public static void main(String[] args) throws ParseException {\r\n    String dateOfBirht= &quot;07-06-2023&quot;;\r\n    Date date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(dateOfBirht);\r\n    System.out.println(date);\r\n\r\n\r\nIf you see the output of the above code snippet is printing as `Wed Jun 07 00:00:00 IST 2023` which is not my desired answer. It should be `07-06-2023` in **DATE FORMAT ONLY** **neither String nor LocaleDate**","title":"How do I convert String date to Date format date in dd-MM-yyyy format in java","body":"<p>I have date in string format as Wed Jun 07 00:00:00 IST 2023 but I want it as in dd-mm-yyyy format in DATE type only... I can convert it but it is converting in String type I want it should convert it into ONLY Date type in dd-mm-yyyy format.</p>\n<p>I tried below code but it is converting in String format as Wed Jun 07 00:00:00 IST 2023 but I want output should be something like</p>\n<p>Date date = 07-06-2023 only.</p>\n<p>Please help me.</p>\n<p>My code snippet is:</p>\n<pre><code>public static void main(String[] args) throws ParseException {\nString dateOfBirht= &quot;07-06-2023&quot;;\nDate date = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;).parse(dateOfBirht);\nSystem.out.println(date);\n</code></pre>\n<p>If you see the output of the above code snippet is printing as <code>Wed Jun 07 00:00:00 IST 2023</code> which is not my desired answer. It should be <code>07-06-2023</code> in <strong>DATE FORMAT ONLY</strong> <strong>neither String nor LocaleDate</strong></p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686816896,"post_id":76480422,"comment_id":134852177,"body_markdown":"my recommendation: not. it&#39;s not a String, so you shouldn&#39;t treat it as such.","body":"my recommendation: not. it&#39;s not a String, so you shouldn&#39;t treat it as such."},{"owner":{"account_id":8594858,"reputation":11,"user_id":6438180,"display_name":"Bhavesh Jha"},"score":0,"creation_date":1686817145,"post_id":76480422,"comment_id":134852237,"body_markdown":"I want categories as string array in database, how to do it? @Stultuske","body":"I want categories as string array in database, how to do it? @Stultuske"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686817232,"post_id":76480422,"comment_id":134852263,"body_markdown":"modify your database. If it&#39;s just a small text representing a category, there is no reason to declare it a tinyblob","body":"modify your database. If it&#39;s just a small text representing a category, there is no reason to declare it a tinyblob"},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1686818107,"post_id":76480422,"comment_id":134852441,"body_markdown":"do you let spring-data create the database tables? if so, then your mapping is probably incorrect or missing. also, mysql has no &quot;array&quot; datatype, so there can be no basic mapping","body":"do you let spring-data create the database tables? if so, then your mapping is probably incorrect or missing. also, mysql has no &quot;array&quot; datatype, so there can be no basic mapping"}],"owner":{"account_id":8594858,"reputation":11,"user_id":6438180,"display_name":"Bhavesh Jha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687025445,"creation_date":1686816778,"question_id":76480422,"body_markdown":"I am using private String[] categories in the entity object, but in the database the datatype of categories gets defined as tinyblob and when I try to add categories or try to fetch it, it throws an error.\r\n\r\nHow can I store it as a string array?\r\n\r\n","title":"private String[] categories; storing the datatype of category as tinyblob","body":"<p>I am using private String[] categories in the entity object, but in the database the datatype of categories gets defined as tinyblob and when I try to add categories or try to fetch it, it throws an error.</p>\n<p>How can I store it as a string array?</p>\n"},{"tags":["java","reactjs","spring-boot","axios","http-status-code-403"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1686324636,"post_id":76441267,"comment_id":134787923,"body_markdown":"[CSRF-token in your post-request ?](https://stackoverflow.com/questions/59580884/spring-security-5-2-permitall-in-authorizerequests-does-not-work-for-post/59594018#59594018)","body":"<a href=\"https://stackoverflow.com/questions/59580884/spring-security-5-2-permitall-in-authorizerequests-does-not-work-for-post/59594018#59594018\">CSRF-token in your post-request ?</a>"},{"owner":{"account_id":25203928,"reputation":3,"user_id":19044501,"display_name":"Dinu Ispas"},"score":0,"creation_date":1686351163,"post_id":76441267,"comment_id":134791978,"body_markdown":"hello, @DirkDeyne i have already this disabled and it still doesn&#39;t work... any other ideas? .cors().and().csrf().disable()","body":"hello, @DirkDeyne i have already this disabled and it still doesn&#39;t work... any other ideas? .cors().and().csrf().disable()"}],"answers":[{"tags":[],"owner":{"account_id":19952161,"reputation":31,"user_id":14621585,"display_name":"Pezhman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687025300,"creation_date":1687019620,"answer_id":76497153,"question_id":76441267,"body_markdown":"The way I use for uploading images to the Spring boot backend and works very well is:\r\n\r\nReact code:\r\n\r\n    var imgArray : any[]=[];\r\n\r\nimgArray keeps the list of images I want to send to the backend and the code below maps images to the formData.\r\n \r\n    \r\n    imgArray.map((file:any,index) =&gt; {\r\n    formData.append(&quot;file1&quot;,file);\r\n    })\r\n\r\n    axios.post(api_image_url,formData,{\r\n    headers:{\r\n    &#39;Content-Type&#39;: &#39;multipart/form-data&#39;\r\n    }\r\n    }).catch((err) =&gt; {console.log(&quot;err : &quot; + err)});\r\n\r\nThe server side code:\r\n\r\n    @PostMapping(consumes = &quot;multipart/form-data&quot;)\r\n    public ResponseEntity&lt;?&gt; addImage(@RequestParam(&quot;file1&quot;) MultipartFile[] file1)\r\n    {\r\n    for (MultipartFile file : file1) {\r\n    // The code to store the images into DB goes here    }\r\n    }\r\n\r\n\r\n\r\n    \r\n\r\n  \r\n  \r\n  ","title":"Error 403 Spring boot POST request when i&#39;m trying to upload a picture into the server","body":"<p>The way I use for uploading images to the Spring boot backend and works very well is:</p>\n<p>React code:</p>\n<pre><code>var imgArray : any[]=[];\n</code></pre>\n<p>imgArray keeps the list of images I want to send to the backend and the code below maps images to the formData.</p>\n<pre><code>imgArray.map((file:any,index) =&gt; {\nformData.append(&quot;file1&quot;,file);\n})\n\naxios.post(api_image_url,formData,{\nheaders:{\n'Content-Type': 'multipart/form-data'\n}\n}).catch((err) =&gt; {console.log(&quot;err : &quot; + err)});\n</code></pre>\n<p>The server side code:</p>\n<pre><code>@PostMapping(consumes = &quot;multipart/form-data&quot;)\npublic ResponseEntity&lt;?&gt; addImage(@RequestParam(&quot;file1&quot;) MultipartFile[] file1)\n{\nfor (MultipartFile file : file1) {\n// The code to store the images into DB goes here    }\n}\n</code></pre>\n"}],"owner":{"account_id":25203928,"reputation":3,"user_id":19044501,"display_name":"Dinu Ispas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687025300,"creation_date":1686321376,"question_id":76441267,"body_markdown":"So, i&#39;m trying to insert photos into the database but i get hit with an error 403.\r\nIn POSTMAN everything was working fine when i checked the endpoint, but when I&#39;ve created the axios request the error appeared.\r\n\r\nThis is my controller in spring:\r\n```java\r\n@PostMapping(value = &quot;/addItem/{id}&quot;,consumes ={&quot;multipart/form-data&quot;})\r\npublic void addItem(@RequestPart(&quot;item&quot;) Item item, @PathVariable Integer id, @RequestPart(&quot;imageFile&quot;) MultipartFile[] file) {\r\n    try {\r\n       System.out.println(item);\r\n       System.out.println(id);\r\n       System.out.println(file);\r\n       Set&lt;ImageModel&gt; images = uploadImage(file);\r\n       item.setItemImages(images);\r\n       itemService.addItem(item, id);\r\n    } catch (Exception e) {\r\n        System.out.println(e.getMessage());\r\n    }\r\n}\r\n\r\npublic Set&lt;ImageModel&gt; uploadImage(MultipartFile[] multipartFiles) throws IOException {\r\n    Set&lt;ImageModel&gt; imageModels = new HashSet&lt;&gt;();\r\n    for (MultipartFile file : multipartFiles) {\r\n        ImageModel imageModel = new ImageModel(\r\n              file.getOriginalFilename(),\r\n              file.getContentType(),\r\n              file.getBytes()\r\n        );\r\n        imageModels.add(imageModel);\r\n    }\r\n    return imageModels;\r\n}\r\n```\r\n\r\nThis is my request in the frontend, made with axios:\r\n```javascript\r\n    const formData = new FormData();\r\n    const item = {\r\n      name: name,\r\n      size: size,\r\n      condition: condition,\r\n      price: price,\r\n      description: description,\r\n      itemImages: [],\r\n    }\r\n    formData.append(&#39;item&#39;, new Blob([JSON.stringify(item)], { type: &#39;application/json&#39; }));\r\n    formData.append(&#39;imageFile&#39;, images[0])\r\n\r\n\r\n\r\n    try {\r\n      await axios.post(&quot;http://localhost:8080/items/addItem/1&quot;, formData, {\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n          &#39;Content-Type&#39;: &#39;multipart/form-data&#39;\r\n        },\r\n      });\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  }\r\n```\r\n\r\nAny ideas on how i might solve solve this? I&#39;ve tried with different methods for front-end.\r\nI should mention that the images are stored as a byte array.","title":"Error 403 Spring boot POST request when i&#39;m trying to upload a picture into the server","body":"<p>So, i'm trying to insert photos into the database but i get hit with an error 403.\nIn POSTMAN everything was working fine when i checked the endpoint, but when I've created the axios request the error appeared.</p>\n<p>This is my controller in spring:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/addItem/{id}&quot;,consumes ={&quot;multipart/form-data&quot;})\npublic void addItem(@RequestPart(&quot;item&quot;) Item item, @PathVariable Integer id, @RequestPart(&quot;imageFile&quot;) MultipartFile[] file) {\n    try {\n       System.out.println(item);\n       System.out.println(id);\n       System.out.println(file);\n       Set&lt;ImageModel&gt; images = uploadImage(file);\n       item.setItemImages(images);\n       itemService.addItem(item, id);\n    } catch (Exception e) {\n        System.out.println(e.getMessage());\n    }\n}\n\npublic Set&lt;ImageModel&gt; uploadImage(MultipartFile[] multipartFiles) throws IOException {\n    Set&lt;ImageModel&gt; imageModels = new HashSet&lt;&gt;();\n    for (MultipartFile file : multipartFiles) {\n        ImageModel imageModel = new ImageModel(\n              file.getOriginalFilename(),\n              file.getContentType(),\n              file.getBytes()\n        );\n        imageModels.add(imageModel);\n    }\n    return imageModels;\n}\n</code></pre>\n<p>This is my request in the frontend, made with axios:</p>\n<pre class=\"lang-js prettyprint-override\"><code>    const formData = new FormData();\n    const item = {\n      name: name,\n      size: size,\n      condition: condition,\n      price: price,\n      description: description,\n      itemImages: [],\n    }\n    formData.append('item', new Blob([JSON.stringify(item)], { type: 'application/json' }));\n    formData.append('imageFile', images[0])\n\n\n\n    try {\n      await axios.post(&quot;http://localhost:8080/items/addItem/1&quot;, formData, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'multipart/form-data'\n        },\n      });\n    } catch (err) {\n      console.log(err);\n    }\n  }\n</code></pre>\n<p>Any ideas on how i might solve solve this? I've tried with different methods for front-end.\nI should mention that the images are stored as a byte array.</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1687025404,"post_id":76495508,"comment_id":134880756,"body_markdown":"How is this not a duplicate?","body":"How is this not a duplicate?"}],"answers":[{"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1687005488,"post_id":76495553,"comment_id":134878426,"body_markdown":"The source you linked to is incredibly outdated, I don&#39;t think current OpenJDK even uses a char[] anymore, but the rest of this is correct.","body":"The source you linked to is incredibly outdated, I don&#39;t think current OpenJDK even uses a char[] anymore, but the rest of this is correct."}],"tags":[],"owner":{"account_id":2094057,"reputation":506144,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686993872,"creation_date":1686993872,"answer_id":76495553,"question_id":76495508,"body_markdown":"A Java `String` is internally represented as a simple `char[]` character array.  The `String#substring()` method ultimately calls the constructor to return a _new_ string, as Java strings are immutable.  Here is the [source code][1] for that constructor:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public String(byte[] ascii, int hibyte, int offset, int count)\r\n    {\r\n        if (offset &lt; 0)\r\n          throw new StringIndexOutOfBoundsException(&quot;offset: &quot; + offset);\r\n        if (count &lt; 0)\r\n          throw new StringIndexOutOfBoundsException(&quot;count: &quot; + count);\r\n        // equivalent to: offset + count &lt; 0 || offset + count &gt; ascii.length\r\n        if (ascii.length - offset &lt; count)\r\n          throw new StringIndexOutOfBoundsException(&quot;offset + count: &quot;\r\n                              + (offset + count));\r\n        value = new char[count];\r\n        this.offset = 0;\r\n        this.count = count;\r\n        hibyte &lt;&lt;= 8;\r\n        offset += count;\r\n        while (--count &gt;= 0)\r\n          value[count] = (char) (hibyte | (ascii[--offset] &amp; 0xff));\r\n    }\r\n\r\nAs you can see, the cost of taking a substring includes allocating a new `char[]` array, and then walking down the array of the source string, one character at a time, to populate the new array.  This is a linear operation and so should be bounded by `O(N)`, where `N` is the number of characters in the source string.  The required space boundary to hold the new substring is also `O(N)`.\r\n\r\n\r\n  [1]: https://developer.classpath.org/doc/java/lang/String-source.html","title":"Time complexity of a string method in Java","body":"<p>A Java <code>String</code> is internally represented as a simple <code>char[]</code> character array.  The <code>String#substring()</code> method ultimately calls the constructor to return a <em>new</em> string, as Java strings are immutable.  Here is the <a href=\"https://developer.classpath.org/doc/java/lang/String-source.html\" rel=\"nofollow noreferrer\">source code</a> for that constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String(byte[] ascii, int hibyte, int offset, int count)\n{\n    if (offset &lt; 0)\n      throw new StringIndexOutOfBoundsException(&quot;offset: &quot; + offset);\n    if (count &lt; 0)\n      throw new StringIndexOutOfBoundsException(&quot;count: &quot; + count);\n    // equivalent to: offset + count &lt; 0 || offset + count &gt; ascii.length\n    if (ascii.length - offset &lt; count)\n      throw new StringIndexOutOfBoundsException(&quot;offset + count: &quot;\n                          + (offset + count));\n    value = new char[count];\n    this.offset = 0;\n    this.count = count;\n    hibyte &lt;&lt;= 8;\n    offset += count;\n    while (--count &gt;= 0)\n      value[count] = (char) (hibyte | (ascii[--offset] &amp; 0xff));\n}\n</code></pre>\n<p>As you can see, the cost of taking a substring includes allocating a new <code>char[]</code> array, and then walking down the array of the source string, one character at a time, to populate the new array.  This is a linear operation and so should be bounded by <code>O(N)</code>, where <code>N</code> is the number of characters in the source string.  The required space boundary to hold the new substring is also <code>O(N)</code>.</p>\n"}],"owner":{"account_id":26844442,"reputation":11,"user_id":20430422,"display_name":"Shaurya Pratap Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687025131,"creation_date":1686993199,"question_id":76495508,"body_markdown":"What is the time complexity of the following Java *substring method*?\r\n\r\n    str.substring(start idx, ending idx);\r\n\r\nI&#39;m not sure what its time complexity is. Is it possible for us to calculate the time period taken by a program? I know time complexity is a different thing, but I want to know what time is actually taken by my program.\r\n\r\n","title":"Time complexity of a string method in Java","body":"<p>What is the time complexity of the following Java <em>substring method</em>?</p>\n<pre><code>str.substring(start idx, ending idx);\n</code></pre>\n<p>I'm not sure what its time complexity is. Is it possible for us to calculate the time period taken by a program? I know time complexity is a different thing, but I want to know what time is actually taken by my program.</p>\n"},{"tags":["java","spring-boot","web-services","soap"],"owner":{"account_id":1927774,"reputation":13,"user_id":1737835,"display_name":"ram prasad"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687024830,"creation_date":1687024830,"question_id":76497478,"body_markdown":"I have followed https://spring.io/guides/gs/consuming-web-service/ and was able to consume soap web service. But wants to consume a secured soap web service from a spring boot application. Can any one help me to find sample application.\r\nThanks in advance.","title":"Consuming soap web service with an authentication in spring boot application","body":"<p>I have followed <a href=\"https://spring.io/guides/gs/consuming-web-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/consuming-web-service/</a> and was able to consume soap web service. But wants to consume a secured soap web service from a spring boot application. Can any one help me to find sample application.\nThanks in advance.</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":2734210,"reputation":6420,"user_id":2357233,"accept_rate":100,"display_name":"JamesENL"},"score":0,"creation_date":1401847872,"post_id":24009042,"comment_id":37039200,"body_markdown":"remove the close method declaration","body":"remove the close method declaration"},{"owner":{"account_id":2734210,"reputation":6420,"user_id":2357233,"accept_rate":100,"display_name":"JamesENL"},"score":0,"creation_date":1401863563,"post_id":24009042,"comment_id":37043845,"body_markdown":"Did you get this fixed?","body":"Did you get this fixed?"}],"answers":[{"comments":[{"owner":{"account_id":892560,"reputation":4440,"user_id":930544,"accept_rate":76,"display_name":"Nidheesh"},"score":0,"creation_date":1401780684,"post_id":24009231,"comment_id":37004532,"body_markdown":"Not sure why I am getting the same error again, even though we are not using `IDENTITY`. I&#39;m using `Oracle` DB","body":"Not sure why I am getting the same error again, even though we are not using <code>IDENTITY</code>. I&#39;m using <code>Oracle</code> DB"},{"owner":{"account_id":2734210,"reputation":6420,"user_id":2357233,"accept_rate":100,"display_name":"JamesENL"},"score":4,"creation_date":1401780752,"post_id":24009231,"comment_id":37004583,"body_markdown":"Remove the hibernate.dialect line of config. Hibernate will autodetect the dialect to use. I&#39;m pretty sure that the OracleDialect is for much older oracle databases.","body":"Remove the hibernate.dialect line of config. Hibernate will autodetect the dialect to use. I&#39;m pretty sure that the OracleDialect is for much older oracle databases."},{"owner":{"account_id":892560,"reputation":4440,"user_id":930544,"accept_rate":76,"display_name":"Nidheesh"},"score":0,"creation_date":1401780901,"post_id":24009231,"comment_id":37004673,"body_markdown":"Throws, `Connection cannot be null when &#39;hibernate.dialect&#39; not set`","body":"Throws, <code>Connection cannot be null when &#39;hibernate.dialect&#39; not set</code>"},{"owner":{"account_id":2734210,"reputation":6420,"user_id":2357233,"accept_rate":100,"display_name":"JamesENL"},"score":0,"creation_date":1401780954,"post_id":24009231,"comment_id":37004710,"body_markdown":"Can you post your `dataSource` declaration? That error message means that Hibernate can&#39;t connect to your database","body":"Can you post your <code>dataSource</code> declaration? That error message means that Hibernate can&#39;t connect to your database"},{"owner":{"account_id":2734210,"reputation":6420,"user_id":2357233,"accept_rate":100,"display_name":"JamesENL"},"score":0,"creation_date":1401781008,"post_id":24009231,"comment_id":37004748,"body_markdown":"Join us here - http://chat.stackoverflow.com/rooms/44929/java-spring-hibernate-php-jquery-javascript-beginners","body":"Join us here - <a href=\"http://chat.stackoverflow.com/rooms/44929/java-spring-hibernate-php-jquery-javascript-beginners\">chat.stackoverflow.com/rooms/44929/&hellip;</a>"},{"owner":{"account_id":892560,"reputation":4440,"user_id":930544,"accept_rate":76,"display_name":"Nidheesh"},"score":0,"creation_date":1401961569,"post_id":24009231,"comment_id":37092700,"body_markdown":"+1 for your useful suggestion. I have started this example step by step from scratch with a new db and the same way `GenerationType.SEQUENCE` as you mentioned. Now I am able to get the app connected to db. Much thanks.","body":"+1 for your useful suggestion. I have started this example step by step from scratch with a new db and the same way <code>GenerationType.SEQUENCE</code> as you mentioned. Now I am able to get the app connected to db. Much thanks."},{"owner":{"account_id":5991999,"reputation":723,"user_id":5478948,"display_name":"java.nazif"},"score":0,"creation_date":1485935585,"post_id":24009231,"comment_id":71126874,"body_markdown":"Thank you .My issue is fixed with this solution.","body":"Thank you .My issue is fixed with this solution."},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1546342014,"post_id":24009231,"comment_id":94827418,"body_markdown":"Great Suggestion Indeed.\nHowever I would like to add that the sequence name should be the same as that of the table sequence name. Plus you need to know that the default sequence jump is 50. So you need to set it to the same increment value as you are using in your table sequence. you can use the option : \n\nallocationSize = 1","body":"Great Suggestion Indeed. However I would like to add that the sequence name should be the same as that of the table sequence name. Plus you need to know that the default sequence jump is 50. So you need to set it to the same increment value as you are using in your table sequence. you can use the option :   allocationSize = 1"}],"tags":[],"owner":{"account_id":2734210,"reputation":6420,"user_id":2357233,"accept_rate":100,"display_name":"JamesENL"},"comment_count":8,"down_vote_count":1,"up_vote_count":32,"is_accepted":true,"score":31,"last_activity_date":1401780005,"creation_date":1401780005,"answer_id":24009231,"question_id":24009042,"body_markdown":"You can use tell Hibernate to use a sequence to generate your ID&#39;s\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator = &quot;id_Sequence&quot;)\r\n    @SequenceGenerator(name = &quot;id_Sequence&quot;, sequenceName = &quot;ID_SEQ&quot;)\r\n    private int id;\r\n\r\nThis config basically tells Hibernate to use a database sequence called ID_SEQ to generate the ID&#39;s for this object. You can specify other sequences on other objects if you want other unique ID&#39;s or you can use the same sequence if you want globally unique ID&#39;s across your entire system.\r\n\r\nThe only downside to this is that can&#39;t perform batch inserts (without some further config) because Hibernate needs to get the next sequence value from the database every time, and you can&#39;t use this config if you want to use a MySQL database, because they don&#39;t support sequences.\r\n\r\nIf any of that doesn&#39;t make sense let me know and I&#39;ll explain it further.","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>You can use tell Hibernate to use a sequence to generate your ID's</p>\n\n<pre><code>@Id\n@Column(name = \"ID\")\n@GeneratedValue(strategy=GenerationType.SEQUENCE, generator = \"id_Sequence\")\n@SequenceGenerator(name = \"id_Sequence\", sequenceName = \"ID_SEQ\")\nprivate int id;\n</code></pre>\n\n<p>This config basically tells Hibernate to use a database sequence called ID_SEQ to generate the ID's for this object. You can specify other sequences on other objects if you want other unique ID's or you can use the same sequence if you want globally unique ID's across your entire system.</p>\n\n<p>The only downside to this is that can't perform batch inserts (without some further config) because Hibernate needs to get the next sequence value from the database every time, and you can't use this config if you want to use a MySQL database, because they don't support sequences.</p>\n\n<p>If any of that doesn't make sense let me know and I'll explain it further.</p>\n"},{"tags":[],"owner":{"account_id":4425134,"reputation":5201,"user_id":3603806,"accept_rate":100,"display_name":"Himanshu Tyagi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401780288,"creation_date":1401780288,"answer_id":24009332,"question_id":24009042,"body_markdown":"Instead of IDENTITY use NATIVE and use a sequence with it. [Link](http://www.dbforums.com/oracle/1687341-oracle-dialect-does-not-support-identity-key-generation.html)","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>Instead of IDENTITY use NATIVE and use a sequence with it. <a href=\"http://www.dbforums.com/oracle/1687341-oracle-dialect-does-not-support-identity-key-generation.html\" rel=\"nofollow\">Link</a></p>\n"},{"tags":[],"owner":{"account_id":2293099,"reputation":1780,"user_id":2015311,"accept_rate":75,"display_name":"iamharish15"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1443860937,"creation_date":1443860937,"answer_id":32920481,"question_id":24009042,"body_markdown":"You can just use `@GeneratedValue(strategy = GenerationType.TABLE)` if you just need to be able to auto increment the value for attributes such as some ID which is primary key of your table. It worked for me. Hope it helps. ","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>You can just use <code>@GeneratedValue(strategy = GenerationType.TABLE)</code> if you just need to be able to auto increment the value for attributes such as some ID which is primary key of your table. It worked for me. Hope it helps. </p>\n"},{"comments":[{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":0,"creation_date":1564387000,"post_id":51856857,"comment_id":100998977,"body_markdown":"@All, If you do not specify `@SequenceGenerator`, sequence name defaults(at least Hibernate) to a value which is specified for `generator` i.e., `id_sequence`.","body":"@All, If you do not specify <code>@SequenceGenerator</code>, sequence name defaults(at least Hibernate) to a value which is specified for <code>generator</code> i.e., <code>id_sequence</code>."},{"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"score":0,"creation_date":1564390400,"post_id":51856857,"comment_id":101000635,"body_markdown":"@All Addendum to above comment - Also, if there&#39;s no generator defined like `@org.hibernate.annotations.GenericGenerator`.","body":"@All Addendum to above comment - Also, if there&#39;s no generator defined like <code>@org.hibernate.annotations.GenericGenerator</code>."}],"tags":[],"owner":{"account_id":4510294,"reputation":69,"user_id":3666618,"display_name":"Jordi M."},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1534328067,"creation_date":1534328067,"answer_id":51856857,"question_id":24009042,"body_markdown":"my reputation is too low...\r\n\r\nWell, I&#39;m very grateful to JamesENL\r\n\r\nI substituted \r\n\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\nby \r\n\r\n    \t@GeneratedValue(strategy=GenerationType.SEQUENCE, generator = &quot;id_Sequence&quot;)\r\n        @SequenceGenerator(name = &quot;id_Sequence&quot;, sequenceName = &quot;ID_SEQ&quot;)`\r\n\r\nand that works fine","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>my reputation is too low...</p>\n\n<p>Well, I'm very grateful to JamesENL</p>\n\n<p>I substituted </p>\n\n<pre><code>    @GeneratedValue(strategy = GenerationType.IDENTITY)\n</code></pre>\n\n<p>by </p>\n\n<pre><code>    @GeneratedValue(strategy=GenerationType.SEQUENCE, generator = \"id_Sequence\")\n    @SequenceGenerator(name = \"id_Sequence\", sequenceName = \"ID_SEQ\")`\n</code></pre>\n\n<p>and that works fine</p>\n"},{"tags":[],"owner":{"account_id":86060,"reputation":8056,"user_id":239582,"accept_rate":81,"display_name":"lupchiazoem"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564392430,"creation_date":1564392430,"answer_id":57250855,"question_id":24009042,"body_markdown":"The reason for exception is:\r\n\r\nHibernate expects from underlying database to provide an auto increment feature for a given property, in your case it&#39;s `id`. IOW, Oracle(your case) should support auto increment feature for a field. Oracle started to provide auto increment feature with [12c version][1] and, as your version was less, you got that exception .\r\n\r\n\r\n  [1]: https://docs.oracle.com/database/121/DRDAA/migr_tools_feat.htm#DRDAA109","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>The reason for exception is:</p>\n\n<p>Hibernate expects from underlying database to provide an auto increment feature for a given property, in your case it's <code>id</code>. IOW, Oracle(your case) should support auto increment feature for a field. Oracle started to provide auto increment feature with <a href=\"https://docs.oracle.com/database/121/DRDAA/migr_tools_feat.htm#DRDAA109\" rel=\"nofollow noreferrer\">12c version</a> and, as your version was less, you got that exception .</p>\n"},{"tags":[],"owner":{"account_id":17174310,"reputation":1,"user_id":12430790,"display_name":"Siddharth Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585387634,"creation_date":1585386018,"answer_id":60899152,"question_id":24009042,"body_markdown":"You can change `.identity` by `.sequence` and it will work:\r\n```\r\nGeneratedValue(strategy=GenerationType.SEQUENCE)\r\n```","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>You can change <code>.identity</code> by <code>.sequence</code> and it will work:</p>\n\n<pre><code>GeneratedValue(strategy=GenerationType.SEQUENCE)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":11708894,"reputation":2758,"user_id":8571498,"display_name":"Chema"},"score":0,"creation_date":1590526497,"post_id":62030291,"comment_id":109712049,"body_markdown":"Please add code lines properly, follow this link: https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks","body":"Please add code lines properly, follow this link: <a href=\"https://meta.stackexchange.com/questions/22186/how-do-i-format-my-code-blocks\" title=\"how do i format my code blocks\">meta.stackexchange.com/questions/22186/&hellip;</a>"},{"owner":{"account_id":11708894,"reputation":2758,"user_id":8571498,"display_name":"Chema"},"score":0,"creation_date":1590526593,"post_id":62030291,"comment_id":109712097,"body_markdown":"And please avoid salutations and greetings: https://meta.stackexchange.com/questions/2950/should-hi-thanks-taglines-and-salutations-be-removed-from-posts","body":"And please avoid salutations and greetings: <a href=\"https://meta.stackexchange.com/questions/2950/should-hi-thanks-taglines-and-salutations-be-removed-from-posts\" title=\"should hi thanks taglines and salutations be removed from posts\">meta.stackexchange.com/questions/2950/&hellip;</a>"}],"tags":[],"owner":{"account_id":16218998,"reputation":331,"user_id":11711026,"display_name":"Jorge Guti&#233;rrez"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1590529344,"creation_date":1590522740,"answer_id":62030291,"question_id":24009042,"body_markdown":"I also had the same problem I am using OracleDB, I tried Identity, GenerateSequence and nothing gave me the solution. Until I had to change the dialect in my application properties. For some reason the dialect was not generating the correct sequence, which is why I decided to use a different dialect for my Oracle12c case.\r\n\r\nBefore:\r\n````\r\nspring.jpa.database-platform = org.hibernate.dialect.Oracle10gDialect\r\n````\r\n\r\nThen:\r\n````\r\nspring.jpa.database-platform = org.hibernate.dialect.Oracle12cDialect\r\n````\r\n\r\nYou could verify that you have value in the dialect of your connection maybe and changing it to a different version will be resolved like me.","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>I also had the same problem I am using OracleDB, I tried Identity, GenerateSequence and nothing gave me the solution. Until I had to change the dialect in my application properties. For some reason the dialect was not generating the correct sequence, which is why I decided to use a different dialect for my Oracle12c case.</p>\n\n<p>Before:</p>\n\n<pre><code>spring.jpa.database-platform = org.hibernate.dialect.Oracle10gDialect\n</code></pre>\n\n<p>Then:</p>\n\n<pre><code>spring.jpa.database-platform = org.hibernate.dialect.Oracle12cDialect\n</code></pre>\n\n<p>You could verify that you have value in the dialect of your connection maybe and changing it to a different version will be resolved like me.</p>\n"},{"tags":[],"owner":{"account_id":9276538,"reputation":11,"user_id":7385571,"display_name":"eyvmen"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1634123985,"creation_date":1634118569,"answer_id":69553261,"question_id":24009042,"body_markdown":"if you use oracle 12c I can add to column id GENERATED ALWAYS AS IDENTITY for example\r\n\r\n&quot;ID&quot; NUMBER (20,0) GENERATED ALWAYS AS IDENTITY\r\n\r\nin application.properties modify the value\r\n\r\n    spring.jpa.database-platform = org.hibernate.dialect.Oracle12cDialect\r\n\r\nand in the entity\r\n\r\n     @Id\r\n     @GeneratedValue (strategy = GenerationType.IDENTITY)\r\n     private Long id;","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>if you use oracle 12c I can add to column id GENERATED ALWAYS AS IDENTITY for example</p>\n<p>&quot;ID&quot; NUMBER (20,0) GENERATED ALWAYS AS IDENTITY</p>\n<p>in application.properties modify the value</p>\n<pre><code>spring.jpa.database-platform = org.hibernate.dialect.Oracle12cDialect\n</code></pre>\n<p>and in the entity</p>\n<pre><code> @Id\n @GeneratedValue (strategy = GenerationType.IDENTITY)\n private Long id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19503564,"reputation":311,"user_id":14269062,"display_name":"Ritunjay kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636139073,"creation_date":1636109947,"answer_id":69852200,"question_id":24009042,"body_markdown":"I added `@GeneratedValue(strategy = GenerationType.TABLE)` instead of `@GeneratedValue(strategy = GenerationType.IDENTITY)`\r\n\r\nAlso remove the `GENERATED ALWAYS as IDENTITY(START with 1 INCREMENT by 1)` if you are added, from oracle table.\r\n\r\nIt is working for me.","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>I added <code>@GeneratedValue(strategy = GenerationType.TABLE)</code> instead of <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code></p>\n<p>Also remove the <code>GENERATED ALWAYS as IDENTITY(START with 1 INCREMENT by 1)</code> if you are added, from oracle table.</p>\n<p>It is working for me.</p>\n"},{"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1648935454,"post_id":71696597,"comment_id":126750077,"body_markdown":"This seems to be a comment to the question.","body":"This seems to be a comment to the question."}],"tags":[],"owner":{"account_id":17717755,"reputation":21,"user_id":12863658,"display_name":"Husmitha Silva"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669120317,"creation_date":1648746402,"answer_id":71696597,"question_id":24009042,"body_markdown":"In my sample project, I have only used @Id.  in hibernate.cfg.xml, I have used Oracle9iDialect previously. I have changed it to `Oracle12cDialect` and it worked.  \r\n\r\n    &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/property&gt;","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>In my sample project, I have only used @Id.  in hibernate.cfg.xml, I have used Oracle9iDialect previously. I have changed it to <code>Oracle12cDialect</code> and it worked.</p>\n<pre><code>&lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.Oracle12cDialect&lt;/property&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1687170749,"post_id":76497461,"comment_id":134894750,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76497461/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":9021466,"reputation":11,"user_id":21296020,"display_name":"Vinayak Mahajan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687024473,"creation_date":1687024473,"answer_id":76497461,"question_id":24009042,"body_markdown":"Please Change The Oracle Dialect as Older Dialects Doesnt Support key generation e.g. try org.hibernate.dialect.Oracle12cDialect","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>Please Change The Oracle Dialect as Older Dialects Doesnt Support key generation e.g. try org.hibernate.dialect.Oracle12cDialect</p>\n"}],"owner":{"account_id":892560,"reputation":4440,"user_id":930544,"accept_rate":76,"display_name":"Nidheesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53550,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":24009231,"answer_count":11,"score":25,"last_activity_date":1687024473,"creation_date":1401779304,"question_id":24009042,"body_markdown":"I was trying to import a sample project in to eclipse and was facing the below given error up on running the application.\r\n\r\n    Caused by: org.hibernate.MappingException: org.hibernate.dialect.OracleDialect does not support identity key generation\r\n    \tat org.hibernate.dialect.Dialect.getIdentityColumnString(Dialect.java:743)\r\n    \tat org.hibernate.dialect.Dialect.getIdentityColumnString(Dialect.java:733)\r\n    \tat org.hibernate.mapping.Table.sqlCreateString(Table.java:426)\r\n    \tat org.hibernate.cfg.Configuration.generateSchemaCreationScript(Configuration.java:1028)\r\n    \tat org.hibernate.tool.hbm2ddl.SchemaExport.&lt;init&gt;(SchemaExport.java:125)\r\n    \tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:492)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1744)\r\n    \tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1782)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:247)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:373)\r\n    \tat org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:358)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)\r\n    \t... 32 more\r\n\t\r\nAs per [this](https://stackoverflow.com/questions/3406837/defining-database-independant-jpa-object-uid) SO link, I have changed the \r\n\r\n`@GeneratedValue(strategy = GenerationType.IDENTITY)`\r\n \r\nto \r\n\r\n`@GeneratedValue(strategy = GenerationType.AUTO)` or `@GeneratedValue(strategy = GenerationType.TABLE)`\r\n\r\nBut didn&#39;t work.\r\n\r\nHere is the code:\r\n\r\n_User.java:_\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    @ManagedBean\r\n    @ViewScoped\r\n    public class User {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate int id;\r\n    \t\r\n    \t@Column(name = &quot;username&quot;, nullable = false)\r\n    \tprivate String username;\r\n    \t\r\n    \t@Column(name = &quot;password&quot;, nullable = false)\r\n    \tprivate String password;\r\n    \t\r\n    \t@Column(name = &quot;role&quot;, nullable = false)\r\n    \tprivate String role;\r\n    \r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getUsername() {\r\n    \t\treturn username;\r\n    \t}\r\n    \r\n    \tpublic void setUsername(String username) {\r\n    \t\tthis.username = username;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic String getRole() {\r\n    \t\treturn role;\r\n    \t}\r\n    \r\n    \tpublic void setRole(String role) {\r\n    \t\tthis.role = role;\r\n    \t}\r\n    \t\r\n    \t}\r\n\r\n\t\r\nFrom the applicationContext.xml:\r\n\r\n\r\n    &lt;!-- Session Factory Declaration --&gt;\r\n    &lt;bean id=&quot;SessionFactory&quot;\r\n    \tclass=&quot;org.springframework.orm.hibernate4.LocalSessionFactoryBean&quot;&gt;\r\n    \t&lt;property name=&quot;dataSource&quot; ref=&quot;DataSource&quot; /&gt;\r\n    \t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n    \t\t&lt;list&gt;\r\n    \t\t\t&lt;value&gt;com.crud.model.User&lt;/value&gt;\r\n    \t\t&lt;/list&gt;\r\n    \t&lt;/property&gt;\r\n    \t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n    \t\t&lt;props&gt;\r\n    \t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.OracleDialect&lt;/prop&gt;\r\n    \t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n    \t\t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/prop&gt;\r\n    \t\t\t\r\n    \t\t&lt;/props&gt;\r\n    \t&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n ","title":"org.hibernate.dialect.OracleDialect does not support identity key generation","body":"<p>I was trying to import a sample project in to eclipse and was facing the below given error up on running the application.</p>\n\n<pre><code>Caused by: org.hibernate.MappingException: org.hibernate.dialect.OracleDialect does not support identity key generation\n    at org.hibernate.dialect.Dialect.getIdentityColumnString(Dialect.java:743)\n    at org.hibernate.dialect.Dialect.getIdentityColumnString(Dialect.java:733)\n    at org.hibernate.mapping.Table.sqlCreateString(Table.java:426)\n    at org.hibernate.cfg.Configuration.generateSchemaCreationScript(Configuration.java:1028)\n    at org.hibernate.tool.hbm2ddl.SchemaExport.&lt;init&gt;(SchemaExport.java:125)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:492)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1744)\n    at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:1782)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBuilder.buildSessionFactory(LocalSessionFactoryBuilder.java:247)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.buildSessionFactory(LocalSessionFactoryBean.java:373)\n    at org.springframework.orm.hibernate4.LocalSessionFactoryBean.afterPropertiesSet(LocalSessionFactoryBean.java:358)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1541)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1479)\n    ... 32 more\n</code></pre>\n\n<p>As per <a href=\"https://stackoverflow.com/questions/3406837/defining-database-independant-jpa-object-uid\">this</a> SO link, I have changed the </p>\n\n<p><code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code></p>\n\n<p>to </p>\n\n<p><code>@GeneratedValue(strategy = GenerationType.AUTO)</code> or <code>@GeneratedValue(strategy = GenerationType.TABLE)</code></p>\n\n<p>But didn't work.</p>\n\n<p>Here is the code:</p>\n\n<p><em>User.java:</em></p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\n@ManagedBean\n@ViewScoped\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @Column(name = \"username\", nullable = false)\n    private String username;\n\n    @Column(name = \"password\", nullable = false)\n    private String password;\n\n    @Column(name = \"role\", nullable = false)\n    private String role;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getRole() {\n        return role;\n    }\n\n    public void setRole(String role) {\n        this.role = role;\n    }\n\n    }\n</code></pre>\n\n<p>From the applicationContext.xml:</p>\n\n<pre><code>&lt;!-- Session Factory Declaration --&gt;\n&lt;bean id=\"SessionFactory\"\n    class=\"org.springframework.orm.hibernate4.LocalSessionFactoryBean\"&gt;\n    &lt;property name=\"dataSource\" ref=\"DataSource\" /&gt;\n    &lt;property name=\"annotatedClasses\"&gt;\n        &lt;list&gt;\n            &lt;value&gt;com.crud.model.User&lt;/value&gt;\n        &lt;/list&gt;\n    &lt;/property&gt;\n    &lt;property name=\"hibernateProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"hibernate.dialect\"&gt;org.hibernate.dialect.OracleDialect&lt;/prop&gt;\n            &lt;prop key=\"hibernate.show_sql\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/prop&gt;\n\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","kotlin","jvm"],"answers":[{"tags":[],"owner":{"account_id":28572255,"reputation":13,"user_id":21874311,"display_name":"enccne"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687024350,"creation_date":1687024350,"answer_id":76497457,"question_id":76464437,"body_markdown":"I found a solution for this problem.\r\nThe matter was solved by the library https://github.com/vladmihalcea/hypersistence-utils  \r\nIt provides access to an object with the same function, PostgreSQLEnumType.  \r\nSample solution:  \r\n\r\n    @Entity\r\n    @Table(name = &quot;foo_event&quot;, schema = &quot;foo&quot;)\r\n    @Convert(attributeName = &quot;enum_type&quot;, converter = PostgreSQLEnumType::class)\r\n    data class FooEvent(\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;, nullable = false)\r\n        var id: Long? = null,\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        @Column(name = &quot;event_source&quot;)\r\n        val eventSource: EventSource,\r\n    )","title":"Migration from Spring Boot 2.X to 3.X - removed TypeDef annotation and deprecated EnumType from hibernate","body":"<p>I found a solution for this problem.\nThe matter was solved by the library <a href=\"https://github.com/vladmihalcea/hypersistence-utils\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hypersistence-utils</a><br />\nIt provides access to an object with the same function, PostgreSQLEnumType.<br />\nSample solution:</p>\n<pre><code>@Entity\n@Table(name = &quot;foo_event&quot;, schema = &quot;foo&quot;)\n@Convert(attributeName = &quot;enum_type&quot;, converter = PostgreSQLEnumType::class)\ndata class FooEvent(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    var id: Long? = null,\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;event_source&quot;)\n    val eventSource: EventSource,\n)\n</code></pre>\n"}],"owner":{"account_id":28572255,"reputation":13,"user_id":21874311,"display_name":"enccne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3023,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76497457,"answer_count":1,"score":0,"last_activity_date":1687024350,"creation_date":1686655500,"question_id":76464437,"body_markdown":"I am in the process of migrating the application from Spring Boot 2.X to 3.1.0 and there were problems related to hibernate annotations, which are deprecated/removed in the newer version of spring.  \r\nI have the following code and I&#39;m having trouble adapting it to the current version: (I&#39;ve added these annotations along with the import details to make it clear where they came from.)\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;foo_event&quot;, schema = &quot;foo&quot;)\r\n@org.hibernate.annotations.TypeDef(name = &quot;enum_type&quot;, typeClass = PostgreSQLEnumType::class)\r\ndata class FooEvent(\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    var id: Long? = null,\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;event_source&quot;)\r\n    @org.hibernate.annotations.Type(type = &quot;enum_type&quot;)\r\n    val eventSource: EventSource\r\n)\r\n\r\nclass PostgreSQLEnumType : org.hibernate.type.EnumType&lt;EventSource&gt;() {\r\n    @Throws(HibernateException::class, SQLException::class)\r\n    override fun nullSafeSet(\r\n        ps: PreparedStatement,\r\n        obj: Any?,\r\n        index: Int,\r\n        session: SharedSessionContractImplementor?\r\n    ) {\r\n        if (obj == null) {\r\n            ps.setNull(index, Types.OTHER)\r\n        } else {\r\n            ps.setObject(index, obj.toString(), Types.OTHER)\r\n        }\r\n    }\r\n}\r\n\r\nenum class EventSource {\r\n    SOME_SOURCE, ANOTHER_SOURCE\r\n}\r\n```\r\n\r\nI&#39;m wondering how to replace/what workaround to use so as not to change how the code works.  \r\n\r\nTypeDef has been removed.  \r\nType does not take a &quot;type&quot; argument.  \r\nEnumType is deprecated and no longer has a nullSafeSet method. If I wanted to replace this EnumType with jakarta it doesn&#39;t let you specify the type.\r\n\r\nLooking for a solution so far, it seems to me that the @Convert annotation will work similarly to Type and TypeDef.  \r\nAdditionally - does it even need the @Type annotation in this case? It seems redundant to me when @Enumerated is already over it. \r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name = &quot;event_source&quot;)\r\n    @org.hibernate.annotations.Type(type = &quot;enum_type&quot;)\r\n    val eventSource: EventSource","title":"Migration from Spring Boot 2.X to 3.X - removed TypeDef annotation and deprecated EnumType from hibernate","body":"<p>I am in the process of migrating the application from Spring Boot 2.X to 3.1.0 and there were problems related to hibernate annotations, which are deprecated/removed in the newer version of spring.<br />\nI have the following code and I'm having trouble adapting it to the current version: (I've added these annotations along with the import details to make it clear where they came from.)</p>\n<pre><code>@Entity\n@Table(name = &quot;foo_event&quot;, schema = &quot;foo&quot;)\n@org.hibernate.annotations.TypeDef(name = &quot;enum_type&quot;, typeClass = PostgreSQLEnumType::class)\ndata class FooEvent(\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    var id: Long? = null,\n\n    @Enumerated(EnumType.STRING)\n    @Column(name = &quot;event_source&quot;)\n    @org.hibernate.annotations.Type(type = &quot;enum_type&quot;)\n    val eventSource: EventSource\n)\n\nclass PostgreSQLEnumType : org.hibernate.type.EnumType&lt;EventSource&gt;() {\n    @Throws(HibernateException::class, SQLException::class)\n    override fun nullSafeSet(\n        ps: PreparedStatement,\n        obj: Any?,\n        index: Int,\n        session: SharedSessionContractImplementor?\n    ) {\n        if (obj == null) {\n            ps.setNull(index, Types.OTHER)\n        } else {\n            ps.setObject(index, obj.toString(), Types.OTHER)\n        }\n    }\n}\n\nenum class EventSource {\n    SOME_SOURCE, ANOTHER_SOURCE\n}\n</code></pre>\n<p>I'm wondering how to replace/what workaround to use so as not to change how the code works.</p>\n<p>TypeDef has been removed.<br />\nType does not take a &quot;type&quot; argument.<br />\nEnumType is deprecated and no longer has a nullSafeSet method. If I wanted to replace this EnumType with jakarta it doesn't let you specify the type.</p>\n<p>Looking for a solution so far, it seems to me that the @Convert annotation will work similarly to Type and TypeDef.<br />\nAdditionally - does it even need the @Type annotation in this case? It seems redundant to me when @Enumerated is already over it.</p>\n<pre><code>@Enumerated(EnumType.STRING)\n@Column(name = &quot;event_source&quot;)\n@org.hibernate.annotations.Type(type = &quot;enum_type&quot;)\nval eventSource: EventSource\n</code></pre>\n"},{"tags":["java","reactive","reactor"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1647582542,"post_id":71518953,"comment_id":126412102,"body_markdown":"`subscribe()` does not block any thread. Use `block()` if this is a blocking call.","body":"<code>subscribe()</code> does not block any thread. Use <code>block()</code> if this is a blocking call."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1647582920,"post_id":71518953,"comment_id":126412158,"body_markdown":"Not sure what you are trying to achieve but I don&#39;t think it&#39;s possible. Reactor is a non-blocking API and  it&#39;s impossible to implement delay on the same thread without blocking thread. `delayElements` is a time operator, so by default it publishes data on the `Schedulers.parallel()` scheduler.","body":"Not sure what you are trying to achieve but I don&#39;t think it&#39;s possible. Reactor is a non-blocking API and  it&#39;s impossible to implement delay on the same thread without blocking thread. <code>delayElements</code> is a time operator, so by default it publishes data on the <code>Schedulers.parallel()</code> scheduler."},{"owner":{"account_id":4456643,"reputation":8628,"user_id":3626698,"accept_rate":78,"display_name":"afzalex"},"score":0,"creation_date":1648335841,"post_id":71518953,"comment_id":126599119,"body_markdown":"@Alex Is there a way to use same thread for delaying operation. I modified my question to add more detail in bottom.","body":"@Alex Is there a way to use same thread for delaying operation. I modified my question to add more detail in bottom."}],"answers":[{"tags":[],"owner":{"account_id":22598393,"reputation":21,"user_id":16780337,"display_name":"Vaishagkumar R"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687024338,"creation_date":1687023642,"answer_id":76497411,"question_id":71518953,"body_markdown":"**Disclaimer**: All these solutions are not recommended for production. Only for testing and learning purpose.\r\n\r\n**Debugging: Added Logs on your code**\r\n    \r\n        public static void main(String[] args) {\r\n                System.out.println(&quot;Method Start Thread : &quot;+Thread.currentThread().getName());\r\n                Mono.just(&quot;one&quot;)\r\n                        .doOnNext(next-&gt;System.out.println(&quot;Before delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\r\n                        .delayElement(Duration.ofSeconds(5))\r\n                        .doOnNext(next-&gt;System.out.println(&quot;After delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\r\n                        .subscribe(val-&gt;System.out.println(&quot;Final Value: &quot;+val+&quot; Value Thread : &quot;+Thread.currentThread().getName()));\r\n                System.out.println(&quot;Method Exit Thread: &quot;+Thread.currentThread().getName());\r\n        }\r\n    \r\nOutput:\r\n       \r\n&gt; + Method Start Thread : main \r\n&gt; + Before delay Value:one and Value Thread:main \r\n&gt; + Method Exit Thread: main\r\n&gt; + Process finished with exit code 0\r\n\r\n**Explanation**: Here notice, before printing &quot;After delay value&quot; main-thread got exit. Because delayElement() will not run on main thread and it will run on different thread called &quot;parallel&quot;. Before parallel thread completes its operation, main thread got exited, so you are not seeing value &quot;one&quot;\r\n\r\n**Solution 1: Making main thread not to exit for some time** \r\n\r\n    public static void main(String[] args) {\r\n            System.out.println(&quot;Method Start Thread : &quot;+Thread.currentThread().getName());\r\n            Mono.just(&quot;one&quot;)\r\n                    .doOnNext(next-&gt;System.out.println(&quot;Before delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\r\n                    .delayElement(Duration.ofSeconds(5))\r\n                    .doOnNext(next-&gt;System.out.println(&quot;After delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\r\n                    .subscribe(val-&gt;System.out.println(&quot;Final Value: &quot;+val+&quot; Value Thread : &quot;+Thread.currentThread().getName()));\r\n    \r\n            try {\r\n                System.out.println(&quot;Sleeping Thread: &quot;+Thread.currentThread().getName());\r\n                Thread.sleep(10000);\r\n                System.out.println(&quot;Wake up Thread: &quot;+Thread.currentThread().getName());\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n            System.out.println(&quot;Method Exit Thread: &quot;+Thread.currentThread().getName());\r\n\r\nOutput:\r\n\r\n&gt; + Method Start Thread : main\r\n&gt; + Before delay Value:one and Value Thread: main\r\n&gt; + Sleeping Thread: main\r\n&gt; + After delay Value:one and Value Thread: parallel-1\r\n&gt; + Final Value: one Value Thread : parallel-1\r\n&gt; + Wake up Thread: main\r\n&gt; + Method Exit Thread: main\r\n&gt; + Process finished with exit code 0\r\n\r\n**Explanation**: Here notice,&quot;After delay value&quot; was printed while main thread was sleep (before its exit). Also note as said earlier delayElement() does not ran on main thread and it ran on different thread called &quot;parallel-1&quot;. \r\n\r\n**Solution :2 Using block()**\r\n\r\n    public static void main(String[] args) {\r\n            System.out.println(&quot;Method Start Thread : &quot;+Thread.currentThread().getName());\r\n            Mono.just(&quot;one&quot;)\r\n                    .doOnNext(next-&gt;System.out.println(&quot;Before delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\r\n                    .delayElement(Duration.ofSeconds(5))\r\n                    .doOnNext(next-&gt;System.out.println(&quot;After delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\r\n                    .block();\r\n            System.out.println(&quot;Method Exit Thread: &quot;+Thread.currentThread().getName());\r\n\r\nOutput:\r\n\r\n&gt; + Method Start Thread : main\r\n&gt; + Before delay Value:one and Value Thread: main\r\n&gt; + After delay Value:one and Value Thread: parallel-1\r\n&gt; + Method Exit Thread: main\r\n&gt; + Process finished with exit code 0\r\n\r\n**Explanation:** Here notice, string &quot;After delay value&quot; was printed because we blocked main thread. So until pipeline returns a value it will be blocked. \r\n\r\n**Solution 3: Writing custom executor: Highly not recommended**\r\n\r\n    .delayElement(Duration.ofSeconds(5), Schedulers.fromExceutor(wirteAndCallYourOwnExecutorToBlockCurrentMainThread))\r\n\r\n\r\n**Solution 4: Block using Mono Callable**\r\n\r\n    public static void main(String[] args) {\r\n            System.out.println(&quot;Method Start Thread : &quot;+Thread.currentThread().getName());\r\n            Mono.fromCallable(()-&gt;{\r\n                        try {\r\n                            System.out.println(&quot;Sleeping Thread: &quot;+Thread.currentThread().getName());\r\n                            Thread.sleep(10000);\r\n                            System.out.println(&quot;Wake up Thread: &quot;+Thread.currentThread().getName());\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                        return &quot;one&quot;;\r\n                    })\r\n                    .doOnNext(next-&gt;System.out.println(&quot;Received Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\r\n                    .subscribe();\r\n            System.out.println(&quot;Method Exit Thread: &quot;+Thread.currentThread().getName());\r\n\r\nOutput:\r\n\r\n&gt; + Method Start Thread : main\r\n&gt; + Sleeping Thread: main\r\n&gt; + Wake up Thread: main\r\n&gt; + Received Value:one and Value Thread: main\r\n&gt; + Method Exit Thread: main\r\n&gt; + Process finished with exit code 0\r\n\r\n \r\n**&gt; Recommendation: If it was prod, better go with async without blocking. I don&#39;t know your complete use case. So, in worst case if required use approach 4 with your own risk.**","title":"How to use main thread when delayElement is used in reactor Publisher","body":"<p><strong>Disclaimer</strong>: All these solutions are not recommended for production. Only for testing and learning purpose.</p>\n<p><strong>Debugging: Added Logs on your code</strong></p>\n<pre><code>    public static void main(String[] args) {\n            System.out.println(&quot;Method Start Thread : &quot;+Thread.currentThread().getName());\n            Mono.just(&quot;one&quot;)\n                    .doOnNext(next-&gt;System.out.println(&quot;Before delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\n                    .delayElement(Duration.ofSeconds(5))\n                    .doOnNext(next-&gt;System.out.println(&quot;After delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\n                    .subscribe(val-&gt;System.out.println(&quot;Final Value: &quot;+val+&quot; Value Thread : &quot;+Thread.currentThread().getName()));\n            System.out.println(&quot;Method Exit Thread: &quot;+Thread.currentThread().getName());\n    }\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<ul>\n<li>Method Start Thread : main</li>\n<li>Before delay Value:one and Value Thread:main</li>\n<li>Method Exit Thread: main</li>\n<li>Process finished with exit code 0</li>\n</ul>\n</blockquote>\n<p><strong>Explanation</strong>: Here notice, before printing &quot;After delay value&quot; main-thread got exit. Because delayElement() will not run on main thread and it will run on different thread called &quot;parallel&quot;. Before parallel thread completes its operation, main thread got exited, so you are not seeing value &quot;one&quot;</p>\n<p><strong>Solution 1: Making main thread not to exit for some time</strong></p>\n<pre><code>public static void main(String[] args) {\n        System.out.println(&quot;Method Start Thread : &quot;+Thread.currentThread().getName());\n        Mono.just(&quot;one&quot;)\n                .doOnNext(next-&gt;System.out.println(&quot;Before delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\n                .delayElement(Duration.ofSeconds(5))\n                .doOnNext(next-&gt;System.out.println(&quot;After delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\n                .subscribe(val-&gt;System.out.println(&quot;Final Value: &quot;+val+&quot; Value Thread : &quot;+Thread.currentThread().getName()));\n\n        try {\n            System.out.println(&quot;Sleeping Thread: &quot;+Thread.currentThread().getName());\n            Thread.sleep(10000);\n            System.out.println(&quot;Wake up Thread: &quot;+Thread.currentThread().getName());\n        } catch (InterruptedException e) {\n            throw new RuntimeException(e);\n        }\n        System.out.println(&quot;Method Exit Thread: &quot;+Thread.currentThread().getName());\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<ul>\n<li>Method Start Thread : main</li>\n<li>Before delay Value:one and Value Thread: main</li>\n<li>Sleeping Thread: main</li>\n<li>After delay Value:one and Value Thread: parallel-1</li>\n<li>Final Value: one Value Thread : parallel-1</li>\n<li>Wake up Thread: main</li>\n<li>Method Exit Thread: main</li>\n<li>Process finished with exit code 0</li>\n</ul>\n</blockquote>\n<p><strong>Explanation</strong>: Here notice,&quot;After delay value&quot; was printed while main thread was sleep (before its exit). Also note as said earlier delayElement() does not ran on main thread and it ran on different thread called &quot;parallel-1&quot;.</p>\n<p><strong>Solution :2 Using block()</strong></p>\n<pre><code>public static void main(String[] args) {\n        System.out.println(&quot;Method Start Thread : &quot;+Thread.currentThread().getName());\n        Mono.just(&quot;one&quot;)\n                .doOnNext(next-&gt;System.out.println(&quot;Before delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\n                .delayElement(Duration.ofSeconds(5))\n                .doOnNext(next-&gt;System.out.println(&quot;After delay Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\n                .block();\n        System.out.println(&quot;Method Exit Thread: &quot;+Thread.currentThread().getName());\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<ul>\n<li>Method Start Thread : main</li>\n<li>Before delay Value:one and Value Thread: main</li>\n<li>After delay Value:one and Value Thread: parallel-1</li>\n<li>Method Exit Thread: main</li>\n<li>Process finished with exit code 0</li>\n</ul>\n</blockquote>\n<p><strong>Explanation:</strong> Here notice, string &quot;After delay value&quot; was printed because we blocked main thread. So until pipeline returns a value it will be blocked.</p>\n<p><strong>Solution 3: Writing custom executor: Highly not recommended</strong></p>\n<pre><code>.delayElement(Duration.ofSeconds(5), Schedulers.fromExceutor(wirteAndCallYourOwnExecutorToBlockCurrentMainThread))\n</code></pre>\n<p><strong>Solution 4: Block using Mono Callable</strong></p>\n<pre><code>public static void main(String[] args) {\n        System.out.println(&quot;Method Start Thread : &quot;+Thread.currentThread().getName());\n        Mono.fromCallable(()-&gt;{\n                    try {\n                        System.out.println(&quot;Sleeping Thread: &quot;+Thread.currentThread().getName());\n                        Thread.sleep(10000);\n                        System.out.println(&quot;Wake up Thread: &quot;+Thread.currentThread().getName());\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                    return &quot;one&quot;;\n                })\n                .doOnNext(next-&gt;System.out.println(&quot;Received Value:&quot;+next+&quot; and Value Thread: &quot;+Thread.currentThread().getName()))\n                .subscribe();\n        System.out.println(&quot;Method Exit Thread: &quot;+Thread.currentThread().getName());\n</code></pre>\n<p>Output:</p>\n<blockquote>\n<ul>\n<li>Method Start Thread : main</li>\n<li>Sleeping Thread: main</li>\n<li>Wake up Thread: main</li>\n<li>Received Value:one and Value Thread: main</li>\n<li>Method Exit Thread: main</li>\n<li>Process finished with exit code 0</li>\n</ul>\n</blockquote>\n<p><strong>&gt; Recommendation: If it was prod, better go with async without blocking. I don't know your complete use case. So, in worst case if required use approach 4 with your own risk.</strong></p>\n"}],"owner":{"account_id":4456643,"reputation":8628,"user_id":3626698,"accept_rate":78,"display_name":"afzalex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687024338,"creation_date":1647550629,"question_id":71518953,"body_markdown":"How to use main thread when delayElement is used in reactor Publisher.\r\n\r\n```java\r\nMono.just(&quot;one&quot;)\r\n    .delayElement(Duration.ofSeconds(3))\r\n    .subscribe(System.out::println);\r\n```\r\n\r\nIf I run this code, it will not print &quot;one&quot;, because main thread will exit and subscription is done on other thread.\r\n\r\nIs there a way to use main thread for subscription of this Mono when I use delayElement?\r\ni.e. wait until &quot;one&quot; is published down the line after 3 seconds, and until subscriber consume it.\r\n\r\nPlease mind that if I would not have used &quot;delayElement&quot;, I could have blocked main thread until it print &quot;one&quot; on screen.\r\n\r\n```\r\nMono.just(&quot;one&quot;)\r\n    .subscribe(System.out::println);\r\n```\r\n\r\nI am aware that I can achieve similar output by using wait and notify (or similar alternative), but what I want is, to use main thread for subscribing element after `delayElement` is called.\r\n\r\n*`Mono` class used is imported from `reactor.core.publisher.Mono`*\r\n\r\n\r\nConsider below example, in which I will use same thread for delay operation of my own implementation.\r\n\r\n```java\r\nMono.just(&quot;one&quot;)\r\n    .doOnNext(a -&gt; this.myDelayOperation(Duration.ofSeconds(1)))\r\n    .subscribe(System.out::println);\r\n```\r\nwhere `myDelayOperation(...)` is \r\n\r\n    private void myDelayOperation(Duration duration) {\r\n        try {\r\n            Thread.sleep(duration.toMillis());\r\n        } catch (InterruptedException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }","title":"How to use main thread when delayElement is used in reactor Publisher","body":"<p>How to use main thread when delayElement is used in reactor Publisher.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.just(&quot;one&quot;)\n    .delayElement(Duration.ofSeconds(3))\n    .subscribe(System.out::println);\n</code></pre>\n<p>If I run this code, it will not print &quot;one&quot;, because main thread will exit and subscription is done on other thread.</p>\n<p>Is there a way to use main thread for subscription of this Mono when I use delayElement?\ni.e. wait until &quot;one&quot; is published down the line after 3 seconds, and until subscriber consume it.</p>\n<p>Please mind that if I would not have used &quot;delayElement&quot;, I could have blocked main thread until it print &quot;one&quot; on screen.</p>\n<pre><code>Mono.just(&quot;one&quot;)\n    .subscribe(System.out::println);\n</code></pre>\n<p>I am aware that I can achieve similar output by using wait and notify (or similar alternative), but what I want is, to use main thread for subscribing element after <code>delayElement</code> is called.</p>\n<p><em><code>Mono</code> class used is imported from <code>reactor.core.publisher.Mono</code></em></p>\n<p>Consider below example, in which I will use same thread for delay operation of my own implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.just(&quot;one&quot;)\n    .doOnNext(a -&gt; this.myDelayOperation(Duration.ofSeconds(1)))\n    .subscribe(System.out::println);\n</code></pre>\n<p>where <code>myDelayOperation(...)</code> is</p>\n<pre><code>private void myDelayOperation(Duration duration) {\n    try {\n        Thread.sleep(duration.toMillis());\n    } catch (InterruptedException e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n"},{"tags":["java","ruby","encryption","openssl"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1686858299,"post_id":76484980,"comment_id":134859800,"body_markdown":"For GCM a 12 bytes nonce is recommended, although any size is possible. If the Ruby implementation only allows the recommended 12 bytes, the nonce size must be adjusted on the Java side. Without identical nonce sizes, both codes are incompatible.","body":"For GCM a 12 bytes nonce is recommended, although any size is possible. If the Ruby implementation only allows the recommended 12 bytes, the nonce size must be adjusted on the Java side. Without identical nonce sizes, both codes are incompatible."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1686858433,"post_id":76484980,"comment_id":134859820,"body_markdown":"By the way, for GCM no key/IV pairs may be reused. Since a static IV is used, this means that a different key must be used for each encryption.","body":"By the way, for GCM no key/IV pairs may be reused. Since a static IV is used, this means that a different key must be used for each encryption."},{"owner":{"account_id":4312470,"reputation":91,"user_id":3523210,"accept_rate":50,"display_name":"Catch Me HuntEr"},"score":0,"creation_date":1686858733,"post_id":76484980,"comment_id":134859875,"body_markdown":"@Topaco Sadly, cannot change the nonce in the Java side as it is being handled by the third-party team. And yes for each encryption a new key is generated","body":"@Topaco Sadly, cannot change the nonce in the Java side as it is being handled by the third-party team. And yes for each encryption a new key is generated"},{"owner":{"account_id":4312470,"reputation":91,"user_id":3523210,"accept_rate":50,"display_name":"Catch Me HuntEr"},"score":0,"creation_date":1686859559,"post_id":76484980,"comment_id":134860002,"body_markdown":"I see another library  **rbnacl** which is again limited to 12 bytes for IV. I have a doubt is the cipher error happened due to Java using 16 bytes(zeros) and Ruby using 12 bytes (zeros) or any other thins that I am missing here.","body":"I see another library  <b>rbnacl</b> which is again limited to 12 bytes for IV. I have a doubt is the cipher error happened due to Java using 16 bytes(zeros) and Ruby using 12 bytes (zeros) or any other thins that I am missing here."},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1686861638,"post_id":76484980,"comment_id":134860418,"body_markdown":"According to my test the Ruby code works if a 12 bytes IV is used for encryption. But as long as you use different IVs/IV sizes, the codes are incompatible and decryption will fail.","body":"According to my test the Ruby code works if a 12 bytes IV is used for encryption. But as long as you use different IVs/IV sizes, the codes are incompatible and decryption will fail."}],"answers":[{"tags":[],"owner":{"account_id":74808,"reputation":78715,"user_id":214790,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1687024049,"creation_date":1687024049,"answer_id":76497436,"question_id":76484980,"body_markdown":"You can use a different IV/nonce length in OpenSSL, but you need to call [`iv_len=`](https://ruby-doc.org/3.2.2/exts/openssl/OpenSSL/Cipher.html#method-i-iv_len-3D) first.\r\n\r\nsomething like this should work:\r\n\r\n```\r\ndecipher = OpenSSL::Cipher.new(&#39;AES-256-GCM&#39;)\r\ndecipher.decrypt\r\ndecipher.key = key\r\n\r\n# Call iv_len= before iv=\r\ndecipher.iv_len = iv_len # e.g. 16 in your case\r\ndecipher.iv = iv\r\n\r\ndecipher.auth_data = &#39;&#39;\r\ndecipher.auth_tag = auth_tag\r\n\r\ndecrypted_data = decipher.update(encrypted_data) + decipher.final()\r\n```\r\n","title":"Ruby Cipher Error on decrypting something encrypted with Java","body":"<p>You can use a different IV/nonce length in OpenSSL, but you need to call <a href=\"https://ruby-doc.org/3.2.2/exts/openssl/OpenSSL/Cipher.html#method-i-iv_len-3D\" rel=\"nofollow noreferrer\"><code>iv_len=</code></a> first.</p>\n<p>something like this should work:</p>\n<pre><code>decipher = OpenSSL::Cipher.new('AES-256-GCM')\ndecipher.decrypt\ndecipher.key = key\n\n# Call iv_len= before iv=\ndecipher.iv_len = iv_len # e.g. 16 in your case\ndecipher.iv = iv\n\ndecipher.auth_data = ''\ndecipher.auth_tag = auth_tag\n\ndecrypted_data = decipher.update(encrypted_data) + decipher.final()\n</code></pre>\n"}],"owner":{"account_id":4312470,"reputation":91,"user_id":3523210,"accept_rate":50,"display_name":"Catch Me HuntEr"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76497436,"answer_count":1,"score":0,"last_activity_date":1687024049,"creation_date":1686857468,"question_id":76484980,"body_markdown":"I have received the encryption request from a different provider, they were using AES GCM No Padding. When I am trying to decrypt it in ruby getting an error **OpenSSL::Cipher::CipherError ()**. I observed in Java the IV is accepting the 16 bytes(Array of Zeros) whereas ruby is limited to 12 bytes only. I am missing something here. Appreciate your help in advance\r\n\r\nCode Snippet for Java\r\n```\r\nSecretKey sessionKey = getSessionKey();\r\nbyte[] IV = new byte[16];\r\nCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\nSecretKeySpec keySpec = new SecretKeySpec(sessionKey.getEncoded(), &quot;AES&quot;);\r\nGCMParameterSpec gcmParameterSpec = new GCMParameterSpec(16 * 8, IV);\r\ncipher.init(Cipher.ENCRYPT_MODE, keySpec, gcmParameterSpec);\r\nbyte[] encryptedText = cipher.doFinal(plaintext);\r\nresponseMap.put(&quot;data&quot;, Base64.getEncoder().encodeToString(encryptedText));\r\n```\r\nCode snippet for Ruby\r\n``` Ruby\r\ndecrypted_key = &quot;AES KEY&quot;\r\ndecode_data = Base64.strict_decode64(params[&quot;data&quot;])\r\ncipher_text_with_auth_tag = decode_data.unpack(&quot;C*&quot;)\r\nauth_tag = cipher_text_with_auth_tag.last(16).pack(&quot;C*&quot;)\r\ncipher_text = cipher_text_with_auth_tag[0..-17].pack(&quot;c*&quot;)\r\ndecipher = OpenSSL::Cipher.new(&#39;AES-256-GCM&#39;)\r\ndecipher. decrypt\r\ndecipher.padding = 0\r\ndecipher.key = decrypted_key\r\ndecipher.iv =  &quot;\\x00&quot; * 12\r\ndecipher.auth_data = &#39;&#39;\r\ndecipher.auth_tag = auth_tag\r\ndecrypted_data = decipher.update(cipher_text) + decipher.final\r\n```\r\n\r\n","title":"Ruby Cipher Error on decrypting something encrypted with Java","body":"<p>I have received the encryption request from a different provider, they were using AES GCM No Padding. When I am trying to decrypt it in ruby getting an error <strong>OpenSSL::Cipher::CipherError ()</strong>. I observed in Java the IV is accepting the 16 bytes(Array of Zeros) whereas ruby is limited to 12 bytes only. I am missing something here. Appreciate your help in advance</p>\n<p>Code Snippet for Java</p>\n<pre><code>SecretKey sessionKey = getSessionKey();\nbyte[] IV = new byte[16];\nCipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\nSecretKeySpec keySpec = new SecretKeySpec(sessionKey.getEncoded(), &quot;AES&quot;);\nGCMParameterSpec gcmParameterSpec = new GCMParameterSpec(16 * 8, IV);\ncipher.init(Cipher.ENCRYPT_MODE, keySpec, gcmParameterSpec);\nbyte[] encryptedText = cipher.doFinal(plaintext);\nresponseMap.put(&quot;data&quot;, Base64.getEncoder().encodeToString(encryptedText));\n</code></pre>\n<p>Code snippet for Ruby</p>\n<pre><code>decrypted_key = &quot;AES KEY&quot;\ndecode_data = Base64.strict_decode64(params[&quot;data&quot;])\ncipher_text_with_auth_tag = decode_data.unpack(&quot;C*&quot;)\nauth_tag = cipher_text_with_auth_tag.last(16).pack(&quot;C*&quot;)\ncipher_text = cipher_text_with_auth_tag[0..-17].pack(&quot;c*&quot;)\ndecipher = OpenSSL::Cipher.new('AES-256-GCM')\ndecipher. decrypt\ndecipher.padding = 0\ndecipher.key = decrypted_key\ndecipher.iv =  &quot;\\x00&quot; * 12\ndecipher.auth_data = ''\ndecipher.auth_tag = auth_tag\ndecrypted_data = decipher.update(cipher_text) + decipher.final\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1687022322,"post_id":76497310,"comment_id":134880427,"body_markdown":"I&#39;m upvoting you. Me, it&#39;s Java 5 it complains against, when it has a Java 17 installed...","body":"I&#39;m upvoting you. Me, it&#39;s Java 5 it complains against, when it has a Java 17 installed..."},{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1687022346,"post_id":76497310,"comment_id":134880430,"body_markdown":"Have you reloaded the pom.xml into intellij? Do you remember if anything said Java 15?","body":"Have you reloaded the pom.xml into intellij? Do you remember if anything said Java 15?"},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1687022408,"post_id":76497310,"comment_id":134880435,"body_markdown":"Please edit your question and include your full `pom.xml` (not just a snippet).","body":"Please edit your question and include your full <code>pom.xml</code> (not just a snippet)."},{"owner":{"account_id":26151806,"reputation":151,"user_id":19839660,"display_name":"Iv&#225;n Larios"},"score":0,"creation_date":1687022424,"post_id":76497310,"comment_id":134880439,"body_markdown":"can you provide more logs of the output error?","body":"can you provide more logs of the output error?"}],"answers":[{"tags":[],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687022502,"creation_date":1687022502,"answer_id":76497344,"question_id":76497310,"body_markdown":"Check that you have something like this in your POM:\r\n\r\n```xml\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n       ...\r\n```\r\n\r\n(with `&lt;java.version&gt;11&lt;/java.version&gt;` for property, elsewhere.  \r\nBecause you could be lacking a `&lt;target&gt;` declaration.","title":"IntelliJ Spring Boot - java: error: invalid source release: 15","body":"<p>Check that you have something like this in your POM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n       ...\n</code></pre>\n<p>(with <code>&lt;java.version&gt;11&lt;/java.version&gt;</code> for property, elsewhere.<br />\nBecause you could be lacking a <code>&lt;target&gt;</code> declaration.</p>\n"}],"owner":{"account_id":19890413,"reputation":33,"user_id":14572612,"display_name":"densal03"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687022502,"creation_date":1687022021,"question_id":76497310,"body_markdown":"I&#39;m trying to run my very first Spring Application in IntelliJ and I ran into the following error:\r\n\r\n`java: error: invalid source release: 15`\r\n\r\nWhen creating my project, I set everything to Java 11:\r\n- module spring_chat has Target bytcode version set to 11\r\n- module SDK is corretto-11\r\n- project SDK is corretto-11\r\n- project language level is 11\r\n\r\nIn my pom.xml it also says Java Version 11:\r\n\r\n    &lt;groupId&gt;com&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring_chat&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;spring_chat&lt;/name&gt;\r\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\nWhat should I do?","title":"IntelliJ Spring Boot - java: error: invalid source release: 15","body":"<p>I'm trying to run my very first Spring Application in IntelliJ and I ran into the following error:</p>\n<p><code>java: error: invalid source release: 15</code></p>\n<p>When creating my project, I set everything to Java 11:</p>\n<ul>\n<li>module spring_chat has Target bytcode version set to 11</li>\n<li>module SDK is corretto-11</li>\n<li>project SDK is corretto-11</li>\n<li>project language level is 11</li>\n</ul>\n<p>In my pom.xml it also says Java Version 11:</p>\n<pre><code>&lt;groupId&gt;com&lt;/groupId&gt;\n&lt;artifactId&gt;spring_chat&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;spring_chat&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;11&lt;/java.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>What should I do?</p>\n"},{"tags":["java","binary"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687022059,"creation_date":1687022059,"answer_id":76497314,"question_id":76497281,"body_markdown":"According to [java docs][1]:\r\n\r\n&gt; The unsigned right shift operator &quot;&gt;&gt;&gt;&quot; shifts a zero into the\r\n&gt; leftmost position, while the leftmost position after &quot;&gt;&gt;&quot; depends on\r\n&gt; sign extension.\r\n\r\nSo &gt;&gt; keeps the sign and you probably nedd an &gt;&gt;&gt;\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html","title":"Binary Operation on Negative integer","body":"<p>According to <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/op3.html\" rel=\"nofollow noreferrer\">java docs</a>:</p>\n<blockquote>\n<p>The unsigned right shift operator &quot;&gt;&gt;&gt;&quot; shifts a zero into the\nleftmost position, while the leftmost position after &quot;&gt;&gt;&quot; depends on\nsign extension.</p>\n</blockquote>\n<p>So &gt;&gt; keeps the sign and you probably nedd an &gt;&gt;&gt;</p>\n"}],"owner":{"account_id":24163573,"reputation":1,"user_id":18126770,"display_name":"Aditya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1687057177,"answer_count":1,"score":0,"last_activity_date":1687022059,"creation_date":1687021618,"question_id":76497281,"body_markdown":"System.out.print((-15) &amp; (-1 &gt;&gt; 1));\r\n\r\nWhy does the above code return -15?\r\n\r\nShouldn&#39;t it set the MSB to 0 as the bitmask is (-1 &gt;&gt; 1) which is 01111111\r\n\r\nI was expecting a positive integer but it returns -15. The logic is unclear. Kindly help","title":"Binary Operation on Negative integer","body":"<p>System.out.print((-15) &amp; (-1 &gt;&gt; 1));</p>\n<p>Why does the above code return -15?</p>\n<p>Shouldn't it set the MSB to 0 as the bitmask is (-1 &gt;&gt; 1) which is 01111111</p>\n<p>I was expecting a positive integer but it returns -15. The logic is unclear. Kindly help</p>\n"},{"tags":["java","xml","base64","sap-pi","sap-xi"],"comments":[{"owner":{"account_id":1119443,"reputation":6044,"user_id":1108098,"accept_rate":73,"display_name":"jordiburgos"},"score":0,"creation_date":1564568927,"post_id":57285931,"comment_id":101071930,"body_markdown":"Please provide the encoded string in Base64.","body":"Please provide the encoded string in Base64."},{"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"score":0,"creation_date":1564571071,"post_id":57285931,"comment_id":101073098,"body_markdown":"Hi jordiburgos,  I have upated my post with the encoded string in Base64","body":"Hi jordiburgos,  I have upated my post with the encoded string in Base64"},{"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"score":0,"creation_date":1564571552,"post_id":57285931,"comment_id":101073377,"body_markdown":"if you debug the variable `decodedString`, I&#39;m pretty sure it doesn&#39;t contain `&amp;lt;`. Your issue happens later. Please find out the concerned code and post it.","body":"if you debug the variable <code>decodedString</code>, I&#39;m pretty sure it doesn&#39;t contain <code>&amp;lt;</code>. Your issue happens later. Please find out the concerned code and post it."},{"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"score":0,"creation_date":1564571716,"post_id":57285931,"comment_id":101073486,"body_markdown":"The output which  I posted above is from SAP PI mapping","body":"The output which  I posted above is from SAP PI mapping"}],"answers":[{"tags":[],"owner":{"account_id":12578778,"reputation":12323,"user_id":9150270,"display_name":"Sandra Rossi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564641893,"creation_date":1564641893,"answer_id":57303178,"question_id":57285931,"body_markdown":"If you say that `&lt;Data&gt;&amp;lt;OUTPUT&amp;gt;&amp;lt;...` is incorrect only because **you see** `&amp;lt;` instead of `&lt;` inside the XML string, then it&#39;s just a misunderstanding from your side.\r\n\r\nIn XML, the raw character `&lt;` is always represented `&amp;lt;`.","title":"Open/close tags are replaced with &amp;gt; &amp;lt;while base64 decoding in SAP PI","body":"<p>If you say that <code>&lt;Data&gt;&amp;lt;OUTPUT&amp;gt;&amp;lt;...</code> is incorrect only because <strong>you see</strong> <code>&amp;lt;</code> instead of <code>&lt;</code> inside the XML string, then it's just a misunderstanding from your side.</p>\n\n<p>In XML, the raw character <code>&lt;</code> is always represented <code>&amp;lt;</code>.</p>\n"}],"owner":{"account_id":10692609,"reputation":155,"user_id":7870939,"display_name":"Kaushik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1241,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1687021524,"creation_date":1564560044,"question_id":57285931,"body_markdown":"I have written a UDF to decode and encode base64 text in SAP PI mapping. But after decoding the XML tags, open and close tags all are getting replaced by `&amp;gt;` and `&amp;lt;`.\r\n\r\nPlease find below the code:\r\n\r\n    public String Base64Decoder(String EncodedString, Container container) throws StreamTransformationException\r\n    {\r\n    //Variable to hold decoded string\r\n    String decodedString = null;\r\n     byte[] decodedBytes = DatatypeConverter.parseBase64Binary(EncodedString);\r\n    try{\r\n    \r\n    //Convert base64 schema to byte array\r\n    \r\n    return new String(decodedBytes,&quot;UTF-8&quot;);\r\n    //Get the string of decoded byte array\r\n    \r\n    \r\n    }catch(Exception e) {\r\n    \r\n    }\r\n    \r\n    //Export decoded string\r\n    return decodedString;\r\n    }\r\n\r\nOutput after decoding:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;ns0:Log xmlns:ns0=&quot;http://world.com/pi/M/Log&quot;&gt;\r\n    &lt;Data&gt;&amp;lt;OUTPUT&amp;gt;&amp;lt;item&amp;gt;&amp;lt;VBELN&amp;gt;0180001027&amp;lt;/VBELN&amp;gt;&amp;lt;WADAT&amp;gt;00000000&amp;lt;/WADAT&amp;gt;&amp;lt;VSTEL&amp;gt;1000&amp;lt;/VSTEL&amp;gt;&amp;lt;KUNNR/&amp;gt;&amp;lt;ITEM&amp;gt;&amp;lt;YITEM&amp;gt;&amp;lt;MATNR&amp;gt;000000000011000082&amp;lt;/MATNR&amp;gt;&amp;lt;LFIMG&amp;gt;1.0&amp;lt;/LFIMG&amp;gt;&amp;lt;MEINS&amp;gt;L&amp;lt;/MEINS&amp;gt;&amp;lt;/YITEM&amp;gt;&amp;lt;/ITEM&amp;gt;&amp;lt;/item&amp;gt;&amp;lt;item&amp;gt;&amp;lt;VBELN&amp;gt;0180001233&amp;lt;/VBELN&amp;gt;&amp;lt;WADAT&amp;gt;00000000&amp;lt;/WADAT&amp;gt;&amp;lt;VSTEL&amp;gt;1000&amp;lt;/VSTEL&amp;gt;&amp;lt;KUNNR/&amp;gt;&amp;lt;ITEM&amp;gt;&amp;lt;YITEM&amp;gt;&amp;lt;MATNR&amp;gt;000000000041000000&amp;lt;/MATNR&amp;gt;&amp;lt;LFIMG&amp;gt;10.0&amp;lt;/LFIMG&amp;gt;&amp;lt;MEINS&amp;gt;LM&amp;lt;/MEINS&amp;gt;&amp;lt;/YITEM&amp;gt;&amp;lt;/ITEM&amp;gt;&amp;lt;/item&amp;gt;&amp;lt;/OUTPUT&amp;gt;&lt;/Data&gt;\r\n    &lt;/ns0:Log&gt;\r\n\r\nThe data inside `&lt;Data&gt;` tag is decoded text. But as you can see all its tags are replaced. For example, instead of `&lt;OUTPUT&gt;` it is printing `&amp;lt;OUTPUT&amp;gt;`.\r\n\r\nCan you please let me know what changes should I do in the UDF to avoid this?\r\n\r\nEncoded string in Base64:\r\n```\r\nPE9VVFBVVD48aXRlbT48VkJFTE4+MDE4MDAwMTAyNzwvVkJFTE4+PFdBREFUPjAwMDAwMDAwPC9XQURBVD48VlNURUw+MTAwMDwvVlNURUw+PEtVTk5SLz48SVRFTT48WUlURU0+PE1BVE5SPjAwMDAwMDAwMDAxMTAwMDA4MjwvTUFUTlI+PExGSU1HPjEuMDwvTEZJTUc+PE1FSU5TPkw8L01FSU5TPjwvWUlURU0+PC9JVEVNPjwvaXRlbT48aXRlbT48VkJFTE4+MDE4MDAwMTIzMzwvVkJFTE4+PFdBREFUPjAwMDAwMDAwPC9XQURBVD48VlNURUw+MTAwMDwvVlNURUw+PEtVTk5SLz48SVRFTT48WUlURU0+PE1BVE5SPjAwMDAwMDAwMDA0MTAwMDAwMDwvTUFUTlI+PExGSU1HPjEwLjA8L0xGSU1HPjxNRUlOUz5MTTwvTUVJTlM+PC9ZSVRFTT48L0lURU0+PC9pdGVtPjwvT1VUUFVUPg==\r\n```\r\n","title":"Open/close tags are replaced with &amp;gt; &amp;lt;while base64 decoding in SAP PI","body":"<p>I have written a UDF to decode and encode base64 text in SAP PI mapping. But after decoding the XML tags, open and close tags all are getting replaced by <code>&amp;gt;</code> and <code>&amp;lt;</code>.</p>\n<p>Please find below the code:</p>\n<pre><code>public String Base64Decoder(String EncodedString, Container container) throws StreamTransformationException\n{\n//Variable to hold decoded string\nString decodedString = null;\n byte[] decodedBytes = DatatypeConverter.parseBase64Binary(EncodedString);\ntry{\n\n//Convert base64 schema to byte array\n\nreturn new String(decodedBytes,&quot;UTF-8&quot;);\n//Get the string of decoded byte array\n\n\n}catch(Exception e) {\n\n}\n\n//Export decoded string\nreturn decodedString;\n}\n</code></pre>\n<p>Output after decoding:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ns0:Log xmlns:ns0=&quot;http://world.com/pi/M/Log&quot;&gt;\n&lt;Data&gt;&amp;lt;OUTPUT&amp;gt;&amp;lt;item&amp;gt;&amp;lt;VBELN&amp;gt;0180001027&amp;lt;/VBELN&amp;gt;&amp;lt;WADAT&amp;gt;00000000&amp;lt;/WADAT&amp;gt;&amp;lt;VSTEL&amp;gt;1000&amp;lt;/VSTEL&amp;gt;&amp;lt;KUNNR/&amp;gt;&amp;lt;ITEM&amp;gt;&amp;lt;YITEM&amp;gt;&amp;lt;MATNR&amp;gt;000000000011000082&amp;lt;/MATNR&amp;gt;&amp;lt;LFIMG&amp;gt;1.0&amp;lt;/LFIMG&amp;gt;&amp;lt;MEINS&amp;gt;L&amp;lt;/MEINS&amp;gt;&amp;lt;/YITEM&amp;gt;&amp;lt;/ITEM&amp;gt;&amp;lt;/item&amp;gt;&amp;lt;item&amp;gt;&amp;lt;VBELN&amp;gt;0180001233&amp;lt;/VBELN&amp;gt;&amp;lt;WADAT&amp;gt;00000000&amp;lt;/WADAT&amp;gt;&amp;lt;VSTEL&amp;gt;1000&amp;lt;/VSTEL&amp;gt;&amp;lt;KUNNR/&amp;gt;&amp;lt;ITEM&amp;gt;&amp;lt;YITEM&amp;gt;&amp;lt;MATNR&amp;gt;000000000041000000&amp;lt;/MATNR&amp;gt;&amp;lt;LFIMG&amp;gt;10.0&amp;lt;/LFIMG&amp;gt;&amp;lt;MEINS&amp;gt;LM&amp;lt;/MEINS&amp;gt;&amp;lt;/YITEM&amp;gt;&amp;lt;/ITEM&amp;gt;&amp;lt;/item&amp;gt;&amp;lt;/OUTPUT&amp;gt;&lt;/Data&gt;\n&lt;/ns0:Log&gt;\n</code></pre>\n<p>The data inside <code>&lt;Data&gt;</code> tag is decoded text. But as you can see all its tags are replaced. For example, instead of <code>&lt;OUTPUT&gt;</code> it is printing <code>&amp;lt;OUTPUT&amp;gt;</code>.</p>\n<p>Can you please let me know what changes should I do in the UDF to avoid this?</p>\n<p>Encoded string in Base64:</p>\n<pre><code>PE9VVFBVVD48aXRlbT48VkJFTE4+MDE4MDAwMTAyNzwvVkJFTE4+PFdBREFUPjAwMDAwMDAwPC9XQURBVD48VlNURUw+MTAwMDwvVlNURUw+PEtVTk5SLz48SVRFTT48WUlURU0+PE1BVE5SPjAwMDAwMDAwMDAxMTAwMDA4MjwvTUFUTlI+PExGSU1HPjEuMDwvTEZJTUc+PE1FSU5TPkw8L01FSU5TPjwvWUlURU0+PC9JVEVNPjwvaXRlbT48aXRlbT48VkJFTE4+MDE4MDAwMTIzMzwvVkJFTE4+PFdBREFUPjAwMDAwMDAwPC9XQURBVD48VlNURUw+MTAwMDwvVlNURUw+PEtVTk5SLz48SVRFTT48WUlURU0+PE1BVE5SPjAwMDAwMDAwMDA0MTAwMDAwMDwvTUFUTlI+PExGSU1HPjEwLjA8L0xGSU1HPjxNRUlOUz5MTTwvTUVJTlM+PC9ZSVRFTT48L0lURU0+PC9pdGVtPjwvT1VUUFVUPg==\n</code></pre>\n"},{"tags":["java","spring-boot","docker","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683527644,"post_id":76197507,"comment_id":134374631,"body_markdown":"Which spring boot version do you use?","body":"Which spring boot version do you use?"},{"owner":{"account_id":9312560,"reputation":47,"user_id":6913815,"display_name":"TR1096"},"score":0,"creation_date":1683561317,"post_id":76197507,"comment_id":134381803,"body_markdown":"2.4.13.  The solution need not have to do with spring boot though.","body":"2.4.13.  The solution need not have to do with spring boot though."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683721602,"post_id":76197507,"comment_id":134409653,"body_markdown":"I strongly recommend to upgrade to more recent versions (because of the lack of support of such old versions) and support of more recent version related to docker images and handling of layers etc. See https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#container-images.efficient-images.layering Apart from that putting deps into folders in the images does not really help...also it would be helpful to give much more information what exactly you are doing etc. what kind of plugin jars??","body":"I strongly recommend to upgrade to more recent versions (because of the lack of support of such old versions) and support of more recent version related to docker images and handling of layers etc. See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#container-images.efficient-images.layering\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a> Apart from that putting deps into folders in the images does not really help...also it would be helpful to give much more information what exactly you are doing etc. what kind of plugin jars??"}],"answers":[{"tags":[],"owner":{"account_id":9312560,"reputation":47,"user_id":6913815,"display_name":"TR1096"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687020410,"creation_date":1687020410,"answer_id":76497206,"question_id":76197507,"body_markdown":"To answer my own question, the solution is to take out the plugin dependencies from the server pom.xml and create an assembly.xml using the maven assembly plugin to produce a &quot;plugins&quot; folder which contains each plugin to be loaded at runtime.\r\n\r\nThe docker image then pulls in and installs this plugins folder.","title":"Maven/docker build for plugin server","body":"<p>To answer my own question, the solution is to take out the plugin dependencies from the server pom.xml and create an assembly.xml using the maven assembly plugin to produce a &quot;plugins&quot; folder which contains each plugin to be loaded at runtime.</p>\n<p>The docker image then pulls in and installs this plugins folder.</p>\n"}],"owner":{"account_id":9312560,"reputation":47,"user_id":6913815,"display_name":"TR1096"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687020410,"creation_date":1683519930,"question_id":76197507,"body_markdown":"I have a maven build followed by a docker build to take the built artifact and place it in the docker image for execution.\r\n\r\nIt&#39;s a server component which runs many plugins.  Currently all plugins are dependencies in the server pom and end up in the final uber (spring boot) jar.\r\n\r\nI want to change this architecture so that the plugin jars and all of their dependencies are each in their own folder on the docker image.  This is so I can classload them independently at runtime.\r\n\r\nHow can I approach my maven and docker build to accomplish this?  I am not clear how I would fetch all the dependencies of certain artifacts, and not have those artifacts included in the uber jar.","title":"Maven/docker build for plugin server","body":"<p>I have a maven build followed by a docker build to take the built artifact and place it in the docker image for execution.</p>\n<p>It's a server component which runs many plugins.  Currently all plugins are dependencies in the server pom and end up in the final uber (spring boot) jar.</p>\n<p>I want to change this architecture so that the plugin jars and all of their dependencies are each in their own folder on the docker image.  This is so I can classload them independently at runtime.</p>\n<p>How can I approach my maven and docker build to accomplish this?  I am not clear how I would fetch all the dependencies of certain artifacts, and not have those artifacts included in the uber jar.</p>\n"},{"tags":["java","binary-search"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1687022325,"post_id":76497203,"comment_id":134880428,"body_markdown":"(i) first you need a case (data) that is not working; (ii) use a debugger to see what is going wrong","body":"(i) first you need a case (data) that is not working; (ii) use a debugger to see what is going wrong"}],"owner":{"account_id":23685240,"reputation":3,"user_id":17710283,"display_name":"Abhinand G"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687020388,"creation_date":1687020388,"question_id":76497203,"body_markdown":"The question is as follows -\r\nKoko loves to eat bananas. There are n piles of bananas, the ith pile has piles[i] bananas. The guards have gone and will come back in h hours.\r\n\r\nKoko can decide her bananas-per-hour eating speed of k. Each hour, she chooses some pile of bananas and eats k bananas from that pile. If the pile has less than k bananas, she eats all of them instead and will not eat any more bananas during this hour.\r\n\r\nKoko likes to eat slowly but still wants to finish eating all the bananas before the guards return.\r\n\r\nReturn the minimum integer k such that she can eat all the bananas within h hours.\r\n\r\nExample 1:\r\n\r\nInput: piles = [3,6,7,11], h = 8\r\nOutput: 4\r\n\r\n\r\nThis is my solution for it- \r\n\r\n\r\n```\r\nclass Solution {\r\n    public int maxValueOf(int[] piles) {\r\n        return Arrays.stream(piles).max().getAsInt();\r\n    }\r\n\r\n    public int canEatPiles(int capacityPerHour, int[] piles) {\r\n        int sum = Arrays.stream(piles).sum();\r\n        int hours = (int) Math.ceil((double) sum / capacityPerHour);\r\n        return hours;\r\n    }\r\n\r\n    public int minEatingSpeed(int[] piles, int h) {\r\n        int l = 1;\r\n        int r = maxValueOf(piles);\r\n        int mid = 0;\r\n\r\n        while (l &lt;= r) {\r\n            mid = (l + r) / 2;\r\n            if (canEatPiles(mid, piles) &lt;= h) {\r\n                r = mid - 1;\r\n            } else {\r\n                l = mid + 1;\r\n            }\r\n        }\r\n\r\n        return mid;\r\n    }\r\n  \r\n}\r\n```\r\n\r\n\r\nCould anyone please help me figure out what I&#39;m doing wrong here?\r\n\r\nThe above code only passed 4/125 testcases, although it logically seems correct to me.","title":"What&#39;s wrong with my 875. Koko Eating Bananas LeetCode solution?","body":"<p>The question is as follows -\nKoko loves to eat bananas. There are n piles of bananas, the ith pile has piles[i] bananas. The guards have gone and will come back in h hours.</p>\n<p>Koko can decide her bananas-per-hour eating speed of k. Each hour, she chooses some pile of bananas and eats k bananas from that pile. If the pile has less than k bananas, she eats all of them instead and will not eat any more bananas during this hour.</p>\n<p>Koko likes to eat slowly but still wants to finish eating all the bananas before the guards return.</p>\n<p>Return the minimum integer k such that she can eat all the bananas within h hours.</p>\n<p>Example 1:</p>\n<p>Input: piles = [3,6,7,11], h = 8\nOutput: 4</p>\n<p>This is my solution for it-</p>\n<pre><code>class Solution {\n    public int maxValueOf(int[] piles) {\n        return Arrays.stream(piles).max().getAsInt();\n    }\n\n    public int canEatPiles(int capacityPerHour, int[] piles) {\n        int sum = Arrays.stream(piles).sum();\n        int hours = (int) Math.ceil((double) sum / capacityPerHour);\n        return hours;\n    }\n\n    public int minEatingSpeed(int[] piles, int h) {\n        int l = 1;\n        int r = maxValueOf(piles);\n        int mid = 0;\n\n        while (l &lt;= r) {\n            mid = (l + r) / 2;\n            if (canEatPiles(mid, piles) &lt;= h) {\n                r = mid - 1;\n            } else {\n                l = mid + 1;\n            }\n        }\n\n        return mid;\n    }\n  \n}\n</code></pre>\n<p>Could anyone please help me figure out what I'm doing wrong here?</p>\n<p>The above code only passed 4/125 testcases, although it logically seems correct to me.</p>\n"},{"tags":["java","generics","static"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1687003605,"post_id":76495844,"comment_id":134878219,"body_markdown":"`MyFactory`? Is this your actual code?","body":"<code>MyFactory</code>? Is this your actual code?"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1687005405,"post_id":76495844,"comment_id":134878416,"body_markdown":"You absolutely must do an unsafe cast here.  There is no alternative.","body":"You absolutely must do an unsafe cast here.  There is no alternative."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1687012437,"post_id":76495844,"comment_id":134879153,"body_markdown":"@LouisWasserman is right. While you know that the generic types of the map entries match the generic types of the map values, the compiler doesn&#39;t.","body":"@LouisWasserman is right. While you know that the generic types of the map entries match the generic types of the map values, the compiler doesn&#39;t."},{"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"score":0,"creation_date":1687012542,"post_id":76495844,"comment_id":134879159,"body_markdown":"@user16320675 (ii)Since MyHandler is an interface, all its members are static","body":"@user16320675 (ii)Since MyHandler is an interface, all its members are static"},{"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"score":0,"creation_date":1687020185,"post_id":76495844,"comment_id":134880198,"body_markdown":"@tgdavies It was a typo, I corrected it","body":"@tgdavies It was a typo, I corrected it"}],"owner":{"account_id":997969,"reputation":145,"user_id":1013464,"display_name":"Nemo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687020144,"creation_date":1686998947,"question_id":76495844,"body_markdown":"I have a list of parametrized handler objects according to object&#39;s class. I try to implement a parametrized factory method which will supply corresponding handler using cashe implemented by Map.\r\nI wrote a code but I receive compiler exception: \r\n\r\n&gt; Type mismatch: cannot convert from MyHandler&lt;capture#1-of ? extends\r\n&gt; MyObject&gt; to MyHandler&lt;E&gt;\r\n\r\nPlease help, how I can achive my goal?\r\n\r\nHere is my code:\r\n\r\n    public interface MyHandler&lt;T extends MyObject&gt; {\r\n    \t\r\n       Map&lt;Class&lt;? extends MyObject&gt;, MyHandler&lt;? extends MyObject&gt;&gt; HANDLERS = new HashMap&lt;&gt;();\r\n    \r\n       static &lt;E extends MyObject&gt; MyHandler&lt;E&gt; getMyHandler(Class&lt;E&gt; type) {\r\n    \t\treturn HANDLERS.get(type); // here is the error\r\n    \t}\r\n    }\r\n   ","title":"Java parametrized static method with parametrized class member","body":"<p>I have a list of parametrized handler objects according to object's class. I try to implement a parametrized factory method which will supply corresponding handler using cashe implemented by Map.\nI wrote a code but I receive compiler exception:</p>\n<blockquote>\n<p>Type mismatch: cannot convert from MyHandler&lt;capture#1-of ? extends\nMyObject&gt; to MyHandler</p>\n</blockquote>\n<p>Please help, how I can achive my goal?</p>\n<p>Here is my code:</p>\n<pre><code>public interface MyHandler&lt;T extends MyObject&gt; {\n    \n   Map&lt;Class&lt;? extends MyObject&gt;, MyHandler&lt;? extends MyObject&gt;&gt; HANDLERS = new HashMap&lt;&gt;();\n\n   static &lt;E extends MyObject&gt; MyHandler&lt;E&gt; getMyHandler(Class&lt;E&gt; type) {\n        return HANDLERS.get(type); // here is the error\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":0,"creation_date":1687016596,"post_id":76496938,"comment_id":134879756,"body_markdown":"Why did you look up a solution instead of working out how to solve the problem?","body":"Why did you look up a solution instead of working out how to solve the problem?"},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1687016679,"post_id":76496938,"comment_id":134879771,"body_markdown":"Step through the coded in a debugger line by line.","body":"Step through the coded in a debugger line by line."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1687017836,"post_id":76496979,"comment_id":134879910,"body_markdown":"[Please never post images of text](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557). They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly.","body":"<a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Please never post images of text</a>. They are not searchable, we cannot copy-paste... Always copy-paste the text and format it properly."}],"tags":[],"owner":{"account_id":16264047,"reputation":62,"user_id":11744656,"display_name":"Anonumouz"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687019801,"creation_date":1687017300,"answer_id":76496979,"question_id":76496938,"body_markdown":"there are so many ways to get the maximum element in array.\r\n\r\nEasy One + More Efficient\r\n\r\n 1. assume first element is max,\r\n 2. loop through array from 1 to n\r\n 3. check if current element is greater than previous max or not\r\nif yes, so store it in max variable, if not keep old max value\r\n\r\n[See this the link](https://www.geeksforgeeks.org/program-to-find-largest-element-in-an-array/)\r\n\r\nat the end, variable `max` will hold maximum element in the array\r\n\r\nKeep in mind: Problem Solving is for your mindset, to make your brain active, and don&#39;t copy paste, or see solution after short time, take your time maybe 25min or more depending on your personality","title":"I was Doing a practice problem In java to find the maximum value in an array but i don&#39;t get the solution can anybody explain it to me?","body":"<p>there are so many ways to get the maximum element in array.</p>\n<p>Easy One + More Efficient</p>\n<ol>\n<li>assume first element is max,</li>\n<li>loop through array from 1 to n</li>\n<li>check if current element is greater than previous max or not\nif yes, so store it in max variable, if not keep old max value</li>\n</ol>\n<p><a href=\"https://www.geeksforgeeks.org/program-to-find-largest-element-in-an-array/\" rel=\"nofollow noreferrer\">See this the link</a></p>\n<p>at the end, variable <code>max</code> will hold maximum element in the array</p>\n<p>Keep in mind: Problem Solving is for your mindset, to make your brain active, and don't copy paste, or see solution after short time, take your time maybe 25min or more depending on your personality</p>\n"}],"owner":{"account_id":28840599,"reputation":3,"user_id":22088957,"display_name":"Devesh Sahoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1687023873,"accepted_answer_id":76496979,"answer_count":1,"score":-2,"last_activity_date":1687019801,"creation_date":1687016465,"question_id":76496938,"body_markdown":"[enter image description here](https://i.stack.imgur.com/Ahpnk.png)\r\nThis is the solution I looked up but except for the array and for each loop i don&#39;t get any of that \r\nI am a total beginner by the way.\r\n\r\nI tried to understand the problem but didn&#39;t quite get it properly, I would really like some explanation.\r\n```java\r\nint[] a7={8,90,-75,863,-7845};\r\nint min3=0;\r\nfor (int element1:a7){\r\n  if (element1&lt;min3){\r\n   min3=element1;\r\n  }\r\n}\r\nSystem.out.printIn(&quot;The Minimum Value of this array is&quot;+min3);\r\n\r\n``` ","title":"I was Doing a practice problem In java to find the maximum value in an array but i don&#39;t get the solution can anybody explain it to me?","body":"<p><a href=\"https://i.stack.imgur.com/Ahpnk.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nThis is the solution I looked up but except for the array and for each loop i don't get any of that\nI am a total beginner by the way.</p>\n<p>I tried to understand the problem but didn't quite get it properly, I would really like some explanation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] a7={8,90,-75,863,-7845};\nint min3=0;\nfor (int element1:a7){\n  if (element1&lt;min3){\n   min3=element1;\n  }\n}\nSystem.out.printIn(&quot;The Minimum Value of this array is&quot;+min3);\n\n</code></pre>\n"},{"tags":["java","extends","super","callable"],"answers":[{"comments":[{"owner":{"account_id":16965207,"reputation":41,"user_id":12271299,"display_name":"Gaoyang"},"score":0,"creation_date":1605051329,"post_id":64778316,"comment_id":114533610,"body_markdown":"Thanks so much, the second way is quite a simple but a smart way! &quot;Parent.super.getAge(&quot;jack&quot;)&quot; does NOT work.","body":"Thanks so much, the second way is quite a simple but a smart way! &quot;Parent.super.getAge(&quot;jack&quot;)&quot; does NOT work."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1605050970,"creation_date":1605050970,"answer_id":64778316,"question_id":64778270,"body_markdown":"Try `Parent.super.getAge(&quot;jack&quot;)`, though I don&#39;t think that will work.\r\n\r\nIf not, then your only option is to make a bridge method:\r\n\r\n```\r\npublic class Child extends Parent {\r\n    private int superGetAge(String name) {\r\n        return super.getAge(name);\r\n    }\r\n\r\n    @Override\r\n    public int getAge(String name) {\r\n        .... return superGetAge(&quot;jack&quot;);\r\n    }\r\n}\r\n```\r\n","title":"How to call a method in parent class inside of Lambda function in Java?","body":"<p>Try <code>Parent.super.getAge(&quot;jack&quot;)</code>, though I don't think that will work.</p>\n<p>If not, then your only option is to make a bridge method:</p>\n<pre><code>public class Child extends Parent {\n    private int superGetAge(String name) {\n        return super.getAge(name);\n    }\n\n    @Override\n    public int getAge(String name) {\n        .... return superGetAge(&quot;jack&quot;);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19933973,"reputation":104,"user_id":14607058,"display_name":"ComplexityAverse"},"score":1,"creation_date":1605052044,"post_id":64778374,"comment_id":114533763,"body_markdown":"If you look closely you will see no reference to super in this answer.","body":"If you look closely you will see no reference to super in this answer."}],"tags":[],"owner":{"account_id":19933973,"reputation":104,"user_id":14607058,"display_name":"ComplexityAverse"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1605051360,"creation_date":1605051360,"answer_id":64778374,"question_id":64778270,"body_markdown":"Youre defining a new class on-the-fly with &quot;new Callable&lt;integer&gt; {...} &quot;\r\n\r\nThat class is inherited from Object.\r\n\r\nYou could try defining the Parent getAge() as a static method and call it with\r\n\r\n    Parent.getAge(&quot;Jack&quot;);","title":"How to call a method in parent class inside of Lambda function in Java?","body":"<p>Youre defining a new class on-the-fly with &quot;new Callable {...} &quot;</p>\n<p>That class is inherited from Object.</p>\n<p>You could try defining the Parent getAge() as a static method and call it with</p>\n<pre><code>Parent.getAge(&quot;Jack&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687019214,"creation_date":1605087944,"answer_id":64784022,"question_id":64778270,"body_markdown":"Because you are using `new Callable()` that will instantiate an anonymous class as child of `Callable`, not `Parent`, so `super.getAge(&quot;jack&quot;)` is referring to a non-existant method. \r\n\r\nInstead switch to lambda definition which can reference `super.getAge(&quot;Jack&quot;)` directly:\r\n\r\n    Callable&lt;Integer&gt; call = () -&gt; super.getAge(&quot;Jack&quot;);\r\n    try {\r\n        ageFuture = executorService.submit(call);\r\n    }\r\n    // etc...\r\n\r\nor shorter:\r\n\r\n    ageFuture = executorService.submit(() -&gt; super.getAge(&quot;Jack&quot;));","title":"How to call a method in parent class inside of Lambda function in Java?","body":"<p>Because you are using <code>new Callable()</code> that will instantiate an anonymous class as child of <code>Callable</code>, not <code>Parent</code>, so <code>super.getAge(&quot;jack&quot;)</code> is referring to a non-existant method.</p>\n<p>Instead switch to lambda definition which can reference <code>super.getAge(&quot;Jack&quot;)</code> directly:</p>\n<pre><code>Callable&lt;Integer&gt; call = () -&gt; super.getAge(&quot;Jack&quot;);\ntry {\n    ageFuture = executorService.submit(call);\n}\n// etc...\n</code></pre>\n<p>or shorter:</p>\n<pre><code>ageFuture = executorService.submit(() -&gt; super.getAge(&quot;Jack&quot;));\n</code></pre>\n"}],"owner":{"account_id":16965207,"reputation":41,"user_id":12271299,"display_name":"Gaoyang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1687019214,"creation_date":1605050650,"question_id":64778270,"body_markdown":"I was trying to write the following piece of code, but the error happened on line `return super.getAge(&quot;Jack&quot;);`\r\nIt showed **&quot;The method getAge() is undefined for the type Object&quot;**. I guess the &quot;super&quot; keyword is not identified here.\r\nDoes anyone have any suggestions that how to fix this error? Thanks so much!\r\n\r\n```\r\npublic class Parent {\r\n\tpublic int getAge(String name) {\r\n       System.out.println(&quot;Get the age of the parent.&quot;);\r\n       return 40;\r\n\t}\r\n}\r\n\r\npublic class Child extends Parent {\r\n\r\n\t@Override\r\n\tpublic int getAge(String name) {\r\n\t\tFuture&lt;Integer&gt; ageFuture = null;\r\n\r\n\t\t@Qualifier(&quot;XXX&quot;)\r\n\t\tprivate ExecutorService executorService;\r\n\r\n\t\ttry {\r\n\t\t\tageFuture = executorService.submit(new Callable&lt;Integer&gt;() {\r\n\t\t\t\tpublic int call() throws Exception {\r\n\t\t\t\t\treturn super.getAge(&quot;Jack&quot;);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.error(&quot; &quot;, e);\r\n\t\t}\r\n        return 10;\r\n\t}\r\n}","title":"How to call a method in parent class inside of Lambda function in Java?","body":"<p>I was trying to write the following piece of code, but the error happened on line <code>return super.getAge(&quot;Jack&quot;);</code>\nIt showed <strong>&quot;The method getAge() is undefined for the type Object&quot;</strong>. I guess the &quot;super&quot; keyword is not identified here.\nDoes anyone have any suggestions that how to fix this error? Thanks so much!</p>\n<pre><code>public class Parent {\n    public int getAge(String name) {\n       System.out.println(&quot;Get the age of the parent.&quot;);\n       return 40;\n    }\n}\n\npublic class Child extends Parent {\n\n    @Override\n    public int getAge(String name) {\n        Future&lt;Integer&gt; ageFuture = null;\n\n        @Qualifier(&quot;XXX&quot;)\n        private ExecutorService executorService;\n\n        try {\n            ageFuture = executorService.submit(new Callable&lt;Integer&gt;() {\n                public int call() throws Exception {\n                    return super.getAge(&quot;Jack&quot;);\n                }\n            });\n        } catch (Exception e) {\n            logger.error(&quot; &quot;, e);\n        }\n        return 10;\n    }\n}\n</code></pre>\n"},{"tags":["java","list","data-structures","hashmap","java-stream"],"comments":[{"owner":{"account_id":77188,"reputation":16833,"user_id":220485,"accept_rate":90,"display_name":"Daniel Fath"},"score":2,"creation_date":1289335440,"post_id":4138364,"comment_id":4462406,"body_markdown":"What&#39;s the best optimal way? Optimization is done with certain parameter (speed/memory) in mind.","body":"What&#39;s the best optimal way? Optimization is done with certain parameter (speed/memory) in mind."},{"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"score":7,"creation_date":1289335617,"post_id":4138364,"comment_id":4462457,"body_markdown":"List differs from Map in the conceptual way -- Map have notion of &#39;key, value&#39; pair, whereas List doesn&#39;t. Given this it&#39;s unclear how exactly you going to convert from List to Map and back.","body":"List differs from Map in the conceptual way -- Map have notion of &#39;key, value&#39; pair, whereas List doesn&#39;t. Given this it&#39;s unclear how exactly you going to convert from List to Map and back."},{"owner":{"account_id":54888,"reputation":101121,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":1,"creation_date":1289335844,"post_id":4138364,"comment_id":4462526,"body_markdown":"@Daniel: By Optimal, I meant what is the best way of doing so among all different ways between am not sure of all the ways and so it would be good to see some different ways of converting list to map.","body":"@Daniel: By Optimal, I meant what is the best way of doing so among all different ways between am not sure of all the ways and so it would be good to see some different ways of converting list to map."},{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":0,"creation_date":1323941343,"post_id":4138364,"comment_id":10545972,"body_markdown":"possible duplicate of [Java: how to convert a List&lt;?&gt; to a Map&lt;String,?&gt;](http://stackoverflow.com/questions/3199657/java-how-to-convert-a-list-to-a-mapstring)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3199657/java-how-to-convert-a-list-to-a-mapstring\">Java: how to convert a List&lt;?&gt; to a Map&lt;String,?&gt;</a>"},{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1564042439,"post_id":4138364,"comment_id":100903006,"body_markdown":"Read this article: [How to Convert List to Map in Java](https://www.baeldung.com/java-list-to-map)","body":"Read this article: <a href=\"https://www.baeldung.com/java-list-to-map\" rel=\"nofollow noreferrer\">How to Convert List to Map in Java</a>"},{"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"score":0,"creation_date":1568891645,"post_id":4138364,"comment_id":102423620,"body_markdown":"Java 8 HashMap and not any map implementation : https://stackoverflow.com/a/47736750/1216775","body":"Java 8 HashMap and not any map implementation : <a href=\"https://stackoverflow.com/a/47736750/1216775\">stackoverflow.com/a/47736750/1216775</a>"}],"answers":[{"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":1,"creation_date":1289335641,"post_id":4138420,"comment_id":4462468,"body_markdown":"You could also key on the position in the list.","body":"You could also key on the position in the list."},{"owner":{"account_id":54888,"reputation":101121,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":0,"creation_date":1289335743,"post_id":4138420,"comment_id":4462497,"body_markdown":"@Jim: Do i need to set the `getKey()` to any specific parameter ?","body":"@Jim: Do i need to set the <code>getKey()</code> to any specific parameter ?"},{"owner":{"account_id":54888,"reputation":101121,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":0,"creation_date":1289335780,"post_id":4138420,"comment_id":4462513,"body_markdown":"Also what would be the value in the Map, can you elaborate with an example ?","body":"Also what would be the value in the Map, can you elaborate with an example ?"},{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":2,"creation_date":1289335939,"post_id":4138420,"comment_id":4462546,"body_markdown":"@Rachel -- The value is the item in the list, and the key is something  that makes the item unique, which is determined by you. Jim&#39;s use of `getKey()` was arbitrary.","body":"@Rachel -- The value is the item in the list, and the key is something  that makes the item unique, which is determined by you. Jim&#39;s use of <code>getKey()</code> was arbitrary."},{"owner":{"account_id":54888,"reputation":101121,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":0,"creation_date":1289336175,"post_id":4138420,"comment_id":4462598,"body_markdown":"@Jeremy: Ok. So basically I have element position in the list as the key and its value as value to populate the map, right ?","body":"@Jeremy: Ok. So basically I have element position in the list as the key and its value as value to populate the map, right ?"},{"owner":{"account_id":54888,"reputation":101121,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":0,"creation_date":1289336305,"post_id":4138420,"comment_id":4462631,"body_markdown":"What could be other ways of doing so ?","body":"What could be other ways of doing so ?"},{"owner":{"account_id":54888,"reputation":101121,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":0,"creation_date":1289336367,"post_id":4138420,"comment_id":4462645,"body_markdown":"Also, I have updated question with one approach that I have used, is this correct way of doing so ?","body":"Also, I have updated question with one approach that I have used, is this correct way of doing so ?"},{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1366041276,"post_id":4138420,"comment_id":22849138,"body_markdown":"@Rachel No, you are using the same element as the key and value for ALL the objects.  This will result in only one element being added to the list. If the list contains n elements, you will be adding the same duplicate map entry n times.","body":"@Rachel No, you are using the same element as the key and value for ALL the objects.  This will result in only one element being added to the list. If the list contains n elements, you will be adding the same duplicate map entry n times."},{"owner":{"account_id":543138,"reputation":5117,"user_id":912190,"display_name":"V&#237;ctor Romero"},"score":1,"creation_date":1370434710,"post_id":4138420,"comment_id":24456681,"body_markdown":"You know the size beforehand so you can do\n\nMap&lt;Key,Item&gt; map = new HashMap&lt;Key,Item&gt;(list.size());","body":"You know the size beforehand so you can do  Map&lt;Key,Item&gt; map = new HashMap&lt;Key,Item&gt;(list.size());"},{"owner":{"account_id":15002305,"reputation":332,"user_id":10829570,"display_name":"John Fantastico"},"score":0,"creation_date":1548433705,"post_id":4138420,"comment_id":95552579,"body_markdown":"Clean and adequate, and does not require a callback function for every item you process. By far the best response no matter what fancy stream or utility function is available.","body":"Clean and adequate, and does not require a callback function for every item you process. By far the best response no matter what fancy stream or utility function is available."}],"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":10,"down_vote_count":5,"up_vote_count":225,"is_accepted":true,"score":220,"last_activity_date":1687018734,"creation_date":1289335506,"answer_id":4138420,"question_id":4138364,"body_markdown":"    List&lt;Item&gt; list;\r\n    Map&lt;Key,Item&gt; map = new HashMap&lt;Key,Item&gt;(list.size());\r\n    for (Item i : list) map.put(i.getKey(),i);\r\n\r\nAssuming of course that each Item has a `getKey()` method that returns a key of the proper type.","title":"How to convert List to Map?","body":"<pre><code>List&lt;Item&gt; list;\nMap&lt;Key,Item&gt; map = new HashMap&lt;Key,Item&gt;(list.size());\nfor (Item i : list) map.put(i.getKey(),i);\n</code></pre>\n<p>Assuming of course that each Item has a <code>getKey()</code> method that returns a key of the proper type.</p>\n"},{"comments":[{"owner":{"account_id":54888,"reputation":101121,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"score":0,"creation_date":1289336075,"post_id":4138468,"comment_id":4462575,"body_markdown":"But we can consider List Element position as key and put their value in map, is this a good solution ?","body":"But we can consider List Element position as key and put their value in map, is this a good solution ?"},{"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"score":0,"creation_date":1289369878,"post_id":4138468,"comment_id":4467028,"body_markdown":"AFAIK yes! There is no function in the JDK that does that automatically, so you have to roll your own.","body":"AFAIK yes! There is no function in the JDK that does that automatically, so you have to roll your own."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1486228178,"post_id":4138468,"comment_id":71259377,"body_markdown":"is it possible to do the last version (using array index as map key) with java 8 streams?","body":"is it possible to do the last version (using array index as map key) with java 8 streams?"}],"tags":[],"owner":{"account_id":131478,"reputation":27678,"user_id":331515,"accept_rate":81,"display_name":"Daniel"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1289369833,"creation_date":1289335786,"answer_id":4138468,"question_id":4138364,"body_markdown":"Many solutions come to mind, depending on what you want to achive:\r\n\r\nEvery List item is key and value\r\n\r\n    for( Object o : list ) {\r\n        map.put(o,o);\r\n    }\r\n\r\n List elements have something to look them up, maybe a name:\r\n\r\n    for( MyObject o : list ) {\r\n        map.put(o.name,o);\r\n    }\r\n\r\nList elements have something to look them up, and there is no guarantee that they are unique: Use Googles [MultiMaps][1]\r\n\r\n    for( MyObject o : list ) {\r\n        multimap.put(o.name,o);\r\n    }\r\n\r\nGiving all the elements the position as a key:\r\n\r\n    for( int i=0; i&lt;list.size; i++ ) {\r\n        map.put(i,list.get(i));\r\n    }\r\n\r\n...\r\n\r\nIt really depends on what you want to achive.\r\n\r\nAs you can see from the examples, a Map is a mapping from a key to a value, while a list is just a series of elements having a position each. So they are simply not automatically convertible.\r\n\r\n\r\n  [1]: http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html","title":"How to convert List to Map?","body":"<p>Many solutions come to mind, depending on what you want to achive:</p>\n\n<p>Every List item is key and value</p>\n\n<pre><code>for( Object o : list ) {\n    map.put(o,o);\n}\n</code></pre>\n\n<p>List elements have something to look them up, maybe a name:</p>\n\n<pre><code>for( MyObject o : list ) {\n    map.put(o.name,o);\n}\n</code></pre>\n\n<p>List elements have something to look them up, and there is no guarantee that they are unique: Use Googles <a href=\"http://google-collections.googlecode.com/svn/trunk/javadoc/com/google/common/collect/Multimap.html\" rel=\"nofollow\">MultiMaps</a></p>\n\n<pre><code>for( MyObject o : list ) {\n    multimap.put(o.name,o);\n}\n</code></pre>\n\n<p>Giving all the elements the position as a key:</p>\n\n<pre><code>for( int i=0; i&lt;list.size; i++ ) {\n    map.put(i,list.get(i));\n}\n</code></pre>\n\n<p>...</p>\n\n<p>It really depends on what you want to achive.</p>\n\n<p>As you can see from the examples, a Map is a mapping from a key to a value, while a list is just a series of elements having a position each. So they are simply not automatically convertible.</p>\n"},{"tags":[],"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"comment_count":0,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1320081042,"creation_date":1289335977,"answer_id":4138506,"question_id":4138364,"body_markdown":"A `List` and `Map` are conceptually different. A `List` is an ordered collection of items. The items can contain duplicates, and an item might not have any concept of a unique identifier (key). A `Map` has values mapped to keys. Each key can only point to one value.\r\n\r\nTherefore, depending on your `List`&#39;s items, it may or may not be possible to convert it to a `Map`. Does your `List`&#39;s items have no duplicates? Does each item have a unique key? If so then it&#39;s possible to put them in a `Map`.","title":"How to convert List to Map?","body":"<p>A <code>List</code> and <code>Map</code> are conceptually different. A <code>List</code> is an ordered collection of items. The items can contain duplicates, and an item might not have any concept of a unique identifier (key). A <code>Map</code> has values mapped to keys. Each key can only point to one value.</p>\n\n<p>Therefore, depending on your <code>List</code>'s items, it may or may not be possible to convert it to a <code>Map</code>. Does your <code>List</code>'s items have no duplicates? Does each item have a unique key? If so then it's possible to put them in a <code>Map</code>.</p>\n"},{"tags":[],"owner":{"account_id":58407,"reputation":1720,"user_id":174884,"display_name":"Kango_V"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1320081081,"creation_date":1310652002,"answer_id":6694369,"question_id":4138364,"body_markdown":"Here&#39;s a little method I wrote for exactly this purpose.  It uses Validate from Apache Commons.\r\n\r\nFeel free to use it.\r\n\r\n    /**\r\n\t * Converts a &lt;code&gt;List&lt;/code&gt; to a map. One of the methods of the list is called to retrive\r\n\t * the value of the key to be used and the object itself from the list entry is used as the\r\n\t * objct. An empty &lt;code&gt;Map&lt;/code&gt; is returned upon null input.\r\n\t * Reflection is used to retrieve the key from the object instance and method name passed in.\r\n\t *\r\n\t * @param &lt;K&gt; The type of the key to be used in the map\r\n\t * @param &lt;V&gt; The type of value to be used in the map and the type of the elements in the\r\n\t *            collection\r\n\t * @param coll The collection to be converted.\r\n\t * @param keyType The class of key\r\n\t * @param valueType The class of the value\r\n\t * @param keyMethodName The method name to call on each instance in the collection to retrieve\r\n\t *            the key\r\n\t * @return A map of key to value instances\r\n\t * @throws IllegalArgumentException if any of the other paremeters are invalid.\r\n\t */\r\n\tpublic static &lt;K, V&gt; Map&lt;K, V&gt; asMap(final java.util.Collection&lt;V&gt; coll,\r\n\t\t\tfinal Class&lt;K&gt; keyType,\r\n\t\t\tfinal Class&lt;V&gt; valueType,\r\n\t\t\tfinal String keyMethodName) {\r\n\r\n\t\tfinal HashMap&lt;K, V&gt; map = new HashMap&lt;K, V&gt;();\r\n\t\tMethod method = null;\r\n\r\n\t\tif (isEmpty(coll)) return map;\r\n\t\tnotNull(keyType, Messages.getString(KEY_TYPE_NOT_NULL));\r\n\t\tnotNull(valueType, Messages.getString(VALUE_TYPE_NOT_NULL));\r\n\t\tnotEmpty(keyMethodName, Messages.getString(KEY_METHOD_NAME_NOT_NULL));\r\n\r\n\t\ttry {\r\n\t\t\t// return the Method to invoke to get the key for the map\r\n\t\t\tmethod = valueType.getMethod(keyMethodName);\r\n\t\t}\r\n\t\tcatch (final NoSuchMethodException e) {\r\n\t\t\tfinal String message =\r\n\t\t\t\tString.format(\r\n\t\t\t\t\t\tMessages.getString(METHOD_NOT_FOUND),\r\n\t\t\t\t\t\tkeyMethodName,\r\n\t\t\t\t\t\tvalueType);\r\n\t\t\te.fillInStackTrace();\r\n\t\t\tlogger.error(message, e);\r\n\t\t\tthrow new IllegalArgumentException(message, e);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tfor (final V value : coll) {\r\n\r\n\t\t\t\tObject object;\r\n\t\t\t\tobject = method.invoke(value);\r\n\t\t\t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\t\t\t\tfinal K key = (K) object;\r\n\t\t\t\tmap.put(key, value);\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (final Exception e) {\r\n\t\t\tfinal String message =\r\n\t\t\t\tString.format(\r\n\t\t\t\t\t\tMessages.getString(METHOD_CALL_FAILED),\r\n\t\t\t\t\t\tmethod,\r\n\t\t\t\t\t\tvalueType);\r\n\t\t\te.fillInStackTrace();\r\n\t\t\tlogger.error(message, e);\r\n\t\t\tthrow new IllegalArgumentException(message, e);\r\n\t\t}\r\n\t\treturn map;\r\n\t}\r\n\r\n","title":"How to convert List to Map?","body":"<p>Here's a little method I wrote for exactly this purpose.  It uses Validate from Apache Commons.</p>\n\n<p>Feel free to use it.</p>\n\n<pre><code>/**\n * Converts a &lt;code&gt;List&lt;/code&gt; to a map. One of the methods of the list is called to retrive\n * the value of the key to be used and the object itself from the list entry is used as the\n * objct. An empty &lt;code&gt;Map&lt;/code&gt; is returned upon null input.\n * Reflection is used to retrieve the key from the object instance and method name passed in.\n *\n * @param &lt;K&gt; The type of the key to be used in the map\n * @param &lt;V&gt; The type of value to be used in the map and the type of the elements in the\n *            collection\n * @param coll The collection to be converted.\n * @param keyType The class of key\n * @param valueType The class of the value\n * @param keyMethodName The method name to call on each instance in the collection to retrieve\n *            the key\n * @return A map of key to value instances\n * @throws IllegalArgumentException if any of the other paremeters are invalid.\n */\npublic static &lt;K, V&gt; Map&lt;K, V&gt; asMap(final java.util.Collection&lt;V&gt; coll,\n        final Class&lt;K&gt; keyType,\n        final Class&lt;V&gt; valueType,\n        final String keyMethodName) {\n\n    final HashMap&lt;K, V&gt; map = new HashMap&lt;K, V&gt;();\n    Method method = null;\n\n    if (isEmpty(coll)) return map;\n    notNull(keyType, Messages.getString(KEY_TYPE_NOT_NULL));\n    notNull(valueType, Messages.getString(VALUE_TYPE_NOT_NULL));\n    notEmpty(keyMethodName, Messages.getString(KEY_METHOD_NAME_NOT_NULL));\n\n    try {\n        // return the Method to invoke to get the key for the map\n        method = valueType.getMethod(keyMethodName);\n    }\n    catch (final NoSuchMethodException e) {\n        final String message =\n            String.format(\n                    Messages.getString(METHOD_NOT_FOUND),\n                    keyMethodName,\n                    valueType);\n        e.fillInStackTrace();\n        logger.error(message, e);\n        throw new IllegalArgumentException(message, e);\n    }\n    try {\n        for (final V value : coll) {\n\n            Object object;\n            object = method.invoke(value);\n            @SuppressWarnings(\"unchecked\")\n            final K key = (K) object;\n            map.put(key, value);\n        }\n    }\n    catch (final Exception e) {\n        final String message =\n            String.format(\n                    Messages.getString(METHOD_CALL_FAILED),\n                    method,\n                    valueType);\n        e.fillInStackTrace();\n        logger.error(message, e);\n        throw new IllegalArgumentException(message, e);\n    }\n    return map;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":210974,"reputation":545,"user_id":462891,"display_name":"cs94njw"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316533359,"creation_date":1316533359,"answer_id":7487913,"question_id":4138364,"body_markdown":"I like Kango_V&#39;s answer, but I think it&#39;s too complex.  I think this is simpler - maybe too simple.  If inclined, you could replace String with a Generic marker, and make it work for any Key type.\r\n\r\n\tpublic static &lt;E&gt; Map&lt;String, E&gt; convertListToMap(Collection&lt;E&gt; sourceList, ListToMapConverterInterface&lt;E&gt; converterInterface) {\r\n\t\tMap&lt;String, E&gt; newMap = new HashMap&lt;String, E&gt;();\r\n\t\tfor( E item : sourceList ) {\r\n\t\t\tnewMap.put( converterInterface.getKeyForItem( item ), item );\r\n\t\t}\r\n\t\treturn newMap;\r\n\t}\r\n\r\n\tpublic interface ListToMapConverterInterface&lt;E&gt; {\r\n\t\tpublic String getKeyForItem(E item);\r\n\t}\r\n\r\nUsed like this:\r\n\r\n\t\t\tMap&lt;String, PricingPlanAttribute&gt; pricingPlanAttributeMap = convertListToMap( pricingPlanAttributeList,\r\n\t\t\t\t\tnew ListToMapConverterInterface&lt;PricingPlanAttribute&gt;() {\r\n\r\n\t\t\t\t\t\t@Override\r\n\t\t\t\t\t\tpublic String getKeyForItem(PricingPlanAttribute item) {\r\n\t\t\t\t\t\t\treturn item.getFullName();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n","title":"How to convert List to Map?","body":"<p>I like Kango_V's answer, but I think it's too complex.  I think this is simpler - maybe too simple.  If inclined, you could replace String with a Generic marker, and make it work for any Key type.</p>\n\n<pre><code>public static &lt;E&gt; Map&lt;String, E&gt; convertListToMap(Collection&lt;E&gt; sourceList, ListToMapConverterInterface&lt;E&gt; converterInterface) {\n    Map&lt;String, E&gt; newMap = new HashMap&lt;String, E&gt;();\n    for( E item : sourceList ) {\n        newMap.put( converterInterface.getKeyForItem( item ), item );\n    }\n    return newMap;\n}\n\npublic interface ListToMapConverterInterface&lt;E&gt; {\n    public String getKeyForItem(E item);\n}\n</code></pre>\n\n<p>Used like this:</p>\n\n<pre><code>        Map&lt;String, PricingPlanAttribute&gt; pricingPlanAttributeMap = convertListToMap( pricingPlanAttributeList,\n                new ListToMapConverterInterface&lt;PricingPlanAttribute&gt;() {\n\n                    @Override\n                    public String getKeyForItem(PricingPlanAttribute item) {\n                        return item.getFullName();\n                    }\n                } );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1444056527,"post_id":8250335,"comment_id":53727786,"body_markdown":"How to use this?  What should I pass as the `converter` parameter in the method?","body":"How to use this?  What should I pass as the <code>converter</code> parameter in the method?"}],"tags":[],"owner":{"account_id":1061378,"reputation":51,"user_id":1062929,"display_name":"xxf"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1322089848,"creation_date":1322089848,"answer_id":8250335,"question_id":4138364,"body_markdown":"Universal method\r\n\r\n    public static &lt;K, V&gt; Map&lt;K, V&gt; listAsMap(Collection&lt;V&gt; sourceList, ListToMapConverter&lt;K, V&gt; converter) {\r\n        Map&lt;K, V&gt; newMap = new HashMap&lt;K, V&gt;();\r\n        for (V item : sourceList) {\r\n            newMap.put( converter.getKey(item), item );\r\n        }\r\n        return newMap;\r\n    }\r\n\r\n    public static interface ListToMapConverter&lt;K, V&gt; {\r\n        public K getKey(V item);\r\n    }\r\n","title":"How to convert List to Map?","body":"<p>Universal method</p>\n\n<pre><code>public static &lt;K, V&gt; Map&lt;K, V&gt; listAsMap(Collection&lt;V&gt; sourceList, ListToMapConverter&lt;K, V&gt; converter) {\n    Map&lt;K, V&gt; newMap = new HashMap&lt;K, V&gt;();\n    for (V item : sourceList) {\n        newMap.put( converter.getKey(item), item );\n    }\n    return newMap;\n}\n\npublic static interface ListToMapConverter&lt;K, V&gt; {\n    public K getKey(V item);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1482116,"reputation":27381,"user_id":1391249,"accept_rate":84,"display_name":"Tiny"},"score":7,"creation_date":1416842428,"post_id":8517873,"comment_id":42719267,"body_markdown":"&quot;*[Guava](https://code.google.com/p/guava-libraries/#Important_Warnings) contains a strictly compatible superset of **the old, deprecated Google Collections Library**. You should not use that library anymore.*&quot; An update might be needed.","body":"&quot;<i><a href=\"https://code.google.com/p/guava-libraries/#Important_Warnings\" rel=\"nofollow noreferrer\">Guava</a> contains a strictly compatible superset of <b>the old, deprecated Google Collections Library</b>. You should not use that library anymore.</i>&quot; An update might be needed."},{"owner":{"account_id":1676388,"reputation":4624,"user_id":1541854,"accept_rate":90,"display_name":"linuxdan"},"score":4,"creation_date":1431447524,"post_id":8517873,"comment_id":48497926,"body_markdown":"Use of an external library for such a simple operation is overkill. That or a sign of a very weak standard library.  In this case @jim-garrison&#39;s answer is perfectly reasonable. It&#39;s sad that java doesn&#39;t have helpful methods like &quot;map&quot; and &quot;reduce&quot; but not entirely necessary.","body":"Use of an external library for such a simple operation is overkill. That or a sign of a very weak standard library.  In this case @jim-garrison&#39;s answer is perfectly reasonable. It&#39;s sad that java doesn&#39;t have helpful methods like &quot;map&quot; and &quot;reduce&quot; but not entirely necessary."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":2,"creation_date":1444056077,"post_id":8517873,"comment_id":53727459,"body_markdown":"This uses Guava.  Unfortunately Guava is super slow on Android, so this solution shouldn&#39;t be used in an Android project.","body":"This uses Guava.  Unfortunately Guava is super slow on Android, so this solution shouldn&#39;t be used in an Android project."},{"owner":{"account_id":371004,"reputation":5445,"user_id":719278,"accept_rate":75,"display_name":"Junchen Liu"},"score":0,"creation_date":1497011740,"post_id":8517873,"comment_id":75912200,"body_markdown":"if the item in the list has duplicated roleNames, the above code will throws exception,","body":"if the item in the list has duplicated roleNames, the above code will throws exception,"},{"owner":{"account_id":1982406,"reputation":198,"user_id":1778675,"accept_rate":88,"display_name":"GP cyborg"},"score":1,"creation_date":1516325225,"post_id":8517873,"comment_id":83651316,"body_markdown":"This returns a ImmutableMap. Is there an alternative to this which returns a normal Mutable Map?","body":"This returns a ImmutableMap. Is there an alternative to this which returns a normal Mutable Map?"}],"tags":[],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":5,"down_vote_count":5,"up_vote_count":118,"is_accepted":false,"score":113,"last_activity_date":1323941564,"creation_date":1323941564,"answer_id":8517873,"question_id":4138364,"body_markdown":"Just in case this question isn&#39;t closed as a duplicate, [the right answer is to use Google Collections][1]:\r\n\r\n    Map&lt;String,Role&gt; mappedRoles = Maps.uniqueIndex(yourList, new Function&lt;Role,String&gt;() {\r\n      public String apply(Role from) {\r\n        return from.getName(); // or something else\r\n      }});\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3199899/11236","title":"How to convert List to Map?","body":"<p>Just in case this question isn't closed as a duplicate, <a href=\"https://stackoverflow.com/a/3199899/11236\">the right answer is to use Google Collections</a>:</p>\n\n<pre><code>Map&lt;String,Role&gt; mappedRoles = Maps.uniqueIndex(yourList, new Function&lt;Role,String&gt;() {\n  public String apply(Role from) {\n    return from.getName(); // or something else\n  }});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1574674828,"creation_date":1333405051,"answer_id":9984608,"question_id":4138364,"body_markdown":"There is also a simple way of doing this using [Maps.uniqueIndex(...)][1] from Google [tag:guava] libraries\r\n\r\n\r\n  [1]: https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Maps.html#uniqueIndex-java.lang.Iterable-com.google.common.base.Function-","title":"How to convert List to Map?","body":"<p>There is also a simple way of doing this using <a href=\"https://guava.dev/releases/snapshot-jre/api/docs/com/google/common/collect/Maps.html#uniqueIndex-java.lang.Iterable-com.google.common.base.Function-\" rel=\"nofollow noreferrer\">Maps.uniqueIndex(...)</a> from Google <a href=\"/questions/tagged/guava\" class=\"post-tag\" title=\"show questions tagged &#39;guava&#39;\" rel=\"tag\">guava</a> libraries</p>\n"},{"comments":[{"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"score":27,"creation_date":1415111064,"post_id":20887747,"comment_id":42061024,"body_markdown":"better use `Function.identity()` instead of `item -&gt; item`","body":"better use <code>Function.identity()</code> instead of <code>item -&gt; item</code>"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":2,"creation_date":1424013183,"post_id":20887747,"comment_id":45370443,"body_markdown":"@EmmanuelTouzery Well, `Function.identity()` returns `t -&gt; t;`.","body":"@EmmanuelTouzery Well, <code>Function.identity()</code> returns <code>t -&gt; t;</code>."},{"owner":{"account_id":243799,"reputation":9073,"user_id":516188,"accept_rate":94,"display_name":"Emmanuel Touzery"},"score":3,"creation_date":1424032562,"post_id":20887747,"comment_id":45376634,"body_markdown":"Sure, both work. I guess it&#39;s a matter of taste. I find Function.identity() more immediately recognizable.","body":"Sure, both work. I guess it&#39;s a matter of taste. I find Function.identity() more immediately recognizable."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1486227900,"post_id":20887747,"comment_id":71259289,"body_markdown":"OP doesnt handle any pojos, just strings and integer on whom you cannot cal `::getKey`.","body":"OP doesnt handle any pojos, just strings and integer on whom you cannot cal <code>::getKey</code>."},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1486230006,"post_id":20887747,"comment_id":71260060,"body_markdown":"@Blauhirn I know, my example is based on the custom class just below. You are free to use whatever function to generate your keys from the values .","body":"@Blauhirn I know, my example is based on the custom class just below. You are free to use whatever function to generate your keys from the values ."},{"owner":{"account_id":2101843,"reputation":181,"user_id":1869260,"display_name":"Viktor Yarmak"},"score":0,"creation_date":1504059423,"post_id":20887747,"comment_id":78860363,"body_markdown":"Using streams you will loose on performance, unless you are processing really big datasets - read comments here:  https://stackoverflow.com/questions/22658322/java-8-performance-of-streams-vs-collections \n\nAnd here you can find more general an article on this:\n\nhttps://jaxenter.com/java-performance-tutorial-how-fast-are-the-java-8-streams-118830.html","body":"Using streams you will loose on performance, unless you are processing really big datasets - read comments here:  <a href=\"https://stackoverflow.com/questions/22658322/java-8-performance-of-streams-vs-collections\" title=\"java 8 performance of streams vs collections\">stackoverflow.com/questions/22658322/&hellip;</a>   And here you can find more general an article on this:  <a href=\"https://jaxenter.com/java-performance-tutorial-how-fast-are-the-java-8-streams-118830.html\" rel=\"nofollow noreferrer\">jaxenter.com/&hellip;</a>"},{"owner":{"account_id":3460863,"reputation":97,"user_id":2898017,"display_name":"Harsh Sharma"},"score":0,"creation_date":1535105800,"post_id":20887747,"comment_id":90953632,"body_markdown":"FYI, [stream](https://developer.android.com/reference/java/util/stream/package-summary) API was added in API Level 24 in Android","body":"FYI, <a href=\"https://developer.android.com/reference/java/util/stream/package-summary\" rel=\"nofollow noreferrer\">stream</a> API was added in API Level 24 in Android"},{"owner":{"account_id":4559519,"reputation":121,"user_id":3702245,"display_name":"George Fandango"},"score":0,"creation_date":1540371116,"post_id":20887747,"comment_id":92835975,"body_markdown":"Nice one @AlexisC. this was very helpful to me :)","body":"Nice one @AlexisC. this was very helpful to me :)"}],"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"comment_count":8,"down_vote_count":0,"up_vote_count":452,"is_accepted":false,"score":452,"last_activity_date":1671702894,"creation_date":1388681901,"answer_id":20887747,"question_id":4138364,"body_markdown":"With [tag:java-8], you&#39;ll be able to do this in one line using [streams][1], and the [`Collectors`][3] class.\r\n\r\n    Map&lt;String, Item&gt; map = \r\n        list.stream().collect(Collectors.toMap(Item::getKey, item -&gt; item));\r\n\r\nShort demo:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Test{\r\n    \tpublic static void main (String [] args){\r\n    \t\tList&lt;Item&gt; list = IntStream.rangeClosed(1, 4)\r\n                                       .mapToObj(Item::new)\r\n                                       .collect(Collectors.toList()); //[Item [i=1], Item [i=2], Item [i=3], Item [i=4]]\r\n\r\n    \t\tMap&lt;String, Item&gt; map = \r\n                list.stream().collect(Collectors.toMap(Item::getKey, item -&gt; item));\r\n\r\n    \t    map.forEach((k, v) -&gt; System.out.println(k + &quot; =&gt; &quot; + v));\r\n        }\r\n    }\r\n    class Item {\r\n\r\n    \tprivate final int i;\r\n\r\n    \tpublic Item(int i){\r\n    \t\tthis.i = i;\r\n    \t}\r\n\r\n    \tpublic String getKey(){\r\n    \t    return &quot;Key-&quot;+i;\r\n    \t}\r\n\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Item [i=&quot; + i + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\nOutput:\r\n\r\n    Key-1 =&gt; Item [i=1]\r\n    Key-2 =&gt; Item [i=2]\r\n    Key-3 =&gt; Item [i=3]\r\n    Key-4 =&gt; Item [i=4]\r\n\r\nAs noted in comments, you can use `Function.identity()` instead of `item -&gt; item`, although I find `i -&gt; i` rather explicit.\r\n\r\nAnd to be complete note that you can use a binary operator if your function is not bijective. For example let&#39;s consider this `List` and the mapping function that for an int value, compute the result of it modulo 3:\r\n\r\n    List&lt;Integer&gt; intList = Arrays.asList(1, 2, 3, 4, 5, 6);\r\n    Map&lt;String, Integer&gt; map = \r\n        intList.stream().collect(toMap(i -&gt; String.valueOf(i % 3), i -&gt; i));\r\n\r\nWhen running this code, you&#39;ll get an error saying `java.lang.IllegalStateException: Duplicate key 1`. This is because 1 % 3 is the same as 4 % 3 and hence have the same key value given the key mapping function. In this case you can provide a merge operator.\r\n\r\nHere&#39;s one that sum the values; `(i1, i2) -&gt; i1 + i2;` that can be replaced with the method reference `Integer::sum`.\r\n\r\n    Map&lt;String, Integer&gt; map = \r\n        intList.stream().collect(toMap(i -&gt; String.valueOf(i % 3), \r\n                                       i -&gt; i, \r\n                                       Integer::sum));\r\n\r\nwhich now outputs:\r\n\r\n    0 =&gt; 9 (i.e 3 + 6)\r\n    1 =&gt; 5 (i.e 1 + 4)\r\n    2 =&gt; 7 (i.e 2 + 5)\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n  [2]: http://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html","title":"How to convert List to Map?","body":"<p>With <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" aria-label=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\" aria-labelledby=\"java-8-container\">java-8</a>, you'll be able to do this in one line using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\">streams</a>, and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\"><code>Collectors</code></a> class.</p>\n<pre><code>Map&lt;String, Item&gt; map = \n    list.stream().collect(Collectors.toMap(Item::getKey, item -&gt; item));\n</code></pre>\n<p>Short demo:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collectors;\n\npublic class Test{\n    public static void main (String [] args){\n        List&lt;Item&gt; list = IntStream.rangeClosed(1, 4)\n                                   .mapToObj(Item::new)\n                                   .collect(Collectors.toList()); //[Item [i=1], Item [i=2], Item [i=3], Item [i=4]]\n\n        Map&lt;String, Item&gt; map = \n            list.stream().collect(Collectors.toMap(Item::getKey, item -&gt; item));\n\n        map.forEach((k, v) -&gt; System.out.println(k + &quot; =&gt; &quot; + v));\n    }\n}\nclass Item {\n\n    private final int i;\n\n    public Item(int i){\n        this.i = i;\n    }\n\n    public String getKey(){\n        return &quot;Key-&quot;+i;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Item [i=&quot; + i + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Key-1 =&gt; Item [i=1]\nKey-2 =&gt; Item [i=2]\nKey-3 =&gt; Item [i=3]\nKey-4 =&gt; Item [i=4]\n</code></pre>\n<p>As noted in comments, you can use <code>Function.identity()</code> instead of <code>item -&gt; item</code>, although I find <code>i -&gt; i</code> rather explicit.</p>\n<p>And to be complete note that you can use a binary operator if your function is not bijective. For example let's consider this <code>List</code> and the mapping function that for an int value, compute the result of it modulo 3:</p>\n<pre><code>List&lt;Integer&gt; intList = Arrays.asList(1, 2, 3, 4, 5, 6);\nMap&lt;String, Integer&gt; map = \n    intList.stream().collect(toMap(i -&gt; String.valueOf(i % 3), i -&gt; i));\n</code></pre>\n<p>When running this code, you'll get an error saying <code>java.lang.IllegalStateException: Duplicate key 1</code>. This is because 1 % 3 is the same as 4 % 3 and hence have the same key value given the key mapping function. In this case you can provide a merge operator.</p>\n<p>Here's one that sum the values; <code>(i1, i2) -&gt; i1 + i2;</code> that can be replaced with the method reference <code>Integer::sum</code>.</p>\n<pre><code>Map&lt;String, Integer&gt; map = \n    intList.stream().collect(toMap(i -&gt; String.valueOf(i % 3), \n                                   i -&gt; i, \n                                   Integer::sum));\n</code></pre>\n<p>which now outputs:</p>\n<pre><code>0 =&gt; 9 (i.e 3 + 6)\n1 =&gt; 5 (i.e 1 + 4)\n2 =&gt; 7 (i.e 2 + 5)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":0,"creation_date":1414870824,"post_id":26594540,"comment_id":41980471,"body_markdown":"For a discussion of the type parameters of this method see [my follow-up question](http://stackoverflow.com/q/26691278).","body":"For a discussion of the type parameters of this method see <a href=\"http://stackoverflow.com/q/26691278\">my follow-up question</a>."},{"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"score":0,"creation_date":1497024687,"post_id":26594540,"comment_id":75921218,"body_markdown":"@EMM Of course, as intended and documented in the Javadoc.","body":"@EMM Of course, as intended and documented in the Javadoc."},{"owner":{"account_id":401994,"reputation":1812,"user_id":768894,"accept_rate":59,"display_name":"EMM"},"score":0,"creation_date":1497154446,"post_id":26594540,"comment_id":75955359,"body_markdown":"Yes, updated the answer for covering the case of duplicates. Please review. Thanks","body":"Yes, updated the answer for covering the case of duplicates. Please review. Thanks"}],"tags":[],"owner":{"account_id":130073,"reputation":21988,"user_id":329063,"accept_rate":75,"display_name":"glts"},"comment_count":3,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1414435239,"creation_date":1414435239,"answer_id":26594540,"question_id":4138364,"body_markdown":"Since Java 8, the [answer by @ZouZou](https://stackoverflow.com/a/20887747) using the `Collectors.toMap` collector is certainly the idiomatic way to solve this problem.\r\n\r\nAnd as this is such a common task, we can make it into a static utility.\r\n\r\nThat way the solution truly becomes a one-liner.\r\n\r\n    /**\r\n     * Returns a map where each entry is an item of {@code list} mapped by the\r\n     * key produced by applying {@code mapper} to the item.\r\n     *\r\n     * @param list the list to map\r\n     * @param mapper the function to produce the key from a list item\r\n     * @return the resulting map\r\n     * @throws IllegalStateException on duplicate key\r\n     */\r\n    public static &lt;K, T&gt; Map&lt;K, T&gt; toMapBy(List&lt;T&gt; list,\r\n            Function&lt;? super T, ? extends K&gt; mapper) {\r\n        return list.stream().collect(Collectors.toMap(mapper, Function.identity()));\r\n    }\r\n\r\nAnd here&#39;s how you would use it on a `List&lt;Student&gt;`:\r\n\r\n    Map&lt;Long, Student&gt; studentsById = toMapBy(students, Student::getId);\r\n","title":"How to convert List to Map?","body":"<p>Since Java 8, the <a href=\"https://stackoverflow.com/a/20887747\">answer by @ZouZou</a> using the <code>Collectors.toMap</code> collector is certainly the idiomatic way to solve this problem.</p>\n\n<p>And as this is such a common task, we can make it into a static utility.</p>\n\n<p>That way the solution truly becomes a one-liner.</p>\n\n<pre><code>/**\n * Returns a map where each entry is an item of {@code list} mapped by the\n * key produced by applying {@code mapper} to the item.\n *\n * @param list the list to map\n * @param mapper the function to produce the key from a list item\n * @return the resulting map\n * @throws IllegalStateException on duplicate key\n */\npublic static &lt;K, T&gt; Map&lt;K, T&gt; toMapBy(List&lt;T&gt; list,\n        Function&lt;? super T, ? extends K&gt; mapper) {\n    return list.stream().collect(Collectors.toMap(mapper, Function.identity()));\n}\n</code></pre>\n\n<p>And here's how you would use it on a <code>List&lt;Student&gt;</code>:</p>\n\n<pre><code>Map&lt;Long, Student&gt; studentsById = toMapBy(students, Student::getId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1626140,"reputation":439,"user_id":1501670,"display_name":"Vitaliy Oliynyk"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1431702025,"creation_date":1431702025,"answer_id":30262772,"question_id":4138364,"body_markdown":"Without java-8, you&#39;ll be able to do this in one line Commons collections, and the Closure class\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    List&lt;Item&gt; list;\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    Map&lt;Key, Item&gt; map  = new HashMap&lt;Key, Item&gt;&gt;(){{\r\n\t    CollectionUtils.forAllDo(list, new Closure() {\r\n\t\t    @Override\r\n\t\t    public void execute(Object input) {\r\n\t\t\t    Item item = (Item) input;\r\n\t\t\t    put(i.getKey(), item);\r\n\t\t    }\r\n\t    });\r\n    }};\r\n","title":"How to convert List to Map?","body":"<p>Without java-8, you'll be able to do this in one line Commons collections, and the Closure class</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Item&gt; list;\n@SuppressWarnings(\"unchecked\")\nMap&lt;Key, Item&gt; map  = new HashMap&lt;Key, Item&gt;&gt;(){{\n    CollectionUtils.forAllDo(list, new Closure() {\n        @Override\n        public void execute(Object input) {\n            Item item = (Item) input;\n            put(i.getKey(), item);\n        }\n    });\n}};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7160547,"reputation":57,"user_id":5471437,"display_name":"Doss"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495759323,"creation_date":1495705807,"answer_id":44177409,"question_id":4138364,"body_markdown":"A Java 8 example to convert a `List&lt;?&gt;` of objects into a `Map&lt;k, v&gt;`:\r\n\r\n    List&lt;Hosting&gt; list = new ArrayList&lt;&gt;();\r\n\tlist.add(new Hosting(1, &quot;liquidweb.com&quot;, new Date()));\r\n\tlist.add(new Hosting(2, &quot;linode.com&quot;, new Date()));\r\n\tlist.add(new Hosting(3, &quot;digitalocean.com&quot;, new Date()));\r\n\r\n\t//example 1\r\n\tMap&lt;Integer, String&gt; result1 = list.stream().collect(\r\n\t\tCollectors.toMap(Hosting::getId, Hosting::getName));\r\n\r\n\tSystem.out.println(&quot;Result 1 : &quot; + result1);\r\n\r\n\t//example 2\r\n\tMap&lt;Integer, String&gt; result2 = list.stream().collect(\r\n\t\tCollectors.toMap(x -&gt; x.getId(), x -&gt; x.getName()));\r\n\r\nCode copied from:  \r\nhttps://www.mkyong.com/java8/java-8-convert-list-to-map/","title":"How to convert List to Map?","body":"<p>A Java 8 example to convert a <code>List&lt;?&gt;</code> of objects into a <code>Map&lt;k, v&gt;</code>:</p>\n\n<pre><code>List&lt;Hosting&gt; list = new ArrayList&lt;&gt;();\nlist.add(new Hosting(1, \"liquidweb.com\", new Date()));\nlist.add(new Hosting(2, \"linode.com\", new Date()));\nlist.add(new Hosting(3, \"digitalocean.com\", new Date()));\n\n//example 1\nMap&lt;Integer, String&gt; result1 = list.stream().collect(\n    Collectors.toMap(Hosting::getId, Hosting::getName));\n\nSystem.out.println(\"Result 1 : \" + result1);\n\n//example 2\nMap&lt;Integer, String&gt; result2 = list.stream().collect(\n    Collectors.toMap(x -&gt; x.getId(), x -&gt; x.getName()));\n</code></pre>\n\n<p>Code copied from:<br>\n<a href=\"https://www.mkyong.com/java8/java-8-convert-list-to-map/\" rel=\"nofollow noreferrer\">https://www.mkyong.com/java8/java-8-convert-list-to-map/</a></p>\n"},{"tags":[],"owner":{"account_id":401994,"reputation":1812,"user_id":768894,"accept_rate":59,"display_name":"EMM"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1496982828,"creation_date":1496982828,"answer_id":44449368,"question_id":4138364,"body_markdown":"You can leverage the streams API of Java 8.\r\n\r\n    public class ListToMap {\r\n     \r\n      public static void main(String[] args) {\r\n        List&lt;User&gt; items = Arrays.asList(new User(&quot;One&quot;), new User(&quot;Two&quot;), new User(&quot;Three&quot;));\r\n        \r\n        Map&lt;String, User&gt; map = createHashMap(items);\r\n        for(String key : map.keySet()) {\r\n          System.out.println(key +&quot; : &quot;+map.get(key));\r\n        }\r\n      }\r\n      \r\n      public static Map&lt;String, User&gt; createHashMap(List&lt;User&gt; items) {\r\n        Map&lt;String, User&gt; map = items.stream().collect(Collectors.toMap(User::getId, Function.identity()));\r\n        return map;\r\n      }\r\n    }\r\n\r\nFor more details visit: http://codecramp.com/java-8-streams-api-convert-list-map/","title":"How to convert List to Map?","body":"<p>You can leverage the streams API of Java 8.</p>\n\n<pre><code>public class ListToMap {\n\n  public static void main(String[] args) {\n    List&lt;User&gt; items = Arrays.asList(new User(\"One\"), new User(\"Two\"), new User(\"Three\"));\n\n    Map&lt;String, User&gt; map = createHashMap(items);\n    for(String key : map.keySet()) {\n      System.out.println(key +\" : \"+map.get(key));\n    }\n  }\n\n  public static Map&lt;String, User&gt; createHashMap(List&lt;User&gt; items) {\n    Map&lt;String, User&gt; map = items.stream().collect(Collectors.toMap(User::getId, Function.identity()));\n    return map;\n  }\n}\n</code></pre>\n\n<p>For more details visit: <a href=\"http://codecramp.com/java-8-streams-api-convert-list-map/\" rel=\"nofollow noreferrer\">http://codecramp.com/java-8-streams-api-convert-list-map/</a></p>\n"},{"comments":[{"owner":{"account_id":6124082,"reputation":2803,"user_id":4776689,"accept_rate":61,"display_name":"P_M"},"score":1,"creation_date":1566414078,"post_id":47736750,"comment_id":101652602,"body_markdown":"The funny fact that in 2019 huge amount of people still not realize that they are not know real Map implementation they get with lambda! Actually this is just one answer I found with Java 8 lambdas I would use on production.","body":"The funny fact that in 2019 huge amount of people still not realize that they are not know real Map implementation they get with lambda! Actually this is just one answer I found with Java 8 lambdas I would use on production."},{"owner":{"account_id":2481346,"reputation":3567,"user_id":2160765,"display_name":"Rosberg Linhares"},"score":0,"creation_date":1574912827,"post_id":47736750,"comment_id":104399568,"body_markdown":"Is there a way to collect by specifying a Map type but without using a merge function?","body":"Is there a way to collect by specifying a Map type but without using a merge function?"}],"tags":[],"owner":{"account_id":1257650,"reputation":23489,"user_id":1216775,"accept_rate":54,"display_name":"akhil_mittal"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1512890537,"creation_date":1512890537,"answer_id":47736750,"question_id":4138364,"body_markdown":"Alexis has already posted an answer in **Java 8** using method `toMap(keyMapper, valueMapper)`. As per [doc][1] for this method implementation:\r\n\r\n&gt; There are no guarantees on the type, mutability, serializability, or\r\n&gt; thread-safety of the Map returned.\r\n\r\nSo in case we are interested in a specific implementation of `Map` interface e.g. `HashMap` then we can use the overloaded form as:\r\n\r\n    Map&lt;String, Item&gt; map2 =\r\n                    itemList.stream().collect(Collectors.toMap(Item::getKey, //key for map\r\n                            Function.identity(),    // value for map\r\n                            (o,n) -&gt; o,             // merge function in case of conflict with keys\r\n                            HashMap::new));         // map factory - we want HashMap and not any Map implementation\r\n\r\nThough using either `Function.identity()` or `i-&gt;i` is fine but it seems `Function.identity()` instead of `i -&gt; i` might save some memory as per this related [answer][2].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\r\n  [2]: https://stackoverflow.com/a/28041480/1216775","title":"How to convert List to Map?","body":"<p>Alexis has already posted an answer in <strong>Java 8</strong> using method <code>toMap(keyMapper, valueMapper)</code>. As per <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Collectors.html#toMap-java.util.function.Function-java.util.function.Function-\" rel=\"noreferrer\">doc</a> for this method implementation:</p>\n\n<blockquote>\n  <p>There are no guarantees on the type, mutability, serializability, or\n  thread-safety of the Map returned.</p>\n</blockquote>\n\n<p>So in case we are interested in a specific implementation of <code>Map</code> interface e.g. <code>HashMap</code> then we can use the overloaded form as:</p>\n\n<pre><code>Map&lt;String, Item&gt; map2 =\n                itemList.stream().collect(Collectors.toMap(Item::getKey, //key for map\n                        Function.identity(),    // value for map\n                        (o,n) -&gt; o,             // merge function in case of conflict with keys\n                        HashMap::new));         // map factory - we want HashMap and not any Map implementation\n</code></pre>\n\n<p>Though using either <code>Function.identity()</code> or <code>i-&gt;i</code> is fine but it seems <code>Function.identity()</code> instead of <code>i -&gt; i</code> might save some memory as per this related <a href=\"https://stackoverflow.com/a/28041480/1216775\">answer</a>.</p>\n"},{"tags":[],"owner":{"account_id":4028182,"reputation":1548,"user_id":3315482,"accept_rate":75,"display_name":"stackFan"},"comment_count":0,"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1610473518,"creation_date":1519934210,"answer_id":49057708,"question_id":4138364,"body_markdown":"Short and sweet. \r\n\r\nUsing Java 8 you can do following : \r\n\r\n    Map&lt;Key, Value&gt; result= results\r\n                           .stream()\r\n                           .collect(Collectors.toMap(Value::getName,Function.identity()));\r\n`Value` can be any object you use.","title":"How to convert List to Map?","body":"<p>Short and sweet.</p>\n<p>Using Java 8 you can do following :</p>\n<pre><code>Map&lt;Key, Value&gt; result= results\n                       .stream()\n                       .collect(Collectors.toMap(Value::getName,Function.identity()));\n</code></pre>\n<p><code>Value</code> can be any object you use.</p>\n"},{"tags":[],"owner":{"account_id":5275920,"reputation":1627,"user_id":4212710,"display_name":"typoerrpr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522118785,"creation_date":1522118785,"answer_id":49503601,"question_id":4138364,"body_markdown":"## Apache Commons MapUtils.populateMap\n\nIf you don&#39;t use Java 8 and you don&#39;t want to use a explicit loop for some reason, try `MapUtils.populateMap` from Apache Commons. \n\n[MapUtils.populateMap][1]\n\nSay you have a list of `Pair`s.\n\n    List&lt;ImmutablePair&lt;String, String&gt;&gt; pairs = ImmutableList.of(\n        new ImmutablePair&lt;&gt;(&quot;A&quot;, &quot;aaa&quot;),\n        new ImmutablePair&lt;&gt;(&quot;B&quot;, &quot;bbb&quot;)\n    );\n\nAnd you now want a Map of the `Pair`&#39;s key to the `Pair` object.\n\n    Map&lt;String, Pair&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\n    MapUtils.populateMap(map, pairs, new Transformer&lt;Pair&lt;String, String&gt;, String&gt;() {\n\n      @Override\n      public String transform(Pair&lt;String, String&gt; input) {\n        return input.getKey();\n      }\n    });\n\n    System.out.println(map);\n\ngives output:\n\n    {A=(A,aaa), B=(B,bbb)}\n\nThat being said, a `for` loop is maybe easier to understand. (This below gives the same output):\n\n    Map&lt;String, Pair&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\n    for (Pair&lt;String, String&gt; pair : pairs) {\n      map.put(pair.getKey(), pair);\n    }\n    System.out.println(map);\n\n  [1]: https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MapUtils.html#populateMap(java.util.Map,%20java.lang.Iterable,%20org.apache.commons.collections4.Transformer)","title":"How to convert List to Map?","body":"<h2>Apache Commons MapUtils.populateMap</h2>\n<p>If you don't use Java 8 and you don't want to use a explicit loop for some reason, try <code>MapUtils.populateMap</code> from Apache Commons.</p>\n<p><a href=\"https://commons.apache.org/proper/commons-collections/apidocs/org/apache/commons/collections4/MapUtils.html#populateMap(java.util.Map,%20java.lang.Iterable,%20org.apache.commons.collections4.Transformer)\" rel=\"nofollow noreferrer\">MapUtils.populateMap</a></p>\n<p>Say you have a list of <code>Pair</code>s.</p>\n<pre><code>List&lt;ImmutablePair&lt;String, String&gt;&gt; pairs = ImmutableList.of(\n    new ImmutablePair&lt;&gt;(&quot;A&quot;, &quot;aaa&quot;),\n    new ImmutablePair&lt;&gt;(&quot;B&quot;, &quot;bbb&quot;)\n);\n</code></pre>\n<p>And you now want a Map of the <code>Pair</code>'s key to the <code>Pair</code> object.</p>\n<pre><code>Map&lt;String, Pair&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\nMapUtils.populateMap(map, pairs, new Transformer&lt;Pair&lt;String, String&gt;, String&gt;() {\n\n  @Override\n  public String transform(Pair&lt;String, String&gt; input) {\n    return input.getKey();\n  }\n});\n\nSystem.out.println(map);\n</code></pre>\n<p>gives output:</p>\n<pre><code>{A=(A,aaa), B=(B,bbb)}\n</code></pre>\n<p>That being said, a <code>for</code> loop is maybe easier to understand. (This below gives the same output):</p>\n<pre><code>Map&lt;String, Pair&lt;String, String&gt;&gt; map = new HashMap&lt;&gt;();\nfor (Pair&lt;String, String&gt; pair : pairs) {\n  map.put(pair.getKey(), pair);\n}\nSystem.out.println(map);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":100974,"reputation":947,"user_id":271889,"accept_rate":11,"display_name":"Andrea Scarafoni"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1547482900,"creation_date":1547482900,"answer_id":54185337,"question_id":4138364,"body_markdown":"like already said, in java-8 we have the concise solution by Collectors:\r\n\r\n      list.stream().collect(\r\n             groupingBy(Item::getKey)\r\n            )\r\n\r\nand also, you can nest multiple group passing an other groupingBy method as second parameter:\r\n\r\n      list.stream().collect(\r\n             groupingBy(Item::getKey, groupingBy(Item::getOtherKey))\r\n            )\r\nIn this way, we&#39;ll have multi level map, like this: `Map&lt;key, Map&lt;key, List&lt;Item&gt;&gt;&gt;`\r\n","title":"How to convert List to Map?","body":"<p>like already said, in java-8 we have the concise solution by Collectors:</p>\n\n<pre><code>  list.stream().collect(\n         groupingBy(Item::getKey)\n        )\n</code></pre>\n\n<p>and also, you can nest multiple group passing an other groupingBy method as second parameter:</p>\n\n<pre><code>  list.stream().collect(\n         groupingBy(Item::getKey, groupingBy(Item::getOtherKey))\n        )\n</code></pre>\n\n<p>In this way, we'll have multi level map, like this: <code>Map&lt;key, Map&lt;key, List&lt;Item&gt;&gt;&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1620113802,"creation_date":1579349356,"answer_id":59800445,"question_id":4138364,"body_markdown":"Using java-8 streams\r\n```java\r\nMap&lt;Integer, String&gt; map = results.stream().collect(Collectors.toMap(e -&gt; ((Integer) e[0]), e -&gt; (String) e[1]));\r\n```","title":"How to convert List to Map?","body":"<p>Using java-8 streams</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, String&gt; map = results.stream().collect(Collectors.toMap(e -&gt; ((Integer) e[0]), e -&gt; (String) e[1]));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4456117,"reputation":3177,"user_id":3626353,"accept_rate":100,"display_name":"MeLean"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662377966,"creation_date":1662377966,"answer_id":73608797,"question_id":4138364,"body_markdown":"If you use Kotlin, there is an example:\r\n\r\n    listOf(&quot;one&quot;, &quot;two&quot;).mapIndexed { i, it -&gt; i to it }.toMap()","title":"How to convert List to Map?","body":"<p>If you use Kotlin, there is an example:</p>\n<pre><code>listOf(&quot;one&quot;, &quot;two&quot;).mapIndexed { i, it -&gt; i to it }.toMap()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26585243,"reputation":11,"user_id":20209258,"display_name":"Vinay Tej Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1665850190,"creation_date":1665471276,"answer_id":74024099,"question_id":4138364,"body_markdown":"```lang-java\r\npublic class EmployeeDetailsFetchListToMap {\r\n  public static void main(String[] args) {\r\n    List&lt;EmployeeDetailsFetch&gt; list = new ArrayList&lt;&gt;();\r\n    list.add(new EmployeeDetailsFetch(1L, &quot;vinay&quot;, 25000F));\r\n    list.add(new EmployeeDetailsFetch(2L, &quot;kohli&quot;, 5000000F));\r\n    list.add(new EmployeeDetailsFetch(3L, &quot;dhoni&quot;, 20000000F));\r\n\r\n    //adding id as key and map of id and student name\r\n    Map&lt;Long, Map&lt;Long, String&gt;&gt; map1 = list.stream()\r\n        .collect(\r\n            Collectors.groupingBy(\r\n                EmployeeDetailsFetch::getEmpId,\r\n                Collectors.toMap(\r\n                    EmployeeDetailsFetch::getEmpId,\r\n                    EmployeeDetailsFetch::getEmployeeName\r\n                )\r\n            )\r\n        );\r\n    System.out.println(map1);\r\n\r\n    //converting list into map of Student\r\n    //Adding id as Key and Value as Student into a map\r\n    Map&lt;Long, EmployeeDetailsFetch&gt; map = list.stream()\r\n        .collect(\r\n            Collectors.toMap(\r\n                EmployeeDetailsFetch::getEmpId, \r\n                EmployeeDetailsFetch -&gt; EmployeeDetailsFetch\r\n            )\r\n        );\r\n\r\n    for(Map.Entry&lt;Long, EmployeeDetailsFetch&gt; m : map.entrySet()) {\r\n      System.out.println(&quot;key :&quot; + m.getKey() + &quot;  Value : &quot; + m.getValue());\r\n    }\r\n  }\r\n}\r\n```","title":"How to convert List to Map?","body":"<pre class=\"lang-java prettyprint-override\"><code>public class EmployeeDetailsFetchListToMap {\n  public static void main(String[] args) {\n    List&lt;EmployeeDetailsFetch&gt; list = new ArrayList&lt;&gt;();\n    list.add(new EmployeeDetailsFetch(1L, &quot;vinay&quot;, 25000F));\n    list.add(new EmployeeDetailsFetch(2L, &quot;kohli&quot;, 5000000F));\n    list.add(new EmployeeDetailsFetch(3L, &quot;dhoni&quot;, 20000000F));\n\n    //adding id as key and map of id and student name\n    Map&lt;Long, Map&lt;Long, String&gt;&gt; map1 = list.stream()\n        .collect(\n            Collectors.groupingBy(\n                EmployeeDetailsFetch::getEmpId,\n                Collectors.toMap(\n                    EmployeeDetailsFetch::getEmpId,\n                    EmployeeDetailsFetch::getEmployeeName\n                )\n            )\n        );\n    System.out.println(map1);\n\n    //converting list into map of Student\n    //Adding id as Key and Value as Student into a map\n    Map&lt;Long, EmployeeDetailsFetch&gt; map = list.stream()\n        .collect(\n            Collectors.toMap(\n                EmployeeDetailsFetch::getEmpId, \n                EmployeeDetailsFetch -&gt; EmployeeDetailsFetch\n            )\n        );\n\n    for(Map.Entry&lt;Long, EmployeeDetailsFetch&gt; m : map.entrySet()) {\n      System.out.println(&quot;key :&quot; + m.getKey() + &quot;  Value : &quot; + m.getValue());\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":54888,"reputation":101121,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":611384,"favorite_count":0,"down_vote_count":1,"up_vote_count":294,"accepted_answer_id":4138420,"answer_count":20,"score":293,"last_activity_date":1687018734,"creation_date":1289335172,"question_id":4138364,"body_markdown":"Recently I have conversation with a colleague about what would be the optimal way to convert `List` to `Map` in Java and if there any specific benefits of doing so.\r\n\r\nI want to know optimal conversion approach and would really appreciate if any one can guide me. \r\n\r\nIs this good approach:\r\n\r\n    List&lt;Object[]&gt; results;\r\n\tMap&lt;Integer, String&gt; resultsMap = new HashMap&lt;Integer, String&gt;();\r\n\tfor (Object[] o : results) {\r\n\t    resultsMap.put((Integer) o[0], (String) o[1]);\r\n\t}\r\n","title":"How to convert List to Map?","body":"<p>Recently I have conversation with a colleague about what would be the optimal way to convert <code>List</code> to <code>Map</code> in Java and if there any specific benefits of doing so.</p>\n<p>I want to know optimal conversion approach and would really appreciate if any one can guide me.</p>\n<p>Is this good approach:</p>\n<pre><code>List&lt;Object[]&gt; results;\nMap&lt;Integer, String&gt; resultsMap = new HashMap&lt;Integer, String&gt;();\nfor (Object[] o : results) {\n    resultsMap.put((Integer) o[0], (String) o[1]);\n}\n</code></pre>\n"},{"tags":["java","spring-boot","build.gradle"],"comments":[{"owner":{"account_id":13364004,"reputation":1211,"user_id":11034353,"display_name":"L_Cleo"},"score":0,"creation_date":1687098017,"post_id":76496312,"comment_id":134886502,"body_markdown":"Please remove unnecessary speech like &quot;please I\\ve been searching for days&quot; or &quot;hopefully I&#39;ll get the answer from a master&quot;","body":"Please remove unnecessary speech like &quot;please I\\ve been searching for days&quot; or &quot;hopefully I&#39;ll get the answer from a master&quot;"}],"owner":{"account_id":28839755,"reputation":1,"user_id":22088296,"display_name":"Dũng V&#224; Sự C&#244; Đơn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687018709,"creation_date":1687007129,"question_id":76496312,"body_markdown":"Hi everyone i am having some Spring boot related problem for last 2 days but i have not found a solution to it i tried to use QueryDSL it spawned Q classes respectively, then I try to run my project again but it says missing Classes in my model or entity, if anyone has the same problem and solved it please help me, I&#39;m a newbie so many unknown questions, hopefully I will get the best answer from some master soon.\r\n\r\nand here is what i tried.\r\n\r\n\r\nThis is when i deleted the QueryDSL related stuff and everything worked fine.\r\n[enter image description here](https://i.stack.imgur.com/Q29OI.png)\r\n\r\nand this is after I used QueryDSL, it still generated the QClass exactly as I wanted, and I ran my project again and it said missing files in the model even though I had it.\r\n[enter image description here](https://i.stack.imgur.com/2ZdvL.png)\r\n\r\n\r\nEveryone if anyone has the answer, or need to see anything from my source code just let me know, I am always willing to provide the code related to this for the best help, again I&#39;m a newbie, so please don&#39;t be harsh with me.\r\n\r\nA big thank you to everyone who came across here and read this post from me. Thank you very much.\r\n\r\nI&#39;ve been searching how to fix it for 2 days specifically 27 hours without sleep, but haven&#39;t found a way to fix it.\r\n\r\nhelp me","title":"some minor bugs related to Spring boot build grandle - QueryDSL that I haven&#39;t been able to solve for the past two days","body":"<p>Hi everyone i am having some Spring boot related problem for last 2 days but i have not found a solution to it i tried to use QueryDSL it spawned Q classes respectively, then I try to run my project again but it says missing Classes in my model or entity, if anyone has the same problem and solved it please help me, I'm a newbie so many unknown questions, hopefully I will get the best answer from some master soon.</p>\n<p>and here is what i tried.</p>\n<p>This is when i deleted the QueryDSL related stuff and everything worked fine.\n<a href=\"https://i.stack.imgur.com/Q29OI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>and this is after I used QueryDSL, it still generated the QClass exactly as I wanted, and I ran my project again and it said missing files in the model even though I had it.\n<a href=\"https://i.stack.imgur.com/2ZdvL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Everyone if anyone has the answer, or need to see anything from my source code just let me know, I am always willing to provide the code related to this for the best help, again I'm a newbie, so please don't be harsh with me.</p>\n<p>A big thank you to everyone who came across here and read this post from me. Thank you very much.</p>\n<p>I've been searching how to fix it for 2 days specifically 27 hours without sleep, but haven't found a way to fix it.</p>\n<p>help me</p>\n"},{"tags":["java","android","webview"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1687019074,"post_id":76497087,"comment_id":134880078,"body_markdown":"Does this answer your question? [Running WebView in Background](https://stackoverflow.com/questions/23674635/running-webview-in-background)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/23674635/running-webview-in-background\">Running WebView in Background</a>"},{"owner":{"account_id":1663271,"reputation":1003,"user_id":1531159,"accept_rate":53,"display_name":"John Doe"},"score":0,"creation_date":1687022243,"post_id":76497087,"comment_id":134880417,"body_markdown":"@MorrisonChang unfortunately not. Provided answers are not sufficient enough to aid me in solving the JavaScript problem.","body":"@MorrisonChang unfortunately not. Provided answers are not sufficient enough to aid me in solving the JavaScript problem."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1687040759,"post_id":76497087,"comment_id":134882230,"body_markdown":"I was thinking of [this answer](https://stackoverflow.com/a/68354848/295004) and the linked article therein, although the [SYSTEM_ALERT_WINDOW](https://developer.android.com/about/versions/11/privacy/permissions#system-alert) permission may have additional steps/restrictions. Do realize that [Android&#39;s Doze mode](https://developer.android.com/training/monitoring-device-state/doze-standby) will suspend your app, WebView included. So how you are testing is a factor as well.","body":"I was thinking of <a href=\"https://stackoverflow.com/a/68354848/295004\">this answer</a> and the linked article therein, although the <a href=\"https://developer.android.com/about/versions/11/privacy/permissions#system-alert\" rel=\"nofollow noreferrer\">SYSTEM_ALERT_WINDOW</a> permission may have additional steps/restrictions. Do realize that <a href=\"https://developer.android.com/training/monitoring-device-state/doze-standby\" rel=\"nofollow noreferrer\">Android&#39;s Doze mode</a> will suspend your app, WebView included. So how you are testing is a factor as well."},{"owner":{"account_id":1602625,"reputation":2339,"user_id":1483390,"accept_rate":52,"display_name":"Luis A. Florit"},"score":0,"creation_date":1689211989,"post_id":76497087,"comment_id":135182539,"body_markdown":"I have the exact same issue. I tried to call `myMainActivity.myWebView.loadUrl(...)` from a background sticky notification service without luck.","body":"I have the exact same issue. I tried to call <code>myMainActivity.myWebView.loadUrl(...)</code> from a background sticky notification service without luck."},{"owner":{"account_id":431160,"reputation":8872,"user_id":1366302,"display_name":"cdesrosiers"},"score":0,"creation_date":1700920439,"post_id":76497087,"comment_id":136712504,"body_markdown":"I&#39;m having a similar issue. Have you resolved yet?","body":"I&#39;m having a similar issue. Have you resolved yet?"}],"owner":{"account_id":1663271,"reputation":1003,"user_id":1531159,"accept_rate":53,"display_name":"John Doe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1687018635,"creation_date":1687018635,"question_id":76497087,"body_markdown":"The following code loads a URL into my WebView and executes JavaScript every 5 seconds.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    WebView myWebView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState)\r\n    {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        myWebView = (WebView) findViewById(R.id.webView);\r\n        myWebView.setWebViewClient(new WebViewClient());\r\n        WebSettings webSettings = myWebView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n\r\n            Thread thread = new Thread(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    while(true) {\r\n                        try {\r\n                            Thread.sleep(5000);\r\n                            myWebView.post(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    myWebView.loadUrl(&quot;URL&quot;);\r\n                                }\r\n                            });\r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            thread.start();\r\n        }\r\n    }\r\n\r\nWhen the app is put into background (and even the display is off) the WebView keeps loading the URL indefinitely however after 5 minutes JavaScript execution stops.\r\n\r\nI have tested this behavior by logging each GET request on the server and having JavaScript on the website make a GET request that gets logged separately.\r\n\r\nTurning off the battery optimization for the app itself and the System WebView does not work in solving this issue.\r\n\r\nCan a WebView keep executing JavaScript indefinitely?","title":"Android WebView stops JavaScript execution after 5 minutes when app in the background","body":"<p>The following code loads a URL into my WebView and executes JavaScript every 5 seconds.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nWebView myWebView;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState)\n{\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    myWebView = (WebView) findViewById(R.id.webView);\n    myWebView.setWebViewClient(new WebViewClient());\n    WebSettings webSettings = myWebView.getSettings();\n    webSettings.setJavaScriptEnabled(true);\n\n        Thread thread = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                while(true) {\n                    try {\n                        Thread.sleep(5000);\n                        myWebView.post(new Runnable() {\n                            @Override\n                            public void run() {\n                                myWebView.loadUrl(&quot;URL&quot;);\n                            }\n                        });\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        });\n        thread.start();\n    }\n}\n</code></pre>\n<p>When the app is put into background (and even the display is off) the WebView keeps loading the URL indefinitely however after 5 minutes JavaScript execution stops.</p>\n<p>I have tested this behavior by logging each GET request on the server and having JavaScript on the website make a GET request that gets logged separately.</p>\n<p>Turning off the battery optimization for the app itself and the System WebView does not work in solving this issue.</p>\n<p>Can a WebView keep executing JavaScript indefinitely?</p>\n"},{"tags":["java","postgresql","tomcat","path","context.xml"],"answers":[{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687018168,"creation_date":1687018168,"answer_id":76497048,"question_id":76470366,"body_markdown":"In [Postgres Documentation][1] The below is mentioned\r\n\r\n&gt; The location of the client certificate, the PKCS-8 client key and root\r\n&gt; certificate can be overridden with the sslcert , sslkey , and\r\n&gt; sslrootcert settings respectively. These default to\r\n&gt; /defaultdir/postgresql.crt, /defaultdir/postgresql.pk8, and\r\n&gt; /defaultdir/root.crt respectively where defaultdir is\r\n&gt; ${user.home}/.postgresql/ in *nix systems and %appdata%/postgresql/ on\r\n&gt; windows.\r\n\r\nYou could try keeping the SSL root certificate in the default path and exclude the &#39;sslrootcert&#39; parameter from the JDBC URL and check\r\n\r\n\r\n  [1]: https://jdbc.postgresql.org/documentation/ssl/","title":"How to specify a relative file location in Tomcat application&#39;s context.xml file and specifically in a resource element?","body":"<p>In <a href=\"https://jdbc.postgresql.org/documentation/ssl/\" rel=\"nofollow noreferrer\">Postgres Documentation</a> The below is mentioned</p>\n<blockquote>\n<p>The location of the client certificate, the PKCS-8 client key and root\ncertificate can be overridden with the sslcert , sslkey , and\nsslrootcert settings respectively. These default to\n/defaultdir/postgresql.crt, /defaultdir/postgresql.pk8, and\n/defaultdir/root.crt respectively where defaultdir is\n${user.home}/.postgresql/ in *nix systems and %appdata%/postgresql/ on\nwindows.</p>\n</blockquote>\n<p>You could try keeping the SSL root certificate in the default path and exclude the 'sslrootcert' parameter from the JDBC URL and check</p>\n"}],"owner":{"account_id":5759587,"reputation":97,"user_id":4546415,"display_name":"godeatgod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687018168,"creation_date":1686720587,"question_id":76470366,"body_markdown":"I have the following resource definition (datasource) in my Tomcat 10 web application&#39;s context.xml file:\r\n\r\n    &lt;Resource name=&quot;jdbc/postgresql&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; username=&quot;dba&quot; password=&quot;secret&quot; driverClassName=&quot;org.postgresql.Driver&quot; url=&quot;jdbc:postgresql://address:port/\r\n    ?sslmode=verify-full&amp;amp;sslrootcert=/usr/local/tomcat/webapps/myApp/META-INF/root.crt&quot; maxTotal=&quot;100&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot;/&gt;\r\n\r\nThe sslrootcert parameter in the jdbc url identifies the location of the root certificate file (which I placed in the META-INF directory).\r\n\r\nThe above context.xml and resource definition work perfectly in my development environment that I control; however, I will be moving the app to a hosted production server where I do not know the directory that tomcat is installed in. So I need a way to dynamically or relatively identify the location of the root.crt file relative to my WAR file.\r\n\r\nThe following do NOT work, but I&#39;m providing here in case it provides clarity on what I&#39;m trying to achieve:\r\n\r\n - sslrootcert=${this.getServletConfig().getServletContext().getRealPath(&quot;&quot;)}/root.crt\r\n   \r\n - sslrootcert=${catalina.home}/myApp/META-INF/root.crt\r\n\r\nThe documentation says the path must start with a &quot;/&quot; so I don&#39;t know if the environment variable is even reading, and catalina.home variable is not a preferred solution as it limits me to this type of web app server.\r\n\r\nIn short, I&#39;m looking for what gets filled in the blank below to allow me to reference the root.crt file in a relative way to my WAR file:  \r\nsslrootcert=_________________/root.crt\r\n","title":"How to specify a relative file location in Tomcat application&#39;s context.xml file and specifically in a resource element?","body":"<p>I have the following resource definition (datasource) in my Tomcat 10 web application's context.xml file:</p>\n<pre><code>&lt;Resource name=&quot;jdbc/postgresql&quot; auth=&quot;Container&quot; type=&quot;javax.sql.DataSource&quot; username=&quot;dba&quot; password=&quot;secret&quot; driverClassName=&quot;org.postgresql.Driver&quot; url=&quot;jdbc:postgresql://address:port/\n?sslmode=verify-full&amp;amp;sslrootcert=/usr/local/tomcat/webapps/myApp/META-INF/root.crt&quot; maxTotal=&quot;100&quot; maxIdle=&quot;30&quot; maxWaitMillis=&quot;10000&quot;/&gt;\n</code></pre>\n<p>The sslrootcert parameter in the jdbc url identifies the location of the root certificate file (which I placed in the META-INF directory).</p>\n<p>The above context.xml and resource definition work perfectly in my development environment that I control; however, I will be moving the app to a hosted production server where I do not know the directory that tomcat is installed in. So I need a way to dynamically or relatively identify the location of the root.crt file relative to my WAR file.</p>\n<p>The following do NOT work, but I'm providing here in case it provides clarity on what I'm trying to achieve:</p>\n<ul>\n<li><p>sslrootcert=${this.getServletConfig().getServletContext().getRealPath(&quot;&quot;)}/root.crt</p>\n</li>\n<li><p>sslrootcert=${catalina.home}/myApp/META-INF/root.crt</p>\n</li>\n</ul>\n<p>The documentation says the path must start with a &quot;/&quot; so I don't know if the environment variable is even reading, and catalina.home variable is not a preferred solution as it limits me to this type of web app server.</p>\n<p>In short, I'm looking for what gets filled in the blank below to allow me to reference the root.crt file in a relative way to my WAR file:<br />\nsslrootcert=_________________/root.crt</p>\n"},{"tags":["java","android","datetime","utc","java.util.date"],"comments":[{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":5,"creation_date":1372062554,"post_id":17271039,"comment_id":25035999,"body_markdown":"Returns the current system time in milliseconds since January 1, 1970 00:00:00 UTC","body":"Returns the current system time in milliseconds since January 1, 1970 00:00:00 UTC"},{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":2,"creation_date":1372062616,"post_id":17271039,"comment_id":25036025,"body_markdown":"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#currentTimeMillis%28%29","body":"<a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/System.html#currentTimeMillis%28%29\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/1.4.2/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":20545,"reputation":12022,"user_id":49202,"accept_rate":73,"display_name":"g.revolution"},"score":0,"creation_date":1372062632,"post_id":17271039,"comment_id":25036033,"body_markdown":"thats the question. what does it returns? utc time or it adjusts the time zone? if it does returns UTC time then t1 and t2, t3 should not be same as t2 and t3 does return your time zone time.","body":"thats the question. what does it returns? utc time or it adjusts the time zone? if it does returns UTC time then t1 and t2, t3 should not be same as t2 and t3 does return your time zone time."},{"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"score":3,"creation_date":1372062745,"post_id":17271039,"comment_id":25036092,"body_markdown":"long t3 = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;)).getTimeInMillis();","body":"long t3 = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;)).getTimeInM&zwnj;&#8203;illis();"},{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":3,"creation_date":1372062818,"post_id":17271039,"comment_id":25036126,"body_markdown":"The above link says &quot;See the description of the class Date for a discussion of slight discrepancies that may arise between &quot;computer time&quot; and coordinated universal time (UTC).&quot; and in java.util.Date documentation you find: &quot;Although the Date class is intended to reflect coordinated universal time (UTC), it may not do so exactly, depending on the host environment of the Java Virtual Machine&quot; -&gt; so it may be possible that your machine returns non-UTC time","body":"The above link says &quot;See the description of the class Date for a discussion of slight discrepancies that may arise between &quot;computer time&quot; and coordinated universal time (UTC).&quot; and in java.util.Date documentation you find: &quot;Although the Date class is intended to reflect coordinated universal time (UTC), it may not do so exactly, depending on the host environment of the Java Virtual Machine&quot; -&gt; so it may be possible that your machine returns non-UTC time"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1372062955,"post_id":17271039,"comment_id":25036202,"body_markdown":"@g.revolution: It&#39;s &quot;the number of milliseconds since January 1, 1970 00:00:00 UTC&quot; - how would you expect that to adjust for a time zone? Your local time zone doesn&#39;t affect how many milliseconds have occurred since that epoch.","body":"@g.revolution: It&#39;s &quot;the number of milliseconds since January 1, 1970 00:00:00 UTC&quot; - how would you expect that to adjust for a time zone? Your local time zone doesn&#39;t affect how many milliseconds have occurred since that epoch."}],"answers":[{"comments":[{"owner":{"account_id":462189,"reputation":5436,"user_id":864358,"accept_rate":67,"display_name":"Phillip"},"score":6,"creation_date":1377048909,"post_id":17271191,"comment_id":26934051,"body_markdown":"So basically, that is to say that this function returns the same value if called at the same time from within different time zones, regardless of the host&#39;s clock, correct?","body":"So basically, that is to say that this function returns the same value if called at the same time from within different time zones, regardless of the host&#39;s clock, correct?"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":30,"creation_date":1445398631,"post_id":17271191,"comment_id":54302812,"body_markdown":"Man this makes me wish the world would (could) adopt a single time zone. Who cares if the number on the clock is 00:00 or 08:00 when the big bright thing appears in the sky? The countless hours of otherwise productive time wasted on this historical relic makes my blood boil...","body":"Man this makes me wish the world would (could) adopt a single time zone. Who cares if the number on the clock is 00:00 or 08:00 when the big bright thing appears in the sky? The countless hours of otherwise productive time wasted on this historical relic makes my blood boil..."},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1460646733,"post_id":17271191,"comment_id":60850360,"body_markdown":"Related to this, note that the underlying call to the OS clock function has a documented &#39;drift&#39; of several milliseconds. Java has a &#39;high performance timer&#39; if the intention is to get a highly precise duration of an operation (timing when a task starts and finishes, the delta being the elapsed amount of time). See: https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#nanoTime()","body":"Related to this, note that the underlying call to the OS clock function has a documented &#39;drift&#39; of several milliseconds. Java has a &#39;high performance timer&#39; if the intention is to get a highly precise duration of an operation (timing when a task starts and finishes, the delta being the elapsed amount of time). See: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/lang/&hellip;</a>"},{"owner":{"account_id":257059,"reputation":306,"user_id":538212,"accept_rate":57,"display_name":"kiranking"},"score":0,"creation_date":1551157205,"post_id":17271191,"comment_id":96526765,"body_markdown":"@JonSkeet if toString() internally use timezone how could I built string from it without timezone. Actually I am generating file in REST server which has filename exactly of midnight time value ex &quot;1551139200.json&quot;(February 26, 2019 12:00:00 AM) and that need to be accessed from android app once device&#39;s System.currentTimeMillis() returns exact time.","body":"@JonSkeet if toString() internally use timezone how could I built string from it without timezone. Actually I am generating file in REST server which has filename exactly of midnight time value ex &quot;1551139200.json&quot;(February 26, 2019 12:00:00 AM) and that need to be accessed from android app once device&#39;s System.currentTimeMillis() returns exact time."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1551164032,"post_id":17271191,"comment_id":96529004,"body_markdown":"@kiranking: Use `Date.getTime()` to find the milliseconds-since-Unix-epoch time, divide by 1000 (as that filename is in *seconds* since the Unix epoch) and just format that integer as a string.","body":"@kiranking: Use <code>Date.getTime()</code> to find the milliseconds-since-Unix-epoch time, divide by 1000 (as that filename is in <i>seconds</i> since the Unix epoch) and just format that integer as a string."},{"owner":{"account_id":453122,"reputation":8008,"user_id":849939,"accept_rate":100,"display_name":"Tomer Mor"},"score":0,"creation_date":1569421990,"post_id":17271191,"comment_id":102593265,"body_markdown":"@JonSkeet If i modified to local clock in Android lets say for future time then, all three methods will return future timestamp which","body":"@JonSkeet If i modified to local clock in Android lets say for future time then, all three methods will return future timestamp which"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1569422137,"post_id":17271191,"comment_id":102593365,"body_markdown":"@TomerMor: Yes, if you make your clock inaccurate, then anything using that clock will be inaccurate. I think that&#39;s to be expected.","body":"@TomerMor: Yes, if you make your clock inaccurate, then anything using that clock will be inaccurate. I think that&#39;s to be expected."},{"owner":{"account_id":453122,"reputation":8008,"user_id":849939,"accept_rate":100,"display_name":"Tomer Mor"},"score":0,"creation_date":1569422926,"post_id":17271191,"comment_id":102593827,"body_markdown":"@JonSkeet So if user modified the local clock there is no way to know that ?","body":"@JonSkeet So if user modified the local clock there is no way to know that ?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1569423146,"post_id":17271191,"comment_id":102593952,"body_markdown":"@TomerMor: Not using `System.currentTimeMillis`, no. You could use an NTP library or similar. I don&#39;t believe this question is really about that scenario though.","body":"@TomerMor: Not using <code>System.currentTimeMillis</code>, no. You could use an NTP library or similar. I don&#39;t believe this question is really about that scenario though."},{"owner":{"account_id":3083672,"reputation":2053,"user_id":2611340,"accept_rate":82,"display_name":"Varvara Kalinina"},"score":0,"creation_date":1683661628,"post_id":17271191,"comment_id":134400299,"body_markdown":"@corsiKa That would be a source of much greater frustration though :) Like hearing someone from a far away place say &quot;I wake up at 11:00&quot; we would always have to painfully account for that person&#39;s location to figure out something as simple as if he&#39;s an early bird or a night owl","body":"@corsiKa That would be a source of much greater frustration though :) Like hearing someone from a far away place say &quot;I wake up at 11:00&quot; we would always have to painfully account for that person&#39;s location to figure out something as simple as if he&#39;s an early bird or a night owl"},{"owner":{"account_id":130645,"reputation":81705,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":0,"creation_date":1684649597,"post_id":17271191,"comment_id":134546040,"body_markdown":"@VarvaraKalinina No system is perfect, but 1) we already deal with that on a global basis 2) easily solved by doing away with AM/PM which don&#39;t really help and 3) is nowhere near as difficult to manage as international trade!!","body":"@VarvaraKalinina No system is perfect, but 1) we already deal with that on a global basis 2) easily solved by doing away with AM/PM which don&#39;t really help and 3) is nowhere near as difficult to manage as international trade!!"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":11,"down_vote_count":0,"up_vote_count":161,"is_accepted":true,"score":161,"last_activity_date":1372063047,"creation_date":1372063047,"answer_id":17271191,"question_id":17271039,"body_markdown":"All three of the lines you&#39;ve shown will give the number of milliseconds since the unix epoch, which is a fixed point in time, not affected by your local time zone.\r\n\r\nYou say &quot;this time is not the UTC time&quot; - I suspect you&#39;ve actually diagnosed that incorrectly. I would suggest using [epochconverter.com][1] for this. For example, in your example:\r\n\r\n    1372060916 = Mon, 24 Jun 2013 08:01:56 GMT\r\n\r\nWe don&#39;t know when you generated that value, but unless it was *actually* at 8:01am UTC, it&#39;s a problem with your system clock.\r\n\r\nNeither `System.currentTimeMillis` nor the value within a `Date` itself are affected by time zone. However, you should be aware that `Date.toString()` *does* use the local time zone, which misleads many developers into thinking that a `Date` is inherently associated with a time zone - it&#39;s not, it&#39;s just an instant in time, without an associated time zone or even calendar system.\r\n\r\n  [1]: http://www.epochconverter.com/","title":"does System.currentTimeMillis() return UTC time?","body":"<p>All three of the lines you've shown will give the number of milliseconds since the unix epoch, which is a fixed point in time, not affected by your local time zone.</p>\n\n<p>You say \"this time is not the UTC time\" - I suspect you've actually diagnosed that incorrectly. I would suggest using <a href=\"http://www.epochconverter.com/\">epochconverter.com</a> for this. For example, in your example:</p>\n\n<pre><code>1372060916 = Mon, 24 Jun 2013 08:01:56 GMT\n</code></pre>\n\n<p>We don't know when you generated that value, but unless it was <em>actually</em> at 8:01am UTC, it's a problem with your system clock.</p>\n\n<p>Neither <code>System.currentTimeMillis</code> nor the value within a <code>Date</code> itself are affected by time zone. However, you should be aware that <code>Date.toString()</code> <em>does</em> use the local time zone, which misleads many developers into thinking that a <code>Date</code> is inherently associated with a time zone - it's not, it's just an instant in time, without an associated time zone or even calendar system.</p>\n"},{"comments":[{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":3,"creation_date":1460646873,"post_id":19790993,"comment_id":60850475,"body_markdown":"System.currentTimeMillis() returns a UTC based value. As to the &#39;precision&#39; or accuracy of the operating system clock is concerned, while certainly this affects the result, is not in any way related to the system or Java environment time-zone value.","body":"System.currentTimeMillis() returns a UTC based value. As to the &#39;precision&#39; or accuracy of the operating system clock is concerned, while certainly this affects the result, is not in any way related to the system or Java environment time-zone value."},{"owner":{"account_id":2202925,"reputation":10339,"user_id":1946861,"accept_rate":66,"display_name":"jlhonora"},"score":0,"creation_date":1460647035,"post_id":19790993,"comment_id":60850589,"body_markdown":"@DarrellTeague I insist, I saw different values in a specific Huawei device. So no, it doesn&#39;t always returns the correct UTC time (discarding accuracy differences)","body":"@DarrellTeague I insist, I saw different values in a specific Huawei device. So no, it doesn&#39;t always returns the correct UTC time (discarding accuracy differences)"},{"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"score":0,"creation_date":1461247071,"post_id":19790993,"comment_id":61120932,"body_markdown":"The OP&#39;s question was about a Java class timezone usage. This was not about hardware or the accuracy of the returned time value. Simply put, the JVM gets its time from the (abstract) operating &quot;system clock&quot; (which varies by operating system in terms of how it functions). See also: http://www.drdobbs.com/embedded-systems/measuring-execution-time-and-real-time-p/193502123 and &quot;C&quot; implementations on operating systems https://www.chemie.fu-berlin.de/chemnet/use/info/libc/libc_17.html","body":"The OP&#39;s question was about a Java class timezone usage. This was not about hardware or the accuracy of the returned time value. Simply put, the JVM gets its time from the (abstract) operating &quot;system clock&quot; (which varies by operating system in terms of how it functions). See also: <a href=\"http://www.drdobbs.com/embedded-systems/measuring-execution-time-and-real-time-p/193502123\" rel=\"nofollow noreferrer\">drdobbs.com/embedded-systems/&hellip;</a> and &quot;C&quot; implementations on operating systems <a href=\"https://www.chemie.fu-berlin.de/chemnet/use/info/libc/libc_17.html\" rel=\"nofollow noreferrer\">chemie.fu-berlin.de/chemnet/use/info/libc/libc_17.html</a>"}],"tags":[],"owner":{"account_id":2202925,"reputation":10339,"user_id":1946861,"accept_rate":66,"display_name":"jlhonora"},"comment_count":3,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1383660667,"creation_date":1383660667,"answer_id":19790993,"question_id":17271039,"body_markdown":"I can confirm that all three calls **could** depend on the local time, considering the epoch, not the `Date.toString()` or any similar method. I&#39;ve seen them depend on local time in specific devices running Android 2.3. I haven&#39;t tested them with other devices and android versions. In this case, the local time was set manually.\r\n\r\nThe only reliable way to get an independent UTC time is requesting a location update using the `GPS_PROVIDER`. The `getTime()` value of a location retrieved from `NETWORK_PROVIDER` also depends on local time. Another option is ping a server that returns a UTC timestamp, for example.\r\n\r\nSo, what I do is the following:\r\n\r\n    public static String getUTCstring(Location location) {\r\n\t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\t\tsdf.setTimeZone(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n\t\tString date = sdf.format(new Date(location.getTime()));\r\n\t\t// Append the string &quot;UTC&quot; to the date\r\n\t\tif(!date.contains(&quot;UTC&quot;)) {\r\n\t\t\tdate += &quot; UTC&quot;;\r\n\t\t}\r\n\t\treturn date;\r\n\t}","title":"does System.currentTimeMillis() return UTC time?","body":"<p>I can confirm that all three calls <strong>could</strong> depend on the local time, considering the epoch, not the <code>Date.toString()</code> or any similar method. I've seen them depend on local time in specific devices running Android 2.3. I haven't tested them with other devices and android versions. In this case, the local time was set manually.</p>\n\n<p>The only reliable way to get an independent UTC time is requesting a location update using the <code>GPS_PROVIDER</code>. The <code>getTime()</code> value of a location retrieved from <code>NETWORK_PROVIDER</code> also depends on local time. Another option is ping a server that returns a UTC timestamp, for example.</p>\n\n<p>So, what I do is the following:</p>\n\n<pre><code>public static String getUTCstring(Location location) {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    sdf.setTimeZone(TimeZone.getTimeZone(\"UTC\"));\n    String date = sdf.format(new Date(location.getTime()));\n    // Append the string \"UTC\" to the date\n    if(!date.contains(\"UTC\")) {\n        date += \" UTC\";\n    }\n    return date;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1010291,"reputation":393,"user_id":1023009,"accept_rate":50,"display_name":"squarewav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687018024,"creation_date":1687018024,"answer_id":76497035,"question_id":17271039,"body_markdown":"Just answering the title question, &quot;does System.currentTimeMillis() return UTC time?&quot; ...\r\n\r\nYes. The Java API documentation actually says it&#39;s UTC:\r\n\r\n```\r\ncurrentTimeMillis\r\n...\r\nReturns: the difference, measured in milliseconds, between the current time and\r\nmidnight, January 1, 1970 UTC.\r\n                          ^^^\r\n```\r\n\r\nAlthough I do have slight doubts which might be why this question hasn&#39;t been answered so directly.\r\n\r\nThe currentTimeMillis() value is derived from the hardware clock on the system board powered by a battery. The actual value can be set to anything but the only really sane thing to do is to set it to the EPOCH relative to UTC so that the device is not bound to a particular timezone (devices frequently travel and transmit data across timezones).\r\n\r\nHowever, the hardware clock can be changed and in the past it was not uncommon for it to be set to local time. I&#39;m sure there are reasons for people to still use local time today.\r\n\r\nIf you happen to be using Linux you can check to see if your machine&#39;s hardware clock is using local time or UTC:\r\n```\r\n# timedatectl\r\n               Local time: Sat 2023-06-17 11:34:51 EDT\r\n           Universal time: Sat 2023-06-17 15:34:51 UTC\r\n                 RTC time: Sat 2023-06-17 15:34:51\r\n                Time zone: America/New_York (EDT, -0400)\r\nSystem clock synchronized: yes\r\n              NTP service: active\r\n          RTC in local TZ: no\r\n                           ^^\r\n```\r\n\r\nI don&#39;t know if there is a scenario where currentTimeMillis() would return the a local time based value if the hardware clock was set to a local TZ. My feel is that the operating system abstracts these things and Java just asks the OS. So if System.currentTimeMillis() does not return a UTC value, it&#39;s because the OS is not configured correctly.\r\n\r\nSo for most intents and purposes, yes, `System.currentTimeMillis()` should return the same value across time zones (minus the usual drift, leap seconds, ...).","title":"does System.currentTimeMillis() return UTC time?","body":"<p>Just answering the title question, &quot;does System.currentTimeMillis() return UTC time?&quot; ...</p>\n<p>Yes. The Java API documentation actually says it's UTC:</p>\n<pre><code>currentTimeMillis\n...\nReturns: the difference, measured in milliseconds, between the current time and\nmidnight, January 1, 1970 UTC.\n                          ^^^\n</code></pre>\n<p>Although I do have slight doubts which might be why this question hasn't been answered so directly.</p>\n<p>The currentTimeMillis() value is derived from the hardware clock on the system board powered by a battery. The actual value can be set to anything but the only really sane thing to do is to set it to the EPOCH relative to UTC so that the device is not bound to a particular timezone (devices frequently travel and transmit data across timezones).</p>\n<p>However, the hardware clock can be changed and in the past it was not uncommon for it to be set to local time. I'm sure there are reasons for people to still use local time today.</p>\n<p>If you happen to be using Linux you can check to see if your machine's hardware clock is using local time or UTC:</p>\n<pre><code># timedatectl\n               Local time: Sat 2023-06-17 11:34:51 EDT\n           Universal time: Sat 2023-06-17 15:34:51 UTC\n                 RTC time: Sat 2023-06-17 15:34:51\n                Time zone: America/New_York (EDT, -0400)\nSystem clock synchronized: yes\n              NTP service: active\n          RTC in local TZ: no\n                           ^^\n</code></pre>\n<p>I don't know if there is a scenario where currentTimeMillis() would return the a local time based value if the hardware clock was set to a local TZ. My feel is that the operating system abstracts these things and Java just asks the OS. So if System.currentTimeMillis() does not return a UTC value, it's because the OS is not configured correctly.</p>\n<p>So for most intents and purposes, yes, <code>System.currentTimeMillis()</code> should return the same value across time zones (minus the usual drift, leap seconds, ...).</p>\n"}],"owner":{"account_id":20545,"reputation":12022,"user_id":49202,"accept_rate":73,"display_name":"g.revolution"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113884,"favorite_count":0,"down_vote_count":1,"up_vote_count":117,"accepted_answer_id":17271191,"answer_count":3,"score":116,"last_activity_date":1687018024,"creation_date":1372062511,"question_id":17271039,"body_markdown":"I want to get the current UTC time in millis. I searched google and got some answers that System.currentTimeMillis() does returns UTC time. but it does not. If I do following:\r\n\r\n    long t1 = System.currentTimeMillis();\r\n    long t2 = new Date().getTime();\r\n    long t3 = Calendar.getInstance().getTimeInMillis();\r\n\r\nall three times are almost same ( difference is in milli seconds due to calls ).\r\n\r\n    t1 = 1372060916\r\n    t2 = 1372060917\r\n    t3 = 1372060918\r\n\r\nand this time is not the UTC time instead this is my timezone time. How can i get the current UTC time in android? \r\n","title":"does System.currentTimeMillis() return UTC time?","body":"<p>I want to get the current UTC time in millis. I searched google and got some answers that System.currentTimeMillis() does returns UTC time. but it does not. If I do following:</p>\n\n<pre><code>long t1 = System.currentTimeMillis();\nlong t2 = new Date().getTime();\nlong t3 = Calendar.getInstance().getTimeInMillis();\n</code></pre>\n\n<p>all three times are almost same ( difference is in milli seconds due to calls ).</p>\n\n<pre><code>t1 = 1372060916\nt2 = 1372060917\nt3 = 1372060918\n</code></pre>\n\n<p>and this time is not the UTC time instead this is my timezone time. How can i get the current UTC time in android? </p>\n"},{"tags":["java","junit","hamcrest"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1331434727,"post_id":9651784,"comment_id":12256243,"body_markdown":"Works fine for me. Note that this tests only a single roll, obviously not overly-helpful. (Slightly take that back; if I change the value to `8` and get a higher roll, I get a Hamcrest error, using 1.3.0RC2. What version are you using?)","body":"Works fine for me. Note that this tests only a single roll, obviously not overly-helpful. (Slightly take that back; if I change the value to <code>8</code> and get a higher roll, I get a Hamcrest error, using 1.3.0RC2. What version are you using?)"},{"owner":{"account_id":25621,"reputation":21842,"user_id":65977,"accept_rate":79,"display_name":"Tyler"},"score":0,"creation_date":1331464432,"post_id":9651784,"comment_id":12259572,"body_markdown":"As an aside, your code will produce every number from 1 to 12 with equal probability. But if you roll two standard dice, different numbers come up with different probabilities (7 being most likely, 2 and 12 being least likely, and 1 being impossible). So in case that&#39;s what you&#39;re trying to model, your code is not accurate. :)","body":"As an aside, your code will produce every number from 1 to 12 with equal probability. But if you roll two standard dice, different numbers come up with different probabilities (7 being most likely, 2 and 12 being least likely, and 1 being impossible). So in case that&#39;s what you&#39;re trying to model, your code is not accurate. :)"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1331474590,"post_id":9651784,"comment_id":12261267,"body_markdown":"Could you post the error&#39;s stacktrace.","body":"Could you post the error&#39;s stacktrace."},{"owner":{"account_id":1314530,"reputation":1427,"user_id":1261727,"display_name":"beachw08"},"score":1,"creation_date":1331484673,"post_id":9651784,"comment_id":12263154,"body_markdown":"I am using 1.3.0RC2.  Thanks MatrixFrog I didn&#39;t even think of that.","body":"I am using 1.3.0RC2.  Thanks MatrixFrog I didn&#39;t even think of that."},{"owner":{"account_id":1635036,"reputation":704,"user_id":1508764,"accept_rate":67,"display_name":"Hedrack"},"score":0,"creation_date":1459726367,"post_id":9651784,"comment_id":60401841,"body_markdown":"Is it possible that this issue still exists for Maven users?!","body":"Is it possible that this issue still exists for Maven users?!"},{"owner":{"account_id":2612706,"reputation":7631,"user_id":2262522,"accept_rate":77,"display_name":"zer0uno"},"score":0,"creation_date":1463406753,"post_id":9651784,"comment_id":62038360,"body_markdown":"@DusanVasiljevic I solded the problem including hamcrest library in the pom and removing the JUnit Library (of Eclipse) from the Build Path.","body":"@DusanVasiljevic I solded the problem including hamcrest library in the pom and removing the JUnit Library (of Eclipse) from the Build Path."}],"answers":[{"comments":[{"owner":{"account_id":230624,"reputation":8817,"user_id":494343,"accept_rate":74,"display_name":"Schultz9999"},"score":6,"creation_date":1375658605,"post_id":9659820,"comment_id":26406352,"body_markdown":"Important to remember (that is not quite clear at first) that hamcrest (or jmock) must be before junit in `Order and Export` tab, not `Libraries`.","body":"Important to remember (that is not quite clear at first) that hamcrest (or jmock) must be before junit in <code>Order and Export</code> tab, not <code>Libraries</code>."},{"owner":{"account_id":11149,"reputation":4960,"user_id":21352,"accept_rate":50,"display_name":"djb"},"score":12,"creation_date":1380910307,"post_id":9659820,"comment_id":28390032,"body_markdown":"I&#39;m using Maven; even though I list the hamcrest jars before JUnit in my pom.xml, Eclispe still seems to use its internal Junit/Hamcrest jars, so I still get this &#39;signer information does not match&#39; error. Running &#39;mvn test&#39; outside of Eclipse runs without error. The above link does not mention Maven. Any tips or help to get Eclipse JUnit runner to work?","body":"I&#39;m using Maven; even though I list the hamcrest jars before JUnit in my pom.xml, Eclispe still seems to use its internal Junit/Hamcrest jars, so I still get this &#39;signer information does not match&#39; error. Running &#39;mvn test&#39; outside of Eclipse runs without error. The above link does not mention Maven. Any tips or help to get Eclipse JUnit runner to work?"},{"owner":{"account_id":61227,"reputation":520,"user_id":182617,"display_name":"Robert Patterson"},"score":2,"creation_date":1414256549,"post_id":9659820,"comment_id":41749159,"body_markdown":"I&#39;m in the Same boat as dbj (the above thread). Our project uses Eclipse and Maven, and I&#39;ve been unable to solve this issue, for the reasons outlined above.  I spent hours searching for a solution, and never found one.\n\nHowever, in my quest for a better assertion mechanism, I found FEST-ASSERT.  I think it&#39;s better than Hamcrest, so my problem is now solved (though not in the way I originally intended).","body":"I&#39;m in the Same boat as dbj (the above thread). Our project uses Eclipse and Maven, and I&#39;ve been unable to solve this issue, for the reasons outlined above.  I spent hours searching for a solution, and never found one.  However, in my quest for a better assertion mechanism, I found FEST-ASSERT.  I think it&#39;s better than Hamcrest, so my problem is now solved (though not in the way I originally intended)."},{"owner":{"account_id":346491,"reputation":1068,"user_id":680048,"accept_rate":71,"display_name":"Invy"},"score":0,"creation_date":1414779130,"post_id":9659820,"comment_id":41960633,"body_markdown":"had a same problem. Your solution worked for me. Thanx!","body":"had a same problem. Your solution worked for me. Thanx!"},{"owner":{"account_id":58147,"reputation":459,"user_id":174147,"accept_rate":100,"display_name":"Gael"},"score":0,"creation_date":1416298569,"post_id":9659820,"comment_id":42510778,"body_markdown":"Make sure you use hamcrest-all.jar and not only hamcrest-library.jar otherwise the matchers in the library won&#39;t be compatible with the core matchers that ship with Junit and you will still have the security exception even if the hamcrest library comes first in your build path.","body":"Make sure you use hamcrest-all.jar and not only hamcrest-library.jar otherwise the matchers in the library won&#39;t be compatible with the core matchers that ship with Junit and you will still have the security exception even if the hamcrest library comes first in your build path."},{"owner":{"account_id":1303936,"reputation":1310,"user_id":1253336,"accept_rate":95,"display_name":"Timothy Dalton"},"score":1,"creation_date":1495090869,"post_id":9659820,"comment_id":75107350,"body_markdown":"This didn&#39;t help me. I am using [rest-assured 3.0.3](https://github.com/rest-assured/rest-assured) and importing eclipses JUnit 4 will result in the aforementioned error.  To fix this I added a further dependency to my `pom.xml`, namely JUnit (4.4) itself and instead of `Run As - JUnit test` I now run as `Maven test` - which works perfectly.","body":"This didn&#39;t help me. I am using <a href=\"https://github.com/rest-assured/rest-assured\" rel=\"nofollow noreferrer\">rest-assured 3.0.3</a> and importing eclipses JUnit 4 will result in the aforementioned error.  To fix this I added a further dependency to my <code>pom.xml</code>, namely JUnit (4.4) itself and instead of <code>Run As - JUnit test</code> I now run as <code>Maven test</code> - which works perfectly."},{"owner":{"account_id":4513920,"reputation":497,"user_id":3669310,"accept_rate":67,"display_name":"lmo"},"score":2,"creation_date":1515660052,"post_id":9659820,"comment_id":83386514,"body_markdown":"From the link for the lazy: &quot;Easy Fix: replace $ECLIPSE_HOME\\plugins\\org.hamcrest.core_1.3.0.v201303031735.jar with Maven hamcrest-core-1.3.jar (obviously renaming it to same name as eclipse jar)&quot;","body":"From the link for the lazy: &quot;Easy Fix: replace $ECLIPSE_HOME\\plugins\\org.hamcrest.core_1.3.0.v201303031735.&zwnj;&#8203;jar with Maven hamcrest-core-1.3.jar (obviously renaming it to same name as eclipse jar)&quot;"},{"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"score":1,"creation_date":1537448503,"post_id":9659820,"comment_id":91794495,"body_markdown":"@djb nailed the problem description, after a bit I got it working.  Eclipse Oxygen failed with the ugly signer error but Maven was succeeding.  Since Maven 2.something classpath ordering in the POM is defined by top-to-bottom ordering of dependencies. Even though the Hamcrest dep was last in the POM (JUnit 4.12 above it), Maven was still running tests fine. In Eclipse build path settings I had listed the Maven Deps first, then JUnit, then Java. So I was baffled. The JUnit tests all started working in Eclipse when I moved the Hamcrest dep in the POM to the top.","body":"@djb nailed the problem description, after a bit I got it working.  Eclipse Oxygen failed with the ugly signer error but Maven was succeeding.  Since Maven 2.something classpath ordering in the POM is defined by top-to-bottom ordering of dependencies. Even though the Hamcrest dep was last in the POM (JUnit 4.12 above it), Maven was still running tests fine. In Eclipse build path settings I had listed the Maven Deps first, then JUnit, then Java. So I was baffled. The JUnit tests all started working in Eclipse when I moved the Hamcrest dep in the POM to the top."}],"tags":[],"owner":{"account_id":1314530,"reputation":1427,"user_id":1261727,"display_name":"beachw08"},"comment_count":8,"down_vote_count":1,"up_vote_count":79,"is_accepted":true,"score":78,"last_activity_date":1331507155,"creation_date":1331507155,"answer_id":9659820,"question_id":9651784,"body_markdown":"This is the site that help me solve the problem.\r\n\r\nhttp://code.google.com/p/hamcrest/issues/detail?id=128\r\n\r\nThe hamcrest.jar needs to go before the Junit library in the build path.","title":"hamcrest tests always fail","body":"<p>This is the site that help me solve the problem.</p>\n\n<p><a href=\"http://code.google.com/p/hamcrest/issues/detail?id=128\">http://code.google.com/p/hamcrest/issues/detail?id=128</a></p>\n\n<p>The hamcrest.jar needs to go before the Junit library in the build path.</p>\n"},{"comments":[{"owner":{"account_id":240376,"reputation":3567,"user_id":510583,"accept_rate":80,"display_name":"leo"},"score":3,"creation_date":1452785983,"post_id":9689196,"comment_id":57330609,"body_markdown":"Since junit 4.11, junit.jar does no longer include the hamcrest classes. junit-dep.jar is deprecated. https://github.com/junit-team/junit/wiki/Use-with-Maven","body":"Since junit 4.11, junit.jar does no longer include the hamcrest classes. junit-dep.jar is deprecated. <a href=\"https://github.com/junit-team/junit/wiki/Use-with-Maven\" rel=\"nofollow noreferrer\">github.com/junit-team/junit/wiki/Use-with-Maven</a>"}],"tags":[],"owner":{"account_id":197900,"reputation":4806,"user_id":442255,"accept_rate":75,"display_name":"Kkkev"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1395680200,"creation_date":1331660471,"answer_id":9689196,"question_id":9651784,"body_markdown":"Use junit-dep.jar rather than junit.jar- this is JUnit minus its dependencies. Junit.jar contains an old version of Hamcrest.","title":"hamcrest tests always fail","body":"<p>Use junit-dep.jar rather than junit.jar- this is JUnit minus its dependencies. Junit.jar contains an old version of Hamcrest.</p>\n"},{"comments":[{"owner":{"account_id":1597009,"reputation":5417,"user_id":1478852,"accept_rate":63,"display_name":"Sagar"},"score":1,"creation_date":1399674012,"post_id":14566905,"comment_id":36179075,"body_markdown":"This was it in my case! Thanks.","body":"This was it in my case! Thanks."},{"owner":{"account_id":2428566,"reputation":555,"user_id":2120006,"display_name":"ayahuasca"},"score":1,"creation_date":1440005025,"post_id":14566905,"comment_id":52098059,"body_markdown":"An easy mistake to make in Eclipse with Maven projects.","body":"An easy mistake to make in Eclipse with Maven projects."},{"owner":{"account_id":6750601,"reputation":146,"user_id":5200702,"display_name":"Saddam Hussain"},"score":0,"creation_date":1644944569,"post_id":14566905,"comment_id":125737373,"body_markdown":"Yes, removing Junit 4 from my build path solves this issue.","body":"Yes, removing Junit 4 from my build path solves this issue."}],"tags":[],"owner":{"account_id":135995,"reputation":903,"user_id":339219,"accept_rate":50,"display_name":"Rade_303"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1359391658,"creation_date":1359391658,"answer_id":14566905,"question_id":9651784,"body_markdown":"In my Eclipse inside Project settings in Java Build Path section, Libraries I have previously added internal JUnit library which uses JUnit version 4.8 and hamcrest-core version 1.1. I believe that that was causing this error in my case.\r\n\r\nI leave this bit of information here, maybe somebody else would benefit from my experience.","title":"hamcrest tests always fail","body":"<p>In my Eclipse inside Project settings in Java Build Path section, Libraries I have previously added internal JUnit library which uses JUnit version 4.8 and hamcrest-core version 1.1. I believe that that was causing this error in my case.</p>\n\n<p>I leave this bit of information here, maybe somebody else would benefit from my experience.</p>\n"},{"tags":[],"owner":{"account_id":1516835,"reputation":905,"user_id":1417653,"accept_rate":67,"display_name":"Richard B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417129448,"creation_date":1417129044,"answer_id":27179708,"question_id":9651784,"body_markdown":"I had the same problem as detailed here. I believe the problem comes down to the junit4 jar file. &lt;p&gt;If, under eclipse pom editor, you look at the junit4 Hierarchy you will see that it has a dependency on hamcrest-core (i.e. hamcrest-core will, by default, be pulled in on compile). In my unit test code I use the hamcrest collection Matchers (org.hamcrest.collection). These aren&#39;t included in the core jar and I set up a dependency on hamcrest-all in the pom. Doing this duplicates the hamcrest-core inclusion and appear to leave you open to a version mismatch with the junit hamcrest-core dependency and hence the security exception. I removed the hamcrest-all dependency and replaced it with hamcrest-library and the exception went away.\r\n\r\nIf you only use core hamcrest then you should not set up your own dependency and rely on the version junit pulls in. Alternately, as suggested in another comment, use junit-dep to strip out the junit dependency and then include hamcrest-all.","title":"hamcrest tests always fail","body":"<p>I had the same problem as detailed here. I believe the problem comes down to the junit4 jar file. <p>If, under eclipse pom editor, you look at the junit4 Hierarchy you will see that it has a dependency on hamcrest-core (i.e. hamcrest-core will, by default, be pulled in on compile). In my unit test code I use the hamcrest collection Matchers (org.hamcrest.collection). These aren't included in the core jar and I set up a dependency on hamcrest-all in the pom. Doing this duplicates the hamcrest-core inclusion and appear to leave you open to a version mismatch with the junit hamcrest-core dependency and hence the security exception. I removed the hamcrest-all dependency and replaced it with hamcrest-library and the exception went away.</p>\n\n<p>If you only use core hamcrest then you should not set up your own dependency and rely on the version junit pulls in. Alternately, as suggested in another comment, use junit-dep to strip out the junit dependency and then include hamcrest-all.</p>\n"},{"tags":[],"owner":{"account_id":301697,"reputation":2478,"user_id":609601,"display_name":"John Mark"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1420838770,"creation_date":1420838770,"answer_id":27869506,"question_id":9651784,"body_markdown":"I was getting the same exception. Like beachw08 recommended, I referred to:\r\n\r\nhttp://code.google.com/p/hamcrest/issues/detail?id=128\r\n\r\n\r\nOne of the posts said:\r\n\r\n&gt; rename the file $ECLIPSE_HOME\\plugins\\org.hamcrest.core_1.3.0.v201303031735.jar  to something like  *.bak    or  remove the file.\r\n\r\nI did this and it solved my problem.","title":"hamcrest tests always fail","body":"<p>I was getting the same exception. Like beachw08 recommended, I referred to:</p>\n\n<p><a href=\"http://code.google.com/p/hamcrest/issues/detail?id=128\" rel=\"nofollow\">http://code.google.com/p/hamcrest/issues/detail?id=128</a></p>\n\n<p>One of the posts said:</p>\n\n<blockquote>\n  <p>rename the file $ECLIPSE_HOME\\plugins\\org.hamcrest.core_1.3.0.v201303031735.jar  to something like  *.bak    or  remove the file.</p>\n</blockquote>\n\n<p>I did this and it solved my problem.</p>\n"},{"comments":[{"owner":{"display_name":"user5692355"},"score":0,"creation_date":1472125139,"post_id":29455734,"comment_id":65632468,"body_markdown":"This helped me. For some reason even when ellipse&#39;s junit4 was under the maven library it didn&#39;t work.","body":"This helped me. For some reason even when ellipse&#39;s junit4 was under the maven library it didn&#39;t work."},{"owner":{"account_id":10268397,"reputation":161,"user_id":7577603,"display_name":"Kate Barnett"},"score":0,"creation_date":1542315760,"post_id":29455734,"comment_id":93536040,"body_markdown":"This is what fixed the issue for me. In the project build path, I had JUnit pulled in both as a separate library and as a jar under Maven dependencies. Once I removed the library, the problem went away.","body":"This is what fixed the issue for me. In the project build path, I had JUnit pulled in both as a separate library and as a jar under Maven dependencies. Once I removed the library, the problem went away."}],"tags":[],"owner":{"account_id":3789924,"reputation":3301,"user_id":3151258,"accept_rate":73,"display_name":"Hunsu"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1428224652,"creation_date":1428224652,"answer_id":29455734,"question_id":9651784,"body_markdown":"I just removed JUnit library from my project configuration. I still can run the tests as JUnit is also included in my pom file. So the solution just use the library from Maven. ","title":"hamcrest tests always fail","body":"<p>I just removed JUnit library from my project configuration. I still can run the tests as JUnit is also included in my pom file. So the solution just use the library from Maven. </p>\n"},{"tags":[],"owner":{"account_id":4722999,"reputation":593,"user_id":3820418,"display_name":"Jlearner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449643410,"creation_date":1449643410,"answer_id":34172312,"question_id":9651784,"body_markdown":"I resolved this problem by removing Junit4 library from the Build Path and added TestNG Library to the build path and imported TestNG annotations instead of Junit4 annotations in my java program.","title":"hamcrest tests always fail","body":"<p>I resolved this problem by removing Junit4 library from the Build Path and added TestNG Library to the build path and imported TestNG annotations instead of Junit4 annotations in my java program.</p>\n"},{"tags":[],"owner":{"account_id":6181130,"reputation":2050,"user_id":4816597,"accept_rate":67,"display_name":"imbond"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1453995508,"creation_date":1453995508,"answer_id":35065720,"question_id":9651784,"body_markdown":"First of all make sure that you have added JUnit dependency in POM.xml file.\r\n\r\nNow, right click on the project and go to properties, select Java build path and select Libraries tab. \r\n\r\nIn my case there were Maven dependencies, JRE and Junit4 libraries. And I just removed Junit library and it works for me. Or one can also reorder the libraries as due to build order of Hamcrest and JUnit4 the problem was occurring.","title":"hamcrest tests always fail","body":"<p>First of all make sure that you have added JUnit dependency in POM.xml file.</p>\n\n<p>Now, right click on the project and go to properties, select Java build path and select Libraries tab. </p>\n\n<p>In my case there were Maven dependencies, JRE and Junit4 libraries. And I just removed Junit library and it works for me. Or one can also reorder the libraries as due to build order of Hamcrest and JUnit4 the problem was occurring.</p>\n"},{"tags":[],"owner":{"account_id":265347,"reputation":1035,"user_id":2322270,"display_name":"Vaibhav Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457691848,"creation_date":1457691388,"answer_id":35937472,"question_id":9651784,"body_markdown":"If you get the following exception &quot;java.lang.SecurityException: class &quot;org.hamcrest.Matchers&quot;&#39;s signer information does not match signer information of other classes in the same package&quot;, ensure that the hamcrest jar is before the Junit library in the build path. You can configure the order in the project properties under Java Build Path on the Order and Export tab.\r\nclick below image link for more clarity :\r\nhttps://i.stack.imgur.com/Y5R15.png\r\n\r\n","title":"hamcrest tests always fail","body":"<p>If you get the following exception \"java.lang.SecurityException: class \"org.hamcrest.Matchers\"'s signer information does not match signer information of other classes in the same package\", ensure that the hamcrest jar is before the Junit library in the build path. You can configure the order in the project properties under Java Build Path on the Order and Export tab.\nclick below image link for more clarity :\n<a href=\"https://i.stack.imgur.com/Y5R15.png\" rel=\"nofollow\">https://i.stack.imgur.com/Y5R15.png</a></p>\n"},{"tags":[],"owner":{"account_id":7543442,"reputation":13,"user_id":5727309,"display_name":"Ravi NAGALINGAM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459501990,"creation_date":1459501990,"answer_id":36352367,"question_id":9651784,"body_markdown":"i recently had this problem with eclipse and Junit. \r\n\r\nTo solve this, i did that:\r\n\r\n1 - Download the latest hamcrest-all jar from here : https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/hamcrest/\r\n\r\n2- Go on the eclipse installation folder: eclipse/plugin/ and find the org.hamcrest...jar\r\n\r\n3- make a backup of the step 2 jar and replace it by the step 1 jar (rename it same as the jar step 2).\r\n\r\n4- restart eclipse\r\n\r\nAfter that, my issue was solved.","title":"hamcrest tests always fail","body":"<p>i recently had this problem with eclipse and Junit. </p>\n\n<p>To solve this, i did that:</p>\n\n<p>1 - Download the latest hamcrest-all jar from here : <a href=\"https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/hamcrest/\" rel=\"nofollow\">https://storage.googleapis.com/google-code-archive-downloads/v2/code.google.com/hamcrest/</a></p>\n\n<p>2- Go on the eclipse installation folder: eclipse/plugin/ and find the org.hamcrest...jar</p>\n\n<p>3- make a backup of the step 2 jar and replace it by the step 1 jar (rename it same as the jar step 2).</p>\n\n<p>4- restart eclipse</p>\n\n<p>After that, my issue was solved.</p>\n"},{"tags":[],"owner":{"account_id":1221831,"reputation":180,"user_id":6629913,"display_name":"user6629913"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472215963,"creation_date":1472215963,"answer_id":39166829,"question_id":9651784,"body_markdown":"When trying to solve this problem for your particular context, keep in mind the stack trace above is merely a symptom.  The solutions may work for some people, but not others.\r\n\r\nFor instance:\r\n\r\n - Putting the Hamcrest JAR before the JUnit JAR in the classpath will work in situations where the version of JUnit in use (older) contains Hamcrest classes\r\n - Overlaying the version of Hamcrest used internally by Eclipse with a &#39;stock&#39; version that&#39;s been renamed to match the internal version may work if no other Eclipse plugin bundle uses manifest information in the original internal JAR \r\n\r\nIn my case, the symptom above was caused by a Hamcrest JAR used internally and provided by Eclipse, and when I tried to replaced it with a &#39;stock&#39; renamed version, anything related to JUnit failed to load when I started Eclipse.  After I reverted back to the original internal version, the ```SecurityException``` returned.  The solution that worked for me was to delete the manifest in the JAR using 7-Zip.  This effectively &#39;unsigned&#39; the JAR and now my particular configuration works.\r\n\r\n","title":"hamcrest tests always fail","body":"<p>When trying to solve this problem for your particular context, keep in mind the stack trace above is merely a symptom.  The solutions may work for some people, but not others.</p>\n\n<p>For instance:</p>\n\n<ul>\n<li>Putting the Hamcrest JAR before the JUnit JAR in the classpath will work in situations where the version of JUnit in use (older) contains Hamcrest classes</li>\n<li>Overlaying the version of Hamcrest used internally by Eclipse with a 'stock' version that's been renamed to match the internal version may work if no other Eclipse plugin bundle uses manifest information in the original internal JAR </li>\n</ul>\n\n<p>In my case, the symptom above was caused by a Hamcrest JAR used internally and provided by Eclipse, and when I tried to replaced it with a 'stock' renamed version, anything related to JUnit failed to load when I started Eclipse.  After I reverted back to the original internal version, the <code>SecurityException</code> returned.  The solution that worked for me was to delete the manifest in the JAR using 7-Zip.  This effectively 'unsigned' the JAR and now my particular configuration works.</p>\n"},{"tags":[],"owner":{"account_id":1372670,"reputation":21,"user_id":1307291,"display_name":"jet.lau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494156420,"creation_date":1494156420,"answer_id":43830921,"question_id":9651784,"body_markdown":"my environment Mac OS + eclipse, I found org.hamcrest.core_1.3.0.v201303031735.jar is in my JUnit 4, \r\nso I can&#39;t make it forward than junit.jar. \r\n\r\nso I delete it from path ~/.p2/pool/plugins/, then refresh project, it works.","title":"hamcrest tests always fail","body":"<p>my environment Mac OS + eclipse, I found org.hamcrest.core_1.3.0.v201303031735.jar is in my JUnit 4, \nso I can't make it forward than junit.jar. </p>\n\n<p>so I delete it from path ~/.p2/pool/plugins/, then refresh project, it works.</p>\n"},{"tags":[],"owner":{"account_id":224312,"reputation":703,"user_id":484052,"display_name":"Chetan Gole"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494242849,"creation_date":1494242849,"answer_id":43846474,"question_id":9651784,"body_markdown":"This one resolved my issue : \r\n\r\nReplace $ECLIPSE_HOME\\plugins\\org.hamcrest.core_1.3.0.v201303031735.jar with Maven or your project&#39;s lib&#39;s hamcrest-core-xx.jar (obviously renaming it to same name as eclipse jar)","title":"hamcrest tests always fail","body":"<p>This one resolved my issue : </p>\n\n<p>Replace $ECLIPSE_HOME\\plugins\\org.hamcrest.core_1.3.0.v201303031735.jar with Maven or your project's lib's hamcrest-core-xx.jar (obviously renaming it to same name as eclipse jar)</p>\n"},{"tags":[],"owner":{"account_id":6637975,"reputation":60,"user_id":5124608,"display_name":"jbunton10"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496257182,"creation_date":1496257182,"answer_id":44292747,"question_id":9651784,"body_markdown":"I went into the build properties for the project and changed JUNIT from version 4 to version 3 and it works fine now.\r\n\r\nInterestingly I still have version 4 in my pom.xml so I am inclined to think that this is an eclipse issue (I was able to build and run my tests via terminal just fine).","title":"hamcrest tests always fail","body":"<p>I went into the build properties for the project and changed JUNIT from version 4 to version 3 and it works fine now.</p>\n\n<p>Interestingly I still have version 4 in my pom.xml so I am inclined to think that this is an eclipse issue (I was able to build and run my tests via terminal just fine).</p>\n"},{"comments":[{"owner":{"account_id":4571052,"reputation":408,"user_id":3710743,"display_name":"FonzTech"},"score":0,"creation_date":1577968849,"post_id":46445202,"comment_id":105294662,"body_markdown":"This worked for me. The error was because the ArrayList sign I used (the java.util one) didn&#39;t match.","body":"This worked for me. The error was because the ArrayList sign I used (the java.util one) didn&#39;t match."},{"owner":{"account_id":13504541,"reputation":99,"user_id":10910863,"display_name":"gourabix"},"score":0,"creation_date":1596174210,"post_id":46445202,"comment_id":111733020,"body_markdown":"This worked for me too. It is simple, concise and does not mess with core JARs.","body":"This worked for me too. It is simple, concise and does not mess with core JARs."}],"tags":[],"owner":{"account_id":11864237,"reputation":111,"user_id":8682150,"display_name":"Avinav K"},"comment_count":2,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1506507144,"creation_date":1506507144,"answer_id":46445202,"question_id":9651784,"body_markdown":"If you are using a Maven project, simply remove the Junit library from the build path and instead import Junit and Hamcrest separately via POM. ","title":"hamcrest tests always fail","body":"<p>If you are using a Maven project, simply remove the Junit library from the build path and instead import Junit and Hamcrest separately via POM. </p>\n"},{"tags":[],"owner":{"account_id":114671,"reputation":59,"user_id":301436,"display_name":"Janneman"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1509083621,"creation_date":1509082229,"answer_id":46968093,"question_id":9651784,"body_markdown":"Johan Mark (above) suggested to \r\n\r\n&gt;rename the file `$ECLIPSE_HOME\\plugins\\org.hamcrest.core_1.3.0.v201303031735.jar` to something like `*.bak` or remove the file.&quot;\r\n\r\nRenaming/removing the file caused my Eclipse Junit library to stop working, but replacing the JAR file with a copy of the same version from my Maven repo made the certificate problem go away.\r\n\r\n(As someone on Google remarked, the Eclipse Junit copy of hamcrest has a cert issue but the Maven copy does not...)","title":"hamcrest tests always fail","body":"<p>Johan Mark (above) suggested to </p>\n\n<blockquote>\n  <p>rename the file <code>$ECLIPSE_HOME\\plugins\\org.hamcrest.core_1.3.0.v201303031735.jar</code> to something like <code>*.bak</code> or remove the file.\"</p>\n</blockquote>\n\n<p>Renaming/removing the file caused my Eclipse Junit library to stop working, but replacing the JAR file with a copy of the same version from my Maven repo made the certificate problem go away.</p>\n\n<p>(As someone on Google remarked, the Eclipse Junit copy of hamcrest has a cert issue but the Maven copy does not...)</p>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1513693280,"creation_date":1513693280,"answer_id":47889002,"question_id":9651784,"body_markdown":"I did the following:\r\n\r\nFirst in pom file i excluded hamcrest-core from junit dependency and used instead hamcrest-all. Second i removed from build path the eclipse JUNIT as it overrides the maven one. The ordering didn&#39;t affect my jars since the bad jar was excluded.","title":"hamcrest tests always fail","body":"<p>I did the following:</p>\n\n<p>First in pom file i excluded hamcrest-core from junit dependency and used instead hamcrest-all. Second i removed from build path the eclipse JUNIT as it overrides the maven one. The ordering didn't affect my jars since the bad jar was excluded.</p>\n"},{"tags":[],"owner":{"account_id":270039,"reputation":536,"user_id":559746,"accept_rate":57,"display_name":"PTT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525765219,"creation_date":1525765219,"answer_id":50228402,"question_id":9651784,"body_markdown":"I had exactly the same issue. I created a new project and it resolved my issue. ","title":"hamcrest tests always fail","body":"<p>I had exactly the same issue. I created a new project and it resolved my issue. </p>\n"},{"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1613747844,"post_id":56614363,"comment_id":117179522,"body_markdown":"Using `hamcrest-all` instead of `hamcrest-library` was the solution in my case.","body":"Using <code>hamcrest-all</code> instead of <code>hamcrest-library</code> was the solution in my case."}],"tags":[],"owner":{"account_id":13201685,"reputation":41,"user_id":9534744,"display_name":"PRITEN PATEL"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1560634790,"creation_date":1560634790,"answer_id":56614363,"question_id":9651784,"body_markdown":"If you are Using Maven:\r\n\r\n\r\nSteps:\r\n\r\n1. Add Latest Hamcrest Dependency into POM, from here https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all\r\n\r\n2. Add Latest JUnit Dependency into POM,from Here\r\nhttps://mvnrepository.com/artifact/junit/junit\r\n\r\n3. Remove Any JUnit libraries from the Build path.\r\n\r\n[As Shown here ][1]\r\n\r\n[and Here][2]\r\n\r\n4. After you have Completed all above steps , Refresh your Project and Run.\r\n\r\n  [1]: https://i.stack.imgur.com/Ihx4j.jpg\r\n  [2]: https://i.stack.imgur.com/YrSij.png","title":"hamcrest tests always fail","body":"<p>If you are Using Maven:</p>\n\n<p>Steps:</p>\n\n<ol>\n<li><p>Add Latest Hamcrest Dependency into POM, from here <a href=\"https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.hamcrest/hamcrest-all</a></p></li>\n<li><p>Add Latest JUnit Dependency into POM,from Here\n<a href=\"https://mvnrepository.com/artifact/junit/junit\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/junit/junit</a></p></li>\n<li><p>Remove Any JUnit libraries from the Build path.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/Ihx4j.jpg\" rel=\"nofollow noreferrer\">As Shown here </a></p>\n\n<p><a href=\"https://i.stack.imgur.com/YrSij.png\" rel=\"nofollow noreferrer\">and Here</a></p>\n\n<ol start=\"4\">\n<li>After you have Completed all above steps , Refresh your Project and Run.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14424258,"reputation":21,"user_id":10419510,"display_name":"Yogesh Samant"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562378555,"creation_date":1562339624,"answer_id":56905637,"question_id":9651784,"body_markdown":"Removed the JUNIT 4 library from the libraries tab on Eclipse -&gt; Java Build path and it worked.","title":"hamcrest tests always fail","body":"<p>Removed the JUNIT 4 library from the libraries tab on Eclipse -> Java Build path and it worked.</p>\n"},{"comments":[{"owner":{"account_id":1427552,"reputation":1026,"user_id":2597978,"accept_rate":88,"display_name":"saywhatnow"},"score":0,"creation_date":1586808842,"post_id":61191582,"comment_id":108259622,"body_markdown":"Heya, your answer that&#39;s really specific to the IDE that&#39;s being used. It&#39;d be useful to explain what you&#39;re doing in more detail (eg changing dependency order by...) so that anyone not using the same IDE as you can still benefit from your answer. :)","body":"Heya, your answer that&#39;s really specific to the IDE that&#39;s being used. It&#39;d be useful to explain what you&#39;re doing in more detail (eg changing dependency order by...) so that anyone not using the same IDE as you can still benefit from your answer. :)"}],"tags":[],"owner":{"account_id":18272815,"reputation":21,"user_id":13303263,"display_name":"G.M"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586793010,"creation_date":1586793010,"answer_id":61191582,"question_id":9651784,"body_markdown":"I had the same problem. \r\nRight Click on the project / Order and Export/   move up your hamcrest lib to the first position, for some reason it has to go first than your Junit lib","title":"hamcrest tests always fail","body":"<p>I had the same problem. \nRight Click on the project / Order and Export/   move up your hamcrest lib to the first position, for some reason it has to go first than your Junit lib</p>\n"},{"tags":[],"owner":{"account_id":2043806,"reputation":4771,"user_id":2118777,"display_name":"Pipo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620140472,"creation_date":1620140472,"answer_id":67387283,"question_id":9651784,"body_markdown":"With eclipse, I had the same issue but with `mvn` commandline was working. Solved it by removing Junit into the **build path**, **not** in `order and export`. Above example is before removing it.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Jd2c.png","title":"hamcrest tests always fail","body":"<p>With eclipse, I had the same issue but with <code>mvn</code> commandline was working. Solved it by removing Junit into the <strong>build path</strong>, <strong>not</strong> in <code>order and export</code>. Above example is before removing it.\n<a href=\"https://i.stack.imgur.com/4Jd2c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Jd2c.png\" alt=\"enter image description here\" /></a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1652338791,"post_id":72199332,"comment_id":127583165,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/72199332/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":15343452,"reputation":1,"user_id":11069701,"display_name":"Ahmed Salah"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652264348,"creation_date":1652264348,"answer_id":72199332,"question_id":9651784,"body_markdown":"\r\njust go to the project\r\nthen click on build path and click on configure build path \r\nclick on libraries check junit and remove it(note that junit and hamcrest in pom file)\r\n","title":"hamcrest tests always fail","body":"<p>just go to the project\nthen click on build path and click on configure build path\nclick on libraries check junit and remove it(note that junit and hamcrest in pom file)</p>\n"},{"comments":[{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1687196910,"post_id":76497022,"comment_id":134900133,"body_markdown":"This is was [already answered by Avinav](https://stackoverflow.com/a/46445202/5730279).","body":"This is was <a href=\"https://stackoverflow.com/a/46445202/5730279\">already answered by Avinav</a>."}],"tags":[],"owner":{"account_id":28840766,"reputation":1,"user_id":22089080,"display_name":"nayaz600"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687017881,"creation_date":1687017881,"answer_id":76497022,"question_id":9651784,"body_markdown":"Yes, if you are using a Maven project, simply remove the Junit library from the build path and instead import Junit and Hamcrest separately via POM.","title":"hamcrest tests always fail","body":"<p>Yes, if you are using a Maven project, simply remove the Junit library from the build path and instead import Junit and Hamcrest separately via POM.</p>\n"}],"owner":{"account_id":1314530,"reputation":1427,"user_id":1261727,"display_name":"beachw08"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41825,"favorite_count":0,"down_vote_count":1,"up_vote_count":53,"accepted_answer_id":9659820,"answer_count":24,"score":52,"last_activity_date":1687017881,"creation_date":1331431086,"question_id":9651784,"body_markdown":"I am using hamcrest 1.3 to test my code. It is simply a die. I am trying to test it to make sure the number generated is less than 13. I had a print statement that printed what the number generated was. The number generated was always less than 13 but the test always failed. Is there something I am doing wrong?\r\n\r\nThis is the code I am testing.\r\n\r\n    import java.util.Random;\r\n\r\n    public class Die {\r\n        private int numSides;\r\n        Random rand;\r\n        \r\n        public Die(int numSides){\r\n            this.numSides = numSides;\r\n            rand = new Random(System.currentTimeMillis());\r\n        }\r\n        \r\n        public int roll(){\r\n            return rand.nextInt(numSides) + 1;\r\n        }\r\n    }\r\n\r\nAnd this is my test code.\r\n\r\n    import static org.hamcrest.Matchers.*;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n\r\n    import org.junit.Test;\r\n\r\n    public class DieTest {\r\n        @Test\r\n        public void testRoll() {\r\n            Die x = new Die(12);\t\r\n            assertThat(x.roll(), is(lessThan(13)));\r\n        }\r\n    }\r\n\r\nEdit: This is the failure stack trace.\r\n\r\n    java.lang.SecurityException: class &quot;org.hamcrest.Matchers&quot;&#39;s signer information does not match signer information of other classes in the same package\r\n\tat java.lang.ClassLoader.checkCerts(Unknown Source)\r\n\tat java.lang.ClassLoader.preDefineClass(Unknown Source)\r\n\tat java.lang.ClassLoader.defineClassCond(Unknown Source)\r\n\tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n\tat java.security.SecureClassLoader.defineClass(Unknown Source)\r\n\tat java.net.URLClassLoader.defineClass(Unknown Source)\r\n\tat java.net.URLClassLoader.access$000(Unknown Source)\r\n\tat java.net.URLClassLoader$1.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n\tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n\tat DieTest.testRoll(DieTest.java:12)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\r\n\r\n","title":"hamcrest tests always fail","body":"<p>I am using hamcrest 1.3 to test my code. It is simply a die. I am trying to test it to make sure the number generated is less than 13. I had a print statement that printed what the number generated was. The number generated was always less than 13 but the test always failed. Is there something I am doing wrong?</p>\n\n<p>This is the code I am testing.</p>\n\n<pre><code>import java.util.Random;\n\npublic class Die {\n    private int numSides;\n    Random rand;\n\n    public Die(int numSides){\n        this.numSides = numSides;\n        rand = new Random(System.currentTimeMillis());\n    }\n\n    public int roll(){\n        return rand.nextInt(numSides) + 1;\n    }\n}\n</code></pre>\n\n<p>And this is my test code.</p>\n\n<pre><code>import static org.hamcrest.Matchers.*;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\nimport org.junit.Test;\n\npublic class DieTest {\n    @Test\n    public void testRoll() {\n        Die x = new Die(12);    \n        assertThat(x.roll(), is(lessThan(13)));\n    }\n}\n</code></pre>\n\n<p>Edit: This is the failure stack trace.</p>\n\n<pre><code>java.lang.SecurityException: class \"org.hamcrest.Matchers\"'s signer information does not match signer information of other classes in the same package\nat java.lang.ClassLoader.checkCerts(Unknown Source)\nat java.lang.ClassLoader.preDefineClass(Unknown Source)\nat java.lang.ClassLoader.defineClassCond(Unknown Source)\nat java.lang.ClassLoader.defineClass(Unknown Source)\nat java.security.SecureClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.defineClass(Unknown Source)\nat java.net.URLClassLoader.access$000(Unknown Source)\nat java.net.URLClassLoader$1.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\nat java.lang.ClassLoader.loadClass(Unknown Source)\nat DieTest.testRoll(DieTest.java:12)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:44)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:15)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:41)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:20)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:76)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:50)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:193)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:52)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:191)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:42)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:184)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:236)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:49)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)\n</code></pre>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":12918512,"reputation":1,"user_id":9341852,"display_name":"Serafim Dmitriev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687017323,"creation_date":1686920654,"answer_id":76490479,"question_id":76489352,"body_markdown":"I found an answer by myself. For some reason I set parameter `layout_width` of that textViews as `0dp` instead of `wrap_content`. I changed the value and everything started to work correctly.","title":"How to update item in RecyclerView after it finished its animation?","body":"<p>I found an answer by myself. For some reason I set parameter <code>layout_width</code> of that textViews as <code>0dp</code> instead of <code>wrap_content</code>. I changed the value and everything started to work correctly.</p>\n"}],"owner":{"account_id":12918512,"reputation":1,"user_id":9341852,"display_name":"Serafim Dmitriev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687017323,"creation_date":1686911692,"question_id":76489352,"body_markdown":"I am using a recyclerView to show all the entries from my database in a nice way. I added class SwipeToDeleteCallback to provide the ability to delete item from the recyclerView. When item deletes, recyclerview raises next items upward.\r\n\r\nEach item contains 2 textViews that update in onBindViewHolder() in adapter for recyclerView. The problem is when I delete some item, the last item appeared on the screen doesn&#39;t show these textViews correctly. I already tried adapter.notifyItemChanged() and view.postInvalidate() but it doesn&#39;t help.\r\n\r\nIt seems that if recyclerView tries to update values of its child during the animation, it produces such error. I&#39;m not sure if I&#39;m right.\r\n\r\n[Screenshot: After deleting a few previous item two last items doesn&#39;t appear properly](https://i.stack.imgur.com/wH9II.png)\r\n\r\n\r\nDictionaryActivity.kt:\r\n```\r\nclass DictionaryActivity : AppCompatActivity() {\r\n    private lateinit var coordinatorLayout : CoordinatorLayout\r\n    private lateinit var recyclerView : RecyclerView\r\n    private lateinit var dictionaryAdapter: DictionaryAdapter\r\n    private lateinit var linearLayoutManager: LinearLayoutManager\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.dictionary)\r\n\r\n        coordinatorLayout = findViewById&lt;View&gt;(R.id.dictionaryCoordinatorLayout) as CoordinatorLayout\r\n        recyclerView = findViewById&lt;View&gt;(R.id.recyclerView) as RecyclerView\r\n\r\n        // Create adapter passing in the sample user data\r\n        dictionaryAdapter = DictionaryAdapter(Database.getAllEntries(this))\r\n        // Attach the adapter to the recyclerview to populate items\r\n        recyclerView.adapter = dictionaryAdapter\r\n        // Set layout manager to position the items\r\n        linearLayoutManager = LinearLayoutManager(this)\r\n        recyclerView.layoutManager = linearLayoutManager\r\n\r\n        enableSwipeToDeleteAndUndo()\r\n    }\r\n\r\n    private fun enableSwipeToDeleteAndUndo() {\r\n        val swipeToDeleteCallback: SwipeToDeleteCallback = object : SwipeToDeleteCallback(this) {\r\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, i: Int) {\r\n                val position = viewHolder.adapterPosition\r\n                val entry: Entry = dictionaryAdapter.entries[position]\r\n                dictionaryAdapter.removeEntry(position)\r\n                val snackbar = Snackbar\r\n                    .make(\r\n                        coordinatorLayout,\r\n                        &quot;Item was removed from the list.&quot;,\r\n                        Snackbar.LENGTH_LONG\r\n                    )\r\n                snackbar.setAction(&quot;UNDO&quot;) {\r\n                    dictionaryAdapter.restoreEntry(entry, position)\r\n                    recyclerView.scrollToPosition(position)\r\n                }\r\n               \r\n                snackbar.setActionTextColor(Color.YELLOW)\r\n                snackbar.show()\r\n            }\r\n        }\r\n        val itemTouchhelper = ItemTouchHelper(swipeToDeleteCallback)\r\n        itemTouchhelper.attachToRecyclerView(recyclerView)\r\n    }\r\n}\r\n```\r\n\r\nSwipeToDeleteCallback.java:\r\n\r\n```\r\nabstract public class SwipeToDeleteCallback extends ItemTouchHelper.Callback {\r\n\r\n    Context mContext;\r\n    private Paint clearPaint;\r\n    private ColorDrawable background;\r\n    private int backgroundColor;\r\n    private Drawable deleteDrawable;\r\n    private int intrinsicWidth;\r\n    private int intrinsicHeight;\r\n\r\n\r\n    SwipeToDeleteCallback(Context context) {\r\n        mContext = context;\r\n        background = new ColorDrawable();\r\n        backgroundColor = Color.parseColor(&quot;#b80f0a&quot;);\r\n        clearPaint = new Paint();\r\n        clearPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.CLEAR));\r\n        deleteDrawable = ContextCompat.getDrawable(mContext, R.drawable.ic_delete);\r\n        intrinsicWidth = deleteDrawable.getIntrinsicWidth();\r\n        intrinsicHeight = deleteDrawable.getIntrinsicHeight();\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getMovementFlags(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder) {\r\n        return makeMovementFlags(0, ItemTouchHelper.LEFT);\r\n    }\r\n\r\n    @Override\r\n    public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder viewHolder1) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public void onChildDraw(@NonNull Canvas c, @NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, float dX, float dY, int actionState, boolean isCurrentlyActive) {\r\n        super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);\r\n\r\n        View itemView = viewHolder.itemView;\r\n        int itemHeight = itemView.getHeight();\r\n\r\n        boolean isCancelled = dX == 0 &amp;&amp; !isCurrentlyActive;\r\n\r\n        if (isCancelled) {\r\n            clearCanvas(c, itemView.getRight() + dX, (float) itemView.getTop(), (float) itemView.getRight(), (float) itemView.getBottom());\r\n            super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);\r\n            return;\r\n        }\r\n\r\n        background.setColor(backgroundColor);\r\n        background.setBounds(itemView.getRight() + (int) dX, itemView.getTop(), itemView.getRight(), itemView.getBottom());\r\n        background.draw(c);\r\n\r\n        int deleteIconTop = itemView.getTop() + (itemHeight - intrinsicHeight) / 2;\r\n        int deleteIconMargin = (itemHeight - intrinsicHeight) / 2;\r\n        int deleteIconLeft = itemView.getRight() - deleteIconMargin - intrinsicWidth;\r\n        int deleteIconRight = itemView.getRight() - deleteIconMargin;\r\n        int deleteIconBottom = deleteIconTop + intrinsicHeight;\r\n\r\n\r\n        deleteDrawable.setBounds(deleteIconLeft, deleteIconTop, deleteIconRight, deleteIconBottom);\r\n        deleteDrawable.draw(c);\r\n\r\n        super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);\r\n\r\n\r\n    }\r\n\r\n    private void clearCanvas(Canvas c, Float left, Float top, Float right, Float bottom) {\r\n        c.drawRect(left, top, right, bottom, clearPaint);\r\n\r\n    }\r\n\r\n    @Override\r\n    public float getSwipeThreshold(@NonNull RecyclerView.ViewHolder viewHolder) {\r\n        return 0.7f;\r\n    }\r\n}\r\n```\r\n\r\nDictionaryAdapter.java:\r\n\r\n```\r\npublic class DictionaryAdapter  extends\r\n        RecyclerView.Adapter&lt;DictionaryAdapter.ViewHolder&gt; {\r\n\r\n    // Provide a direct reference to each of the views within a data item\r\n    // Used to cache the views within the item layout for fast access\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        // Your holder should contain a member variable\r\n        // for any view that will be set as you render a row\r\n        private final TextView wordRussianTextView;\r\n        private final  TextView wordHebrewTextView;\r\n\r\n        private final  ProgressBar progressBar;\r\n        private final  ImageButton editButton;\r\n\r\n        // We also create a constructor that accepts the entire item row\r\n        // and does the view lookups to find each subview\r\n        public ViewHolder(View itemView) {\r\n            // Stores the itemView in a public final member variable that can be used\r\n            // to access the context from any ViewHolder instance.\r\n            super(itemView);\r\n\r\n            wordRussianTextView = (TextView) itemView.findViewById(R.id.textView7);\r\n            wordHebrewTextView = (TextView)  itemView.findViewById(R.id.textView8);\r\n            progressBar = (ProgressBar) itemView.findViewById(R.id.progressBar2);\r\n            editButton  = (ImageButton) itemView.findViewById(R.id.imageButton2);\r\n\r\n        }\r\n    }\r\n\r\n    private List&lt;Entry&gt; entries;\r\n\r\n    // Pass in the contact array into the constructor\r\n    public DictionaryAdapter(List&lt;Entry&gt; entries) {\r\n        this.entries = entries;\r\n    }\r\n\r\n    // Usually involves inflating a layout from XML and returning the holder\r\n    @NonNull\r\n    @Override\r\n    public DictionaryAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n        Context context = parent.getContext();\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n\r\n        // Inflate the custom layout\r\n        View contactView = inflater.inflate(R.layout.word_element, parent, false);\r\n\r\n        // Return a new holder instance\r\n        ViewHolder viewHolder = new ViewHolder(contactView);\r\n\r\n        return viewHolder;\r\n    }\r\n\r\n    // Involves populating data into the item through holder\r\n    @Override\r\n    public void onBindViewHolder(DictionaryAdapter.ViewHolder holder, int position) {\r\n        // Get the data model based on position\r\n        Entry entry = entries.get(position);\r\n\r\n        // Set item views based on your views and data model\r\n        holder.wordRussianTextView.setText(entry.getWord(Entry.LANGUAGE.RUSSIAN));\r\n        holder.wordHebrewTextView.setText(entry.getWord(Entry.LANGUAGE.HEBREW));\r\n        holder.progressBar.setProgress(entry.getProgress());\r\n\r\n\r\n        Log.e(&quot;onBindViewHolder&quot;, &quot;New item:&quot;);\r\n        Log.e(&quot;onBindViewHolder&quot;, &quot;russian : &quot; + holder.wordRussianTextView.getText());\r\n        Log.e(&quot;onBindViewHolder&quot;, &quot;hebrew : &quot; + holder.wordHebrewTextView.getText());\r\n        Log.e(&quot;onBindViewHolder&quot;, &quot;--------------------------------&quot;);\r\n\r\n        //holder.wordRussianTextView\r\n    }\r\n\r\n    // Returns the total count of items in the list\r\n    @Override\r\n    public int getItemCount() {\r\n        return entries.size();\r\n    }\r\n\r\n    public void removeEntry(int position) {\r\n        entries.remove(position);\r\n        notifyItemRemoved(position);\r\n    }\r\n\r\n    public void restoreEntry(Entry entry, int position) {\r\n        entries.add(position, entry);\r\n        notifyItemInserted(position);\r\n    }\r\n\r\n    public List&lt;Entry&gt; getEntries() {\r\n        return entries;\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"How to update item in RecyclerView after it finished its animation?","body":"<p>I am using a recyclerView to show all the entries from my database in a nice way. I added class SwipeToDeleteCallback to provide the ability to delete item from the recyclerView. When item deletes, recyclerview raises next items upward.</p>\n<p>Each item contains 2 textViews that update in onBindViewHolder() in adapter for recyclerView. The problem is when I delete some item, the last item appeared on the screen doesn't show these textViews correctly. I already tried adapter.notifyItemChanged() and view.postInvalidate() but it doesn't help.</p>\n<p>It seems that if recyclerView tries to update values of its child during the animation, it produces such error. I'm not sure if I'm right.</p>\n<p><a href=\"https://i.stack.imgur.com/wH9II.png\" rel=\"nofollow noreferrer\">Screenshot: After deleting a few previous item two last items doesn't appear properly</a></p>\n<p>DictionaryActivity.kt:</p>\n<pre><code>class DictionaryActivity : AppCompatActivity() {\n    private lateinit var coordinatorLayout : CoordinatorLayout\n    private lateinit var recyclerView : RecyclerView\n    private lateinit var dictionaryAdapter: DictionaryAdapter\n    private lateinit var linearLayoutManager: LinearLayoutManager\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.dictionary)\n\n        coordinatorLayout = findViewById&lt;View&gt;(R.id.dictionaryCoordinatorLayout) as CoordinatorLayout\n        recyclerView = findViewById&lt;View&gt;(R.id.recyclerView) as RecyclerView\n\n        // Create adapter passing in the sample user data\n        dictionaryAdapter = DictionaryAdapter(Database.getAllEntries(this))\n        // Attach the adapter to the recyclerview to populate items\n        recyclerView.adapter = dictionaryAdapter\n        // Set layout manager to position the items\n        linearLayoutManager = LinearLayoutManager(this)\n        recyclerView.layoutManager = linearLayoutManager\n\n        enableSwipeToDeleteAndUndo()\n    }\n\n    private fun enableSwipeToDeleteAndUndo() {\n        val swipeToDeleteCallback: SwipeToDeleteCallback = object : SwipeToDeleteCallback(this) {\n            override fun onSwiped(viewHolder: RecyclerView.ViewHolder, i: Int) {\n                val position = viewHolder.adapterPosition\n                val entry: Entry = dictionaryAdapter.entries[position]\n                dictionaryAdapter.removeEntry(position)\n                val snackbar = Snackbar\n                    .make(\n                        coordinatorLayout,\n                        &quot;Item was removed from the list.&quot;,\n                        Snackbar.LENGTH_LONG\n                    )\n                snackbar.setAction(&quot;UNDO&quot;) {\n                    dictionaryAdapter.restoreEntry(entry, position)\n                    recyclerView.scrollToPosition(position)\n                }\n               \n                snackbar.setActionTextColor(Color.YELLOW)\n                snackbar.show()\n            }\n        }\n        val itemTouchhelper = ItemTouchHelper(swipeToDeleteCallback)\n        itemTouchhelper.attachToRecyclerView(recyclerView)\n    }\n}\n</code></pre>\n<p>SwipeToDeleteCallback.java:</p>\n<pre><code>abstract public class SwipeToDeleteCallback extends ItemTouchHelper.Callback {\n\n    Context mContext;\n    private Paint clearPaint;\n    private ColorDrawable background;\n    private int backgroundColor;\n    private Drawable deleteDrawable;\n    private int intrinsicWidth;\n    private int intrinsicHeight;\n\n\n    SwipeToDeleteCallback(Context context) {\n        mContext = context;\n        background = new ColorDrawable();\n        backgroundColor = Color.parseColor(&quot;#b80f0a&quot;);\n        clearPaint = new Paint();\n        clearPaint.setXfermode(new PorterDuffXfermode(PorterDuff.Mode.CLEAR));\n        deleteDrawable = ContextCompat.getDrawable(mContext, R.drawable.ic_delete);\n        intrinsicWidth = deleteDrawable.getIntrinsicWidth();\n        intrinsicHeight = deleteDrawable.getIntrinsicHeight();\n\n\n    }\n\n\n    @Override\n    public int getMovementFlags(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder) {\n        return makeMovementFlags(0, ItemTouchHelper.LEFT);\n    }\n\n    @Override\n    public boolean onMove(@NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, @NonNull RecyclerView.ViewHolder viewHolder1) {\n        return false;\n    }\n\n    @Override\n    public void onChildDraw(@NonNull Canvas c, @NonNull RecyclerView recyclerView, @NonNull RecyclerView.ViewHolder viewHolder, float dX, float dY, int actionState, boolean isCurrentlyActive) {\n        super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);\n\n        View itemView = viewHolder.itemView;\n        int itemHeight = itemView.getHeight();\n\n        boolean isCancelled = dX == 0 &amp;&amp; !isCurrentlyActive;\n\n        if (isCancelled) {\n            clearCanvas(c, itemView.getRight() + dX, (float) itemView.getTop(), (float) itemView.getRight(), (float) itemView.getBottom());\n            super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);\n            return;\n        }\n\n        background.setColor(backgroundColor);\n        background.setBounds(itemView.getRight() + (int) dX, itemView.getTop(), itemView.getRight(), itemView.getBottom());\n        background.draw(c);\n\n        int deleteIconTop = itemView.getTop() + (itemHeight - intrinsicHeight) / 2;\n        int deleteIconMargin = (itemHeight - intrinsicHeight) / 2;\n        int deleteIconLeft = itemView.getRight() - deleteIconMargin - intrinsicWidth;\n        int deleteIconRight = itemView.getRight() - deleteIconMargin;\n        int deleteIconBottom = deleteIconTop + intrinsicHeight;\n\n\n        deleteDrawable.setBounds(deleteIconLeft, deleteIconTop, deleteIconRight, deleteIconBottom);\n        deleteDrawable.draw(c);\n\n        super.onChildDraw(c, recyclerView, viewHolder, dX, dY, actionState, isCurrentlyActive);\n\n\n    }\n\n    private void clearCanvas(Canvas c, Float left, Float top, Float right, Float bottom) {\n        c.drawRect(left, top, right, bottom, clearPaint);\n\n    }\n\n    @Override\n    public float getSwipeThreshold(@NonNull RecyclerView.ViewHolder viewHolder) {\n        return 0.7f;\n    }\n}\n</code></pre>\n<p>DictionaryAdapter.java:</p>\n<pre><code>public class DictionaryAdapter  extends\n        RecyclerView.Adapter&lt;DictionaryAdapter.ViewHolder&gt; {\n\n    // Provide a direct reference to each of the views within a data item\n    // Used to cache the views within the item layout for fast access\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        // Your holder should contain a member variable\n        // for any view that will be set as you render a row\n        private final TextView wordRussianTextView;\n        private final  TextView wordHebrewTextView;\n\n        private final  ProgressBar progressBar;\n        private final  ImageButton editButton;\n\n        // We also create a constructor that accepts the entire item row\n        // and does the view lookups to find each subview\n        public ViewHolder(View itemView) {\n            // Stores the itemView in a public final member variable that can be used\n            // to access the context from any ViewHolder instance.\n            super(itemView);\n\n            wordRussianTextView = (TextView) itemView.findViewById(R.id.textView7);\n            wordHebrewTextView = (TextView)  itemView.findViewById(R.id.textView8);\n            progressBar = (ProgressBar) itemView.findViewById(R.id.progressBar2);\n            editButton  = (ImageButton) itemView.findViewById(R.id.imageButton2);\n\n        }\n    }\n\n    private List&lt;Entry&gt; entries;\n\n    // Pass in the contact array into the constructor\n    public DictionaryAdapter(List&lt;Entry&gt; entries) {\n        this.entries = entries;\n    }\n\n    // Usually involves inflating a layout from XML and returning the holder\n    @NonNull\n    @Override\n    public DictionaryAdapter.ViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        Context context = parent.getContext();\n        LayoutInflater inflater = LayoutInflater.from(context);\n\n        // Inflate the custom layout\n        View contactView = inflater.inflate(R.layout.word_element, parent, false);\n\n        // Return a new holder instance\n        ViewHolder viewHolder = new ViewHolder(contactView);\n\n        return viewHolder;\n    }\n\n    // Involves populating data into the item through holder\n    @Override\n    public void onBindViewHolder(DictionaryAdapter.ViewHolder holder, int position) {\n        // Get the data model based on position\n        Entry entry = entries.get(position);\n\n        // Set item views based on your views and data model\n        holder.wordRussianTextView.setText(entry.getWord(Entry.LANGUAGE.RUSSIAN));\n        holder.wordHebrewTextView.setText(entry.getWord(Entry.LANGUAGE.HEBREW));\n        holder.progressBar.setProgress(entry.getProgress());\n\n\n        Log.e(&quot;onBindViewHolder&quot;, &quot;New item:&quot;);\n        Log.e(&quot;onBindViewHolder&quot;, &quot;russian : &quot; + holder.wordRussianTextView.getText());\n        Log.e(&quot;onBindViewHolder&quot;, &quot;hebrew : &quot; + holder.wordHebrewTextView.getText());\n        Log.e(&quot;onBindViewHolder&quot;, &quot;--------------------------------&quot;);\n\n        //holder.wordRussianTextView\n    }\n\n    // Returns the total count of items in the list\n    @Override\n    public int getItemCount() {\n        return entries.size();\n    }\n\n    public void removeEntry(int position) {\n        entries.remove(position);\n        notifyItemRemoved(position);\n    }\n\n    public void restoreEntry(Entry entry, int position) {\n        entries.add(position, entry);\n        notifyItemInserted(position);\n    }\n\n    public List&lt;Entry&gt; getEntries() {\n        return entries;\n    }\n}\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":5863496,"reputation":8458,"user_id":4618331,"display_name":"Sam"},"score":0,"creation_date":1662396902,"post_id":73612270,"comment_id":129991714,"body_markdown":"Does this answer your question? [Sharing an Eclipse workspace between two computers](https://stackoverflow.com/questions/54315349/sharing-an-eclipse-workspace-between-two-computers)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54315349/sharing-an-eclipse-workspace-between-two-computers\">Sharing an Eclipse workspace between two computers</a>"}],"answers":[{"tags":[],"owner":{"account_id":20013341,"reputation":33,"user_id":14670260,"display_name":"I_am_a_squirrel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662395429,"creation_date":1662395429,"answer_id":73612313,"question_id":73612270,"body_markdown":"I think the better and the most general way is using git control version system for this. If you want something is like in live stream it is going to cause a lot of editing problems because of synchronization issues.","title":"Sharing A Project Between 2 Computers","body":"<p>I think the better and the most general way is using git control version system for this. If you want something is like in live stream it is going to cause a lot of editing problems because of synchronization issues.</p>\n"},{"tags":[],"owner":{"account_id":26197327,"reputation":26,"user_id":19878264,"display_name":"Yotam Shtibel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662397444,"creation_date":1662397444,"answer_id":73612660,"question_id":73612270,"body_markdown":"If you are a student, i suggest of using [GITHUB desktop][1].\r\nvery easy to use for first git users.\r\n\r\n\r\n  [1]: https://desktop.github.com/","title":"Sharing A Project Between 2 Computers","body":"<p>If you are a student, i suggest of using <a href=\"https://desktop.github.com/\" rel=\"nofollow noreferrer\">GITHUB desktop</a>.\nvery easy to use for first git users.</p>\n"}],"owner":{"account_id":24421628,"reputation":29,"user_id":19924782,"display_name":"jgore077"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73612660,"answer_count":2,"score":0,"last_activity_date":1687017061,"creation_date":1662395103,"question_id":73612270,"body_markdown":"Im a college student with a laptop and a desktop but I want to have a shared eclipse workspace that automatically updates whatever changes Ive made to the shared files.\r\n\r\nEdit:\r\nGithub is the best way to do this as with a single command you can download/update the code and be working within seconds of that command.","title":"Sharing A Project Between 2 Computers","body":"<p>Im a college student with a laptop and a desktop but I want to have a shared eclipse workspace that automatically updates whatever changes Ive made to the shared files.</p>\n<p>Edit:\nGithub is the best way to do this as with a single command you can download/update the code and be working within seconds of that command.</p>\n"},{"tags":["java","mysql","javafx","jdbc","scenebuilder"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1686934062,"post_id":76492156,"comment_id":134871667,"body_markdown":"Put a breakpoint at `categorytab.setItems(categories)` and make sure categories is not an empty list.","body":"Put a breakpoint at <code>categorytab.setItems(categories)</code> and make sure categories is not an empty list."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1686936452,"post_id":76492156,"comment_id":134872136,"body_markdown":"I assume you already tried hard-coding some `Category` objects and adding them to the table, instead of loading them from the database. What happened when you tried that?","body":"I assume you already tried hard-coding some <code>Category</code> objects and adding them to the table, instead of loading them from the database. What happened when you tried that?"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1686936498,"post_id":76492156,"comment_id":134872142,"body_markdown":"Nothing to do with your question but the following looks strange. `@FXML\n    private Stage primaryStage; // Declare the Stage reference\n\n    public void setPrimaryStage(Stage primaryStage) {\n        this.primaryStage = primaryStage;\n    }`","body":"Nothing to do with your question but the following looks strange. <code>@FXML     private Stage primaryStage; &#47;&#47; Declare the Stage reference      public void setPrimaryStage(Stage primaryStage) {         this.primaryStage = primaryStage;     }</code>"},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1686938676,"post_id":76492156,"comment_id":134872487,"body_markdown":"show the Categories class","body":"show the Categories class"},{"owner":{"account_id":22146963,"reputation":93,"user_id":16396049,"display_name":"rakin235"},"score":0,"creation_date":1686983736,"post_id":76492156,"comment_id":134876404,"body_markdown":"@Anon here is my Categories class. https://pastebin.com/wtRcz63s","body":"@Anon here is my Categories class. <a href=\"https://pastebin.com/wtRcz63s\" rel=\"nofollow noreferrer\">pastebin.com/wtRcz63s</a>"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1687014812,"post_id":76492156,"comment_id":134879458,"body_markdown":"Post the `Categories` (sic) class *in the question*. Don&#39;t use external links to code.","body":"Post the <code>Categories</code> (sic) class <i>in the question</i>. Don&#39;t use external links to code."},{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1687020546,"post_id":76492156,"comment_id":134880230,"body_markdown":"hmm `new PropertyValueFactory&lt;&gt;(&quot;category_name&quot;)` should be `new PropertyValueFactory&lt;&gt;(&quot;categoryName&quot;)` and the same for date but im not really sure  since you dont use the normal naming conventions of java like this getter for ex `getCategory_name` it should be `getCategoryName`","body":"hmm <code>new PropertyValueFactory&lt;&gt;(&quot;category_name&quot;)</code> should be <code>new PropertyValueFactory&lt;&gt;(&quot;categoryName&quot;)</code> and the same for date but im not really sure  since you dont use the normal naming conventions of java like this getter for ex <code>getCategory_name</code> it should be <code>getCategoryName</code>"}],"owner":{"account_id":22146963,"reputation":93,"user_id":16396049,"display_name":"rakin235"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687016864,"creation_date":1686933756,"question_id":76492156,"body_markdown":"I was working on a project to build a note-taking app. I have a form where users can create categories of notes. Such as work, study and so on are examples of the categories of notes. Although users can create categories successfully. Their data can be stored in the database without any kind of issue. But the problem is I can&#39;t load those data in my application to display the user. A user should display all the categories he/she made in a tabular format but my application shows an empty table. Here is my code: \r\n\r\n&gt; ViewCategories.java\r\n\r\n    package com.example.noteapp;\r\n    \r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.stage.Stage;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.scene.control.MenuBar;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.Menu;\r\n    import java.io.IOException;\r\n    import java.sql.Connection;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Date;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    \r\n    public class ViewCategories {\r\n        @FXML\r\n        private Stage primaryStage; // Declare the Stage reference\r\n    \r\n        public void setPrimaryStage(Stage primaryStage) {\r\n            this.primaryStage = primaryStage;\r\n        }\r\n    \r\n    \r\n        @FXML\r\n        private Menu createnote;\r\n    \r\n        @FXML\r\n        private Menu viewnote;\r\n    \r\n        @FXML\r\n        private Menu takenote;\r\n    \r\n        @FXML\r\n        private MenuBar optionmenu;\r\n    \r\n        @FXML\r\n        private TableView&lt;Categories&gt; categorytab;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Categories, String&gt; categoryname;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Categories, Integer&gt; catid;\r\n    \r\n        @FXML\r\n        private TableColumn&lt;Categories, Date&gt; created_date;\r\n    \r\n        public void initialize() {\r\n            catid.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\r\n            categoryname.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;category_name&quot;));\r\n            created_date.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;created_date&quot;));\r\n            viewCategories();\r\n        }\r\n    \r\n        @FXML\r\n        public void viewCategories(){\r\n            String url = &quot;jdbc:mysql://localhost:3306/noteapp&quot;;\r\n            String user = &quot;root&quot;;\r\n            String pass = &quot;&quot;;\r\n    \r\n    \r\n            try{\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection connection = DriverManager.getConnection(url,user,pass);\r\n                String sql = &quot;Select * from category&quot;;\r\n                PreparedStatement statement = connection.prepareStatement(sql);\r\n                ResultSet resultSet = statement.executeQuery();\r\n                ObservableList&lt;Categories&gt; categories = FXCollections.observableArrayList();\r\n                while (resultSet.next()) {\r\n                    int id = resultSet.getInt(&quot;catid&quot;);\r\n                    String category_name = resultSet.getString(&quot;categoryname&quot;);\r\n                    Date created_date = resultSet.getDate(&quot;created_date&quot;);\r\n                    Categories category = new Categories(id,category_name,created_date);\r\n                    categories.add(category);\r\n                }\r\n    \r\n                categorytab.setItems(categories);\r\n    \r\n                resultSet.close();\r\n                statement.close();\r\n                connection.close();\r\n    //            showAlert(&quot;Successfully login&quot;, &quot;Login as &quot;+u);\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Connection failed.&quot;);\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nI intend to display database data but my application shows an empty table. I am sure that my database isn&#39;t empty. If any other piece of code is needed, please let me know. \r\n\r\nAs I got some comments to share Categories class, here I am sharing that\r\n\r\n&gt; Categories.java\r\n\r\n    package com.example.noteapp;\r\n     \r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Menu;\r\n    import javafx.scene.control.Alert;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.control.MenuBar;\r\n    import javafx.stage.Stage;\r\n     \r\n    import java.sql.Connection;\r\n    import java.sql.Date;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.io.IOException;\r\n     \r\n    public class Categories {\r\n        private int id;\r\n        private String categoryName;\r\n        private Date createdDate;\r\n     \r\n        public int getId() {\r\n            return id;\r\n        }\r\n     \r\n        public String getCategory_name() {\r\n            return categoryName;\r\n        }\r\n     \r\n        public Date getCreated_date() {\r\n            return createdDate;\r\n        }\r\n     \r\n        @FXML\r\n        private Stage primaryStage; // Declare the Stage reference\r\n     \r\n        public void setPrimaryStage(Stage primaryStage) {\r\n            this.primaryStage = primaryStage;\r\n        }\r\n     \r\n        public Categories(){}\r\n     \r\n        public Categories(int id, String categoryName, Date createdDate) {\r\n            this.id = id;\r\n            this.categoryName = categoryName;\r\n            this.createdDate = createdDate;\r\n        }\r\n     \r\n     \r\n        @FXML\r\n        private TextField categoryid;\r\n     \r\n        @FXML\r\n        private Button createbtn;\r\n     \r\n        @FXML\r\n        private Menu view;\r\n     \r\n        @FXML\r\n        private MenuBar menubar;\r\n     \r\n        @FXML\r\n        public void createCategory(){\r\n            String url = &quot;jdbc:mysql://localhost:3306/noteapp&quot;;\r\n            String user = &quot;root&quot;;\r\n            String pass = &quot;&quot;;\r\n     \r\n            try{\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n                Connection connection = DriverManager.getConnection(url,user,pass);\r\n                String sql = &quot;insert into category(category_name) values (?)&quot;;\r\n                PreparedStatement statement = connection.prepareStatement(sql);\r\n                String cat = categoryid.getText();\r\n                statement.setString(1, cat);\r\n                statement.executeUpdate();\r\n     \r\n                showAlert(&quot;Created Successful&quot;, &quot;201 created!&quot;);\r\n            }catch(Exception e){\r\n                System.out.println(&quot;Connection failed.&quot;);\r\n            }\r\n        }\r\n     \r\n        @FXML\r\n        public void showCategories(){\r\n            try {\r\n                FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;categorylist.fxml&quot;));\r\n                AnchorPane categoryLayout = loader.load();\r\n                Scene loginScene = new Scene(categoryLayout);\r\n     \r\n                // Access the controller of the login.fxml file and pass the primaryStage reference\r\n                ViewCategories categoriesController = loader.getController();\r\n                categoriesController.setPrimaryStage(primaryStage);\r\n     \r\n                primaryStage.setScene(loginScene);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n     \r\n        private void showAlert(String title, String message) {\r\n            Alert alert = new Alert(Alert.AlertType.INFORMATION);\r\n            alert.setTitle(title);\r\n            alert.setHeaderText(null);\r\n            alert.setContentText(message);\r\n            alert.showAndWait();\r\n        }\r\n     \r\n    }\r\n\r\nI am new to JavaFX, so please consider.\r\n","title":"Why I can&#39;t load data from database in my javafx application?","body":"<p>I was working on a project to build a note-taking app. I have a form where users can create categories of notes. Such as work, study and so on are examples of the categories of notes. Although users can create categories successfully. Their data can be stored in the database without any kind of issue. But the problem is I can't load those data in my application to display the user. A user should display all the categories he/she made in a tabular format but my application shows an empty table. Here is my code:</p>\n<blockquote>\n<p>ViewCategories.java</p>\n</blockquote>\n<pre><code>package com.example.noteapp;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.stage.Stage;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.scene.control.MenuBar;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.Menu;\nimport java.io.IOException;\nimport java.sql.Connection;\nimport java.sql.ResultSet;\nimport java.sql.Date;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\n\npublic class ViewCategories {\n    @FXML\n    private Stage primaryStage; // Declare the Stage reference\n\n    public void setPrimaryStage(Stage primaryStage) {\n        this.primaryStage = primaryStage;\n    }\n\n\n    @FXML\n    private Menu createnote;\n\n    @FXML\n    private Menu viewnote;\n\n    @FXML\n    private Menu takenote;\n\n    @FXML\n    private MenuBar optionmenu;\n\n    @FXML\n    private TableView&lt;Categories&gt; categorytab;\n\n    @FXML\n    private TableColumn&lt;Categories, String&gt; categoryname;\n\n    @FXML\n    private TableColumn&lt;Categories, Integer&gt; catid;\n\n    @FXML\n    private TableColumn&lt;Categories, Date&gt; created_date;\n\n    public void initialize() {\n        catid.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;id&quot;));\n        categoryname.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;category_name&quot;));\n        created_date.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;created_date&quot;));\n        viewCategories();\n    }\n\n    @FXML\n    public void viewCategories(){\n        String url = &quot;jdbc:mysql://localhost:3306/noteapp&quot;;\n        String user = &quot;root&quot;;\n        String pass = &quot;&quot;;\n\n\n        try{\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection connection = DriverManager.getConnection(url,user,pass);\n            String sql = &quot;Select * from category&quot;;\n            PreparedStatement statement = connection.prepareStatement(sql);\n            ResultSet resultSet = statement.executeQuery();\n            ObservableList&lt;Categories&gt; categories = FXCollections.observableArrayList();\n            while (resultSet.next()) {\n                int id = resultSet.getInt(&quot;catid&quot;);\n                String category_name = resultSet.getString(&quot;categoryname&quot;);\n                Date created_date = resultSet.getDate(&quot;created_date&quot;);\n                Categories category = new Categories(id,category_name,created_date);\n                categories.add(category);\n            }\n\n            categorytab.setItems(categories);\n\n            resultSet.close();\n            statement.close();\n            connection.close();\n//            showAlert(&quot;Successfully login&quot;, &quot;Login as &quot;+u);\n        }catch(Exception e){\n            System.out.println(&quot;Connection failed.&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>I intend to display database data but my application shows an empty table. I am sure that my database isn't empty. If any other piece of code is needed, please let me know.</p>\n<p>As I got some comments to share Categories class, here I am sharing that</p>\n<blockquote>\n<p>Categories.java</p>\n</blockquote>\n<pre><code>package com.example.noteapp;\n \nimport javafx.fxml.FXML;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Menu;\nimport javafx.scene.control.Alert;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.control.MenuBar;\nimport javafx.stage.Stage;\n \nimport java.sql.Connection;\nimport java.sql.Date;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.io.IOException;\n \npublic class Categories {\n    private int id;\n    private String categoryName;\n    private Date createdDate;\n \n    public int getId() {\n        return id;\n    }\n \n    public String getCategory_name() {\n        return categoryName;\n    }\n \n    public Date getCreated_date() {\n        return createdDate;\n    }\n \n    @FXML\n    private Stage primaryStage; // Declare the Stage reference\n \n    public void setPrimaryStage(Stage primaryStage) {\n        this.primaryStage = primaryStage;\n    }\n \n    public Categories(){}\n \n    public Categories(int id, String categoryName, Date createdDate) {\n        this.id = id;\n        this.categoryName = categoryName;\n        this.createdDate = createdDate;\n    }\n \n \n    @FXML\n    private TextField categoryid;\n \n    @FXML\n    private Button createbtn;\n \n    @FXML\n    private Menu view;\n \n    @FXML\n    private MenuBar menubar;\n \n    @FXML\n    public void createCategory(){\n        String url = &quot;jdbc:mysql://localhost:3306/noteapp&quot;;\n        String user = &quot;root&quot;;\n        String pass = &quot;&quot;;\n \n        try{\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n            Connection connection = DriverManager.getConnection(url,user,pass);\n            String sql = &quot;insert into category(category_name) values (?)&quot;;\n            PreparedStatement statement = connection.prepareStatement(sql);\n            String cat = categoryid.getText();\n            statement.setString(1, cat);\n            statement.executeUpdate();\n \n            showAlert(&quot;Created Successful&quot;, &quot;201 created!&quot;);\n        }catch(Exception e){\n            System.out.println(&quot;Connection failed.&quot;);\n        }\n    }\n \n    @FXML\n    public void showCategories(){\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;categorylist.fxml&quot;));\n            AnchorPane categoryLayout = loader.load();\n            Scene loginScene = new Scene(categoryLayout);\n \n            // Access the controller of the login.fxml file and pass the primaryStage reference\n            ViewCategories categoriesController = loader.getController();\n            categoriesController.setPrimaryStage(primaryStage);\n \n            primaryStage.setScene(loginScene);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n \n    private void showAlert(String title, String message) {\n        Alert alert = new Alert(Alert.AlertType.INFORMATION);\n        alert.setTitle(title);\n        alert.setHeaderText(null);\n        alert.setContentText(message);\n        alert.showAndWait();\n    }\n \n}\n</code></pre>\n<p>I am new to JavaFX, so please consider.</p>\n"},{"tags":["java","cron","timezone","timezone-offset"],"comments":[{"owner":{"account_id":900525,"reputation":703,"user_id":936786,"accept_rate":55,"display_name":"Jyoti Ranjan"},"score":0,"creation_date":1476377441,"post_id":28228364,"comment_id":67330764,"body_markdown":"Did you get any solution for this? I am also having same problem.","body":"Did you get any solution for this? I am also having same problem."},{"owner":{"account_id":4680842,"reputation":661,"user_id":3789599,"accept_rate":44,"display_name":"Bruce"},"score":0,"creation_date":1476424569,"post_id":28228364,"comment_id":67348198,"body_markdown":"@JyotiRanjan, I still haven&#39;t find any solution for this. I have made the conversation manually.","body":"@JyotiRanjan, I still haven&#39;t find any solution for this. I have made the conversation manually."},{"owner":{"account_id":900525,"reputation":703,"user_id":936786,"accept_rate":55,"display_name":"Jyoti Ranjan"},"score":0,"creation_date":1476425941,"post_id":28228364,"comment_id":67348831,"body_markdown":"okay, I will let you know if I find something or code for this conversion in java. In my case, if it is done by js/jquery, then also it is fine.","body":"okay, I will let you know if I find something or code for this conversion in java. In my case, if it is done by js/jquery, then also it is fine."}],"answers":[{"tags":[],"owner":{"account_id":1907169,"reputation":1234,"user_id":1721793,"display_name":"sashimi"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1445334879,"creation_date":1445333537,"answer_id":33232997,"question_id":28228364,"body_markdown":"If you are willing to retain same cron expression, but give contextual calculations based on date timezone (so that user and serverside get next execution based on their timezones for same expression), you may use [cron-utils][1], which provides such functionality. All next/previous execution calculations are contextual to timezone, since release 3.1.1.\r\n\r\nThey provide an example at the docs:\r\n\r\n    //Get date for last execution\r\n    DateTime now = DateTime.now();\r\n    ExecutionTime executionTime = ExecutionTime.forCron(parser.parse(&quot;* * * * * * *&quot;));\r\n    DateTime lastExecution = executionTime.lastExecution(now));\r\n\r\n    //Get date for next execution\r\n    DateTime nextExecution = executionTime.nextExecution(now));\r\n\r\nnextExecution value will be calculated for same timezone as reference date (now). \r\n\r\n  [1]: http://github.com/jmrozanec/cron-utils","title":"Convert cron expression from one timezone to another one","body":"<p>If you are willing to retain same cron expression, but give contextual calculations based on date timezone (so that user and serverside get next execution based on their timezones for same expression), you may use <a href=\"http://github.com/jmrozanec/cron-utils\" rel=\"nofollow\">cron-utils</a>, which provides such functionality. All next/previous execution calculations are contextual to timezone, since release 3.1.1.</p>\n\n<p>They provide an example at the docs:</p>\n\n<pre><code>//Get date for last execution\nDateTime now = DateTime.now();\nExecutionTime executionTime = ExecutionTime.forCron(parser.parse(\"* * * * * * *\"));\nDateTime lastExecution = executionTime.lastExecution(now));\n\n//Get date for next execution\nDateTime nextExecution = executionTime.nextExecution(now));\n</code></pre>\n\n<p>nextExecution value will be calculated for same timezone as reference date (now). </p>\n"},{"tags":[],"owner":{"account_id":28830078,"reputation":1,"user_id":22080733,"display_name":"cezar berardo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687016583,"creation_date":1686865767,"answer_id":76485740,"question_id":28228364,"body_markdown":"You can try it: https://github.com/VidocqH/cron-timezone-convert\r\n\r\ninstall crontzconvert\r\n\r\n    pip3 install crontzconvert\r\n\r\nuse it\r\n\r\n~~~ python\r\nimport crontzconvert\r\n\r\nprint(crontzconvert.convert(&#39;5 13 * * 3&#39;, &#39;Etc/GMT-3&#39;, &#39;Etc/UTC&#39;))\r\n~~~","title":"Convert cron expression from one timezone to another one","body":"<p>You can try it: <a href=\"https://github.com/VidocqH/cron-timezone-convert\" rel=\"nofollow noreferrer\">https://github.com/VidocqH/cron-timezone-convert</a></p>\n<p>install crontzconvert</p>\n<pre><code>pip3 install crontzconvert\n</code></pre>\n<p>use it</p>\n<pre class=\"lang-py prettyprint-override\"><code>import crontzconvert\n\nprint(crontzconvert.convert('5 13 * * 3', 'Etc/GMT-3', 'Etc/UTC'))\n</code></pre>\n"}],"owner":{"account_id":4680842,"reputation":661,"user_id":3789599,"accept_rate":44,"display_name":"Bruce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7194,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1687016583,"creation_date":1422585574,"question_id":28228364,"body_markdown":"I am looking for a way to convert cron expression from one timezone to another one timezone.\r\n\r\nFor example, my web-client user is GMT+1200 and my server-side is GMT+0800, while user setting 02:10 to execute task every Tuesday and Thursday, the cron expression will be `0 10 2 3,5 * ?`, and I have used code as below, it can get current fire time for user&#39;s timezone\r\n\r\n\r\n```java\r\nCronExpression expr = new CronExpression(&quot;0 10 2 3,5 * ?&quot;);\r\n\t\t\r\nSystem.out.println(expr.getNextValidTimeAfter(new Date()));\r\nSystem.out.println(expr.getTimeZone());\r\nSystem.out.println(expr.getExpressionSummary());\r\nSystem.out.println(&quot;=======&quot;);\r\nTimeZone tz = TimeZone.getTimeZone(&quot;GMT+1200&quot;);\r\nexpr.setTimeZone(tz);\r\nSystem.out.println(expr.getNextValidTimeAfter(new Date()));\r\nSystem.out.println(expr.getTimeZone());\r\nSystem.out.println(expr.getExpressionSummary());\r\n```\r\n\r\nThe `getNextValidTimeAfter` will print `Mon Feb 02 22:10:00 CST 2015`, which after `setTimeZone(tz);`, however the `getExpreesionSummary` or even `getCronExpression()` will still be `0 10 2 3,5 * ?`, where I want to get string will be `0 10 22 2,4 * ?` and then I can save into DB for next time fire and also another time-zone user to query setting (of course this will need to convert `0 10 22 2,4 * ?` to this user&#39;s timezone)\r\n\r\nAny help is appreciated","title":"Convert cron expression from one timezone to another one","body":"<p>I am looking for a way to convert cron expression from one timezone to another one timezone.</p>\n<p>For example, my web-client user is GMT+1200 and my server-side is GMT+0800, while user setting 02:10 to execute task every Tuesday and Thursday, the cron expression will be <code>0 10 2 3,5 * ?</code>, and I have used code as below, it can get current fire time for user's timezone</p>\n<pre class=\"lang-java prettyprint-override\"><code>CronExpression expr = new CronExpression(&quot;0 10 2 3,5 * ?&quot;);\n        \nSystem.out.println(expr.getNextValidTimeAfter(new Date()));\nSystem.out.println(expr.getTimeZone());\nSystem.out.println(expr.getExpressionSummary());\nSystem.out.println(&quot;=======&quot;);\nTimeZone tz = TimeZone.getTimeZone(&quot;GMT+1200&quot;);\nexpr.setTimeZone(tz);\nSystem.out.println(expr.getNextValidTimeAfter(new Date()));\nSystem.out.println(expr.getTimeZone());\nSystem.out.println(expr.getExpressionSummary());\n</code></pre>\n<p>The <code>getNextValidTimeAfter</code> will print <code>Mon Feb 02 22:10:00 CST 2015</code>, which after <code>setTimeZone(tz);</code>, however the <code>getExpreesionSummary</code> or even <code>getCronExpression()</code> will still be <code>0 10 2 3,5 * ?</code>, where I want to get string will be <code>0 10 22 2,4 * ?</code> and then I can save into DB for next time fire and also another time-zone user to query setting (of course this will need to convert <code>0 10 22 2,4 * ?</code> to this user's timezone)</p>\n<p>Any help is appreciated</p>\n"},{"tags":["java","jframe","mouseevent","bufferedimage"],"owner":{"account_id":24066222,"reputation":3,"user_id":18042753,"display_name":"Sharar294"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687015515,"creation_date":1687014959,"question_id":76496852,"body_markdown":"**Main Class**\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class Main extends JPanel {\r\n\r\n    RocketLaunch r = new RocketLaunch(0,0,0,0,0);\r\n    Warehouse w = new Warehouse (100,100,500,500,this);\r\n    Selector s = new Selector(this, w);\r\n    Nose n = new Nose();\r\n\r\n\r\n\r\n    public Main() {\r\n\r\n\r\n\r\n        addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mousePressed(MouseEvent me) {\r\n                s.mousePressed(me);\r\n            }\r\n            @Override\r\n            public void mouseReleased(MouseEvent me) {\r\n                s.mouseReleased(me);\r\n            }\r\n            @Override\r\n            public void mouseClicked(MouseEvent me) {\r\n                s.mouseClicked(me);\r\n            }\r\n\r\n\r\n        });\r\n\r\n        setFocusable(true);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    public void paint(Graphics g) {\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        super.paint(g2d);\r\n        //r.paint(g2d);\r\n        w.paint(g2d);\r\n        s.paint(g2d);\r\n        n.paint(g2d);\r\n\r\n    }\r\n\r\n\r\n    public void move() {\r\n        //r.move();\r\n    }\r\n\r\n\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n        JFrame frame = new JFrame(&quot;Rocket&quot;);\r\n        Main panel = new Main();\r\n        frame.add(panel);\r\n\r\n        //frame.setSize(1020, 640);\r\n\r\n        frame.setVisible(true);\r\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        while (true) {\r\n            panel.move();\r\n            panel.repaint();\r\n            Thread.sleep(10);\r\n        }\r\n    }\r\n    public int getScreenHeight(){\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        int height = (int) screenSize.getHeight()-125;\r\n        System.out.println(height);\r\n        return height;\r\n    }\r\n\r\n    public int getScreenWidth(){\r\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\r\n        int width = (int) screenSize.getWidth()-125;\r\n        System.out.println(width);\r\n        return width;\r\n    }\r\n}\r\n```\r\n\r\n**Selector Class**\r\n\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.imageio.*;\r\nimport java.io.*;\r\nimport java.awt.image.BufferedImage;\r\nimport java.awt.event.MouseEvent;\r\n\r\n\r\npublic class Selector {\r\n    private BufferedImage img4 = null;\r\n    private Main k;\r\n    private int x;\r\n    private int y;\r\n    private int width;\r\n    private int height;\r\n    private BufferedImage img = null;\r\n\r\n\r\n\r\n    private boolean isClicked = false;\r\n    private boolean isPressed = false;\r\n    private Warehouse w;\r\n    private Nose n;\r\n\r\n    public Selector (Main k, Warehouse w) {\r\n\r\n    this.k = k;\r\n\r\n    try {\r\n        img = ImageIO.read(new File(&quot;res\\\\sizetable.jpg&quot;));\r\n        img4 = ImageIO.read(new File(&quot;res\\\\nose1.png&quot;));\r\n\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Error&quot;);\r\n        }\r\n    }\r\n\r\n    public void mousePressed(MouseEvent me) {\r\n        if (me.getButton() == MouseEvent.BUTTON1) {\r\n            isClicked = true;\r\n            x = me.getX();\r\n            y = me.getY();\r\n        }\r\n    }\r\n    public void mouseReleased(MouseEvent me) {\r\n        if (me.getButton() == MouseEvent.BUTTON1) {\r\n            isClicked = false;\r\n\r\n        }\r\n    }\r\n\r\n    public void mouseClicked(MouseEvent me) {\r\n        if (me.getButton() == MouseEvent.BUTTON1) {\r\n            isPressed = true;\r\n        }\r\n    }\r\n\r\n\r\n    public void paint (Graphics g) {\r\n\r\n        //g.drawImage(img, 230,50,150,150,null);\r\n        //g.setColor(Color.red);\r\n        //g.drawRect(235, 55, 140, 43);\r\n        //g.drawRect(235, 103, 140, 43);\r\n        //g.drawRect(235, 151, 140, 43);\r\n        int num = 0;\r\n        boolean small = false;\r\n\r\n        if (isClicked == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 252 &amp;&amp; y &gt; 22) {\r\n            g.setColor(Color.red);\r\n            g.drawRect(15, 22, 200, 230);\r\n        }\r\n\r\n        if (isPressed == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 98 &amp;&amp; y &gt; 55) {\r\n            small = true;\r\n        }\r\n//small\r\n        if (isClicked == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 98 &amp;&amp; y &gt; 55) {\r\n            g.setColor(Color.RED);\r\n            g.drawRect(235, 55, 140, 43);\r\n\r\n        }\r\n\r\n        if (small == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 98 &amp;&amp; y &gt; 55) {\r\n            g.drawImage(img4, 600, 300, 500, 500, null);\r\n\r\n        }\r\n//medium\r\n        if (isClicked == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 146 &amp;&amp; y &gt; 103) {\r\n            g.setColor(Color.RED);\r\n            g.drawRect(235, 103, 140, 43);\r\n        }\r\n//large\r\n        if (isClicked == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 194 &amp;&amp; y &gt; 151) {\r\n            g.setColor(Color.RED);\r\n            g.drawRect(235, 151, 140, 43);\r\n        }\r\n\r\n\r\n\r\n        if (isClicked == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &gt; 272 &amp;&amp; y &lt; 502) {\r\n            g.setColor(Color.red);\r\n            g.drawRect(15, 272, 200, 230);\r\n        }\r\n\r\n        if (isPressed == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &gt; 272 &amp;&amp; y &lt; 502) {\r\n            g.drawImage(img, 230,300,150,150,null);\r\n        }\r\n\r\n\r\n        if (isClicked == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 753 &amp;&amp; y &gt; 522) {\r\n            g.setColor(Color.red);\r\n            g.drawRect(15, 522, 200, 230);\r\n        }\r\n\r\n        if (isPressed == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 753 &amp;&amp; y &gt; 522) {\r\n            g.drawImage(img, 230,550,150,150,null);\r\n        }\r\n\r\n        if (isClicked == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 1005 &amp;&amp; y &gt; 775) {\r\n            g.setColor(Color.red);\r\n            g.drawRect(15, 775, 200, 230);\r\n        }\r\n\r\n        if (isPressed == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 1005 &amp;&amp; y &gt; 775) {\r\n            g.drawImage(img, 230,800,150,150,null);\r\n        }\r\n\r\nif (isPressed == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 252 &amp;&amp; y &gt; 22){\r\n    num = 1;\r\n}\r\n\r\nif (num == 1){\r\n    g.drawImage(img, 230,50,150,150,null);\r\n}\r\n\r\n    }\r\n\r\n    public boolean isClicked(){\r\n        return isClicked;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nMy teacher told me to draw an instance of it and draw it in main so it stays but I can&#39;t figure it out.\r\nThe small, medium and large are three different parts the user can pick (rocket part). After they click on the rocket nose image, a menu pops up that mentions small, medium and large. The user is then supposed to click on their desired size and the nose image should paint itself in the middle of the screen. The different sizes don&#39;t affect the appearance of the nose itself but the stats of the rocket. So bigger nose = more weight.\r\n\r\n\r\n\r\n\r\n\r\nCreating new variables, drawing an instance.\r\nOne problem I ran into was creating instances. I would have to call in main with the other classes in the parameters but it didn&#39;t work since the instance variable in main had to be declared before the instance line.","title":"How can I paint an object and make it stay through if statements. I have tried creating a boolean but don&#39;t know how to keep it true","body":"<p><strong>Main Class</strong></p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class Main extends JPanel {\n\n    RocketLaunch r = new RocketLaunch(0,0,0,0,0);\n    Warehouse w = new Warehouse (100,100,500,500,this);\n    Selector s = new Selector(this, w);\n    Nose n = new Nose();\n\n\n\n    public Main() {\n\n\n\n        addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent me) {\n                s.mousePressed(me);\n            }\n            @Override\n            public void mouseReleased(MouseEvent me) {\n                s.mouseReleased(me);\n            }\n            @Override\n            public void mouseClicked(MouseEvent me) {\n                s.mouseClicked(me);\n            }\n\n\n        });\n\n        setFocusable(true);\n\n\n    }\n\n\n\n    public void paint(Graphics g) {\n        Graphics2D g2d = (Graphics2D) g;\n        super.paint(g2d);\n        //r.paint(g2d);\n        w.paint(g2d);\n        s.paint(g2d);\n        n.paint(g2d);\n\n    }\n\n\n    public void move() {\n        //r.move();\n    }\n\n\n\n    public static void main(String[] args) throws InterruptedException {\n        JFrame frame = new JFrame(&quot;Rocket&quot;);\n        Main panel = new Main();\n        frame.add(panel);\n\n        //frame.setSize(1020, 640);\n\n        frame.setVisible(true);\n        frame.setExtendedState(JFrame.MAXIMIZED_BOTH);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        while (true) {\n            panel.move();\n            panel.repaint();\n            Thread.sleep(10);\n        }\n    }\n    public int getScreenHeight(){\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        int height = (int) screenSize.getHeight()-125;\n        System.out.println(height);\n        return height;\n    }\n\n    public int getScreenWidth(){\n        Dimension screenSize = Toolkit.getDefaultToolkit().getScreenSize();\n        int width = (int) screenSize.getWidth()-125;\n        System.out.println(width);\n        return width;\n    }\n}\n</code></pre>\n<p><strong>Selector Class</strong></p>\n<pre><code>import java.awt.*;\nimport javax.imageio.*;\nimport java.io.*;\nimport java.awt.image.BufferedImage;\nimport java.awt.event.MouseEvent;\n\n\npublic class Selector {\n    private BufferedImage img4 = null;\n    private Main k;\n    private int x;\n    private int y;\n    private int width;\n    private int height;\n    private BufferedImage img = null;\n\n\n\n    private boolean isClicked = false;\n    private boolean isPressed = false;\n    private Warehouse w;\n    private Nose n;\n\n    public Selector (Main k, Warehouse w) {\n\n    this.k = k;\n\n    try {\n        img = ImageIO.read(new File(&quot;res\\\\sizetable.jpg&quot;));\n        img4 = ImageIO.read(new File(&quot;res\\\\nose1.png&quot;));\n\n        } catch (IOException e) {\n            System.out.println(&quot;Error&quot;);\n        }\n    }\n\n    public void mousePressed(MouseEvent me) {\n        if (me.getButton() == MouseEvent.BUTTON1) {\n            isClicked = true;\n            x = me.getX();\n            y = me.getY();\n        }\n    }\n    public void mouseReleased(MouseEvent me) {\n        if (me.getButton() == MouseEvent.BUTTON1) {\n            isClicked = false;\n\n        }\n    }\n\n    public void mouseClicked(MouseEvent me) {\n        if (me.getButton() == MouseEvent.BUTTON1) {\n            isPressed = true;\n        }\n    }\n\n\n    public void paint (Graphics g) {\n\n        //g.drawImage(img, 230,50,150,150,null);\n        //g.setColor(Color.red);\n        //g.drawRect(235, 55, 140, 43);\n        //g.drawRect(235, 103, 140, 43);\n        //g.drawRect(235, 151, 140, 43);\n        int num = 0;\n        boolean small = false;\n\n        if (isClicked == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 252 &amp;&amp; y &gt; 22) {\n            g.setColor(Color.red);\n            g.drawRect(15, 22, 200, 230);\n        }\n\n        if (isPressed == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 98 &amp;&amp; y &gt; 55) {\n            small = true;\n        }\n//small\n        if (isClicked == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 98 &amp;&amp; y &gt; 55) {\n            g.setColor(Color.RED);\n            g.drawRect(235, 55, 140, 43);\n\n        }\n\n        if (small == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 98 &amp;&amp; y &gt; 55) {\n            g.drawImage(img4, 600, 300, 500, 500, null);\n\n        }\n//medium\n        if (isClicked == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 146 &amp;&amp; y &gt; 103) {\n            g.setColor(Color.RED);\n            g.drawRect(235, 103, 140, 43);\n        }\n//large\n        if (isClicked == true &amp;&amp; x &lt; 375 &amp;&amp; x &gt; 235 &amp;&amp; y &lt; 194 &amp;&amp; y &gt; 151) {\n            g.setColor(Color.RED);\n            g.drawRect(235, 151, 140, 43);\n        }\n\n\n\n        if (isClicked == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &gt; 272 &amp;&amp; y &lt; 502) {\n            g.setColor(Color.red);\n            g.drawRect(15, 272, 200, 230);\n        }\n\n        if (isPressed == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &gt; 272 &amp;&amp; y &lt; 502) {\n            g.drawImage(img, 230,300,150,150,null);\n        }\n\n\n        if (isClicked == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 753 &amp;&amp; y &gt; 522) {\n            g.setColor(Color.red);\n            g.drawRect(15, 522, 200, 230);\n        }\n\n        if (isPressed == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 753 &amp;&amp; y &gt; 522) {\n            g.drawImage(img, 230,550,150,150,null);\n        }\n\n        if (isClicked == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 1005 &amp;&amp; y &gt; 775) {\n            g.setColor(Color.red);\n            g.drawRect(15, 775, 200, 230);\n        }\n\n        if (isPressed == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 1005 &amp;&amp; y &gt; 775) {\n            g.drawImage(img, 230,800,150,150,null);\n        }\n\nif (isPressed == true &amp;&amp; x &lt; 215 &amp;&amp; x &gt; 15 &amp;&amp; y &lt; 252 &amp;&amp; y &gt; 22){\n    num = 1;\n}\n\nif (num == 1){\n    g.drawImage(img, 230,50,150,150,null);\n}\n\n    }\n\n    public boolean isClicked(){\n        return isClicked;\n    }\n\n}\n\n</code></pre>\n<p>My teacher told me to draw an instance of it and draw it in main so it stays but I can't figure it out.\nThe small, medium and large are three different parts the user can pick (rocket part). After they click on the rocket nose image, a menu pops up that mentions small, medium and large. The user is then supposed to click on their desired size and the nose image should paint itself in the middle of the screen. The different sizes don't affect the appearance of the nose itself but the stats of the rocket. So bigger nose = more weight.</p>\n<p>Creating new variables, drawing an instance.\nOne problem I ran into was creating instances. I would have to call in main with the other classes in the parameters but it didn't work since the instance variable in main had to be declared before the instance line.</p>\n"},{"tags":["java","mongodb","find","mongodb-query","mongo-java"],"answers":[{"tags":[],"owner":{"account_id":2158921,"reputation":18762,"user_id":1913537,"accept_rate":73,"display_name":"Ori Dar"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1530290918,"creation_date":1403466838,"answer_id":24355139,"question_id":24353580,"body_markdown":"    BasicDBObject criteria = new BasicDBObject();\r\n    criteria.append(&quot;color&quot;, &quot;black&quot;);\r\n    criteria.append(&quot;shape&quot;, &quot;round&quot;);\r\n    criteria.append(&quot;weight&quot;, 100);\r\n\r\n    DBCursor cur = widgets.find(criteria);","title":"How to find documents matching multiple criteria","body":"<pre><code>BasicDBObject criteria = new BasicDBObject();\ncriteria.append(\"color\", \"black\");\ncriteria.append(\"shape\", \"round\");\ncriteria.append(\"weight\", 100);\n\nDBCursor cur = widgets.find(criteria);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5444686,"reputation":384,"user_id":5527977,"display_name":"Diptman"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1509132223,"creation_date":1509132223,"answer_id":46982104,"question_id":24353580,"body_markdown":"Another way to solve same problem is using aggregation:\r\n        \r\n    // To print results\r\n    \tBlock&lt;Document&gt; printBlock = new Block&lt;Document&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic void apply(final Document document) {\r\n\t\t\t\tSystem.out.println(document.toJson());\r\n\t\t\t}\r\n\t\t};    \r\n\r\n    // get  db connection and collection \r\n    MongoDatabase db= mongoClient.getDatabase(&quot;dbname&quot;);\r\n\t\tMongoCollection&lt;Document&gt; collection= database.getCollection(&quot;collectionname&quot;);\r\n\r\n    collection.aggregate(Arrays.asList(Aggregates.match(Filters.eq(&quot;key1&quot;, &quot;value1&quot;)),\r\n\t\t\t\tAggregates.match(Filters.eq(&quot;key2&quot;, &quot;value2&quot;)),\r\n\t\t\t\tAggregates.match(Filters.eq(&quot;key3&quot;, &quot;value3&quot;)))).forEach(printBlock);\r\n\r\n\r\nFor more details please refer the v 3.4 mongo Aggregation documentation. \r\n\r\nhttp://mongodb.github.io/mongo-java-driver/3.4/driver/tutorials/aggregation/","title":"How to find documents matching multiple criteria","body":"<p>Another way to solve same problem is using aggregation:</p>\n\n<pre><code>// To print results\n    Block&lt;Document&gt; printBlock = new Block&lt;Document&gt;() {\n        @Override\n        public void apply(final Document document) {\n            System.out.println(document.toJson());\n        }\n    };    \n\n// get  db connection and collection \nMongoDatabase db= mongoClient.getDatabase(\"dbname\");\n    MongoCollection&lt;Document&gt; collection= database.getCollection(\"collectionname\");\n\ncollection.aggregate(Arrays.asList(Aggregates.match(Filters.eq(\"key1\", \"value1\")),\n            Aggregates.match(Filters.eq(\"key2\", \"value2\")),\n            Aggregates.match(Filters.eq(\"key3\", \"value3\")))).forEach(printBlock);\n</code></pre>\n\n<p>For more details please refer the v 3.4 mongo Aggregation documentation. </p>\n\n<p><a href=\"http://mongodb.github.io/mongo-java-driver/3.4/driver/tutorials/aggregation/\" rel=\"nofollow noreferrer\">http://mongodb.github.io/mongo-java-driver/3.4/driver/tutorials/aggregation/</a></p>\n"},{"comments":[{"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"score":0,"creation_date":1586908409,"post_id":61219112,"comment_id":108300859,"body_markdown":"I&#39;d keen to hear what approach would be better. One of the challenges that I see with this approach that it didn&#39;t provide any pagination functionality.","body":"I&#39;d keen to hear what approach would be better. One of the challenges that I see with this approach that it didn&#39;t provide any pagination functionality."},{"owner":{"account_id":4677737,"reputation":1311,"user_id":3787442,"accept_rate":0,"display_name":"NOTiFY"},"score":0,"creation_date":1641996583,"post_id":61219112,"comment_id":124954650,"body_markdown":"This is a only a &quot;Springframework&quot; solutom. Not pure Java &amp; MongoDB.","body":"This is a only a &quot;Springframework&quot; solutom. Not pure Java &amp; MongoDB."}],"tags":[],"owner":{"account_id":1305399,"reputation":599,"user_id":1254491,"display_name":"Athar"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1586908254,"creation_date":1586908254,"answer_id":61219112,"question_id":24353580,"body_markdown":"I think the solution above should also work just fine, given the situation I&#39;d suggest the following as an alternative. This is using [Criteria][1] \r\n\r\n        Query query = new Query();\r\n        List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\r\n    Criteria criteriaCreatedBy1 = new Criteria().where(&quot;title&quot;).is(&quot;input&quot;);\r\n    criteriaList.add(criteriaCreatedBy1);\r\n    Criteria criteriaCreatedBy2 = new Criteria().where(&quot;name&quot;).is(&quot;name input&quot;);\r\n    criteriaList.add(criteriaCreatedBy2);\r\n        query.addCriteria(new Criteria().andOperator(criteriaList.toArray(new Criteria[criteriaList.size()])));\r\n        List&lt;Screen&gt; getSearchScreens = mongoTemplate.find(query,Screen.class,&quot;collectionName&quot;);\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-mongo/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html#orOperator(org.springframework.data.mongodb.core.query.Criteria...)","title":"How to find documents matching multiple criteria","body":"<p>I think the solution above should also work just fine, given the situation I'd suggest the following as an alternative. This is using <a href=\"https://docs.spring.io/spring-data/data-mongo/docs/current/api/org/springframework/data/mongodb/core/query/Criteria.html#orOperator(org.springframework.data.mongodb.core.query.Criteria...)\" rel=\"nofollow noreferrer\">Criteria</a> </p>\n\n<pre><code>    Query query = new Query();\n    List&lt;Criteria&gt; criteriaList = new ArrayList&lt;&gt;();\nCriteria criteriaCreatedBy1 = new Criteria().where(\"title\").is(\"input\");\ncriteriaList.add(criteriaCreatedBy1);\nCriteria criteriaCreatedBy2 = new Criteria().where(\"name\").is(\"name input\");\ncriteriaList.add(criteriaCreatedBy2);\n    query.addCriteria(new Criteria().andOperator(criteriaList.toArray(new Criteria[criteriaList.size()])));\n    List&lt;Screen&gt; getSearchScreens = mongoTemplate.find(query,Screen.class,\"collectionName\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13795405,"reputation":51,"user_id":9956744,"display_name":"4teen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687014819,"creation_date":1687014819,"answer_id":76496843,"question_id":24353580,"body_markdown":"\r\n\r\nThis can call *addCriteria* method as much as you can.\r\n\r\n    Query query = new Query()\r\n\r\n    query.addCriteria(Criteria.where(&quot;firstname&quot;).is(&quot;Bruce&quot;));\r\n    query.addCriteria(Criteria.where(&quot;lastname&quot;).is(&quot;Wayne&quot;));\r\n\r\n    List&lt;User&gt; users = mongoTemplate.find(query, User.class);\r\n    \r\n\r\n\r\n","title":"How to find documents matching multiple criteria","body":"<p>This can call <em>addCriteria</em> method as much as you can.</p>\n<pre><code>Query query = new Query()\n\nquery.addCriteria(Criteria.where(&quot;firstname&quot;).is(&quot;Bruce&quot;));\nquery.addCriteria(Criteria.where(&quot;lastname&quot;).is(&quot;Wayne&quot;));\n\nList&lt;User&gt; users = mongoTemplate.find(query, User.class);\n</code></pre>\n"}],"owner":{"account_id":4483294,"reputation":339,"user_id":3646737,"accept_rate":45,"display_name":"Pepster K."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16847,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":24355139,"answer_count":4,"score":7,"last_activity_date":1687014819,"creation_date":1403456609,"question_id":24353580,"body_markdown":"I&#39;m trying to query a collection using operands AND&#39;d together. I&#39;ve got the shell version working:\r\n\r\n    db.widgets.find({color: &#39;black, shape: &#39;round&#39;, weight: 100})\r\n\r\nI&#39;m unable to find the Java equivalent (using the [native driver][1]). I&#39;ve tried various things, but here is my latest attempt:\r\n\r\n    // Find all black, round widgets with weight 100\r\n    List&lt;BasicDBObject&gt; criteria = new ArrayList&lt;BasicDBObject&gt;();\r\n    criteria.add(new BasicDBObject(&quot;color&quot;, &quot;black&quot;));\r\n    criteria.add(new BasicDBObject(&quot;shape&quot;, &quot;round&quot;));\r\n    criteria.add(new BasicDBObject(&quot;weight&quot;, 100));\r\n\r\n    DBCursor cur = widgets.find(new BasicDBObject(&quot;$and&quot;, criteria));\r\n\r\n    // Get all matching widgets and put them into a list\r\n    List&lt;Widget&gt; widgetList = new ArrayList&lt;Widget&gt;();\r\n    DBCursor cur = widgets.find(andQuery);\r\n    while (cur.hasNext()) {\r\n      widgetList.add(new Widget(cur.next()));\r\n    }\r\n\r\n    if (widgetList.isEmpty())\r\n      System.out.println(&quot;No results found&quot;);\r\n\r\n\r\nAny ideas what is wrong?\r\n  [1]: https://api.mongodb.org/java/current/","title":"How to find documents matching multiple criteria","body":"<p>I'm trying to query a collection using operands AND'd together. I've got the shell version working:</p>\n\n<pre><code>db.widgets.find({color: 'black, shape: 'round', weight: 100})\n</code></pre>\n\n<p>I'm unable to find the Java equivalent (using the <a href=\"https://api.mongodb.org/java/current/\" rel=\"noreferrer\">native driver</a>). I've tried various things, but here is my latest attempt:</p>\n\n<pre><code>// Find all black, round widgets with weight 100\nList&lt;BasicDBObject&gt; criteria = new ArrayList&lt;BasicDBObject&gt;();\ncriteria.add(new BasicDBObject(\"color\", \"black\"));\ncriteria.add(new BasicDBObject(\"shape\", \"round\"));\ncriteria.add(new BasicDBObject(\"weight\", 100));\n\nDBCursor cur = widgets.find(new BasicDBObject(\"$and\", criteria));\n\n// Get all matching widgets and put them into a list\nList&lt;Widget&gt; widgetList = new ArrayList&lt;Widget&gt;();\nDBCursor cur = widgets.find(andQuery);\nwhile (cur.hasNext()) {\n  widgetList.add(new Widget(cur.next()));\n}\n\nif (widgetList.isEmpty())\n  System.out.println(\"No results found\");\n</code></pre>\n\n<p>Any ideas what is wrong?</p>\n"},{"tags":["java","netbeans","jform"],"owner":{"account_id":28839635,"reputation":1,"user_id":22088210,"display_name":"hmm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687014089,"creation_date":1687005586,"question_id":76496233,"body_markdown":"JButton with gradient:\r\n\r\n[![https://i.stack.imgur.com/NZ3gC.gif][1]][1]\r\n\r\nTitle is self-explanatory. I&#39;m using jforms for this. I only want to edit the jbuttons of my existing jform. I also used [this video](https://www.youtube.com/watch?v=Mjz1fHl0fO0) as a guide\r\n\r\n\r\n    private Color color1 Color.decode(&quot;#32162C&quot;);\r\n    private Color color2 Color.decode(&quot;#824678&quot;);\r\n    private Color color3 Color.decode(&quot;#A96CE6&quot;);\r\n     \r\n    //these 3 lines errors for me`\r\n    \r\n    \r\n     private void paintComponent (Graphics grphcs){\r\n     \r\n     int width = getWidth();\r\n     int height = getHeight();\r\n     BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n             //the video used Graphics2d but mine errors\r\n     Graphics g2 = img.createGraphics();\r\n     g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\r\n             //setRenderingHint errors for me (&quot;cannot find symbol&quot;)\r\n     \r\n     \r\n             //GRADIENT COLOR\r\n     GradientPaint gra = new GradientPaint(0, 0, color1, width,0,color2, 0, color3);\r\n             //GradientPaint line errors for me (&quot;no suitable constructor found)\r\n     g2.setPaint(gra);\r\n             //setPaint errors for me\r\n     g2.fillRoundRect(0,0, width, height, height, height);\r\n     grphcs.drawImage(img, width, width, null);\r\n     super.paintComponents(grphcs);\r\n         }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NZ3gC.gif","title":"How to make only one jbutton in java frame have a gradient (3 colors) and be rounded?","body":"<p>JButton with gradient:</p>\n<p><a href=\"https://i.stack.imgur.com/NZ3gC.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NZ3gC.gif\" alt=\"https://i.stack.imgur.com/NZ3gC.gif\" /></a></p>\n<p>Title is self-explanatory. I'm using jforms for this. I only want to edit the jbuttons of my existing jform. I also used <a href=\"https://www.youtube.com/watch?v=Mjz1fHl0fO0\" rel=\"nofollow noreferrer\">this video</a> as a guide</p>\n<pre><code>private Color color1 Color.decode(&quot;#32162C&quot;);\nprivate Color color2 Color.decode(&quot;#824678&quot;);\nprivate Color color3 Color.decode(&quot;#A96CE6&quot;);\n \n//these 3 lines errors for me`\n\n\n private void paintComponent (Graphics grphcs){\n \n int width = getWidth();\n int height = getHeight();\n BufferedImage img = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n         //the video used Graphics2d but mine errors\n Graphics g2 = img.createGraphics();\n g2.setRenderingHint(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_ON);\n         //setRenderingHint errors for me (&quot;cannot find symbol&quot;)\n \n \n         //GRADIENT COLOR\n GradientPaint gra = new GradientPaint(0, 0, color1, width,0,color2, 0, color3);\n         //GradientPaint line errors for me (&quot;no suitable constructor found)\n g2.setPaint(gra);\n         //setPaint errors for me\n g2.fillRoundRect(0,0, width, height, height, height);\n grphcs.drawImage(img, width, width, null);\n super.paintComponents(grphcs);\n     }\n</code></pre>\n"},{"tags":["java","swing","awt","paint","jcomponent"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1686964333,"post_id":76492323,"comment_id":134875396,"body_markdown":"You&#39;re overriding `paint`.  You should be overriding `paintComponent`.  You should be using a `JPanel` for drawing.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"You&#39;re overriding <code>paint</code>.  You should be overriding <code>paintComponent</code>.  You should be using a <code>JPanel</code> for drawing.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1686980945,"post_id":76492323,"comment_id":134876218,"body_markdown":"Did you try entering the following in the search box at the top of this webpage? [\\[swing\\] drag mouse draw oval](https://stackoverflow.com/search?q=%5Bswing%5D+drag+mouse+draw+oval)","body":"Did you try entering the following in the search box at the top of this webpage? <a href=\"https://stackoverflow.com/search?q=%5Bswing%5D+drag+mouse+draw+oval\">&#91;swing&#93; drag mouse draw oval</a>"},{"owner":{"account_id":9127339,"reputation":1,"user_id":22053715,"display_name":"pprts1"},"score":0,"creation_date":1686987899,"post_id":76492323,"comment_id":134876712,"body_markdown":"@GilbertLeBlanc: It seems I completely forgot about this chapter of the tutorial and only remember that I clicked the link to the article but then left the chapter out. I think I&#39;m not there yet to completely understand what&#39;s going on in the background. Thank you for the link, I will take my time to read all of this.","body":"@GilbertLeBlanc: It seems I completely forgot about this chapter of the tutorial and only remember that I clicked the link to the article but then left the chapter out. I think I&#39;m not there yet to completely understand what&#39;s going on in the background. Thank you for the link, I will take my time to read all of this."},{"owner":{"account_id":9127339,"reputation":1,"user_id":22053715,"display_name":"pprts1"},"score":0,"creation_date":1686988243,"post_id":76492323,"comment_id":134876737,"body_markdown":"@Abra: I googled before considering posting here and after writing the comment viewed at the recommended postings before sending. Both the tutorial Gilbert Le Blanc  linked and your link point towards the invokeLater() method, I think the next step for me will be learning this and concurrency overall. Thank you very much!","body":"@Abra: I googled before considering posting here and after writing the comment viewed at the recommended postings before sending. Both the tutorial Gilbert Le Blanc  linked and your link point towards the invokeLater() method, I think the next step for me will be learning this and concurrency overall. Thank you very much!"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1687013667,"post_id":76492323,"comment_id":134879284,"body_markdown":"The invokeLater() method, while important for understanding how Swing works, is not the cause of your painting problems. Read the Swing tutorial  on &quot;Perfoming Custom Painting&quot; to understand the correct way to do painting.","body":"The invokeLater() method, while important for understanding how Swing works, is not the cause of your painting problems. Read the Swing tutorial  on &quot;Perfoming Custom Painting&quot; to understand the correct way to do painting."},{"owner":{"account_id":9127339,"reputation":1,"user_id":22053715,"display_name":"pprts1"},"score":0,"creation_date":1687187749,"post_id":76492323,"comment_id":134898329,"body_markdown":"@camickr: yes, thank you!","body":"@camickr: yes, thank you!"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687013530,"creation_date":1687013530,"answer_id":76496735,"question_id":76492323,"body_markdown":"&gt; Why does it not work this way with JComponent?\r\n\r\nActually it works correctly with JComponent.\r\n\r\nThe difference between the two components is that by default:\r\n\r\n1. `JComponent` is non-opaque (transparent), which means the parent component will be painted first before the JComponent painting method is invoked and therefore the background is cleared so you only see a single oval.\r\n2. `JPanel` is opaque, which means it is responsible for clearing the background first before doing the custom painting to prevent painting artifacts. You are not doing this.\r\n\r\nWhat you are seeing is a painting artifact with the JPanel since the old painting is not removed. \r\n\r\nTry drawing on the panel and then resize the frame and you will see all the ovals except the last one are removed.\r\n\r\nSee: https://stackoverflow.com/a/52878359/131872 for one way to do the painting.\r\n","title":"Problem drawing on JComponent via MouseMotionListener added to a JFrame","body":"<blockquote>\n<p>Why does it not work this way with JComponent?</p>\n</blockquote>\n<p>Actually it works correctly with JComponent.</p>\n<p>The difference between the two components is that by default:</p>\n<ol>\n<li><code>JComponent</code> is non-opaque (transparent), which means the parent component will be painted first before the JComponent painting method is invoked and therefore the background is cleared so you only see a single oval.</li>\n<li><code>JPanel</code> is opaque, which means it is responsible for clearing the background first before doing the custom painting to prevent painting artifacts. You are not doing this.</li>\n</ol>\n<p>What you are seeing is a painting artifact with the JPanel since the old painting is not removed.</p>\n<p>Try drawing on the panel and then resize the frame and you will see all the ovals except the last one are removed.</p>\n<p>See: <a href=\"https://stackoverflow.com/a/52878359/131872\">https://stackoverflow.com/a/52878359/131872</a> for one way to do the painting.</p>\n"}],"owner":{"account_id":9127339,"reputation":1,"user_id":22053715,"display_name":"pprts1"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687013530,"creation_date":1686935505,"question_id":76492323,"body_markdown":"\r\nI want to draw ovals while dragging my mouse over a `JComponent` I added to a `JFrame`. I created two classes, one which extends `JComponent`, implements `MouseMotionListener` and overrides the paint(Graphics g) method, and another class with the main method in which I create a `JFrame` and add the `JComponent` to the frame. However, when I click and drag my mouse, nothing happens. I then added a default constructor to my `Painter` class and `addMouseMotionListener(this)` and `setPreferredSize(new Dimension(800,600));`, which made a black oval appear and follow my mouse pointer, deleting the previous ovals. \r\n\r\nI have included the code for the two classes. Can anyone guide me on what could be wrong?\r\nWhen I change `JComponent` to `JPanel` it works. Why does it not work this way with JComponent?\r\n\r\n```java\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseMotionListener;\r\nimport javax.swing.JComponent;\r\n\r\n\r\npublic class Painter extends JComponent implements MouseMotionListener {\r\n    private int x = -10;\r\n    private int y = -10;\r\n    \r\n    public Painter() {\r\n        addMouseMotionListener(this);\r\n        setPreferredSize(new Dimension(800,600));\r\n    }\t\r\n    \r\n    @Override\r\n    public void paint(Graphics g) {\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setColor(Color.black);\r\n        g2.fillOval(x, y, 10, 10);\r\n    }\t\r\n    \r\n    @Override\r\n    public void mouseDragged(MouseEvent e) {\r\n        x = e.getX();\r\n        y = e.getY();\r\n        repaint();\r\n    }\r\n\r\n    @Override\r\n    public void mouseMoved(MouseEvent e) {\r\n        // do nothing\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport javax.swing.JFrame;\r\n\r\npublic class Main{\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        Painter painter = new Painter();\r\n        frame.setSize(800, 600);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(painter);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```","title":"Problem drawing on JComponent via MouseMotionListener added to a JFrame","body":"<p>I want to draw ovals while dragging my mouse over a <code>JComponent</code> I added to a <code>JFrame</code>. I created two classes, one which extends <code>JComponent</code>, implements <code>MouseMotionListener</code> and overrides the paint(Graphics g) method, and another class with the main method in which I create a <code>JFrame</code> and add the <code>JComponent</code> to the frame. However, when I click and drag my mouse, nothing happens. I then added a default constructor to my <code>Painter</code> class and <code>addMouseMotionListener(this)</code> and <code>setPreferredSize(new Dimension(800,600));</code>, which made a black oval appear and follow my mouse pointer, deleting the previous ovals.</p>\n<p>I have included the code for the two classes. Can anyone guide me on what could be wrong?\nWhen I change <code>JComponent</code> to <code>JPanel</code> it works. Why does it not work this way with JComponent?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseMotionListener;\nimport javax.swing.JComponent;\n\n\npublic class Painter extends JComponent implements MouseMotionListener {\n    private int x = -10;\n    private int y = -10;\n    \n    public Painter() {\n        addMouseMotionListener(this);\n        setPreferredSize(new Dimension(800,600));\n    }   \n    \n    @Override\n    public void paint(Graphics g) {\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setColor(Color.black);\n        g2.fillOval(x, y, 10, 10);\n    }   \n    \n    @Override\n    public void mouseDragged(MouseEvent e) {\n        x = e.getX();\n        y = e.getY();\n        repaint();\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n        // do nothing\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.JFrame;\n\npublic class Main{\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        Painter painter = new Painter();\n        frame.setSize(800, 600);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(painter);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","scala","configuration","databricks","jsonnet"],"owner":{"account_id":20310607,"reputation":1,"user_id":14897789,"display_name":"Anuran Roy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687013208,"creation_date":1687013208,"question_id":76496719,"body_markdown":"I am new to using Jsonnet and I am trying to create a configuration file using `sjsonnet` by DataBricks in a Java codebase. The README on their Github Repo explains how to use Jsonnet without external variables, which is as follows:\r\n\r\n```java\r\n// JsonnetRunner.java\r\n...\r\nint res = sjsonnet.SjsonnetMain.main0(\r\n    new String[]{&quot;foo.jsonnet&quot;},\r\n    new DefaultParseCache,\r\n    System.in,\r\n    System.out,\r\n    System.err,\r\n    os.package$.MODULE$.pwd(),\r\n    scala.None$.empty()\r\n);\r\n...\r\n```\r\n\r\nI want to run a Jsonnet file that takes in two `--ext-str` arguments. I am able to do this by running `jsonnet --ext-str &quot;var1=Foo&quot; --ext-str &quot;var2=Bar&quot;` using the official Jsonnet implementation, and as `./sjsonnet.jar --ext-str &quot;var1=Foo&quot; --ext-str &quot;var2=Bar&quot;` using the Sjsonnet JAR. My question is: how can I implement this in my Java code? Additionally, I would like to get the JSON string once the Jsonnet execution finishes instead of getting it on the output. \r\n\r\nThank you in advance!","title":"Adding external variables to sjsonnet","body":"<p>I am new to using Jsonnet and I am trying to create a configuration file using <code>sjsonnet</code> by DataBricks in a Java codebase. The README on their Github Repo explains how to use Jsonnet without external variables, which is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// JsonnetRunner.java\n...\nint res = sjsonnet.SjsonnetMain.main0(\n    new String[]{&quot;foo.jsonnet&quot;},\n    new DefaultParseCache,\n    System.in,\n    System.out,\n    System.err,\n    os.package$.MODULE$.pwd(),\n    scala.None$.empty()\n);\n...\n</code></pre>\n<p>I want to run a Jsonnet file that takes in two <code>--ext-str</code> arguments. I am able to do this by running <code>jsonnet --ext-str &quot;var1=Foo&quot; --ext-str &quot;var2=Bar&quot;</code> using the official Jsonnet implementation, and as <code>./sjsonnet.jar --ext-str &quot;var1=Foo&quot; --ext-str &quot;var2=Bar&quot;</code> using the Sjsonnet JAR. My question is: how can I implement this in my Java code? Additionally, I would like to get the JSON string once the Jsonnet execution finishes instead of getting it on the output.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring-boot","jpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1687049082,"post_id":76496691,"comment_id":134882712,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":28730006,"reputation":1,"user_id":22002161,"display_name":"Carlo97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687012904,"creation_date":1687012904,"question_id":76496691,"body_markdown":"i&#39;m developing a management software for resturant (it&#39;s an university project). This is the situation: i have an object Ordination - Ordinazione - (I&#39;m from Italy, so in the example all this name will be in italian). I&#39;m explainig the entire problem first and then i will show you all the interested code. An ordination, in my logic, is composed by an object called InfoOrdine - information about the ordination -. Because when a waiter will note that, he had to consider the number of plate and the state of preparation for each of them.\r\nIn terms of logic, in the class Ordination i have something that for each plate associate ad information about all of this plate.\r\nI have used a map for the implementation (Map\\&lt;Piatto, InfoOrdine\\&gt; infopiatto) and used the @OneToMany tag, because one ordination instance can have multiple record of piatto-information.\r\nBut when i save this in PostgreSQL through JPARepository, something strage happen. The table ordination with the attribute id_ordinazione, id_tavolo ed evasa is saved correctly. In the other side, the table info_ordine is &quot;half-saved&quot;. I&#39;m will show you the screenshot:\r\n\r\n[enter image description here](https://i.stack.imgur.com/pkwFn.png)\r\n\r\nid_ordinazion and id_piatto aren&#39;t saved and i don&#39;t know why. This two attributes are really importat because through them i can join the table with Ordinazione and obtain all the information that I want. Even more weird (for me obviuosly, i know that for someone else is easy to resolve this) is the fact that a new column is created autunomly (info_piatto_key) and act the role of id_piatto.\r\nI&#39;m showing you the class:\r\n\r\n```\r\npackage com.springone3.demo.Entity;\r\n\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.springone3.demo.Controller.PiattoController;\r\nimport com.springone3.demo.MyCustomInfoPiattoDeserializer;\r\nimport jakarta.persistence.*;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\nimport java.lang.reflect.Array;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n\r\n@Entity\r\n@Table\r\npublic class Ordinazione {\r\n\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;ordinazione_sequence&quot;,\r\n            sequenceName = &quot;ordinazione_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;ordinazione_sequence&quot;\r\n    )\r\n    private Long idOrdinazione;\r\n\r\n    private String idTavolo;\r\n\r\n    // L&#39;opzione CacadeType.ALL assicura che tutte le operazioni di persistenza (inserimento, aggiornamento, cancellazione) eseguite sull&#39;oggetto Ordinazione si riflettano anche sugli oggetti\r\n    // InfoOrdine associati. L&#39;opzione orphanRemoval = true permette di rimuovere automaticamente gli oggetti InfoOrdine orfani quando vengono rimossi dalla mappa &#39;infoOrdini&#39;\r\n\r\n    @OneToMany(mappedBy = &quot;ordinazione&quot;,cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\r\n    Map&lt;Piatto, InfoOrdine&gt; infoPiatto;\r\n\r\n    private boolean evasa = false;\r\n   \r\n\r\n    public Ordinazione(Long idOrdinazione, String idTavolo) {\r\n        this.idOrdinazione = idOrdinazione;\r\n        this.idTavolo = idTavolo;\r\n        this.infoPiatto = new HashMap&lt;&gt;();\r\n    }\r\n\r\n  \r\n    public Ordinazione() {\r\n    }\r\n\r\n\r\n    // getter and settet\r\n  \r\n\r\n    /*\r\n\r\n    public void aggiungiPiatto(Piatto piatto, Integer quantity) {\r\n        InfoOrdine info = new InfoOrdine(quantity, InfoOrdine.StatoOrdine.DA_PREPARARE);\r\n        infoPiatto.put(piatto, info);\r\n    }\r\n\r\n     */\r\n\r\n    public void aggiungiPiatto(Piatto piatto, Integer quantity) {\r\n        InfoOrdine info = new InfoOrdine(quantity, InfoOrdine.StatoOrdine.DA_PREPARARE, this);\r\n        infoPiatto.put(piatto, info);\r\n    }\r\n\r\n\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;idOrdinazione=&quot; + idOrdinazione +\r\n                &quot;, idTavolo=&#39;&quot; + idTavolo + &#39;\\&#39;&#39; +\r\n                &quot;, infoPiatto=&quot; + infoPiatto.toString() +\r\n                &quot;, evasa=&quot; + evasa +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nprivate idOrdinazione - the ID of the table/class - ;\r\nprivate String idTavolo - an identifier for specify the table (in sense of resturant and not relational database).\r\nprivate boolean evasa - the customer has received his food? -\r\nMap\\&lt;Piatto, InfoOrdine\\&gt; infoPiatto.\r\n\r\nThe last one is the critical part. In fact, i have two custom object type for key - value of the map.\r\nThe first one, is refered to plate of food. The class is the following:\r\n\r\n```\r\n\r\n@Entity\r\n@Table\r\npublic class Piatto {\r\n\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;piatto_sequence&quot;,\r\n            sequenceName = &quot;piatto_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;piatto_sequence&quot;\r\n    )\r\n\r\n    private Long idPiatto;\r\n\r\n\r\n    private String nome;\r\n\r\n    private String descrizione;\r\n\r\n    private String allergeni;\r\n\r\n\r\n\r\n    //@JsonManagedReference\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    @JoinColumn(\r\n            name = &quot;id_categoria&quot;\r\n          // nullable = false\r\n           // referencedColumnName = &quot;id_categoria&quot;\r\n    )\r\n    private Categoria categoria;\r\n    private String costo;\r\n\r\n    public Piatto(Long idPiatto, Categoria categoria, String nome, String descrizione, String allergeni, String costo) {\r\n        this.idPiatto = idPiatto;\r\n        this.categoria = categoria;\r\n        this.nome = nome;\r\n        this.descrizione = descrizione;\r\n        this.allergeni = allergeni;\r\n        this.costo = costo;\r\n    }\r\n\r\n    public Piatto(Long idPiatto, String nome, String descrizione, String allergeni, String costo) {\r\n        this.idPiatto = idPiatto;\r\n        this.nome = nome;\r\n        this.descrizione = descrizione;\r\n        this.allergeni = allergeni;\r\n        this.costo = costo;\r\n    }\r\n\r\n\r\n    public Piatto(){}\r\n\r\n\r\n\r\n   // getter and setter\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;[idPiatto:&#39;&quot; + idPiatto + &#39;\\&#39;&#39; +\r\n                &quot;, nome:&#39;&quot; + nome + &#39;\\&#39;&#39; +\r\n                &quot;, descrizione:&#39;&quot; + descrizione + &#39;\\&#39;&#39; +\r\n                &quot;, allergeni:&#39;&quot; + allergeni + &#39;\\&#39;&#39; +\r\n                &quot;, categoria:&#39;&quot; + categoria + &#39;\\&#39;&#39; +\r\n                &quot;, costo:&#39;&quot; + costo  + &#39;\\&#39;&#39; + &quot;]&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe second is referred to information about the ordination; for example two plate of appetizers, one of main course, etc with the state of preparations.\r\nThe class is the following:\r\n\r\n```\r\n@Entity\r\n@Table\r\npublic class InfoOrdine {\r\n\r\n    @Id\r\n\r\n    @SequenceGenerator(\r\n            name = &quot;info_ordine_sequence&quot;,\r\n            sequenceName = &quot;info_ordine_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;info_ordine_sequence&quot;\r\n    )\r\n    private Long id;\r\n\r\n//    @EmbeddedId\r\n//    private InfoOrdineId id;\r\n\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @OnDelete(action = OnDeleteAction.CASCADE)\r\n    // @MapsId(&quot;idOrdinazione&quot;)\r\n    @JoinColumn(name = &quot;id_ordinazione&quot;)\r\n    private Ordinazione ordinazione;\r\n\r\n    @OneToOne\r\n    // @MapsId(&quot;idPiatto&quot;)\r\n    @JoinColumn(name = &quot;id_piatto&quot;)\r\n    private Piatto piatto;\r\n    private int quantity;\r\n    @Enumerated(EnumType.STRING)\r\n    private InfoOrdine.StatoOrdine stato;\r\n\r\n    /*\r\n\r\n    public InfoOrdine(int quantity, InfoOrdine.StatoOrdine stato) {\r\n        this.quantity = quantity;\r\n        this.stato = stato;\r\n    }\r\n\r\n     */\r\n\r\n    public InfoOrdine(int quantity, InfoOrdine.StatoOrdine stato, Ordinazione ordinazione) {\r\n        this.ordinazione = ordinazione;\r\n        this.quantity = quantity;\r\n        this.stato = stato;\r\n    }\r\n\r\n    public InfoOrdine(int quantity){\r\n        this.quantity = quantity;\r\n        this.stato = StatoOrdine.DA_PREPARARE;\r\n    }\r\n\r\n    public InfoOrdine() {\r\n    }\r\n\r\n    // getter and setter\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;[quantity:&#39;&quot; + quantity + &#39;\\&#39;&#39; +\r\n                &quot;, stato:&#39;&quot; + stato + &#39;\\&#39;&#39; + &quot;]&quot;;\r\n    }\r\n    public enum StatoOrdine {\r\n        DA_PREPARARE,\r\n        IN_PREPARAZIONE,\r\n        COMPLETATO;\r\n    }\r\n}\r\n```\r\n\r\nPlease, i&#39;m stuck in this problem and i don&#39;t know how to resolve. I&#39;m sorry for this very long question.\r\n\r\nI expect to save tha table indo_ordine with tha right value of column id_piatto and id_ordinazione.","title":"Java Spring Boot, probelm to save into PostgreSQL a map of two custom object","body":"<p>i'm developing a management software for resturant (it's an university project). This is the situation: i have an object Ordination - Ordinazione - (I'm from Italy, so in the example all this name will be in italian). I'm explainig the entire problem first and then i will show you all the interested code. An ordination, in my logic, is composed by an object called InfoOrdine - information about the ordination -. Because when a waiter will note that, he had to consider the number of plate and the state of preparation for each of them.\nIn terms of logic, in the class Ordination i have something that for each plate associate ad information about all of this plate.\nI have used a map for the implementation (Map&lt;Piatto, InfoOrdine&gt; infopiatto) and used the @OneToMany tag, because one ordination instance can have multiple record of piatto-information.\nBut when i save this in PostgreSQL through JPARepository, something strage happen. The table ordination with the attribute id_ordinazione, id_tavolo ed evasa is saved correctly. In the other side, the table info_ordine is &quot;half-saved&quot;. I'm will show you the screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/pkwFn.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>id_ordinazion and id_piatto aren't saved and i don't know why. This two attributes are really importat because through them i can join the table with Ordinazione and obtain all the information that I want. Even more weird (for me obviuosly, i know that for someone else is easy to resolve this) is the fact that a new column is created autunomly (info_piatto_key) and act the role of id_piatto.\nI'm showing you the class:</p>\n<pre><code>package com.springone3.demo.Entity;\n\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.springone3.demo.Controller.PiattoController;\nimport com.springone3.demo.MyCustomInfoPiattoDeserializer;\nimport jakarta.persistence.*;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport java.lang.reflect.Array;\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n\n@Entity\n@Table\npublic class Ordinazione {\n\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;ordinazione_sequence&quot;,\n            sequenceName = &quot;ordinazione_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;ordinazione_sequence&quot;\n    )\n    private Long idOrdinazione;\n\n    private String idTavolo;\n\n    // L'opzione CacadeType.ALL assicura che tutte le operazioni di persistenza (inserimento, aggiornamento, cancellazione) eseguite sull'oggetto Ordinazione si riflettano anche sugli oggetti\n    // InfoOrdine associati. L'opzione orphanRemoval = true permette di rimuovere automaticamente gli oggetti InfoOrdine orfani quando vengono rimossi dalla mappa 'infoOrdini'\n\n    @OneToMany(mappedBy = &quot;ordinazione&quot;,cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true)\n    Map&lt;Piatto, InfoOrdine&gt; infoPiatto;\n\n    private boolean evasa = false;\n   \n\n    public Ordinazione(Long idOrdinazione, String idTavolo) {\n        this.idOrdinazione = idOrdinazione;\n        this.idTavolo = idTavolo;\n        this.infoPiatto = new HashMap&lt;&gt;();\n    }\n\n  \n    public Ordinazione() {\n    }\n\n\n    // getter and settet\n  \n\n    /*\n\n    public void aggiungiPiatto(Piatto piatto, Integer quantity) {\n        InfoOrdine info = new InfoOrdine(quantity, InfoOrdine.StatoOrdine.DA_PREPARARE);\n        infoPiatto.put(piatto, info);\n    }\n\n     */\n\n    public void aggiungiPiatto(Piatto piatto, Integer quantity) {\n        InfoOrdine info = new InfoOrdine(quantity, InfoOrdine.StatoOrdine.DA_PREPARARE, this);\n        infoPiatto.put(piatto, info);\n    }\n\n\n\n\n    @Override\n    public String toString() {\n        return &quot;idOrdinazione=&quot; + idOrdinazione +\n                &quot;, idTavolo='&quot; + idTavolo + '\\'' +\n                &quot;, infoPiatto=&quot; + infoPiatto.toString() +\n                &quot;, evasa=&quot; + evasa +\n                '}';\n    }\n\n\n\n}\n</code></pre>\n<p>private idOrdinazione - the ID of the table/class - ;\nprivate String idTavolo - an identifier for specify the table (in sense of resturant and not relational database).\nprivate boolean evasa - the customer has received his food? -\nMap&lt;Piatto, InfoOrdine&gt; infoPiatto.</p>\n<p>The last one is the critical part. In fact, i have two custom object type for key - value of the map.\nThe first one, is refered to plate of food. The class is the following:</p>\n<pre><code>\n@Entity\n@Table\npublic class Piatto {\n\n    @Id\n    @SequenceGenerator(\n            name = &quot;piatto_sequence&quot;,\n            sequenceName = &quot;piatto_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;piatto_sequence&quot;\n    )\n\n    private Long idPiatto;\n\n\n    private String nome;\n\n    private String descrizione;\n\n    private String allergeni;\n\n\n\n    //@JsonManagedReference\n    @ManyToOne(fetch = FetchType.LAZY)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    @JoinColumn(\n            name = &quot;id_categoria&quot;\n          // nullable = false\n           // referencedColumnName = &quot;id_categoria&quot;\n    )\n    private Categoria categoria;\n    private String costo;\n\n    public Piatto(Long idPiatto, Categoria categoria, String nome, String descrizione, String allergeni, String costo) {\n        this.idPiatto = idPiatto;\n        this.categoria = categoria;\n        this.nome = nome;\n        this.descrizione = descrizione;\n        this.allergeni = allergeni;\n        this.costo = costo;\n    }\n\n    public Piatto(Long idPiatto, String nome, String descrizione, String allergeni, String costo) {\n        this.idPiatto = idPiatto;\n        this.nome = nome;\n        this.descrizione = descrizione;\n        this.allergeni = allergeni;\n        this.costo = costo;\n    }\n\n\n    public Piatto(){}\n\n\n\n   // getter and setter\n\n    @Override\n    public String toString() {\n        return &quot;[idPiatto:'&quot; + idPiatto + '\\'' +\n                &quot;, nome:'&quot; + nome + '\\'' +\n                &quot;, descrizione:'&quot; + descrizione + '\\'' +\n                &quot;, allergeni:'&quot; + allergeni + '\\'' +\n                &quot;, categoria:'&quot; + categoria + '\\'' +\n                &quot;, costo:'&quot; + costo  + '\\'' + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>The second is referred to information about the ordination; for example two plate of appetizers, one of main course, etc with the state of preparations.\nThe class is the following:</p>\n<pre><code>@Entity\n@Table\npublic class InfoOrdine {\n\n    @Id\n\n    @SequenceGenerator(\n            name = &quot;info_ordine_sequence&quot;,\n            sequenceName = &quot;info_ordine_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;info_ordine_sequence&quot;\n    )\n    private Long id;\n\n//    @EmbeddedId\n//    private InfoOrdineId id;\n\n    @ManyToOne(fetch = FetchType.EAGER)\n    @OnDelete(action = OnDeleteAction.CASCADE)\n    // @MapsId(&quot;idOrdinazione&quot;)\n    @JoinColumn(name = &quot;id_ordinazione&quot;)\n    private Ordinazione ordinazione;\n\n    @OneToOne\n    // @MapsId(&quot;idPiatto&quot;)\n    @JoinColumn(name = &quot;id_piatto&quot;)\n    private Piatto piatto;\n    private int quantity;\n    @Enumerated(EnumType.STRING)\n    private InfoOrdine.StatoOrdine stato;\n\n    /*\n\n    public InfoOrdine(int quantity, InfoOrdine.StatoOrdine stato) {\n        this.quantity = quantity;\n        this.stato = stato;\n    }\n\n     */\n\n    public InfoOrdine(int quantity, InfoOrdine.StatoOrdine stato, Ordinazione ordinazione) {\n        this.ordinazione = ordinazione;\n        this.quantity = quantity;\n        this.stato = stato;\n    }\n\n    public InfoOrdine(int quantity){\n        this.quantity = quantity;\n        this.stato = StatoOrdine.DA_PREPARARE;\n    }\n\n    public InfoOrdine() {\n    }\n\n    // getter and setter\n\n    @Override\n    public String toString() {\n        return &quot;[quantity:'&quot; + quantity + '\\'' +\n                &quot;, stato:'&quot; + stato + '\\'' + &quot;]&quot;;\n    }\n    public enum StatoOrdine {\n        DA_PREPARARE,\n        IN_PREPARAZIONE,\n        COMPLETATO;\n    }\n}\n</code></pre>\n<p>Please, i'm stuck in this problem and i don't know how to resolve. I'm sorry for this very long question.</p>\n<p>I expect to save tha table indo_ordine with tha right value of column id_piatto and id_ordinazione.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1687012012,"post_id":76496400,"comment_id":134879111,"body_markdown":"[Here is the API specification](https://docs.oracle.com/en/java/javase/20/docs/api/index.html)","body":"<a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/index.html\" rel=\"nofollow noreferrer\">Here is the API specification</a>"}],"answers":[{"tags":[],"owner":{"account_id":2392155,"reputation":2372,"user_id":2091803,"accept_rate":86,"display_name":"Abdullah Leghari"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687011235,"creation_date":1687011235,"answer_id":76496587,"question_id":76496400,"body_markdown":"Yes, there are, though these are nowadays less frequently used because of the free availability of OpenJDK SDK (which includes JVM, JRE, Java Class libraries (JCL), and everything).\r\n\r\nA notable project was [Apache Harmony][1] which had implementations for almost all classes available in Java SE 5.0. It had implemented 99% of Java SE 5 classes and about 97% of Java SE 6. Link [here][2].\r\n\r\nApache Harmony could run several large projects including Eclipse, and TomCat, among others. Also, Android was based on classes from this project.\r\n\r\nGNU had their project, [GNU Class Path][3]. It states implementing &gt;95% of classes for Java up to version 6.\r\n\r\nIBM also provides its own full [Java implementations][4] as a complete replacement for what Oracle is attempting to serve. IBM implementations are used mainly on their Z/OS-based mainframes.\r\n\r\nThere were/are several JCL implementations. Now that OpenJDK is freely available there is less incentive in using alternates. Android started using OpenJDK JCL. When Java was not free, there were more efforts towards non-Oracle JVMs, JREs, and JCLs (which are bundled together to make the JDK)\r\n\r\n\r\n  [1]: https://harmony.apache.org/subcomponents/classlibrary/\r\n  [2]: http://people.apache.org/~hindessm/japi/\r\n  [3]: https://www.gnu.org/software/classpath/\r\n  [4]: https://www.ibm.com/support/pages/java-sdk/","title":"Java : Are there non-Oracle implementations of Java standard classes?","body":"<p>Yes, there are, though these are nowadays less frequently used because of the free availability of OpenJDK SDK (which includes JVM, JRE, Java Class libraries (JCL), and everything).</p>\n<p>A notable project was <a href=\"https://harmony.apache.org/subcomponents/classlibrary/\" rel=\"nofollow noreferrer\">Apache Harmony</a> which had implementations for almost all classes available in Java SE 5.0. It had implemented 99% of Java SE 5 classes and about 97% of Java SE 6. Link <a href=\"http://people.apache.org/%7Ehindessm/japi/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Apache Harmony could run several large projects including Eclipse, and TomCat, among others. Also, Android was based on classes from this project.</p>\n<p>GNU had their project, <a href=\"https://www.gnu.org/software/classpath/\" rel=\"nofollow noreferrer\">GNU Class Path</a>. It states implementing &gt;95% of classes for Java up to version 6.</p>\n<p>IBM also provides its own full <a href=\"https://www.ibm.com/support/pages/java-sdk/\" rel=\"nofollow noreferrer\">Java implementations</a> as a complete replacement for what Oracle is attempting to serve. IBM implementations are used mainly on their Z/OS-based mainframes.</p>\n<p>There were/are several JCL implementations. Now that OpenJDK is freely available there is less incentive in using alternates. Android started using OpenJDK JCL. When Java was not free, there were more efforts towards non-Oracle JVMs, JREs, and JCLs (which are bundled together to make the JDK)</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687012260,"creation_date":1687011840,"answer_id":76496630,"question_id":76496400,"body_markdown":"I don&#39;t believe there is a _standardization_ of the framework classes.\r\n\r\nFor example, the _[OpenJDK](https://openjdk.org/)_ utilizes proposals for implementing new, and deprecating old, logic.  \r\nYou can review a template, here.&amp;nbsp; _[OpenJDK &amp;ndash; JEP 2: JEP Template](https://openjdk.org/jeps/2)_.\r\n\r\nIf it were a standardization, there would be a more formal process.\r\n\r\nAs _@andrewJames_ mentioned in the comments, there is also the _[Java Language Specification](https://docs.oracle.com/javase/specs/jls/se20/html/index.html)_, which, at the least, provides a specification on this topic.\r\n\r\n_[1.4. Relationship to Predefined Classes and Interfaces](https://docs.oracle.com/javase/specs/jls/se20/html/jls-1.html#jls-1.4)_.\r\n\r\n&gt; _&quot;... In particular, some classes and interfaces have a special relationship with the Java programming language. Examples include classes such as Object, Class, ClassLoader, String, and Thread, and the classes and interfaces in the package java.lang.reflect, among others. This specification constrains the behavior of such classes and interfaces, but does not provide a complete specification for them. The reader is referred to the Java SE Platform API documentation. ...&quot;_","title":"Java : Are there non-Oracle implementations of Java standard classes?","body":"<p>I don't believe there is a <em>standardization</em> of the framework classes.</p>\n<p>For example, the <em><a href=\"https://openjdk.org/\" rel=\"nofollow noreferrer\">OpenJDK</a></em> utilizes proposals for implementing new, and deprecating old, logic.<br />\nYou can review a template, here.  <em><a href=\"https://openjdk.org/jeps/2\" rel=\"nofollow noreferrer\">OpenJDK – JEP 2: JEP Template</a></em>.</p>\n<p>If it were a standardization, there would be a more formal process.</p>\n<p>As <em>@andrewJames</em> mentioned in the comments, there is also the <em><a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/index.html\" rel=\"nofollow noreferrer\">Java Language Specification</a></em>, which, at the least, provides a specification on this topic.</p>\n<p><em><a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-1.html#jls-1.4\" rel=\"nofollow noreferrer\">1.4. Relationship to Predefined Classes and Interfaces</a></em>.</p>\n<blockquote>\n<p><em>&quot;... In particular, some classes and interfaces have a special relationship with the Java programming language. Examples include classes such as Object, Class, ClassLoader, String, and Thread, and the classes and interfaces in the package java.lang.reflect, among others. This specification constrains the behavior of such classes and interfaces, but does not provide a complete specification for them. The reader is referred to the Java SE Platform API documentation. ...&quot;</em></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":28783522,"reputation":42,"user_id":22044581,"display_name":"Preston Thorpe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1687012485,"creation_date":1687012485,"answer_id":76496665,"question_id":76496400,"body_markdown":"Have you looked into GNU Classpath? https://en.wikipedia.org/wiki/GNU_Classpath\r\n\r\nThis is the only other complete implementation of the java std lib that I am aware of, although there definitely may be more out there. I am not sure if each JDK (OpenJDK, Coretto, etc) has their own libraries, but this seems to answer your question whether or not each one is required to implement Oracles std lib.\r\n\r\nEDIT: 30 min wait time to answer, I missed it and someone already mentioned this and gave a far better answer.","title":"Java : Are there non-Oracle implementations of Java standard classes?","body":"<p>Have you looked into GNU Classpath? <a href=\"https://en.wikipedia.org/wiki/GNU_Classpath\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/GNU_Classpath</a></p>\n<p>This is the only other complete implementation of the java std lib that I am aware of, although there definitely may be more out there. I am not sure if each JDK (OpenJDK, Coretto, etc) has their own libraries, but this seems to answer your question whether or not each one is required to implement Oracles std lib.</p>\n<p>EDIT: 30 min wait time to answer, I missed it and someone already mentioned this and gave a far better answer.</p>\n"}],"owner":{"account_id":151036,"reputation":2696,"user_id":364651,"accept_rate":64,"display_name":"johngreen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76496587,"answer_count":3,"score":4,"last_activity_date":1687012485,"creation_date":1687008571,"question_id":76496400,"body_markdown":"As far as I understand, anyone can implement a JVM (Java Virtual Machine) that conforms to the [JVM specification][1]. However, when it comes to the standard Java library (e.g. classes like `String`, `ArrayList`, etc.), are compilers allowed to re-implement these classes, or any JDK *has* to use the implementations provided by Oracle? If third-party implementations are allowed, can anyone please point to a few of these because I have searched the Internet a lot and haven&#39;t found any answer yet.\r\n\r\nI am new to the Java ecosystem have a long C++ background. In C++, the [Standard Template Library][2] is standarised as part of the C++ standard and every compiler implements its own version. However, I have failed to find a similar standard for Java library classes. There is, of course, the [Oracle API documentation][3] but it doesn&#39;t really compare with the detailed specification C++ provides.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se8/html/\r\n  [2]: https://en.cppreference.com/w/cpp/standard_library\r\n  [3]: https://docs.oracle.com/en/java/javase/20/docs/api/index.html","title":"Java : Are there non-Oracle implementations of Java standard classes?","body":"<p>As far as I understand, anyone can implement a JVM (Java Virtual Machine) that conforms to the <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/\" rel=\"nofollow noreferrer\">JVM specification</a>. However, when it comes to the standard Java library (e.g. classes like <code>String</code>, <code>ArrayList</code>, etc.), are compilers allowed to re-implement these classes, or any JDK <em>has</em> to use the implementations provided by Oracle? If third-party implementations are allowed, can anyone please point to a few of these because I have searched the Internet a lot and haven't found any answer yet.</p>\n<p>I am new to the Java ecosystem have a long C++ background. In C++, the <a href=\"https://en.cppreference.com/w/cpp/standard_library\" rel=\"nofollow noreferrer\">Standard Template Library</a> is standarised as part of the C++ standard and every compiler implements its own version. However, I have failed to find a similar standard for Java library classes. There is, of course, the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/index.html\" rel=\"nofollow noreferrer\">Oracle API documentation</a> but it doesn't really compare with the detailed specification C++ provides.</p>\n"},{"tags":["java","rest","web","apache-karaf"],"comments":[{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1687015226,"post_id":76496603,"comment_id":134879516,"body_markdown":"I&#39;ve created https://github.com/ops4j/org.ops4j.pax.web/issues/1868 because this may be a problem after the refactoring. I&#39;ll check after the weekend.","body":"I&#39;ve created <a href=\"https://github.com/ops4j/org.ops4j.pax.web/issues/1868\" rel=\"nofollow noreferrer\">github.com/ops4j/org.ops4j.pax.web/issues/1868</a> because this may be a problem after the refactoring. I&#39;ll check after the weekend."},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687149092,"post_id":76496603,"comment_id":134891053,"body_markdown":"Ok Thanks for raising the bug in pax web, pls reply once you checked.","body":"Ok Thanks for raising the bug in pax web, pls reply once you checked."},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687195085,"post_id":76496603,"comment_id":134899788,"body_markdown":"Any update on this please? @GrzegorzGrzybek","body":"Any update on this please? @GrzegorzGrzybek"},{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1687239269,"post_id":76496603,"comment_id":134904642,"body_markdown":"Not yet. Give me some time please.","body":"Not yet. Give me some time please."},{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1687264237,"post_id":76496603,"comment_id":134909599,"body_markdown":"I just checked that this attribute is present in Pax Web 8 used in Karaf 4.4.3. You&#39;d have to provide more details about how did you configure Karaf and CXF (?) here. Where do you use HttpsFilter? Please add details to https://github.com/ops4j/org.ops4j.pax.web/issues/1868","body":"I just checked that this attribute is present in Pax Web 8 used in Karaf 4.4.3. You&#39;d have to provide more details about how did you configure Karaf and CXF (?) here. Where do you use HttpsFilter? Please add details to <a href=\"https://github.com/ops4j/org.ops4j.pax.web/issues/1868\" rel=\"nofollow noreferrer\">github.com/ops4j/org.ops4j.pax.web/issues/1868</a>"},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687280345,"post_id":76496603,"comment_id":134913464,"body_markdown":"@GrzegorzGrzybek could you pls let me know when does this attribute &quot;Javax.servlet.request.X509certificate&quot; get populated in containerrequestcontext before it comes to filter method.","body":"@GrzegorzGrzybek could you pls let me know when does this attribute &quot;Javax.servlet.request.X509certificate&quot; get populated in containerrequestcontext before it comes to filter method."},{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1687322899,"post_id":76496603,"comment_id":134918534,"body_markdown":"It depends on which Pax Web runtime you use (Jetty? Tomcat? Undertow?) If (default in Karaf 4.4) it&#39;s Jetty, the attribute is &quot;virtual&quot;: https://github.com/eclipse/jetty.project/blob/jetty-9.4.51.v20230217/jetty-server/src/main/java/org/eclipse/jetty/server/SecureRequestCustomizer.java#L355","body":"It depends on which Pax Web runtime you use (Jetty? Tomcat? Undertow?) If (default in Karaf 4.4) it&#39;s Jetty, the attribute is &quot;virtual&quot;: <a href=\"https://github.com/eclipse/jetty.project/blob/jetty-9.4.51.v20230217/jetty-server/src/main/java/org/eclipse/jetty/server/SecureRequestCustomizer.java#L355\" rel=\"nofollow noreferrer\">github.com/eclipse/jetty.project/blob/jetty-9.4.51.v20230217&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687324435,"post_id":76496603,"comment_id":134918721,"body_markdown":"Any idea on how does containerrequestcontext  gets built with Javax.servlet.request.X509certificate before filter method?","body":"Any idea on how does containerrequestcontext  gets built with Javax.servlet.request.X509certificate before filter method?"},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687334389,"post_id":76496603,"comment_id":134920559,"body_markdown":"we were using Jetty , pax web 8.0.15 and karaf 4.4.3, also we use pax web whiteboard feature. –","body":"we were using Jetty , pax web 8.0.15 and karaf 4.4.3, also we use pax web whiteboard feature. –"},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687335991,"post_id":76496603,"comment_id":134920946,"body_markdown":"we get only below property names if i do getPropertyNames from containerrequstcontext object    &quot; [org.glassfish.jersey.message.internal.TracingLogger, javax.servlet.request.key_size, org.eclipse.jetty.servlet.request.ssl_session, javax.servlet.request.cipher_suite, javax.servlet.request.ssl_session_id]&quot;  pls advise on this","body":"we get only below property names if i do getPropertyNames from containerrequstcontext object    &quot; [org.glassfish.jersey.message.internal.TracingLogger, javax.servlet.request.key_size, org.eclipse.jetty.servlet.request.ssl_session, javax.servlet.request.cipher_suite, javax.servlet.request.ssl_session_id]&quot;  pls advise on this"},{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1687340070,"post_id":76496603,"comment_id":134921886,"body_markdown":"do you have client certificate requirement turned on? (show me `etc/org.ops4j.pax.web.cfg`)","body":"do you have client certificate requirement turned on? (show me <code>etc&#47;org.ops4j.pax.web.cfg</code>)"},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687343514,"post_id":76496603,"comment_id":134922567,"body_markdown":"we have below props set in pax web cfg,  org.ops4j.pax.web.config.file=${karaf.etc}/jetty.xml\norg.osgi.service.http.port=${karaf.web.port}\norg.osgi.service.http.enabled=true\norg.osgi.service.http.secure.enabled=true\norg.osgi.service.http.secure.enabled.protocols=TLSv1.2\norg.osgi.service.http.port.secure=${karaf.web.secure.port}\norg.ops4j.pax.web.ssl.ciphersuites.included=&lt;some value&gt;\norg.ops4j.pax.web.ssl.clientauthwanted=true\norg.ops4j.pax.web.ssl.clientauthneeded=true","body":"we have below props set in pax web cfg,  org.ops4j.pax.web.config.file=${karaf.etc}/jetty.xml org.osgi.service.http.port=${karaf.web.port} org.osgi.service.http.enabled=true org.osgi.service.http.secure.enabled=true org.osgi.service.http.secure.enabled.protocols=TLSv1.2 org.osgi.service.http.port.secure=${karaf.web.secure.port} org.ops4j.pax.web.ssl.ciphersuites.included=&lt;some value&gt; org.ops4j.pax.web.ssl.clientauthwanted=true org.ops4j.pax.web.ssl.clientauthneeded=true"},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687348386,"post_id":76496603,"comment_id":134923592,"body_markdown":"@GrzegorzGrzybek pls help on this.","body":"@GrzegorzGrzybek pls help on this."},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687351325,"post_id":76496603,"comment_id":134924278,"body_markdown":"@GrzegorzGrzybek  After enabled debug logs, i saw we were getting  below from jettyAwareLogger,\n-&gt;SslConnection@b4b9f98{NOT_HANDSHAKING,eio=-1/-1,di=-1,fill=IDLE,flush=IDLE}\nAny idea on this? Any property we need to add to solve this?","body":"@GrzegorzGrzybek  After enabled debug logs, i saw we were getting  below from jettyAwareLogger, -&gt;SslConnection@b4b9f98{NOT_HANDSHAKING,eio=-1/-1,di=-1,fill&zwnj;&#8203;=IDLE,flush=IDLE} Any idea on this? Any property we need to add to solve this?"},{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1687359412,"post_id":76496603,"comment_id":134926432,"body_markdown":"SO comments are not the best way to solve this issue. Please add more details (like logs and configs) to https://github.com/ops4j/org.ops4j.pax.web/issues/1868. Seeing the bundles you have installed would also help (in Karaf: `la -l`)","body":"SO comments are not the best way to solve this issue. Please add more details (like logs and configs) to <a href=\"https://github.com/ops4j/org.ops4j.pax.web/issues/1868\" rel=\"nofollow noreferrer\">github.com/ops4j/org.ops4j.pax.web/issues/1868</a>. Seeing the bundles you have installed would also help (in Karaf: <code>la -l</code>)"},{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1687359475,"post_id":76496603,"comment_id":134926451,"body_markdown":"But the solution may be quicker ;) Use `org.ops4j.pax.web.ssl.clientauth.needed` instead of `org.ops4j.pax.web.ssl.clientauthneeded`","body":"But the solution may be quicker ;) Use <code>org.ops4j.pax.web.ssl.clientauth.needed</code> instead of <code>org.ops4j.pax.web.ssl.clientauthneeded</code>"},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687410688,"post_id":76496603,"comment_id":134933368,"body_markdown":"I tried with org.ops4j.pax.web.ssl.clientauth.needed But Getting error &quot;curl: (58) NSS: client certificate not found (nickname not specified)&quot; but we see osgi pax web documentation has this property named as  org.ops4j.pax.web.ssl.clientauthneeded   , pls suggest why you are asking to use org.ops4j.pax.web.ssl.clientauth.needed","body":"I tried with org.ops4j.pax.web.ssl.clientauth.needed But Getting error &quot;curl: (58) NSS: client certificate not found (nickname not specified)&quot; but we see osgi pax web documentation has this property named as  org.ops4j.pax.web.ssl.clientauthneeded   , pls suggest why you are asking to use org.ops4j.pax.web.ssl.clientauth.needed"},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687411320,"post_id":76496603,"comment_id":134933430,"body_markdown":"Updated with list of 3pp bundles we use in the github link you shared. pls check.","body":"Updated with list of 3pp bundles we use in the github link you shared. pls check."},{"owner":{"account_id":91170,"reputation":6162,"user_id":250517,"accept_rate":75,"display_name":"Grzegorz Grzybek"},"score":0,"creation_date":1687411766,"post_id":76496603,"comment_id":134933489,"body_markdown":"Unfortunately Pax Web documentation is outdated... I didn&#39;t have time to update it.","body":"Unfortunately Pax Web documentation is outdated... I didn&#39;t have time to update it."},{"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"score":0,"creation_date":1687413448,"post_id":76496603,"comment_id":134933718,"body_markdown":"I have copied 3pp bundle list in the git hub , pls check and also we get error like &quot;curl: (58) NSS: client certificate not found (nickname not specified)&quot; after updated pax web property as you suggested. Any idea?","body":"I have copied 3pp bundle list in the git hub , pls check and also we get error like &quot;curl: (58) NSS: client certificate not found (nickname not specified)&quot; after updated pax web property as you suggested. Any idea?"}],"owner":{"account_id":24090368,"reputation":31,"user_id":18063716,"display_name":"Ganesh ram"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687011542,"creation_date":1687011542,"question_id":76496603,"body_markdown":"Getting &quot;javax.servlet.request.X509Certificate&quot; as null in &quot;HttpsFilter&quot; class after Karaf step-up to 4.4.3\r\n\r\n```java\r\nimport javax.ws.rs.container.ContainerRequestFilter;\r\n\r\npublic class HttpsFilter implements ContainerRequestFilter {\r\n    @Override\r\n    public void filter(ContainerRequestContext containerRequestContext) {\r\n        if (isSecure) {\r\n            X509Certificate[] x509Certificate = (X509Certificate[]) containerRequestContext.getProperty(&quot;javax.servlet.request.X509Certificate&quot;);\r\n            --------------------\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAfter upgrading Karaf to 4.4.3, the &quot;javax.servlet.request.X509Certificate&quot; is returning as null within the &quot;HttpsFilter&quot; class, although it was working correctly before. Any ideas on how to resolve this issue would be appreciated.","title":"Getting javax.servlet.request.X509Certificate as null in HttpsFilter class after karaf stepup to 4.4.3","body":"<p>Getting &quot;javax.servlet.request.X509Certificate&quot; as null in &quot;HttpsFilter&quot; class after Karaf step-up to 4.4.3</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.ws.rs.container.ContainerRequestFilter;\n\npublic class HttpsFilter implements ContainerRequestFilter {\n    @Override\n    public void filter(ContainerRequestContext containerRequestContext) {\n        if (isSecure) {\n            X509Certificate[] x509Certificate = (X509Certificate[]) containerRequestContext.getProperty(&quot;javax.servlet.request.X509Certificate&quot;);\n            --------------------\n        }\n    }\n}\n</code></pre>\n<p>After upgrading Karaf to 4.4.3, the &quot;javax.servlet.request.X509Certificate&quot; is returning as null within the &quot;HttpsFilter&quot; class, although it was working correctly before. Any ideas on how to resolve this issue would be appreciated.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1646670282,"post_id":71383550,"comment_id":126175490,"body_markdown":"1) If I&#39;m not mistaken, this is a Gson design flaw probably here: https://github.com/google/gson/blob/bab0f5a1f7040389eb8fe0cb417ba1854e33dbd0/gson/src/main/java/com/google/gson/internal/bind/ReflectiveTypeAdapterFactory.java#L219 . 2) Why are you trying to write an empty string for an integer? 3) In general, try assigning the default field values to work around. 4) If neither works for you (and you still think string-integer coercion is totally fine), create a specialized DTO class for `CatDetails`.","body":"1) If I&#39;m not mistaken, this is a Gson design flaw probably here: <a href=\"https://github.com/google/gson/blob/bab0f5a1f7040389eb8fe0cb417ba1854e33dbd0/gson/src/main/java/com/google/gson/internal/bind/ReflectiveTypeAdapterFactory.java#L219\" rel=\"nofollow noreferrer\">github.com/google/gson/blob/&hellip;</a> . 2) Why are you trying to write an empty string for an integer? 3) In general, try assigning the default field values to work around. 4) If neither works for you (and you still think string-integer coercion is totally fine), create a specialized DTO class for <code>CatDetails</code>."},{"owner":{"account_id":11761233,"reputation":110,"user_id":8607192,"display_name":"Anil K"},"score":0,"creation_date":1646670628,"post_id":71383550,"comment_id":126175646,"body_markdown":"I agree for point -1 but when writing code registerTypeAdapter then work perfectly but it work for all Integer fields.","body":"I agree for point -1 but when writing code registerTypeAdapter then work perfectly but it work for all Integer fields."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1646671078,"post_id":71383550,"comment_id":126175854,"body_markdown":"Yeah, this is what I&#39;m talking about: `@JsonAdapter` probably can&#39;t work for null fields. So you seem to have ran into a Gson bug but I cannot double check it right now, something is telling me so. Also, consider the point #4 and points #2 and #3 together: extract a specialized DTO (Data Transfer Object) class to map all the fields that Gson can support without tricks, probably holding the integer-string coercion mapping and keeping default values where necessary.","body":"Yeah, this is what I&#39;m talking about: <code>@JsonAdapter</code> probably can&#39;t work for null fields. So you seem to have ran into a Gson bug but I cannot double check it right now, something is telling me so. Also, consider the point #4 and points #2 and #3 together: extract a specialized DTO (Data Transfer Object) class to map all the fields that Gson can support without tricks, probably holding the integer-string coercion mapping and keeping default values where necessary."},{"owner":{"account_id":11761233,"reputation":110,"user_id":8607192,"display_name":"Anil K"},"score":0,"creation_date":1646671218,"post_id":71383550,"comment_id":126175923,"body_markdown":"Sorry for partial reply.. I can choose other points.. But still some challenge.. 2) Actually target system accepting same. 3) Default value give a different answer when we pass zero. Because zero is also a valid value. 4) I can do if there is small set of object family tree. After that still i need to write ObjectMapper to which transfer my data.","body":"Sorry for partial reply.. I can choose other points.. But still some challenge.. 2) Actually target system accepting same. 3) Default value give a different answer when we pass zero. Because zero is also a valid value. 4) I can do if there is small set of object family tree. After that still i need to write ObjectMapper to which transfer my data."},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1646671893,"post_id":71383550,"comment_id":126176211,"body_markdown":"3) Ah, sorry, I seem to have missed your very point. So, you can&#39;t pass `null` just because the target system works so. 4) Well, not sure if we&#39;re on the same page, but I still believe you need a specialized DTO (for robustness, it may have a single constructor to make sure everything is mapped properly; using MapStruct or a similar tool to remove the imperative boilerplate). You can also try using `JsonSerializer` for the `CarDetails` class and do the coercion right there, but it also has some drawbacks (no `@SerializedName` support, etc)... Or switch from Gson...","body":"3) Ah, sorry, I seem to have missed your very point. So, you can&#39;t pass <code>null</code> just because the target system works so. 4) Well, not sure if we&#39;re on the same page, but I still believe you need a specialized DTO (for robustness, it may have a single constructor to make sure everything is mapped properly; using MapStruct or a similar tool to remove the imperative boilerplate). You can also try using <code>JsonSerializer</code> for the <code>CarDetails</code> class and do the coercion right there, but it also has some drawbacks (no <code>@SerializedName</code> support, etc)... Or switch from Gson..."},{"owner":{"account_id":11761233,"reputation":110,"user_id":8607192,"display_name":"Anil K"},"score":0,"creation_date":1646674386,"post_id":71383550,"comment_id":126177194,"body_markdown":"I opened it as a bug - https://github.com/google/gson/issues/2088. Let me check, why TypeAdapterRuntimeTypeWrapper not interfering if null occurs but TypeAdapter skipping null value. And there is no overloaded method.","body":"I opened it as a bug - <a href=\"https://github.com/google/gson/issues/2088\" rel=\"nofollow noreferrer\">github.com/google/gson/issues/2088</a>. Let me check, why TypeAdapterRuntimeTypeWrapper not interfering if null occurs but TypeAdapter skipping null value. And there is no overloaded method."}],"answers":[{"comments":[{"owner":{"account_id":11761233,"reputation":110,"user_id":8607192,"display_name":"Anil K"},"score":0,"creation_date":1646703979,"post_id":71385150,"comment_id":126184819,"body_markdown":"Thank you @Marcono1234. I didn&#39;t check other properties of annotations.","body":"Thank you @Marcono1234. I didn&#39;t check other properties of annotations."}],"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646674826,"creation_date":1646674826,"answer_id":71385150,"question_id":71383550,"body_markdown":"You need to set [`@JsonAdapter#nullSafe`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html#nullSafe()) to `false`, otherwise Gson by default makes your specified adapter null-safe. For example:\r\n```java\r\n@JsonAdapter(value = EmptyIfNullIntegerTypeAdapter.class, nullSafe = false)\r\nprivate Integer catlives;\r\n```","title":"Gson TypeAdapter not working for null with annotation JsonAdapter","body":"<p>You need to set <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/annotations/JsonAdapter.html#nullSafe()\" rel=\"nofollow noreferrer\"><code>@JsonAdapter#nullSafe</code></a> to <code>false</code>, otherwise Gson by default makes your specified adapter null-safe. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonAdapter(value = EmptyIfNullIntegerTypeAdapter.class, nullSafe = false)\nprivate Integer catlives;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1646724717,"post_id":71391397,"comment_id":126188472,"body_markdown":"Cool. Sorry for the confusion and the misleading I suggested to you...","body":"Cool. Sorry for the confusion and the misleading I suggested to you..."},{"owner":{"account_id":11761233,"reputation":110,"user_id":8607192,"display_name":"Anil K"},"score":0,"creation_date":1646724782,"post_id":71391397,"comment_id":126188486,"body_markdown":"No problem @user12232870","body":"No problem @user12232870"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1646725133,"post_id":71391397,"comment_id":126188574,"body_markdown":"As a minor suggestion now, `JsonPrimitive` has a constructor overload for `java.lang.Number`, so once `src instanceof Number`, you can simply cast `src` and pass it to the constructor. This will save unnecessary conversions and will support all numbers.","body":"As a minor suggestion now, <code>JsonPrimitive</code> has a constructor overload for <code>java.lang.Number</code>, so once <code>src instanceof Number</code>, you can simply cast <code>src</code> and pass it to the constructor. This will save unnecessary conversions and will support all numbers."},{"owner":{"account_id":11761233,"reputation":110,"user_id":8607192,"display_name":"Anil K"},"score":0,"creation_date":1646725716,"post_id":71391397,"comment_id":126188746,"body_markdown":"I would have to use &#39;extends TypeAdapter&lt;Integer&gt;&#39; and other types ... but not &#39;implements JsonSerializer&lt;T&gt;&#39; because &#39;nullSafe&#39; property not working with JsonSerializer.","body":"I would have to use &#39;extends TypeAdapter&lt;Integer&gt;&#39; and other types ... but not &#39;implements JsonSerializer&lt;T&gt;&#39; because &#39;nullSafe&#39; property not working with JsonSerializer."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1646785265,"post_id":71391397,"comment_id":126208782,"body_markdown":"JsonAdapter&#39;s `nullSafe` not working with `JsonSerializer` is a [known bug](https://github.com/google/gson/issues/1553), which is unfortunately not fixed yet.","body":"JsonAdapter&#39;s <code>nullSafe</code> not working with <code>JsonSerializer</code> is a <a href=\"https://github.com/google/gson/issues/1553\" rel=\"nofollow noreferrer\">known bug</a>, which is unfortunately not fixed yet."}],"tags":[],"owner":{"account_id":11761233,"reputation":110,"user_id":8607192,"display_name":"Anil K"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646724505,"creation_date":1646724505,"answer_id":71391397,"question_id":71383550,"body_markdown":"**- JsonAdapter property `nullSafe = false` solved my problem.**\r\n```\r\n@JsonAdapter(value = EmptyIfNullIntegerTypeAdapter.class, nullSafe = false)\r\nprivate Integer catlives;\r\n```\r\n\r\n&gt; But the same does not work with JsonSerializer. \r\n\r\n```\r\npublic class EmptyIfNullTypeAdapter&lt;T&gt; implements JsonSerializer&lt;T&gt; {\r\n\t@Override\r\n\tpublic JsonElement serialize(T src, Type typeOfSrc, JsonSerializationContext context) {\r\n\t\tif (src == null) {\r\n\t\t\treturn new JsonPrimitive(&quot;&quot;);\r\n\t\t} else {\r\n\t\t\tswitch (typeOfSrc.getTypeName()) {\r\n\t\t\tcase &quot;java.lang.Integer&quot;:\r\n\t\t\t\treturn new JsonPrimitive(Integer.parseInt(src.toString()));\r\n\t\t\tcase &quot;java.lang.Long&quot;:\r\n\t\t\t\treturn new JsonPrimitive(Long.parseLong(src.toString()));\r\n\t\t\tcase &quot;java.lang.Double&quot;:\r\n\t\t\t\treturn new JsonPrimitive(Double.parseDouble(src.toString()));\r\n\t\t\tdefault:\r\n\t\t\t\treturn new JsonPrimitive(src.toString());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\t@JsonAdapter(value=EmptyIfNullTypeAdapter.class, nullSafe=false)\r\n\tprivate Integer catlives;\r\n\t@JsonAdapter(value=EmptyIfNullTypeAdapter.class, nullSafe=false)\r\n\tprivate Integer phone;\r\n```","title":"Gson TypeAdapter not working for null with annotation JsonAdapter","body":"<p><strong>- JsonAdapter property <code>nullSafe = false</code> solved my problem.</strong></p>\n<pre><code>@JsonAdapter(value = EmptyIfNullIntegerTypeAdapter.class, nullSafe = false)\nprivate Integer catlives;\n</code></pre>\n<blockquote>\n<p>But the same does not work with JsonSerializer.</p>\n</blockquote>\n<pre><code>public class EmptyIfNullTypeAdapter&lt;T&gt; implements JsonSerializer&lt;T&gt; {\n    @Override\n    public JsonElement serialize(T src, Type typeOfSrc, JsonSerializationContext context) {\n        if (src == null) {\n            return new JsonPrimitive(&quot;&quot;);\n        } else {\n            switch (typeOfSrc.getTypeName()) {\n            case &quot;java.lang.Integer&quot;:\n                return new JsonPrimitive(Integer.parseInt(src.toString()));\n            case &quot;java.lang.Long&quot;:\n                return new JsonPrimitive(Long.parseLong(src.toString()));\n            case &quot;java.lang.Double&quot;:\n                return new JsonPrimitive(Double.parseDouble(src.toString()));\n            default:\n                return new JsonPrimitive(src.toString());\n            }\n        }\n    }\n}\n    @JsonAdapter(value=EmptyIfNullTypeAdapter.class, nullSafe=false)\n    private Integer catlives;\n    @JsonAdapter(value=EmptyIfNullTypeAdapter.class, nullSafe=false)\n    private Integer phone;\n</code></pre>\n"}],"owner":{"account_id":11761233,"reputation":110,"user_id":8607192,"display_name":"Anil K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":947,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71385150,"answer_count":2,"score":0,"last_activity_date":1687011514,"creation_date":1646667424,"question_id":71383550,"body_markdown":"[![enter image description here][1]][1]**TypeAdapter nullSafe skipping custom handling code.**\r\n\r\nI have written IntegerTypeAdapter and use as annotation to achieve below output, but written code in gson library completely not allowing null handling with annotation configuration.\r\n\r\nIf I uncomment line 1,2,4 and comment line 3, then still i don&#39;t achieve my desire output.\r\n\r\n&gt; When i debug library code at line number 189 (given screenshot image)\r\n&gt; not reaching to my custom Adapter code so null handling not working\r\n&gt; with annotation. Is there any alternative way to achieve desired\r\n&gt; output based on annotation configuration?\r\n\r\nDesired Output:\r\n\r\n 1. catlives - &quot;&quot; (As used annotation and have null value)\r\n 2. phone - 89    (As used annotation and have Integer value)\r\n 3. rank -        (No key present because not using annotation and have null value)\r\n\r\n```\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\nclass CatDetails {\r\n    private String name;\r\n    private String breed;\r\n    private String email;\r\n    //@JsonAdapter(EmptyIfNullIntegerTypeAdapter.class) //1\r\n    private Integer catlives;\r\n    //@JsonAdapter(EmptyIfNullIntegerTypeAdapter.class) //2\r\n    private Integer phone;\r\n    private String city;\r\n    private Integer rank;\r\n    private Boolean likesMice;\r\n}\r\n\r\n\r\npublic class EmptyIfNullIntegerTypeAdapter extends TypeAdapter&lt;Integer&gt; {\r\n\r\n    @Override\r\n    public void write(JsonWriter out, Integer value) throws IOException {\r\n        if (value == null) {\r\n            out.value(&quot;&quot;);\r\n            return;\r\n        }\r\n        out.value(value);\r\n    }\r\n\r\n    @Override\r\n    public Integer read(JsonReader in) throws IOException {\r\n        if (in.peek() == JsonToken.NULL) {\r\n            in.nextNull();\r\n            return 0;\r\n        }\r\n        return in.nextInt();\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class MyApp {\r\n    public static void main(String... args) {\r\n        CatDetails user = new CatDetails(&quot;cat007&quot;, &quot;YUI&quot;, &quot;abc.cat@gmail.com&quot;, null,89, &quot;new&quot;,null, true);\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().registerTypeAdapter(Integer.class, new EmptyIfNullIntegerTypeAdapter()).create(); //3\r\n        //Gson gson = new GsonBuilder().setPrettyPrinting().create(); //4\r\n        String json = gson.toJson(user);\r\n        System.out.println(json);\r\n    }\r\n\r\n}\r\n\r\n\r\nCurrently code giving below Output:\r\n{\r\n  &quot;name&quot;: &quot;cat007&quot;,\r\n  &quot;breed&quot;: &quot;YUI&quot;,\r\n  &quot;email&quot;: &quot;abc.cat@gmail.com&quot;,\r\n  &quot;catlives&quot;: &quot;&quot;,\r\n  &quot;phone&quot;: 89,\r\n  &quot;city&quot;: &quot;new&quot;,\r\n  &quot;rank&quot;: &quot;&quot;,\r\n  &quot;likesMice&quot;: true\r\n}\r\n\r\n```\r\nLooking below output with annotation:\r\n\r\nSpecial care with two Integer fields (catlives &amp; phone) only *if value is null it write empty string.* Whereas for other Integer field when value null then work like default (skip key-value pair). \r\n\r\n```\r\n{\r\n  &quot;name&quot;: &quot;cat007&quot;,\r\n  &quot;breed&quot;: &quot;YUI&quot;,\r\n  &quot;email&quot;: &quot;abc.cat@gmail.com&quot;,\r\n  &quot;catlives&quot;: &quot;&quot;,\r\n  &quot;phone&quot;: 89,\r\n  &quot;city&quot;: &quot;new&quot;,\r\n  &quot;likesMice&quot;: true\r\n}\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/2ko5C.jpg","title":"Gson TypeAdapter not working for null with annotation JsonAdapter","body":"<p><a href=\"https://i.stack.imgur.com/2ko5C.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ko5C.jpg\" alt=\"enter image description here\" /></a><strong>TypeAdapter nullSafe skipping custom handling code.</strong></p>\n<p>I have written IntegerTypeAdapter and use as annotation to achieve below output, but written code in gson library completely not allowing null handling with annotation configuration.</p>\n<p>If I uncomment line 1,2,4 and comment line 3, then still i don't achieve my desire output.</p>\n<blockquote>\n<p>When i debug library code at line number 189 (given screenshot image)\nnot reaching to my custom Adapter code so null handling not working\nwith annotation. Is there any alternative way to achieve desired\noutput based on annotation configuration?</p>\n</blockquote>\n<p>Desired Output:</p>\n<ol>\n<li>catlives - &quot;&quot; (As used annotation and have null value)</li>\n<li>phone - 89    (As used annotation and have Integer value)</li>\n<li>rank -        (No key present because not using annotation and have null value)</li>\n</ol>\n<pre><code>@AllArgsConstructor\n@Getter\n@Setter\nclass CatDetails {\n    private String name;\n    private String breed;\n    private String email;\n    //@JsonAdapter(EmptyIfNullIntegerTypeAdapter.class) //1\n    private Integer catlives;\n    //@JsonAdapter(EmptyIfNullIntegerTypeAdapter.class) //2\n    private Integer phone;\n    private String city;\n    private Integer rank;\n    private Boolean likesMice;\n}\n\n\npublic class EmptyIfNullIntegerTypeAdapter extends TypeAdapter&lt;Integer&gt; {\n\n    @Override\n    public void write(JsonWriter out, Integer value) throws IOException {\n        if (value == null) {\n            out.value(&quot;&quot;);\n            return;\n        }\n        out.value(value);\n    }\n\n    @Override\n    public Integer read(JsonReader in) throws IOException {\n        if (in.peek() == JsonToken.NULL) {\n            in.nextNull();\n            return 0;\n        }\n        return in.nextInt();\n    }\n\n}\n\n\npublic class MyApp {\n    public static void main(String... args) {\n        CatDetails user = new CatDetails(&quot;cat007&quot;, &quot;YUI&quot;, &quot;abc.cat@gmail.com&quot;, null,89, &quot;new&quot;,null, true);\n        Gson gson = new GsonBuilder().setPrettyPrinting().registerTypeAdapter(Integer.class, new EmptyIfNullIntegerTypeAdapter()).create(); //3\n        //Gson gson = new GsonBuilder().setPrettyPrinting().create(); //4\n        String json = gson.toJson(user);\n        System.out.println(json);\n    }\n\n}\n\n\nCurrently code giving below Output:\n{\n  &quot;name&quot;: &quot;cat007&quot;,\n  &quot;breed&quot;: &quot;YUI&quot;,\n  &quot;email&quot;: &quot;abc.cat@gmail.com&quot;,\n  &quot;catlives&quot;: &quot;&quot;,\n  &quot;phone&quot;: 89,\n  &quot;city&quot;: &quot;new&quot;,\n  &quot;rank&quot;: &quot;&quot;,\n  &quot;likesMice&quot;: true\n}\n\n</code></pre>\n<p>Looking below output with annotation:</p>\n<p>Special care with two Integer fields (catlives &amp; phone) only <em>if value is null it write empty string.</em> Whereas for other Integer field when value null then work like default (skip key-value pair).</p>\n<pre><code>{\n  &quot;name&quot;: &quot;cat007&quot;,\n  &quot;breed&quot;: &quot;YUI&quot;,\n  &quot;email&quot;: &quot;abc.cat@gmail.com&quot;,\n  &quot;catlives&quot;: &quot;&quot;,\n  &quot;phone&quot;: 89,\n  &quot;city&quot;: &quot;new&quot;,\n  &quot;likesMice&quot;: true\n}\n\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":0,"creation_date":1517847250,"post_id":48626394,"comment_id":84250384,"body_markdown":"I&#39;d be interested to know what you would like to replace &#39;something&#39; with in this case, since this might give a simpler solution. You could look to create a custom bean with extends PropertyPlaceholderConfigurer, this gives you hook points to apply your property name substitution logic and then pass back to spring to set the values see https://stackoverflow.com/questions/26150527/how-can-i-reload-properties-file-in-spring-4-using-annotations/39138850#39138850","body":"I&#39;d be interested to know what you would like to replace &#39;something&#39; with in this case, since this might give a simpler solution. You could look to create a custom bean with extends PropertyPlaceholderConfigurer, this gives you hook points to apply your property name substitution logic and then pass back to spring to set the values see <a href=\"https://stackoverflow.com/questions/26150527/how-can-i-reload-properties-file-in-spring-4-using-annotations/39138850#39138850\" title=\"how can i reload properties file in spring 4 using annotations\">stackoverflow.com/questions/26150527/&hellip;</a>"},{"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"score":0,"creation_date":1517912860,"post_id":48626394,"comment_id":84277934,"body_markdown":"I created a custom PropertyPlaceholderConfigurer bean like in your example but it didn&#39;t work.","body":"I created a custom PropertyPlaceholderConfigurer bean like in your example but it didn&#39;t work."},{"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"score":0,"creation_date":1517913490,"post_id":48626394,"comment_id":84278397,"body_markdown":"It is created via `new` declaration in `AbstractEnvironment`: `private final ConfigurablePropertyResolver propertyResolver = new PropertySourcesPropertyResolver(this.propertySources);`","body":"It is created via <code>new</code> declaration in <code>AbstractEnvironment</code>: <code>private final ConfigurablePropertyResolver propertyResolver = new PropertySourcesPropertyResolver(this.propertySources);</code>"},{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":0,"creation_date":1517913718,"post_id":48626394,"comment_id":84278546,"body_markdown":"I suggest you post the code for your custom class and details of the error you are seeing.","body":"I suggest you post the code for your custom class and details of the error you are seeing."},{"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"score":0,"creation_date":1517917029,"post_id":48626394,"comment_id":84280702,"body_markdown":"I posted my code. I also debuged the stacktrace of getting property and I could not find where this `PropertyPlaceholderConfigurer` is used.","body":"I posted my code. I also debuged the stacktrace of getting property and I could not find where this <code>PropertyPlaceholderConfigurer</code> is used."},{"owner":{"account_id":14885599,"reputation":486,"user_id":11211480,"display_name":"vinter"},"score":0,"creation_date":1686534702,"post_id":48626394,"comment_id":134806870,"body_markdown":"@Praytic did you solve this use case? I&#39;m also looking for the similar one.","body":"@Praytic did you solve this use case? I&#39;m also looking for the similar one."},{"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"score":0,"creation_date":1686681476,"post_id":48626394,"comment_id":134831927,"body_markdown":"No, feel free to post the answer here if you find one.","body":"No, feel free to post the answer here if you find one."},{"owner":{"account_id":14885599,"reputation":486,"user_id":11211480,"display_name":"vinter"},"score":0,"creation_date":1687011366,"post_id":48626394,"comment_id":134879041,"body_markdown":"@Praytic i have solved a similar use case and posted an answer, for more details you can refer to the article that i have shared in the answer","body":"@Praytic i have solved a similar use case and posted an answer, for more details you can refer to the article that i have shared in the answer"}],"answers":[{"tags":[],"owner":{"account_id":14885599,"reputation":486,"user_id":11211480,"display_name":"vinter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687011202,"creation_date":1687011202,"answer_id":76496585,"question_id":48626394,"body_markdown":"I had a similar requirement and solved this use case.\r\n\r\nIn short:\r\n\r\nSince spring tries to resolve the properties in the order from list of porperty sources, the basic idea is to add our custom property source at the top[0th index] of the PropertySources in the current `Environment`. \r\n\r\nTo do that, override the `getAppliedPropertySources()` method in `PropertySourcesPlaceholderConfigurer.java` class and do `addFirst` the custom property source in the current spring `Evnironment`. So that spring will try to resolve the placeholder from our custom source first, and if not found, goes through the remaining property sources.\r\n\r\n    @Configuration\r\n    \r\n    public class CustomPropertySourcesPlaceholderConfigurer extends PropertySourcesPlaceholderConfigurer {\r\n    \r\n    private static final String[] IGNORABLE_SECRETS = new String[] {&quot;secrets.property1&quot;, &quot;secrets.property2&quot;};\r\n    \r\n    @Override\r\n    public PropertySources getAppliedPropertySources() throws IllegalStateException {\r\n    \r\n        // gets the applied property sources\r\n        MutablePropertySources appliedPropertySources = (MutablePropertySources) super.getAppliedPropertySources();\r\n    \r\n        // fetches the property source of the current evnironment\r\n        PropertySource&lt;?&gt; environmentPropertySource = appliedPropertySources.get(&quot;environmentProperties&quot;);\r\n    \r\n        if (Objects.nonNull(environmentPropertySource)) {\r\n            addCustomPropertySourceToIgnoreRefresh(environmentPropertySource);\r\n        }\r\n        return appliedPropertySources;\r\n    }\r\n    \r\n    private void addCustomPropertySourceToIgnoreRefresh(PropertySource&lt;?&gt; environmentPropertySource) {\r\n        Map&lt;String, Object&gt; customPropertyMap = new HashMap&lt;&gt;();\r\n        \r\n        // Iterating over properties listed in IGNORABLE_SECRETS to override them\r\n               \r\n        for (String ignorableSecretProperty: IGNORABLE_SECRETS) {\r\n\r\n            customPropertyMap.put(ignorableSecretProperty, &quot;customValueForThatPorperty&quot;);\r\n            \r\n            // For my use case, i&#39;m trying to fetch the secrets from the property sources that are loaded\r\n            // during the bootstrap phase and using them as sort of cache so that spring boot doesn&#39;t \r\n            // need to make grpc calls to google to resolve the secrets during the consul refresh\r\n            //  customPropertyMap.put(ignorableSecretProperty,\r\n            //                  environmentPropertySource.getProperty(ignorableSecretProperty));\r\n\r\n        }\r\n        ConfigurableEnvironment configurableEnvironment =\r\n                (ConfigurableEnvironment) environmentPropertySource.getSource();\r\n\r\n        // post fetching the configurable environment, adding my hash map as custom map property source\r\n        configurableEnvironment.getPropertySources()\r\n                               .addFirst(new MapPropertySource(&quot;customPropertySource&quot;, customPropertyMap));\r\n    }\r\n    \r\n    @Override\r\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n        super.postProcessBeanFactory(beanFactory);\r\n    }\r\n}\r\n\r\nFor more details you can refer to the [article][1] that I have published in medium.\r\n\r\n\r\n  [1]: https://medium.com/@shashikanth.gajjelli/overriding-placeholder-properties-during-spring-boot-consul-refresh-c9e2ec40b470","title":"How to resolve all placeholders which start with &quot;something&quot; in spring environment properties?","body":"<p>I had a similar requirement and solved this use case.</p>\n<p>In short:</p>\n<p>Since spring tries to resolve the properties in the order from list of porperty sources, the basic idea is to add our custom property source at the top[0th index] of the PropertySources in the current <code>Environment</code>.</p>\n<p>To do that, override the <code>getAppliedPropertySources()</code> method in <code>PropertySourcesPlaceholderConfigurer.java</code> class and do <code>addFirst</code> the custom property source in the current spring <code>Evnironment</code>. So that spring will try to resolve the placeholder from our custom source first, and if not found, goes through the remaining property sources.</p>\n<pre><code>@Configuration\n\npublic class CustomPropertySourcesPlaceholderConfigurer extends PropertySourcesPlaceholderConfigurer {\n\nprivate static final String[] IGNORABLE_SECRETS = new String[] {&quot;secrets.property1&quot;, &quot;secrets.property2&quot;};\n\n@Override\npublic PropertySources getAppliedPropertySources() throws IllegalStateException {\n\n    // gets the applied property sources\n    MutablePropertySources appliedPropertySources = (MutablePropertySources) super.getAppliedPropertySources();\n\n    // fetches the property source of the current evnironment\n    PropertySource&lt;?&gt; environmentPropertySource = appliedPropertySources.get(&quot;environmentProperties&quot;);\n\n    if (Objects.nonNull(environmentPropertySource)) {\n        addCustomPropertySourceToIgnoreRefresh(environmentPropertySource);\n    }\n    return appliedPropertySources;\n}\n\nprivate void addCustomPropertySourceToIgnoreRefresh(PropertySource&lt;?&gt; environmentPropertySource) {\n    Map&lt;String, Object&gt; customPropertyMap = new HashMap&lt;&gt;();\n    \n    // Iterating over properties listed in IGNORABLE_SECRETS to override them\n           \n    for (String ignorableSecretProperty: IGNORABLE_SECRETS) {\n\n        customPropertyMap.put(ignorableSecretProperty, &quot;customValueForThatPorperty&quot;);\n        \n        // For my use case, i'm trying to fetch the secrets from the property sources that are loaded\n        // during the bootstrap phase and using them as sort of cache so that spring boot doesn't \n        // need to make grpc calls to google to resolve the secrets during the consul refresh\n        //  customPropertyMap.put(ignorableSecretProperty,\n        //                  environmentPropertySource.getProperty(ignorableSecretProperty));\n\n    }\n    ConfigurableEnvironment configurableEnvironment =\n            (ConfigurableEnvironment) environmentPropertySource.getSource();\n\n    // post fetching the configurable environment, adding my hash map as custom map property source\n    configurableEnvironment.getPropertySources()\n                           .addFirst(new MapPropertySource(&quot;customPropertySource&quot;, customPropertyMap));\n}\n\n@Override\npublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n    super.postProcessBeanFactory(beanFactory);\n}\n</code></pre>\n<p>}</p>\n<p>For more details you can refer to the <a href=\"https://medium.com/@shashikanth.gajjelli/overriding-placeholder-properties-during-spring-boot-consul-refresh-c9e2ec40b470\" rel=\"nofollow noreferrer\">article</a> that I have published in medium.</p>\n"}],"owner":{"account_id":6402126,"reputation":1833,"user_id":4978865,"accept_rate":87,"display_name":"Praytic"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1455,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76496585,"answer_count":1,"score":0,"last_activity_date":1687011202,"creation_date":1517845958,"question_id":48626394,"body_markdown":"I have a Java lib which is based on Spring Boot. In my case I need to resolve placeholders which start with `something.*` in my own way before this property will be resolved by some Spring Property Resolver. For example:\r\n\r\n**application.properties**:\r\n\r\n    spring.datasource.url=&quot;${something.url}&quot;\r\n\r\nSo this placeholder is matching my `something.*` pattern and I want to replace it with `specific` word before Spring will try to resolve it. Where can I do it so I can avoid creating system properties with `System.setProperty`?\r\n\r\nHere is my attempts on achieving it:\r\n\r\n\r\n    import org.springframework.beans.BeansException;\r\n    import org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\r\n    import org.springframework.beans.factory.config.PropertyPlaceholderConfigurer;\r\n    import org.springframework.util.PropertyPlaceholderHelper;\r\n    import org.springframework.util.StringValueResolver;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    public class MyPropertyPlaceholderConfigurer extends PropertyPlaceholderConfigurer {\r\n    \r\n        @Override\r\n        protected void processProperties(ConfigurableListableBeanFactory beanFactoryToProcess, Properties props)\r\n                throws BeansException {\r\n            StringValueResolver valueResolver = new ReloadablePlaceholderResolvingStringValueResolver(props);\r\n            this.doProcessProperties(beanFactoryToProcess, valueResolver);\r\n        }\r\n    \r\n        private class ReloadablePlaceholderResolvingStringValueResolver\r\n                implements StringValueResolver {\r\n    \r\n            private final PropertyPlaceholderHelper helper;\r\n            private final ReloadablePropertyPlaceholderConfigurerResolver resolver;\r\n    \r\n            public ReloadablePlaceholderResolvingStringValueResolver(Properties props) {\r\n                this.helper = new MyPropertyPlaceholderHelper(placeholderPrefix, placeholderSuffix, valueSeparator, ignoreUnresolvablePlaceholders);\r\n                this.resolver = new ReloadablePropertyPlaceholderConfigurerResolver(props);\r\n            }\r\n    \r\n            @Override\r\n            public String resolveStringValue(String strVal) throws BeansException {\r\n                String value = this.helper.replacePlaceholders(strVal, this.resolver);\r\n                return (value.equals(nullValue) ? null : value);\r\n            }\r\n        }\r\n    \r\n        private class ReloadablePropertyPlaceholderConfigurerResolver\r\n                implements PropertyPlaceholderHelper.PlaceholderResolver {\r\n    \r\n            private Properties props;\r\n            private ReloadablePropertyPlaceholderConfigurerResolver(Properties props) {\r\n                this.props = props;\r\n            }\r\n    \r\n            @Override\r\n            public String resolvePlaceholder(String placeholderName) {\r\n                return MyPropertyPlaceholderConfigurer.this.resolvePlaceholder(placeholderName, props, SYSTEM_PROPERTIES_MODE_FALLBACK);\r\n            }\r\n        }\r\n    }\r\n\r\nInitializing bean:\r\n\r\n    @Bean\r\n    public PropertyPlaceholderConfigurer propertyPlaceholderConfigurer() {\r\n        return new MyPropertyPlaceholderConfigurer();\r\n    }\r\n\r\nGetting resolved property:\r\n\r\n    @RestController\r\n    public class MainController {\r\n    \r\n        @Autowired\r\n        private Environment environment;\r\n        \r\n        @GetMapping(&quot;/getEnvProeprty&quot;)\r\n        public String getEnvironmentName() {\r\n            return environment.getProperty(&quot;spring.datasource.url&quot;);\r\n        }\r\n    }","title":"How to resolve all placeholders which start with &quot;something&quot; in spring environment properties?","body":"<p>I have a Java lib which is based on Spring Boot. In my case I need to resolve placeholders which start with <code>something.*</code> in my own way before this property will be resolved by some Spring Property Resolver. For example:</p>\n\n<p><strong>application.properties</strong>:</p>\n\n<pre><code>spring.datasource.url=\"${something.url}\"\n</code></pre>\n\n<p>So this placeholder is matching my <code>something.*</code> pattern and I want to replace it with <code>specific</code> word before Spring will try to resolve it. Where can I do it so I can avoid creating system properties with <code>System.setProperty</code>?</p>\n\n<p>Here is my attempts on achieving it:</p>\n\n<pre><code>import org.springframework.beans.BeansException;\nimport org.springframework.beans.factory.config.ConfigurableListableBeanFactory;\nimport org.springframework.beans.factory.config.PropertyPlaceholderConfigurer;\nimport org.springframework.util.PropertyPlaceholderHelper;\nimport org.springframework.util.StringValueResolver;\n\nimport java.util.Properties;\n\npublic class MyPropertyPlaceholderConfigurer extends PropertyPlaceholderConfigurer {\n\n    @Override\n    protected void processProperties(ConfigurableListableBeanFactory beanFactoryToProcess, Properties props)\n            throws BeansException {\n        StringValueResolver valueResolver = new ReloadablePlaceholderResolvingStringValueResolver(props);\n        this.doProcessProperties(beanFactoryToProcess, valueResolver);\n    }\n\n    private class ReloadablePlaceholderResolvingStringValueResolver\n            implements StringValueResolver {\n\n        private final PropertyPlaceholderHelper helper;\n        private final ReloadablePropertyPlaceholderConfigurerResolver resolver;\n\n        public ReloadablePlaceholderResolvingStringValueResolver(Properties props) {\n            this.helper = new MyPropertyPlaceholderHelper(placeholderPrefix, placeholderSuffix, valueSeparator, ignoreUnresolvablePlaceholders);\n            this.resolver = new ReloadablePropertyPlaceholderConfigurerResolver(props);\n        }\n\n        @Override\n        public String resolveStringValue(String strVal) throws BeansException {\n            String value = this.helper.replacePlaceholders(strVal, this.resolver);\n            return (value.equals(nullValue) ? null : value);\n        }\n    }\n\n    private class ReloadablePropertyPlaceholderConfigurerResolver\n            implements PropertyPlaceholderHelper.PlaceholderResolver {\n\n        private Properties props;\n        private ReloadablePropertyPlaceholderConfigurerResolver(Properties props) {\n            this.props = props;\n        }\n\n        @Override\n        public String resolvePlaceholder(String placeholderName) {\n            return MyPropertyPlaceholderConfigurer.this.resolvePlaceholder(placeholderName, props, SYSTEM_PROPERTIES_MODE_FALLBACK);\n        }\n    }\n}\n</code></pre>\n\n<p>Initializing bean:</p>\n\n<pre><code>@Bean\npublic PropertyPlaceholderConfigurer propertyPlaceholderConfigurer() {\n    return new MyPropertyPlaceholderConfigurer();\n}\n</code></pre>\n\n<p>Getting resolved property:</p>\n\n<pre><code>@RestController\npublic class MainController {\n\n    @Autowired\n    private Environment environment;\n\n    @GetMapping(\"/getEnvProeprty\")\n    public String getEnvironmentName() {\n        return environment.getProperty(\"spring.datasource.url\");\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays"],"answers":[{"comments":[{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1687196026,"post_id":76496583,"comment_id":134899971,"body_markdown":"@SanjitPandit Your welcome.  Remember to habitually `upvote` questions and answers you find helpful anywhere, and `accept`  the best answer to questions you ask.","body":"@SanjitPandit Your welcome.  Remember to habitually <code>upvote</code> questions and answers you find helpful anywhere, and <code>accept</code>  the best answer to questions you ask."},{"owner":{"account_id":28839562,"reputation":1,"user_id":22088150,"display_name":"Sanjit Pandit"},"score":0,"creation_date":1687356936,"post_id":76496583,"comment_id":134925750,"body_markdown":"i dont have much reputations to upvote :( sorry","body":"i dont have much reputations to upvote :( sorry"}],"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687011166,"creation_date":1687011166,"answer_id":76496583,"question_id":76496080,"body_markdown":"You seem to be overlooking some edge cases, and are overcomplicating your solution by creating an additional `empty` array.  You should be able to solve this linearly, with one pass through the `flowerbed` array.\r\n\r\n* You can place a flowerpot in the first position or last position if the adjacent position is empty.\r\n* You can place a flowerpot in a middle position if both it and its two adjacent neighbors are empty.\r\n* When you place a flowerpot, it affects the availability of your next flowerpot.\r\n* It is possible to have a flowerbed with only one pot.","title":"Is there any way to solve this array problem using the approach i tried to use?","body":"<p>You seem to be overlooking some edge cases, and are overcomplicating your solution by creating an additional <code>empty</code> array.  You should be able to solve this linearly, with one pass through the <code>flowerbed</code> array.</p>\n<ul>\n<li>You can place a flowerpot in the first position or last position if the adjacent position is empty.</li>\n<li>You can place a flowerpot in a middle position if both it and its two adjacent neighbors are empty.</li>\n<li>When you place a flowerpot, it affects the availability of your next flowerpot.</li>\n<li>It is possible to have a flowerbed with only one pot.</li>\n</ul>\n"}],"owner":{"account_id":28839562,"reputation":1,"user_id":22088150,"display_name":"Sanjit Pandit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687011166,"creation_date":1687003025,"question_id":76496080,"body_markdown":"&lt;https://leetcode.com/studyplan/leetcode-75/&gt;\r\n\r\nYou have a long flowerbed in which some of the plots are planted, and some are not. However, flowers cannot be planted in **adjacent** plots.\r\n\r\nGiven an integer array `flowerbed` containing `0`&#39;s and `1`&#39;s, where `0` means empty and `1` means not empty, and an integer `n`, return `true`&#160;*if* `n` *new flowers can be planted in the* `flowerbed` *without violating the no-adjacent-flowers rule and* `false` *otherwise*.\r\n\r\n```\r\npublic class Solution {\r\n    public static boolean canPlaceFlowers(int[] flowerbed, int n) {\r\n        boolean b=false;\r\n        int[] empty = new int[flowerbed.length];\r\n        int k = 0;\r\n        for (int i = 0; i &lt; flowerbed.length; i++) {\r\n            if (flowerbed[i] != 1) {\r\n                empty[k] = i;\r\n                k++;\r\n            }\r\n\r\n        }\r\n        int h=0;\r\n        for (int j = 1; j &lt;= n; j++) {\r\n            for (h=0;h &lt; empty.length; h++) {\r\n                int v = empty[h] - 1&gt;=0?empty[h] - 1:0;\r\n                int x = empty[h] + 1&lt;=flowerbed.length-1?empty[h] + 1:0;\r\n                if (flowerbed[empty[h]] == 0 &amp;&amp; flowerbed[x] == 0 &amp;&amp; flowerbed[v] == 0) {\r\n                    b = true;\r\n                    flowerbed[empty[h]]=1;\r\n                    empty[h]=0;\r\n\r\n                } else\r\n                    continue;\r\n            }\r\n        }\r\n        if(empty.length==h)\r\n        {\r\n            b = false;\r\n        }\r\n        if(n ==0)\r\n        {\r\n            b = true;\r\n        }\r\n        return b;\r\n    }\r\n}\r\n```","title":"Is there any way to solve this array problem using the approach i tried to use?","body":"<p><a href=\"https://leetcode.com/studyplan/leetcode-75/\" rel=\"nofollow noreferrer\">https://leetcode.com/studyplan/leetcode-75/</a></p>\n<p>You have a long flowerbed in which some of the plots are planted, and some are not. However, flowers cannot be planted in <strong>adjacent</strong> plots.</p>\n<p>Given an integer array <code>flowerbed</code> containing <code>0</code>'s and <code>1</code>'s, where <code>0</code> means empty and <code>1</code> means not empty, and an integer <code>n</code>, return <code>true</code> <em>if</em> <code>n</code> <em>new flowers can be planted in the</em> <code>flowerbed</code> <em>without violating the no-adjacent-flowers rule and</em> <code>false</code> <em>otherwise</em>.</p>\n<pre><code>public class Solution {\n    public static boolean canPlaceFlowers(int[] flowerbed, int n) {\n        boolean b=false;\n        int[] empty = new int[flowerbed.length];\n        int k = 0;\n        for (int i = 0; i &lt; flowerbed.length; i++) {\n            if (flowerbed[i] != 1) {\n                empty[k] = i;\n                k++;\n            }\n\n        }\n        int h=0;\n        for (int j = 1; j &lt;= n; j++) {\n            for (h=0;h &lt; empty.length; h++) {\n                int v = empty[h] - 1&gt;=0?empty[h] - 1:0;\n                int x = empty[h] + 1&lt;=flowerbed.length-1?empty[h] + 1:0;\n                if (flowerbed[empty[h]] == 0 &amp;&amp; flowerbed[x] == 0 &amp;&amp; flowerbed[v] == 0) {\n                    b = true;\n                    flowerbed[empty[h]]=1;\n                    empty[h]=0;\n\n                } else\n                    continue;\n            }\n        }\n        if(empty.length==h)\n        {\n            b = false;\n        }\n        if(n ==0)\n        {\n            b = true;\n        }\n        return b;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","rxjs","memory-leaks"],"comments":[{"owner":{"account_id":342919,"reputation":38579,"user_id":674326,"display_name":"Brandon"},"score":0,"creation_date":1687460859,"post_id":76496468,"comment_id":134943875,"body_markdown":"most likely the requests in question are returning streaming results  which means until the server &quot;ends&quot; the stream or the UI unsubscribes then the server infrastructure required to process that request will be pinned by the open connection.  Check your Java code for StreamingResponseBody usage or some other library like WebFlux to see if this is the cause.  Also you can use Chrome devtools on the app and monitor the network tab for requests that never finish to help find the ones that are streaming","body":"most likely the requests in question are returning streaming results  which means until the server &quot;ends&quot; the stream or the UI unsubscribes then the server infrastructure required to process that request will be pinned by the open connection.  Check your Java code for StreamingResponseBody usage or some other library like WebFlux to see if this is the cause.  Also you can use Chrome devtools on the app and monitor the network tab for requests that never finish to help find the ones that are streaming"}],"owner":{"account_id":8590798,"reputation":496,"user_id":9330647,"display_name":"ElderFuthark"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687009524,"creation_date":1687009524,"question_id":76496468,"body_markdown":"At my work, I was doing some operational maintenance in production and I noticed one of our Java/Spring Boot/Hibernate applications was using over 4GB of memory while idle. I immediately suspected that something was amiss, as other developers on the team had never seen this behavior before. I was able to replicate the issue in our test environment and used VisualVM to inspect the application&#39;s resources. Turns out there were several memory leaks.\r\n\r\nOur frontend is using Angular with RxJS to subscribe to methods that wrap an HTTP request made by Angular&#39;s HttpClient. After cross checking calls frontend was making with the Java objects that were consuming the most memory, I found there was no unsubscribe--even in ngOnDestroy--for some of the subscriptions. Adding an unsubscribe immediately caused Java to garbage collect those objects.\r\n\r\nI understand not calling unsubscribe can cause a memory leak. But what I don&#39;t understand is why this causes a memory leak in Java, particularly a standard REST API application. I&#39;ve searched for an answer but every example I&#39;ve found only discusses the relationship between subscribe and unsubscribe. Has anyone encountered this issue before or can someone offer an explanation? In case it&#39;s something version specific, I&#39;ve listed the core technologies we&#39;re using with their versions below:\r\n\r\n- Java 13\r\n- Spring Boot (2.6.6)\r\n- Hibernate ORM (5.6.7.Final)\r\n- Angular 9 (9.1.0)\r\n- RxJS (6.5.4)","title":"Why not calling RXJS unsubscribe appears to cause a memory leak in Java application?","body":"<p>At my work, I was doing some operational maintenance in production and I noticed one of our Java/Spring Boot/Hibernate applications was using over 4GB of memory while idle. I immediately suspected that something was amiss, as other developers on the team had never seen this behavior before. I was able to replicate the issue in our test environment and used VisualVM to inspect the application's resources. Turns out there were several memory leaks.</p>\n<p>Our frontend is using Angular with RxJS to subscribe to methods that wrap an HTTP request made by Angular's HttpClient. After cross checking calls frontend was making with the Java objects that were consuming the most memory, I found there was no unsubscribe--even in ngOnDestroy--for some of the subscriptions. Adding an unsubscribe immediately caused Java to garbage collect those objects.</p>\n<p>I understand not calling unsubscribe can cause a memory leak. But what I don't understand is why this causes a memory leak in Java, particularly a standard REST API application. I've searched for an answer but every example I've found only discusses the relationship between subscribe and unsubscribe. Has anyone encountered this issue before or can someone offer an explanation? In case it's something version specific, I've listed the core technologies we're using with their versions below:</p>\n<ul>\n<li>Java 13</li>\n<li>Spring Boot (2.6.6)</li>\n<li>Hibernate ORM (5.6.7.Final)</li>\n<li>Angular 9 (9.1.0)</li>\n<li>RxJS (6.5.4)</li>\n</ul>\n"},{"tags":["java","google-translate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687013659,"post_id":76496391,"comment_id":134879282,"body_markdown":"Where and how are you running that? What&#39;s the value of `System.defaultCharset()`? What&#39;s returned by that request looks odd, if not wrong","body":"Where and how are you running that? What&#39;s the value of <code>System.defaultCharset()</code>? What&#39;s returned by that request looks odd, if not wrong"},{"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"score":0,"creation_date":1687015670,"post_id":76496391,"comment_id":134879597,"body_markdown":"@g00se Charset.defaultCharset() returns &quot;UTF-8&quot;.  My app is a Spring boot app, running on a docker container: azul/zulu-openjdk-alpine:17 . As I&#39;ve mentioned it doesn&#39;t look like an encoding problem, at least not on my end. I&#39;ve also tried to get the byte array from the httpclient and covert it to UTF-8 string, and I&#39;m seeing the same behavior:  HttpResponse&lt;byte[]&gt; response = client.send(request, BodyHandlers.ofByteArray());\nString responseString = new String(response.body(), StandardCharsets.UTF_8);","body":"@g00se Charset.defaultCharset() returns &quot;UTF-8&quot;.  My app is a Spring boot app, running on a docker container: azul/zulu-openjdk-alpine:17 . As I&#39;ve mentioned it doesn&#39;t look like an encoding problem, at least not on my end. I&#39;ve also tried to get the byte array from the httpclient and covert it to UTF-8 string, and I&#39;m seeing the same behavior:  HttpResponse&lt;byte[]&gt; response = client.send(request, BodyHandlers.ofByteArray()); String responseString = new String(response.body(), StandardCharsets.UTF_8);"},{"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"score":0,"creation_date":1687015840,"post_id":76496391,"comment_id":134879624,"body_markdown":"Specifying the charset utf-8 in the ofString method, has the same result:  HttpResponse&lt;String&gt; response = client.send(request, BodyHandlers.ofString(Charset.forName(&quot;UTF-8&quot;)));","body":"Specifying the charset utf-8 in the ofString method, has the same result:  HttpResponse&lt;String&gt; response = client.send(request, BodyHandlers.ofString(Charset.forName(&quot;UTF-8&quot;)));"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687016165,"post_id":76496391,"comment_id":134879688,"body_markdown":"fwiw I get exactly the same thing. It&#39;s a space character. I don&#39;t know what this is, but the fact that it *starts* with `)]}&#39;` doesn&#39;t fill me with confidence ;)","body":"fwiw I get exactly the same thing. It&#39;s a space character. I don&#39;t know what this is, but the fact that it <i>starts</i> with <code>)]}&#39;</code> doesn&#39;t fill me with confidence ;)"},{"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"score":0,"creation_date":1687016553,"post_id":76496391,"comment_id":134879751,"body_markdown":"Those start characters can be seen in the google translate web page responses too. And there works OK. So I doubt is that.","body":"Those start characters can be seen in the google translate web page responses too. And there works OK. So I doubt is that."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687017735,"post_id":76496391,"comment_id":134879894,"body_markdown":"What would that mean though? It looks like the *end* of some sort of json","body":"What would that mean though? It looks like the <i>end</i> of some sort of json"},{"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"score":0,"creation_date":1687018034,"post_id":76496391,"comment_id":134879942,"body_markdown":"Not sure what their role is...","body":"Not sure what their role is..."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687018136,"post_id":76496391,"comment_id":134879953,"body_markdown":"And it *ends* with `3;[9]0;` How on earth would you use that?","body":"And it <i>ends</i> with <code>3;[9]0;</code> How on earth would you use that?"},{"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"score":0,"creation_date":1687018266,"post_id":76496391,"comment_id":134879977,"body_markdown":"I&#39;m only interested in the translated text. I don&#39;t care about the rest of the elements. And to extract that I use a pattern matcher: Pattern.compile(&quot;&lt;span id=\\&quot;tw-answ-target-text\\&quot;&gt;(.*?)&lt;\\\\/span&gt;&quot;);","body":"I&#39;m only interested in the translated text. I don&#39;t care about the rest of the elements. And to extract that I use a pattern matcher: Pattern.compile(&quot;&lt;span id=\\&quot;tw-answ-target-text\\&quot;&gt;(.*?)&lt;\\\\/span&gt;&quot;);"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1687018654,"post_id":76496391,"comment_id":134880025,"body_markdown":"Well the translated text is deficient. It has a space where the character you say should be present ought to be. It could be because the get request is not right","body":"Well the translated text is deficient. It has a space where the character you say should be present ought to be. It could be because the get request is not right"}],"owner":{"account_id":3014557,"reputation":1292,"user_id":2557108,"accept_rate":50,"display_name":"Yonoss"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687009399,"creation_date":1687008486,"question_id":76496391,"body_markdown":"I am trying to use the google translate public API endpoint to translate a handful of words  from english to romanian, and while doing this I&#39;ve noticed that when I am calling this endpoint from by java application, the response is missing the characters containing diacritics.\r\neg:\r\nfor &quot;delete&quot; it returns &quot; terge&quot; instead of &quot;șterge&quot;. The &quot;ș&quot; is missing from the google translate API response.\r\n\r\nGoogle translate response content:\r\n\r\n    &lt;span id=&quot;tw-answ-target-text&quot;&gt; terge&lt;/span&gt;\r\n\r\nExpected response content:\r\n\r\n    &lt;span id=&quot;tw-answ-target-text&quot;&gt;șterge&lt;/span&gt;\r\n\r\nIt doesn&#39;t seem to be an encoding problem, as if I create a test endpoint on my end which returns &quot;șterge&quot;, my java code is able to get the complete string back &quot;șterge&quot;. Also I am not seeing any problems with asian languages like chinese and/or japanese.\r\n\r\nIf I&#39;m sending the same translation request, from my browser, the &quot;ș&quot; char is being returned.\r\n\r\nCould this be some kind of protection mechanism on Googles side? Not sure what else it could be... Any idea?\r\n\r\n\r\nMy java code looks something like below. I am running it on openJDK 17:\r\n\r\n\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URI;\r\n    import java.net.URLEncoder;\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpRequest.Builder;\r\n    import java.net.http.HttpResponse;\r\n    import java.time.Duration;\r\n    import java.net.http.HttpClient;\r\n    import java.net.http.HttpResponse.BodyHandlers;\r\n    \r\n    \r\n    public class TestTranslate {\r\n        public static void main(String[] args) {\r\n            try{\r\n                HttpClient client = HttpClient.newBuilder().connectTimeout(Duration.ofMinutes(1)).build();\r\n                String translatePayload = &quot;async=translate,sl:en,tl:ro,st:delete,id:&quot; + System.currentTimeMillis() + &quot;,qc:true,ac:true,_id:tw-async-translate,_pms:s,_fmt:pc&quot;;\r\n            \r\n                Builder requestBuilder = HttpRequest.newBuilder().uri(URI.create(&quot;https://www.google.com/async/translate&quot;))\r\n                    .timeout(Duration.ofMinutes(1))\r\n                    .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\r\n    \t\t\r\n                HttpRequest request = requestBuilder.POST(HttpRequest.BodyPublishers.ofString(translatePayload)).build();\r\n    \r\n                HttpResponse&lt;String&gt; response = client.send(request, BodyHandlers.ofString());\r\n                System.out.println(&quot;=======================1&quot;);\r\n                System.out.println(response.body());\r\n            } catch(Exception e) {\r\n                System.out.println(&quot;=======================2&quot;);\r\n                e.printStackTrace(System.out);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Any idea why google translate API doesn&#39;t return characters containing diacritics when API is called from a java app?","body":"<p>I am trying to use the google translate public API endpoint to translate a handful of words  from english to romanian, and while doing this I've noticed that when I am calling this endpoint from by java application, the response is missing the characters containing diacritics.\neg:\nfor &quot;delete&quot; it returns &quot; terge&quot; instead of &quot;șterge&quot;. The &quot;ș&quot; is missing from the google translate API response.</p>\n<p>Google translate response content:</p>\n<pre><code>&lt;span id=&quot;tw-answ-target-text&quot;&gt; terge&lt;/span&gt;\n</code></pre>\n<p>Expected response content:</p>\n<pre><code>&lt;span id=&quot;tw-answ-target-text&quot;&gt;șterge&lt;/span&gt;\n</code></pre>\n<p>It doesn't seem to be an encoding problem, as if I create a test endpoint on my end which returns &quot;șterge&quot;, my java code is able to get the complete string back &quot;șterge&quot;. Also I am not seeing any problems with asian languages like chinese and/or japanese.</p>\n<p>If I'm sending the same translation request, from my browser, the &quot;ș&quot; char is being returned.</p>\n<p>Could this be some kind of protection mechanism on Googles side? Not sure what else it could be... Any idea?</p>\n<p>My java code looks something like below. I am running it on openJDK 17:</p>\n<pre><code>import java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URI;\nimport java.net.URLEncoder;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpRequest.Builder;\nimport java.net.http.HttpResponse;\nimport java.time.Duration;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpResponse.BodyHandlers;\n\n\npublic class TestTranslate {\n    public static void main(String[] args) {\n        try{\n            HttpClient client = HttpClient.newBuilder().connectTimeout(Duration.ofMinutes(1)).build();\n            String translatePayload = &quot;async=translate,sl:en,tl:ro,st:delete,id:&quot; + System.currentTimeMillis() + &quot;,qc:true,ac:true,_id:tw-async-translate,_pms:s,_fmt:pc&quot;;\n        \n            Builder requestBuilder = HttpRequest.newBuilder().uri(URI.create(&quot;https://www.google.com/async/translate&quot;))\n                .timeout(Duration.ofMinutes(1))\n                .header(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded;charset=UTF-8&quot;);\n        \n            HttpRequest request = requestBuilder.POST(HttpRequest.BodyPublishers.ofString(translatePayload)).build();\n\n            HttpResponse&lt;String&gt; response = client.send(request, BodyHandlers.ofString());\n            System.out.println(&quot;=======================1&quot;);\n            System.out.println(response.body());\n        } catch(Exception e) {\n            System.out.println(&quot;=======================2&quot;);\n            e.printStackTrace(System.out);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","docker"],"owner":{"account_id":4017891,"reputation":181,"user_id":3309305,"display_name":"user3309305"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687008549,"creation_date":1687008549,"question_id":76496395,"body_markdown":"I am not able to connect to mysql using a JAVA Program.\r\n\r\nsudo netstat -ntlup | grep 3306\r\n\r\ntcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      13226/docker-proxy  \r\ntcp6       0      0 :::3306                 :::*                    LISTEN      13232/docker-proxy\r\n\r\nEven with telnet i tested it was connecting\r\ntelnet localhost 3306\r\n\r\n```Trying 127.0.0.1...\r\nConnected to localhost.\r\nEscape character is &#39;^]&#39;\r\n\r\nBut My java application not able to connect jdbc:mysql://localhost/test","title":"Not able to connect to mysql running in a Docker","body":"<p>I am not able to connect to mysql using a JAVA Program.</p>\n<p>sudo netstat -ntlup | grep 3306</p>\n<p>tcp        0      0 0.0.0.0:3306            0.0.0.0:*               LISTEN      13226/docker-proxy<br />\ntcp6       0      0 :::3306                 :::*                    LISTEN      13232/docker-proxy</p>\n<p>Even with telnet i tested it was connecting\ntelnet localhost 3306</p>\n<pre><code>Connected to localhost.\nEscape character is '^]'\n\nBut My java application not able to connect jdbc:mysql://localhost/test\n</code></pre>\n"},{"tags":["java","user-interface","netweaver","webdynpro"],"answers":[{"tags":[],"owner":{"account_id":542551,"reputation":10395,"user_id":911419,"accept_rate":79,"display_name":"Suncatcher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467543390,"creation_date":1467543390,"answer_id":38169242,"question_id":29997672,"body_markdown":"To iterate child elements of root element you should access root in `wdDoModifyView()` method:\r\n\r\n    IWDUIElementContainer root = (IWDUIElementContainer) view.getRootElement();\r\n\tIWDUIElement[] elements = root.getChildren();\r\n\t for (int i = 0; i &lt; elements.length; i++) {\r\n\t\t  IWDUIElement element = elements[i];\r\n\t\t  String id = element.getId();\r\n\r\n\t\t  if (id.equals(&quot;Button&quot;)) {\r\n\t\t\t  IWDButton button = (IWDButton)view.getElement(id);\r\n\t\t\t  button.setText(&quot;someText&quot;);\r\n          }\r\n\r\n     }","title":"How do I get all UI elements of a Web Dynpro Java view?","body":"<p>To iterate child elements of root element you should access root in <code>wdDoModifyView()</code> method:</p>\n\n<pre><code>IWDUIElementContainer root = (IWDUIElementContainer) view.getRootElement();\nIWDUIElement[] elements = root.getChildren();\n for (int i = 0; i &lt; elements.length; i++) {\n      IWDUIElement element = elements[i];\n      String id = element.getId();\n\n      if (id.equals(\"Button\")) {\n          IWDButton button = (IWDButton)view.getElement(id);\n          button.setText(\"someText\");\n      }\n\n }\n</code></pre>\n"}],"owner":{"account_id":6243013,"reputation":11,"user_id":4855974,"display_name":"Roberto Reinert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1687005938,"creation_date":1430533375,"question_id":29997672,"body_markdown":"Is there any way to recursively iterate over all elements inside the root element of a Web Dynpro Java view? \r\n\r\nFor each found child element I would like to read/modify properties at runtime.\r\n","title":"How do I get all UI elements of a Web Dynpro Java view?","body":"<p>Is there any way to recursively iterate over all elements inside the root element of a Web Dynpro Java view?</p>\n<p>For each found child element I would like to read/modify properties at runtime.</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":27514784,"reputation":1,"user_id":20995951,"display_name":"yuval cohen"},"score":0,"creation_date":1686933420,"post_id":76491618,"comment_id":134871524,"body_markdown":"this wont work because  the languages is just an example for the following Hearst pattern NP {,} such as NP {, NP, ..., {and|or} NP}.","body":"this wont work because  the languages is just an example for the following Hearst pattern NP {,} such as NP {, NP, ..., {and|or} NP}."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686934851,"post_id":76491618,"comment_id":134871841,"body_markdown":"@yuvalcohen, interesting.  Can you adapt the pattern?","body":"@yuvalcohen, interesting.  Can you adapt the pattern?"},{"owner":{"account_id":27514784,"reputation":1,"user_id":20995951,"display_name":"yuval cohen"},"score":0,"creation_date":1686949185,"post_id":76491618,"comment_id":134874058,"body_markdown":"what do you mean?","body":"what do you mean?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686954652,"post_id":76491618,"comment_id":134874729,"body_markdown":"@yuvalcohen, the regex pattern.","body":"@yuvalcohen, the regex pattern."},{"owner":{"account_id":27514784,"reputation":1,"user_id":20995951,"display_name":"yuval cohen"},"score":0,"creation_date":1686996438,"post_id":76491618,"comment_id":134877465,"body_markdown":"i can write whatever regex pattern i want as long as it works","body":"i can write whatever regex pattern i want as long as it works"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1687010555,"post_id":76491618,"comment_id":134878944,"body_markdown":"@yuvalcohen, ok, so, can you provide more examples?  I&#39;m not sure of your inquiry, here.","body":"@yuvalcohen, ok, so, can you provide more examples?  I&#39;m not sure of your inquiry, here."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686930609,"creation_date":1686929378,"answer_id":76491618,"question_id":76490858,"body_markdown":"You can use the following pattern, although, there will be additional text within the captures.\r\n\r\n```none\r\n(?:&lt;np&gt;(.+?)(?=&lt;np&gt;|$))+?\r\n```\r\n\r\nAnd, you can populate the _groups_ map as follows.\r\n\r\n```java\r\npublic void processInput() {\r\n    Pattern regex = Pattern.compile(pattern);\r\n    Matcher matcher = regex.matcher(input);\r\n\r\n    int groupIndex = 1;\r\n\r\n    while (matcher.find())\r\n        groups.put(groupIndex++, matcher.group(1));\r\n\r\n    System.out.println(groups);\r\n}\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{1=semitic languages such as , 2=Hebrew ,, 3=mip ,, 4=bip ,, 5=bop or , 6=Arabic}\r\n```\r\n\r\nYou could then, remove the additional text from within the program, or add a set of values within the pattern.\r\n\r\n```none\r\n(?:&lt;np&gt;(.+?)(?=(?: languages such as | ,| or )&lt;np&gt;|$))+?\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n{1=semitic, 2=Hebrew, 3=mip, 4=bip, 5=bop, 6=Arabic}\r\n```","title":"how to detect and extract multiple occurrences of a group in a regex","body":"<p>You can use the following pattern, although, there will be additional text within the captures.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?:&lt;np&gt;(.+?)(?=&lt;np&gt;|$))+?\n</code></pre>\n<p>And, you can populate the <em>groups</em> map as follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void processInput() {\n    Pattern regex = Pattern.compile(pattern);\n    Matcher matcher = regex.matcher(input);\n\n    int groupIndex = 1;\n\n    while (matcher.find())\n        groups.put(groupIndex++, matcher.group(1));\n\n    System.out.println(groups);\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{1=semitic languages such as , 2=Hebrew ,, 3=mip ,, 4=bip ,, 5=bop or , 6=Arabic}\n</code></pre>\n<p>You could then, remove the additional text from within the program, or add a set of values within the pattern.</p>\n<pre class=\"lang-none prettyprint-override\"><code>(?:&lt;np&gt;(.+?)(?=(?: languages such as | ,| or )&lt;np&gt;|$))+?\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>{1=semitic, 2=Hebrew, 3=mip, 4=bip, 5=bop, 6=Arabic}\n</code></pre>\n"}],"owner":{"account_id":27514784,"reputation":1,"user_id":20995951,"display_name":"yuval cohen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1687005784,"creation_date":1686923474,"question_id":76490858,"body_markdown":"I&#39;m trying to extract specific groups from a given string using regular expressions in Java. The pattern includes an option to capture an unknown number of `&lt;np&gt;` elements after the &quot;such as&quot; phrase, and I want to be able to save all of them. However, in my current implementation, I seem to be overwriting some of the groups and missing others.\r\n\r\nHere&#39;s the code I have so far:\r\n\r\n\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\npublic class Detector {\r\n    private final String input;\r\n    private final String pattern;\r\n    private final String lemma;\r\n    private final Map&lt;Integer, String&gt; groups;\r\n\r\n    public Detector(String input, String pattern, String lemma) {\r\n        this.input = input;\r\n        this.pattern = pattern;\r\n        this.lemma = lemma;\r\n        this.groups = new HashMap&lt;&gt;();\r\n        processInput();\r\n    }\r\n\r\n    public void processInput() {\r\n        Pattern regex = Pattern.compile(pattern);\r\n        Matcher matcher = regex.matcher(input);\r\n\r\n        int groupIndex = 1;\r\n\r\n        if (matcher.find()) {\r\n            groups.put(groupIndex, matcher.group(1));\r\n            groupIndex++;\r\n\r\n            for (int i = 2; i &lt;= matcher.groupCount(); i++) {\r\n                String group = matcher.group(i);\r\n                if (group != null ) {\r\n                    groups.put(groupIndex, group);\r\n                    groupIndex++;\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(groups);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String input = &quot;&lt;np&gt;semitic languages such as &lt;np&gt;Hebrew ,&lt;np&gt;mip ,&lt;np&gt;bip ,&lt;np&gt;bop or &lt;np&gt;Arabic&quot;;\r\n        String pattern = &quot;&lt;np&gt;,?([\\\\w\\\\s]+)\\\\s+such as\\\\s+&lt;np&gt;([\\\\w]+)\\\\s(?:,&lt;np&gt;([\\\\w]+)\\\\s)*(?:(?:and|or)\\\\s&lt;np&gt;([\\\\w]+))?&quot;;\r\n        Detector suchAs = new Detector(input, pattern, &quot;mip&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThe current output I&#39;m getting is `{1=semitic languages, 2=Hebrew, 3=bop, 4=Arabic}`, but it seems that I&#39;m missing the groups mip and bip. I suspect that I&#39;m overwriting them, but I&#39;m not sure how to save them before they get overwritten.\r\n\r\nAny help would be appreciated. Thank you! \r\nedit: i was given an easier task each np will be marked at its beggining and end as follows  &lt;np&gt;semitic languages&lt;/np&gt; such as &lt;np&gt;Hebrew&lt;/np&gt;,&lt;np&gt;bip&lt;/np&gt; &lt;np&gt;bop&lt;/np&gt; or &lt;np&gt;Arabic&lt;/np&gt; are composed of &lt;np&gt;consonants&lt;/np&gt; and &lt;np&gt;voyels&lt;/np&gt; i still cant get it to work but it should make things easier\r\n","title":"how to detect and extract multiple occurrences of a group in a regex","body":"<p>I'm trying to extract specific groups from a given string using regular expressions in Java. The pattern includes an option to capture an unknown number of <code>&lt;np&gt;</code> elements after the &quot;such as&quot; phrase, and I want to be able to save all of them. However, in my current implementation, I seem to be overwriting some of the groups and missing others.</p>\n<p>Here's the code I have so far:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Detector {\n    private final String input;\n    private final String pattern;\n    private final String lemma;\n    private final Map&lt;Integer, String&gt; groups;\n\n    public Detector(String input, String pattern, String lemma) {\n        this.input = input;\n        this.pattern = pattern;\n        this.lemma = lemma;\n        this.groups = new HashMap&lt;&gt;();\n        processInput();\n    }\n\n    public void processInput() {\n        Pattern regex = Pattern.compile(pattern);\n        Matcher matcher = regex.matcher(input);\n\n        int groupIndex = 1;\n\n        if (matcher.find()) {\n            groups.put(groupIndex, matcher.group(1));\n            groupIndex++;\n\n            for (int i = 2; i &lt;= matcher.groupCount(); i++) {\n                String group = matcher.group(i);\n                if (group != null ) {\n                    groups.put(groupIndex, group);\n                    groupIndex++;\n                }\n            }\n        }\n\n        System.out.println(groups);\n    }\n\n    public static void main(String[] args) {\n        String input = &quot;&lt;np&gt;semitic languages such as &lt;np&gt;Hebrew ,&lt;np&gt;mip ,&lt;np&gt;bip ,&lt;np&gt;bop or &lt;np&gt;Arabic&quot;;\n        String pattern = &quot;&lt;np&gt;,?([\\\\w\\\\s]+)\\\\s+such as\\\\s+&lt;np&gt;([\\\\w]+)\\\\s(?:,&lt;np&gt;([\\\\w]+)\\\\s)*(?:(?:and|or)\\\\s&lt;np&gt;([\\\\w]+))?&quot;;\n        Detector suchAs = new Detector(input, pattern, &quot;mip&quot;);\n    }\n}\n</code></pre>\n<p>The current output I'm getting is <code>{1=semitic languages, 2=Hebrew, 3=bop, 4=Arabic}</code>, but it seems that I'm missing the groups mip and bip. I suspect that I'm overwriting them, but I'm not sure how to save them before they get overwritten.</p>\n<p>Any help would be appreciated. Thank you!\nedit: i was given an easier task each np will be marked at its beggining and end as follows  semitic languages such as Hebrew,bip bop or Arabic are composed of consonants and voyels i still cant get it to work but it should make things easier</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686991727,"post_id":76495341,"comment_id":134877011,"body_markdown":"If you are checking the resulted JSON then you will not see the list of tasks. It is annotated with JsonBackReference.","body":"If you are checking the resulted JSON then you will not see the list of tasks. It is annotated with JsonBackReference."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686991887,"post_id":76495341,"comment_id":134877025,"body_markdown":"PS: for the inheritance type TABLE_PER_CLASS no discriminator column needed. Only for SINGLE_TABLE","body":"PS: for the inheritance type TABLE_PER_CLASS no discriminator column needed. Only for SINGLE_TABLE"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1686991954,"post_id":76495341,"comment_id":134877028,"body_markdown":"I was getting Jackson error without the JsonBackReference - how do I retrieve it then?","body":"I was getting Jackson error without the JsonBackReference - how do I retrieve it then?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686992575,"post_id":76495341,"comment_id":134877092,"body_markdown":"What error exactly?","body":"What error exactly?"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1686992804,"post_id":76495341,"comment_id":134877108,"body_markdown":"Looks like infinite recursion when I remove BackReference and Managed Reference.","body":"Looks like infinite recursion when I remove BackReference and Managed Reference."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686993143,"post_id":76495341,"comment_id":134877134,"body_markdown":"Yes. You have a bi-directional relationship. But maybe you can mark another end of relationship as JsonBackReference and this one as JsonManagedReference? Would it be an option?","body":"Yes. You have a bi-directional relationship. But maybe you can mark another end of relationship as JsonBackReference and this one as JsonManagedReference? Would it be an option?"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686994110,"post_id":76495341,"comment_id":134877217,"body_markdown":"Can you try the above solution? If you get the appropriate type of task in the result? (I would rather stick with SO communication and provide a proper answer).","body":"Can you try the above solution? If you get the appropriate type of task in the result? (I would rather stick with SO communication and provide a proper answer)."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1686994256,"post_id":76495341,"comment_id":134877223,"body_markdown":"I am not sure what you mean by other end of the relationship.","body":"I am not sure what you mean by other end of the relationship."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1686994448,"post_id":76495341,"comment_id":134877242,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254114/discussion-between-mar-z-and-al-grant).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254114/discussion-between-mar-z-and-al-grant\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687027840,"post_id":76496210,"comment_id":134881064,"body_markdown":"This worked perfectly. Thank you.","body":"This worked perfectly. Thank you."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687028611,"post_id":76496210,"comment_id":134881145,"body_markdown":"Cool. Thanks for feedback.","body":"Cool. Thanks for feedback."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1687029069,"post_id":76496210,"comment_id":134881187,"body_markdown":"One question : does the task table actually serve any purpose - the model as you have setup does what I require, but is task not needed? (I do need to know all different events that happen under a health check)","body":"One question : does the task table actually serve any purpose - the model as you have setup does what I require, but is task not needed? (I do need to know all different events that happen under a health check)"},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1687069697,"post_id":76496210,"comment_id":134883719,"body_markdown":"That table is only needed for Hibernate to serve the chosen inheritance type TABLE_PER_CLASS. There are 3 other types supported and each has its advantages and drawbacks. Check this comprehensive guide: https://thorben-janssen.com/complete-guide-inheritance-strategies-jpa-hibernate/ or https://vladmihalcea.com/the-best-way-to-use-entity-inheritance-with-jpa-and-hibernate/","body":"That table is only needed for Hibernate to serve the chosen inheritance type TABLE_PER_CLASS. There are 3 other types supported and each has its advantages and drawbacks. Check this comprehensive guide: <a href=\"https://thorben-janssen.com/complete-guide-inheritance-strategies-jpa-hibernate/\" rel=\"nofollow noreferrer\">thorben-janssen.com/&hellip;</a> or <a href=\"https://vladmihalcea.com/the-best-way-to-use-entity-inheritance-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1687005210,"creation_date":1687005210,"answer_id":76496210,"question_id":76495341,"body_markdown":"We have discussed it on chat and I was able to reproduce your settings. There are some issues with your code:\r\n1. The `@JsonBackReference` annotation in the `HealthCheck` entity cause the field `tasks` to not being serialized. Hence not present in JSON at all. You should swap both annotations around like this:\r\n```\r\n// in HealthCheck\r\n@JsonManagedReference\r\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy=&quot;healthCheck&quot;)\r\nprivate List&lt;Task&gt; tasks;\r\n// in Task\r\n@JsonBackReference\r\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\r\nprivate HealthCheck healthCheck;\r\n```\r\n2. You have a field named `healthCheck` not only in the `Task` entity but also in the `PIT` entity. With different meaning. As this field is in use for mapping of tasks this cause an issue while Hibernate is fetching and mapping the entities. Most probably you don&#39;t need the second field. Either remove or rename it.\r\n3. For the inheritance type TABLE_PER_CLASS no discriminator column needed. Only for SINGLE_TABLE\r\n4. It is also important to have a proper data in the database. For the minimal test case you should have following entries:\r\n```\r\nTable HEALTH_CHECK: (health_check_id)\r\n(1)\r\nTable TASK: empty! (you have no entities of type Task)\r\nTable PIT: (task_id, health_check_id)\r\n(1, 1)\r\n(2, 1)\r\n```\r\nThis means two PITs (with ID 1 and 2) related to the HEALTH_CHECK with ID=1.","title":"Spring - JPA query for second level entity on Table Per Class","body":"<p>We have discussed it on chat and I was able to reproduce your settings. There are some issues with your code:</p>\n<ol>\n<li>The <code>@JsonBackReference</code> annotation in the <code>HealthCheck</code> entity cause the field <code>tasks</code> to not being serialized. Hence not present in JSON at all. You should swap both annotations around like this:</li>\n</ol>\n<pre><code>// in HealthCheck\n@JsonManagedReference\n@OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy=&quot;healthCheck&quot;)\nprivate List&lt;Task&gt; tasks;\n// in Task\n@JsonBackReference\n@ManyToOne(fetch = FetchType.LAZY, optional = false)\nprivate HealthCheck healthCheck;\n</code></pre>\n<ol start=\"2\">\n<li>You have a field named <code>healthCheck</code> not only in the <code>Task</code> entity but also in the <code>PIT</code> entity. With different meaning. As this field is in use for mapping of tasks this cause an issue while Hibernate is fetching and mapping the entities. Most probably you don't need the second field. Either remove or rename it.</li>\n<li>For the inheritance type TABLE_PER_CLASS no discriminator column needed. Only for SINGLE_TABLE</li>\n<li>It is also important to have a proper data in the database. For the minimal test case you should have following entries:</li>\n</ol>\n<pre><code>Table HEALTH_CHECK: (health_check_id)\n(1)\nTable TASK: empty! (you have no entities of type Task)\nTable PIT: (task_id, health_check_id)\n(1, 1)\n(2, 1)\n</code></pre>\n<p>This means two PITs (with ID 1 and 2) related to the HEALTH_CHECK with ID=1.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76496210,"answer_count":1,"score":1,"last_activity_date":1687005210,"creation_date":1686990147,"question_id":76495341,"body_markdown":"Querying for a second level entity in Spring with JPA and there is no error, the web page sits on spinning wheel loading, and the debugger window shows the query, but no error.\r\n\r\nThe top-level entity is `Health Check`, and I am trying to retrieve a list of entities extended by `Task` with it.\r\n\r\n**Health Check**\r\n\r\n```java\r\n@Entity\r\n@Data\r\n@Table(name=&quot;HEALTH_CHECK&quot;)\r\npublic class HealthCheck {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = IDENTITY)\r\n    private Long healthCheckid;\r\n\r\n    @JsonManagedReference\r\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\r\n    private Bird bird;\r\n\r\n    @JsonBackReference\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy=&quot;healthCheck&quot;)\r\n    private List&lt;Task&gt; tasks;\r\n\r\n}\r\n```\r\n\r\n**Task**\r\n\r\n```java\r\n@Entity\r\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n@DiscriminatorColumn(name = &quot;TASK_TYPE&quot;)\r\n@Table(name=&quot;TASK&quot;)\r\npublic class Task {\r\n\r\n    @Id\r\n    private Long taskId;\r\n\r\n    @JsonManagedReference\r\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\r\n    private HealthCheck healthCheck;\r\n\r\n}\r\n```\r\n\r\nVarious entities extend `Task` like `PIT`, `MEM` and `XMIT` - only `PIT` shown here for berevity:\r\n\r\n**PIT**\r\n\r\n```java\r\n@Entity\r\npublic class PIT extends Task {\r\n\r\n    @Column(unique = true)\r\n    @NotEmpty(message = &quot;Name must not be null or empty&quot;)\r\n    private String code;\r\n\r\n    @JoinColumn(name =&quot;date_instered&quot;)\r\n    private LocalDate dateInserted;\r\n\r\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\r\n    private HealthCheck healthCheck;\r\n\r\n    @Lob\r\n    private String comment;    \r\n}\r\n```\r\n\r\n\r\n**NB** PIT is one of four extended classes using Task. I have tried to query for a `Health Check` with all associated tasks in the following query, but this just gives `Health Check` details.\r\n\r\n```java\r\npublic interface HealthCheckRepository extends JpaRepository&lt;HealthCheck, Long&gt; {\r\n\r\n    @Query(&quot;SELECT h FROM HealthCheck h JOIN FETCH h.tasks t WHERE h.healthCheckid = :id&quot;)\r\n    Optional&lt;HealthCheck&gt; getFullHealthCheck(@Param(&quot;health_check_id&quot;) Long id);\r\n\r\n}\r\n```\r\n\r\nIn plain english, I want to get a specific `HealthCheck` and the associated id of Task. If any of the extended classes of `PIT` `MEM` XMIT` are also present (in there own tables) they will share the same Id as task (in the above query it would be t.id). Part of the answer is to do with TYPE in the query like [here][1].\r\n\r\nHow can I include fields from the child classes like `PIT` where there is a record?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71723116/i-want-to-implement-inheritance-strategytable-per-class-using-discriminator-co","title":"Spring - JPA query for second level entity on Table Per Class","body":"<p>Querying for a second level entity in Spring with JPA and there is no error, the web page sits on spinning wheel loading, and the debugger window shows the query, but no error.</p>\n<p>The top-level entity is <code>Health Check</code>, and I am trying to retrieve a list of entities extended by <code>Task</code> with it.</p>\n<p><strong>Health Check</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Data\n@Table(name=&quot;HEALTH_CHECK&quot;)\npublic class HealthCheck {\n\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    private Long healthCheckid;\n\n    @JsonManagedReference\n    @ManyToOne(fetch = FetchType.EAGER, optional = false)\n    private Bird bird;\n\n    @JsonBackReference\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, mappedBy=&quot;healthCheck&quot;)\n    private List&lt;Task&gt; tasks;\n\n}\n</code></pre>\n<p><strong>Task</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@DiscriminatorColumn(name = &quot;TASK_TYPE&quot;)\n@Table(name=&quot;TASK&quot;)\npublic class Task {\n\n    @Id\n    private Long taskId;\n\n    @JsonManagedReference\n    @ManyToOne(fetch = FetchType.LAZY, optional = false)\n    private HealthCheck healthCheck;\n\n}\n</code></pre>\n<p>Various entities extend <code>Task</code> like <code>PIT</code>, <code>MEM</code> and <code>XMIT</code> - only <code>PIT</code> shown here for berevity:</p>\n<p><strong>PIT</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class PIT extends Task {\n\n    @Column(unique = true)\n    @NotEmpty(message = &quot;Name must not be null or empty&quot;)\n    private String code;\n\n    @JoinColumn(name =&quot;date_instered&quot;)\n    private LocalDate dateInserted;\n\n    @OneToOne(fetch = FetchType.LAZY, optional = true)\n    private HealthCheck healthCheck;\n\n    @Lob\n    private String comment;    \n}\n</code></pre>\n<p><strong>NB</strong> PIT is one of four extended classes using Task. I have tried to query for a <code>Health Check</code> with all associated tasks in the following query, but this just gives <code>Health Check</code> details.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface HealthCheckRepository extends JpaRepository&lt;HealthCheck, Long&gt; {\n\n    @Query(&quot;SELECT h FROM HealthCheck h JOIN FETCH h.tasks t WHERE h.healthCheckid = :id&quot;)\n    Optional&lt;HealthCheck&gt; getFullHealthCheck(@Param(&quot;health_check_id&quot;) Long id);\n\n}\n</code></pre>\n<p>In plain english, I want to get a specific <code>HealthCheck</code> and the associated id of Task. If any of the extended classes of <code>PIT</code> <code>MEM</code> XMIT` are also present (in there own tables) they will share the same Id as task (in the above query it would be t.id). Part of the answer is to do with TYPE in the query like <a href=\"https://stackoverflow.com/questions/71723116/i-want-to-implement-inheritance-strategytable-per-class-using-discriminator-co\">here</a>.</p>\n<p>How can I include fields from the child classes like <code>PIT</code> where there is a record?</p>\n"},{"tags":["java","spring","hibernate","spring-context","hibernate-6.x"],"answers":[{"comments":[{"owner":{"account_id":1681527,"reputation":2381,"user_id":1545664,"accept_rate":69,"display_name":"lemoncodes"},"score":0,"creation_date":1686891874,"post_id":76486983,"comment_id":134863299,"body_markdown":"the prefix i want to put is in in the properties file. thats why i need it to be in the spring context hence the use of `@Value`","body":"the prefix i want to put is in in the properties file. thats why i need it to be in the spring context hence the use of <code>@Value</code>"},{"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"score":0,"creation_date":1686893570,"post_id":76486983,"comment_id":134863460,"body_markdown":"ok i understand, on me for not reading. have you tried using `System.getProperty(&#39;value.from.property.file&#39;)` ?","body":"ok i understand, on me for not reading. have you tried using <code>System.getProperty(&#39;value.from.property.file&#39;)</code> ?"},{"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"score":0,"creation_date":1686894094,"post_id":76486983,"comment_id":134863538,"body_markdown":"the only ways i see of meeting your use case is either injecting a &quot;prefix&quot; env variable into your runtime environment or fetching the spring property programmatically","body":"the only ways i see of meeting your use case is either injecting a &quot;prefix&quot; env variable into your runtime environment or fetching the spring property programmatically"},{"owner":{"account_id":1681527,"reputation":2381,"user_id":1545664,"accept_rate":69,"display_name":"lemoncodes"},"score":0,"creation_date":1686894453,"post_id":76486983,"comment_id":134863576,"body_markdown":"yes, i&#39;ve tried getting it via `System.getProperty` still no success. How do you retrieve the spring props programatically?","body":"yes, i&#39;ve tried getting it via <code>System.getProperty</code> still no success. How do you retrieve the spring props programatically?"},{"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"score":0,"creation_date":1686925123,"post_id":76486983,"comment_id":134869755,"body_markdown":"sorry about all the confusion, it was super late when i first saw this. it doesn&#39;t look like there&#39;s any way to get the spring properties like you said bc hibernate is doing its own this with the `GenericGenerator` annotation. but plz let me know if my edited answer helps in any way","body":"sorry about all the confusion, it was super late when i first saw this. it doesn&#39;t look like there&#39;s any way to get the spring properties like you said bc hibernate is doing its own this with the <code>GenericGenerator</code> annotation. but plz let me know if my edited answer helps in any way"},{"owner":{"account_id":1681527,"reputation":2381,"user_id":1545664,"accept_rate":69,"display_name":"lemoncodes"},"score":0,"creation_date":1687004503,"post_id":76486983,"comment_id":134878322,"body_markdown":"I&#39;ve managed to find a thread where they get the current application context via a middle man. see my answer","body":"I&#39;ve managed to find a thread where they get the current application context via a middle man. see my answer"}],"tags":[],"owner":{"account_id":28829784,"reputation":67,"user_id":22080520,"display_name":"vesper"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686986173,"creation_date":1686890171,"answer_id":76486983,"question_id":76486584,"body_markdown":"&lt;s&gt;is there any particular reason you want to make the sequence generator a bean?\r\n\r\nas long as it implements `org.hibernate.id.IdentifierGenerator` (it does), you should be able to apply your incremental logic for whatever field you want by using the `@GenericGenerator` annotation\r\n\r\nreference - https://thorben-janssen.com/custom-sequence-based-idgenerator/&lt;/s&gt;\r\n\r\ni finally made time to try to replicate your problem and the only way i was able to get this to work was passing a value in the jvm arguments via `-Dsequence-prefix=ex-prefix-` and then pulling that property value without using spring. so in your case:\r\n\r\n```\r\npublic class CustomSequenceGenerator extends SequenceStyleGenerator {\r\n  private String valueFromPropFile = System.getProperty(&quot;sequence-prefix&quot;); // &quot;ex-prefix-&quot;\r\n\r\n  @Override\r\n  public Serializable generate(...) {...}\r\n\r\n}\r\n```\r\n\r\nit&#39;s kinda ugly but hey it works","title":"Using custom sequence generator from spring context","body":"<p><s>is there any particular reason you want to make the sequence generator a bean?</p>\n<p>as long as it implements <code>org.hibernate.id.IdentifierGenerator</code> (it does), you should be able to apply your incremental logic for whatever field you want by using the <code>@GenericGenerator</code> annotation</p>\n<p>reference - <a href=\"https://thorben-janssen.com/custom-sequence-based-idgenerator/\" rel=\"nofollow noreferrer\">https://thorben-janssen.com/custom-sequence-based-idgenerator/</a></s></p>\n<p>i finally made time to try to replicate your problem and the only way i was able to get this to work was passing a value in the jvm arguments via <code>-Dsequence-prefix=ex-prefix-</code> and then pulling that property value without using spring. so in your case:</p>\n<pre><code>public class CustomSequenceGenerator extends SequenceStyleGenerator {\n  private String valueFromPropFile = System.getProperty(&quot;sequence-prefix&quot;); // &quot;ex-prefix-&quot;\n\n  @Override\n  public Serializable generate(...) {...}\n\n}\n</code></pre>\n<p>it's kinda ugly but hey it works</p>\n"},{"tags":[],"owner":{"account_id":1681527,"reputation":2381,"user_id":1545664,"accept_rate":69,"display_name":"lemoncodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687004874,"creation_date":1687004874,"answer_id":76496180,"question_id":76486584,"body_markdown":"I&#39;ve managed to have a reference to the spring application context based on this [question][1]\r\n\r\nThe idea is, make a spring bean which will inject a the `ApplicationContext` bean and have it set into a ApplicationContext utility class. \r\n\r\nFrom there, you can use your application context utility class to access the application context instance and get the property field value via \r\n`applicationContext.getEnvironment().getProperty(&quot;prop.file.prefix&quot;)`\r\n\r\nSee this [code reference][2] on how to setup the application context configuration\r\n\r\nHope this helps everyone get an idea on how to achieve this kind of workaround.\r\n\r\nIf you have any other idea to achieve the same, please do put your answers. I know there are other ways to achieve the same.\r\n\r\n  [1]: https://stackoverflow.com/questions/28005761/how-to-access-a-method-a-spring-bean-from-a-class-not-in-the-spring-container\r\n  [2]: https://gist.github.com/mdread/3175976","title":"Using custom sequence generator from spring context","body":"<p>I've managed to have a reference to the spring application context based on this <a href=\"https://stackoverflow.com/questions/28005761/how-to-access-a-method-a-spring-bean-from-a-class-not-in-the-spring-container\">question</a></p>\n<p>The idea is, make a spring bean which will inject a the <code>ApplicationContext</code> bean and have it set into a ApplicationContext utility class.</p>\n<p>From there, you can use your application context utility class to access the application context instance and get the property field value via\n<code>applicationContext.getEnvironment().getProperty(&quot;prop.file.prefix&quot;)</code></p>\n<p>See this <a href=\"https://gist.github.com/mdread/3175976\" rel=\"nofollow noreferrer\">code reference</a> on how to setup the application context configuration</p>\n<p>Hope this helps everyone get an idea on how to achieve this kind of workaround.</p>\n<p>If you have any other idea to achieve the same, please do put your answers. I know there are other ways to achieve the same.</p>\n"}],"owner":{"account_id":1681527,"reputation":2381,"user_id":1545664,"accept_rate":69,"display_name":"lemoncodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1687004874,"creation_date":1686882002,"question_id":76486584,"body_markdown":"Hello i have this issue on a custom sequence generator that is not managed by spring context. \r\n\r\nThis issue came to be when we migrated to hibernate 6 as well as spring-boot 3 and spring 6.\r\n\r\n**The Problem**\r\n\r\nI cannot seem to get the values from the property file within my customer generator via `@Value`\r\n\r\nI have annotated `@Component` to my `CustomSequenceGenerator`, see below\r\n\r\n**CustomSequenceGenerator.java**\r\n\r\n    @Component\r\n    public class CustomSequenceGenerator extends SequenceStyleGenerator {\r\n      @Value(&quot;${value.from.property.file}&quot;)\r\n      private String valueFromPropFile;\r\n\r\n      @Override\r\n      public Serializable generate(...) {...}\r\n    \r\n    }\r\n\r\n**MyEntity.java**\r\n\r\n    @Entity\r\n    @Table(name=&quot;myentity&quot;)\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class MyEntity {\r\n    \r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_gen&quot;)\r\n       @GenericGenerator(\r\n            name = &quot;seq_gen&quot;,\r\n            strategy = &quot;com.demo.CustomSequenceGenerator&quot;,\r\n            parameters = {\r\n               @Parameters(name = &quot;increment_size&quot;, value = &quot;1&quot;)\r\n            }    \r\n       )\r\n       private String id;\r\n    \r\n       ...\r\n    }\r\n\r\nBased on the above code snippet, my value `valueFromPropFile` is always null. \r\n\r\nIt seems that `CustomSequenceGenerator` is not managed by spring. Instead, hibernate is the one instantiating it and that is why i can&#39;t get the values from `@Value`.\r\n\r\nConfirmed this when i try to display the Object it self. \r\n\r\nin `CustomSequenceGenerator.java`, in on of the `configure` method. i put a logging and display `this`. At the same time, i logged somewhere in a @RestController, the instance of the `CustomSequenceGenerator` via `ApplicatonContext` `getBean` method.\r\n\r\nResults were, they have different memory reference. therefore i can conluded that they have different instances. \r\n\r\n**Question**\r\n\r\nSo my question is, how do i make sure that the instance of `CustomSequenceGenerator` that is being used by hibernate will be the same instance that is in the spring context. Or how do i make sure hibernate don&#39;t instantiate new `CustomSequenceGenerator` and instead use one from spring context","title":"Using custom sequence generator from spring context","body":"<p>Hello i have this issue on a custom sequence generator that is not managed by spring context.</p>\n<p>This issue came to be when we migrated to hibernate 6 as well as spring-boot 3 and spring 6.</p>\n<p><strong>The Problem</strong></p>\n<p>I cannot seem to get the values from the property file within my customer generator via <code>@Value</code></p>\n<p>I have annotated <code>@Component</code> to my <code>CustomSequenceGenerator</code>, see below</p>\n<p><strong>CustomSequenceGenerator.java</strong></p>\n<pre><code>@Component\npublic class CustomSequenceGenerator extends SequenceStyleGenerator {\n  @Value(&quot;${value.from.property.file}&quot;)\n  private String valueFromPropFile;\n\n  @Override\n  public Serializable generate(...) {...}\n\n}\n</code></pre>\n<p><strong>MyEntity.java</strong></p>\n<pre><code>@Entity\n@Table(name=&quot;myentity&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class MyEntity {\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;seq_gen&quot;)\n   @GenericGenerator(\n        name = &quot;seq_gen&quot;,\n        strategy = &quot;com.demo.CustomSequenceGenerator&quot;,\n        parameters = {\n           @Parameters(name = &quot;increment_size&quot;, value = &quot;1&quot;)\n        }    \n   )\n   private String id;\n\n   ...\n}\n</code></pre>\n<p>Based on the above code snippet, my value <code>valueFromPropFile</code> is always null.</p>\n<p>It seems that <code>CustomSequenceGenerator</code> is not managed by spring. Instead, hibernate is the one instantiating it and that is why i can't get the values from <code>@Value</code>.</p>\n<p>Confirmed this when i try to display the Object it self.</p>\n<p>in <code>CustomSequenceGenerator.java</code>, in on of the <code>configure</code> method. i put a logging and display <code>this</code>. At the same time, i logged somewhere in a @RestController, the instance of the <code>CustomSequenceGenerator</code> via <code>ApplicatonContext</code> <code>getBean</code> method.</p>\n<p>Results were, they have different memory reference. therefore i can conluded that they have different instances.</p>\n<p><strong>Question</strong></p>\n<p>So my question is, how do i make sure that the instance of <code>CustomSequenceGenerator</code> that is being used by hibernate will be the same instance that is in the spring context. Or how do i make sure hibernate don't instantiate new <code>CustomSequenceGenerator</code> and instead use one from spring context</p>\n"},{"tags":["java","hadoop","jdbc","hana","sqoop2"],"comments":[{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1421770084,"post_id":28049378,"comment_id":44481938,"body_markdown":"I think this may be off-topic because there&#39;s nothing to indicate that this is a programming-related question and/or a reproducible general issue.","body":"I think this may be off-topic because there&#39;s nothing to indicate that this is a programming-related question and/or a reproducible general issue."},{"owner":{"account_id":4774622,"reputation":1360,"user_id":3858193,"accept_rate":59,"display_name":"user3858193"},"score":0,"creation_date":1424797579,"post_id":28049378,"comment_id":45693816,"body_markdown":"Hi ,I could manage to do this using sap jdbc driver. The password was about to change and hence error was throwing. DBA modified the password and it solved the prob.","body":"Hi ,I could manage to do this using sap jdbc driver. The password was about to change and hence error was throwing. DBA modified the password and it solved the prob."},{"owner":{"account_id":76469,"reputation":18423,"user_id":218890,"accept_rate":64,"display_name":"vwegert"},"score":0,"creation_date":1424797701,"post_id":28049378,"comment_id":45693896,"body_markdown":"Then this is definitely off-topic.","body":"Then this is definitely off-topic."},{"owner":{"account_id":4954362,"reputation":1595,"user_id":3987417,"accept_rate":100,"display_name":"Hafiz Mujadid"},"score":0,"creation_date":1430374821,"post_id":28049378,"comment_id":48041220,"body_markdown":"@user3858193 How did you managed? I am facing same issue","body":"@user3858193 How did you managed? I am facing same issue"}],"answers":[{"tags":[],"owner":{"account_id":4774622,"reputation":1360,"user_id":3858193,"accept_rate":59,"display_name":"user3858193"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1430482525,"creation_date":1430482525,"answer_id":29986676,"question_id":28049378,"body_markdown":"@hafizmujadid  when there is a password expiration deadline comes , it throws these error. What you have to do is ask the team from Sap Hana side to change the password. This solved my problem and it may be yours.\r\n","title":"Connection failure to SAP HANA from Sqoop SAP DBTech JDBC: [414]: user is forced to change password","body":"<p>@hafizmujadid  when there is a password expiration deadline comes , it throws these error. What you have to do is ask the team from Sap Hana side to change the password. This solved my problem and it may be yours.</p>\n"}],"owner":{"account_id":4774622,"reputation":1360,"user_id":3858193,"accept_rate":59,"display_name":"user3858193"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29986676,"answer_count":1,"score":0,"last_activity_date":1687004835,"creation_date":1421768404,"question_id":28049378,"body_markdown":"Though the User id and password is correct, I am getting below error message.\r\n\r\nPlease let me know if you have any solution.\r\n\r\nIn SAP HANA - HIVE Table.\r\n\r\n&gt; ```\r\n&gt; Warning: /apps/opt/cloudera/parcels/CDH-5.2.0-1.cdh5.2.0.p0.36/bin/../lib/sqoop/../accumulo does not exist! Accumulo imports will fail.\r\n&gt; Please set $ACCUMULO_HOME to the root of your Accumulo installation.\r\n&gt; 15/01/20 10:30:15 INFO sqoop.Sqoop: Running Sqoop version: 1.4.5-cdh5.2.0\r\n&gt; 15/01/20 10:30:15 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\r\n&gt; 15/01/20 10:30:15 INFO tool.BaseSqoopTool: Using Hive-specific delimiters for output. You can override\r\n&gt; 15/01/20 10:30:15 INFO tool.BaseSqoopTool: delimiters with --fields-terminated-by, etc.\r\n&gt; 15/01/20 10:30:15 INFO teradata.TeradataManagerFactory: Loaded connector factory for &#39;Cloudera Connector Powered by Teradata&#39; on version 1.2c5\r\n&gt; 15/01/20 10:30:15 WARN sqoop.ConnFactory: Parameter --driver is set to an explicit driver however appropriate connection manager is not being set (via --connection-manager).\r\n&gt;   Sqoop is going to fall back to org.apache.sqoop.manager.GenericJdbcManager. Please specify explicitly which connection manager should be used next time.\r\n&gt; 15/01/20 10:30:15 INFO manager.SqlManager: Using default fetchSize of 1000\r\n&gt; 15/01/20 10:30:15 INFO tool.CodeGenTool: Beginning code generation\r\n&gt; 15/01/20 10:30:16 ERROR manager.SqlManager: Error executing statement:\r\n&gt;   com.sap.db.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: [414]: user is forced to change password: alter password required for user CH1HAHSGPOC\r\n&gt;   com.sap.db.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: [414]: user is forced to change password: alter password required for user CH1HAHSGPOC\r\n&gt;         at com.sap.db.jdbc.exceptions.SQLExceptionSapDB.createException(SQLExceptionSapDB.java:334)\r\n&gt;         at com.sap.db.jdbc.exceptions.SQLExceptionSapDB.generateDatabaseException(SQLExceptionSapDB.java:174)\r\n&gt;         at com.sap.db.jdbc.packet.ReplyPacket.buildExceptionChain(ReplyPacket.java:102)\r\n&gt; ```\r\n","title":"Connection failure to SAP HANA from Sqoop SAP DBTech JDBC: [414]: user is forced to change password","body":"<p>Though the User id and password is correct, I am getting below error message.</p>\n<p>Please let me know if you have any solution.</p>\n<p>In SAP HANA - HIVE Table.</p>\n<blockquote>\n<pre><code>Warning: /apps/opt/cloudera/parcels/CDH-5.2.0-1.cdh5.2.0.p0.36/bin/../lib/sqoop/../accumulo does not exist! Accumulo imports will fail.\nPlease set $ACCUMULO_HOME to the root of your Accumulo installation.\n15/01/20 10:30:15 INFO sqoop.Sqoop: Running Sqoop version: 1.4.5-cdh5.2.0\n15/01/20 10:30:15 WARN tool.BaseSqoopTool: Setting your password on the command-line is insecure. Consider using -P instead.\n15/01/20 10:30:15 INFO tool.BaseSqoopTool: Using Hive-specific delimiters for output. You can override\n15/01/20 10:30:15 INFO tool.BaseSqoopTool: delimiters with --fields-terminated-by, etc.\n15/01/20 10:30:15 INFO teradata.TeradataManagerFactory: Loaded connector factory for 'Cloudera Connector Powered by Teradata' on version 1.2c5\n15/01/20 10:30:15 WARN sqoop.ConnFactory: Parameter --driver is set to an explicit driver however appropriate connection manager is not being set (via --connection-manager).\n  Sqoop is going to fall back to org.apache.sqoop.manager.GenericJdbcManager. Please specify explicitly which connection manager should be used next time.\n15/01/20 10:30:15 INFO manager.SqlManager: Using default fetchSize of 1000\n15/01/20 10:30:15 INFO tool.CodeGenTool: Beginning code generation\n15/01/20 10:30:16 ERROR manager.SqlManager: Error executing statement:\n  com.sap.db.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: [414]: user is forced to change password: alter password required for user CH1HAHSGPOC\n  com.sap.db.jdbc.exceptions.JDBCDriverException: SAP DBTech JDBC: [414]: user is forced to change password: alter password required for user CH1HAHSGPOC\n        at com.sap.db.jdbc.exceptions.SQLExceptionSapDB.createException(SQLExceptionSapDB.java:334)\n        at com.sap.db.jdbc.exceptions.SQLExceptionSapDB.generateDatabaseException(SQLExceptionSapDB.java:174)\n        at com.sap.db.jdbc.packet.ReplyPacket.buildExceptionChain(ReplyPacket.java:102)\n</code></pre>\n</blockquote>\n"},{"tags":["java","eclipse","maven","web-applications"],"comments":[{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1514454458,"post_id":48005134,"comment_id":82978417,"body_markdown":"Where is the error?","body":"Where is the error?"},{"owner":{"account_id":7487906,"reputation":426,"user_id":5690546,"display_name":"karthik selvaraj"},"score":0,"creation_date":1514454521,"post_id":48005134,"comment_id":82978450,"body_markdown":"sorry please check now.","body":"sorry please check now."},{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1514454629,"post_id":48005134,"comment_id":82978511,"body_markdown":"I think this will help you https://stackoverflow.com/a/10685698/3143670","body":"I think this will help you <a href=\"https://stackoverflow.com/a/10685698/3143670\">stackoverflow.com/a/10685698/3143670</a>"},{"owner":{"account_id":2176106,"reputation":5850,"user_id":1926762,"accept_rate":60,"display_name":"Oomph Fortuity"},"score":0,"creation_date":1514454704,"post_id":48005134,"comment_id":82978553,"body_markdown":"This problem is due to settings.xml is not defined properly. Please refer https://stackoverflow.com/questions/15334394/could-not-transfer-artifact-org-apache-maven-pluginsmaven-surefire-pluginpom2","body":"This problem is due to settings.xml is not defined properly. Please refer <a href=\"https://stackoverflow.com/questions/15334394/could-not-transfer-artifact-org-apache-maven-pluginsmaven-surefire-pluginpom2\" title=\"could not transfer artifact org apache maven pluginsmaven surefire pluginpom2\">stackoverflow.com/questions/15334394/&hellip;</a>"},{"owner":{"account_id":7487906,"reputation":426,"user_id":5690546,"display_name":"karthik selvaraj"},"score":0,"creation_date":1514454719,"post_id":48005134,"comment_id":82978560,"body_markdown":"I have checked that answer but where do i find .lastUpdated file","body":"I have checked that answer but where do i find .lastUpdated file"},{"owner":{"account_id":7487906,"reputation":426,"user_id":5690546,"display_name":"karthik selvaraj"},"score":0,"creation_date":1514454906,"post_id":48005134,"comment_id":82978674,"body_markdown":"@OomphFortuity - which setting.xml? i think that is different question.","body":"@OomphFortuity - which setting.xml? i think that is different question."},{"owner":{"account_id":2176106,"reputation":5850,"user_id":1926762,"accept_rate":60,"display_name":"Oomph Fortuity"},"score":0,"creation_date":1514454971,"post_id":48005134,"comment_id":82978719,"body_markdown":"@karthikselvaraj on which location you have placed settings.xml?","body":"@karthikselvaraj on which location you have placed settings.xml?"},{"owner":{"account_id":7487906,"reputation":426,"user_id":5690546,"display_name":"karthik selvaraj"},"score":0,"creation_date":1514455073,"post_id":48005134,"comment_id":82978778,"body_markdown":"@OomphFortuity - I don&#39;t have file like that","body":"@OomphFortuity - I don&#39;t have file like that"},{"owner":{"account_id":2176106,"reputation":5850,"user_id":1926762,"accept_rate":60,"display_name":"Oomph Fortuity"},"score":0,"creation_date":1514455788,"post_id":48005134,"comment_id":82979176,"body_markdown":"@karthikselvaraj this is the issue.Please configure your local repo https://maven.apache.org/guides/mini/guide-configuring-maven.html","body":"@karthikselvaraj this is the issue.Please configure your local repo <a href=\"https://maven.apache.org/guides/mini/guide-configuring-maven.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/mini/guide-configuring-maven.html</a>"},{"owner":{"account_id":7487906,"reputation":426,"user_id":5690546,"display_name":"karthik selvaraj"},"score":0,"creation_date":1514457773,"post_id":48005134,"comment_id":82980212,"body_markdown":"@OomphFortuity - thanks for your command, finally I have fixed this issue by deleting com.thoughtworks.xstream:xstream folder from local repo","body":"@OomphFortuity - thanks for your command, finally I have fixed this issue by deleting com.thoughtworks.xstream:xstream folder from local repo"},{"owner":{"account_id":7487906,"reputation":426,"user_id":5690546,"display_name":"karthik selvaraj"},"score":0,"creation_date":1514457934,"post_id":48005134,"comment_id":82980283,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/162087/discussion-between-karthik-selvaraj-and-oomph-fortuity).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/162087/discussion-between-karthik-selvaraj-and-oomph-fortuity\">continue this discussion in chat</a>."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1514460827,"post_id":48005134,"comment_id":82981612,"body_markdown":"I would say based on the error message you have either a firewall/proxy in front of the internet access which fails .. ` The operation was cancelled....`","body":"I would say based on the error message you have either a firewall/proxy in front of the internet access which fails .. ` The operation was cancelled....`"}],"answers":[{"tags":[],"owner":{"account_id":7487906,"reputation":426,"user_id":5690546,"display_name":"karthik selvaraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1514457910,"creation_date":1514457910,"answer_id":48006005,"question_id":48005134,"body_markdown":"I fixed this issue by deleting the corresponding failed to download artifact directory in my local repo. So that next time it will downloaded automatically.","title":"Error in pom.xml file in eclipse webapp","body":"<p>I fixed this issue by deleting the corresponding failed to download artifact directory in my local repo. So that next time it will downloaded automatically.</p>\n"},{"tags":[],"owner":{"account_id":26804170,"reputation":1,"user_id":20395690,"display_name":"Brown Whale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687003223,"creation_date":1687003223,"answer_id":76496088,"question_id":48005134,"body_markdown":"Let me explain the problem in layman terms\r\n 1. one of the dependencies in the pom.xml is unable to be downloaded.\r\n 2. that&#39;s the reason it keeps on showing error whatever you try.\r\n 3. the solution is, identify the dependency and remove it from the pom.xml\r\n 4. Add it as a Jar file (if the dependency is mandatory, else just ignore the dependency)\r\n 5. tricky part is, you have to identify the correct dependency which shows the error.\r\n     Hope this helps. \r\nps: I am a noobie, I faced the similar issue and the above was the solution which worked for me. Thanks!\r\n","title":"Error in pom.xml file in eclipse webapp","body":"<p>Let me explain the problem in layman terms</p>\n<ol>\n<li>one of the dependencies in the pom.xml is unable to be downloaded.</li>\n<li>that's the reason it keeps on showing error whatever you try.</li>\n<li>the solution is, identify the dependency and remove it from the pom.xml</li>\n<li>Add it as a Jar file (if the dependency is mandatory, else just ignore the dependency)</li>\n<li>tricky part is, you have to identify the correct dependency which shows the error.\nHope this helps.\nps: I am a noobie, I faced the similar issue and the above was the solution which worked for me. Thanks!</li>\n</ol>\n"}],"owner":{"account_id":7487906,"reputation":426,"user_id":5690546,"display_name":"karthik selvaraj"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":48006005,"answer_count":2,"score":1,"last_activity_date":1687003223,"creation_date":1514454387,"question_id":48005134,"body_markdown":"I am getting following error message in `pom.xml` file, anyone please help me to solve this problem. I have searched the solution in google yet to get solution.\r\n\r\n**ERROR**\r\n\r\n    Failure to transfer com.thoughtworks.xstream:xstream:pom:1.3.1 from https://repo.maven.apache.org/maven2 was \r\n     cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or \r\n     updates are forced. Original error: Could not transfer artifact com.thoughtworks.xstream:xstream:pom:1.3.1 from/to \r\n     central (https://repo.maven.apache.org/maven2): The operation was cancelled.\r\n\r\n**pom.xml**\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.maven&lt;/groupId&gt;\r\n      &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\r\n      &lt;packaging&gt;war&lt;/packaging&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;name&gt;helloworld Maven Webapp&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;helloworld&lt;/finalName&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Error in pom.xml file in eclipse webapp","body":"<p>I am getting following error message in <code>pom.xml</code> file, anyone please help me to solve this problem. I have searched the solution in google yet to get solution.</p>\n\n<p><strong>ERROR</strong></p>\n\n<pre><code>Failure to transfer com.thoughtworks.xstream:xstream:pom:1.3.1 from https://repo.maven.apache.org/maven2 was \n cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or \n updates are forced. Original error: Could not transfer artifact com.thoughtworks.xstream:xstream:pom:1.3.1 from/to \n central (https://repo.maven.apache.org/maven2): The operation was cancelled.\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.maven&lt;/groupId&gt;\n  &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;helloworld Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;helloworld&lt;/finalName&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","android","webview"],"answers":[{"comments":[{"owner":{"account_id":14103315,"reputation":455,"user_id":10370607,"display_name":"L.885"},"score":0,"creation_date":1537206138,"post_id":52372916,"comment_id":91690891,"body_markdown":"I tried your method but I still don&#39;t really understand how to initializing `WebView` inside `onCreate()` ? because I already do exactly what you said but still got the same error","body":"I tried your method but I still don&#39;t really understand how to initializing <code>WebView</code> inside <code>onCreate()</code> ? because I already do exactly what you said but still got the same error"},{"owner":{"account_id":14103315,"reputation":455,"user_id":10370607,"display_name":"L.885"},"score":0,"creation_date":1537206300,"post_id":52372916,"comment_id":91690967,"body_markdown":"My bad sorry, I just put `}` in a wrong place and messed up. Face palm on me, your solution is working. Thank you so much for your help","body":"My bad sorry, I just put <code>}</code> in a wrong place and messed up. Face palm on me, your solution is working. Thank you so much for your help"},{"owner":{"account_id":5442381,"reputation":16756,"user_id":4409113,"accept_rate":88,"display_name":"ʍѳђઽ૯ท"},"score":0,"creation_date":1537206470,"post_id":52372916,"comment_id":91691040,"body_markdown":"Glad to help. Remember not to initialize a widget twice :)","body":"Glad to help. Remember not to initialize a widget twice :)"},{"owner":{"account_id":14103315,"reputation":455,"user_id":10370607,"display_name":"L.885"},"score":0,"creation_date":1537206834,"post_id":52372916,"comment_id":91691227,"body_markdown":"Thanks for your kind advice :) sorry for my noobs question","body":"Thanks for your kind advice :) sorry for my noobs question"},{"owner":{"account_id":5442381,"reputation":16756,"user_id":4409113,"accept_rate":88,"display_name":"ʍѳђઽ૯ท"},"score":0,"creation_date":1537206984,"post_id":52372916,"comment_id":91691310,"body_markdown":"Oh no need to mention. We all had the same situation before so. ;] Happy coding pal.","body":"Oh no need to mention. We all had the same situation before so. ;] Happy coding pal."}],"tags":[],"owner":{"account_id":5442381,"reputation":16756,"user_id":4409113,"accept_rate":88,"display_name":"ʍѳђઽ૯ท"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1537206359,"creation_date":1537205065,"answer_id":52372916,"question_id":52372826,"body_markdown":"Use `onBackPressed()` method outside of `WebView` and inside the `Activity` class method:\r\n\r\n    @Override\r\n    public void onBackPressed()\r\n            {\r\n                WebView webView = (WebView) findViewById(R.id.webView); // Remove this\r\n                if(webView.canGoBack()){\r\n                    webView.goBack();\r\n                }else{\r\n                    super.onBackPressed();\r\n                }\r\n          }\r\n     \r\n    }\r\n\r\nAlso, try initializing `WebView` inside `onCreate()` method and remove the second duplicate code inside `onBackPressed()`. \r\n\r\n\r\n----------\r\n\r\n\r\nTo be able to access it inside whole `Activity`, initialize it like this:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        String ShowOrHideWebViewInitialUse = &quot;show&quot;;\r\n        private WebView webview;\r\n        private ProgressBar spinner;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            webview = (WebView) findViewById(R.id.webView); \r\n    }","title":"Implement Back Button on WebView Android","body":"<p>Use <code>onBackPressed()</code> method outside of <code>WebView</code> and inside the <code>Activity</code> class method:</p>\n\n<pre><code>@Override\npublic void onBackPressed()\n        {\n            WebView webView = (WebView) findViewById(R.id.webView); // Remove this\n            if(webView.canGoBack()){\n                webView.goBack();\n            }else{\n                super.onBackPressed();\n            }\n      }\n\n}\n</code></pre>\n\n<p>Also, try initializing <code>WebView</code> inside <code>onCreate()</code> method and remove the second duplicate code inside <code>onBackPressed()</code>. </p>\n\n<hr>\n\n<p>To be able to access it inside whole <code>Activity</code>, initialize it like this:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    String ShowOrHideWebViewInitialUse = \"show\";\n    private WebView webview;\n    private ProgressBar spinner;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        webview = (WebView) findViewById(R.id.webView); \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12790330,"reputation":2710,"user_id":9255057,"display_name":"Hardik Hirpara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687003008,"creation_date":1687003008,"answer_id":76496078,"question_id":52372826,"body_markdown":"try this one\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    @Override\r\n        public void onBackPressed() {\r\n            if (webView.canGoBack()) {\r\n                webView.goBack();\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Implement Back Button on WebView Android","body":"<p>try this one</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>@Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":14103315,"reputation":455,"user_id":10370607,"display_name":"L.885"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4410,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":52372916,"answer_count":2,"score":1,"last_activity_date":1687003008,"creation_date":1537204709,"question_id":52372826,"body_markdown":"I tried to implement back button on android webview but it said that \r\n\r\n    error: method does not override or implement a method from a supertype    \r\n    error: cannot find symbol method onBackPressed()\r\n\r\n   \r\nActivity codes:\r\n\r\n\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.graphics.Bitmap;\r\n    import android.view.View;\r\n    import android.widget.ProgressBar;\r\n    import android.view.KeyEvent;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        String ShowOrHideWebViewInitialUse = &quot;show&quot;;\r\n        private WebView webview ;\r\n        private ProgressBar spinner;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            webview =(WebView)findViewById(R.id.webView);\r\n            spinner = (ProgressBar)findViewById(R.id.progressBar1);\r\n            webview.setWebViewClient(new CustomWebViewClient());\r\n    \r\n            webview.getSettings().setJavaScriptEnabled(true);\r\n            webview.getSettings().setDomStorageEnabled(true);\r\n            webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\r\n            webview.loadUrl(&quot;http://web.com&quot;);\r\n    \r\n        }\r\n    \r\n        // This allows for a splash screen\r\n        // (and hide elements once the page loads)\r\n        private class CustomWebViewClient extends WebViewClient {\r\n    \r\n            @Override\r\n            public void onPageStarted(WebView webview, String url, Bitmap favicon) {\r\n    \r\n                // only make it invisible the FIRST time the app is run\r\n                if (ShowOrHideWebViewInitialUse.equals(&quot;show&quot;)) {\r\n                    webview.setVisibility(webview.INVISIBLE);\r\n                }\r\n            }\r\n    \r\n            @Override\r\n            public void onPageFinished(WebView view, String url) {\r\n    \r\n                ShowOrHideWebViewInitialUse = &quot;hide&quot;;\r\n                spinner.setVisibility(View.GONE);\r\n    \r\n                view.setVisibility(webview.VISIBLE);\r\n                super.onPageFinished(view, url);\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onBackPressed()\r\n            {\r\n                WebView webView = (WebView) findViewById(R.id.webView);\r\n                if(webView.canGoBack()){\r\n                    webView.goBack();\r\n                }else{\r\n                    super.onBackPressed();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI tried approach from other source on stackoverflow but still not get a valid answer. Maybe my knowledge still not par with other. I hope that someone in this community can help me to solve this issue. Also a brief explanation about what should I do to make the back button work on webview","title":"Implement Back Button on WebView Android","body":"<p>I tried to implement back button on android webview but it said that </p>\n\n<pre><code>error: method does not override or implement a method from a supertype    \nerror: cannot find symbol method onBackPressed()\n</code></pre>\n\n<p>Activity codes:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.graphics.Bitmap;\nimport android.view.View;\nimport android.widget.ProgressBar;\nimport android.view.KeyEvent;\n\npublic class MainActivity extends AppCompatActivity {\n\n    String ShowOrHideWebViewInitialUse = \"show\";\n    private WebView webview ;\n    private ProgressBar spinner;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webview =(WebView)findViewById(R.id.webView);\n        spinner = (ProgressBar)findViewById(R.id.progressBar1);\n        webview.setWebViewClient(new CustomWebViewClient());\n\n        webview.getSettings().setJavaScriptEnabled(true);\n        webview.getSettings().setDomStorageEnabled(true);\n        webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\n        webview.loadUrl(\"http://web.com\");\n\n    }\n\n    // This allows for a splash screen\n    // (and hide elements once the page loads)\n    private class CustomWebViewClient extends WebViewClient {\n\n        @Override\n        public void onPageStarted(WebView webview, String url, Bitmap favicon) {\n\n            // only make it invisible the FIRST time the app is run\n            if (ShowOrHideWebViewInitialUse.equals(\"show\")) {\n                webview.setVisibility(webview.INVISIBLE);\n            }\n        }\n\n        @Override\n        public void onPageFinished(WebView view, String url) {\n\n            ShowOrHideWebViewInitialUse = \"hide\";\n            spinner.setVisibility(View.GONE);\n\n            view.setVisibility(webview.VISIBLE);\n            super.onPageFinished(view, url);\n\n        }\n\n        @Override\n        public void onBackPressed()\n        {\n            WebView webView = (WebView) findViewById(R.id.webView);\n            if(webView.canGoBack()){\n                webView.goBack();\n            }else{\n                super.onBackPressed();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I tried approach from other source on stackoverflow but still not get a valid answer. Maybe my knowledge still not par with other. I hope that someone in this community can help me to solve this issue. Also a brief explanation about what should I do to make the back button work on webview</p>\n"},{"tags":["java","apache-spark"],"answers":[{"comments":[{"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"score":0,"creation_date":1686231691,"post_id":76432417,"comment_id":134773062,"body_markdown":"Yes, I have read that too .  But it does not answer my question of &quot;which is recommended&quot;.","body":"Yes, I have read that too .  But it does not answer my question of &quot;which is recommended&quot;."},{"owner":{"account_id":25028548,"reputation":425,"user_id":18886549,"display_name":"shalnarkftw"},"score":1,"creation_date":1686234218,"post_id":76432417,"comment_id":134773731,"body_markdown":"there is no recommandation, it depends on your cluster configurations, tools installed ect.. in the doc they told what are the possibilities and now you need to make the choice and start developing","body":"there is no recommandation, it depends on your cluster configurations, tools installed ect.. in the doc they told what are the possibilities and now you need to make the choice and start developing"}],"tags":[],"owner":{"account_id":25028548,"reputation":425,"user_id":18886549,"display_name":"shalnarkftw"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686231248,"creation_date":1686231248,"answer_id":76432417,"question_id":76431897,"body_markdown":"**Spark 3.4.0** runs on **Java 8/11/17**, Scala 2.12/2.13, Python 3.7+, and R 3.5+.\r\n\r\n**Java 8** prior to **version 8u362** support is deprecated as of Spark 3.4.0. \r\n\r\n[Spark 3.4.0 Official documentation][1]\r\n\r\n\r\n  [1]: https://spark.apache.org/docs/3.4.0/#:~:text=Spark%20runs%20on%20Java%208,3.6%2B%20and%20R%203.5%2B.","title":"Which JDK to use with Spark?","body":"<p><strong>Spark 3.4.0</strong> runs on <strong>Java 8/11/17</strong>, Scala 2.12/2.13, Python 3.7+, and R 3.5+.</p>\n<p><strong>Java 8</strong> prior to <strong>version 8u362</strong> support is deprecated as of Spark 3.4.0.</p>\n<p><a href=\"https://spark.apache.org/docs/3.4.0/#:%7E:text=Spark%20runs%20on%20Java%208,3.6%2B%20and%20R%203.5%2B.\" rel=\"nofollow noreferrer\">Spark 3.4.0 Official documentation</a></p>\n"}],"owner":{"account_id":1448228,"reputation":3218,"user_id":1366016,"accept_rate":60,"display_name":"Wheezil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76432417,"answer_count":1,"score":0,"last_activity_date":1687002780,"creation_date":1686227547,"question_id":76431897,"body_markdown":"I am new to Spark, and I keep running into various &quot;module java.base does not export XXX&quot;.  I keep adding more --add-open options to the JVM. There are a *lot* of SO posts about these issues.\r\n\r\n[this post][1] has a pretty long list.\r\n\r\nI am now at these options:\r\n\r\n    --add-opens=java.base/java.nio=ALL-UNNAMED\r\n    --add-opens java.base/java.lang=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang.invoke=ALL-UNNAMED \r\n    --add-opens=java.base/java.lang.reflect=ALL-UNNAMED \r\n    --add-opens=java.base/java.io=ALL-UNNAMED \r\n    --add-opens=java.base/java.net=ALL-UNNAMED \r\n    --add-opens=java.base/java.nio=ALL-UNNAMED \r\n    --add-opens java.base/java.util=ALL-UNNAMED\r\n    --add-opens=java.base/java.util.concurrent=ALL-UNNAMED \r\n    --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED \r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED \r\n    --add-opens=java.base/sun.nio.cs=ALL-UNNAMED \r\n    --add-opens=java.base/sun.security.action=ALL-UNNAMED \r\n    --add-opens=java.base/sun.util.calendar=ALL-UNNAMED \r\n    --add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED\r\n\r\nand I don&#39;t seem to have any issues. But this is disturbing. These options are not documented AFAIK. You just have to keep figuring out options until you stop getting errors.\r\n\r\nSo my question is: Which JDK is recommended for Spark? Release notes for 3.4.0 rather sound like Java 8 is on the way to being deprecated.  And I would like to use Java 17 because of new language features, and the expectation that my project dependencies will no longer be available in Java 8 some day.\r\n\r\nPerhaps a better way to think of this is: Where on Spark&#39;s roadmap, if at all, will there no longer be a requirement to add all of these undocumented options? Is there a timeline for JDK 8 support end-of-life?\r\n\r\nPS: This is a real pain for Intellij IDEA IDE because these options have to be pasted into every Run Configuration. Kind of a side question, but can these options be put into a global place in IDEA so that all Run Configurations pick it up?\r\n\r\nPPS: I am not using Hadoop, does that make simpler options available by somehow excluding that support from Spark?\r\n\r\nUPDATE: a colleague told me to put these in a file and use @filepath in the JVM options, makes things somewhat easier.\r\n\r\n  [1]: https://stackoverflow.com/questions/73465937/apache-spark-3-3-0-breaks-on-java-17-with-cannot-access-class-sun-nio-ch-direct/73504175#73504175\r\n","title":"Which JDK to use with Spark?","body":"<p>I am new to Spark, and I keep running into various &quot;module java.base does not export XXX&quot;.  I keep adding more --add-open options to the JVM. There are a <em>lot</em> of SO posts about these issues.</p>\n<p><a href=\"https://stackoverflow.com/questions/73465937/apache-spark-3-3-0-breaks-on-java-17-with-cannot-access-class-sun-nio-ch-direct/73504175#73504175\">this post</a> has a pretty long list.</p>\n<p>I am now at these options:</p>\n<pre><code>--add-opens=java.base/java.nio=ALL-UNNAMED\n--add-opens java.base/java.lang=ALL-UNNAMED\n--add-opens=java.base/java.lang.invoke=ALL-UNNAMED \n--add-opens=java.base/java.lang.reflect=ALL-UNNAMED \n--add-opens=java.base/java.io=ALL-UNNAMED \n--add-opens=java.base/java.net=ALL-UNNAMED \n--add-opens=java.base/java.nio=ALL-UNNAMED \n--add-opens java.base/java.util=ALL-UNNAMED\n--add-opens=java.base/java.util.concurrent=ALL-UNNAMED \n--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED \n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED \n--add-opens=java.base/sun.nio.cs=ALL-UNNAMED \n--add-opens=java.base/sun.security.action=ALL-UNNAMED \n--add-opens=java.base/sun.util.calendar=ALL-UNNAMED \n--add-opens=java.security.jgss/sun.security.krb5=ALL-UNNAMED\n</code></pre>\n<p>and I don't seem to have any issues. But this is disturbing. These options are not documented AFAIK. You just have to keep figuring out options until you stop getting errors.</p>\n<p>So my question is: Which JDK is recommended for Spark? Release notes for 3.4.0 rather sound like Java 8 is on the way to being deprecated.  And I would like to use Java 17 because of new language features, and the expectation that my project dependencies will no longer be available in Java 8 some day.</p>\n<p>Perhaps a better way to think of this is: Where on Spark's roadmap, if at all, will there no longer be a requirement to add all of these undocumented options? Is there a timeline for JDK 8 support end-of-life?</p>\n<p>PS: This is a real pain for Intellij IDEA IDE because these options have to be pasted into every Run Configuration. Kind of a side question, but can these options be put into a global place in IDEA so that all Run Configurations pick it up?</p>\n<p>PPS: I am not using Hadoop, does that make simpler options available by somehow excluding that support from Spark?</p>\n<p>UPDATE: a colleague told me to put these in a file and use @filepath in the JVM options, makes things somewhat easier.</p>\n"},{"tags":["java","collections","hashset"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1686922833,"post_id":76490758,"comment_id":134869151,"body_markdown":"Please show the code for `Car`. My *guess* is that you haven&#39;t overridden `equals` appropriately. But if you could provide a [mcve], no-one would have to guess...","body":"Please show the code for <code>Car</code>. My <i>guess</i> is that you haven&#39;t overridden <code>equals</code> appropriately. But if you could provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, no-one would have to guess..."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1686922924,"post_id":76490758,"comment_id":134869175,"body_markdown":"what about `System.out.println(a.equals(b));` ? Having the same hash code is not the same as being equal! (e.g. `&quot;Aa&quot;.hashCode() == &quot;BB&quot;.hashCode() // == 2112`)","body":"what about <code>System.out.println(a.equals(b));</code> ? Having the same hash code is not the same as being equal! (e.g. <code>&quot;Aa&quot;.hashCode() == &quot;BB&quot;.hashCode() &#47;&#47; == 2112</code>)"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1686922932,"post_id":76490758,"comment_id":134869177,"body_markdown":"[public boolean add(E e)](https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html#add-E-): *Adds the specified element to this set if it is not already present. **More formally, adds the specified element e to this set if this set contains no element e2 such that (e==null ? e2==null : e.equals(e2))*.**","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashSet.html#add-E-\" rel=\"nofollow noreferrer\">public boolean add(E e)</a>: <i>Adds the specified element to this set if it is not already present. <b>More formally, adds the specified element e to this set if this set contains no element e2 such that (e==null ? e2==null : e.equals(e2))</i>.</b>"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686923597,"post_id":76490758,"comment_id":134869360,"body_markdown":"I remember one of the puzzles in the excellent `Java Puzzlers (Josh Bloch &amp; Neil Gafter) illustrates exactly this problem.","body":"I remember one of the puzzles in the excellent `Java Puzzlers (Josh Bloch &amp; Neil Gafter) illustrates exactly this problem."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686931089,"post_id":76490758,"comment_id":134871057,"body_markdown":"I get different hash codes, here.","body":"I get different hash codes, here."}],"answers":[{"tags":[],"owner":{"account_id":24403934,"reputation":31,"user_id":18332327,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686922931,"creation_date":1686922931,"answer_id":76490788,"question_id":76490758,"body_markdown":"If a.equals(b) is true then there hashcode() must also be same.\r\n\r\nOverride both .equals() and .hashCode() in your custom class.\r\n\r\nUse the same fields of your custom class to calculate hashCode which you used to check equality in .equals().\r\n\r\nYes it&#39;ll make sure that there are only unique instances of your customClass in hash-set. So go for it.","title":"Java HashSet unique elements","body":"<p>If a.equals(b) is true then there hashcode() must also be same.</p>\n<p>Override both .equals() and .hashCode() in your custom class.</p>\n<p>Use the same fields of your custom class to calculate hashCode which you used to check equality in .equals().</p>\n<p>Yes it'll make sure that there are only unique instances of your customClass in hash-set. So go for it.</p>\n"},{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1686929297,"creation_date":1686924251,"answer_id":76490950,"question_id":76490758,"body_markdown":"# Update\r\n\r\nAfter seeing that your method signature was incorrect, I would suggest the following:\r\n\r\nIf you had placed `@Override` on your `public boolean equals(Car c)`, you would have had a compile-time error.\r\n\r\n```java\r\n@Override\r\npublic boolean equals(Car c) { // ERROR\r\n    // ...            ^ expected Object here\r\n}\r\n```\r\n\r\nThis would be caused because the parameter in the method signature was incorrect. The compiler did not know that you mean `public boolean equals(Object c)`. When you override a method, always add the annotation. This way you do not experience any undesired behavior.\r\n\r\n---\r\n\r\n# Original answer\r\n\r\nIf you use an IDE like IntelliJ or VSCode (with the &quot;Java Code Generators&quot; extension), you can have them generate constructors, accessors (getters), mutators (setters), `toString()`, and even override the `equals(Object)` and `hashCode()` methods.\r\n\r\nIf you use Lombok, you can even have it generate overrides via [`@EqualsAndHashCode`](https://projectlombok.org/features/EqualsAndHashCode).\r\n\r\nUser k314159 mentioned pointed out that you can use the `record` keyword to define a standard POJO object. For information on this new construct check out: [Java 14 Record vs. Lombok](https://www.baeldung.com/java-record-vs-lombok). Please keep in mind that this is a feature of JDK 14.\r\n\r\n## Generate methods with IDE\r\n\r\nHere is an example of overriding the `Object` methods `equals`, `hashCode`, and `toString`:\r\n\r\n```java\r\nimport java.util.Objects;\r\n\r\npublic class Car {\r\n    private String make;\r\n    private String model;\r\n    private int year;\r\n\r\n    public Car() {}\r\n\r\n    public Car(String make, String model, int year) {\r\n        this.make = make;\r\n        this.model = model;\r\n        this.year = year;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object other) {\r\n        if (other == this) return true;\r\n        if (!(other instanceof Car)) return false;\r\n        Car car = (Car) other;\r\n        return Objects.equals(make, car.make) &amp;&amp; Objects.equals(model, car.model) &amp;&amp; year == car.year;\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(make, model, year);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;{&quot; +\r\n                &quot; make=&#39;&quot; + getMake() + &quot;&#39;&quot; +\r\n                &quot;, model=&#39;&quot; + getModel() + &quot;&#39;&quot; +\r\n                &quot;, year=&#39;&quot; + getYear() + &quot;&#39;&quot; +\r\n                &quot;}&quot;;\r\n    }\r\n\r\n    public String getMake() {\r\n        return this.make;\r\n    }\r\n\r\n    public void setMake(String make) {\r\n        this.make = make;\r\n    }\r\n\r\n    public String getModel() {\r\n        return this.model;\r\n    }\r\n\r\n    public void setModel(String model) {\r\n        this.model = model;\r\n    }\r\n\r\n    public int getYear() {\r\n        return this.year;\r\n    }\r\n\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.HashSet;\r\n\r\npublic class CarDriver {\r\n    public static void main(String[] args) {\r\n        HashSet&lt;Car&gt; hashSet = new HashSet&lt;Car&gt;();\r\n\r\n        Car a = new Car(&quot;Ferrari&quot;, &quot;F40&quot;, 1987);\r\n        Car b = new Car(&quot;Ferrari&quot;, &quot;F40&quot;, 1987);\r\n\r\n        System.out.println(hashSet.add(a)); // true\r\n        System.out.println(hashSet.add(b)); // false\r\n\r\n        System.out.println(hashSet);\r\n    }\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```\r\ntrue\r\nfalse\r\n[{ make=&#39;Ferrari&#39;, model=&#39;F40&#39;, year=&#39;1987&#39;}]\r\n```\r\n\r\n---\r\n\r\n## Lombok\r\n\r\nHere is the latest dependency version for Maven (as of today):\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    &lt;version&gt;1.18.28&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe same `Car` class above can be compiled using the following annotations:\r\n\r\n```java\r\nimport lombok.*;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@EqualsAndHashCode\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class Car {\r\n    private String make;\r\n    private String model;\r\n    private int year;\r\n}\r\n```\r\n\r\nWith the [`@Data`](https://projectlombok.org/features/Data) annotation, we can eliminate `@ToString`, `@EqualsAndHashCode`, `@Getter`, and `@Setter`. Keep in mind that this annotation will also use the `@RequiredArgsConstructor` as well.\r\n\r\n```java\r\nimport lombok.*;\r\n\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\npublic class Car {\r\n    private String make;\r\n    private String model;\r\n    private int year;\r\n}\r\n```\r\n\r\nMinimal POM:\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\r\n    &lt;lombok.version&gt;1.18.28&lt;/lombok.version&gt;\r\n  &lt;/properties&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n      &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;annotationProcessorPaths&gt;\r\n            &lt;path&gt;\r\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\r\n            &lt;/path&gt;\r\n          &lt;/annotationProcessorPaths&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n## Java 14+\r\n\r\nThe following `record` will generate the following methods for you:\r\n\r\n```java\r\npublic record Car(String make, String model, int year) {}\r\n```\r\n\r\n- Constructor\r\n  - Public constructor, with an argument for each field\r\n- Getters\r\n  - These match the names of the fields (does not include the common &quot;get&quot; bean method prefix e.g. `car.make()` instead of `car.getMake()`.\r\n- Common `Object` method overrides:\r\n  - `equals`, `hashCode`, and `toString`\r\n\r\nSee also: [Java 14 Record Keyword](https://www.baeldung.com/java-record-keyword)","title":"Java HashSet unique elements","body":"<h1>Update</h1>\n<p>After seeing that your method signature was incorrect, I would suggest the following:</p>\n<p>If you had placed <code>@Override</code> on your <code>public boolean equals(Car c)</code>, you would have had a compile-time error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Car c) { // ERROR\n    // ...            ^ expected Object here\n}\n</code></pre>\n<p>This would be caused because the parameter in the method signature was incorrect. The compiler did not know that you mean <code>public boolean equals(Object c)</code>. When you override a method, always add the annotation. This way you do not experience any undesired behavior.</p>\n<hr />\n<h1>Original answer</h1>\n<p>If you use an IDE like IntelliJ or VSCode (with the &quot;Java Code Generators&quot; extension), you can have them generate constructors, accessors (getters), mutators (setters), <code>toString()</code>, and even override the <code>equals(Object)</code> and <code>hashCode()</code> methods.</p>\n<p>If you use Lombok, you can even have it generate overrides via <a href=\"https://projectlombok.org/features/EqualsAndHashCode\" rel=\"nofollow noreferrer\"><code>@EqualsAndHashCode</code></a>.</p>\n<p>User k314159 mentioned pointed out that you can use the <code>record</code> keyword to define a standard POJO object. For information on this new construct check out: <a href=\"https://www.baeldung.com/java-record-vs-lombok\" rel=\"nofollow noreferrer\">Java 14 Record vs. Lombok</a>. Please keep in mind that this is a feature of JDK 14.</p>\n<h2>Generate methods with IDE</h2>\n<p>Here is an example of overriding the <code>Object</code> methods <code>equals</code>, <code>hashCode</code>, and <code>toString</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Objects;\n\npublic class Car {\n    private String make;\n    private String model;\n    private int year;\n\n    public Car() {}\n\n    public Car(String make, String model, int year) {\n        this.make = make;\n        this.model = model;\n        this.year = year;\n    }\n\n    @Override\n    public boolean equals(Object other) {\n        if (other == this) return true;\n        if (!(other instanceof Car)) return false;\n        Car car = (Car) other;\n        return Objects.equals(make, car.make) &amp;&amp; Objects.equals(model, car.model) &amp;&amp; year == car.year;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(make, model, year);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;{&quot; +\n                &quot; make='&quot; + getMake() + &quot;'&quot; +\n                &quot;, model='&quot; + getModel() + &quot;'&quot; +\n                &quot;, year='&quot; + getYear() + &quot;'&quot; +\n                &quot;}&quot;;\n    }\n\n    public String getMake() {\n        return this.make;\n    }\n\n    public void setMake(String make) {\n        this.make = make;\n    }\n\n    public String getModel() {\n        return this.model;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public int getYear() {\n        return this.year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashSet;\n\npublic class CarDriver {\n    public static void main(String[] args) {\n        HashSet&lt;Car&gt; hashSet = new HashSet&lt;Car&gt;();\n\n        Car a = new Car(&quot;Ferrari&quot;, &quot;F40&quot;, 1987);\n        Car b = new Car(&quot;Ferrari&quot;, &quot;F40&quot;, 1987);\n\n        System.out.println(hashSet.add(a)); // true\n        System.out.println(hashSet.add(b)); // false\n\n        System.out.println(hashSet);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>true\nfalse\n[{ make='Ferrari', model='F40', year='1987'}]\n</code></pre>\n<hr />\n<h2>Lombok</h2>\n<p>Here is the latest dependency version for Maven (as of today):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.28&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The same <code>Car</code> class above can be compiled using the following annotations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.*;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@Getter\n@Setter\n@ToString\npublic class Car {\n    private String make;\n    private String model;\n    private int year;\n}\n</code></pre>\n<p>With the <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\"><code>@Data</code></a> annotation, we can eliminate <code>@ToString</code>, <code>@EqualsAndHashCode</code>, <code>@Getter</code>, and <code>@Setter</code>. Keep in mind that this annotation will also use the <code>@RequiredArgsConstructor</code> as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.*;\n\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class Car {\n    private String make;\n    private String model;\n    private int year;\n}\n</code></pre>\n<p>Minimal POM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven-compiler-plugin.version&gt;3.11.0&lt;/maven-compiler-plugin.version&gt;\n    &lt;lombok.version&gt;1.18.28&lt;/lombok.version&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n      &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n      &lt;version&gt;${lombok.version}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven-compiler-plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n              &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n              &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n              &lt;version&gt;${lombok.version}&lt;/version&gt;\n            &lt;/path&gt;\n          &lt;/annotationProcessorPaths&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<h2>Java 14+</h2>\n<p>The following <code>record</code> will generate the following methods for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public record Car(String make, String model, int year) {}\n</code></pre>\n<ul>\n<li>Constructor\n<ul>\n<li>Public constructor, with an argument for each field</li>\n</ul>\n</li>\n<li>Getters\n<ul>\n<li>These match the names of the fields (does not include the common &quot;get&quot; bean method prefix e.g. <code>car.make()</code> instead of <code>car.getMake()</code>.</li>\n</ul>\n</li>\n<li>Common <code>Object</code> method overrides:\n<ul>\n<li><code>equals</code>, <code>hashCode</code>, and <code>toString</code></li>\n</ul>\n</li>\n</ul>\n<p>See also: <a href=\"https://www.baeldung.com/java-record-keyword\" rel=\"nofollow noreferrer\">Java 14 Record Keyword</a></p>\n"},{"tags":[],"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686932195,"creation_date":1686925165,"answer_id":76491083,"question_id":76490758,"body_markdown":"&lt;h3&gt;Java HashSet unique elements&lt;/h3&gt;\r\n\r\nIn this example the `HashSet` treats the Car objects `a` and `b` as separate elements because they have different addresses in the memory. Even though their attribute values are the same, the `hashCode()` method in Java generates unique identifiers based on memory addresses. Because of that the `HashSet` considers `a` and `b` as distinct objects and allows both of them to be summed up.\r\n\r\nTo make sure that the `HashSet` treats two Car objects as equal even when they have the same attribute values, you need to override the `hashCode()` and `equals()` methods in the Car class. Those methods make it possible to provide a custom way of determining equality based on the attribute values of the objects.\r\n\r\nHere you have an example from me on how you could solve this issue:\r\n\r\n**My Code Example:**\r\n\r\n    import java.util.HashSet;\r\n    import java.util.Objects;\r\n    \r\n    public class Car {\r\n    \r\n      // Variables\r\n      private String make;\r\n      private String model;\r\n      private short year;\r\n    \r\n      // Constructor\r\n      public Car(String make, String model, short year) {\r\n        this.make = make;\r\n        this.model = model;\r\n        this.year = year;\r\n      }\r\n    \r\n      // Methods - Getters n&#39; Setters and other methods\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        // Generating hash code based on attribute values using Objects.hash() method\r\n        return Objects.hash(make, model, year);\r\n      }\r\n    \r\n      @Override\r\n      public boolean equals(Object obj) {\r\n    \r\n        // Comparing attributes for equality\r\n        if (this == obj)\r\n          return true;\r\n        if (obj == null || getClass() != obj.getClass())\r\n          return false;\r\n        Car other = (Car) obj;\r\n        return Objects.equals(make, other.make) &amp;&amp;\r\n          Objects.equals(model, other.model) &amp;&amp;\r\n          year == other.year;\r\n      }\r\n    }\r\n    \r\n    /*\r\n     *  HashSetExample class including the main method\r\n     * \r\n     */\r\n    public class HashSetExample {\r\n      public static void main(String[] args) {\r\n    \r\n        // Creating a HashSet variable to store Car objects\r\n        HashSet &lt; Car &gt; hash = new HashSet &lt; Car &gt; ();\r\n    \r\n        // Creating two Car objects with the same values\r\n        Car a = new Car(&quot;Ferrari&quot;, &quot;F40&quot;, 1987);\r\n        Car b = new Car(&quot;Ferrari&quot;, &quot;F40&quot;, 1987);\r\n    \r\n        // Printing the HashCodes\r\n        System.out.println(&quot;Hashcode of a: &quot; + a.hashCode());\r\n        System.out.println(&quot;Hashcode of b: &quot; + b.hashCode());\r\n    \r\n        // Adding the Car objects to the HashSet\r\n        System.out.println(hash.add(a));\r\n        System.out.println(hash.add(b));\r\n    \r\n        // Printing the size of the HashSet\r\n        System.out.println(hash.size());\r\n      }\r\n    }\r\n\r\nIf you have any questions write a comment. Mind that I put two classes into the same &quot;file&quot; in this answer.","title":"Java HashSet unique elements","body":"<h3>Java HashSet unique elements</h3>\n<p>In this example the <code>HashSet</code> treats the Car objects <code>a</code> and <code>b</code> as separate elements because they have different addresses in the memory. Even though their attribute values are the same, the <code>hashCode()</code> method in Java generates unique identifiers based on memory addresses. Because of that the <code>HashSet</code> considers <code>a</code> and <code>b</code> as distinct objects and allows both of them to be summed up.</p>\n<p>To make sure that the <code>HashSet</code> treats two Car objects as equal even when they have the same attribute values, you need to override the <code>hashCode()</code> and <code>equals()</code> methods in the Car class. Those methods make it possible to provide a custom way of determining equality based on the attribute values of the objects.</p>\n<p>Here you have an example from me on how you could solve this issue:</p>\n<p><strong>My Code Example:</strong></p>\n<pre><code>import java.util.HashSet;\nimport java.util.Objects;\n\npublic class Car {\n\n  // Variables\n  private String make;\n  private String model;\n  private short year;\n\n  // Constructor\n  public Car(String make, String model, short year) {\n    this.make = make;\n    this.model = model;\n    this.year = year;\n  }\n\n  // Methods - Getters n' Setters and other methods\n\n  @Override\n  public int hashCode() {\n    // Generating hash code based on attribute values using Objects.hash() method\n    return Objects.hash(make, model, year);\n  }\n\n  @Override\n  public boolean equals(Object obj) {\n\n    // Comparing attributes for equality\n    if (this == obj)\n      return true;\n    if (obj == null || getClass() != obj.getClass())\n      return false;\n    Car other = (Car) obj;\n    return Objects.equals(make, other.make) &amp;&amp;\n      Objects.equals(model, other.model) &amp;&amp;\n      year == other.year;\n  }\n}\n\n/*\n *  HashSetExample class including the main method\n * \n */\npublic class HashSetExample {\n  public static void main(String[] args) {\n\n    // Creating a HashSet variable to store Car objects\n    HashSet &lt; Car &gt; hash = new HashSet &lt; Car &gt; ();\n\n    // Creating two Car objects with the same values\n    Car a = new Car(&quot;Ferrari&quot;, &quot;F40&quot;, 1987);\n    Car b = new Car(&quot;Ferrari&quot;, &quot;F40&quot;, 1987);\n\n    // Printing the HashCodes\n    System.out.println(&quot;Hashcode of a: &quot; + a.hashCode());\n    System.out.println(&quot;Hashcode of b: &quot; + b.hashCode());\n\n    // Adding the Car objects to the HashSet\n    System.out.println(hash.add(a));\n    System.out.println(hash.add(b));\n\n    // Printing the size of the HashSet\n    System.out.println(hash.size());\n  }\n}\n</code></pre>\n<p>If you have any questions write a comment. Mind that I put two classes into the same &quot;file&quot; in this answer.</p>\n"}],"owner":{"account_id":1870688,"reputation":41,"user_id":7209325,"display_name":"Sergio Obici"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":3,"score":1,"last_activity_date":1687002345,"creation_date":1686922676,"question_id":76490758,"body_markdown":"About HashSet .... The method add() returns true if this set did not already contain the specified element.\r\nBut if I write:\r\n```\r\nHashSet&lt;Car&gt; hash = new HashSet&lt;Car&gt;();\r\nCar a = new Car(&quot;Ferrari&quot;,&quot;F40&quot;,1987);\r\nCar b = new Car(&quot;Ferrari&quot;,&quot;F40&quot;,1987);\r\nSystem.out.println(&quot;Hashcode di a:&quot;+a.hashCode());\r\nSystem.out.println(&quot;Hashcode di b:&quot;+b.hashCode());\r\nSystem.out.println(hash.add(a));\r\nSystem.out.println(hash.add(b));\r\n```\r\nI obtain this:\r\n```\r\nHashcode di a: 1824327938 \r\nHashcode di b: 1824327938\r\ntrue\r\ntrue\r\n```\r\n\r\n... and I have a set of two elements. I&#39;d expect just one. \r\nWhat&#39;s there I don&#39;t understand?\r\nHow I can avoid the second add?\r\n\r\nThank in advance.\r\n\r\nSergio\r\n\r\nPS\r\nI add my equals method:\r\n\r\n    public boolean equals(Car c) {\r\n    \t  if (brand.equals(c.getBrand()) &amp;&amp; model.equals(c.getModel()) &amp;&amp; version == c.getVersion())\r\n    \t    return true;\r\n    \t  else\r\n    \t    return false;\r\n    \t}\r\n    }\r\n\r\nand that&#39;s it. It seems that I wrote equals method in a wrong way not considering that equals argoument must be Object and not directly a Car.\r\n","title":"Java HashSet unique elements","body":"<p>About HashSet .... The method add() returns true if this set did not already contain the specified element.\nBut if I write:</p>\n<pre><code>HashSet&lt;Car&gt; hash = new HashSet&lt;Car&gt;();\nCar a = new Car(&quot;Ferrari&quot;,&quot;F40&quot;,1987);\nCar b = new Car(&quot;Ferrari&quot;,&quot;F40&quot;,1987);\nSystem.out.println(&quot;Hashcode di a:&quot;+a.hashCode());\nSystem.out.println(&quot;Hashcode di b:&quot;+b.hashCode());\nSystem.out.println(hash.add(a));\nSystem.out.println(hash.add(b));\n</code></pre>\n<p>I obtain this:</p>\n<pre><code>Hashcode di a: 1824327938 \nHashcode di b: 1824327938\ntrue\ntrue\n</code></pre>\n<p>... and I have a set of two elements. I'd expect just one.\nWhat's there I don't understand?\nHow I can avoid the second add?</p>\n<p>Thank in advance.</p>\n<p>Sergio</p>\n<p>PS\nI add my equals method:</p>\n<pre><code>public boolean equals(Car c) {\n      if (brand.equals(c.getBrand()) &amp;&amp; model.equals(c.getModel()) &amp;&amp; version == c.getVersion())\n        return true;\n      else\n        return false;\n    }\n}\n</code></pre>\n<p>and that's it. It seems that I wrote equals method in a wrong way not considering that equals argoument must be Object and not directly a Car.</p>\n"},{"tags":["java","swing","java-9","jeditorpane","preferredsize"],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1521019912,"post_id":49273598,"comment_id":85550546,"body_markdown":"Thanks! That works. Also in our production code. A bit of a hack, maybe, but I certainly prefer it over the wasteful fix I had.","body":"Thanks! That works. Also in our production code. A bit of a hack, maybe, but I certainly prefer it over the wasteful fix I had."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1521023239,"post_id":49273598,"comment_id":85552876,"body_markdown":"That looks like the relevant side effect is the `invalidate();` call implied by `setSize(…)`, so just calling `pane.invalidate();` should have the same effect and feel less nasty than modifying the size.","body":"That looks like the relevant side effect is the <code>invalidate();</code> call implied by <code>setSize(…)</code>, so just calling <code>pane.invalidate();</code> should have the same effect and feel less nasty than modifying the size."},{"owner":{"account_id":5707766,"reputation":801,"user_id":4510718,"display_name":"MatheM"},"score":3,"creation_date":1521024805,"post_id":49273598,"comment_id":85553962,"body_markdown":"@Holger I have tried various combinations of `invalidate();`, `validate();`, `revalidate()`, ... and it doesn&#39;t change the preferred height. I think that setting the size of the component is important part in this hack. I&#39;ve also found out that height set with `setHeight` doesn&#39;t have to be large it just needs to be larger than initial preferred height.","body":"@Holger I have tried various combinations of <code>invalidate();</code>, <code>validate();</code>, <code>revalidate()</code>, ... and it doesn&#39;t change the preferred height. I think that setting the size of the component is important part in this hack. I&#39;ve also found out that height set with <code>setHeight</code> doesn&#39;t have to be large it just needs to be larger than initial preferred height."}],"tags":[],"owner":{"account_id":5707766,"reputation":801,"user_id":4510718,"display_name":"MatheM"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1521020107,"creation_date":1521018699,"answer_id":49273598,"question_id":49273118,"body_markdown":"I have faced similar problem, but with JLabel. My solution was to set the size of the JLabel which seems to force the component to recalculate its preferred size.\r\n\r\nTry this:\r\n\r\n    JEditorPane pane = new JEditorPane(&quot;text/html&quot;, &quot;&quot;);\r\n\r\n\tpane.setText(&quot;&lt;html&gt;One line&lt;/html&gt;&quot;);\r\n\tSystem.out.println(pane.getPreferredSize());\r\n\tpane.setText(&quot;&lt;html&gt;Line one&lt;br /&gt;Line 2&lt;br /&gt;Third line&lt;br /&gt;Line four&lt;/html&gt;&quot;);\r\n\t\r\n    // get width from initial preferred size, height should be much larger than necessary\r\n    pane.setSize(61, 1000);\r\n\t\r\n    System.out.println(pane.getPreferredSize());\r\n\r\nIn this casse the output is\r\n\r\n    java.awt.Dimension[width=53,height=25]\r\n    java.awt.Dimension[width=61,height=82]\r\n\r\nNote: my fonts are different, that is why I get different dimensions.\r\n\r\nEdit: I changed your getTableCellRendererComponent in the longer example like this and it is working for me. I am using jdk9.0.4, 64 bit.\r\n\r\n    @Override\r\n\tpublic Component getTableCellRendererComponent(JTable table, Object value, boolean selected, boolean hasFocus, int row, int col) {\r\n\t\tsetText(value.toString());\r\n\t\t\r\n\t\tDimension preferredSize = getPreferredSize();\r\n\t\tsetSize(new Dimension(preferredSize.width, 1000));\r\n\t\tpreferredSize = getPreferredSize();\r\n\t\t\r\n\t\tSystem.out.format(&quot;Row %d preferred size %s%n&quot;, row, preferredSize);\r\n\t\tif (preferredSize.height &gt; 0 &amp;&amp; table.getRowHeight(row) != preferredSize.height) {\r\n\t\t\ttable.setRowHeight(row, preferredSize.height);\r\n\t\t}\r\n        return this;\r\n    }\r\n","title":"JEditorPane.getPreferredSize not always working in Java 9?","body":"<p>I have faced similar problem, but with JLabel. My solution was to set the size of the JLabel which seems to force the component to recalculate its preferred size.</p>\n\n<p>Try this:</p>\n\n<pre><code>JEditorPane pane = new JEditorPane(\"text/html\", \"\");\n\npane.setText(\"&lt;html&gt;One line&lt;/html&gt;\");\nSystem.out.println(pane.getPreferredSize());\npane.setText(\"&lt;html&gt;Line one&lt;br /&gt;Line 2&lt;br /&gt;Third line&lt;br /&gt;Line four&lt;/html&gt;\");\n\n// get width from initial preferred size, height should be much larger than necessary\npane.setSize(61, 1000);\n\nSystem.out.println(pane.getPreferredSize());\n</code></pre>\n\n<p>In this casse the output is</p>\n\n<pre><code>java.awt.Dimension[width=53,height=25]\njava.awt.Dimension[width=61,height=82]\n</code></pre>\n\n<p>Note: my fonts are different, that is why I get different dimensions.</p>\n\n<p>Edit: I changed your getTableCellRendererComponent in the longer example like this and it is working for me. I am using jdk9.0.4, 64 bit.</p>\n\n<pre><code>@Override\npublic Component getTableCellRendererComponent(JTable table, Object value, boolean selected, boolean hasFocus, int row, int col) {\n    setText(value.toString());\n\n    Dimension preferredSize = getPreferredSize();\n    setSize(new Dimension(preferredSize.width, 1000));\n    preferredSize = getPreferredSize();\n\n    System.out.format(\"Row %d preferred size %s%n\", row, preferredSize);\n    if (preferredSize.height &gt; 0 &amp;&amp; table.getRowHeight(row) != preferredSize.height) {\n        table.setRowHeight(row, preferredSize.height);\n    }\n    return this;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10744379,"reputation":399,"user_id":7906257,"display_name":"rupashka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642450894,"creation_date":1642450894,"answer_id":70747078,"question_id":49273118,"body_markdown":"Based on previous suggestion and digging in JDK sources I&#39;m suggesting a little bit simpler solution:\r\n\r\n    setSize(new Dimention(0, 0))\r\n\r\nBased on BasicTextUI.getPreferredSize implementation it forces to recalculate root view size\r\n\r\n                } else if (d.width == 0 &amp;&amp; d.height == 0) {\r\n                // Probably haven&#39;t been layed out yet, force some sort of\r\n                // initial sizing.\r\n                rootView.setSize(Integer.MAX_VALUE, Integer.MAX_VALUE);\r\n            }\r\n","title":"JEditorPane.getPreferredSize not always working in Java 9?","body":"<p>Based on previous suggestion and digging in JDK sources I'm suggesting a little bit simpler solution:</p>\n<pre><code>setSize(new Dimention(0, 0))\n</code></pre>\n<p>Based on BasicTextUI.getPreferredSize implementation it forces to recalculate root view size</p>\n<pre><code>            } else if (d.width == 0 &amp;&amp; d.height == 0) {\n            // Probably haven't been layed out yet, force some sort of\n            // initial sizing.\n            rootView.setSize(Integer.MAX_VALUE, Integer.MAX_VALUE);\n        }\n</code></pre>\n"}],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":606,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"accepted_answer_id":49273598,"answer_count":2,"score":10,"last_activity_date":1687002130,"creation_date":1521017074,"question_id":49273118,"body_markdown":"This question is about different behaviour of `JEditorPane` in Java 8 and Java 9. I’d like to know if others have experienced the same, whether it could be a bug in Java 9, and if possible have your input to how to handle it in Java 9.\r\n\r\nContext: In our (age-old) code base we are using a subclass of `JTable`, and for rendering multi-line HTML in one of the columns we are using a subclass of `JEditorPane`. We are using `JEditorPane.getPreferredSize()` for determining the height of the content and using it for setting the height of the table row. It’s been working well for many years. It doesn’t work in Java 9; the rows are displayed just 10 pixels high. Seen both on Windows and Mac.\r\n\r\nI should like to show you two code examples. If the first and shorter one suffices for you, feel free to skip the second and longer one.\r\n\r\nMCVE:\r\n\r\n\tJEditorPane pane = new JEditorPane(&quot;text/html&quot;, &quot;&quot;);\r\n\t\r\n\tpane.setText(&quot;&lt;html&gt;One line&lt;/html&gt;&quot;);\r\n\tSystem.out.println(pane.getPreferredSize());\r\n\tpane.setText(&quot;&lt;html&gt;Line one&lt;br /&gt;Line 2&lt;br /&gt;Third line&lt;br /&gt;Line four&lt;/html&gt;&quot;);\r\n\tSystem.out.println(pane.getPreferredSize());\r\n\r\nOutput in Java 8 (1.8.0_131):\r\n\r\n    java.awt.Dimension[width=48,height=15]\r\n    java.awt.Dimension[width=57,height=60]\r\n\r\nAnd on Java 9 (jdk-9.0.4):\r\n\r\n    java.awt.Dimension[width=49,height=15]\r\n    java.awt.Dimension[width=58,height=0]\r\n\r\nIn Java 9 the first time I set the text, the preferred height reflects it. Every subsequent time it doesn’t.\r\n\r\nI have searched to see if I could find any information on a bug that might account for this, did not find anything relevant.\r\n\r\n**Question: Is this intended (change of) behaviour? Is it a bug??**\r\n\r\n## Longer example\r\n\r\n    public class TestJEditorPaneAsRenderer extends JFrame {\r\n    \r\n    \tpublic TestJEditorPaneAsRenderer() {\r\n    \t\tsuper(&quot;Test JEditorPane&quot;);\r\n    \t\t\r\n    \t\tMyRenderer renderer = new MyRenderer();\r\n    \t\t\r\n    \t\tString html2 = &quot;&lt;html&gt;one/2&lt;br /&gt;two/2&lt;/html&gt;&quot;;\r\n    \t\tString html4 = &quot;&lt;html&gt;one of four&lt;br /&gt;two of four&lt;br /&gt;&quot;\r\n    \t\t\t\t+ &quot;three of four&lt;br /&gt;four of four&lt;/html&gt;&quot;;\r\n    \t\tJTable table = new JTable(new String[][] { { html2 }, { html4 } },\r\n    \t\t                          new String[] { &quot;Dummy col title&quot; }) {\r\n    \t\t\t@Override\r\n    \t\t\tpublic TableCellRenderer getDefaultRenderer(Class&lt;?&gt; colType) {\r\n    \t\t\t\treturn renderer;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\tadd(table);\r\n    \t\tsetSize(100, 150);\r\n    \t\tsetDefaultCloseOperation(EXIT_ON_CLOSE);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(System.getProperty(&quot;java.version&quot;));\r\n    \t\tnew TestJEditorPaneAsRenderer().setVisible(true);\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class MyRenderer extends JEditorPane implements TableCellRenderer {\r\n    \r\n    \tpublic MyRenderer() {\r\n    \t\tsuper(&quot;text/html&quot;, &quot;&quot;);\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic Component getTableCellRendererComponent(\r\n    \t\t\tJTable table, Object value, boolean selected, boolean hasFocus, int row, int col) {\r\n    \t\tsetText(value.toString());\r\n    \t\tDimension preferredSize = getPreferredSize();\r\n    \t\tSystem.out.format(&quot;Row %d preferred size %s%n&quot;,row, preferredSize);\r\n    \t\tif (preferredSize.height &gt; 0 &amp;&amp; table.getRowHeight(row) != preferredSize.height) {\r\n    \t\t\ttable.setRowHeight(row, preferredSize.height);\r\n    \t\t}\r\n    \t\treturn this;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nResult on Java 8 is as expected:\r\n\r\n[![Java 8 screen shot][1]][1]\r\n\r\nOutput from Java 8:\r\n\r\n    1.8.0_131\r\n    Row 0 preferred size java.awt.Dimension[width=32,height=30]\r\n    Row 1 preferred size java.awt.Dimension[width=72,height=60]\r\n    Row 0 preferred size java.awt.Dimension[width=32,height=30]\r\n    Row 1 preferred size java.awt.Dimension[width=72,height=60]\r\n\r\nOn Java 9 the second row is not shown high enough so most of the lines are hidden:\r\n\r\n[![Java 9 screen shot showing problem][2]][2]\r\n\r\nOutput from Java 9:\r\n\r\n    9.0.4\r\n    Row 0 preferred size java.awt.Dimension[width=33,height=30]\r\n    Row 1 preferred size java.awt.Dimension[width=73,height=0]\r\n    Row 0 preferred size java.awt.Dimension[width=33,height=0]\r\n    Row 1 preferred size java.awt.Dimension[width=73,height=0]\r\n\r\nA possible fix is if I create a new renderer component each time by changing the body of `getDefaultRenderer()` to:\r\n\r\n\treturn new MyRenderer();\r\n\r\nNow the table looks good as on Java 8. If necessary I suppose we could live with a similar fix in our production code, but it seems quite a waste. Especially if it’s only necessary until the behaviour change is reverted in a coming Java version. **I’d be grateful for your suggestions here.**\r\n\r\n  [1]: https://i.stack.imgur.com/MhPRc.png\r\n  [2]: https://i.stack.imgur.com/vIduJ.png","title":"JEditorPane.getPreferredSize not always working in Java 9?","body":"<p>This question is about different behaviour of <code>JEditorPane</code> in Java 8 and Java 9. I’d like to know if others have experienced the same, whether it could be a bug in Java 9, and if possible have your input to how to handle it in Java 9.</p>\n<p>Context: In our (age-old) code base we are using a subclass of <code>JTable</code>, and for rendering multi-line HTML in one of the columns we are using a subclass of <code>JEditorPane</code>. We are using <code>JEditorPane.getPreferredSize()</code> for determining the height of the content and using it for setting the height of the table row. It’s been working well for many years. It doesn’t work in Java 9; the rows are displayed just 10 pixels high. Seen both on Windows and Mac.</p>\n<p>I should like to show you two code examples. If the first and shorter one suffices for you, feel free to skip the second and longer one.</p>\n<p>MCVE:</p>\n<pre><code>JEditorPane pane = new JEditorPane(&quot;text/html&quot;, &quot;&quot;);\n\npane.setText(&quot;&lt;html&gt;One line&lt;/html&gt;&quot;);\nSystem.out.println(pane.getPreferredSize());\npane.setText(&quot;&lt;html&gt;Line one&lt;br /&gt;Line 2&lt;br /&gt;Third line&lt;br /&gt;Line four&lt;/html&gt;&quot;);\nSystem.out.println(pane.getPreferredSize());\n</code></pre>\n<p>Output in Java 8 (1.8.0_131):</p>\n<pre><code>java.awt.Dimension[width=48,height=15]\njava.awt.Dimension[width=57,height=60]\n</code></pre>\n<p>And on Java 9 (jdk-9.0.4):</p>\n<pre><code>java.awt.Dimension[width=49,height=15]\njava.awt.Dimension[width=58,height=0]\n</code></pre>\n<p>In Java 9 the first time I set the text, the preferred height reflects it. Every subsequent time it doesn’t.</p>\n<p>I have searched to see if I could find any information on a bug that might account for this, did not find anything relevant.</p>\n<p><strong>Question: Is this intended (change of) behaviour? Is it a bug??</strong></p>\n<h2>Longer example</h2>\n<pre><code>public class TestJEditorPaneAsRenderer extends JFrame {\n\n    public TestJEditorPaneAsRenderer() {\n        super(&quot;Test JEditorPane&quot;);\n        \n        MyRenderer renderer = new MyRenderer();\n        \n        String html2 = &quot;&lt;html&gt;one/2&lt;br /&gt;two/2&lt;/html&gt;&quot;;\n        String html4 = &quot;&lt;html&gt;one of four&lt;br /&gt;two of four&lt;br /&gt;&quot;\n                + &quot;three of four&lt;br /&gt;four of four&lt;/html&gt;&quot;;\n        JTable table = new JTable(new String[][] { { html2 }, { html4 } },\n                                  new String[] { &quot;Dummy col title&quot; }) {\n            @Override\n            public TableCellRenderer getDefaultRenderer(Class&lt;?&gt; colType) {\n                return renderer;\n            }\n        };\n        \n        add(table);\n        setSize(100, 150);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n    }\n    \n    public static void main(String[] args) {\n        System.out.println(System.getProperty(&quot;java.version&quot;));\n        new TestJEditorPaneAsRenderer().setVisible(true);\n    }\n\n}\n\nclass MyRenderer extends JEditorPane implements TableCellRenderer {\n\n    public MyRenderer() {\n        super(&quot;text/html&quot;, &quot;&quot;);\n    }\n    \n    @Override\n    public Component getTableCellRendererComponent(\n            JTable table, Object value, boolean selected, boolean hasFocus, int row, int col) {\n        setText(value.toString());\n        Dimension preferredSize = getPreferredSize();\n        System.out.format(&quot;Row %d preferred size %s%n&quot;,row, preferredSize);\n        if (preferredSize.height &gt; 0 &amp;&amp; table.getRowHeight(row) != preferredSize.height) {\n            table.setRowHeight(row, preferredSize.height);\n        }\n        return this;\n    }\n    \n}\n</code></pre>\n<p>Result on Java 8 is as expected:</p>\n<p><a href=\"https://i.stack.imgur.com/MhPRc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MhPRc.png\" alt=\"Java 8 screen shot\" /></a></p>\n<p>Output from Java 8:</p>\n<pre><code>1.8.0_131\nRow 0 preferred size java.awt.Dimension[width=32,height=30]\nRow 1 preferred size java.awt.Dimension[width=72,height=60]\nRow 0 preferred size java.awt.Dimension[width=32,height=30]\nRow 1 preferred size java.awt.Dimension[width=72,height=60]\n</code></pre>\n<p>On Java 9 the second row is not shown high enough so most of the lines are hidden:</p>\n<p><a href=\"https://i.stack.imgur.com/vIduJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vIduJ.png\" alt=\"Java 9 screen shot showing problem\" /></a></p>\n<p>Output from Java 9:</p>\n<pre><code>9.0.4\nRow 0 preferred size java.awt.Dimension[width=33,height=30]\nRow 1 preferred size java.awt.Dimension[width=73,height=0]\nRow 0 preferred size java.awt.Dimension[width=33,height=0]\nRow 1 preferred size java.awt.Dimension[width=73,height=0]\n</code></pre>\n<p>A possible fix is if I create a new renderer component each time by changing the body of <code>getDefaultRenderer()</code> to:</p>\n<pre><code>return new MyRenderer();\n</code></pre>\n<p>Now the table looks good as on Java 8. If necessary I suppose we could live with a similar fix in our production code, but it seems quite a waste. Especially if it’s only necessary until the behaviour change is reverted in a coming Java version. <strong>I’d be grateful for your suggestions here.</strong></p>\n"},{"tags":["java","gradle","unicode","properties-file"],"answers":[{"comments":[{"owner":{"account_id":125254,"reputation":2585,"user_id":320911,"display_name":"Arto Bendiken"},"score":0,"creation_date":1509383467,"post_id":37743251,"comment_id":80988146,"body_markdown":"This is a life-saver.","body":"This is a life-saver."}],"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1465546578,"creation_date":1465546578,"answer_id":37743251,"question_id":37729847,"body_markdown":"You can do it providing the additional copy specification for properties files, this way:\r\n\r\n    import org.apache.tools.ant.filters.EscapeUnicode\r\n    tasks.withType(ProcessResources).each { task -&gt;\r\n        task.from(task.getSource()) {\r\n            include &#39;**/*.properties&#39;\r\n            filter(EscapeUnicode)\r\n        }\r\n    }","title":"How to automatically escape unicode characters in Java property files using Gradle?","body":"<p>You can do it providing the additional copy specification for properties files, this way:</p>\n\n<pre><code>import org.apache.tools.ant.filters.EscapeUnicode\ntasks.withType(ProcessResources).each { task -&gt;\n    task.from(task.getSource()) {\n        include '**/*.properties'\n        filter(EscapeUnicode)\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":407559,"reputation":726,"user_id":777714,"display_name":"Mathieu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687001774,"creation_date":1687001460,"answer_id":76495986,"question_id":37729847,"body_markdown":"[The solution given by stanislav][1] caused me duplicate file conflicts (I think this creates a new &quot;pipeline&quot; from the same source files, only including &#39;properties&#39; files, filtering, and writing to the same dir as the original task, but the original &quot;pipelines&quot; of the task stay unchanged).\r\n\r\nFor anyone looking to do this without duplication, here is my solution. It is also using `Native2AsciiFilter` instead of `EscapeUnicode` which should give a more similar result to `native2ascii` maven tool. This filter works on lines and not on files (it does not extend `java.io.FilterReader`), so we can&#39;t use it directly as a parameter of `filter`.\r\n\r\n```groovy\r\nimport org.apache.tools.ant.filters.Native2AsciiFilter\r\ntasks.withType(ProcessResources).each { task -&gt;\r\n    def nativeToAscii = new Native2AsciiFilter()\r\n    task.filesMatching(&#39;**/*.properties&#39;) {\r\n        filter { line -&gt; nativeToAscii.filter(line) }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/37743251/777714","title":"How to automatically escape unicode characters in Java property files using Gradle?","body":"<p><a href=\"https://stackoverflow.com/a/37743251/777714\">The solution given by stanislav</a> caused me duplicate file conflicts (I think this creates a new &quot;pipeline&quot; from the same source files, only including 'properties' files, filtering, and writing to the same dir as the original task, but the original &quot;pipelines&quot; of the task stay unchanged).</p>\n<p>For anyone looking to do this without duplication, here is my solution. It is also using <code>Native2AsciiFilter</code> instead of <code>EscapeUnicode</code> which should give a more similar result to <code>native2ascii</code> maven tool. This filter works on lines and not on files (it does not extend <code>java.io.FilterReader</code>), so we can't use it directly as a parameter of <code>filter</code>.</p>\n<pre><code>import org.apache.tools.ant.filters.Native2AsciiFilter\ntasks.withType(ProcessResources).each { task -&gt;\n    def nativeToAscii = new Native2AsciiFilter()\n    task.filesMatching('**/*.properties') {\n        filter { line -&gt; nativeToAscii.filter(line) }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1859709,"reputation":581,"user_id":1684528,"accept_rate":45,"display_name":"Christian R&#228;del"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1266,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1687001774,"creation_date":1465485018,"question_id":37729847,"body_markdown":"I&#39;m translating a **Java** application by using a ```ResourceBundle``` with various ```*.properties``` files. Now I like to have a **Gradle** task or want to modify a task to automatically escape any *unicode* character by replacing it with its *ASCII* representation, something like Java&#39;s ```native2ascii``` tool does.\r\n\r\nThis is what I&#39;m done so far with my build file, but the **output remains unescaped**:\r\n\r\n    import org.apache.tools.ant.filters.EscapeUnicode\r\n\r\n    tasks.withType(ProcessResources) {\r\n        filesMatching(&#39;**/*.properties&#39;) {\r\n            println &quot;\\t-&gt; ${it}&quot;\r\n            filter EscapeUnicode\r\n        }\r\n    }\r\n\r\n*Any help is appreciated.*","title":"How to automatically escape unicode characters in Java property files using Gradle?","body":"<p>I'm translating a <strong>Java</strong> application by using a <code>ResourceBundle</code> with various <code>*.properties</code> files. Now I like to have a <strong>Gradle</strong> task or want to modify a task to automatically escape any <em>unicode</em> character by replacing it with its <em>ASCII</em> representation, something like Java's <code>native2ascii</code> tool does.</p>\n\n<p>This is what I'm done so far with my build file, but the <strong>output remains unescaped</strong>:</p>\n\n<pre><code>import org.apache.tools.ant.filters.EscapeUnicode\n\ntasks.withType(ProcessResources) {\n    filesMatching('**/*.properties') {\n        println \"\\t-&gt; ${it}\"\n        filter EscapeUnicode\n    }\n}\n</code></pre>\n\n<p><em>Any help is appreciated.</em></p>\n"},{"tags":["java","generics","compiler-errors"],"comments":[{"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"score":0,"creation_date":1453813246,"post_id":35013179,"comment_id":57755427,"body_markdown":"&quot;looks a bit complicated&quot; - indeed. I wonder whether this nesting is really necessary (or reasonably beneficial) for the application case. Omitting the last `extends` already solves the problem, but as long as it is not clear where this genericity is actually *required*, one can not say whether this applicable in your case.","body":"&quot;looks a bit complicated&quot; - indeed. I wonder whether this nesting is really necessary (or reasonably beneficial) for the application case. Omitting the last <code>extends</code> already solves the problem, but as long as it is not clear where this genericity is actually <i>required</i>, one can not say whether this applicable in your case."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1454331422,"post_id":35013179,"comment_id":57981829,"body_markdown":"You’re right, as the code in the question stands, parameterization of `AbstractA` is superfluous, and therefore `AbstractB&lt;T extends AbstractA&gt;` is enough.","body":"You’re right, as the code in the question stands, parameterization of <code>AbstractA</code> is superfluous, and therefore <code>AbstractB&lt;T extends AbstractA&gt;</code> is enough."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1633612638,"post_id":35013179,"comment_id":122810295,"body_markdown":"I don&#39;t see any reason why this question has been DVed heavily. IMHO, this question is clear, focused and has all the necessary elements to classify it as a good question. It will be useful for future visitors if one of the DVers can explain the reason.","body":"I don&#39;t see any reason why this question has been DVed heavily. IMHO, this question is clear, focused and has all the necessary elements to classify it as a good question. It will be useful for future visitors if one of the DVers can explain the reason."}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1453818497,"post_id":35015267,"comment_id":57758954,"body_markdown":"Looks nice, thank you very much.\nYou’ve solved at least half of my problem. In `bar()` I’m happy with seeing `theA` as an `AbstractA`. The other half (I realize I didn’t tell you) is I want to store `theA` in a field and provide a getter for `ConcreteB` to get it. It wants a `ConcreteA`, which the cast in my workaround produced. I can do the same cast in your code. Can I avoid it altogether?\nA detail, my Eclipse prefers `abstract class AbstractA&lt;T extends AbstractB&lt;?&gt;&gt;`, it stops it from complaining about using the raw class.","body":"Looks nice, thank you very much. You’ve solved at least half of my problem. In <code>bar()</code> I’m happy with seeing <code>theA</code> as an <code>AbstractA</code>. The other half (I realize I didn’t tell you) is I want to store <code>theA</code> in a field and provide a getter for <code>ConcreteB</code> to get it. It wants a <code>ConcreteA</code>, which the cast in my workaround produced. I can do the same cast in your code. Can I avoid it altogether? A detail, my Eclipse prefers <code>abstract class AbstractA&lt;T extends AbstractB&lt;?&gt;&gt;</code>, it stops it from complaining about using the raw class."},{"owner":{"account_id":7612673,"reputation":610,"user_id":5773084,"accept_rate":83,"display_name":"Chris Wohlert"},"score":0,"creation_date":1453818614,"post_id":35015267,"comment_id":57759021,"body_markdown":"I will look into it, and update the answer when I have one. :) Yeah, edited the answer to reflect that Eclipse warning.","body":"I will look into it, and update the answer when I have one. :) Yeah, edited the answer to reflect that Eclipse warning."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1453833303,"post_id":35015267,"comment_id":57768941,"body_markdown":"Thank you for looking into my problem so kindly. While I was, of course, perfectly clear in my mind about my intention, I more and more tend to think you’re right, `getB()` cannot know exactly which type it is dealing with, so the unchecked cast is necessary.","body":"Thank you for looking into my problem so kindly. While I was, of course, perfectly clear in my mind about my intention, I more and more tend to think you’re right, <code>getB()</code> cannot know exactly which type it is dealing with, so the unchecked cast is necessary."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1453957568,"post_id":35015267,"comment_id":57830562,"body_markdown":"But you&#39;re completely not using the generic type arguments here at all. Neither `AbstractA` nor `AbstractB` uses `T` in its code; you&#39;re effectively using them as non-generic types (by always using wildcard types). If you removed all the brackets, it would compile the same.","body":"But you&#39;re completely not using the generic type arguments here at all. Neither <code>AbstractA</code> nor <code>AbstractB</code> uses <code>T</code> in its code; you&#39;re effectively using them as non-generic types (by always using wildcard types). If you removed all the brackets, it would compile the same."},{"owner":{"account_id":7612673,"reputation":610,"user_id":5773084,"accept_rate":83,"display_name":"Chris Wohlert"},"score":1,"creation_date":1453964748,"post_id":35015267,"comment_id":57833333,"body_markdown":"@newacct I surpose you&#39;re right, honestly though, then remove the generics. A cast will obviously still be needed. If I recall correctly, the first version did use the generics. I&#39;ve seen your answer, and it looks good, a valid solution even though OP gave up :)","body":"@newacct I surpose you&#39;re right, honestly though, then remove the generics. A cast will obviously still be needed. If I recall correctly, the first version did use the generics. I&#39;ve seen your answer, and it looks good, a valid solution even though OP gave up :)"}],"tags":[],"owner":{"account_id":7612673,"reputation":610,"user_id":5773084,"accept_rate":83,"display_name":"Chris Wohlert"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453820866,"creation_date":1453815952,"answer_id":35015267,"question_id":35013179,"body_markdown":"If I&#39;ve understood you correctly, this should create the binding you want.\r\n\r\n    class Demo {\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\tConcreteA a = new ConcreteA();\r\n    \t\tConcreteB b = new ConcreteB();\r\n    \t\ta.foo(b);\r\n\t\t    b = (ConcreteB) a.getB();\r\n    \t}\r\n    }\r\n\t\r\n    abstract class AbstractA&lt;T extends AbstractB&lt;?&gt;&gt;{\r\n\r\n    \tprivate AbstractB&lt;?&gt; b;\r\n\t\r\n    \tpublic AbstractB&lt;?&gt; getB(){\r\n    \t\treturn b;\r\n    \t}\r\n\t\r\n        void foo(AbstractB&lt;?&gt; aB) {\r\n        \tb = aB;\r\n            aB.bar(this);\r\n        }\r\n    }\r\n\r\n    abstract class AbstractB&lt;T extends AbstractA&lt;?&gt;&gt; {\r\n    \r\n    \tprivate AbstractA&lt;?&gt; a;\r\n    \t\r\n    \tpublic AbstractA&lt;?&gt; getA(){\r\n    \t\treturn a;\r\n    \t}\r\n    \t\r\n        public void bar(AbstractA&lt;?&gt; theA) {\r\n            a = theA;\r\n            theA.foo(this);\r\n        }\r\n    }\r\n        \r\n    class ConcreteA extends AbstractA&lt;ConcreteB&gt;{\r\n    \t\r\n    }\r\n    \r\n    class ConcreteB extends AbstractB&lt;ConcreteA&gt;{\r\n    \t\r\n    }\r\n\r\nI think this is what you ended up at yourself. I am not able to remove the cast to ConcreteB, getB() simply cannot be sure of the type it is holding. I now see why you had multiple generic statements in your declaration. :)\r\n\r\nIf you&#39;re up for it, continue searching, and post your own answer if you find one, I&#39;d love to see it.\r\n\r\nI hope solving half your problem counts for anything. ;)","title":"Java cooperating generic classes: can we avoid unchecked cast?","body":"<p>If I've understood you correctly, this should create the binding you want.</p>\n\n<pre><code>class Demo {\n\n    public static void main(String[] args) {\n        ConcreteA a = new ConcreteA();\n        ConcreteB b = new ConcreteB();\n        a.foo(b);\n        b = (ConcreteB) a.getB();\n    }\n}\n\nabstract class AbstractA&lt;T extends AbstractB&lt;?&gt;&gt;{\n\n    private AbstractB&lt;?&gt; b;\n\n    public AbstractB&lt;?&gt; getB(){\n        return b;\n    }\n\n    void foo(AbstractB&lt;?&gt; aB) {\n        b = aB;\n        aB.bar(this);\n    }\n}\n\nabstract class AbstractB&lt;T extends AbstractA&lt;?&gt;&gt; {\n\n    private AbstractA&lt;?&gt; a;\n\n    public AbstractA&lt;?&gt; getA(){\n        return a;\n    }\n\n    public void bar(AbstractA&lt;?&gt; theA) {\n        a = theA;\n        theA.foo(this);\n    }\n}\n\nclass ConcreteA extends AbstractA&lt;ConcreteB&gt;{\n\n}\n\nclass ConcreteB extends AbstractB&lt;ConcreteA&gt;{\n\n}\n</code></pre>\n\n<p>I think this is what you ended up at yourself. I am not able to remove the cast to ConcreteB, getB() simply cannot be sure of the type it is holding. I now see why you had multiple generic statements in your declaration. :)</p>\n\n<p>If you're up for it, continue searching, and post your own answer if you find one, I'd love to see it.</p>\n\n<p>I hope solving half your problem counts for anything. ;)</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1453928124,"creation_date":1453919162,"answer_id":35045207,"question_id":35013179,"body_markdown":"I think I got it now why I cannot declare `public void setA(T theA)` in `AbstractB` and then call it as `aB.setA(this)` in `foo()`. Suppose we had:\r\n\r\n    class IntermediateConcreteA extends AbstractA&lt;ConcreteB&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic ConcreteB createB() {\r\n    \t\treturn new ConcreteB();\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    class SubConcreteA1 extends IntermediateConcreteA {}\r\n    \r\n    class SubConcreteA2 extends IntermediateConcreteA {}\r\n    \r\n    class ConcreteB extends AbstractB&lt;SubConcreteA2&gt; {}\r\n\r\nNow if I have a `SubConcreteA1` and call its `foo()`, then `createB()` will return an object that can pass as an `AbstractB&lt;SubConcreteA2&gt;` but cannot pass as an `AbstractB&lt;SubConcreteA1&gt;`. Therefore its `setA()` shouldn’t accept `this` as an argument. The compiler error message is logical after all.","title":"Java cooperating generic classes: can we avoid unchecked cast?","body":"<p>I think I got it now why I cannot declare <code>public void setA(T theA)</code> in <code>AbstractB</code> and then call it as <code>aB.setA(this)</code> in <code>foo()</code>. Suppose we had:</p>\n\n<pre><code>class IntermediateConcreteA extends AbstractA&lt;ConcreteB&gt; {\n\n    @Override\n    public ConcreteB createB() {\n        return new ConcreteB();\n    }\n\n}\n\nclass SubConcreteA1 extends IntermediateConcreteA {}\n\nclass SubConcreteA2 extends IntermediateConcreteA {}\n\nclass ConcreteB extends AbstractB&lt;SubConcreteA2&gt; {}\n</code></pre>\n\n<p>Now if I have a <code>SubConcreteA1</code> and call its <code>foo()</code>, then <code>createB()</code> will return an object that can pass as an <code>AbstractB&lt;SubConcreteA2&gt;</code> but cannot pass as an <code>AbstractB&lt;SubConcreteA1&gt;</code>. Therefore its <code>setA()</code> shouldn’t accept <code>this</code> as an argument. The compiler error message is logical after all.</p>\n"},{"comments":[{"owner":{"account_id":7612673,"reputation":610,"user_id":5773084,"accept_rate":83,"display_name":"Chris Wohlert"},"score":0,"creation_date":1454056977,"post_id":35053314,"comment_id":57882393,"body_markdown":"aB.setA(this); gives me &quot;The method setA(A) in the type AbstractB&lt;A,B&gt; is not applicable for the arguments (AbstractA&lt;A,B&gt;)&quot; when I paste your code into eclipse, did you not get this?","body":"aB.setA(this); gives me &quot;The method setA(A) in the type AbstractB&lt;A,B&gt; is not applicable for the arguments (AbstractA&lt;A,B&gt;)&quot; when I paste your code into eclipse, did you not get this?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1454059143,"post_id":35053314,"comment_id":57883649,"body_markdown":"Thanks for the suggestion. It sounds like a good idea. I too get &quot;The method setA(A) in the type AbstractB&lt;A,B&gt; is not applicable for the arguments (AbstractA&lt;A,B&gt;)&quot;. I am using Java 8 and Eclipse Luna.","body":"Thanks for the suggestion. It sounds like a good idea. I too get &quot;The method setA(A) in the type AbstractB&lt;A,B&gt; is not applicable for the arguments (AbstractA&lt;A,B&gt;)&quot;. I am using Java 8 and Eclipse Luna."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1454060899,"post_id":35053314,"comment_id":57884809,"body_markdown":"@OleV.V.: Oops. I forgot that there&#39;s a `this` in there.","body":"@OleV.V.: Oops. I forgot that there&#39;s a <code>this</code> in there."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1454329035,"post_id":35053314,"comment_id":57980248,"body_markdown":"That’s to the point: If in `AbstractA` I can have type safe access to the concrete type of `this`, I can solve the rest. Thanks for making this crystal clear. In your solution, a dishonest subclass could return a different object then `this`, but the superclass can easily check that.","body":"That’s to the point: If in <code>AbstractA</code> I can have type safe access to the concrete type of <code>this</code>, I can solve the rest. Thanks for making this crystal clear. In your solution, a dishonest subclass could return a different object then <code>this</code>, but the superclass can easily check that."},{"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1454377093,"post_id":35053314,"comment_id":58007306,"body_markdown":"@OleV.V.: It is not &quot;dishonest&quot; if it returns a different type, if that type was used as its type argument, because then it&#39;s declared to return that type.","body":"@OleV.V.: It is not &quot;dishonest&quot; if it returns a different type, if that type was used as its type argument, because then it&#39;s declared to return that type."}],"tags":[],"owner":{"account_id":31622,"reputation":120351,"user_id":86989,"display_name":"newacct"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454060877,"creation_date":1453957898,"answer_id":35053314,"question_id":35013179,"body_markdown":"Each abstract class would be parameterized with two type parameters, one for the actual concrete class of A, and one for the actual concrete class of B:\r\n\r\n    public abstract class AbstractA&lt;A extends AbstractA&lt;A,B&gt;, B extends AbstractB&lt;A,B&gt;&gt; {\r\n    \r\n        protected void foo() {\r\n            B aB = createB();\r\n            aB.setA(getThis());\r\n        }\r\n    \r\n        abstract public A getThis();\r\n        abstract public B createB();\r\n    \r\n    }\r\n    \r\n    public abstract class AbstractB&lt;A extends AbstractA&lt;A,B&gt;, B extends AbstractB&lt;A,B&gt;&gt; {\r\n    \r\n        private A theA;\r\n    \r\n        public void setA(A theA) {\r\n            this.theA = theA;\r\n        }\r\n    \r\n        protected A getA() {\r\n            return theA;\r\n        }\r\n    \r\n    }\r\n    \r\n    public class ConcreteA extends AbstractA&lt;ConcreteA, ConcreteB&gt; {\r\n    \r\n        @Override\r\n        public ConcreteA getThis() {\r\n            return this;\r\n        }\r\n    \r\n        @Override\r\n        public ConcreteB createB() {\r\n            return new ConcreteB();\r\n        }\r\n    \r\n        public void concreteAMethod() {\r\n            // ...\r\n        }\r\n    \r\n    }\r\n    \r\n    public class ConcreteB extends AbstractB&lt;ConcreteA, ConcreteB&gt; {\r\n    \r\n        public void bar() {\r\n            ConcreteA a = getA();\r\n            a.concreteAMethod();\r\n        }\r\n    \r\n    }","title":"Java cooperating generic classes: can we avoid unchecked cast?","body":"<p>Each abstract class would be parameterized with two type parameters, one for the actual concrete class of A, and one for the actual concrete class of B:</p>\n\n<pre><code>public abstract class AbstractA&lt;A extends AbstractA&lt;A,B&gt;, B extends AbstractB&lt;A,B&gt;&gt; {\n\n    protected void foo() {\n        B aB = createB();\n        aB.setA(getThis());\n    }\n\n    abstract public A getThis();\n    abstract public B createB();\n\n}\n\npublic abstract class AbstractB&lt;A extends AbstractA&lt;A,B&gt;, B extends AbstractB&lt;A,B&gt;&gt; {\n\n    private A theA;\n\n    public void setA(A theA) {\n        this.theA = theA;\n    }\n\n    protected A getA() {\n        return theA;\n    }\n\n}\n\npublic class ConcreteA extends AbstractA&lt;ConcreteA, ConcreteB&gt; {\n\n    @Override\n    public ConcreteA getThis() {\n        return this;\n    }\n\n    @Override\n    public ConcreteB createB() {\n        return new ConcreteB();\n    }\n\n    public void concreteAMethod() {\n        // ...\n    }\n\n}\n\npublic class ConcreteB extends AbstractB&lt;ConcreteA, ConcreteB&gt; {\n\n    public void bar() {\n        ConcreteA a = getA();\n        a.concreteAMethod();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454586476,"creation_date":1454583607,"answer_id":35199270,"question_id":35013179,"body_markdown":"A factory can solve it:\r\n\r\n    public abstract class AbstractA {\r\n    \r\n    \tpublic void abstractAMethod() {\r\n    \t\t// ...\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public abstract class AbstractB&lt;A&gt; {\r\n    \r\n        private A theA;\r\n    \r\n        public void setA(A theA) {\r\n            this.theA = theA;\r\n        }\r\n    \r\n        protected A getA() {\r\n            return theA;\r\n        }\r\n    \r\n    }\r\n    \r\n    public abstract class AbstractFactory&lt;A extends AbstractA, B extends AbstractB&lt;A&gt;&gt; {\r\n    \t\r\n    \tprivate A theA = createA();\r\n    \r\n    \tpublic A getA() {\r\n    \t\treturn theA ;\r\n    \t}\r\n    \t\r\n    \tpublic B getNextB() {\r\n    \t\tB newB = createB();\r\n    \t\tnewB.setA(theA);\r\n    \t\treturn newB;\r\n    \t}\r\n    \t\r\n    \tprotected abstract A createA();\r\n    \tprotected abstract B createB();\r\n    }\r\n\r\nNow the user can go:\r\n\r\n    public class ConcreteA extends AbstractA {\r\n    \t\r\n    \tpublic void concreteAMethod() {\r\n    \t\t// ...\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class ConcreteB extends AbstractB&lt;ConcreteA&gt; {\r\n    \r\n    \tpublic void bar() {\r\n    \t\tConcreteA a = getA();\r\n    \t\ta.abstractAMethod();\r\n    \t\ta.concreteAMethod();\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class ConcreteFactory extends AbstractFactory&lt;ConcreteA, ConcreteB&gt; {\r\n    \r\n    \t@Override\r\n    \tprotected ConcreteA createA() {\r\n    \t\treturn new ConcreteA();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected ConcreteB createB() {\r\n    \t\treturn new ConcreteB();\r\n    \t}\r\n    \r\n    }\r\n\r\nI don’t think it’s a typical application of the abstract factory pattern, though …\r\n\r\n@Chris Wohlert, I did give up in my production code since I considered the factory overkill, but I could not let go of the theoretical question.","title":"Java cooperating generic classes: can we avoid unchecked cast?","body":"<p>A factory can solve it:</p>\n\n<pre><code>public abstract class AbstractA {\n\n    public void abstractAMethod() {\n        // ...\n    }\n\n}\n\npublic abstract class AbstractB&lt;A&gt; {\n\n    private A theA;\n\n    public void setA(A theA) {\n        this.theA = theA;\n    }\n\n    protected A getA() {\n        return theA;\n    }\n\n}\n\npublic abstract class AbstractFactory&lt;A extends AbstractA, B extends AbstractB&lt;A&gt;&gt; {\n\n    private A theA = createA();\n\n    public A getA() {\n        return theA ;\n    }\n\n    public B getNextB() {\n        B newB = createB();\n        newB.setA(theA);\n        return newB;\n    }\n\n    protected abstract A createA();\n    protected abstract B createB();\n}\n</code></pre>\n\n<p>Now the user can go:</p>\n\n<pre><code>public class ConcreteA extends AbstractA {\n\n    public void concreteAMethod() {\n        // ...\n    }\n\n}\n\npublic class ConcreteB extends AbstractB&lt;ConcreteA&gt; {\n\n    public void bar() {\n        ConcreteA a = getA();\n        a.abstractAMethod();\n        a.concreteAMethod();\n    }\n\n}\n\npublic class ConcreteFactory extends AbstractFactory&lt;ConcreteA, ConcreteB&gt; {\n\n    @Override\n    protected ConcreteA createA() {\n        return new ConcreteA();\n    }\n\n    @Override\n    protected ConcreteB createB() {\n        return new ConcreteB();\n    }\n\n}\n</code></pre>\n\n<p>I don’t think it’s a typical application of the abstract factory pattern, though …</p>\n\n<p>@Chris Wohlert, I did give up in my production code since I considered the factory overkill, but I could not let go of the theoretical question.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1456223706,"creation_date":1456223706,"answer_id":35575089,"question_id":35013179,"body_markdown":"I have come to realize that my problem really came out of stuffing two concepts into the AbstractA/ConcreteA hierarchy that didn’t belong together. Though maybe not interesting to very many, I am posting this insight for two reasons: (1) I feel I owe Chris Wohlert the answer I have found myself (2) more importantly, I’d love to inspire anyone else facing a similar tricky generics issue to review your design from a higher level than just solving the generics and/or class cast issue. It certainly helped me. The cast/generics problem was a sign that something more fundamental was not quite right.\r\n\r\n    public abstract class AbstractA {\r\n    \t\r\n    \tpublic void foo() {\r\n    \t\tAbstractB aB = createB();\r\n            aB.setA(this);\r\n    \t}\r\n    \r\n        /** factory method */\r\n        abstract public AbstractB createB();\r\n    \r\n    }\r\n    \r\n    public abstract class AbstractB {\r\n    \r\n        private AbstractA theA;\r\n    \r\n        public void setA(AbstractA theA) {\r\n            this.theA = theA;\r\n        }\r\n    \r\n        // methods that use theA\r\n        \r\n    }\r\n\r\nNo generics and no class cast. Taking out the stuff that didn’t belong in the A class hierarchy into ConcreteC (with no AbstractC):\r\n\r\n    public class Client {\r\n    \r\n    \tpublic void putTheActTogether() {\r\n    \t\tConcreteC theC = new ConcreteC();\r\n    \t\t\r\n    \t\t// the concrete A\r\n    \t\tAbstractA theA = new AbstractA() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic AbstractB createB() {\r\n    \t\t\t\treturn new ConcreteB(theC);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t// call methods in theA\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class ConcreteB extends AbstractB {\r\n    \r\n    \tprivate final ConcreteC c;\r\n    \t\r\n    \tpublic ConcreteB(ConcreteC c) {\r\n    \t\tsuper();\r\n    \t\tthis.c = c;\r\n    \t}\r\n    \r\n    \tpublic void bar() {\r\n    \t\tc.concreteCMethod();\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class ConcreteC {\r\n    \r\n    \tpublic void concreteCMethod() { // was concreteAMethod(); moved and renamed\r\n    \t\t// ...\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThe client needs a few more lines than before. In my real-world code I needed to duplicate one final field in AbstractA and ConcreteC, but it made sense to do. All in all I consider it a low price for a design that is otherwise pure and simple.","title":"Java cooperating generic classes: can we avoid unchecked cast?","body":"<p>I have come to realize that my problem really came out of stuffing two concepts into the AbstractA/ConcreteA hierarchy that didn’t belong together. Though maybe not interesting to very many, I am posting this insight for two reasons: (1) I feel I owe Chris Wohlert the answer I have found myself (2) more importantly, I’d love to inspire anyone else facing a similar tricky generics issue to review your design from a higher level than just solving the generics and/or class cast issue. It certainly helped me. The cast/generics problem was a sign that something more fundamental was not quite right.</p>\n\n<pre><code>public abstract class AbstractA {\n\n    public void foo() {\n        AbstractB aB = createB();\n        aB.setA(this);\n    }\n\n    /** factory method */\n    abstract public AbstractB createB();\n\n}\n\npublic abstract class AbstractB {\n\n    private AbstractA theA;\n\n    public void setA(AbstractA theA) {\n        this.theA = theA;\n    }\n\n    // methods that use theA\n\n}\n</code></pre>\n\n<p>No generics and no class cast. Taking out the stuff that didn’t belong in the A class hierarchy into ConcreteC (with no AbstractC):</p>\n\n<pre><code>public class Client {\n\n    public void putTheActTogether() {\n        ConcreteC theC = new ConcreteC();\n\n        // the concrete A\n        AbstractA theA = new AbstractA() {\n            @Override\n            public AbstractB createB() {\n                return new ConcreteB(theC);\n            }\n        };\n        // call methods in theA\n    }\n\n}\n\npublic class ConcreteB extends AbstractB {\n\n    private final ConcreteC c;\n\n    public ConcreteB(ConcreteC c) {\n        super();\n        this.c = c;\n    }\n\n    public void bar() {\n        c.concreteCMethod();\n    }\n\n}\n\npublic class ConcreteC {\n\n    public void concreteCMethod() { // was concreteAMethod(); moved and renamed\n        // ...\n    }\n\n}\n</code></pre>\n\n<p>The client needs a few more lines than before. In my real-world code I needed to duplicate one final field in AbstractA and ConcreteC, but it made sense to do. All in all I consider it a low price for a design that is otherwise pure and simple.</p>\n"}],"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":8,"up_vote_count":5,"accepted_answer_id":35575089,"answer_count":5,"score":-3,"last_activity_date":1687001616,"creation_date":1453808905,"question_id":35013179,"body_markdown":"I have two abstract generic classes. They cooperate and hence depend on each other. Occasionally one needs to pass `this` to the other. I am trying to find a type safe way to do that.\r\n\r\n    public abstract class AbstractA&lt;T extends AbstractB&lt;? extends AbstractA&lt;T&gt;&gt;&gt; {\r\n    \r\n    \tprotected void foo() {\r\n    \t\tT aB = createB();\r\n    \t\taB.setA(this);\r\n    \t}\r\n    \r\n    \t/** factory method */\r\n    \tabstract public T createB();\r\n    \t\r\n    }\r\n    \r\n    public abstract class AbstractB&lt;T extends AbstractA&lt;? extends AbstractB&lt;T&gt;&gt;&gt; {\r\n    \r\n    \tprivate T theA;\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic void setA(AbstractA&lt;? extends AbstractB&lt;?&gt;&gt; theA) { // dreamed of parameter list (T theA)\r\n    \t\t// Unchecked cast from AbstractA&lt;capture#1-of ? extends AbstractB&lt;?&gt;&gt; to T\r\n    \t\tthis.theA = (T) theA;\r\n    \t}\r\n    \t\r\n    \tprotected T getA() {\r\n    \t\treturn theA;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nMy question is whether I can find a cleaner way so I avoid the unchecked cast in `AbstractB.setA()`. I had hoped to declare it `setA(T theA)`, but then the call to it won’t compile: The method setA(capture#1-of ? extends AbstractA&amp;lt;T&amp;gt;) in the type AbstractB&amp;lt;capture#1-of ? extends AbstractA&amp;lt;T&amp;gt;&amp;gt; is not applicable for the arguments (AbstractA&amp;lt;T&amp;gt;). I am still struggling to understand whether the compiler should know enough to allow it or not.\r\n\r\nI was thinking my problem may be related to the one discussed in https://stackoverflow.com/questions/8021900/java-generics-compilation-error-the-method-methodclasscapture1-of-extends. My unchecked cast was inspired from there. I liked the reply by Tom Hawtin - tackling, but I have not found a way to apply it to my situation.\r\n\r\nMy user will declare concrete subclasses and instantiate one `ConcreteA` and any number of `ConcreteB`s:\r\n\r\n    public class ConcreteA extends AbstractA&lt;ConcreteB&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic ConcreteB createB() {\r\n    \t\treturn new ConcreteB();\r\n    \t}\r\n    \t\r\n    \tpublic void concreteAMethod() {\r\n    \t\t// ...\r\n    \t}\r\n    \t\r\n    }\r\n    \r\n    public class ConcreteB extends AbstractB&lt;ConcreteA&gt; {\r\n    \r\n    \tpublic void bar() {\r\n    \t\tConcreteA a = getA();\r\n    \t\ta.concreteAMethod();\r\n    \t}\r\n    \t\r\n    }\r\n\r\n(`class AbstractA&lt;T extends AbstractB&lt;? extends AbstractA&lt;T&gt;&gt;&gt;` looks a bit complicated; I thought I needed it for concrete subclasses to know each other’s exact types, but apparently it doesn’t give me that.)","title":"Java cooperating generic classes: can we avoid unchecked cast?","body":"<p>I have two abstract generic classes. They cooperate and hence depend on each other. Occasionally one needs to pass <code>this</code> to the other. I am trying to find a type safe way to do that.</p>\n<pre><code>public abstract class AbstractA&lt;T extends AbstractB&lt;? extends AbstractA&lt;T&gt;&gt;&gt; {\n\n    protected void foo() {\n        T aB = createB();\n        aB.setA(this);\n    }\n\n    /** factory method */\n    abstract public T createB();\n    \n}\n\npublic abstract class AbstractB&lt;T extends AbstractA&lt;? extends AbstractB&lt;T&gt;&gt;&gt; {\n\n    private T theA;\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    public void setA(AbstractA&lt;? extends AbstractB&lt;?&gt;&gt; theA) { // dreamed of parameter list (T theA)\n        // Unchecked cast from AbstractA&lt;capture#1-of ? extends AbstractB&lt;?&gt;&gt; to T\n        this.theA = (T) theA;\n    }\n    \n    protected T getA() {\n        return theA;\n    }\n    \n}\n</code></pre>\n<p>My question is whether I can find a cleaner way so I avoid the unchecked cast in <code>AbstractB.setA()</code>. I had hoped to declare it <code>setA(T theA)</code>, but then the call to it won’t compile: The method setA(capture#1-of ? extends AbstractA&lt;T&gt;) in the type AbstractB&lt;capture#1-of ? extends AbstractA&lt;T&gt;&gt; is not applicable for the arguments (AbstractA&lt;T&gt;). I am still struggling to understand whether the compiler should know enough to allow it or not.</p>\n<p>I was thinking my problem may be related to the one discussed in <a href=\"https://stackoverflow.com/questions/8021900/java-generics-compilation-error-the-method-methodclasscapture1-of-extends\">Java generics compilation error - The method method(Class&lt;capture#1-of ? extends Interface&gt;) in the type &lt;type&gt; is not applicable for the arguments</a>. My unchecked cast was inspired from there. I liked the reply by Tom Hawtin - tackling, but I have not found a way to apply it to my situation.</p>\n<p>My user will declare concrete subclasses and instantiate one <code>ConcreteA</code> and any number of <code>ConcreteB</code>s:</p>\n<pre><code>public class ConcreteA extends AbstractA&lt;ConcreteB&gt; {\n\n    @Override\n    public ConcreteB createB() {\n        return new ConcreteB();\n    }\n    \n    public void concreteAMethod() {\n        // ...\n    }\n    \n}\n\npublic class ConcreteB extends AbstractB&lt;ConcreteA&gt; {\n\n    public void bar() {\n        ConcreteA a = getA();\n        a.concreteAMethod();\n    }\n    \n}\n</code></pre>\n<p>(<code>class AbstractA&lt;T extends AbstractB&lt;? extends AbstractA&lt;T&gt;&gt;&gt;</code> looks a bit complicated; I thought I needed it for concrete subclasses to know each other’s exact types, but apparently it doesn’t give me that.)</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1686943905,"post_id":76492035,"comment_id":134873314,"body_markdown":"Just curious, what is a `persist()` in `....foreachPartition(persist())`?","body":"Just curious, what is a <code>persist()</code> in <code>....foreachPartition(persist())</code>?"},{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1686962937,"post_id":76492035,"comment_id":134875320,"body_markdown":"It just does write to hdfs. For some reason, we have to write in a single file.","body":"It just does write to hdfs. For some reason, we have to write in a single file."},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1686969634,"post_id":76492035,"comment_id":134875658,"body_markdown":"Would `persist(dataSet.cache().toLocalIterator())` serve the need better then? https://spark.apache.org/docs/3.3.0/api/java/org/apache/spark/rdd/RDD.html#toLocalIterator--","body":"Would <code>persist(dataSet.cache().toLocalIterator())</code> serve the need better then? <a href=\"https://spark.apache.org/docs/3.3.0/api/java/org/apache/spark/rdd/RDD.html#toLocalIterator--\" rel=\"nofollow noreferrer\">spark.apache.org/docs/3.3.0/api/java/org/apache/spark/rdd/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4784084,"reputation":940,"user_id":3865083,"display_name":"parisni"},"score":0,"creation_date":1687000503,"post_id":76492799,"comment_id":134877861,"body_markdown":"Interesting concept of stage barrier","body":"Interesting concept of stage barrier"},{"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1687353741,"post_id":76492799,"comment_id":134924858,"body_markdown":"you can also link to this answer https://stackoverflow.com/questions/69148991/difference-between-repartition1-and-coalesce1","body":"you can also link to this answer <a href=\"https://stackoverflow.com/questions/69148991/difference-between-repartition1-and-coalesce1\" title=\"difference between repartition1 and coalesce1\">stackoverflow.com/questions/69148991/&hellip;</a>"}],"tags":[],"owner":{"account_id":21002866,"reputation":442,"user_id":15433308,"display_name":"krezno"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1687000983,"creation_date":1686940318,"answer_id":76492799,"question_id":76492035,"body_markdown":"You need to create what is called a stage barrier, something that will force spark not to push the coalesce and the join into the same stage.\r\n\r\nIf you can manage holding the whole result on a single partition, the join result probably isn&#39;t too large. Consider replacing `coalesce` with `repartition`, which will do a full shuffle but also create a stage barrier and perform the join in parallel. This was fast enough for my use cases but might not be best practice as `repartition` is an expensive operation.\r\n\r\nIt might be faster to call `df.localCheckpoint` which writes intermediate results to disk (but unlike `cache` creates a stage barrier) then `coalesce` but I haven&#39;t personally tried it.\r\n\r\nMore elaboration [here](https://youtu.be/daXEp4HmS-E?t=1785)\r\n\r\n","title":"Spark force a distributed join","body":"<p>You need to create what is called a stage barrier, something that will force spark not to push the coalesce and the join into the same stage.</p>\n<p>If you can manage holding the whole result on a single partition, the join result probably isn't too large. Consider replacing <code>coalesce</code> with <code>repartition</code>, which will do a full shuffle but also create a stage barrier and perform the join in parallel. This was fast enough for my use cases but might not be best practice as <code>repartition</code> is an expensive operation.</p>\n<p>It might be faster to call <code>df.localCheckpoint</code> which writes intermediate results to disk (but unlike <code>cache</code> creates a stage barrier) then <code>coalesce</code> but I haven't personally tried it.</p>\n<p>More elaboration <a href=\"https://youtu.be/daXEp4HmS-E?t=1785\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":4821703,"reputation":5944,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76492799,"answer_count":1,"score":0,"last_activity_date":1687000983,"creation_date":1686932700,"question_id":76492035,"body_markdown":"i have a spark sql job where i am doing\r\n\r\n```\r\nDataset&lt;Row&gt; currentDataSet = hdfsHandler.loadDataSet(sparkSession, &quot;somelocation&quot;);\r\ncurrentDataSet.createOrReplaceTempView(CURRENT_USER_VIEW);\r\n\r\nDataset&lt;Row&gt; previousDataSet = hdfsHandler.loadDataSet(sparkSession, &quot;somelocation2);\r\npreviousDataSet.createOrReplaceTempView(PREVIOUS_USER_VIEW);\r\n\r\nString currentRunColumn = &quot;c.&quot;.concat(&quot;userid&quot;);\r\nString previousRunColumn = &quot;p.&quot;.concat(&quot;userid&quot;);\r\n\r\nDataset&lt;Row&gt; addedRecordDataSets = sparkSession.sql(&quot;SELECT &quot; + currentRunColumn + &quot; FROM &quot; +\r\n        CURRENT_USER_VIEW + &quot; AS c &quot; +\r\n        &quot; LEFT JOIN &quot; + PREVIOUS_USER_VIEW + &quot; AS p &quot; +\r\n        &quot; ON &quot; + currentRunColumn + &quot; == &quot; + previousRunColumn +\r\n        &quot; WHERE &quot; + previousRunColumn + &quot; IS NULL &quot;);\r\n\r\ndataSet.coalesce(1).persist(StorageLevel.DISK_ONLY()).foreachPartition(persist());\r\n```\r\n\r\nfor this job 3 jobs are created\r\n\r\n1. read from hdfs currentDataSet\r\n2. read from hdfs previousDataSet\r\n3. join two dataset, coalesce, call persist().\r\n\r\nthe 3rd step is executed only on 1 executor because foreachPartition(persist()) is the only terminal operation. If the datasets are huge it will take lots of time. is there a way i can do a distributed join and then only coalesce it? \r\n\r\none way i can think of is by adding one more terminal operator like count after computing addedRecordDataSets, but just that will not solve the issue i will have to cache as well so that we are not having to rejoin  the data. But caching is a costly operation. Is it possible to to just force materialise the dataset?\r\n\r\nthis questions seems to be relevant to [this][1] SO\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36106593/how-to-materialize-an-rdd-explicitly-in-spark","title":"Spark force a distributed join","body":"<p>i have a spark sql job where i am doing</p>\n<pre><code>Dataset&lt;Row&gt; currentDataSet = hdfsHandler.loadDataSet(sparkSession, &quot;somelocation&quot;);\ncurrentDataSet.createOrReplaceTempView(CURRENT_USER_VIEW);\n\nDataset&lt;Row&gt; previousDataSet = hdfsHandler.loadDataSet(sparkSession, &quot;somelocation2);\npreviousDataSet.createOrReplaceTempView(PREVIOUS_USER_VIEW);\n\nString currentRunColumn = &quot;c.&quot;.concat(&quot;userid&quot;);\nString previousRunColumn = &quot;p.&quot;.concat(&quot;userid&quot;);\n\nDataset&lt;Row&gt; addedRecordDataSets = sparkSession.sql(&quot;SELECT &quot; + currentRunColumn + &quot; FROM &quot; +\n        CURRENT_USER_VIEW + &quot; AS c &quot; +\n        &quot; LEFT JOIN &quot; + PREVIOUS_USER_VIEW + &quot; AS p &quot; +\n        &quot; ON &quot; + currentRunColumn + &quot; == &quot; + previousRunColumn +\n        &quot; WHERE &quot; + previousRunColumn + &quot; IS NULL &quot;);\n\ndataSet.coalesce(1).persist(StorageLevel.DISK_ONLY()).foreachPartition(persist());\n</code></pre>\n<p>for this job 3 jobs are created</p>\n<ol>\n<li>read from hdfs currentDataSet</li>\n<li>read from hdfs previousDataSet</li>\n<li>join two dataset, coalesce, call persist().</li>\n</ol>\n<p>the 3rd step is executed only on 1 executor because foreachPartition(persist()) is the only terminal operation. If the datasets are huge it will take lots of time. is there a way i can do a distributed join and then only coalesce it?</p>\n<p>one way i can think of is by adding one more terminal operator like count after computing addedRecordDataSets, but just that will not solve the issue i will have to cache as well so that we are not having to rejoin  the data. But caching is a costly operation. Is it possible to to just force materialise the dataset?</p>\n<p>this questions seems to be relevant to <a href=\"https://stackoverflow.com/questions/36106593/how-to-materialize-an-rdd-explicitly-in-spark\">this</a> SO</p>\n"},{"tags":["java","java-9","java-module"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687268701,"post_id":76495914,"comment_id":134910813,"body_markdown":"Do you understand the *actual purpose* of the `--upgrade-module-path` option?","body":"Do you understand the <i>actual purpose</i> of the <code>--upgrade-module-path</code> option?"},{"owner":{"account_id":18337316,"reputation":11,"user_id":13354429,"display_name":"fade"},"score":0,"creation_date":1687312445,"post_id":76495914,"comment_id":134917747,"body_markdown":"@Holger It is used to specify the location of updated or upgraded modules when running a modular Java application. I tried to use `--module-path`, but I need to specify all the modules, which I haven&#39;t encountered when I didn&#39;t use unnamed modules. Perhaps, I may have some confusion regarding the usage of modules. Could you please suggest some better advice on how to use them effectively?","body":"@Holger It is used to specify the location of updated or upgraded modules when running a modular Java application. I tried to use <code>--module-path</code>, but I need to specify all the modules, which I haven&#39;t encountered when I didn&#39;t use unnamed modules. Perhaps, I may have some confusion regarding the usage of modules. Could you please suggest some better advice on how to use them effectively?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1687330999,"post_id":76495914,"comment_id":134919802,"body_markdown":"You can specify directories *containing* the modules in `--module-path`, rather than each module. But, of course, it requires a suitable directory structure to be an advantage. There is no way to use modules without specifying the path to the modules. Apparently, you’re running in an environment which generates the startup options for you, so the fact that your module’s path is missing, is a configuration problem of that environment. The purpose of `--upgrade-module-path` is to specify a path to upgraded versions *of the JDK modules*. It’s not for fixing problems with the ordinary module path.","body":"You can specify directories <i>containing</i> the modules in <code>--module-path</code>, rather than each module. But, of course, it requires a suitable directory structure to be an advantage. There is no way to use modules without specifying the path to the modules. Apparently, you’re running in an environment which generates the startup options for you, so the fact that your module’s path is missing, is a configuration problem of that environment. The purpose of <code>--upgrade-module-path</code> is to specify a path to upgraded versions <i>of the JDK modules</i>. It’s not for fixing problems with the ordinary module path."}],"owner":{"account_id":18337316,"reputation":11,"user_id":13354429,"display_name":"fade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1687000143,"creation_date":1687000100,"question_id":76495914,"body_markdown":"I am new to using `Java 9` modules.\r\n\r\nI am aware that there are different types of `Java 9` modules such as `Automatic modules` and `Unnamed modules`.\r\n\r\nI am curious why I am able to use third-party dependencies such as `google-guava` as `Automatic modules` directly in a module, but when I use a library that I have written which does not have a `module-info.java` file, I need to add `jvm` options like `--upgrade-module-path`. Are there any solutions available that would eliminate the need to add `jvm` options? \r\n\r\nHere is a link to my demo: https://github.com/FadeDemo/java-module-demo/blob/main/module-consumer-new/src/main/java/org/fade/demo/module/consumer/niu/Test.java\r\n","title":"Are there any solutions available that would eliminate the need to add `jvm` options when using Java 9 modules?","body":"<p>I am new to using <code>Java 9</code> modules.</p>\n<p>I am aware that there are different types of <code>Java 9</code> modules such as <code>Automatic modules</code> and <code>Unnamed modules</code>.</p>\n<p>I am curious why I am able to use third-party dependencies such as <code>google-guava</code> as <code>Automatic modules</code> directly in a module, but when I use a library that I have written which does not have a <code>module-info.java</code> file, I need to add <code>jvm</code> options like <code>--upgrade-module-path</code>. Are there any solutions available that would eliminate the need to add <code>jvm</code> options?</p>\n<p>Here is a link to my demo: <a href=\"https://github.com/FadeDemo/java-module-demo/blob/main/module-consumer-new/src/main/java/org/fade/demo/module/consumer/niu/Test.java\" rel=\"nofollow noreferrer\">https://github.com/FadeDemo/java-module-demo/blob/main/module-consumer-new/src/main/java/org/fade/demo/module/consumer/niu/Test.java</a></p>\n"},{"tags":["java","parsing","datetime"],"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1443444448,"post_id":32823368,"comment_id":53482145,"body_markdown":"why are you waiting for an exception?","body":"why are you waiting for an exception?"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":4,"creation_date":1443444596,"post_id":32823368,"comment_id":53482254,"body_markdown":"@AndrewTobilko, presumably because 31 Feb. doesn&#39;t exist.","body":"@AndrewTobilko, presumably because 31 Feb. doesn&#39;t exist."},{"owner":{"account_id":5995725,"reputation":4137,"user_id":4710425,"accept_rate":59,"display_name":"SatyaTNV"},"score":0,"creation_date":1443444719,"post_id":32823368,"comment_id":53482338,"body_markdown":"But formatter does not know about that.","body":"But formatter does not know about that."},{"owner":{"account_id":393799,"reputation":6228,"user_id":755851,"display_name":"Foon"},"score":0,"creation_date":1443444736,"post_id":32823368,"comment_id":53482350,"body_markdown":"Out of curiosity, does 02/29/2015 (which also doesn&#39;t exist) behave as expected?","body":"Out of curiosity, does 02/29/2015 (which also doesn&#39;t exist) behave as expected?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":4,"creation_date":1443444973,"post_id":32823368,"comment_id":53482526,"body_markdown":"@Satya: What makes you think that? Something clearly knows that date doesn&#39;t exist, as it&#39;s converting it to the 28th...","body":"@Satya: What makes you think that? Something clearly knows that date doesn&#39;t exist, as it&#39;s converting it to the 28th..."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1443450545,"post_id":32823368,"comment_id":53486534,"body_markdown":"@JonSkeet My apologies for misleading you earlier, the problem was not the missing milliseconds. It was in fact the missing Era. It still requires a `DateTimeFormatterBuilder` but with a default for the Era, not for milliseconds. If you want to edit &amp; undelete your answer, feel free.","body":"@JonSkeet My apologies for misleading you earlier, the problem was not the missing milliseconds. It was in fact the missing Era. It still requires a <code>DateTimeFormatterBuilder</code> but with a default for the Era, not for milliseconds. If you want to edit &amp; undelete your answer, feel free."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1443451929,"post_id":32823368,"comment_id":53487422,"body_markdown":"@RealSkeptic: Thanks, will do. Still &quot;urgh&quot;.","body":"@RealSkeptic: Thanks, will do. Still &quot;urgh&quot;."}],"answers":[{"comments":[{"owner":{"account_id":5504458,"reputation":791,"user_id":4374481,"display_name":"Palamino"},"score":6,"creation_date":1443453867,"post_id":32823520,"comment_id":53488727,"body_markdown":"Change the yyyy to uuuu in format string then there is no need to mess with ERA","body":"Change the yyyy to uuuu in format string then there is no need to mess with ERA"}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":1,"down_vote_count":0,"up_vote_count":50,"is_accepted":true,"score":50,"last_activity_date":1443453986,"creation_date":1443444821,"answer_id":32823520,"question_id":32823368,"body_markdown":"You just need a strict [`ResolverStyle`][1].\r\n\r\n&gt; Parsing a text string occurs in two phases. Phase 1 is a basic text parse according to the fields added to the builder. Phase 2 resolves the parsed field-value pairs into date and/or time objects. This style is used to control how phase 2, resolving, happens.\r\n\r\nSample code - where `withResolverStyle(ResolverStyle.STRICT)` is the important change, along with the use of `uuuu` rather than `yyyy` (where `uuuu` is &quot;year&quot; and &quot;yyyy&quot; is &quot;year of era&quot;, and therefore ambiguous):\r\n\r\n    import java.time.*;\r\n    import java.time.format.*;\r\n    import java.util.*;\r\n    \r\n    public class Test {\r\n    \r\n        public static void main(String[] args) {\r\n            String dateFormat = &quot;HH:mm:ss MM/dd/uuuu&quot;;\r\n            String dateString = &quot;11:30:59 02/31/2015&quot;;\r\n            DateTimeFormatter dateTimeFormatter = DateTimeFormatter\r\n                .ofPattern(dateFormat, Locale.US)\r\n                .withResolverStyle(ResolverStyle.STRICT);\r\n            try {\r\n                LocalDateTime date = LocalDateTime.parse(dateString, dateTimeFormatter);\r\n                System.out.println(date);\r\n            } catch (DateTimeParseException e) {\r\n                // Throw invalid date message\r\n                System.out.println(&quot;Exception was thrown&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html","title":"Java 8 LocalDateTime is parsing invalid datetime","body":"<p>You just need a strict <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/ResolverStyle.html\"><code>ResolverStyle</code></a>.</p>\n\n<blockquote>\n  <p>Parsing a text string occurs in two phases. Phase 1 is a basic text parse according to the fields added to the builder. Phase 2 resolves the parsed field-value pairs into date and/or time objects. This style is used to control how phase 2, resolving, happens.</p>\n</blockquote>\n\n<p>Sample code - where <code>withResolverStyle(ResolverStyle.STRICT)</code> is the important change, along with the use of <code>uuuu</code> rather than <code>yyyy</code> (where <code>uuuu</code> is \"year\" and \"yyyy\" is \"year of era\", and therefore ambiguous):</p>\n\n<pre><code>import java.time.*;\nimport java.time.format.*;\nimport java.util.*;\n\npublic class Test {\n\n    public static void main(String[] args) {\n        String dateFormat = \"HH:mm:ss MM/dd/uuuu\";\n        String dateString = \"11:30:59 02/31/2015\";\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter\n            .ofPattern(dateFormat, Locale.US)\n            .withResolverStyle(ResolverStyle.STRICT);\n        try {\n            LocalDateTime date = LocalDateTime.parse(dateString, dateTimeFormatter);\n            System.out.println(date);\n        } catch (DateTimeParseException e) {\n            // Throw invalid date message\n            System.out.println(\"Exception was thrown\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3018719,"reputation":416,"user_id":2560234,"accept_rate":50,"display_name":"jste89"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443450622,"creation_date":1443445182,"answer_id":32823626,"question_id":32823368,"body_markdown":"LocalDateTime.parse will only throw an error if the String passed in contains invalid characters, a number of days exceeding 31 or a month exceeding 12.\r\n\r\nFor example, if you modified your code as such:\r\n\r\n    String dateString = &quot;11:30:59 0zz2/31/2015&quot;;\r\n\r\nan exception would be thrown caused by the invalid &#39;zz&#39; characters within your given date. As to why it&#39;s &#39;rounding-down&#39; the date so to speak, that I don&#39;t know.\r\n\r\nSource: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#parse-java.lang.CharSequence-","title":"Java 8 LocalDateTime is parsing invalid datetime","body":"<p>LocalDateTime.parse will only throw an error if the String passed in contains invalid characters, a number of days exceeding 31 or a month exceeding 12.</p>\n\n<p>For example, if you modified your code as such:</p>\n\n<pre><code>String dateString = \"11:30:59 0zz2/31/2015\";\n</code></pre>\n\n<p>an exception would be thrown caused by the invalid 'zz' characters within your given date. As to why it's 'rounding-down' the date so to speak, that I don't know.</p>\n\n<p>Source: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#parse-java.lang.CharSequence-\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#parse-java.lang.CharSequence-</a></p>\n"},{"comments":[{"owner":{"account_id":2315704,"reputation":11993,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"score":2,"creation_date":1443446652,"post_id":32823908,"comment_id":53483716,"body_markdown":"`SimpleDateFormat` doesn&#39;t work with Java 8 `LocalDateTime`. I am looking for a solution with Java8 LocalDateTime","body":"<code>SimpleDateFormat</code> doesn&#39;t work with Java 8 <code>LocalDateTime</code>. I am looking for a solution with Java8 LocalDateTime"}],"tags":[],"owner":{"account_id":5995725,"reputation":4137,"user_id":4710425,"accept_rate":59,"display_name":"SatyaTNV"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443453594,"creation_date":1443445951,"answer_id":32823908,"question_id":32823368,"body_markdown":"    try {\r\n        SimpleDateFormat df = new java.text.SimpleDateFormat(&quot;HH:mm:ss MM/dd/yyyy&quot;);\r\n        df.setLenient(false);\r\n        System.out.println(df.parse(&quot;11:30:59 02/29/2015&quot;));\r\n    } catch (java.text.ParseException e) {\r\n      System.out.println(e);\r\n    }\r\n\r\nI found one solution to recognize date as a valid date with [DateFormat.setLenient(boolean)][1]. If you try to parse any invalid date it will throws parse exception.\r\n\r\n**Edit:**\r\n\r\n`Java 8`, but this will raise exception if a month is not between `1` and `12`, if a day is more than `32`. Exactly not working. But for month its working.\r\n\r\n    try {\r\n    TemporalAccessor ta = DateTimeFormatter.ofPattern(&quot;HH:mm:ss MM/dd/yyyy&quot;).parse(&quot;11:30:59 02/32/2015&quot;);\r\n    } catch (Exception e) {\r\n    System.out.println(e);\r\n    }\r\n\r\n**Output:**\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;11:30:59 02/32/2015&#39; could not be\r\n     parsed: Invalid value for DayOfMonth (valid values 1 - 28/31): 32\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/DateFormat.html#setLenient(boolean)","title":"Java 8 LocalDateTime is parsing invalid datetime","body":"<pre><code>try {\n    SimpleDateFormat df = new java.text.SimpleDateFormat(\"HH:mm:ss MM/dd/yyyy\");\n    df.setLenient(false);\n    System.out.println(df.parse(\"11:30:59 02/29/2015\"));\n} catch (java.text.ParseException e) {\n  System.out.println(e);\n}\n</code></pre>\n\n<p>I found one solution to recognize date as a valid date with <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/DateFormat.html#setLenient(boolean)\" rel=\"nofollow\">DateFormat.setLenient(boolean)</a>. If you try to parse any invalid date it will throws parse exception.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p><code>Java 8</code>, but this will raise exception if a month is not between <code>1</code> and <code>12</code>, if a day is more than <code>32</code>. Exactly not working. But for month its working.</p>\n\n<pre><code>try {\nTemporalAccessor ta = DateTimeFormatter.ofPattern(\"HH:mm:ss MM/dd/yyyy\").parse(\"11:30:59 02/32/2015\");\n} catch (Exception e) {\nSystem.out.println(e);\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>java.time.format.DateTimeParseException: Text '11:30:59 02/32/2015' could not be\n parsed: Invalid value for DayOfMonth (valid values 1 - 28/31): 32\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5504458,"reputation":791,"user_id":4374481,"display_name":"Palamino"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1443451645,"creation_date":1443451645,"answer_id":32825874,"question_id":32823368,"body_markdown":"The Java 8 DateTimeFormatter uses yyyy to mean YEAR_OF_ERA, and uuuu to mean YEAR.  You need to modify your pattern string as follows:\r\n\r\n    String dateFormat = &quot;HH:mm:ss MM/dd/uuuu&quot;;\r\n\r\nThe DateTimeFormatter defaults to using the SMART resolver style, but you want it to use the STRICT resolver style.  Modify your dateTimeFormatter initialization code as follows:\r\n\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(dateFormat, Locale.US)\r\n                                                           .withResolverStyle(ResolverStyle.STRICT);\r\n","title":"Java 8 LocalDateTime is parsing invalid datetime","body":"<p>The Java 8 DateTimeFormatter uses yyyy to mean YEAR_OF_ERA, and uuuu to mean YEAR.  You need to modify your pattern string as follows:</p>\n\n<pre><code>String dateFormat = \"HH:mm:ss MM/dd/uuuu\";\n</code></pre>\n\n<p>The DateTimeFormatter defaults to using the SMART resolver style, but you want it to use the STRICT resolver style.  Modify your dateTimeFormatter initialization code as follows:</p>\n\n<pre><code>DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(dateFormat, Locale.US)\n                                                       .withResolverStyle(ResolverStyle.STRICT);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1443452198,"creation_date":1443452198,"answer_id":32826042,"question_id":32823368,"body_markdown":"It is not rounding down.  February has never had 31 days, and it is impossible to use a validating date / time object to represent a day that doesn&#39;t exist.\r\n\r\nAs a result, it takes the invalid input and gives you the best approximation to the correct date (the last date of February that year).\r\n\r\n`SimpleDateFormat` inherits from `DateFormat` which has a `setLenient(boolean value)` method on it.  I would expect that if you called `setLenient(true)` prior to parsing, it would probably complain more, [as detailed in the javadocs][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)","title":"Java 8 LocalDateTime is parsing invalid datetime","body":"<p>It is not rounding down.  February has never had 31 days, and it is impossible to use a validating date / time object to represent a day that doesn't exist.</p>\n\n<p>As a result, it takes the invalid input and gives you the best approximation to the correct date (the last date of February that year).</p>\n\n<p><code>SimpleDateFormat</code> inherits from <code>DateFormat</code> which has a <code>setLenient(boolean value)</code> method on it.  I would expect that if you called <code>setLenient(true)</code> prior to parsing, it would probably complain more, <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)\" rel=\"nofollow\">as detailed in the javadocs</a>.</p>\n"}],"owner":{"account_id":2315704,"reputation":11993,"user_id":2032823,"accept_rate":84,"display_name":"Zeeshan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36684,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":32823520,"answer_count":5,"score":34,"last_activity_date":1686999970,"creation_date":1443444359,"question_id":32823368,"body_markdown":"I wanted to validate datetime in client side so I wrote the following code. But instead of getting an exception I am getting a proper datetime object for 31st of February date string, which is clearly an invalid date. \r\n\r\n    public class Test {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString dateFormat = &quot;HH:mm:ss MM/dd/yyyy&quot;;\r\n    \t\tString dateString = &quot;11:30:59 02/31/2015&quot;;\r\n    \t\tDateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(dateFormat, Locale.US);\r\n    \t\ttry {\r\n    \t\t\tLocalDateTime date = LocalDateTime.parse(dateString, dateTimeFormatter);\r\n    \t\t\tSystem.out.println(date);\r\n    \t\t} catch (Exception e) {\r\n    \t\t\t// Throw invalid date message\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n**Output** : 2015-02-28T11:30:59\r\n\r\nDoes anyone know why `LocalDateTime` is parsing this datetime instead of throwing an exception.","title":"Java 8 LocalDateTime is parsing invalid datetime","body":"<p>I wanted to validate datetime in client side so I wrote the following code. But instead of getting an exception I am getting a proper datetime object for 31st of February date string, which is clearly an invalid date.</p>\n<pre><code>public class Test {\n\n    public static void main(String[] args) {\n        String dateFormat = &quot;HH:mm:ss MM/dd/yyyy&quot;;\n        String dateString = &quot;11:30:59 02/31/2015&quot;;\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(dateFormat, Locale.US);\n        try {\n            LocalDateTime date = LocalDateTime.parse(dateString, dateTimeFormatter);\n            System.out.println(date);\n        } catch (Exception e) {\n            // Throw invalid date message\n        }\n    }\n}\n</code></pre>\n<p><strong>Output</strong> : 2015-02-28T11:30:59</p>\n<p>Does anyone know why <code>LocalDateTime</code> is parsing this datetime instead of throwing an exception.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":8617182,"reputation":664,"user_id":6453588,"display_name":"omnichord"},"score":0,"creation_date":1610652692,"post_id":64818845,"comment_id":116207591,"body_markdown":"Does this answer your question? [Using Spring Boot 2.2.0&#39;s @ConstructorBinding for multiple Beans](https://stackoverflow.com/questions/58944506/using-spring-boot-2-2-0s-constructorbinding-for-multiple-beans)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/58944506/using-spring-boot-2-2-0s-constructorbinding-for-multiple-beans\">Using Spring Boot 2.2.0&#39;s @ConstructorBinding for multiple Beans</a>"}],"answers":[{"comments":[{"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"score":0,"creation_date":1605262855,"post_id":64819050,"comment_id":114603025,"body_markdown":"Thank you, Fatih! So far I got it already, as `@ConstructorBinding` has no `METHOD` in the `@Target`-List. And it would be strange, given the name, also. I&#39;d rather have some `@BeanMethodBinding` or something like that.  Any clean way to create immutable `@ConfigurationProperties` via `@Bean`-Methods.","body":"Thank you, Fatih! So far I got it already, as <code>@ConstructorBinding</code> has no <code>METHOD</code> in the <code>@Target</code>-List. And it would be strange, given the name, also. I&#39;d rather have some <code>@BeanMethodBinding</code> or something like that.  Any clean way to create immutable <code>@ConfigurationProperties</code> via <code>@Bean</code>-Methods."},{"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"score":0,"creation_date":1605304667,"post_id":64819050,"comment_id":114619412,"body_markdown":"@derM Maybe the answers [here](https://stackoverflow.com/questions/26137932/immutable-configurationproperties) will help you a little bit for what you want to do.","body":"@derM Maybe the answers <a href=\"https://stackoverflow.com/questions/26137932/immutable-configurationproperties\">here</a> will help you a little bit for what you want to do."}],"tags":[],"owner":{"account_id":14320275,"reputation":1315,"user_id":10343888,"display_name":"fatih"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686998936,"creation_date":1605262262,"answer_id":64819050,"question_id":64818845,"body_markdown":"In the `Spring Boot` reference documentation for `@ConstructorBinding` it is said:\r\n\r\n&gt; To use constructor binding the class must be enabled using @EnableConfigurationProperties or configuration property scanning. You cannot use constructor binding with beans that are created by the regular Spring mechanisms (e.g. @Component beans, beans created via @Bean methods or beans loaded using @Import)\r\n\r\nSee [Spring boot documentation]( https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html)\r\n\r\nPerhaps some of the answers in https://stackoverflow.com/questions/26137932/immutable-configurationproperties will be enough to solve your problem.","title":"Immutable ConfigurationProperties from Bean Methods","body":"<p>In the <code>Spring Boot</code> reference documentation for <code>@ConstructorBinding</code> it is said:</p>\n<blockquote>\n<p>To use constructor binding the class must be enabled using @EnableConfigurationProperties or configuration property scanning. You cannot use constructor binding with beans that are created by the regular Spring mechanisms (e.g. @Component beans, beans created via @Bean methods or beans loaded using @Import)</p>\n</blockquote>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html\" rel=\"nofollow noreferrer\">Spring boot documentation</a></p>\n<p>Perhaps some of the answers in <a href=\"https://stackoverflow.com/questions/26137932/immutable-configurationproperties\">Immutable @ConfigurationProperties</a> will be enough to solve your problem.</p>\n"}],"owner":{"account_id":2346285,"reputation":13265,"user_id":2056452,"accept_rate":69,"display_name":"derM - not here for BOT dreams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":788,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686998936,"creation_date":1605261401,"question_id":64818845,"body_markdown":"You can create `ConfigurationProperties`-Objects with Spring, in various ways.\r\n\r\nOne way, is to add the `@ConfigurationProperties`-Annotation to an `@Bean`-Declaration like so:\r\n\r\n    @Bean\r\n    @ConfigurationProperties(&quot;my.property.group&quot;)\r\n    public MyProperties myProperties() {\r\n       return new MyProperties();\r\n    }\r\n\r\nwhich will create a bean from `MyProperties`-class and consequently use its *setters* to fill its members with values from the configuration file.\r\n\r\nYou can also have the annotation directly on the `MyProperties`-Object like so:\r\n\r\n    @ConfigurationProperties(&quot;my.property.group&quot;)\r\n    public class MyProperties {\r\n        @Getter @Setter private String myFirstValue;\r\n        @Getter @Setter private String mySecondValue;\r\n    }\r\n\r\ncreating it by placing `@EnableConfigurationProperties(MyProperties.class)` to any loaded configuration.\r\n\r\nIt is also possible to create this class in an immutable way, using `@ConstructorBinding`\r\n\r\n     @ConfigurationProperties(&quot;my.property.group&quot;)\r\n     @ConstructorBinding\r\n     public class MyProperties {\r\n         @Getter private final String myFirstValue;\r\n         @Getter private final String mySecondValue;\r\n         \r\n         public MyProperties(String myFirstValue, String mySecondValue) {\r\n             this.myFirstValue = myFirstValue;\r\n             this.mySecondValue = mySecondValue;\r\n         }\r\n     }\r\n\r\n-----\r\n\r\n__*But how can I create immutable ConfigurationProperties in combination with the first @Bean-method?*__\r\n\r\nI tried something like this:\r\n\r\n     @Bean\r\n     @ConfigurationProperties(&quot;my.property.group&quot;)\r\n     // @ConstructorBinding &lt;---- This is not applicable to methods\r\n     public MyProperties myProperties(String myFirstValue, String mySecondValue) {\r\n         return new MyProperties(myFirstValue, mySecondValue);\r\n     }\r\n\r\nwhich tells me, it could not autowire the parameters, I shall consider declaring some beans of type `String`\r\n","title":"Immutable ConfigurationProperties from Bean Methods","body":"<p>You can create <code>ConfigurationProperties</code>-Objects with Spring, in various ways.</p>\n<p>One way, is to add the <code>@ConfigurationProperties</code>-Annotation to an <code>@Bean</code>-Declaration like so:</p>\n<pre><code>@Bean\n@ConfigurationProperties(&quot;my.property.group&quot;)\npublic MyProperties myProperties() {\n   return new MyProperties();\n}\n</code></pre>\n<p>which will create a bean from <code>MyProperties</code>-class and consequently use its <em>setters</em> to fill its members with values from the configuration file.</p>\n<p>You can also have the annotation directly on the <code>MyProperties</code>-Object like so:</p>\n<pre><code>@ConfigurationProperties(&quot;my.property.group&quot;)\npublic class MyProperties {\n    @Getter @Setter private String myFirstValue;\n    @Getter @Setter private String mySecondValue;\n}\n</code></pre>\n<p>creating it by placing <code>@EnableConfigurationProperties(MyProperties.class)</code> to any loaded configuration.</p>\n<p>It is also possible to create this class in an immutable way, using <code>@ConstructorBinding</code></p>\n<pre><code> @ConfigurationProperties(&quot;my.property.group&quot;)\n @ConstructorBinding\n public class MyProperties {\n     @Getter private final String myFirstValue;\n     @Getter private final String mySecondValue;\n     \n     public MyProperties(String myFirstValue, String mySecondValue) {\n         this.myFirstValue = myFirstValue;\n         this.mySecondValue = mySecondValue;\n     }\n }\n</code></pre>\n<hr />\n<p><strong><em>But how can I create immutable ConfigurationProperties in combination with the first @Bean-method?</em></strong></p>\n<p>I tried something like this:</p>\n<pre><code> @Bean\n @ConfigurationProperties(&quot;my.property.group&quot;)\n // @ConstructorBinding &lt;---- This is not applicable to methods\n public MyProperties myProperties(String myFirstValue, String mySecondValue) {\n     return new MyProperties(myFirstValue, mySecondValue);\n }\n</code></pre>\n<p>which tells me, it could not autowire the parameters, I shall consider declaring some beans of type <code>String</code></p>\n"},{"tags":["java","abstract-class","implementation"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1686933622,"post_id":76492060,"comment_id":134871576,"body_markdown":"&quot;*My question is: Why?*&quot; - you must ask the author(s), we can only guess: maybe to avoid having an instance of that class created directly, eventually to force it to be sub-classed to be able to determine the `_type`. BTW `new MyClass3() {}` is creating an (anonymous) sub-class of `MyClass3` (and an instance of that sub-class)","body":"&quot;<i>My question is: Why?</i>&quot; - you must ask the author(s), we can only guess: maybe to avoid having an instance of that class created directly, eventually to force it to be sub-classed to be able to determine the <code>_type</code>. BTW <code>new MyClass3() {}</code> is creating an (anonymous) sub-class of <code>MyClass3</code> (and an instance of that sub-class)"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1686965883,"post_id":76492060,"comment_id":134875486,"body_markdown":"All of the _methods_ are implemented, but it can&#39;t do its job, which requires some subtlety with reflection and generics, without a subclass.","body":"All of the <i>methods</i> are implemented, but it can&#39;t do its job, which requires some subtlety with reflection and generics, without a subclass."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686998883,"creation_date":1686933365,"answer_id":76492107,"question_id":76492060,"body_markdown":"From the docs of [TypeReference][1]:\r\n\r\n&gt; This generic abstract class is used for obtaining full generics type information by sub-classing;\r\n\r\nIt makes no sense to have instances of this class, because you can&#39;t extract generic type information from it, only from concrete subclasses, hence it&#39;s abstract.\r\n\r\n  [1]: https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/type/TypeReference.html","title":"abstract class, but all its methods have implementation","body":"<p>From the docs of <a href=\"https://fasterxml.github.io/jackson-core/javadoc/2.8/com/fasterxml/jackson/core/type/TypeReference.html\" rel=\"nofollow noreferrer\">TypeReference</a>:</p>\n<blockquote>\n<p>This generic abstract class is used for obtaining full generics type information by sub-classing;</p>\n</blockquote>\n<p>It makes no sense to have instances of this class, because you can't extract generic type information from it, only from concrete subclasses, hence it's abstract.</p>\n"}],"owner":{"account_id":6672699,"reputation":379,"user_id":5148363,"accept_rate":82,"display_name":"nik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686998883,"creation_date":1686932887,"question_id":76492060,"body_markdown":"I start working with jackson library. It has this class:\r\n\r\n    public abstract class TypeReference&lt;T&gt; implements Comparable&lt;com.fasterxml.jackson.core.type.TypeReference&lt;T&gt;&gt; {\r\n        protected final Type _type;\r\n    \r\n        protected TypeReference() {\r\n            Type superClass = this.getClass().getGenericSuperclass();\r\n            if (superClass instanceof Class) {\r\n                throw new IllegalArgumentException(&quot;Internal error: TypeReference constructed without actual type information&quot;);\r\n            } else {\r\n                this._type = ((ParameterizedType)superClass).getActualTypeArguments()[0];\r\n            }\r\n        }\r\n    \r\n        public Type getType() {\r\n            return this._type;\r\n        }\r\n    \r\n        public int compareTo(com.fasterxml.jackson.core.type.TypeReference&lt;T&gt; o) {\r\n            return 0;\r\n        }\r\n    }\r\nSo it is abstract class, but all its methods have implementation. My question is: Why? Why use abstract class when all its methods have implementation? Why not just use not abstract class?\r\n\r\nHere is simple illustration:\r\n\r\n    package com.company;\r\n\r\n    abstract class MyClass1 {\r\n        void  method1() {};\r\n        abstract void  method2();\r\n    }\r\n\r\n    abstract class MyClass2 {\r\n        void  method1() {};\r\n        void  method2() {};\r\n    }\r\n\r\n    class MyClass3 {\r\n        void  method1() {};\r\n        void  method2() {};\r\n    }\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            MyClass1 obj1 = new MyClass1() {\r\n                @Override\r\n                void method2() {}\r\n            };\r\n            MyClass2 obj2 = new MyClass2() {};\r\n            MyClass3 obj3 = new MyClass3() {};\r\n        }\r\n    }\r\n\r\nInitialization of obj2 and obj3 is the same. So why use MyClass2 instead of MyClass3?","title":"abstract class, but all its methods have implementation","body":"<p>I start working with jackson library. It has this class:</p>\n<pre><code>public abstract class TypeReference&lt;T&gt; implements Comparable&lt;com.fasterxml.jackson.core.type.TypeReference&lt;T&gt;&gt; {\n    protected final Type _type;\n\n    protected TypeReference() {\n        Type superClass = this.getClass().getGenericSuperclass();\n        if (superClass instanceof Class) {\n            throw new IllegalArgumentException(&quot;Internal error: TypeReference constructed without actual type information&quot;);\n        } else {\n            this._type = ((ParameterizedType)superClass).getActualTypeArguments()[0];\n        }\n    }\n\n    public Type getType() {\n        return this._type;\n    }\n\n    public int compareTo(com.fasterxml.jackson.core.type.TypeReference&lt;T&gt; o) {\n        return 0;\n    }\n}\n</code></pre>\n<p>So it is abstract class, but all its methods have implementation. My question is: Why? Why use abstract class when all its methods have implementation? Why not just use not abstract class?</p>\n<p>Here is simple illustration:</p>\n<pre><code>package com.company;\n\nabstract class MyClass1 {\n    void  method1() {};\n    abstract void  method2();\n}\n\nabstract class MyClass2 {\n    void  method1() {};\n    void  method2() {};\n}\n\nclass MyClass3 {\n    void  method1() {};\n    void  method2() {};\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        MyClass1 obj1 = new MyClass1() {\n            @Override\n            void method2() {}\n        };\n        MyClass2 obj2 = new MyClass2() {};\n        MyClass3 obj3 = new MyClass3() {};\n    }\n}\n</code></pre>\n<p>Initialization of obj2 and obj3 is the same. So why use MyClass2 instead of MyClass3?</p>\n"},{"tags":["java","android","jaxb","docx4j","docx-to-pdf-conversion"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1687004272,"post_id":76495834,"comment_id":134878299,"body_markdown":"`JAXBContext` expects to be running on a JVM, not on Android, based on that error. Note that your `Docx4j4Android4` sample is 6-7 years old, which is fairly ancient and might be based on older versions of the various libraries.","body":"<code>JAXBContext</code> expects to be running on a JVM, not on Android, based on that error. Note that your <code>Docx4j4Android4</code> sample is 6-7 years old, which is fairly ancient and might be based on older versions of the various libraries."}],"owner":{"account_id":16450803,"reputation":654,"user_id":11884269,"display_name":"Volper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686998862,"creation_date":1686998862,"question_id":76495834,"body_markdown":"I am trying to convert a .docx file to .pdf with Docx4J. I get this error:\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: com.example.docx4jtest, PID: 9798\r\njava.lang.NoSuchMethodError: No virtual method getModule()Ljava/lang/Module; in class Ljava/lang/Class; or its super classes (declaration of &#39;java.lang.Class&#39; appears in /apex/com.android.art/javalib/core-oj.jar)\r\n\tat jakarta.xml.bind.ModuleUtil.delegateAddOpensToImplModule(ModuleUtil.java:111)\r\n\tat jakarta.xml.bind.ContextFinder.find(ContextFinder.java:323)\r\n\tat jakarta.xml.bind.JAXBContext.newInstance(JAXBContext.java:392)\r\n\tat org.docx4j.jaxb.Context.&lt;clinit&gt;(Context.java:121)\r\n\tat org.docx4j.openpackaging.contenttype.ContentTypeManager.parseContentTypesFile(ContentTypeManager.java:849)\r\n\tat org.docx4j.openpackaging.io3.Load3.get(Load3.java:146)\r\n\tat org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:572)\r\n\tat org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:421)\r\n\tat org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:298)\r\n\tat org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:276)\r\n\tat org.docx4j.openpackaging.packages.WordprocessingMLPackage.load(WordprocessingMLPackage.java:170)\r\n\tat com.example.docx4jtest.MainActivity.onCreate(MainActivity.java:58)\r\n\tat android.app.Activity.performCreate(Activity.java:8290)\r\n\tat android.app.Activity.performCreate(Activity.java:8269)\r\n\tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\r\n\tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3657)\r\n\tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813)\r\n\tat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n\tat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n\tat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n\tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n\tat android.os.Looper.loopOnce(Looper.java:201)\r\n\tat android.os.Looper.loop(Looper.java:288)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:7898)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n```\r\nThis exact error message only [appeared once on Google Search](https://youtrack.jetbrains.com/issue/KTOR-5419) and there was no sign of Docx4J there.\r\n\r\nCode:\r\n```java\r\nString tag = &quot;Docx4J Test&quot;;\r\ntry {\r\n    WordprocessingMLPackage mlPackage = WordprocessingMLPackage.load(getFilesDir().toPath().resolve(&quot;template-default.docx&quot;).toFile());\r\n    mlPackage.save(getFilesDir().toPath().resolve(&quot;result.docx&quot;).toFile());\r\n    Log.d(tag, &quot;SAVED&quot;);\r\n    FileOutputStream outputStream = new FileOutputStream(getFilesDir().toPath().resolve(&quot;result.pdf&quot;).toFile());\r\n    Docx4J.toPDF(mlPackage, outputStream);\r\n    Log.d(tag, &quot;SUCCESS&quot;);\r\n} catch (Docx4JException | FileNotFoundException e) {\r\n    Log.d(tag, &quot;onCreate: &quot;.concat(e.getMessage()));\r\n}\r\n```\r\nI added those dependencies to `app/build.gradle`:\r\n```\r\nimplementation(&quot;org.docx4j:docx4j-JAXB-ReferenceImpl:8.3.3&quot;) {\r\n    exclude group: &quot;commons-logging&quot;\r\n}\r\nimplementation &quot;com.fasterxml:aalto-xml:1.3.2&quot;\r\nimplementation &quot;javax.xml.stream:stax-api:1.0-2&quot;\r\nimplementation files(&quot;libs/awt-bastardised-17v8.jar&quot;) // https://github.com/plutext/Docx4j4Android4/blob/master/app/libs/awt-bastardised-17v8.jar\r\nimplementation(&quot;org.docx4j:docx4j-export-fo:11.4.8&quot;) {\r\n    exclude group: &quot;org.apache.xmlgraphics&quot;\r\n}\r\nimplementation &quot;org.glassfish.jaxb:jaxb-runtime:4.0.3&quot;\r\n```\r\nChanging to MOXy didn&#39;t work - same error. I tried downgrading `jaxb-runtime` but got a different error.\r\n\r\nHere&#39;s the full example so you can run it yourself: https://github.com/Volper212/docx4j-test\r\n\r\nKeep in mind that in order to run this you need a `template-default.docx` file in the `files` directory of the app (`/data/user/0/com.example.docx4jtest/files/template-default.docx`). This can be any valid .docx file.\r\n\r\nTo get to this point, I used, among others, these resources:\r\n- https://github.com/plutext/docx4j/blob/master/docs/Docx4j_GettingStarted.pdf\r\n- https://github.com/plutext/Docx4j4Android4","title":"Trying to convert to PDF with Docx4J: No virtual method getModule()Ljava/lang/Module","body":"<p>I am trying to convert a .docx file to .pdf with Docx4J. I get this error:</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: com.example.docx4jtest, PID: 9798\njava.lang.NoSuchMethodError: No virtual method getModule()Ljava/lang/Module; in class Ljava/lang/Class; or its super classes (declaration of 'java.lang.Class' appears in /apex/com.android.art/javalib/core-oj.jar)\n    at jakarta.xml.bind.ModuleUtil.delegateAddOpensToImplModule(ModuleUtil.java:111)\n    at jakarta.xml.bind.ContextFinder.find(ContextFinder.java:323)\n    at jakarta.xml.bind.JAXBContext.newInstance(JAXBContext.java:392)\n    at org.docx4j.jaxb.Context.&lt;clinit&gt;(Context.java:121)\n    at org.docx4j.openpackaging.contenttype.ContentTypeManager.parseContentTypesFile(ContentTypeManager.java:849)\n    at org.docx4j.openpackaging.io3.Load3.get(Load3.java:146)\n    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:572)\n    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:421)\n    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:298)\n    at org.docx4j.openpackaging.packages.OpcPackage.load(OpcPackage.java:276)\n    at org.docx4j.openpackaging.packages.WordprocessingMLPackage.load(WordprocessingMLPackage.java:170)\n    at com.example.docx4jtest.MainActivity.onCreate(MainActivity.java:58)\n    at android.app.Activity.performCreate(Activity.java:8290)\n    at android.app.Activity.performCreate(Activity.java:8269)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1384)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3657)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3813)\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2308)\n    at android.os.Handler.dispatchMessage(Handler.java:106)\n    at android.os.Looper.loopOnce(Looper.java:201)\n    at android.os.Looper.loop(Looper.java:288)\n    at android.app.ActivityThread.main(ActivityThread.java:7898)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n</code></pre>\n<p>This exact error message only <a href=\"https://youtrack.jetbrains.com/issue/KTOR-5419\" rel=\"nofollow noreferrer\">appeared once on Google Search</a> and there was no sign of Docx4J there.</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String tag = &quot;Docx4J Test&quot;;\ntry {\n    WordprocessingMLPackage mlPackage = WordprocessingMLPackage.load(getFilesDir().toPath().resolve(&quot;template-default.docx&quot;).toFile());\n    mlPackage.save(getFilesDir().toPath().resolve(&quot;result.docx&quot;).toFile());\n    Log.d(tag, &quot;SAVED&quot;);\n    FileOutputStream outputStream = new FileOutputStream(getFilesDir().toPath().resolve(&quot;result.pdf&quot;).toFile());\n    Docx4J.toPDF(mlPackage, outputStream);\n    Log.d(tag, &quot;SUCCESS&quot;);\n} catch (Docx4JException | FileNotFoundException e) {\n    Log.d(tag, &quot;onCreate: &quot;.concat(e.getMessage()));\n}\n</code></pre>\n<p>I added those dependencies to <code>app/build.gradle</code>:</p>\n<pre><code>implementation(&quot;org.docx4j:docx4j-JAXB-ReferenceImpl:8.3.3&quot;) {\n    exclude group: &quot;commons-logging&quot;\n}\nimplementation &quot;com.fasterxml:aalto-xml:1.3.2&quot;\nimplementation &quot;javax.xml.stream:stax-api:1.0-2&quot;\nimplementation files(&quot;libs/awt-bastardised-17v8.jar&quot;) // https://github.com/plutext/Docx4j4Android4/blob/master/app/libs/awt-bastardised-17v8.jar\nimplementation(&quot;org.docx4j:docx4j-export-fo:11.4.8&quot;) {\n    exclude group: &quot;org.apache.xmlgraphics&quot;\n}\nimplementation &quot;org.glassfish.jaxb:jaxb-runtime:4.0.3&quot;\n</code></pre>\n<p>Changing to MOXy didn't work - same error. I tried downgrading <code>jaxb-runtime</code> but got a different error.</p>\n<p>Here's the full example so you can run it yourself: <a href=\"https://github.com/Volper212/docx4j-test\" rel=\"nofollow noreferrer\">https://github.com/Volper212/docx4j-test</a></p>\n<p>Keep in mind that in order to run this you need a <code>template-default.docx</code> file in the <code>files</code> directory of the app (<code>/data/user/0/com.example.docx4jtest/files/template-default.docx</code>). This can be any valid .docx file.</p>\n<p>To get to this point, I used, among others, these resources:</p>\n<ul>\n<li><a href=\"https://github.com/plutext/docx4j/blob/master/docs/Docx4j_GettingStarted.pdf\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/master/docs/Docx4j_GettingStarted.pdf</a></li>\n<li><a href=\"https://github.com/plutext/Docx4j4Android4\" rel=\"nofollow noreferrer\">https://github.com/plutext/Docx4j4Android4</a></li>\n</ul>\n"},{"tags":["java","android","node.js","android-studio","file"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686994718,"post_id":76495569,"comment_id":134877264,"body_markdown":"Uri.getPath() gives you a nonsense path as you saw and could have determined yourself if you had used File.exists() on ut before upload.","body":"Uri.getPath() gives you a nonsense path as you saw and could have determined yourself if you had used File.exists() on ut before upload."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686994773,"post_id":76495569,"comment_id":134877267,"body_markdown":"You have a nice content scheme uri visible with Uri toString(). Use the uri to handle the file.","body":"You have a nice content scheme uri visible with Uri toString(). Use the uri to handle the file."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686994896,"post_id":76495569,"comment_id":134877277,"body_markdown":"I see now that you do not use that wrong &#39;path&#39;. Instead you opened an InputStream for that uri. Well that is the way to go. You dont need that &#39;path&#39;. What is your problem?","body":"I see now that you do not use that wrong &#39;path&#39;. Instead you opened an InputStream for that uri. Well that is the way to go. You dont need that &#39;path&#39;. What is your problem?"},{"owner":{"account_id":27352742,"reputation":15,"user_id":20861643,"display_name":"abcd1211231"},"score":0,"creation_date":1686995829,"post_id":76495569,"comment_id":134877377,"body_markdown":"@blackapps My problem is i dont see the file is send to the server, i dont know the file is send or not. The server should show the message in console (console.log(&#39;File uploaded:&#39;, req.file);) but i dont see anything","body":"@blackapps My problem is i dont see the file is send to the server, i dont know the file is send or not. The server should show the message in console (console.log(&#39;File uploaded:&#39;, req.file);) but i dont see anything"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686996330,"post_id":76495569,"comment_id":134877452,"body_markdown":"`i dont know the file is send or not.` Well you can know it if you knew what your asynctask did. Tell how it runned? Did you look in the logcat for exceptions? And why not add some log statements. And why not implement an onPostExecute() to inform the user -and yourself- how doInBackground() executed?","body":"<code>i dont know the file is send or not.</code> Well you can know it if you knew what your asynctask did. Tell how it runned? Did you look in the logcat for exceptions? And why not add some log statements. And why not implement an onPostExecute() to inform the user -and yourself- how doInBackground() executed?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686996490,"post_id":76495569,"comment_id":134877472,"body_markdown":"`// Process response...` You are not determining the response. Do it if you wanna know what happens.","body":"<code>&#47;&#47; Process response...</code> You are not determining the response. Do it if you wanna know what happens."}],"owner":{"account_id":27352742,"reputation":15,"user_id":20861643,"display_name":"abcd1211231"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686996072,"creation_date":1686994120,"question_id":76495569,"body_markdown":"I have a button in html file when it is pressed it calls al function chooseFile() in MainActivity.java and auto send the data to the server.\r\nScript in html:\r\n```\r\n&lt;script&gt;\r\n    document.getElementById(&quot;chooseFile&quot;).addEventListener(&quot;click&quot;, function(event) {\r\n        event.preventDefault();\r\n\r\n        Android.chooseFile();\r\n    });\r\n```\r\n\r\nMainActivity.java\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private RetrofitInterface retrofitInterface;\r\n    private Retrofit retrofit;\r\n    private WebView webView;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        webView = findViewById(R.id.webview);\r\n        webView.getSettings().setAllowContentAccess(true);\r\n        webView.getSettings().setAllowFileAccess(true);\r\n        webView.getSettings().setJavaScriptEnabled(true);\r\n        webView.addJavascriptInterface(new WebAppInterface(), &quot;Android&quot;);\r\n        webView.loadUrl(&quot;file:///android_asset/upload.html&quot;);\r\n    }\r\npublic class WebAppInterface {\r\n        @JavascriptInterface\r\n        public void chooseFile() {\r\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n            intent.setType(&quot;*/*&quot;);\r\n            startActivityForResult(Intent.createChooser(intent, &quot;Choose File&quot;), 1);\r\n        }\r\n}\r\n\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data != null &amp;&amp; data.getData() != null) {\r\n                Uri uri = data.getData();\r\n                String filePath = uri.getPath();\r\n                sendPDF(this,uri);\r\n            }\r\n        }\r\n    }\r\n\r\npublic static void sendPDF(Context context, Uri fileUri) {\r\n        new AsyncTask&lt;Uri, Void, Void&gt;() {\r\n            @Override\r\n            protected Void doInBackground(Uri... uris) {\r\n                Uri uri = uris[0];\r\n                try {           \r\n                    URL url = new URL(&quot;http://Ipv4/upload&quot;);\r\n                    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n                    conn.setRequestMethod(&quot;POST&quot;);\r\n\r\n                    conn.setDoInput(true);\r\n                    conn.setDoOutput(true);\r\n\r\n                    conn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n                    conn.setRequestProperty(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\r\n\r\n                    conn.setReadTimeout(35000);\r\n                    conn.setConnectTimeout(35000);\r\n\r\n                    // Open InputStream from Uri\r\n                    InputStream inputStream = context.getContentResolver().openInputStream(uri);\r\n\r\n                    // Write data from InputStream to output stream\r\n                    OutputStream os = conn.getOutputStream();\r\n                    byte[] buffer = new byte[4096];\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                        os.write(buffer, 0, bytesRead);\r\n                    }\r\n                    os.flush();\r\n                    os.close();\r\n                    inputStream.close();\r\n\r\n                    // Process response...\r\n\r\n                    conn.disconnect();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                return null;\r\n            }\r\n        }.execute(fileUri);\r\n    }\r\n\r\n```\r\nThis is my server:\r\n```\r\nconst uploadDirectory = &#39;uploads&#39;;\r\n\r\n// Create the uploads directory if it doesn&#39;t exist\r\nif (!fs.existsSync(uploadDirectory)) {\r\n    fs.mkdirSync(uploadDirectory);\r\n}\r\n\r\n// Set up Multer storage configuration\r\nconst storage = multer.diskStorage({\r\n    destination: (req, file, cb) =&gt; {\r\n        cb(null, &#39;uploads/&#39;);\r\n    },\r\n    filename: (req, file, cb) =&gt; {\r\n        cb(null, file.originalname);\r\n    }\r\n});\r\n\r\nconst upload = multer({ storage });\r\n\r\n// POST route for file upload\r\napp.post(&#39;/upload&#39;, upload.single(&#39;myFile&#39;), async (req, res) =&gt; {\r\n    // File upload successful\r\n    console.log(&#39;File uploaded:&#39;, req.file);\r\n});\r\n\r\n// Start the server\r\napp.listen(3001, () =&gt; {\r\n    console.log(&#39;Server is running on port 3001&#39;);\r\n});\r\n```\r\n\r\nThe logcat after i choose file:\r\n```\r\n2023-06-17 16:21:27.807   979-2356  TrafficStats            com.example.verifycertificate        D  tagSocket(183) with statsTag=0xffffffff, statsUid=-1\r\n2023-06-17 16:21:27.813   979-1008  OpenGLRenderer          com.example.verifycertificate        E  Unable to match the desired swap behavior.\r\n2023-06-17 16:21:29.423   979-1008  EGL_emulation           com.example.verifycertificate        D  app_time_stats: avg=166.52ms min=4.56ms max=1404.14ms count=9\r\n```\r\nWhen try to get full file path ( the file path when i use uri.getPath(); is: /document/document: 100002321 ) so i try to use URI to send file. But the server doesn&#39;t resposne anything.\r\n\r\nMy problem is i dont see the file is send to the server, i dont know the file is send or not. The server should show the message in console (console.log(&#39;File uploaded:&#39;, req.file);) but i dont see anything.","title":"Problem when send pdf file from Android to nodeJS server","body":"<p>I have a button in html file when it is pressed it calls al function chooseFile() in MainActivity.java and auto send the data to the server.\nScript in html:</p>\n<pre><code>&lt;script&gt;\n    document.getElementById(&quot;chooseFile&quot;).addEventListener(&quot;click&quot;, function(event) {\n        event.preventDefault();\n\n        Android.chooseFile();\n    });\n</code></pre>\n<p>MainActivity.java</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private RetrofitInterface retrofitInterface;\n    private Retrofit retrofit;\n    private WebView webView;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        webView = findViewById(R.id.webview);\n        webView.getSettings().setAllowContentAccess(true);\n        webView.getSettings().setAllowFileAccess(true);\n        webView.getSettings().setJavaScriptEnabled(true);\n        webView.addJavascriptInterface(new WebAppInterface(), &quot;Android&quot;);\n        webView.loadUrl(&quot;file:///android_asset/upload.html&quot;);\n    }\npublic class WebAppInterface {\n        @JavascriptInterface\n        public void chooseFile() {\n            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n            intent.addCategory(Intent.CATEGORY_OPENABLE);\n            intent.setType(&quot;*/*&quot;);\n            startActivityForResult(Intent.createChooser(intent, &quot;Choose File&quot;), 1);\n        }\n}\n\n@Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK) {\n            if (data != null &amp;&amp; data.getData() != null) {\n                Uri uri = data.getData();\n                String filePath = uri.getPath();\n                sendPDF(this,uri);\n            }\n        }\n    }\n\npublic static void sendPDF(Context context, Uri fileUri) {\n        new AsyncTask&lt;Uri, Void, Void&gt;() {\n            @Override\n            protected Void doInBackground(Uri... uris) {\n                Uri uri = uris[0];\n                try {           \n                    URL url = new URL(&quot;http://Ipv4/upload&quot;);\n                    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n                    conn.setRequestMethod(&quot;POST&quot;);\n\n                    conn.setDoInput(true);\n                    conn.setDoOutput(true);\n\n                    conn.setRequestProperty(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n                    conn.setRequestProperty(&quot;Cache-Control&quot;, &quot;no-cache&quot;);\n\n                    conn.setReadTimeout(35000);\n                    conn.setConnectTimeout(35000);\n\n                    // Open InputStream from Uri\n                    InputStream inputStream = context.getContentResolver().openInputStream(uri);\n\n                    // Write data from InputStream to output stream\n                    OutputStream os = conn.getOutputStream();\n                    byte[] buffer = new byte[4096];\n                    int bytesRead;\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\n                        os.write(buffer, 0, bytesRead);\n                    }\n                    os.flush();\n                    os.close();\n                    inputStream.close();\n\n                    // Process response...\n\n                    conn.disconnect();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n\n                return null;\n            }\n        }.execute(fileUri);\n    }\n\n</code></pre>\n<p>This is my server:</p>\n<pre><code>const uploadDirectory = 'uploads';\n\n// Create the uploads directory if it doesn't exist\nif (!fs.existsSync(uploadDirectory)) {\n    fs.mkdirSync(uploadDirectory);\n}\n\n// Set up Multer storage configuration\nconst storage = multer.diskStorage({\n    destination: (req, file, cb) =&gt; {\n        cb(null, 'uploads/');\n    },\n    filename: (req, file, cb) =&gt; {\n        cb(null, file.originalname);\n    }\n});\n\nconst upload = multer({ storage });\n\n// POST route for file upload\napp.post('/upload', upload.single('myFile'), async (req, res) =&gt; {\n    // File upload successful\n    console.log('File uploaded:', req.file);\n});\n\n// Start the server\napp.listen(3001, () =&gt; {\n    console.log('Server is running on port 3001');\n});\n</code></pre>\n<p>The logcat after i choose file:</p>\n<pre><code>2023-06-17 16:21:27.807   979-2356  TrafficStats            com.example.verifycertificate        D  tagSocket(183) with statsTag=0xffffffff, statsUid=-1\n2023-06-17 16:21:27.813   979-1008  OpenGLRenderer          com.example.verifycertificate        E  Unable to match the desired swap behavior.\n2023-06-17 16:21:29.423   979-1008  EGL_emulation           com.example.verifycertificate        D  app_time_stats: avg=166.52ms min=4.56ms max=1404.14ms count=9\n</code></pre>\n<p>When try to get full file path ( the file path when i use uri.getPath(); is: /document/document: 100002321 ) so i try to use URI to send file. But the server doesn't resposne anything.</p>\n<p>My problem is i dont see the file is send to the server, i dont know the file is send or not. The server should show the message in console (console.log('File uploaded:', req.file);) but i dont see anything.</p>\n"},{"tags":["java","spring-boot"],"owner":{"account_id":25879779,"reputation":11,"user_id":19609075,"display_name":"Shaik Shahid Afridi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686994847,"creation_date":1686994847,"question_id":76495613,"body_markdown":"I am trying to make a starter Springboot application and have been scratching my head over this, I will provide the code and structure and explain the problem below:\r\n\r\nmy applications.properties file\r\n```\r\nspring.mvc.view.prefix=/WEB-INF/views/\r\nspring.mvc.view.suffix=.jsp\r\n```\r\nmy registrationController.java\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class RegistrationController {\r\n\t\r\n\t@GetMapping(&quot;/registration&quot;)\r\n\tpublic String registerMe() {\r\n\t\treturn &quot;register&quot;;\r\n\t}\r\n\r\n}\r\n```\r\nand register.jsp\r\n\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n    pageEncoding=&quot;UTF-8&quot;%&gt;\r\n    \r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;UTF-8&quot;&gt;\r\n&lt;title&gt;Registration&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;Register&lt;/h1&gt;\r\n    &lt;form action=&quot;userDetails&quot;&gt;\r\n    UserName : &lt;input id=&quot;name&quot; name=&quot;name&quot;/&gt;\r\n    Email ID : &lt;input id=&quot;email&quot; name=&quot;email&quot;/&gt;\r\n    Password : &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;/&gt;\r\n    Mobile Number : &lt;input id=&quot;number&quot; name=&quot;number&quot;/&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;Register Me&quot;/&gt;\r\n       \r\n    \r\n    \r\n    &lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\nmy pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2&lt;/version&gt; &lt;!-- Specify the version you want to use --&gt;\r\n  \t\t    &lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n\t    &lt;/dependency&gt;\r\n\t &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\n\r\n[![My folder structure](https://i.stack.imgur.com/0bO5m.png)](https://i.stack.imgur.com/0bO5m.png)\r\n\r\n\r\nWhen I try to run with this with the default login and the console password I am getting white label error `Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.` And when I try with @RestController instead of @Controller I am able to print &quot;register&quot; as a string but still not as a JSP file, which is what I want to achieve. Any suggestions?","title":"Spring boot view is not accessing register.jsp file instead it is printing register string on page","body":"<p>I am trying to make a starter Springboot application and have been scratching my head over this, I will provide the code and structure and explain the problem below:</p>\n<p>my applications.properties file</p>\n<pre><code>spring.mvc.view.prefix=/WEB-INF/views/\nspring.mvc.view.suffix=.jsp\n</code></pre>\n<p>my registrationController.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class RegistrationController {\n    \n    @GetMapping(&quot;/registration&quot;)\n    public String registerMe() {\n        return &quot;register&quot;;\n    }\n\n}\n</code></pre>\n<p>and register.jsp</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\n    pageEncoding=&quot;UTF-8&quot;%&gt;\n    \n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;title&gt;Registration&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;Register&lt;/h1&gt;\n    &lt;form action=&quot;userDetails&quot;&gt;\n    UserName : &lt;input id=&quot;name&quot; name=&quot;name&quot;/&gt;\n    Email ID : &lt;input id=&quot;email&quot; name=&quot;email&quot;/&gt;\n    Password : &lt;input type=&quot;password&quot; id=&quot;password&quot; name=&quot;password&quot;/&gt;\n    Mobile Number : &lt;input id=&quot;number&quot; name=&quot;number&quot;/&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Register Me&quot;/&gt;\n       \n    \n    \n    &lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt; &lt;!-- Specify the version you want to use --&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n        &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n     &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n&lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/0bO5m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0bO5m.png\" alt=\"My folder structure\" /></a></p>\n<p>When I try to run with this with the default login and the console password I am getting white label error <code>Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.</code> And when I try with @RestController instead of @Controller I am able to print &quot;register&quot; as a string but still not as a JSP file, which is what I want to achieve. Any suggestions?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686992691,"post_id":76494972,"comment_id":134877103,"body_markdown":"Please show your code...","body":"Please show your code..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686993192,"post_id":76494972,"comment_id":134877139,"body_markdown":"BTW: I would suggest to upgrade your surefire plugin version as well as the maven-compiler-plugin version to most recent versions and also use JDK21 ...Also use most recent version of Maven...","body":"BTW: I would suggest to upgrade your surefire plugin version as well as the maven-compiler-plugin version to most recent versions and also use JDK21 ...Also use most recent version of Maven..."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686993753,"post_id":76494972,"comment_id":134877179,"body_markdown":"The step to get a runnable jar you have to use maven-shade-plugin but I would say that&#39;s the next step. First get it compiled etc.","body":"The step to get a runnable jar you have to use maven-shade-plugin but I would say that&#39;s the next step. First get it compiled etc."}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686994586,"creation_date":1686994586,"answer_id":76495598,"question_id":76494972,"body_markdown":"The configuration for surefire/failsafe/compiler plugin:\r\n\r\nUsing the [following versions of maven plugins][1]:\r\n\r\n* maven-compiler-plugin version 3.11.0\r\n* maven-surefire-plugin version 3.1.2\r\n* maven-failsafe-plugin version 3.1.2\r\n\r\n\r\n&lt;!-- language:language-xml --&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;21&lt;/maven.compiler.release&gt;\r\n      &lt;/properties&gt;\r\n      ..\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;argLine&gt;\r\n                --add-modules jdk.incubator.vector\r\n              &lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;argLine&gt;\r\n                --add-modules jdk.incubator.vector\r\n              &lt;/argLine&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;compilerArgs&gt;\r\n                &lt;arg&gt;--add-modules&lt;/arg&gt;\r\n                &lt;arg&gt;jdk.incubator.vector&lt;/arg&gt;\r\n              &lt;/compilerArgs&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\nAn example with Vector API (running on JDK 21 ea build):\r\n\r\n&lt;!-- language:language-java --&gt;\r\n\r\n    package com.soebes.jdk21.incubator;\r\n    \r\n    import jdk.incubator.vector.FloatVector;\r\n    import jdk.incubator.vector.VectorSpecies;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    class VectorTest {\r\n    \r\n      static final VectorSpecies&lt;Float&gt; SPECIES = FloatVector.SPECIES_256;\r\n    \r\n      void vectorComputation(float[] a, float[] b, float[] c) {\r\n    \r\n        for (int i = 0; i &lt; a.length; i += SPECIES.length()) {\r\n          var m = SPECIES.indexInRange(i, a.length);\r\n          // FloatVector va, vb, vc;\r\n          var va = FloatVector.fromArray(SPECIES, a, i, m);\r\n          var vb = FloatVector.fromArray(SPECIES, b, i, m);\r\n          var vc = va.mul(va).\r\n              add(vb.mul(vb)).\r\n              neg();\r\n          vc.intoArray(c, i, m);\r\n        }\r\n      }\r\n    \r\n      @Test\r\n      void name() {\r\n        float[] a = {1.0f, 2.0f, 3.0f, 4.0f};\r\n        float[] b = {1.0f, 2.0f, 3.0f, 4.0f};\r\n        float[] c = {1.0f, 2.0f, 3.0f, 4.0f};\r\n    \r\n        vectorComputation(a, b, c);\r\n      }\r\n    }\r\n\r\nYou can find a full working example here: https://github.com/khmarbaise/jdk21 and in that class: https://github.com/khmarbaise/jdk21/blob/main/src/test/java/com/soebes/jdk21/incubator/VectorTest.java \r\nBut you have to install most recent JDK 21 ea build. \r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/","title":"Issues using jdk.incubator.vector in a Maven Project","body":"<p>The configuration for surefire/failsafe/compiler plugin:</p>\n<p>Using the <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">following versions of maven plugins</a>:</p>\n<ul>\n<li>maven-compiler-plugin version 3.11.0</li>\n<li>maven-surefire-plugin version 3.1.2</li>\n<li>maven-failsafe-plugin version 3.1.2</li>\n</ul>\n\n<pre><code>  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;21&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n  ..\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;\n            --add-modules jdk.incubator.vector\n          &lt;/argLine&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;argLine&gt;\n            --add-modules jdk.incubator.vector\n          &lt;/argLine&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;compilerArgs&gt;\n            &lt;arg&gt;--add-modules&lt;/arg&gt;\n            &lt;arg&gt;jdk.incubator.vector&lt;/arg&gt;\n          &lt;/compilerArgs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>An example with Vector API (running on JDK 21 ea build):</p>\n\n<pre><code>package com.soebes.jdk21.incubator;\n\nimport jdk.incubator.vector.FloatVector;\nimport jdk.incubator.vector.VectorSpecies;\nimport org.junit.jupiter.api.Test;\n\nclass VectorTest {\n\n  static final VectorSpecies&lt;Float&gt; SPECIES = FloatVector.SPECIES_256;\n\n  void vectorComputation(float[] a, float[] b, float[] c) {\n\n    for (int i = 0; i &lt; a.length; i += SPECIES.length()) {\n      var m = SPECIES.indexInRange(i, a.length);\n      // FloatVector va, vb, vc;\n      var va = FloatVector.fromArray(SPECIES, a, i, m);\n      var vb = FloatVector.fromArray(SPECIES, b, i, m);\n      var vc = va.mul(va).\n          add(vb.mul(vb)).\n          neg();\n      vc.intoArray(c, i, m);\n    }\n  }\n\n  @Test\n  void name() {\n    float[] a = {1.0f, 2.0f, 3.0f, 4.0f};\n    float[] b = {1.0f, 2.0f, 3.0f, 4.0f};\n    float[] c = {1.0f, 2.0f, 3.0f, 4.0f};\n\n    vectorComputation(a, b, c);\n  }\n}\n</code></pre>\n<p>You can find a full working example here: <a href=\"https://github.com/khmarbaise/jdk21\" rel=\"nofollow noreferrer\">https://github.com/khmarbaise/jdk21</a> and in that class: <a href=\"https://github.com/khmarbaise/jdk21/blob/main/src/test/java/com/soebes/jdk21/incubator/VectorTest.java\" rel=\"nofollow noreferrer\">https://github.com/khmarbaise/jdk21/blob/main/src/test/java/com/soebes/jdk21/incubator/VectorTest.java</a>\nBut you have to install most recent JDK 21 ea build.</p>\n"}],"owner":{"account_id":19513003,"reputation":53,"user_id":14276536,"display_name":"need_help_ples"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686994586,"creation_date":1686982678,"question_id":76494972,"body_markdown":"I am trying to figure out how to use the `jdk.incubator.vector` inside my Maven Project, but it always return these errors:\r\n\r\n```\r\nCaused by: java.lang.Error: Unresolved compilation problems: \r\n    The import jdk.incubator cannot be resolved\r\n    The import jdk.incubator cannot be resolved\r\n    VectorSpecies cannot be resolved to a type\r\n    FloatVector cannot be resolved to a variable\r\n    VectorSpecies cannot be resolved to a type\r\n    DoubleVector cannot be resolved to a type\r\n    DoubleVector cannot be resolved\r\n    VectorSpecies cannot be resolved to a type\r\n    .....\r\n\r\n```\r\n\r\nThis is my `pom.xml` file:\r\n```xml\r\n&lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;!-- Use JDK 17, instead of the default one (JDK 1.5) --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;release&gt;17&lt;/release&gt;\r\n                    &lt;compilerArgs&gt;\r\n                        &lt;arg&gt;--add-modules&lt;/arg&gt;\r\n                        &lt;arg&gt;jdk.incubator.vector&lt;/arg&gt;\r\n                    &lt;/compilerArgs&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- Testing Settings --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;systemPropertyVariables&gt;\r\n                        &lt;org.vanilladb.core.config.file&gt;${project.build.directory}/test-classes/org/vanilladb/core/vanilladb.properties&lt;/org.vanilladb.core.config.file&gt;\r\n                        &lt;java.util.logging.config.file&gt;${project.build.directory}/test-classes/java/util/logging/logging.properties&lt;/java.util.logging.config.file&gt;\r\n                    &lt;/systemPropertyVariables&gt;\r\n                    &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n                    &lt;argLine&gt;--add-modules&lt;/argLine&gt;\r\n                    &lt;argLine&gt;jdk.incubator.vector&lt;/argLine&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;org/vanilladb/core/FullTestSuite.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n....\r\n```\r\nI would then compile the code into a runnable jar file, and run it.\r\nAnd my run argument would look like the following:\r\n```\r\njava -jar --add-modules=jdk.incubator.vector -Djava.util.logging.config.file=logging.properties -Dorg.vanilladb.bench.config.file=vanillabench.properties -Dorg.vanilladb.core.config.file=vanilladb.properties server.jar baseline_DB\r\n```\r\n\r\nI&#39;m very new to Maven, can someone kindly help to resolve the problem?\r\nThanks in advance.","title":"Issues using jdk.incubator.vector in a Maven Project","body":"<p>I am trying to figure out how to use the <code>jdk.incubator.vector</code> inside my Maven Project, but it always return these errors:</p>\n<pre><code>Caused by: java.lang.Error: Unresolved compilation problems: \n    The import jdk.incubator cannot be resolved\n    The import jdk.incubator cannot be resolved\n    VectorSpecies cannot be resolved to a type\n    FloatVector cannot be resolved to a variable\n    VectorSpecies cannot be resolved to a type\n    DoubleVector cannot be resolved to a type\n    DoubleVector cannot be resolved\n    VectorSpecies cannot be resolved to a type\n    .....\n\n</code></pre>\n<p>This is my <code>pom.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- Use JDK 17, instead of the default one (JDK 1.5) --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;release&gt;17&lt;/release&gt;\n                    &lt;compilerArgs&gt;\n                        &lt;arg&gt;--add-modules&lt;/arg&gt;\n                        &lt;arg&gt;jdk.incubator.vector&lt;/arg&gt;\n                    &lt;/compilerArgs&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Testing Settings --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;systemPropertyVariables&gt;\n                        &lt;org.vanilladb.core.config.file&gt;${project.build.directory}/test-classes/org/vanilladb/core/vanilladb.properties&lt;/org.vanilladb.core.config.file&gt;\n                        &lt;java.util.logging.config.file&gt;${project.build.directory}/test-classes/java/util/logging/logging.properties&lt;/java.util.logging.config.file&gt;\n                    &lt;/systemPropertyVariables&gt;\n                    &lt;forkCount&gt;1&lt;/forkCount&gt;\n                    &lt;argLine&gt;--add-modules&lt;/argLine&gt;\n                    &lt;argLine&gt;jdk.incubator.vector&lt;/argLine&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;org/vanilladb/core/FullTestSuite.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n....\n</code></pre>\n<p>I would then compile the code into a runnable jar file, and run it.\nAnd my run argument would look like the following:</p>\n<pre><code>java -jar --add-modules=jdk.incubator.vector -Djava.util.logging.config.file=logging.properties -Dorg.vanilladb.bench.config.file=vanillabench.properties -Dorg.vanilladb.core.config.file=vanilladb.properties server.jar baseline_DB\n</code></pre>\n<p>I'm very new to Maven, can someone kindly help to resolve the problem?\nThanks in advance.</p>\n"},{"tags":["java","mongodb","ssl","synchronization"],"comments":[{"owner":{"account_id":3690946,"reputation":1,"user_id":21999157,"display_name":"krishna murti pathak"},"score":0,"creation_date":1686994301,"post_id":76495576,"comment_id":134877228,"body_markdown":"Please suggest solutions, it will be of great help.","body":"Please suggest solutions, it will be of great help."},{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1686995972,"post_id":76495576,"comment_id":134877404,"body_markdown":"I think `mongodb+srv` is used only when you connect to MongoDB Atlas (MongoDB Cloud service) but you connect to your local host","body":"I think <code>mongodb+srv</code> is used only when you connect to MongoDB Atlas (MongoDB Cloud service) but you connect to your local host"}],"owner":{"account_id":3690946,"reputation":1,"user_id":21999157,"display_name":"krishna murti pathak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686994223,"creation_date":1686994223,"question_id":76495576,"body_markdown":"I am using `mongoclient` in my plain Java application project using Gradle with the following dependencies:\r\n\r\n```groovy\r\ndependencies {\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.9.2&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine:5.9.2&#39;\r\n    compileOnly &#39;org.projectlombok:lombok:1.18.26&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok:1.18.26&#39;\r\n    implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver-sync&#39;, version: &#39;4.9.0&#39;\r\n    implementation group: &#39;org.mongodb&#39;, name: &#39;mongodb-driver-reactivestreams&#39;, version: &#39;4.9.1&#39;\r\n    implementation(&#39;com.fasterxml.jackson.core:jackson-databind:2.14.2&#39;)\r\n    implementation group: &#39;org.modelmapper&#39;, name: &#39;modelmapper&#39;, version: &#39;0.7.5&#39;\r\n}\r\n```\r\n\r\nWhen I use the standard connection string format, the application is able to connect without any problems. However, when I try to use a DNS Seed list connection string `(mongodb+srv)` because the production URL is in that format and I do not have the standard URL, I get an error:\r\n\r\n```\r\ncom.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=127.0.0.1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake}, caused by {java.io.EOFException: SSL peer shut down incorrectly}}]\r\n```\r\n\r\nThe code snippet that is causing the problem is:\r\n\r\n```java\r\nMongoClientSettings settings = MongoClientSettings.builder()\r\n                    .applyToSslSettings(builder -&gt; {\r\n                        builder.enabled(true);\r\n                        builder.invalidHostNameAllowed(true);\r\n                    })\r\n                    .applyToSocketSettings(builder -&gt; {\r\n                        builder.connectTimeout(6000, TimeUnit.SECONDS);\r\n                        builder.readTimeout(6000, TimeUnit.SECONDS);\r\n                    })\r\n                    .build();\r\ncom.mongodb.client.MongoClient blockingMongoClient = com.mongodb.client.MongoClients.create(settings);\r\n            com.mongodb.client.MongoDatabase db = blockingMongoClient.getDatabase(Objects.requireNonNull(connectionString.getDatabase()));\r\n            com.mongodb.client.MongoCollection&lt;Document&gt; allUsers = db.getCollection(&quot;name of collection&quot;);\r\n            LOGGER.info(&quot;total number of : &quot; +allUsers.countDocuments());\r\n```\r\n\r\nThe connection string that I am passing in the above code looks like:\r\n\r\n```\r\nmongodb+srv://username:password@host/dbname?retryWrites=true&amp;w=majority\r\n```\r\n\r\nBelow is my SSL Handshake report when I debug:\r\n\r\n```\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1.1&quot;,\r\n  &quot;random&quot;              : &quot;32 36 C7 96 66 7C 61 64 DA A1 5B 2E F3 A2 EF B5 D8 B9 A4 6A 5C 2F 9E 3A 24 0D 5A 22 EA 2E 95 45&quot;,\r\n  &quot;session id&quot;          : &quot;&quot;,\r\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    &quot;server_name (0)&quot;: {\r\n      type=host_name (0), value=localhost\r\n    },\r\n    &quot;status_request (5)&quot;: {\r\n      &quot;certificate status type&quot;: ocsp\r\n      &quot;OCSP status request&quot;: {\r\n        &quot;responder_id&quot;: &lt;empty&gt;\r\n        &quot;request extensions&quot;: {\r\n          &lt;empty&gt;\r\n        }\r\n      }\r\n    },\r\n    &quot;supported_groups (10)&quot;: {\r\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n    },\r\n    &quot;ec_point_formats (11)&quot;: {\r\n      &quot;formats&quot;: [uncompressed]\r\n    },\r\n    &quot;status_request_v2 (17)&quot;: {\r\n      &quot;cert status request&quot;: {\r\n        &quot;certificate status type&quot;: ocsp_multi\r\n        &quot;OCSP status request&quot;: {\r\n          &quot;responder_id&quot;: &lt;empty&gt;\r\n          &quot;request extensions&quot;: {\r\n            &lt;empty&gt;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    &quot;extended_master_secret (23)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;supported_versions (43)&quot;: {\r\n      &quot;versions&quot;: [TLSv1.1]\r\n    }\r\n  ]\r\n}\r\n)\r\njavax.net.ssl|DEBUG|11|cluster-ClusterId{value=&#39;648d7ae45252df58e9fd0c8d&#39;, description=&#39;null&#39;}-127.0.0.1:27017|2023-06-17 14:51:08.694 IST|ClientHello.java:642|Produced ClientHello handshake message (\r\n&quot;ClientHello&quot;: {\r\n  &quot;client version&quot;      : &quot;TLSv1.1&quot;,\r\n  &quot;random&quot;              : &quot;5D 3A 7F C2 75 40 D3 7F EA 6F 14 DD 0B 96 DA 5D E4 8E C0 1E AA 69 24 D3 BE 5C 23 FE B9 0D CF D7&quot;,\r\n  &quot;session id&quot;          : &quot;&quot;,\r\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\r\n  &quot;compression methods&quot; : &quot;00&quot;,\r\n  &quot;extensions&quot;          : [\r\n    &quot;server_name (0)&quot;: {\r\n      type=host_name (0), value=localhost\r\n    },\r\n    &quot;status_request (5)&quot;: {\r\n      &quot;certificate status type&quot;: ocsp\r\n      &quot;OCSP status request&quot;: {\r\n        &quot;responder_id&quot;: &lt;empty&gt;\r\n        &quot;request extensions&quot;: {\r\n          &lt;empty&gt;\r\n        }\r\n      }\r\n    },\r\n    &quot;supported_groups (10)&quot;: {\r\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\r\n    },\r\n    &quot;ec_point_formats (11)&quot;: {\r\n      &quot;formats&quot;: [uncompressed]\r\n    },\r\n    &quot;status_request_v2 (17)&quot;: {\r\n      &quot;cert status request&quot;: {\r\n        &quot;certificate status type&quot;: ocsp_multi\r\n        &quot;OCSP status request&quot;: {\r\n          &quot;responder_id&quot;: &lt;empty&gt;\r\n          &quot;request extensions&quot;: {\r\n            &lt;empty&gt;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    &quot;extended_master_secret (23)&quot;: {\r\n      &lt;empty&gt;\r\n    },\r\n    &quot;supported_versions (43)&quot;: {\r\n      &quot;versions&quot;: [TLSv1.1]\r\n    }\r\n  ]\r\n}\r\n)\r\njavax.net.ssl|ERROR|11|cluster-ClusterId{value=&#39;648d7ae45252df58e9fd0c8d&#39;, description=&#39;null&#39;}-127.0.0.1:27017|2023-06-17 14:51:08.696 IST|TransportContext.java:345|Fatal (HANDSHAKE_FAILURE): Couldn&#39;t kickstart handshaking (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1696)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1514)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1416)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:921)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1291)\r\n  \tat com.mongodb.internal.connection.SocketStream.write(SocketStream.java:102)\r\n  \tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:577)\r\n  \tat com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:411)\r\n  \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:357)\r\n  \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102)\r\n  \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49)\r\n  \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:129)\r\n  \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:77)\r\n  \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:206)\r\n  \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:199)\r\n  \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:159)\r\n  \tat java.base/java.lang.Thread.run(Thread.java:829)\r\n  Caused by: java.io.EOFException: SSL peer shut down incorrectly\r\n  \tat java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:483)\r\n  \tat java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\r\n  \tat java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\r\n  \tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\r\n  \tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)\r\n  \t... 16 more}\r\n\r\n)\r\n\r\n```","title":"MongoClient connection from Java is throwing SSL Handshake exception when using DNS seed list connection format","body":"<p>I am using <code>mongoclient</code> in my plain Java application project using Gradle with the following dependencies:</p>\n<pre><code>dependencies {\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.9.2'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.9.2'\n    compileOnly 'org.projectlombok:lombok:1.18.26'\n    annotationProcessor 'org.projectlombok:lombok:1.18.26'\n    implementation group: 'org.mongodb', name: 'mongodb-driver-sync', version: '4.9.0'\n    implementation group: 'org.mongodb', name: 'mongodb-driver-reactivestreams', version: '4.9.1'\n    implementation('com.fasterxml.jackson.core:jackson-databind:2.14.2')\n    implementation group: 'org.modelmapper', name: 'modelmapper', version: '0.7.5'\n}\n</code></pre>\n<p>When I use the standard connection string format, the application is able to connect without any problems. However, when I try to use a DNS Seed list connection string <code>(mongodb+srv)</code> because the production URL is in that format and I do not have the standard URL, I get an error:</p>\n<pre><code>com.mongodb.MongoTimeoutException: Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[{address=127.0.0.1:27017, type=UNKNOWN, state=CONNECTING, exception={com.mongodb.MongoSocketWriteException: Exception sending message}, caused by {javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake}, caused by {java.io.EOFException: SSL peer shut down incorrectly}}]\n</code></pre>\n<p>The code snippet that is causing the problem is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MongoClientSettings settings = MongoClientSettings.builder()\n                    .applyToSslSettings(builder -&gt; {\n                        builder.enabled(true);\n                        builder.invalidHostNameAllowed(true);\n                    })\n                    .applyToSocketSettings(builder -&gt; {\n                        builder.connectTimeout(6000, TimeUnit.SECONDS);\n                        builder.readTimeout(6000, TimeUnit.SECONDS);\n                    })\n                    .build();\ncom.mongodb.client.MongoClient blockingMongoClient = com.mongodb.client.MongoClients.create(settings);\n            com.mongodb.client.MongoDatabase db = blockingMongoClient.getDatabase(Objects.requireNonNull(connectionString.getDatabase()));\n            com.mongodb.client.MongoCollection&lt;Document&gt; allUsers = db.getCollection(&quot;name of collection&quot;);\n            LOGGER.info(&quot;total number of : &quot; +allUsers.countDocuments());\n</code></pre>\n<p>The connection string that I am passing in the above code looks like:</p>\n<pre><code>mongodb+srv://username:password@host/dbname?retryWrites=true&amp;w=majority\n</code></pre>\n<p>Below is my SSL Handshake report when I debug:</p>\n<pre><code>&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.1&quot;,\n  &quot;random&quot;              : &quot;32 36 C7 96 66 7C 61 64 DA A1 5B 2E F3 A2 EF B5 D8 B9 A4 6A 5C 2F 9E 3A 24 0D 5A 22 EA 2E 95 45&quot;,\n  &quot;session id&quot;          : &quot;&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;server_name (0)&quot;: {\n      type=host_name (0), value=localhost\n    },\n    &quot;status_request (5)&quot;: {\n      &quot;certificate status type&quot;: ocsp\n      &quot;OCSP status request&quot;: {\n        &quot;responder_id&quot;: &lt;empty&gt;\n        &quot;request extensions&quot;: {\n          &lt;empty&gt;\n        }\n      }\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed]\n    },\n    &quot;status_request_v2 (17)&quot;: {\n      &quot;cert status request&quot;: {\n        &quot;certificate status type&quot;: ocsp_multi\n        &quot;OCSP status request&quot;: {\n          &quot;responder_id&quot;: &lt;empty&gt;\n          &quot;request extensions&quot;: {\n            &lt;empty&gt;\n          }\n        }\n      }\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.1]\n    }\n  ]\n}\n)\njavax.net.ssl|DEBUG|11|cluster-ClusterId{value='648d7ae45252df58e9fd0c8d', description='null'}-127.0.0.1:27017|2023-06-17 14:51:08.694 IST|ClientHello.java:642|Produced ClientHello handshake message (\n&quot;ClientHello&quot;: {\n  &quot;client version&quot;      : &quot;TLSv1.1&quot;,\n  &quot;random&quot;              : &quot;5D 3A 7F C2 75 40 D3 7F EA 6F 14 DD 0B 96 DA 5D E4 8E C0 1E AA 69 24 D3 BE 5C 23 FE B9 0D CF D7&quot;,\n  &quot;session id&quot;          : &quot;&quot;,\n  &quot;cipher suites&quot;       : &quot;[TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA(0xC00A), TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA(0xC014), TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA(0xC009), TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA(0xC013), TLS_DHE_RSA_WITH_AES_256_CBC_SHA(0x0039), TLS_DHE_DSS_WITH_AES_256_CBC_SHA(0x0038), TLS_DHE_RSA_WITH_AES_128_CBC_SHA(0x0033), TLS_DHE_DSS_WITH_AES_128_CBC_SHA(0x0032), TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA(0xC005), TLS_ECDH_RSA_WITH_AES_256_CBC_SHA(0xC00F), TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA(0xC004), TLS_ECDH_RSA_WITH_AES_128_CBC_SHA(0xC00E), TLS_RSA_WITH_AES_256_CBC_SHA(0x0035), TLS_RSA_WITH_AES_128_CBC_SHA(0x002F), TLS_EMPTY_RENEGOTIATION_INFO_SCSV(0x00FF)]&quot;,\n  &quot;compression methods&quot; : &quot;00&quot;,\n  &quot;extensions&quot;          : [\n    &quot;server_name (0)&quot;: {\n      type=host_name (0), value=localhost\n    },\n    &quot;status_request (5)&quot;: {\n      &quot;certificate status type&quot;: ocsp\n      &quot;OCSP status request&quot;: {\n        &quot;responder_id&quot;: &lt;empty&gt;\n        &quot;request extensions&quot;: {\n          &lt;empty&gt;\n        }\n      }\n    },\n    &quot;supported_groups (10)&quot;: {\n      &quot;versions&quot;: [x25519, secp256r1, secp384r1, secp521r1, x448, ffdhe2048, ffdhe3072, ffdhe4096, ffdhe6144, ffdhe8192]\n    },\n    &quot;ec_point_formats (11)&quot;: {\n      &quot;formats&quot;: [uncompressed]\n    },\n    &quot;status_request_v2 (17)&quot;: {\n      &quot;cert status request&quot;: {\n        &quot;certificate status type&quot;: ocsp_multi\n        &quot;OCSP status request&quot;: {\n          &quot;responder_id&quot;: &lt;empty&gt;\n          &quot;request extensions&quot;: {\n            &lt;empty&gt;\n          }\n        }\n      }\n    },\n    &quot;extended_master_secret (23)&quot;: {\n      &lt;empty&gt;\n    },\n    &quot;supported_versions (43)&quot;: {\n      &quot;versions&quot;: [TLSv1.1]\n    }\n  ]\n}\n)\njavax.net.ssl|ERROR|11|cluster-ClusterId{value='648d7ae45252df58e9fd0c8d', description='null'}-127.0.0.1:27017|2023-06-17 14:51:08.696 IST|TransportContext.java:345|Fatal (HANDSHAKE_FAILURE): Couldn't kickstart handshaking (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Remote host terminated the handshake\n    at java.base/sun.security.ssl.SSLSocketImpl.handleEOF(SSLSocketImpl.java:1696)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1514)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1416)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:456)\n    at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:921)\n    at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1291)\n    at com.mongodb.internal.connection.SocketStream.write(SocketStream.java:102)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:577)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:411)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:357)\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:102)\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:49)\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:129)\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:77)\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:206)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:199)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:159)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n  Caused by: java.io.EOFException: SSL peer shut down incorrectly\n    at java.base/sun.security.ssl.SSLSocketInputRecord.read(SSLSocketInputRecord.java:483)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.readHeader(SSLSocketInputRecord.java:472)\n    at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:160)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:111)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1506)\n    ... 16 more}\n\n)\n\n</code></pre>\n"},{"tags":["java","jpa","playframework","hql"],"comments":[{"owner":{"account_id":26568,"reputation":15517,"user_id":69258,"display_name":"DataNucleus"},"score":0,"creation_date":1317578364,"post_id":7626894,"comment_id":9262150,"body_markdown":"or just use an *indexed* list, so the original order is retained. &quot;ordered&quot; lists are prone to problems and break transparent persistence","body":"or just use an <i>indexed</i> list, so the original order is retained. &quot;ordered&quot; lists are prone to problems and break transparent persistence"}],"answers":[{"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1317565364,"creation_date":1317565364,"answer_id":7626921,"question_id":7626894,"body_markdown":"If there&#39;s no &quot;natural&quot; order then it&#39;s likely you&#39;ll need to order manually; you *might* be able to rely on DB ordering depending on the DB and query construction, but IMO that&#39;s risky. \r\n\r\nOn the plus side, unless you have a huge number of objects, the overhead is trivial.","title":"JPQL/HQL - Is it possible to specify the order, by providing a list of IDs?","body":"<p>If there's no \"natural\" order then it's likely you'll need to order manually; you <em>might</em> be able to rely on DB ordering depending on the DB and query construction, but IMO that's risky. </p>\n\n<p>On the plus side, unless you have a huge number of objects, the overhead is trivial.</p>\n"},{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1317565392,"creation_date":1317565392,"answer_id":7626924,"question_id":7626894,"body_markdown":"This particular case would be easily handled using ORDER BY id DESC, but I&#39;m guessing that it&#39;s only a poorly chosen example.\r\n\r\nI&#39;d say it&#39;s not possible unless you can find a way to take advantage of SQL to do it.\r\n\r\nYou should have a persistence layer to map objects from a database into Java (you should not be passing ResultSet out of the persistence layer).  It&#39;d be trivial to do it there.\r\n","title":"JPQL/HQL - Is it possible to specify the order, by providing a list of IDs?","body":"<p>This particular case would be easily handled using ORDER BY id DESC, but I'm guessing that it's only a poorly chosen example.</p>\n\n<p>I'd say it's not possible unless you can find a way to take advantage of SQL to do it.</p>\n\n<p>You should have a persistence layer to map objects from a database into Java (you should not be passing ResultSet out of the persistence layer).  It'd be trivial to do it there.</p>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1317565514,"creation_date":1317565514,"answer_id":7626938,"question_id":7626894,"body_markdown":"I think you&#39;ll have to sort the items in Java:\r\n\r\n    public void sortItems(List&lt;Item&gt; items, final List&lt;Long&gt; ids) {\r\n        Collections.sort(items, new Comparator&lt;Item&gt;() {\r\n            @Override\r\n            public int compare(Item i1, Item i2) {\r\n                int index1 = ids.indexOf(i1.getId());\r\n                int index2 = ids.indexOf(i2.getId());\r\n                return Integer.valueOf(index1).compareTo(Integer.valueOf(index2));\r\n            }\r\n        });\r\n    }","title":"JPQL/HQL - Is it possible to specify the order, by providing a list of IDs?","body":"<p>I think you'll have to sort the items in Java:</p>\n\n<pre><code>public void sortItems(List&lt;Item&gt; items, final List&lt;Long&gt; ids) {\n    Collections.sort(items, new Comparator&lt;Item&gt;() {\n        @Override\n        public int compare(Item i1, Item i2) {\n            int index1 = ids.indexOf(i1.getId());\n            int index2 = ids.indexOf(i2.getId());\n            return Integer.valueOf(index1).compareTo(Integer.valueOf(index2));\n        }\n    });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10098447,"reputation":171,"user_id":7463077,"display_name":"Jaap Reitsma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579609032,"creation_date":1579609032,"answer_id":59840975,"question_id":7626894,"body_markdown":"Even old questions are asked much later again. I solved this using a mapping:\r\n```\r\n@Override\r\npublic List&lt;MyItem&gt; fetch(List&lt;Long&gt; ids) {\r\n\t// Create an identity map using the generic fetch. Rows are returned, but not necessarily in the same order\r\n\tMap&lt;Long, MyItem&gt; resultMap = super.fetch(ids).stream().collect(Collectors.toMap(MyItem::getId, Function.identity()));\r\n\t// Now return the rows in the same order as the ids, using the map.\r\n\treturn ids.stream().map(id -&gt; resultMap.get(id)).collect(Collectors.toList());\r\n}\r\n```\r\n","title":"JPQL/HQL - Is it possible to specify the order, by providing a list of IDs?","body":"<p>Even old questions are asked much later again. I solved this using a mapping:</p>\n\n<pre><code>@Override\npublic List&lt;MyItem&gt; fetch(List&lt;Long&gt; ids) {\n    // Create an identity map using the generic fetch. Rows are returned, but not necessarily in the same order\n    Map&lt;Long, MyItem&gt; resultMap = super.fetch(ids).stream().collect(Collectors.toMap(MyItem::getId, Function.identity()));\n    // Now return the rows in the same order as the ids, using the map.\n    return ids.stream().map(id -&gt; resultMap.get(id)).collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23977999,"reputation":73,"user_id":17965846,"display_name":"wuttke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661238827,"creation_date":1661238733,"answer_id":73454513,"question_id":7626894,"body_markdown":"A little easier\r\n\r\n    items.sort(Comparator.comparingLong(i -&gt; ids.indexOf(i.getId())));","title":"JPQL/HQL - Is it possible to specify the order, by providing a list of IDs?","body":"<p>A little easier</p>\n<pre><code>items.sort(Comparator.comparingLong(i -&gt; ids.indexOf(i.getId())));\n</code></pre>\n"}],"owner":{"account_id":449103,"reputation":8486,"user_id":843699,"accept_rate":59,"display_name":"electrotype"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1433,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":7626921,"answer_count":5,"score":1,"last_activity_date":1686992620,"creation_date":1317565152,"question_id":7626894,"body_markdown":"(Note: I&#39;m using the Play! framework, which uses Hibernate as the JPA implementation.)\r\n\r\nI have a list of IDs and I want to get the Items from the database by keeping the order that is used in my ID list.\r\n\r\nLet&#39;s say my list is: 444,222,333,111\r\n\r\nI want the JPQL/HQL to return the Item with id #444 first, then the one with id #222, etc.\r\n\r\nI tried something like: \r\n\r\n    id in (444,222,333,111) order by id=444 DESC, id=222 DESC, id=333 DESC, id=111 DESC\r\n\r\nBut it doesn&#39;t seem to work.\r\n\r\nIs it possible or will I have to forget the &quot;order by&quot; part and manually re-order the Items once returned?\r\n\r\n\r\n\r\n","title":"JPQL/HQL - Is it possible to specify the order, by providing a list of IDs?","body":"<p>(Note: I'm using the Play! framework, which uses Hibernate as the JPA implementation.)</p>\n\n<p>I have a list of IDs and I want to get the Items from the database by keeping the order that is used in my ID list.</p>\n\n<p>Let's say my list is: 444,222,333,111</p>\n\n<p>I want the JPQL/HQL to return the Item with id #444 first, then the one with id #222, etc.</p>\n\n<p>I tried something like: </p>\n\n<pre><code>id in (444,222,333,111) order by id=444 DESC, id=222 DESC, id=333 DESC, id=111 DESC\n</code></pre>\n\n<p>But it doesn't seem to work.</p>\n\n<p>Is it possible or will I have to forget the \"order by\" part and manually re-order the Items once returned?</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":8487283,"reputation":1292,"user_id":6364956,"accept_rate":86,"display_name":"Sadiq Ali"},"score":1,"creation_date":1500291184,"post_id":45143135,"comment_id":77254885,"body_markdown":"Maybe this will be of some help to you. [SO Question](https://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code)\n\nYou may have to re-import the project. `View -&gt; Tool Windows -&gt; Maven Projects, then click on cycle arrows icon`","body":"Maybe this will be of some help to you. <a href=\"https://stackoverflow.com/questions/5905896/intellij-inspection-gives-cannot-resolve-symbol-but-still-compiles-code\">SO Question</a>  You may have to re-import the project. <code>View -&gt; Tool Windows -&gt; Maven Projects, then click on cycle arrows icon</code>"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1500291535,"post_id":45143135,"comment_id":77255137,"body_markdown":"See https://confluence.jetbrains.com/display/IDEADEV/Maven+Integration+FAQ#MavenIntegrationFAQ-GeneratedSources","body":"See <a href=\"https://confluence.jetbrains.com/display/IDEADEV/Maven+Integration+FAQ#MavenIntegrationFAQ-GeneratedSources\" rel=\"nofollow noreferrer\">confluence.jetbrains.com/display/IDEADEV/&hellip;</a>"},{"owner":{"account_id":3586404,"reputation":1171,"user_id":2993494,"accept_rate":44,"display_name":"Tom Withers"},"score":0,"creation_date":1500291793,"post_id":45143135,"comment_id":77255314,"body_markdown":"@CrazyCoder My folders are there that&#39;s not the issue. When I mark it as source intellij doesn&#39;t seem to know about it","body":"@CrazyCoder My folders are there that&#39;s not the issue. When I mark it as source intellij doesn&#39;t seem to know about it"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1500291814,"post_id":45143135,"comment_id":77255328,"body_markdown":"Please share the [Minimal, Complete, and Verifiable example](http://stackoverflow.com/help/mcve).","body":"Please share the <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>."},{"owner":{"account_id":3586404,"reputation":1171,"user_id":2993494,"accept_rate":44,"display_name":"Tom Withers"},"score":0,"creation_date":1500291971,"post_id":45143135,"comment_id":77255448,"body_markdown":"@CrazyCoder my explanation is fine, there is nothing else I can say to make it clear....","body":"@CrazyCoder my explanation is fine, there is nothing else I can say to make it clear...."},{"owner":{"account_id":3586404,"reputation":1171,"user_id":2993494,"accept_rate":44,"display_name":"Tom Withers"},"score":0,"creation_date":1500292309,"post_id":45143135,"comment_id":77255689,"body_markdown":"@SadiqAli I tried this and It hasnt worked","body":"@SadiqAli I tried this and It hasnt worked"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1500292984,"post_id":45143135,"comment_id":77256184,"body_markdown":"You can share a sample so that others can reproduce it and tell you how to fix it.","body":"You can share a sample so that others can reproduce it and tell you how to fix it."}],"answers":[{"tags":[],"owner":{"account_id":3586404,"reputation":1171,"user_id":2993494,"accept_rate":44,"display_name":"Tom Withers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1500298656,"creation_date":1500298656,"answer_id":45145798,"question_id":45143135,"body_markdown":"Fixed this error....\r\n\r\nIntelliJ was marking all `subdir` of my `generated-sources/cxf` folder as source roots... So a simple highlight of all folders and un-mark as sources fixes the issue.","title":"Intellij-idea cannot see generated sources directory","body":"<p>Fixed this error....</p>\n\n<p>IntelliJ was marking all <code>subdir</code> of my <code>generated-sources/cxf</code> folder as source roots... So a simple highlight of all folders and un-mark as sources fixes the issue.</p>\n"},{"tags":[],"owner":{"account_id":10669883,"reputation":150,"user_id":7855267,"display_name":"Asad Abdin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1510640076,"creation_date":1510640076,"answer_id":47278829,"question_id":45143135,"body_markdown":"uncheck &quot;Create Separate module per source set&quot; in Preferences &gt; Build, Execution, Deployment &gt; Gradle and then rebuild / gradle refresh","title":"Intellij-idea cannot see generated sources directory","body":"<p>uncheck \"Create Separate module per source set\" in Preferences > Build, Execution, Deployment > Gradle and then rebuild / gradle refresh</p>\n"},{"tags":[],"owner":{"account_id":28828593,"reputation":1,"user_id":22079588,"display_name":"Aksh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686990418,"creation_date":1686849569,"answer_id":76484085,"question_id":45143135,"body_markdown":"I had a similar situation where I had to generate a Java class from the script through the `pom.xml` file. Even after I could see that the Java class was generated successfully after compiling the package, I mentioned I was not able to import that generated Java class and use it any other class. \r\n\r\nSince this took much of my time to resolve the issue and I could not find any proper answers, I&#39;m posting the steps I performed so that it could be a help to anyone in the future with similar issues.\r\n\r\n1. First mark the generated source directory as the source by going to File -&gt;Project Structure -&gt; modules. Click on the Source tab and add your generated folder as source.\r\n\r\n2. Right click on the folder under generated source folder and select mark directory as -&gt; Generated sources root \r\n\r\n3. Use this plugin so that generated class can be imported to any other class. \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n      &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.0.0&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;add-java-source&lt;/id&gt;\r\n          &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;add-source&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n          &lt;configuration&gt;\r\n            &lt;sources&gt;\r\n              &lt;source&gt;${project.build.directory}/generated-sources/{folderUnderGeneratedSrcFolder} &lt;/source&gt;\r\n            &lt;/sources&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nHope this helps!!!!!\r\n","title":"Intellij-idea cannot see generated sources directory","body":"<p>I had a similar situation where I had to generate a Java class from the script through the <code>pom.xml</code> file. Even after I could see that the Java class was generated successfully after compiling the package, I mentioned I was not able to import that generated Java class and use it any other class.</p>\n<p>Since this took much of my time to resolve the issue and I could not find any proper answers, I'm posting the steps I performed so that it could be a help to anyone in the future with similar issues.</p>\n<ol>\n<li><p>First mark the generated source directory as the source by going to File -&gt;Project Structure -&gt; modules. Click on the Source tab and add your generated folder as source.</p>\n</li>\n<li><p>Right click on the folder under generated source folder and select mark directory as -&gt; Generated sources root</p>\n</li>\n<li><p>Use this plugin so that generated class can be imported to any other class.</p>\n</li>\n</ol>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n  &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.0.0&lt;/version&gt;\n  &lt;executions&gt;\n    &lt;execution&gt;\n      &lt;id&gt;add-java-source&lt;/id&gt;\n      &lt;phase&gt;generate-sources&lt;/phase&gt;\n      &lt;goals&gt;\n        &lt;goal&gt;add-source&lt;/goal&gt;\n      &lt;/goals&gt;\n      &lt;configuration&gt;\n        &lt;sources&gt;\n          &lt;source&gt;${project.build.directory}/generated-sources/{folderUnderGeneratedSrcFolder} &lt;/source&gt;\n        &lt;/sources&gt;\n      &lt;/configuration&gt;\n    &lt;/execution&gt;\n  &lt;/executions&gt;\n&lt;/plugin&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Hope this helps!!!!!</p>\n"}],"owner":{"account_id":3586404,"reputation":1171,"user_id":2993494,"accept_rate":44,"display_name":"Tom Withers"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7674,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":45145798,"answer_count":3,"score":1,"last_activity_date":1686990418,"creation_date":1500291029,"question_id":45143135,"body_markdown":"I have a maven project in IntelliJ I have marked the generated sources directory as the source by doing `Files&gt;Project Structure` and marking as source. I&#39;ve also done it the other way by right clicking on the folder and marking as generated-sources.\r\n\r\nI&#39;m still getting errors saying the IntelliJ cannot find things in these folders `Cannot resolve symbol &#39;name_of_folder&#39;` when I&#39;m creating a SOAP implementation \r\n\r\nDoes anyone know how I can fix this issue? From what I can see I have done everything correctly to mark that folder and IntelliJ Should be able to read from there","title":"Intellij-idea cannot see generated sources directory","body":"<p>I have a maven project in IntelliJ I have marked the generated sources directory as the source by doing <code>Files&gt;Project Structure</code> and marking as source. I've also done it the other way by right clicking on the folder and marking as generated-sources.</p>\n\n<p>I'm still getting errors saying the IntelliJ cannot find things in these folders <code>Cannot resolve symbol 'name_of_folder'</code> when I'm creating a SOAP implementation </p>\n\n<p>Does anyone know how I can fix this issue? From what I can see I have done everything correctly to mark that folder and IntelliJ Should be able to read from there</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":7795,"page":365,"page_size":100}
