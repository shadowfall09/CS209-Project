{"items":[{"tags":["java","javafx","tableview"],"comments":[{"owner":{"account_id":5325382,"reputation":2501,"user_id":4720017,"display_name":"LittlePanda"},"score":0,"creation_date":1429099639,"post_id":29649515,"comment_id":47439354,"body_markdown":"Please frame your question properly. You need to post the code you have tried and what is not working. See http://stackoverflow.com/help/how-to-ask and http://stackoverflow.com/help/mcve","body":"Please frame your question properly. You need to post the code you have tried and what is not working. See <a href=\"http://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> and <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1429104096,"creation_date":1429104096,"answer_id":29651439,"question_id":29649515,"body_markdown":"There is a bug in the code you linked. The `updateItem` method in the cell implementation needs to handle the case of empty cells. Try this instead:\r\n\r\n    @Override protected void updateItem(Boolean item, boolean empty) {\r\n      super.updateItem(item, empty);\r\n      if (empty) {\r\n        setGraphic(null);\r\n      } else {\r\n        setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\r\n        setGraphic(paddedButton);\r\n      }\r\n    }","title":"Java FX Table View with Buttons and Pagination","body":"<p>There is a bug in the code you linked. The <code>updateItem</code> method in the cell implementation needs to handle the case of empty cells. Try this instead:</p>\n\n<pre><code>@Override protected void updateItem(Boolean item, boolean empty) {\n  super.updateItem(item, empty);\n  if (empty) {\n    setGraphic(null);\n  } else {\n    setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\n    setGraphic(paddedButton);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6145498,"reputation":13,"user_id":4791612,"display_name":"Milind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":533,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29651439,"answer_count":1,"score":1,"last_activity_date":1645888336,"creation_date":1429098794,"question_id":29649515,"body_markdown":"I am new to JavaFx. In my application i have a requirement to create a table view with Action button in one of the column of rows. I used sample code from [here][1] and implemented the table view with Button and it works perfectly fine. \r\n\r\nNow when i add pagination to it using example given on this link [here][2] the table view is rendered with pagination, but i see the button is getting added for blank rows in action column as well where as remaining columns are blank. \r\n\r\nOne more observation, when i have just 1 page in pagination and less number of records then the records allowed per page then it works fine, buttons are not rendered for blank rows, the moment number of records grows to more then one page this problem happens.\r\n\r\nCan someone help me understand why this is happening?\r\n\r\n\r\n  [1]: https://gist.github.com/jewelsea/3081826\r\n  [2]: https://gist.github.com/timbuethe/7becdc4556225e7c5b7b","title":"Java FX Table View with Buttons and Pagination","body":"<p>I am new to JavaFx. In my application i have a requirement to create a table view with Action button in one of the column of rows. I used sample code from <a href=\"https://gist.github.com/jewelsea/3081826\" rel=\"nofollow noreferrer\">here</a> and implemented the table view with Button and it works perfectly fine.</p>\n<p>Now when i add pagination to it using example given on this link <a href=\"https://gist.github.com/timbuethe/7becdc4556225e7c5b7b\" rel=\"nofollow noreferrer\">here</a> the table view is rendered with pagination, but i see the button is getting added for blank rows in action column as well where as remaining columns are blank.</p>\n<p>One more observation, when i have just 1 page in pagination and less number of records then the records allowed per page then it works fine, buttons are not rendered for blank rows, the moment number of records grows to more then one page this problem happens.</p>\n<p>Can someone help me understand why this is happening?</p>\n"},{"tags":["java","aws-lambda","jackson","pojo"],"comments":[{"owner":{"account_id":16145881,"reputation":441,"user_id":11655642,"display_name":"shockwave"},"score":0,"creation_date":1645892395,"post_id":71277766,"comment_id":125992006,"body_markdown":"Try initialising the List, like `private List&lt;String&gt; aids = new ArrayList();`","body":"Try initialising the List, like <code>private List&lt;String&gt; aids = new ArrayList();</code>"},{"owner":{"account_id":24379488,"reputation":1,"user_id":18311298,"display_name":"UNFAME CODER"},"score":0,"creation_date":1645901816,"post_id":71277766,"comment_id":125994086,"body_markdown":"@shockwave in the POJO itself?","body":"@shockwave in the POJO itself?"}],"owner":{"account_id":24379488,"reputation":1,"user_id":18311298,"display_name":"UNFAME CODER"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645888301,"creation_date":1645888301,"question_id":71277766,"body_markdown":"Hi Everyone i want to call my api from lambda but when i am passing the request i got this error &quot;Cannot deserialize instance of java.lang.String out of START_ARRAY token&quot; \r\nThis is the POJO but here only List aids is not deserializing when passing request from Lambda\r\n\r\n    @Data \r\n    @Builder\r\n    @ToString\r\n    public class BulkFetchRequest {\r\n     @JsonProperty(&quot;merchId&quot;)\r\n     private String merchId;\r\n     @JsonProperty(&quot;markId&quot;)\r\n     private String markId;\r\n     @JsonProperty(&quot;aids&quot;)\r\n     private List&lt;String&gt; aids;\r\n     }\r\n    \r\n    This is my request format:\r\n    \r\n    {\r\n    &quot;merchId&quot;: &quot;2077759361&quot;,\r\n     &quot;markId&quot; : &quot;44571&quot;,\r\n     &quot;aids&quot;: [&quot;B096BK8GW&quot;, &quot;B09B7S84X&quot;, &quot;B07N7QPZD&quot;, &quot;B09GG2LPL&quot; , &quot;B09M41GVR&quot;]\r\n    }\r\n   ","title":"Cannot deserialize instance of java.lang.String out of START_ARRAY token:","body":"<p>Hi Everyone i want to call my api from lambda but when i am passing the request i got this error &quot;Cannot deserialize instance of java.lang.String out of START_ARRAY token&quot;\nThis is the POJO but here only List aids is not deserializing when passing request from Lambda</p>\n<pre><code>@Data \n@Builder\n@ToString\npublic class BulkFetchRequest {\n @JsonProperty(&quot;merchId&quot;)\n private String merchId;\n @JsonProperty(&quot;markId&quot;)\n private String markId;\n @JsonProperty(&quot;aids&quot;)\n private List&lt;String&gt; aids;\n }\n\nThis is my request format:\n\n{\n&quot;merchId&quot;: &quot;2077759361&quot;,\n &quot;markId&quot; : &quot;44571&quot;,\n &quot;aids&quot;: [&quot;B096BK8GW&quot;, &quot;B09B7S84X&quot;, &quot;B07N7QPZD&quot;, &quot;B09GG2LPL&quot; , &quot;B09M41GVR&quot;]\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":8787033,"reputation":11,"user_id":6568541,"display_name":"JSav"},"score":0,"creation_date":1468098833,"post_id":38285763,"comment_id":63991238,"body_markdown":"You can refer the below link .Hope it helps.\nhttp://stackoverflow.com/questions/18992880/exclude-component-from-componentscanhttp://stackoverflow.com/questions/18992880/exclude-component-from-componentscan","body":"You can refer the below link .Hope it helps. <a href=\"http://stackoverflow.com/questions/18992880/exclude-component-from-componentscanhttp://stackoverflow.com/questions/18992880/exclude-component-from-componentscan\" title=\"exclude component from componentscanhttp%3a\">stackoverflow.com/questions/18992880/&hellip;</a>"},{"owner":{"account_id":3030726,"reputation":2008,"user_id":2569801,"accept_rate":86,"display_name":"Rafał Wrzeszcz"},"score":1,"creation_date":1468100029,"post_id":38285763,"comment_id":63991479,"body_markdown":"@JSav Please read the problem description. I&#39;m not auto-scanning the package, I&#39;m creating a bean by-hand and just because it&#39;s injected into container, it&#39;s being processed.","body":"@JSav Please read the problem description. I&#39;m not auto-scanning the package, I&#39;m creating a bean by-hand and just because it&#39;s injected into container, it&#39;s being processed."},{"owner":{"account_id":1658164,"reputation":3247,"user_id":1527103,"accept_rate":89,"display_name":"Gokhan Oner"},"score":0,"creation_date":1468109561,"post_id":38285763,"comment_id":63993109,"body_markdown":"@RafałWrzeszcz, what is it mean &quot;registering a bean without annotation scanning&quot; ? Then how can u register it ? You need a method with &#39;@Bean&#39; annotation that crate and instance of the class, or annotate the class with &#39;@Componen&#39;, &#39;@Service&#39; etc. annotation for annotation scanning to find it ?","body":"@RafałWrzeszcz, what is it mean &quot;registering a bean without annotation scanning&quot; ? Then how can u register it ? You need a method with &#39;@Bean&#39; annotation that crate and instance of the class, or annotate the class with &#39;@Componen&#39;, &#39;@Service&#39; etc. annotation for annotation scanning to find it ?"},{"owner":{"account_id":3004107,"reputation":902,"user_id":2548956,"display_name":"Rae Burawes"},"score":1,"creation_date":1468134491,"post_id":38285763,"comment_id":63996921,"body_markdown":"Does `@ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = TheBean.class) )` will help you?","body":"Does <code>@ComponentScan(excludeFilters = @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, value = TheBean.class) )</code> will help you?"},{"owner":{"account_id":3030726,"reputation":2008,"user_id":2569801,"accept_rate":86,"display_name":"Rafał Wrzeszcz"},"score":0,"creation_date":1476891312,"post_id":38285763,"comment_id":67541438,"body_markdown":"@GokhanOner I *DO NOT* want it to be registered.","body":"@GokhanOner I <i>DO NOT</i> want it to be registered."},{"owner":{"account_id":3030726,"reputation":2008,"user_id":2569801,"accept_rate":86,"display_name":"Rafał Wrzeszcz"},"score":0,"creation_date":1476891344,"post_id":38285763,"comment_id":67541458,"body_markdown":"@RaeBurawes Please read - it&#39;s not imported through scanning.","body":"@RaeBurawes Please read - it&#39;s not imported through scanning."}],"answers":[{"tags":[],"owner":{"account_id":2063259,"reputation":12403,"user_id":1839360,"display_name":"Yan Khonski"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1645887863,"creation_date":1549451810,"answer_id":54552348,"question_id":38285763,"body_markdown":"If you mean you have library in your maven, gradle, then you can exclude spring beans from being initialized. I found https://stackoverflow.com/questions/18992880/exclude-component-from-componentscan\r\n\r\n```java\r\n@Configuration\r\n@EnableSpringConfigured\r\n@ComponentScan(\r\n    basePackages = {&quot;com.example&quot;},\r\n    excludeFilters = {\r\n        @ComponentScan.Filter(\r\n            type = FilterType.ASSIGNABLE_TYPE,\r\n            value = Foo.class)})\r\npublic class MySpringConfiguration {\r\n\r\n}\r\n```\r\n\r\nAnd if you do not want to include transitive dependencies, thus you do not want your dependency to add other dependencies it uses, you have to exclude them from your dependncy (in maven, gradle).","title":"How to exclude bean from loading?","body":"<p>If you mean you have library in your maven, gradle, then you can exclude spring beans from being initialized. I found <a href=\"https://stackoverflow.com/questions/18992880/exclude-component-from-componentscan\">exclude @Component from @ComponentScan</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableSpringConfigured\n@ComponentScan(\n    basePackages = {&quot;com.example&quot;},\n    excludeFilters = {\n        @ComponentScan.Filter(\n            type = FilterType.ASSIGNABLE_TYPE,\n            value = Foo.class)})\npublic class MySpringConfiguration {\n\n}\n</code></pre>\n<p>And if you do not want to include transitive dependencies, thus you do not want your dependency to add other dependencies it uses, you have to exclude them from your dependncy (in maven, gradle).</p>\n"}],"owner":{"account_id":3030726,"reputation":2008,"user_id":2569801,"accept_rate":86,"display_name":"Rafał Wrzeszcz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20354,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":1,"score":12,"last_activity_date":1645887863,"creation_date":1468093791,"question_id":38285763,"body_markdown":"I have a problem integrating external library with Spring. It contains a class annotated with `@Configuration` and it has a method annotated with `@Bean`. I don&#39;t want it to be instantiated (it&#39;s not needed and introduces dependency on a **Spring Boot**, which I don&#39;t use.\r\n\r\nUnfortunately this `@Configuration`-annotated class is used elsewhere in the library (required by the class type, not interface type, so I need to instantiate exactly this class).\r\n\r\nI exluded it&#39;s package from auto-scanning, I&#39;m not importing it directly. Just constructing it by hand and registering in own configuration as a bean.\r\n\r\nSo, to make story short - I need to register a bean, but exclude it from annotation scnanning (to not process it&#39;s `@Bean`-annotated methods). Any way for doing this?","title":"How to exclude bean from loading?","body":"<p>I have a problem integrating external library with Spring. It contains a class annotated with <code>@Configuration</code> and it has a method annotated with <code>@Bean</code>. I don't want it to be instantiated (it's not needed and introduces dependency on a <strong>Spring Boot</strong>, which I don't use.</p>\n\n<p>Unfortunately this <code>@Configuration</code>-annotated class is used elsewhere in the library (required by the class type, not interface type, so I need to instantiate exactly this class).</p>\n\n<p>I exluded it's package from auto-scanning, I'm not importing it directly. Just constructing it by hand and registering in own configuration as a bean.</p>\n\n<p>So, to make story short - I need to register a bean, but exclude it from annotation scnanning (to not process it's <code>@Bean</code>-annotated methods). Any way for doing this?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1645833957,"post_id":71272771,"comment_id":125983333,"body_markdown":"`ArrayList&lt;? super Manager&gt; sonsOfEmployee = new ArrayList&lt;Manager&gt;();` compiles.  If `Manger` is a _subtype_ of `Employee`, then it would make sense that you can&#39;t add an `Employee` to a `List&lt;Manager&gt;`, wouldn&#39;t it?","body":"<code>ArrayList&lt;? super Manager&gt; sonsOfEmployee = new ArrayList&lt;Manager&gt;();</code> compiles.  If <code>Manger</code> is a <i>subtype</i> of <code>Employee</code>, then it would make sense that you can&#39;t add an <code>Employee</code> to a <code>List&lt;Manager&gt;</code>, wouldn&#39;t it?"},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1645908533,"post_id":71272771,"comment_id":125995485,"body_markdown":"@LouisWasserman Please look at the question carefully. it is not a List&lt;Manager&gt;","body":"@LouisWasserman Please look at the question carefully. it is not a List&lt;Manager&gt;"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1645918477,"post_id":71272771,"comment_id":125997031,"body_markdown":"I did look at the question carefully.  An `ArrayList&lt;? super Manager&gt;` _could_ be an `ArrayList&lt;Manager&gt;` as far as Java is concerned, and that&#39;s why it&#39;s not allowing this assignment.","body":"I did look at the question carefully.  An <code>ArrayList&lt;? super Manager&gt;</code> <i>could</i> be an <code>ArrayList&lt;Manager&gt;</code> as far as Java is concerned, and that&#39;s why it&#39;s not allowing this assignment."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1645924269,"post_id":71272771,"comment_id":125997606,"body_markdown":"@LouisWasserman so why can&#39;t we add an `Employee` to `ArrayList&lt;Manager&gt;`? After all it fits the rule we have set: `? super Manager` is allowed.","body":"@LouisWasserman so why can&#39;t we add an <code>Employee</code> to <code>ArrayList&lt;Manager&gt;</code>? After all it fits the rule we have set: <code>? super Manager</code> is allowed."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1645924675,"post_id":71272771,"comment_id":125997642,"body_markdown":"No.  `List&lt;? super Manager&gt;` does not mean what you think it means, you have it backwards.  `List&lt;? super Manager&gt;` means that it&#39;s a `List&lt;T&gt;` for some _fixed but unknown_ type `T` that is `Manager` or one of its supertypes.  It is _not_ a `List` containing anything that is a supertype of `Manager`.","body":"No.  <code>List&lt;? super Manager&gt;</code> does not mean what you think it means, you have it backwards.  <code>List&lt;? super Manager&gt;</code> means that it&#39;s a <code>List&lt;T&gt;</code> for some <i>fixed but unknown</i> type <code>T</code> that is <code>Manager</code> or one of its supertypes.  It is <i>not</i> a <code>List</code> containing anything that is a supertype of <code>Manager</code>."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1645928301,"post_id":71272771,"comment_id":125998014,"body_markdown":"@LouisWasserman To me, your two statements here are equivalent I can&#39;t see how they are different. {Louis] &quot;1) a List&lt;T&gt; for some fixed but unknown type T that is Manager or one of its supertypes. ....2) a List containing anything that is a supertype of Manager&quot;","body":"@LouisWasserman To me, your two statements here are equivalent I can&#39;t see how they are different. {Louis] &quot;1) a List&lt;T&gt; for some fixed but unknown type T that is Manager or one of its supertypes. ....2) a List containing anything that is a supertype of Manager&quot;"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1645929466,"post_id":71272771,"comment_id":125998114,"body_markdown":"You&#39;ll need to think harder about my first comment, then.  What would you expect to happen with the following code: `List&lt;Manager&gt; managerList = new ArrayList&lt;&gt;();  List&lt;? super Manager&gt; superManagerList = managerList;  superManagerList.add(new Employee(&quot;Manager&quot;, 100000));  System.out.println(managerList);`  If this code worked, you would have an `Employee` in a `managerList`, which is impossible.","body":"You&#39;ll need to think harder about my first comment, then.  What would you expect to happen with the following code: <code>List&lt;Manager&gt; managerList = new ArrayList&lt;&gt;();  List&lt;? super Manager&gt; superManagerList = managerList;  superManagerList.add(new Employee(&quot;Manager&quot;, 100000));  System.out.println(managerList);</code>  If this code worked, you would have an <code>Employee</code> in a <code>managerList</code>, which is impossible."},{"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"score":0,"creation_date":1646003764,"post_id":71272771,"comment_id":126011254,"body_markdown":"@LouisWasserman But there are other generics code examples that also show ridiculous output involving String and Number ArrayLists and yet they compile fine.","body":"@LouisWasserman But there are other generics code examples that also show ridiculous output involving String and Number ArrayLists and yet they compile fine."},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1646007151,"post_id":71272771,"comment_id":126011787,"body_markdown":"You&#39;re welcome to ask questions about those, then, but the code example I gave in my last comment is the reason this doesn&#39;t work.","body":"You&#39;re welcome to ask questions about those, then, but the code example I gave in my last comment is the reason this doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645887721,"creation_date":1645834660,"answer_id":71273049,"question_id":71272771,"body_markdown":"**Lower-bounded** generic collections (`Collection&lt;? super A&gt;`) are **writable** - that&#39;s correct.\r\n\r\nFirst, let&#39;s examine what type of collection we can assign to it.\r\n\r\n`List&lt;? super Manager&gt;` means that you can assign to this list a list of managers, a list of employees, a list of objects. All these assignments are perfectly valid and all of them will compile:\r\n\r\n    List&lt;? super Manager&gt; list;\r\n    list = new ArrayList&lt;Manager&gt;();\r\n    list = new ArrayList&lt;Employee&gt;();\r\n    list = new ArrayList&lt;Object&gt;();\r\n\r\nThat means that under the hood of `list` can appear any of these lists. We know for sure only that could be a list of type `Manager` or its super-types. And if it will be an `ArrayList&lt;Manager&gt;` you can&#39;t put an `Employee` object into this collection. \r\n\r\nWe can put an instance of `Manager` into the `Collections&lt;Employee&gt;` but not the other way around.\r\n\r\nLet&#39;s consider *another example*:\r\n\r\n    ArrayList&lt;? super String&gt; list1 = new ArrayList&lt;&gt;();\r\n    list1.add((CharSequence) &quot;Java&quot;); // that will not compile\r\n        \r\n    ArrayList&lt;? super CharSequence&gt; list2 = new ArrayList&lt;&gt;();\r\n    list2.add(&quot;Java&quot;);\r\n\r\nAdding an object of type `CharSequence` to the `ArrayList&lt;? super String&gt;` will fail to compile because the interface `CharSequence` is a super-type of `String`. \r\n\r\nBut we can add a string to `ArrayList&lt;? super CharSequence&gt;` because `String` is compatible with `CharSequence` type.","title":"Why can&#39;t I assign an Employee instance to ArrayList&lt;? super Manager&gt;?","body":"<p><strong>Lower-bounded</strong> generic collections (<code>Collection&lt;? super A&gt;</code>) are <strong>writable</strong> - that's correct.</p>\n<p>First, let's examine what type of collection we can assign to it.</p>\n<p><code>List&lt;? super Manager&gt;</code> means that you can assign to this list a list of managers, a list of employees, a list of objects. All these assignments are perfectly valid and all of them will compile:</p>\n<pre><code>List&lt;? super Manager&gt; list;\nlist = new ArrayList&lt;Manager&gt;();\nlist = new ArrayList&lt;Employee&gt;();\nlist = new ArrayList&lt;Object&gt;();\n</code></pre>\n<p>That means that under the hood of <code>list</code> can appear any of these lists. We know for sure only that could be a list of type <code>Manager</code> or its super-types. And if it will be an <code>ArrayList&lt;Manager&gt;</code> you can't put an <code>Employee</code> object into this collection.</p>\n<p>We can put an instance of <code>Manager</code> into the <code>Collections&lt;Employee&gt;</code> but not the other way around.</p>\n<p>Let's consider <em>another example</em>:</p>\n<pre><code>ArrayList&lt;? super String&gt; list1 = new ArrayList&lt;&gt;();\nlist1.add((CharSequence) &quot;Java&quot;); // that will not compile\n    \nArrayList&lt;? super CharSequence&gt; list2 = new ArrayList&lt;&gt;();\nlist2.add(&quot;Java&quot;);\n</code></pre>\n<p>Adding an object of type <code>CharSequence</code> to the <code>ArrayList&lt;? super String&gt;</code> will fail to compile because the interface <code>CharSequence</code> is a super-type of <code>String</code>.</p>\n<p>But we can add a string to <code>ArrayList&lt;? super CharSequence&gt;</code> because <code>String</code> is compatible with <code>CharSequence</code> type.</p>\n"}],"owner":{"account_id":171134,"reputation":3434,"user_id":398348,"accept_rate":67,"display_name":"likejudo"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1645835214,"accepted_answer_id":71273049,"answer_count":1,"score":0,"last_activity_date":1645887721,"creation_date":1645831779,"question_id":71272771,"body_markdown":"Given that `Manager extends Employee`\r\n\r\nI was surprised to get a compiler error when I try to add an Employee to an ArrayList of Managers,\r\n\r\n       ArrayList&lt;? super Manager&gt; sonsOfEmployee = new ArrayList&lt;&gt;();\r\n        sonsOfEmployee.add(new Employee(&quot;Manager&quot;,100000));\r\n\r\nI get error\r\n\r\n`Required type:\r\ncapture of ? super Manager`","title":"Why can&#39;t I assign an Employee instance to ArrayList&lt;? super Manager&gt;?","body":"<p>Given that <code>Manager extends Employee</code></p>\n<p>I was surprised to get a compiler error when I try to add an Employee to an ArrayList of Managers,</p>\n<pre><code>   ArrayList&lt;? super Manager&gt; sonsOfEmployee = new ArrayList&lt;&gt;();\n    sonsOfEmployee.add(new Employee(&quot;Manager&quot;,100000));\n</code></pre>\n<p>I get error</p>\n<p><code>Required type: capture of ? super Manager</code></p>\n"},{"tags":["java","type-inference","typechecking"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1645887308,"post_id":71277607,"comment_id":125990995,"body_markdown":"It&#39;s probably related to what I said in https://stackoverflow.com/questions/71159519/incompatible-types-object-cannot-be-converted-to-diff/71252057#71252057. If you change your code to `a.setData(new HashMap&lt;&gt;());` it also compiles. After Java 8 this was probably improved, because it&#39;s definitely odd that losing generic information for `a` should lose generic information for the stream it&#39;s used in.","body":"It&#39;s probably related to what I said in <a href=\"https://stackoverflow.com/questions/71159519/incompatible-types-object-cannot-be-converted-to-diff/71252057#71252057\" title=\"incompatible types object cannot be converted to diff\">stackoverflow.com/questions/71159519/&hellip;</a>. If you change your code to <code>a.setData(new HashMap&lt;&gt;());</code> it also compiles. After Java 8 this was probably improved, because it&#39;s definitely odd that losing generic information for <code>a</code> should lose generic information for the stream it&#39;s used in."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1645887908,"post_id":71277607,"comment_id":125991107,"body_markdown":"I&#39;d guess it&#39;s a compiler bug (or perhaps unclear/imprecise specification). If you externalize that lambda to a class method, the comment becomes irrelevant. Seems obvious that the coincidence at source level happens to make the compiler look at unrelated raw types as affecting the stream.","body":"I&#39;d guess it&#39;s a compiler bug (or perhaps unclear/imprecise specification). If you externalize that lambda to a class method, the comment becomes irrelevant. Seems obvious that the coincidence at source level happens to make the compiler look at unrelated raw types as affecting the stream."}],"owner":{"account_id":2480948,"reputation":1857,"user_id":2160440,"accept_rate":84,"display_name":"wlnirvana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645887028,"creation_date":1645887028,"question_id":71277607,"body_markdown":"Example adapted from [zhihu][1]. The following code does not compile. But if you uncomment the highlighted line, it compiles (though with some warnings).\r\n\r\nThis problem only occurs to Java 8.\r\n\r\n**Disclaimer: I understand that raw types should not be used at all, but I&#39;m just curious how can it be that a single comment causes the compiler to malfunction.**\r\n\r\n```java\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\nclass A {\r\n  String title;\r\n  Map&lt;String, Object&gt; data;\r\n\r\n  public void setTitle(String title) {\r\n    this.title = title;\r\n  }\r\n\r\n  public void setData(Map&lt;String, Object&gt; data) {\r\n    this.data = data;\r\n  }\r\n}\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    String[] strs = {&quot;hello&quot;};\r\n    List&lt;A&gt; as = Stream.of(strs).map((item) -&gt; {\r\n      A a = new A();\r\n      a.setData(new HashMap());\r\n      // a.setTitle(item);           &lt;------------- comment matters\r\n      return a;\r\n    }).collect(Collectors.toList());\r\n  }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.zhihu.com/question/518699935","title":"Why a function call changes the type inferred in Java 8?","body":"<p>Example adapted from <a href=\"https://www.zhihu.com/question/518699935\" rel=\"nofollow noreferrer\">zhihu</a>. The following code does not compile. But if you uncomment the highlighted line, it compiles (though with some warnings).</p>\n<p>This problem only occurs to Java 8.</p>\n<p><strong>Disclaimer: I understand that raw types should not be used at all, but I'm just curious how can it be that a single comment causes the compiler to malfunction.</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\nimport java.util.stream.*;\n\nclass A {\n  String title;\n  Map&lt;String, Object&gt; data;\n\n  public void setTitle(String title) {\n    this.title = title;\n  }\n\n  public void setData(Map&lt;String, Object&gt; data) {\n    this.data = data;\n  }\n}\n\npublic class Main {\n  public static void main(String[] args) {\n    String[] strs = {&quot;hello&quot;};\n    List&lt;A&gt; as = Stream.of(strs).map((item) -&gt; {\n      A a = new A();\n      a.setData(new HashMap());\n      // a.setTitle(item);           &lt;------------- comment matters\n      return a;\n    }).collect(Collectors.toList());\n  }\n}\n</code></pre>\n"},{"tags":["java","sql-server"],"comments":[{"owner":{"account_id":123211,"reputation":1039,"user_id":317553,"display_name":"Carl D&#252;vel"},"score":0,"creation_date":1553439911,"post_id":55324632,"comment_id":97376405,"body_markdown":"Looks like the Java Cryptography Extension (JCE) is missing from your classpath? If you are using OpenJDK it should be in the `lib/ext` directory called `sunjce_provider.jar`.","body":"Looks like the Java Cryptography Extension (JCE) is missing from your classpath? If you are using OpenJDK it should be in the <code>lib&#47;ext</code> directory called <code>sunjce_provider.jar</code>."},{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":0,"creation_date":1553444381,"post_id":55324632,"comment_id":97377698,"body_markdown":"hi, sunjce_provider.jar file is available in &#39;C:\\Program Files\\Java\\jdk1.8.0_121\\jre\\lib\\ext&#39; path.","body":"hi, sunjce_provider.jar file is available in &#39;C:\\Program Files\\Java\\jdk1.8.0_121\\jre\\lib\\ext&#39; path."},{"owner":{"account_id":123211,"reputation":1039,"user_id":317553,"display_name":"Carl D&#252;vel"},"score":0,"creation_date":1553452746,"post_id":55324632,"comment_id":97380299,"body_markdown":"What does this program print with the classpath setting of your project: https://gist.github.com/hackbert/079df85e2b0befb188d235b57bd3cb76 ?\n \nOn a side note: That JDK version is pretty outdated. If you can do an update you should.","body":"What does this program print with the classpath setting of your project: <a href=\"https://gist.github.com/hackbert/079df85e2b0befb188d235b57bd3cb76\" rel=\"nofollow noreferrer\">gist.github.com/hackbert/079df85e2b0befb188d235b57bd3cb76</a> ?   On a side note: That JDK version is pretty outdated. If you can do an update you should."},{"owner":{"account_id":123211,"reputation":1039,"user_id":317553,"display_name":"Carl D&#252;vel"},"score":0,"creation_date":1553460267,"post_id":55324632,"comment_id":97382552,"body_markdown":"I just downloaded the exact same version of the JDK you are using and `KeyGenerator.getInstance(&quot;SunTls12RsaPremasterSecret&quot;);` works like a charm. I am on Linux though, but still I think the JCE might not get loaded in your case.","body":"I just downloaded the exact same version of the JDK you are using and <code>KeyGenerator.getInstance(&quot;SunTls12RsaPremasterSecret&quot;);</code> works like a charm. I am on Linux though, but still I think the JCE might not get loaded in your case."},{"owner":{"account_id":123211,"reputation":1039,"user_id":317553,"display_name":"Carl D&#252;vel"},"score":0,"creation_date":1553543291,"post_id":55324632,"comment_id":97415557,"body_markdown":"Glad it worked out!","body":"Glad it worked out!"}],"answers":[{"tags":[],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1615309445,"creation_date":1615309445,"answer_id":66551514,"question_id":55324632,"body_markdown":"It is working fine now. \r\nJust I have done the following: in Eclipse &gt; Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; removed and added the same JDK path, now it is working fine.","title":"How to fix &quot; The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption&quot; error","body":"<p>It is working fine now.\nJust I have done the following: in Eclipse &gt; Window &gt; Preferences &gt; Java &gt; Installed JREs &gt; removed and added the same JDK path, now it is working fine.</p>\n"}],"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15042,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645886429,"creation_date":1553436432,"question_id":55324632,"body_markdown":"I am trying to connect MS SQL server 2016 through java. I am using JDK1.8 and mssql-jdbc-7.2.1.jre8.jar file.\r\n\r\n    public class ConnectToMSSQL {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString connectionURL = &quot;jdbc:sqlserver://localhost:1433;databaseName=TestSQL;user=sa;password=password&quot;;\r\n    \t\ttry {\r\n    \t\t\tClass.forName(&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;);\r\n    \t\t\tConnection connection = DriverManager.getConnection(connectionURL);\r\n    \t\t\tif (connection != null) {\r\n    \t\t\t\tSystem.out.println(&quot;Connected&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nWhile running the above code, got the below error, how to fix this?\r\n\r\n    com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;RSA premaster secret error&quot;. ClientConnectionId:8438be77-02cd-4d82-b84d-16c0045ac415\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2887)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1881)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2452)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2103)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1950)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1162)\r\n    \tat com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:735)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat java.sql.DriverManager.getConnection(Unknown Source)\r\n    \tat database.ConnectToMSSQL.main(ConnectToMSSQL.java:12)\r\n    Caused by: javax.net.ssl.SSLKeyException: RSA premaster secret error\r\n    \tat sun.security.ssl.RSAClientKeyExchange.&lt;init&gt;(Unknown Source)\r\n    \tat sun.security.ssl.ClientHandshaker.serverHelloDone(Unknown Source)\r\n    \tat sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.processLoop(Unknown Source)\r\n    \tat sun.security.ssl.Handshaker.process_record(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1799)\r\n    \t... 8 more\r\n    Caused by: java.security.NoSuchAlgorithmException: SunTls12RsaPremasterSecret KeyGenerator not available\r\n    \tat javax.crypto.KeyGenerator.&lt;init&gt;(KeyGenerator.java:169)\r\n    \tat javax.crypto.KeyGenerator.getInstance(KeyGenerator.java:223)\r\n    \tat sun.security.ssl.JsseJce.getKeyGenerator(Unknown Source)\r\n    \t... 18 more","title":"How to fix &quot; The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption&quot; error","body":"<p>I am trying to connect MS SQL server 2016 through java. I am using JDK1.8 and mssql-jdbc-7.2.1.jre8.jar file.</p>\n\n<pre><code>public class ConnectToMSSQL {\n    public static void main(String[] args) {\n        String connectionURL = \"jdbc:sqlserver://localhost:1433;databaseName=TestSQL;user=sa;password=password\";\n        try {\n            Class.forName(\"com.microsoft.sqlserver.jdbc.SQLServerDriver\");\n            Connection connection = DriverManager.getConnection(connectionURL);\n            if (connection != null) {\n                System.out.println(\"Connected\");\n            }\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>While running the above code, got the below error, how to fix this?</p>\n\n<pre><code>com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \"RSA premaster secret error\". ClientConnectionId:8438be77-02cd-4d82-b84d-16c0045ac415\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2887)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1881)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2452)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2103)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1950)\n    at com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1162)\n    at com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:735)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at java.sql.DriverManager.getConnection(Unknown Source)\n    at database.ConnectToMSSQL.main(ConnectToMSSQL.java:12)\nCaused by: javax.net.ssl.SSLKeyException: RSA premaster secret error\n    at sun.security.ssl.RSAClientKeyExchange.&lt;init&gt;(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.serverHelloDone(Unknown Source)\n    at sun.security.ssl.ClientHandshaker.processMessage(Unknown Source)\n    at sun.security.ssl.Handshaker.processLoop(Unknown Source)\n    at sun.security.ssl.Handshaker.process_record(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1799)\n    ... 8 more\nCaused by: java.security.NoSuchAlgorithmException: SunTls12RsaPremasterSecret KeyGenerator not available\n    at javax.crypto.KeyGenerator.&lt;init&gt;(KeyGenerator.java:169)\n    at javax.crypto.KeyGenerator.getInstance(KeyGenerator.java:223)\n    at sun.security.ssl.JsseJce.getKeyGenerator(Unknown Source)\n    ... 18 more\n</code></pre>\n"},{"tags":["java","sql-server","ssl","jdbc","database-administration"],"answers":[{"tags":[],"owner":{"account_id":3351851,"reputation":978,"user_id":2815760,"accept_rate":100,"display_name":"Angel_Boy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1566505378,"creation_date":1566489853,"answer_id":57613257,"question_id":57595772,"body_markdown":"Ok, so we worked with Microsoft Support on this issue and this is the understanding that we came to.\r\n\r\nMicrosoft added/enabled TLS 1.0 and TLS 1.1 to the Database Server for testing purposes only since Microsoft does not support TLS 1.0 anymore. This lowered the security protocol to a lower state but were able to establish SQL Connectivity between the Application server and the Database Server, but still the Application initially couldn&#39;t connect. Microsoft thinks that it is because of the current connection provider/driver that is being used by the application and they wouldn&#39;t support that part of it since that is Java/Oracle&#39;s JDBC driver.\r\n\r\nIn our case, the application did connect after enabling the TLS 1.0 and TLS 1.1 after sometime.\r\nThis may or may not work in your case.\r\n\r\nSo the recommended solutions if you have the resources to modify the application, are to update the drivers for the application, test and redeploy.\r\n\r\nIf you don&#39;t have the resources to the application then the options are these:\r\n1.Rollback to older Servers for SQL Server. This could work but there is no guarantee.\r\n Also another thing to note is that SQL Server 2008 and 2008R2 are out of support, so the oldest we could go (and still stay supported) would be SQL Server 2012 which may not resolve the issue.\r\n\r\n2.Open the security wide open. This will very likely solve the issue, but is most definitely not recommended. It is likely that the issue has to do with extremely outdated security providers, that are no longer supported. So, opening your security wide open will likely resolve the issue, but this is not recommended.\r\n\r\n3.Rewrite the application which is not the easiest option, but is the only one that is fully recommended by Microsoft.\r\n\r\nSee this https://serverfault.com/questions/649052/do-i-have-to-enable-tls-1-0-in-windows-2008-r2 and this https://www.youtube.com/watch?v=vUuR_M3biDU if you&#39;d like to enable TLS by yourself. The server will require reboot after you make this change.","title":"SQL Server JDBC Error: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Ok, so we worked with Microsoft Support on this issue and this is the understanding that we came to.</p>\n\n<p>Microsoft added/enabled TLS 1.0 and TLS 1.1 to the Database Server for testing purposes only since Microsoft does not support TLS 1.0 anymore. This lowered the security protocol to a lower state but were able to establish SQL Connectivity between the Application server and the Database Server, but still the Application initially couldn't connect. Microsoft thinks that it is because of the current connection provider/driver that is being used by the application and they wouldn't support that part of it since that is Java/Oracle's JDBC driver.</p>\n\n<p>In our case, the application did connect after enabling the TLS 1.0 and TLS 1.1 after sometime.\nThis may or may not work in your case.</p>\n\n<p>So the recommended solutions if you have the resources to modify the application, are to update the drivers for the application, test and redeploy.</p>\n\n<p>If you don't have the resources to the application then the options are these:\n1.Rollback to older Servers for SQL Server. This could work but there is no guarantee.\n Also another thing to note is that SQL Server 2008 and 2008R2 are out of support, so the oldest we could go (and still stay supported) would be SQL Server 2012 which may not resolve the issue.</p>\n\n<p>2.Open the security wide open. This will very likely solve the issue, but is most definitely not recommended. It is likely that the issue has to do with extremely outdated security providers, that are no longer supported. So, opening your security wide open will likely resolve the issue, but this is not recommended.</p>\n\n<p>3.Rewrite the application which is not the easiest option, but is the only one that is fully recommended by Microsoft.</p>\n\n<p>See this <a href=\"https://serverfault.com/questions/649052/do-i-have-to-enable-tls-1-0-in-windows-2008-r2\">https://serverfault.com/questions/649052/do-i-have-to-enable-tls-1-0-in-windows-2008-r2</a> and this <a href=\"https://www.youtube.com/watch?v=vUuR_M3biDU\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=vUuR_M3biDU</a> if you'd like to enable TLS by yourself. The server will require reboot after you make this change.</p>\n"},{"tags":[],"owner":{"account_id":552500,"reputation":344,"user_id":917631,"display_name":"Siddharth B"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1645886409,"creation_date":1645886409,"answer_id":71277521,"question_id":57595772,"body_markdown":"Try adding &quot;trustServerCertificate=true;&quot; to the connection string example:\r\njdbc:sqlserver://NEUTRON\\SQL2017;user=sa;password=password123;integratedSecurity=false;trustServerCertificate=true;","title":"SQL Server JDBC Error: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Try adding &quot;trustServerCertificate=true;&quot; to the connection string example:\njdbc:sqlserver://NEUTRON\\SQL2017;user=sa;password=password123;integratedSecurity=false;trustServerCertificate=true;</p>\n"}],"owner":{"account_id":3351851,"reputation":978,"user_id":2815760,"accept_rate":100,"display_name":"Angel_Boy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26844,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":57613257,"answer_count":2,"score":7,"last_activity_date":1645886409,"creation_date":1566404566,"question_id":57595772,"body_markdown":"Background: \r\n\r\n - Application Server:\r\n\r\nJava Based Application is running on Windows Server 2008 R2 Enterprise. \r\nJava Version on this Server is Version 6 Update 32.\r\nJDBC Driver Version: 4.0\r\n\r\n - Database Server:\r\n\r\nThe database server has been recently upgraded(Side by side upgrade with the same servername as the one before that the application use to connect to) from Windows 2016 to Windows 2019 and SQL Server 2012 to SQL Server 2016 and there is no Java on this server. Is this a problem??\r\n\r\n - History:\r\n\r\nWhen we did the database server upgrade last time from SQL Server 2008 to SQL Server 2012, we followed the same method and the application worked fine.\r\n\r\nBut this time it is throwing the following error into the Application logs: &lt;br/&gt;\r\n**org.jboss.resource.JBossResourceException: Could not create connection; - nested throwable: (com.microsoft.sqlserver.jdbc.SQLServerException: \r\nThe driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: &quot;SQL Server did not return a response. The connection has been closed.&quot;.)**\r\n\r\nWe did not touch the application server at all, expecting that when the database server is up, since it is the same servername, it would start back up fine, but the application is failing with the above error.\r\nThere is no logon failure because we tested the application login and password and it worked fine.\r\n\r\nI looked at the following:&lt;br/&gt;\r\nhttps://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect\r\nbut we cant seem to understand what is causing this issue since nothing on the Application Server has changed.\r\nI looked at the compatibility between the JDBC Version and the SQL Server matrix here &lt;br/&gt;https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-2017 and it looks like JDBC 4.0 works with SQL Server 2016.\r\n\r\nAny ideas as to what could be going on?","title":"SQL Server JDBC Error: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption","body":"<p>Background: </p>\n\n<ul>\n<li>Application Server:</li>\n</ul>\n\n<p>Java Based Application is running on Windows Server 2008 R2 Enterprise. \nJava Version on this Server is Version 6 Update 32.\nJDBC Driver Version: 4.0</p>\n\n<ul>\n<li>Database Server:</li>\n</ul>\n\n<p>The database server has been recently upgraded(Side by side upgrade with the same servername as the one before that the application use to connect to) from Windows 2016 to Windows 2019 and SQL Server 2012 to SQL Server 2016 and there is no Java on this server. Is this a problem??</p>\n\n<ul>\n<li>History:</li>\n</ul>\n\n<p>When we did the database server upgrade last time from SQL Server 2008 to SQL Server 2012, we followed the same method and the application worked fine.</p>\n\n<p>But this time it is throwing the following error into the Application logs: <br/>\n<strong>org.jboss.resource.JBossResourceException: Could not create connection; - nested throwable: (com.microsoft.sqlserver.jdbc.SQLServerException: \nThe driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption. Error: \"SQL Server did not return a response. The connection has been closed.\".)</strong></p>\n\n<p>We did not touch the application server at all, expecting that when the database server is up, since it is the same servername, it would start back up fine, but the application is failing with the above error.\nThere is no logon failure because we tested the application login and password and it worked fine.</p>\n\n<p>I looked at the following:<br/>\n<a href=\"https://stackoverflow.com/questions/32766114/sql-server-jdbc-error-on-java-8-the-driver-could-not-establish-a-secure-connect\">SQL Server JDBC Error on Java 8: The driver could not establish a secure connection to SQL Server by using Secure Sockets Layer (SSL) encryption</a>\nbut we cant seem to understand what is causing this issue since nothing on the Application Server has changed.\nI looked at the compatibility between the JDBC Version and the SQL Server matrix here <br/><a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-2017\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/microsoft-jdbc-driver-for-sql-server-support-matrix?view=sql-server-2017</a> and it looks like JDBC 4.0 works with SQL Server 2016.</p>\n\n<p>Any ideas as to what could be going on?</p>\n"},{"tags":["java","spring-boot","instrumentation","javassist","webgoat"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1640322101,"post_id":70468909,"comment_id":124569498,"body_markdown":"The unfound classes are dynamic proxies which are heavily used by the Spring Framework in order to implement AOP. Spring can use both JDK dynamic interface proxies and CGLIB proxies, the latter of which is what we are seeing here. Maybe you should simply ignore those types of classes. They are in fact created dynamically, hence the name. But they are rather a result of dynamic (sub-)class generation than of bytecode transformation.","body":"The unfound classes are dynamic proxies which are heavily used by the Spring Framework in order to implement AOP. Spring can use both JDK dynamic interface proxies and CGLIB proxies, the latter of which is what we are seeing here. Maybe you should simply ignore those types of classes. They are in fact created dynamically, hence the name. But they are rather a result of dynamic (sub-)class generation than of bytecode transformation."},{"owner":{"account_id":23594916,"reputation":109,"user_id":17632159,"display_name":"roksui"},"score":0,"creation_date":1640325253,"post_id":70468909,"comment_id":124569953,"body_markdown":"@kriegaex yes, I have considered just ignoring those dynamically generated classes, but the whole point of my application was to capture every single method invocation as a user interacts with the web application (such as clicking on a button, etc). In this case, would it be okay to ignore these types of dynamically generated classes? I want to make sure I do not miss any method calls.","body":"@kriegaex yes, I have considered just ignoring those dynamically generated classes, but the whole point of my application was to capture every single method invocation as a user interacts with the web application (such as clicking on a button, etc). In this case, would it be okay to ignore these types of dynamically generated classes? I want to make sure I do not miss any method calls."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1640341292,"post_id":70468909,"comment_id":124572992,"body_markdown":"As those classes are just dynamic proxies, they will either forward the calls to the original methods or call some AOP or interceptor logic first/instead. Either way, you would not miss anything essential, those proxies are more like switchboards or routers, the actual show happens somewhere else. I recommend you to simply try in a little playgrounds project with an aspect or two.","body":"As those classes are just dynamic proxies, they will either forward the calls to the original methods or call some AOP or interceptor logic first/instead. Either way, you would not miss anything essential, those proxies are more like switchboards or routers, the actual show happens somewhere else. I recommend you to simply try in a little playgrounds project with an aspect or two."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1640395226,"post_id":70468909,"comment_id":124583137,"body_markdown":"Let me know if my advice helped you solve your problem. Then I can convert the comments into an answer which you can accept in order to formally mark the question as answered.","body":"Let me know if my advice helped you solve your problem. Then I can convert the comments into an answer which you can accept in order to formally mark the question as answered."},{"owner":{"account_id":23594916,"reputation":109,"user_id":17632159,"display_name":"roksui"},"score":0,"creation_date":1640566990,"post_id":70468909,"comment_id":124606410,"body_markdown":"@kriegaex Thank you. It did help clarify things. I don&#39;t have experience with spring boot apps, so I guess I will have to look further into how things work in it. If I just want to ignore those dynamic proxy classes, how should I change the Javassist code `CtClass cc = cp.get(name);`, I think I can put an if statement, but how would I check if the string className is a dynamic proxy class? If you could write an answer, that would be great! I will accept it.","body":"@kriegaex Thank you. It did help clarify things. I don&#39;t have experience with spring boot apps, so I guess I will have to look further into how things work in it. If I just want to ignore those dynamic proxy classes, how should I change the Javassist code <code>CtClass cc = cp.get(name);</code>, I think I can put an if statement, but how would I check if the string className is a dynamic proxy class? If you could write an answer, that would be great! I will accept it."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645886347,"creation_date":1640569147,"answer_id":70491009,"question_id":70468909,"body_markdown":"From previous comments:\r\n\r\n&gt;&gt;&gt; The unfound classes are dynamic proxies which are heavily used by the Spring Framework in order to implement AOP. Spring can use both JDK dynamic interface proxies and CGLIB proxies, the latter of which is what we are seeing here. Maybe you should simply ignore those types of classes. They are in fact created dynamically, hence the name. But they are rather a result of dynamic (sub-)class generation than of bytecode transformation.\r\n&gt;&gt;\r\n&gt;&gt; Yes, I have considered just ignoring those dynamically generated classes, but the whole point of my application was to capture every single method invocation as a user interacts with the web application (such as clicking on a button, etc). In this case, would it be okay to ignore these types of dynamically generated classes? I want to make sure I do not miss any method calls.\r\n&gt;\r\n&gt; As those classes are just dynamic proxies, they will either forward the calls to the original methods or call some AOP or interceptor logic first/instead. Either way, you would not miss anything essential, those proxies are more like switchboards or routers, the actual show happens somewhere else. I recommend you to simply try in a little playgrounds project with an aspect or two.\r\n\r\nYou also asked how to detect and ignore dynamic proxies by their names:\r\n\r\n* **CGLIB proxies:** Spring&#39;s CGLIB proxies contain substrings like `$$FastClassBySpringCGLIB$$` or `$$EnhancerBySpringCGLIB$$`, followed by 8 characters representing 4 hexadecimal bytes. You could either match with a regular expression of just keep it simple and match the substring `BySpringCGLIB$$`. If non-Spring CGLIB proxies are also in use somewhere in your application, you would have to watch for other naming patterns. But probably you would get similar errors as before when not filtering them, so you would notice automatically.\r\n\r\n* **JDK proxies:** If your Spring application also happens to use JDK proxies, you can identify them easily using JRE API call [`Proxy.isProxyClass(Class)`](https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html#isProxyClass-java.lang.Class-). Thanks to [Johannes Kuhn](https://stackoverflow.com/users/845414/johannes-kuhn) for his comment. \r\n\r\n* **JDK proxies (old answer):** _You can filter class names beginning with `$Proxy`, usually something like `com.sun.proxy.$Proxy2` (the trailing number being different). According to the [JDK documentation](https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/proxy.html): _&quot;The unqualified name of a proxy class is unspecified. The space of class names that begin with the string `&quot;$Proxy&quot;` is, however, to be reserved for proxy classes.&quot;_ At least for Oracle and probably OpenJDK, you can match for that naming pattern. If that holds true for all JVMs, is up to you to test, if chances are that in your environments others are being used. I quickly tried with Semeru OpenJ9, and the proxy naming pattern is identical, even the package name `com.sun.proxy`. Pleasae note that in more recent JDK versions, JDK proxies will have fully qualified names like `jdk.proxy2.$Proxy25`, so in e.g. Java 16 or 17 you should not rely on package name `com.sun.proxy`. Either add more cases or limit matching to the leading `$Proxy` in the simple class name._\r\n\r\n---\r\n\r\n**Update 2022-02-26:** Because there was activity on this question, I decided to add some more information about Spring-specific tools which can determine whether an object (or a class) is an AOP proxy (class) and, more specifically, if it is a CGLIB or JDK proxy:\r\n\r\nTake a look at tool class [`AopUtils`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/aop/support/AopUtils.html) and its handy methods\r\n  * `isAopProxy(Object)`,\r\n  * `isCglibProxy(Object)`,\r\n  * `isJdkDynamicProxy(Object)`.\r\n\r\nNo more String matching, simply ask Spring.\r\n\r\nBTW, there is also a method `net.sf.cglib.proxy.Proxy.isProxyClass(Class)` directly in CGLIB, which is supposed to do the same, but within Spring it does not work, probably because Spring uses CGLIB in a non-canonical way. Because Spring embeds a package-relocated CGLIB in its core, the corresponding method `org.springframework.cglib.proxy.Proxy.isProxyClass(Class)` yields the same faulty result. So if you are working within Spring, please do not use those methods, better use `AopUtils`. \r\n\r\n[Here is some example code](https://github.com/kriegaex/SO_AJ_SpringJDKvsCGLIB_61382719/blob/354469d43c97f4e580971caf89bd46abcf96267e/src/main/java/de/scrum_master/spring/app/Application.java#L75-L86) for your convenience, showing how to determine Spring AOP proxy types (JDK vs. CGLIB proxies) using `AopUtils`. See also [my answer here](https://stackoverflow.com/a/61390594/1082681) for how to configure Spring in order to use both proxy types.\r\n\r\n---\r\n\r\nBTW, instead of Javassist you could also use AspectJ for your purpose. It sounds like a pretty typical use case.","title":"Is it possible to instrument a program that also uses dynamic bytecode generation?","body":"<p>From previous comments:</p>\n<blockquote>\n<blockquote>\n<blockquote>\n<p>The unfound classes are dynamic proxies which are heavily used by the Spring Framework in order to implement AOP. Spring can use both JDK dynamic interface proxies and CGLIB proxies, the latter of which is what we are seeing here. Maybe you should simply ignore those types of classes. They are in fact created dynamically, hence the name. But they are rather a result of dynamic (sub-)class generation than of bytecode transformation.</p>\n</blockquote>\n<p>Yes, I have considered just ignoring those dynamically generated classes, but the whole point of my application was to capture every single method invocation as a user interacts with the web application (such as clicking on a button, etc). In this case, would it be okay to ignore these types of dynamically generated classes? I want to make sure I do not miss any method calls.</p>\n</blockquote>\n<p>As those classes are just dynamic proxies, they will either forward the calls to the original methods or call some AOP or interceptor logic first/instead. Either way, you would not miss anything essential, those proxies are more like switchboards or routers, the actual show happens somewhere else. I recommend you to simply try in a little playgrounds project with an aspect or two.</p>\n</blockquote>\n<p>You also asked how to detect and ignore dynamic proxies by their names:</p>\n<ul>\n<li><p><strong>CGLIB proxies:</strong> Spring's CGLIB proxies contain substrings like <code>$$FastClassBySpringCGLIB$$</code> or <code>$$EnhancerBySpringCGLIB$$</code>, followed by 8 characters representing 4 hexadecimal bytes. You could either match with a regular expression of just keep it simple and match the substring <code>BySpringCGLIB$$</code>. If non-Spring CGLIB proxies are also in use somewhere in your application, you would have to watch for other naming patterns. But probably you would get similar errors as before when not filtering them, so you would notice automatically.</p>\n</li>\n<li><p><strong>JDK proxies:</strong> If your Spring application also happens to use JDK proxies, you can identify them easily using JRE API call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html#isProxyClass-java.lang.Class-\" rel=\"nofollow noreferrer\"><code>Proxy.isProxyClass(Class)</code></a>. Thanks to <a href=\"https://stackoverflow.com/users/845414/johannes-kuhn\">Johannes Kuhn</a> for his comment.</p>\n</li>\n<li><p><strong>JDK proxies (old answer):</strong> <em>You can filter class names beginning with <code>$Proxy</code>, usually something like <code>com.sun.proxy.$Proxy2</code> (the trailing number being different). According to the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/reflection/proxy.html\" rel=\"nofollow noreferrer\">JDK documentation</a>: <em>&quot;The unqualified name of a proxy class is unspecified. The space of class names that begin with the string <code>&quot;$Proxy&quot;</code> is, however, to be reserved for proxy classes.&quot;</em> At least for Oracle and probably OpenJDK, you can match for that naming pattern. If that holds true for all JVMs, is up to you to test, if chances are that in your environments others are being used. I quickly tried with Semeru OpenJ9, and the proxy naming pattern is identical, even the package name <code>com.sun.proxy</code>. Pleasae note that in more recent JDK versions, JDK proxies will have fully qualified names like <code>jdk.proxy2.$Proxy25</code>, so in e.g. Java 16 or 17 you should not rely on package name <code>com.sun.proxy</code>. Either add more cases or limit matching to the leading <code>$Proxy</code> in the simple class name.</em></p>\n</li>\n</ul>\n<hr />\n<p><strong>Update 2022-02-26:</strong> Because there was activity on this question, I decided to add some more information about Spring-specific tools which can determine whether an object (or a class) is an AOP proxy (class) and, more specifically, if it is a CGLIB or JDK proxy:</p>\n<p>Take a look at tool class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/aop/support/AopUtils.html\" rel=\"nofollow noreferrer\"><code>AopUtils</code></a> and its handy methods</p>\n<ul>\n<li><code>isAopProxy(Object)</code>,</li>\n<li><code>isCglibProxy(Object)</code>,</li>\n<li><code>isJdkDynamicProxy(Object)</code>.</li>\n</ul>\n<p>No more String matching, simply ask Spring.</p>\n<p>BTW, there is also a method <code>net.sf.cglib.proxy.Proxy.isProxyClass(Class)</code> directly in CGLIB, which is supposed to do the same, but within Spring it does not work, probably because Spring uses CGLIB in a non-canonical way. Because Spring embeds a package-relocated CGLIB in its core, the corresponding method <code>org.springframework.cglib.proxy.Proxy.isProxyClass(Class)</code> yields the same faulty result. So if you are working within Spring, please do not use those methods, better use <code>AopUtils</code>.</p>\n<p><a href=\"https://github.com/kriegaex/SO_AJ_SpringJDKvsCGLIB_61382719/blob/354469d43c97f4e580971caf89bd46abcf96267e/src/main/java/de/scrum_master/spring/app/Application.java#L75-L86\" rel=\"nofollow noreferrer\">Here is some example code</a> for your convenience, showing how to determine Spring AOP proxy types (JDK vs. CGLIB proxies) using <code>AopUtils</code>. See also <a href=\"https://stackoverflow.com/a/61390594/1082681\">my answer here</a> for how to configure Spring in order to use both proxy types.</p>\n<hr />\n<p>BTW, instead of Javassist you could also use AspectJ for your purpose. It sounds like a pretty typical use case.</p>\n"}],"owner":{"account_id":23594916,"reputation":109,"user_id":17632159,"display_name":"roksui"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70491009,"answer_count":1,"score":1,"last_activity_date":1645886347,"creation_date":1640310967,"question_id":70468909,"body_markdown":"I am writing a Java instrumentation program that uses the built-in Instrumentation API with Javassist (v3.26.0-GA) to intercept all the method calls in the target program. Also, I have implemented a REST API service inside this program using Java Spark to send requests for starting/stopping instrumentation by adding/removing transformers, and also for fetching intercepted methods during the instrumentation time. \r\n\r\nNow, while I was trying to run WebGoat (an open source Spring Boot application) with my Java agent attached from premain, I was not able to intercept all the methods successfully and in the log, there was a NotFoundException being thrown by Javassist.\r\n\r\nThis error happened for several classes in WebGoat all had a similar common fact that they had something to do with SpringCGLIB. A few of the errors are shown below.\r\n\r\n```\r\njavassist.NotFoundException: org.owasp.webgoat.hijacksession.cas.HijackSessionAuthenticationProvider$$FastClassBySpringCGLIB$$88f1f22d\r\n\tat javassist.ClassPool.get(ClassPool.java:430)\r\n\tat com.sparrow.sptracer.core.transformer.AbstractMethodTransformer.transform(AbstractMethodTransformer.java:87)\r\n\tat java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\r\n\tat java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:541)\r\n\tat java.base/java.lang.ClassLoader.defineClass0(Native Method)\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2307)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2439)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2416)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1843)\r\n\tat java.base/jdk.internal.reflect.GeneratedMethodAccessor44.invoke(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:507)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\r\n\tat org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\r\n\tat org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\r\n\tat org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\r\n\tat org.springframework.cglib.reflect.FastClass$Generator.create(FastClass.java:65)\r\n\tat org.springframework.cglib.proxy.MethodProxy.helper(MethodProxy.java:135)\r\n\tat org.springframework.cglib.proxy.MethodProxy.init(MethodProxy.java:76)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:216)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\tat org.owasp.webgoat.hijacksession.cas.HijackSessionAuthenticationProvider$$EnhancerBySpringCGLIB$$6ae99c75.authenticate(&lt;generated&gt;)\r\n\tat org.owasp.webgoat.hijacksession.HijackSessionAssignment.login(HijackSessionAssignment.java:72)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:763)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1651)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\r\n\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:567)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:602)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1610)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1377)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:507)\r\n\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1580)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1292)\r\n\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n\tat org.eclipse.jetty.server.Server.handle(Server.java:501)\r\n\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\r\n\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:556)\r\n\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\r\n\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\r\n\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n\tat org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\r\n\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\r\n\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\r\n\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\njavassist.NotFoundException: org.owasp.webgoat.hijacksession.cas.HijackSessionAuthenticationProvider$$EnhancerBySpringCGLIB$$6ae99c75$$FastClassBySpringCGLIB$$8c045873\r\n\tat javassist.ClassPool.get(ClassPool.java:430)\r\n\tat com.sparrow.sptracer.core.transformer.AbstractMethodTransformer.transform(AbstractMethodTransformer.java:87)\r\n\tat java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\r\n\tat java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:541)\r\n\tat java.base/java.lang.ClassLoader.defineClass0(Native Method)\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2307)\r\n... similar stacktrace as above\r\n```\r\n\r\n```\r\njavassist.NotFoundException: org.owasp.webgoat.session.UserSessionData$$FastClassBySpringCGLIB$$2b6b54bc\r\n\tat javassist.ClassPool.get(ClassPool.java:430)\r\n\tat com.sparrow.sptracer.core.transformer.AbstractMethodTransformer.transform(AbstractMethodTransformer.java:87)\r\n\tat java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\r\n\tat java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n\tat java.instrument/sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:541)\r\n\tat java.base/java.lang.ClassLoader.defineClass0(Native Method)\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2307)\r\n... similar stacktrace as above\r\n\r\n[IMPACTRACER-CORE] ERROR [2021-12-24 10:34:20]: NotFoundException on class &#39;org/owasp/webgoat/session/UserSessionData$$EnhancerBySpringCGLIB$$bbb61fe2$$FastClassBySpringCGLIB$$34cb52d3&#39;: org.owasp.webgoat.session.UserSessionData$$EnhancerBySpringCGLIB$$bbb61fe2$$FastClassBySpringCGLIB$$34cb52d3\r\njavassist.NotFoundException: org.owasp.webgoat.session.UserSessionData$$EnhancerBySpringCGLIB$$bbb61fe2$$FastClassBySpringCGLIB$$34cb52d3\r\n\tat javassist.ClassPool.get(ClassPool.java:430)\r\n\tat com.sparrow.sptracer.core.transformer.AbstractMethodTransformer.transform(AbstractMethodTransformer.java:87)\r\n\tat java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\r\n\tat java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\r\n... similar stacktrace as above\r\n```\r\n\r\nMy guess is that WebGoat uses cglib in its Spring Boot environment to dynamically generate bytecode and the corresponding class is not included in the WebGoat&#39;s classpath originally, so `javassist.ClassPool.get(className)` is throwing the error.\r\n\r\nMy code for creating ClassPool object is as below.\r\n\r\n```java\r\nString name = Descriptor.toJavaName(className);\r\n\r\n            try {\r\n                ClassPool cp = ClassPool.getDefault();\r\n                cp.childFirstLookup = true;\r\n                cp.appendClassPath(new LoaderClassPath(loader));\r\n\r\n                CtClass cc = cp.get(name);\r\n                Logger.debug(&quot;Checking class %s&quot;, name);\r\n\r\n                CtMethod[] methods = cc.getDeclaredMethods();\r\n                Logger.debug(&quot;Altering %d methods in %s&quot;, methods.length, wut);\r\n                for (CtMethod m : methods) {\r\n                    // do some code insertion\r\n                }\r\n                bytecode = cc.toBytecode();\r\n                cc.detach();\r\n            } catch (NotFoundException e) {\r\n                Logger.error(&quot;NotFoundException on class &#39;%s&#39;: %s&quot;, className, e.getMessage());\r\n                e.printStackTrace();\r\n            } catch (CannotCompileException e) {\r\n                Logger.error(&quot;Cannot compile class &#39;%s&#39;: %s&quot;, className, e.getMessage());\r\n                e.printStackTrace(System.out);\r\n            } catch (IOException e) {\r\n                Logger.error(&quot;IOException while transforming class &#39;%s&#39;: %s&quot;, className, e.getMessage());\r\n            } catch (Exception ex) {\r\n                Logger.error(&quot;Generic exception occurred while transforming class &#39;%s&#39;: %s&quot;, className, ex.getMessage());\r\n                ex.printStackTrace(System.out);\r\n            }\r\n```\r\n\r\nThe above errors occured when I tried interacting with the WebGoat application on localhost:8080 tried to send a &quot;start istrumentation&quot; request with a specific id using Java Spark REST API, so whenever I send this request, it triggers `inst.addTransformer` method to create a new Transformer and adds it to the instrumentation object.\r\n\r\nWhat could be the cause of this error? I assume that WebGoat itself is using some instrumentation which means I am instrumenting an instrumented application and I don&#39;t know if that is even possible.\r\n\r\nAny insight would be much appreciated.","title":"Is it possible to instrument a program that also uses dynamic bytecode generation?","body":"<p>I am writing a Java instrumentation program that uses the built-in Instrumentation API with Javassist (v3.26.0-GA) to intercept all the method calls in the target program. Also, I have implemented a REST API service inside this program using Java Spark to send requests for starting/stopping instrumentation by adding/removing transformers, and also for fetching intercepted methods during the instrumentation time.</p>\n<p>Now, while I was trying to run WebGoat (an open source Spring Boot application) with my Java agent attached from premain, I was not able to intercept all the methods successfully and in the log, there was a NotFoundException being thrown by Javassist.</p>\n<p>This error happened for several classes in WebGoat all had a similar common fact that they had something to do with SpringCGLIB. A few of the errors are shown below.</p>\n<pre><code>javassist.NotFoundException: org.owasp.webgoat.hijacksession.cas.HijackSessionAuthenticationProvider$$FastClassBySpringCGLIB$$88f1f22d\n    at javassist.ClassPool.get(ClassPool.java:430)\n    at com.sparrow.sptracer.core.transformer.AbstractMethodTransformer.transform(AbstractMethodTransformer.java:87)\n    at java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\n    at java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at java.instrument/sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:541)\n    at java.base/java.lang.ClassLoader.defineClass0(Native Method)\n    at java.base/java.lang.System$2.defineClass(System.java:2307)\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2439)\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2416)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:1843)\n    at java.base/jdk.internal.reflect.GeneratedMethodAccessor44.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:507)\n    at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108)\n    at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61)\n    at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34)\n    at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134)\n    at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319)\n    at org.springframework.cglib.reflect.FastClass$Generator.create(FastClass.java:65)\n    at org.springframework.cglib.proxy.MethodProxy.helper(MethodProxy.java:135)\n    at org.springframework.cglib.proxy.MethodProxy.init(MethodProxy.java:76)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:216)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at org.owasp.webgoat.hijacksession.cas.HijackSessionAuthenticationProvider$$EnhancerBySpringCGLIB$$6ae99c75.authenticate(&lt;generated&gt;)\n    at org.owasp.webgoat.hijacksession.HijackSessionAssignment.login(HijackSessionAssignment.java:72)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:763)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1651)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1638)\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:567)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:602)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1610)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1377)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:507)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1580)\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1292)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n    at org.eclipse.jetty.server.Server.handle(Server.java:501)\n    at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\n    at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:556)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n    at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\n    at org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n\njavassist.NotFoundException: org.owasp.webgoat.hijacksession.cas.HijackSessionAuthenticationProvider$$EnhancerBySpringCGLIB$$6ae99c75$$FastClassBySpringCGLIB$$8c045873\n    at javassist.ClassPool.get(ClassPool.java:430)\n    at com.sparrow.sptracer.core.transformer.AbstractMethodTransformer.transform(AbstractMethodTransformer.java:87)\n    at java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\n    at java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at java.instrument/sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:541)\n    at java.base/java.lang.ClassLoader.defineClass0(Native Method)\n    at java.base/java.lang.System$2.defineClass(System.java:2307)\n... similar stacktrace as above\n</code></pre>\n<pre><code>javassist.NotFoundException: org.owasp.webgoat.session.UserSessionData$$FastClassBySpringCGLIB$$2b6b54bc\n    at javassist.ClassPool.get(ClassPool.java:430)\n    at com.sparrow.sptracer.core.transformer.AbstractMethodTransformer.transform(AbstractMethodTransformer.java:87)\n    at java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\n    at java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n    at java.instrument/sun.instrument.InstrumentationImpl.transform(InstrumentationImpl.java:541)\n    at java.base/java.lang.ClassLoader.defineClass0(Native Method)\n    at java.base/java.lang.System$2.defineClass(System.java:2307)\n... similar stacktrace as above\n\n[IMPACTRACER-CORE] ERROR [2021-12-24 10:34:20]: NotFoundException on class 'org/owasp/webgoat/session/UserSessionData$$EnhancerBySpringCGLIB$$bbb61fe2$$FastClassBySpringCGLIB$$34cb52d3': org.owasp.webgoat.session.UserSessionData$$EnhancerBySpringCGLIB$$bbb61fe2$$FastClassBySpringCGLIB$$34cb52d3\njavassist.NotFoundException: org.owasp.webgoat.session.UserSessionData$$EnhancerBySpringCGLIB$$bbb61fe2$$FastClassBySpringCGLIB$$34cb52d3\n    at javassist.ClassPool.get(ClassPool.java:430)\n    at com.sparrow.sptracer.core.transformer.AbstractMethodTransformer.transform(AbstractMethodTransformer.java:87)\n    at java.instrument/java.lang.instrument.ClassFileTransformer.transform(ClassFileTransformer.java:244)\n    at java.instrument/sun.instrument.TransformerManager.transform(TransformerManager.java:188)\n... similar stacktrace as above\n</code></pre>\n<p>My guess is that WebGoat uses cglib in its Spring Boot environment to dynamically generate bytecode and the corresponding class is not included in the WebGoat's classpath originally, so <code>javassist.ClassPool.get(className)</code> is throwing the error.</p>\n<p>My code for creating ClassPool object is as below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String name = Descriptor.toJavaName(className);\n\n            try {\n                ClassPool cp = ClassPool.getDefault();\n                cp.childFirstLookup = true;\n                cp.appendClassPath(new LoaderClassPath(loader));\n\n                CtClass cc = cp.get(name);\n                Logger.debug(&quot;Checking class %s&quot;, name);\n\n                CtMethod[] methods = cc.getDeclaredMethods();\n                Logger.debug(&quot;Altering %d methods in %s&quot;, methods.length, wut);\n                for (CtMethod m : methods) {\n                    // do some code insertion\n                }\n                bytecode = cc.toBytecode();\n                cc.detach();\n            } catch (NotFoundException e) {\n                Logger.error(&quot;NotFoundException on class '%s': %s&quot;, className, e.getMessage());\n                e.printStackTrace();\n            } catch (CannotCompileException e) {\n                Logger.error(&quot;Cannot compile class '%s': %s&quot;, className, e.getMessage());\n                e.printStackTrace(System.out);\n            } catch (IOException e) {\n                Logger.error(&quot;IOException while transforming class '%s': %s&quot;, className, e.getMessage());\n            } catch (Exception ex) {\n                Logger.error(&quot;Generic exception occurred while transforming class '%s': %s&quot;, className, ex.getMessage());\n                ex.printStackTrace(System.out);\n            }\n</code></pre>\n<p>The above errors occured when I tried interacting with the WebGoat application on localhost:8080 tried to send a &quot;start istrumentation&quot; request with a specific id using Java Spark REST API, so whenever I send this request, it triggers <code>inst.addTransformer</code> method to create a new Transformer and adds it to the instrumentation object.</p>\n<p>What could be the cause of this error? I assume that WebGoat itself is using some instrumentation which means I am instrumenting an instrumented application and I don't know if that is even possible.</p>\n<p>Any insight would be much appreciated.</p>\n"},{"tags":["java","sql-server","jdbc"],"answers":[{"tags":[],"owner":{"account_id":10343998,"reputation":25,"user_id":7629502,"display_name":"RedTek"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1554704867,"creation_date":1554704867,"answer_id":55567379,"question_id":55566179,"body_markdown":"DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/DB?useLegacyDatetimeCode=false&amp;serverTimezone=UTC&quot;, &quot;USER&quot;, &quot;PW&quot;);\r\n\r\nI use mysql so I dont know how it works with sqlserver. (still learning it) But in mysql you have to specify a user and password. Maybe thats the problem.\r\n\r\nLG\r\nRT","title":"Problem on connecting JDBC with sqlserver 2017","body":"<p>DriverManager.getConnection(\"jdbc:mysql://localhost:3306/DB?useLegacyDatetimeCode=false&amp;serverTimezone=UTC\", \"USER\", \"PW\");</p>\n\n<p>I use mysql so I dont know how it works with sqlserver. (still learning it) But in mysql you have to specify a user and password. Maybe thats the problem.</p>\n\n<p>LG\nRT</p>\n"},{"tags":[],"owner":{"account_id":552500,"reputation":344,"user_id":917631,"display_name":"Siddharth B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645886309,"creation_date":1645886309,"answer_id":71277506,"question_id":55566179,"body_markdown":"Try adding &quot;trustServerCertificate=true;&quot; to the connection string.","title":"Problem on connecting JDBC with sqlserver 2017","body":"<p>Try adding &quot;trustServerCertificate=true;&quot; to the connection string.</p>\n"}],"owner":{"account_id":4516583,"reputation":117,"user_id":5355319,"display_name":"Shadi Al Barhouch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645886309,"creation_date":1554697013,"question_id":55566179,"body_markdown":"I am trying to connect to sqlserver 2017 using jdbc driver (microsoft 4.2 and 7.1) jdk 1.8_201. Windows 10\r\n \r\n\r\n    String connectionUrl = &quot;jdbc:sqlserver://localhost\\\\SQLEXPRESS01;integratedSecurity=true;&quot;;\r\n    \t\t Random r = new Random();\r\n    \t\t try(Connection connection = DriverManager.getConnection(connectionUrl)) {\r\n    }\r\n\r\n I got the following exception :\r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not\r\n&gt; establish a secure connection to SQL Server by using Secure Sockets\r\n&gt; Layer (SSL) encryption. Error: &quot;Connection reset by peer: socket write\r\n&gt; error ClientConnectionId:16429365-183f-44fc-a599-c66fe7ad39be&quot;. \tat\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2887)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1881)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2452)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2103)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1950)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1162)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:735)\r\n&gt; \tat java.sql.DriverManager.getConnection(Unknown Source) \tat\r\n&gt; java.sql.DriverManager.getConnection(Unknown Source) \tat\r\n&gt; Autofill.main(Autofill.java:50) Caused by: java.io.IOException:\r\n&gt; Connection reset by peer: socket write error\r\n&gt; ClientConnectionId:16429365-183f-44fc-a599-c66fe7ad39be \tat\r\n&gt; com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.ensureSSLPayload(IOBuffer.java:780)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.readInternal(IOBuffer.java:840)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.read(IOBuffer.java:833)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.readInternal(IOBuffer.java:1003)\r\n&gt; \tat\r\n&gt; com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.read(IOBuffer.java:993)\r\n&gt; \tat sun.security.ssl.InputRecord.readFully(Unknown Source) \tat\r\n&gt; sun.security.ssl.InputRecord.read(Unknown Source) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n&gt; \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) \tat\r\n&gt; sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source) \tat\r\n&gt; com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1799)\r\n&gt; \t... 8 more\r\n\r\nIt is connected well with sqlcmd and SSMS, even though with Odbc\r\n\r\nI cannot use Odbc driver since it is removed from jdk 8 and I don&#39;t have currently the old version 7 to connect with Odbc driver","title":"Problem on connecting JDBC with sqlserver 2017","body":"<p>I am trying to connect to sqlserver 2017 using jdbc driver (microsoft 4.2 and 7.1) jdk 1.8_201. Windows 10</p>\n\n<pre><code>String connectionUrl = \"jdbc:sqlserver://localhost\\\\SQLEXPRESS01;integratedSecurity=true;\";\n         Random r = new Random();\n         try(Connection connection = DriverManager.getConnection(connectionUrl)) {\n}\n</code></pre>\n\n<p>I got the following exception :</p>\n\n<blockquote>\n  <p>Exception in thread \"main\"\n  com.microsoft.sqlserver.jdbc.SQLServerException: The driver could not\n  establish a secure connection to SQL Server by using Secure Sockets\n  Layer (SSL) encryption. Error: \"Connection reset by peer: socket write\n  error ClientConnectionId:16429365-183f-44fc-a599-c66fe7ad39be\".   at\n  com.microsoft.sqlserver.jdbc.SQLServerConnection.terminate(SQLServerConnection.java:2887)\n    at\n  com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1881)\n    at\n  com.microsoft.sqlserver.jdbc.SQLServerConnection.connectHelper(SQLServerConnection.java:2452)\n    at\n  com.microsoft.sqlserver.jdbc.SQLServerConnection.login(SQLServerConnection.java:2103)\n    at\n  com.microsoft.sqlserver.jdbc.SQLServerConnection.connectInternal(SQLServerConnection.java:1950)\n    at\n  com.microsoft.sqlserver.jdbc.SQLServerConnection.connect(SQLServerConnection.java:1162)\n    at\n  com.microsoft.sqlserver.jdbc.SQLServerDriver.connect(SQLServerDriver.java:735)\n    at java.sql.DriverManager.getConnection(Unknown Source)     at\n  java.sql.DriverManager.getConnection(Unknown Source)  at\n  Autofill.main(Autofill.java:50) Caused by: java.io.IOException:\n  Connection reset by peer: socket write error\n  ClientConnectionId:16429365-183f-44fc-a599-c66fe7ad39be   at\n  com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.ensureSSLPayload(IOBuffer.java:780)\n    at\n  com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.readInternal(IOBuffer.java:840)\n    at\n  com.microsoft.sqlserver.jdbc.TDSChannel$SSLHandshakeInputStream.read(IOBuffer.java:833)\n    at\n  com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.readInternal(IOBuffer.java:1003)\n    at\n  com.microsoft.sqlserver.jdbc.TDSChannel$ProxyInputStream.read(IOBuffer.java:993)\n    at sun.security.ssl.InputRecord.readFully(Unknown Source)   at\n  sun.security.ssl.InputRecord.read(Unknown Source)     at\n  sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)     at\n  sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)    at\n  sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)     at\n  com.microsoft.sqlserver.jdbc.TDSChannel.enableSSL(IOBuffer.java:1799)\n    ... 8 more</p>\n</blockquote>\n\n<p>It is connected well with sqlcmd and SSMS, even though with Odbc</p>\n\n<p>I cannot use Odbc driver since it is removed from jdk 8 and I don't have currently the old version 7 to connect with Odbc driver</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1645885541,"post_id":71277245,"comment_id":125990641,"body_markdown":"The first one is called a [closure](https://en.wikipedia.org/wiki/Closure_(computer_programming)). Practically, by the looks, you could say that you are accessing a variable from an &quot;outer&quot; level of nested `{}` blocks.","body":"The first one is called a <a href=\"https://en.wikipedia.org/wiki/Closure_(computer_programming)\" rel=\"nofollow noreferrer\">closure</a>. Practically, by the looks, you could say that you are accessing a variable from an &quot;outer&quot; level of nested <code>{}</code> blocks."}],"answers":[{"tags":[],"owner":{"account_id":18069010,"reputation":2524,"user_id":13134095,"display_name":"Manfred"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645885082,"creation_date":1645884739,"answer_id":71277341,"question_id":71277245,"body_markdown":"In case 2, `obj` is obviously not in scope of the `approveItem` method. In case 1, the compiler implicitly provides variables of the outer scope to [anonymous inner classes](https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.9.5). If you don&#39;t want to use an anonymous inner class, you need to pass `obj` explicitly, which is not possible with a method reference:\r\n```java\r\npublic void onBindViewHolder(MyAdapater.ViewHolder viewHolder, int position) {\r\n    MyObject obj = memberVariable.get(position);\r\n    viewHolder.getButton().setOnClickListener(view -&gt; this.approveItem(view, obj));\r\n}\r\n\r\nprivate void approveItem(View view, MyObject obj) {\r\n    // ...\r\n}\r\n```","title":"Java object access for same overall implementation","body":"<p>In case 2, <code>obj</code> is obviously not in scope of the <code>approveItem</code> method. In case 1, the compiler implicitly provides variables of the outer scope to <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.9.5\" rel=\"nofollow noreferrer\">anonymous inner classes</a>. If you don't want to use an anonymous inner class, you need to pass <code>obj</code> explicitly, which is not possible with a method reference:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onBindViewHolder(MyAdapater.ViewHolder viewHolder, int position) {\n    MyObject obj = memberVariable.get(position);\n    viewHolder.getButton().setOnClickListener(view -&gt; this.approveItem(view, obj));\n}\n\nprivate void approveItem(View view, MyObject obj) {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645885089,"creation_date":1645885089,"answer_id":71277373,"question_id":71277245,"body_markdown":"What makes the difference here is just variable scope. Your anonymous class (`new View.OnClickListener() {...}`) being declared in the body of the method, it has access to its local variables (there are conditions, but those aren&#39;t relevant here).\r\n\r\nYou never can access a method-local variable from other methods. That just isn&#39;t allowed (just as it doesn&#39;t make sense).\r\n\r\nWhen you use a method reference like that, you&#39;re effectively &quot;borrowing&quot; the method&#39;s code to provide an implementation of an interface (`View.OnClickListener` in your case). There is no way for that method to know about the local variables from where it&#39;s being called. And if you think about it, the method can be called from a different location where there is no such variable in the enclosing scope. So the compiler won&#39;t allow it.\r\n\r\nThe alternatives you have are:\r\n\r\nEither use a lambda expression (assuming `View.OnClickListener` is acceptable as a functional interface):\r\n\r\n    viewHolder.getButton().setOnClickListener(view -&gt; {\r\n            // use obj because I can access it\r\n    });\r\n\r\nOr, if the reason for code 2 is to externalize the logic, make the method take a second parameter:\r\n\r\n    private void approveItem(View view, MyObject obj) {\r\n       // use obj\r\n    }\r\n\r\nAnd pass it in the call\r\n\r\n    viewHolder.getButton().setOnClickListener(view -&gt; this.approveItem(view, obj));","title":"Java object access for same overall implementation","body":"<p>What makes the difference here is just variable scope. Your anonymous class (<code>new View.OnClickListener() {...}</code>) being declared in the body of the method, it has access to its local variables (there are conditions, but those aren't relevant here).</p>\n<p>You never can access a method-local variable from other methods. That just isn't allowed (just as it doesn't make sense).</p>\n<p>When you use a method reference like that, you're effectively &quot;borrowing&quot; the method's code to provide an implementation of an interface (<code>View.OnClickListener</code> in your case). There is no way for that method to know about the local variables from where it's being called. And if you think about it, the method can be called from a different location where there is no such variable in the enclosing scope. So the compiler won't allow it.</p>\n<p>The alternatives you have are:</p>\n<p>Either use a lambda expression (assuming <code>View.OnClickListener</code> is acceptable as a functional interface):</p>\n<pre><code>viewHolder.getButton().setOnClickListener(view -&gt; {\n        // use obj because I can access it\n});\n</code></pre>\n<p>Or, if the reason for code 2 is to externalize the logic, make the method take a second parameter:</p>\n<pre><code>private void approveItem(View view, MyObject obj) {\n   // use obj\n}\n</code></pre>\n<p>And pass it in the call</p>\n<pre><code>viewHolder.getButton().setOnClickListener(view -&gt; this.approveItem(view, obj));\n</code></pre>\n"}],"owner":{"account_id":75351,"reputation":23659,"user_id":216190,"accept_rate":98,"display_name":"Kraken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71277373,"answer_count":2,"score":1,"last_activity_date":1645885089,"creation_date":1645883968,"question_id":71277245,"body_markdown":"Perhaps the title of question isnt well created, but i couldnt understand what else I could put in there.\r\n\r\nI wanted to understand, why the first one out of the two below cases works, and how can I get the second one to work as well, given the overall implementation is same.\r\n\r\nFrom a code point of view, what principal etc is causing the first to work as is, i.e. broadening the scope of variables that can be used, so I can learn more about that.\r\n\r\nI want to access the &#39;obj&#39; variable in side the onclick listener.\r\n\r\nCase 1\r\n\r\n    public void onBindViewHolder(MyAdapater.ViewHolder viewHolder, final int position) {\r\n\r\n        MyObject obj= memberVariable.get(position);\r\n\r\n        viewHolder.getButton().setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                // use obj because I can access it\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nCase 2\r\n\r\n    public void onBindViewHolder(MyAdapater.ViewHolder viewHolder, final int position) {\r\n\r\n        MyObject obj= memberVariable.get(position);\r\n\r\n        viewHolder.getButton().setOnClickListener(this::approveItem);\r\n    }\r\n\r\n    private void approveItem(View view) {\r\n    // can&#39;t access the obj object now.\r\n    }\r\n\r\n\r\nMy onclicklistener will only take an interface with an onClick method, that takes a single parameter. So can&#39;t pass obj as part of that.","title":"Java object access for same overall implementation","body":"<p>Perhaps the title of question isnt well created, but i couldnt understand what else I could put in there.</p>\n<p>I wanted to understand, why the first one out of the two below cases works, and how can I get the second one to work as well, given the overall implementation is same.</p>\n<p>From a code point of view, what principal etc is causing the first to work as is, i.e. broadening the scope of variables that can be used, so I can learn more about that.</p>\n<p>I want to access the 'obj' variable in side the onclick listener.</p>\n<p>Case 1</p>\n<pre><code>public void onBindViewHolder(MyAdapater.ViewHolder viewHolder, final int position) {\n\n    MyObject obj= memberVariable.get(position);\n\n    viewHolder.getButton().setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            // use obj because I can access it\n        }\n    });\n}\n</code></pre>\n<p>Case 2</p>\n<pre><code>public void onBindViewHolder(MyAdapater.ViewHolder viewHolder, final int position) {\n\n    MyObject obj= memberVariable.get(position);\n\n    viewHolder.getButton().setOnClickListener(this::approveItem);\n}\n\nprivate void approveItem(View view) {\n// can't access the obj object now.\n}\n</code></pre>\n<p>My onclicklistener will only take an interface with an onClick method, that takes a single parameter. So can't pass obj as part of that.</p>\n"},{"tags":["java","loops","iteration","command-line-arguments","println"],"comments":[{"owner":{"account_id":11434115,"reputation":2221,"user_id":8382028,"display_name":"ViaTech"},"score":1,"creation_date":1645877231,"post_id":71276467,"comment_id":125989069,"body_markdown":"If `System.out.print` isn&#39;t working, you could pretty easily use a StringBuilder. https://stackoverflow.com/a/5234160/8382028","body":"If <code>System.out.print</code> isn&#39;t working, you could pretty easily use a StringBuilder. <a href=\"https://stackoverflow.com/a/5234160/8382028\">stackoverflow.com/a/5234160/8382028</a>"},{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":1,"creation_date":1645877691,"post_id":71276467,"comment_id":125989148,"body_markdown":"This is not a Java problem, but a problem of a sound algorithm. You obviously first need the number of arguments and the lengths of them. Wit that information you can first assemble the upper line (containing only `-` and `+`), then the middle line, and then the lower line.","body":"This is not a Java problem, but a problem of a sound algorithm. You obviously first need the number of arguments and the lengths of them. Wit that information you can first assemble the upper line (containing only <code>-</code> and <code>+</code>), then the middle line, and then the lower line."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1645877769,"post_id":71276467,"comment_id":125989161,"body_markdown":"You can only print line by line, so building your &quot;blocks&quot; first will not work. You need your algorithm to print `---------- +++++++++++ --------- ++++++++` first, then `- orange - + apricot + - grape - + kiwi +` and lastly `---------- +++++++++++ --------- ++++++++` again","body":"You can only print line by line, so building your &quot;blocks&quot; first will not work. You need your algorithm to print <code>---------- +++++++++++ --------- ++++++++</code> first, then <code>- orange - + apricot + - grape - + kiwi +</code> and lastly <code>---------- +++++++++++ --------- ++++++++</code> again"},{"owner":{"account_id":24380432,"reputation":41,"user_id":18312096,"display_name":"Eva"},"score":0,"creation_date":1645878061,"post_id":71276467,"comment_id":125989218,"body_markdown":"Thank you, I am looking up StringBuilder right now as we haven&#39;t learned about it yet, but it looks promising.","body":"Thank you, I am looking up StringBuilder right now as we haven&#39;t learned about it yet, but it looks promising."},{"owner":{"account_id":24380432,"reputation":41,"user_id":18312096,"display_name":"Eva"},"score":0,"creation_date":1645878292,"post_id":71276467,"comment_id":125989262,"body_markdown":"If I understand correctly (which I am not 100% sure of) I have already tried the other two solutions in a way, but the program has to print bordered arguments like this no matter how many or what the arguments are... If I set the number of arguments and their length in advance it turns out to be the wrong solution, because the program doesn&#39;t work if ther is one argument less per say. But again, maybe I didn&#39;t understand and I will look into it, Thank you very much :)","body":"If I understand correctly (which I am not 100% sure of) I have already tried the other two solutions in a way, but the program has to print bordered arguments like this no matter how many or what the arguments are... If I set the number of arguments and their length in advance it turns out to be the wrong solution, because the program doesn&#39;t work if ther is one argument less per say. But again, maybe I didn&#39;t understand and I will look into it, Thank you very much :)"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645879523,"creation_date":1645878827,"answer_id":71276691,"question_id":71276467,"body_markdown":"You need to have a separate `for` loop for each line that you want to print (rather than a single `for` loop that tries to print all three lines).\r\n\r\nNote that since the first and last lines are identical, you could replace the first and last `for` loops with a call to a method that prints the line.\r\n```java\r\npublic class A2 {\r\n\r\n    private static void printLine(String[] args) {\r\n        for (int i = 0; i &lt; args.length; i++) {\r\n            if (i % 2 == 0) {\r\n                System.out.print(&quot;-&quot;.repeat(args[i].length() + 4));\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            else {\r\n                System.out.print(&quot;+&quot;.repeat(args[i].length() + 4));\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n\r\n        // 1.line\r\n        printLine(args);\r\n\r\n        // 2.line\r\n        for (int i = 0; i &lt; args.length; i++) {\r\n            if (i % 2 == 0) {\r\n                System.out.printf(&quot;- %s -&quot;, args[i]);\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            else {\r\n                System.out.printf(&quot;+ %s +&quot;, args[i]);\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n        }\r\n        System.out.println();\r\n\r\n        // 3.line\r\n        printLine(args);\r\n    }\r\n}\r\n```\r\nThe output I get for your sample arguments is:\r\n```none\r\n---------- +++++++++++ --------- ++++++++ \r\n- orange - + apricot + - grape - + kiwi + \r\n---------- +++++++++++ --------- ++++++++ \r\n```\r\n","title":"How to execute a block of code for every command line argument given, but print it in one line","body":"<p>You need to have a separate <code>for</code> loop for each line that you want to print (rather than a single <code>for</code> loop that tries to print all three lines).</p>\n<p>Note that since the first and last lines are identical, you could replace the first and last <code>for</code> loops with a call to a method that prints the line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A2 {\n\n    private static void printLine(String[] args) {\n        for (int i = 0; i &lt; args.length; i++) {\n            if (i % 2 == 0) {\n                System.out.print(&quot;-&quot;.repeat(args[i].length() + 4));\n                System.out.print(&quot; &quot;);\n            }\n            else {\n                System.out.print(&quot;+&quot;.repeat(args[i].length() + 4));\n                System.out.print(&quot; &quot;);\n            }\n        }\n        System.out.println();\n    }\n\n    public static void main(String[] args) {\n\n        // 1.line\n        printLine(args);\n\n        // 2.line\n        for (int i = 0; i &lt; args.length; i++) {\n            if (i % 2 == 0) {\n                System.out.printf(&quot;- %s -&quot;, args[i]);\n                System.out.print(&quot; &quot;);\n            }\n            else {\n                System.out.printf(&quot;+ %s +&quot;, args[i]);\n                System.out.print(&quot; &quot;);\n            }\n        }\n        System.out.println();\n\n        // 3.line\n        printLine(args);\n    }\n}\n</code></pre>\n<p>The output I get for your sample arguments is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>---------- +++++++++++ --------- ++++++++ \n- orange - + apricot + - grape - + kiwi + \n---------- +++++++++++ --------- ++++++++ \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6829282,"reputation":99,"user_id":5253957,"display_name":"SpyderCoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645879164,"creation_date":1645879164,"answer_id":71276731,"question_id":71276467,"body_markdown":"Here&#39;s my solution. The approach you want to take with this is to go line by line as with Java you can&#39;t go back to the previous line without third party libraries.\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        if(args.length &gt; 0)\r\n        {\r\n            System.out.println(makeBorderLine(args));\r\n            System.out.println(makeFruitLine(args));\r\n            System.out.println(makeBorderLine(args));\r\n        }\r\n    }\r\n\r\n    public static String makeFruitLine(String[] args)\r\n    {\r\n        String fruitLine = &quot;&quot;;\r\n\r\n        for(int i = 0; i &lt; args.length; i++)\r\n        {\r\n            if(i % 2 == 0)\r\n            {\r\n                fruitLine += &quot;- &quot; + args[i] + &quot; - &quot;;\r\n            }\r\n            else\r\n            {\r\n                fruitLine += &quot;+ &quot; + args[i] + &quot; + &quot;;\r\n            }\r\n        }\r\n\r\n        return fruitLine;\r\n    }\r\n\r\n    public static String makeBorderLine(String[] args)\r\n    {\r\n        String line1  = &quot;-&quot;;\r\n        String line2 = &quot;+&quot;;\r\n        String line = &quot;&quot;;\r\n        for(int i = 0; i &lt; args.length; i++)\r\n        {\r\n            if(i % 2 == 0)\r\n            {\r\n                line += line1.repeat(args[i].length() + 4) + &quot; &quot;;\r\n            }\r\n            else\r\n            {\r\n                line += line2.repeat(args[i].length() + 4) + &quot; &quot;;\r\n            }\r\n        }\r\n\r\n        return line;\r\n    }\r\n\r\n","title":"How to execute a block of code for every command line argument given, but print it in one line","body":"<p>Here's my solution. The approach you want to take with this is to go line by line as with Java you can't go back to the previous line without third party libraries.</p>\n<pre><code>public static void main(String[] args)\n{\n    if(args.length &gt; 0)\n    {\n        System.out.println(makeBorderLine(args));\n        System.out.println(makeFruitLine(args));\n        System.out.println(makeBorderLine(args));\n    }\n}\n\npublic static String makeFruitLine(String[] args)\n{\n    String fruitLine = &quot;&quot;;\n\n    for(int i = 0; i &lt; args.length; i++)\n    {\n        if(i % 2 == 0)\n        {\n            fruitLine += &quot;- &quot; + args[i] + &quot; - &quot;;\n        }\n        else\n        {\n            fruitLine += &quot;+ &quot; + args[i] + &quot; + &quot;;\n        }\n    }\n\n    return fruitLine;\n}\n\npublic static String makeBorderLine(String[] args)\n{\n    String line1  = &quot;-&quot;;\n    String line2 = &quot;+&quot;;\n    String line = &quot;&quot;;\n    for(int i = 0; i &lt; args.length; i++)\n    {\n        if(i % 2 == 0)\n        {\n            line += line1.repeat(args[i].length() + 4) + &quot; &quot;;\n        }\n        else\n        {\n            line += line2.repeat(args[i].length() + 4) + &quot; &quot;;\n        }\n    }\n\n    return line;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24380432,"reputation":41,"user_id":18312096,"display_name":"Eva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645884872,"creation_date":1645884872,"answer_id":71277351,"question_id":71276467,"body_markdown":"Thanks to everyone who gave some clues or solutions for me to study.\r\n\r\nIn the end I understood what the problem of my code was and opted for a solution that might not be the most optimal one, but is the one I, a complete beginner, understand most at this moment and also one that covers only the stuff we were learning so far.\r\n\r\nThis was my code:\r\n```\r\npublic class A2 {\r\n       public static void main(String[] args){\r\n           //1.line\r\n           for (int i = 0; i &lt; args.length; i++){\r\n               if (i % 2 == 0) {\r\n                   System.out.print(&quot;-&quot;.repeat(args[i].length()+4) + &quot; &quot;); \r\n               } else {\r\n                   System.out.print(&quot;+&quot;.repeat(args[i].length()+4) + &quot; &quot;); \r\n               }\r\n           }    \r\n           System.out.println();\r\n           //2.line\r\n           for  (int i = 0; i &lt; args.length; i++){   \r\n               if (i % 2 == 0) {\r\n                   System.out.printf(&quot;- %s -&quot;, args[i]);\r\n               } else {\r\n                   System.out.printf(&quot;+ %s +&quot;, args[i]);\r\n               }\r\n           }\r\n           System.out.println();\r\n           //3.line\r\n           for  (int i = 0; i &lt; args.length; i++){   \r\n               if (i % 2 == 0) {\r\n                  System.out.print(&quot;-&quot;.repeat(args[i].length()+4) + &quot; &quot;); \r\n               } else {\r\n                   System.out.print(&quot;+&quot;.repeat(args[i].length()+4) + &quot; &quot;);\r\n               }\r\n           }        \r\n           System.out.println();\r\n   } \r\n}\r\n&#180;&#180;&#180;","title":"How to execute a block of code for every command line argument given, but print it in one line","body":"<p>Thanks to everyone who gave some clues or solutions for me to study.</p>\n<p>In the end I understood what the problem of my code was and opted for a solution that might not be the most optimal one, but is the one I, a complete beginner, understand most at this moment and also one that covers only the stuff we were learning so far.</p>\n<p>This was my code:</p>\n<pre><code>public class A2 {\n       public static void main(String[] args){\n           //1.line\n           for (int i = 0; i &lt; args.length; i++){\n               if (i % 2 == 0) {\n                   System.out.print(&quot;-&quot;.repeat(args[i].length()+4) + &quot; &quot;); \n               } else {\n                   System.out.print(&quot;+&quot;.repeat(args[i].length()+4) + &quot; &quot;); \n               }\n           }    \n           System.out.println();\n           //2.line\n           for  (int i = 0; i &lt; args.length; i++){   \n               if (i % 2 == 0) {\n                   System.out.printf(&quot;- %s -&quot;, args[i]);\n               } else {\n                   System.out.printf(&quot;+ %s +&quot;, args[i]);\n               }\n           }\n           System.out.println();\n           //3.line\n           for  (int i = 0; i &lt; args.length; i++){   \n               if (i % 2 == 0) {\n                  System.out.print(&quot;-&quot;.repeat(args[i].length()+4) + &quot; &quot;); \n               } else {\n                   System.out.print(&quot;+&quot;.repeat(args[i].length()+4) + &quot; &quot;);\n               }\n           }        \n           System.out.println();\n   } \n}\n´´´\n</code></pre>\n"}],"owner":{"account_id":24380432,"reputation":41,"user_id":18312096,"display_name":"Eva"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1645884872,"creation_date":1645877055,"question_id":71276467,"body_markdown":"I&#39;ve been trying to achieve this for a week with no success. I would like the program to print command line arguments in brackets like shown below (in one line):\r\n```none\r\n---------- +++++++++++ --------- ++++++++ \r\n- orange - + apricot + - grape - + kiwi + \r\n---------- +++++++++++ --------- ++++++++ \r\n```\r\n- Command line arguments: orange, apricot, grape, kiwi \r\n- the brackets change from - for arguments with even indexes and + for arguments with odd indexes\r\n\r\nBut my code prints:\r\n```none\r\n----------\r\n- orange -\r\n----------\r\n+++++++++++\r\n+ apricot +\r\n+++++++++++\r\n---------\r\n- grape -\r\n---------\r\n++++++++\r\n+ kiwi +\r\n++++++++\r\n```\r\nMy code:\r\n```java\r\npublic class A2 {\r\n\r\n    public static void main(String[] args) {\r\n        for (int i = 0; i &lt; args.length; i++) {\r\n            //1.line\r\n            if (i % 2 == 0) {\r\n                System.out.println(&quot;-&quot;.repeat(args[i].length()+4));\r\n            } else {\r\n                System.out.println(&quot;+&quot;.repeat(args[i].length()+4));\r\n            }\r\n            //2.line\r\n            if (i % 2 == 0) {\r\n                System.out.printf(&quot;- %s -\\n&quot;, args[i]);\r\n            } else {\r\n                System.out.printf(&quot;+ %s +\\n&quot;, args[i]);\r\n            }\r\n            //3.line\r\n            if (i % 2 == 0) {\r\n                System.out.println(&quot;-&quot;.repeat(args[i].length()+4));\r\n            } else {\r\n                System.out.println(&quot;+&quot;.repeat(args[i].length()+4));\r\n            }\r\n        }\r\n    } \r\n}\r\n```\r\nI tried different print methods, like `System.out.print()` and getting rid of `\\n`, but it only messes up the brackets around words, so I believe I have to do something at the `for` loop level, but I am a complete java newbie and I am lost. I thought about maybe adding another variable to solve the problem, but I can&#39;t wrap my brain around how to do that in this case and whether it will even solve the problem.\r\n\r\n","title":"How to execute a block of code for every command line argument given, but print it in one line","body":"<p>I've been trying to achieve this for a week with no success. I would like the program to print command line arguments in brackets like shown below (in one line):</p>\n<pre class=\"lang-none prettyprint-override\"><code>---------- +++++++++++ --------- ++++++++ \n- orange - + apricot + - grape - + kiwi + \n---------- +++++++++++ --------- ++++++++ \n</code></pre>\n<ul>\n<li>Command line arguments: orange, apricot, grape, kiwi</li>\n<li>the brackets change from - for arguments with even indexes and + for arguments with odd indexes</li>\n</ul>\n<p>But my code prints:</p>\n<pre class=\"lang-none prettyprint-override\"><code>----------\n- orange -\n----------\n+++++++++++\n+ apricot +\n+++++++++++\n---------\n- grape -\n---------\n++++++++\n+ kiwi +\n++++++++\n</code></pre>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A2 {\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; args.length; i++) {\n            //1.line\n            if (i % 2 == 0) {\n                System.out.println(&quot;-&quot;.repeat(args[i].length()+4));\n            } else {\n                System.out.println(&quot;+&quot;.repeat(args[i].length()+4));\n            }\n            //2.line\n            if (i % 2 == 0) {\n                System.out.printf(&quot;- %s -\\n&quot;, args[i]);\n            } else {\n                System.out.printf(&quot;+ %s +\\n&quot;, args[i]);\n            }\n            //3.line\n            if (i % 2 == 0) {\n                System.out.println(&quot;-&quot;.repeat(args[i].length()+4));\n            } else {\n                System.out.println(&quot;+&quot;.repeat(args[i].length()+4));\n            }\n        }\n    } \n}\n</code></pre>\n<p>I tried different print methods, like <code>System.out.print()</code> and getting rid of <code>\\n</code>, but it only messes up the brackets around words, so I believe I have to do something at the <code>for</code> loop level, but I am a complete java newbie and I am lost. I thought about maybe adding another variable to solve the problem, but I can't wrap my brain around how to do that in this case and whether it will even solve the problem.</p>\n"},{"tags":["java","scala","gradle"],"owner":{"account_id":23526826,"reputation":96,"user_id":17573228,"display_name":"tomek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645884685,"creation_date":1645608437,"question_id":71234354,"body_markdown":"I am new in java/gradle. I checked several simple tutorials about Gradle but I need to run a more complicated package that contains gradle directory structure. I imported https://github.com/lklee9/DriftMapper project zip file. I followed instruction points\r\n\r\n1- Run the gradle task &quot;fatJar&quot;\r\n\r\nusing the command shell I changed the directory to driftanalyse (a subdirectory of the DriftMapper) and execute the command:\r\n&gt; gradle fatJar\r\n\r\nThe output: \r\nA problem occurred evaluating root project &#39;driftanalyse&#39;.\r\nCould not find method compile() for arguments [{group=nz.ac.waikato.cms.moa, name=moa, version=2016.04}] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\r\n\r\nThe imported project applies the old version of Gradle 3.3. It is no problem because the folder contained Gradle wrapper.\r\n&gt; .\\gradlew fatJar\r\n\r\nThe output:\r\n\r\nError: Could not find or load main class org.gradle.wrapper.GradleWrapperMain\r\n\r\nIn the second section of the instruction entitled Data Mapper we can read that &quot;A copy of the fatJar of DriftAnalyse is already added in &quot;datamapper/lib&quot; but I cannot execute this file (java -jar path) - maybe it doesn&#39;t make sense.\r\n\r\nNext, I followed instruction points for Data Mapper:\r\n\r\n1- Open a terminal in the directory &quot;datamapper&quot;\r\n\r\n2- run the command &quot;sbt&quot; or &quot;sbt.bat&quot; in windows\r\n\r\nThe output: \r\n\r\nJava HotSpot(TM) Client VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0\r\n\r\nError: Could not find or load main class xsbt.boot.Boot\r\n\r\nEDIT:\r\n\r\nAttempting to build on the driftanalyse in NetBeans gives the following message:\r\n\r\nUnexpected exception; Priority SILENT, Category: Error\r\n\r\n&quot;The version of Gradle you are using (3.3) does not support the environment variables customization feature. Support for this is available in Gradle 3.5 and all later versions.&quot;\r\n\r\nSo, in the Tools-Options-Java-Gradle I changed the Gradle version to 3.5 and unchecked the box &quot;Prefer to use Gradle Wrapper...&quot;. Now, we can see on the list of project files new input: Configuration containing the compile and testCompile files. Next, I attempted to build the driftanalyse - meanwhile I received the Windows Defender info window that Defender blocked the java functionality. I agreed to allow java into the system and surprisingly, the Netbeans building task was completed successfully. \r\n\r\nEDIT2\r\n\r\nHow to get a similar effect using the command line?\r\n\r\nThis part (driftanalyse)  of the project is not GUI based. I removed Gradle 7.4 from the installation folder and inserted Gradle 3.5. (Probably the command\r\n&gt; gradle wrapper --gradle -version 3.5\r\n\r\nwill do the same).\r\nThe command &quot;gradle fatJar&quot; initiated the build process. (The Windows Defender asked for permission for the JAVA again).\r\n\r\nOops, we have another problem: Build failed with an exception. \r\nExecution failed for task &#39;:compileJava&#39;. Could not find tools.jar.\r\n\r\nI created a new environment variable JAVA_HOME according to  https://stackoverflow.com/questions/11345193/gradle-does-not-find-tools-jar. Now, the Gradle building process was successful. But, there is no main manifest attribute for the generated driftanalyse-1.0-all.jar file. \r\n\r\nTo start the GUI for this project, I installed recent sbt-1.6.2. Now, the sbt worked properly. I ran the command &quot;run&quot; in the sbt prompt. It looks like the process finalized successfully and the application works fine in localhost:9000 in the browser.\r\n","title":"Can&#39;t run imported Gradle/java/scala projects from GitHub","body":"<p>I am new in java/gradle. I checked several simple tutorials about Gradle but I need to run a more complicated package that contains gradle directory structure. I imported <a href=\"https://github.com/lklee9/DriftMapper\" rel=\"nofollow noreferrer\">https://github.com/lklee9/DriftMapper</a> project zip file. I followed instruction points</p>\n<p>1- Run the gradle task &quot;fatJar&quot;</p>\n<p>using the command shell I changed the directory to driftanalyse (a subdirectory of the DriftMapper) and execute the command:</p>\n<blockquote>\n<p>gradle fatJar</p>\n</blockquote>\n<p>The output:\nA problem occurred evaluating root project 'driftanalyse'.\nCould not find method compile() for arguments [{group=nz.ac.waikato.cms.moa, name=moa, version=2016.04}] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n<p>The imported project applies the old version of Gradle 3.3. It is no problem because the folder contained Gradle wrapper.</p>\n<blockquote>\n<p>.\\gradlew fatJar</p>\n</blockquote>\n<p>The output:</p>\n<p>Error: Could not find or load main class org.gradle.wrapper.GradleWrapperMain</p>\n<p>In the second section of the instruction entitled Data Mapper we can read that &quot;A copy of the fatJar of DriftAnalyse is already added in &quot;datamapper/lib&quot; but I cannot execute this file (java -jar path) - maybe it doesn't make sense.</p>\n<p>Next, I followed instruction points for Data Mapper:</p>\n<p>1- Open a terminal in the directory &quot;datamapper&quot;</p>\n<p>2- run the command &quot;sbt&quot; or &quot;sbt.bat&quot; in windows</p>\n<p>The output:</p>\n<p>Java HotSpot(TM) Client VM warning: ignoring option MaxPermSize=256m; support was removed in 8.0</p>\n<p>Error: Could not find or load main class xsbt.boot.Boot</p>\n<p>EDIT:</p>\n<p>Attempting to build on the driftanalyse in NetBeans gives the following message:</p>\n<p>Unexpected exception; Priority SILENT, Category: Error</p>\n<p>&quot;The version of Gradle you are using (3.3) does not support the environment variables customization feature. Support for this is available in Gradle 3.5 and all later versions.&quot;</p>\n<p>So, in the Tools-Options-Java-Gradle I changed the Gradle version to 3.5 and unchecked the box &quot;Prefer to use Gradle Wrapper...&quot;. Now, we can see on the list of project files new input: Configuration containing the compile and testCompile files. Next, I attempted to build the driftanalyse - meanwhile I received the Windows Defender info window that Defender blocked the java functionality. I agreed to allow java into the system and surprisingly, the Netbeans building task was completed successfully.</p>\n<p>EDIT2</p>\n<p>How to get a similar effect using the command line?</p>\n<p>This part (driftanalyse)  of the project is not GUI based. I removed Gradle 7.4 from the installation folder and inserted Gradle 3.5. (Probably the command</p>\n<blockquote>\n<p>gradle wrapper --gradle -version 3.5</p>\n</blockquote>\n<p>will do the same).\nThe command &quot;gradle fatJar&quot; initiated the build process. (The Windows Defender asked for permission for the JAVA again).</p>\n<p>Oops, we have another problem: Build failed with an exception.\nExecution failed for task ':compileJava'. Could not find tools.jar.</p>\n<p>I created a new environment variable JAVA_HOME according to  <a href=\"https://stackoverflow.com/questions/11345193/gradle-does-not-find-tools-jar\">Gradle does not find tools.jar</a>. Now, the Gradle building process was successful. But, there is no main manifest attribute for the generated driftanalyse-1.0-all.jar file.</p>\n<p>To start the GUI for this project, I installed recent sbt-1.6.2. Now, the sbt worked properly. I ran the command &quot;run&quot; in the sbt prompt. It looks like the process finalized successfully and the application works fine in localhost:9000 in the browser.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1645884912,"post_id":71277279,"comment_id":125990538,"body_markdown":"```Now how do I get the product of the entry I clicked in my RecycleViewAdapter class?``` Please elaborate this part.","body":"<code>Now how do I get the product of the entry I clicked in my RecycleViewAdapter class?</code> Please elaborate this part."},{"owner":{"account_id":23761195,"reputation":1,"user_id":17776577,"display_name":"edin"},"score":1,"creation_date":1645885367,"post_id":71277279,"comment_id":125990615,"body_markdown":"@SujalKumar Every entry in my RV is another product in my list. To delete it, I need the list entry (=product) of the entry I clicked on.","body":"@SujalKumar Every entry in my RV is another product in my list. To delete it, I need the list entry (=product) of the entry I clicked on."},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1645885874,"post_id":71277279,"comment_id":125990719,"body_markdown":"I think this should help: https://stackoverflow.com/a/28304517/9520315","body":"I think this should help: <a href=\"https://stackoverflow.com/a/28304517/9520315\">stackoverflow.com/a/28304517/9520315</a>"},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1645885991,"post_id":71277279,"comment_id":125990744,"body_markdown":"Using this way you could get the position of the entry clicked and then can further get the required ```Product``` object.","body":"Using this way you could get the position of the entry clicked and then can further get the required <code>Product</code> object."}],"owner":{"account_id":23761195,"reputation":1,"user_id":17776577,"display_name":"edin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645884253,"creation_date":1645884253,"question_id":71277279,"body_markdown":"So I have a bunch of entries in my RV. One entry is one *Product*. Those products are in a list of products. All of them have a barcode and a name: \r\n\r\n    List&lt;Product&gt;;\r\n\r\n    Product(barcode, name);\r\n\r\nNow when I click on one of these entrys, I want to delete it. Therefore I have a function like this in class RecycleViewAdapter: \r\n\r\n    holder.parentLayout.setOnClickListener(new View.OnClickListener() {\r\n    \r\n            @Override\r\n            public void onClick(View view) {\r\n                \r\n                BackendClient.getInstance().deleteProduct(this.product);\r\n    \r\n            }\r\n    \r\n        });\r\n\r\nNow how do I get the *product* of the entry I clicked in my RecycleViewAdapter class?","title":"Get List entry by clicking RecyclerView entry","body":"<p>So I have a bunch of entries in my RV. One entry is one <em>Product</em>. Those products are in a list of products. All of them have a barcode and a name:</p>\n<pre><code>List&lt;Product&gt;;\n\nProduct(barcode, name);\n</code></pre>\n<p>Now when I click on one of these entrys, I want to delete it. Therefore I have a function like this in class RecycleViewAdapter:</p>\n<pre><code>holder.parentLayout.setOnClickListener(new View.OnClickListener() {\n\n        @Override\n        public void onClick(View view) {\n            \n            BackendClient.getInstance().deleteProduct(this.product);\n\n        }\n\n    });\n</code></pre>\n<p>Now how do I get the <em>product</em> of the entry I clicked in my RecycleViewAdapter class?</p>\n"},{"tags":["java","spring","string","exception"],"owner":{"account_id":23239334,"reputation":41,"user_id":17328917,"display_name":"Rain03"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645884153,"creation_date":1645884153,"question_id":71277268,"body_markdown":"I have the following class:\r\n\r\n```\r\n@SoapFault(faultCode = FaultCode.CLIENT)\r\npublic class PasswordDigitsException extends RuntimeException {\r\n\r\n    private static final String errorMessage;\r\n\r\n    static {\r\n        if (PasswordConstraints.MIN_DIGITS == 1) {\r\n            errorMessage = String.format(&quot;Password must contain at least %d digit&quot;,\r\n                    PasswordConstraints.MIN_DIGITS);\r\n        } else {\r\n            errorMessage = String.format(&quot;Password must contain at least %d digits&quot;,\r\n                    PasswordConstraints.MIN_DIGITS);\r\n        }\r\n    }\r\n\r\n\r\n    public PasswordDigitsException() {\r\n        super(errorMessage);\r\n    }\r\n}\r\n```\r\n\r\nAnd the folowing interface:\r\n```\r\npublic interface PasswordConstraints {\r\n\r\n    int MINIM_LENGTH = 6;\r\n    int MAXIM_LENGTH = 20;\r\n\r\n    int MIN_UPPER_CASE_LETTERS = 1;\r\n    int MIN_LOWER_CASE_LETTERS = 1;\r\n\r\n    int MIN_DIGITS = 1;\r\n\r\n    int MIN_SPECIAL_CHARACTERS = 1;\r\n}\r\n```\r\n\r\nFrom what I read, https://www.geeksforgeeks.org/static-blocks-in-java/, the code inside the static block is executed only once: the first time the class is loaded into memory. So the concern is: If I&#39;ll modify the interface fields, I would have to recompile this exception class as well, which I don&#39;t want to do.\r\n\r\nThe question is: is there any method I could keep the custom message without recompiling exception class? (and without going in service to send the message manual)","title":"Spring boot concern about custom exception message","body":"<p>I have the following class:</p>\n<pre><code>@SoapFault(faultCode = FaultCode.CLIENT)\npublic class PasswordDigitsException extends RuntimeException {\n\n    private static final String errorMessage;\n\n    static {\n        if (PasswordConstraints.MIN_DIGITS == 1) {\n            errorMessage = String.format(&quot;Password must contain at least %d digit&quot;,\n                    PasswordConstraints.MIN_DIGITS);\n        } else {\n            errorMessage = String.format(&quot;Password must contain at least %d digits&quot;,\n                    PasswordConstraints.MIN_DIGITS);\n        }\n    }\n\n\n    public PasswordDigitsException() {\n        super(errorMessage);\n    }\n}\n</code></pre>\n<p>And the folowing interface:</p>\n<pre><code>public interface PasswordConstraints {\n\n    int MINIM_LENGTH = 6;\n    int MAXIM_LENGTH = 20;\n\n    int MIN_UPPER_CASE_LETTERS = 1;\n    int MIN_LOWER_CASE_LETTERS = 1;\n\n    int MIN_DIGITS = 1;\n\n    int MIN_SPECIAL_CHARACTERS = 1;\n}\n</code></pre>\n<p>From what I read, <a href=\"https://www.geeksforgeeks.org/static-blocks-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/static-blocks-in-java/</a>, the code inside the static block is executed only once: the first time the class is loaded into memory. So the concern is: If I'll modify the interface fields, I would have to recompile this exception class as well, which I don't want to do.</p>\n<p>The question is: is there any method I could keep the custom message without recompiling exception class? (and without going in service to send the message manual)</p>\n"},{"tags":["java"],"owner":{"account_id":165405,"reputation":10947,"user_id":388827,"accept_rate":89,"display_name":"qqilihq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645884005,"creation_date":1645884005,"question_id":71277250,"body_markdown":"Assume, I know my current keyboard&#39;s locale setting (there seems to be `InputContext.getInstance().getLocale()` for that), is there a way to determine programmatically which keys on the keyboard would need to be pressed to type a specific character? \r\n\r\n**Example:**\r\n\r\n* Keyboard layout: German, Mac\r\n* Input: `&#245;`\r\n* Result: `[alt-down, n-down, n-up, alt-up, o-down, o-up]`\r\n\r\n**Background:** I&#39;m wondering if it&#39;s possible to make usage of the [`java.awt.Robot`](https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html) class more portable.","title":"Determine key combination based on current keyboard layout","body":"<p>Assume, I know my current keyboard's locale setting (there seems to be <code>InputContext.getInstance().getLocale()</code> for that), is there a way to determine programmatically which keys on the keyboard would need to be pressed to type a specific character?</p>\n<p><strong>Example:</strong></p>\n<ul>\n<li>Keyboard layout: German, Mac</li>\n<li>Input: <code>õ</code></li>\n<li>Result: <code>[alt-down, n-down, n-up, alt-up, o-down, o-up]</code></li>\n</ul>\n<p><strong>Background:</strong> I'm wondering if it's possible to make usage of the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/Robot.html\" rel=\"nofollow noreferrer\"><code>java.awt.Robot</code></a> class more portable.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch","spring-integration"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1645967963,"post_id":71277199,"comment_id":126003732,"body_markdown":"How does it work if you comment out the last `handle()` instead of this gateway?","body":"How does it work if you comment out the last <code>handle()</code> instead of this gateway?"},{"owner":{"account_id":9218438,"reputation":23,"user_id":6848779,"display_name":"M.M."},"score":0,"creation_date":1646092760,"post_id":71277199,"comment_id":126034749,"body_markdown":"If I comment last `handle()` then I get exception: `Caused by: org.springframework.messaging.core.DestinationResolutionException: no output-channel or replyChannel header available`.\nI added nullChannel and exception disappeared, but behavior is the same :(","body":"If I comment last <code>handle()</code> then I get exception: <code>Caused by: org.springframework.messaging.core.DestinationResolutionExce&zwnj;&#8203;ption: no output-channel or replyChannel header available</code>. I added nullChannel and exception disappeared, but behavior is the same :("},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1646161649,"post_id":71277199,"comment_id":126053721,"body_markdown":"Ok. That means `JobLaunchingGateway` is not blocking. Good. Do you mean with a `JobLaunchingGateway` you see entries in the metadata store, but with it do not? Although the SFTP channel adapter is producing messages every minute and probably for the same local file? No new file on SFTP side. Right?","body":"Ok. That means <code>JobLaunchingGateway</code> is not blocking. Good. Do you mean with a <code>JobLaunchingGateway</code> you see entries in the metadata store, but with it do not? Although the SFTP channel adapter is producing messages every minute and probably for the same local file? No new file on SFTP side. Right?"},{"owner":{"account_id":9218438,"reputation":23,"user_id":6848779,"display_name":"M.M."},"score":0,"creation_date":1646258615,"post_id":71277199,"comment_id":126081896,"body_markdown":"I mean with `JobLaunchinGateway` I don&#39;t see entries in the metadata store, but without I see. The rest is right. I made another simple Job and it works well. I think it is something wrong with Job.","body":"I mean with <code>JobLaunchinGateway</code> I don&#39;t see entries in the metadata store, but without I see. The rest is right. I made another simple Job and it works well. I think it is something wrong with Job."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1646258735,"post_id":71277199,"comment_id":126081948,"body_markdown":"Any chances to see a simple Spring Boot project to play with? I really want to understand the problem and how to reproduce it.","body":"Any chances to see a simple Spring Boot project to play with? I really want to understand the problem and how to reproduce it."},{"owner":{"account_id":9218438,"reputation":23,"user_id":6848779,"display_name":"M.M."},"score":0,"creation_date":1646260735,"post_id":71277199,"comment_id":126082468,"body_markdown":"I will prepare a sample project over the weekend.","body":"I will prepare a sample project over the weekend."},{"owner":{"account_id":9218438,"reputation":23,"user_id":6848779,"display_name":"M.M."},"score":0,"creation_date":1646261383,"post_id":71277199,"comment_id":126082615,"body_markdown":"I think that is something wrong with my reader. I will try to solve this problem myself first.","body":"I think that is something wrong with my reader. I will try to solve this problem myself first."},{"owner":{"account_id":9218438,"reputation":23,"user_id":6848779,"display_name":"M.M."},"score":0,"creation_date":1646509357,"post_id":71277199,"comment_id":126142818,"body_markdown":"Hmmm... I have it, but I don&#39;t understand this. In my reader I use Apache POI. When I call `workbook.close();` then job is repeated and without this line everything works well. Do you have any idea why this is happening? What is the reason? Can you explain this?","body":"Hmmm... I have it, but I don&#39;t understand this. In my reader I use Apache POI. When I call <code>workbook.close();</code> then job is repeated and without this line everything works well. Do you have any idea why this is happening? What is the reason? Can you explain this?"}],"owner":{"account_id":9218438,"reputation":23,"user_id":6848779,"display_name":"M.M."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":380,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645883612,"creation_date":1645883612,"question_id":71277199,"body_markdown":"I don&#39;t understand spring integration with `JobLaunchingGateway` behavior. I have example config:\r\n\r\n```java\r\n    public SftpInboundChannelAdapterSpec sftpInboundChannelAdapterSpec() {\r\n        return Sftp.inboundAdapter(ftpFileSessionFactory())\r\n                .preserveTimestamp(true)\r\n                .deleteRemoteFiles(false)\r\n                .remoteDirectory(integrationProperties.getRemoteDirectory())\r\n                .filter(sftpFileListFilter())\r\n                .localDirectory(new File(integrationProperties.getLocalDirectory()));\r\n    }\r\n\r\n    public PollerSpec pollerSpec() {\r\n        PollerSpec cron = Pollers.cron(integrationProperties.getPollerCron());\r\n        cron.maxMessagesPerPoll(integrationProperties.getMessagePerPoll());\r\n\r\n        return cron;\r\n    }\r\n\r\n    @Bean\r\n    public IntegrationFlow sftpInboundFlow() {\r\n        return IntegrationFlows.from(sftpInboundChannelAdapterSpec(), pc -&gt; pc.poller(pollerSpec()))\r\n                .transform(fileMessageToJobRequest())\r\n                .handle(jobLaunchingGateway())\r\n                .handle(message -&gt; {\r\n                    logger.info(&quot;Handle message: {}&quot;, message.getPayload());\r\n                })\r\n                .get();\r\n    }\r\n\r\n    @Bean\r\n    public JobLaunchingGateway jobLaunchingGateway() {\r\n        SimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher();\r\n        simpleJobLauncher.setJobRepository(jobRepository);\r\n        simpleJobLauncher.setTaskExecutor(new SyncTaskExecutor());\r\n\r\n        JobLaunchingGateway jobLaunchingGateway = new JobLaunchingGateway(simpleJobLauncher);\r\n        return jobLaunchingGateway;\r\n    }\r\n\r\n    private ChainFileListFilter&lt;ChannelSftp.LsEntry&gt; sftpFileListFilter() {\r\n        ChainFileListFilter&lt;ChannelSftp.LsEntry&gt; chainFileListFilter = new ChainFileListFilter&lt;&gt;();\r\n        chainFileListFilter.addFilter(new SftpSimplePatternFileListFilter(&quot;*.xlsx&quot;));\r\n        chainFileListFilter.addFilter(new SftpPersistentAcceptOnceFileListFilter(metadataStore(), &quot;INT&quot;));\r\n        return chainFileListFilter;\r\n    }\r\n```\r\n\r\nIf I set polling every 1 minute, the job will be created every minute. I don&#39;t see any new record in `MetaDataStore`.\r\n\r\nWhen I comment line with `.handle(jobLaunchingGateway())`\r\n\r\n```java\r\n    @Bean\r\n    public IntegrationFlow sftpInboundFlow() {\r\n        return IntegrationFlows.from(sftpInboundChannelAdapterSpec(), pc -&gt; pc.poller(pollerSpec()))\r\n                .transform(fileMessageToJobRequest())\r\n//                .handle(jobLaunchingGateway())\r\n                .handle(message -&gt; {\r\n                    logger.info(&quot;Handle message: {}&quot;, message.getPayload());\r\n                })\r\n                .get();\r\n    }\r\n```\r\n\r\nEverything works as expected.\r\n\r\n\r\nI expected that SFTP fetch new file(s) and then create new job for each file.\r\n\r\nI don&#39;t understand why I don&#39;t see records in `MetaDataStore` when I `JobLaunchingGateway` is enabled.\r\n\r\nCan you help me and explain this?\r\n\r\nI am new in spring integration and batch?\r\n\r\n","title":"Spring integration and batch job is running in every poll","body":"<p>I don't understand spring integration with <code>JobLaunchingGateway</code> behavior. I have example config:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public SftpInboundChannelAdapterSpec sftpInboundChannelAdapterSpec() {\n        return Sftp.inboundAdapter(ftpFileSessionFactory())\n                .preserveTimestamp(true)\n                .deleteRemoteFiles(false)\n                .remoteDirectory(integrationProperties.getRemoteDirectory())\n                .filter(sftpFileListFilter())\n                .localDirectory(new File(integrationProperties.getLocalDirectory()));\n    }\n\n    public PollerSpec pollerSpec() {\n        PollerSpec cron = Pollers.cron(integrationProperties.getPollerCron());\n        cron.maxMessagesPerPoll(integrationProperties.getMessagePerPoll());\n\n        return cron;\n    }\n\n    @Bean\n    public IntegrationFlow sftpInboundFlow() {\n        return IntegrationFlows.from(sftpInboundChannelAdapterSpec(), pc -&gt; pc.poller(pollerSpec()))\n                .transform(fileMessageToJobRequest())\n                .handle(jobLaunchingGateway())\n                .handle(message -&gt; {\n                    logger.info(&quot;Handle message: {}&quot;, message.getPayload());\n                })\n                .get();\n    }\n\n    @Bean\n    public JobLaunchingGateway jobLaunchingGateway() {\n        SimpleJobLauncher simpleJobLauncher = new SimpleJobLauncher();\n        simpleJobLauncher.setJobRepository(jobRepository);\n        simpleJobLauncher.setTaskExecutor(new SyncTaskExecutor());\n\n        JobLaunchingGateway jobLaunchingGateway = new JobLaunchingGateway(simpleJobLauncher);\n        return jobLaunchingGateway;\n    }\n\n    private ChainFileListFilter&lt;ChannelSftp.LsEntry&gt; sftpFileListFilter() {\n        ChainFileListFilter&lt;ChannelSftp.LsEntry&gt; chainFileListFilter = new ChainFileListFilter&lt;&gt;();\n        chainFileListFilter.addFilter(new SftpSimplePatternFileListFilter(&quot;*.xlsx&quot;));\n        chainFileListFilter.addFilter(new SftpPersistentAcceptOnceFileListFilter(metadataStore(), &quot;INT&quot;));\n        return chainFileListFilter;\n    }\n</code></pre>\n<p>If I set polling every 1 minute, the job will be created every minute. I don't see any new record in <code>MetaDataStore</code>.</p>\n<p>When I comment line with <code>.handle(jobLaunchingGateway())</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public IntegrationFlow sftpInboundFlow() {\n        return IntegrationFlows.from(sftpInboundChannelAdapterSpec(), pc -&gt; pc.poller(pollerSpec()))\n                .transform(fileMessageToJobRequest())\n//                .handle(jobLaunchingGateway())\n                .handle(message -&gt; {\n                    logger.info(&quot;Handle message: {}&quot;, message.getPayload());\n                })\n                .get();\n    }\n</code></pre>\n<p>Everything works as expected.</p>\n<p>I expected that SFTP fetch new file(s) and then create new job for each file.</p>\n<p>I don't understand why I don't see records in <code>MetaDataStore</code> when I <code>JobLaunchingGateway</code> is enabled.</p>\n<p>Can you help me and explain this?</p>\n<p>I am new in spring integration and batch?</p>\n"},{"tags":["java","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1645864315,"post_id":71275088,"comment_id":125986945,"body_markdown":"And where your view(Thymeleaf)? and you have to add more details about question","body":"And where your view(Thymeleaf)? and you have to add more details about question"},{"owner":{"account_id":15262382,"reputation":37,"user_id":11012029,"display_name":"Nandu Aji"},"score":0,"creation_date":1645865097,"post_id":71275088,"comment_id":125987051,"body_markdown":"&lt;tbody&gt;\n                &lt;tr th:each=&quot;appointment: ${listAppointments}&quot;&gt;\n                  \n                    &lt;td th:text=&quot;${appointment.appointmentNumber}&quot;&gt;Appointment Number&lt;/td&gt;","body":"&lt;tbody&gt;                 &lt;tr th:each=&quot;appointment: ${listAppointments}&quot;&gt;                                        &lt;td th:text=&quot;${appointment.appointmentNumber}&quot;&gt;Appointment Number&lt;/td&gt;"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":1,"creation_date":1645866752,"post_id":71275088,"comment_id":125987303,"body_markdown":"why you don&#39;t put `listAppointments` directly in model and iterate in thymeleaf","body":"why you don&#39;t put <code>listAppointments</code> directly in model and iterate in thymeleaf"}],"answers":[{"tags":[],"owner":{"account_id":5079871,"reputation":1055,"user_id":4076291,"accept_rate":57,"display_name":"Ahmet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645870776,"creation_date":1645870776,"answer_id":71275820,"question_id":71275088,"body_markdown":"You are adding the `listAppointments` **model attribute** over and over again as a single `Appointments` object. You should make a new list and then add the desired elements to that list and then you should put that list to model.\r\n\r\n    @GetMapping(&quot;/appointmenttoday&quot;)\r\n    public String appointmentToday(Model model) {\r\n        ZoneId defaultZoneId = ZoneId.systemDefault();\r\n        LocalDate currentDate = LocalDate.now();\r\n        List&lt;Appointments&gt; listAppointments = appointmentsRepository.findAll();\r\n        List&lt;Appointments&gt; result = new List&lt;Appointments&gt;();\r\n        for(int i = 0; i &lt; listAppointments.size(); i++) {\r\n            Appointments appointments = listAppointments.get(i);\r\n            LocalDate currentDate1 = appointments.toDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n            if(currentDate.compareTo(currentDate1) == 0) {\r\n               result.add(appointments);\r\n            }\r\n        }\r\n\r\n        model.addAttribute(&quot;listAppointments&quot;, result);        \r\n        return &quot;appointmenttoday&quot;;\r\n    }","title":"Why is Thymeleaf only showing the last line of the list?","body":"<p>You are adding the <code>listAppointments</code> <strong>model attribute</strong> over and over again as a single <code>Appointments</code> object. You should make a new list and then add the desired elements to that list and then you should put that list to model.</p>\n<pre><code>@GetMapping(&quot;/appointmenttoday&quot;)\npublic String appointmentToday(Model model) {\n    ZoneId defaultZoneId = ZoneId.systemDefault();\n    LocalDate currentDate = LocalDate.now();\n    List&lt;Appointments&gt; listAppointments = appointmentsRepository.findAll();\n    List&lt;Appointments&gt; result = new List&lt;Appointments&gt;();\n    for(int i = 0; i &lt; listAppointments.size(); i++) {\n        Appointments appointments = listAppointments.get(i);\n        LocalDate currentDate1 = appointments.toDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n        if(currentDate.compareTo(currentDate1) == 0) {\n           result.add(appointments);\n        }\n    }\n\n    model.addAttribute(&quot;listAppointments&quot;, result);        \n    return &quot;appointmenttoday&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":15262382,"reputation":37,"user_id":11012029,"display_name":"Nandu Aji"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645882121,"creation_date":1645863485,"question_id":71275088,"body_markdown":"I want to get each value from the `listAppointments` and add it to `appointments`. Now I want to add each of that value to a `model` but Thymeleaf is showing only the last value. What should I do?\r\n\r\n```\r\n@GetMapping(&quot;/appointmenttoday&quot;)\r\npublic String appointmentToday(Model model) {\r\n       ZoneId defaultZoneId = ZoneId.systemDefault();\r\n       LocalDate currentDate = LocalDate.now();\r\n       List&lt;Appointments&gt; listAppointments = appointmentsRepository.findAll();\r\n       for(int i = 0; i &lt; listAppointments.size(); i++) {\r\n           Appointments appointments = listAppointments.get(i);\r\n           LocalDate currentDate1 = appointments.toDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n           if(currentDate.compareTo(currentDate1) == 0) {\r\n                model.addAttribute(&quot;listAppointments&quot;, appointments);\r\n           }\r\n       }\r\n        \r\nreturn &quot;appointmenttoday&quot;;\r\n}\r\n```\r\n\r\nThymeleaf:\r\n```\r\n&lt;tbody&gt; \r\n    &lt;tr th:each=&quot;appointment: ${listAppointments}&quot;&gt;\r\n        &lt;td th:text=&quot;${appointment.appointmentNumber}&quot;&gt;Appointment Number&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n&lt;tbody&gt;\r\n```\r\n","title":"Why is Thymeleaf only showing the last line of the list?","body":"<p>I want to get each value from the <code>listAppointments</code> and add it to <code>appointments</code>. Now I want to add each of that value to a <code>model</code> but Thymeleaf is showing only the last value. What should I do?</p>\n<pre><code>@GetMapping(&quot;/appointmenttoday&quot;)\npublic String appointmentToday(Model model) {\n       ZoneId defaultZoneId = ZoneId.systemDefault();\n       LocalDate currentDate = LocalDate.now();\n       List&lt;Appointments&gt; listAppointments = appointmentsRepository.findAll();\n       for(int i = 0; i &lt; listAppointments.size(); i++) {\n           Appointments appointments = listAppointments.get(i);\n           LocalDate currentDate1 = appointments.toDate.toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n           if(currentDate.compareTo(currentDate1) == 0) {\n                model.addAttribute(&quot;listAppointments&quot;, appointments);\n           }\n       }\n        \nreturn &quot;appointmenttoday&quot;;\n}\n</code></pre>\n<p>Thymeleaf:</p>\n<pre><code>&lt;tbody&gt; \n    &lt;tr th:each=&quot;appointment: ${listAppointments}&quot;&gt;\n        &lt;td th:text=&quot;${appointment.appointmentNumber}&quot;&gt;Appointment Number&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;tbody&gt;\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":165347,"reputation":2745,"user_id":388714,"display_name":"Kasun Gajasinghe"},"score":0,"creation_date":1313182366,"post_id":7032965,"comment_id":8422035,"body_markdown":"Seems JDK 1.6.0_26 is used to compile your source with 1.5. This is possible!","body":"Seems JDK 1.6.0_26 is used to compile your source with 1.5. This is possible!"},{"owner":{"account_id":34011,"reputation":5855,"user_id":95674,"display_name":"Barett"},"score":8,"creation_date":1394146864,"post_id":7032965,"comment_id":33770501,"body_markdown":"eek! :( &quot;this error&quot; link has broken","body":"eek! :( &quot;this error&quot; link has broken"}],"answers":[{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":164,"is_accepted":true,"score":164,"last_activity_date":1313097977,"creation_date":1313097977,"answer_id":7033062,"question_id":7032965,"body_markdown":"`mvn -version` will output which java it&#39;s using. If JAVA_HOME is set to a valid JDK directory and Maven is using something else, then most likely someone has tampered with the way that Maven starts up.","title":"How do I figure out and change which version of Java Maven is using to execute?","body":"<p><code>mvn -version</code> will output which java it's using. If JAVA_HOME is set to a valid JDK directory and Maven is using something else, then most likely someone has tampered with the way that Maven starts up.</p>\n"},{"tags":[],"owner":{"account_id":62515,"reputation":45036,"user_id":185722,"accept_rate":100,"display_name":"Alexander Pogrebnyak"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1313105125,"creation_date":1313105125,"answer_id":7034105,"question_id":7032965,"body_markdown":"You will need to configure `maven-compiler-plugin` to use 1.6 `source` and `target` parameters ( by default it is 1.5 ).\r\n\r\nThis is the best done in your project&#39;s parent pom in `&lt;pluginManagment&gt;` section ( but you can always configure it per individual projects of course ).\r\n\r\n      &lt;build&gt;\r\n    \r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.3.2&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;source&gt;1.6&lt;/source&gt;\r\n                &lt;target&gt;1.6&lt;/target&gt;\r\n                \r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n      &lt;/build&gt;\r\n\r\n    \r\n\r\n","title":"How do I figure out and change which version of Java Maven is using to execute?","body":"<p>You will need to configure <code>maven-compiler-plugin</code> to use 1.6 <code>source</code> and <code>target</code> parameters ( by default it is 1.5 ).</p>\n\n<p>This is the best done in your project's parent pom in <code>&lt;pluginManagment&gt;</code> section ( but you can always configure it per individual projects of course ).</p>\n\n<pre><code>  &lt;build&gt;\n\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.3.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;source&gt;1.6&lt;/source&gt;\n            &lt;target&gt;1.6&lt;/target&gt;\n\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31617,"reputation":52341,"user_id":86967,"accept_rate":56,"display_name":"Brent Bradburn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1506532942,"creation_date":1506532942,"answer_id":46453791,"question_id":7032965,"body_markdown":"`mvn -version` tells you what compiler Maven is using, so this answers the question *unless* your POM specifies override values for the versions to be used.\r\n\r\nHere&#39;s the easiest way to specify the overrides in `pom.xml`:\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.9&lt;/maven.compiler.target&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.9&lt;/maven.compiler.source&gt;\r\n\t&lt;/properties&gt;\r\n\r\nAlternatively, the [`maven-compiler-plugin`](https://maven.apache.org/plugins/maven-compiler-plugin/) can be specified more explicitly.  In that case, look at the `&lt;source&gt;` and `&lt;target&gt;` values associated with the plugin.\r\n\r\nBoth of these options are described [here](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html).\r\n\r\n**If your POM has a `&lt;parent&gt;`, then you need to check that as well (recursively).**\r\n\r\n*Note: When `source` and `target` are specified, these values are passed as command-line options to the compiler.  Using this feature, you can compile or run against earlier Java versions than the compiler&#39;s nominal value.*","title":"How do I figure out and change which version of Java Maven is using to execute?","body":"<p><code>mvn -version</code> tells you what compiler Maven is using, so this answers the question <em>unless</em> your POM specifies override values for the versions to be used.</p>\n\n<p>Here's the easiest way to specify the overrides in <code>pom.xml</code>:</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;maven.compiler.target&gt;1.9&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.9&lt;/maven.compiler.source&gt;\n&lt;/properties&gt;\n</code></pre>\n\n<p>Alternatively, the <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/\" rel=\"nofollow noreferrer\"><code>maven-compiler-plugin</code></a> can be specified more explicitly.  In that case, look at the <code>&lt;source&gt;</code> and <code>&lt;target&gt;</code> values associated with the plugin.</p>\n\n<p>Both of these options are described <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>If your POM has a <code>&lt;parent&gt;</code>, then you need to check that as well (recursively).</strong></p>\n\n<p><em>Note: When <code>source</code> and <code>target</code> are specified, these values are passed as command-line options to the compiler.  Using this feature, you can compile or run against earlier Java versions than the compiler's nominal value.</em></p>\n"}],"owner":{"account_id":237,"reputation":28496,"user_id":292,"accept_rate":68,"display_name":"shsteimer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113301,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":7033062,"answer_count":3,"score":104,"last_activity_date":1645881901,"creation_date":1313097453,"question_id":7032965,"body_markdown":"When running our Maven build, a member of my team gets a NoSuchMethodError in one of the dependant plug-ins when executing. However, when we run `java -version` from her command line, it indicates Java 1.6.0_26.  The error obviously seems to be screaming that Maven is using Java 5.\r\n\r\nHow do I figure out and change what version of Java is being used by Maven?\r\n\r\n3 potentially important notes:\r\n\r\n1.  This is executed at the command line, not using Eclipse plugin\r\n2.  JAVA_HOME is set to a Java 1.6 JDK\r\n3.  Using Maven 2.2.1","title":"How do I figure out and change which version of Java Maven is using to execute?","body":"<p>When running our Maven build, a member of my team gets a NoSuchMethodError in one of the dependant plug-ins when executing. However, when we run <code>java -version</code> from her command line, it indicates Java 1.6.0_26.  The error obviously seems to be screaming that Maven is using Java 5.</p>\n<p>How do I figure out and change what version of Java is being used by Maven?</p>\n<p>3 potentially important notes:</p>\n<ol>\n<li>This is executed at the command line, not using Eclipse plugin</li>\n<li>JAVA_HOME is set to a Java 1.6 JDK</li>\n<li>Using Maven 2.2.1</li>\n</ol>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":24385426,"reputation":16,"user_id":18316288,"display_name":"emrezipak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645881642,"creation_date":1645881642,"answer_id":71277018,"question_id":71276371,"body_markdown":"My application is working that\r\n```\r\n@SpringBootApplication\r\n@EnableSwagger2\r\npublic class HrmsApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(HrmsApplication.class, args);\r\n\r\n\t}\r\n\t@Bean\r\n\tpublic Docket api() {\r\n\t\treturn new Docket(DocumentationType.SWAGGER_2)\r\n\t\t\t\t.select()\r\n\t\t\t\t.apis(RequestHandlerSelectors.basePackage(&quot;KodlamaIo.hrms&quot;))\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n}\r\n```\r\nAlso i added to application.properties this, but i added this because of spring version\r\n```\r\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n```\r\nand i added these dependencies\r\n```\r\n&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n","title":"Application failed after added swagger configuration","body":"<p>My application is working that</p>\n<pre><code>@SpringBootApplication\n@EnableSwagger2\npublic class HrmsApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(HrmsApplication.class, args);\n\n    }\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;KodlamaIo.hrms&quot;))\n                .build();\n    }\n\n}\n</code></pre>\n<p>Also i added to application.properties this, but i added this because of spring version</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre>\n<p>and i added these dependencies</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":22436368,"reputation":276,"user_id":16641566,"display_name":"Robs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71277018,"answer_count":1,"score":0,"last_activity_date":1645881642,"creation_date":1645876032,"question_id":71276371,"body_markdown":"I&#39;m using spring boot and I want to add swagger configuration, the problem is after I run the application I get this error:\r\n\r\n  \r\n    org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.boot.starter.autoconfigure.OpenApiAutoConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spring/web/SpringfoxWebConfiguration.class] cannot be opened because it does not exist\r\n    \r\n\r\n  In my class I added this methods:\r\n    \r\n      \r\n    \r\n          @Configuration\r\n        public class SpringFoxConfig {\r\n            @Bean\r\n            public Docket api() {\r\n                return new Docket(DocumentationType.SWAGGER_2)\r\n                        .select()\r\n                        .paths(input -&gt; true)\r\n                        .apis(input -&gt; true)\r\n                        .build()\r\n                        .apiInfo(apiDetails());\r\n            }\r\n        \r\n        \r\n            private ApiInfo apiDetails() {\r\n                return new ApiInfoBuilder()\r\n                        .title(&quot;School Jpa&quot;)\r\n                        .contact(new Contact(&quot;Robs&quot;,&quot;url&quot;, &quot;email&quot;))\r\n                        .description(&quot;Crud Jpa sample&quot;)\r\n                        .build();\r\n            }\r\n  In my pom.xml I added this dependencies:\r\n    \r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n   I can&#39;t understand what is wrong, I followed online solution asking me to add **@EnableSwagger2WebMv** and **@EnableSwagger2** but I still get errors.\r\nI tried to add **@EnableSwagger2** in the SpringBootApplication and I get this error:\r\n\r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\r\n\r\n\r\n","title":"Application failed after added swagger configuration","body":"<p>I'm using spring boot and I want to add swagger configuration, the problem is after I run the application I get this error:</p>\n<pre><code>org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [springfox.boot.starter.autoconfigure.OpenApiAutoConfiguration]; nested exception is java.io.FileNotFoundException: class path resource [springfox/documentation/spring/web/SpringfoxWebConfiguration.class] cannot be opened because it does not exist\n</code></pre>\n<p>In my class I added this methods:</p>\n<pre><code>      @Configuration\n    public class SpringFoxConfig {\n        @Bean\n        public Docket api() {\n            return new Docket(DocumentationType.SWAGGER_2)\n                    .select()\n                    .paths(input -&gt; true)\n                    .apis(input -&gt; true)\n                    .build()\n                    .apiInfo(apiDetails());\n        }\n    \n    \n        private ApiInfo apiDetails() {\n            return new ApiInfoBuilder()\n                    .title(&quot;School Jpa&quot;)\n                    .contact(new Contact(&quot;Robs&quot;,&quot;url&quot;, &quot;email&quot;))\n                    .description(&quot;Crud Jpa sample&quot;)\n                    .build();\n        }\n</code></pre>\n<p>In my pom.xml I added this dependencies:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I can't understand what is wrong, I followed online solution asking me to add <strong>@EnableSwagger2WebMv</strong> and <strong>@EnableSwagger2</strong> but I still get errors.\nI tried to add <strong>@EnableSwagger2</strong> in the SpringBootApplication and I get this error:</p>\n<pre><code>org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException: Cannot invoke &quot;org.springframework.web.servlet.mvc.condition.PatternsRequestCondition.getPatterns()&quot; because &quot;this.condition&quot; is null\n</code></pre>\n"},{"tags":["java","mysql","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":10669539,"reputation":69,"user_id":7854997,"display_name":"Vivek Pandita"},"score":0,"creation_date":1645873629,"post_id":71275905,"comment_id":125988551,"body_markdown":"It seems you call internally is going in loop -&gt; User calling Address. Address again calling User &amp; so on.","body":"It seems you call internally is going in loop -&gt; User calling Address. Address again calling User &amp; so on."},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1645874062,"post_id":71275905,"comment_id":125988619,"body_markdown":"Can you show me your both `dao` or `repository`","body":"Can you show me your both <code>dao</code> or <code>repository</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1645876185,"post_id":71275905,"comment_id":125988924,"body_markdown":"Have you looked at the stack trace?","body":"Have you looked at the stack trace?"},{"owner":{"account_id":17484901,"reputation":90,"user_id":12678146,"display_name":"Aman Agarwal"},"score":0,"creation_date":1645879314,"post_id":71275905,"comment_id":125989439,"body_markdown":"UserDao `public interface UserDao extends JpaRepository&lt;User, Long&gt; {\n\t\n}\n`AddressDao `public interface AddressDao extends JpaRepository&lt;Address, Long&gt;{\n}` @Faeemazaz","body":"UserDao <code>public interface UserDao extends JpaRepository&lt;User, Long&gt; { \t } </code>AddressDao <code>public interface AddressDao extends JpaRepository&lt;Address, Long&gt;{ }</code> @Faeemazaz"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1645880135,"post_id":71275905,"comment_id":125989607,"body_markdown":"Where is `getById()` mehod?","body":"Where is <code>getById()</code> mehod?"},{"owner":{"account_id":17484901,"reputation":90,"user_id":12678146,"display_name":"Aman Agarwal"},"score":0,"creation_date":1645881245,"post_id":71275905,"comment_id":125989807,"body_markdown":"@Faeemazaz it is already implemented","body":"@Faeemazaz it is already implemented"}],"answers":[{"tags":[],"owner":{"account_id":22978237,"reputation":486,"user_id":17105581,"display_name":"ferrouskid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645878834,"creation_date":1645878020,"answer_id":71276599,"question_id":71275905,"body_markdown":"TLDR: you aren&#39;t actually saving anything anywhere, but it&#39;s easy to fix. Here&#39;s my code and my explanation: \r\n\r\nMainController.java: \r\n\r\n    @RestController\r\n    public class MainController {\r\n        private final UserRepository userRepository;\r\n        private final AddressRepository addressRepository;\r\n    \r\n        public MainController(UserRepository userRepository, AddressRepository addressRepository){\r\n            this.userRepository = userRepository;\r\n            this.addressRepository = addressRepository;\r\n        }\r\n    \r\n        @GetMapping(&quot;/test&quot;)\r\n        public String test() {\r\n            User user = new User();\r\n            user.setName(&quot;name&quot;);\r\n            user.setEmail(&quot;email&quot;);\r\n            user.setPhone(&quot;phone&quot;);\r\n            user.setPassword(&quot;password&quot;);\r\n            user.setImageUrl(&quot;imageUrl&quot;);\r\n    \r\n            user = userRepository.save(user);\r\n            System.out.println(&quot;saved user&quot;);\r\n    \r\n            Address address = new Address();\r\n            address.setCountry(&quot;country&quot;);\r\n            address.setState(&quot;state&quot;);\r\n            address.setCity(&quot;city&quot;);\r\n            address.setStreet(&quot;street&quot;);\r\n            address.setPincode(&quot;123456&quot;);\r\n    \r\n            address = addressRepository.save(address);\r\n            System.out.println(&quot;saved address&quot;);\r\n    \r\n            user.setAddress(address);\r\n            userRepository.save(user);\r\n    \r\n            System.out.println(&quot;set user&#39;s address&quot;);\r\n            return &quot;working&quot;;\r\n        }\r\n    \r\n        @GetMapping(&quot;/fetch&quot;)\r\n        public String fetch() {\r\n            Optional&lt;User&gt; optionalUser = userRepository.findById((long) 1);\r\n            if(optionalUser.isPresent()){\r\n                User user = optionalUser.get();\r\n                System.out.println(user.getAddress());\r\n    \r\n                boolean addressExists = addressRepository.existsById((long) 1);\r\n                System.out.println(addressExists);\r\n                System.out.println(user.getAddress().getCountry());\r\n    \r\n                return &quot;working&quot;;\r\n            }\r\n    \r\n            System.out.println(&quot;Error: user with id 1 not found!&quot;);\r\n            return &quot;failing&quot;;\r\n        }\r\n    }\r\n\r\nUser.java: \r\n\r\n    @Entity\r\n    @Table(name = &quot;user&quot;)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        private String name;\r\n        private String email;\r\n        private String phone;\r\n        private String password;\r\n        private String imageUrl;\r\n    \r\n        @OneToOne(cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;address_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        private Address address;\r\n    \r\n        //getters and setters omitted for brevity\r\n    }\r\n\r\nAddress.java: \r\n\r\n    @Entity\r\n    @Table(name = &quot;address&quot;)\r\n    public class Address {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @OneToOne(mappedBy = &quot;address&quot;)\r\n        private User user;\r\n    \r\n        private String country;\r\n        private String state;\r\n        private String city;\r\n        private String street;\r\n        private String pincode;\r\n        \r\n        //getters and setters omitted for brevity\r\n    }\r\n\r\nAddressRepository.java:\r\n\r\n    public interface AddressRepository extends CrudRepository&lt;Address, Long&gt; {\r\n    \r\n    }\r\n\r\nUserRepository.java:\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\r\n    \r\n    }\r\n\r\nUserDAO.java:\r\n\r\n    public class UserDAO {\r\n        private final String name;\r\n        private final String email;\r\n        private final String phone;\r\n        private final String imageUrl;\r\n        \r\n        public UserDAO(User user) {\r\n            name = user.getName();\r\n            email = user.getEmail();\r\n            phone = user.getPhone();\r\n            imageUrl = user.getImageUrl();\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public String getPhone() {\r\n            return phone;\r\n        }\r\n    \r\n        public String getImageUrl() {\r\n            return imageUrl;\r\n        }\r\n    }\r\n\r\nA DAO has no connection to the database, it&#39;s intent is what the acronym stands for, simply to transfer data, and that&#39;s it. When you make a repository, you can stick your objects there by saving them in the repository. Notice that by extending the `CrudRepository` with correct generics, you don&#39;t even need to implement the methods yourself. The `save` method actually saves the POJO, and returns the saved version, which is why I did `user = userRepository.save(user)`, which may seem counterintuitive at first, but it simply helps ensure that everything is as you expect. If you then want to send the `UserDAO` object as a response, you can create it using the `user` object that is returned from the database, maybe something like: \r\n\r\n    UserDAO dao = new UserDAO(userRepository.save(user));\r\n\r\nPlease take notice of what is happening inside the `test` method in `MainController`. First, we create the POJO `User` object and set its fields. Then we have to save it to the repository, it is only persisted after you call `save` method of the repository. Please note that the `user` object is saved again once it is updated with the `address`.\r\n\r\nThis is a very crude way to do things, it is best to create a service layer and do this there with the `@Transactional` annotation, which would mean that everything is rolled back in case something goes wrong inside a method annotated as `@Transactional`. \r\n\r\nAlso, using `CascadeType.ALL` may be not what you want, please refer to this [answer](https://stackoverflow.com/a/13027444/17105581). \r\n\r\nInside `fetch` method, I ensure that the `user` indeed exists, which is not guaranteed. To avoid 500 errors, it&#39;s important to have a fallback mechanism for when something doesn&#39;t work. \r\n\r\nAs a final side note, you shouldn&#39;t be storing raw passwords like that, you should at least use hashing with salt and pepper, or use one of the many available libraries for implementing such functionality (although it can be quite fun getting down and dirty with the code itself). You should also consider how much information you are revealing when something does go wrong, as you don&#39;t want to give away too much information which could be used to deanonimise a specific user, or even learn more about your code and the system architecture.","title":"java.lang.StackOverflowError: null [Spring Boot, Hibernate]","body":"<p>TLDR: you aren't actually saving anything anywhere, but it's easy to fix. Here's my code and my explanation:</p>\n<p>MainController.java:</p>\n<pre><code>@RestController\npublic class MainController {\n    private final UserRepository userRepository;\n    private final AddressRepository addressRepository;\n\n    public MainController(UserRepository userRepository, AddressRepository addressRepository){\n        this.userRepository = userRepository;\n        this.addressRepository = addressRepository;\n    }\n\n    @GetMapping(&quot;/test&quot;)\n    public String test() {\n        User user = new User();\n        user.setName(&quot;name&quot;);\n        user.setEmail(&quot;email&quot;);\n        user.setPhone(&quot;phone&quot;);\n        user.setPassword(&quot;password&quot;);\n        user.setImageUrl(&quot;imageUrl&quot;);\n\n        user = userRepository.save(user);\n        System.out.println(&quot;saved user&quot;);\n\n        Address address = new Address();\n        address.setCountry(&quot;country&quot;);\n        address.setState(&quot;state&quot;);\n        address.setCity(&quot;city&quot;);\n        address.setStreet(&quot;street&quot;);\n        address.setPincode(&quot;123456&quot;);\n\n        address = addressRepository.save(address);\n        System.out.println(&quot;saved address&quot;);\n\n        user.setAddress(address);\n        userRepository.save(user);\n\n        System.out.println(&quot;set user's address&quot;);\n        return &quot;working&quot;;\n    }\n\n    @GetMapping(&quot;/fetch&quot;)\n    public String fetch() {\n        Optional&lt;User&gt; optionalUser = userRepository.findById((long) 1);\n        if(optionalUser.isPresent()){\n            User user = optionalUser.get();\n            System.out.println(user.getAddress());\n\n            boolean addressExists = addressRepository.existsById((long) 1);\n            System.out.println(addressExists);\n            System.out.println(user.getAddress().getCountry());\n\n            return &quot;working&quot;;\n        }\n\n        System.out.println(&quot;Error: user with id 1 not found!&quot;);\n        return &quot;failing&quot;;\n    }\n}\n</code></pre>\n<p>User.java:</p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    private String name;\n    private String email;\n    private String phone;\n    private String password;\n    private String imageUrl;\n\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;address_id&quot;, referencedColumnName = &quot;id&quot;)\n    private Address address;\n\n    //getters and setters omitted for brevity\n}\n</code></pre>\n<p>Address.java:</p>\n<pre><code>@Entity\n@Table(name = &quot;address&quot;)\npublic class Address {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @OneToOne(mappedBy = &quot;address&quot;)\n    private User user;\n\n    private String country;\n    private String state;\n    private String city;\n    private String street;\n    private String pincode;\n    \n    //getters and setters omitted for brevity\n}\n</code></pre>\n<p>AddressRepository.java:</p>\n<pre><code>public interface AddressRepository extends CrudRepository&lt;Address, Long&gt; {\n\n}\n</code></pre>\n<p>UserRepository.java:</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt; {\n\n}\n</code></pre>\n<p>UserDAO.java:</p>\n<pre><code>public class UserDAO {\n    private final String name;\n    private final String email;\n    private final String phone;\n    private final String imageUrl;\n    \n    public UserDAO(User user) {\n        name = user.getName();\n        email = user.getEmail();\n        phone = user.getPhone();\n        imageUrl = user.getImageUrl();\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getPhone() {\n        return phone;\n    }\n\n    public String getImageUrl() {\n        return imageUrl;\n    }\n}\n</code></pre>\n<p>A DAO has no connection to the database, it's intent is what the acronym stands for, simply to transfer data, and that's it. When you make a repository, you can stick your objects there by saving them in the repository. Notice that by extending the <code>CrudRepository</code> with correct generics, you don't even need to implement the methods yourself. The <code>save</code> method actually saves the POJO, and returns the saved version, which is why I did <code>user = userRepository.save(user)</code>, which may seem counterintuitive at first, but it simply helps ensure that everything is as you expect. If you then want to send the <code>UserDAO</code> object as a response, you can create it using the <code>user</code> object that is returned from the database, maybe something like:</p>\n<pre><code>UserDAO dao = new UserDAO(userRepository.save(user));\n</code></pre>\n<p>Please take notice of what is happening inside the <code>test</code> method in <code>MainController</code>. First, we create the POJO <code>User</code> object and set its fields. Then we have to save it to the repository, it is only persisted after you call <code>save</code> method of the repository. Please note that the <code>user</code> object is saved again once it is updated with the <code>address</code>.</p>\n<p>This is a very crude way to do things, it is best to create a service layer and do this there with the <code>@Transactional</code> annotation, which would mean that everything is rolled back in case something goes wrong inside a method annotated as <code>@Transactional</code>.</p>\n<p>Also, using <code>CascadeType.ALL</code> may be not what you want, please refer to this <a href=\"https://stackoverflow.com/a/13027444/17105581\">answer</a>.</p>\n<p>Inside <code>fetch</code> method, I ensure that the <code>user</code> indeed exists, which is not guaranteed. To avoid 500 errors, it's important to have a fallback mechanism for when something doesn't work.</p>\n<p>As a final side note, you shouldn't be storing raw passwords like that, you should at least use hashing with salt and pepper, or use one of the many available libraries for implementing such functionality (although it can be quite fun getting down and dirty with the code itself). You should also consider how much information you are revealing when something does go wrong, as you don't want to give away too much information which could be used to deanonimise a specific user, or even learn more about your code and the system architecture.</p>\n"}],"owner":{"account_id":17484901,"reputation":90,"user_id":12678146,"display_name":"Aman Agarwal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71276599,"answer_count":1,"score":0,"last_activity_date":1645881193,"creation_date":1645871557,"question_id":71275905,"body_markdown":"I have two classes **User.java** and **Address.java** and there is a **one-to-one bi-directional mapping** between them.\r\n\r\nBut when I try to get the address using the **User** class I get an **&quot;java.lang.StackOverflowError: null&quot;** exception.\r\n\r\nThe same thing happens when I try to get the **User** from the **Address** class.\r\n\r\n**User.java**\r\n```\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\tprivate String name;\r\n\tprivate String email;\r\n\tprivate String phone;\r\n\tprivate String password;\r\n\tprivate String imageUrl;\r\n\t\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;address&quot;)\r\n\tprivate Address address;\r\n```\r\n\r\n**Address.java**\r\n\r\n```\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long id;\r\n\t\r\n\t@OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;address&quot;)\r\n\tprivate User user;\r\n\t\r\n\tprivate String country;\r\n\tprivate String state;\r\n\tprivate String city;\r\n\tprivate String street;\r\n\tprivate String pincode;\r\n```\r\n\r\n**MainController.java**\r\n```\r\n@Controller\r\npublic class MainController {\r\n\t@Autowired\r\n\tprivate UserDao userDao;\r\n\t\r\n\t@Autowired\r\n\tprivate AddressDao addressDao;\r\n\t\r\n\t@RequestMapping(&quot;/test&quot;)\r\n\t@ResponseBody\r\n\tpublic String test() {\r\n\t\tUser user = new User();\r\n\t\tuser.setName(&quot;name&quot;);\r\n\t\tuser.setEmail(&quot;email&quot;);\r\n\t\tuser.setPhone(&quot;phone&quot;);\r\n\t\tuser.setPassword(&quot;password&quot;);\r\n\t\tuser.setImageUrl(&quot;imageUrl&quot;);\r\n\t\t\r\n\t\tAddress address = new Address();\r\n\t\taddress.setCountry(&quot;country&quot;);\r\n\t\taddress.setState(&quot;state&quot;);\r\n\t\taddress.setCity(&quot;city&quot;);\r\n\t\taddress.setStreet(&quot;street&quot;);\r\n\t\taddress.setPincode(&quot;123456&quot;);\r\n\t\t\r\n\t\tuser.setAddress(address);\r\n\t\tuserDao.save(user);\r\n\t\t\r\n\t\treturn &quot;working&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/fetch&quot;)\r\n\t@ResponseBody\r\n\tpublic String fetch() {\r\n\t\tUser user = userDao.getById((long) 1);\r\n\t\tSystem.out.println(user.getAddress());\r\n\t\t\r\n\t\treturn &quot;working&quot;;\r\n\t}\r\n}\r\n```\r\n\r\nI am using the **test()** function to put data in the database and it is working fine.\r\n[database image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rwHZr.png\r\n\r\nBut when I call the **fetch()** function I am getting the following error\r\n```\r\njava.lang.StackOverflowError: null\r\n\tat org.hibernate.proxy.pojo.BasicLazyInitializer.invoke(BasicLazyInitializer.java:58) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:43) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\r\n\tat \r\n```\r\nUpdated MainController.java \r\n```\r\npackage com.demo.controller;\r\n\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\n\r\nimport com.demo.dao.AddressDao;\r\nimport com.demo.dao.UserDao;\r\nimport com.demo.entity.Address;\r\nimport com.demo.entity.User;\r\n\r\n@Controller\r\npublic class MainController {\r\n\t@Autowired\r\n\tprivate UserDao userDao;\r\n\t\r\n\t@Autowired\r\n\tprivate AddressDao addressDao;\r\n\t\r\n\t@RequestMapping(&quot;/test&quot;)\r\n\t@ResponseBody\r\n\tpublic String test() {\r\n\t\tUser user = new User();\r\n\t\tuser.setName(&quot;name&quot;);\r\n\t\tuser.setEmail(&quot;email&quot;);\r\n\t\tuser.setPhone(&quot;phone&quot;);\r\n\t\tuser.setPassword(&quot;password&quot;);\r\n\t\tuser.setImageUrl(&quot;imageUrl&quot;);\r\n\t\t\r\n\t\tuserDao.save(user);\r\n\t\t\r\n\t\tAddress address = new Address();\r\n\t\taddress.setCountry(&quot;country&quot;);\r\n\t\taddress.setState(&quot;state&quot;);\r\n\t\taddress.setCity(&quot;city&quot;);\r\n\t\taddress.setStreet(&quot;street&quot;);\r\n\t\taddress.setPincode(&quot;123456&quot;);\r\n\t\t\r\n\t\taddressDao.save(address);\r\n\t\t\r\n\t\tuser.setAddress(address);\r\n\t\tuserDao.save(user);\r\n\t\t\r\n\t\treturn &quot;working&quot;;\r\n\t}\r\n\t\r\n\t@RequestMapping(&quot;/fetch&quot;)\r\n\t@ResponseBody\r\n\tpublic String fetch() {\r\n\t\tOptional&lt;User&gt; op = userDao.findById((long) 1);\r\n\t\tUser user = op.get();\r\n\t\t\r\n\t\t// working\r\n\t\tSystem.out.println(user.getName() + &quot; &quot; + user.getEmail() + &quot; &quot; + user.getPhone());\r\n\t\r\n\t\t// java.lang.StackOverflowError:null\r\n\t\tSystem.out.println(user.getAddress());\r\n\t\t\r\n\t\treturn &quot;working&quot;;\r\n\t}\r\n}\r\n```","title":"java.lang.StackOverflowError: null [Spring Boot, Hibernate]","body":"<p>I have two classes <strong>User.java</strong> and <strong>Address.java</strong> and there is a <strong>one-to-one bi-directional mapping</strong> between them.</p>\n<p>But when I try to get the address using the <strong>User</strong> class I get an <strong>&quot;java.lang.StackOverflowError: null&quot;</strong> exception.</p>\n<p>The same thing happens when I try to get the <strong>User</strong> from the <strong>Address</strong> class.</p>\n<p><strong>User.java</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    private String name;\n    private String email;\n    private String phone;\n    private String password;\n    private String imageUrl;\n    \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;address&quot;)\n    private Address address;\n</code></pre>\n<p><strong>Address.java</strong></p>\n<pre><code>    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n    \n    @OneToOne(cascade = CascadeType.ALL, mappedBy = &quot;address&quot;)\n    private User user;\n    \n    private String country;\n    private String state;\n    private String city;\n    private String street;\n    private String pincode;\n</code></pre>\n<p><strong>MainController.java</strong></p>\n<pre><code>@Controller\npublic class MainController {\n    @Autowired\n    private UserDao userDao;\n    \n    @Autowired\n    private AddressDao addressDao;\n    \n    @RequestMapping(&quot;/test&quot;)\n    @ResponseBody\n    public String test() {\n        User user = new User();\n        user.setName(&quot;name&quot;);\n        user.setEmail(&quot;email&quot;);\n        user.setPhone(&quot;phone&quot;);\n        user.setPassword(&quot;password&quot;);\n        user.setImageUrl(&quot;imageUrl&quot;);\n        \n        Address address = new Address();\n        address.setCountry(&quot;country&quot;);\n        address.setState(&quot;state&quot;);\n        address.setCity(&quot;city&quot;);\n        address.setStreet(&quot;street&quot;);\n        address.setPincode(&quot;123456&quot;);\n        \n        user.setAddress(address);\n        userDao.save(user);\n        \n        return &quot;working&quot;;\n    }\n    \n    @RequestMapping(&quot;/fetch&quot;)\n    @ResponseBody\n    public String fetch() {\n        User user = userDao.getById((long) 1);\n        System.out.println(user.getAddress());\n        \n        return &quot;working&quot;;\n    }\n}\n</code></pre>\n<p>I am using the <strong>test()</strong> function to put data in the database and it is working fine.\n<a href=\"https://i.stack.imgur.com/rwHZr.png\" rel=\"nofollow noreferrer\">database image</a></p>\n<p>But when I call the <strong>fetch()</strong> function I am getting the following error</p>\n<pre><code>java.lang.StackOverflowError: null\n    at org.hibernate.proxy.pojo.BasicLazyInitializer.invoke(BasicLazyInitializer.java:58) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at org.hibernate.proxy.pojo.bytebuddy.ByteBuddyInterceptor.intercept(ByteBuddyInterceptor.java:43) ~[hibernate-core-5.6.5.Final.jar:5.6.5.Final]\n    at \n</code></pre>\n<p>Updated MainController.java</p>\n<pre><code>package com.demo.controller;\n\nimport java.util.Optional;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\n\nimport com.demo.dao.AddressDao;\nimport com.demo.dao.UserDao;\nimport com.demo.entity.Address;\nimport com.demo.entity.User;\n\n@Controller\npublic class MainController {\n    @Autowired\n    private UserDao userDao;\n    \n    @Autowired\n    private AddressDao addressDao;\n    \n    @RequestMapping(&quot;/test&quot;)\n    @ResponseBody\n    public String test() {\n        User user = new User();\n        user.setName(&quot;name&quot;);\n        user.setEmail(&quot;email&quot;);\n        user.setPhone(&quot;phone&quot;);\n        user.setPassword(&quot;password&quot;);\n        user.setImageUrl(&quot;imageUrl&quot;);\n        \n        userDao.save(user);\n        \n        Address address = new Address();\n        address.setCountry(&quot;country&quot;);\n        address.setState(&quot;state&quot;);\n        address.setCity(&quot;city&quot;);\n        address.setStreet(&quot;street&quot;);\n        address.setPincode(&quot;123456&quot;);\n        \n        addressDao.save(address);\n        \n        user.setAddress(address);\n        userDao.save(user);\n        \n        return &quot;working&quot;;\n    }\n    \n    @RequestMapping(&quot;/fetch&quot;)\n    @ResponseBody\n    public String fetch() {\n        Optional&lt;User&gt; op = userDao.findById((long) 1);\n        User user = op.get();\n        \n        // working\n        System.out.println(user.getName() + &quot; &quot; + user.getEmail() + &quot; &quot; + user.getPhone());\n    \n        // java.lang.StackOverflowError:null\n        System.out.println(user.getAddress());\n        \n        return &quot;working&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","curl"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1645844344,"post_id":71273597,"comment_id":125984613,"body_markdown":"And what happens?  What are the errors?","body":"And what happens?  What are the errors?"},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":3,"creation_date":1645846976,"post_id":71273597,"comment_id":125984860,"body_markdown":"**Java `Process` IS NOT A SHELL. This has been asked and answered many many times.** See https://stackoverflow.com/questions/68222353/ https://stackoverflow.com/questions/59002993/ https://stackoverflow.com/questions/48425729/ https://stackoverflow.com/questions/31776546/","body":"<b>Java <code>Process</code> IS NOT A SHELL. This has been asked and answered many many times.</b> See <a href=\"https://stackoverflow.com/questions/68222353/\">stackoverflow.com/questions/68222353</a> <a href=\"https://stackoverflow.com/questions/59002993/\">stackoverflow.com/questions/59002993</a> <a href=\"https://stackoverflow.com/questions/48425729/\">stackoverflow.com/questions/48425729</a> <a href=\"https://stackoverflow.com/questions/31776546/\">stackoverflow.com/questions/31776546</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1645847286,"post_id":71273597,"comment_id":125984898,"body_markdown":"You shouldn’t use Runtime.exec.  [URLConnection](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLConnection.html) does the same thing, much more reliably.  If you’re using a recent version of Java, [HttpClient](https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html) is even better.","body":"You shouldn’t use Runtime.exec.  <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/URLConnection.html\" rel=\"nofollow noreferrer\">URLConnection</a> does the same thing, much more reliably.  If you’re using a recent version of Java, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\">HttpClient</a> is even better."},{"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"score":0,"creation_date":1645880195,"post_id":71273597,"comment_id":133091864,"body_markdown":"You can go with rest template for external API call.","body":"You can go with rest template for external API call."}],"owner":{"account_id":22784862,"reputation":1,"user_id":16940184,"display_name":"Imy Gramy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645880560,"creation_date":1645841969,"question_id":71273597,"body_markdown":"I am trying to run this command that it ran successfully from the shell but when I create a String it does not run correctly and it is throwing too many errors. This is the command that I want to run:\r\n```none\r\ncurl -XPOST &#39;localhost:9200/_security/user/testUser&#39; -H &#39;Content-Type: application/json&#39; -d&#39;{&quot;password&quot;:&quot;userpassword&quot;, &quot;full_name&quot;:&quot;user&quot;,&quot;email&quot;:&quot;test@gmail.com&quot;, &quot;roles&quot;: [ &quot;superuser&quot;]}&#39;\r\n```\r\nAnd this the code that I am using:\r\n```java\r\nString s = &quot;curl -XPOST &#39;localhost:9200/_security/user/testUser&#39; -H &#39;Content-Type:application/json&#39; -d&#39;{\\&quot;password\\&quot;:\\&quot;userpassword\\&quot;,\\&quot;full_name\\&quot;:\\&quot;user\\&quot;,\\&quot;email\\&quot;:\\&quot;test@gmail.com\\&quot;,\\&quot;roles\\&quot;:[\\&quot;superuser\\&quot;]}&#39;&quot;;\r\n\r\nProcess process = Runtime.getRuntime().exec(s);\r\nString result = printResults(process);\r\n```\r\nThis is the function:\r\n```java\r\npublic String printResults(Process process) throws IOException {\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\r\n    String line = &quot;&quot;;\r\n    while ((line = reader.readLine()) != null) {\r\n        line += line;\r\n    }\r\n    return line;\r\n}\r\n```","title":"How can I run this command from java?","body":"<p>I am trying to run this command that it ran successfully from the shell but when I create a String it does not run correctly and it is throwing too many errors. This is the command that I want to run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>curl -XPOST 'localhost:9200/_security/user/testUser' -H 'Content-Type: application/json' -d'{&quot;password&quot;:&quot;userpassword&quot;, &quot;full_name&quot;:&quot;user&quot;,&quot;email&quot;:&quot;test@gmail.com&quot;, &quot;roles&quot;: [ &quot;superuser&quot;]}'\n</code></pre>\n<p>And this the code that I am using:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String s = &quot;curl -XPOST 'localhost:9200/_security/user/testUser' -H 'Content-Type:application/json' -d'{\\&quot;password\\&quot;:\\&quot;userpassword\\&quot;,\\&quot;full_name\\&quot;:\\&quot;user\\&quot;,\\&quot;email\\&quot;:\\&quot;test@gmail.com\\&quot;,\\&quot;roles\\&quot;:[\\&quot;superuser\\&quot;]}'&quot;;\n\nProcess process = Runtime.getRuntime().exec(s);\nString result = printResults(process);\n</code></pre>\n<p>This is the function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String printResults(Process process) throws IOException {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(process.getInputStream()));\n    String line = &quot;&quot;;\n    while ((line = reader.readLine()) != null) {\n        line += line;\n    }\n    return line;\n}\n</code></pre>\n"},{"tags":["java","arrays","json","servlets"],"owner":{"account_id":13109236,"reputation":310,"user_id":9470880,"display_name":"Isurie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645880113,"creation_date":1645880113,"question_id":71276842,"body_markdown":"I&#39;m calling API and getting the response as a JSON array I need to map that array into Java object array. Here I&#39;ve defined the model class below you can see API JSON array, Model class and the way I try to map JSON array into Java object array. I need to make sure if this approach is correct or not.\r\n\r\nAPI response JSON array\r\n\r\n    [\r\n     {\r\n     &quot;sanctionId&quot;: 594,\r\n     &quot;listId&quot;: &quot;SDN&quot;,\r\n     &quot;listType&quot;: &quot;SANCTION&quot;,\r\n     &quot;publisher&quot;: &quot;OFAC&quot;,\r\n     &quot;addedDate&quot;: &quot;2022-02-11T04:52:59.775+0000&quot;,\r\n     &quot;programs&quot;: &quot;CUBA&quot;,\r\n     &quot;name&quot;: &quot; CUBA CIGARS TRADE&quot;,\r\n     &quot;title&quot;: null,\r\n     &quot;type&quot;: &quot;Entity&quot;,\r\n     &quot;contacts&quot;: [\r\n     {\r\n     &quot;id&quot;: 361,\r\n     &quot;address&quot;: &quot; &quot;,\r\n     &quot;city&quot;: &quot;&quot;,\r\n     &quot;state_province&quot;: &quot;&quot;,\r\n     &quot;country&quot;: &quot;Italy&quot;,\r\n     &quot;remarks&quot;: null\r\n     }\r\n     ],\r\n     &quot;identities&quot;: null,\r\n     &quot;remarks&quot;: null,\r\n     &quot;other&quot;: null,\r\n     &quot;score&quot;: 2.1659167\r\n     },\r\n     {\r\n     &quot;sanctionId&quot;: 602,\r\n     &quot;listId&quot;: &quot;SDN&quot;,\r\n     &quot;listType&quot;: &quot;SANCTION&quot;,\r\n     &quot;publisher&quot;: &quot;OFAC&quot;,\r\n     &quot;addedDate&quot;: &quot;2022-02-11T04:52:59.779+0000&quot;,\r\n     &quot;programs&quot;: &quot;CUBA&quot;,\r\n     &quot;name&quot;: &quot; CUBA N CIGARS TRADE&quot;,\r\n     &quot;title&quot;: null,\r\n     &quot;type&quot;: &quot;Entity&quot;,\r\n     &quot;contacts&quot;: [\r\n     {\r\n     &quot;id&quot;: 361,\r\n     &quot;address&quot;: &quot; &quot;,\r\n     &quot;city&quot;: &quot;&quot;,\r\n     &quot;state_province&quot;: &quot;&quot;,\r\n     &quot;country&quot;: &quot;Italy&quot;,\r\n     &quot;remarks&quot;: null\r\n     }\r\n     ],\r\n     &quot;identities&quot;: null,\r\n     &quot;remarks&quot;: null,\r\n     &quot;other&quot;: null,\r\n     &quot;score&quot;: 1.9129416\r\n     }\r\n    ]\r\n\r\nModel Class(here I&#39;ve omitted getters and setters) :\r\n\r\n        public class SanctionInquiryResponse {\r\n    \r\n    \tprivate String sanctionId=&quot;&quot;;\r\n    \tprivate String listId=&quot;&quot;;\r\n    \tprivate String listType=&quot;&quot;;\r\n    \tprivate String publisher=&quot;&quot;;\r\n    \tprivate String addedDate=&quot;&quot;;\r\n    \tprivate String programs=&quot;&quot;;\r\n    \tprivate String name=&quot;&quot;;\r\n    \tprivate String title=&quot;&quot;;\r\n    \tprivate String type=&quot;&quot;;\r\n    \tprivate String identities=&quot;&quot;;\r\n    \tprivate String remarks=&quot;&quot;;\r\n    \tprivate String other=&quot;&quot;;\r\n    \tprivate String score=&quot;&quot;;\r\n    \tprivate List&lt;Contacts&gt; contacts = null;\r\n    }\r\n\r\n    public class Contacts {\r\n    \r\n    \tprivate String id = &quot;&quot;;\r\n    \tprivate String address = &quot;&quot;;\r\n    \tprivate String city = &quot;&quot;;\r\n    \tprivate String state_Province = &quot;&quot;;\r\n    \tprivate String country = &quot;&quot;;\r\n    \tprivate String remarks = &quot;&quot;;\r\n    }\r\n\r\nHere is the way I&#39;m trying to map the JSON array into the Java object array \r\n\r\n    String url=&quot;http://localhost:8070/getObject&quot;;\r\n    \t\t\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\t//String jsonInString = mapper.writeValueAsString(openCaseRequest);\r\n    \t\t\r\n    \t\tClient client = Client.create();\r\n            client.setConnectTimeout(120*1000);\r\n            client.setReadTimeout(120*1000);\r\n            \r\n            WebResource webResource = client.resource(url);\r\n            ClientResponse response = webResource.type(MediaType.APPLICATION_JSON).post(ClientResponse.class);\r\n    \r\n            String output = response.getEntity(String.class);\r\n            JSONArray jsonArray = new JSONArray(output);\r\n            Gson gson = new Gson();\r\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n            \t\r\n            \tsanctionInquiryResponse = gson.fromJson(jsonArray.getJSONObject(i).toString() ,SanctionInquiryResponse.class);\r\n            \t}\r\n\r\n","title":"Map JSON array into java object array","body":"<p>I'm calling API and getting the response as a JSON array I need to map that array into Java object array. Here I've defined the model class below you can see API JSON array, Model class and the way I try to map JSON array into Java object array. I need to make sure if this approach is correct or not.</p>\n<p>API response JSON array</p>\n<pre><code>[\n {\n &quot;sanctionId&quot;: 594,\n &quot;listId&quot;: &quot;SDN&quot;,\n &quot;listType&quot;: &quot;SANCTION&quot;,\n &quot;publisher&quot;: &quot;OFAC&quot;,\n &quot;addedDate&quot;: &quot;2022-02-11T04:52:59.775+0000&quot;,\n &quot;programs&quot;: &quot;CUBA&quot;,\n &quot;name&quot;: &quot; CUBA CIGARS TRADE&quot;,\n &quot;title&quot;: null,\n &quot;type&quot;: &quot;Entity&quot;,\n &quot;contacts&quot;: [\n {\n &quot;id&quot;: 361,\n &quot;address&quot;: &quot; &quot;,\n &quot;city&quot;: &quot;&quot;,\n &quot;state_province&quot;: &quot;&quot;,\n &quot;country&quot;: &quot;Italy&quot;,\n &quot;remarks&quot;: null\n }\n ],\n &quot;identities&quot;: null,\n &quot;remarks&quot;: null,\n &quot;other&quot;: null,\n &quot;score&quot;: 2.1659167\n },\n {\n &quot;sanctionId&quot;: 602,\n &quot;listId&quot;: &quot;SDN&quot;,\n &quot;listType&quot;: &quot;SANCTION&quot;,\n &quot;publisher&quot;: &quot;OFAC&quot;,\n &quot;addedDate&quot;: &quot;2022-02-11T04:52:59.779+0000&quot;,\n &quot;programs&quot;: &quot;CUBA&quot;,\n &quot;name&quot;: &quot; CUBA N CIGARS TRADE&quot;,\n &quot;title&quot;: null,\n &quot;type&quot;: &quot;Entity&quot;,\n &quot;contacts&quot;: [\n {\n &quot;id&quot;: 361,\n &quot;address&quot;: &quot; &quot;,\n &quot;city&quot;: &quot;&quot;,\n &quot;state_province&quot;: &quot;&quot;,\n &quot;country&quot;: &quot;Italy&quot;,\n &quot;remarks&quot;: null\n }\n ],\n &quot;identities&quot;: null,\n &quot;remarks&quot;: null,\n &quot;other&quot;: null,\n &quot;score&quot;: 1.9129416\n }\n]\n</code></pre>\n<p>Model Class(here I've omitted getters and setters) :</p>\n<pre><code>    public class SanctionInquiryResponse {\n\n    private String sanctionId=&quot;&quot;;\n    private String listId=&quot;&quot;;\n    private String listType=&quot;&quot;;\n    private String publisher=&quot;&quot;;\n    private String addedDate=&quot;&quot;;\n    private String programs=&quot;&quot;;\n    private String name=&quot;&quot;;\n    private String title=&quot;&quot;;\n    private String type=&quot;&quot;;\n    private String identities=&quot;&quot;;\n    private String remarks=&quot;&quot;;\n    private String other=&quot;&quot;;\n    private String score=&quot;&quot;;\n    private List&lt;Contacts&gt; contacts = null;\n}\n\npublic class Contacts {\n\n    private String id = &quot;&quot;;\n    private String address = &quot;&quot;;\n    private String city = &quot;&quot;;\n    private String state_Province = &quot;&quot;;\n    private String country = &quot;&quot;;\n    private String remarks = &quot;&quot;;\n}\n</code></pre>\n<p>Here is the way I'm trying to map the JSON array into the Java object array</p>\n<pre><code>String url=&quot;http://localhost:8070/getObject&quot;;\n        \n        ObjectMapper mapper = new ObjectMapper();\n        //String jsonInString = mapper.writeValueAsString(openCaseRequest);\n        \n        Client client = Client.create();\n        client.setConnectTimeout(120*1000);\n        client.setReadTimeout(120*1000);\n        \n        WebResource webResource = client.resource(url);\n        ClientResponse response = webResource.type(MediaType.APPLICATION_JSON).post(ClientResponse.class);\n\n        String output = response.getEntity(String.class);\n        JSONArray jsonArray = new JSONArray(output);\n        Gson gson = new Gson();\n        for (int i = 0; i &lt; jsonArray.length(); i++) {\n            \n            sanctionInquiryResponse = gson.fromJson(jsonArray.getJSONObject(i).toString() ,SanctionInquiryResponse.class);\n            }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","unit-testing","mockito"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":2,"creation_date":1593018368,"post_id":62560356,"comment_id":110635165,"body_markdown":"Please show your PatientsSaveRequestDto. I suspect missing equals override.","body":"Please show your PatientsSaveRequestDto. I suspect missing equals override."},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1593043644,"post_id":62560356,"comment_id":110644769,"body_markdown":"As you said there is no equals override in my dto. Do i need to override equals? and what is their role when mocking??","body":"As you said there is no equals override in my dto. Do i need to override equals? and what is their role when mocking??"},{"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"score":0,"creation_date":1593043843,"post_id":62560356,"comment_id":110644812,"body_markdown":"@Lesiak It works!!!! Thank you!! you saved my life&#128591;","body":"@Lesiak It works!!!! Thank you!! you saved my life🙏"}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1593068151,"creation_date":1593068151,"answer_id":62569527,"question_id":62560356,"body_markdown":"You need to provide equals method for `PatientsSaveRequestDto`.\r\n\r\nWhen you execute a method on a mock, Mockito needs to check if any behaviour was specified for the arguments for which the method was called. \r\n- If the arguments match, the recorded result is returned, \r\n- If the arguments don&#39;t match, default value of the method return type is returned (null for all Objects, zero for numerics, false for bools)\r\n\r\nYou recorded the behaviour with the following call:\r\n```\r\nwhen(patientsService.createPatient(patientsSaveRequestDto)).thenReturn(patient);\r\n```\r\n\r\nThis means that the actual argument to `createPatient` will be compared to `patientsSaveRequestDto` with `equals`.\r\n\r\nNote that this behaviour can be changed by the use of [ArgumentMatchers][1].\r\n\r\nThe `patientsSaveRequestDto` from your test and the actual argument to `createPatient` are not equal because:\r\n- you didn&#39;t define the equals method\r\n- they are different instances\r\n- thus, the inherited Object.equals returns false\r\n\r\nYou have 2 different instances because you created a @WebMvcTest.\r\nThe `patientsSaveRequestDto` you send to the controller is first serialized to String and then deserialized, and this is how a second instance got created.\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/3.3.3/org/mockito/ArgumentMatchers.html","title":"Spring boot @MockMvcTest MockHttpServletResponse always returns empty body","body":"<p>You need to provide equals method for <code>PatientsSaveRequestDto</code>.</p>\n<p>When you execute a method on a mock, Mockito needs to check if any behaviour was specified for the arguments for which the method was called.</p>\n<ul>\n<li>If the arguments match, the recorded result is returned,</li>\n<li>If the arguments don't match, default value of the method return type is returned (null for all Objects, zero for numerics, false for bools)</li>\n</ul>\n<p>You recorded the behaviour with the following call:</p>\n<pre><code>when(patientsService.createPatient(patientsSaveRequestDto)).thenReturn(patient);\n</code></pre>\n<p>This means that the actual argument to <code>createPatient</code> will be compared to <code>patientsSaveRequestDto</code> with <code>equals</code>.</p>\n<p>Note that this behaviour can be changed by the use of <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.3.3/org/mockito/ArgumentMatchers.html\" rel=\"noreferrer\">ArgumentMatchers</a>.</p>\n<p>The <code>patientsSaveRequestDto</code> from your test and the actual argument to <code>createPatient</code> are not equal because:</p>\n<ul>\n<li>you didn't define the equals method</li>\n<li>they are different instances</li>\n<li>thus, the inherited Object.equals returns false</li>\n</ul>\n<p>You have 2 different instances because you created a @WebMvcTest.\nThe <code>patientsSaveRequestDto</code> you send to the controller is first serialized to String and then deserialized, and this is how a second instance got created.</p>\n"}],"owner":{"account_id":13176203,"reputation":195,"user_id":9517076,"display_name":"I have 10 fingers"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3872,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62569527,"answer_count":1,"score":1,"last_activity_date":1645879503,"creation_date":1593018048,"question_id":62560356,"body_markdown":"I&#39;m struggling with a simple spring boot rest controller test which always return empty body response.\r\n\r\nHere is my test code looks like:\r\n```java\r\n@WebMvcTest(AdminRestController.class)\r\n@AutoConfigureMockMvc(addFilters = false)\r\npublic class PatientsUnitTest {\r\n\r\n    @Autowired\r\n    private MockMvc mvc;\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @MockBean\r\n    private PatientsService patientsService;\r\n\r\n    @MockBean\r\n    private TherapistsService therapistsService;\r\n\r\n    @MockBean\r\n    private TherapySchedulesService therapySchedulesService;\r\n\r\n    @Test\r\n    public void canAddPatient() throws Exception {\r\n        PatientsSaveRequestDto patientsSaveRequestDto = new PatientsSaveRequestDto();\r\n        patientsSaveRequestDto.setName(&quot;Sofia&quot;);\r\n        patientsSaveRequestDto.setPhone(&quot;01012345678&quot;);\r\n        Patients patient = patientsSaveRequestDto.toEntity();\r\n\r\n        when(patientsService.createPatient(patientsSaveRequestDto)).thenReturn(patient);\r\n\r\n        final ResultActions actions = mvc.perform(post(&quot;/admin/patient&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON_VALUE)\r\n                .characterEncoding(StandardCharsets.UTF_8.name())\r\n                .content(objectMapper.writeValueAsString(patientsSaveRequestDto)))\r\n                .andDo(print());\r\n\r\n        actions\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_VALUE))\r\n                .andExpect(jsonPath(&quot;name&quot;, is(patient.getName())))\r\n                .andDo(print());\r\n    }\r\n```  \r\n\r\nMy Controller:\r\n```java\r\n@RestController\r\n@RequiredArgsConstructor\r\npublic class AdminRestController {\r\n    private final PatientsService patientsService;\r\n    private final TherapistsService therapistsService;\r\n    private final TherapySchedulesService therapySchedulesService;\r\n\r\n    @PostMapping(&quot;/admin/patient&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    @Operation(summary = &quot;Create a patient&quot;)\r\n    public Patients cratePatient(\r\n            @RequestBody @Valid PatientsSaveRequestDto patientsSaveRequestDto\r\n    ) {\r\n        return patientsService.createPatient(patientsSaveRequestDto);\r\n    }\r\n\r\n// PatientsService\r\n@Transactional\r\n    public Patients createPatient(PatientsSaveRequestDto patientsSaveRequestDto){\r\n        return patientsRepository.save(patientsSaveRequestDto.toEntity());\r\n    }\r\n```\r\n\r\nAnd this is the result of print():\r\n```log\r\nMockHttpServletRequest:\r\n      HTTP Method = POST\r\n      Request URI = /admin/patient\r\n       Parameters = {}\r\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;53&quot;]\r\n             Body = {&quot;name&quot;:&quot;sofia&quot;,&quot;phone&quot;:&quot;01012345678&quot;,&quot;tel&quot;:null}\r\n    Session Attrs = {}\r\n\r\nHandler:\r\n             Type = com.ussoft.dosu.web.controller.admin.AdminRestController\r\n           Method = com.ussoft.dosu.web.controller.admin.AdminRestController#cratePatient(PatientsSaveRequestDto)\r\n\r\nAsync:\r\n    Async started = false\r\n     Async result = null\r\n\r\nResolved Exception:\r\n             Type = null\r\n\r\nModelAndView:\r\n        View name = null\r\n             View = null\r\n            Model = null\r\n\r\nFlashMap:\r\n       Attributes = null\r\n\r\nMockHttpServletResponse:\r\n           Status = 200\r\n    Error message = null\r\n          Headers = []\r\n     Content type = null\r\n             Body = \r\n    Forwarded URL = null\r\n   Redirected URL = null\r\n          Cookies = []\r\n```\r\n\r\nAs you can see the request is sent correctly but the response values are all null.\r\n\r\nWhen i test the same controller using @SpringBootTest with Rest Assured it works fine.\r\n\r\nI&#39;m using Spring boot 2.3.1, Junit5\r\n\r\n\r\n----------\r\n\r\nEdit - added PatientsSaveRequestDto\r\n\r\n```java\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\npublic class PatientsSaveRequestDto {\r\n    @NotBlank(message = &quot;이름은 필수 입력사항입니다.&quot;)\r\n    private String name;\r\n\r\n    private String phone;\r\n\r\n    private String tel;\r\n\r\n    public Patients toEntity(){\r\n        return Patients.builder()\r\n                .name(name)\r\n                .phone(phone)\r\n                .tel(tel)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"Spring boot @MockMvcTest MockHttpServletResponse always returns empty body","body":"<p>I'm struggling with a simple spring boot rest controller test which always return empty body response.</p>\n<p>Here is my test code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(AdminRestController.class)\n@AutoConfigureMockMvc(addFilters = false)\npublic class PatientsUnitTest {\n\n    @Autowired\n    private MockMvc mvc;\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @MockBean\n    private PatientsService patientsService;\n\n    @MockBean\n    private TherapistsService therapistsService;\n\n    @MockBean\n    private TherapySchedulesService therapySchedulesService;\n\n    @Test\n    public void canAddPatient() throws Exception {\n        PatientsSaveRequestDto patientsSaveRequestDto = new PatientsSaveRequestDto();\n        patientsSaveRequestDto.setName(&quot;Sofia&quot;);\n        patientsSaveRequestDto.setPhone(&quot;01012345678&quot;);\n        Patients patient = patientsSaveRequestDto.toEntity();\n\n        when(patientsService.createPatient(patientsSaveRequestDto)).thenReturn(patient);\n\n        final ResultActions actions = mvc.perform(post(&quot;/admin/patient&quot;)\n                .contentType(MediaType.APPLICATION_JSON_VALUE)\n                .characterEncoding(StandardCharsets.UTF_8.name())\n                .content(objectMapper.writeValueAsString(patientsSaveRequestDto)))\n                .andDo(print());\n\n        actions\n                .andExpect(status().isOk())\n                .andExpect(content().contentType(MediaType.APPLICATION_JSON_VALUE))\n                .andExpect(jsonPath(&quot;name&quot;, is(patient.getName())))\n                .andDo(print());\n    }\n</code></pre>\n<p>My Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequiredArgsConstructor\npublic class AdminRestController {\n    private final PatientsService patientsService;\n    private final TherapistsService therapistsService;\n    private final TherapySchedulesService therapySchedulesService;\n\n    @PostMapping(&quot;/admin/patient&quot;)\n    @ResponseStatus(HttpStatus.OK)\n    @Operation(summary = &quot;Create a patient&quot;)\n    public Patients cratePatient(\n            @RequestBody @Valid PatientsSaveRequestDto patientsSaveRequestDto\n    ) {\n        return patientsService.createPatient(patientsSaveRequestDto);\n    }\n\n// PatientsService\n@Transactional\n    public Patients createPatient(PatientsSaveRequestDto patientsSaveRequestDto){\n        return patientsRepository.save(patientsSaveRequestDto.toEntity());\n    }\n</code></pre>\n<p>And this is the result of print():</p>\n<pre><code>MockHttpServletRequest:\n      HTTP Method = POST\n      Request URI = /admin/patient\n       Parameters = {}\n          Headers = [Content-Type:&quot;application/json;charset=UTF-8&quot;, Content-Length:&quot;53&quot;]\n             Body = {&quot;name&quot;:&quot;sofia&quot;,&quot;phone&quot;:&quot;01012345678&quot;,&quot;tel&quot;:null}\n    Session Attrs = {}\n\nHandler:\n             Type = com.ussoft.dosu.web.controller.admin.AdminRestController\n           Method = com.ussoft.dosu.web.controller.admin.AdminRestController#cratePatient(PatientsSaveRequestDto)\n\nAsync:\n    Async started = false\n     Async result = null\n\nResolved Exception:\n             Type = null\n\nModelAndView:\n        View name = null\n             View = null\n            Model = null\n\nFlashMap:\n       Attributes = null\n\nMockHttpServletResponse:\n           Status = 200\n    Error message = null\n          Headers = []\n     Content type = null\n             Body = \n    Forwarded URL = null\n   Redirected URL = null\n          Cookies = []\n</code></pre>\n<p>As you can see the request is sent correctly but the response values are all null.</p>\n<p>When i test the same controller using @SpringBootTest with Rest Assured it works fine.</p>\n<p>I'm using Spring boot 2.3.1, Junit5</p>\n<hr />\n<p>Edit - added PatientsSaveRequestDto</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Getter\n@Setter\n@NoArgsConstructor\npublic class PatientsSaveRequestDto {\n    @NotBlank(message = &quot;이름은 필수 입력사항입니다.&quot;)\n    private String name;\n\n    private String phone;\n\n    private String tel;\n\n    public Patients toEntity(){\n        return Patients.builder()\n                .name(name)\n                .phone(phone)\n                .tel(tel)\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","httpurlconnection","http-response-codes"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1624700339,"post_id":68140088,"comment_id":120433173,"body_markdown":"`con.setDoOutput(true);` A GET request will do no output.","body":"<code>con.setDoOutput(true);</code> A GET request will do no output."},{"owner":{"account_id":22049248,"reputation":13,"user_id":16313774,"display_name":"Vivek Singh"},"score":0,"creation_date":1624721920,"post_id":68140088,"comment_id":120438098,"body_markdown":"@blackapps I got my mistake","body":"@blackapps I got my mistake"}],"answers":[{"tags":[],"owner":{"account_id":18607463,"reputation":111,"user_id":13560743,"display_name":"Manan jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624693435,"creation_date":1624693435,"answer_id":68140272,"question_id":68140088,"body_markdown":"Use picasso to save images in external storage, you can do something like following\r\n\r\n\r\n\r\n      private Target mTarget = new Target() {\r\n      @Override\r\n      public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\r\n          // Perform simple file operation to store this bitmap\r\n      }\r\n\r\n      @Override\r\n      public void onBitmapFailed(Drawable errorDrawable) {\r\n      }\r\n\r\n      @Override\r\n      public void onPrepareLoad(Drawable placeHolderDrawable) {\r\n      }\r\n      }\r\n\r\n    ...\r\n    \r\n    Picasso.with(this).load(&quot;url&quot;).into(mTarget);\r\n\r\n\r\n\r\nHere &quot;Target&quot; is a class provided by picasso, and it has very simple method to understand...\r\nThis is a easy way to do ","title":"ResponseCode 400 for downloading image from url","body":"<p>Use picasso to save images in external storage, you can do something like following</p>\n<pre><code>  private Target mTarget = new Target() {\n  @Override\n  public void onBitmapLoaded(Bitmap bitmap, Picasso.LoadedFrom from) {\n      // Perform simple file operation to store this bitmap\n  }\n\n  @Override\n  public void onBitmapFailed(Drawable errorDrawable) {\n  }\n\n  @Override\n  public void onPrepareLoad(Drawable placeHolderDrawable) {\n  }\n  }\n\n...\n\nPicasso.with(this).load(&quot;url&quot;).into(mTarget);\n</code></pre>\n<p>Here &quot;Target&quot; is a class provided by picasso, and it has very simple method to understand...\nThis is a easy way to do</p>\n"},{"tags":[],"owner":{"account_id":19731632,"reputation":66,"user_id":14446969,"display_name":"Sai H."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624693698,"creation_date":1624693698,"answer_id":68140306,"question_id":68140088,"body_markdown":"It is hard to figure out what might be causing the error due to lack of provided code. My best guess would be to use [DownloadManager][1] instead of AsyncTask. \r\n\r\n&gt; The download manager is a system service that handles long-running HTTP downloads. Clients may request that a URI be downloaded to a particular destination file. The download manager will conduct the download in the background, taking care of HTTP interactions and retrying downloads after failures or across connectivity changes and system reboots. (https://developer.android.com/reference)\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/DownloadManager","title":"ResponseCode 400 for downloading image from url","body":"<p>It is hard to figure out what might be causing the error due to lack of provided code. My best guess would be to use <a href=\"https://developer.android.com/reference/android/app/DownloadManager\" rel=\"nofollow noreferrer\">DownloadManager</a> instead of AsyncTask.</p>\n<blockquote>\n<p>The download manager is a system service that handles long-running HTTP downloads. Clients may request that a URI be downloaded to a particular destination file. The download manager will conduct the download in the background, taking care of HTTP interactions and retrying downloads after failures or across connectivity changes and system reboots. (<a href=\"https://developer.android.com/reference\" rel=\"nofollow noreferrer\">https://developer.android.com/reference</a>)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":22049248,"reputation":13,"user_id":16313774,"display_name":"Vivek Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1624721797,"creation_date":1624721797,"answer_id":68143896,"question_id":68140088,"body_markdown":"I got my mistake.\r\nThank you everyone for sharing your ideas\r\n\r\ncon.setDoOutput(true); is a POST method\r\nAnd it doesn&#39;t fetches any data\r\n\r\ncon.setDoOutput(true); should not be used.","title":"ResponseCode 400 for downloading image from url","body":"<p>I got my mistake.\nThank you everyone for sharing your ideas</p>\n<p>con.setDoOutput(true); is a POST method\nAnd it doesn't fetches any data</p>\n<p>con.setDoOutput(true); should not be used.</p>\n"}],"owner":{"account_id":22049248,"reputation":13,"user_id":16313774,"display_name":"Vivek Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645879328,"accepted_answer_id":68143896,"answer_count":3,"score":0,"last_activity_date":1645879334,"creation_date":1624691728,"question_id":68140088,"body_markdown":"This is the code I wrote for downloading image from url, but receving response code 400 with java.io.FilenotFoundException\r\n\r\n    @Override\r\n    protected Void doInBackground(String... strings) {\r\n    \r\n        try {\r\n            URL url = new URL(strings[0]);\r\n            HttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n            con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 \r\n            (Macintosh; U; Intel Mac OS X 10.4; en-US; rv:1.9.2.2) \r\n            Gecko/20100316 Firefox/3.6.2&quot;);\r\n            con.setRequestMethod(&quot;GET&quot;);\r\n            con.setDoOutput(true);\r\n            con.connect();\r\n    \r\n            File file = Environment.getExternalStorageDirectory();\r\n            File f1 = new File(file, &quot;_Url download&quot;);\r\n            if(!f1.exists()){\r\n                f1.mkdir();\r\n            }\r\n    \r\n            fileName = System.currentTimeMillis() + &quot;.jpg&quot;;\r\n    \r\n            File f2 = new File(f1, fileName);\r\n            f2.createNewFile();\r\n    \r\n            InputStream er = con.getErrorStream();\r\n            Log.i(&quot;ErrorCode&quot;, con.getResponseCode()+&quot;&quot;);\r\n            Log.i(&quot;ErrorMessage&quot;, con.getResponseMessage());\r\n            Log.i(&quot;ErrorStream&quot;, er+&quot;&quot;);\r\n    \r\n            InputStream in = con.getInputStream();\r\n            FileOutputStream out = new FileOutputStream(f2);\r\n    \r\n            byte[] buffer = new byte[1024];\r\n            int len;\r\n    \r\n            System.out.println(Arrays.toString(buffer));\r\n    \r\n            while((len = in.read(buffer, 0, 1024)) &gt; 0) {\r\n                out.write(buffer, 0, len);\r\n            }\r\n    \r\n            out.close();\r\n            in.close();\r\n    \r\n        } catch (MalformedURLException e) {\r\n            e.printStackTrace();\r\n        } catch (ProtocolException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            Log.i(&quot;IOException&quot;, e.toString());\r\n        }\r\n        return null;\r\n    } \r\n\r\n**LOG**\r\n\r\n    2021-06-26 09:26:25.532 26760-26890/com.example.urldownload I/ErrorCode: 400\r\n    \r\n    2021-06-26 09:26:25.533 26760-26890/com.example.urldownload I/ErrorMessage: Bad Request\r\n    \r\n    2021-06-26 09:26:25.533 26760-26890/com.example.urldownload I/Errorstream: buffer(com.android.okhttp.internal.http.Http1xStream$FixedLengthSource@fbb2c70).inputStream()\r\n    \r\n    2021-06-26 09:26:25.534 26760-26890/com.example.urldownload I/IOException: java.io.FileNotFoundException: https://instagram.fidr1-1.fna.fbcdn.net/v/t51.2885-15/e35/190664842_184685183538740_5039921250568173600_n.jpg?tp=1&amp;_nc_ht=instagram.fidr1-1.fna.fbcdn.net&amp;_nc_cat=108&amp;_nc_ohc=RrEU4lTwYCwAX-vgVQ4&amp;edm=AABBvjUBAAAA&amp;ccb=7-4&amp;oh=3ac34be54793fa59134380fd9e0bd617&amp;oe=60DCB7E6&amp;_nc_sid=83d603\r\n\r\n\r\n**Manifest**\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n\r\n\r\n\r\n\r\n**Image of the file where the image is being saved**\r\n\r\n[For more details look at this image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dx9HI.png\r\n\r\n\r\nwhat should I do to resolve this error or is there any better way to do this","title":"ResponseCode 400 for downloading image from url","body":"<p>This is the code I wrote for downloading image from url, but receving response code 400 with java.io.FilenotFoundException</p>\n<pre><code>@Override\nprotected Void doInBackground(String... strings) {\n\n    try {\n        URL url = new URL(strings[0]);\n        HttpURLConnection con = (HttpURLConnection) url.openConnection();\n        con.setRequestProperty(&quot;User-Agent&quot;, &quot;Mozilla/5.0 \n        (Macintosh; U; Intel Mac OS X 10.4; en-US; rv:1.9.2.2) \n        Gecko/20100316 Firefox/3.6.2&quot;);\n        con.setRequestMethod(&quot;GET&quot;);\n        con.setDoOutput(true);\n        con.connect();\n\n        File file = Environment.getExternalStorageDirectory();\n        File f1 = new File(file, &quot;_Url download&quot;);\n        if(!f1.exists()){\n            f1.mkdir();\n        }\n\n        fileName = System.currentTimeMillis() + &quot;.jpg&quot;;\n\n        File f2 = new File(f1, fileName);\n        f2.createNewFile();\n\n        InputStream er = con.getErrorStream();\n        Log.i(&quot;ErrorCode&quot;, con.getResponseCode()+&quot;&quot;);\n        Log.i(&quot;ErrorMessage&quot;, con.getResponseMessage());\n        Log.i(&quot;ErrorStream&quot;, er+&quot;&quot;);\n\n        InputStream in = con.getInputStream();\n        FileOutputStream out = new FileOutputStream(f2);\n\n        byte[] buffer = new byte[1024];\n        int len;\n\n        System.out.println(Arrays.toString(buffer));\n\n        while((len = in.read(buffer, 0, 1024)) &gt; 0) {\n            out.write(buffer, 0, len);\n        }\n\n        out.close();\n        in.close();\n\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    } catch (ProtocolException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        Log.i(&quot;IOException&quot;, e.toString());\n    }\n    return null;\n} \n</code></pre>\n<p><strong>LOG</strong></p>\n<pre><code>2021-06-26 09:26:25.532 26760-26890/com.example.urldownload I/ErrorCode: 400\n\n2021-06-26 09:26:25.533 26760-26890/com.example.urldownload I/ErrorMessage: Bad Request\n\n2021-06-26 09:26:25.533 26760-26890/com.example.urldownload I/Errorstream: buffer(com.android.okhttp.internal.http.Http1xStream$FixedLengthSource@fbb2c70).inputStream()\n\n2021-06-26 09:26:25.534 26760-26890/com.example.urldownload I/IOException: java.io.FileNotFoundException: https://instagram.fidr1-1.fna.fbcdn.net/v/t51.2885-15/e35/190664842_184685183538740_5039921250568173600_n.jpg?tp=1&amp;_nc_ht=instagram.fidr1-1.fna.fbcdn.net&amp;_nc_cat=108&amp;_nc_ohc=RrEU4lTwYCwAX-vgVQ4&amp;edm=AABBvjUBAAAA&amp;ccb=7-4&amp;oh=3ac34be54793fa59134380fd9e0bd617&amp;oe=60DCB7E6&amp;_nc_sid=83d603\n</code></pre>\n<p><strong>Manifest</strong></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n</code></pre>\n<p><strong>Image of the file where the image is being saved</strong></p>\n<p><a href=\"https://i.stack.imgur.com/dx9HI.png\" rel=\"nofollow noreferrer\">For more details look at this image</a></p>\n<p>what should I do to resolve this error or is there any better way to do this</p>\n"},{"tags":["java","sorting","dictionary"],"comments":[{"owner":{"account_id":2882201,"reputation":10752,"user_id":2472820,"accept_rate":86,"display_name":"Kon"},"score":4,"creation_date":1379560830,"post_id":18885656,"comment_id":27874486,"body_markdown":"Just write a custom Comparator to do this. http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html","body":"Just write a custom Comparator to do this. <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/Comparator.html</a>"}],"answers":[{"tags":[],"owner":{"account_id":35592,"reputation":4710,"user_id":100856,"display_name":"Sualeh Fatehi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1379560892,"creation_date":1379560892,"answer_id":18885677,"question_id":18885656,"body_markdown":"The easiest way would be to write a `Comparator&lt;String&gt;`. The `Comparator&lt;String&gt;` would receive two words, and compare them. If the first was shorter than the second, it should return -1. If the second was shorter than the first, it would return 1. If they are the same length, it should call the default `String` `compareTo` method. You can then simply sort your list using this custom `Comparator`.","title":"Java: Sort a list of words by length, then by alphabetical order","body":"<p>The easiest way would be to write a <code>Comparator&lt;String&gt;</code>. The <code>Comparator&lt;String&gt;</code> would receive two words, and compare them. If the first was shorter than the second, it should return -1. If the second was shorter than the first, it would return 1. If they are the same length, it should call the default <code>String</code> <code>compareTo</code> method. You can then simply sort your list using this custom <code>Comparator</code>.</p>\n"},{"tags":[],"owner":{"account_id":96393,"reputation":23995,"user_id":262022,"accept_rate":87,"display_name":"radai"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1379561003,"creation_date":1379561003,"answer_id":18885688,"question_id":18885656,"body_markdown":"you want to use a string comparator that compares by length 1st. like so:\r\n\r\n    public class LengthFirstComparator implements Comparator&lt;String&gt; {\r\n        @Override\r\n        public int compare(String o1, String o2) {             \r\n            if (o1.length()!=o2.length()) {\r\n                return o1.length()-o2.length(); //overflow impossible since lengths are non-negative\r\n            }\r\n            return o1.compareTo(o2);\r\n        }\r\n    }\r\n\r\nthen you could simply sort your Strings by calling `Collections.sort(yourStringList, new LengthFirstComparator());`","title":"Java: Sort a list of words by length, then by alphabetical order","body":"<p>you want to use a string comparator that compares by length 1st. like so:</p>\n\n<pre><code>public class LengthFirstComparator implements Comparator&lt;String&gt; {\n    @Override\n    public int compare(String o1, String o2) {             \n        if (o1.length()!=o2.length()) {\n            return o1.length()-o2.length(); //overflow impossible since lengths are non-negative\n        }\n        return o1.compareTo(o2);\n    }\n}\n</code></pre>\n\n<p>then you could simply sort your Strings by calling <code>Collections.sort(yourStringList, new LengthFirstComparator());</code></p>\n"},{"tags":[],"owner":{"account_id":2888638,"reputation":10719,"user_id":2477916,"accept_rate":100,"display_name":"Java Devil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1379561445,"creation_date":1379561445,"answer_id":18885745,"question_id":18885656,"body_markdown":"By far the easiest and best way is to write a custom comparator as other answers say. \r\n\r\nBut to do it a similar way you were attempting would be to make the length the key and rather then having a single string as the value have a list of all the words of that length. So a map of the form\r\n\r\n    Map&lt;Integer,List&lt;String&gt;&gt;\r\n\r\nYou could then call the key of any length and return a sorted list of words like this \r\n\r\n    Collections.sort(yourMap.get(theLength))\r\n\r\nBUT far more complicated then just using a comparator","title":"Java: Sort a list of words by length, then by alphabetical order","body":"<p>By far the easiest and best way is to write a custom comparator as other answers say. </p>\n\n<p>But to do it a similar way you were attempting would be to make the length the key and rather then having a single string as the value have a list of all the words of that length. So a map of the form</p>\n\n<pre><code>Map&lt;Integer,List&lt;String&gt;&gt;\n</code></pre>\n\n<p>You could then call the key of any length and return a sorted list of words like this </p>\n\n<pre><code>Collections.sort(yourMap.get(theLength))\n</code></pre>\n\n<p>BUT far more complicated then just using a comparator</p>\n"},{"tags":[],"owner":{"account_id":1319573,"reputation":21851,"user_id":1265660,"accept_rate":75,"display_name":"Masudul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1379561551,"creation_date":1379561551,"answer_id":18885762,"question_id":18885656,"body_markdown":"You can do that using simple List. Try following code.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    \r\n    /**\r\n     *\r\n     * @author Masudul Haque\r\n     */\r\n    public class LengthSort {\r\n        public static void main(String[] args) {\r\n            List&lt;String&gt; list=new ArrayList&lt;&gt;();\r\n            list.add(&quot;cowa&quot;);\r\n            list.add(&quot;cow&quot;);\r\n            list.add(&quot;aow&quot;);\r\n            Collections.sort(list, new Comparator&lt;String&gt;() {\r\n    \r\n                @Override\r\n                public int compare(String o1, String o2) {\r\n                    if(o1.length()&gt;o2.length()){\r\n                        return 1;\r\n                    }else{\r\n                        return o1.compareTo(o2);\r\n                    }\r\n                }\r\n            });\r\n            \r\n            System.out.println(list);\r\n        }\r\n    }\r\n\r\n","title":"Java: Sort a list of words by length, then by alphabetical order","body":"<p>You can do that using simple List. Try following code.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\n\n/**\n *\n * @author Masudul Haque\n */\npublic class LengthSort {\n    public static void main(String[] args) {\n        List&lt;String&gt; list=new ArrayList&lt;&gt;();\n        list.add(\"cowa\");\n        list.add(\"cow\");\n        list.add(\"aow\");\n        Collections.sort(list, new Comparator&lt;String&gt;() {\n\n            @Override\n            public int compare(String o1, String o2) {\n                if(o1.length()&gt;o2.length()){\n                    return 1;\n                }else{\n                    return o1.compareTo(o2);\n                }\n            }\n        });\n\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6540852,"reputation":623,"user_id":5058488,"accept_rate":36,"display_name":"Alejandro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544473725,"creation_date":1544473725,"answer_id":53713153,"question_id":18885656,"body_markdown":"You can use Java 8&#39;s lamba utilities to make concise functions that prevent the clutter of using comparator classes, like so:\r\n\r\n    Collections.sort(words, (string1, string2) -&gt; Integer.compare(string1.length(), string2.length());\r\n\r\n-Example taken from *Effective Java* by Joshua Bloch","title":"Java: Sort a list of words by length, then by alphabetical order","body":"<p>You can use Java 8's lamba utilities to make concise functions that prevent the clutter of using comparator classes, like so:</p>\n\n<pre><code>Collections.sort(words, (string1, string2) -&gt; Integer.compare(string1.length(), string2.length());\n</code></pre>\n\n<p>-Example taken from <em>Effective Java</em> by Joshua Bloch</p>\n"},{"tags":[],"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645879084,"creation_date":1645878590,"answer_id":71276659,"question_id":18885656,"body_markdown":"If you have a sentence like - Apple and grape are not vegetables and told to sort based on the length and if two or more words are equal then if it has to be sorted alphabetically then the code is as below:\r\n\r\n    public class ExampleDemo {\r\n        public static void main(String[] args) {\r\n            String s = &quot;Apple and grape are not vegetables&quot;;\r\n            ExampleDemo e = new ExampleDemo();\r\n            e.display(s);\r\n        }\r\n    \r\n        public void display(String str) {\r\n            String[] st = str.split(&quot; &quot;);\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            for(String word: st){\r\n                list.add(word);\r\n            }\r\n            System.out.println(&quot;Before sorting: &quot; + list);\r\n            Comparator&lt;String&gt; comparator = (s1,s2) -&gt; Integer.compare(s1.length(), s2.length());\r\n            Collections.sort(list, comparator);\r\n            System.out.println(&quot;After sorting: &quot; + list);\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    Before sorting: [Apple, and, grape, are, not, vegetables]\r\n    After sorting: [and, are, not, Apple, grape, vegetables]","title":"Java: Sort a list of words by length, then by alphabetical order","body":"<p>If you have a sentence like - Apple and grape are not vegetables and told to sort based on the length and if two or more words are equal then if it has to be sorted alphabetically then the code is as below:</p>\n<pre><code>public class ExampleDemo {\n    public static void main(String[] args) {\n        String s = &quot;Apple and grape are not vegetables&quot;;\n        ExampleDemo e = new ExampleDemo();\n        e.display(s);\n    }\n\n    public void display(String str) {\n        String[] st = str.split(&quot; &quot;);\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        for(String word: st){\n            list.add(word);\n        }\n        System.out.println(&quot;Before sorting: &quot; + list);\n        Comparator&lt;String&gt; comparator = (s1,s2) -&gt; Integer.compare(s1.length(), s2.length());\n        Collections.sort(list, comparator);\n        System.out.println(&quot;After sorting: &quot; + list);\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Before sorting: [Apple, and, grape, are, not, vegetables]\nAfter sorting: [and, are, not, Apple, grape, vegetables]\n</code></pre>\n"}],"owner":{"account_id":1870060,"reputation":1122,"user_id":1692517,"accept_rate":35,"display_name":"user1692517"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26171,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1645879084,"creation_date":1379560654,"question_id":18885656,"body_markdown":"I am told to have a list of words sorted by length, and those that have the same length are sorted by alphabetical order. This is what I have for the method that does that so far.\r\n\r\n    public static void doIt(BufferedReader r, PrintWriter w) throws IOException {\r\n        TreeMap&lt;String, Integer&gt; s = new TreeMap&lt;String, Integer&gt;();\r\n        ArrayList&lt;Integer&gt; count = new ArrayList&lt;Integer&gt;();\r\n        String line;        \r\n        int length;\r\n        while ((line = r.readLine()) != null) {\r\n            length = line.length();\r\n            \r\n            s.put(line, length);\r\n            if (!count.contains(length)){\r\n                count.add(length);\r\n            }\r\n        }    \r\n        Collections.sort(count);\r\n        System.out.println(count);\r\n    }\r\n\r\n\r\n\r\n\r\nMy mindset was to use a TreeMap to keep the String, and the length of the word as the key. I also have an ArrayList that keeps track of all the word&#39;s lengths without any duplicates, it&#39;s then sorted.\r\n\r\nI was hoping to somehow call on the TreeMap for the key value of 5, which would list all the words with 5 letters in it.\r\n\r\nI was wondering if I&#39;m on the right track? I&#39;ve been playing around for over an hour and can&#39;t seem to figure out what I should do after this. Am I approaching this from the right angle?\r\n\r\n","title":"Java: Sort a list of words by length, then by alphabetical order","body":"<p>I am told to have a list of words sorted by length, and those that have the same length are sorted by alphabetical order. This is what I have for the method that does that so far.</p>\n\n<pre><code>public static void doIt(BufferedReader r, PrintWriter w) throws IOException {\n    TreeMap&lt;String, Integer&gt; s = new TreeMap&lt;String, Integer&gt;();\n    ArrayList&lt;Integer&gt; count = new ArrayList&lt;Integer&gt;();\n    String line;        \n    int length;\n    while ((line = r.readLine()) != null) {\n        length = line.length();\n\n        s.put(line, length);\n        if (!count.contains(length)){\n            count.add(length);\n        }\n    }    \n    Collections.sort(count);\n    System.out.println(count);\n}\n</code></pre>\n\n<p>My mindset was to use a TreeMap to keep the String, and the length of the word as the key. I also have an ArrayList that keeps track of all the word's lengths without any duplicates, it's then sorted.</p>\n\n<p>I was hoping to somehow call on the TreeMap for the key value of 5, which would list all the words with 5 letters in it.</p>\n\n<p>I was wondering if I'm on the right track? I've been playing around for over an hour and can't seem to figure out what I should do after this. Am I approaching this from the right angle?</p>\n"},{"tags":["java","nio"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1645877543,"post_id":71276100,"comment_id":125989125,"body_markdown":"What does [the documentation of FileChannel.transferFrom](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/FileChannel.html#transferFrom(java.nio.channels.ReadableByteChannel,long,long)) say the second parameter is for?  What do you think passing a value of `0` does?","body":"What does <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/channels/FileChannel.html#transferFrom(java.nio.channels.ReadableByteChannel,long,long)\" rel=\"nofollow noreferrer\">the documentation of FileChannel.transferFrom</a> say the second parameter is for?  What do you think passing a value of <code>0</code> does?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646188363,"post_id":71276100,"comment_id":126059909,"body_markdown":"Why are you doing output on a GET request? Surely this is a PUT or a POST?","body":"Why are you doing output on a GET request? Surely this is a PUT or a POST?"}],"owner":{"account_id":11653606,"reputation":823,"user_id":8534089,"display_name":"Vikas J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645878217,"creation_date":1645873269,"question_id":71276100,"body_markdown":"I am reading data from API response in batches of bytes which is of Content-Type = text/CSV and using Java&#39;s NIO package to transfer bytes between two Channels. I want to write API responses in batches to the same File (APPEND). With below code append doesn&#39;t seem to work correctly, it&#39;s more of overriding results.\r\nAnd once all the data is written then I also want to print the number of total lines in CSV.\r\n\r\nVersion - Java 8\r\n\r\n    private void downloadFile_NIO(String encoded_token) throws Exception \r\n    {\r\n          long start_Range = 0;\r\n        long end_Range = 5000;\r\n        long batch_size = 5000;\r\n        long totalsize = 1080612174;\r\n        long counter = 0;\r\n        //Path path = Paths.get(FILE_NAME);\r\n        //long lines = 0;\r\n     \r\n        while (start_Range &lt;= totalsize)\r\n        {\r\n           URL url = new URL(FILE_URL);\r\n           HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n           connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + encoded_token );\r\n           connection.setDoOutput(true);\r\n           connection.setRequestMethod(&quot;GET&quot;); \r\n     \r\n           ReadableByteChannel readableByteChannel = Channels.newChannel(connection.getInputStream());\r\n            FileOutputStream fileOutputStream=new FileOutputStream(new File(FILE_NAME),true);\r\n           fileOutputStream.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\r\n           // lines = Files.lines(path).count();\r\n          // System.out.println(&quot;lines-&gt;&quot; + lines);\r\n          System.out.println();\r\n     \r\n     \r\n             fileOutputStream.close();\r\n             readableByteChannel.close();\r\n     \r\n            counter = counter + 1;\r\n            if (counter &lt; 2)\r\n            {\r\n               start_Range = start_Range + batch_size + 1;\r\n               end_Range = end_Range + batch_size;\r\n            }\r\n            else\r\n            {\r\n                start_Range = start_Range + batch_size;\r\n                   end_Range = end_Range + batch_size;\r\n            }\r\n     \r\n     \r\n     \r\n        }\r\n     \r\n    }","title":"How to append batches of stream data to one CSV file using Java NIO Package","body":"<p>I am reading data from API response in batches of bytes which is of Content-Type = text/CSV and using Java's NIO package to transfer bytes between two Channels. I want to write API responses in batches to the same File (APPEND). With below code append doesn't seem to work correctly, it's more of overriding results.\nAnd once all the data is written then I also want to print the number of total lines in CSV.</p>\n<p>Version - Java 8</p>\n<pre><code>private void downloadFile_NIO(String encoded_token) throws Exception \n{\n      long start_Range = 0;\n    long end_Range = 5000;\n    long batch_size = 5000;\n    long totalsize = 1080612174;\n    long counter = 0;\n    //Path path = Paths.get(FILE_NAME);\n    //long lines = 0;\n \n    while (start_Range &lt;= totalsize)\n    {\n       URL url = new URL(FILE_URL);\n       HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n       connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + encoded_token );\n       connection.setDoOutput(true);\n       connection.setRequestMethod(&quot;GET&quot;); \n \n       ReadableByteChannel readableByteChannel = Channels.newChannel(connection.getInputStream());\n        FileOutputStream fileOutputStream=new FileOutputStream(new File(FILE_NAME),true);\n       fileOutputStream.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\n       // lines = Files.lines(path).count();\n      // System.out.println(&quot;lines-&gt;&quot; + lines);\n      System.out.println();\n \n \n         fileOutputStream.close();\n         readableByteChannel.close();\n \n        counter = counter + 1;\n        if (counter &lt; 2)\n        {\n           start_Range = start_Range + batch_size + 1;\n           end_Range = end_Range + batch_size;\n        }\n        else\n        {\n            start_Range = start_Range + batch_size;\n               end_Range = end_Range + batch_size;\n        }\n \n \n \n    }\n \n}\n</code></pre>\n"},{"tags":["java","docker","selenium","gitlab-ci","selenium-grid"],"comments":[{"owner":{"account_id":23049641,"reputation":53,"user_id":17166674,"display_name":"AutoBeginner"},"score":0,"creation_date":1636978737,"post_id":69974278,"comment_id":123693789,"body_markdown":"@sytech   I am sorry to bother you. But you have very good knowledge on docker and gitlabCI. So I wonder if you have any suggestions on this topic.","body":"@sytech   I am sorry to bother you. But you have very good knowledge on docker and gitlabCI. So I wonder if you have any suggestions on this topic."},{"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1636999934,"post_id":69974278,"comment_id":123702562,"body_markdown":"Sure, I&#39;ll provide a answer shortly. The solution here has a similar connotation to your previous question. The bind-mounted docker volume and associated files are going to exist on the container / docker daemon -- not on the runner host.","body":"Sure, I&#39;ll provide a answer shortly. The solution here has a similar connotation to your previous question. The bind-mounted docker volume and associated files are going to exist on the container / docker daemon -- not on the runner host."},{"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1637001892,"post_id":69974278,"comment_id":123703302,"body_markdown":"I&#39;d also maybe double-check your method of dealing with no being able to push an empty directory. Maybe just add `mkdir target` to the beginning of your job script. I&#39;m not 100% certain your Java code is _creating_ the directory.","body":"I&#39;d also maybe double-check your method of dealing with no being able to push an empty directory. Maybe just add <code>mkdir target</code> to the beginning of your job script. I&#39;m not 100% certain your Java code is <i>creating</i> the directory."},{"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1637004401,"post_id":69974278,"comment_id":123704209,"body_markdown":"Actually I take back my previous comment -- The bind mount should work properly when using `docker:dind` with docker-compose -- I don&#39;t think you need to create an empty file and push it to GitLab. That may be failing your test case. The directory `target` will be created when you do `docker compose up` if it doesn&#39;t exist. Try deleting that directory from your code and see if that helps. Including debugging messages for your test cases / assertions would also be helpful.","body":"Actually I take back my previous comment -- The bind mount should work properly when using <code>docker:dind</code> with docker-compose -- I don&#39;t think you need to create an empty file and push it to GitLab. That may be failing your test case. The directory <code>target</code> will be created when you do <code>docker compose up</code> if it doesn&#39;t exist. Try deleting that directory from your code and see if that helps. Including debugging messages for your test cases / assertions would also be helpful."},{"owner":{"account_id":23049641,"reputation":53,"user_id":17166674,"display_name":"AutoBeginner"},"score":0,"creation_date":1637056466,"post_id":69974278,"comment_id":123717160,"body_markdown":"@sytech Hi, Thanks for your reply. I have tried deleting the folder in my project repository and did not changed any code in the test script. when i run it locally, it does generate a &#39;target&#39; folder in my project repository and run successfully. But when I run it in gitlab CI, it failed, and the error is &#39;AssertionError&#39;.","body":"@sytech Hi, Thanks for your reply. I have tried deleting the folder in my project repository and did not changed any code in the test script. when i run it locally, it does generate a &#39;target&#39; folder in my project repository and run successfully. But when I run it in gitlab CI, it failed, and the error is &#39;AssertionError&#39;."},{"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1637056603,"post_id":69974278,"comment_id":123717215,"body_markdown":"There&#39;s some other problem -- you should add some logging to your test and have your assertions output more useful information. It&#39;s hard to say what the problem is if all we have is &quot;AssertionError&quot; and don&#39;t even know what line that occurs on.","body":"There&#39;s some other problem -- you should add some logging to your test and have your assertions output more useful information. It&#39;s hard to say what the problem is if all we have is &quot;AssertionError&quot; and don&#39;t even know what line that occurs on."},{"owner":{"account_id":23049641,"reputation":53,"user_id":17166674,"display_name":"AutoBeginner"},"score":0,"creation_date":1637058462,"post_id":69974278,"comment_id":123718060,"body_markdown":"I have a confusing about volume mapping. when i set &quot;./target:/home/seluser/Downloads&quot; in the deocker-compose file. I should have mapped the docker host and the chrome container. But how i can find this target folder in docker host? I can see the folder in my project repository, so dose it means i have mapped my local computer, the docker host and the chrome container? I am not sure if it is the reason it didn&#39;t work in gitlab CI.","body":"I have a confusing about volume mapping. when i set &quot;./target:/home/seluser/Downloads&quot; in the deocker-compose file. I should have mapped the docker host and the chrome container. But how i can find this target folder in docker host? I can see the folder in my project repository, so dose it means i have mapped my local computer, the docker host and the chrome container? I am not sure if it is the reason it didn&#39;t work in gitlab CI."},{"owner":{"account_id":23049641,"reputation":53,"user_id":17166674,"display_name":"AutoBeginner"},"score":0,"creation_date":1637061145,"post_id":69974278,"comment_id":123719163,"body_markdown":"I added a assertion in the gitlab CI for the first case ./target:/home/seluser/Downloads, and the listOffFiles.length get 0. so that means no files downloaded actually. and this setup does not work in gitlab CI.","body":"I added a assertion in the gitlab CI for the first case ./target:/home/seluser/Downloads, and the listOffFiles.length get 0. so that means no files downloaded actually. and this setup does not work in gitlab CI."},{"owner":{"account_id":23049641,"reputation":53,"user_id":17166674,"display_name":"AutoBeginner"},"score":0,"creation_date":1637063507,"post_id":69974278,"comment_id":123720087,"body_markdown":"I have tried also mapped &#39;/opt/target:/home/seluser/Downloads&#39;. This does maps the docker host and chrome container. And this time no folder appears in my project repository. But the test fails. And no files really downloaded in the chrome container : /home/seluser/Downloads. I tried set folder = new File(&quot;/home/seluser/Downloads&quot;); or folder = new File(&quot;/opt/target&quot;); The error is nolpointerException in listOffFiles.length.","body":"I have tried also mapped &#39;/opt/target:/home/seluser/Downloads&#39;. This does maps the docker host and chrome container. And this time no folder appears in my project repository. But the test fails. And no files really downloaded in the chrome container : /home/seluser/Downloads. I tried set folder = new File(&quot;/home/seluser/Downloads&quot;); or folder = new File(&quot;/opt/target&quot;); The error is nolpointerException in listOffFiles.length."},{"owner":{"account_id":7575391,"reputation":32359,"user_id":5747944,"display_name":"sytech"},"score":0,"creation_date":1637084747,"post_id":69974278,"comment_id":123729725,"body_markdown":"When this &#39;works&#39; locally, are you still using docker-compose to run this? Or are you just running the java app alone? I noticed the `System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);` which had me a bit puzzled, since it looked like you were using Linux images.","body":"When this &#39;works&#39; locally, are you still using docker-compose to run this? Or are you just running the java app alone? I noticed the <code>System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);</code> which had me a bit puzzled, since it looked like you were using Linux images."},{"owner":{"account_id":23049641,"reputation":53,"user_id":17166674,"display_name":"AutoBeginner"},"score":0,"creation_date":1637132902,"post_id":69974278,"comment_id":123741083,"body_markdown":"Yes, when i run it locally, i still use docker-compose in intellij. System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;); is used in the first step when I run the test in the local browser. I have three steps to run my test. First, with chromedriver.exe which is downloaded in my computer. If it succeeds, I then run the test on docker locally with selenium hub and different browsers docker images. Last, push it to the gitLab CI. so i use the same docker-compose file in the second and third steps.","body":"Yes, when i run it locally, i still use docker-compose in intellij. System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;); is used in the first step when I run the test in the local browser. I have three steps to run my test. First, with chromedriver.exe which is downloaded in my computer. If it succeeds, I then run the test on docker locally with selenium hub and different browsers docker images. Last, push it to the gitLab CI. so i use the same docker-compose file in the second and third steps."},{"owner":{"account_id":23049641,"reputation":53,"user_id":17166674,"display_name":"AutoBeginner"},"score":0,"creation_date":1637135101,"post_id":69974278,"comment_id":123741658,"body_markdown":"when i set &#39;volumes: - ./target:/home/seluser/Downloads&#39;, then i can see the volume bindings in the chrome container shows &#39;Host path: C:\\Users\\MyName\\IdeaProjects\\selenium-project\\target; Container path: /home/seluser/Downloads. But if I set &#39;volumes: - /target:/home/seluser/Downloads&#39; , then Host path became: /target. And the test fails, and no files downloaded in home/seluser/Downloads. I am quite doubt about this volume mapping. Because the second way looks correct, and it should mapping the host and the container without connecting to my computer. But it does not work in my case.","body":"when i set &#39;volumes: - ./target:/home/seluser/Downloads&#39;, then i can see the volume bindings in the chrome container shows &#39;Host path: C:\\Users\\MyName\\IdeaProjects\\selenium-project\\target; Container path: /home/seluser/Downloads. But if I set &#39;volumes: - /target:/home/seluser/Downloads&#39; , then Host path became: /target. And the test fails, and no files downloaded in home/seluser/Downloads. I am quite doubt about this volume mapping. Because the second way looks correct, and it should mapping the host and the container without connecting to my computer. But it does not work in my case."}],"answers":[{"tags":[],"owner":{"account_id":15339682,"reputation":2592,"user_id":11067065,"display_name":"Robert-Jan Kuyper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636980385,"creation_date":1636980385,"answer_id":69974624,"question_id":69974278,"body_markdown":"I dont exactly know what you expect to run on `http://docker:4444`, but that seems not correct at: `driver = new RemoteWebDriver(new URL(&quot;http://docker:4444/wd/hub&quot;), cap);`. \r\n\r\nI geuss you want to connect with the selenium-hub instead. Personally I always prefer the use of GitLab services over running `docker-compose` in your pipeline. Maybe [this answer][1] about running E2E tests with Docker in GitLab helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66071016/how-to-setup-gitlab-ci-e2e-tests-using-multiple-dockers/69955434#69955434","title":"How to set up a selenium test of download a file in Gitlab CI","body":"<p>I dont exactly know what you expect to run on <code>http://docker:4444</code>, but that seems not correct at: <code>driver = new RemoteWebDriver(new URL(&quot;http://docker:4444/wd/hub&quot;), cap);</code>.</p>\n<p>I geuss you want to connect with the selenium-hub instead. Personally I always prefer the use of GitLab services over running <code>docker-compose</code> in your pipeline. Maybe <a href=\"https://stackoverflow.com/questions/66071016/how-to-setup-gitlab-ci-e2e-tests-using-multiple-dockers/69955434#69955434\">this answer</a> about running E2E tests with Docker in GitLab helps.</p>\n"},{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637231569,"creation_date":1637073527,"answer_id":69991117,"question_id":69974278,"body_markdown":" 1. Statement : &#39;***Let me explain a little. First I create a folder named &quot;target&quot; in the project root repository.***&#39; I assume that you are creating this by executing ```folder = new File(&quot;target&quot;);``` This actually will not create the directory, what you need to apply something like the following:\r\n```\r\nString directory = &quot;/target&quot;;\r\ndirectory.mkdir()\r\n```\r\nHowever, when this part of your code runs, this will not actually create the directory due to your docker-compose.yml where the volume mapping configuration from your chrome-node is mapped to the host ***/target*** directory.\r\n```\r\nvolumes:\r\n  ./target:/home/seluser/Downloads\r\n```\r\nThis will already exist, as docker will create it, so the java code will return a boolean value of &#39;false&#39; (as it does not need to create the directory) and will proceed to the next step.\r\n\r\n 2. **docker-compose.yml**: there is a mapping for your &#39;selenium/node-chrome&#39; image where you have mapped ***/target*** to ***/home/seluser/Downloads***. As this directory does not initially exist when &#39;***docker-compose up***&#39; is run, docker will create the directory on the host, so it can be mapped to your desired volume. Here lies 2 problems, first of all docker runs as root and will create the new &#39;***/target***&#39; directory on the host, but only gives it linux permissions &#39;***drwxr-xr-x***&#39; (755). This means that only root user can write to that directory. So even though the configuration has mapped the volume, when you download to the directory as &#39;***seluser***&#39;, it will not be able to write and the browser will be returned with a &#39;*Permission denied*&#39; response. \r\n\r\n 3. **The other issue** is the java code declares to the RemoteWebDriver that the download will need to be saved to ```prefs.put(&quot;download.default_directory&quot;, folder.getAbsolutePath());```, which has been declared as ***&quot;target&quot;***, this is an issue as the chrome-node where the browser resides does not have a directory called &#39;***/target***&#39;, so will fail to\r\n    download anyway. This is the cause of your &#39;*assertion exception*&#39;\r\n\r\nPropose that the following should be done for efficiency and stability:\r\n\r\n - **Update the gitlab-ci.yml** prior to the &#39;*docker-compose down &amp; docker-compose up --build --force-recreate --no-deps -d*&#39; commands\r\n```\r\nmkdir /target\r\nchmod -R 777 /target\r\n```\r\nThis will ensure that the directory can be written to by &#39;seluser&#39; on the node-chrome container\r\n\r\n - **Update the docker-compose.yml**\r\n\r\nFor Windows Host =&gt; GitLab CI Docker(WSL2) =&gt; Chrome-Node Docker\r\n```\r\nvolumes:\r\n  ./target:/home/seluser/Downloads\r\n```\r\n\r\nFor Linux Host =&gt; GitLab CI Docker(Linux) =&gt; Chrome-Node Docker\r\n```\r\nvolumes:\r\n  /target:/home/seluser/Downloads\r\n```\r\nThis will ensure that the Chrome browser can find a directory named &#39;*/target*&#39; and that the java test can see a file written to the host &#39;*/target*&#39; directory\r\n\r\nAlso your selenium-hub configuration needs to be updated, ports for publish events and subscribe events have not been mapped, update to the following:\r\n```\r\n  selenium-hub:\r\n    image: selenium/hub:4.0.0-20211013\r\n    container_name: selenium-hub\r\n    ports:\r\n      - &quot;4442:4442&quot;\r\n      - &quot;4443:4443&quot;\r\n      - &quot;4444:4444&quot;\r\n```","title":"How to set up a selenium test of download a file in Gitlab CI","body":"<ol>\n<li>Statement : '<em><strong>Let me explain a little. First I create a folder named &quot;target&quot; in the project root repository.</strong></em>' I assume that you are creating this by executing <code>folder = new File(&quot;target&quot;);</code> This actually will not create the directory, what you need to apply something like the following:</li>\n</ol>\n<pre><code>String directory = &quot;/target&quot;;\ndirectory.mkdir()\n</code></pre>\n<p>However, when this part of your code runs, this will not actually create the directory due to your docker-compose.yml where the volume mapping configuration from your chrome-node is mapped to the host <em><strong>/target</strong></em> directory.</p>\n<pre><code>volumes:\n  ./target:/home/seluser/Downloads\n</code></pre>\n<p>This will already exist, as docker will create it, so the java code will return a boolean value of 'false' (as it does not need to create the directory) and will proceed to the next step.</p>\n<ol start=\"2\">\n<li><p><strong>docker-compose.yml</strong>: there is a mapping for your 'selenium/node-chrome' image where you have mapped <em><strong>/target</strong></em> to <em><strong>/home/seluser/Downloads</strong></em>. As this directory does not initially exist when '<em><strong>docker-compose up</strong></em>' is run, docker will create the directory on the host, so it can be mapped to your desired volume. Here lies 2 problems, first of all docker runs as root and will create the new '<em><strong>/target</strong></em>' directory on the host, but only gives it linux permissions '<em><strong>drwxr-xr-x</strong></em>' (755). This means that only root user can write to that directory. So even though the configuration has mapped the volume, when you download to the directory as '<em><strong>seluser</strong></em>', it will not be able to write and the browser will be returned with a '<em>Permission denied</em>' response.</p>\n</li>\n<li><p><strong>The other issue</strong> is the java code declares to the RemoteWebDriver that the download will need to be saved to <code>prefs.put(&quot;download.default_directory&quot;, folder.getAbsolutePath());</code>, which has been declared as <em><strong>&quot;target&quot;</strong></em>, this is an issue as the chrome-node where the browser resides does not have a directory called '<em><strong>/target</strong></em>', so will fail to\ndownload anyway. This is the cause of your '<em>assertion exception</em>'</p>\n</li>\n</ol>\n<p>Propose that the following should be done for efficiency and stability:</p>\n<ul>\n<li><strong>Update the gitlab-ci.yml</strong> prior to the '<em>docker-compose down &amp; docker-compose up --build --force-recreate --no-deps -d</em>' commands</li>\n</ul>\n<pre><code>mkdir /target\nchmod -R 777 /target\n</code></pre>\n<p>This will ensure that the directory can be written to by 'seluser' on the node-chrome container</p>\n<ul>\n<li><strong>Update the docker-compose.yml</strong></li>\n</ul>\n<p>For Windows Host =&gt; GitLab CI Docker(WSL2) =&gt; Chrome-Node Docker</p>\n<pre><code>volumes:\n  ./target:/home/seluser/Downloads\n</code></pre>\n<p>For Linux Host =&gt; GitLab CI Docker(Linux) =&gt; Chrome-Node Docker</p>\n<pre><code>volumes:\n  /target:/home/seluser/Downloads\n</code></pre>\n<p>This will ensure that the Chrome browser can find a directory named '<em>/target</em>' and that the java test can see a file written to the host '<em>/target</em>' directory</p>\n<p>Also your selenium-hub configuration needs to be updated, ports for publish events and subscribe events have not been mapped, update to the following:</p>\n<pre><code>  selenium-hub:\n    image: selenium/hub:4.0.0-20211013\n    container_name: selenium-hub\n    ports:\n      - &quot;4442:4442&quot;\n      - &quot;4443:4443&quot;\n      - &quot;4444:4444&quot;\n</code></pre>\n"}],"owner":{"account_id":23049641,"reputation":53,"user_id":17166674,"display_name":"AutoBeginner"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1479,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645877779,"creation_date":1636978580,"question_id":69974278,"body_markdown":"I am writing a selenium test to verify a file being downloaded. It works fine in locally. And I can easily access the file both through the &#39;target&#39; folder and inside the container /home/seluser/Downloads.\r\n\r\nThe test script is: \r\n\r\n    @BeforeMethod\r\n    public void setUp() throws  MalformedURLException {\r\n\r\n        folder = new File(&quot;target&quot;);\r\n        \r\n        for(File file : folder.listFiles()) {\r\n            file.delete();\r\n        } \r\n    \r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\r\n        ChromeOptions options = new ChromeOptions();\r\n    \r\n        Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n        prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\r\n        prefs.put(&quot;download.default_directory&quot;, folder.getAbsolutePath());\r\n    \r\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n        DesiredCapabilities cap = new DesiredCapabilities();\r\n        cap.setBrowserName(&quot;chrome&quot;);\r\n        cap.setCapability(ChromeOptions.CAPABILITY, options);\r\n    \r\n        //driver = new ChromeDriver(cap);\r\n        //driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), cap);\r\n        driver = new RemoteWebDriver(new URL(&quot;http://docker:4444/wd/hub&quot;), cap);\r\n    }\r\n    \r\n    @AfterMethod\r\n    public void tearDown() {\r\n        driver.quit();\r\n    }\r\n    \r\n    @Test\r\n    public void downloadFileTest() throws InterruptedException {\r\n        driver.get(&quot;http://the-internet.herokuapp.com/download&quot;);\r\n        driver.findElement(By.linkText(&quot;some-file.txt&quot;)).click();\r\n    \r\n        Thread.sleep(2000);\r\n        File listOffFiles[] = folder.listFiles();\r\n        Assert.assertTrue(listOffFiles.length &gt; 0);\r\n    \r\n        for(File file : listOffFiles) {\r\n            Assert.assertTrue(file.length() &gt; 0);\r\n        } \r\n    }\r\n\r\nLet me explain a little. First I create a folder named &quot;target&quot; in the project root repository. Then I set the download path in the chrome docker comtainer via container volumes in docker-compose file.\r\n\r\n    version: &quot;3&quot;\r\n    services:\r\n      chrome:\r\n        image: selenium/node-chrome:4.0.0-20211013\r\n        container_name: chrome\r\n        shm_size: 2gb\r\n        depends_on:\r\n          - selenium-hub\r\n        volumes:\r\n          - ./target:/home/seluser/Downloads\r\n        environment:\r\n          - SE_EVENT_BUS_HOST=selenium-hub\r\n          - SE_EVENT_BUS_PUBLISH_PORT=4442\r\n          - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\r\n          - SE_NODE_GRID_URL=http://localhost:4444\r\n        ports:\r\n          - &quot;6900:5900&quot;\r\n      selenium-hub:\r\n        image: selenium/hub:4.0.0-20211013\r\n        container_name: selenium-hub\r\n        ports:\r\n          - &quot;4444:4444&quot;\r\n\r\nThis setting works fine locally. when I run it in the gitlab CI, i cannot push a empty fold to gitlab, so i have to create a file and store it in the folder and push it to gitlab. But it the test script, I delete this file in the setup stage in case it disturb the assertion. But the pipeline fails. The result does not give me more details , just said the assertionException. Here is the gitlab-ci.yml:\r\n\r\n    image: adoptopenjdk/openjdk11\r\n    \r\n    stages:\r\n      - gradle-build\r\n      - docker-test\r\n    \r\n    .gradle_template: &amp;gradle_definition\r\n      variables:\r\n        GRADLE_OPTS: &quot;-Dorg.gradle.daemon=false&quot;\r\n      before_script:\r\n        - export GRADLE_USER_HOME=${CI_PROJECT_DIR}/.gradle\r\n    \r\n    gradle-build:\r\n      &lt;&lt;: *gradle_definition\r\n      stage: gradle-build\r\n      script:\r\n        - chmod +x ./gradlew\r\n        - ./gradlew --build-cache assemble\r\n      cache:\r\n        key: &quot;$CI_COMMIT_REF_NAME&quot;\r\n        paths:\r\n          - build\r\n          - .gradle\r\n      artifacts:\r\n        paths:\r\n          - build/libs/*.jar\r\n        expire_in: 1 day\r\n      only:\r\n        - feature/multi-browsers\r\n    \r\n    chrome-test:\r\n      stage: docker-test\r\n      image:\r\n        name: docker/compose:1.29.2\r\n        entrypoint: [ &quot;/bin/sh&quot;, &quot;-c&quot; ]\r\n      services:\r\n        - docker:19.03.12-dind\r\n      variables:\r\n        DOCKER_TLS_CERTDIR: &quot;&quot;\r\n        DOCKER_DRIVER: overlay2\r\n        DOCKER_HOST: tcp://docker:2375/\r\n      cache:\r\n        key: &quot;$CI_COMMIT_REF_NAME&quot;\r\n        policy: pull\r\n        paths:\r\n          - build\r\n          - .gradle\r\n      dependencies:\r\n        - gradle-build\r\n      before_script:\r\n        - docker info\r\n        - docker-compose --version\r\n      script:\r\n        - apk add --no-cache docker-compose\r\n        - apk add openjdk11\r\n        - docker-compose down\r\n        - docker-compose up --build --force-recreate --no-deps -d\r\n        - echo &quot;Hello, chrome-test&quot;\r\n        - chmod +x ./gradlew\r\n        - ./gradlew :test --tests &quot;LogInTest_chrome&quot;\r\n      artifacts:\r\n        when: always\r\n        reports:\r\n          junit: build/test-results/test/**/TEST-*.xml\r\n        paths:\r\n          - build/reports/*\r\n        expire_in: 1 day\r\n      only:\r\n        - feature/multi-browsers\r\n\r\n\r\nI wonder if someone has experience with this download test in gitlab CI. I think the download path I set maybe not work in gitlab CI. I even have no ideas how to check if a file is downloaded or not it gitlab CI.\r\n\r\n","title":"How to set up a selenium test of download a file in Gitlab CI","body":"<p>I am writing a selenium test to verify a file being downloaded. It works fine in locally. And I can easily access the file both through the 'target' folder and inside the container /home/seluser/Downloads.</p>\n<p>The test script is:</p>\n<pre><code>@BeforeMethod\npublic void setUp() throws  MalformedURLException {\n\n    folder = new File(&quot;target&quot;);\n    \n    for(File file : folder.listFiles()) {\n        file.delete();\n    } \n\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;chromedriver.exe&quot;);\n    ChromeOptions options = new ChromeOptions();\n\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n    prefs.put(&quot;profile.default_content_settings.popups&quot;, 0);\n    prefs.put(&quot;download.default_directory&quot;, folder.getAbsolutePath());\n\n    options.setExperimentalOption(&quot;prefs&quot;, prefs);\n    DesiredCapabilities cap = new DesiredCapabilities();\n    cap.setBrowserName(&quot;chrome&quot;);\n    cap.setCapability(ChromeOptions.CAPABILITY, options);\n\n    //driver = new ChromeDriver(cap);\n    //driver = new RemoteWebDriver(new URL(&quot;http://localhost:4444/wd/hub&quot;), cap);\n    driver = new RemoteWebDriver(new URL(&quot;http://docker:4444/wd/hub&quot;), cap);\n}\n\n@AfterMethod\npublic void tearDown() {\n    driver.quit();\n}\n\n@Test\npublic void downloadFileTest() throws InterruptedException {\n    driver.get(&quot;http://the-internet.herokuapp.com/download&quot;);\n    driver.findElement(By.linkText(&quot;some-file.txt&quot;)).click();\n\n    Thread.sleep(2000);\n    File listOffFiles[] = folder.listFiles();\n    Assert.assertTrue(listOffFiles.length &gt; 0);\n\n    for(File file : listOffFiles) {\n        Assert.assertTrue(file.length() &gt; 0);\n    } \n}\n</code></pre>\n<p>Let me explain a little. First I create a folder named &quot;target&quot; in the project root repository. Then I set the download path in the chrome docker comtainer via container volumes in docker-compose file.</p>\n<pre><code>version: &quot;3&quot;\nservices:\n  chrome:\n    image: selenium/node-chrome:4.0.0-20211013\n    container_name: chrome\n    shm_size: 2gb\n    depends_on:\n      - selenium-hub\n    volumes:\n      - ./target:/home/seluser/Downloads\n    environment:\n      - SE_EVENT_BUS_HOST=selenium-hub\n      - SE_EVENT_BUS_PUBLISH_PORT=4442\n      - SE_EVENT_BUS_SUBSCRIBE_PORT=4443\n      - SE_NODE_GRID_URL=http://localhost:4444\n    ports:\n      - &quot;6900:5900&quot;\n  selenium-hub:\n    image: selenium/hub:4.0.0-20211013\n    container_name: selenium-hub\n    ports:\n      - &quot;4444:4444&quot;\n</code></pre>\n<p>This setting works fine locally. when I run it in the gitlab CI, i cannot push a empty fold to gitlab, so i have to create a file and store it in the folder and push it to gitlab. But it the test script, I delete this file in the setup stage in case it disturb the assertion. But the pipeline fails. The result does not give me more details , just said the assertionException. Here is the gitlab-ci.yml:</p>\n<pre><code>image: adoptopenjdk/openjdk11\n\nstages:\n  - gradle-build\n  - docker-test\n\n.gradle_template: &amp;gradle_definition\n  variables:\n    GRADLE_OPTS: &quot;-Dorg.gradle.daemon=false&quot;\n  before_script:\n    - export GRADLE_USER_HOME=${CI_PROJECT_DIR}/.gradle\n\ngradle-build:\n  &lt;&lt;: *gradle_definition\n  stage: gradle-build\n  script:\n    - chmod +x ./gradlew\n    - ./gradlew --build-cache assemble\n  cache:\n    key: &quot;$CI_COMMIT_REF_NAME&quot;\n    paths:\n      - build\n      - .gradle\n  artifacts:\n    paths:\n      - build/libs/*.jar\n    expire_in: 1 day\n  only:\n    - feature/multi-browsers\n\nchrome-test:\n  stage: docker-test\n  image:\n    name: docker/compose:1.29.2\n    entrypoint: [ &quot;/bin/sh&quot;, &quot;-c&quot; ]\n  services:\n    - docker:19.03.12-dind\n  variables:\n    DOCKER_TLS_CERTDIR: &quot;&quot;\n    DOCKER_DRIVER: overlay2\n    DOCKER_HOST: tcp://docker:2375/\n  cache:\n    key: &quot;$CI_COMMIT_REF_NAME&quot;\n    policy: pull\n    paths:\n      - build\n      - .gradle\n  dependencies:\n    - gradle-build\n  before_script:\n    - docker info\n    - docker-compose --version\n  script:\n    - apk add --no-cache docker-compose\n    - apk add openjdk11\n    - docker-compose down\n    - docker-compose up --build --force-recreate --no-deps -d\n    - echo &quot;Hello, chrome-test&quot;\n    - chmod +x ./gradlew\n    - ./gradlew :test --tests &quot;LogInTest_chrome&quot;\n  artifacts:\n    when: always\n    reports:\n      junit: build/test-results/test/**/TEST-*.xml\n    paths:\n      - build/reports/*\n    expire_in: 1 day\n  only:\n    - feature/multi-browsers\n</code></pre>\n<p>I wonder if someone has experience with this download test in gitlab CI. I think the download path I set maybe not work in gitlab CI. I even have no ideas how to check if a file is downloaded or not it gitlab CI.</p>\n"},{"tags":["java","android","performance","android-studio","android-layout"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":0,"creation_date":1645876340,"post_id":71276351,"comment_id":125988947,"body_markdown":"`String s1 = &quot;I am&quot;; String s2 = &quot;Hello Dear&quot;`?","body":"<code>String s1 = &quot;I am&quot;; String s2 = &quot;Hello Dear&quot;</code>?"},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1645882687,"post_id":71276351,"comment_id":125990115,"body_markdown":"https://stackoverflow.com/help/tagging","body":"<a href=\"https://stackoverflow.com/help/tagging\">stackoverflow.com/help/tagging</a>"}],"answers":[{"tags":[],"owner":{"account_id":14186902,"reputation":229,"user_id":10248593,"display_name":"Jinal Patel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645877542,"creation_date":1645876863,"answer_id":71276449,"question_id":71276351,"body_markdown":"You can split string by space(&quot; &quot;)\r\n\r\n    String TextOne = &quot;I am a Beginner&quot;;\r\n    String[] strList = TextOne.split(&quot; &quot;); //[&quot;I&quot;, &quot;am&quot;, &quot;a&quot;, &quot;Beginner&quot;]\r\n    String finalTextOne = strList[0] + &quot; &quot; + strList[1];  \r\n    Log.e(&quot;finalTextOne: &quot;, finalTextOne); // It will print &quot;I am&quot;","title":"How to get first two word from a string value","body":"<p>You can split string by space(&quot; &quot;)</p>\n<pre><code>String TextOne = &quot;I am a Beginner&quot;;\nString[] strList = TextOne.split(&quot; &quot;); //[&quot;I&quot;, &quot;am&quot;, &quot;a&quot;, &quot;Beginner&quot;]\nString finalTextOne = strList[0] + &quot; &quot; + strList[1];  \nLog.e(&quot;finalTextOne: &quot;, finalTextOne); // It will print &quot;I am&quot;\n</code></pre>\n"}],"owner":{"account_id":22805515,"reputation":19,"user_id":16957613,"display_name":"Shakil Hossen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71276449,"answer_count":1,"score":-1,"last_activity_date":1645877542,"creation_date":1645875855,"question_id":71276351,"body_markdown":"I have two String: &quot;I am a Beginner&quot;, &quot;Hello Dear App Developer&quot;\r\nHow can I get only the first two words using Java &quot;I am&quot; &quot;Hello Dear&quot;\r\n\r\n    String TextOne = &quot;I am a Beginner&quot;\r\n    String TextTwo = &quot;Hello Dear App Developer&quot;\r\n    I need only &quot;I am&quot; and &quot;Hello Dear&quot;","title":"How to get first two word from a string value","body":"<p>I have two String: &quot;I am a Beginner&quot;, &quot;Hello Dear App Developer&quot;\nHow can I get only the first two words using Java &quot;I am&quot; &quot;Hello Dear&quot;</p>\n<pre><code>String TextOne = &quot;I am a Beginner&quot;\nString TextTwo = &quot;Hello Dear App Developer&quot;\nI need only &quot;I am&quot; and &quot;Hello Dear&quot;\n</code></pre>\n"},{"tags":["java","spring","cron"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1645878497,"post_id":71276457,"comment_id":125989294,"body_markdown":"Why would `&quot;2022-01-25T08:00:00&quot; &quot;2022-01-25T08:30:00&quot;` translate to `&quot;0 0/30 8-9 * * *&quot;`? Even if we ignore the date, I would expect  `&quot;0 0/30 8 * * *&quot;`","body":"Why would <code>&quot;2022-01-25T08:00:00&quot; &quot;2022-01-25T08:30:00&quot;</code> translate to <code>&quot;0 0&#47;30 8-9 * * *&quot;</code>? Even if we ignore the date, I would expect  <code>&quot;0 0&#47;30 8 * * *&quot;</code>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1645878499,"post_id":71276457,"comment_id":125989295,"body_markdown":"More details are needed.  Why are you ignoring the date?  Do you have to use a ‘step’ value (`/30`)?","body":"More details are needed.  Why are you ignoring the date?  Do you have to use a ‘step’ value (<code>&#47;30</code>)?"},{"owner":{"account_id":24381794,"reputation":11,"user_id":18313264,"display_name":"jabrjabr"},"score":0,"creation_date":1645883310,"post_id":71276457,"comment_id":125990244,"body_markdown":"Full task - &quot;develop a Java mechanism for converting a list of dates with time in cron&quot;. The example that I gave is just an example for understanding, unfortunately I made a mistake and the example is incorrect","body":"Full task - &quot;develop a Java mechanism for converting a list of dates with time in cron&quot;. The example that I gave is just an example for understanding, unfortunately I made a mistake and the example is incorrect"}],"owner":{"account_id":24381794,"reputation":11,"user_id":18313264,"display_name":"jabrjabr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645876909,"creation_date":1645876909,"question_id":71276457,"body_markdown":"I&#39;ve been struggling with searching for information for half a day and I can&#39;t find anything at all\r\n\r\nThe input is a list with date and time (Examples: Input: &quot;2022-01-25T08:00:00&quot; &quot;2022-01-25T08:30:00&quot; )\r\n\r\non the output, you need to get them in cron format. (Output: &quot;0 0/30 8-9 * * *&quot; )\r\nPlease tell me how to get this result","title":"Convert list of dates and times to cron format (java)","body":"<p>I've been struggling with searching for information for half a day and I can't find anything at all</p>\n<p>The input is a list with date and time (Examples: Input: &quot;2022-01-25T08:00:00&quot; &quot;2022-01-25T08:30:00&quot; )</p>\n<p>on the output, you need to get them in cron format. (Output: &quot;0 0/30 8-9 * * *&quot; )\nPlease tell me how to get this result</p>\n"},{"tags":["java","android","fragment","refresh"],"answers":[{"tags":[],"owner":{"account_id":16740979,"reputation":2260,"user_id":12100652,"display_name":"Karunesh Palekar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645860312,"creation_date":1645860312,"answer_id":71274819,"question_id":71273752,"body_markdown":"You can make use of SwipeRefreshLayout to achieve your goals \r\n\r\nStep 1 : \r\nAdd the following dependency to your gradle(app):\r\n```\r\ndependencies {\r\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\r\n}\r\n```\r\n\r\nStep 2 : Wrap your RecyclerView with SwipeRefreshLayout in the XML Layout :\r\n```\r\n&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:id=&quot;@+id/swiperefresh&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;RecyclerView\r\n        android:id=&quot;@android:id/recyclerview&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot; /&gt;\r\n\r\n&lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n````\r\nStep 3:Call the setOnRefreshListener Method on the SwipeRefreshLayout :\r\n\r\n```\r\nmySwipeRefreshLayout.setOnRefreshListener(\r\n    new SwipeRefreshLayout.OnRefreshListener() {\r\n        @Override\r\n        public void onRefresh() {\r\n            Log.i(LOG_TAG, &quot;onRefresh called from SwipeRefreshLayout&quot;);\r\n            //Get data from Firestore by calling the respective function which in your case seems the following based on the role  :\r\n\r\n        if(role.equals(&quot;user&quot;)) {\r\n            viewModel.setListPengaduanUserByUid(user.getUid());\r\n        }\r\n        else {\r\n            viewModel.setListPengaduanAdminByUid(user.getUid());\r\n        }\r\n     }\r\n   }\r\n);\r\n\r\n```","title":"How do I implements pull to refresh on binding fragment?","body":"<p>You can make use of SwipeRefreshLayout to achieve your goals</p>\n<p>Step 1 :\nAdd the following dependency to your gradle(app):</p>\n<pre><code>dependencies {\n    implementation &quot;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&quot;\n}\n</code></pre>\n<p>Step 2 : Wrap your RecyclerView with SwipeRefreshLayout in the XML Layout :</p>\n<pre><code>&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/swiperefresh&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;RecyclerView\n        android:id=&quot;@android:id/recyclerview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n<p>Step 3:Call the setOnRefreshListener Method on the SwipeRefreshLayout :</p>\n<pre><code>mySwipeRefreshLayout.setOnRefreshListener(\n    new SwipeRefreshLayout.OnRefreshListener() {\n        @Override\n        public void onRefresh() {\n            Log.i(LOG_TAG, &quot;onRefresh called from SwipeRefreshLayout&quot;);\n            //Get data from Firestore by calling the respective function which in your case seems the following based on the role  :\n\n        if(role.equals(&quot;user&quot;)) {\n            viewModel.setListPengaduanUserByUid(user.getUid());\n        }\n        else {\n            viewModel.setListPengaduanAdminByUid(user.getUid());\n        }\n     }\n   }\n);\n\n</code></pre>\n"}],"owner":{"account_id":17890944,"reputation":21,"user_id":12997414,"display_name":"Pramudyaking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1645876781,"creation_date":1645844388,"question_id":71273752,"body_markdown":"This is my Fragment class\r\n\r\n```java\r\npublic class PengaduanFragment extends Fragment {\r\n\r\n    private FragmentPengaduanBinding binding;\r\n    private PengaduanAdapter adapter;\r\n    private final FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        checkRole();\r\n    }\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater,\r\n                             ViewGroup container, Bundle savedInstanceState) {\r\n\r\n\r\n        binding = FragmentPengaduanBinding.inflate(inflater, container, false);\r\n        return binding.getRoot();\r\n    }\r\n\r\n//get data from firestore\r\n    private void checkRole() {\r\n        FirebaseFirestore\r\n                .getInstance()\r\n                .collection(&quot;users&quot;)\r\n                .document(user.getUid())\r\n                .get()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                    @SuppressLint(&quot;SetTextI18n&quot;)\r\n                    @Override\r\n                    public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                        String role = &quot;&quot; + documentSnapshot.get(&quot;role&quot;);\r\n\r\n                        if(role.equals(&quot;user&quot;)) {\r\n                            binding.title.setText(&quot;Pengaduan Terkirim&quot;);\r\n                            binding.keterangan.setText(&quot;Pengaduan Terkirim\\nKe Admin SIMRS&quot;);\r\n                        } else {\r\n                            binding.title.setText(&quot;Pengaduan Masuk&quot;);\r\n                            binding.keterangan.setVisibility(View.GONE);\r\n                            //binding.keterangan.setText(&quot;Pengaduan Masuk\\ndari Pegawai&quot;);\r\n                        }\r\n\r\n                        initRecyclerView(role);\r\n                        initViewModel(role);\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n    private void initRecyclerView(String role) {\r\n        binding.rvPengaduan.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n        adapter = new PengaduanAdapter(role, &quot;&quot;);\r\n        binding.rvPengaduan.setAdapter(adapter);\r\n    }\r\n\r\n    private void initViewModel(String role) {\r\n        PengaduanViewModel viewModel = new ViewModelProvider(this).get(PengaduanViewModel.class);\r\n        binding.progressBar.setVisibility(View.VISIBLE);\r\n        if(role.equals(&quot;user&quot;)) {\r\n            viewModel.setListPengaduanUserByUid(user.getUid());\r\n        }\r\n        else {\r\n            viewModel.setListPengaduanAdminByUid(user.getUid());\r\n        }\r\n        viewModel.getPengaduan().observe(this, pengaduanModelArrayList -&gt; {\r\n            if (pengaduanModelArrayList.size() &gt; 0) {\r\n                if(role.equals(&quot;user&quot;)) {\r\n                    binding.noDataUser.setVisibility(View.GONE);\r\n                } else {\r\n                    binding.noDataAdmin.setVisibility(View.GONE);\r\n                }\r\n                adapter.setData(pengaduanModelArrayList);\r\n            } else {\r\n                if(role.equals(&quot;user&quot;)) {\r\n                    binding.noDataUser.setVisibility(View.VISIBLE);\r\n                } else {\r\n                    binding.noDataAdmin.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n            binding.progressBar.setVisibility(View.GONE);\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n        binding = null;\r\n    }\r\n}\r\n```\r\n\r\nThis is my adapter\r\n\r\n```java\r\npublic class PengaduanAdapter extends RecyclerView.Adapter&lt;PengaduanAdapter.ViewHolder&gt; {\r\n\r\n    private final ArrayList&lt;PengaduanModel&gt; listPengaduan = new ArrayList&lt;&gt;();\r\n\r\n    String role, page;\r\n    public PengaduanAdapter(String role, String page) {\r\n        this.role = role;\r\n        this.page = page;\r\n    }\r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    public void setData(ArrayList&lt;PengaduanModel&gt; items) {\r\n        listPengaduan.clear();\r\n        listPengaduan.addAll(items);\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public PengaduanAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_pengaduan, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull PengaduanAdapter.ViewHolder holder, int position) {\r\n        holder.bind(listPengaduan.get(position), role, page, listPengaduan);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return listPengaduan.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView name, unit, lastMessage, date;\r\n        ImageView image, check, delete;\r\n        ConstraintLayout cv;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            name = itemView.findViewById(R.id.name);\r\n            unit = itemView.findViewById(R.id.unit);\r\n            lastMessage = itemView.findViewById(R.id.lastMessage);\r\n            date = itemView.findViewById(R.id.date);\r\n            image = itemView.findViewById(R.id.image);\r\n            check = itemView.findViewById(R.id.imageView);\r\n            cv = itemView.findViewById(R.id.cv);\r\n            delete = itemView.findViewById(R.id.delete);\r\n        }\r\n\r\n        @SuppressLint({&quot;SetTextI18n&quot;, &quot;NotifyDataSetChanged&quot;})\r\n        public void bind(PengaduanModel model, String role, String page, ArrayList&lt;PengaduanModel&gt; listPengaduan) {\r\n            if(page.equals(&quot;dashboard&quot;)) {\r\n                check.setVisibility(View.VISIBLE);\r\n            } else {\r\n                delete.setVisibility(View.GONE);\r\n            }\r\n\r\n            if(role.equals(&quot;user&quot;)){\r\n                Glide.with(itemView.getContext())\r\n                        .load(model.getAdminImage())\r\n                        .into(image);\r\n                name.setText(model.getAdminName());\r\n                unit.setText(&quot;Unit: &quot; +model.getAdminUnit());\r\n            } else {\r\n                Glide.with(itemView.getContext())\r\n                        .load(model.getUserImage())\r\n                        .into(image);\r\n                name.setText(model.getUserName());\r\n                unit.setText(&quot;Unit: &quot; + model.getUserUnit());\r\n            }\r\n            lastMessage.setText(&quot;Pesan: &quot; + model.getMessage());\r\n            date.setText(model.getDate());\r\n            cv.setOnClickListener(view -&gt; {\r\n                Intent intent = new Intent(itemView.getContext(), MessageActivity.class);\r\n                intent.putExtra(MessageActivity.EXTRA_DATA, model);\r\n                intent.putExtra(MessageActivity.ROLE, role);\r\n                itemView.getContext().startActivity(intent);\r\n            });\r\n\r\n            delete.setOnClickListener(view -&gt; {\r\n                new AlertDialog.Builder(itemView.getContext())\r\n                        .setTitle(&quot;Konfirmasi Laporan Selesai&quot;)\r\n                        .setMessage(&quot;Anda yakin ingin menyelesaikan laporan ini?&quot;)\r\n                        .setIcon(R.drawable.ic_baseline_warning_24)\r\n                        .setPositiveButton(&quot;SETUJU&quot;, (dialogInterface, i) -&gt; {\r\n                            dialogInterface.dismiss();\r\n                            ProgressDialog mProgressDialog = new ProgressDialog(itemView.getContext());\r\n\r\n                            mProgressDialog.setMessage(&quot;Mohon tunggu hingga proses selesai...&quot;);\r\n                            mProgressDialog.setCanceledOnTouchOutside(false);\r\n                            mProgressDialog.show();\r\n\r\n                            FirebaseFirestore\r\n                                    .getInstance()\r\n                                    .collection(&quot;report&quot;)\r\n                                    .document(model.getUid())\r\n                                    .update(&quot;status&quot;, &quot;finish&quot;)\r\n                                    .addOnCompleteListener(task -&gt; {\r\n                                        if(task.isSuccessful()) {\r\n                                            //listPengaduan.remove(listPengaduan.get(getLayoutPosition()));\r\n                                            delete.setColorFilter(Color.argb(255, 0, 255, 0));\r\n                                            notifyDataSetChanged();\r\n                                            mProgressDialog.dismiss();\r\n                                            Toast.makeText(itemView.getContext(), &quot;Berhasil menyelesaikan laporan.&quot;, Toast.LENGTH_SHORT).show();\r\n                                        } else {\r\n                                            mProgressDialog.dismiss();\r\n                                            Toast.makeText(itemView.getContext(), &quot;Gagal menyelesaikan laporan, mohon periksa internet anda dan coba lagi nanti.&quot;, Toast.LENGTH_SHORT).show();\r\n                                        }\r\n                                    });\r\n                        })\r\n                        .setNegativeButton(&quot;TIDAK&quot;, null)\r\n                        .show();\r\n\r\n            });\r\n\r\n        }\r\n    }\r\n}\r\n```\r\nPlease help me how to fix this?\r\n","title":"How do I implements pull to refresh on binding fragment?","body":"<p>This is my Fragment class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PengaduanFragment extends Fragment {\n\n    private FragmentPengaduanBinding binding;\n    private PengaduanAdapter adapter;\n    private final FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        checkRole();\n    }\n\n    public View onCreateView(@NonNull LayoutInflater inflater,\n                             ViewGroup container, Bundle savedInstanceState) {\n\n\n        binding = FragmentPengaduanBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n//get data from firestore\n    private void checkRole() {\n        FirebaseFirestore\n                .getInstance()\n                .collection(&quot;users&quot;)\n                .document(user.getUid())\n                .get()\n                .addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                    @SuppressLint(&quot;SetTextI18n&quot;)\n                    @Override\n                    public void onSuccess(DocumentSnapshot documentSnapshot) {\n                        String role = &quot;&quot; + documentSnapshot.get(&quot;role&quot;);\n\n                        if(role.equals(&quot;user&quot;)) {\n                            binding.title.setText(&quot;Pengaduan Terkirim&quot;);\n                            binding.keterangan.setText(&quot;Pengaduan Terkirim\\nKe Admin SIMRS&quot;);\n                        } else {\n                            binding.title.setText(&quot;Pengaduan Masuk&quot;);\n                            binding.keterangan.setVisibility(View.GONE);\n                            //binding.keterangan.setText(&quot;Pengaduan Masuk\\ndari Pegawai&quot;);\n                        }\n\n                        initRecyclerView(role);\n                        initViewModel(role);\n\n                    }\n                });\n    }\n\n    private void initRecyclerView(String role) {\n        binding.rvPengaduan.setLayoutManager(new LinearLayoutManager(getActivity()));\n        adapter = new PengaduanAdapter(role, &quot;&quot;);\n        binding.rvPengaduan.setAdapter(adapter);\n    }\n\n    private void initViewModel(String role) {\n        PengaduanViewModel viewModel = new ViewModelProvider(this).get(PengaduanViewModel.class);\n        binding.progressBar.setVisibility(View.VISIBLE);\n        if(role.equals(&quot;user&quot;)) {\n            viewModel.setListPengaduanUserByUid(user.getUid());\n        }\n        else {\n            viewModel.setListPengaduanAdminByUid(user.getUid());\n        }\n        viewModel.getPengaduan().observe(this, pengaduanModelArrayList -&gt; {\n            if (pengaduanModelArrayList.size() &gt; 0) {\n                if(role.equals(&quot;user&quot;)) {\n                    binding.noDataUser.setVisibility(View.GONE);\n                } else {\n                    binding.noDataAdmin.setVisibility(View.GONE);\n                }\n                adapter.setData(pengaduanModelArrayList);\n            } else {\n                if(role.equals(&quot;user&quot;)) {\n                    binding.noDataUser.setVisibility(View.VISIBLE);\n                } else {\n                    binding.noDataAdmin.setVisibility(View.VISIBLE);\n                }\n            }\n            binding.progressBar.setVisibility(View.GONE);\n        });\n    }\n\n    @Override\n    public void onDestroyView() {\n        super.onDestroyView();\n        binding = null;\n    }\n}\n</code></pre>\n<p>This is my adapter</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PengaduanAdapter extends RecyclerView.Adapter&lt;PengaduanAdapter.ViewHolder&gt; {\n\n    private final ArrayList&lt;PengaduanModel&gt; listPengaduan = new ArrayList&lt;&gt;();\n\n    String role, page;\n    public PengaduanAdapter(String role, String page) {\n        this.role = role;\n        this.page = page;\n    }\n\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n    public void setData(ArrayList&lt;PengaduanModel&gt; items) {\n        listPengaduan.clear();\n        listPengaduan.addAll(items);\n        notifyDataSetChanged();\n    }\n\n    @NonNull\n    @Override\n    public PengaduanAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_pengaduan, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull PengaduanAdapter.ViewHolder holder, int position) {\n        holder.bind(listPengaduan.get(position), role, page, listPengaduan);\n    }\n\n    @Override\n    public int getItemCount() {\n        return listPengaduan.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        TextView name, unit, lastMessage, date;\n        ImageView image, check, delete;\n        ConstraintLayout cv;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            name = itemView.findViewById(R.id.name);\n            unit = itemView.findViewById(R.id.unit);\n            lastMessage = itemView.findViewById(R.id.lastMessage);\n            date = itemView.findViewById(R.id.date);\n            image = itemView.findViewById(R.id.image);\n            check = itemView.findViewById(R.id.imageView);\n            cv = itemView.findViewById(R.id.cv);\n            delete = itemView.findViewById(R.id.delete);\n        }\n\n        @SuppressLint({&quot;SetTextI18n&quot;, &quot;NotifyDataSetChanged&quot;})\n        public void bind(PengaduanModel model, String role, String page, ArrayList&lt;PengaduanModel&gt; listPengaduan) {\n            if(page.equals(&quot;dashboard&quot;)) {\n                check.setVisibility(View.VISIBLE);\n            } else {\n                delete.setVisibility(View.GONE);\n            }\n\n            if(role.equals(&quot;user&quot;)){\n                Glide.with(itemView.getContext())\n                        .load(model.getAdminImage())\n                        .into(image);\n                name.setText(model.getAdminName());\n                unit.setText(&quot;Unit: &quot; +model.getAdminUnit());\n            } else {\n                Glide.with(itemView.getContext())\n                        .load(model.getUserImage())\n                        .into(image);\n                name.setText(model.getUserName());\n                unit.setText(&quot;Unit: &quot; + model.getUserUnit());\n            }\n            lastMessage.setText(&quot;Pesan: &quot; + model.getMessage());\n            date.setText(model.getDate());\n            cv.setOnClickListener(view -&gt; {\n                Intent intent = new Intent(itemView.getContext(), MessageActivity.class);\n                intent.putExtra(MessageActivity.EXTRA_DATA, model);\n                intent.putExtra(MessageActivity.ROLE, role);\n                itemView.getContext().startActivity(intent);\n            });\n\n            delete.setOnClickListener(view -&gt; {\n                new AlertDialog.Builder(itemView.getContext())\n                        .setTitle(&quot;Konfirmasi Laporan Selesai&quot;)\n                        .setMessage(&quot;Anda yakin ingin menyelesaikan laporan ini?&quot;)\n                        .setIcon(R.drawable.ic_baseline_warning_24)\n                        .setPositiveButton(&quot;SETUJU&quot;, (dialogInterface, i) -&gt; {\n                            dialogInterface.dismiss();\n                            ProgressDialog mProgressDialog = new ProgressDialog(itemView.getContext());\n\n                            mProgressDialog.setMessage(&quot;Mohon tunggu hingga proses selesai...&quot;);\n                            mProgressDialog.setCanceledOnTouchOutside(false);\n                            mProgressDialog.show();\n\n                            FirebaseFirestore\n                                    .getInstance()\n                                    .collection(&quot;report&quot;)\n                                    .document(model.getUid())\n                                    .update(&quot;status&quot;, &quot;finish&quot;)\n                                    .addOnCompleteListener(task -&gt; {\n                                        if(task.isSuccessful()) {\n                                            //listPengaduan.remove(listPengaduan.get(getLayoutPosition()));\n                                            delete.setColorFilter(Color.argb(255, 0, 255, 0));\n                                            notifyDataSetChanged();\n                                            mProgressDialog.dismiss();\n                                            Toast.makeText(itemView.getContext(), &quot;Berhasil menyelesaikan laporan.&quot;, Toast.LENGTH_SHORT).show();\n                                        } else {\n                                            mProgressDialog.dismiss();\n                                            Toast.makeText(itemView.getContext(), &quot;Gagal menyelesaikan laporan, mohon periksa internet anda dan coba lagi nanti.&quot;, Toast.LENGTH_SHORT).show();\n                                        }\n                                    });\n                        })\n                        .setNegativeButton(&quot;TIDAK&quot;, null)\n                        .show();\n\n            });\n\n        }\n    }\n}\n</code></pre>\n<p>Please help me how to fix this?</p>\n"},{"tags":["java","loops"],"answers":[{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645853508,"creation_date":1645853508,"answer_id":71274315,"question_id":71274062,"body_markdown":"Simply loop if the result is &quot;Tie&quot;\r\n```\r\nString result = &quot;&quot;;\r\nwhile(result.equals(&quot;&quot;) || result.equals(&quot;Tie&quot;)){\r\n   // do the for loop\r\n}\r\n\r\n```","title":"How do I create a loop that repeats drawing a random rank and suit for two playing cards until one rank is higher and there is a clear winner?","body":"<p>Simply loop if the result is &quot;Tie&quot;</p>\n<pre><code>String result = &quot;&quot;;\nwhile(result.equals(&quot;&quot;) || result.equals(&quot;Tie&quot;)){\n   // do the for loop\n}\n\n</code></pre>\n"}],"owner":{"account_id":22306351,"reputation":15,"user_id":16673362,"display_name":"JSO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71274315,"answer_count":1,"score":0,"last_activity_date":1645876539,"creation_date":1645849415,"question_id":71274062,"body_markdown":"    public class War2\r\n    {\r\n    \tpublic void warCall()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;WAR is CALLED!&quot;);\r\n    \t\t\r\n    \t\tfor(int counter = 1; counter &lt;= 11; ++counter)\r\n    \t\t{\r\n    \t\t\tDealer gameDealer = new Dealer();\r\n    \t\t\tCard computerCard = new Card();\r\n    \t\t\tCard playerCard = new Card();\r\n    \t\t\tString computerCardSuit = computerCard.getSuit((int)(Math.random() * 100) % 4 + 1);\r\n    \t\t\tint computerCardRank = computerCard.getRank();\r\n    \t\t\tString playerCardSuit = playerCard.getSuit((int)(Math.random() * 100) % 4 + 1);\r\n    \t\t\tint playerCardRank = playerCard.getRank();\r\n    \t\t\tboolean playerWins = (playerCardRank &gt; computerCardRank);\r\n    \t\t\tboolean computerWins = (computerCardRank &gt; playerCardRank);\r\n    \t\t\tboolean tie = (computerCardRank == playerCardRank);\r\n    \t\t\tString result = &quot;&quot;;\t\r\n    \t\t\t\r\n    \t\t\tif(counter &lt; 11)\r\n    \t\t\t\tresult = &quot;Discard&quot;;\r\n    \t\t\t\r\n    \t\t\tif(counter == 11 &amp;&amp; (computerWins))\r\n    \t\t\t\tresult = &quot;Computer wins&quot;;\r\n    \t\t\telse\r\n    \t\t\t\tif(counter == 11 &amp;&amp; (playerWins))\r\n    \t\t\t\t\tresult = &quot;Player wins&quot;;\r\n    \t\t\t\telse\r\n    \t\t\t\t\tif(counter == 11 &amp;&amp; (tie))\r\n    \t\t\t\t\t\tresult = &quot;Tie&quot;;\t\r\n    \t\t\t\r\n    \t\t\tSystem.out.println(computerCardRank + &quot; of &quot; + computerCardSuit + &quot;\\t\\t&quot; + \r\n    \t\t\t\tplayerCardRank + &quot; of &quot; + playerCardSuit + &quot;\\t\\t&quot; + result);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\nThis class(War2) and its method( warCall() ) are called from another class when there is a tie in a game of War. This is the way the output looks:\r\n\r\nThis is the way the game starts. This part of the program works fine.A Dealer class executes the code below. When the result is a tie (card ranks are equal, in this case 4), the Dealer class invokes the warCall() method from the War2 class. The car suit is assigned randomly using a switch statement from a randomly drawn number from 1 to 4. The getSuit() method takes an integer argument but returns a String, depending on the random number drawn. This information doesn&#39;t relate exactly to my question, but I want to give an idea of how the program works.\r\n\r\n```none\r\n--------------------------------------------------------\r\nComputer Player         Human Player            Result\r\n4 of Clubs              4 of Hearts             Tie\r\n-------------------------------------------------------\r\n```\r\n\r\nThis is the output from the War2 class:\r\n\r\n```none\r\nWAR is CALLED!\r\n2 of Hearts             12 of Clubs             Discard\r\n10 of Spades            3 of Spades             Discard\r\n8 of Spades             1 of Clubs              Discard\r\n4 of Spades             13 of Hearts            Discard\r\n1 of Diamonds           6 of Spades             Discard\r\n3 of Diamonds           3 of Diamonds           Discard\r\n11 of Diamonds          10 of Hearts            Discard\r\n8 of Hearts             9 of Clubs              Discard\r\n13 of Hearts            9 of Diamonds           Discard\r\n1 of Diamonds           1 of Clubs              Discard\r\n3 of Spades             5 of Spades             Player wins\r\n```\r\n\r\nWhat I need is for the above process to repeat in the event of a tie (when counter is 11 and rank of both cards is the same), within the War2 class. I have attached my code for War2 so that you can see what I have done so far. How can I make all of this output repeat if there is a tie until there is a clear winner?  \r\n\r\nI have tried using do and do while loops without success.","title":"How do I create a loop that repeats drawing a random rank and suit for two playing cards until one rank is higher and there is a clear winner?","body":"<pre><code>public class War2\n{\n    public void warCall()\n    {\n        System.out.println(&quot;WAR is CALLED!&quot;);\n        \n        for(int counter = 1; counter &lt;= 11; ++counter)\n        {\n            Dealer gameDealer = new Dealer();\n            Card computerCard = new Card();\n            Card playerCard = new Card();\n            String computerCardSuit = computerCard.getSuit((int)(Math.random() * 100) % 4 + 1);\n            int computerCardRank = computerCard.getRank();\n            String playerCardSuit = playerCard.getSuit((int)(Math.random() * 100) % 4 + 1);\n            int playerCardRank = playerCard.getRank();\n            boolean playerWins = (playerCardRank &gt; computerCardRank);\n            boolean computerWins = (computerCardRank &gt; playerCardRank);\n            boolean tie = (computerCardRank == playerCardRank);\n            String result = &quot;&quot;; \n            \n            if(counter &lt; 11)\n                result = &quot;Discard&quot;;\n            \n            if(counter == 11 &amp;&amp; (computerWins))\n                result = &quot;Computer wins&quot;;\n            else\n                if(counter == 11 &amp;&amp; (playerWins))\n                    result = &quot;Player wins&quot;;\n                else\n                    if(counter == 11 &amp;&amp; (tie))\n                        result = &quot;Tie&quot;; \n            \n            System.out.println(computerCardRank + &quot; of &quot; + computerCardSuit + &quot;\\t\\t&quot; + \n                playerCardRank + &quot; of &quot; + playerCardSuit + &quot;\\t\\t&quot; + result);\n            \n            \n        }\n        \n    }\n}\n</code></pre>\n<p>This class(War2) and its method( warCall() ) are called from another class when there is a tie in a game of War. This is the way the output looks:</p>\n<p>This is the way the game starts. This part of the program works fine.A Dealer class executes the code below. When the result is a tie (card ranks are equal, in this case 4), the Dealer class invokes the warCall() method from the War2 class. The car suit is assigned randomly using a switch statement from a randomly drawn number from 1 to 4. The getSuit() method takes an integer argument but returns a String, depending on the random number drawn. This information doesn't relate exactly to my question, but I want to give an idea of how the program works.</p>\n<pre class=\"lang-none prettyprint-override\"><code>--------------------------------------------------------\nComputer Player         Human Player            Result\n4 of Clubs              4 of Hearts             Tie\n-------------------------------------------------------\n</code></pre>\n<p>This is the output from the War2 class:</p>\n<pre class=\"lang-none prettyprint-override\"><code>WAR is CALLED!\n2 of Hearts             12 of Clubs             Discard\n10 of Spades            3 of Spades             Discard\n8 of Spades             1 of Clubs              Discard\n4 of Spades             13 of Hearts            Discard\n1 of Diamonds           6 of Spades             Discard\n3 of Diamonds           3 of Diamonds           Discard\n11 of Diamonds          10 of Hearts            Discard\n8 of Hearts             9 of Clubs              Discard\n13 of Hearts            9 of Diamonds           Discard\n1 of Diamonds           1 of Clubs              Discard\n3 of Spades             5 of Spades             Player wins\n</code></pre>\n<p>What I need is for the above process to repeat in the event of a tie (when counter is 11 and rank of both cards is the same), within the War2 class. I have attached my code for War2 so that you can see what I have done so far. How can I make all of this output repeat if there is a tie until there is a clear winner?</p>\n<p>I have tried using do and do while loops without success.</p>\n"},{"tags":["java","bson","bsondocument"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645875793,"creation_date":1645783992,"answer_id":71264268,"question_id":71263654,"body_markdown":"Your fields in `geo.coordinate` are starting with dollar sign `$`. In theaterId you have `numberInt`, while in coordinate - `$numberDouble`.\r\n\r\nCheck the [docs][1] and [this][2] question for how to handle it depending on what you need. Considering, that it looks like `numberInt` satisfies your needs, you might just need to remove the dollars from field names.\r\n\r\n**Edit:** After digging somewhat deeper into those docs, the one you provided as well, `{&quot;numberInt&quot;: &quot;101100&quot;}` is not extended json with datatype, it&#39;s just a normal json object with property and value for that property. It would need to be `{&quot;$numberInt&quot;: &quot;101100&quot;}` to be extended json. On the other hand `{&quot;$numberDouble&quot;: &quot;-193.24565&quot;}` **is** extended. The datatype is not lost, it&#39;s parsed into `List&lt;Double&gt;`, since we know each element is of type `Double` the datatype can be reconstructed back.\r\n\r\nIf you take at `Document.toJson()`, under the hood it&#39;s working with `RELAXED` output mode, which will output coordinates as you are seeing them - `[-193.24565, 144.85466]`. If you provide `EXTENDED` output mode, for example like this:\r\n```\r\nJsonWriterSettings settings = JsonWriterSettings.builder().outputMode(JsonMode.EXTENDED).build();\r\nSystem.out.println(document.toJson(settings));\r\n```\r\nthen the datatype will be reconstructed back from the java type, and coordinates will look like so:\r\n```\r\n[{&quot;$numberDouble&quot;: &quot;-193.24565&quot;}, {&quot;$numberDouble&quot;: &quot;144.85466&quot;}]\r\n```\r\nIn conclusion, there is no problem with `Document.parse(&quot;json&quot;)`, but there might be a problem with the json you are supplying to it.\r\n\r\n**Edit2:**\r\nAs in showed in example, the datatypes can be reconstructed back from java types. I am not familiar with the way `collection.insertOne(Document.parse(json_string))` works under the hood, but if you don&#39;t explicitly specify the mode, it might be using `RELAXED` by default, instead of `EXTENDED`. The  docs [here][3] state - `This format prioritizes type preservation at the loss of human-readability and interoperability with older formats.`, so it would make sense. But this is just a **wild guess** on my part though, you would need to dig into docs to make sure.\r\n\r\n\r\n  [1]: https://docs.mongodb.com/manual/core/dot-dollar-considerations/\r\n  [2]: https://stackoverflow.com/questions/40542336/mongodb-insert-key-with-dollar\r\n  [3]: https://docs.mongodb.com/drivers/java/sync/v4.4/fundamentals/data-formats/document-data-format-extended-json/","title":"Document.parse() constructor not working for nested json array","body":"<p>Your fields in <code>geo.coordinate</code> are starting with dollar sign <code>$</code>. In theaterId you have <code>numberInt</code>, while in coordinate - <code>$numberDouble</code>.</p>\n<p>Check the <a href=\"https://docs.mongodb.com/manual/core/dot-dollar-considerations/\" rel=\"nofollow noreferrer\">docs</a> and <a href=\"https://stackoverflow.com/questions/40542336/mongodb-insert-key-with-dollar\">this</a> question for how to handle it depending on what you need. Considering, that it looks like <code>numberInt</code> satisfies your needs, you might just need to remove the dollars from field names.</p>\n<p><strong>Edit:</strong> After digging somewhat deeper into those docs, the one you provided as well, <code>{&quot;numberInt&quot;: &quot;101100&quot;}</code> is not extended json with datatype, it's just a normal json object with property and value for that property. It would need to be <code>{&quot;$numberInt&quot;: &quot;101100&quot;}</code> to be extended json. On the other hand <code>{&quot;$numberDouble&quot;: &quot;-193.24565&quot;}</code> <strong>is</strong> extended. The datatype is not lost, it's parsed into <code>List&lt;Double&gt;</code>, since we know each element is of type <code>Double</code> the datatype can be reconstructed back.</p>\n<p>If you take at <code>Document.toJson()</code>, under the hood it's working with <code>RELAXED</code> output mode, which will output coordinates as you are seeing them - <code>[-193.24565, 144.85466]</code>. If you provide <code>EXTENDED</code> output mode, for example like this:</p>\n<pre><code>JsonWriterSettings settings = JsonWriterSettings.builder().outputMode(JsonMode.EXTENDED).build();\nSystem.out.println(document.toJson(settings));\n</code></pre>\n<p>then the datatype will be reconstructed back from the java type, and coordinates will look like so:</p>\n<pre><code>[{&quot;$numberDouble&quot;: &quot;-193.24565&quot;}, {&quot;$numberDouble&quot;: &quot;144.85466&quot;}]\n</code></pre>\n<p>In conclusion, there is no problem with <code>Document.parse(&quot;json&quot;)</code>, but there might be a problem with the json you are supplying to it.</p>\n<p><strong>Edit2:</strong>\nAs in showed in example, the datatypes can be reconstructed back from java types. I am not familiar with the way <code>collection.insertOne(Document.parse(json_string))</code> works under the hood, but if you don't explicitly specify the mode, it might be using <code>RELAXED</code> by default, instead of <code>EXTENDED</code>. The  docs <a href=\"https://docs.mongodb.com/drivers/java/sync/v4.4/fundamentals/data-formats/document-data-format-extended-json/\" rel=\"nofollow noreferrer\">here</a> state - <code>This format prioritizes type preservation at the loss of human-readability and interoperability with older formats.</code>, so it would make sense. But this is just a <strong>wild guess</strong> on my part though, you would need to dig into docs to make sure.</p>\n"}],"owner":{"account_id":8078747,"reputation":102,"user_id":6120764,"display_name":"Dunggeon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71264268,"answer_count":1,"score":0,"last_activity_date":1645875793,"creation_date":1645781018,"question_id":71263654,"body_markdown":"I have one extended json string.\r\n\r\n    {&quot;_id&quot;: {&quot;oid&quot;: &quot;59a47286cfa9a3a73e51e72c&quot;}, &quot;theaterId&quot;: {&quot;numberInt&quot;: &quot;101100&quot;}, &quot;location&quot;: {&quot;address&quot;: {&quot;street1&quot;: &quot;340 XDW Market&quot;, &quot;city&quot;: &quot;Bloomington&quot;, &quot;state&quot;: &quot;MN&quot;, &quot;zipcode&quot;: &quot;12427&quot;}, &quot;geo&quot;: {&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [{&quot;$numberDouble&quot;: &quot;-193.24565&quot;}, {&quot;$numberDouble&quot;: &quot;144.85466&quot;}]}}}\r\n\r\nTrying to convert above json string to document in order to insert it into MongoDB. For this I am using *org.bson.Document.Document.parse(json_string)* constructor.\r\n\r\nBut the document I am getting after parsing, doesn&#39;t preserve the datatype inside ```geo.coordinate``` arraylist (Check below Document). While it preserve datatype of ```theaterId```.\r\n\r\n    {\r\n    \t&quot;_id&quot;: {\r\n    \t\t&quot;oid&quot;: &quot;59a47286cfa9a3a73e51e72c&quot;\r\n    \t},\r\n    \t&quot;theaterId&quot;: {\r\n    \t\t&quot;numberInt&quot;: &quot;101100&quot;\r\n    \t},\r\n    \t&quot;location&quot;: {\r\n    \t\t&quot;address&quot;: {\r\n    \t\t\t&quot;street1&quot;: &quot;340 XDW Market&quot;,\r\n    \t\t\t&quot;city&quot;: &quot;Bloomington&quot;,\r\n    \t\t\t&quot;state&quot;: &quot;MN&quot;,\r\n    \t\t\t&quot;zipcode&quot;: &quot;12427&quot;\r\n    \t\t},\r\n    \t\t&quot;geo&quot;: {\r\n    \t\t\t&quot;type&quot;: &quot;Point&quot;,\r\n    \t\t\t&quot;coordinates&quot;: [-193.24565, 144.85466]\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nIs this a potential issue in Document.parse() API ?","title":"Document.parse() constructor not working for nested json array","body":"<p>I have one extended json string.</p>\n<pre><code>{&quot;_id&quot;: {&quot;oid&quot;: &quot;59a47286cfa9a3a73e51e72c&quot;}, &quot;theaterId&quot;: {&quot;numberInt&quot;: &quot;101100&quot;}, &quot;location&quot;: {&quot;address&quot;: {&quot;street1&quot;: &quot;340 XDW Market&quot;, &quot;city&quot;: &quot;Bloomington&quot;, &quot;state&quot;: &quot;MN&quot;, &quot;zipcode&quot;: &quot;12427&quot;}, &quot;geo&quot;: {&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [{&quot;$numberDouble&quot;: &quot;-193.24565&quot;}, {&quot;$numberDouble&quot;: &quot;144.85466&quot;}]}}}\n</code></pre>\n<p>Trying to convert above json string to document in order to insert it into MongoDB. For this I am using <em>org.bson.Document.Document.parse(json_string)</em> constructor.</p>\n<p>But the document I am getting after parsing, doesn't preserve the datatype inside <code>geo.coordinate</code> arraylist (Check below Document). While it preserve datatype of <code>theaterId</code>.</p>\n<pre><code>{\n    &quot;_id&quot;: {\n        &quot;oid&quot;: &quot;59a47286cfa9a3a73e51e72c&quot;\n    },\n    &quot;theaterId&quot;: {\n        &quot;numberInt&quot;: &quot;101100&quot;\n    },\n    &quot;location&quot;: {\n        &quot;address&quot;: {\n            &quot;street1&quot;: &quot;340 XDW Market&quot;,\n            &quot;city&quot;: &quot;Bloomington&quot;,\n            &quot;state&quot;: &quot;MN&quot;,\n            &quot;zipcode&quot;: &quot;12427&quot;\n        },\n        &quot;geo&quot;: {\n            &quot;type&quot;: &quot;Point&quot;,\n            &quot;coordinates&quot;: [-193.24565, 144.85466]\n        }\n    }\n}\n</code></pre>\n<p>Is this a potential issue in Document.parse() API ?</p>\n"},{"tags":["java","character-encoding","nio"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1645743363,"post_id":71255129,"comment_id":125959215,"body_markdown":"Try printing or examining the value returned by `connection.getContentType()`.  The content type may contain a charset parameter.","body":"Try printing or examining the value returned by <code>connection.getContentType()</code>.  The content type may contain a charset parameter."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1645802078,"post_id":71255129,"comment_id":125973845,"body_markdown":"Also, close your OutputStream *before* calling Files.lines.  In fact, you don’t need channels at all;  just use `try (InputStream stream = connection.getInputStream()) { Files.copy(stream, path); }`.","body":"Also, close your OutputStream <i>before</i> calling Files.lines.  In fact, you don’t need channels at all;  just use <code>try (InputStream stream = connection.getInputStream()) { Files.copy(stream, path); }</code>."},{"owner":{"account_id":11653606,"reputation":823,"user_id":8534089,"display_name":"Vikas J"},"score":0,"creation_date":1645855458,"post_id":71255129,"comment_id":125985804,"body_markdown":"Thanks @VGR But I want to append data to same File, that&#39;s why I am using FileOutputStream fileOutputStream=new FileOutputStream(new File(FILE_NAME),true);\n\t        ReadableByteChannel readableByteChannel = Channels.newChannel(connection.getInputStream());\n\t        fileOutputStream.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\n\nBut With \t       try (InputStream stream = connection.getInputStream()) {Files.copy(stream, Paths.get(FILE_NAME));} I am not able to append data to existing File it fails with error java.nio.file.FileAlreadyExistsException\n\nSo how can I append","body":"Thanks @VGR But I want to append data to same File, that&#39;s why I am using FileOutputStream fileOutputStream=new FileOutputStream(new File(FILE_NAME),true); \t        ReadableByteChannel readableByteChannel = Channels.newChannel(connection.getInputStream()); \t        fileOutputStream.getChannel().transferFrom(readableByteChann&zwnj;&#8203;el, 0, Long.MAX_VALUE);  But With \t       try (InputStream stream = connection.getInputStream()) {Files.copy(stream, Paths.get(FILE_NAME));} I am not able to append data to existing File it fails with error java.nio.file.FileAlreadyExistsException  So how can I append"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1645873088,"post_id":71255129,"comment_id":125988451,"body_markdown":"I rolled back your edit as that seems to ask an entirely different question, about problems with appending to an existing file. When you get a new problem, ask a new question.","body":"I rolled back your edit as that seems to ask an entirely different question, about problems with appending to an existing file. When you get a new problem, ask a new question."},{"owner":{"account_id":11653606,"reputation":823,"user_id":8534089,"display_name":"Vikas J"},"score":0,"creation_date":1645873318,"post_id":71255129,"comment_id":125988491,"body_markdown":"@MarkRotteveel Created new post: https://stackoverflow.com/questions/71276100/how-to-append-batches-of-stream-data-to-one-csv-file-using-java-nio-package","body":"@MarkRotteveel Created new post: <a href=\"https://stackoverflow.com/questions/71276100/how-to-append-batches-of-stream-data-to-one-csv-file-using-java-nio-package\" title=\"how to append batches of stream data to one csv file using java nio package\">stackoverflow.com/questions/71276100/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645724433,"creation_date":1645724433,"answer_id":71256076,"question_id":71255129,"body_markdown":"The method [`Files.lines(Path)`][1] uses UTF-8 when reading data. Apparently, your data is not encoded in UTF-8, but in a single-byte character encoding (e.g. ISO-8859-1, Cp1252, or something else entirely.\r\n\r\nFind out what the correct character set is, and use `Files.lines(Path, Charset)` with the correct character set. In addition, make sure you close the file (`fileOutputStream`) **before** reading it. I recommend you use try-with-resources to ensure you close resources correctly.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)","title":"Character encoding issue while reading api response using NIO","body":"<p>The method <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#lines(java.nio.file.Path)\" rel=\"nofollow noreferrer\"><code>Files.lines(Path)</code></a> uses UTF-8 when reading data. Apparently, your data is not encoded in UTF-8, but in a single-byte character encoding (e.g. ISO-8859-1, Cp1252, or something else entirely.</p>\n<p>Find out what the correct character set is, and use <code>Files.lines(Path, Charset)</code> with the correct character set. In addition, make sure you close the file (<code>fileOutputStream</code>) <strong>before</strong> reading it. I recommend you use try-with-resources to ensure you close resources correctly.</p>\n"}],"owner":{"account_id":11653606,"reputation":823,"user_id":8534089,"display_name":"Vikas J"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645873046,"creation_date":1645719695,"question_id":71255129,"body_markdown":"I am reading data from API response which is of Content-Type = text/CSV and using Java&#39;s NIO package to transfer bytes between two Channels. \r\nWhile the code execution is in progress, I get the below error I checked the Source API response it contains  M�\r\n\r\n    ERROR:  java.io.UncheckedIOException: java.nio.charset.MalformedInputException: Input length = 1\r\n\r\nCode:\r\n\r\n    private void downloadFile_NIO(String encoded_token) throws Exception \r\n\t{\r\n\t\tPath path = Paths.get(FILE_NAME);\r\n\t\tlong lines = 0;\r\n\t\t \r\n\t    FileOutputStream fileOutputStream=new FileOutputStream(new File(FILE_NAME),true); \r\n\t\tURL url = new URL(FILE_URL);\r\n\t\tHttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\r\n\t\tconnection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + encoded_token );\r\n        connection.setDoOutput(true);\r\n        connection.setRequestMethod(&quot;GET&quot;); \r\n\r\n        ReadableByteChannel readableByteChannel = Channels.newChannel(connection.getInputStream());\r\n\t\tFileChannel fileChannel = fileOutputStream.getChannel();\r\n\t\tfileOutputStream.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\r\n\t\tlines = Files.lines(path).count();\r\n\t    System.out.println(&quot;lines-&gt;&quot; + lines);\r\n\t    System.out.println();\r\n\t    fileOutputStream.close();\r\n\t}\r\n\t\t\t\r\n\t\t\t\r\nIt looks like a character encoding issue, Maybe Charset can solve this issue, but I&#39;m not sure how and where in my existing code I can use it?\r\n\r\nJava version - 8\r\n\r\n\t        \r\n\t\r\n\t      \r\n\t        \r\n\t        \r\n\t   \r\n\r\n","title":"Character encoding issue while reading api response using NIO","body":"<p>I am reading data from API response which is of Content-Type = text/CSV and using Java's NIO package to transfer bytes between two Channels.\nWhile the code execution is in progress, I get the below error I checked the Source API response it contains  M�</p>\n<pre><code>ERROR:  java.io.UncheckedIOException: java.nio.charset.MalformedInputException: Input length = 1\n</code></pre>\n<p>Code:</p>\n<pre><code>private void downloadFile_NIO(String encoded_token) throws Exception \n{\n    Path path = Paths.get(FILE_NAME);\n    long lines = 0;\n     \n    FileOutputStream fileOutputStream=new FileOutputStream(new File(FILE_NAME),true); \n    URL url = new URL(FILE_URL);\n    HttpsURLConnection connection = (HttpsURLConnection) url.openConnection();\n    connection.setRequestProperty(&quot;Authorization&quot;, &quot;Bearer &quot; + encoded_token );\n    connection.setDoOutput(true);\n    connection.setRequestMethod(&quot;GET&quot;); \n\n    ReadableByteChannel readableByteChannel = Channels.newChannel(connection.getInputStream());\n    FileChannel fileChannel = fileOutputStream.getChannel();\n    fileOutputStream.getChannel().transferFrom(readableByteChannel, 0, Long.MAX_VALUE);\n    lines = Files.lines(path).count();\n    System.out.println(&quot;lines-&gt;&quot; + lines);\n    System.out.println();\n    fileOutputStream.close();\n}\n        \n        \n</code></pre>\n<p>It looks like a character encoding issue, Maybe Charset can solve this issue, but I'm not sure how and where in my existing code I can use it?</p>\n<p>Java version - 8</p>\n"},{"tags":["java","lambda","maven-plugin","indexoutofboundsexception","java-bytecode-asm"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1645827955,"post_id":71272206,"comment_id":125982297,"body_markdown":"[Duplicates](https://stackoverflow.com/q/35046404/2541560) suggest a version problem, but I don&#39;t know how that would have an effect only when using streams. Try other versions of Objectweb ASM.","body":"<a href=\"https://stackoverflow.com/q/35046404/2541560\">Duplicates</a> suggest a version problem, but I don&#39;t know how that would have an effect only when using streams. Try other versions of Objectweb ASM."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1645872220,"post_id":71272206,"comment_id":125988271,"body_markdown":"Or maybe https://stackoverflow.com/questions/54026707/arrayoutofbounds-compiling-maven-plugin-on-netbeans","body":"Or maybe <a href=\"https://stackoverflow.com/questions/54026707/arrayoutofbounds-compiling-maven-plugin-on-netbeans\" title=\"arrayoutofbounds compiling maven plugin on netbeans\">stackoverflow.com/questions/54026707/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645872019,"creation_date":1645872019,"answer_id":71275964,"question_id":71272206,"body_markdown":"You are using a too old version of `maven-plugin-plugin`. The stacktrace shows you are using version 3.2, which was [released in 2012](https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-plugin-plugin/3.2). It depends on [plugin-tools 3.2](https://mvnrepository.com/artifact/org.apache.maven.plugin-tools/maven-plugin-tools-annotations/3.2) which depends on [ASM Core 3.3.1](https://mvnrepository.com/artifact/asm/asm/3.3.1) released in 2011.\r\n\r\nThese are older than Java 8 (2014) and cannot understand method-references and lambdas.\r\n\r\nUpgrade your version of Maven/maven-plugin-plugin to a more recent version to make it compatible with the Java version you are using.","title":"How does Stream map leads to a index out of bounds error","body":"<p>You are using a too old version of <code>maven-plugin-plugin</code>. The stacktrace shows you are using version 3.2, which was <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-plugin-plugin/3.2\" rel=\"nofollow noreferrer\">released in 2012</a>. It depends on <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugin-tools/maven-plugin-tools-annotations/3.2\" rel=\"nofollow noreferrer\">plugin-tools 3.2</a> which depends on <a href=\"https://mvnrepository.com/artifact/asm/asm/3.3.1\" rel=\"nofollow noreferrer\">ASM Core 3.3.1</a> released in 2011.</p>\n<p>These are older than Java 8 (2014) and cannot understand method-references and lambdas.</p>\n<p>Upgrade your version of Maven/maven-plugin-plugin to a more recent version to make it compatible with the Java version you are using.</p>\n"}],"owner":{"account_id":7220618,"reputation":153,"user_id":5511303,"display_name":"Francois"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1646041965,"accepted_answer_id":71275964,"answer_count":1,"score":1,"last_activity_date":1645872842,"creation_date":1645826916,"question_id":71272206,"body_markdown":"Context : I&#39;m developing a Maven Plugin.\r\n\r\nI&#39;m using MavenProject&#39;s list of dependencies, so I want to convert to an array of Strings. \r\n```java\r\nimport org.apache.maven.project.MavenProject;\r\n\r\n@Parameter(...)\r\nprivate MavenProject project;\r\n\r\n// Getting Dependencies\r\nList&lt;Dependency&gt; depsList = project.getDependencies();\r\n```\r\n\r\nFollowing solution works well :\r\n```code\r\nArrayList&lt;String&gt; depsArrayList = new ArrayList&lt;String&gt;();\r\nfor ( Dependency d : depsList){\r\n    getLog().info(d.getArtifactId()); //OK, displays each dependency\r\n    depsArrayList.add(d.getArtifactId());\r\n}\r\n```\r\n\r\nI&#39;d like to use maps instead.\r\n```java \r\nList&lt;String&gt; depsStringList = depsList.stream()\r\n            .map(d -&gt; d.getArtifactId())\r\n            .collect(Collectors.toList());\r\n```\r\nBut I get following error :\r\n```txt\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project mjext-maker-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: Index 52264 out of bounds for length 154 -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project mjext-maker-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: Index 52264 out of bounds for length 154\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: Index 52264 out of bounds for length 154\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:566)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 52264 out of bounds for length 154\r\n    at org.objectweb.asm.ClassReader.readClass (Unknown Source)\r\n    at org.objectweb.asm.ClassReader.accept (Unknown Source)\r\n    at org.objectweb.asm.ClassReader.accept (Unknown Source)\r\n    at org.apache.maven.tools.plugin.annotations.scanner.DefaultMojoAnnotationsScanner.scanDirectory (DefaultMojoAnnotationsScanner.java:205)\r\n```\r\nI know what is an *ArrayOutOfBound* error but this one I don&#39;t know where it&#39;s coming from.\r\n\r\nIf I divise into more steps : \r\n```java \r\nStream&lt;Dependency&gt; depsStream = depsList.stream();\r\nStream&lt;String&gt; stringDepsStream = depsStream.map(Dependency::getArtifactId);\r\nList&lt;String&gt; depsStringList =  stringDepsStream.collect(Collectors.toList());\r\n```\r\nThis one line raises the issue : \r\n```java \r\nStream&lt;String&gt; stringDepsStream = depsStream.map(Dependency::getArtifactId);\r\n```\r\n\r\nIt looks like this use case fits well to the examples in [Collectors][1] or [stream][2] doc. Is there something obvious I&#39;m missing ?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#MutableReduction","title":"How does Stream map leads to a index out of bounds error","body":"<p>Context : I'm developing a Maven Plugin.</p>\n<p>I'm using MavenProject's list of dependencies, so I want to convert to an array of Strings.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.maven.project.MavenProject;\n\n@Parameter(...)\nprivate MavenProject project;\n\n// Getting Dependencies\nList&lt;Dependency&gt; depsList = project.getDependencies();\n</code></pre>\n<p>Following solution works well :</p>\n<pre><code>ArrayList&lt;String&gt; depsArrayList = new ArrayList&lt;String&gt;();\nfor ( Dependency d : depsList){\n    getLog().info(d.getArtifactId()); //OK, displays each dependency\n    depsArrayList.add(d.getArtifactId());\n}\n</code></pre>\n<p>I'd like to use maps instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;String&gt; depsStringList = depsList.stream()\n            .map(d -&gt; d.getArtifactId())\n            .collect(Collectors.toList());\n</code></pre>\n<p>But I get following error :</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project mjext-maker-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: Index 52264 out of bounds for length 154 -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor (default-descriptor) on project mjext-maker-maven-plugin: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: Index 52264 out of bounds for length 154\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: org.apache.maven.plugin.PluginExecutionException: Execution default-descriptor of goal org.apache.maven.plugins:maven-plugin-plugin:3.2:descriptor failed: Index 52264 out of bounds for length 154\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:148)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:972)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:566)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: Index 52264 out of bounds for length 154\n    at org.objectweb.asm.ClassReader.readClass (Unknown Source)\n    at org.objectweb.asm.ClassReader.accept (Unknown Source)\n    at org.objectweb.asm.ClassReader.accept (Unknown Source)\n    at org.apache.maven.tools.plugin.annotations.scanner.DefaultMojoAnnotationsScanner.scanDirectory (DefaultMojoAnnotationsScanner.java:205)\n</code></pre>\n<p>I know what is an <em>ArrayOutOfBound</em> error but this one I don't know where it's coming from.</p>\n<p>If I divise into more steps :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream&lt;Dependency&gt; depsStream = depsList.stream();\nStream&lt;String&gt; stringDepsStream = depsStream.map(Dependency::getArtifactId);\nList&lt;String&gt; depsStringList =  stringDepsStream.collect(Collectors.toList());\n</code></pre>\n<p>This one line raises the issue :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream&lt;String&gt; stringDepsStream = depsStream.map(Dependency::getArtifactId);\n</code></pre>\n<p>It looks like this use case fits well to the examples in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"nofollow noreferrer\">Collectors</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#MutableReduction\" rel=\"nofollow noreferrer\">stream</a> doc. Is there something obvious I'm missing ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19988170,"reputation":63,"user_id":14649882,"display_name":"أكثم الحميدات"},"score":0,"creation_date":1645868699,"post_id":71275556,"comment_id":125987672,"body_markdown":"I can&#39;t add a comment, but this might help you https://stackoverflow.com/questions/4576351/android-java-assigning-2d-array-to-3d-array","body":"I can&#39;t add a comment, but this might help you <a href=\"https://stackoverflow.com/questions/4576351/android-java-assigning-2d-array-to-3d-array\" title=\"android java assigning 2d array to 3d array\">stackoverflow.com/questions/4576351/&hellip;</a>"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1645869454,"post_id":71275556,"comment_id":125987810,"body_markdown":"@Jasman &quot;map it 3d array&quot;? what do you mean by map? using `Stream`?","body":"@Jasman &quot;map it 3d array&quot;? what do you mean by map? using <code>Stream</code>?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645869489,"creation_date":1645869489,"answer_id":71275673,"question_id":71275556,"body_markdown":"For each sublist of `allpermutations` you need to pair it with the 3 values of the other list\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; allpermutations = Arrays.asList(\r\n            List.of(1, 2, 3), List.of(1, 3, 2), List.of(2, 1, 3),\r\n            List.of(2, 3, 1), List.of(3, 2, 1), List.of(3, 1, 2));\r\n    List&lt;Integer&gt; values = List.of(1, 2, 3);\r\n\r\n    List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;&gt;();\r\n    for (List&lt;Integer&gt; permutation : allpermutations) {\r\n        List&lt;List&lt;Integer&gt;&gt; subResult = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; permutation.size(); i++) {\r\n            subResult.add(List.of(permutation.get(i), values.get(i)));\r\n        }\r\n        result.add(subResult);\r\n    }\r\n\r\nOr with `Stream`\r\n\r\n    List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; result = allpermutations.stream().map(\r\n            permutation -&gt; IntStream.range(0, permutation.size())\r\n                    .mapToObj(i -&gt; List.of(permutation.get(i), values.get(i)))\r\n                    .collect(Collectors.toList())\r\n    ).collect(Collectors.toList());\r\n\r\n","title":"how can I map 2d list and a single list into a 3d list or 3d array in java?","body":"<p>For each sublist of <code>allpermutations</code> you need to pair it with the 3 values of the other list</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; allpermutations = Arrays.asList(\n        List.of(1, 2, 3), List.of(1, 3, 2), List.of(2, 1, 3),\n        List.of(2, 3, 1), List.of(3, 2, 1), List.of(3, 1, 2));\nList&lt;Integer&gt; values = List.of(1, 2, 3);\n\nList&lt;List&lt;List&lt;Integer&gt;&gt;&gt; result = new ArrayList&lt;&gt;();\nfor (List&lt;Integer&gt; permutation : allpermutations) {\n    List&lt;List&lt;Integer&gt;&gt; subResult = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; permutation.size(); i++) {\n        subResult.add(List.of(permutation.get(i), values.get(i)));\n    }\n    result.add(subResult);\n}\n</code></pre>\n<p>Or with <code>Stream</code></p>\n<pre><code>List&lt;List&lt;List&lt;Integer&gt;&gt;&gt; result = allpermutations.stream().map(\n        permutation -&gt; IntStream.range(0, permutation.size())\n                .mapToObj(i -&gt; List.of(permutation.get(i), values.get(i)))\n                .collect(Collectors.toList())\n).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645871307,"creation_date":1645871307,"answer_id":71275874,"question_id":71275556,"body_markdown":"Let the two lists\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; xss = Arrays.asList(\r\n            List.of(1, 2, 3), List.of(1, 3, 2), List.of(2, 1, 3),\r\n            List.of(2, 3, 1), List.of(3, 2, 1), List.of(3, 1, 2));\r\n\r\n    List&lt;Integer&gt; ys = List.of(1, 2, 3);\r\n\r\nthen using streams your [Zip operation][1] could be defined as\r\n\r\n    Stream&lt;Stream&lt;Stream&lt;Pair&lt;Integer, Integer&gt;&gt;&gt;&gt; zss =    // the list of lists of lists of pairs is...\r\n            ys.stream().map(y -&gt;                            // the main list...\r\n                    xss.stream().map(xs -&gt;                  // and for each other list...\r\n                            xs.stream().map(x -&gt;            // join every element...\r\n                                    new Pair&lt;&gt;(y, x))));    // with the element of the main list.\r\n\r\nor, if you need lists\r\n\r\n    List&lt;List&lt;List&lt;Pair&lt;Integer, Integer&gt;&gt;&gt;&gt; rs =\r\n            zss.map(zs -&gt; zs.map(z -&gt; z.collect(toList())).collect(toList())).collect(toList());\r\n\r\nwith output\r\n\r\n    [[[{1, 1}, {1, 2}, {1, 3}], [{1, 1}, {1, 3}, {1, 2}], [{1, 2}, {1, 1}, {1, 3}], ...\r\n\r\nIf you want an iterative algorithm, you could write\r\n\r\n    System.out.print(&quot;{&quot;);\r\n    boolean firstY = true;\r\n    for(Integer y: ys) {\r\n        if(firstY)\r\n            firstY = false;\r\n        else\r\n            System.out.print(&quot;, &quot;);\r\n        System.out.print(&quot;{&quot;);\r\n        boolean firstXS = true;\r\n        for(List&lt;Integer&gt; xs: xss) {\r\n            if(firstXS)\r\n                firstXS = false;\r\n            else\r\n                System.out.print(&quot;, &quot;);\r\n            System.out.print(&quot;{&quot;);\r\n            boolean firstX = true;\r\n            for(Integer x: xs) {\r\n                if(firstX)\r\n                    firstX = false;\r\n                else\r\n                    System.out.print(&quot;, &quot;);\r\n                System.out.print(&quot;{&quot; + y + &quot;, &quot; + x + &quot;}&quot;);\r\n            }\r\n            System.out.print(&quot;}&quot;);\r\n        }\r\n        System.out.print(&quot;}&quot;);\r\n    }\r\n    System.out.print(&quot;}&quot;);\r\n\r\nwith the same output\r\n\r\n    {{{{1, 1}, {1, 2}, {1, 3}}, {{1, 1}, {1, 3}, {1, 2}}, {{1, 2}, {1, 1}, {1, 3}}, ...\r\n\r\n**Aside (the `Pair` class)**\r\n\r\nThe [tuple][2] is a common type in [FP][3], it could be defined as\r\n\r\n    static class Pair&lt;A, B&gt; {\r\n        A a;\r\n        B b;\r\n        Pair(A a, B b) { this.a = a; this.b = b; }\r\n        @Override\r\n        public String toString() { return &quot;{&quot; + a + &quot;, &quot; + b + &quot;}&quot;; }\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Zipping_(computer_science)\r\n  [2]: https://en.wikipedia.org/wiki/Tuple\r\n  [3]: https://en.wikipedia.org/wiki/Functional_programming","title":"how can I map 2d list and a single list into a 3d list or 3d array in java?","body":"<p>Let the two lists</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; xss = Arrays.asList(\n        List.of(1, 2, 3), List.of(1, 3, 2), List.of(2, 1, 3),\n        List.of(2, 3, 1), List.of(3, 2, 1), List.of(3, 1, 2));\n\nList&lt;Integer&gt; ys = List.of(1, 2, 3);\n</code></pre>\n<p>then using streams your <a href=\"https://en.wikipedia.org/wiki/Zipping_(computer_science)\" rel=\"nofollow noreferrer\">Zip operation</a> could be defined as</p>\n<pre><code>Stream&lt;Stream&lt;Stream&lt;Pair&lt;Integer, Integer&gt;&gt;&gt;&gt; zss =    // the list of lists of lists of pairs is...\n        ys.stream().map(y -&gt;                            // the main list...\n                xss.stream().map(xs -&gt;                  // and for each other list...\n                        xs.stream().map(x -&gt;            // join every element...\n                                new Pair&lt;&gt;(y, x))));    // with the element of the main list.\n</code></pre>\n<p>or, if you need lists</p>\n<pre><code>List&lt;List&lt;List&lt;Pair&lt;Integer, Integer&gt;&gt;&gt;&gt; rs =\n        zss.map(zs -&gt; zs.map(z -&gt; z.collect(toList())).collect(toList())).collect(toList());\n</code></pre>\n<p>with output</p>\n<pre><code>[[[{1, 1}, {1, 2}, {1, 3}], [{1, 1}, {1, 3}, {1, 2}], [{1, 2}, {1, 1}, {1, 3}], ...\n</code></pre>\n<p>If you want an iterative algorithm, you could write</p>\n<pre><code>System.out.print(&quot;{&quot;);\nboolean firstY = true;\nfor(Integer y: ys) {\n    if(firstY)\n        firstY = false;\n    else\n        System.out.print(&quot;, &quot;);\n    System.out.print(&quot;{&quot;);\n    boolean firstXS = true;\n    for(List&lt;Integer&gt; xs: xss) {\n        if(firstXS)\n            firstXS = false;\n        else\n            System.out.print(&quot;, &quot;);\n        System.out.print(&quot;{&quot;);\n        boolean firstX = true;\n        for(Integer x: xs) {\n            if(firstX)\n                firstX = false;\n            else\n                System.out.print(&quot;, &quot;);\n            System.out.print(&quot;{&quot; + y + &quot;, &quot; + x + &quot;}&quot;);\n        }\n        System.out.print(&quot;}&quot;);\n    }\n    System.out.print(&quot;}&quot;);\n}\nSystem.out.print(&quot;}&quot;);\n</code></pre>\n<p>with the same output</p>\n<pre><code>{{{{1, 1}, {1, 2}, {1, 3}}, {{1, 1}, {1, 3}, {1, 2}}, {{1, 2}, {1, 1}, {1, 3}}, ...\n</code></pre>\n<p><strong>Aside (the <code>Pair</code> class)</strong></p>\n<p>The <a href=\"https://en.wikipedia.org/wiki/Tuple\" rel=\"nofollow noreferrer\">tuple</a> is a common type in <a href=\"https://en.wikipedia.org/wiki/Functional_programming\" rel=\"nofollow noreferrer\">FP</a>, it could be defined as</p>\n<pre><code>static class Pair&lt;A, B&gt; {\n    A a;\n    B b;\n    Pair(A a, B b) { this.a = a; this.b = b; }\n    @Override\n    public String toString() { return &quot;{&quot; + a + &quot;, &quot; + b + &quot;}&quot;; }\n}\n</code></pre>\n"}],"owner":{"account_id":13384072,"reputation":1,"user_id":9658504,"display_name":"Jasman Arora"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645871307,"creation_date":1645868298,"question_id":71275556,"body_markdown":"I have List&lt;List&lt;Integer&gt;&gt; as `[[1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 2, 1], [3, 1, 2]]` and List&lt;Integer&gt; as `[1,2,3]` how can I map it to a 3d array such that I get output as:\r\n\r\n    {{ {1,1}, {2,2}, {3,3} },{{1,1}, {2,3}, {3,2}},{{1,2}, {2,1}, {3,3}}, and so on...};\r\n\r\n&lt;!-- --&gt;\r\n\r\n    for (int i = 0; i &lt; allpermutations.size(); i++) {\r\n            for (int j = 0; j &lt; allpermutations.get(i).size(); j++) {\r\n\r\n                System.out.print(allpermutations.get(i).get(j)+&quot; &quot;);   //LineX\r\n            }\r\n            System.out.println();\r\n        } */","title":"how can I map 2d list and a single list into a 3d list or 3d array in java?","body":"<p>I have List&lt;List&gt; as <code>[[1, 2, 3], [1, 3, 2], [2, 1, 3], [2, 3, 1], [3, 2, 1], [3, 1, 2]]</code> and List as <code>[1,2,3]</code> how can I map it to a 3d array such that I get output as:</p>\n<pre><code>{{ {1,1}, {2,2}, {3,3} },{{1,1}, {2,3}, {3,2}},{{1,2}, {2,1}, {3,3}}, and so on...};\n</code></pre>\n\n<pre><code>for (int i = 0; i &lt; allpermutations.size(); i++) {\n        for (int j = 0; j &lt; allpermutations.get(i).size(); j++) {\n\n            System.out.print(allpermutations.get(i).get(j)+&quot; &quot;);   //LineX\n        }\n        System.out.println();\n    } */\n</code></pre>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":24381741,"reputation":19,"user_id":18313168,"display_name":"Robyn Andrea"},"score":0,"creation_date":1645842588,"post_id":71273603,"comment_id":125984427,"body_markdown":"Sorry? I&#39;m *obviously* new to this. But thanks for enlightening me.","body":"Sorry? I&#39;m <i>obviously</i> new to this. But thanks for enlightening me."},{"owner":{"account_id":14773232,"reputation":20491,"user_id":10669010,"display_name":"Mister Jojo"},"score":0,"creation_date":1645842941,"post_id":71273603,"comment_id":125984468,"body_markdown":"easy : https://en.wikipedia.org/wiki/JavaScript , https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/What_is_JavaScript","body":"easy : <a href=\"https://en.wikipedia.org/wiki/JavaScript\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/JavaScript</a> , <a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/What_is_JavaScript\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Learn/JavaScript/First_step&zwnj;&#8203;s/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645844588,"creation_date":1645844588,"answer_id":71273767,"question_id":71273603,"body_markdown":"The following code should work (I will explain everything below):\r\n\r\n    import java.util.Scanner;\r\n    class Main {\r\n      public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;First student name: &quot;);\r\n        String name1 = input.nextLine();\r\n        boolean firstOnly = true;\r\n        if(name1.indexOf(&quot; &quot;) != -1){\r\n          firstOnly = false;\r\n        }\r\n        System.out.println(&quot;First student score: &quot;);\r\n        double score1 = input.nextDouble();\r\n        \r\n        System.out.println(&quot;Second student name: &quot;);\r\n        input.nextLine();\r\n        String name2 = input.nextLine();\r\n        \r\n        if(firstOnly){\r\n          while(name2.indexOf(&quot; &quot;) != -1){\r\n            System.out.println(&quot;Please enter first name only&quot;);\r\n            name2 = input.nextLine();\r\n          }\r\n        }\r\n        else{\r\n          while(name2.indexOf(&quot; &quot;) == -1){\r\n            System.out.println(&quot;Please enter first and last name&quot;);\r\n            name2 = input.nextLine();\r\n          }\r\n        }\r\n        \r\n        System.out.println(&quot;Second student score: &quot;);\r\n        double score2 = input.nextDouble();\r\n        \r\n        input.nextLine();\r\n        System.out.println(&quot;Third student name: &quot;);\r\n        String name3 = input.nextLine();\r\n        \r\n        if(firstOnly){\r\n          while(name3.indexOf(&quot; &quot;) != -1){\r\n            System.out.println(&quot;Please enter first name only&quot;);\r\n            name3 = input.nextLine();\r\n          }\r\n        }\r\n        else{\r\n          while(name3.indexOf(&quot; &quot;) == -1){\r\n            System.out.println(&quot;Please enter first and last name&quot;);\r\n            name3 = input.nextLine();\r\n          }\r\n        }\r\n        \r\n        System.out.println(&quot;Third student score: &quot;);\r\n        double score3 = input.nextDouble();\r\n    \r\n        input.close();\r\n        \r\n        String[] names = {name1,name2,name3};\r\n        double[] scores = {score1,score2,score3};\r\n    \r\n        for (int i = 0; i &lt; 2; i++){\r\n          double min = scores[i];\r\n          int minInd = i;\r\n          for (int j = 1; j &lt; 3; j++){\r\n            if (scores[j] &lt; min){\r\n              min = scores[j];\r\n              minInd = j;\r\n            }\r\n          }\r\n          double tempScore = scores[minInd];\r\n          scores[minInd] = scores[i];\r\n          scores[i] = tempScore;\r\n    \r\n          String tempName = names[minInd];\r\n          names[minInd] = names[i];\r\n          names[i] = tempName;\r\n        }\r\n    \r\n        for (int i = 0; i &lt; 3; i++){\r\n          System.out.println(names[i] + &quot;: &quot; + scores[i]);\r\n        }\r\n      }\r\n    }\r\n\r\nYeah..it is a lot.\r\n\r\nOKAY SO the first part is just taking in user input: the names and scores. I also implemented the &quot;either only first names or both first and last names only&quot; feature.\r\n\r\nThe way I did that was to first take in user input for the first name. I created a boolean variable, ```firstOnly```, that stores if the names should either be first names or not. If the value of ```name1``` contains a space, then we set this to false, otherwise it is true.\r\n\r\nWhen we take user inputs for ```name2``` and ```name3```, if ```firstOnly``` is true, then we will keep asking for user inputs until their input contains no space. If ```firstOnly``` is false, then we will keep asking for user inputs until their input contains a space.\r\n\r\nMake sure that when you take in user input for the test scores, you type in ```input.nextLine()``` afterwards. This is because after you enter an ```int``` or ```double``` into user input, it will leave behind a trailing newline which will affect the following user input if it is a String.\r\n\r\nNext, we store the 3 names and 3 scores in lists: ```names```, ```scores```. Now, we need to sort the lists with respect to ```scores```. That is, we sort ```scores``` and shuffle ```names``` the same way so that the elements correspond to each other.\r\n\r\nTo sort ```scores``` we can use selection sort. I will quickly explain selection sort below:\r\n\r\nLet&#39;s say we have an array, ```arr``` that has 4 elements. We find the minimum element from ```arr[0]``` to ```arr[3]```. After we find this minimum element, we swap it with ```arr[0]```. \r\n\r\nNext, we continue to find the minimum element from ```arr[1]``` to ```arr[3]``` and swap it with ```arr[1]```. We continue this process until we reach the end of our loops.\r\n\r\nThe key to this problem is to modify the &quot;swapping&quot; part of selection sort. By applying the same changes of ```scores``` to ```names``` the arrays elements will maintain the correspondence to each other prior to the sorting.\r\n\r\nHere is a kind of &quot;test&quot; that may help demonstrate:\r\n\r\n```names = {&quot;Apple&quot;, &quot;Banana&quot;, &quot;Carrot&quot;, &quot;Date&quot;};```\r\n\r\n```scores = {50, 20, 40, 60};```\r\n\r\nWe set our swapping element to ```scores[0]```, ```50``` and find the minimum between ```{50,20,40,60}```, which is ```20```. We then switch ```50``` and ```20```, and thus we switch ```&quot;Apple&quot;``` and ```&quot;Banana&quot;```.\r\n\r\nNow we have:\r\n\r\n```names = {&quot;Banana&quot;, &quot;Apple&quot;, &quot;Carrot&quot;, &quot;Date&quot;};```\r\n\r\n```scores = {20, 50, 40, 60};```\r\n\r\nWe set our swapping element to ```scores[1]```, ```50``` and find the minimum between ```{50,40,60}```, which is ```40```. We then switch ```50``` and ```40```, and thus we switch ```&quot;Apple&quot;``` and ```&quot;Carrot&quot;```.\r\n\r\n```names = {&quot;Banana&quot;, &quot;Carrot&quot;, &quot;Apple&quot;, &quot;Date&quot;};```\r\n\r\n```scores = {20, 40, 50, 60};```\r\n\r\nWe set our swapping element to ```scores[2]```, ```50``` and find the minimum between ```{50,60}```, which is ```50```. We then switch ```50``` and ```50```, and thus we switch ```&quot;Apple&quot;``` and ```&quot;Apple&quot;```, which has no change.\r\n\r\nThus, our final arrays are:\r\n\r\n```names = {&quot;Banana&quot;, &quot;Carrot&quot;, &quot;Apple&quot;, &quot;Date&quot;};```\r\n\r\n```scores = {20, 40, 50, 60};```\r\n\r\nNow we can print them out and they will be outputted from least to greatest (in our problem we can only have 3 names and 3 scores but it&#39;s the same idea).\r\n\r\nI hope this helped answer your question! Please let me know if you need any further clarification or details :)\r\n","title":"java three lowest scores","body":"<p>The following code should work (I will explain everything below):</p>\n<pre><code>import java.util.Scanner;\nclass Main {\n  public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    \n    System.out.println(&quot;First student name: &quot;);\n    String name1 = input.nextLine();\n    boolean firstOnly = true;\n    if(name1.indexOf(&quot; &quot;) != -1){\n      firstOnly = false;\n    }\n    System.out.println(&quot;First student score: &quot;);\n    double score1 = input.nextDouble();\n    \n    System.out.println(&quot;Second student name: &quot;);\n    input.nextLine();\n    String name2 = input.nextLine();\n    \n    if(firstOnly){\n      while(name2.indexOf(&quot; &quot;) != -1){\n        System.out.println(&quot;Please enter first name only&quot;);\n        name2 = input.nextLine();\n      }\n    }\n    else{\n      while(name2.indexOf(&quot; &quot;) == -1){\n        System.out.println(&quot;Please enter first and last name&quot;);\n        name2 = input.nextLine();\n      }\n    }\n    \n    System.out.println(&quot;Second student score: &quot;);\n    double score2 = input.nextDouble();\n    \n    input.nextLine();\n    System.out.println(&quot;Third student name: &quot;);\n    String name3 = input.nextLine();\n    \n    if(firstOnly){\n      while(name3.indexOf(&quot; &quot;) != -1){\n        System.out.println(&quot;Please enter first name only&quot;);\n        name3 = input.nextLine();\n      }\n    }\n    else{\n      while(name3.indexOf(&quot; &quot;) == -1){\n        System.out.println(&quot;Please enter first and last name&quot;);\n        name3 = input.nextLine();\n      }\n    }\n    \n    System.out.println(&quot;Third student score: &quot;);\n    double score3 = input.nextDouble();\n\n    input.close();\n    \n    String[] names = {name1,name2,name3};\n    double[] scores = {score1,score2,score3};\n\n    for (int i = 0; i &lt; 2; i++){\n      double min = scores[i];\n      int minInd = i;\n      for (int j = 1; j &lt; 3; j++){\n        if (scores[j] &lt; min){\n          min = scores[j];\n          minInd = j;\n        }\n      }\n      double tempScore = scores[minInd];\n      scores[minInd] = scores[i];\n      scores[i] = tempScore;\n\n      String tempName = names[minInd];\n      names[minInd] = names[i];\n      names[i] = tempName;\n    }\n\n    for (int i = 0; i &lt; 3; i++){\n      System.out.println(names[i] + &quot;: &quot; + scores[i]);\n    }\n  }\n}\n</code></pre>\n<p>Yeah..it is a lot.</p>\n<p>OKAY SO the first part is just taking in user input: the names and scores. I also implemented the &quot;either only first names or both first and last names only&quot; feature.</p>\n<p>The way I did that was to first take in user input for the first name. I created a boolean variable, <code>firstOnly</code>, that stores if the names should either be first names or not. If the value of <code>name1</code> contains a space, then we set this to false, otherwise it is true.</p>\n<p>When we take user inputs for <code>name2</code> and <code>name3</code>, if <code>firstOnly</code> is true, then we will keep asking for user inputs until their input contains no space. If <code>firstOnly</code> is false, then we will keep asking for user inputs until their input contains a space.</p>\n<p>Make sure that when you take in user input for the test scores, you type in <code>input.nextLine()</code> afterwards. This is because after you enter an <code>int</code> or <code>double</code> into user input, it will leave behind a trailing newline which will affect the following user input if it is a String.</p>\n<p>Next, we store the 3 names and 3 scores in lists: <code>names</code>, <code>scores</code>. Now, we need to sort the lists with respect to <code>scores</code>. That is, we sort <code>scores</code> and shuffle <code>names</code> the same way so that the elements correspond to each other.</p>\n<p>To sort <code>scores</code> we can use selection sort. I will quickly explain selection sort below:</p>\n<p>Let's say we have an array, <code>arr</code> that has 4 elements. We find the minimum element from <code>arr[0]</code> to <code>arr[3]</code>. After we find this minimum element, we swap it with <code>arr[0]</code>.</p>\n<p>Next, we continue to find the minimum element from <code>arr[1]</code> to <code>arr[3]</code> and swap it with <code>arr[1]</code>. We continue this process until we reach the end of our loops.</p>\n<p>The key to this problem is to modify the &quot;swapping&quot; part of selection sort. By applying the same changes of <code>scores</code> to <code>names</code> the arrays elements will maintain the correspondence to each other prior to the sorting.</p>\n<p>Here is a kind of &quot;test&quot; that may help demonstrate:</p>\n<p><code>names = {&quot;Apple&quot;, &quot;Banana&quot;, &quot;Carrot&quot;, &quot;Date&quot;};</code></p>\n<p><code>scores = {50, 20, 40, 60};</code></p>\n<p>We set our swapping element to <code>scores[0]</code>, <code>50</code> and find the minimum between <code>{50,20,40,60}</code>, which is <code>20</code>. We then switch <code>50</code> and <code>20</code>, and thus we switch <code>&quot;Apple&quot;</code> and <code>&quot;Banana&quot;</code>.</p>\n<p>Now we have:</p>\n<p><code>names = {&quot;Banana&quot;, &quot;Apple&quot;, &quot;Carrot&quot;, &quot;Date&quot;};</code></p>\n<p><code>scores = {20, 50, 40, 60};</code></p>\n<p>We set our swapping element to <code>scores[1]</code>, <code>50</code> and find the minimum between <code>{50,40,60}</code>, which is <code>40</code>. We then switch <code>50</code> and <code>40</code>, and thus we switch <code>&quot;Apple&quot;</code> and <code>&quot;Carrot&quot;</code>.</p>\n<p><code>names = {&quot;Banana&quot;, &quot;Carrot&quot;, &quot;Apple&quot;, &quot;Date&quot;};</code></p>\n<p><code>scores = {20, 40, 50, 60};</code></p>\n<p>We set our swapping element to <code>scores[2]</code>, <code>50</code> and find the minimum between <code>{50,60}</code>, which is <code>50</code>. We then switch <code>50</code> and <code>50</code>, and thus we switch <code>&quot;Apple&quot;</code> and <code>&quot;Apple&quot;</code>, which has no change.</p>\n<p>Thus, our final arrays are:</p>\n<p><code>names = {&quot;Banana&quot;, &quot;Carrot&quot;, &quot;Apple&quot;, &quot;Date&quot;};</code></p>\n<p><code>scores = {20, 40, 50, 60};</code></p>\n<p>Now we can print them out and they will be outputted from least to greatest (in our problem we can only have 3 names and 3 scores but it's the same idea).</p>\n<p>I hope this helped answer your question! Please let me know if you need any further clarification or details :)</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645846946,"creation_date":1645846946,"answer_id":71273911,"question_id":71273603,"body_markdown":"Existing code has some logical flaws in the structure of `if-else` statements and the typos when reassigning the lowest score values.\r\n\r\nThe comparison should start from the minimal score and &quot;shift up&quot; previous scores: first the current score is compared to `lowestScore1`, then to `lowestScore2` and finally to `lowestScore3`:\r\n```java\r\nfor (i = 1; i &lt;= numStudent; i++) {\r\n    System.out.println(&quot;Student &quot; + i + &quot; of &quot; + numStudent);\r\n\r\n    System.out.print(&quot;Enter student&#39;s name: &quot;);\r\n    name1 = input.next();\r\n    System.out.print(&quot;Enter student&#39;s score: &quot;);\r\n    score = input.nextDouble();\r\n\r\n    if (i == 1) {\r\n        lowestScore1 = score;\r\n        lowestName1 = name1;\r\n    }\r\n    if (score &lt; lowestScore1) { // new minimum found\r\n        lowestScore3 = lowestScore2;    // shifting up 2nd to 3rd\r\n        lowestName3 = lowestName2;\r\n        lowestScore2 = lowestScore1;    // shifting up previous min to 2nd\r\n        lowestName2 = lowestName1;\r\n        lowestScore1 = score;           // storing current minimum\r\n        lowestName1 = name1;\r\n    } else if (score &lt; lowestScore2) {  // new 2nd minimum found\r\n        lowestScore3 = lowestScore2;    // shifting up 2nd to 3rd\r\n        lowestName3 = lowestName2;\r\n        lowestScore2 = score;           // storing current 2nd minimum\r\n        lowestName2 = name1;\r\n    } else if (score &lt; lowestScore3) {\r\n        lowestScore3 = score;           // storing current 3rd minimum\r\n        lowestName3 = name1;\r\n    }    \r\n}\r\n```\r\nHowever, this works fine only if _all the students have different scores_.\r\n\r\nIf the scores are repeated then several students may share the same score and therefore some collection of the students _per score_ may be required.","title":"java three lowest scores","body":"<p>Existing code has some logical flaws in the structure of <code>if-else</code> statements and the typos when reassigning the lowest score values.</p>\n<p>The comparison should start from the minimal score and &quot;shift up&quot; previous scores: first the current score is compared to <code>lowestScore1</code>, then to <code>lowestScore2</code> and finally to <code>lowestScore3</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (i = 1; i &lt;= numStudent; i++) {\n    System.out.println(&quot;Student &quot; + i + &quot; of &quot; + numStudent);\n\n    System.out.print(&quot;Enter student's name: &quot;);\n    name1 = input.next();\n    System.out.print(&quot;Enter student's score: &quot;);\n    score = input.nextDouble();\n\n    if (i == 1) {\n        lowestScore1 = score;\n        lowestName1 = name1;\n    }\n    if (score &lt; lowestScore1) { // new minimum found\n        lowestScore3 = lowestScore2;    // shifting up 2nd to 3rd\n        lowestName3 = lowestName2;\n        lowestScore2 = lowestScore1;    // shifting up previous min to 2nd\n        lowestName2 = lowestName1;\n        lowestScore1 = score;           // storing current minimum\n        lowestName1 = name1;\n    } else if (score &lt; lowestScore2) {  // new 2nd minimum found\n        lowestScore3 = lowestScore2;    // shifting up 2nd to 3rd\n        lowestName3 = lowestName2;\n        lowestScore2 = score;           // storing current 2nd minimum\n        lowestName2 = name1;\n    } else if (score &lt; lowestScore3) {\n        lowestScore3 = score;           // storing current 3rd minimum\n        lowestName3 = name1;\n    }    \n}\n</code></pre>\n<p>However, this works fine only if <em>all the students have different scores</em>.</p>\n<p>If the scores are repeated then several students may share the same score and therefore some collection of the students <em>per score</em> may be required.</p>\n"},{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645871238,"creation_date":1645855805,"answer_id":71274471,"question_id":71273603,"body_markdown":"*Solution 1*\r\n\r\n    \r\n    final class StudentReport \r\n    {\r\n     private static final class Student\r\n     {\r\n      private final String firstName,lastName;\r\n      private final int score;\r\n      \r\n      private Student(BufferedReader console)throws Exception\r\n      {\r\n       System.out.println(&quot;Enter Your Name[FirstName.LastName]&quot;); \r\n       \r\n       //name split at the .[regex involves escaping the character with \\\\]\r\n       String[] nameParts=console.readLine().split(&quot;\\\\.&quot;);  \r\n       if(nameParts.length&gt;2)//Whoo you have a wierd name\r\n       {\r\n        throw new Exception(&quot;You have wierd name1!!&quot;);\r\n       }\r\n       firstName=nameParts[0];   \r\n       //last name available only if user typed a dot else make it empty\r\n       lastName=nameParts.length==2?nameParts[1]:&quot;&quot;;\r\n       \r\n       System.out.println(&quot;Enter Your Score&quot;);  \r\n       score=Integer.parseInt(console.readLine());\r\n       \r\n       //for neat output\r\n       System.out.println(&quot;============================&quot;);\r\n      } \r\n    \r\n      //used to print the student in println method\r\n      @Override\r\n      public String toString() {\r\n       return &quot;Student{&quot; + &quot;firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, score=&quot; + score + &#39;}&#39;;\r\n      }\r\n     } \r\n     \r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      //I prefer this over scanner as scanner has many bugs with new lines and skipping inputs\r\n      try(BufferedReader console=new BufferedReader(new InputStreamReader(System.in)))\r\n      {\r\n       //This is where all the magic happens. All student&#39;s inserted into your queue are automatically sorted in ascending order of their marks[lowest to highest]\r\n       PriorityQueue&lt;Student&gt; students=new PriorityQueue((Comparator&lt;Student&gt;)(s1,s2)-&gt;Integer.compare(s1.score,s2.score));\r\n       \r\n       //After this point all student&#39;s are  sorted in ascending order[lowest to highest] of their marks\r\n       System.out.println(&quot;How many students you want to admit?&quot;);\r\n       int numStudents=Integer.parseInt(console.readLine());\r\n       System.out.println(&quot;====================&quot;);\r\n       for(int i=0;i&lt;numStudents;i++){students.offer(new Student(console));}\r\n       \r\n       /*\r\n        Now we just have to poll[remove] the first 3 elements which will give us the \r\n        Lowest , 2nd Lowest &amp; 3rd Lowest Student\r\n       */  \r\n       System.out.println(&quot;Call your parents[Lowest Score]=&quot;+students.poll());\r\n       System.out.println(&quot;Meet me after class[2nd Lowest Score]=&quot;+students.poll());\r\n       System.out.println(&quot;You can do better[3rd Lowest score]=&quot;+students.poll());\r\n      }\r\n     }\r\n    }\r\n\r\nOutput\r\n\r\n    How many students you want to admit?\r\n    5\r\n    ====================\r\n    Enter Your Name[FirstName.LastName]\r\n    John.Smith\r\n    Enter Your Score\r\n    100\r\n    ============================\r\n    Enter Your Name[FirstName.LastName]\r\n    James.Douglus\r\n    Enter Your Score\r\n    80\r\n    ============================\r\n    Enter Your Name[FirstName.LastName]\r\n    Jimmy\r\n    Enter Your Score\r\n    70\r\n    ============================\r\n    Enter Your Name[FirstName.LastName]\r\n    Charlie\r\n    Enter Your Score\r\n    50\r\n    ============================\r\n    Enter Your Name[FirstName.LastName]\r\n    Henry.The3rd\r\n    Enter Your Score\r\n    20\r\n    ============================\r\n    Call your parents[Lowest Score]=Student{firstName=Henry, lastName=The3rd, score=20}\r\n    Meet me after class[2nd Lowest Score]=Student{firstName=Charlie, lastName=, score=50}\r\n    You can do better[3rd Lowest score]=Student{firstName=Jimmy, lastName=, score=70}\r\n\r\n*Solution 2*\r\n\r\nIf your assignment does not allow you to use PriorityQueues then you can use this logic\r\n\r\n\r\n \r\n\r\n    public static void main(String[] args)throws Exception\r\n     {\r\n      //I prefer this over scanner as scanner has many bugs with new lines and skipping inputs\r\n      try(BufferedReader console=new BufferedReader(new InputStreamReader(System.in)))\r\n      {  \r\n       System.out.println(&quot;How many students you want to admit?&quot;); \r\n       int numStudents=Integer.parseInt(console.readLine());\r\n       \r\n       Student[] students=new Student[numStudents];\r\n       for(int i=0;i&lt;students.length;i++){students[i]=new Student(console);}\r\n       System.out.println(&quot;====================&quot;);\r\n       \r\n       \r\n       \r\n       //Finding the 1st,2nd...nth lowest is simply a matter of finding the lowest then ignoring that element in successive iterations \r\n       \r\n       //create an temporary array which will hold students which we have already assessed\r\n       int[] toIgnore={-1,-1,-1};\r\n       //since we want only 3 students we run our loop 3 times\r\n       for(int i=0;i&lt;3;i++)\r\n       {\r\n        //holds the nth lowest student for this iteration\r\n        int lowestStudent=-1;\r\n        \r\n        lowest : for(int j=0;j&lt;students.length;j++)\r\n        {\r\n         //we check if the current student at jth index was already assessed as the lowest in the previous iteration\r\n         for(int ignore:toIgnore)\r\n         {\r\n          //looks like we already dealt with this student so we continue on with others\r\n          if(j==ignore)\r\n          {\r\n           continue lowest;\r\n          } \r\n         }\r\n         \r\n         Student currentStudent=students[j];       \r\n         if(lowestStudent==-1)\r\n         {\r\n          //very first assigment\r\n          lowestStudent=j;\r\n         }\r\n         else if(currentStudent.score&lt;students[lowestStudent].score) \r\n         {\r\n          //we found our new lower student\r\n          lowestStudent=j;\r\n         } \r\n        }\r\n        \r\n        if(lowestStudent!=-1)//happens if the number of students is lesser than 3\r\n        {\r\n         //add to ignore list\r\n         toIgnore[i]=lowestStudent;\r\n         System.out.println((i+1)+&quot; Lowest Student=&quot;+students[lowestStudent]);\r\n        }\r\n       }\r\n      }\r\n     }\r\n    }\r\n\r\n\r\n","title":"java three lowest scores","body":"<p><em>Solution 1</em></p>\n<pre><code>final class StudentReport \n{\n private static final class Student\n {\n  private final String firstName,lastName;\n  private final int score;\n  \n  private Student(BufferedReader console)throws Exception\n  {\n   System.out.println(&quot;Enter Your Name[FirstName.LastName]&quot;); \n   \n   //name split at the .[regex involves escaping the character with \\\\]\n   String[] nameParts=console.readLine().split(&quot;\\\\.&quot;);  \n   if(nameParts.length&gt;2)//Whoo you have a wierd name\n   {\n    throw new Exception(&quot;You have wierd name1!!&quot;);\n   }\n   firstName=nameParts[0];   \n   //last name available only if user typed a dot else make it empty\n   lastName=nameParts.length==2?nameParts[1]:&quot;&quot;;\n   \n   System.out.println(&quot;Enter Your Score&quot;);  \n   score=Integer.parseInt(console.readLine());\n   \n   //for neat output\n   System.out.println(&quot;============================&quot;);\n  } \n\n  //used to print the student in println method\n  @Override\n  public String toString() {\n   return &quot;Student{&quot; + &quot;firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;, score=&quot; + score + '}';\n  }\n } \n \n public static void main(String[] args)throws Exception\n {\n  //I prefer this over scanner as scanner has many bugs with new lines and skipping inputs\n  try(BufferedReader console=new BufferedReader(new InputStreamReader(System.in)))\n  {\n   //This is where all the magic happens. All student's inserted into your queue are automatically sorted in ascending order of their marks[lowest to highest]\n   PriorityQueue&lt;Student&gt; students=new PriorityQueue((Comparator&lt;Student&gt;)(s1,s2)-&gt;Integer.compare(s1.score,s2.score));\n   \n   //After this point all student's are  sorted in ascending order[lowest to highest] of their marks\n   System.out.println(&quot;How many students you want to admit?&quot;);\n   int numStudents=Integer.parseInt(console.readLine());\n   System.out.println(&quot;====================&quot;);\n   for(int i=0;i&lt;numStudents;i++){students.offer(new Student(console));}\n   \n   /*\n    Now we just have to poll[remove] the first 3 elements which will give us the \n    Lowest , 2nd Lowest &amp; 3rd Lowest Student\n   */  \n   System.out.println(&quot;Call your parents[Lowest Score]=&quot;+students.poll());\n   System.out.println(&quot;Meet me after class[2nd Lowest Score]=&quot;+students.poll());\n   System.out.println(&quot;You can do better[3rd Lowest score]=&quot;+students.poll());\n  }\n }\n}\n</code></pre>\n<p>Output</p>\n<pre><code>How many students you want to admit?\n5\n====================\nEnter Your Name[FirstName.LastName]\nJohn.Smith\nEnter Your Score\n100\n============================\nEnter Your Name[FirstName.LastName]\nJames.Douglus\nEnter Your Score\n80\n============================\nEnter Your Name[FirstName.LastName]\nJimmy\nEnter Your Score\n70\n============================\nEnter Your Name[FirstName.LastName]\nCharlie\nEnter Your Score\n50\n============================\nEnter Your Name[FirstName.LastName]\nHenry.The3rd\nEnter Your Score\n20\n============================\nCall your parents[Lowest Score]=Student{firstName=Henry, lastName=The3rd, score=20}\nMeet me after class[2nd Lowest Score]=Student{firstName=Charlie, lastName=, score=50}\nYou can do better[3rd Lowest score]=Student{firstName=Jimmy, lastName=, score=70}\n</code></pre>\n<p><em>Solution 2</em></p>\n<p>If your assignment does not allow you to use PriorityQueues then you can use this logic</p>\n<pre><code>public static void main(String[] args)throws Exception\n {\n  //I prefer this over scanner as scanner has many bugs with new lines and skipping inputs\n  try(BufferedReader console=new BufferedReader(new InputStreamReader(System.in)))\n  {  \n   System.out.println(&quot;How many students you want to admit?&quot;); \n   int numStudents=Integer.parseInt(console.readLine());\n   \n   Student[] students=new Student[numStudents];\n   for(int i=0;i&lt;students.length;i++){students[i]=new Student(console);}\n   System.out.println(&quot;====================&quot;);\n   \n   \n   \n   //Finding the 1st,2nd...nth lowest is simply a matter of finding the lowest then ignoring that element in successive iterations \n   \n   //create an temporary array which will hold students which we have already assessed\n   int[] toIgnore={-1,-1,-1};\n   //since we want only 3 students we run our loop 3 times\n   for(int i=0;i&lt;3;i++)\n   {\n    //holds the nth lowest student for this iteration\n    int lowestStudent=-1;\n    \n    lowest : for(int j=0;j&lt;students.length;j++)\n    {\n     //we check if the current student at jth index was already assessed as the lowest in the previous iteration\n     for(int ignore:toIgnore)\n     {\n      //looks like we already dealt with this student so we continue on with others\n      if(j==ignore)\n      {\n       continue lowest;\n      } \n     }\n     \n     Student currentStudent=students[j];       \n     if(lowestStudent==-1)\n     {\n      //very first assigment\n      lowestStudent=j;\n     }\n     else if(currentStudent.score&lt;students[lowestStudent].score) \n     {\n      //we found our new lower student\n      lowestStudent=j;\n     } \n    }\n    \n    if(lowestStudent!=-1)//happens if the number of students is lesser than 3\n    {\n     //add to ignore list\n     toIgnore[i]=lowestStudent;\n     System.out.println((i+1)+&quot; Lowest Student=&quot;+students[lowestStudent]);\n    }\n   }\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":24381741,"reputation":19,"user_id":18313168,"display_name":"Robyn Andrea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1645871238,"creation_date":1645842038,"question_id":71273603,"body_markdown":"I am having difficulty figuring out where I&#39;ve gone wrong in this program. \r\nIt will give me the lowest score and the third lowest score, but not the second lowest score. \r\n\r\nI am also at a loss for  how to make the program accept first name only or first and last name.\r\nI know how to do one name or two, but not either or.\r\n\r\nAny help is greatly appreciated!\r\n\r\n\r\n\r\n(Find the three lowest scores)\r\nWrite a program that prompts the user to enter the number of students and each student’s name and score, and finally displays the student with the lowest score and the student with the second-lowest score and the student with the third lowest score.\r\n\r\nProgram must accept first name only or first and last name\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n\r\n        //variables\r\n        String name1 = &quot;&quot;;\r\n        String name2 = &quot;&quot;;\r\n        String lowestName1 = &quot;&quot;;\r\n        String lowestName2 = &quot;&quot;;\r\n        String lowestName3 = &quot;&quot;;\r\n        double score = 0.0;\r\n        double lowestScore1 = -1.0;\r\n        double lowestScore2 = -1.0;\r\n        double lowestScore3 = -1.0;\r\n        int numStudent = 0;\r\n        int i = 1;  //counter\r\n\r\n        //get number of students\r\n        System.out.print(&quot;Enter the number of students: &quot;);\r\n        numStudent = input.nextInt();\r\n\r\n        for (i = 1; i &lt;= numStudent; i++) {\r\n\r\n            System.out.println(&quot;Student &quot; + i + &quot; of &quot; + numStudent);\r\n\r\n            System.out.print(&quot;Enter student&#39;s name: &quot;);\r\n            name1 = input.next();\r\n            //name2 = input.next();\r\n            System.out.print(&quot;Enter student&#39;s score: &quot;);\r\n            score = input.nextDouble();\r\n\r\n            if (i == 1) {\r\n                lowestScore1 = score;\r\n                lowestName1 = name1;\r\n            }\r\n            if (score &lt; lowestScore1) {\r\n                lowestScore1 = lowestScore2;\r\n                lowestName1 = lowestName2;\r\n                lowestScore1 = score;\r\n                lowestName1 = name1;\r\n            } else  {\r\n                lowestScore2 = score;\r\n                lowestName2 = name1;\r\n            } \r\n            \r\n            if (score &gt; lowestScore1 &amp;&amp; score &lt; lowestScore2){\r\n                lowestScore3 = lowestScore2;\r\n                lowestScore2 = score;\r\n            }\r\n            \r\n            if (score &lt; lowestScore2) {\r\n                lowestScore3 = lowestScore2;\r\n                lowestName3 = lowestName2;\r\n                lowestScore2 = score;\r\n                lowestName2 = name1;\r\n  \r\n            } else  {\r\n                lowestScore3 = score;\r\n                lowestName3 = name1;\r\n\r\n            } \r\n            \r\n            \r\n            \r\n\r\n        }\r\n\r\n        System.out.println(&quot;The lowest score was &quot; + lowestScore1 + &quot; and &quot; + lowestName1 + &quot; got it&quot;);\r\n        System.out.println(&quot;The second lowest score was &quot; + lowestScore2 + &quot; and &quot; + lowestName2 + &quot; got it&quot;);\r\n        System.out.println(&quot;The third lowest score was &quot; + lowestScore3 + &quot; and &quot; + lowestName3 + &quot; got it&quot;);\r\n    }\r\n}\r\n","title":"java three lowest scores","body":"<p>I am having difficulty figuring out where I've gone wrong in this program.\nIt will give me the lowest score and the third lowest score, but not the second lowest score.</p>\n<p>I am also at a loss for  how to make the program accept first name only or first and last name.\nI know how to do one name or two, but not either or.</p>\n<p>Any help is greatly appreciated!</p>\n<p>(Find the three lowest scores)\nWrite a program that prompts the user to enter the number of students and each student’s name and score, and finally displays the student with the lowest score and the student with the second-lowest score and the student with the third lowest score.</p>\n<p>Program must accept first name only or first and last name</p>\n<pre><code>public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n\n    //variables\n    String name1 = &quot;&quot;;\n    String name2 = &quot;&quot;;\n    String lowestName1 = &quot;&quot;;\n    String lowestName2 = &quot;&quot;;\n    String lowestName3 = &quot;&quot;;\n    double score = 0.0;\n    double lowestScore1 = -1.0;\n    double lowestScore2 = -1.0;\n    double lowestScore3 = -1.0;\n    int numStudent = 0;\n    int i = 1;  //counter\n\n    //get number of students\n    System.out.print(&quot;Enter the number of students: &quot;);\n    numStudent = input.nextInt();\n\n    for (i = 1; i &lt;= numStudent; i++) {\n\n        System.out.println(&quot;Student &quot; + i + &quot; of &quot; + numStudent);\n\n        System.out.print(&quot;Enter student's name: &quot;);\n        name1 = input.next();\n        //name2 = input.next();\n        System.out.print(&quot;Enter student's score: &quot;);\n        score = input.nextDouble();\n\n        if (i == 1) {\n            lowestScore1 = score;\n            lowestName1 = name1;\n        }\n        if (score &lt; lowestScore1) {\n            lowestScore1 = lowestScore2;\n            lowestName1 = lowestName2;\n            lowestScore1 = score;\n            lowestName1 = name1;\n        } else  {\n            lowestScore2 = score;\n            lowestName2 = name1;\n        } \n        \n        if (score &gt; lowestScore1 &amp;&amp; score &lt; lowestScore2){\n            lowestScore3 = lowestScore2;\n            lowestScore2 = score;\n        }\n        \n        if (score &lt; lowestScore2) {\n            lowestScore3 = lowestScore2;\n            lowestName3 = lowestName2;\n            lowestScore2 = score;\n            lowestName2 = name1;\n\n        } else  {\n            lowestScore3 = score;\n            lowestName3 = name1;\n\n        } \n        \n        \n        \n\n    }\n\n    System.out.println(&quot;The lowest score was &quot; + lowestScore1 + &quot; and &quot; + lowestName1 + &quot; got it&quot;);\n    System.out.println(&quot;The second lowest score was &quot; + lowestScore2 + &quot; and &quot; + lowestName2 + &quot; got it&quot;);\n    System.out.println(&quot;The third lowest score was &quot; + lowestScore3 + &quot; and &quot; + lowestName3 + &quot; got it&quot;);\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","imageview"],"comments":[{"owner":{"account_id":1281728,"reputation":73126,"user_id":1235698,"accept_rate":100,"display_name":"Marcin Orlowski"},"score":0,"creation_date":1645850012,"post_id":71274024,"comment_id":125985178,"body_markdown":"Always post the stacktrace","body":"Always post the stacktrace"},{"owner":{"account_id":14584795,"reputation":2961,"user_id":10534012,"display_name":"Darkman"},"score":0,"creation_date":1645852635,"post_id":71274024,"comment_id":125985461,"body_markdown":"A ConstraintLayout is not an ImageView. You&#39;re trying to put an image onto a constraint layout.","body":"A ConstraintLayout is not an ImageView. You&#39;re trying to put an image onto a constraint layout."},{"owner":{"account_id":8213164,"reputation":508,"user_id":6228731,"accept_rate":80,"display_name":"Mohammad Arman"},"score":0,"creation_date":1645854117,"post_id":71274024,"comment_id":125985654,"body_markdown":"First you need to create image view , you are setting image in constraint layout that is not an image view","body":"First you need to create image view , you are setting image in constraint layout that is not an image view"}],"answers":[{"tags":[],"owner":{"account_id":23242663,"reputation":399,"user_id":17331686,"display_name":"Niaj Mahmud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645862068,"creation_date":1645862068,"answer_id":71274975,"question_id":71274024,"body_markdown":"replace you xml with this\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n     &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n     \r\n        android:layout_width=&quot;250dp&quot;\r\n        android:layout_height=&quot;250dp&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_centerVertical=&quot;true&quot;\r\n\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/firstimage&quot;\r\n        android:layout_width=&quot;50dp&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/textView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.423&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.642&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Hello World!&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.388&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.353&quot; /&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n","title":"ImageView providing Null Returning Crashing Program","body":"<p>replace you xml with this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n &lt;androidx.constraintlayout.widget.ConstraintLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n \n    android:layout_width=&quot;250dp&quot;\n    android:layout_height=&quot;250dp&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_centerVertical=&quot;true&quot;\n\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n&lt;ImageView\n    android:id=&quot;@+id/firstimage&quot;\n    android:layout_width=&quot;50dp&quot;\n    android:layout_height=&quot;50dp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/textView&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.423&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.642&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;Hello World!&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.388&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.353&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16445786,"reputation":340,"user_id":11880634,"display_name":"GvHarish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645870412,"creation_date":1645870412,"answer_id":71275780,"question_id":71274024,"body_markdown":"create an Imageview on your XML and set id for the view and call the view in associated activity or fragment","title":"ImageView providing Null Returning Crashing Program","body":"<p>create an Imageview on your XML and set id for the view and call the view in associated activity or fragment</p>\n"}],"owner":{"account_id":9179359,"reputation":13,"user_id":6823839,"display_name":"spacedude"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645870412,"creation_date":1645848690,"question_id":71274024,"body_markdown":"New to android studio. Read a lot of responses on here regarding null returns for ImageView but none have solved my issue. I am getting a null return and that program is crashing as a result. Any help is appreciated\r\n\r\nI am not sure if it is because the imageview is being called within a function and needs its own function with a different override? I attempted that and it did not work either\r\n\r\n**MainActivity.java**\r\n\r\n    package com.example.myapplication;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.KeyEvent;\r\n    import android.widget.Button;\r\n    import android.widget.ImageView;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n        private static final String TAG = &quot;MainActivity&quot;;\r\n        public boolean timeDelt = false;\r\n        public long timeStart = 99999;\r\n        public long timeEnd = 99999;\r\n        public int buttonCnt = 0;\r\n    \r\n        @Override\r\n        public boolean onKeyDown(int keyCode, KeyEvent event) {\r\n            if (keyCode == KeyEvent.KEYCODE_VOLUME_DOWN) {\r\n                long buttonTime = System.currentTimeMillis();\r\n                buttonCnt = buttonCnt + 1;\r\n                if (timeDelt == false) {\r\n                    timeStart = System.currentTimeMillis();\r\n                    timeDelt = true;\r\n                }\r\n                if (buttonTime - timeStart &lt; 5000) {\r\n                        buttonCnt = 0; // reset count\r\n                        ImageView firstImage = (ImageView) findViewById(R.id.firstimage);\r\n                        firstImage.setImageResource(R.drawable.norway);\r\n                    }\r\n                long a = System.currentTimeMillis();\r\n                Log.d(&quot;ADebugTag&quot;, &quot;Value: &quot; + Long.toString(a));\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\n    \r\nactivity_main.xml\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout         \r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n            xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n            xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            android:id=&quot;@+id/firstimage&quot;\r\n            android:layout_width=&quot;250dp&quot;\r\n            android:layout_height=&quot;250dp&quot;\r\n            android:layout_centerHorizontal=&quot;true&quot;\r\n            android:layout_centerVertical=&quot;true&quot;\r\n        \r\n            tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:text=&quot;Hello World!&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.388&quot;\r\n                app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n                app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.353&quot; /&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\n\r\n","title":"ImageView providing Null Returning Crashing Program","body":"<p>New to android studio. Read a lot of responses on here regarding null returns for ImageView but none have solved my issue. I am getting a null return and that program is crashing as a result. Any help is appreciated</p>\n<p>I am not sure if it is because the imageview is being called within a function and needs its own function with a different override? I attempted that and it did not work either</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>package com.example.myapplication;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.KeyEvent;\nimport android.widget.Button;\nimport android.widget.ImageView;\n\npublic class MainActivity extends AppCompatActivity {\n    private static final String TAG = &quot;MainActivity&quot;;\n    public boolean timeDelt = false;\n    public long timeStart = 99999;\n    public long timeEnd = 99999;\n    public int buttonCnt = 0;\n\n    @Override\n    public boolean onKeyDown(int keyCode, KeyEvent event) {\n        if (keyCode == KeyEvent.KEYCODE_VOLUME_DOWN) {\n            long buttonTime = System.currentTimeMillis();\n            buttonCnt = buttonCnt + 1;\n            if (timeDelt == false) {\n                timeStart = System.currentTimeMillis();\n                timeDelt = true;\n            }\n            if (buttonTime - timeStart &lt; 5000) {\n                    buttonCnt = 0; // reset count\n                    ImageView firstImage = (ImageView) findViewById(R.id.firstimage);\n                    firstImage.setImageResource(R.drawable.norway);\n                }\n            long a = System.currentTimeMillis();\n            Log.d(&quot;ADebugTag&quot;, &quot;Value: &quot; + Long.toString(a));\n        }\n        return true;\n    }\n\n}\n</code></pre>\n<p>activity_main.xml</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n    &lt;androidx.constraintlayout.widget.ConstraintLayout         \n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        android:id=&quot;@+id/firstimage&quot;\n        android:layout_width=&quot;250dp&quot;\n        android:layout_height=&quot;250dp&quot;\n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_centerVertical=&quot;true&quot;\n    \n        tools:context=&quot;.MainActivity&quot;&gt;\n\n        &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Hello World!&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.388&quot;\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.353&quot; /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"},{"tags":["java","swing","jscrollpane","jscrollbar"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1645869485,"post_id":71275250,"comment_id":125987814,"body_markdown":"*&quot;Any ideas?&quot;* [Edit] to add a [mre].","body":"<i>&quot;Any ideas?&quot;</i> <a href=\"https://stackoverflow.com/posts/71275250/edit\">Edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645869794,"post_id":71275250,"comment_id":125987876,"body_markdown":"[`JComponent#scrollRectToVisible`](https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JComponent.html#scrollRectToVisible(java.awt.Rectangle)) - but I would do some research, as you&#39;d be surprised by how it should be used","body":"<a href=\"https://docs.oracle.com/en/java/javase/16/docs/api/java.desktop/javax/swing/JComponent.html#scrollRectToVisible(java.awt.Rectangle)\" rel=\"nofollow noreferrer\"><code>JComponent#scrollRectToVisible</code></a> - but I would do some research, as you&#39;d be surprised by how it should be used"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1645950110,"post_id":71275250,"comment_id":126000491,"body_markdown":"BTW: 1) **Do** act on advice offered by people in comments. 2) **Don&#39;t** ask a lesser form of the [same question](https://stackoverflow.com/q/71283042/418556) again.","body":"BTW: 1) <b>Do</b> act on advice offered by people in comments. 2) <b>Don&#39;t</b> ask a lesser form of the <a href=\"https://stackoverflow.com/q/71283042/418556\">same question</a> again."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1645974561,"post_id":71275250,"comment_id":126005048,"body_markdown":"1) It is more efficient to do the revalidate() and repaint() once outside the loop. 2) you will also need to wrap the scrollRectToVisible() method in a SwingUtilities.invokeLater().","body":"1) It is more efficient to do the revalidate() and repaint() once outside the loop. 2) you will also need to wrap the scrollRectToVisible() method in a SwingUtilities.invokeLater()."},{"owner":{"account_id":11908905,"reputation":3,"user_id":8714728,"display_name":"nidhal"},"score":0,"creation_date":1645974729,"post_id":71275250,"comment_id":126005079,"body_markdown":"can you give me an example , i need more details","body":"can you give me an example , i need more details"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1645974997,"post_id":71275250,"comment_id":126005152,"body_markdown":"You have NOT posted any code showing how you attempted to use the suggested methods. 1) Read the API for information about each of the methods suggested 2) Search the forum for example that use these methods. This is basic problem solving. If you still have problems then you have been asked to post an [mre].","body":"You have NOT posted any code showing how you attempted to use the suggested methods. 1) Read the API for information about each of the methods suggested 2) Search the forum for example that use these methods. This is basic problem solving. If you still have problems then you have been asked to post an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":11908905,"reputation":3,"user_id":8714728,"display_name":"nidhal"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645869325,"creation_date":1645865178,"question_id":71275250,"body_markdown":"I have a program I am working on, the horizontal scrollbar should be in the right-hand position by default, I tried to use `Viewport()` but it doesn&#39;t work. Any ideas?\r\n\r\n```\r\njScrollPane4.getViewport().setViewPosition(new Point(10, 10));\r\nBoxLayout boxlayout = new BoxLayout(categoryPanel, BoxLayout.Y_AXIS);\r\nBoxLayout boxlayout2 = new BoxLayout(servicePanel, BoxLayout.Y_AXIS);\r\ncategoryPanel.setLayout(boxlayout);\r\ncategory cg = new category();\r\nsubString ss = new subString();\r\ntry {\r\n    List&lt;JButton&gt; buttonList = new ArrayList&lt;&gt;();\r\n    List&lt;Category&gt; map = cg.readDatafromJson();\r\n    for (Category item : map) {\r\n        String CAr = ss.SubString(item.getName_ar());\r\n        String SAr = ss.SubString(item.getName_en());\r\n        JButton button = new JButton(&quot;&lt;html&gt;&lt;p style=\\&quot;text-align:right;\\&quot;&gt;&lt;b&gt;&quot; + CAr + &quot;&lt;/b&gt; \\n&quot; + SAr + &quot;&lt;/P&gt;&lt;/html&gt;&quot;, icon);\r\n        Border line = new LineBorder(Color.BLACK);\r\n        button.setActionCommand(item.getKey());\r\n        button.setHorizontalAlignment(SwingConstants.RIGHT);\r\n        button.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\r\n        buttonList.add(button);\r\n        categoryPanel.add(button);\r\n        categoryPanel.revalidate();\r\n        categoryPanel.repaint();\r\n    }\r\n} catch (IOException ex) {\r\n    Logger.getLogger(PassOrdreCashier.class.getName()).log(Level.SEVERE, null, ex);\r\n}\r\n````\r\n\r\nScrollbar\r\n  \r\n\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/ypKYt.png&quot;&gt;\r\n","title":"How to make the default position of horizontal JScrollBar on the right?","body":"<p>I have a program I am working on, the horizontal scrollbar should be in the right-hand position by default, I tried to use <code>Viewport()</code> but it doesn't work. Any ideas?</p>\n<pre><code>jScrollPane4.getViewport().setViewPosition(new Point(10, 10));\nBoxLayout boxlayout = new BoxLayout(categoryPanel, BoxLayout.Y_AXIS);\nBoxLayout boxlayout2 = new BoxLayout(servicePanel, BoxLayout.Y_AXIS);\ncategoryPanel.setLayout(boxlayout);\ncategory cg = new category();\nsubString ss = new subString();\ntry {\n    List&lt;JButton&gt; buttonList = new ArrayList&lt;&gt;();\n    List&lt;Category&gt; map = cg.readDatafromJson();\n    for (Category item : map) {\n        String CAr = ss.SubString(item.getName_ar());\n        String SAr = ss.SubString(item.getName_en());\n        JButton button = new JButton(&quot;&lt;html&gt;&lt;p style=\\&quot;text-align:right;\\&quot;&gt;&lt;b&gt;&quot; + CAr + &quot;&lt;/b&gt; \\n&quot; + SAr + &quot;&lt;/P&gt;&lt;/html&gt;&quot;, icon);\n        Border line = new LineBorder(Color.BLACK);\n        button.setActionCommand(item.getKey());\n        button.setHorizontalAlignment(SwingConstants.RIGHT);\n        button.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\n        buttonList.add(button);\n        categoryPanel.add(button);\n        categoryPanel.revalidate();\n        categoryPanel.repaint();\n    }\n} catch (IOException ex) {\n    Logger.getLogger(PassOrdreCashier.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n<p>Scrollbar</p>\n<img src=\"https://i.stack.imgur.com/ypKYt.png\">\n"},{"tags":["java","logging","logback","lombok"],"owner":{"account_id":12246014,"reputation":357,"user_id":8937649,"display_name":"Razvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645869148,"creation_date":1645869148,"question_id":71275643,"body_markdown":"I&#39;m facing a weird situation after removing Log4j and implemented logback via lombok implementation.\r\n\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class ClassA{\r\n    \r\n    public void executeCode(){\r\n    log.info(&quot;Hello world&quot;);\r\n    }\r\n\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class ClassB{\r\n    \r\n    public void executeCode(){\r\n    log.info(&quot;Hello stack members&quot;);\r\n    }\r\n\r\nThe logback xml file looks like:\r\n\r\n    &lt;configuration scan=&quot;true&quot;&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\r\n            &lt;charset&gt;utf-8&lt;/charset&gt;\r\n            &lt;pattern&gt;%boldMagenta(%d{yyyy-MM-dd&#39; &#39;HH:mm:ss,SSS}) %highlight(%level)-&gt; %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;LOGS_HTML&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n        &lt;file&gt;logs/log.html&lt;/file&gt;\r\n        &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;&gt;\r\n                &lt;pattern&gt;%thread%level%logger%msg&lt;/pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;ROLLING_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;log-%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;\r\n            &lt;maxHistory&gt;60&lt;/maxHistory&gt;\r\n            &lt;totalSizeCap&gt;30GB&lt;/totalSizeCap&gt;\r\n        &lt;/rollingPolicy&gt;\r\n        &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\r\n            &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;\r\n        &lt;/triggeringPolicy&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{HH:mm:ss} [%thread] %-5level - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n        &lt;file&gt;logs/file.log&lt;/file&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;LOGS_HTML&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;ROLLING_FILE&quot;/&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\nThe file.log is attached to an Allure report, but after run, the file doesn&#39;t store the correct execution. Displays some previous runs, and nothing regarding the current one.\r\nEven if I remove the history implementation, the logs are not fully displayed, and those displayed are only from **ClassA**\r\n\r\nI need to display all logs during current execution, and nothing more, from all classes available in project.","title":"Logback file doesn&#39;t log info from all classes and all details","body":"<p>I'm facing a weird situation after removing Log4j and implemented logback via lombok implementation.</p>\n<pre><code>import lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class ClassA{\n\npublic void executeCode(){\nlog.info(&quot;Hello world&quot;);\n}\n\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class ClassB{\n\npublic void executeCode(){\nlog.info(&quot;Hello stack members&quot;);\n}\n</code></pre>\n<p>The logback xml file looks like:</p>\n<pre><code>&lt;configuration scan=&quot;true&quot;&gt;\n\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder class=&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;&gt;\n        &lt;charset&gt;utf-8&lt;/charset&gt;\n        &lt;pattern&gt;%boldMagenta(%d{yyyy-MM-dd' 'HH:mm:ss,SSS}) %highlight(%level)-&gt; %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;LOGS_HTML&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;logs/log.html&lt;/file&gt;\n    &lt;encoder class=&quot;ch.qos.logback.core.encoder.LayoutWrappingEncoder&quot;&gt;\n        &lt;layout class=&quot;ch.qos.logback.classic.html.HTMLLayout&quot;&gt;\n            &lt;pattern&gt;%thread%level%logger%msg&lt;/pattern&gt;\n        &lt;/layout&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;ROLLING_FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;log-%d{yyyy-MM-dd}.log&lt;/fileNamePattern&gt;\n        &lt;maxHistory&gt;60&lt;/maxHistory&gt;\n        &lt;totalSizeCap&gt;30GB&lt;/totalSizeCap&gt;\n    &lt;/rollingPolicy&gt;\n    &lt;triggeringPolicy class=&quot;ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy&quot;&gt;\n        &lt;maxFileSize&gt;100MB&lt;/maxFileSize&gt;\n    &lt;/triggeringPolicy&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{HH:mm:ss} [%thread] %-5level - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;file&gt;logs/file.log&lt;/file&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\n    &lt;appender-ref ref=&quot;LOGS_HTML&quot;/&gt;\n    &lt;appender-ref ref=&quot;ROLLING_FILE&quot;/&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>The file.log is attached to an Allure report, but after run, the file doesn't store the correct execution. Displays some previous runs, and nothing regarding the current one.\nEven if I remove the history implementation, the logs are not fully displayed, and those displayed are only from <strong>ClassA</strong></p>\n<p>I need to display all logs during current execution, and nothing more, from all classes available in project.</p>\n"},{"tags":["java","javasound"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1644915316,"post_id":71120669,"comment_id":125724996,"body_markdown":"Javasound will only give you access to input from the microphone and output to speakers. It will not let you access output from other programs going to the speakers - because most operating systems don&#39;t provide a simple way to do that, and it would also be a security issue.","body":"Javasound will only give you access to input from the microphone and output to speakers. It will not let you access output from other programs going to the speakers - because most operating systems don&#39;t provide a simple way to do that, and it would also be a security issue."},{"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1644915504,"post_id":71120669,"comment_id":125725074,"body_markdown":"I&#39;d argue allowing access to the microphone would be a much larger risk than simply the audio stream being sent to the output... anyway; I&#39;ve seen a bunch about being able to use the Mixer class and different ports (headphone, speaker etc) to intercept data, adjust volume etc. I don&#39;t believe it&#39;s &quot;impossible&quot; within the JVM or via JNI to tap into this.","body":"I&#39;d argue allowing access to the microphone would be a much larger risk than simply the audio stream being sent to the output... anyway; I&#39;ve seen a bunch about being able to use the Mixer class and different ports (headphone, speaker etc) to intercept data, adjust volume etc. I don&#39;t believe it&#39;s &quot;impossible&quot; within the JVM or via JNI to tap into this."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1644915959,"post_id":71120669,"comment_id":125725236,"body_markdown":"Like I said most operating systems simply do not allow one process to intercept audio output from another process. Programs that do manage that have to hook in to the OS in some way that normally requires special permissions, or installation the JVM does not do that.","body":"Like I said most operating systems simply do not allow one process to intercept audio output from another process. Programs that do manage that have to hook in to the OS in some way that normally requires special permissions, or installation the JVM does not do that."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1644916118,"post_id":71120669,"comment_id":125725304,"body_markdown":"And yes, microphone access is a security issue. I use macOS and it requires authorisation before allowing the JVM (or anything else) to use the microphone. It also shows a visible indicator when it is in use.","body":"And yes, microphone access is a security issue. I use macOS and it requires authorisation before allowing the JVM (or anything else) to use the microphone. It also shows a visible indicator when it is in use."},{"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"score":0,"creation_date":1644917224,"post_id":71120669,"comment_id":125725775,"body_markdown":"Thanks for the feedback and insight, I guess I&#39;ll need to keep digging deeper into some alternative solutions (language perhaps). Interesting enough, I&#39;m also on macOS and was able to record microphone input with zero prompts. However the little yellow dot did turn on in my action bar.","body":"Thanks for the feedback and insight, I guess I&#39;ll need to keep digging deeper into some alternative solutions (language perhaps). Interesting enough, I&#39;m also on macOS and was able to record microphone input with zero prompts. However the little yellow dot did turn on in my action bar."},{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1644920557,"post_id":71120669,"comment_id":125727130,"body_markdown":"Note: macOS authorisations are remembered. Look at the Microphone section of the Privacy page in the &quot;Security &amp; Privacy&quot; System Preference.","body":"Note: macOS authorisations are remembered. Look at the Microphone section of the Privacy page in the &quot;Security &amp; Privacy&quot; System Preference."},{"owner":{"account_id":424804,"reputation":7765,"user_id":805007,"accept_rate":83,"display_name":"Phil Freihofner"},"score":0,"creation_date":1644945312,"post_id":71120669,"comment_id":125737648,"body_markdown":"FWIW, over the last decade I&#39;ve seen this question asked multiple times (intercepting audio data stream in between some program and the speakers). Not once has there been an answer posted that shows how to do this or that it is even possible. You can explore the lines and ports that are exposed using API discussed here https://docs.oracle.com/javase/tutorial/sound/accessing.html. TargetDataLines read a data line, SourceDataLines write a data line. The naming is kind of backwards.","body":"FWIW, over the last decade I&#39;ve seen this question asked multiple times (intercepting audio data stream in between some program and the speakers). Not once has there been an answer posted that shows how to do this or that it is even possible. You can explore the lines and ports that are exposed using API discussed here <a href=\"https://docs.oracle.com/javase/tutorial/sound/accessing.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/sound/accessing.html</a>. TargetDataLines read a data line, SourceDataLines write a data line. The naming is kind of backwards."}],"owner":{"account_id":996011,"reputation":3477,"user_id":1011926,"accept_rate":78,"display_name":"Chris"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1644900087,"answer_count":0,"score":0,"last_activity_date":1645868875,"creation_date":1644894488,"question_id":71120669,"body_markdown":"I&#39;m playing around with `javax.sound` libraries for the first time and I&#39;m trying to record audio that is currently playing through my computer&#39;s default device, such as music or a video (**not** a microphone). \r\n\r\nI might just be getting myself confused between `TargetDataLine` and `SourceDataLine`, but no matter what I try, all I can manage to do is record sound from the microphone.\r\n\r\n```java\r\nimport jakarta.annotation.PreDestroy;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.sound.sampled.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\n\r\n@Slf4j\r\n@Service\r\npublic class AudioServiceImpl implements AudioService {\r\n\r\n    private final File wavFile = new File(&quot;output.wav&quot;);\r\n\r\n    private final AudioFileFormat.Type fileType = AudioFileFormat.Type.WAVE;\r\n\r\n    private TargetDataLine line;\r\n\r\n    @Override\r\n    public void start() {\r\n\r\n        final Mixer defaultMixer = getMixersWithAudioFormats().stream()\r\n                .filter(mixer -&gt; mixer.getMixerInfo().getName().equals(&quot;Default Audio Device&quot;))\r\n                .findFirst()\r\n                .orElseThrow(() -&gt; new RuntimeException(&quot;No default audio device found&quot;));\r\n\r\n        try {\r\n            final AudioInterface audioInterface = getAudioFormat(defaultMixer);\r\n\r\n            line = (TargetDataLine) AudioSystem.getLine(audioInterface.info());\r\n            line.open(line.getFormat());\r\n            line.start();\r\n\r\n            AudioInputStream audioInputStream = new AudioInputStream(line);\r\n\r\n            log.info(&quot;Recording...&quot;);\r\n\r\n            AudioSystem.write(audioInputStream, fileType, wavFile);\r\n\r\n        } catch (LineUnavailableException | IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Find the first audio format where the line is supported.\r\n     */\r\n    private AudioInterface getAudioFormat(final Mixer mixer) {\r\n        for (final Line.Info mixerInfo : mixer.getTargetLineInfo()) {\r\n            final AudioFormat[] formats = getFormats(mixerInfo);\r\n\r\n            for (final AudioFormat format : formats) {\r\n\r\n                DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\r\n\r\n                if (AudioSystem.isLineSupported(info)) {\r\n                    return new AudioInterface(format, info);\r\n                }\r\n            }\r\n        }\r\n\r\n        throw new RuntimeException(&quot;No supported audio format found&quot;);\r\n    }\r\n\r\n    /**\r\n     * Find all mixers with audio formats.\r\n     */\r\n    private List&lt;Mixer&gt; getMixersWithAudioFormats() {\r\n        final List&lt;Mixer&gt; results = new LinkedList&lt;&gt;();\r\n\r\n        for (Mixer.Info info : AudioSystem.getMixerInfo()) {\r\n            final Mixer mixer = AudioSystem.getMixer(info);\r\n            final Line.Info[] lineInfos = mixer.getTargetLineInfo();\r\n\r\n            for (Line.Info lineInfo : lineInfos) {\r\n                if ((lineInfo instanceof final DataLine.Info dataLineInfo) &amp;&amp; (dataLineInfo.getFormats().length &gt; 0)) {\r\n                    results.add(mixer);\r\n                }\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     * Helper to grab audio formats from a line info.\r\n     */\r\n    private AudioFormat[] getFormats(final Line.Info lineInfo) {\r\n        return lineInfo instanceof final DataLine.Info dataLineInfo ? dataLineInfo.getFormats() : null;\r\n    }\r\n\r\n    @PreDestroy\r\n    void finish() {\r\n        line.stop();\r\n        line.close();\r\n    }\r\n}\r\n```\r\nThe `AudioInterface` is just a helper record\r\n```java\r\nimport javax.sound.sampled.AudioFormat;\r\nimport javax.sound.sampled.DataLine;\r\n\r\npublic record AudioInterface(AudioFormat format, DataLine.Info info) {\r\n}\r\n```\r\n\r\nMy understanding is that I&#39;m correctly grabbing the _Default Audio Device_ mixer, extracting the format out of it and loading that into the `AudioSystem.getLine` method. I just would have thought that to end up recording from the microphone I&#39;d have to have been using a different mixer (In my case, _MacBook Pro Microphone_) instead. \r\n\r\nWhere have I gone wrong here? \r\n\r\n","title":"Trying to record computer audio (not Microphone)","body":"<p>I'm playing around with <code>javax.sound</code> libraries for the first time and I'm trying to record audio that is currently playing through my computer's default device, such as music or a video (<strong>not</strong> a microphone).</p>\n<p>I might just be getting myself confused between <code>TargetDataLine</code> and <code>SourceDataLine</code>, but no matter what I try, all I can manage to do is record sound from the microphone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.annotation.PreDestroy;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.stereotype.Service;\n\nimport javax.sound.sampled.*;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.LinkedList;\nimport java.util.List;\n\n@Slf4j\n@Service\npublic class AudioServiceImpl implements AudioService {\n\n    private final File wavFile = new File(&quot;output.wav&quot;);\n\n    private final AudioFileFormat.Type fileType = AudioFileFormat.Type.WAVE;\n\n    private TargetDataLine line;\n\n    @Override\n    public void start() {\n\n        final Mixer defaultMixer = getMixersWithAudioFormats().stream()\n                .filter(mixer -&gt; mixer.getMixerInfo().getName().equals(&quot;Default Audio Device&quot;))\n                .findFirst()\n                .orElseThrow(() -&gt; new RuntimeException(&quot;No default audio device found&quot;));\n\n        try {\n            final AudioInterface audioInterface = getAudioFormat(defaultMixer);\n\n            line = (TargetDataLine) AudioSystem.getLine(audioInterface.info());\n            line.open(line.getFormat());\n            line.start();\n\n            AudioInputStream audioInputStream = new AudioInputStream(line);\n\n            log.info(&quot;Recording...&quot;);\n\n            AudioSystem.write(audioInputStream, fileType, wavFile);\n\n        } catch (LineUnavailableException | IOException ex) {\n            ex.printStackTrace();\n        }\n    }\n\n    /**\n     * Find the first audio format where the line is supported.\n     */\n    private AudioInterface getAudioFormat(final Mixer mixer) {\n        for (final Line.Info mixerInfo : mixer.getTargetLineInfo()) {\n            final AudioFormat[] formats = getFormats(mixerInfo);\n\n            for (final AudioFormat format : formats) {\n\n                DataLine.Info info = new DataLine.Info(TargetDataLine.class, format);\n\n                if (AudioSystem.isLineSupported(info)) {\n                    return new AudioInterface(format, info);\n                }\n            }\n        }\n\n        throw new RuntimeException(&quot;No supported audio format found&quot;);\n    }\n\n    /**\n     * Find all mixers with audio formats.\n     */\n    private List&lt;Mixer&gt; getMixersWithAudioFormats() {\n        final List&lt;Mixer&gt; results = new LinkedList&lt;&gt;();\n\n        for (Mixer.Info info : AudioSystem.getMixerInfo()) {\n            final Mixer mixer = AudioSystem.getMixer(info);\n            final Line.Info[] lineInfos = mixer.getTargetLineInfo();\n\n            for (Line.Info lineInfo : lineInfos) {\n                if ((lineInfo instanceof final DataLine.Info dataLineInfo) &amp;&amp; (dataLineInfo.getFormats().length &gt; 0)) {\n                    results.add(mixer);\n                }\n            }\n        }\n\n        return results;\n    }\n\n    /**\n     * Helper to grab audio formats from a line info.\n     */\n    private AudioFormat[] getFormats(final Line.Info lineInfo) {\n        return lineInfo instanceof final DataLine.Info dataLineInfo ? dataLineInfo.getFormats() : null;\n    }\n\n    @PreDestroy\n    void finish() {\n        line.stop();\n        line.close();\n    }\n}\n</code></pre>\n<p>The <code>AudioInterface</code> is just a helper record</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.sound.sampled.AudioFormat;\nimport javax.sound.sampled.DataLine;\n\npublic record AudioInterface(AudioFormat format, DataLine.Info info) {\n}\n</code></pre>\n<p>My understanding is that I'm correctly grabbing the <em>Default Audio Device</em> mixer, extracting the format out of it and loading that into the <code>AudioSystem.getLine</code> method. I just would have thought that to end up recording from the microphone I'd have to have been using a different mixer (In my case, <em>MacBook Pro Microphone</em>) instead.</p>\n<p>Where have I gone wrong here?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"score":0,"creation_date":1645632706,"post_id":71239960,"comment_id":125925416,"body_markdown":"you should show your complete request.","body":"you should show your complete request."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1645868719,"post_id":71239960,"comment_id":125987674,"body_markdown":"Please don&#39;t add things like &quot;solved&quot; to a question title. Either accept the answer that helped you solve the problem, or post your own answer and accept it after the timeout.","body":"Please don&#39;t add things like &quot;solved&quot; to a question title. Either accept the answer that helped you solve the problem, or post your own answer and accept it after the timeout."}],"answers":[{"tags":[],"owner":{"account_id":23620375,"reputation":32,"user_id":17653766,"display_name":"Nalbert Wattam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1645632776,"creation_date":1645632776,"answer_id":71240453,"question_id":71239960,"body_markdown":"On your post method you are passing two students objects:\r\n\r\n    public void postRequest(@NonNull @RequestBody student student)\r\n\r\nIt should be:\r\n\r\n    public void postRequest(@NonNull @RequestBody Student student)\r\n\r\nAlso I would recommend you to don&#39;t add anything to the path on your post method, so instead of:\r\n\r\n    @PostMapping(path = &quot;/&quot;)\r\n\r\nUse just:\r\n\r\n    @PostMapping","title":"Spring REST shows a 404 error on POST request","body":"<p>On your post method you are passing two students objects:</p>\n<pre><code>public void postRequest(@NonNull @RequestBody student student)\n</code></pre>\n<p>It should be:</p>\n<pre><code>public void postRequest(@NonNull @RequestBody Student student)\n</code></pre>\n<p>Also I would recommend you to don't add anything to the path on your post method, so instead of:</p>\n<pre><code>@PostMapping(path = &quot;/&quot;)\n</code></pre>\n<p>Use just:</p>\n<pre><code>@PostMapping\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19913029,"reputation":161,"user_id":14590673,"display_name":"Khalid Kbashi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645868750,"creation_date":1645712952,"answer_id":71253517,"question_id":71239960,"body_markdown":"I fixed it by:\r\n1. Deleting the constructor from the controller\r\n2. adding field injection the studentDAO in the controller\r\n3. removing @Service from daoTemplate\r\n4. adding an extra dash to the URI from &quot;http://localhost:8080/student&quot; to &quot;http://localhost:8080/student/&quot;\r\n\r\nI think number 4 was the main issue.","title":"Spring REST shows a 404 error on POST request","body":"<p>I fixed it by:</p>\n<ol>\n<li>Deleting the constructor from the controller</li>\n<li>adding field injection the studentDAO in the controller</li>\n<li>removing @Service from daoTemplate</li>\n<li>adding an extra dash to the URI from &quot;http://localhost:8080/student&quot; to &quot;http://localhost:8080/student/&quot;</li>\n</ol>\n<p>I think number 4 was the main issue.</p>\n"}],"owner":{"account_id":19913029,"reputation":161,"user_id":14590673,"display_name":"Khalid Kbashi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1645868750,"creation_date":1645630881,"question_id":71239960,"body_markdown":"I am getting error on REST POST requests\r\n\r\nproject hierarchy:\r\n\r\n[![project hierarchy][1]][1]\r\n\r\nI am using H2 db and this is how I configured it:\r\n\r\n    spring.h2.console.path=/h2\r\n    spring.h2.console.enabled=true\r\n    spring.datasource.driver-class-name=org.h2.Driver\r\n    spring.datasource.url=jdbc:h2:file:./db/daDb\r\n    spring.datasource.username=user\r\n    spring.datasource.password=1234\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\n\r\nController:\r\n\r\n    \r\n    @RestController\r\n    @RequestMapping(path = &quot;/student&quot;,consumes = &quot;application/json&quot;)\r\n    public class StudentController\r\n    {\r\n        private final studentDAO studentDAO;\r\n        @Autowired\r\n        public StudentController()\r\n        {\r\n            this.studentDAO = new studentDAO();\r\n        }   \r\n    \r\n        @PostMapping(path = &quot;/&quot;)\r\n        @ResponseStatus(HttpStatus.CREATED)\r\n        public void postRequest(@NonNull @RequestBody student student)\r\n        {\r\n            student.setId(UUID.randomUUID());\r\n            this.studentDAO.add(student);\r\n        }\r\n    }\r\n\r\n\r\nService:\r\n\r\n\r\n    @Service\r\n    public class studentDAO extends daoTemplate&lt;student,studentRepo&gt;\r\n    {\r\n        @Autowired\r\n        private studentRepo studentRepo;\r\n    \r\n        @Override\r\n        public void add(student temp)\r\n        {\r\n            this.studentRepo.save(temp);\r\n        }\r\n    \r\n        @Override\r\n        public void patchUpdate(student student,UUID id)\r\n        {\r\n            Optional&lt;student&gt; target = super.getRepo().findById(id);\r\n            if(target.isPresent())\r\n            {\r\n                if(Objects.nonNull(student.getName()))\r\n                    target.get().setName(student.getName());\r\n                if(Objects.nonNull(student.getSubjects()))\r\n                    target.get().setSubjects(student.getSubjects());\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n\r\nThe DAO Template \r\n\r\n    \r\n    @Service\r\n    public abstract class daoTemplate&lt;entity,repo extends CrudRepository&lt;entity,UUID&gt;&gt;\r\n    {\r\n        private repo repo;\r\n    \r\n        public repo getRepo()\r\n        {\r\n            return repo;\r\n        }\r\n    \r\n        public entity get(UUID id)\r\n        {\r\n            Optional&lt;entity&gt; temp = this.repo.findById(id);\r\n            if(temp.isPresent())\r\n            {\r\n                return temp.get();\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public Iterable&lt;entity&gt; getAll()\r\n        {\r\n            return this.repo.findAll();\r\n        }\r\n    \r\n        public void update(entity temp)\r\n        {\r\n            if (Objects.nonNull(temp))\r\n                this.repo.save(temp);\r\n        }\r\n    \r\n        public void patchUpdate(entity temp,UUID id)\r\n        {\r\n            //Manually Written\r\n        }\r\n    \r\n        public void delete(UUID id)\r\n        {\r\n            if(this.repo.existsById(id))\r\n                this.repo.deleteById(id);\r\n        }\r\n    \r\n        public void add(entity temp)\r\n        {\r\n            this.repo.save(temp);\r\n        }\r\n    \r\n        public boolean check(UUID id)\r\n        {\r\n            return this.repo.existsById(id);\r\n        }\r\n    }\r\n\r\n\r\nStudent Entity\r\n\r\n\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class student\r\n    {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private UUID id;\r\n    \r\n        @NotBlank\r\n        @NotEmpty\r\n        private String name;\r\n    \r\n        @NonNull\r\n        private int age;\r\n        \r\n        @ManyToMany(mappedBy = &quot;students&quot;,cascade = {CascadeType.MERGE,CascadeType.DETACH,\r\n        CascadeType.PERSIST,CascadeType.REFRESH},fetch = FetchType.EAGER)\r\n        Collection&lt;subject&gt;subjects;\r\n    \r\n        public void addSubjectByID(Collection&lt;UUID&gt; subjectsIDs)\r\n        {\r\n            if(!subjectsIDs.isEmpty())\r\n            {\r\n                subjectDAO dao = new subjectDAO();\r\n                subjectsIDs.stream().distinct()\r\n                        .map((id) -&gt; {\r\n                            return dao.get(id);\r\n                        })\r\n                        .forEach((subject) -&gt; {\r\n                            this.subjects.add(subject);\r\n                        });\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThe URL : http://localhost:8080/student\r\n\r\nThe JSON request:\r\n\r\n        {\r\n        &quot;name&quot;: &quot;khalid kbashi&quot;,\r\n        &quot;age&quot;: 16,\r\n        &quot;subject&quot;: null\r\n    }\r\n\r\nResponse:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n--------\r\nUPDATES ON CODE :\r\n1- added `spring.jpa.properties.hibernate.globally_quoted_identifiers=true\r\n` to application.proprites\r\n2- added and handled some exceptions\r\n\r\n  [1]: https://i.stack.imgur.com/P0d7e.png\r\n  [2]: https://i.stack.imgur.com/8b4aq.png","title":"Spring REST shows a 404 error on POST request","body":"<p>I am getting error on REST POST requests</p>\n<p>project hierarchy:</p>\n<p><a href=\"https://i.stack.imgur.com/P0d7e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P0d7e.png\" alt=\"project hierarchy\" /></a></p>\n<p>I am using H2 db and this is how I configured it:</p>\n<pre><code>spring.h2.console.path=/h2\nspring.h2.console.enabled=true\nspring.datasource.driver-class-name=org.h2.Driver\nspring.datasource.url=jdbc:h2:file:./db/daDb\nspring.datasource.username=user\nspring.datasource.password=1234\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\n@RequestMapping(path = &quot;/student&quot;,consumes = &quot;application/json&quot;)\npublic class StudentController\n{\n    private final studentDAO studentDAO;\n    @Autowired\n    public StudentController()\n    {\n        this.studentDAO = new studentDAO();\n    }   \n\n    @PostMapping(path = &quot;/&quot;)\n    @ResponseStatus(HttpStatus.CREATED)\n    public void postRequest(@NonNull @RequestBody student student)\n    {\n        student.setId(UUID.randomUUID());\n        this.studentDAO.add(student);\n    }\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class studentDAO extends daoTemplate&lt;student,studentRepo&gt;\n{\n    @Autowired\n    private studentRepo studentRepo;\n\n    @Override\n    public void add(student temp)\n    {\n        this.studentRepo.save(temp);\n    }\n\n    @Override\n    public void patchUpdate(student student,UUID id)\n    {\n        Optional&lt;student&gt; target = super.getRepo().findById(id);\n        if(target.isPresent())\n        {\n            if(Objects.nonNull(student.getName()))\n                target.get().setName(student.getName());\n            if(Objects.nonNull(student.getSubjects()))\n                target.get().setSubjects(student.getSubjects());\n        }\n    }\n\n}\n</code></pre>\n<p>The DAO Template</p>\n<pre><code>@Service\npublic abstract class daoTemplate&lt;entity,repo extends CrudRepository&lt;entity,UUID&gt;&gt;\n{\n    private repo repo;\n\n    public repo getRepo()\n    {\n        return repo;\n    }\n\n    public entity get(UUID id)\n    {\n        Optional&lt;entity&gt; temp = this.repo.findById(id);\n        if(temp.isPresent())\n        {\n            return temp.get();\n        }\n        return null;\n    }\n\n    public Iterable&lt;entity&gt; getAll()\n    {\n        return this.repo.findAll();\n    }\n\n    public void update(entity temp)\n    {\n        if (Objects.nonNull(temp))\n            this.repo.save(temp);\n    }\n\n    public void patchUpdate(entity temp,UUID id)\n    {\n        //Manually Written\n    }\n\n    public void delete(UUID id)\n    {\n        if(this.repo.existsById(id))\n            this.repo.deleteById(id);\n    }\n\n    public void add(entity temp)\n    {\n        this.repo.save(temp);\n    }\n\n    public boolean check(UUID id)\n    {\n        return this.repo.existsById(id);\n    }\n}\n</code></pre>\n<p>Student Entity</p>\n<pre><code>@Entity\n@Data\n@NoArgsConstructor\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class student\n{\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n\n    @NotBlank\n    @NotEmpty\n    private String name;\n\n    @NonNull\n    private int age;\n    \n    @ManyToMany(mappedBy = &quot;students&quot;,cascade = {CascadeType.MERGE,CascadeType.DETACH,\n    CascadeType.PERSIST,CascadeType.REFRESH},fetch = FetchType.EAGER)\n    Collection&lt;subject&gt;subjects;\n\n    public void addSubjectByID(Collection&lt;UUID&gt; subjectsIDs)\n    {\n        if(!subjectsIDs.isEmpty())\n        {\n            subjectDAO dao = new subjectDAO();\n            subjectsIDs.stream().distinct()\n                    .map((id) -&gt; {\n                        return dao.get(id);\n                    })\n                    .forEach((subject) -&gt; {\n                        this.subjects.add(subject);\n                    });\n        }\n    }\n\n}\n</code></pre>\n<p>The URL : http://localhost:8080/student</p>\n<p>The JSON request:</p>\n<pre><code>    {\n    &quot;name&quot;: &quot;khalid kbashi&quot;,\n    &quot;age&quot;: 16,\n    &quot;subject&quot;: null\n}\n</code></pre>\n<p>Response:</p>\n<p><a href=\"https://i.stack.imgur.com/8b4aq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8b4aq.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>UPDATES ON CODE :\n1- added <code>spring.jpa.properties.hibernate.globally_quoted_identifiers=true </code> to application.proprites\n2- added and handled some exceptions</p>\n"},{"tags":["java","windows","console"],"comments":[{"owner":{"account_id":7588943,"reputation":678,"user_id":5757162,"accept_rate":69,"display_name":"Squirrel in training"},"score":0,"creation_date":1453818733,"post_id":35016172,"comment_id":57759105,"body_markdown":"And another sub question that just came up: is a formfeed (&quot;\\f&quot;) nothing else but a white space, with that i mean pressign the spacebar once?","body":"And another sub question that just came up: is a formfeed (&quot;\\f&quot;) nothing else but a white space, with that i mean pressign the spacebar once?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1453819490,"post_id":35016172,"comment_id":57759675,"body_markdown":"Why on earth do you write a `\\n` if you don’t want a line feed? Just don’t write the `\\n` if you want to stay at the end of the line.","body":"Why on earth do you write a <code>\\n</code> if you don’t want a line feed? Just don’t write the <code>\\n</code> if you want to stay at the end of the line."},{"owner":{"account_id":7588943,"reputation":678,"user_id":5757162,"accept_rate":69,"display_name":"Squirrel in training"},"score":0,"creation_date":1453883398,"post_id":35016172,"comment_id":57789770,"body_markdown":"@Holger its more like this: I want to print out some things on the console, wait a few seconds then delete the last 3 lines and write sth new.","body":"@Holger its more like this: I want to print out some things on the console, wait a few seconds then delete the last 3 lines and write sth new."}],"answers":[{"tags":[],"owner":{"account_id":6829282,"reputation":99,"user_id":5253957,"display_name":"SpyderCoder"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1645867083,"creation_date":1645867083,"answer_id":71275428,"question_id":35016172,"body_markdown":"It&#39;s impossible without third party libraries. I&#39;ve done extensive research on this as I&#39;ve been working on console games for the past week and from what I can tell you can either require JNI, JNA, Jansi, or JLine which will require Jansi or JNA. Personally I recommend [JLine][1] as all the others will require you to write C or C++.\r\n\r\nIf you say want to go up so many lines you could do something like this with JLine.\r\n\r\n    import org.jline.terminal.Terminal;\r\n    import org.jline.terminal.TerminalBuilder;\r\n    import org.jline.utils.InfoCmp;\r\n    import java.io.IOException;\r\n\r\n    public class CursorStuff\r\n    {\r\n        static Terminal terminal;\r\n\r\n        public static void main(String[] args) throws IOException\r\n        {\r\n            terminal = TerminalBuilder.terminal();\r\n            System.out.println(&quot;1&quot;);\r\n            System.out.println(&quot;2&quot;);\r\n            System.out.println(&quot;3&quot;);\r\n            System.out.println(&quot;This line will get overwritten by the terminal path&quot;);\r\n            goBackLines(3);\r\n            System.out.println(&quot;back 3 overwriting 2&quot;);\r\n        }\r\n\r\n        public static void goBackLines(int remove)\r\n        {\r\n            for(int i = 0; i &lt; remove; i++)\r\n            {\r\n                terminal.puts(InfoCmp.Capability.cursor_up);\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://github.com/jline/jline3","title":"Java: Moving the Console cursor up a line","body":"<p>It's impossible without third party libraries. I've done extensive research on this as I've been working on console games for the past week and from what I can tell you can either require JNI, JNA, Jansi, or JLine which will require Jansi or JNA. Personally I recommend <a href=\"https://github.com/jline/jline3\" rel=\"nofollow noreferrer\">JLine</a> as all the others will require you to write C or C++.</p>\n<p>If you say want to go up so many lines you could do something like this with JLine.</p>\n<pre><code>import org.jline.terminal.Terminal;\nimport org.jline.terminal.TerminalBuilder;\nimport org.jline.utils.InfoCmp;\nimport java.io.IOException;\n\npublic class CursorStuff\n{\n    static Terminal terminal;\n\n    public static void main(String[] args) throws IOException\n    {\n        terminal = TerminalBuilder.terminal();\n        System.out.println(&quot;1&quot;);\n        System.out.println(&quot;2&quot;);\n        System.out.println(&quot;3&quot;);\n        System.out.println(&quot;This line will get overwritten by the terminal path&quot;);\n        goBackLines(3);\n        System.out.println(&quot;back 3 overwriting 2&quot;);\n    }\n\n    public static void goBackLines(int remove)\n    {\n        for(int i = 0; i &lt; remove; i++)\n        {\n            terminal.puts(InfoCmp.Capability.cursor_up);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7588943,"reputation":678,"user_id":5757162,"accept_rate":69,"display_name":"Squirrel in training"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3158,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1645867083,"creation_date":1453818467,"question_id":35016172,"body_markdown":"First let me clear out i am new to programming and hope that i am using the right terminology.  \r\n\r\nI using the `System.out.print(&quot;&quot;);` Method to print to the Windows Console: \r\n`System.out.print(&quot;Backspace b&quot;);  //Output: Backspace b`  \r\nSo the cursor is now &quot;behind&quot; the b, if i type in `System.out.print(&quot;\\b&quot;);` the curser moves one to the left, deleting the &quot;b&quot;. --&gt;   \r\n `System.out.print(&quot;Backspace b&quot;);  //Output: Backspace b \r\n System.out.print(&quot;\\bh&quot;);          //Output: Backspace h` \r\n\r\nNow if i Type in `System.out.print(&quot;\\n\\bh&quot;);` the output isn&#39;t `Backspace bh` but:   \r\n&quot;`Backspace b\r\n  h`&quot;\r\n\r\nHow can i manage that the cursor goes back one line &quot;up&quot; and to it&#39;s far right. Something line a &quot;minus \\n&quot; or &quot;not \\n&quot;, so that it reads `Backspace bh`?  \r\nIs there something like that in Java?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java: Moving the Console cursor up a line","body":"<p>First let me clear out i am new to programming and hope that i am using the right terminology.  </p>\n\n<p>I using the <code>System.out.print(\"\");</code> Method to print to the Windows Console: \n<code>System.out.print(\"Backspace b\");  //Output: Backspace b</code><br>\nSo the cursor is now \"behind\" the b, if i type in <code>System.out.print(\"\\b\");</code> the curser moves one to the left, deleting the \"b\". --><br>\n <code>System.out.print(\"Backspace b\");  //Output: Backspace b \n System.out.print(\"\\bh\");          //Output: Backspace h</code> </p>\n\n<p>Now if i Type in <code>System.out.print(\"\\n\\bh\");</code> the output isn't <code>Backspace bh</code> but:<br>\n\"<code>Backspace b\n  h</code>\"</p>\n\n<p>How can i manage that the cursor goes back one line \"up\" and to it's far right. Something line a \"minus \\n\" or \"not \\n\", so that it reads <code>Backspace bh</code>?<br>\nIs there something like that in Java?</p>\n"},{"tags":["java","android","firebase","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":8347678,"reputation":1240,"user_id":6270897,"display_name":"Jijo Alexander"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645865380,"creation_date":1645865073,"answer_id":71275238,"question_id":71243169,"body_markdown":"Move the addview method from onScrollStateChanged to onPlayerStateChanged method of exoplayer. By adding view in onscrollstatechanged it was trying to add the view at every fraction of a second.\r\n\r\nAlso, Add a handler, which keeps checking the state of a variable if the view is not added then add the view, this way, the view gets added most of the time either via onPlayerStateChanged method or by the handler. It resolves in most of the cases but still not 100%.\r\n\r\nHere I&#39;m adding a reference to the issue\r\n[https://github.com/google/ExoPlayer/issues/7750][1]\r\n\r\n\r\n  [1]: https://github.com/google/ExoPlayer/issues/7750","title":"ExoPlayer shows black screen instead of loading video (only sometimes)","body":"<p>Move the addview method from onScrollStateChanged to onPlayerStateChanged method of exoplayer. By adding view in onscrollstatechanged it was trying to add the view at every fraction of a second.</p>\n<p>Also, Add a handler, which keeps checking the state of a variable if the view is not added then add the view, this way, the view gets added most of the time either via onPlayerStateChanged method or by the handler. It resolves in most of the cases but still not 100%.</p>\n<p>Here I'm adding a reference to the issue\n<a href=\"https://github.com/google/ExoPlayer/issues/7750\" rel=\"nofollow noreferrer\">https://github.com/google/ExoPlayer/issues/7750</a></p>\n"}],"owner":{"account_id":19703283,"reputation":290,"user_id":15477915,"display_name":"GSepetadelis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5092,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1645865781,"creation_date":1645645651,"question_id":71243169,"body_markdown":"I have a `recyclerView` inside my app witch can load videos and images. I&#39;m using **ExoPlayer** library to load videos into my recycler view. The problem is that sometimes **ExoPlayer** show black screen instead of loading the video. I tried to Log the video url from firebase and is not null or something like this. \r\n\r\n**I&#39;m using this library:** https://github.com/HamidrezaAmz/MagicalExoPlayer\r\n\r\n**Note:** This problem appeared when i implemented Pagination (load more post&#39;s on scroll) with firebase and `recyclerView`. \r\n\r\n**My HomeFragment:**\r\n\r\n    public class HomeFragment extends Fragment {\r\n    \r\n        LoadingDialog progressDialog;\r\n        final DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n        boolean isSearchOpen = false;\r\n        private EditText searchView;\r\n        ArrayList&lt;PostModel&gt; postModelArrayList;\r\n        ArrayList&lt;PostModel&gt; loadedPostsArrayList;\r\n        RecyclerView recyclerView;\r\n        PostRecyclerAdapter recyclerAdapter;\r\n    \r\n        int lastLoadedIndex = 0;\r\n    \r\n        void loadMorePosts() {\r\n            // Load 4 post&#39;s per time\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                if (lastLoadedIndex + 1 &lt; postModelArrayList.size()) {\r\n                    PostModel postModel = postModelArrayList.get(lastLoadedIndex + 1);\r\n                    loadedPostsArrayList.add(postModel);\r\n                    recyclerAdapter.notifyDataSetChanged();\r\n                    lastLoadedIndex = lastLoadedIndex + 1;\r\n                }\r\n            }\r\n        }\r\n    \r\n        void loadAllPosts(View fragmentView) {\r\n            DatabaseReference postsRef = FirebaseDatabase.getInstance().getReference(&quot;posts&quot;);\r\n            postsRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n    \r\n                    new Handler().postDelayed(() -&gt; {\r\n                        fragmentView.findViewById(R.id.constraintLayout2).setVisibility(View.GONE);\r\n                        HomeActivity.bottomNavBar.setVisibility(View.VISIBLE);\r\n                        HomeActivity.showLoadingScreen = false;\r\n                    }, 1200);\r\n    \r\n                    for (DataSnapshot postSnapshot : snapshot.getChildren()) {\r\n                        PostModel postModel = postSnapshot.getValue(PostModel.class);\r\n    \r\n                        // Show post in recycler adapter only if the user is not blocked\r\n                        if (!snapshot.child(&quot;users&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(&quot;blockedUsers&quot;).child(postSnapshot.child(&quot;name&quot;).getValue(String.class)).exists()) {\r\n                            postModelArrayList.add(postModel);\r\n                        }\r\n    \r\n                        recyclerAdapter.notifyDataSetChanged();\r\n                    }\r\n    \r\n                    // Reverse elements inside postModelArrayList\r\n                    Collections.reverse(postModelArrayList);\r\n    \r\n                    // Load first 3 post&#39;s\r\n                    for (int i = 0; i &lt; 3; i++) {\r\n                        loadedPostsArrayList.add(postModelArrayList.get(i));\r\n                        lastLoadedIndex++;\r\n                    }\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    Toast.makeText(getContext(), &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n    \r\n            // Inflate the layout for this fragment\r\n            View view = inflater.inflate(R.layout.fragment_home, container, false);\r\n    \r\n            SwipeRefreshLayout swipeRefreshLayout = view.findViewById(R.id.root_view);\r\n            TextView usernameLoadingScreen = view.findViewById(R.id.textView40);\r\n            ImageButton searchUserBtn = view.findViewById(R.id.searchPersonButton);\r\n            ImageButton notificationsBtn = view.findViewById(R.id.notificationsButton);\r\n            ImageButton searchUserButton = view.findViewById(R.id.enter_search_button);\r\n            View postsOfTheMonthBtn = view.findViewById(R.id.posts_of_the_month_btn);\r\n            searchView = view.findViewById(R.id.search_view);\r\n    \r\n            recyclerView = view.findViewById(R.id.home_recycler_view);\r\n            loadedPostsArrayList = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n            final LinearLayoutManager layoutManager = new LinearLayoutManager(getContext());\r\n            recyclerAdapter = new PostRecyclerAdapter(loadedPostsArrayList, getContext(), getActivity());\r\n            \r\n            recyclerView.setAdapter(recyclerAdapter);\r\n            recyclerView.setLayoutManager(layoutManager);\r\n    \r\n            progressDialog = LoadingDialog.Companion.get(getActivity());\r\n    \r\n            searchView.setVisibility(View.GONE);\r\n            searchUserButton.setVisibility(View.GONE);\r\n    \r\n            if (HomeActivity.showWhatsNewMessage) {\r\n                FirebaseInAppMessaging.getInstance().triggerEvent(&quot;new_version_open&quot;);\r\n            }\r\n    \r\n            // Avoid data refresh on every swipe down\r\n            recyclerView.setOnScrollChangeListener((v, scrollX, scrollY, oldScrollX, oldScrollY) -&gt;\r\n                    swipeRefreshLayout.setEnabled(scrollY &lt;= 5));\r\n    \r\n            // Re-load data\r\n            swipeRefreshLayout.setOnRefreshListener(() -&gt; {\r\n                swipeRefreshLayout.setRefreshing(true);\r\n                loadAllPosts(view);\r\n                swipeRefreshLayout.setRefreshing(false);\r\n            });\r\n    \r\n            recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\r\n                @Override\r\n                public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\r\n                    super.onScrolled(recyclerView, dx, dy);\r\n                    loadMorePosts();\r\n                }\r\n            });\r\n    \r\n            HomeActivity.bottomNavBar.setVisibility(View.GONE);\r\n            loadAllPosts(view);\r\n    \r\n            return view;\r\n        }\r\n    \r\n    }\r\n\r\n**My PostRecyclerAdapter:**\r\n\r\n    public class PostRecyclerAdapter extends RecyclerView.Adapter {\r\n    \r\n        List&lt;PostModel&gt; postList;\r\n        Context context;\r\n        Activity activity;\r\n    \r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            if (postList.get(position).getPostType().equals(&quot;video&quot;)) {\r\n                return 1;\r\n            }\r\n            return 0;\r\n        }\r\n    \r\n        public void addAll(List&lt;PostModel&gt; newPosts) {\r\n            int initSize = postList.size();\r\n            postList.addAll(newPosts);\r\n            notifyItemRangeChanged(initSize, postList.size());\r\n        }\r\n    \r\n        public String getLastItemID() {\r\n            return postList.get(postList.size() - 1).getId();\r\n        }\r\n    \r\n        public PostRecyclerAdapter(ArrayList&lt;PostModel&gt; postModelArrayList, Context context, Activity activity) {\r\n            this.postList = postModelArrayList;\r\n            this.context = context;\r\n            this.activity = activity;\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            if (viewType == 1) {\r\n                return new VideoViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.post_video_item, parent, false));\r\n            }\r\n            return new ImageViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.post_item, parent, false));\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\r\n    \r\n            DatabaseReference likeRef = FirebaseDatabase.getInstance().getReference(&quot;likes&quot;);\r\n            FirebaseAuth mAuth = FirebaseAuth.getInstance();\r\n            FirebaseUser user = mAuth.getCurrentUser();\r\n    \r\n            if (postList.get(position).getPostType().equals(&quot;video&quot;)) {\r\n                // bind video view holder\r\n                VideoViewHolder videoViewHolder = (VideoViewHolder) holder;\r\n                videoViewHolder.setContext(context);\r\n    \r\n                // check if post is liked or not\r\n                likeRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n                        if (!HomeActivity.anonymous) {\r\n    \r\n                            // check if current post is liked from this user\r\n                            if (snapshot.child(videoViewHolder.id).hasChild(user.getUid())) {\r\n                                // post is liked form this user\r\n                                videoViewHolder.like_btn.setImageResource(R.drawable.ic_thumb_up_filled);\r\n    \r\n                            } else {\r\n                                // post is not liked from this user\r\n                                videoViewHolder.like_btn.setImageResource(R.drawable.ic_thump_up_outline);\r\n                            }\r\n                        } else {\r\n                            // disable like button\r\n                            videoViewHolder.like_btn.setEnabled(false);\r\n                        }\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n                        Toast.makeText(context, &quot;error: &quot; + error, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    \r\n                // Get current post id set username, authorID, profile picture URL, postType, likes and post image URL\r\n                videoViewHolder.id = postList.get(position).getId();\r\n                videoViewHolder.username.setText(postList.get(position).getName());\r\n                videoViewHolder.userID = postList.get(position).getAuthorID();\r\n                videoViewHolder.like_counter_tv.setText(postList.get(position).getLikes());\r\n                videoViewHolder.videoURL = postList.get(position).getImgUrl();\r\n    \r\n                // Load video source\r\n                HashMap&lt;String, String&gt; extraHeaders = new HashMap&lt;&gt;();\r\n                extraHeaders.put(&quot;foo&quot;, &quot;bar&quot;);\r\n                videoViewHolder.andExoPlayerView.setSource(postList.get(position).getImgUrl(), extraHeaders);\r\n                videoViewHolder.andExoPlayerView.setPlayWhenReady(false);\r\n                videoViewHolder.andExoPlayerView.setAspectRatio(EnumAspectRatio.ASPECT_16_9);\r\n    \r\n                // Load profile picture\r\n                String profilePictureUrl = postList.get(position).getProfileImgUrl();\r\n                if (profilePictureUrl != null) {\r\n                    if (!profilePictureUrl.equals(&quot;none&quot;)) {\r\n                        Glide.with(context).load(profilePictureUrl).into(videoViewHolder.profilePicture);\r\n                    }\r\n                }\r\n    \r\n    \r\n            } else {\r\n    \r\n                // bind image view holder\r\n                ImageViewHolder imageViewHolder = (ImageViewHolder) holder;\r\n                imageViewHolder.setContext(context);\r\n    \r\n                // check if post is liked or not\r\n                likeRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\r\n                        if (!HomeActivity.anonymous) {\r\n    \r\n                            // check if current post is liked from this user\r\n                            if (snapshot.child(imageViewHolder.postID).hasChild(user.getUid())) {\r\n                                // post is liked form this user\r\n                                imageViewHolder.like_btn.setImageResource(R.drawable.ic_thumb_up_filled);\r\n    \r\n                            } else {\r\n                                // post is not liked from this user\r\n                                imageViewHolder.like_btn.setImageResource(R.drawable.ic_thump_up_outline);\r\n                            }\r\n                        } else {\r\n                            // disable like button\r\n                            imageViewHolder.like_btn.setEnabled(false);\r\n                        }\r\n    \r\n                    }\r\n    \r\n                    @Override\r\n                    public void onCancelled(@NonNull @NotNull DatabaseError error) {\r\n                        Toast.makeText(context, &quot;error: &quot; + error, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n    \r\n    \r\n                // Get current post id set username, authorID, profile picture URL, postType, likes and post image URL\r\n                imageViewHolder.postID = postList.get(position).getId();\r\n                imageViewHolder.username.setText(postList.get(position).getName());\r\n                imageViewHolder.userID = postList.get(position).getAuthorID();\r\n                imageViewHolder.like_counter_tv.setText(postList.get(position).getLikes());\r\n    \r\n                Picasso.get().load(postList.get(position).getImgUrl()).into(imageViewHolder.postImg);\r\n                imageViewHolder.postImageURL = postList.get(position).getImgUrl();\r\n    \r\n                // Load profile picture\r\n                String profilePictureUrl = postList.get(position).getProfileImgUrl();\r\n                if (profilePictureUrl != null) {\r\n                    if (!profilePictureUrl.equals(&quot;none&quot;)) {\r\n                        Glide.with(context).load(profilePictureUrl).into(imageViewHolder.profileImage);\r\n                    }\r\n                }\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return postList.size();\r\n        }\r\n    \r\n    }\r\n\r\n**My video_post_item.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/video_container&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:layout_margin=&quot;12dp&quot;\r\n        app:cardElevation=&quot;8dp&quot;\r\n        app:cardCornerRadius=&quot;10dp&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/sContainer&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:background=&quot;?attr/cardBackgroundColor&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n            &lt;de.hdodenhof.circleimageview.CircleImageView\r\n                android:id=&quot;@+id/circleImageView2&quot;\r\n                android:layout_width=&quot;35dp&quot;\r\n                android:layout_height=&quot;35dp&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:src=&quot;@drawable/user&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/textView27&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView27&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;8dp&quot;\r\n                android:text=&quot;username&quot;\r\n                android:textColor=&quot;?attr/titleTextColor&quot;\r\n                android:textSize=&quot;17sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/circleImageView2&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/circleImageView2&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@+id/circleImageView2&quot; /&gt;\r\n    \r\n            &lt;com.potyvideo.library.AndExoPlayerView\r\n                android:id=&quot;@+id/andExoPlayerView&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginTop=&quot;16dp&quot;\r\n                app:andexo_show_full_screen=&quot;true&quot;\r\n                app:keep_content_on_player_reset=&quot;true&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/textView27&quot;\r\n                app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\r\n    \r\n            &lt;ImageButton\r\n                android:id=&quot;@+id/imageButton8&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;15dp&quot;\r\n                android:background=&quot;@null&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/textView27&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@+id/textView27&quot;\r\n                app:srcCompat=&quot;@drawable/ic_thumb_up&quot; /&gt;\r\n    \r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView36&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;8dp&quot;\r\n                android:text=&quot;0&quot;\r\n                android:textColor=&quot;?attr/titleTextColor&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;@+id/imageButton8&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@+id/imageButton8&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@+id/imageButton8&quot; /&gt;\r\n    \r\n            &lt;View\r\n                android:id=&quot;@+id/view5&quot;\r\n                android:layout_width=&quot;200dp&quot;\r\n                android:layout_height=&quot;55dp&quot;\r\n                android:focusable=&quot;true&quot;\r\n                android:foreground=&quot;?selectableItemBackgroundBorderless&quot;\r\n                app:layout_constraintBottom_toTopOf=&quot;@+id/andExoPlayerView&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;@+id/textView27&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;@+id/circleImageView2&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/androidx.cardview.widget.CardView&gt;","title":"ExoPlayer shows black screen instead of loading video (only sometimes)","body":"<p>I have a <code>recyclerView</code> inside my app witch can load videos and images. I'm using <strong>ExoPlayer</strong> library to load videos into my recycler view. The problem is that sometimes <strong>ExoPlayer</strong> show black screen instead of loading the video. I tried to Log the video url from firebase and is not null or something like this.</p>\n<p><strong>I'm using this library:</strong> <a href=\"https://github.com/HamidrezaAmz/MagicalExoPlayer\" rel=\"nofollow noreferrer\">https://github.com/HamidrezaAmz/MagicalExoPlayer</a></p>\n<p><strong>Note:</strong> This problem appeared when i implemented Pagination (load more post's on scroll) with firebase and <code>recyclerView</code>.</p>\n<p><strong>My HomeFragment:</strong></p>\n<pre><code>public class HomeFragment extends Fragment {\n\n    LoadingDialog progressDialog;\n    final DatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n    boolean isSearchOpen = false;\n    private EditText searchView;\n    ArrayList&lt;PostModel&gt; postModelArrayList;\n    ArrayList&lt;PostModel&gt; loadedPostsArrayList;\n    RecyclerView recyclerView;\n    PostRecyclerAdapter recyclerAdapter;\n\n    int lastLoadedIndex = 0;\n\n    void loadMorePosts() {\n        // Load 4 post's per time\n        for (int i = 0; i &lt; 3; i++) {\n            if (lastLoadedIndex + 1 &lt; postModelArrayList.size()) {\n                PostModel postModel = postModelArrayList.get(lastLoadedIndex + 1);\n                loadedPostsArrayList.add(postModel);\n                recyclerAdapter.notifyDataSetChanged();\n                lastLoadedIndex = lastLoadedIndex + 1;\n            }\n        }\n    }\n\n    void loadAllPosts(View fragmentView) {\n        DatabaseReference postsRef = FirebaseDatabase.getInstance().getReference(&quot;posts&quot;);\n        postsRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n                new Handler().postDelayed(() -&gt; {\n                    fragmentView.findViewById(R.id.constraintLayout2).setVisibility(View.GONE);\n                    HomeActivity.bottomNavBar.setVisibility(View.VISIBLE);\n                    HomeActivity.showLoadingScreen = false;\n                }, 1200);\n\n                for (DataSnapshot postSnapshot : snapshot.getChildren()) {\n                    PostModel postModel = postSnapshot.getValue(PostModel.class);\n\n                    // Show post in recycler adapter only if the user is not blocked\n                    if (!snapshot.child(&quot;users&quot;).child(FirebaseAuth.getInstance().getCurrentUser().getUid()).child(&quot;blockedUsers&quot;).child(postSnapshot.child(&quot;name&quot;).getValue(String.class)).exists()) {\n                        postModelArrayList.add(postModel);\n                    }\n\n                    recyclerAdapter.notifyDataSetChanged();\n                }\n\n                // Reverse elements inside postModelArrayList\n                Collections.reverse(postModelArrayList);\n\n                // Load first 3 post's\n                for (int i = 0; i &lt; 3; i++) {\n                    loadedPostsArrayList.add(postModelArrayList.get(i));\n                    lastLoadedIndex++;\n                }\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                Toast.makeText(getContext(), &quot;Error: &quot; + error.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_home, container, false);\n\n        SwipeRefreshLayout swipeRefreshLayout = view.findViewById(R.id.root_view);\n        TextView usernameLoadingScreen = view.findViewById(R.id.textView40);\n        ImageButton searchUserBtn = view.findViewById(R.id.searchPersonButton);\n        ImageButton notificationsBtn = view.findViewById(R.id.notificationsButton);\n        ImageButton searchUserButton = view.findViewById(R.id.enter_search_button);\n        View postsOfTheMonthBtn = view.findViewById(R.id.posts_of_the_month_btn);\n        searchView = view.findViewById(R.id.search_view);\n\n        recyclerView = view.findViewById(R.id.home_recycler_view);\n        loadedPostsArrayList = new ArrayList&lt;&gt;();\n\n\n        final LinearLayoutManager layoutManager = new LinearLayoutManager(getContext());\n        recyclerAdapter = new PostRecyclerAdapter(loadedPostsArrayList, getContext(), getActivity());\n        \n        recyclerView.setAdapter(recyclerAdapter);\n        recyclerView.setLayoutManager(layoutManager);\n\n        progressDialog = LoadingDialog.Companion.get(getActivity());\n\n        searchView.setVisibility(View.GONE);\n        searchUserButton.setVisibility(View.GONE);\n\n        if (HomeActivity.showWhatsNewMessage) {\n            FirebaseInAppMessaging.getInstance().triggerEvent(&quot;new_version_open&quot;);\n        }\n\n        // Avoid data refresh on every swipe down\n        recyclerView.setOnScrollChangeListener((v, scrollX, scrollY, oldScrollX, oldScrollY) -&gt;\n                swipeRefreshLayout.setEnabled(scrollY &lt;= 5));\n\n        // Re-load data\n        swipeRefreshLayout.setOnRefreshListener(() -&gt; {\n            swipeRefreshLayout.setRefreshing(true);\n            loadAllPosts(view);\n            swipeRefreshLayout.setRefreshing(false);\n        });\n\n        recyclerView.addOnScrollListener(new RecyclerView.OnScrollListener() {\n            @Override\n            public void onScrolled(@NonNull RecyclerView recyclerView, int dx, int dy) {\n                super.onScrolled(recyclerView, dx, dy);\n                loadMorePosts();\n            }\n        });\n\n        HomeActivity.bottomNavBar.setVisibility(View.GONE);\n        loadAllPosts(view);\n\n        return view;\n    }\n\n}\n</code></pre>\n<p><strong>My PostRecyclerAdapter:</strong></p>\n<pre><code>public class PostRecyclerAdapter extends RecyclerView.Adapter {\n\n    List&lt;PostModel&gt; postList;\n    Context context;\n    Activity activity;\n\n    @Override\n    public int getItemViewType(int position) {\n        if (postList.get(position).getPostType().equals(&quot;video&quot;)) {\n            return 1;\n        }\n        return 0;\n    }\n\n    public void addAll(List&lt;PostModel&gt; newPosts) {\n        int initSize = postList.size();\n        postList.addAll(newPosts);\n        notifyItemRangeChanged(initSize, postList.size());\n    }\n\n    public String getLastItemID() {\n        return postList.get(postList.size() - 1).getId();\n    }\n\n    public PostRecyclerAdapter(ArrayList&lt;PostModel&gt; postModelArrayList, Context context, Activity activity) {\n        this.postList = postModelArrayList;\n        this.context = context;\n        this.activity = activity;\n    }\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        if (viewType == 1) {\n            return new VideoViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.post_video_item, parent, false));\n        }\n        return new ImageViewHolder(LayoutInflater.from(parent.getContext()).inflate(R.layout.post_item, parent, false));\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, int position) {\n\n        DatabaseReference likeRef = FirebaseDatabase.getInstance().getReference(&quot;likes&quot;);\n        FirebaseAuth mAuth = FirebaseAuth.getInstance();\n        FirebaseUser user = mAuth.getCurrentUser();\n\n        if (postList.get(position).getPostType().equals(&quot;video&quot;)) {\n            // bind video view holder\n            VideoViewHolder videoViewHolder = (VideoViewHolder) holder;\n            videoViewHolder.setContext(context);\n\n            // check if post is liked or not\n            likeRef.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n                    if (!HomeActivity.anonymous) {\n\n                        // check if current post is liked from this user\n                        if (snapshot.child(videoViewHolder.id).hasChild(user.getUid())) {\n                            // post is liked form this user\n                            videoViewHolder.like_btn.setImageResource(R.drawable.ic_thumb_up_filled);\n\n                        } else {\n                            // post is not liked from this user\n                            videoViewHolder.like_btn.setImageResource(R.drawable.ic_thump_up_outline);\n                        }\n                    } else {\n                        // disable like button\n                        videoViewHolder.like_btn.setEnabled(false);\n                    }\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull @NotNull DatabaseError error) {\n                    Toast.makeText(context, &quot;error: &quot; + error, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n            // Get current post id set username, authorID, profile picture URL, postType, likes and post image URL\n            videoViewHolder.id = postList.get(position).getId();\n            videoViewHolder.username.setText(postList.get(position).getName());\n            videoViewHolder.userID = postList.get(position).getAuthorID();\n            videoViewHolder.like_counter_tv.setText(postList.get(position).getLikes());\n            videoViewHolder.videoURL = postList.get(position).getImgUrl();\n\n            // Load video source\n            HashMap&lt;String, String&gt; extraHeaders = new HashMap&lt;&gt;();\n            extraHeaders.put(&quot;foo&quot;, &quot;bar&quot;);\n            videoViewHolder.andExoPlayerView.setSource(postList.get(position).getImgUrl(), extraHeaders);\n            videoViewHolder.andExoPlayerView.setPlayWhenReady(false);\n            videoViewHolder.andExoPlayerView.setAspectRatio(EnumAspectRatio.ASPECT_16_9);\n\n            // Load profile picture\n            String profilePictureUrl = postList.get(position).getProfileImgUrl();\n            if (profilePictureUrl != null) {\n                if (!profilePictureUrl.equals(&quot;none&quot;)) {\n                    Glide.with(context).load(profilePictureUrl).into(videoViewHolder.profilePicture);\n                }\n            }\n\n\n        } else {\n\n            // bind image view holder\n            ImageViewHolder imageViewHolder = (ImageViewHolder) holder;\n            imageViewHolder.setContext(context);\n\n            // check if post is liked or not\n            likeRef.addListenerForSingleValueEvent(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull @NotNull DataSnapshot snapshot) {\n                    if (!HomeActivity.anonymous) {\n\n                        // check if current post is liked from this user\n                        if (snapshot.child(imageViewHolder.postID).hasChild(user.getUid())) {\n                            // post is liked form this user\n                            imageViewHolder.like_btn.setImageResource(R.drawable.ic_thumb_up_filled);\n\n                        } else {\n                            // post is not liked from this user\n                            imageViewHolder.like_btn.setImageResource(R.drawable.ic_thump_up_outline);\n                        }\n                    } else {\n                        // disable like button\n                        imageViewHolder.like_btn.setEnabled(false);\n                    }\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull @NotNull DatabaseError error) {\n                    Toast.makeText(context, &quot;error: &quot; + error, Toast.LENGTH_SHORT).show();\n                }\n            });\n\n\n            // Get current post id set username, authorID, profile picture URL, postType, likes and post image URL\n            imageViewHolder.postID = postList.get(position).getId();\n            imageViewHolder.username.setText(postList.get(position).getName());\n            imageViewHolder.userID = postList.get(position).getAuthorID();\n            imageViewHolder.like_counter_tv.setText(postList.get(position).getLikes());\n\n            Picasso.get().load(postList.get(position).getImgUrl()).into(imageViewHolder.postImg);\n            imageViewHolder.postImageURL = postList.get(position).getImgUrl();\n\n            // Load profile picture\n            String profilePictureUrl = postList.get(position).getProfileImgUrl();\n            if (profilePictureUrl != null) {\n                if (!profilePictureUrl.equals(&quot;none&quot;)) {\n                    Glide.with(context).load(profilePictureUrl).into(imageViewHolder.profileImage);\n                }\n            }\n        }\n\n    }\n\n\n    @Override\n    public int getItemCount() {\n        return postList.size();\n    }\n\n}\n</code></pre>\n<p><strong>My video_post_item.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/video_container&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_margin=&quot;12dp&quot;\n    app:cardElevation=&quot;8dp&quot;\n    app:cardCornerRadius=&quot;10dp&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:id=&quot;@+id/sContainer&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:background=&quot;?attr/cardBackgroundColor&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;de.hdodenhof.circleimageview.CircleImageView\n            android:id=&quot;@+id/circleImageView2&quot;\n            android:layout_width=&quot;35dp&quot;\n            android:layout_height=&quot;35dp&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:src=&quot;@drawable/user&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/textView27&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView27&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;8dp&quot;\n            android:text=&quot;username&quot;\n            android:textColor=&quot;?attr/titleTextColor&quot;\n            android:textSize=&quot;17sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/circleImageView2&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/circleImageView2&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/circleImageView2&quot; /&gt;\n\n        &lt;com.potyvideo.library.AndExoPlayerView\n            android:id=&quot;@+id/andExoPlayerView&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginTop=&quot;16dp&quot;\n            app:andexo_show_full_screen=&quot;true&quot;\n            app:keep_content_on_player_reset=&quot;true&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/textView27&quot;\n            app:layout_constraintVertical_bias=&quot;1.0&quot; /&gt;\n\n        &lt;ImageButton\n            android:id=&quot;@+id/imageButton8&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;15dp&quot;\n            android:background=&quot;@null&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/textView27&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/textView27&quot;\n            app:srcCompat=&quot;@drawable/ic_thumb_up&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/textView36&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginEnd=&quot;8dp&quot;\n            android:text=&quot;0&quot;\n            android:textColor=&quot;?attr/titleTextColor&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;@+id/imageButton8&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@+id/imageButton8&quot;\n            app:layout_constraintTop_toTopOf=&quot;@+id/imageButton8&quot; /&gt;\n\n        &lt;View\n            android:id=&quot;@+id/view5&quot;\n            android:layout_width=&quot;200dp&quot;\n            android:layout_height=&quot;55dp&quot;\n            android:focusable=&quot;true&quot;\n            android:foreground=&quot;?selectableItemBackgroundBorderless&quot;\n            app:layout_constraintBottom_toTopOf=&quot;@+id/andExoPlayerView&quot;\n            app:layout_constraintEnd_toEndOf=&quot;@+id/textView27&quot;\n            app:layout_constraintStart_toStartOf=&quot;@+id/circleImageView2&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/androidx.cardview.widget.CardView&gt;\n</code></pre>\n"},{"tags":["java","swing","dynamic","jtextfield","windowbuilder"],"answers":[{"tags":[],"owner":{"account_id":8803970,"reputation":6689,"user_id":6579265,"display_name":"George Z."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1546605347,"creation_date":1546605347,"answer_id":54039097,"question_id":53971207,"body_markdown":"&lt; dynamic &gt; means that this text field has not a static string (e.g &quot;Hello world&quot;). Window builder will show it, when the value of the field is a variable.\r\n\r\n    gl.getGL().getBooks().get(0).getTitle();\r\n\r\nThis is a variable, hence the window builder will show **&lt; dynamic &gt;**. \r\n\r\nAs far as i remember though (i have not used windowbuiler for almost a year), if you give a `final` variable to the field, window builder will be a able to spot it and show the correct value. Something like\r\n\r\n    private static final String HELLO_WORLD = &quot;Hello world!&quot;;\r\n    ...\r\n    textField.setText(HELLO_WORLD);","title":"What does it mean when my jtextfield has &quot;&lt;dynamic&gt;&quot; written instead of the text I imported from a file?","body":"<p>&lt; dynamic > means that this text field has not a static string (e.g \"Hello world\"). Window builder will show it, when the value of the field is a variable.</p>\n\n<pre><code>gl.getGL().getBooks().get(0).getTitle();\n</code></pre>\n\n<p>This is a variable, hence the window builder will show <strong>&lt; dynamic ></strong>. </p>\n\n<p>As far as i remember though (i have not used windowbuiler for almost a year), if you give a <code>final</code> variable to the field, window builder will be a able to spot it and show the correct value. Something like</p>\n\n<pre><code>private static final String HELLO_WORLD = \"Hello world!\";\n...\ntextField.setText(HELLO_WORLD);\n</code></pre>\n"}],"owner":{"account_id":14874694,"reputation":112,"user_id":10741175,"display_name":"eyelash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54039097,"answer_count":1,"score":0,"last_activity_date":1645865507,"creation_date":1546100238,"question_id":53971207,"body_markdown":"I imported a `String` `ArrayList` from a file and I tried to write the first string (position 0) of the array in a `JTextField`. The word is not on the text field, instead of it, I have the word `&lt;dynamic&gt;` written there.\r\n\r\n[![][1]][1]\r\n\r\nHere&#39;s the code:\r\n\r\n    txtTEST = new JTextField();\r\n    String title =gl.getGL().getBooks().get(0).getTitle();\r\n    System.out.println(title);\r\n    txtTESTE.setText(title);\r\n\r\n  [1]: https://i.stack.imgur.com/PkLbG.png\r\n","title":"What does it mean when my jtextfield has &quot;&lt;dynamic&gt;&quot; written instead of the text I imported from a file?","body":"<p>I imported a <code>String</code> <code>ArrayList</code> from a file and I tried to write the first string (position 0) of the array in a <code>JTextField</code>. The word is not on the text field, instead of it, I have the word <code>&lt;dynamic&gt;</code> written there.</p>\n<p><a href=\"https://i.stack.imgur.com/PkLbG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PkLbG.png\" alt=\"\" /></a></p>\n<p>Here's the code:</p>\n<pre><code>txtTEST = new JTextField();\nString title =gl.getGL().getBooks().get(0).getTitle();\nSystem.out.println(title);\ntxtTESTE.setText(title);\n</code></pre>\n"},{"tags":["java","swing","jtextfield","focuslistener"],"comments":[{"owner":{"account_id":15037822,"reputation":11,"user_id":10853529,"display_name":"Mark"},"score":0,"creation_date":1546445809,"post_id":53993209,"comment_id":94856004,"body_markdown":"As an update to this. I was unable to solve this the &quot;correct&quot; way so I have instead moved the logic to the focusGained() method and execute it on the next field in the tab order.\n\nIt now works correctly, although of course I am dependant on the user tabbing through fields (or at least moving between them in the &quot;standard&quot; order) so this is not a perfect answer. Hence I&#39;d still love to solve the initial problem.","body":"As an update to this. I was unable to solve this the &quot;correct&quot; way so I have instead moved the logic to the focusGained() method and execute it on the next field in the tab order.  It now works correctly, although of course I am dependant on the user tabbing through fields (or at least moving between them in the &quot;standard&quot; order) so this is not a perfect answer. Hence I&#39;d still love to solve the initial problem."},{"owner":{"account_id":1515643,"reputation":2068,"user_id":1416694,"display_name":"Prasad Karunagoda"},"score":0,"creation_date":1546950999,"post_id":53993209,"comment_id":95015918,"body_markdown":"Please post the full (relevant) code. This `focusLost` approach should work. So, I guess you are making a mistake somewhere. If possible, post [mcve].","body":"Please post the full (relevant) code. This <code>focusLost</code> approach should work. So, I guess you are making a mistake somewhere. If possible, post <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":15037822,"reputation":11,"user_id":10853529,"display_name":"Mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1645865474,"creation_date":1546320690,"question_id":53993209,"body_markdown":"I have a number of components in my window, most of them JTextFields. To save the user time in entering data, I am trying to parse the contents of the first JTextField when populated, and put suggested values into subsequent JTextFields. \r\n\r\nI have added a FocusListener to the first JTextField, and in focusLost() I retrieve its contents and then set the contents of the subsequent JTextFields. This works correctly the first time the application is used. However on subsequent tasks (i.e. after all the data has been processed and the fields cleared) it usually (but not always) fails. Debugging is difficult with focus issues so I have resorted to logging instead and can see that in the failing cases the getText() method on the first JTextField is returning null. This must be a timing issue but I cannot see a way round it.\r\n\r\nThe focusLost() method begins...\r\n\r\n    @Override\r\n\tpublic void focusLost(FocusEvent e) {\r\n\t\t// On losing focus of the title field attempt to populate all the other\r\n\t\t// resource detail fields\r\n\t\tComponent rawComponent = e.getComponent();\r\n\t\tif (this.resourceTitleTextField == rawComponent) {\r\n\t\t\t\r\n\t\t\tJTextField component = (JTextField) rawComponent;\r\n\t\t\tString title = component.getText();\r\n\t\t\tLOGGER.info(&quot;title = &quot; + title);\r\n\r\n","title":"Using FocusListener to retrieve contents from JTextField and populate other JTextFields","body":"<p>I have a number of components in my window, most of them JTextFields. To save the user time in entering data, I am trying to parse the contents of the first JTextField when populated, and put suggested values into subsequent JTextFields. </p>\n\n<p>I have added a FocusListener to the first JTextField, and in focusLost() I retrieve its contents and then set the contents of the subsequent JTextFields. This works correctly the first time the application is used. However on subsequent tasks (i.e. after all the data has been processed and the fields cleared) it usually (but not always) fails. Debugging is difficult with focus issues so I have resorted to logging instead and can see that in the failing cases the getText() method on the first JTextField is returning null. This must be a timing issue but I cannot see a way round it.</p>\n\n<p>The focusLost() method begins...</p>\n\n<pre><code>@Override\npublic void focusLost(FocusEvent e) {\n    // On losing focus of the title field attempt to populate all the other\n    // resource detail fields\n    Component rawComponent = e.getComponent();\n    if (this.resourceTitleTextField == rawComponent) {\n\n        JTextField component = (JTextField) rawComponent;\n        String title = component.getText();\n        LOGGER.info(\"title = \" + title);\n</code></pre>\n"},{"tags":["java","swing","nullpointerexception","jframe","jtextfield"],"answers":[{"tags":[],"owner":{"account_id":3949403,"reputation":1141,"user_id":3260495,"display_name":"Robert Hume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1547971035,"creation_date":1547970713,"answer_id":54274537,"question_id":54274505,"body_markdown":"The field `JTextField field` is never initialized. You must assign a value to `this.field` before invoking any method on it (you did it for `JTextField label`, although `label` is a local variable).","title":"Null Pointer Exception when using getText() function with JTextField","body":"<p>The field <code>JTextField field</code> is never initialized. You must assign a value to <code>this.field</code> before invoking any method on it (you did it for <code>JTextField label</code>, although <code>label</code> is a local variable).</p>\n"},{"tags":[],"owner":{"account_id":4816916,"reputation":16538,"user_id":3888766,"accept_rate":100,"display_name":"Fullstack Guy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1547971141,"creation_date":1547970721,"answer_id":54274538,"question_id":54274505,"body_markdown":"In your `myTextField` constructor I assume you wanted to initialize the `JTextField field;` instance variable but instead you created a ***local*** variable `JTextField label = new JTextField(defaultText);`.\r\n\r\nI believe you should change the `JTextField label = new JTextField(defaultText);` in your constructor to:\r\n\r\n     field = new JTextField(defaultText);\r\n     frame.add(field);\r\n     field.setBounds(xPos, yPos, xSize, ySize);\r\n\r\nThen on wards if you invoke the getter `getText()` you won&#39;t face any `NullPointerException`.","title":"Null Pointer Exception when using getText() function with JTextField","body":"<p>In your <code>myTextField</code> constructor I assume you wanted to initialize the <code>JTextField field;</code> instance variable but instead you created a <strong><em>local</em></strong> variable <code>JTextField label = new JTextField(defaultText);</code>.</p>\n\n<p>I believe you should change the <code>JTextField label = new JTextField(defaultText);</code> in your constructor to:</p>\n\n<pre><code> field = new JTextField(defaultText);\n frame.add(field);\n field.setBounds(xPos, yPos, xSize, ySize);\n</code></pre>\n\n<p>Then on wards if you invoke the getter <code>getText()</code> you won't face any <code>NullPointerException</code>.</p>\n"}],"owner":{"account_id":9029681,"reputation":355,"user_id":6727781,"display_name":"Tinkerman255"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":654,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1548087143,"accepted_answer_id":54274538,"answer_count":2,"score":2,"last_activity_date":1645865416,"creation_date":1547970361,"question_id":54274505,"body_markdown":"I was working on creating a container class for a JTextField object, but I keep running into trouble whenever I try to get the text in the text field.\r\n\r\n    class myTextField{\r\n\tString defaultText;\r\n\tString currentText = &quot;&quot;;\r\n\tJTextField field;\r\n\tint xPos;\r\n\tint yPos;\r\n\tint xSize;\r\n\tint ySize;\r\n\t\r\n\tmyTextField(JFrame frame, String newDefaultText, int newXPos, int newYPos, int newXSize, int newYSize){\r\n\t\tdefaultText = newDefaultText;\r\n\t\txPos = newXPos;\r\n\t\tyPos = newYPos;\r\n\t\txSize = newXSize;\r\n\t\tySize = newYSize;\r\n\t\t\r\n\t\tJTextField label = new JTextField(defaultText);\r\n\t\tframe.add(label);\r\n\t\tlabel.setBounds(xPos, yPos, xSize, ySize);\r\n\t}\r\n\t\r\n\tpublic void setText(String text) {\r\n\t\tthis.currentText = field.getText();\r\n\t\tif(text == &quot;&quot;) {\r\n\t\t\tthis.currentText = this.defaultText;\r\n\t\t}\r\n\t\tthis.currentText = text;\r\n\t}\r\n\t\r\n\tpublic String getText() {\r\n\t\tSystem.out.println(field.getText());\r\n\t\tthis.currentText = field.getText();\r\n\t\treturn this.currentText;\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nWhenever I use the getText() function of this class, it gives me this error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NullPointerException\r\n\tat Examples.myTextField.getText(Example_312.java:182)\r\n\tat Examples.Example_312.updateFrame(Example_312.java:81)\r\n\tat Examples.Example_312.main(Example_312.java:49)\r\n\r\nUnfortunately, that error isn&#39;t very descriptive, and so I&#39;m having trouble finding what&#39;s going wrong in my code. I know it&#39;s failing when I call &quot;field.getText();&quot;, but I don&#39;t know why. If someone could explain it to me, or offer a solution, I&#39;d really appreciate it!","title":"Null Pointer Exception when using getText() function with JTextField","body":"<p>I was working on creating a container class for a JTextField object, but I keep running into trouble whenever I try to get the text in the text field.</p>\n\n<pre><code>class myTextField{\nString defaultText;\nString currentText = \"\";\nJTextField field;\nint xPos;\nint yPos;\nint xSize;\nint ySize;\n\nmyTextField(JFrame frame, String newDefaultText, int newXPos, int newYPos, int newXSize, int newYSize){\n    defaultText = newDefaultText;\n    xPos = newXPos;\n    yPos = newYPos;\n    xSize = newXSize;\n    ySize = newYSize;\n\n    JTextField label = new JTextField(defaultText);\n    frame.add(label);\n    label.setBounds(xPos, yPos, xSize, ySize);\n}\n\npublic void setText(String text) {\n    this.currentText = field.getText();\n    if(text == \"\") {\n        this.currentText = this.defaultText;\n    }\n    this.currentText = text;\n}\n\npublic String getText() {\n    System.out.println(field.getText());\n    this.currentText = field.getText();\n    return this.currentText;\n\n    }\n}\n</code></pre>\n\n<p>Whenever I use the getText() function of this class, it gives me this error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NullPointerException\nat Examples.myTextField.getText(Example_312.java:182)\nat Examples.Example_312.updateFrame(Example_312.java:81)\nat Examples.Example_312.main(Example_312.java:49)\n</code></pre>\n\n<p>Unfortunately, that error isn't very descriptive, and so I'm having trouble finding what's going wrong in my code. I know it's failing when I call \"field.getText();\", but I don't know why. If someone could explain it to me, or offer a solution, I'd really appreciate it!</p>\n"},{"tags":["java","swing","mouseevent","jtextfield","mouselistener"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1644017645,"post_id":70993776,"comment_id":125502474,"body_markdown":"The problem is that you need to associate the mouse cursor location with a particular textfield.  I am not certain how to do that.  If I were writing this I would write my own class and implement a mouse listener and then compare the coordinates of my cell instance to the mouse location.  But others on this site may have a better alternative. But to your point there is only one mouse.  So implementing a mouse listener for a text field will just generate multiple mouse events.","body":"The problem is that you need to associate the mouse cursor location with a particular textfield.  I am not certain how to do that.  If I were writing this I would write my own class and implement a mouse listener and then compare the coordinates of my cell instance to the mouse location.  But others on this site may have a better alternative. But to your point there is only one mouse.  So implementing a mouse listener for a text field will just generate multiple mouse events."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1644074224,"post_id":70993776,"comment_id":125511191,"body_markdown":"... for each text field will...","body":"... for each text field will..."}],"answers":[{"tags":[],"owner":{"account_id":24159763,"reputation":1,"user_id":18123466,"display_name":"Medicandy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644111806,"creation_date":1644111806,"answer_id":71003596,"question_id":70993776,"body_markdown":"I finally could solve the problem, I just needed to use a FocusListener instead of a MouseListener. I can change the background color of a field int the FocusGained(FocusEvent event) method and each JTextField has an independent event. I can know which JTextField is being clicked with event.getComponent() inside of the FocusGained method.","title":"How to assign differents MouseListener to differents JTextField?","body":"<p>I finally could solve the problem, I just needed to use a FocusListener instead of a MouseListener. I can change the background color of a field int the FocusGained(FocusEvent event) method and each JTextField has an independent event. I can know which JTextField is being clicked with event.getComponent() inside of the FocusGained method.</p>\n"}],"owner":{"account_id":24159763,"reputation":1,"user_id":18123466,"display_name":"Medicandy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645865363,"creation_date":1644015660,"question_id":70993776,"body_markdown":"im trying to make a Sudoku game and I want to change the background color of the same box, same column and same row when I click on a JTextField. I&#39;m trying to add multiple Mouse Listener, one for each JTextField but It doesnt work. I&#39;m now testing changing the background color of just the JTextField that I click on.\r\n\r\nThe main problem is in here.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.border.LineBorder;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class Panel extends JPanel {\r\n\r\n    public static final int ROWS = 3;\r\n    public static final int COLUMNS = 3;\r\n    public static JTextField[][] fields = new JTextField[ROWS * COLUMNS][ROWS * COLUMNS];\r\n\r\n    for (int i = 0; i &lt; ROWS*COLUMNS; i++) {\r\n        for (int j = 0; j &lt; ROWS*COLUMNS; j++) {\r\n            fields[i][j] = new JTextField();\r\n            int finalI = i;\r\n            int finalJ = j;\r\n            fields[i][j].addMouseListener(new MouseAdapter() {\r\n                @Override\r\n                public void mousePressed(MouseEvent e) {\r\n                    fields[finalI][finalJ].setBackground(Color.BLUE);\r\n                }\r\n            });\r\n        }\r\n    }\r\n} \r\n```\r\n\r\nI have also try with this but it doesn&#39;t work.\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.border.LineBorder;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class Panel extends JPanel {\r\n\r\n    public static final int ROWS = 3;\r\n    public static final int COLUMNS = 3;\r\n    public static JTextField[][] fields = new JTextField[ROWS * COLUMNS][ROWS * COLUMNS];\r\n\r\n    for (int i = 0; i &lt; ROWS*COLUMNS; i++) {\r\n        for (int j = 0; j &lt; ROWS*COLUMNS; j++) {\r\n            fields[i][j] = new JTextField();\r\n            addMouseActions(i, j);\r\n        }\r\n    }\r\n   \r\n\r\n    private void addMouseActions(int row, int col){\r\n        fields[row][col].addMouseListener(new MouseAdapter() {\r\n            @Override\r\n            public void mousePressed(MouseEvent e) {\r\n                fields[row][col].setBackground(Color.BLUE);\r\n            }\r\n        });\r\n\r\n    }\r\n} \r\n```\r\n\r\n\r\nHere it&#39;s the full code that I have for the Panel class.\r\n\r\n```import javax.swing.*;\r\nimport javax.swing.border.EmptyBorder;\r\nimport javax.swing.border.LineBorder;\r\nimport java.awt.*;\r\nimport java.awt.event.MouseAdapter;\r\nimport java.awt.event.MouseEvent;\r\n\r\npublic class Panel extends JPanel {\r\n\r\n    static String[] levels = {&quot;Easy&quot;, &quot;Medium&quot;, &quot;Hard&quot;};\r\n    public static final JComboBox&lt;String&gt; levelsBox = new JComboBox&lt;&gt;(levels);\r\n    private final JButton playButton = new JButton(&quot;Play&quot;);\r\n    private final JButton checkButton = new JButton(&quot;Check&quot;);\r\n    private final JButton hintButton = new JButton(&quot;Hint&quot;);\r\n    private final JButton solveButton = new JButton(&quot;Solve&quot;);\r\n    private final JButton exitButton = new JButton(&quot;Exit&quot;);\r\n\r\n    public static final int ROWS = 3;\r\n    public static final int COLUMNS = 3;\r\n    public static JTextField[][] fields = new JTextField[ROWS * COLUMNS][ROWS * COLUMNS];\r\n\r\n    public Panel(JFrame frame) {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.setLocation(600, 200);\r\n                frame.setLayout(new BorderLayout());\r\n                frame.add(new SudokuBoard());\r\n                frame.add(new MenuPane(), BorderLayout.AFTER_LINE_ENDS);\r\n                frame.pack();\r\n                frame.setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    public class MenuPane extends JPanel {\r\n\r\n        public MenuPane() {\r\n            setBorder(new EmptyBorder(4, 4, 4, 4));\r\n            setLayout(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.gridx = 0;\r\n            gbc.gridy = 1;\r\n            gbc.weightx = 0;\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n\r\n            JLabel diff = new JLabel(&quot;Select the difficulty: &quot;);\r\n            diff.setFont(new Font(&quot;SansSerif&quot;,Font.BOLD,18));\r\n            add(diff, gbc);\r\n            gbc.gridx++;\r\n\r\n            levelsBox.setFont(new Font(&quot;SansSerif&quot;,Font.BOLD,16));\r\n            add(levelsBox,gbc);\r\n            gbc.gridy++;\r\n\r\n\r\n            playButton.setActionCommand(&quot;Play&quot;);\r\n            add(playButton, gbc);\r\n            gbc.gridy++;\r\n\r\n            checkButton.setActionCommand(&quot;Check&quot;);\r\n            checkButton.setEnabled(false);\r\n            add(checkButton, gbc);\r\n            gbc.gridy++;\r\n\r\n            hintButton.setActionCommand(&quot;Hint&quot;);\r\n            hintButton.setEnabled(false);\r\n            add(hintButton, gbc);\r\n            gbc.gridy++;\r\n\r\n\r\n            solveButton.setActionCommand(&quot;Solve&quot;);\r\n            solveButton.setEnabled(false);\r\n            add(solveButton, gbc);\r\n            gbc.gridy++;\r\n\r\n            exitButton.setActionCommand(&quot;Exit&quot;);\r\n            add(exitButton, gbc);\r\n        }\r\n    }\r\n\r\n    public static class SudokuBoard extends JPanel {\r\n\r\n        private SubBoard[] subBoards;\r\n\r\n        public SudokuBoard() {\r\n            setBorder(new EmptyBorder(30, 30, 30, 10));\r\n            subBoards = new SubBoard[ROWS * COLUMNS];\r\n            setLayout(new GridLayout(ROWS, COLUMNS));\r\n            for (int row = 0; row &lt; ROWS; row++) {\r\n                for (int col = 0; col &lt; COLUMNS; col++) {\r\n                    int bigIndex = (row * COLUMNS) + col;\r\n                    int index = (row * ROWS) + col;\r\n                    SubBoard board = new SubBoard(bigIndex);\r\n                    board.setBorder(new LineBorder(Color.GRAY, 3));\r\n                    subBoards[index] = board;\r\n                    add(board);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static class SubBoard extends JPanel {\r\n\r\n        public SubBoard(int bigIndex) {\r\n            setLayout(new GridLayout(ROWS, COLUMNS));\r\n            for (int row = 0; row &lt; ROWS; row++) {\r\n                for (int col = 0; col &lt; COLUMNS; col++) {\r\n                    int index = (row * COLUMNS) + col;\r\n                    JTextField field = new JTextField();\r\n                    field.setPreferredSize(new Dimension(60, 60));\r\n                    field.setHorizontalAlignment(JTextField.CENTER);\r\n                    field.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 25));\r\n                    field.setDocument(new JTextFieldLimit(1));\r\n                    //field.setEditable(false);\r\n                    fields[bigIndex][index] = field;\r\n                    add(field);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public void addListeners(Controller controller) {\r\n        playButton.addActionListener(controller);\r\n        checkButton.addActionListener(controller);\r\n        hintButton.addActionListener(controller);\r\n        solveButton.addActionListener(controller);\r\n        exitButton.addActionListener(controller);\r\n        for (int i = 0; i &lt; ROWS*COLUMNS; i++) {\r\n            for (int j = 0; j &lt; ROWS*COLUMNS; j++) {\r\n                fields[i][j] = new JTextField();\r\n                int finalI = i;\r\n                int finalJ = j;\r\n                fields[i][j].addMouseListener(new MouseAdapter() {\r\n                    @Override\r\n                    public void mousePressed(MouseEvent e) {\r\n                        fields[finalI][finalJ].setBackground(Color.BLUE);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    public void enableButtons(boolean enabled){\r\n        checkButton.setEnabled(enabled);\r\n        hintButton.setEnabled(enabled);\r\n        solveButton.setEnabled(enabled);\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the Controller Class that I&#39;m using for Actions Events.\r\n\r\n    import pkgClient.MyClient;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.Objects;\r\n    \r\n    public class Controller implements ActionListener {\r\n        Panel panel;\r\n        JFrame frame;\r\n    \r\n        public Controller(Panel panel, JFrame frame) {\r\n            this.frame = frame;\r\n            this.panel = panel;\r\n        }\r\n    \r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n    \r\n            if (e.getActionCommand().equalsIgnoreCase(&quot;Play&quot;)){\r\n                String level = Panel.levelsBox.getItemAt(Panel.levelsBox.getSelectedIndex());\r\n                if(Objects.equals(level, &quot;Easy&quot;)){\r\n                    MyClient.out.println(&quot;easyMode&quot;);\r\n                }else if(Objects.equals(level, &quot;Medium&quot;)){\r\n                    MyClient.out.println(&quot;mediumMode&quot;);\r\n                }else if (Objects.equals(level, &quot;Hard&quot;)){\r\n                    MyClient.out.println(&quot;hardMode&quot;);\r\n                }\r\n                panel.enableButtons(true);\r\n                Panel.fields[0][0].setBackground(Color.WHITE);\r\n    \r\n            } else if(e.getActionCommand().equalsIgnoreCase(&quot;Check&quot;)){\r\n                System.out.println(&quot;Comprobar&quot;);\r\n                MyClient.out.println(&quot;check&quot;);\r\n                panel.enableButtons(false);\r\n    \r\n            }else if(e.getActionCommand().equalsIgnoreCase(&quot;Hint&quot;)){\r\n                System.out.println(&quot;Pista&quot;);\r\n                MyClient.out.println(&quot;hint&quot;);\r\n    \r\n    \r\n            } else if(e.getActionCommand().equalsIgnoreCase(&quot;Solve&quot;)){\r\n                System.out.println(&quot;Resolver&quot;);\r\n                MyClient.out.println(&quot;solve&quot;);\r\n                panel.enableButtons(false);\r\n    \r\n    \r\n            } else if(e.getActionCommand().equalsIgnoreCase(&quot;Exit&quot;)) {\r\n                frame.dispose();\r\n                MyClient.out.println(&quot;exit&quot;);\r\n            }else if(e.getActionCommand().equalsIgnoreCase(&quot;Text&quot;)) {\r\n                System.out.println(&quot;hola&quot;);\r\n                Panel.fields[0][0].setBackground(Color.BLACK);\r\n    \r\n            }else{\r\n                System.err.println(&quot;Error: unexpected event&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nIs there any way to set an unique Mouse Event to every single JTextField like I do with buttons and Actions in the Controller Class? Or how do I have to do it?\r\n\r\nThank you.","title":"How to assign differents MouseListener to differents JTextField?","body":"<p>im trying to make a Sudoku game and I want to change the background color of the same box, same column and same row when I click on a JTextField. I'm trying to add multiple Mouse Listener, one for each JTextField but It doesnt work. I'm now testing changing the background color of just the JTextField that I click on.</p>\n<p>The main problem is in here.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class Panel extends JPanel {\n\n    public static final int ROWS = 3;\n    public static final int COLUMNS = 3;\n    public static JTextField[][] fields = new JTextField[ROWS * COLUMNS][ROWS * COLUMNS];\n\n    for (int i = 0; i &lt; ROWS*COLUMNS; i++) {\n        for (int j = 0; j &lt; ROWS*COLUMNS; j++) {\n            fields[i][j] = new JTextField();\n            int finalI = i;\n            int finalJ = j;\n            fields[i][j].addMouseListener(new MouseAdapter() {\n                @Override\n                public void mousePressed(MouseEvent e) {\n                    fields[finalI][finalJ].setBackground(Color.BLUE);\n                }\n            });\n        }\n    }\n} \n</code></pre>\n<p>I have also try with this but it doesn't work.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class Panel extends JPanel {\n\n    public static final int ROWS = 3;\n    public static final int COLUMNS = 3;\n    public static JTextField[][] fields = new JTextField[ROWS * COLUMNS][ROWS * COLUMNS];\n\n    for (int i = 0; i &lt; ROWS*COLUMNS; i++) {\n        for (int j = 0; j &lt; ROWS*COLUMNS; j++) {\n            fields[i][j] = new JTextField();\n            addMouseActions(i, j);\n        }\n    }\n   \n\n    private void addMouseActions(int row, int col){\n        fields[row][col].addMouseListener(new MouseAdapter() {\n            @Override\n            public void mousePressed(MouseEvent e) {\n                fields[row][col].setBackground(Color.BLUE);\n            }\n        });\n\n    }\n} \n</code></pre>\n<p>Here it's the full code that I have for the Panel class.</p>\n<pre><code>import javax.swing.border.EmptyBorder;\nimport javax.swing.border.LineBorder;\nimport java.awt.*;\nimport java.awt.event.MouseAdapter;\nimport java.awt.event.MouseEvent;\n\npublic class Panel extends JPanel {\n\n    static String[] levels = {&quot;Easy&quot;, &quot;Medium&quot;, &quot;Hard&quot;};\n    public static final JComboBox&lt;String&gt; levelsBox = new JComboBox&lt;&gt;(levels);\n    private final JButton playButton = new JButton(&quot;Play&quot;);\n    private final JButton checkButton = new JButton(&quot;Check&quot;);\n    private final JButton hintButton = new JButton(&quot;Hint&quot;);\n    private final JButton solveButton = new JButton(&quot;Solve&quot;);\n    private final JButton exitButton = new JButton(&quot;Exit&quot;);\n\n    public static final int ROWS = 3;\n    public static final int COLUMNS = 3;\n    public static JTextField[][] fields = new JTextField[ROWS * COLUMNS][ROWS * COLUMNS];\n\n    public Panel(JFrame frame) {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLocation(600, 200);\n                frame.setLayout(new BorderLayout());\n                frame.add(new SudokuBoard());\n                frame.add(new MenuPane(), BorderLayout.AFTER_LINE_ENDS);\n                frame.pack();\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class MenuPane extends JPanel {\n\n        public MenuPane() {\n            setBorder(new EmptyBorder(4, 4, 4, 4));\n            setLayout(new GridBagLayout());\n            GridBagConstraints gbc = new GridBagConstraints();\n            gbc.gridx = 0;\n            gbc.gridy = 1;\n            gbc.weightx = 0;\n            gbc.fill = GridBagConstraints.HORIZONTAL;\n\n            JLabel diff = new JLabel(&quot;Select the difficulty: &quot;);\n            diff.setFont(new Font(&quot;SansSerif&quot;,Font.BOLD,18));\n            add(diff, gbc);\n            gbc.gridx++;\n\n            levelsBox.setFont(new Font(&quot;SansSerif&quot;,Font.BOLD,16));\n            add(levelsBox,gbc);\n            gbc.gridy++;\n\n\n            playButton.setActionCommand(&quot;Play&quot;);\n            add(playButton, gbc);\n            gbc.gridy++;\n\n            checkButton.setActionCommand(&quot;Check&quot;);\n            checkButton.setEnabled(false);\n            add(checkButton, gbc);\n            gbc.gridy++;\n\n            hintButton.setActionCommand(&quot;Hint&quot;);\n            hintButton.setEnabled(false);\n            add(hintButton, gbc);\n            gbc.gridy++;\n\n\n            solveButton.setActionCommand(&quot;Solve&quot;);\n            solveButton.setEnabled(false);\n            add(solveButton, gbc);\n            gbc.gridy++;\n\n            exitButton.setActionCommand(&quot;Exit&quot;);\n            add(exitButton, gbc);\n        }\n    }\n\n    public static class SudokuBoard extends JPanel {\n\n        private SubBoard[] subBoards;\n\n        public SudokuBoard() {\n            setBorder(new EmptyBorder(30, 30, 30, 10));\n            subBoards = new SubBoard[ROWS * COLUMNS];\n            setLayout(new GridLayout(ROWS, COLUMNS));\n            for (int row = 0; row &lt; ROWS; row++) {\n                for (int col = 0; col &lt; COLUMNS; col++) {\n                    int bigIndex = (row * COLUMNS) + col;\n                    int index = (row * ROWS) + col;\n                    SubBoard board = new SubBoard(bigIndex);\n                    board.setBorder(new LineBorder(Color.GRAY, 3));\n                    subBoards[index] = board;\n                    add(board);\n                }\n            }\n        }\n    }\n\n    public static class SubBoard extends JPanel {\n\n        public SubBoard(int bigIndex) {\n            setLayout(new GridLayout(ROWS, COLUMNS));\n            for (int row = 0; row &lt; ROWS; row++) {\n                for (int col = 0; col &lt; COLUMNS; col++) {\n                    int index = (row * COLUMNS) + col;\n                    JTextField field = new JTextField();\n                    field.setPreferredSize(new Dimension(60, 60));\n                    field.setHorizontalAlignment(JTextField.CENTER);\n                    field.setFont(new Font(&quot;SansSerif&quot;, Font.BOLD, 25));\n                    field.setDocument(new JTextFieldLimit(1));\n                    //field.setEditable(false);\n                    fields[bigIndex][index] = field;\n                    add(field);\n                }\n            }\n        }\n    }\n\n    public void addListeners(Controller controller) {\n        playButton.addActionListener(controller);\n        checkButton.addActionListener(controller);\n        hintButton.addActionListener(controller);\n        solveButton.addActionListener(controller);\n        exitButton.addActionListener(controller);\n        for (int i = 0; i &lt; ROWS*COLUMNS; i++) {\n            for (int j = 0; j &lt; ROWS*COLUMNS; j++) {\n                fields[i][j] = new JTextField();\n                int finalI = i;\n                int finalJ = j;\n                fields[i][j].addMouseListener(new MouseAdapter() {\n                    @Override\n                    public void mousePressed(MouseEvent e) {\n                        fields[finalI][finalJ].setBackground(Color.BLUE);\n                    }\n                });\n            }\n        }\n    }\n\n    public void enableButtons(boolean enabled){\n        checkButton.setEnabled(enabled);\n        hintButton.setEnabled(enabled);\n        solveButton.setEnabled(enabled);\n    }\n}\n</code></pre>\n<p>And this is the Controller Class that I'm using for Actions Events.</p>\n<pre><code>import pkgClient.MyClient;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.Objects;\n\npublic class Controller implements ActionListener {\n    Panel panel;\n    JFrame frame;\n\n    public Controller(Panel panel, JFrame frame) {\n        this.frame = frame;\n        this.panel = panel;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n\n        if (e.getActionCommand().equalsIgnoreCase(&quot;Play&quot;)){\n            String level = Panel.levelsBox.getItemAt(Panel.levelsBox.getSelectedIndex());\n            if(Objects.equals(level, &quot;Easy&quot;)){\n                MyClient.out.println(&quot;easyMode&quot;);\n            }else if(Objects.equals(level, &quot;Medium&quot;)){\n                MyClient.out.println(&quot;mediumMode&quot;);\n            }else if (Objects.equals(level, &quot;Hard&quot;)){\n                MyClient.out.println(&quot;hardMode&quot;);\n            }\n            panel.enableButtons(true);\n            Panel.fields[0][0].setBackground(Color.WHITE);\n\n        } else if(e.getActionCommand().equalsIgnoreCase(&quot;Check&quot;)){\n            System.out.println(&quot;Comprobar&quot;);\n            MyClient.out.println(&quot;check&quot;);\n            panel.enableButtons(false);\n\n        }else if(e.getActionCommand().equalsIgnoreCase(&quot;Hint&quot;)){\n            System.out.println(&quot;Pista&quot;);\n            MyClient.out.println(&quot;hint&quot;);\n\n\n        } else if(e.getActionCommand().equalsIgnoreCase(&quot;Solve&quot;)){\n            System.out.println(&quot;Resolver&quot;);\n            MyClient.out.println(&quot;solve&quot;);\n            panel.enableButtons(false);\n\n\n        } else if(e.getActionCommand().equalsIgnoreCase(&quot;Exit&quot;)) {\n            frame.dispose();\n            MyClient.out.println(&quot;exit&quot;);\n        }else if(e.getActionCommand().equalsIgnoreCase(&quot;Text&quot;)) {\n            System.out.println(&quot;hola&quot;);\n            Panel.fields[0][0].setBackground(Color.BLACK);\n\n        }else{\n            System.err.println(&quot;Error: unexpected event&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Is there any way to set an unique Mouse Event to every single JTextField like I do with buttons and Actions in the Controller Class? Or how do I have to do it?</p>\n<p>Thank you.</p>\n"},{"tags":["java","swing","for-loop","jtextfield","event-dispatch-thread"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1644144978,"post_id":71006104,"comment_id":125523233,"body_markdown":"1) Why do you want to loop there? And why the inifite loop? 2) Don&#39;t do long running tasks (and especially don&#39;t sleep) on the Event Dispatch Thread (EDT) since this freezes the GUI.","body":"1) Why do you want to loop there? And why the inifite loop? 2) Don&#39;t do long running tasks (and especially don&#39;t sleep) on the Event Dispatch Thread (EDT) since this freezes the GUI."},{"owner":{"account_id":24165687,"reputation":3,"user_id":18128565,"display_name":"Onyx 1"},"score":0,"creation_date":1644147302,"post_id":71006104,"comment_id":125523656,"body_markdown":"at least for now I want an infinite loop and I want that at the same rate something gets printed but this changes when a specific button gets pressed. what should I use to wait before the loop repeats instead?","body":"at least for now I want an infinite loop and I want that at the same rate something gets printed but this changes when a specific button gets pressed. what should I use to wait before the loop repeats instead?"}],"answers":[{"tags":[],"owner":{"account_id":17099657,"reputation":94,"user_id":12373880,"display_name":"Roberto Mozzicato"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644157463,"creation_date":1644157463,"answer_id":71008106,"question_id":71006104,"body_markdown":"In your code, the `keyPressed` method gets called by the Event Dispatch Thread (https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html) every time you press a key in the textfield.\r\n\r\nIn this context the `KeyEvent event` parameter represents a sing key press event, so it makes no sense to create a loop inside an event method, as maloomeister correctly pointed out.\r\n\r\nInstead you should perform your logic using the state of your classes, either `KeyChecker` or `test`.\r\nI don&#39;t really understand why you should regularly check for a key being pressed (and the purpose of a textfield BTW), anyway the following is a possible solution using a separate thread.\r\nOf course you can also do the loop in the main thread (which is **not** the EDT), but in a non-trivial application you should never do that.\r\n\r\n```import java.awt.event.KeyAdapter;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JTextField;\r\n\r\npublic class Test {\r\n\tpublic static void main(String[] args) {\r\n\t\tKeyChecker keyChecker = new KeyChecker();\r\n\t\tJTextField textField = new JTextField(40);\r\n\t\ttextField.addKeyListener(keyChecker);\r\n\t\tJFrame jframe = new JFrame();\r\n\t\tjframe.add(textField);\r\n\t\tjframe.pack();\r\n\t\tjframe.setVisible(true);\r\n\r\n\t\tThread t = new Thread(() -&gt; {\r\n\t\t\twhile(true) {\r\n\t\t\t\tchar currentKey = keyChecker.getCurrentPressedKey();\r\n\t\t\t\tswitch (currentKey) {\r\n\t\t\t\t\tcase &#39;a&#39;:\r\n\t\t\t\t\t\tSystem.out.println(&quot;working&quot;);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tSystem.out.println(&quot;not working&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t} catch (InterruptedException ex) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\tt.start();\r\n\t}\r\n}\r\n\r\nclass KeyChecker extends KeyAdapter {\r\n\tprivate char currentPressedKey = 0;\r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent event) {\r\n\t\tcurrentPressedKey = event.getKeyChar();\r\n\t}\r\n\r\n\t@Override\r\n    public void keyReleased(KeyEvent e) {\r\n    \tcurrentPressedKey=0;\r\n    }\r\n\t\r\n\tpublic char getCurrentPressedKey() {\r\n\t\treturn currentPressedKey;\r\n\t}\r\n}\r\n```","title":"Input from jtextfield doesnt get read while in a for loop","body":"<p>In your code, the <code>keyPressed</code> method gets called by the Event Dispatch Thread (<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html</a>) every time you press a key in the textfield.</p>\n<p>In this context the <code>KeyEvent event</code> parameter represents a sing key press event, so it makes no sense to create a loop inside an event method, as maloomeister correctly pointed out.</p>\n<p>Instead you should perform your logic using the state of your classes, either <code>KeyChecker</code> or <code>test</code>.\nI don't really understand why you should regularly check for a key being pressed (and the purpose of a textfield BTW), anyway the following is a possible solution using a separate thread.\nOf course you can also do the loop in the main thread (which is <strong>not</strong> the EDT), but in a non-trivial application you should never do that.</p>\n<pre><code>import java.awt.event.KeyEvent;\n\nimport javax.swing.JFrame;\nimport javax.swing.JTextField;\n\npublic class Test {\n    public static void main(String[] args) {\n        KeyChecker keyChecker = new KeyChecker();\n        JTextField textField = new JTextField(40);\n        textField.addKeyListener(keyChecker);\n        JFrame jframe = new JFrame();\n        jframe.add(textField);\n        jframe.pack();\n        jframe.setVisible(true);\n\n        Thread t = new Thread(() -&gt; {\n            while(true) {\n                char currentKey = keyChecker.getCurrentPressedKey();\n                switch (currentKey) {\n                    case 'a':\n                        System.out.println(&quot;working&quot;);\n                        break;\n                    default:\n                        System.out.println(&quot;not working&quot;);\n                }\n                    \n                try {\n                    Thread.sleep(1000);\n                } catch (InterruptedException ex) {\n                    break;\n                }\n            }\n        });\n        \n        t.start();\n    }\n}\n\nclass KeyChecker extends KeyAdapter {\n    private char currentPressedKey = 0;\n\n    @Override\n    public void keyPressed(KeyEvent event) {\n        currentPressedKey = event.getKeyChar();\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        currentPressedKey=0;\n    }\n    \n    public char getCurrentPressedKey() {\n        return currentPressedKey;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24165687,"reputation":3,"user_id":18128565,"display_name":"Onyx 1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71008106,"answer_count":1,"score":0,"last_activity_date":1645865293,"creation_date":1644142456,"question_id":71006104,"body_markdown":"My problem is that I have a for loop and while this loop is running I still want inputs from JTextField to get read and not interrupt the loop or timing when the line gets printed.\r\n```\r\npublic class test {\r\n\r\n    public void Play() {\r\n\r\n        JTextField textField = new JTextField();\r\n        textField.addKeyListener(new KeyChecker());\r\n        JFrame jframe = new JFrame();\r\n        jframe.add(textField);\r\n        jframe.setSize(200, 30);\r\n        jframe.setVisible(true);\r\n    }\r\n}\r\n\r\nclass KeyChecker extends KeyAdapter {\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent event)\r\n    {\r\n        for(int i = 0; i &lt; 1; i = 0)\r\n        {\r\n            char Input = event.getKeyChar();\r\n            if(Input == &#39;a&#39;)\r\n            {\r\n                System.out.println(&quot;working&quot;);\r\n            } else {\r\n                System.out.println(&quot;not working&quot;);\r\n            }\r\n            try\r\n            {\r\n                Thread.sleep(1000);\r\n            }\r\n            catch(InterruptedException ex)\r\n            {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"Input from jtextfield doesnt get read while in a for loop","body":"<p>My problem is that I have a for loop and while this loop is running I still want inputs from JTextField to get read and not interrupt the loop or timing when the line gets printed.</p>\n<pre><code>public class test {\n\n    public void Play() {\n\n        JTextField textField = new JTextField();\n        textField.addKeyListener(new KeyChecker());\n        JFrame jframe = new JFrame();\n        jframe.add(textField);\n        jframe.setSize(200, 30);\n        jframe.setVisible(true);\n    }\n}\n\nclass KeyChecker extends KeyAdapter {\n\n    @Override\n    public void keyPressed(KeyEvent event)\n    {\n        for(int i = 0; i &lt; 1; i = 0)\n        {\n            char Input = event.getKeyChar();\n            if(Input == 'a')\n            {\n                System.out.println(&quot;working&quot;);\n            } else {\n                System.out.println(&quot;not working&quot;);\n            }\n            try\n            {\n                Thread.sleep(1000);\n            }\n            catch(InterruptedException ex)\n            {\n                Thread.currentThread().interrupt();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","input","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":11084453,"reputation":211,"user_id":8138689,"display_name":"Satyajit Bhatt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645864060,"creation_date":1645864060,"answer_id":71275133,"question_id":71274915,"body_markdown":"Whenever write scanner.nextInt() in that case this method doesn&#39;t return new line character or don&#39;t accept any input from user. So if you want perfect output then you need to put scanner.next() before getting string value from user. After that you can use scanner.nextLine() and it will be work fine. ","title":"Problem in getting input from sc.nextLine() in if condition JAVA","body":"<p>Whenever write scanner.nextInt() in that case this method doesn't return new line character or don't accept any input from user. So if you want perfect output then you need to put scanner.next() before getting string value from user. After that you can use scanner.nextLine() and it will be work fine.</p>\n"},{"tags":[],"owner":{"account_id":13594911,"reputation":123,"user_id":9807266,"display_name":"Pradip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645864562,"creation_date":1645864562,"answer_id":71275187,"question_id":71274915,"body_markdown":"This is a common conceptual problem. Read the java docs of these three functions. Meanwhile you can try the following code. It&#39;ll work.\r\n\r\n    \r\n\r\n    System.out.print(&quot;Enter the key: &quot;);\r\n    int n=sc.nextInt();\r\n    sc.nextLine();\r\n    \r\n    if(n==1)\r\n    {\r\n        System.out.println(&quot;Enter the task:&quot;);\r\n        String k=sc.nextLine();\r\n        System.out.println(k);\r\n    }","title":"Problem in getting input from sc.nextLine() in if condition JAVA","body":"<p>This is a common conceptual problem. Read the java docs of these three functions. Meanwhile you can try the following code. It'll work.</p>\n<pre><code>System.out.print(&quot;Enter the key: &quot;);\nint n=sc.nextInt();\nsc.nextLine();\n\nif(n==1)\n{\n    System.out.println(&quot;Enter the task:&quot;);\n    String k=sc.nextLine();\n    System.out.println(k);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645865160,"creation_date":1645865160,"answer_id":71275248,"question_id":71274915,"body_markdown":"&gt; That&#39;s because the Scanner.nextInt method does not read the newline\r\n&gt; character in your input created by hitting &quot;Enter,&quot; and so the call to\r\n&gt; Scanner.nextLine returns after reading that newline.\r\n&gt; \r\n&gt; You will encounter the similar behaviour when you use Scanner.nextLine\r\n&gt; after Scanner.next() or any Scanner.nextFoo method (except nextLine\r\n&gt; itself).\r\n\r\nThe answer and the workaround are [here](https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo).","title":"Problem in getting input from sc.nextLine() in if condition JAVA","body":"<blockquote>\n<p>That's because the Scanner.nextInt method does not read the newline\ncharacter in your input created by hitting &quot;Enter,&quot; and so the call to\nScanner.nextLine returns after reading that newline.</p>\n<p>You will encounter the similar behaviour when you use Scanner.nextLine\nafter Scanner.next() or any Scanner.nextFoo method (except nextLine\nitself).</p>\n</blockquote>\n<p>The answer and the workaround are <a href=\"https://stackoverflow.com/questions/13102045/scanner-is-skipping-nextline-after-using-next-or-nextfoo\">here</a>.</p>\n"}],"owner":{"account_id":17778739,"reputation":1,"user_id":12910376,"display_name":"Tharun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645865298,"answer_count":3,"score":0,"last_activity_date":1645865160,"creation_date":1645861487,"question_id":71274915,"body_markdown":"[\\[\\[Image description \\]\\]][1]\r\n\t\r\n        System.out.print(&quot;Enter the key: &quot;);\r\n        int n=sc.nextInt();\r\n    \r\n        if(n==1)\r\n        {\r\n            System.out.println(&quot;Enter the task:&quot;);\r\n            String k=sc.nextLine();\r\n            System.out.println(k);\r\n        }\r\n\r\n\r\n\r\n**Enter the key:** is printing, after giving n=1, it just print \r\n**Enter the task:** and the whole program is terminated. But when I give **sc.next()** it working but my input has more than one word, is there any problem in **sc.nextLine()**.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WZnLA.png\r\n  [2]: https://i.stack.imgur.com/Pk9iN.png","title":"Problem in getting input from sc.nextLine() in if condition JAVA","body":"<p><a href=\"https://i.stack.imgur.com/WZnLA.png\" rel=\"nofollow noreferrer\">[[Image description ]]</a></p>\n<pre><code>    System.out.print(&quot;Enter the key: &quot;);\n    int n=sc.nextInt();\n\n    if(n==1)\n    {\n        System.out.println(&quot;Enter the task:&quot;);\n        String k=sc.nextLine();\n        System.out.println(k);\n    }\n</code></pre>\n<p><strong>Enter the key:</strong> is printing, after giving n=1, it just print\n<strong>Enter the task:</strong> and the whole program is terminated. But when I give <strong>sc.next()</strong> it working but my input has more than one word, is there any problem in <strong>sc.nextLine()</strong>.</p>\n"},{"tags":["java","android","arrays","split"],"comments":[{"owner":{"account_id":4810247,"reputation":2473,"user_id":3883957,"accept_rate":78,"display_name":"yishaiz"},"score":0,"creation_date":1505374278,"post_id":46212906,"comment_id":79388961,"body_markdown":"see this example https://stackoverflow.com/a/36678648/3883957 which uses `Collectors.groupingBy`","body":"see this example <a href=\"https://stackoverflow.com/a/36678648/3883957\">stackoverflow.com/a/36678648/3883957</a> which uses <code>Collectors.groupingBy</code>"},{"owner":{"account_id":9537406,"reputation":1180,"user_id":7087089,"accept_rate":75,"display_name":"Anil Shrestha"},"score":0,"creation_date":1505374913,"post_id":46212906,"comment_id":79389299,"body_markdown":"i looked the example but it says lamda expression is not supported at this level","body":"i looked the example but it says lamda expression is not supported at this level"},{"owner":{"account_id":4810247,"reputation":2473,"user_id":3883957,"accept_rate":78,"display_name":"yishaiz"},"score":0,"creation_date":1505378661,"post_id":46212906,"comment_id":79391481,"body_markdown":"maybe this answer https://stackoverflow.com/a/35524722/3883957 which uses Apache Commons Collections will help?","body":"maybe this answer <a href=\"https://stackoverflow.com/a/35524722/3883957\">stackoverflow.com/a/35524722/3883957</a> which uses Apache Commons Collections will help?"},{"owner":{"account_id":4604243,"reputation":2605,"user_id":3734172,"display_name":"Iulian Popescu"},"score":0,"creation_date":1505384775,"post_id":46212906,"comment_id":79395765,"body_markdown":"What exactly is `CalendarDay{2017-8-13}` as a data type? Is it a string, a custom class or what? Because I have an idea but I need some more details to see if it works.","body":"What exactly is <code>CalendarDay{2017-8-13}</code> as a data type? Is it a string, a custom class or what? Because I have an idea but I need some more details to see if it works."},{"owner":{"account_id":9537406,"reputation":1180,"user_id":7087089,"accept_rate":75,"display_name":"Anil Shrestha"},"score":0,"creation_date":1505384921,"post_id":46212906,"comment_id":79395860,"body_markdown":"it is in calendarday format but it can be string also if you have idea with string than it is string","body":"it is in calendarday format but it can be string also if you have idea with string than it is string"}],"answers":[{"tags":[],"owner":{"account_id":10403522,"reputation":470,"user_id":7671094,"display_name":"U2647"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1505376893,"creation_date":1505376893,"answer_id":46213892,"question_id":46212906,"body_markdown":"You can get the value of the month in each element and then put it into a different array depending on the value","title":"How to split array into different array or same array with different keys by checking the array value","body":"<p>You can get the value of the month in each element and then put it into a different array depending on the value</p>\n"},{"tags":[],"owner":{"account_id":4604243,"reputation":2605,"user_id":3734172,"display_name":"Iulian Popescu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1505385937,"creation_date":1505385937,"answer_id":46217013,"question_id":46212906,"body_markdown":"This is the solution I was thinking about: keep all the `CalendarDay` in a dictionary with the key being the month. So we start with something like this:\r\n\r\n    String[] array = {&quot;CalendarDay{2017-8-13}&quot;, &quot;CalendarDay{2017-8-14}&quot;, &quot;CalendarDay{2017-9-18}&quot;, &quot;CalendarDay{2017-9-19}&quot;, &quot;CalendarDay{2017-10-15}&quot;, &quot;CalendarDay{2017-10-16}&quot;};\r\n\r\nThen simply iterate the array, split each string and save it to the dictionary:\r\n\r\n    Map&lt;String, ArrayList&lt;String&gt;&gt; dictionary = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\r\n    for (String currentString : array) {\r\n        String month = currentString.split(&quot;-&quot;)[1];\r\n        ArrayList&lt;String&gt; values = dictionary.get(month);\r\n        if (values == null) {\r\n            values = new ArrayList&lt;String&gt;();\r\n        }\r\n        values.add(currentString);\r\n        dictionary.put(month, values);\r\n    }\r\nAnd we end up with something like this:\r\n\r\n    {\r\n        8=[CalendarDay{2017-8-13}, CalendarDay{2017-8-14}], \r\n        9=[CalendarDay{2017-9-18}, CalendarDay{2017-9-19}], \r\n        10=[CalendarDay{2017-10-15}, CalendarDay{2017-10-16}]\r\n    }\r\n\r\n","title":"How to split array into different array or same array with different keys by checking the array value","body":"<p>This is the solution I was thinking about: keep all the <code>CalendarDay</code> in a dictionary with the key being the month. So we start with something like this:</p>\n\n<pre><code>String[] array = {\"CalendarDay{2017-8-13}\", \"CalendarDay{2017-8-14}\", \"CalendarDay{2017-9-18}\", \"CalendarDay{2017-9-19}\", \"CalendarDay{2017-10-15}\", \"CalendarDay{2017-10-16}\"};\n</code></pre>\n\n<p>Then simply iterate the array, split each string and save it to the dictionary:</p>\n\n<pre><code>Map&lt;String, ArrayList&lt;String&gt;&gt; dictionary = new HashMap&lt;String, ArrayList&lt;String&gt;&gt;();\nfor (String currentString : array) {\n    String month = currentString.split(\"-\")[1];\n    ArrayList&lt;String&gt; values = dictionary.get(month);\n    if (values == null) {\n        values = new ArrayList&lt;String&gt;();\n    }\n    values.add(currentString);\n    dictionary.put(month, values);\n}\n</code></pre>\n\n<p>And we end up with something like this:</p>\n\n<pre><code>{\n    8=[CalendarDay{2017-8-13}, CalendarDay{2017-8-14}], \n    9=[CalendarDay{2017-9-18}, CalendarDay{2017-9-19}], \n    10=[CalendarDay{2017-10-15}, CalendarDay{2017-10-16}]\n}\n</code></pre>\n"}],"owner":{"account_id":9537406,"reputation":1180,"user_id":7087089,"accept_rate":75,"display_name":"Anil Shrestha"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":46217013,"answer_count":2,"score":0,"last_activity_date":1645865092,"creation_date":1505373721,"question_id":46212906,"body_markdown":"I have an array that contains calendardays like this. this array may contain data from all the months.\r\n\r\n    calendarday: [CalendarDay{2017-8-13}, CalendarDay{2017-8-14}, CalendarDay{2017-9-18}, CalendarDay{2017-9-19}, CalendarDay{2017-10-15}, CalendarDay{2017-10-16}]\r\n\r\nI want to split those array values by its months into different arrays or same arrays with different keys. like this\r\n\r\n    calendarday: [CalendarDay{2017-8-13}, CalendarDay{2017-8-14}]\r\n\r\n    calendardayone: [CalendarDay{2017-9-18}, CalendarDay{2017-9-19}]\r\n\r\nor like this\r\n\r\n    calendarday: [\r\n    0:[CalendarDay{2017-8-13}, CalendarDay{2017-8-14}],\r\n    1:[CalendarDay{2017-9-18}, CalendarDay{2017-9-19}], \r\n    2:[CalendarDay{2017-10-15}, CalendarDay{2017-10-16}]\r\n    ]\r\n\r\nOne way I found is to check if condition for all the month and split those array. But I don&#39;t want to do that. Is there any alternative methods so that I will not have to check if condition for all months?","title":"How to split array into different array or same array with different keys by checking the array value","body":"<p>I have an array that contains calendardays like this. this array may contain data from all the months.</p>\n<pre><code>calendarday: [CalendarDay{2017-8-13}, CalendarDay{2017-8-14}, CalendarDay{2017-9-18}, CalendarDay{2017-9-19}, CalendarDay{2017-10-15}, CalendarDay{2017-10-16}]\n</code></pre>\n<p>I want to split those array values by its months into different arrays or same arrays with different keys. like this</p>\n<pre><code>calendarday: [CalendarDay{2017-8-13}, CalendarDay{2017-8-14}]\n\ncalendardayone: [CalendarDay{2017-9-18}, CalendarDay{2017-9-19}]\n</code></pre>\n<p>or like this</p>\n<pre><code>calendarday: [\n0:[CalendarDay{2017-8-13}, CalendarDay{2017-8-14}],\n1:[CalendarDay{2017-9-18}, CalendarDay{2017-9-19}], \n2:[CalendarDay{2017-10-15}, CalendarDay{2017-10-16}]\n]\n</code></pre>\n<p>One way I found is to check if condition for all the month and split those array. But I don't want to do that. Is there any alternative methods so that I will not have to check if condition for all months?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1645818906,"post_id":71270978,"comment_id":125979961,"body_markdown":"You have  a major design problem.  `paintComponent` calls `draw` which conditionally calls `solveBoard` which then calls `draw`.  You are doing way to much processing in the Event Dispatch Thread.  Adding a timer at this stage would just complicate things.  Nothing should be &quot;solved&quot; in the EDT and you should do minimal processing there.  That includes all of your listeners.","body":"You have  a major design problem.  <code>paintComponent</code> calls <code>draw</code> which conditionally calls <code>solveBoard</code> which then calls <code>draw</code>.  You are doing way to much processing in the Event Dispatch Thread.  Adding a timer at this stage would just complicate things.  Nothing should be &quot;solved&quot; in the EDT and you should do minimal processing there.  That includes all of your listeners."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1645819196,"post_id":71270978,"comment_id":125980053,"body_markdown":"Check out [Bubble Sort Animation](https://stackoverflow.com/questions/64196198/bubble-sort-animation/64196256#64196256) for an example showing how to animate individual steps.","body":"Check out <a href=\"https://stackoverflow.com/questions/64196198/bubble-sort-animation/64196256#64196256\">Bubble Sort Animation</a> for an example showing how to animate individual steps."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1645821038,"post_id":71270978,"comment_id":125980558,"body_markdown":"Decouple of the solver from the paint process.  The paint process should only paint the &quot;current state&quot;.  Each time the solver goes through a cycle, the UI should then be updated","body":"Decouple of the solver from the paint process.  The paint process should only paint the &quot;current state&quot;.  Each time the solver goes through a cycle, the UI should then be updated"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645864378,"creation_date":1645850843,"answer_id":71274149,"question_id":71270978,"body_markdown":"Visualising recursion like this is very hard, because what you need is control over the flow.  Rather than the algorithm being allowed to run &quot;freely&quot;, you need some way that you can control each iteration.\r\n\r\nThe first thing I did was adapted a non-recursive solver algorithm from [Java | Recursive and non-recursive Sudoku solutions (Starter-friendly)](https://leetcode.com/problems/sudoku-solver/discuss/1392747/java-recursive-and-non-recursive-sodoku-solutions-starter-friendly)\r\n\r\nThis allowed to create a `step` method which would move the solution along by a single (or close enough for the purpose) step.\r\n\r\nThis means that I can call `step` from `Timer` and control when the algorithm updates. \r\n\r\n# Important\r\n\r\nThis is NOT a Sudoku solution, this focus on how you might adopt a &quot;recursive&quot; style algorithm so it can be visualised, I take no responsibility for the accuracy of the algorithm &#128521;\r\n\r\n# Runnable example\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Font;\r\n    import java.awt.FontMetrics;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import java.time.Duration;\r\n    import java.time.Instant;\r\n    import java.util.Arrays;\r\n    import java.util.LinkedList;\r\n    import java.util.Stack;\r\n    import java.util.StringJoiner;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.Timer;\r\n\r\n    public class Main {\r\n\r\n        int[][] board = {\r\n            {7, 0, 2, 0, 5, 0, 6, 0, 0},\r\n            {0, 0, 0, 0, 0, 3, 0, 0, 0},\r\n            {1, 0, 0, 0, 0, 9, 5, 0, 0},\r\n            {8, 0, 0, 0, 0, 0, 0, 9, 0},\r\n            {0, 4, 3, 0, 0, 0, 7, 5, 0},\r\n            {0, 9, 0, 0, 0, 0, 0, 0, 8},\r\n            {0, 0, 9, 7, 0, 0, 0, 0, 5},\r\n            {0, 0, 0, 2, 0, 0, 0, 0, 0},\r\n            {0, 0, 7, 0, 4, 0, 2, 0, 3}\r\n        };\r\n\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n    //        print(board);\r\n            SudokuSolver solver = new SudokuSolver(board);\r\n    //        System.out.println();\r\n            print(solver.solve());\r\n\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    SudokuSolver solver = new SudokuSolver(board);\r\n                    JFrame frame = new JFrame(&quot;Test&quot;);\r\n                    frame.add(new MainPane(solver));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public void print(int[][] board) {\r\n            for (int[] row : board) {\r\n                StringJoiner joiner = new StringJoiner(&quot; &quot;, &quot;&quot;, &quot;\\n&quot;);\r\n                for (int cell : row) {\r\n                    joiner.add(String.format(&quot;%d&quot;, cell));\r\n                }\r\n                System.out.print(joiner.toString());\r\n            }\r\n        }\r\n\r\n        public class MainPane extends JPanel {\r\n\r\n            private SolverPane solverPane;\r\n\r\n            public MainPane(SudokuSolver solver) {\r\n                setLayout(new BorderLayout());\r\n                solverPane = new SolverPane(solver);\r\n\r\n                add(solverPane);\r\n\r\n                JButton startButton = new JButton(&quot;Go&quot;);\r\n                startButton.addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        startButton.setEnabled(false);\r\n                        solverPane.start(new SolverPane.Observer() {\r\n                            @Override\r\n                            public void didCompleteSolution() {\r\n                                startButton.setEnabled(true);\r\n                            }\r\n                        });\r\n                    }\r\n                });\r\n\r\n                add(startButton, BorderLayout.SOUTH);\r\n            }\r\n\r\n        }\r\n\r\n        public class SolverPane extends JPanel {\r\n\r\n            public interface Observer {\r\n\r\n                public void didCompleteSolution();\r\n            }\r\n\r\n            private SudokuSolver solver;\r\n            private Observer observer;\r\n\r\n            private Dimension preferredSize;\r\n\r\n            private int gap = 4;\r\n\r\n            public SolverPane(SudokuSolver solver) {\r\n                this.solver = solver;\r\n                solver.prepareSolution();\r\n                setFont(new Font(&quot;Monospaced&quot;, Font.PLAIN, 20));\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                if (preferredSize == null) {\r\n                    FontMetrics fm = getFontMetrics(getFont());\r\n                    preferredSize = new Dimension(10 + ((fm.stringWidth(&quot;0&quot;) + gap)  * 9), 10 + (fm.getHeight() * 9));\r\n                }\r\n                return preferredSize;\r\n            }\r\n\r\n            public void start(Observer observer) {\r\n                this.observer = observer;\r\n                solver.prepareSolution();\r\n                Instant startedAt = Instant.now();\r\n                Timer timer = new Timer(5, new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        if (solver.step()) {\r\n                            observer.didCompleteSolution();\r\n                            ((Timer) e.getSource()).stop();\r\n                            Duration duration = Duration.between(Instant.now(), startedAt);\r\n                            System.out.println(duration);\r\n                        }\r\n                        repaint();\r\n                    }\r\n                });\r\n                timer.start();\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                FontMetrics fm = g2d.getFontMetrics();\r\n                int gap = 4;\r\n                int cellWidth = fm.stringWidth(&quot;0&quot;) + 4;\r\n\r\n                int xPos = (getWidth() - (cellWidth * 9)) / 2;\r\n                int yPos = (getHeight() - (cellWidth * 9)) / 2;\r\n\r\n                g2d.translate(xPos, yPos);\r\n\r\n                Stack&lt;SudokuSolver.Cell&gt; solved = solver.getSolved();\r\n                if (solved != null) {\r\n                    for (SudokuSolver.Cell cell : solver.getSolved()) {\r\n                        int x = cell.getCol() * cellWidth;\r\n                        int y = ((cell.getRow() - 1) * fm.getHeight());\r\n                        g2d.drawString(Integer.toString(cell.getValue()), x, y);\r\n                    }\r\n                }\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n\r\n        class SudokuSolver {\r\n\r\n            // Adapted from https://leetcode.com/problems/sudoku-solver/discuss/1392747/java-recursive-and-non-recursive-sodoku-solutions-starter-friendly\r\n            private int[][] board;\r\n\r\n            private LinkedList&lt;Cell&gt; unsolved;\r\n            private Stack&lt;Cell&gt; solved;\r\n\r\n            public SudokuSolver(int[][] originalBoard) {\r\n                this.board = originalBoard;\r\n            }\r\n\r\n            public LinkedList&lt;Cell&gt; getUnsolved() {\r\n                return unsolved;\r\n            }\r\n\r\n            public Stack&lt;Cell&gt; getSolved() {\r\n                return solved;\r\n            }\r\n\r\n            protected void prepareSolution() {\r\n                // all we need are just 1 stack, and 1 queue.\r\n                unsolved = new LinkedList&lt;&gt;();  // queue:  all unconfirmed cells\r\n                solved = new Stack&lt;&gt;();             // stack:  all cells which are confirmed temporarily\r\n\r\n                // init candidates\r\n                for (int i = 0; i &lt; 9; i++) {\r\n                    for (int j = 0; j &lt; 9; j++) {\r\n                        if (board[i][j] == 0) {\r\n                            Cell cell = new Cell(i, j, board);\r\n                            unsolved.addLast(cell);\r\n                        } else {\r\n                            Cell cell = new Cell(i, j);\r\n                            cell.value = board[i][j];\r\n                            solved.add(cell);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            public boolean step() {\r\n                if (unsolved == null || solved == null) {\r\n                    prepareSolution();\r\n                }\r\n\r\n                if (unsolved.peekFirst() == null) {\r\n                    return true;\r\n                }\r\n\r\n                Cell curr = unsolved.removeFirst();\r\n                if (curr.isValidCandid()) {\r\n                    solved.push(curr); // *\r\n                    unsolved = excludeCandid(curr, unsolved);\r\n                } else {        // MARK-s4\r\n                    unsolved.addFirst(curr); // *\r\n                    Cell prev = solved.pop();  // *\r\n                    unsolved = revertCandid(prev, unsolved);\r\n                    curr.resetCandid();     // restart selection\r\n                    prev.nextCandid();\r\n                    unsolved.addFirst(prev);  // *\r\n                }\r\n\r\n                return unsolved.peekFirst() == null;\r\n            }\r\n\r\n            public int[][] solve() {\r\n                prepareSolution();\r\n\r\n                // try different combinations until all unsolved cells gone\r\n                Cell curr;\r\n                while (unsolved.peekFirst() != null) {\r\n                    curr = unsolved.removeFirst();\r\n                    if (curr.isValidCandid()) {\r\n                        solved.push(curr); // *\r\n                        unsolved = excludeCandid(curr, unsolved);\r\n                    } else {        // MARK-s4\r\n                        unsolved.addFirst(curr); // *\r\n                        Cell prev = solved.pop();  // *\r\n                        unsolved = revertCandid(prev, unsolved);\r\n                        curr.resetCandid();     // restart selection\r\n                        prev.nextCandid();\r\n                        unsolved.addFirst(prev);  // *\r\n                    }\r\n                }\r\n\r\n                int[][] solution = new int[board.length][board.length];\r\n                for (int row = 0; row &lt; board.length; row++) {\r\n                    for (int col = 0; col &lt; board[row].length; col++) {\r\n                        solution[row][col] = board[row][col];\r\n                    }\r\n                }\r\n\r\n                // solutions back\r\n                while (!solved.empty()) {\r\n                    confirm(solved.pop(), solution);\r\n                }\r\n                return solution;\r\n            }\r\n\r\n            void confirm(Cell solution, int[][] problem) {\r\n                problem[solution.row][solution.col] = solution.value;\r\n            }\r\n\r\n            // once some candidates are taken, we need to exclude them in related cells\r\n            LinkedList&lt;Cell&gt; excludeCandid(Cell target, LinkedList&lt;Cell&gt; before) {\r\n                LinkedList&lt;Cell&gt; after = new LinkedList&lt;Cell&gt;();\r\n                Cell curr;\r\n                while ((curr = before.peekFirst()) != null) {\r\n                    before.removeFirst();\r\n                    curr.excludeCandidate(target);   // exclude the target candidate\r\n\r\n                    // OPTIONAL, but win more about 70% time!\r\n                    if (curr.isValidCandid()) // if there is conflict, handle it first\r\n                    {\r\n                        after.addLast(curr);\r\n                    } else {\r\n                        after.addFirst(curr);\r\n                    }\r\n                }\r\n                return after;\r\n            }\r\n\r\n            // once the previous candidates were incorrectly taken, we need to revert/recover them in related cells\r\n            LinkedList&lt;Cell&gt; revertCandid(Cell target, LinkedList&lt;Cell&gt; before) {\r\n                LinkedList&lt;Cell&gt; after = new LinkedList&lt;Cell&gt;();\r\n                Cell curr = null;\r\n                while ((curr = before.peekFirst()) != null) {\r\n                    before.removeFirst();\r\n                    curr.enableCandidate(target);\r\n                    after.addLast(curr);\r\n                }\r\n                return after;\r\n            }\r\n            // &gt;&gt; SOLUTION\r\n\r\n            // &lt;&lt; STRUCT\r\n            public class Cell {\r\n\r\n                /**\r\n                 *\r\n                 * To solve sudoku, we can use one stack to save all temporarily\r\n                 * confirmed cells, and one queue to save all unconfirmed ones, then\r\n                 * repeatedly dequeue elements from queue and push them into the\r\n                 * stack, analysing them at the same time, until queue is empty,\r\n                 * then Sudoku is solved. If stack encounter EmptyStackException at\r\n                 * some point of time, this method then is not capable to solve the\r\n                 * given Sudoku. Note, analysing cells is simple and\r\n                 * straightforward, just the &quot;pointer&quot; stuff, and the detail is\r\n                 * shown below.\r\n                 *\r\n                 *\r\n                 * ################################## ## &quot;1 stack and 1 queue&quot; model\r\n                 * : ##################################\r\n                 *\r\n                 * ........................................................................\r\n                 * .----------- (2,5) (2,4) (2,6) (2,0) .... |\r\n                 * ........................................................................\r\n                 * | (unsolved Queue/List) | | \\/ | | | | | (2,3) | | .... | | ....\r\n                 * | | .... | ---------- (solved Stack)\r\n                 *\r\n                 *\r\n                 *\r\n                 * ################################## ## &quot;candidate pointer&quot; model :\r\n                 * ( cell(2,0) at any possible point of time )\r\n                 * ##################################\r\n                 *\r\n                 * Characters: 1 2 3 4 5 6 7 8 9\r\n                 *\r\n                 * candidates: [-999999, 0 , 33 , -1 , 78 , 0 , 0 , -1 , 0 , -1] ^\r\n                 * [Stage 1] ... 21 ^ [Stage 2] ... 21 23 22 25 ^(&gt;9) [Stage 3]\r\n                 *\r\n                 * Explanations: [Stage 1] candidate pointer(cPtr), when at very\r\n                 * beginning, and there are 3 possible values that can be chosen;\r\n                 * [Stage 2] after &#39;1&#39; is selected by 21st cell, i.e. problem[2][2],\r\n                 * cPtr moves to 5th; [Stage 3] at this point, the &#39;1&#39; was taken by\r\n                 * 21st cell, &#39;5&#39; was by 23rd, &#39;6&#39; was by 22nd, &#39;8&#39; was by 25th,\r\n                 * result in cPtr overflow, which means some of previous candidates\r\n                 * were taken incorrectly, and getting back and retrying is needed.\r\n                 * [Stage 4] details is shown in some place of codes, marked as\r\n                 * &quot;MARK-s4&quot;\r\n                 *\r\n                 *\r\n                 *\r\n                 */\r\n                private int row;\r\n                private int col;\r\n                private int[] candidates; // -1: confirmed   0: possible   &gt;0: be selected by others\r\n                private int value = -1; // [1,9] or 10,11,...\r\n\r\n                public Cell(int i, int j) {\r\n                    row = i;\r\n                    col = j;\r\n                    candidates = new int[10];\r\n                    candidates[0] = -999999;\r\n                }\r\n\r\n                public Cell(int i, int j, int[][] datasource) {\r\n                    this(i, j);\r\n                    initCandidates(datasource);\r\n                }\r\n\r\n                public int getRow() {\r\n                    return row;\r\n                }\r\n\r\n                public int getCol() {\r\n                    return col;\r\n                }\r\n\r\n                public int getValue() {\r\n                    return value;\r\n                }\r\n\r\n                protected void initCandidates(int[][] datasource) {\r\n\r\n                    // same row\r\n                    for (int i = 0; i &lt; 9; i++) {\r\n                        if (datasource[row][i] != 0) {\r\n                            candidates[datasource[row][i]] = -1;\r\n                        }\r\n                    }\r\n                    // same col\r\n                    for (int i = 0; i &lt; 9; i++) {\r\n                        if (datasource[i][col] != 0) {\r\n                            candidates[datasource[i][col]] = -1;\r\n                        }\r\n                    }\r\n\r\n                    // same 9-cell\r\n                    int start_i = row / 3 * 3;\r\n                    int start_j = col / 3 * 3;\r\n                    for (int i = start_i; i &lt; start_i + 3; i++) {\r\n                        for (int j = start_j; j &lt; start_j + 3; j++) {\r\n                            if (datasource[i][j] != 0) {\r\n                                candidates[datasource[i][j]] = -1;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    // init candid ptr\r\n                    resetCandid();\r\n                }\r\n\r\n                protected int getCurrCandid() {  //  [1-9] or -1\r\n                    if (isValidCandid()) {\r\n                        return value;\r\n                    }\r\n                    return -1;\r\n                }\r\n\r\n                private void resetCandid() {\r\n                    // to left most 0\r\n                    int i = 1;\r\n                    for (; i &lt; 10; i++) {\r\n                        if (candidates[i] == 0) {\r\n                            break;\r\n                        }\r\n                    }\r\n                    value = i;  // 1..9 or 10\r\n                }\r\n\r\n                private void nextCandid() {\r\n                    int i = value + 1;\r\n                    while (i &lt; 10 &amp;&amp; candidates[i] != 0) {\r\n                        i++;\r\n                    }\r\n                    value = i; // 1..9 or 10,11,...\r\n                }\r\n\r\n                private void excludeCandidate(Cell by) {\r\n                    int their = by.getCurrCandid();\r\n                    if (candidates[their] == 0) {\r\n                        int theirIdx = by.row * 9 + by.col + 1;\r\n                        // same row\r\n                        if (by.row == row) {\r\n                            candidates[their] = theirIdx;\r\n                        }\r\n                        // same col\r\n                        if (by.col == col) {\r\n                            candidates[their] = theirIdx;\r\n                        }\r\n                        // same cell\r\n                        if (by.row / 3 * 3 == row / 3 * 3 &amp;&amp; by.col / 3 * 3 == col / 3 * 3) {\r\n                            candidates[their] = theirIdx;\r\n                        }\r\n                    }\r\n                    if (!isValidCandid()) {\r\n                        nextCandid();\r\n                    }\r\n                }\r\n\r\n                private void enableCandidate(Cell by) {\r\n                    int their = by.getCurrCandid();  // must exist\r\n                    int theirIdx = by.row * 9 + by.col + 1;\r\n                    if (candidates[their] &gt; 0 &amp;&amp; candidates[their] == theirIdx) {  // result from their\r\n                        candidates[their] = 0;   // &gt;0 -&gt; 0\r\n                        if (value &gt;= their) {\r\n                            resetCandid();     // *\r\n                        }\r\n                    }\r\n\r\n                }\r\n\r\n                private int numOfCandidate() {\r\n                    int num = 0;\r\n                    for (int i = 1; i &lt; 10; i++) {\r\n                        if (candidates[i] == 0) {\r\n                            num++;\r\n                        }\r\n                    }\r\n                    return num;\r\n                }\r\n\r\n                private boolean isValidCandid() {\r\n                    if (value &lt; 1 || value &gt; 9) {\r\n                        return false;\r\n                    }\r\n                    return candidates[value] == 0;\r\n                }\r\n\r\n                public String toString() {\r\n                    return String.format(&quot;%d,%d  cptr:%d(%b)  (%d)candids:%s\\n&quot;, row, col, value, isValidCandid(), numOfCandidate(), Arrays.toString(candidates));\r\n                }\r\n            }\r\n            // &gt;&gt; STRUCT\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ejO43.gif","title":"How to pause graphics of JPanel using Swing Timer?","body":"<p>Visualising recursion like this is very hard, because what you need is control over the flow.  Rather than the algorithm being allowed to run &quot;freely&quot;, you need some way that you can control each iteration.</p>\n<p>The first thing I did was adapted a non-recursive solver algorithm from <a href=\"https://leetcode.com/problems/sudoku-solver/discuss/1392747/java-recursive-and-non-recursive-sodoku-solutions-starter-friendly\" rel=\"nofollow noreferrer\">Java | Recursive and non-recursive Sudoku solutions (Starter-friendly)</a></p>\n<p>This allowed to create a <code>step</code> method which would move the solution along by a single (or close enough for the purpose) step.</p>\n<p>This means that I can call <code>step</code> from <code>Timer</code> and control when the algorithm updates.</p>\n<h1>Important</h1>\n<p>This is NOT a Sudoku solution, this focus on how you might adopt a &quot;recursive&quot; style algorithm so it can be visualised, I take no responsibility for the accuracy of the algorithm 😉</p>\n<h1>Runnable example</h1>\n<p><a href=\"https://i.stack.imgur.com/ejO43.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ejO43.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.Stack;\nimport java.util.StringJoiner;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\npublic class Main {\n\n    int[][] board = {\n        {7, 0, 2, 0, 5, 0, 6, 0, 0},\n        {0, 0, 0, 0, 0, 3, 0, 0, 0},\n        {1, 0, 0, 0, 0, 9, 5, 0, 0},\n        {8, 0, 0, 0, 0, 0, 0, 9, 0},\n        {0, 4, 3, 0, 0, 0, 7, 5, 0},\n        {0, 9, 0, 0, 0, 0, 0, 0, 8},\n        {0, 0, 9, 7, 0, 0, 0, 0, 5},\n        {0, 0, 0, 2, 0, 0, 0, 0, 0},\n        {0, 0, 7, 0, 4, 0, 2, 0, 3}\n    };\n\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n//        print(board);\n        SudokuSolver solver = new SudokuSolver(board);\n//        System.out.println();\n        print(solver.solve());\n\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                SudokuSolver solver = new SudokuSolver(board);\n                JFrame frame = new JFrame(&quot;Test&quot;);\n                frame.add(new MainPane(solver));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public void print(int[][] board) {\n        for (int[] row : board) {\n            StringJoiner joiner = new StringJoiner(&quot; &quot;, &quot;&quot;, &quot;\\n&quot;);\n            for (int cell : row) {\n                joiner.add(String.format(&quot;%d&quot;, cell));\n            }\n            System.out.print(joiner.toString());\n        }\n    }\n\n    public class MainPane extends JPanel {\n\n        private SolverPane solverPane;\n\n        public MainPane(SudokuSolver solver) {\n            setLayout(new BorderLayout());\n            solverPane = new SolverPane(solver);\n\n            add(solverPane);\n\n            JButton startButton = new JButton(&quot;Go&quot;);\n            startButton.addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    startButton.setEnabled(false);\n                    solverPane.start(new SolverPane.Observer() {\n                        @Override\n                        public void didCompleteSolution() {\n                            startButton.setEnabled(true);\n                        }\n                    });\n                }\n            });\n\n            add(startButton, BorderLayout.SOUTH);\n        }\n\n    }\n\n    public class SolverPane extends JPanel {\n\n        public interface Observer {\n\n            public void didCompleteSolution();\n        }\n\n        private SudokuSolver solver;\n        private Observer observer;\n\n        private Dimension preferredSize;\n\n        private int gap = 4;\n\n        public SolverPane(SudokuSolver solver) {\n            this.solver = solver;\n            solver.prepareSolution();\n            setFont(new Font(&quot;Monospaced&quot;, Font.PLAIN, 20));\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            if (preferredSize == null) {\n                FontMetrics fm = getFontMetrics(getFont());\n                preferredSize = new Dimension(10 + ((fm.stringWidth(&quot;0&quot;) + gap)  * 9), 10 + (fm.getHeight() * 9));\n            }\n            return preferredSize;\n        }\n\n        public void start(Observer observer) {\n            this.observer = observer;\n            solver.prepareSolution();\n            Instant startedAt = Instant.now();\n            Timer timer = new Timer(5, new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    if (solver.step()) {\n                        observer.didCompleteSolution();\n                        ((Timer) e.getSource()).stop();\n                        Duration duration = Duration.between(Instant.now(), startedAt);\n                        System.out.println(duration);\n                    }\n                    repaint();\n                }\n            });\n            timer.start();\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            FontMetrics fm = g2d.getFontMetrics();\n            int gap = 4;\n            int cellWidth = fm.stringWidth(&quot;0&quot;) + 4;\n\n            int xPos = (getWidth() - (cellWidth * 9)) / 2;\n            int yPos = (getHeight() - (cellWidth * 9)) / 2;\n\n            g2d.translate(xPos, yPos);\n\n            Stack&lt;SudokuSolver.Cell&gt; solved = solver.getSolved();\n            if (solved != null) {\n                for (SudokuSolver.Cell cell : solver.getSolved()) {\n                    int x = cell.getCol() * cellWidth;\n                    int y = ((cell.getRow() - 1) * fm.getHeight());\n                    g2d.drawString(Integer.toString(cell.getValue()), x, y);\n                }\n            }\n            g2d.dispose();\n        }\n\n    }\n\n    class SudokuSolver {\n\n        // Adapted from https://leetcode.com/problems/sudoku-solver/discuss/1392747/java-recursive-and-non-recursive-sodoku-solutions-starter-friendly\n        private int[][] board;\n\n        private LinkedList&lt;Cell&gt; unsolved;\n        private Stack&lt;Cell&gt; solved;\n\n        public SudokuSolver(int[][] originalBoard) {\n            this.board = originalBoard;\n        }\n\n        public LinkedList&lt;Cell&gt; getUnsolved() {\n            return unsolved;\n        }\n\n        public Stack&lt;Cell&gt; getSolved() {\n            return solved;\n        }\n\n        protected void prepareSolution() {\n            // all we need are just 1 stack, and 1 queue.\n            unsolved = new LinkedList&lt;&gt;();  // queue:  all unconfirmed cells\n            solved = new Stack&lt;&gt;();             // stack:  all cells which are confirmed temporarily\n\n            // init candidates\n            for (int i = 0; i &lt; 9; i++) {\n                for (int j = 0; j &lt; 9; j++) {\n                    if (board[i][j] == 0) {\n                        Cell cell = new Cell(i, j, board);\n                        unsolved.addLast(cell);\n                    } else {\n                        Cell cell = new Cell(i, j);\n                        cell.value = board[i][j];\n                        solved.add(cell);\n                    }\n                }\n            }\n        }\n\n        public boolean step() {\n            if (unsolved == null || solved == null) {\n                prepareSolution();\n            }\n\n            if (unsolved.peekFirst() == null) {\n                return true;\n            }\n\n            Cell curr = unsolved.removeFirst();\n            if (curr.isValidCandid()) {\n                solved.push(curr); // *\n                unsolved = excludeCandid(curr, unsolved);\n            } else {        // MARK-s4\n                unsolved.addFirst(curr); // *\n                Cell prev = solved.pop();  // *\n                unsolved = revertCandid(prev, unsolved);\n                curr.resetCandid();     // restart selection\n                prev.nextCandid();\n                unsolved.addFirst(prev);  // *\n            }\n\n            return unsolved.peekFirst() == null;\n        }\n\n        public int[][] solve() {\n            prepareSolution();\n\n            // try different combinations until all unsolved cells gone\n            Cell curr;\n            while (unsolved.peekFirst() != null) {\n                curr = unsolved.removeFirst();\n                if (curr.isValidCandid()) {\n                    solved.push(curr); // *\n                    unsolved = excludeCandid(curr, unsolved);\n                } else {        // MARK-s4\n                    unsolved.addFirst(curr); // *\n                    Cell prev = solved.pop();  // *\n                    unsolved = revertCandid(prev, unsolved);\n                    curr.resetCandid();     // restart selection\n                    prev.nextCandid();\n                    unsolved.addFirst(prev);  // *\n                }\n            }\n\n            int[][] solution = new int[board.length][board.length];\n            for (int row = 0; row &lt; board.length; row++) {\n                for (int col = 0; col &lt; board[row].length; col++) {\n                    solution[row][col] = board[row][col];\n                }\n            }\n\n            // solutions back\n            while (!solved.empty()) {\n                confirm(solved.pop(), solution);\n            }\n            return solution;\n        }\n\n        void confirm(Cell solution, int[][] problem) {\n            problem[solution.row][solution.col] = solution.value;\n        }\n\n        // once some candidates are taken, we need to exclude them in related cells\n        LinkedList&lt;Cell&gt; excludeCandid(Cell target, LinkedList&lt;Cell&gt; before) {\n            LinkedList&lt;Cell&gt; after = new LinkedList&lt;Cell&gt;();\n            Cell curr;\n            while ((curr = before.peekFirst()) != null) {\n                before.removeFirst();\n                curr.excludeCandidate(target);   // exclude the target candidate\n\n                // OPTIONAL, but win more about 70% time!\n                if (curr.isValidCandid()) // if there is conflict, handle it first\n                {\n                    after.addLast(curr);\n                } else {\n                    after.addFirst(curr);\n                }\n            }\n            return after;\n        }\n\n        // once the previous candidates were incorrectly taken, we need to revert/recover them in related cells\n        LinkedList&lt;Cell&gt; revertCandid(Cell target, LinkedList&lt;Cell&gt; before) {\n            LinkedList&lt;Cell&gt; after = new LinkedList&lt;Cell&gt;();\n            Cell curr = null;\n            while ((curr = before.peekFirst()) != null) {\n                before.removeFirst();\n                curr.enableCandidate(target);\n                after.addLast(curr);\n            }\n            return after;\n        }\n        // &gt;&gt; SOLUTION\n\n        // &lt;&lt; STRUCT\n        public class Cell {\n\n            /**\n             *\n             * To solve sudoku, we can use one stack to save all temporarily\n             * confirmed cells, and one queue to save all unconfirmed ones, then\n             * repeatedly dequeue elements from queue and push them into the\n             * stack, analysing them at the same time, until queue is empty,\n             * then Sudoku is solved. If stack encounter EmptyStackException at\n             * some point of time, this method then is not capable to solve the\n             * given Sudoku. Note, analysing cells is simple and\n             * straightforward, just the &quot;pointer&quot; stuff, and the detail is\n             * shown below.\n             *\n             *\n             * ################################## ## &quot;1 stack and 1 queue&quot; model\n             * : ##################################\n             *\n             * ........................................................................\n             * .----------- (2,5) (2,4) (2,6) (2,0) .... |\n             * ........................................................................\n             * | (unsolved Queue/List) | | \\/ | | | | | (2,3) | | .... | | ....\n             * | | .... | ---------- (solved Stack)\n             *\n             *\n             *\n             * ################################## ## &quot;candidate pointer&quot; model :\n             * ( cell(2,0) at any possible point of time )\n             * ##################################\n             *\n             * Characters: 1 2 3 4 5 6 7 8 9\n             *\n             * candidates: [-999999, 0 , 33 , -1 , 78 , 0 , 0 , -1 , 0 , -1] ^\n             * [Stage 1] ... 21 ^ [Stage 2] ... 21 23 22 25 ^(&gt;9) [Stage 3]\n             *\n             * Explanations: [Stage 1] candidate pointer(cPtr), when at very\n             * beginning, and there are 3 possible values that can be chosen;\n             * [Stage 2] after '1' is selected by 21st cell, i.e. problem[2][2],\n             * cPtr moves to 5th; [Stage 3] at this point, the '1' was taken by\n             * 21st cell, '5' was by 23rd, '6' was by 22nd, '8' was by 25th,\n             * result in cPtr overflow, which means some of previous candidates\n             * were taken incorrectly, and getting back and retrying is needed.\n             * [Stage 4] details is shown in some place of codes, marked as\n             * &quot;MARK-s4&quot;\n             *\n             *\n             *\n             */\n            private int row;\n            private int col;\n            private int[] candidates; // -1: confirmed   0: possible   &gt;0: be selected by others\n            private int value = -1; // [1,9] or 10,11,...\n\n            public Cell(int i, int j) {\n                row = i;\n                col = j;\n                candidates = new int[10];\n                candidates[0] = -999999;\n            }\n\n            public Cell(int i, int j, int[][] datasource) {\n                this(i, j);\n                initCandidates(datasource);\n            }\n\n            public int getRow() {\n                return row;\n            }\n\n            public int getCol() {\n                return col;\n            }\n\n            public int getValue() {\n                return value;\n            }\n\n            protected void initCandidates(int[][] datasource) {\n\n                // same row\n                for (int i = 0; i &lt; 9; i++) {\n                    if (datasource[row][i] != 0) {\n                        candidates[datasource[row][i]] = -1;\n                    }\n                }\n                // same col\n                for (int i = 0; i &lt; 9; i++) {\n                    if (datasource[i][col] != 0) {\n                        candidates[datasource[i][col]] = -1;\n                    }\n                }\n\n                // same 9-cell\n                int start_i = row / 3 * 3;\n                int start_j = col / 3 * 3;\n                for (int i = start_i; i &lt; start_i + 3; i++) {\n                    for (int j = start_j; j &lt; start_j + 3; j++) {\n                        if (datasource[i][j] != 0) {\n                            candidates[datasource[i][j]] = -1;\n                        }\n                    }\n                }\n\n                // init candid ptr\n                resetCandid();\n            }\n\n            protected int getCurrCandid() {  //  [1-9] or -1\n                if (isValidCandid()) {\n                    return value;\n                }\n                return -1;\n            }\n\n            private void resetCandid() {\n                // to left most 0\n                int i = 1;\n                for (; i &lt; 10; i++) {\n                    if (candidates[i] == 0) {\n                        break;\n                    }\n                }\n                value = i;  // 1..9 or 10\n            }\n\n            private void nextCandid() {\n                int i = value + 1;\n                while (i &lt; 10 &amp;&amp; candidates[i] != 0) {\n                    i++;\n                }\n                value = i; // 1..9 or 10,11,...\n            }\n\n            private void excludeCandidate(Cell by) {\n                int their = by.getCurrCandid();\n                if (candidates[their] == 0) {\n                    int theirIdx = by.row * 9 + by.col + 1;\n                    // same row\n                    if (by.row == row) {\n                        candidates[their] = theirIdx;\n                    }\n                    // same col\n                    if (by.col == col) {\n                        candidates[their] = theirIdx;\n                    }\n                    // same cell\n                    if (by.row / 3 * 3 == row / 3 * 3 &amp;&amp; by.col / 3 * 3 == col / 3 * 3) {\n                        candidates[their] = theirIdx;\n                    }\n                }\n                if (!isValidCandid()) {\n                    nextCandid();\n                }\n            }\n\n            private void enableCandidate(Cell by) {\n                int their = by.getCurrCandid();  // must exist\n                int theirIdx = by.row * 9 + by.col + 1;\n                if (candidates[their] &gt; 0 &amp;&amp; candidates[their] == theirIdx) {  // result from their\n                    candidates[their] = 0;   // &gt;0 -&gt; 0\n                    if (value &gt;= their) {\n                        resetCandid();     // *\n                    }\n                }\n\n            }\n\n            private int numOfCandidate() {\n                int num = 0;\n                for (int i = 1; i &lt; 10; i++) {\n                    if (candidates[i] == 0) {\n                        num++;\n                    }\n                }\n                return num;\n            }\n\n            private boolean isValidCandid() {\n                if (value &lt; 1 || value &gt; 9) {\n                    return false;\n                }\n                return candidates[value] == 0;\n            }\n\n            public String toString() {\n                return String.format(&quot;%d,%d  cptr:%d(%b)  (%d)candids:%s\\n&quot;, row, col, value, isValidCandid(), numOfCandidate(), Arrays.toString(candidates));\n            }\n        }\n        // &gt;&gt; STRUCT\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24023913,"reputation":63,"user_id":18005801,"display_name":"Ryan Tobin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645864378,"creation_date":1645818135,"question_id":71270978,"body_markdown":"I am building a Sudoku Solver visualizer that will solve the sudoku board and show the computer&#39;s steps as it tries each number in the available slots. I have been using the JFrame/JPanel framework to visualize this but have had problems updating the graphics to show the computer solving it and pausing the graphics in between each new attempt at each slot.\r\n\r\nThe solver works perfectly and correctly solves the board but I can only see the unsolved board and the solved board when I click the enter button. \r\n\r\nHere is my class with the main method: \r\n```\r\npublic class sudokuSolverVisualizer {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        new GameFrame();\r\n\r\n    }\r\n}\r\n```\r\nHere is the Game Frame class:\r\n\r\n``` \r\nimport javax.swing.*;\r\n\r\npublic class GameFrame extends JFrame {\r\n\r\n    GameFrame(){\r\n        this.add(new GamePanel());\r\n        this.setTitle(&quot;Sudoku Solver&quot;);\r\n        this.setResizable(false);\r\n        this.pack();\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        this.setLocationRelativeTo(null);\r\n        this.setVisible(true);\r\n    }\r\n\r\n}\r\n``` \r\n\r\nAnd here is my JPanel class that solves the sudoku board and updates the graphics:\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\nimport java.awt.geom.Line2D;\r\n\r\npublic class GamePanel extends JPanel implements ActionListener {\r\n\r\n    //region Variable Declaration\r\n    private static final int SIZE = 9;\r\n    static final int SCREEN_WIDTH = 270;\r\n    static final int SCREEN_HEIGHT = 270;\r\n    static final int UNIT_SIZE = SCREEN_WIDTH/SIZE;\r\n    static final int GAME_DELAY = 25;\r\n    static final int[][] board = {\r\n            {7, 0, 2, 0, 5, 0, 6, 0, 0},\r\n            {0, 0, 0, 0, 0, 3, 0, 0, 0},\r\n            {1, 0, 0, 0, 0, 9, 5, 0, 0},\r\n            {8, 0, 0, 0, 0, 0, 0, 9, 0},\r\n            {0, 4, 3, 0, 0, 0, 7, 5, 0},\r\n            {0, 9, 0, 0, 0, 0, 0, 0, 8},\r\n            {0, 0, 9, 7, 0, 0, 0, 0, 5},\r\n            {0, 0, 0, 2, 0, 0, 0, 0, 0},\r\n            {0, 0, 7, 0, 4, 0, 2, 0, 3}\r\n    };\r\n    static boolean solving = false;\r\n    static boolean solved = false;\r\n    static Timer timer;\r\n    //endregion\r\n\r\n    GamePanel(){\r\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\r\n        this.setBackground(Color.lightGray);\r\n        this.setFocusable(true);\r\n        this.addKeyListener(new MyKeyAdapter());\r\n        startGame();\r\n    }\r\n\r\n    public void paintComponent(Graphics g){\r\n        super.paintComponent(g);\r\n        draw(g);\r\n    }\r\n\r\n    public void startGame(){\r\n        timer = new Timer(GAME_DELAY, this);\r\n        timer.start();\r\n    }\r\n\r\n    private static void draw(Graphics g) {\r\n        if (solving){\r\n            solveBoard(board, g);\r\n        }\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        for (int row = 0; row &lt; SIZE; row++){\r\n            if (row % 3 == 0 &amp;&amp; row != 0){\r\n                g2.setStroke(new BasicStroke(5));\r\n            } else {\r\n                g2.setStroke(new BasicStroke(1));\r\n            }\r\n            g2.draw(new Line2D.Float(0, row * UNIT_SIZE, SCREEN_WIDTH, row * UNIT_SIZE));\r\n            for (int column = 0; column &lt; SIZE; column++){\r\n                if (column % 3 == 0 &amp;&amp; column != 0){\r\n                    g2.setStroke(new BasicStroke(5));\r\n                } else {\r\n                    g2.setStroke(new BasicStroke(1));\r\n                }\r\n                g2.draw(new Line2D.Float(column * UNIT_SIZE, 0, column * UNIT_SIZE, SCREEN_HEIGHT));\r\n                if (solved){\r\n                    g.setColor(Color.green);\r\n                }\r\n                g2.drawString(String.valueOf(board[row][column]), column * UNIT_SIZE + 12, row * UNIT_SIZE + 22);\r\n                g.setColor(Color.black);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private static boolean isInRow(int[][] board, int num, int row){\r\n        for (int i = 0; i &lt; SIZE; i++){\r\n            if (board[row][i] == num){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private static boolean isInColumn(int[][] board, int num, int column){\r\n        for (int i = 0; i &lt; SIZE; i++){\r\n            if (board[i][column] == num){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private static boolean isInBox(int[][] board, int num, int row, int column){\r\n        int rowStart = row - row % 3;\r\n        int columnStart = column - column % 3;\r\n        for (int i = rowStart; i &lt; rowStart + 3; i++){\r\n            for (int j = columnStart; j &lt; columnStart + 3; j++) {\r\n                if (board[i][j] == num) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    private static  boolean isValidPlace(int[][] board, int num, int row, int column){\r\n        return !isInRow(board, num, row) &amp;&amp;\r\n                !isInColumn(board, num, column) &amp;&amp;\r\n                !isInBox(board, num, row, column);\r\n    }\r\n\r\n    private static boolean solveBoard(int[][] board, Graphics g){\r\n        Graphics2D g2 = (Graphics2D) g;\r\n        g2.setColor(Color.black);\r\n        for (int row = 0; row &lt; SIZE; row++) {\r\n            for (int column = 0; column &lt; SIZE; column++) {\r\n                if (board[row][column] == 0) {\r\n                    for (int num = 1; num &lt;= SIZE; num++) {\r\n                        if (isValidPlace(board, num, row, column)) {\r\n                            board[row][column] = num;\r\n                            drawElements(g2, row, column, true);\r\n                            if (solveBoard(board, g)) {\r\n                                return true;\r\n                            }\r\n                            else{\r\n                                board[row][column] = 0;\r\n                                drawElements(g2, row, column, false);\r\n                            }\r\n                        }\r\n                    }\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        solving = false;\r\n        solved = true;\r\n        draw(g);\r\n        return true;\r\n    }\r\n\r\n    private static void drawElements(Graphics2D g2, int row, int column, boolean correct){\r\n        if (correct) {\r\n            g2.setColor(Color.green);\r\n        } else {\r\n            g2.setColor(Color.red);\r\n        }\r\n        g2.clearRect(column * UNIT_SIZE, row * UNIT_SIZE, UNIT_SIZE, UNIT_SIZE);\r\n        g2.drawString(String.valueOf(board[row][column]), column * UNIT_SIZE + 12, row * UNIT_SIZE + 22);\r\n        g2.drawRect(column * UNIT_SIZE, row * UNIT_SIZE, UNIT_SIZE, UNIT_SIZE);\r\n        g2.setColor(Color.black);\r\n    }\r\n\r\n    private static void printBoard(int[][] board){\r\n        for (int row = 0; row &lt; SIZE; row++){\r\n            if (row % 3 == 0 &amp;&amp; row != 0){\r\n                System.out.println(&quot;-------------------&quot;);\r\n            }\r\n            for (int column = 0; column &lt; SIZE; column++){\r\n                if (column % 3 == 0 &amp;&amp; column != 0){\r\n                    System.out.print(&quot;|&quot;);\r\n                }\r\n                System.out.print(board[row][column] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        if (solving) {\r\n            repaint();\r\n        }\r\n    }\r\n\r\n    public class MyKeyAdapter extends KeyAdapter {\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            switch (e.getKeyCode()){\r\n                case KeyEvent.VK_ENTER:\r\n                    solving = true;\r\n                    break;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf you could help me find a way to pause the graphics in between each attempt at each slot or somehow repaint the graphics every time it tries a number, that would be great!","title":"How to pause graphics of JPanel using Swing Timer?","body":"<p>I am building a Sudoku Solver visualizer that will solve the sudoku board and show the computer's steps as it tries each number in the available slots. I have been using the JFrame/JPanel framework to visualize this but have had problems updating the graphics to show the computer solving it and pausing the graphics in between each new attempt at each slot.</p>\n<p>The solver works perfectly and correctly solves the board but I can only see the unsolved board and the solved board when I click the enter button.</p>\n<p>Here is my class with the main method:</p>\n<pre><code>public class sudokuSolverVisualizer {\n\n    public static void main(String[] args) {\n\n        new GameFrame();\n\n    }\n}\n</code></pre>\n<p>Here is the Game Frame class:</p>\n<pre><code>import javax.swing.*;\n\npublic class GameFrame extends JFrame {\n\n    GameFrame(){\n        this.add(new GamePanel());\n        this.setTitle(&quot;Sudoku Solver&quot;);\n        this.setResizable(false);\n        this.pack();\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n\n}\n</code></pre>\n<p>And here is my JPanel class that solves the sudoku board and updates the graphics:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.awt.geom.Line2D;\n\npublic class GamePanel extends JPanel implements ActionListener {\n\n    //region Variable Declaration\n    private static final int SIZE = 9;\n    static final int SCREEN_WIDTH = 270;\n    static final int SCREEN_HEIGHT = 270;\n    static final int UNIT_SIZE = SCREEN_WIDTH/SIZE;\n    static final int GAME_DELAY = 25;\n    static final int[][] board = {\n            {7, 0, 2, 0, 5, 0, 6, 0, 0},\n            {0, 0, 0, 0, 0, 3, 0, 0, 0},\n            {1, 0, 0, 0, 0, 9, 5, 0, 0},\n            {8, 0, 0, 0, 0, 0, 0, 9, 0},\n            {0, 4, 3, 0, 0, 0, 7, 5, 0},\n            {0, 9, 0, 0, 0, 0, 0, 0, 8},\n            {0, 0, 9, 7, 0, 0, 0, 0, 5},\n            {0, 0, 0, 2, 0, 0, 0, 0, 0},\n            {0, 0, 7, 0, 4, 0, 2, 0, 3}\n    };\n    static boolean solving = false;\n    static boolean solved = false;\n    static Timer timer;\n    //endregion\n\n    GamePanel(){\n        this.setPreferredSize(new Dimension(SCREEN_WIDTH, SCREEN_HEIGHT));\n        this.setBackground(Color.lightGray);\n        this.setFocusable(true);\n        this.addKeyListener(new MyKeyAdapter());\n        startGame();\n    }\n\n    public void paintComponent(Graphics g){\n        super.paintComponent(g);\n        draw(g);\n    }\n\n    public void startGame(){\n        timer = new Timer(GAME_DELAY, this);\n        timer.start();\n    }\n\n    private static void draw(Graphics g) {\n        if (solving){\n            solveBoard(board, g);\n        }\n        Graphics2D g2 = (Graphics2D) g;\n        for (int row = 0; row &lt; SIZE; row++){\n            if (row % 3 == 0 &amp;&amp; row != 0){\n                g2.setStroke(new BasicStroke(5));\n            } else {\n                g2.setStroke(new BasicStroke(1));\n            }\n            g2.draw(new Line2D.Float(0, row * UNIT_SIZE, SCREEN_WIDTH, row * UNIT_SIZE));\n            for (int column = 0; column &lt; SIZE; column++){\n                if (column % 3 == 0 &amp;&amp; column != 0){\n                    g2.setStroke(new BasicStroke(5));\n                } else {\n                    g2.setStroke(new BasicStroke(1));\n                }\n                g2.draw(new Line2D.Float(column * UNIT_SIZE, 0, column * UNIT_SIZE, SCREEN_HEIGHT));\n                if (solved){\n                    g.setColor(Color.green);\n                }\n                g2.drawString(String.valueOf(board[row][column]), column * UNIT_SIZE + 12, row * UNIT_SIZE + 22);\n                g.setColor(Color.black);\n            }\n        }\n\n    }\n\n    private static boolean isInRow(int[][] board, int num, int row){\n        for (int i = 0; i &lt; SIZE; i++){\n            if (board[row][i] == num){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private static boolean isInColumn(int[][] board, int num, int column){\n        for (int i = 0; i &lt; SIZE; i++){\n            if (board[i][column] == num){\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private static boolean isInBox(int[][] board, int num, int row, int column){\n        int rowStart = row - row % 3;\n        int columnStart = column - column % 3;\n        for (int i = rowStart; i &lt; rowStart + 3; i++){\n            for (int j = columnStart; j &lt; columnStart + 3; j++) {\n                if (board[i][j] == num) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    private static  boolean isValidPlace(int[][] board, int num, int row, int column){\n        return !isInRow(board, num, row) &amp;&amp;\n                !isInColumn(board, num, column) &amp;&amp;\n                !isInBox(board, num, row, column);\n    }\n\n    private static boolean solveBoard(int[][] board, Graphics g){\n        Graphics2D g2 = (Graphics2D) g;\n        g2.setColor(Color.black);\n        for (int row = 0; row &lt; SIZE; row++) {\n            for (int column = 0; column &lt; SIZE; column++) {\n                if (board[row][column] == 0) {\n                    for (int num = 1; num &lt;= SIZE; num++) {\n                        if (isValidPlace(board, num, row, column)) {\n                            board[row][column] = num;\n                            drawElements(g2, row, column, true);\n                            if (solveBoard(board, g)) {\n                                return true;\n                            }\n                            else{\n                                board[row][column] = 0;\n                                drawElements(g2, row, column, false);\n                            }\n                        }\n                    }\n                    return false;\n                }\n            }\n        }\n        solving = false;\n        solved = true;\n        draw(g);\n        return true;\n    }\n\n    private static void drawElements(Graphics2D g2, int row, int column, boolean correct){\n        if (correct) {\n            g2.setColor(Color.green);\n        } else {\n            g2.setColor(Color.red);\n        }\n        g2.clearRect(column * UNIT_SIZE, row * UNIT_SIZE, UNIT_SIZE, UNIT_SIZE);\n        g2.drawString(String.valueOf(board[row][column]), column * UNIT_SIZE + 12, row * UNIT_SIZE + 22);\n        g2.drawRect(column * UNIT_SIZE, row * UNIT_SIZE, UNIT_SIZE, UNIT_SIZE);\n        g2.setColor(Color.black);\n    }\n\n    private static void printBoard(int[][] board){\n        for (int row = 0; row &lt; SIZE; row++){\n            if (row % 3 == 0 &amp;&amp; row != 0){\n                System.out.println(&quot;-------------------&quot;);\n            }\n            for (int column = 0; column &lt; SIZE; column++){\n                if (column % 3 == 0 &amp;&amp; column != 0){\n                    System.out.print(&quot;|&quot;);\n                }\n                System.out.print(board[row][column] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        if (solving) {\n            repaint();\n        }\n    }\n\n    public class MyKeyAdapter extends KeyAdapter {\n        @Override\n        public void keyPressed(KeyEvent e) {\n            switch (e.getKeyCode()){\n                case KeyEvent.VK_ENTER:\n                    solving = true;\n                    break;\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>If you could help me find a way to pause the graphics in between each attempt at each slot or somehow repaint the graphics every time it tries a number, that would be great!</p>\n"},{"tags":["java","json","rest","simplejson"],"comments":[{"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"score":0,"creation_date":1658736576,"post_id":71274781,"comment_id":129115873,"body_markdown":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like.","body":"Did my answer help you? or do you want me to add something to my answer? otherwise, feel free to accept my answer if you like."}],"answers":[{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645864331,"creation_date":1645864331,"answer_id":71275165,"question_id":71274781,"body_markdown":"In order to iterate on the elements of a JSON array, you have to cast the returned general object to `JSONArray`.\r\n\r\nIn your example `jsonArray.get(3)` returns a general object because in a JSON you can have different types of objects such as number, string and array.\r\n\r\nHowever, you know that `jsonArray.get(3)` returns an array so if you cast you can handle the result like an array or a list.\r\n\r\nThis is an example that you can put after `System.out.println(jsonArray.get(3).toString());`\r\n\r\n```java\r\nJSONArray elements = (JSONArray) jsonArray.get(3);\r\nfor (Object element : elements) {\r\n    JSONArray elementJSONArray = (JSONArray) element;\r\n    System.out.println(&quot;code: &quot; + elementJSONArray.get(0));\r\n    System.out.println(&quot;description: &quot; + elementJSONArray.get(1));\r\n}\r\n```\r\nOutput\r\n```shell\r\ncode: A15.0\r\ndescription: Tuberculosis of lung\r\ncode: A15.4\r\ndescription: Tuberculosis of intrathoracic lymph nodes\r\ncode: A15.5\r\ndescription: Tuberculosis of larynx, trachea and bronchus\r\ncode: A15.6\r\ndescription: Tuberculous pleurisy\r\ncode: A15.7\r\ndescription: Primary respiratory tuberculosis\r\ncode: A15.8\r\ndescription: Other respiratory tuberculosis\r\ncode: A15.9\r\ndescription: Respiratory tuberculosis unspecified\r\n```","title":"How do I format the results of a JSONArray","body":"<p>In order to iterate on the elements of a JSON array, you have to cast the returned general object to <code>JSONArray</code>.</p>\n<p>In your example <code>jsonArray.get(3)</code> returns a general object because in a JSON you can have different types of objects such as number, string and array.</p>\n<p>However, you know that <code>jsonArray.get(3)</code> returns an array so if you cast you can handle the result like an array or a list.</p>\n<p>This is an example that you can put after <code>System.out.println(jsonArray.get(3).toString());</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONArray elements = (JSONArray) jsonArray.get(3);\nfor (Object element : elements) {\n    JSONArray elementJSONArray = (JSONArray) element;\n    System.out.println(&quot;code: &quot; + elementJSONArray.get(0));\n    System.out.println(&quot;description: &quot; + elementJSONArray.get(1));\n}\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-sh prettyprint-override\"><code>code: A15.0\ndescription: Tuberculosis of lung\ncode: A15.4\ndescription: Tuberculosis of intrathoracic lymph nodes\ncode: A15.5\ndescription: Tuberculosis of larynx, trachea and bronchus\ncode: A15.6\ndescription: Tuberculous pleurisy\ncode: A15.7\ndescription: Primary respiratory tuberculosis\ncode: A15.8\ndescription: Other respiratory tuberculosis\ncode: A15.9\ndescription: Respiratory tuberculosis unspecified\n</code></pre>\n"}],"owner":{"account_id":24383334,"reputation":1,"user_id":18314519,"display_name":"jordanv1997"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645864331,"creation_date":1645859717,"question_id":71274781,"body_markdown":"So I am trying to use the API here: https://clinicaltables.nlm.nih.gov/apidoc/icd10cm/v3/doc.html#output\r\n\r\nThis is my code so far: \r\n\r\n```\r\nimport java.net.HttpURLConnection;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\nimport org.json.simple.*;\r\nimport org.json.simple.parser.JSONParser;\r\n\r\npublic class DiagnosesAPIHelper \r\n{\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tURL url = new URL (&quot;https://clinicaltables.nlm.nih.gov/api/icd10cm/v3/search?sf=code,name&amp;terms=tuberc&quot;);\r\n\t\t\tHttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t\t\tconn.setRequestMethod(&quot;GET&quot;);\r\n\t\t\tconn.connect();\r\n\r\n\t\t\tint responseCode = conn.getResponseCode();\r\n\t\t\t\r\n\t\t\tif(responseCode != 200)\r\n\t\t\t{\r\n\t\t\t\tthrow new Exception(&quot;HTTP Response code: &quot; + responseCode);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\r\n                String inline = &quot;&quot;;\r\n                Scanner scanner = new Scanner(url.openStream());\r\n\r\n                //Write all the JSON data into a string using a scanner\r\n                while (scanner.hasNext()) {\r\n                    inline += scanner.nextLine();\r\n                }\r\n\r\n                //Close the scanner\r\n                scanner.close();\r\n                \r\n                //Using the JSON simple library parse the string into a json object\r\n                JSONParser parse = new JSONParser();\r\n                JSONArray jsonArray = (JSONArray) parse.parse(inline);\r\n\r\n                System.out.println(jsonArray.get(3).toString());\r\n                \r\n                \r\n\t\t\t}} catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**And here are the outputs that I am getting:** \r\n```\r\n[[&quot;A15.0&quot;,&quot;Tuberculosis of lung&quot;],[&quot;A15.4&quot;,&quot;Tuberculosis of intrathoracic lymph nodes&quot;],[&quot;A15.5&quot;,&quot;Tuberculosis of larynx, trachea and bronchus&quot;],[&quot;A15.6&quot;,&quot;Tuberculous pleurisy&quot;],[&quot;A15.7&quot;,&quot;Primary respiratory tuberculosis&quot;],[&quot;A15.8&quot;,&quot;Other respiratory tuberculosis&quot;],[&quot;A15.9&quot;,&quot;Respiratory tuberculosis unspecified&quot;]]\r\n```\r\nHow would I extract the ICD code, and the diagnoses description? \r\n\r\nSo with what I get [[&quot;A15.0&quot;,&quot;Tuberculosis of lung&quot;] \r\n\r\nHow would I make 2 strings out of it one for the A15.0 part, and another for the Tuberculosis of lung part. \r\n\r\nI can tokenize it, but that would be quite a bit of work. There has to be an easier way. \r\n\r\nThanks in advance","title":"How do I format the results of a JSONArray","body":"<p>So I am trying to use the API here: <a href=\"https://clinicaltables.nlm.nih.gov/apidoc/icd10cm/v3/doc.html#output\" rel=\"nofollow noreferrer\">https://clinicaltables.nlm.nih.gov/apidoc/icd10cm/v3/doc.html#output</a></p>\n<p>This is my code so far:</p>\n<pre><code>import java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Scanner;\n\nimport org.json.simple.*;\nimport org.json.simple.parser.JSONParser;\n\npublic class DiagnosesAPIHelper \n{\n    \n    public static void main(String[] args)\n    {\n        \n        try\n        {\n            URL url = new URL (&quot;https://clinicaltables.nlm.nih.gov/api/icd10cm/v3/search?sf=code,name&amp;terms=tuberc&quot;);\n            HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n            conn.setRequestMethod(&quot;GET&quot;);\n            conn.connect();\n\n            int responseCode = conn.getResponseCode();\n            \n            if(responseCode != 200)\n            {\n                throw new Exception(&quot;HTTP Response code: &quot; + responseCode);\n            }\n            else\n            {\n\n                String inline = &quot;&quot;;\n                Scanner scanner = new Scanner(url.openStream());\n\n                //Write all the JSON data into a string using a scanner\n                while (scanner.hasNext()) {\n                    inline += scanner.nextLine();\n                }\n\n                //Close the scanner\n                scanner.close();\n                \n                //Using the JSON simple library parse the string into a json object\n                JSONParser parse = new JSONParser();\n                JSONArray jsonArray = (JSONArray) parse.parse(inline);\n\n                System.out.println(jsonArray.get(3).toString());\n                \n                \n            }} catch (Exception e) {\n            e.printStackTrace();\n        }\n    \n    }\n\n}\n</code></pre>\n<p><strong>And here are the outputs that I am getting:</strong></p>\n<pre><code>[[&quot;A15.0&quot;,&quot;Tuberculosis of lung&quot;],[&quot;A15.4&quot;,&quot;Tuberculosis of intrathoracic lymph nodes&quot;],[&quot;A15.5&quot;,&quot;Tuberculosis of larynx, trachea and bronchus&quot;],[&quot;A15.6&quot;,&quot;Tuberculous pleurisy&quot;],[&quot;A15.7&quot;,&quot;Primary respiratory tuberculosis&quot;],[&quot;A15.8&quot;,&quot;Other respiratory tuberculosis&quot;],[&quot;A15.9&quot;,&quot;Respiratory tuberculosis unspecified&quot;]]\n</code></pre>\n<p>How would I extract the ICD code, and the diagnoses description?</p>\n<p>So with what I get [[&quot;A15.0&quot;,&quot;Tuberculosis of lung&quot;]</p>\n<p>How would I make 2 strings out of it one for the A15.0 part, and another for the Tuberculosis of lung part.</p>\n<p>I can tokenize it, but that would be quite a bit of work. There has to be an easier way.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","firebase","ssl","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645862981,"creation_date":1645862981,"answer_id":71275048,"question_id":71273904,"body_markdown":"We need to interchange the API key and import the Certs.","title":"Why Is FCM Returning SSL Certificate Error?","body":"<p>We need to interchange the API key and import the Certs.</p>\n"}],"owner":{"account_id":158594,"reputation":977,"user_id":377349,"accept_rate":44,"display_name":"Rohitesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645862981,"creation_date":1645846858,"question_id":71273904,"body_markdown":"I am getting an SSL Exception when trying to send an message via FCM from my server to the users of my android app. This project is a little old, and has not been maintained for 1.5 years. But before that, this functionality was working fine.\r\n\r\nSince then, Google mandated that servers communicating with apps on playstore must have valid SSL. So, I got an SSL certificate from LetsEncrypt and it seems to be working fine (checked for pugme.in here : https://www.digicert.com/help/)\r\n\r\nCan anyone help me figure out, how to go about resolving this please?\r\n\r\nCheers\r\n\r\n\r\n\r\n\r\nThe exception I am getting :\r\n\r\n    ERROR - javax.net.ssl.SSLException: hostname in certificate didn&#39;t match: &lt;fcm.googleapis.com&gt; != &lt;*.google.com&gt; OR &lt;*.google.com&gt; OR &lt;*.appengine.google.com&gt; OR &lt;*.bdn.dev&gt; OR &lt;*.cloud.google.com&gt; OR &lt;*.crowdsource.google.com&gt; OR &lt;*.datacompute.google.com&gt; OR &lt;*.google.ca&gt; OR &lt;*.google.cl&gt; OR &lt;*.google.co.in&gt; OR &lt;*.google.co.jp&gt; OR &lt;*.google.co.uk&gt; OR &lt;*.google.com.ar&gt; OR &lt;*.google.com.au&gt; OR &lt;*.google.com.br&gt; OR &lt;*.google.com.co&gt; OR &lt;*.google.com.mx&gt; OR &lt;*.google.com.tr&gt; OR &lt;*.google.com.vn&gt; OR &lt;*.google.de&gt; OR &lt;*.google.es&gt; OR &lt;*.google.fr&gt; OR &lt;*.google.hu&gt; OR &lt;*.google.it&gt; OR &lt;*.google.nl&gt; OR &lt;*.google.pl&gt; OR &lt;*.google.pt&gt; OR &lt;*.googleadapis.com&gt; OR &lt;*.googleapis.cn&gt; OR &lt;*.googlevideo.com&gt; OR &lt;*.gstatic.cn&gt; OR &lt;*.gstatic-cn.com&gt; OR &lt;googlecnapps.cn&gt; OR &lt;*.googlecnapps.cn&gt; OR &lt;googleapps-cn.com&gt; OR &lt;*.googleapps-cn.com&gt; OR &lt;gkecnapps.cn&gt; OR &lt;*.gkecnapps.cn&gt; OR &lt;googledownloads.cn&gt; OR &lt;*.googledownloads.cn&gt; OR &lt;recaptcha.net.cn&gt; OR &lt;*.recaptcha.net.cn&gt; OR &lt;recaptcha-cn.net&gt; OR &lt;*.recaptcha-cn.net&gt; OR &lt;widevine.cn&gt; OR &lt;*.widevine.cn&gt; OR &lt;ampproject.org.cn&gt; OR &lt;*.ampproject.org.cn&gt; OR &lt;ampproject.net.cn&gt; OR &lt;*.ampproject.net.cn&gt; OR &lt;google-analytics-cn.com&gt; OR &lt;*.google-analytics-cn.com&gt; OR &lt;googleadservices-cn.com&gt; OR &lt;*.googleadservices-cn.com&gt; OR &lt;googlevads-cn.com&gt; OR &lt;*.googlevads-cn.com&gt; OR &lt;googleapis-cn.com&gt; OR &lt;*.googleapis-cn.com&gt; OR &lt;googleoptimize-cn.com&gt; OR &lt;*.googleoptimize-cn.com&gt; OR &lt;doubleclick-cn.net&gt; OR &lt;*.doubleclick-cn.net&gt; OR &lt;*.fls.doubleclick-cn.net&gt; OR &lt;*.g.doubleclick-cn.net&gt; OR &lt;doubleclick.cn&gt; OR &lt;*.doubleclick.cn&gt; OR &lt;*.fls.doubleclick.cn&gt; OR &lt;*.g.doubleclick.cn&gt; OR &lt;dartsearch-cn.net&gt; OR &lt;*.dartsearch-cn.net&gt; OR &lt;googletraveladservices-cn.com&gt; OR &lt;*.googletraveladservices-cn.com&gt; OR &lt;googletagservices-cn.com&gt; OR &lt;*.googletagservices-cn.com&gt; OR &lt;googletagmanager-cn.com&gt; OR &lt;*.googletagmanager-cn.com&gt; OR &lt;googlesyndication-cn.com&gt; OR &lt;*.googlesyndication-cn.com&gt; OR &lt;*.safeframe.googlesyndication-cn.com&gt; OR &lt;app-measurement-cn.com&gt; OR &lt;*.app-measurement-cn.com&gt; OR &lt;gvt1-cn.com&gt; OR &lt;*.gvt1-cn.com&gt; OR &lt;gvt2-cn.com&gt; OR &lt;*.gvt2-cn.com&gt; OR &lt;2mdn-cn.net&gt; OR &lt;*.2mdn-cn.net&gt; OR &lt;googleflights-cn.net&gt; OR &lt;*.googleflights-cn.net&gt; OR &lt;admob-cn.com&gt; OR &lt;*.admob-cn.com&gt; OR &lt;*.gstatic.com&gt; OR &lt;*.metric.gstatic.com&gt; OR &lt;*.gvt1.com&gt; OR &lt;*.gcpcdn.gvt1.com&gt; OR &lt;*.gvt2.com&gt; OR &lt;*.gcp.gvt2.com&gt; OR &lt;*.url.google.com&gt; OR &lt;*.youtube-nocookie.com&gt; OR &lt;*.ytimg.com&gt; OR &lt;android.com&gt; OR &lt;*.android.com&gt; OR &lt;*.flash.android.com&gt; OR &lt;g.cn&gt; OR &lt;*.g.cn&gt; OR &lt;g.co&gt; OR &lt;*.g.co&gt; OR &lt;goo.gl&gt; OR &lt;www.goo.gl&gt; OR &lt;google-analytics.com&gt; OR &lt;*.google-analytics.com&gt; OR &lt;google.com&gt; OR &lt;googlecommerce.com&gt; OR &lt;*.googlecommerce.com&gt; OR &lt;ggpht.cn&gt; OR &lt;*.ggpht.cn&gt; OR &lt;urchin.com&gt; OR &lt;*.urchin.com&gt; OR &lt;youtu.be&gt; OR &lt;youtube.com&gt; OR &lt;*.youtube.com&gt; OR &lt;youtubeeducation.com&gt; OR &lt;*.youtubeeducation.com&gt; OR &lt;youtubekids.com&gt; OR &lt;*.youtubekids.com&gt; OR &lt;yt.be&gt; OR &lt;*.yt.be&gt; OR &lt;android.clients.google.com&gt; OR &lt;developer.android.google.cn&gt; OR &lt;developers.android.google.cn&gt; OR &lt;source.android.google.cn&gt;","title":"Why Is FCM Returning SSL Certificate Error?","body":"<p>I am getting an SSL Exception when trying to send an message via FCM from my server to the users of my android app. This project is a little old, and has not been maintained for 1.5 years. But before that, this functionality was working fine.</p>\n<p>Since then, Google mandated that servers communicating with apps on playstore must have valid SSL. So, I got an SSL certificate from LetsEncrypt and it seems to be working fine (checked for pugme.in here : <a href=\"https://www.digicert.com/help/\" rel=\"nofollow noreferrer\">https://www.digicert.com/help/</a>)</p>\n<p>Can anyone help me figure out, how to go about resolving this please?</p>\n<p>Cheers</p>\n<p>The exception I am getting :</p>\n<pre><code>ERROR - javax.net.ssl.SSLException: hostname in certificate didn't match: &lt;fcm.googleapis.com&gt; != &lt;*.google.com&gt; OR &lt;*.google.com&gt; OR &lt;*.appengine.google.com&gt; OR &lt;*.bdn.dev&gt; OR &lt;*.cloud.google.com&gt; OR &lt;*.crowdsource.google.com&gt; OR &lt;*.datacompute.google.com&gt; OR &lt;*.google.ca&gt; OR &lt;*.google.cl&gt; OR &lt;*.google.co.in&gt; OR &lt;*.google.co.jp&gt; OR &lt;*.google.co.uk&gt; OR &lt;*.google.com.ar&gt; OR &lt;*.google.com.au&gt; OR &lt;*.google.com.br&gt; OR &lt;*.google.com.co&gt; OR &lt;*.google.com.mx&gt; OR &lt;*.google.com.tr&gt; OR &lt;*.google.com.vn&gt; OR &lt;*.google.de&gt; OR &lt;*.google.es&gt; OR &lt;*.google.fr&gt; OR &lt;*.google.hu&gt; OR &lt;*.google.it&gt; OR &lt;*.google.nl&gt; OR &lt;*.google.pl&gt; OR &lt;*.google.pt&gt; OR &lt;*.googleadapis.com&gt; OR &lt;*.googleapis.cn&gt; OR &lt;*.googlevideo.com&gt; OR &lt;*.gstatic.cn&gt; OR &lt;*.gstatic-cn.com&gt; OR &lt;googlecnapps.cn&gt; OR &lt;*.googlecnapps.cn&gt; OR &lt;googleapps-cn.com&gt; OR &lt;*.googleapps-cn.com&gt; OR &lt;gkecnapps.cn&gt; OR &lt;*.gkecnapps.cn&gt; OR &lt;googledownloads.cn&gt; OR &lt;*.googledownloads.cn&gt; OR &lt;recaptcha.net.cn&gt; OR &lt;*.recaptcha.net.cn&gt; OR &lt;recaptcha-cn.net&gt; OR &lt;*.recaptcha-cn.net&gt; OR &lt;widevine.cn&gt; OR &lt;*.widevine.cn&gt; OR &lt;ampproject.org.cn&gt; OR &lt;*.ampproject.org.cn&gt; OR &lt;ampproject.net.cn&gt; OR &lt;*.ampproject.net.cn&gt; OR &lt;google-analytics-cn.com&gt; OR &lt;*.google-analytics-cn.com&gt; OR &lt;googleadservices-cn.com&gt; OR &lt;*.googleadservices-cn.com&gt; OR &lt;googlevads-cn.com&gt; OR &lt;*.googlevads-cn.com&gt; OR &lt;googleapis-cn.com&gt; OR &lt;*.googleapis-cn.com&gt; OR &lt;googleoptimize-cn.com&gt; OR &lt;*.googleoptimize-cn.com&gt; OR &lt;doubleclick-cn.net&gt; OR &lt;*.doubleclick-cn.net&gt; OR &lt;*.fls.doubleclick-cn.net&gt; OR &lt;*.g.doubleclick-cn.net&gt; OR &lt;doubleclick.cn&gt; OR &lt;*.doubleclick.cn&gt; OR &lt;*.fls.doubleclick.cn&gt; OR &lt;*.g.doubleclick.cn&gt; OR &lt;dartsearch-cn.net&gt; OR &lt;*.dartsearch-cn.net&gt; OR &lt;googletraveladservices-cn.com&gt; OR &lt;*.googletraveladservices-cn.com&gt; OR &lt;googletagservices-cn.com&gt; OR &lt;*.googletagservices-cn.com&gt; OR &lt;googletagmanager-cn.com&gt; OR &lt;*.googletagmanager-cn.com&gt; OR &lt;googlesyndication-cn.com&gt; OR &lt;*.googlesyndication-cn.com&gt; OR &lt;*.safeframe.googlesyndication-cn.com&gt; OR &lt;app-measurement-cn.com&gt; OR &lt;*.app-measurement-cn.com&gt; OR &lt;gvt1-cn.com&gt; OR &lt;*.gvt1-cn.com&gt; OR &lt;gvt2-cn.com&gt; OR &lt;*.gvt2-cn.com&gt; OR &lt;2mdn-cn.net&gt; OR &lt;*.2mdn-cn.net&gt; OR &lt;googleflights-cn.net&gt; OR &lt;*.googleflights-cn.net&gt; OR &lt;admob-cn.com&gt; OR &lt;*.admob-cn.com&gt; OR &lt;*.gstatic.com&gt; OR &lt;*.metric.gstatic.com&gt; OR &lt;*.gvt1.com&gt; OR &lt;*.gcpcdn.gvt1.com&gt; OR &lt;*.gvt2.com&gt; OR &lt;*.gcp.gvt2.com&gt; OR &lt;*.url.google.com&gt; OR &lt;*.youtube-nocookie.com&gt; OR &lt;*.ytimg.com&gt; OR &lt;android.com&gt; OR &lt;*.android.com&gt; OR &lt;*.flash.android.com&gt; OR &lt;g.cn&gt; OR &lt;*.g.cn&gt; OR &lt;g.co&gt; OR &lt;*.g.co&gt; OR &lt;goo.gl&gt; OR &lt;www.goo.gl&gt; OR &lt;google-analytics.com&gt; OR &lt;*.google-analytics.com&gt; OR &lt;google.com&gt; OR &lt;googlecommerce.com&gt; OR &lt;*.googlecommerce.com&gt; OR &lt;ggpht.cn&gt; OR &lt;*.ggpht.cn&gt; OR &lt;urchin.com&gt; OR &lt;*.urchin.com&gt; OR &lt;youtu.be&gt; OR &lt;youtube.com&gt; OR &lt;*.youtube.com&gt; OR &lt;youtubeeducation.com&gt; OR &lt;*.youtubeeducation.com&gt; OR &lt;youtubekids.com&gt; OR &lt;*.youtubekids.com&gt; OR &lt;yt.be&gt; OR &lt;*.yt.be&gt; OR &lt;android.clients.google.com&gt; OR &lt;developer.android.google.cn&gt; OR &lt;developers.android.google.cn&gt; OR &lt;source.android.google.cn&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","web","oauth-2.0","google-oauth"],"comments":[{"owner":{"account_id":3080,"reputation":2755,"user_id":4372,"display_name":"Johannes Passing"},"score":0,"creation_date":1625638745,"post_id":68279489,"comment_id":120676243,"body_markdown":"Consider using the `sub` claim instead of the `email` claim as a key to identify users. The email address of a Google user account can change, but the `sub` value will stay constant.","body":"Consider using the <code>sub</code> claim instead of the <code>email</code> claim as a key to identify users. The email address of a Google user account can change, but the <code>sub</code> value will stay constant."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1625641588,"post_id":68279489,"comment_id":120677206,"body_markdown":"Aggreed when they first log in use the sub claim to link them in your own system.  the sub claim should be the user id on the system you are connecting to.   The term is account linking.  Linking two accounts on different systems by their respective ID","body":"Aggreed when they first log in use the sub claim to link them in your own system.  the sub claim should be the user id on the system you are connecting to.   The term is account linking.  Linking two accounts on different systems by their respective ID"}],"answers":[{"tags":[],"owner":{"account_id":24383170,"reputation":11,"user_id":18314363,"display_name":"Vithya Uma Shankar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645862964,"creation_date":1645862964,"answer_id":71275046,"question_id":68279489,"body_markdown":"Not sure if you&#39;re still looking for a solution but this is how I checked if email exists in the database.&lt;br&gt;&lt;br&gt;\r\nEdit your `CustomOAuth2UserService.java` as follows:\r\n````\r\n\t@Override\r\n\tpublic OAuth2User loadUser(OAuth2UserRequest userRequest) throws OAuth2AuthenticationException\r\n\t{\r\n\t\tString clientName = userRequest.getClientRegistration().getClientName();\r\n\t\tOAuth2User user = super.loadUser(userRequest);\r\n\r\n\t\tCustomOAuth2User customOAuth2User = new CustomOAuth2User(user, clientName);\r\n\t\tString email = customOAuth2User.getEmail();\r\n\r\n        Optional&lt;User&gt; optionalUser = userRepository.findUserByEmail(email);\r\n        boolean userExists = optionalUser.isPresent();\r\n\r\n        if (userExists) \r\n\t\t{\r\n\t\t\t//Your code here\r\n\t\t}\r\n\r\n\t\treturn customOAuth2User;\r\n\t}\r\n````","title":"Correct way to check the existance of a user in a database after OAuth2 authentication","body":"<p>Not sure if you're still looking for a solution but this is how I checked if email exists in the database.<br><br>\nEdit your <code>CustomOAuth2UserService.java</code> as follows:</p>\n<pre><code>    @Override\n    public OAuth2User loadUser(OAuth2UserRequest userRequest) throws OAuth2AuthenticationException\n    {\n        String clientName = userRequest.getClientRegistration().getClientName();\n        OAuth2User user = super.loadUser(userRequest);\n\n        CustomOAuth2User customOAuth2User = new CustomOAuth2User(user, clientName);\n        String email = customOAuth2User.getEmail();\n\n        Optional&lt;User&gt; optionalUser = userRepository.findUserByEmail(email);\n        boolean userExists = optionalUser.isPresent();\n\n        if (userExists) \n        {\n            //Your code here\n        }\n\n        return customOAuth2User;\n    }\n</code></pre>\n"}],"owner":{"account_id":19718133,"reputation":33,"user_id":14502160,"display_name":"root1545"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1645862964,"creation_date":1625627018,"question_id":68279489,"body_markdown":"i am working on a web application using SpringBoot and OAuth2 that requires just the authentication by google. It can allow acces just to the members of my uni but not any member, they have to be registered in a database, specifically their emails. So i created an entity class User:\r\n```\r\nUser(id, email, role)\r\n```\r\nIn this table the user with the role ADMIN could add users, delete them and update their role so it must have a different dashboard than a regular user. I started creating my custom OAuthUser, in this i just store the name and the email from the authenticated user. With the Google restrictions it allows just members of my organization so here i have to implement the function that is going to check if the email of that authenticated user is in the database, after that check his role and allow acces to the different functionalities. And this is the part where i&#39;m stucked, I don&#39;t know how to check the existence of that email in the database. \r\n\r\nThis is my CustomOAuthUser:\r\n```public class CustomOAuth2User implements OAuth2User {\r\n    private OAuth2User oAuth2User;\r\n\r\n    public CustomOAuth2User(OAuth2User oAuth2User) {\r\n        this.oAuth2User = oAuth2User;\r\n    }\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getAttributes() {\r\n        return oAuth2User.getAttributes();\r\n    }\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        return oAuth2User.getAuthorities();\r\n    }\r\n\r\n    @Override\r\n    public String getName() {\r\n        return oAuth2User.getAttribute(&quot;name&quot;);\r\n    }\r\n\r\n    public String getFullname(){\r\n        return oAuth2User.getAttribute(&quot;name&quot;);\r\n    }\r\n\r\n    public String getEmail(){\r\n        return oAuth2User.&lt;String&gt;getAttribute(&quot;email&quot;);\r\n    }\r\n}\r\n```\r\nAnd this is my WebSecurity configuration:\r\n```\r\npublic class WebSecurity extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception{\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/user/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;)\r\n                .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .antMatchers(&quot;/index&quot;, &quot;/login&quot;, &quot;/oauth/**&quot;).permitAll()\r\n                .and()\r\n                .oauth2Login()\r\n                .loginPage(&quot;/login&quot;)\r\n                .userInfoEndpoint()\r\n                .userService(customOAuthUserService);\r\n    }\r\n\r\n    @Autowired\r\n    private CustomOAuthUserService customOAuthUserService;\r\n}\r\n```\r\nI have not found any way to check the existence of the email in the database after getting the google info using this function. I would appreciate any kind of help, maybe there&#39;s a better way to do what im trying to do here. \r\nThis would be my user entity:\r\n```\r\npublic class User {\r\n\r\n    @Id\r\n    @Column(nullable = false, updatable = false)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, updatable = false)\r\n    private String email;\r\n\r\n    @Column(nullable = false)\r\n    private String role;\r\n}\r\n```\r\nIn my user repository i implemented the next query:\r\n```\r\n    @Query(&quot;SELECT s FROM User s WHERE s.email=?1&quot;)\r\n    Optional&lt;User&gt; findUserByEmail(String email);\r\n```\r\nThanks in advance.","title":"Correct way to check the existance of a user in a database after OAuth2 authentication","body":"<p>i am working on a web application using SpringBoot and OAuth2 that requires just the authentication by google. It can allow acces just to the members of my uni but not any member, they have to be registered in a database, specifically their emails. So i created an entity class User:</p>\n<pre><code>User(id, email, role)\n</code></pre>\n<p>In this table the user with the role ADMIN could add users, delete them and update their role so it must have a different dashboard than a regular user. I started creating my custom OAuthUser, in this i just store the name and the email from the authenticated user. With the Google restrictions it allows just members of my organization so here i have to implement the function that is going to check if the email of that authenticated user is in the database, after that check his role and allow acces to the different functionalities. And this is the part where i'm stucked, I don't know how to check the existence of that email in the database.</p>\n<p>This is my CustomOAuthUser:</p>\n<pre><code>    private OAuth2User oAuth2User;\n\n    public CustomOAuth2User(OAuth2User oAuth2User) {\n        this.oAuth2User = oAuth2User;\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getAttributes() {\n        return oAuth2User.getAttributes();\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return oAuth2User.getAuthorities();\n    }\n\n    @Override\n    public String getName() {\n        return oAuth2User.getAttribute(&quot;name&quot;);\n    }\n\n    public String getFullname(){\n        return oAuth2User.getAttribute(&quot;name&quot;);\n    }\n\n    public String getEmail(){\n        return oAuth2User.&lt;String&gt;getAttribute(&quot;email&quot;);\n    }\n}\n</code></pre>\n<p>And this is my WebSecurity configuration:</p>\n<pre><code>public class WebSecurity extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception{\n        http.authorizeRequests()\n                .antMatchers(&quot;/user/**&quot;).hasAnyRole(&quot;ADMIN&quot;, &quot;USER&quot;)\n                .antMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)\n                .antMatchers(&quot;/index&quot;, &quot;/login&quot;, &quot;/oauth/**&quot;).permitAll()\n                .and()\n                .oauth2Login()\n                .loginPage(&quot;/login&quot;)\n                .userInfoEndpoint()\n                .userService(customOAuthUserService);\n    }\n\n    @Autowired\n    private CustomOAuthUserService customOAuthUserService;\n}\n</code></pre>\n<p>I have not found any way to check the existence of the email in the database after getting the google info using this function. I would appreciate any kind of help, maybe there's a better way to do what im trying to do here.\nThis would be my user entity:</p>\n<pre><code>public class User {\n\n    @Id\n    @Column(nullable = false, updatable = false)\n    private Long id;\n\n    @Column(nullable = false, updatable = false)\n    private String email;\n\n    @Column(nullable = false)\n    private String role;\n}\n</code></pre>\n<p>In my user repository i implemented the next query:</p>\n<pre><code>    @Query(&quot;SELECT s FROM User s WHERE s.email=?1&quot;)\n    Optional&lt;User&gt; findUserByEmail(String email);\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","unit-testing","mocking","jmockit"],"answers":[{"tags":[],"owner":{"account_id":6141709,"reputation":1016,"user_id":4788928,"display_name":"Jeff Bennett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645862845,"creation_date":1645862845,"answer_id":71275037,"question_id":69723633,"body_markdown":"When JMockit runs, variables annotated with @Tested or @Mocked should be non-null.  Effectively, JMockit is creating a MockImpl for each of them.  Ignoring a lot of the complexity of your post, I focused mostly on the fact your @Mocked logger is null, which makes me strongly suspect you aren&#39;t running with JMockit.   Remember that in order to run properly, you have to have &quot;-javaagent&quot; stuff.  Without it, those @Mocked don&#39;t work and the variable will be null.  I&#39;m guessing that&#39;s what&#39;s happening.","title":"jMockit: @Mocked mock object is not initialized in a non-test class","body":"<p>When JMockit runs, variables annotated with @Tested or @Mocked should be non-null.  Effectively, JMockit is creating a MockImpl for each of them.  Ignoring a lot of the complexity of your post, I focused mostly on the fact your @Mocked logger is null, which makes me strongly suspect you aren't running with JMockit.   Remember that in order to run properly, you have to have &quot;-javaagent&quot; stuff.  Without it, those @Mocked don't work and the variable will be null.  I'm guessing that's what's happening.</p>\n"}],"owner":{"account_id":2835187,"reputation":413,"user_id":2435924,"accept_rate":33,"display_name":"Daniel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645862845,"creation_date":1635253382,"question_id":69723633,"body_markdown":"I need to mock a logger class on which the classes under test call a static method to obtain an object. Because of this I created a fake implementation of that static function as described in the official tutorial. My fake class looks like this\r\n\r\n    public class FakeLogger extends MockUp&lt;Logger&gt; {\r\n\t  @Mocked Logger logger;\r\n\t  @Mock \r\n\t  public Logger getLogger() {\r\n\t\t  return logger;\r\n\t  }\r\n    }\r\nIt is used in the test class:\r\n\r\n    public class MyTest {\t\r\n\t    @Mocked Logger logger;\r\n\t    @Before\r\n\t    public void setUp() throws Exception {\r\n\t\t    new FakeLogger();\r\n\t    }\r\n\t    @Test\r\n\t    public void test() {\r\n\t\t    new Expectations() {{\r\n\t\t\t    logger.warn(&quot;message&quot;);\r\n\t\t\t    times = 1;\r\n\t\t    }};\r\n\t    /*here classes under test are executed which obtain use the logger by Logger.getLogger().log(&quot;message&quot;);*/}\r\n\r\nThis implementation does **not work**.\r\nThe problem is that Logger.getLogger() returns null because in the fake implementation the object @Mocked Logger logger; seems to be never initialized.\r\n\r\nThen I tried the following changes:\r\n\r\n    public class FakeLogger extends MockUp&lt;Logger&gt; {\r\n\t    @Mocked Logger logger;\r\n\t    public FakeLogger(Logger l) {\r\n\t\t    logger=l;\r\n\t    }\r\n\t    @Mock \r\n\t    public Logger getRootLogger() {\r\n\t    \treturn logger;\r\n\t    }\r\n    }\r\nWith the test class initializing the fake implementation:\r\n\r\n    public class MyTest {\r\n\t    @Mocked Logger logger;\r\n\t    @Before\r\n\t    public void setUp() throws Exception {\r\n\t\t    new FakeLogger(logger);\r\n\t    }\r\n\t    @Test\r\n\t    public void test() {\t\t\r\n\t\t    new Expectations() {{\r\n\t\t\t    logger.warn(&quot;message&quot;);\r\n\t\t\t    times = 1;\r\n\t\t    }};\r\n\t    ...}\r\nWhen initializing the fake implementation class with the @Mocked Logger logger; object from the test class it works without a null pointer exception from an uninitialized logger object.\r\n\r\nMy conclusion would be that @Mocked Logger logger; is only initialized automatically inside the test class but not in the fake class. But according to the official tutorial @Mocked object should always be initialized automatically.\r\n\r\nWhat am I missing here?","title":"jMockit: @Mocked mock object is not initialized in a non-test class","body":"<p>I need to mock a logger class on which the classes under test call a static method to obtain an object. Because of this I created a fake implementation of that static function as described in the official tutorial. My fake class looks like this</p>\n<pre><code>public class FakeLogger extends MockUp&lt;Logger&gt; {\n  @Mocked Logger logger;\n  @Mock \n  public Logger getLogger() {\n      return logger;\n  }\n}\n</code></pre>\n<p>It is used in the test class:</p>\n<pre><code>public class MyTest {   \n    @Mocked Logger logger;\n    @Before\n    public void setUp() throws Exception {\n        new FakeLogger();\n    }\n    @Test\n    public void test() {\n        new Expectations() {{\n            logger.warn(&quot;message&quot;);\n            times = 1;\n        }};\n    /*here classes under test are executed which obtain use the logger by Logger.getLogger().log(&quot;message&quot;);*/}\n</code></pre>\n<p>This implementation does <strong>not work</strong>.\nThe problem is that Logger.getLogger() returns null because in the fake implementation the object @Mocked Logger logger; seems to be never initialized.</p>\n<p>Then I tried the following changes:</p>\n<pre><code>public class FakeLogger extends MockUp&lt;Logger&gt; {\n    @Mocked Logger logger;\n    public FakeLogger(Logger l) {\n        logger=l;\n    }\n    @Mock \n    public Logger getRootLogger() {\n        return logger;\n    }\n}\n</code></pre>\n<p>With the test class initializing the fake implementation:</p>\n<pre><code>public class MyTest {\n    @Mocked Logger logger;\n    @Before\n    public void setUp() throws Exception {\n        new FakeLogger(logger);\n    }\n    @Test\n    public void test() {        \n        new Expectations() {{\n            logger.warn(&quot;message&quot;);\n            times = 1;\n        }};\n    ...}\n</code></pre>\n<p>When initializing the fake implementation class with the @Mocked Logger logger; object from the test class it works without a null pointer exception from an uninitialized logger object.</p>\n<p>My conclusion would be that @Mocked Logger logger; is only initialized automatically inside the test class but not in the fake class. But according to the official tutorial @Mocked object should always be initialized automatically.</p>\n<p>What am I missing here?</p>\n"},{"tags":["java","rx-java"],"answers":[{"tags":[],"owner":{"account_id":8661699,"reputation":1670,"user_id":6483824,"accept_rate":95,"display_name":"mike"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645862272,"creation_date":1645862272,"answer_id":71274986,"question_id":71274721,"body_markdown":"It appears I should use following code:\r\n\r\n        Observable\r\n                .interval(100L, TimeUnit.MILLISECONDS)\r\n                .take(5)\r\n                .blockingForEach(System.out::println);\r\n\r\nand this documentation:\r\n\r\nhttps://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html\r\n\r\nI was reading some very old book, from June 2015","title":"rxJava toBlockin() method not found","body":"<p>It appears I should use following code:</p>\n<pre><code>    Observable\n            .interval(100L, TimeUnit.MILLISECONDS)\n            .take(5)\n            .blockingForEach(System.out::println);\n</code></pre>\n<p>and this documentation:</p>\n<p><a href=\"https://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html\" rel=\"nofollow noreferrer\">https://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html</a></p>\n<p>I was reading some very old book, from June 2015</p>\n"}],"owner":{"account_id":8661699,"reputation":1670,"user_id":6483824,"accept_rate":95,"display_name":"mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645862272,"creation_date":1645859041,"question_id":71274721,"body_markdown":"I am following some article on rxJava and following code:\r\n\r\n     Observable\r\n                .interval(100L, TimeUnit.MILLISECONDS)\r\n                .take(5)\r\n                .toBlocking() // No such method!\r\n                .forEach(System.out::println);\r\n\r\ngives an error that toBlocking is not found. In my build.gradle I have:\r\n\r\nimplementation &quot;io.reactivex.rxjava2:rxjava:2.2.9&quot;\r\n\r\nWhy there is no toBlocking method? Am I using wrong dependency? Its clearly available in docs:\r\n\r\nhttp://reactivex.io/RxJava/javadoc/rx/Observable.html#toBlocking()","title":"rxJava toBlockin() method not found","body":"<p>I am following some article on rxJava and following code:</p>\n<pre><code> Observable\n            .interval(100L, TimeUnit.MILLISECONDS)\n            .take(5)\n            .toBlocking() // No such method!\n            .forEach(System.out::println);\n</code></pre>\n<p>gives an error that toBlocking is not found. In my build.gradle I have:</p>\n<p>implementation &quot;io.reactivex.rxjava2:rxjava:2.2.9&quot;</p>\n<p>Why there is no toBlocking method? Am I using wrong dependency? Its clearly available in docs:</p>\n<p><a href=\"http://reactivex.io/RxJava/javadoc/rx/Observable.html#toBlocking()\" rel=\"nofollow noreferrer\">http://reactivex.io/RxJava/javadoc/rx/Observable.html#toBlocking()</a></p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1645892179,"post_id":71274581,"comment_id":125991961,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":24326192,"reputation":1039,"user_id":18265702,"display_name":"Sandeep Vokkareni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645862204,"creation_date":1645862204,"answer_id":71274982,"question_id":71274581,"body_markdown":"In pop-ups logic we have to mention below logic,\r\n\r\n    WebDriver driver = new ChromeDriver();\r\n    String url = &quot; https://www.google.com&quot;; \r\n    driver.get(url);\r\n\r\nFor more clarification please gothrough the link[1] first example\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/how-to-launch-chrome-browser-via-selenium","title":"Is there any way to change default block setting of pop-ups and redirect to allow in chrome using selenium java?","body":"<p>In pop-ups logic we have to mention below logic,</p>\n<pre><code>WebDriver driver = new ChromeDriver();\nString url = &quot; https://www.google.com&quot;; \ndriver.get(url);\n</code></pre>\n<p>For more clarification please gothrough the link<a href=\"https://www.tutorialspoint.com/how-to-launch-chrome-browser-via-selenium\" rel=\"nofollow noreferrer\">1</a> first example</p>\n"}],"owner":{"account_id":18841918,"reputation":11,"user_id":13743154,"display_name":"Mahendra Tawade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645862204,"creation_date":1645857155,"question_id":71274581,"body_markdown":"I want to allow the Pop-ups and redirect setting of chrome using selenium java. Is there any way?","title":"Is there any way to change default block setting of pop-ups and redirect to allow in chrome using selenium java?","body":"<p>I want to allow the Pop-ups and redirect setting of chrome using selenium java. Is there any way?</p>\n"},{"tags":["java","ssh","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":1,"creation_date":1643627005,"post_id":70924721,"comment_id":125381825,"body_markdown":"See [JSch - execute shell and interact with the execution](https://stackoverflow.com/q/45487797/850848) and also [Connecting JSch Channel InputStream to a JTextField box, commands not being sent](https://stackoverflow.com/q/38725961/850848).","body":"See <a href=\"https://stackoverflow.com/q/45487797/850848\">JSch - execute shell and interact with the execution</a> and also <a href=\"https://stackoverflow.com/q/38725961/850848\">Connecting JSch Channel InputStream to a JTextField box, commands not being sent</a>."},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1643629228,"post_id":70924721,"comment_id":125382547,"body_markdown":"i have seen them before.they didnt help me.answers are not helpful.but thanks @MartinPrikryl","body":"i have seen them before.they didnt help me.answers are not helpful.but thanks @MartinPrikryl"},{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1643629786,"post_id":70924721,"comment_id":125382740,"body_markdown":"And where does your question say, that you have tried something already and why it did not help you specifically? *&quot;Answers are not helpful&quot;* does not tell us anything. + If nothing else, the linked questions should at least make it clear that you should use &quot;shell&quot; channel and not &quot;exec&quot;.","body":"And where does your question say, that you have tried something already and why it did not help you specifically? <i>&quot;Answers are not helpful&quot;</i> does not tell us anything. + If nothing else, the linked questions should at least make it clear that you should use &quot;shell&quot; channel and not &quot;exec&quot;."},{"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"score":0,"creation_date":1643633319,"post_id":70924721,"comment_id":125384022,"body_markdown":"i used shell channel before.shell channell didnt execute my command and didnt returned response of command,realy i got confuse about it,exec execute the command but didnt save state and shell just add my command to server and didnt execute it @Martin prikryl","body":"i used shell channel before.shell channell didnt execute my command and didnt returned response of command,realy i got confuse about it,exec execute the command but didnt save state and shell just add my command to server and didnt execute it @Martin prikryl"}],"answers":[{"tags":[],"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645862070,"creation_date":1645862070,"answer_id":71274976,"question_id":70924721,"body_markdown":"after 1 month struggling with code and documentation i&#39;ve found the answer.\r\n\r\ni wanted to implement the ssh in enterprise application.first of all i have to say if you want interactive behavior you should use &quot;shell&quot; because it can give your command and return answer and stay connect with server but &quot;exec&quot; after execute command close channel.then i defined output and input as class variables.this is my class:\r\n\r\n@Service\r\npublic class SshService {\r\n\r\n    private Channel channel;\r\n    private Session session;\r\n    ByteArrayOutputStream responseStream = new ByteArrayOutputStream();\r\n\r\n    PipedInputStream pip = new PipedInputStream(40);\r\n    PipedOutputStream pop = new PipedOutputStream(pip);\r\n    PrintStream print = new PrintStream(pop);\r\n\r\n    public SshService() throws IOException {\r\n    }\r\n\r\n    public String sshConnectToOlt(String username, String password, String host, int port) throws Exception {\r\n\r\n        session = new JSch().getSession(username, host, port);\r\n        session.setPassword(password);\r\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        session.connect(30000);\r\n\r\n        channel = session.openChannel(&quot;shell&quot;);\r\n\r\n        channel.setInputStream(pip);\r\n\r\n        responseStream= new ByteArrayOutputStream();\r\n        channel.setOutputStream(responseStream);\r\n\r\n        channel.connect(3 * 1000);\r\n\r\n        Thread.sleep(2000);\r\n\r\n        return responseStream.toString();\r\n\r\n    }\r\n\r\n    public String sshToOltCommands(String command) throws Exception {\r\n        print.println(command);\r\n\r\n        Thread.sleep(2000);\r\n\r\n        String response = responseStream.toString();\r\n        return response.replaceAll(&quot;\\u001B\\\\[[\\\\d;]*[^\\\\d;]&quot;,&quot;&quot;);\r\n    }\r\n\r\n    public void disconnectFromOlt() {\r\n        this.channel.disconnect();\r\n        this.session.disconnect();\r\n    }\r\n}\r\n\r\n\r\ni write 3  methods.\r\nsshConnectToOlt: for connecting to server\r\nsshToOltCommands : executes command on server\r\ndisconnectFromOlt : disconnect from server\r\n\r\n\r\n**NOTICE**:\r\n\r\ni used \r\n\r\n    response.replaceAll(&quot;\\u001B\\\\[[\\\\d;]*[^\\\\d;]&quot;,&quot;&quot;);\r\n\r\nto remove ANSI control chars (VT100) from response\r\n\r\n\r\n","title":"Run Commands continuously and step by step based on previous command output in JSch","body":"<p>after 1 month struggling with code and documentation i've found the answer.</p>\n<p>i wanted to implement the ssh in enterprise application.first of all i have to say if you want interactive behavior you should use &quot;shell&quot; because it can give your command and return answer and stay connect with server but &quot;exec&quot; after execute command close channel.then i defined output and input as class variables.this is my class:</p>\n<p>@Service\npublic class SshService {</p>\n<pre><code>private Channel channel;\nprivate Session session;\nByteArrayOutputStream responseStream = new ByteArrayOutputStream();\n\nPipedInputStream pip = new PipedInputStream(40);\nPipedOutputStream pop = new PipedOutputStream(pip);\nPrintStream print = new PrintStream(pop);\n\npublic SshService() throws IOException {\n}\n\npublic String sshConnectToOlt(String username, String password, String host, int port) throws Exception {\n\n    session = new JSch().getSession(username, host, port);\n    session.setPassword(password);\n    session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    session.connect(30000);\n\n    channel = session.openChannel(&quot;shell&quot;);\n\n    channel.setInputStream(pip);\n\n    responseStream= new ByteArrayOutputStream();\n    channel.setOutputStream(responseStream);\n\n    channel.connect(3 * 1000);\n\n    Thread.sleep(2000);\n\n    return responseStream.toString();\n\n}\n\npublic String sshToOltCommands(String command) throws Exception {\n    print.println(command);\n\n    Thread.sleep(2000);\n\n    String response = responseStream.toString();\n    return response.replaceAll(&quot;\\u001B\\\\[[\\\\d;]*[^\\\\d;]&quot;,&quot;&quot;);\n}\n\npublic void disconnectFromOlt() {\n    this.channel.disconnect();\n    this.session.disconnect();\n}\n</code></pre>\n<p>}</p>\n<p>i write 3  methods.\nsshConnectToOlt: for connecting to server\nsshToOltCommands : executes command on server\ndisconnectFromOlt : disconnect from server</p>\n<p><strong>NOTICE</strong>:</p>\n<p>i used</p>\n<pre><code>response.replaceAll(&quot;\\u001B\\\\[[\\\\d;]*[^\\\\d;]&quot;,&quot;&quot;);\n</code></pre>\n<p>to remove ANSI control chars (VT100) from response</p>\n"}],"owner":{"account_id":14707994,"reputation":162,"user_id":10622099,"display_name":"DaniyalVaghar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71274976,"answer_count":1,"score":0,"last_activity_date":1645862070,"creation_date":1643626237,"question_id":70924721,"body_markdown":"i want to implement a thing in my application works like putty or mobaxterm.i want user ssh to server then run commands and do things on that.i used ChannelExec but after run any command it would disconnect channel and went to first step.for example i want to run ls then return result to user then user cd into one directory and then run ls and see what is inside that directory.\r\nhow should implement this?","title":"Run Commands continuously and step by step based on previous command output in JSch","body":"<p>i want to implement a thing in my application works like putty or mobaxterm.i want user ssh to server then run commands and do things on that.i used ChannelExec but after run any command it would disconnect channel and went to first step.for example i want to run ls then return result to user then user cd into one directory and then run ls and see what is inside that directory.\nhow should implement this?</p>\n"},{"tags":["java","browser","selenium-webdriver"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1445297602,"post_id":33224070,"comment_id":54255797,"body_markdown":"Possible duplicate of [Run chrome browser in inconginto Mode in Selenium](http://stackoverflow.com/questions/19026295/run-chrome-browser-in-inconginto-mode-in-selenium)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/19026295/run-chrome-browser-in-inconginto-mode-in-selenium\">Run chrome browser in inconginto Mode in Selenium</a>"}],"answers":[{"tags":[],"owner":{"account_id":7062573,"reputation":1145,"user_id":5407189,"display_name":"Jeremiah"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1445335328,"creation_date":1445291567,"answer_id":33224568,"question_id":33224070,"body_markdown":"Find the body element on the page and then fire off a Key Chord to it for the browser you want.  In the sample below I&#39;ve tried to abstract the browsers to an enumeration that outline the behavior for *newTab*, *newWindow* and *newIncognitoWindow*.  I made content FF, IE, Chrome, Safari, and Opera; however, they may not be fully implemented due to my lack of knowledge.\r\n\r\n      /**\r\n         * Enumeration quantifying some common keystrokes for Browser Interactions.\r\n         * \r\n         * @see &quot;http://stackoverflow.com/questions/33224070/how-to-open-incognito-private-window-through-selenium-java&quot;\r\n         * @author http://stackoverflow.com/users/5407189/jeremiah\r\n         * @since Oct 19, 2015\r\n         *\r\n         */\r\n        public static enum KeystrokeSupport {\r\n            CHROME,\r\n            FIREFOX {\r\n                @Override\r\n                protected CharSequence getNewIncognitoWindowCommand() {\r\n                    return Keys.chord(Keys.CONTROL, Keys.SHIFT, &quot;p&quot;);\r\n                }\r\n            },\r\n            IE {\r\n                @Override\r\n                protected CharSequence getNewIncognitoWindowCommand() {\r\n                    return Keys.chord(Keys.CONTROL, Keys.SHIFT, &quot;p&quot;);\r\n                }\r\n            },\r\n            SAFARI {\r\n                @Override\r\n                protected CharSequence getNewTabCommand() {\r\n                    throw new UnsupportedOperationException(&quot;Author does not know this keystroke&quot;);\r\n                }\r\n    \r\n                @Override\r\n                protected CharSequence getNewWindowCommand() {\r\n                    throw new UnsupportedOperationException(&quot;Author does not know this keystroke&quot;);\r\n                }\r\n    \r\n                @Override\r\n                protected CharSequence getNewIncognitoWindowCommand() {\r\n                    throw new UnsupportedOperationException(&quot;Author does not know this keystroke&quot;);\r\n                }\r\n            },\r\n            OPERA {\r\n                @Override\r\n                protected CharSequence getNewIncognitoWindowCommand() {\r\n                    throw new UnsupportedOperationException(&quot;Author does not know this keystroke&quot;);\r\n                }\r\n            };\r\n            \r\n            public final void newTab(WebDriver driver) {\r\n                WebElement target = getKeystrokeTarget(driver);\r\n                target.sendKeys(getNewTabCommand());\r\n            }\r\n            \r\n            public final void newWindow(WebDriver driver) {\r\n                WebElement target = getKeystrokeTarget(driver);\r\n                target.sendKeys(getNewWindowCommand());\r\n            }\r\n            \r\n            public final void newIncognitoWindow(WebDriver driver) {\r\n                WebElement target = getKeystrokeTarget(driver);\r\n                target.sendKeys(getNewIncognitoWindowCommand());\r\n            }\r\n            \r\n            protected CharSequence getNewTabCommand() {\r\n                return Keys.chord(Keys.CONTROL, &quot;t&quot;);\r\n            }\r\n    \r\n            protected CharSequence getNewWindowCommand() {\r\n                return Keys.chord(Keys.CONTROL, &quot;n&quot;);\r\n            }\r\n    \r\n            protected CharSequence getNewIncognitoWindowCommand() {\r\n                return Keys.chord(Keys.CONTROL, Keys.SHIFT, &quot;t&quot;);\r\n            }\r\n            \r\n            protected final WebElement getKeystrokeTarget(WebDriver driver) {\r\n                WebDriverWait wait = new WebDriverWait(driver, 10);\r\n                return wait.until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(&quot;body&quot;)));\r\n            }\r\n            \r\n        }\r\n\r\nWith that then, we can offer a Parameterized test that will run through each of the configurations and execute the behaviors for **visual verification**.  You may want to add whatever asserts you want to the test.\r\n\r\n    package stackoverflow.proof.selenium;\r\n    \r\n    import java.util.Collection;\r\n    \r\n    import org.junit.After;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.junit.runners.Parameterized;\r\n    import org.junit.runners.Parameterized.Parameters;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.Keys;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import org.openqa.selenium.support.ui.ExpectedConditions;\r\n    import org.openqa.selenium.support.ui.WebDriverWait;\r\n    \r\n    \r\n    import com.google.common.base.Supplier;\r\n    import com.google.common.collect.Lists;\r\n    \r\n    \r\n    \r\n    /**\r\n     * Test to try out some various browser keystrokes and try to get the environment to do what we want.\r\n     * \r\n     * @see &quot;http://stackoverflow.com/questions/33224070/how-to-open-incognito-private-window-through-selenium-java&quot;\r\n     * @author http://stackoverflow.com/users/5407189/jeremiah\r\n     * @since Oct 19, 2015\r\n     *\r\n     */\r\n    @RunWith(Parameterized.class)\r\n    public class KeyStrokeTests {\r\n      \r\n        \r\n        @Parameters(name=&quot;{0}&quot;)\r\n        public static Collection&lt;Object[]&gt; buildTestParams() {\r\n            Collection&lt;Object[]&gt; params = Lists.newArrayList();\r\n            Supplier&lt;WebDriver&gt; ffS = new Supplier&lt;WebDriver&gt;() {\r\n                public WebDriver get() {\r\n                    return new FirefoxDriver();\r\n                }\r\n            };\r\n            params.add(new Object[]{KeystrokeSupport.FIREFOX, ffS});\r\n            \r\n          /* I&#39;m not currently using these browsers, but this should work with minimal effort.\r\n            Supplier&lt;WebDriver&gt; chrome = new Supplier&lt;WebDriver&gt;() {\r\n                public WebDriver get() {\r\n                    return new ChromeDriver();\r\n                }\r\n            };\r\n            Supplier&lt;WebDriver&gt; ie = new Supplier&lt;WebDriver&gt;() {\r\n                public WebDriver get() {\r\n                    return new InternetExplorerDriver();\r\n                }\r\n            };\r\n            Supplier&lt;WebDriver&gt; safari = new Supplier&lt;WebDriver&gt;() {\r\n                public WebDriver get() {\r\n                    return new SafariDriver();\r\n                }\r\n            };\r\n            Supplier&lt;WebDriver&gt; opera = new Supplier&lt;WebDriver&gt;() {\r\n                public WebDriver get() {\r\n                    return new OperaDriver();\r\n                }\r\n            };\r\n            \r\n            params.add(new Object[]{KeystrokeSupport.CHROME, chrome});\r\n            params.add(new Object[]{KeystrokeSupport.IE, ie});\r\n            params.add(new Object[]{KeystrokeSupport.SAFARI, safari});\r\n            params.add(new Object[]{KeystrokeSupport.OPERA, opera});\r\n            */\r\n            return params;\r\n        }\r\n        Supplier&lt;WebDriver&gt; supplier;\r\n        WebDriver driver;\r\n        KeystrokeSupport support;\r\n        \r\n        public KeyStrokeTests(KeystrokeSupport support,Supplier&lt;WebDriver&gt; supplier) {\r\n            this.supplier = supplier;\r\n            this.support = support;\r\n        }\r\n        \r\n        @Before\r\n        public void setup() {\r\n            driver = supplier.get();\r\n            driver.get(&quot;http://google.com&quot;);\r\n        }\r\n        \r\n        @Test\r\n        public void testNewTab() {\r\n            support.newTab(driver);\r\n        }\r\n        @Test\r\n        public void testNewIncognitoWindow() {\r\n            support.newIncognitoWindow(driver);\r\n        }\r\n        \r\n        @Test\r\n        public void testNewWindow() {\r\n            support.newWindow(driver);\r\n        }\r\n        \r\n        @After\r\n        public void lookAtMe() throws Exception{\r\n            Thread.sleep(5000);    \r\n              for (String handle : driver.getWindowHandles()) {\r\n                driver.switchTo().window(handle);\r\n                driver.close();\r\n            }\r\n        }\r\n      }\r\n\r\nBest of Luck.","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<p>Find the body element on the page and then fire off a Key Chord to it for the browser you want.  In the sample below I've tried to abstract the browsers to an enumeration that outline the behavior for <em>newTab</em>, <em>newWindow</em> and <em>newIncognitoWindow</em>.  I made content FF, IE, Chrome, Safari, and Opera; however, they may not be fully implemented due to my lack of knowledge.</p>\n\n<pre><code>  /**\n     * Enumeration quantifying some common keystrokes for Browser Interactions.\n     * \n     * @see \"http://stackoverflow.com/questions/33224070/how-to-open-incognito-private-window-through-selenium-java\"\n     * @author http://stackoverflow.com/users/5407189/jeremiah\n     * @since Oct 19, 2015\n     *\n     */\n    public static enum KeystrokeSupport {\n        CHROME,\n        FIREFOX {\n            @Override\n            protected CharSequence getNewIncognitoWindowCommand() {\n                return Keys.chord(Keys.CONTROL, Keys.SHIFT, \"p\");\n            }\n        },\n        IE {\n            @Override\n            protected CharSequence getNewIncognitoWindowCommand() {\n                return Keys.chord(Keys.CONTROL, Keys.SHIFT, \"p\");\n            }\n        },\n        SAFARI {\n            @Override\n            protected CharSequence getNewTabCommand() {\n                throw new UnsupportedOperationException(\"Author does not know this keystroke\");\n            }\n\n            @Override\n            protected CharSequence getNewWindowCommand() {\n                throw new UnsupportedOperationException(\"Author does not know this keystroke\");\n            }\n\n            @Override\n            protected CharSequence getNewIncognitoWindowCommand() {\n                throw new UnsupportedOperationException(\"Author does not know this keystroke\");\n            }\n        },\n        OPERA {\n            @Override\n            protected CharSequence getNewIncognitoWindowCommand() {\n                throw new UnsupportedOperationException(\"Author does not know this keystroke\");\n            }\n        };\n\n        public final void newTab(WebDriver driver) {\n            WebElement target = getKeystrokeTarget(driver);\n            target.sendKeys(getNewTabCommand());\n        }\n\n        public final void newWindow(WebDriver driver) {\n            WebElement target = getKeystrokeTarget(driver);\n            target.sendKeys(getNewWindowCommand());\n        }\n\n        public final void newIncognitoWindow(WebDriver driver) {\n            WebElement target = getKeystrokeTarget(driver);\n            target.sendKeys(getNewIncognitoWindowCommand());\n        }\n\n        protected CharSequence getNewTabCommand() {\n            return Keys.chord(Keys.CONTROL, \"t\");\n        }\n\n        protected CharSequence getNewWindowCommand() {\n            return Keys.chord(Keys.CONTROL, \"n\");\n        }\n\n        protected CharSequence getNewIncognitoWindowCommand() {\n            return Keys.chord(Keys.CONTROL, Keys.SHIFT, \"t\");\n        }\n\n        protected final WebElement getKeystrokeTarget(WebDriver driver) {\n            WebDriverWait wait = new WebDriverWait(driver, 10);\n            return wait.until(ExpectedConditions.presenceOfElementLocated(By.cssSelector(\"body\")));\n        }\n\n    }\n</code></pre>\n\n<p>With that then, we can offer a Parameterized test that will run through each of the configurations and execute the behaviors for <strong>visual verification</strong>.  You may want to add whatever asserts you want to the test.</p>\n\n<pre><code>package stackoverflow.proof.selenium;\n\nimport java.util.Collection;\n\nimport org.junit.After;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.junit.runners.Parameterized;\nimport org.junit.runners.Parameterized.Parameters;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.Keys;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport org.openqa.selenium.support.ui.ExpectedConditions;\nimport org.openqa.selenium.support.ui.WebDriverWait;\n\n\nimport com.google.common.base.Supplier;\nimport com.google.common.collect.Lists;\n\n\n\n/**\n * Test to try out some various browser keystrokes and try to get the environment to do what we want.\n * \n * @see \"http://stackoverflow.com/questions/33224070/how-to-open-incognito-private-window-through-selenium-java\"\n * @author http://stackoverflow.com/users/5407189/jeremiah\n * @since Oct 19, 2015\n *\n */\n@RunWith(Parameterized.class)\npublic class KeyStrokeTests {\n\n\n    @Parameters(name=\"{0}\")\n    public static Collection&lt;Object[]&gt; buildTestParams() {\n        Collection&lt;Object[]&gt; params = Lists.newArrayList();\n        Supplier&lt;WebDriver&gt; ffS = new Supplier&lt;WebDriver&gt;() {\n            public WebDriver get() {\n                return new FirefoxDriver();\n            }\n        };\n        params.add(new Object[]{KeystrokeSupport.FIREFOX, ffS});\n\n      /* I'm not currently using these browsers, but this should work with minimal effort.\n        Supplier&lt;WebDriver&gt; chrome = new Supplier&lt;WebDriver&gt;() {\n            public WebDriver get() {\n                return new ChromeDriver();\n            }\n        };\n        Supplier&lt;WebDriver&gt; ie = new Supplier&lt;WebDriver&gt;() {\n            public WebDriver get() {\n                return new InternetExplorerDriver();\n            }\n        };\n        Supplier&lt;WebDriver&gt; safari = new Supplier&lt;WebDriver&gt;() {\n            public WebDriver get() {\n                return new SafariDriver();\n            }\n        };\n        Supplier&lt;WebDriver&gt; opera = new Supplier&lt;WebDriver&gt;() {\n            public WebDriver get() {\n                return new OperaDriver();\n            }\n        };\n\n        params.add(new Object[]{KeystrokeSupport.CHROME, chrome});\n        params.add(new Object[]{KeystrokeSupport.IE, ie});\n        params.add(new Object[]{KeystrokeSupport.SAFARI, safari});\n        params.add(new Object[]{KeystrokeSupport.OPERA, opera});\n        */\n        return params;\n    }\n    Supplier&lt;WebDriver&gt; supplier;\n    WebDriver driver;\n    KeystrokeSupport support;\n\n    public KeyStrokeTests(KeystrokeSupport support,Supplier&lt;WebDriver&gt; supplier) {\n        this.supplier = supplier;\n        this.support = support;\n    }\n\n    @Before\n    public void setup() {\n        driver = supplier.get();\n        driver.get(\"http://google.com\");\n    }\n\n    @Test\n    public void testNewTab() {\n        support.newTab(driver);\n    }\n    @Test\n    public void testNewIncognitoWindow() {\n        support.newIncognitoWindow(driver);\n    }\n\n    @Test\n    public void testNewWindow() {\n        support.newWindow(driver);\n    }\n\n    @After\n    public void lookAtMe() throws Exception{\n        Thread.sleep(5000);    \n          for (String handle : driver.getWindowHandles()) {\n            driver.switchTo().window(handle);\n            driver.close();\n        }\n    }\n  }\n</code></pre>\n\n<p>Best of Luck.</p>\n"},{"tags":[],"owner":{"account_id":219187,"reputation":507,"user_id":475949,"display_name":"rac2030"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1507716078,"creation_date":1445291655,"answer_id":33224593,"question_id":33224070,"body_markdown":"In chrome you can try using `-incognito` command line switch in options, not sure if there will be a problem with automation extension but worth a try.\r\n\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;incognito&quot;);\r\n\r\nFor FireFox, a special flag in the profile can be used for the purpose\r\n\r\n    FirefoxProfile firefoxProfile = new FirefoxProfile();    \r\n    firefoxProfile.setPreference(&quot;browser.private.browsing.autostart&quot;,true);\r\n\r\nFor IE\r\n\r\n    setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\r\n\r\n ","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<p>In chrome you can try using <code>-incognito</code> command line switch in options, not sure if there will be a problem with automation extension but worth a try.</p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"incognito\");\n</code></pre>\n\n<p>For FireFox, a special flag in the profile can be used for the purpose</p>\n\n<pre><code>FirefoxProfile firefoxProfile = new FirefoxProfile();    \nfirefoxProfile.setPreference(\"browser.private.browsing.autostart\",true);\n</code></pre>\n\n<p>For IE</p>\n\n<pre><code>setCapability(InternetExplorerDriver.IE_SWITCHES, \"-private\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6372974,"reputation":8828,"user_id":4944847,"accept_rate":89,"display_name":"agabrys"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1459425961,"creation_date":1459425517,"answer_id":36332841,"question_id":33224070,"body_markdown":"* Chrome:\r\n\r\n        DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n        ChromeOptions options = new ChromeOptions();\r\n        options.addArguments(&quot;incognito&quot;);\r\n        capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n\r\n* FireFox:\r\n\r\n        FirefoxProfile firefoxProfile = new FirefoxProfile();    \r\n        firefoxProfile.setPreference(&quot;browser.privatebrowsing.autostart&quot;, true);\r\n\r\n* Internet Explorer:\r\n\r\n        DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\r\n        capabilities.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true); \r\n        capabilities.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\r\n\r\n* Opera:\r\n\r\n        DesiredCapabilities capabilities = DesiredCapabilities.operaBlink();\r\n        OperaOptions options = new OperaOptions();\r\n        options.addArguments(&quot;private&quot;);\r\n        capabilities.setCapability(OperaOptions.CAPABILITY, options);","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<ul>\n<li><p>Chrome:</p>\n\n<pre><code>DesiredCapabilities capabilities = DesiredCapabilities.chrome();\nChromeOptions options = new ChromeOptions();\noptions.addArguments(\"incognito\");\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\n</code></pre></li>\n<li><p>FireFox:</p>\n\n<pre><code>FirefoxProfile firefoxProfile = new FirefoxProfile();    \nfirefoxProfile.setPreference(\"browser.privatebrowsing.autostart\", true);\n</code></pre></li>\n<li><p>Internet Explorer:</p>\n\n<pre><code>DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\ncapabilities.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true); \ncapabilities.setCapability(InternetExplorerDriver.IE_SWITCHES, \"-private\");\n</code></pre></li>\n<li><p>Opera:</p>\n\n<pre><code>DesiredCapabilities capabilities = DesiredCapabilities.operaBlink();\nOperaOptions options = new OperaOptions();\noptions.addArguments(\"private\");\ncapabilities.setCapability(OperaOptions.CAPABILITY, options);\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9540870,"reputation":444,"user_id":7089151,"display_name":"Maharshi Adiraju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477773988,"creation_date":1477754797,"answer_id":40320645,"question_id":33224070,"body_markdown":"For Chrome use this code to open the browser in incognito mode:\r\n\r\n    public WebDriver chromedriver;\r\n    ChromeOptions options = new ChromeOptions();\r\n    options.addArguments(&quot;-incognito&quot;);\r\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n    capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    WebDriver chromedriver=new ChromeDriver(capabilities);\r\n    chromedriver.get(&quot;url&quot;);","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<p>For Chrome use this code to open the browser in incognito mode:</p>\n\n<pre><code>public WebDriver chromedriver;\nChromeOptions options = new ChromeOptions();\noptions.addArguments(\"-incognito\");\nDesiredCapabilities capabilities = DesiredCapabilities.chrome();\ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\nWebDriver chromedriver=new ChromeDriver(capabilities);\nchromedriver.get(\"url\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7387209,"reputation":1,"user_id":5621888,"display_name":"Ranjith Venkatesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488432485,"creation_date":1488431407,"answer_id":42547317,"question_id":33224070,"body_markdown":"    public static void OpenBrowser() {\r\n\t\tif (Browser.equals(&quot;Chrome&quot;)) {\r\n\t\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;E:\\\\Workspace\\\\proj\\\\chromedriver.exe&quot;);\r\n\t\t\tDesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n\t\t\tChromeOptions options = new ChromeOptions();\r\n\t\t\toptions.addArguments(&quot;incognito&quot;);\r\n\t\t\tcapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n\t\t\tdriver = new ChromeDriver(capabilities);\r\n\t\t} else if (Browser.equals(&quot;IE&quot;)) {\r\n\t\t\t\r\n\t\t\tDesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\r\n\t        capabilities.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, false);\r\n    // if you get this exception &quot;org.openqa.selenium.remote.SessionNotFoundException: &quot; . uncomment the below line and comment the above line\r\n    // capabilities.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\r\n\t\t\tSystem.setProperty(&quot;webdriver.ie.driver&quot;, &quot;E:\\\\Workspace\\\\proj\\\\IEDriverServer32.exe&quot;);capabilities.setCapability(InternetExplorerDriver.IE_SWITCHES, &quot;-private&quot;);\r\n\t\t\tdriver = new InternetExplorerDriver(capabilities);\r\n\t\t} else {\r\n\t\t\tFirefoxProfile firefoxProfile = new FirefoxProfile();\r\n\t\t\tfirefoxProfile.setPreference(&quot;browser.privatebrowsing.autostart&quot;, true);\r\n\t\t\tdriver = new FirefoxDriver(firefoxProfile);\r\n\t\t}\r\n","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<pre><code>public static void OpenBrowser() {\n    if (Browser.equals(\"Chrome\")) {\n        System.setProperty(\"webdriver.chrome.driver\", \"E:\\\\Workspace\\\\proj\\\\chromedriver.exe\");\n        DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n        ChromeOptions options = new ChromeOptions();\n        options.addArguments(\"incognito\");\n        capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n        driver = new ChromeDriver(capabilities);\n    } else if (Browser.equals(\"IE\")) {\n\n        DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\n        capabilities.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, false);\n// if you get this exception \"org.openqa.selenium.remote.SessionNotFoundException: \" . uncomment the below line and comment the above line\n// capabilities.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\n        System.setProperty(\"webdriver.ie.driver\", \"E:\\\\Workspace\\\\proj\\\\IEDriverServer32.exe\");capabilities.setCapability(InternetExplorerDriver.IE_SWITCHES, \"-private\");\n        driver = new InternetExplorerDriver(capabilities);\n    } else {\n        FirefoxProfile firefoxProfile = new FirefoxProfile();\n        firefoxProfile.setPreference(\"browser.privatebrowsing.autostart\", true);\n        driver = new FirefoxDriver(firefoxProfile);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7859761,"reputation":23,"user_id":5940523,"display_name":"palak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526304452,"creation_date":1526304028,"answer_id":50331343,"question_id":33224070,"body_markdown":"    public class gettext {\r\n      static WebDriver driver= null;\r\n \r\n  \t  public static void main(String args[]) throws InterruptedException {\r\n\t\t\r\n\t\t//for private window\r\n\t\t\r\n\t\tDesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n\t\tChromeOptions option = new ChromeOptions();\r\n\t\toption.addArguments(&quot;incognito&quot;);\r\n\t\tcapabilities.setCapability(ChromeOptions.CAPABILITY,option);\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\Tools\\\\chromedriver.exe&quot;);\t\t\r\n\t\tdriver= new ChromeDriver(capabilities);\r\n\t\t\r\n\t\tString url = &quot;https://www.google.com/&quot;;\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.get(url);\r\n\t\tdriver.manage().timeouts().implicitlyWait(20,TimeUnit.SECONDS);\r\n\t\tgettextdata();\r\n\t  }\t\r\n\t}","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<pre><code>public class gettext {\n  static WebDriver driver= null;\n\n  public static void main(String args[]) throws InterruptedException {\n\n    //for private window\n\n    DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n    ChromeOptions option = new ChromeOptions();\n    option.addArguments(\"incognito\");\n    capabilities.setCapability(ChromeOptions.CAPABILITY,option);\n    System.setProperty(\"webdriver.chrome.driver\", \"D:\\\\Tools\\\\chromedriver.exe\");       \n    driver= new ChromeDriver(capabilities);\n\n    String url = \"https://www.google.com/\";\n    driver.manage().window().maximize();\n    driver.get(url);\n    driver.manage().timeouts().implicitlyWait(20,TimeUnit.SECONDS);\n    gettextdata();\n  } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3356620,"reputation":176,"user_id":2819399,"display_name":"amitkumar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1537988409,"creation_date":1537988409,"answer_id":52524443,"question_id":33224070,"body_markdown":"\r\n\r\n    FirefoxOptions opts = new FirefoxOptions();\r\n    opts.addArguments(&quot;-private&quot;);\r\n    FirefoxDrive f = new FirefoxDriver(opts);\r\n\r\nThis works fine for selenium version 3.14.0 and geckodriver-v0.22.0\r\n\r\n\r\n\r\n","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<pre><code>FirefoxOptions opts = new FirefoxOptions();\nopts.addArguments(\"-private\");\nFirefoxDrive f = new FirefoxDriver(opts);\n</code></pre>\n\n<p>This works fine for selenium version 3.14.0 and geckodriver-v0.22.0</p>\n"},{"tags":[],"owner":{"account_id":2289087,"reputation":829,"user_id":2012456,"display_name":"ModX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550155819,"creation_date":1550155819,"answer_id":54693153,"question_id":33224070,"body_markdown":"I was able to run remote IE in private mode only after following updates:\r\n\r\n    InternetExplorerOptions options = new InternetExplorerOptions()\r\n                        .ignoreZoomSettings()\r\n                        .useCreateProcessApiToLaunchIe()\r\n                        .addCommandSwitches(&quot;-private&quot;);\r\n\r\n    DesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\r\n                capabilities.setCapability(&quot;se:ieOptions&quot;, options);\r\n    return new RemoteWebDriver(url, capabilities);\r\n\r\nAll of above didn&#39;t work for RemoteWebDriver.","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<p>I was able to run remote IE in private mode only after following updates:</p>\n\n<pre><code>InternetExplorerOptions options = new InternetExplorerOptions()\n                    .ignoreZoomSettings()\n                    .useCreateProcessApiToLaunchIe()\n                    .addCommandSwitches(\"-private\");\n\nDesiredCapabilities capabilities = DesiredCapabilities.internetExplorer();\n            capabilities.setCapability(\"se:ieOptions\", options);\nreturn new RemoteWebDriver(url, capabilities);\n</code></pre>\n\n<p>All of above didn't work for RemoteWebDriver.</p>\n"},{"tags":[],"owner":{"account_id":12153799,"reputation":61,"user_id":8873266,"display_name":"beteshnik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575449340,"creation_date":1575449340,"answer_id":59172090,"question_id":33224070,"body_markdown":"How to avoid Extensions in Private Mode prompt\r\n\r\nFor the actual geckodriver version I use:\r\n```\r\n    options.addArguments(&quot;-private&quot;);\r\n```\r\nIt works fine but the annoying notification appears: Extensions in Private Mode.\r\n\r\nI found the way to avoid it:\r\n```\r\n    options.addPreference(&quot;extensions.allowPrivateBrowsingByDefault&quot;,true);\r\n```\r\n\r\nAs a result all extensions will run in private browsing mode without prompting at start","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<p>How to avoid Extensions in Private Mode prompt</p>\n\n<p>For the actual geckodriver version I use:</p>\n\n<pre><code>    options.addArguments(\"-private\");\n</code></pre>\n\n<p>It works fine but the annoying notification appears: Extensions in Private Mode.</p>\n\n<p>I found the way to avoid it:</p>\n\n<pre><code>    options.addPreference(\"extensions.allowPrivateBrowsingByDefault\",true);\n</code></pre>\n\n<p>As a result all extensions will run in private browsing mode without prompting at start</p>\n"},{"tags":[],"owner":{"account_id":18968994,"reputation":1,"user_id":13842906,"display_name":"Nitin bora"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645861986,"creation_date":1645861986,"answer_id":71274967,"question_id":33224070,"body_markdown":"For other browser everyone has answered\r\nso for OPERA \r\n\r\n    OperaOptions options = new OperaOptions();\r\n\toptions.addArguments(&quot;private&quot;);\r\n\tWebDriver driver = new OperaDriver(options);\r\n    driver.get(&quot;https://selenium.dev&quot;);","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<p>For other browser everyone has answered\nso for OPERA</p>\n<pre><code>OperaOptions options = new OperaOptions();\noptions.addArguments(&quot;private&quot;);\nWebDriver driver = new OperaDriver(options);\ndriver.get(&quot;https://selenium.dev&quot;);\n</code></pre>\n"}],"owner":{"account_id":7150325,"reputation":189,"user_id":5464643,"display_name":"atul chaurasia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56077,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"answer_count":10,"score":18,"last_activity_date":1645861986,"creation_date":1445289383,"question_id":33224070,"body_markdown":"I want to test my test cases in ***private window*** or ***incognito window***.\r\n\r\nHow to do the same in various browsers:\r\n\r\n - firefox (prefered) \r\n - chrome (prefered) \r\n - IE \r\n - safari \r\n - opera\r\n\r\n***How to achieve it?***  ","title":"How to open incognito/private window with Selenium WD for different browser types?","body":"<p>I want to test my test cases in <strong><em>private window</em></strong> or <strong><em>incognito window</em></strong>.</p>\n\n<p>How to do the same in various browsers:</p>\n\n<ul>\n<li>firefox (prefered) </li>\n<li>chrome (prefered) </li>\n<li>IE </li>\n<li>safari </li>\n<li>opera</li>\n</ul>\n\n<p><strong><em>How to achieve it?</em></strong>  </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1645860801,"post_id":71274811,"comment_id":125986471,"body_markdown":"You just 2 hours ago [asked](https://stackoverflow.com/questions/71274200/compilation-error-at-enhanced-for-loop-i-is-already-defined-in-main-method-but) this question.  Why didn&#39;t u edit that post with this question?","body":"You just 2 hours ago <a href=\"https://stackoverflow.com/questions/71274200/compilation-error-at-enhanced-for-loop-i-is-already-defined-in-main-method-but\">asked</a> this question.  Why didn&#39;t u edit that post with this question?"},{"owner":{"account_id":24382623,"reputation":9,"user_id":18313909,"display_name":"hello_world"},"score":0,"creation_date":1645860906,"post_id":71274811,"comment_id":125986488,"body_markdown":"@Syncit This one deals with an exception handler. I thought it would be appropriate to create a new question? I&#39;m fairly new to all of this.","body":"@Syncit This one deals with an exception handler. I thought it would be appropriate to create a new question? I&#39;m fairly new to all of this."},{"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"score":0,"creation_date":1645861084,"post_id":71274811,"comment_id":125986513,"body_markdown":"You could have written your questions in that post as 2 points.  This will mostly be marked as duplicate as your code here is literally the same there","body":"You could have written your questions in that post as 2 points.  This will mostly be marked as duplicate as your code here is literally the same there"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1645861166,"post_id":71274811,"comment_id":125986527,"body_markdown":"If you want to reiterate your `while(ehandle)` loop when you get an exception, put `continue` in your catch block. But you should set `ehandle` back to true at the top of your for-loop.","body":"If you want to reiterate your <code>while(ehandle)</code> loop when you get an exception, put <code>continue</code> in your catch block. But you should set <code>ehandle</code> back to true at the top of your for-loop."},{"owner":{"account_id":24382623,"reputation":9,"user_id":18313909,"display_name":"hello_world"},"score":0,"creation_date":1645861507,"post_id":71274811,"comment_id":125986571,"body_markdown":"@khelwood Thank you for your answer. Where would I set ehandle back to true? Could you maybe put this comment in the form of an answer in my program?","body":"@khelwood Thank you for your answer. Where would I set ehandle back to true? Could you maybe put this comment in the form of an answer in my program?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1645861783,"post_id":71274811,"comment_id":125986600,"body_markdown":"@Syncit Editing a previous answered question to add a new question into it is not appropriate, and such edits are typically reverted.","body":"@Syncit Editing a previous answered question to add a new question into it is not appropriate, and such edits are typically reverted."}],"answers":[{"tags":[],"owner":{"account_id":19875789,"reputation":2650,"user_id":14645101,"display_name":"Aniketh Malyala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645861538,"creation_date":1645861538,"answer_id":71274923,"question_id":71274811,"body_markdown":"The problem in your code is that after you run your loop and enter your first number, you then define ```ehandle = false```. \r\n\r\nThis means that you never enter the rest of your loop since you exit the while loop. Therefore, you never increment the values of ```countEven```, ```countOdd```, or ```countNeg```. \r\n\r\nThis results in an error because when you try running this line: ```int [] evens = new int [countEven];  ```, ```countEven``` is still ```0```, so you get an error when you try to iterate it.\r\n\r\nTo avoid this error, you can modify your try catch error as so:\r\n\r\n    import java.util.*;\r\n    import java.io.*;\r\n    class Main {\r\n      public static void main(String[] args){\r\n        Scanner in = new Scanner(System.in);\r\n              \r\n        int [] twelveInt = new int [12];\r\n              \r\n        int countEven = 0;\r\n              \r\n        int countOdd = 0;\r\n              \r\n        int countNeg = 0;\r\n                     \r\n        \r\n              \r\n        for (int i = 0; i &lt; twelveInt.length; i++) {\r\n            System.out.println(&quot;Enter the #&quot; + (i + 1) + &quot; integer.&quot;);\r\n            boolean error = true;\r\n            while (error) {\r\n                try {\r\n                  twelveInt [i] = in.nextInt();\r\n                  if (twelveInt[i] % 2 == 0){\r\n                      countEven++;\r\n                  }\r\n                  if (twelveInt[i] % 2 != 0){\r\n                      countOdd++;\r\n                  }\r\n                  if (twelveInt[i] &lt; 0){\r\n                      countNeg++;\r\n                  } \r\n                  error = false;\r\n                } \r\n                catch (Exception e) {\r\n                  System.out.println(&quot;Please enter integers only&quot;);\r\n                  in.next();\r\n                }\r\n            }\r\n        }\r\n        \r\n        int [] evens = new int [countEven];    \r\n        int [] odds = new int [countOdd];\r\n        int [] negatives = new int [countNeg];\r\n            \r\n        \r\n        countEven = 0;\r\n        countOdd = 0;\r\n        countNeg = 0;\r\n        \r\n            \r\n        \r\n        for (int i : twelveInt) {\r\n                if (i % 2 == 0){\r\n                    evens[countEven++] = i;\r\n                }\r\n                if (i % 2 != 0){\r\n                    odds[countOdd++] = i;\r\n                }\r\n                if (i &lt; 0){\r\n                    negatives[countNeg++] = i;\r\n                }          \r\n            }\r\n                  \r\n        System.out.println(&quot;Here are the Even numbers you entered&quot;);\r\n        System.out.println(Arrays.toString(evens));\r\n              \r\n        System.out.println(&quot;Here are the Odd numbers you entered&quot;);\r\n        System.out.println(Arrays.toString(odds));\r\n              \r\n        System.out.println(&quot;Here are the Negative numbers you entered&quot;);\r\n        System.out.println(Arrays.toString(negatives));\r\n      }\r\n    }\r\n\r\nWe first try taking in the user input, and if we get an exception error, we will use the catch so our code does not terminate. NOTE: we must do ```in.next()``` otherwise we will get an infinite loop (since integers leave a trailing newline, resulting in infinite exceptions).\r\n\r\nI hope this helped! Please let me know if you need any further clarifications or details :)","title":"Working on a Java Program that utilizes For Loops to separate Even, Odd, and Negative Inputted Integers. Try Catch Handler Gives Out-of-bounds Error?","body":"<p>The problem in your code is that after you run your loop and enter your first number, you then define <code>ehandle = false</code>.</p>\n<p>This means that you never enter the rest of your loop since you exit the while loop. Therefore, you never increment the values of <code>countEven</code>, <code>countOdd</code>, or <code>countNeg</code>.</p>\n<p>This results in an error because when you try running this line: <code>int [] evens = new int [countEven];  </code>, <code>countEven</code> is still <code>0</code>, so you get an error when you try to iterate it.</p>\n<p>To avoid this error, you can modify your try catch error as so:</p>\n<pre><code>import java.util.*;\nimport java.io.*;\nclass Main {\n  public static void main(String[] args){\n    Scanner in = new Scanner(System.in);\n          \n    int [] twelveInt = new int [12];\n          \n    int countEven = 0;\n          \n    int countOdd = 0;\n          \n    int countNeg = 0;\n                 \n    \n          \n    for (int i = 0; i &lt; twelveInt.length; i++) {\n        System.out.println(&quot;Enter the #&quot; + (i + 1) + &quot; integer.&quot;);\n        boolean error = true;\n        while (error) {\n            try {\n              twelveInt [i] = in.nextInt();\n              if (twelveInt[i] % 2 == 0){\n                  countEven++;\n              }\n              if (twelveInt[i] % 2 != 0){\n                  countOdd++;\n              }\n              if (twelveInt[i] &lt; 0){\n                  countNeg++;\n              } \n              error = false;\n            } \n            catch (Exception e) {\n              System.out.println(&quot;Please enter integers only&quot;);\n              in.next();\n            }\n        }\n    }\n    \n    int [] evens = new int [countEven];    \n    int [] odds = new int [countOdd];\n    int [] negatives = new int [countNeg];\n        \n    \n    countEven = 0;\n    countOdd = 0;\n    countNeg = 0;\n    \n        \n    \n    for (int i : twelveInt) {\n            if (i % 2 == 0){\n                evens[countEven++] = i;\n            }\n            if (i % 2 != 0){\n                odds[countOdd++] = i;\n            }\n            if (i &lt; 0){\n                negatives[countNeg++] = i;\n            }          \n        }\n              \n    System.out.println(&quot;Here are the Even numbers you entered&quot;);\n    System.out.println(Arrays.toString(evens));\n          \n    System.out.println(&quot;Here are the Odd numbers you entered&quot;);\n    System.out.println(Arrays.toString(odds));\n          \n    System.out.println(&quot;Here are the Negative numbers you entered&quot;);\n    System.out.println(Arrays.toString(negatives));\n  }\n}\n</code></pre>\n<p>We first try taking in the user input, and if we get an exception error, we will use the catch so our code does not terminate. NOTE: we must do <code>in.next()</code> otherwise we will get an infinite loop (since integers leave a trailing newline, resulting in infinite exceptions).</p>\n<p>I hope this helped! Please let me know if you need any further clarifications or details :)</p>\n"},{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645861583,"creation_date":1645861583,"answer_id":71274927,"question_id":71274811,"body_markdown":"If you want to reiterate your `while(ehandle)` loop when you get an exception, you can put `continue` in your catch block. But you should set `ehandle` back to true at the top of your for-loop.\r\n\r\n    for (int i = 0; i &lt; twelveInt.length; i++) {\r\n        ehandle = true;\r\n        while (ehandle) {\r\n            try {\r\n                System.out.println(&quot;Enter the #&quot; + (i + 1) + &quot; integer.&quot;);\r\n                twelveInt[i] = in.nextInt();\r\n                ehandle = false;\r\n            } catch(Exception e) {\r\n                System.out.println(&quot;Please enter integers only&quot;);\r\n                continue;\r\n            }\r\n            ...","title":"Working on a Java Program that utilizes For Loops to separate Even, Odd, and Negative Inputted Integers. Try Catch Handler Gives Out-of-bounds Error?","body":"<p>If you want to reiterate your <code>while(ehandle)</code> loop when you get an exception, you can put <code>continue</code> in your catch block. But you should set <code>ehandle</code> back to true at the top of your for-loop.</p>\n<pre><code>for (int i = 0; i &lt; twelveInt.length; i++) {\n    ehandle = true;\n    while (ehandle) {\n        try {\n            System.out.println(&quot;Enter the #&quot; + (i + 1) + &quot; integer.&quot;);\n            twelveInt[i] = in.nextInt();\n            ehandle = false;\n        } catch(Exception e) {\n            System.out.println(&quot;Please enter integers only&quot;);\n            continue;\n        }\n        ...\n</code></pre>\n"}],"owner":{"account_id":24382623,"reputation":9,"user_id":18313909,"display_name":"hello_world"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1645867691,"accepted_answer_id":71274923,"answer_count":2,"score":-2,"last_activity_date":1645861583,"creation_date":1645860164,"question_id":71274811,"body_markdown":"I am working on a Java program that determines Evens, Odds, and Negative numbers from 12 inputted integers.\r\n\r\nIt then separates them into different arrays. The course I am following suggests building an exception handler and I utilized the Try-Catch Method for the Exception error I may receive.\r\n\r\nIt then creates an Out of Bounds error for counting these numbers when I enter a String.\r\n\r\nI&#39;ve commented on the area in which I have trouble reprompting the user. So far, I&#39;ve tried prompting at the error with `twelveInt [i] = in.nextInt();` and just `in.next();`.\r\n\r\nWhy is the program affected outside of the loop?\r\n\r\nHere is the program:\r\n```\r\npublic static void main(String[] args){\r\n    Scanner in = new Scanner(System.in);\r\n          \r\n    int [] twelveInt = new int [12];\r\n          \r\n    int countEven = 0;\r\n          \r\n    int countOdd = 0;\r\n          \r\n    int countNeg = 0;\r\n    \r\n    boolean ehandle = true;\r\n   \r\n\r\n    for (int i = 0; i &lt; twelveInt.length; i++) {\r\n        while(ehandle){\r\n            try{\r\n                System.out.println(&quot;Enter the #&quot; + (i + 1) + &quot; integer.&quot;);\r\n                twelveInt [i] = in.nextInt();\r\n                ehandle = false;\r\n            }\r\n            catch(Exception e){\r\n                System.out.println(&quot;Please enter integers only&quot;);\r\n                // Unsure of what to add here to handle the errors and allow me to reprompt. in.next(); \r\n                //does not work nor does twelveInt [i] = in.nextInt();\r\n            }\r\n            if (twelveInt[i] % 2 == 0){\r\n                countEven++;\r\n            }\r\n            if (twelveInt[i] % 2 != 0){\r\n                countOdd++;\r\n            }\r\n            if (twelveInt[i] &lt; 0){\r\n                countNeg++;\r\n            } \r\n        }\r\n    }\r\n        \r\n    int [] evens = new int [countEven];    \r\n    int [] odds = new int [countOdd];\r\n    int [] negatives = new int [countNeg];\r\n    \r\n    countEven = 0;\r\n    countOdd = 0;\r\n    countNeg = 0;\r\n        \r\n    \r\n    for (int i : twelveInt) {\r\n        if (i % 2 == 0){\r\n            evens[countEven++] = i;\r\n        }\r\n        if (i % 2 != 0){\r\n            odds[countOdd++] = i;\r\n        }\r\n        if (i &lt; 0){\r\n            negatives[countNeg++] = i;\r\n        }          \r\n    }\r\n              \r\n    System.out.println(&quot;Here are the Even numbers you entered&quot;);\r\n    System.out.println(Arrays.toString(evens));\r\n          \r\n    System.out.println(&quot;Here are the Odd numbers you entered&quot;);\r\n    System.out.println(Arrays.toString(odds));\r\n          \r\n    System.out.println(&quot;Here are the Negative numbers you entered&quot;);\r\n    System.out.println(Arrays.toString(negatives));\r\n```","title":"Working on a Java Program that utilizes For Loops to separate Even, Odd, and Negative Inputted Integers. Try Catch Handler Gives Out-of-bounds Error?","body":"<p>I am working on a Java program that determines Evens, Odds, and Negative numbers from 12 inputted integers.</p>\n<p>It then separates them into different arrays. The course I am following suggests building an exception handler and I utilized the Try-Catch Method for the Exception error I may receive.</p>\n<p>It then creates an Out of Bounds error for counting these numbers when I enter a String.</p>\n<p>I've commented on the area in which I have trouble reprompting the user. So far, I've tried prompting at the error with <code>twelveInt [i] = in.nextInt();</code> and just <code>in.next();</code>.</p>\n<p>Why is the program affected outside of the loop?</p>\n<p>Here is the program:</p>\n<pre><code>public static void main(String[] args){\n    Scanner in = new Scanner(System.in);\n          \n    int [] twelveInt = new int [12];\n          \n    int countEven = 0;\n          \n    int countOdd = 0;\n          \n    int countNeg = 0;\n    \n    boolean ehandle = true;\n   \n\n    for (int i = 0; i &lt; twelveInt.length; i++) {\n        while(ehandle){\n            try{\n                System.out.println(&quot;Enter the #&quot; + (i + 1) + &quot; integer.&quot;);\n                twelveInt [i] = in.nextInt();\n                ehandle = false;\n            }\n            catch(Exception e){\n                System.out.println(&quot;Please enter integers only&quot;);\n                // Unsure of what to add here to handle the errors and allow me to reprompt. in.next(); \n                //does not work nor does twelveInt [i] = in.nextInt();\n            }\n            if (twelveInt[i] % 2 == 0){\n                countEven++;\n            }\n            if (twelveInt[i] % 2 != 0){\n                countOdd++;\n            }\n            if (twelveInt[i] &lt; 0){\n                countNeg++;\n            } \n        }\n    }\n        \n    int [] evens = new int [countEven];    \n    int [] odds = new int [countOdd];\n    int [] negatives = new int [countNeg];\n    \n    countEven = 0;\n    countOdd = 0;\n    countNeg = 0;\n        \n    \n    for (int i : twelveInt) {\n        if (i % 2 == 0){\n            evens[countEven++] = i;\n        }\n        if (i % 2 != 0){\n            odds[countOdd++] = i;\n        }\n        if (i &lt; 0){\n            negatives[countNeg++] = i;\n        }          \n    }\n              \n    System.out.println(&quot;Here are the Even numbers you entered&quot;);\n    System.out.println(Arrays.toString(evens));\n          \n    System.out.println(&quot;Here are the Odd numbers you entered&quot;);\n    System.out.println(Arrays.toString(odds));\n          \n    System.out.println(&quot;Here are the Negative numbers you entered&quot;);\n    System.out.println(Arrays.toString(negatives));\n</code></pre>\n"},{"tags":["java","java-8","java-11","hotspot"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645861389,"creation_date":1645860473,"answer_id":71274833,"question_id":71274771,"body_markdown":"The Java 11+ alternative is the `com.sun.tools.attach.VirtualMachine` class ([javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/VirtualMachine.html)) which provides a `getAgentProperties()` method.\r\n\r\n\r\nFrom the javadoc:\r\n\r\n&gt; The following example demonstrates how `VirtualMachine` may be used:\r\n\r\n\r\n      // attach to target VM\r\n      VirtualMachine vm = VirtualMachine.attach(&quot;2177&quot;);\r\n\r\n      // start management agent\r\n      Properties props = new Properties();\r\n      props.put(&quot;com.sun.management.jmxremote.port&quot;, &quot;5000&quot;);\r\n      vm.startManagementAgent(props);\r\n\r\n      // detach\r\n      vm.detach();\r\n\r\nYou can also get a `VirtualMachine` object from the `AttachProvider` API ([javadoc][1]).\r\n\r\n&lt;sup&gt;(Note that the `VMSupport` class is still in the Java 17 code base as `jdk.internal.vm.VMSupport`, but Java 17 will stop you using it unless you apply a very big sledgehammer.  Just don&#39;t.)&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/spi/AttachProvider.html","title":"What&#39;s the alternative for VMSupport?","body":"<p>The Java 11+ alternative is the <code>com.sun.tools.attach.VirtualMachine</code> class (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/VirtualMachine.html\" rel=\"nofollow noreferrer\">javadoc</a>) which provides a <code>getAgentProperties()</code> method.</p>\n<p>From the javadoc:</p>\n<blockquote>\n<p>The following example demonstrates how <code>VirtualMachine</code> may be used:</p>\n</blockquote>\n<pre><code>  // attach to target VM\n  VirtualMachine vm = VirtualMachine.attach(&quot;2177&quot;);\n\n  // start management agent\n  Properties props = new Properties();\n  props.put(&quot;com.sun.management.jmxremote.port&quot;, &quot;5000&quot;);\n  vm.startManagementAgent(props);\n\n  // detach\n  vm.detach();\n</code></pre>\n<p>You can also get a <code>VirtualMachine</code> object from the <code>AttachProvider</code> API (<a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.attach/com/sun/tools/attach/spi/AttachProvider.html\" rel=\"nofollow noreferrer\">javadoc</a>).</p>\n<p><sup>(Note that the <code>VMSupport</code> class is still in the Java 17 code base as <code>jdk.internal.vm.VMSupport</code>, but Java 17 will stop you using it unless you apply a very big sledgehammer.  Just don't.)</sup></p>\n"}],"owner":{"account_id":12552238,"reputation":3207,"user_id":9133378,"accept_rate":94,"display_name":"choxsword"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71274833,"answer_count":1,"score":0,"last_activity_date":1645861389,"creation_date":1645859596,"question_id":71274771,"body_markdown":"int java8 the `sun.misc.VMSupport` util provides multi apis like `getAgentProperties()` etc. However, this util is removed in java11 release. Is there any alternative for this class?","title":"What&#39;s the alternative for VMSupport?","body":"<p>int java8 the <code>sun.misc.VMSupport</code> util provides multi apis like <code>getAgentProperties()</code> etc. However, this util is removed in java11 release. Is there any alternative for this class?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647913818,"post_id":71274408,"comment_id":126485824,"body_markdown":"Wow. The whole entire assignment is being off-loaded. This is not how to learn to code Java.","body":"Wow. The whole entire assignment is being off-loaded. This is not how to learn to code Java."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645861371,"creation_date":1645861058,"answer_id":71274879,"question_id":71274408,"body_markdown":"Class `GradeBook`\r\n```java\r\npublic class GradeBook {\r\n    private char[] letterGrade = {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;F&#39;};\r\n\r\n    public char getLetterGrade(double avgScore) {\r\n        if (avgScore &gt;= 90 &amp;&amp; avgScore &lt;= 100) {\r\n            return letterGrade[0];\r\n        }\r\n        else if (avgScore &gt;= 80 &amp;&amp; avgScore &lt;= 89) {\r\n            return letterGrade[1];\r\n        }\r\n        else if (avgScore &gt;= 70 &amp;&amp; avgScore &lt;= 79) {\r\n            return letterGrade[2];\r\n        }\r\n        else if (avgScore &gt;= 60 &amp;&amp; avgScore &lt;= 69) {\r\n            return letterGrade[3];\r\n        }\r\n        else if (avgScore &gt;= 0 &amp;&amp; avgScore &lt;= 59) {\r\n            return letterGrade[4];\r\n        }\r\n        return &#39; &#39;;\r\n    }\r\n\r\n    public void getStudent(String foundStudent, int score) {\r\n        double testPercentage = (double) score / 100;\r\n        System.out.println(&quot;Student name: &quot; + foundStudent);\r\n        System.out.println(&quot;Test grade: &quot; + testPercentage);\r\n        System.out.println(&quot;Letter grade: &quot; + getLetterGrade(score));\r\n    }\r\n}\r\n```\r\n* Removed parameter `letterGrade` since it can be obtained from parameter `score`.\r\n* Not sure that your *percentage* calculation is correct. If the raw score is out of 100 then that already is a percentage.\r\n\r\nClass `Main`\r\n```java\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\npublic class Main {\r\n    private static double getAverage(List&lt;Integer&gt; scores) {\r\n        return scores.stream()\r\n                     .mapToInt(i -&gt; i.intValue())\r\n                     .sum() / (double) scores.size();\r\n    }\r\n\r\n    private static List&lt;Integer&gt; loadScores(String filename) throws IOException {\r\n        try (Stream&lt;String&gt; scores = Files.lines(Paths.get(filename))) {\r\n            return scores.map(score -&gt; Integer.valueOf(score))\r\n                         .collect(Collectors.toList());\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        //variables\r\n        double test1Calculation;\r\n        double test2Calculation;\r\n        double test3Calculation;\r\n        double test4Calculation;\r\n        int checker = 0;\r\n        String choice;\r\n\r\n        //Creating studentName ArrayList\r\n        List&lt;String&gt; studentName = Files.readAllLines(Paths.get(&quot;names.txt&quot;));\r\n\r\n        //Creating scoreOne ArrayList\r\n        List&lt;Integer&gt; scoreOne = loadScores(&quot;testOne.txt&quot;);\r\n\r\n        //Creating scoreTwo ArrayList\r\n        List&lt;Integer&gt; scoreTwo = loadScores(&quot;testTwo.txt&quot;);\r\n\r\n        //Creating scoreThree ArrayList\r\n        List&lt;Integer&gt; scoreThree = loadScores(&quot;testThree.txt&quot;);\r\n\r\n        //Creating scoreFour ArrayList\r\n        List&lt;Integer&gt; scoreFour = loadScores(&quot;testFour.txt&quot;);\r\n\r\n        //calculation for scoreOneArray Average\r\n        test1Calculation = getAverage(scoreOne);\r\n\r\n        //calculation for scoreTwoArray Average\r\n        test2Calculation = getAverage(scoreTwo);\r\n\r\n        //calculation for scoreThreeArray Average\r\n        test3Calculation = getAverage(scoreThree);\r\n\r\n        //calculation for scoreFourArray Average\r\n        test4Calculation = getAverage(scoreFour);\r\n\r\n        //displaying calculation data\r\n        System.out.println(&quot;The average for test one is: &quot; + test1Calculation);\r\n        System.out.println(&quot;The average for test two is: &quot; + test2Calculation);\r\n        System.out.println(&quot;The average for test three is: &quot; + test3Calculation);\r\n        System.out.println(&quot;The average for test four is: &quot; + test4Calculation);\r\n\r\n        //asking for student input\r\n        Scanner keyboard = new Scanner(System.in);\r\n        System.out.println(&quot;Enter student name : &quot;);\r\n        //searching if input is a name match to studentNameArray\r\n        String foundStudent = keyboard.nextLine();\r\n        int nameIndexFinder = studentName.indexOf(foundStudent);\r\n        if (nameIndexFinder &gt;= 0) {\r\n            //printing found if found\r\n            System.out.println(foundStudent + &quot; is found.&quot;);\r\n            //menu loop\r\n            do {\r\n                //displayed user options\r\n                System.out.println(&quot;1. To find score for first test&quot;);\r\n                System.out.println(&quot;2. To find score for second test&quot;);\r\n                System.out.println(&quot;3. To find score for third test&quot;);\r\n                System.out.println(&quot;4. To find score for fourth test&quot;);\r\n\r\n                //menu choices\r\n                List&lt;Integer&gt; scores;\r\n                GradeBook letterGrade = new GradeBook();\r\n                boolean quitLoop = false;\r\n                System.out.print(&quot;\\nEnter your choice: &quot;);\r\n                choice = keyboard.next();\r\n                switch (choice) {\r\n                    case &quot;-1&quot;:\r\n                        quitLoop = true;\r\n                        scores = null;\r\n                        break;\r\n                    case &quot;1&quot;:\r\n                        scores = scoreOne;\r\n                        break;\r\n                    case &quot;2&quot;:\r\n                        scores = scoreTwo;\r\n                        break;\r\n                    case &quot;3&quot;:\r\n                        scores = scoreThree;\r\n                        break;\r\n                    case &quot;4&quot;:\r\n                        scores = scoreFour;\r\n                        break;\r\n                    default:\r\n                        scores = null;\r\n                }\r\n                if (scores != null) {\r\n                    letterGrade.getStudent(foundStudent, scores.get(nameIndexFinder));\r\n                }\r\n                else {\r\n                    if (quitLoop) {\r\n                        break;\r\n                    }\r\n                    //Error message\r\n                    System.out.println(&quot;invalid choice&quot;);\r\n                }\r\n            }\r\n            while (checker != -1);\r\n        } // End of Menu Method\r\n        else {\r\n            //no student display message and close everything\r\n            System.out.println(foundStudent + &quot; is not found.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n* Use methods rather than repeating code.\r\n* Use single `Scanner` instance.\r\n* No need for array. Use method [get][1] of interface `java.util.List`\r\n* Use [try-with-resources][2].\r\n* You can [`switch`][3] on strings.\r\n* I believe you have a bug in the `do-while` loop. The loop never terminates.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#get(int)\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/strings-switch.html","title":"Finding letter grade across two classes","body":"<p>Class <code>GradeBook</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GradeBook {\n    private char[] letterGrade = {'A', 'B', 'C', 'D', 'F'};\n\n    public char getLetterGrade(double avgScore) {\n        if (avgScore &gt;= 90 &amp;&amp; avgScore &lt;= 100) {\n            return letterGrade[0];\n        }\n        else if (avgScore &gt;= 80 &amp;&amp; avgScore &lt;= 89) {\n            return letterGrade[1];\n        }\n        else if (avgScore &gt;= 70 &amp;&amp; avgScore &lt;= 79) {\n            return letterGrade[2];\n        }\n        else if (avgScore &gt;= 60 &amp;&amp; avgScore &lt;= 69) {\n            return letterGrade[3];\n        }\n        else if (avgScore &gt;= 0 &amp;&amp; avgScore &lt;= 59) {\n            return letterGrade[4];\n        }\n        return ' ';\n    }\n\n    public void getStudent(String foundStudent, int score) {\n        double testPercentage = (double) score / 100;\n        System.out.println(&quot;Student name: &quot; + foundStudent);\n        System.out.println(&quot;Test grade: &quot; + testPercentage);\n        System.out.println(&quot;Letter grade: &quot; + getLetterGrade(score));\n    }\n}\n</code></pre>\n<ul>\n<li>Removed parameter <code>letterGrade</code> since it can be obtained from parameter <code>score</code>.</li>\n<li>Not sure that your <em>percentage</em> calculation is correct. If the raw score is out of 100 then that already is a percentage.</li>\n</ul>\n<p>Class <code>Main</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.List;\nimport java.util.Scanner;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Main {\n    private static double getAverage(List&lt;Integer&gt; scores) {\n        return scores.stream()\n                     .mapToInt(i -&gt; i.intValue())\n                     .sum() / (double) scores.size();\n    }\n\n    private static List&lt;Integer&gt; loadScores(String filename) throws IOException {\n        try (Stream&lt;String&gt; scores = Files.lines(Paths.get(filename))) {\n            return scores.map(score -&gt; Integer.valueOf(score))\n                         .collect(Collectors.toList());\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        //variables\n        double test1Calculation;\n        double test2Calculation;\n        double test3Calculation;\n        double test4Calculation;\n        int checker = 0;\n        String choice;\n\n        //Creating studentName ArrayList\n        List&lt;String&gt; studentName = Files.readAllLines(Paths.get(&quot;names.txt&quot;));\n\n        //Creating scoreOne ArrayList\n        List&lt;Integer&gt; scoreOne = loadScores(&quot;testOne.txt&quot;);\n\n        //Creating scoreTwo ArrayList\n        List&lt;Integer&gt; scoreTwo = loadScores(&quot;testTwo.txt&quot;);\n\n        //Creating scoreThree ArrayList\n        List&lt;Integer&gt; scoreThree = loadScores(&quot;testThree.txt&quot;);\n\n        //Creating scoreFour ArrayList\n        List&lt;Integer&gt; scoreFour = loadScores(&quot;testFour.txt&quot;);\n\n        //calculation for scoreOneArray Average\n        test1Calculation = getAverage(scoreOne);\n\n        //calculation for scoreTwoArray Average\n        test2Calculation = getAverage(scoreTwo);\n\n        //calculation for scoreThreeArray Average\n        test3Calculation = getAverage(scoreThree);\n\n        //calculation for scoreFourArray Average\n        test4Calculation = getAverage(scoreFour);\n\n        //displaying calculation data\n        System.out.println(&quot;The average for test one is: &quot; + test1Calculation);\n        System.out.println(&quot;The average for test two is: &quot; + test2Calculation);\n        System.out.println(&quot;The average for test three is: &quot; + test3Calculation);\n        System.out.println(&quot;The average for test four is: &quot; + test4Calculation);\n\n        //asking for student input\n        Scanner keyboard = new Scanner(System.in);\n        System.out.println(&quot;Enter student name : &quot;);\n        //searching if input is a name match to studentNameArray\n        String foundStudent = keyboard.nextLine();\n        int nameIndexFinder = studentName.indexOf(foundStudent);\n        if (nameIndexFinder &gt;= 0) {\n            //printing found if found\n            System.out.println(foundStudent + &quot; is found.&quot;);\n            //menu loop\n            do {\n                //displayed user options\n                System.out.println(&quot;1. To find score for first test&quot;);\n                System.out.println(&quot;2. To find score for second test&quot;);\n                System.out.println(&quot;3. To find score for third test&quot;);\n                System.out.println(&quot;4. To find score for fourth test&quot;);\n\n                //menu choices\n                List&lt;Integer&gt; scores;\n                GradeBook letterGrade = new GradeBook();\n                boolean quitLoop = false;\n                System.out.print(&quot;\\nEnter your choice: &quot;);\n                choice = keyboard.next();\n                switch (choice) {\n                    case &quot;-1&quot;:\n                        quitLoop = true;\n                        scores = null;\n                        break;\n                    case &quot;1&quot;:\n                        scores = scoreOne;\n                        break;\n                    case &quot;2&quot;:\n                        scores = scoreTwo;\n                        break;\n                    case &quot;3&quot;:\n                        scores = scoreThree;\n                        break;\n                    case &quot;4&quot;:\n                        scores = scoreFour;\n                        break;\n                    default:\n                        scores = null;\n                }\n                if (scores != null) {\n                    letterGrade.getStudent(foundStudent, scores.get(nameIndexFinder));\n                }\n                else {\n                    if (quitLoop) {\n                        break;\n                    }\n                    //Error message\n                    System.out.println(&quot;invalid choice&quot;);\n                }\n            }\n            while (checker != -1);\n        } // End of Menu Method\n        else {\n            //no student display message and close everything\n            System.out.println(foundStudent + &quot; is not found.&quot;);\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Use methods rather than repeating code.</li>\n<li>Use single <code>Scanner</code> instance.</li>\n<li>No need for array. Use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#get(int)\" rel=\"nofollow noreferrer\">get</a> of interface <code>java.util.List</code></li>\n<li>Use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a>.</li>\n<li>You can <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/strings-switch.html\" rel=\"nofollow noreferrer\"><code>switch</code></a> on strings.</li>\n<li>I believe you have a bug in the <code>do-while</code> loop. The loop never terminates.</li>\n</ul>\n"}],"owner":{"display_name":"user18216293"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71274879,"answer_count":1,"score":0,"last_activity_date":1645861371,"creation_date":1645854925,"question_id":71274408,"body_markdown":"I have a program that contains five text files. These files are read in and put into different arrays. One is an array of names. The other four are arrays with test scores.\r\n\r\nCurrently, the program does create the arrays correctly. Next the program is to calculate and display the average for each test (this works fine). Then the program prompts the user for a name. If a name is found a new menu will prompt the user to select which test they want the data on. (This works fine.)\r\n\r\nThe problem: I have the main program class and another `GradeBook` class (does calculations) on another page. How do I connect the two pages together?\r\n\r\nFor example: If the `foundStudent` is &#39;Andrew&#39; and it is found in `studentNameArray` and I select 1 for which test score, I want to see (`scoreOneArray`), say the number 88. My program finds &#39;Andrew&#39; and &#39;88&#39;. What it does not do is send &#39;Andrew&#39; and &#39;88&#39; to `GradeBook` to have the data compute test percentage (88/100) and find the corresponding letter grade (in this case &#39;B&#39;). Lastly, then print students name, test score (88%), and the letter grade.\r\n\r\nIn Summary: How do I connect `Main.java` arrays to `GradeBook.java`?\r\n\r\nProgram (main): \r\n\r\n    import java.io.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            //variables\r\n            double test1Calculation;\r\n            double test2Calculation;\r\n            double test3Calculation;\r\n            double test4Calculation;\r\n            int i, j, k, l;\r\n            int testOneSum = 0;\r\n            int testTwoSum = 0;\r\n            int testThreeSum = 0;\r\n            int testFourSum = 0;\r\n            int checker = 0;\r\n            String choice;\r\n            String token1 = &quot;&quot;;\r\n    \r\n            //reading in files\r\n            Scanner students = new Scanner(new File(&quot;names.txt&quot;));\r\n            Scanner TestOne = new Scanner(new File(&quot;testOne.txt&quot;));\r\n            Scanner TestTwo = new Scanner(new File(&quot;testTwo.txt&quot;));\r\n            Scanner TestThree = new Scanner(new File(&quot;testThree.txt&quot;));\r\n            Scanner TestFour = new Scanner(new File(&quot;testFour.txt&quot;));\r\n    \r\n            //Creating studentName ArrayList\r\n            List&lt;String&gt; studentName = new ArrayList&lt;&gt;();\r\n            while (students.hasNext()) {\r\n                //Adding name to token\r\n                token1 = students.next();\r\n                //Taking token string and adding it to array\r\n                studentName.add(token1);\r\n            }\r\n            //Creating and adding data to studentNameArray\r\n            String[] studentNameArray = studentName.toArray(new String[0]);\r\n    \r\n            //Creating scoreOne ArrayList\r\n            List&lt;Integer&gt; scoreOne = new ArrayList&lt;&gt;();\r\n    \r\n            while (TestOne.hasNext()) {\r\n                //Adding ints to token\r\n                Integer token2 = TestOne.nextInt();\r\n                //Taking token string and adding it to array\r\n                scoreOne.add(token2);\r\n            }\r\n            //Creating and adding data to scoreOneArray\r\n            Integer[] scoreOneArray = scoreOne.toArray(new Integer[0]);\r\n    \r\n            //Creating scoreTwo ArrayList\r\n            List&lt;Integer&gt; scoreTwo = new ArrayList&lt;&gt;();\r\n    \r\n            while (TestTwo.hasNext()) {\r\n                //Adding ints to token\r\n                Integer token3 = TestTwo.nextInt();\r\n                //Taking token string and adding it to array\r\n                scoreTwo.add(token3);\r\n            }\r\n            //Creating and adding data to scoreTwoArray\r\n            Integer[] scoreTwoArray = scoreTwo.toArray(new Integer[0]);\r\n    \r\n            //Creating scoreThree ArrayList\r\n            List&lt;Integer&gt; scoreThree = new ArrayList&lt;&gt;();\r\n            \r\n            while (TestThree.hasNext()) {\r\n                //Adding ints to token\r\n                Integer token4 = TestThree.nextInt();\r\n                //Taking token string and adding it to array\r\n                scoreThree.add(token4);\r\n            }\r\n            //Creating and adding data to scoreThreeArray\r\n            Integer[] scoreThreeArray = scoreThree.toArray(new Integer[0]);\r\n    \r\n            //Creating scoreFour ArrayList\r\n            List&lt;Integer&gt; scoreFour = new ArrayList&lt;&gt;();\r\n            \r\n            while (TestFour.hasNext()) {\r\n                //Adding ints to token\r\n                Integer token5 = TestFour.nextInt();\r\n                //Taking token string and adding it to array\r\n                scoreFour.add(token5);\r\n            }\r\n            //Creating and adding data to scoreFourArray\r\n            Integer[] scoreFourArray = scoreFour.toArray(new Integer[0]);\r\n    \r\n            //calculation for scoreOneArray Average\r\n            for (i = 0; i &lt; scoreOneArray.length; i++)\r\n                testOneSum += scoreOneArray[i];\r\n            test1Calculation = (double) testOneSum / 5;\r\n    \r\n            //calculation for scoreTwoArray Average\r\n            for (j = 0; j &lt; scoreTwoArray.length; j++)\r\n                testTwoSum += scoreTwoArray[j];\r\n            test2Calculation = (double) testTwoSum / 5;\r\n    \r\n            //calculation for scoreThreeArray Average\r\n            for (k = 0; k &lt; scoreThreeArray.length; k++)\r\n                testThreeSum += scoreThreeArray[k];\r\n            test3Calculation = (double) testThreeSum / 5;\r\n    \r\n            //calculation for scoreFourArray Average\r\n            for (l = 0; l &lt; scoreFourArray.length; l++)\r\n                testFourSum += scoreFourArray[l];\r\n            test4Calculation = (double) testFourSum / 5;\r\n    \r\n            //displaying calculation data\r\n            System.out.println(&quot;The average for test one is: &quot; + test1Calculation);\r\n            System.out.println(&quot;The average for test two is: &quot; + test2Calculation);\r\n            System.out.println(&quot;The average for test three is: &quot; + test3Calculation);\r\n            System.out.println(&quot;The average for test four is: &quot; + test4Calculation);\r\n    \r\n            //asking for student input\r\n            Scanner studentSearch = new Scanner(System.in);\r\n            System.out.println(&quot;Enter student name : &quot;);\r\n            //searching if input is a name match to studentNameArray\r\n            String foundStudent = studentSearch.nextLine();\r\n            boolean found = Arrays.stream(studentNameArray).anyMatch(t -&gt; t.equals(foundStudent));\r\n            if (found) {\r\n                //gather index position for further use on finding test position\r\n                int nameIndexFinder = Arrays.asList(studentNameArray).indexOf(foundStudent);\r\n                //printing found if found\r\n                System.out.println(foundStudent + &quot; is found.&quot;);\r\n                //menu loop\r\n                do {\r\n                    //displayed user options\r\n                    System.out.println(&quot;1. To find score for first test&quot;);\r\n                    System.out.println(&quot;2. To find score for second test&quot;);\r\n                    System.out.println(&quot;3. To find score for third test&quot;);\r\n                    System.out.println(&quot;4. To find score for fourth test&quot;);\r\n    \r\n                    //menu choices\r\n                    Scanner keyboard = new Scanner(System.in);\r\n                    System.out.print(&quot;\\nEnter your choice: &quot;);\r\n                    choice = keyboard.next();\r\n    \r\n                    if (choice.equals(&quot;1&quot;)) {\r\n                        //searching array with corresponding user/student index position\r\n                        int  score = scoreOneArray[nameIndexFinder];\r\n                        GradeBook gradeBook = new GradeBook(nameIndexFinder, score);\r\n                        //printing found test score\r\n                        System.out.println(score);\r\n                        checker = -1;\r\n                    } else if (choice.equals(&quot;2&quot;)) {\r\n                        //searching array with corresponding user/student index position\r\n                        int  score= scoreTwoArray[nameIndexFinder];\r\n                        \r\n                        //printing found test score\r\n                        System.out.println(score);\r\n                        checker = -1;\r\n                    } else if (choice.equals(&quot;3&quot;)) {\r\n                        //searching array with corresponding user/student index position\r\n                        int  score= scoreThreeArray[nameIndexFinder];\r\n    \r\n                        //printing found test score\r\n                        System.out.println(score);\r\n                        checker = -1;\r\n                    } else if (choice.equals(&quot;4&quot;)) {\r\n                        //searching array with corresponding user/student index position\r\n                        int  score= scoreFourArray[nameIndexFinder];\r\n    \r\n                        //printing found test score\r\n                        System.out.println(score);\r\n    \r\n                    } else {\r\n                        //Error message\r\n                        System.out.println(&quot;invalid choice&quot;);\r\n                    }\r\n                }\r\n                while (checker != -1);\r\n            } // End of Menu Method\r\n            else {\r\n                //no student display message and close everything\r\n                System.out.println(foundStudent + &quot; is not found.&quot;);}\r\n    \r\n            //closing all read in txt files\r\n            students.close();\r\n            TestOne.close();\r\n            TestTwo.close();\r\n            TestThree.close();\r\n            TestFour.close();\r\n        }\r\n    }\r\n\r\nCalculations(GradeBook): \r\n\r\n    public class GradeBook {\r\n        private char[] letterGrade = {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;F&#39;};\r\n    \r\n        public char getLetterGrade(int score){\r\n            if (score &gt;= 90 &amp;&amp; score &lt;= 100){\r\n                return letterGrade[0];\r\n            }\r\n            else if (score &gt;= 80 &amp;&amp; score &lt;= 89){\r\n                return letterGrade[1];\r\n            }\r\n            else if (score &gt;= 70 &amp;&amp; score &lt;= 79){\r\n                return letterGrade[2];\r\n            }\r\n            else if (score &gt;= 60 &amp;&amp; score &lt;= 69){\r\n                return letterGrade[3];\r\n            }\r\n            else if (score &gt;= 0 &amp;&amp; score &lt;= 59){\r\n                return letterGrade[4];\r\n            }\r\n            return &#39; &#39;;\r\n        }\r\n        public void getStudent(String foundStudent, int score, String letterGrade){\r\n    \r\n            double testPercentage = (double)score / 100;\r\n            System.out.println(&quot;Student name: &quot; + foundStudent);\r\n            System.out.println(&quot;Test grade: &quot; + testPercentage);\r\n            System.out.println(&quot;Letter grade: &quot; + letterGrade);\r\n        }\r\n    }\r\n","title":"Finding letter grade across two classes","body":"<p>I have a program that contains five text files. These files are read in and put into different arrays. One is an array of names. The other four are arrays with test scores.</p>\n<p>Currently, the program does create the arrays correctly. Next the program is to calculate and display the average for each test (this works fine). Then the program prompts the user for a name. If a name is found a new menu will prompt the user to select which test they want the data on. (This works fine.)</p>\n<p>The problem: I have the main program class and another <code>GradeBook</code> class (does calculations) on another page. How do I connect the two pages together?</p>\n<p>For example: If the <code>foundStudent</code> is 'Andrew' and it is found in <code>studentNameArray</code> and I select 1 for which test score, I want to see (<code>scoreOneArray</code>), say the number 88. My program finds 'Andrew' and '88'. What it does not do is send 'Andrew' and '88' to <code>GradeBook</code> to have the data compute test percentage (88/100) and find the corresponding letter grade (in this case 'B'). Lastly, then print students name, test score (88%), and the letter grade.</p>\n<p>In Summary: How do I connect <code>Main.java</code> arrays to <code>GradeBook.java</code>?</p>\n<p>Program (main):</p>\n<pre><code>import java.io.*;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        //variables\n        double test1Calculation;\n        double test2Calculation;\n        double test3Calculation;\n        double test4Calculation;\n        int i, j, k, l;\n        int testOneSum = 0;\n        int testTwoSum = 0;\n        int testThreeSum = 0;\n        int testFourSum = 0;\n        int checker = 0;\n        String choice;\n        String token1 = &quot;&quot;;\n\n        //reading in files\n        Scanner students = new Scanner(new File(&quot;names.txt&quot;));\n        Scanner TestOne = new Scanner(new File(&quot;testOne.txt&quot;));\n        Scanner TestTwo = new Scanner(new File(&quot;testTwo.txt&quot;));\n        Scanner TestThree = new Scanner(new File(&quot;testThree.txt&quot;));\n        Scanner TestFour = new Scanner(new File(&quot;testFour.txt&quot;));\n\n        //Creating studentName ArrayList\n        List&lt;String&gt; studentName = new ArrayList&lt;&gt;();\n        while (students.hasNext()) {\n            //Adding name to token\n            token1 = students.next();\n            //Taking token string and adding it to array\n            studentName.add(token1);\n        }\n        //Creating and adding data to studentNameArray\n        String[] studentNameArray = studentName.toArray(new String[0]);\n\n        //Creating scoreOne ArrayList\n        List&lt;Integer&gt; scoreOne = new ArrayList&lt;&gt;();\n\n        while (TestOne.hasNext()) {\n            //Adding ints to token\n            Integer token2 = TestOne.nextInt();\n            //Taking token string and adding it to array\n            scoreOne.add(token2);\n        }\n        //Creating and adding data to scoreOneArray\n        Integer[] scoreOneArray = scoreOne.toArray(new Integer[0]);\n\n        //Creating scoreTwo ArrayList\n        List&lt;Integer&gt; scoreTwo = new ArrayList&lt;&gt;();\n\n        while (TestTwo.hasNext()) {\n            //Adding ints to token\n            Integer token3 = TestTwo.nextInt();\n            //Taking token string and adding it to array\n            scoreTwo.add(token3);\n        }\n        //Creating and adding data to scoreTwoArray\n        Integer[] scoreTwoArray = scoreTwo.toArray(new Integer[0]);\n\n        //Creating scoreThree ArrayList\n        List&lt;Integer&gt; scoreThree = new ArrayList&lt;&gt;();\n        \n        while (TestThree.hasNext()) {\n            //Adding ints to token\n            Integer token4 = TestThree.nextInt();\n            //Taking token string and adding it to array\n            scoreThree.add(token4);\n        }\n        //Creating and adding data to scoreThreeArray\n        Integer[] scoreThreeArray = scoreThree.toArray(new Integer[0]);\n\n        //Creating scoreFour ArrayList\n        List&lt;Integer&gt; scoreFour = new ArrayList&lt;&gt;();\n        \n        while (TestFour.hasNext()) {\n            //Adding ints to token\n            Integer token5 = TestFour.nextInt();\n            //Taking token string and adding it to array\n            scoreFour.add(token5);\n        }\n        //Creating and adding data to scoreFourArray\n        Integer[] scoreFourArray = scoreFour.toArray(new Integer[0]);\n\n        //calculation for scoreOneArray Average\n        for (i = 0; i &lt; scoreOneArray.length; i++)\n            testOneSum += scoreOneArray[i];\n        test1Calculation = (double) testOneSum / 5;\n\n        //calculation for scoreTwoArray Average\n        for (j = 0; j &lt; scoreTwoArray.length; j++)\n            testTwoSum += scoreTwoArray[j];\n        test2Calculation = (double) testTwoSum / 5;\n\n        //calculation for scoreThreeArray Average\n        for (k = 0; k &lt; scoreThreeArray.length; k++)\n            testThreeSum += scoreThreeArray[k];\n        test3Calculation = (double) testThreeSum / 5;\n\n        //calculation for scoreFourArray Average\n        for (l = 0; l &lt; scoreFourArray.length; l++)\n            testFourSum += scoreFourArray[l];\n        test4Calculation = (double) testFourSum / 5;\n\n        //displaying calculation data\n        System.out.println(&quot;The average for test one is: &quot; + test1Calculation);\n        System.out.println(&quot;The average for test two is: &quot; + test2Calculation);\n        System.out.println(&quot;The average for test three is: &quot; + test3Calculation);\n        System.out.println(&quot;The average for test four is: &quot; + test4Calculation);\n\n        //asking for student input\n        Scanner studentSearch = new Scanner(System.in);\n        System.out.println(&quot;Enter student name : &quot;);\n        //searching if input is a name match to studentNameArray\n        String foundStudent = studentSearch.nextLine();\n        boolean found = Arrays.stream(studentNameArray).anyMatch(t -&gt; t.equals(foundStudent));\n        if (found) {\n            //gather index position for further use on finding test position\n            int nameIndexFinder = Arrays.asList(studentNameArray).indexOf(foundStudent);\n            //printing found if found\n            System.out.println(foundStudent + &quot; is found.&quot;);\n            //menu loop\n            do {\n                //displayed user options\n                System.out.println(&quot;1. To find score for first test&quot;);\n                System.out.println(&quot;2. To find score for second test&quot;);\n                System.out.println(&quot;3. To find score for third test&quot;);\n                System.out.println(&quot;4. To find score for fourth test&quot;);\n\n                //menu choices\n                Scanner keyboard = new Scanner(System.in);\n                System.out.print(&quot;\\nEnter your choice: &quot;);\n                choice = keyboard.next();\n\n                if (choice.equals(&quot;1&quot;)) {\n                    //searching array with corresponding user/student index position\n                    int  score = scoreOneArray[nameIndexFinder];\n                    GradeBook gradeBook = new GradeBook(nameIndexFinder, score);\n                    //printing found test score\n                    System.out.println(score);\n                    checker = -1;\n                } else if (choice.equals(&quot;2&quot;)) {\n                    //searching array with corresponding user/student index position\n                    int  score= scoreTwoArray[nameIndexFinder];\n                    \n                    //printing found test score\n                    System.out.println(score);\n                    checker = -1;\n                } else if (choice.equals(&quot;3&quot;)) {\n                    //searching array with corresponding user/student index position\n                    int  score= scoreThreeArray[nameIndexFinder];\n\n                    //printing found test score\n                    System.out.println(score);\n                    checker = -1;\n                } else if (choice.equals(&quot;4&quot;)) {\n                    //searching array with corresponding user/student index position\n                    int  score= scoreFourArray[nameIndexFinder];\n\n                    //printing found test score\n                    System.out.println(score);\n\n                } else {\n                    //Error message\n                    System.out.println(&quot;invalid choice&quot;);\n                }\n            }\n            while (checker != -1);\n        } // End of Menu Method\n        else {\n            //no student display message and close everything\n            System.out.println(foundStudent + &quot; is not found.&quot;);}\n\n        //closing all read in txt files\n        students.close();\n        TestOne.close();\n        TestTwo.close();\n        TestThree.close();\n        TestFour.close();\n    }\n}\n</code></pre>\n<p>Calculations(GradeBook):</p>\n<pre><code>public class GradeBook {\n    private char[] letterGrade = {'A', 'B', 'C', 'D', 'F'};\n\n    public char getLetterGrade(int score){\n        if (score &gt;= 90 &amp;&amp; score &lt;= 100){\n            return letterGrade[0];\n        }\n        else if (score &gt;= 80 &amp;&amp; score &lt;= 89){\n            return letterGrade[1];\n        }\n        else if (score &gt;= 70 &amp;&amp; score &lt;= 79){\n            return letterGrade[2];\n        }\n        else if (score &gt;= 60 &amp;&amp; score &lt;= 69){\n            return letterGrade[3];\n        }\n        else if (score &gt;= 0 &amp;&amp; score &lt;= 59){\n            return letterGrade[4];\n        }\n        return ' ';\n    }\n    public void getStudent(String foundStudent, int score, String letterGrade){\n\n        double testPercentage = (double)score / 100;\n        System.out.println(&quot;Student name: &quot; + foundStudent);\n        System.out.println(&quot;Test grade: &quot; + testPercentage);\n        System.out.println(&quot;Letter grade: &quot; + letterGrade);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven-3","spring-io"],"comments":[{"owner":{"account_id":4717197,"reputation":1082,"user_id":3816068,"accept_rate":78,"display_name":"Ozgen"},"score":4,"creation_date":1428342476,"post_id":29476472,"comment_id":47113943,"body_markdown":"It is impossible for maven to work without defining versions of the artifacts. They should be defined somewhere in `dependencyManagement` tag either in the submodule or parent. Please check your pom hierarchy. Use mvn help:effective-pom","body":"It is impossible for maven to work without defining versions of the artifacts. They should be defined somewhere in <code>dependencyManagement</code> tag either in the submodule or parent. Please check your pom hierarchy. Use mvn help:effective-pom"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1428342485,"post_id":29476472,"comment_id":47113948,"body_markdown":"Have you checked via `mvn help:effective-pom -Doutput=result.xml`  and check if there is no dependencyManagement.","body":"Have you checked via <code>mvn help:effective-pom -Doutput=result.xml</code>  and check if there is no dependencyManagement."},{"owner":{"account_id":1093356,"reputation":7034,"user_id":1087479,"accept_rate":89,"display_name":"sschrass"},"score":1,"creation_date":1428342949,"post_id":29476472,"comment_id":47114176,"body_markdown":"Could they be transitively referenced from somewhere? Would be the worst case, because you would not have any clue about your versions.","body":"Could they be transitively referenced from somewhere? Would be the worst case, because you would not have any clue about your versions."}],"answers":[{"tags":[],"owner":{"account_id":4717197,"reputation":1082,"user_id":3816068,"accept_rate":78,"display_name":"Ozgen"},"down_vote_count":1,"up_vote_count":37,"is_accepted":false,"score":36,"last_activity_date":1428342924,"creation_date":1428342924,"answer_id":29476680,"question_id":29476472,"body_markdown":"\t\r\nIt is impossible for maven to work without defining versions of the artifacts. They should be defined somewhere in dependencyManagement tag either in the submodule or parent. Please check your pom hierarchy. Use `mvn help:effective-pom` in the submodule directory of the project. Also you can use `mvn dependency:tree` in order to find out which artifacts - along with full artifact information including version numbers - are resolved in the result of dependency management.","title":"maven dependency without version","body":"<p>It is impossible for maven to work without defining versions of the artifacts. They should be defined somewhere in dependencyManagement tag either in the submodule or parent. Please check your pom hierarchy. Use <code>mvn help:effective-pom</code> in the submodule directory of the project. Also you can use <code>mvn dependency:tree</code> in order to find out which artifacts - along with full artifact information including version numbers - are resolved in the result of dependency management.</p>\n"},{"tags":[],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1548430020,"creation_date":1428420543,"answer_id":29495316,"question_id":29476472,"body_markdown":"Ok, I think I&#39;m gonna answer it myself. Of course I took a look at dependency:tree, but all the dependencies that I mentioned were first-level members of the tree. What I failed to notice right away, is that `dependencyManagement` is not present in the parent, but it is however present in the submodules, and what is more interesting it contains:\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.spring.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;platform-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;1.0.2.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\nI&#39;ve never used Spring IO Platform before, so this is a totally new concept for me. As it turns out the platform includes quite a few preconfigured dependencies:\r\nhttp://docs.spring.io/platform/docs/current/reference/htmlsingle/#appendix-dependency-versions\r\n","title":"maven dependency without version","body":"<p>Ok, I think I'm gonna answer it myself. Of course I took a look at dependency:tree, but all the dependencies that I mentioned were first-level members of the tree. What I failed to notice right away, is that <code>dependencyManagement</code> is not present in the parent, but it is however present in the submodules, and what is more interesting it contains:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;io.spring.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;platform-bom&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>I've never used Spring IO Platform before, so this is a totally new concept for me. As it turns out the platform includes quite a few preconfigured dependencies:\n<a href=\"http://docs.spring.io/platform/docs/current/reference/htmlsingle/#appendix-dependency-versions\" rel=\"noreferrer\">http://docs.spring.io/platform/docs/current/reference/htmlsingle/#appendix-dependency-versions</a></p>\n"},{"tags":[],"owner":{"account_id":316252,"reputation":1218,"user_id":632331,"display_name":"radzimir"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1573028353,"creation_date":1573028353,"answer_id":58725745,"question_id":29476472,"body_markdown":"Use \r\n\r\n    mvn -P&lt;my_profile_of_interest&gt; help:effective-pom -Dverbose\r\n\r\nVerbose mode (Since: 3.2.0) adds XML comments containing precise reference to a place where dependency declaration is coming from.\r\n\r\n","title":"maven dependency without version","body":"<p>Use </p>\n\n<pre><code>mvn -P&lt;my_profile_of_interest&gt; help:effective-pom -Dverbose\n</code></pre>\n\n<p>Verbose mode (Since: 3.2.0) adds XML comments containing precise reference to a place where dependency declaration is coming from.</p>\n"},{"tags":[],"owner":{"account_id":3602291,"reputation":127,"user_id":3005352,"display_name":"SK Singh"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1599086361,"creation_date":1599086361,"answer_id":63714398,"question_id":29476472,"body_markdown":"Each maven dependency defined in the pom must have a version either directly or indirectly for example, through dependencyManagement or parent. That being said, if the version is not given, then the version provided in the dependencyManagement or the parent pom will be used. \r\n\r\nFor example: in the pom (only important sections are mentioned) given below,  no version is provided for the artifact jstl. However, in the &quot;mvn dependency:tree&quot;,  it shows that jstl version 1.2 is included. And looking at the spring-boot-starter-parent, for the version 2.3.3.RELEASE pom, it includes jstl version 1.2. \r\n\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n       ....\r\n       &lt;dependency&gt;\r\n    \t   &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t   &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n       &lt;/dependency&gt;\r\n       ....\r\n    &lt;/dependencies&gt;\r\n\r\n","title":"maven dependency without version","body":"<p>Each maven dependency defined in the pom must have a version either directly or indirectly for example, through dependencyManagement or parent. That being said, if the version is not given, then the version provided in the dependencyManagement or the parent pom will be used.</p>\n<p>For example: in the pom (only important sections are mentioned) given below,  no version is provided for the artifact jstl. However, in the &quot;mvn dependency:tree&quot;,  it shows that jstl version 1.2 is included. And looking at the spring-boot-starter-parent, for the version 2.3.3.RELEASE pom, it includes jstl version 1.2.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.3.3.RELEASE&lt;/version&gt;\n&lt;/parent&gt;\n\n&lt;dependencies&gt;\n   ....\n   &lt;dependency&gt;\n       &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n       &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n   &lt;/dependency&gt;\n   ....\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":282831,"reputation":2465,"user_id":579974,"accept_rate":33,"display_name":"Deepak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645860674,"creation_date":1645860674,"answer_id":71274849,"question_id":29476472,"body_markdown":"In my  case if i was using  Spring boot starter parent to manage all dependency and `lombok` version is managed by Spring boot , This problem was coming due to higher `java version` JAVA 11 . I exported JAVA 8 in to my compile time environment and after using JAVA 8 this problem was gone.","title":"maven dependency without version","body":"<p>In my  case if i was using  Spring boot starter parent to manage all dependency and <code>lombok</code> version is managed by Spring boot , This problem was coming due to higher <code>java version</code> JAVA 11 . I exported JAVA 8 in to my compile time environment and after using JAVA 8 this problem was gone.</p>\n"}],"owner":{"account_id":5648860,"reputation":9049,"user_id":4470135,"accept_rate":54,"display_name":"yuranos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132640,"favorite_count":0,"down_vote_count":0,"up_vote_count":103,"accepted_answer_id":29495316,"answer_count":5,"score":103,"last_activity_date":1645860674,"creation_date":1428342112,"question_id":29476472,"body_markdown":"Recently I&#39;ve been working on some improvements in a project developed some time ago, and here&#39;s what I found. A lot of dependencies in the pom files go without versions specified, and yet they are resolved. The project consists of 1 root module and 2 submodules. The Aggregator pattern is used, meaning there&#39;s no dependencyManagement section at all. The upper-project simply aggregates 2 modules and that&#39;s all it does. Subprojects don&#39;t refer to it as to a parent. They have a different parent. What I can&#39;t grasp is that neither subprojects themselves nor their parent(as a matter of fact, it doesn&#39;t have dependencyManagement either) specify versions for some of the dependencies. For instance:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n        &lt;artifactId&gt;imap&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n\r\nCan someone help me figure this out? Is maven handling versioning with some default strategy?  What is that default strategy?","title":"maven dependency without version","body":"<p>Recently I've been working on some improvements in a project developed some time ago, and here's what I found. A lot of dependencies in the pom files go without versions specified, and yet they are resolved. The project consists of 1 root module and 2 submodules. The Aggregator pattern is used, meaning there's no dependencyManagement section at all. The upper-project simply aggregates 2 modules and that's all it does. Subprojects don't refer to it as to a parent. They have a different parent. What I can't grasp is that neither subprojects themselves nor their parent(as a matter of fact, it doesn't have dependencyManagement either) specify versions for some of the dependencies. For instance:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.mail&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n    &lt;artifactId&gt;imap&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n    &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Can someone help me figure this out? Is maven handling versioning with some default strategy?  What is that default strategy?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1645782213,"post_id":71262928,"comment_id":125967052,"body_markdown":"What is your goal in splitting this up?","body":"What is your goal in splitting this up?"},{"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"score":0,"creation_date":1645782824,"post_id":71262928,"comment_id":125967263,"body_markdown":"Not having to upload stable dependencies... I tried the &quot;Spring Boot thin launcher&quot; but it doesnt work properly with multimodule projects...","body":"Not having to upload stable dependencies... I tried the &quot;Spring Boot thin launcher&quot; but it doesnt work properly with multimodule projects..."}],"answers":[{"tags":[],"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645860494,"creation_date":1645860494,"answer_id":71274836,"question_id":71262928,"body_markdown":"**Approach 2: Decompress the fat JAR and read classes**\r\n\r\nIf you are working with Spring Boot, you need to change the type of loader in the MANIFEST file and include the path of the libraries.\r\n\r\nIf you are using Gradle, during the fat JAR generation, you can add: \r\n\r\n      manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;org.springframework.boot.loader.PropertiesLauncher&#39;\r\n        attributes &#39;Class-Path&#39;: &#39;deps/BOOT-INF/lib&#39;\r\n      }\r\n\r\nAnd after you can run the app with:\r\n\r\n    java -Dloader.path=&quot;jars:deps/BOOT-INF/lib&quot; -jar app.jar","title":"How to load dependencies from another fat JAR or from external sources?","body":"<p><strong>Approach 2: Decompress the fat JAR and read classes</strong></p>\n<p>If you are working with Spring Boot, you need to change the type of loader in the MANIFEST file and include the path of the libraries.</p>\n<p>If you are using Gradle, during the fat JAR generation, you can add:</p>\n<pre><code>  manifest {\n    attributes 'Main-Class': 'org.springframework.boot.loader.PropertiesLauncher'\n    attributes 'Class-Path': 'deps/BOOT-INF/lib'\n  }\n</code></pre>\n<p>And after you can run the app with:</p>\n<pre><code>java -Dloader.path=&quot;jars:deps/BOOT-INF/lib&quot; -jar app.jar\n</code></pre>\n"}],"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":394,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71274836,"answer_count":1,"score":0,"last_activity_date":1645860494,"creation_date":1645777045,"question_id":71262928,"body_markdown":"I managed to split my Spring Boot fat JAR in 2 thinner fat JARs, (one with the app and one with dependencies).\r\n\r\nNow, I&#39;m trying to run the app, but I&#39;m unable to load the dependencies from inside the fat jar.\r\n\r\nSo far, I tried:\r\n\r\n    java -jar app.jar -cp &quot;deps.jar&quot;\r\n    java -jar app.jar -cp &quot;deps.jar/BOOT-INF/lib&quot;\r\n    \r\nI also tried decompressing the JAR and tried to load it\r\n\r\n    java -Dloader.path=&quot;jars:deps/BOOT-INF/lib&quot; -jar app.jar\r\n    java -jar app.jar -cp &quot;deps/BOOT-INF/lib&quot;\r\n\r\nBut no progress.\r\n\r\nAny ideas? \r\n\r\n","title":"How to load dependencies from another fat JAR or from external sources?","body":"<p>I managed to split my Spring Boot fat JAR in 2 thinner fat JARs, (one with the app and one with dependencies).</p>\n<p>Now, I'm trying to run the app, but I'm unable to load the dependencies from inside the fat jar.</p>\n<p>So far, I tried:</p>\n<pre><code>java -jar app.jar -cp &quot;deps.jar&quot;\njava -jar app.jar -cp &quot;deps.jar/BOOT-INF/lib&quot;\n</code></pre>\n<p>I also tried decompressing the JAR and tried to load it</p>\n<pre><code>java -Dloader.path=&quot;jars:deps/BOOT-INF/lib&quot; -jar app.jar\njava -jar app.jar -cp &quot;deps/BOOT-INF/lib&quot;\n</code></pre>\n<p>But no progress.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","arrays","json","string"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1586339228,"post_id":61097605,"comment_id":108089857,"body_markdown":"To read a JSON string in Java, see [How to parse JSON in Java](https://stackoverflow.com/q/2591098/5221149). How to check the depth depends on which parser you choose, so we cannot answer that, given the current broadness of the question.","body":"To read a JSON string in Java, see <a href=\"https://stackoverflow.com/q/2591098/5221149\">How to parse JSON in Java</a>. How to check the depth depends on which parser you choose, so we cannot answer that, given the current broadness of the question."}],"answers":[{"tags":[],"owner":{"account_id":15296947,"reputation":63,"user_id":11036695,"display_name":"Subham Banerjee"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586339463,"creation_date":1586339463,"answer_id":61097877,"question_id":61097605,"body_markdown":"my answer is \r\n\r\n```\r\n\tint JsonDepth (String S) { \r\n\t\tint current_max = 0; \r\n\t\tint max = 0; \r\n\t\tint n = S.length(); \r\n\r\n\t\tfor (int i = 0; i &lt; n; i++) { \r\n\t\t\tif (S.charAt(i) == &#39;{&#39;) { \r\n\t\t\t\tcurrent_max++; \r\n\r\n\t\t\t\t// update max if required \r\n\t\t\t\tif (current_max &gt; max) { \r\n\t\t\t\t\tmax = current_max; \r\n\t\t\t\t} \r\n\t\t\t} else if (S.charAt(i) == &#39;}&#39;) { \r\n\t\t\t\tif (current_max &gt; 0) { \r\n\t\t\t\t\tcurrent_max--; \r\n\t\t\t\t} else { \r\n\t\t\t\t\treturn -1; \r\n\t\t\t\t} \r\n\t\t\t} \r\n\t\t} \r\n\r\n\t\tif (current_max != 0) { \r\n\t\t\treturn -1; \r\n\t\t} \r\n\r\n\t\treturn max; \r\n\t} \r\n```","title":"Finding the depth of a JSON String in JAVA","body":"<p>my answer is </p>\n\n<pre><code>    int JsonDepth (String S) { \n        int current_max = 0; \n        int max = 0; \n        int n = S.length(); \n\n        for (int i = 0; i &lt; n; i++) { \n            if (S.charAt(i) == '{') { \n                current_max++; \n\n                // update max if required \n                if (current_max &gt; max) { \n                    max = current_max; \n                } \n            } else if (S.charAt(i) == '}') { \n                if (current_max &gt; 0) { \n                    current_max--; \n                } else { \n                    return -1; \n                } \n            } \n        } \n\n        if (current_max != 0) { \n            return -1; \n        } \n\n        return max; \n    } \n</code></pre>\n"},{"tags":[],"owner":{"account_id":288478,"reputation":17040,"user_id":588916,"accept_rate":60,"display_name":"collapsar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1586342862,"creation_date":1586342862,"answer_id":61098881,"question_id":61097605,"body_markdown":"Your problem calls for a JSON Tokenizer. You do not actually need to _parse_ your file ( ie. build some tree structure as a Java object ) as you are only interested in the maximal nesting depth which can be deduced from the token stream alone.\r\n\r\nThe basic idea is to keep tabs on the tokens that represent the start and end of an object ( `{`, `}` ). Whenever the tokenizer sees an object start/end, increment/decrement a global depth counter; Whenever the tokenizer sees an object end, check whether the current global depth counter is greater than the maximum seen so far and change the value accordingly.\r\n\r\nAs a package to furnish the JSON Tokenizer, I&#39;d suggest [Jackson](https://github.com/FasterXML/jackson-databind#5-minute-tutorial-streaming-parser-generator). Download the jar files into your source directory (or to the suitable place in your development toolset directory). The jar files are available at:\r\n\r\n     https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.10.3/jackson-core-2.10.3.jar\r\n     https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-annotations/2.10.3/jackson-annotations-2.10.3.jar\r\n     https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.10.3/jackson-databind-2.10.3.jar\r\n\r\nNote that you need all of them and do not forget to alter the Java CLASSPATH unless your IDE takes care of that.\r\n\r\n***Code***\r\n\r\nThe following class determines and prints the depth of your json:\r\n\r\n    //  https://stackoverflow.com/questions/61097605/finding-the-depth-of-a-json-string-in-java\r\n    //\r\n    //  javac.exe -cp &quot;./jackson-core-2.10.3.jar;./jackson-annotations-2.10.3.jar;./jackson-databind-2.10.3.jar&quot; .\\json_nesting.java\r\n    //  java.exe -cp &quot;./jackson-core-2.10.3.jar;./jackson-annotations-2.10.3.jar;./jackson-databind-2.10.3.jar;.&quot; json_nesting\r\n    //\r\n    //  Cf. https://github.com/FasterXML/jackson-databind#5-minute-tutorial-streaming-parser-generator\r\n    //\r\n    //  Jar downloads\r\n    //      https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.10.3/jackson-core-2.10.3.jar\r\n    //      https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-annotations/2.10.3/jackson-annotations-2.10.3.jar\r\n    //      https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.10.3/jackson-databind-2.10.3.jar\r\n    //\r\n\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    import java.nio.*;\r\n    \r\n    import com.fasterxml.jackson.core.JsonFactory;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonToken;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    public class json_nesting {\r\n        public static void main(String[] args) {\r\n        // write your code here\r\n            // Second: read file back\r\n            String fpath = &quot;&lt;file path goes here&gt;&quot;; // Double backslashes on Windows ! \r\n            ObjectMapper mapper = new ObjectMapper(); // create once, reuse\r\n            JsonFactory f = mapper.getFactory();\r\n            try {\r\n                JsonParser p = f.createParser(new File(fpath));\r\n\r\n                JsonToken t = p.nextToken();\r\n                \r\n                int currentDepth = 0;\r\n                int maxDepth = 0;\r\n                \r\n                while (t != null) {\r\n                    if (t == JsonToken.START_OBJECT) {\r\n                        currentDepth++;\r\n                    } else {\r\n                        if (t == JsonToken.END_OBJECT) {\r\n                            if (currentDepth &gt; maxDepth) {\r\n                                maxDepth = currentDepth;\r\n                            }\r\n                            currentDepth--;\r\n                        }\r\n                    }\r\n                    \r\n                    t = p.nextToken();\r\n                };\r\n\r\n                System.out.printf(&quot;Max depth = %4d.\\n&quot;, maxDepth);\r\n                p.close();\r\n            } catch ( IOException ioe ) {\r\n                System.out.printf(&quot;File processing failed: = &#39;%s&#39;. Message: %s.\\n&quot;, fpath, ioe.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nTested with Java SE 11, u 28.\r\n\r\n***Note (JSON syntax)***\r\n\r\nNote that your sample file is NOT valid JSON - some property names are not enclosed in double quotes, properties are not separated with commas. A rectified version comes here:\r\n\r\n    {\r\n        &quot;0&quot; : { &quot;name&quot; : &quot;John&quot;, &quot;City&quot; : &quot;NY&quot;}\r\n      , &quot;1&quot; : { &quot;name&quot; : &quot;Mike&quot;, &quot;City&quot; : &quot;LA&quot;}\r\n    }","title":"Finding the depth of a JSON String in JAVA","body":"<p>Your problem calls for a JSON Tokenizer. You do not actually need to <em>parse</em> your file ( ie. build some tree structure as a Java object ) as you are only interested in the maximal nesting depth which can be deduced from the token stream alone.</p>\n\n<p>The basic idea is to keep tabs on the tokens that represent the start and end of an object ( <code>{</code>, <code>}</code> ). Whenever the tokenizer sees an object start/end, increment/decrement a global depth counter; Whenever the tokenizer sees an object end, check whether the current global depth counter is greater than the maximum seen so far and change the value accordingly.</p>\n\n<p>As a package to furnish the JSON Tokenizer, I'd suggest <a href=\"https://github.com/FasterXML/jackson-databind#5-minute-tutorial-streaming-parser-generator\" rel=\"nofollow noreferrer\">Jackson</a>. Download the jar files into your source directory (or to the suitable place in your development toolset directory). The jar files are available at:</p>\n\n<pre><code> https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.10.3/jackson-core-2.10.3.jar\n https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-annotations/2.10.3/jackson-annotations-2.10.3.jar\n https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.10.3/jackson-databind-2.10.3.jar\n</code></pre>\n\n<p>Note that you need all of them and do not forget to alter the Java CLASSPATH unless your IDE takes care of that.</p>\n\n<p><strong><em>Code</em></strong></p>\n\n<p>The following class determines and prints the depth of your json:</p>\n\n<pre><code>//  https://stackoverflow.com/questions/61097605/finding-the-depth-of-a-json-string-in-java\n//\n//  javac.exe -cp \"./jackson-core-2.10.3.jar;./jackson-annotations-2.10.3.jar;./jackson-databind-2.10.3.jar\" .\\json_nesting.java\n//  java.exe -cp \"./jackson-core-2.10.3.jar;./jackson-annotations-2.10.3.jar;./jackson-databind-2.10.3.jar;.\" json_nesting\n//\n//  Cf. https://github.com/FasterXML/jackson-databind#5-minute-tutorial-streaming-parser-generator\n//\n//  Jar downloads\n//      https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-core/2.10.3/jackson-core-2.10.3.jar\n//      https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-annotations/2.10.3/jackson-annotations-2.10.3.jar\n//      https://repo1.maven.org/maven2/com/fasterxml/jackson/core/jackson-databind/2.10.3/jackson-databind-2.10.3.jar\n//\n\nimport java.lang.*;\nimport java.io.*;\nimport java.nio.*;\n\nimport com.fasterxml.jackson.core.JsonFactory;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonToken;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\npublic class json_nesting {\n    public static void main(String[] args) {\n    // write your code here\n        // Second: read file back\n        String fpath = \"&lt;file path goes here&gt;\"; // Double backslashes on Windows ! \n        ObjectMapper mapper = new ObjectMapper(); // create once, reuse\n        JsonFactory f = mapper.getFactory();\n        try {\n            JsonParser p = f.createParser(new File(fpath));\n\n            JsonToken t = p.nextToken();\n\n            int currentDepth = 0;\n            int maxDepth = 0;\n\n            while (t != null) {\n                if (t == JsonToken.START_OBJECT) {\n                    currentDepth++;\n                } else {\n                    if (t == JsonToken.END_OBJECT) {\n                        if (currentDepth &gt; maxDepth) {\n                            maxDepth = currentDepth;\n                        }\n                        currentDepth--;\n                    }\n                }\n\n                t = p.nextToken();\n            };\n\n            System.out.printf(\"Max depth = %4d.\\n\", maxDepth);\n            p.close();\n        } catch ( IOException ioe ) {\n            System.out.printf(\"File processing failed: = '%s'. Message: %s.\\n\", fpath, ioe.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<p>Tested with Java SE 11, u 28.</p>\n\n<p><strong><em>Note (JSON syntax)</em></strong></p>\n\n<p>Note that your sample file is NOT valid JSON - some property names are not enclosed in double quotes, properties are not separated with commas. A rectified version comes here:</p>\n\n<pre><code>{\n    \"0\" : { \"name\" : \"John\", \"City\" : \"NY\"}\n  , \"1\" : { \"name\" : \"Mike\", \"City\" : \"LA\"}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24151949,"reputation":1,"user_id":18116660,"display_name":"Dinesh Gouda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645859245,"creation_date":1645525204,"answer_id":71219497,"question_id":61097605,"body_markdown":"    public static int levelCount(String word) {\r\n\r\n\t\tint current= 0;\r\n\t\tint max = 0;\r\n\r\n\t\tfor (int i = 0; i &lt; word.length(); i++) {\r\n\t\t\tif (word.charAt(i) == &#39;{&#39;) {\r\n\t\t\t\tcurrent++;\r\n\t\t\t\r\n\t\t\t} else {\r\n\t\t\t\tif (word.charAt(i) == &#39;}&#39;) {\r\n\t\t\t\t\tif (current &gt; max) {\r\n\t\t\t\t\t\tmax = current;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcurrent--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn max;\r\n\t}","title":"Finding the depth of a JSON String in JAVA","body":"<pre><code>public static int levelCount(String word) {\n\n    int current= 0;\n    int max = 0;\n\n    for (int i = 0; i &lt; word.length(); i++) {\n        if (word.charAt(i) == '{') {\n            current++;\n        \n        } else {\n            if (word.charAt(i) == '}') {\n                if (current &gt; max) {\n                    max = current;\n                }\n                current--;\n            }\n        }\n    }\n    return max;\n}\n</code></pre>\n"}],"owner":{"account_id":15296947,"reputation":63,"user_id":11036695,"display_name":"Subham Banerjee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4762,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":61098881,"answer_count":3,"score":-1,"last_activity_date":1645859245,"creation_date":1586338590,"question_id":61097605,"body_markdown":"I was given a String in java method and have to return the son depth of that string\r\n\r\nlike if the method is\r\n\r\n```\r\nfind depthJSON(String s){\r\n     //code\r\n     return count;\r\n}\r\n```\r\n\r\nfor example:\r\n\r\n```\r\n{\r\n    &quot;0&quot; : { &quot;name&quot; : &quot;John&quot;, &quot;City&quot; : &quot;NY&quot;},\r\n    &quot;1&quot; : { &quot;name&quot; : &quot;Mike&quot;, &quot;City&quot; : &quot;LA&quot;}\r\n}\r\n```\r\n\r\nfor this input, depth is 2","title":"Finding the depth of a JSON String in JAVA","body":"<p>I was given a String in java method and have to return the son depth of that string</p>\n\n<p>like if the method is</p>\n\n<pre><code>find depthJSON(String s){\n     //code\n     return count;\n}\n</code></pre>\n\n<p>for example:</p>\n\n<pre><code>{\n    \"0\" : { \"name\" : \"John\", \"City\" : \"NY\"},\n    \"1\" : { \"name\" : \"Mike\", \"City\" : \"LA\"}\n}\n</code></pre>\n\n<p>for this input, depth is 2</p>\n"},{"tags":["java","spring","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1645716106,"creation_date":1645716106,"answer_id":71254264,"question_id":71254105,"body_markdown":"- Create 2 projects, when build, build to 2 JAR file. \r\n\r\n- Project 1 (fat JAR) reference to Project 2. \r\n\r\n- Spring Boot fat JAR (has embed Tomcat), will call another JAR.","title":"Spring Boot &quot;Thinner Fat Jar&quot; - Split jar in 2 (app / libs)","body":"<ul>\n<li><p>Create 2 projects, when build, build to 2 JAR file.</p>\n</li>\n<li><p>Project 1 (fat JAR) reference to Project 2.</p>\n</li>\n<li><p>Spring Boot fat JAR (has embed Tomcat), will call another JAR.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645859138,"creation_date":1645859138,"answer_id":71274733,"question_id":71254105,"body_markdown":"I managed to do what I wanted. \r\n\r\nFor that purpose, I had to extend the bootJar task in gradle into 2 tasks, one for the dependencies, and one for my libraries...\r\n\r\n    task bootJarDeps(type: org.springframework.boot.gradle.tasks.bundling.BootJar) {\r\n      description &quot;Generates JAR with just dependencies.&quot;\r\n      exclude &#39;com.mypackage.**.jar&#39;\r\n      archiveName &#39;deps.jar&#39;\r\n    \r\n      mainClass = &#39;com.mypackage.App&#39;\r\n      with bootJar\r\n    }\r\n\r\nThe mainClass  in the dependencies is useless, but still required for the task.\r\n\r\n    task bootJarApp(type: org.springframework.boot.gradle.tasks.bundling.BootJar) {\r\n      description &quot;Generates JAR without dependencies.&quot;\r\n      include &#39;com.mypackage.**.jar&#39;\r\n      mainClass = &#39;com.mypackage.App&#39;\r\n      archiveName &#39;app.jar&#39;\r\n      with bootJar\r\n    }\r\n\r\n","title":"Spring Boot &quot;Thinner Fat Jar&quot; - Split jar in 2 (app / libs)","body":"<p>I managed to do what I wanted.</p>\n<p>For that purpose, I had to extend the bootJar task in gradle into 2 tasks, one for the dependencies, and one for my libraries...</p>\n<pre><code>task bootJarDeps(type: org.springframework.boot.gradle.tasks.bundling.BootJar) {\n  description &quot;Generates JAR with just dependencies.&quot;\n  exclude 'com.mypackage.**.jar'\n  archiveName 'deps.jar'\n\n  mainClass = 'com.mypackage.App'\n  with bootJar\n}\n</code></pre>\n<p>The mainClass  in the dependencies is useless, but still required for the task.</p>\n<pre><code>task bootJarApp(type: org.springframework.boot.gradle.tasks.bundling.BootJar) {\n  description &quot;Generates JAR without dependencies.&quot;\n  include 'com.mypackage.**.jar'\n  mainClass = 'com.mypackage.App'\n  archiveName 'app.jar'\n  with bootJar\n}\n</code></pre>\n"}],"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71274733,"answer_count":2,"score":0,"last_activity_date":1645859214,"creation_date":1645715363,"question_id":71254105,"body_markdown":"I would like to split my app into 2 fat jars (modules/libraries).\r\n\r\nI&#39;ve checked already the &quot;**Spring Boot thin jar project**&quot;, which loads the dependencies and caches them on first run but I cant make it work with multiple local modules.\r\n\r\nStill... I would prefer to make my first approach work. Any ideas?\r\n\r\nGradle 6.9.1 (7.x not working with thin jar)\r\n\r\nSpring Boot 2.6.x\r\n\r\n**Edited (2022-02)**\r\n\r\n**Check my solution below...**","title":"Spring Boot &quot;Thinner Fat Jar&quot; - Split jar in 2 (app / libs)","body":"<p>I would like to split my app into 2 fat jars (modules/libraries).</p>\n<p>I've checked already the &quot;<strong>Spring Boot thin jar project</strong>&quot;, which loads the dependencies and caches them on first run but I cant make it work with multiple local modules.</p>\n<p>Still... I would prefer to make my first approach work. Any ideas?</p>\n<p>Gradle 6.9.1 (7.x not working with thin jar)</p>\n<p>Spring Boot 2.6.x</p>\n<p><strong>Edited (2022-02)</strong></p>\n<p><strong>Check my solution below...</strong></p>\n"},{"tags":["javascript","java","postgresql","postman","restful-authentication"],"comments":[{"owner":{"account_id":2532712,"reputation":692,"user_id":2200654,"accept_rate":33,"display_name":"Shantanu"},"score":0,"creation_date":1586897966,"post_id":61217098,"comment_id":108297476,"body_markdown":"Please share the curl request of your postman","body":"Please share the curl request of your postman"}],"answers":[{"tags":[],"owner":{"account_id":18048368,"reputation":71,"user_id":13118714,"display_name":"Gjomesquita"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1587661007,"creation_date":1587661007,"answer_id":61392755,"question_id":61217098,"body_markdown":"I got it!\r\nThe problem was that when getting the attributes to show in the postman, it entered in a loop for the objects that reference other objects.\r\nTo resolve I had to eliminate the recurring Get(), or just get the id from the object","title":"Postman Get call 500 internal server error","body":"<p>I got it!\nThe problem was that when getting the attributes to show in the postman, it entered in a loop for the objects that reference other objects.\nTo resolve I had to eliminate the recurring Get(), or just get the id from the object</p>\n"}],"owner":{"account_id":18048368,"reputation":71,"user_id":13118714,"display_name":"Gjomesquita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10386,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645858935,"creation_date":1586897756,"question_id":61217098,"body_markdown":"Having some trouble here with this GET endpoint. For some reason is calling status 500 Internal Server Error and the body comes as null.\r\n\r\n\r\nThis is the code with the GET call:\r\n\r\n    @GetMapping\r\n    public List&lt;TitulosPagar&gt; getTitulosPagar() {\r\n    \t\r\n    \tSystem.out.println(&quot;GET called&quot;);\r\n    \tList&lt;TitulosPagar&gt; titulos = titulosPagarService.pesquisar();\r\n    \tSystem.out.println(titulos);\r\n    \t\r\n\t\treturn titulos;\r\n\r\ntitulosPagarService.pesquisar() return a JpaRepository.findAll() with the a full list of titulosPagar.\r\n\r\nThe sysoutPrint shows that it gets the list made with the objects TitulosPagar:\r\n\r\n    GET called \r\n    [br.com.lev.ficpagar.model.TitulosPagar@13d10944, br.com.lev.ficpagar.model.TitulosPagar@5a57aa65, \r\n     br.com.lev.ficpagar.model.TitulosPagar@1ac0f72, br.com.lev.ficpagar.model.TitulosPagar@3a052abc]\r\n\r\nBut in Postman I got a null body and the 500 Internal Server Error\r\n\r\n[Postman response][1]\r\n\r\n  [1]: https://i.stack.imgur.com/1DcPm.png\r\n\r\nPostman Console response:\r\n\r\n    GET /ficpagar/titulospagar HTTP/1.1\r\n    Content-Type: application/json\r\n    User-Agent: PostmanRuntime/7.24.1\r\n    Accept: */*\r\n    Cache-Control: no-cache\r\n    Postman-Token: b273167d-92d4-44e6-bea0-88c8b70af99e\r\n    Host: localhost:8080\r\n    Accept-Encoding: gzip, deflate, be\r\n    Connection: keep-alive\r\n    HTTP/1.1 500 Internal Server Error\r\n    Access-Control-Allow-Origin: http://localhost:4200\r\n    Access-Control-Allow-Credentials: true\r\n    Content-Type: application/json\r\n    Transfer-Encoding: chunked\r\n    Date: Tue, 14 Apr 2020 20:31:03 GMT\r\n    Connection: close\r\n\r\n,\r\n\r\n    curl --location --request GET &#39;localhost:8080/ficpagar/titulospagar&#39; \\\r\n    --header &#39;Content-Type: application/json&#39; \\\r\n    --data-raw &#39;&#39;\r\n\r\n \r\n\r\nThe weird thing is that works fine this test GET endpoint.\r\n\r\n    @GetMapping\r\n\tpublic  String test() {\r\n\t\treturn &quot;Everything fine!&quot;;\r\n\t}\r\n\r\nAnd the POST endpoint:\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;TitulosPagar&gt; criar(@Valid @RequestBody TitulosPagar tituloPagar, HttpServletResponse response) {\r\n    \t tituloPagar = titulosPagarService.criar(tituloPagar);\r\n    \t \r\n         URI uri = ServletUriComponentsBuilder.fromCurrentRequestUri().path(&quot;/{codigo}&quot;).buildAndExpand(tituloPagar.getId()).toUri();\r\n         response.setHeader(&quot;Location&quot;, uri.toASCIIString());\r\n         return ResponseEntity.created(uri).body(tituloPagar);\r\n    }\r\n\r\n\r\n\r\nI use a localServer with PostgreSQL.\r\n\r\nIt doesn`t seem to be a problem in the code. But I don`t know, do you understand what could be wrong?","title":"Postman Get call 500 internal server error","body":"<p>Having some trouble here with this GET endpoint. For some reason is calling status 500 Internal Server Error and the body comes as null.</p>\n\n<p>This is the code with the GET call:</p>\n\n<pre><code>@GetMapping\npublic List&lt;TitulosPagar&gt; getTitulosPagar() {\n\n    System.out.println(\"GET called\");\n    List&lt;TitulosPagar&gt; titulos = titulosPagarService.pesquisar();\n    System.out.println(titulos);\n\n    return titulos;\n</code></pre>\n\n<p>titulosPagarService.pesquisar() return a JpaRepository.findAll() with the a full list of titulosPagar.</p>\n\n<p>The sysoutPrint shows that it gets the list made with the objects TitulosPagar:</p>\n\n<pre><code>GET called \n[br.com.lev.ficpagar.model.TitulosPagar@13d10944, br.com.lev.ficpagar.model.TitulosPagar@5a57aa65, \n br.com.lev.ficpagar.model.TitulosPagar@1ac0f72, br.com.lev.ficpagar.model.TitulosPagar@3a052abc]\n</code></pre>\n\n<p>But in Postman I got a null body and the 500 Internal Server Error</p>\n\n<p><a href=\"https://i.stack.imgur.com/1DcPm.png\" rel=\"nofollow noreferrer\">Postman response</a></p>\n\n<p>Postman Console response:</p>\n\n<pre><code>GET /ficpagar/titulospagar HTTP/1.1\nContent-Type: application/json\nUser-Agent: PostmanRuntime/7.24.1\nAccept: */*\nCache-Control: no-cache\nPostman-Token: b273167d-92d4-44e6-bea0-88c8b70af99e\nHost: localhost:8080\nAccept-Encoding: gzip, deflate, be\nConnection: keep-alive\nHTTP/1.1 500 Internal Server Error\nAccess-Control-Allow-Origin: http://localhost:4200\nAccess-Control-Allow-Credentials: true\nContent-Type: application/json\nTransfer-Encoding: chunked\nDate: Tue, 14 Apr 2020 20:31:03 GMT\nConnection: close\n</code></pre>\n\n<p>,</p>\n\n<pre><code>curl --location --request GET 'localhost:8080/ficpagar/titulospagar' \\\n--header 'Content-Type: application/json' \\\n--data-raw ''\n</code></pre>\n\n<p>The weird thing is that works fine this test GET endpoint.</p>\n\n<pre><code>@GetMapping\npublic  String test() {\n    return \"Everything fine!\";\n}\n</code></pre>\n\n<p>And the POST endpoint:</p>\n\n<pre><code>@PostMapping\npublic ResponseEntity&lt;TitulosPagar&gt; criar(@Valid @RequestBody TitulosPagar tituloPagar, HttpServletResponse response) {\n     tituloPagar = titulosPagarService.criar(tituloPagar);\n\n     URI uri = ServletUriComponentsBuilder.fromCurrentRequestUri().path(\"/{codigo}\").buildAndExpand(tituloPagar.getId()).toUri();\n     response.setHeader(\"Location\", uri.toASCIIString());\n     return ResponseEntity.created(uri).body(tituloPagar);\n}\n</code></pre>\n\n<p>I use a localServer with PostgreSQL.</p>\n\n<p>It doesn<code>t seem to be a problem in the code. But I don</code>t know, do you understand what could be wrong?</p>\n"},{"tags":["java","android","date","datepicker"],"comments":[{"owner":{"account_id":1619521,"reputation":771,"user_id":1496408,"display_name":"funcoding"},"score":0,"creation_date":1491827412,"post_id":43323063,"comment_id":73710506,"body_markdown":"Did you set the `dateFormat`? by default datepicker dateformat is `Default: &quot;mm/dd/yy&quot;`","body":"Did you set the <code>dateFormat</code>? by default datepicker dateformat is <code>Default: &quot;mm&#47;dd&#47;yy&quot;</code>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1491828615,"post_id":43323063,"comment_id":73711370,"body_markdown":"The deprecated `Date` constructor that you use, adds 1900 to year. So if you pass 2017 to it, you get a date in 3917. If you should use it (not recommended), you would need to pass 117 for 2017.","body":"The deprecated <code>Date</code> constructor that you use, adds 1900 to year. So if you pass 2017 to it, you get a date in 3917. If you should use it (not recommended), you would need to pass 117 for 2017."}],"answers":[{"tags":[],"owner":{"account_id":5401413,"reputation":211,"user_id":4301225,"display_name":"Hakan Saglam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491827792,"creation_date":1491827446,"answer_id":43323221,"question_id":43323063,"body_markdown":"dont use `new Date(yyyy,mm,dd);` use\r\n\r\n    Calendar c = Calendar.getInstance();\r\n        c.set(Calendar.YEAR, yyyy);\r\n        c.set(Calendar.MONTH, mm);\r\n        c.set(Calendar.DAY_OF_MONTH, dd);\r\n        c.getTime();","title":"Why is my date picker in android displaying the year wrong?","body":"<p>dont use <code>new Date(yyyy,mm,dd);</code> use</p>\n\n<pre><code>Calendar c = Calendar.getInstance();\n    c.set(Calendar.YEAR, yyyy);\n    c.set(Calendar.MONTH, mm);\n    c.set(Calendar.DAY_OF_MONTH, dd);\n    c.getTime();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6104178,"reputation":2406,"user_id":4762282,"accept_rate":57,"display_name":"Ircover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1491827688,"creation_date":1491827688,"answer_id":43323286,"question_id":43323063,"body_markdown":"Using `Date` constructor is deprecated. [Here](https://developer.android.com/reference/java/util/Date.html) you can see that \r\n\r\n    This constructor was deprecated in API level 1. As of JDK version 1.1, replaced by Calendar.set(year + 1900, month, date) or GregorianCalendar(year + 1900, month, date)\r\n\r\nBetter to use setters of `Calendar` object like you use getters before creating dialog.\r\n\r\n    calendar.set(Calendar.YEAR, yyyy);\r\n    calendar.set(Calendar.MONTH, mm);\r\n    calendar.set(Calendar.DAY_OF_MONTH, dd);\r\n\r\nYes, you can use `new Date(yyyy - 1900,mm,dd)`. But it is bad.","title":"Why is my date picker in android displaying the year wrong?","body":"<p>Using <code>Date</code> constructor is deprecated. <a href=\"https://developer.android.com/reference/java/util/Date.html\" rel=\"nofollow noreferrer\">Here</a> you can see that </p>\n\n<pre><code>This constructor was deprecated in API level 1. As of JDK version 1.1, replaced by Calendar.set(year + 1900, month, date) or GregorianCalendar(year + 1900, month, date)\n</code></pre>\n\n<p>Better to use setters of <code>Calendar</code> object like you use getters before creating dialog.</p>\n\n<pre><code>calendar.set(Calendar.YEAR, yyyy);\ncalendar.set(Calendar.MONTH, mm);\ncalendar.set(Calendar.DAY_OF_MONTH, dd);\n</code></pre>\n\n<p>Yes, you can use <code>new Date(yyyy - 1900,mm,dd)</code>. But it is bad.</p>\n"},{"tags":[],"owner":{"account_id":4425499,"reputation":6084,"user_id":3604083,"display_name":"Yazan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491828058,"creation_date":1491828058,"answer_id":43323425,"question_id":43323063,"body_markdown":"this `new Date()` was deprecated, you can (better) use `Calendar`\r\n\r\nyour code will be like this:\r\n\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.set(Calendar.YEAR,yyyy);\r\n    cal.set(Calendar.DAY_OF_MONTH,dd);\r\n    cal.set(Calendar.MONTH,mm);\r\n        \r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    entered_Start  = sdf.format(cal.getTime());\r\n    Toast.makeText(getActivity(), &quot;Date is: &quot;+ entered_Start, Toast.LENGTH_LONG).show();","title":"Why is my date picker in android displaying the year wrong?","body":"<p>this <code>new Date()</code> was deprecated, you can (better) use <code>Calendar</code></p>\n\n<p>your code will be like this:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance();\ncal.set(Calendar.YEAR,yyyy);\ncal.set(Calendar.DAY_OF_MONTH,dd);\ncal.set(Calendar.MONTH,mm);\n\nSimpleDateFormat sdf = new SimpleDateFormat(\"yyyy-MM-dd\");\nentered_Start  = sdf.format(cal.getTime());\nToast.makeText(getActivity(), \"Date is: \"+ entered_Start, Toast.LENGTH_LONG).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8316339,"reputation":3127,"user_id":6249483,"accept_rate":60,"display_name":"Waruna Manjula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645858073,"creation_date":1645858073,"answer_id":71274646,"question_id":43323063,"body_markdown":"\r\n    int day = datePicker1.getDayOfMonth();\r\n    int mon = datePicker1.getMonth();\r\n    int ye = datePicker1.getYear();\r\n\r\n                SimpleDateFormat dt=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n                Date d=new Date(ye,mon,day);\r\n                String sdt=dt.format(d);\r\n\r\n                System.out.println(&quot;Date&gt;&gt;&gt;&gt;&gt;&gt;&quot;+sdt);//Date&gt;&gt;&gt;&gt;&gt;&gt;3922-02-28\r\n\r\n                Calendar c = Calendar.getInstance();\r\n                c.set(Calendar.YEAR, ye);\r\n                c.set(Calendar.MONTH, mon);\r\n                c.set(Calendar.DAY_OF_MONTH, day);\r\n                //c.getTime();\r\n                System.out.println(&quot;Date&lt;&lt;&lt;&lt;&quot;+dt.format(c.getTime())); //Date&lt;&lt;&lt;&lt;2022-02-28","title":"Why is my date picker in android displaying the year wrong?","body":"<pre><code>int day = datePicker1.getDayOfMonth();\nint mon = datePicker1.getMonth();\nint ye = datePicker1.getYear();\n\n            SimpleDateFormat dt=new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            Date d=new Date(ye,mon,day);\n            String sdt=dt.format(d);\n\n            System.out.println(&quot;Date&gt;&gt;&gt;&gt;&gt;&gt;&quot;+sdt);//Date&gt;&gt;&gt;&gt;&gt;&gt;3922-02-28\n\n            Calendar c = Calendar.getInstance();\n            c.set(Calendar.YEAR, ye);\n            c.set(Calendar.MONTH, mon);\n            c.set(Calendar.DAY_OF_MONTH, day);\n            //c.getTime();\n            System.out.println(&quot;Date&lt;&lt;&lt;&lt;&quot;+dt.format(c.getTime())); //Date&lt;&lt;&lt;&lt;2022-02-28\n</code></pre>\n"}],"owner":{"account_id":9786526,"reputation":41,"user_id":7252677,"accept_rate":25,"display_name":"Sallow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1825,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1645858073,"creation_date":1491826990,"question_id":43323063,"body_markdown":"I have created this datePicker for my app and I have it set to show a Toast once the user picks a date. This is just a test before I move on to anything else, however, when I pick a date it shows the wrong year. For example when I choose today&#39;s date, the Toast will display: &quot;Date is: 3917-04-10&quot;.\r\n\r\n\r\n\r\n    public class SelectDateFragment extends DialogFragment implements DatePickerDialog.OnDateSetListener\r\n    {\r\n    SimpleDateFormat dateFormatter;\r\n    Date start;\r\n    String entered_Start;\r\n\r\n    @Override\r\n    public Dialog onCreateDialog(Bundle savedInstanceState)\r\n    {\r\n        final Calendar calendar = Calendar.getInstance();\r\n        int yyyy = calendar.get(Calendar.YEAR);\r\n        int mm = calendar.get(Calendar.MONTH);\r\n        int dd = calendar.get(Calendar.DAY_OF_MONTH);\r\n        return new DatePickerDialog(getActivity(), this, yyyy, mm, dd);\r\n    }\r\n\r\n    public void onDateSet(DatePicker view, int yyyy, int mm, int dd)\r\n    {\r\n        start = new Date(yyyy,mm,dd);\r\n        dateFormatter = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        entered_Start = dateFormatter.format(start);\r\n        Toast.makeText(getActivity(), &quot;Date is: &quot;+ entered_Start, Toast.LENGTH_LONG).show();\r\n    }\r\n    }\r\n\r\n\r\nAny help is appreciated.\r\n\r\n\r\nEDIT: I fixed it. All I had to do was change this line:\r\n\r\n    start = new Date(yyyy,mm,dd);\r\n\r\nTo this Line:\r\n\r\n    start = calendar.getTime();   ","title":"Why is my date picker in android displaying the year wrong?","body":"<p>I have created this datePicker for my app and I have it set to show a Toast once the user picks a date. This is just a test before I move on to anything else, however, when I pick a date it shows the wrong year. For example when I choose today's date, the Toast will display: \"Date is: 3917-04-10\".</p>\n\n<pre><code>public class SelectDateFragment extends DialogFragment implements DatePickerDialog.OnDateSetListener\n{\nSimpleDateFormat dateFormatter;\nDate start;\nString entered_Start;\n\n@Override\npublic Dialog onCreateDialog(Bundle savedInstanceState)\n{\n    final Calendar calendar = Calendar.getInstance();\n    int yyyy = calendar.get(Calendar.YEAR);\n    int mm = calendar.get(Calendar.MONTH);\n    int dd = calendar.get(Calendar.DAY_OF_MONTH);\n    return new DatePickerDialog(getActivity(), this, yyyy, mm, dd);\n}\n\npublic void onDateSet(DatePicker view, int yyyy, int mm, int dd)\n{\n    start = new Date(yyyy,mm,dd);\n    dateFormatter = new SimpleDateFormat(\"yyyy-MM-dd\");\n    entered_Start = dateFormatter.format(start);\n    Toast.makeText(getActivity(), \"Date is: \"+ entered_Start, Toast.LENGTH_LONG).show();\n}\n}\n</code></pre>\n\n<p>Any help is appreciated.</p>\n\n<p>EDIT: I fixed it. All I had to do was change this line:</p>\n\n<pre><code>start = new Date(yyyy,mm,dd);\n</code></pre>\n\n<p>To this Line:</p>\n\n<pre><code>start = calendar.getTime();   \n</code></pre>\n"},{"tags":["java","android","enums","sensors","logcat"],"comments":[{"owner":{"account_id":284442,"reputation":5203,"user_id":582571,"accept_rate":43,"display_name":"rajpara"},"score":3,"creation_date":1326191597,"post_id":8801779,"comment_id":10981324,"body_markdown":"isn&#39;t &quot;getName()&quot; method working ??","body":"isn&#39;t &quot;getName()&quot; method working ??"}],"answers":[{"tags":[],"owner":{"account_id":1113792,"reputation":29041,"user_id":1103682,"display_name":"jeet"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1392760165,"creation_date":1326191651,"answer_id":8801842,"question_id":8801779,"body_markdown":"    Log.d(&quot;SENSORNAME&quot;, &quot;NAME: &quot; + tempSensor.name());","title":"Printing the enum&#39;s name","body":"<pre><code>Log.d(\"SENSORNAME\", \"NAME: \" + tempSensor.name());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38424,"reputation":5839,"user_id":110255,"accept_rate":83,"display_name":"chrisbunney"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1326192017,"creation_date":1326192017,"answer_id":8801921,"question_id":8801779,"body_markdown":"For enumerations, you can obtain an array of all the constants and loop over them very easily using code such as this:\r\n\r\n    for(YourEnum value: YourEnum.values()){\r\n        System.out.println(&quot;name=&quot;+value.name());\r\n    }\r\n\r\nHowever, the [Sensor][1] class you link to isn&#39;t an enumeration, but contains a list of constants. There&#39;s no way to programatically loop over that list like an enumeration without specifying all the constants names.\r\n\r\nHowever, you can create a static lookup that maps the ints to the String value you want to use, for example\r\n\r\n    Map&lt;Integer,String&gt; lookup = new HashMap&lt;Integer,String&gt;();\r\n    lookup.put(TYPE_ACCELEROMETER,&quot;Accelerometer&quot;);\r\n    //Code a put for each TYPE, with the string you want to use as the name\r\n\r\nYou can use this like this:\r\n\r\n    Log.d(&quot;SENSORTYPE&quot;,&quot;Type: &quot; + lookup.get(tempSensor.getType()));\r\n\r\nThis approach does mean you still have to write out each constant and update the list if the constants change, but you only have to do it once. It&#39;d be a good idea to wrap the lookup in some kind of helper method or class depending on how widely you want to reuse it.\r\n  [1]: http://developer.android.com/reference/android/hardware/Sensor.html","title":"Printing the enum&#39;s name","body":"<p>For enumerations, you can obtain an array of all the constants and loop over them very easily using code such as this:</p>\n\n<pre><code>for(YourEnum value: YourEnum.values()){\n    System.out.println(\"name=\"+value.name());\n}\n</code></pre>\n\n<p>However, the <a href=\"http://developer.android.com/reference/android/hardware/Sensor.html\" rel=\"noreferrer\">Sensor</a> class you link to isn't an enumeration, but contains a list of constants. There's no way to programatically loop over that list like an enumeration without specifying all the constants names.</p>\n\n<p>However, you can create a static lookup that maps the ints to the String value you want to use, for example</p>\n\n<pre><code>Map&lt;Integer,String&gt; lookup = new HashMap&lt;Integer,String&gt;();\nlookup.put(TYPE_ACCELEROMETER,\"Accelerometer\");\n//Code a put for each TYPE, with the string you want to use as the name\n</code></pre>\n\n<p>You can use this like this:</p>\n\n<pre><code>Log.d(\"SENSORTYPE\",\"Type: \" + lookup.get(tempSensor.getType()));\n</code></pre>\n\n<p>This approach does mean you still have to write out each constant and update the list if the constants change, but you only have to do it once. It'd be a good idea to wrap the lookup in some kind of helper method or class depending on how widely you want to reuse it.</p>\n"},{"tags":[],"owner":{"account_id":435799,"reputation":22985,"user_id":822588,"accept_rate":94,"display_name":"Sleiman Jneidi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1400064013,"creation_date":1326192584,"answer_id":8802047,"question_id":8801779,"body_markdown":"you can introduce an `abstract` method and implement it in every `enumeration` \r\n\r\n    enum Colour {\r\n\r\n    Red {\r\n\r\n        @Override\r\n        String colourName() {\r\n            return &quot;Red&quot;;\r\n        }\r\n    };\r\n\r\n    abstract String colourName();\r\n    }\r\nThis way gives you more flexibility, for example, if you don&#39;t want to display its programmatic name","title":"Printing the enum&#39;s name","body":"<p>you can introduce an <code>abstract</code> method and implement it in every <code>enumeration</code> </p>\n\n<pre><code>enum Colour {\n\nRed {\n\n    @Override\n    String colourName() {\n        return \"Red\";\n    }\n};\n\nabstract String colourName();\n}\n</code></pre>\n\n<p>This way gives you more flexibility, for example, if you don't want to display its programmatic name</p>\n"}],"owner":{"account_id":1080166,"reputation":11891,"user_id":1077364,"accept_rate":100,"display_name":"vgonisanz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30469,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":8801921,"answer_count":3,"score":11,"last_activity_date":1645857688,"creation_date":1326191328,"question_id":8801779,"body_markdown":"I&#39;m using eclipse + Android SDK on Ubuntu.\r\n\r\nI would like to print the name of a sensor type device, there a [a lot of them][1] and I want to do it automatically.\r\n\r\nIf I use a \r\n\r\n    Log.d(&quot;SENSORTYPE&quot;,&quot;Type: &quot; + tempSensor.getType())\r\n\r\nI print the (int) type, but I would like the name of the enum.\r\n\r\nHow could I do that?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/hardware/Sensor.html","title":"Printing the enum&#39;s name","body":"<p>I'm using eclipse + Android SDK on Ubuntu.</p>\n<p>I would like to print the name of a sensor type device, there a <a href=\"http://developer.android.com/reference/android/hardware/Sensor.html\" rel=\"nofollow noreferrer\">a lot of them</a> and I want to do it automatically.</p>\n<p>If I use a</p>\n<pre><code>Log.d(&quot;SENSORTYPE&quot;,&quot;Type: &quot; + tempSensor.getType())\n</code></pre>\n<p>I print the (int) type, but I would like the name of the enum.</p>\n<p>How could I do that?</p>\n"},{"tags":["java","android","android-layout","android-fragments"],"answers":[{"tags":[],"owner":{"account_id":18346457,"reputation":576,"user_id":13361561,"display_name":"Pleaser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645857646,"creation_date":1645857646,"answer_id":71274615,"question_id":71222219,"body_markdown":"You should check that your container layout has `app:layout_behavior=&quot;@string/bottom_sheet_behavior&quot;&gt;` and check that any listener/event you define extra, otherwise BottomSheetDialog normally behaive as you expect.","title":"BottomSheetDialogFragment behaviour disorder when added nested fragment in Android","body":"<p>You should check that your container layout has <code>app:layout_behavior=&quot;@string/bottom_sheet_behavior&quot;&gt;</code> and check that any listener/event you define extra, otherwise BottomSheetDialog normally behaive as you expect.</p>\n"}],"owner":{"account_id":4782384,"reputation":280,"user_id":3863756,"accept_rate":86,"display_name":"ATES"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71274615,"answer_count":1,"score":1,"last_activity_date":1645857646,"creation_date":1645536546,"question_id":71222219,"body_markdown":"I&#39;ve a BottomSheetDialogFragment inside a RecyclerView, when is clicked a button BottomSheet is showing. BottomSheetDialog expanding when scrolling down and collapsing when scroll finished on top normally.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut when I place the RecyclerView inside a fragment and lay the fragment to BottomSheetDialog; BottomSheet behaviours not working on the fragment, only works RecyclerView scrolling. On the other hand the behaviours work other places on BottomSheet. How to enable the behaviours as in the first?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q0VaD.gif","title":"BottomSheetDialogFragment behaviour disorder when added nested fragment in Android","body":"<p>I've a BottomSheetDialogFragment inside a RecyclerView, when is clicked a button BottomSheet is showing. BottomSheetDialog expanding when scrolling down and collapsing when scroll finished on top normally.</p>\n<p><a href=\"https://i.stack.imgur.com/q0VaD.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q0VaD.gif\" alt=\"enter image description here\" /></a></p>\n<p>But when I place the RecyclerView inside a fragment and lay the fragment to BottomSheetDialog; BottomSheet behaviours not working on the fragment, only works RecyclerView scrolling. On the other hand the behaviours work other places on BottomSheet. How to enable the behaviours as in the first?</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1645855349,"post_id":71274427,"comment_id":125985795,"body_markdown":"It&#39;s because of your `toString()` method. If you need that override to be there, you need to explicitly call the `name()` method on each enum to get the literal name of each value. You can also create a `getName()` getter for your custom attribute, and call that where you&#39;re currently calling `toString()`. That will remove the default printing of name attributes where `toString` is being called implicitly.","body":"It&#39;s because of your <code>toString()</code> method. If you need that override to be there, you need to explicitly call the <code>name()</code> method on each enum to get the literal name of each value. You can also create a <code>getName()</code> getter for your custom attribute, and call that where you&#39;re currently calling <code>toString()</code>. That will remove the default printing of name attributes where <code>toString</code> is being called implicitly."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645857540,"creation_date":1645855600,"answer_id":71274456,"question_id":71274427,"body_markdown":"# tl;dr\r\n\r\nFor a quick simple workaround, see the correct [Answer by Mark Rotteveel][1]. \r\n\r\nOr, revamp your enum class to define a `getDisplayName` method rather than overriding `toString`. \r\n\r\n# `toString` is not for user-interface\r\n\r\nYour Question is a good example of abusing the override of [`Object#toString`][2] method. \r\n\r\nThe `toString` method is designed for use in debugging and logging. Generally *not* intended for use in the user-interface.\r\n\r\nFor enums, I would generally advise not overriding `toString`. \r\n\r\n## `getDisplayName`\r\n\r\nInstead, **add another method to the enum** class for the purpose of accessing a name meant for display in the user-interface.\r\n\r\nCommonly, such a method is called `getDisplayName`. For example, [`Month#getDisplayName`][3] and [`DayOfWeek#getDisplayName`][4].\r\n\r\nBy the way, an enum should generally be named in the singular.\r\n\r\nTip: Name your parameters descriptively. IDEs commonly display the parameter name in the code editor as a prompt. So `NickName( final String displayName )` rather than `NickName( final String s )`.\r\n\r\nHere is some untested example code.\r\n\r\n```java\r\npublic enum NickName\r\n\r\n{\r\n    JENNIFER( &quot;Jenny&quot; ) ,\r\n    MICHAEL( &quot;Mike&quot; ) ,\r\n    WILLIAM( &quot;Will&quot; ) ;\r\n\r\n    // Member fields.\r\n    private final String displayName;\r\n\r\n    // Constructors.\r\n    NickName( final String displayName ) {\r\n        // Verify argument.\r\n        Objects.requireNonNull( displayName ) ;  \r\n        if( displayName.isBlank() ) { throw new IllegalArgumentException() ; }\r\n        // Remember argument.\r\n        this.name = displayName ;\r\n    }\r\n\r\n    // Accessors.\r\n    public String getDisplayName() {\r\n        return this.displayName ;\r\n    }\r\n}\r\n```\r\n\r\nBy the way, your `getNickNames` method is probably not necessary. In modern Java, the calling programmer could just as well write something like this untested code:\r\n\r\n    String[] nickNames = Arrays.stream( NickName.values() ).map( NickName :: getDisplayName ).toArray() ;\r\n\r\nIf you believe that to be too much for your particular calling programmers, I suggest changing your implementation of `getNickNames` to be that one-liner. I found that method’s code in your Question to be difficult to read and comprehend.\r\n\r\nAnd change the name of that method to `getDisplayNames` for consistency and clarity.\r\n\r\n```java\r\n    public static String[] getDisplayNames() {\r\n        return\r\n                Arrays\r\n               .stream( NickName.values() )\r\n               .map( NickName :: getDisplayName )\r\n               .toArray()\r\n    }\r\n```\r\n\r\n# Print all enum objects’ name\r\n\r\nYou said:\r\n\r\n&gt;I want to print\r\n&gt;\r\n&gt;`JENNIFER MICHAEL WILLIAM`\r\n\r\nSimply call [`String.join`][5] to combine each enum object name.\r\n\r\n    String output = String.join( &quot; &quot; , NickName.values() ) ;\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71274572/642706\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)","title":"How to print enum constants","body":"<h1>tl;dr</h1>\n<p>For a quick simple workaround, see the correct <a href=\"https://stackoverflow.com/a/71274572/642706\">Answer by Mark Rotteveel</a>.</p>\n<p>Or, revamp your enum class to define a <code>getDisplayName</code> method rather than overriding <code>toString</code>.</p>\n<h1><code>toString</code> is not for user-interface</h1>\n<p>Your Question is a good example of abusing the override of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\"><code>Object#toString</code></a> method.</p>\n<p>The <code>toString</code> method is designed for use in debugging and logging. Generally <em>not</em> intended for use in the user-interface.</p>\n<p>For enums, I would generally advise not overriding <code>toString</code>.</p>\n<h2><code>getDisplayName</code></h2>\n<p>Instead, <strong>add another method to the enum</strong> class for the purpose of accessing a name meant for display in the user-interface.</p>\n<p>Commonly, such a method is called <code>getDisplayName</code>. For example, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/Month.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>Month#getDisplayName</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/DayOfWeek.html#getDisplayName(java.time.format.TextStyle,java.util.Locale)\" rel=\"nofollow noreferrer\"><code>DayOfWeek#getDisplayName</code></a>.</p>\n<p>By the way, an enum should generally be named in the singular.</p>\n<p>Tip: Name your parameters descriptively. IDEs commonly display the parameter name in the code editor as a prompt. So <code>NickName( final String displayName )</code> rather than <code>NickName( final String s )</code>.</p>\n<p>Here is some untested example code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum NickName\n\n{\n    JENNIFER( &quot;Jenny&quot; ) ,\n    MICHAEL( &quot;Mike&quot; ) ,\n    WILLIAM( &quot;Will&quot; ) ;\n\n    // Member fields.\n    private final String displayName;\n\n    // Constructors.\n    NickName( final String displayName ) {\n        // Verify argument.\n        Objects.requireNonNull( displayName ) ;  \n        if( displayName.isBlank() ) { throw new IllegalArgumentException() ; }\n        // Remember argument.\n        this.name = displayName ;\n    }\n\n    // Accessors.\n    public String getDisplayName() {\n        return this.displayName ;\n    }\n}\n</code></pre>\n<p>By the way, your <code>getNickNames</code> method is probably not necessary. In modern Java, the calling programmer could just as well write something like this untested code:</p>\n<pre><code>String[] nickNames = Arrays.stream( NickName.values() ).map( NickName :: getDisplayName ).toArray() ;\n</code></pre>\n<p>If you believe that to be too much for your particular calling programmers, I suggest changing your implementation of <code>getNickNames</code> to be that one-liner. I found that method’s code in your Question to be difficult to read and comprehend.</p>\n<p>And change the name of that method to <code>getDisplayNames</code> for consistency and clarity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static String[] getDisplayNames() {\n        return\n                Arrays\n               .stream( NickName.values() )\n               .map( NickName :: getDisplayName )\n               .toArray()\n    }\n</code></pre>\n<h1>Print all enum objects’ name</h1>\n<p>You said:</p>\n<blockquote>\n<p>I want to print</p>\n<p><code>JENNIFER MICHAEL WILLIAM</code></p>\n</blockquote>\n<p>Simply call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\"><code>String.join</code></a> to combine each enum object name.</p>\n<pre><code>String output = String.join( &quot; &quot; , NickName.values() ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645857358,"creation_date":1645857074,"answer_id":71274572,"question_id":71274427,"body_markdown":"You can use [`name()`][1] to print the constant name of the enum:\r\n\r\n&gt; Returns the name of this enum constant, exactly as declared in its enum declaration.\r\n\r\nFor example:\r\n\r\n```java\r\nString concatenatedNickNames = Arrays.stream(NickNames.values())\r\n    .map(NickNames::name)\r\n    .collect(Collectors.joining(&quot; &quot;));\r\nSystem.out.println(concatenatedNickNames );\r\n```\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#name()","title":"How to print enum constants","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Enum.html#name()\" rel=\"nofollow noreferrer\"><code>name()</code></a> to print the constant name of the enum:</p>\n<blockquote>\n<p>Returns the name of this enum constant, exactly as declared in its enum declaration.</p>\n</blockquote>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String concatenatedNickNames = Arrays.stream(NickNames.values())\n    .map(NickNames::name)\n    .collect(Collectors.joining(&quot; &quot;));\nSystem.out.println(concatenatedNickNames );\n</code></pre>\n"}],"owner":{"account_id":11927886,"reputation":37,"user_id":9358035,"display_name":"ITGirl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1191,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1645857540,"creation_date":1645855195,"question_id":71274427,"body_markdown":"I have an enum class that I cannot modify.  I want to print \r\n\r\nJENNIFER \r\nMICHAEL\r\nWILLIAM \r\n\r\nIn the Main class that is accessing this Enum class I keep getting this output:\r\n\r\nJenny\r\nMike\r\nWill\r\n\r\nWhat code can I write in my Main class to get the output I want?\r\n\r\n```java\r\npublic enum NickNames\r\n\r\n{\r\n\tJENNIFER(&quot;Jenny&quot;),\r\n\tMICHAEL(&quot;Mike&quot;),\r\n\tWILLIAM(&quot;Will&quot;);\r\n\r\nprivate final String name;\r\n\r\nNickNames(String s) {\r\n\tthis.name = s;\r\n  }\r\n\r\npublic String toString() {\r\n\t  return this.name;\r\n  }\r\n\r\npublic static String[] getNickNames() {\r\n\t  String[] output = new String[(values()).length];\r\n\t  int i = 0; byte b; int j; NickNames[] arrayOfNickNames;\r\n\t  \r\n\t  for (j = (arrayOfNickNames = values()).length, b = 0; b &lt; j; ) {\r\n\t\t NickNames h = arrayOfNickNames[b];\r\n\t  \toutput[i++] = h.toString(); b++; \r\n\t  }\r\n\t  \r\n\t  return output;\r\n  }\r\n}\r\n```\r\n\r\nHere&#39;s an example of code that is getting the wrong output.\r\n```\r\nNickNames[] nn = NickNames.values();\r\nSystem.out.printf(Arrays.toString(nn));","title":"How to print enum constants","body":"<p>I have an enum class that I cannot modify.  I want to print</p>\n<p>JENNIFER\nMICHAEL\nWILLIAM</p>\n<p>In the Main class that is accessing this Enum class I keep getting this output:</p>\n<p>Jenny\nMike\nWill</p>\n<p>What code can I write in my Main class to get the output I want?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum NickNames\n\n{\n    JENNIFER(&quot;Jenny&quot;),\n    MICHAEL(&quot;Mike&quot;),\n    WILLIAM(&quot;Will&quot;);\n\nprivate final String name;\n\nNickNames(String s) {\n    this.name = s;\n  }\n\npublic String toString() {\n      return this.name;\n  }\n\npublic static String[] getNickNames() {\n      String[] output = new String[(values()).length];\n      int i = 0; byte b; int j; NickNames[] arrayOfNickNames;\n      \n      for (j = (arrayOfNickNames = values()).length, b = 0; b &lt; j; ) {\n         NickNames h = arrayOfNickNames[b];\n        output[i++] = h.toString(); b++; \n      }\n      \n      return output;\n  }\n}\n</code></pre>\n<p>Here's an example of code that is getting the wrong output.</p>\n<pre><code>NickNames[] nn = NickNames.values();\nSystem.out.printf(Arrays.toString(nn));\n</code></pre>\n"},{"tags":["java","jarsigner","amazon-linux-2"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1645839245,"post_id":71273219,"comment_id":125984049,"body_markdown":"The binary is likely installed, you just don&#39;t have the symbolic link.  Did you look for it in `/usr/lib/jvm/`?","body":"The binary is likely installed, you just don&#39;t have the symbolic link.  Did you look for it in <code>&#47;usr&#47;lib&#47;jvm&#47;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645856296,"creation_date":1645856296,"answer_id":71274512,"question_id":71273219,"body_markdown":"It appears Amazon follows the RedHat packaging scheme with JRE and JDK separated, as Sun/Oracle used to (and the JRE split into GUI and &#39;headless&#39;, not an issue for you):\r\n```\r\n$ yum list &#39;java-11-openjdk*&#39;\r\nLoaded plugins: extras_suggestions, langpacks, priorities, update-motd\r\nInstalled Packages\r\njava-11-openjdk.x86_64                   1:11.0.13.0.8-1.amzn2.0.3 @amzn2extra-java-openjdk11\r\njava-11-openjdk-headless.x86_64          1:11.0.13.0.8-1.amzn2.0.3 @amzn2extra-java-openjdk11\r\nAvailable Packages\r\njava-11-openjdk-debug.x86_64             1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-demo.x86_64              1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-demo-debug.x86_64        1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-devel.x86_64             1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-devel-debug.x86_64       1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-headless-debug.x86_64    1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-javadoc.x86_64           1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-javadoc-debug.x86_64     1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-javadoc-zip.x86_64       1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-javadoc-zip-debug.x86_64 1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-jmods.x86_64             1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-jmods-debug.x86_64       1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-src.x86_64               1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-src-debug.x86_64         1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-static-libs.x86_64       1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\njava-11-openjdk-static-libs-debug.x86_64 1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\r\n```\r\n\r\n`sudo yum install java-11-openjdk-devel` should do it.\r\n","title":"How do I install jarsigner on Amazon Linux 2?","body":"<p>It appears Amazon follows the RedHat packaging scheme with JRE and JDK separated, as Sun/Oracle used to (and the JRE split into GUI and 'headless', not an issue for you):</p>\n<pre><code>$ yum list 'java-11-openjdk*'\nLoaded plugins: extras_suggestions, langpacks, priorities, update-motd\nInstalled Packages\njava-11-openjdk.x86_64                   1:11.0.13.0.8-1.amzn2.0.3 @amzn2extra-java-openjdk11\njava-11-openjdk-headless.x86_64          1:11.0.13.0.8-1.amzn2.0.3 @amzn2extra-java-openjdk11\nAvailable Packages\njava-11-openjdk-debug.x86_64             1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-demo.x86_64              1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-demo-debug.x86_64        1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-devel.x86_64             1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-devel-debug.x86_64       1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-headless-debug.x86_64    1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-javadoc.x86_64           1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-javadoc-debug.x86_64     1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-javadoc-zip.x86_64       1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-javadoc-zip-debug.x86_64 1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-jmods.x86_64             1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-jmods-debug.x86_64       1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-src.x86_64               1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-src-debug.x86_64         1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-static-libs.x86_64       1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\njava-11-openjdk-static-libs-debug.x86_64 1:11.0.13.0.8-1.amzn2.0.3 amzn2extra-java-openjdk11\n</code></pre>\n<p><code>sudo yum install java-11-openjdk-devel</code> should do it.</p>\n"}],"owner":{"account_id":1534948,"reputation":2467,"user_id":1431252,"accept_rate":100,"display_name":"Cody"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":756,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71274512,"answer_count":1,"score":1,"last_activity_date":1645856296,"creation_date":1645837130,"question_id":71273219,"body_markdown":"My understanding is that jarsigner is packaged with OpenJDK, which I&#39;ve installed by running\r\n\r\n    sudo amazon-linux-extras install java-openjdk11\r\n\r\nNow I have a bunch of synlinks to the jdk, like so:\r\n```\r\n$ ll /etc/alternatives/jre*\r\nlrwxrwxrwx 1 root root 60 Feb 16 01:00 /etc/alternatives/jre -&gt; /usr/lib/jvm/java-11-openjdk-11.0.13.0.8-1.amzn2.0.3.aarch64\r\nlrwxrwxrwx 1 root root 60 Feb 16 01:00 /etc/alternatives/jre_11 -&gt; /usr/lib/jvm/java-11-openjdk-11.0.13.0.8-1.amzn2.0.3.aarch64\r\nlrwxrwxrwx 1 root root 59 Feb 16 01:00 /etc/alternatives/jre_11_openjdk -&gt; /usr/lib/jvm/jre-11-openjdk-11.0.13.0.8-1.amzn2.0.3.aarch64\r\nlrwxrwxrwx 1 root root 60 Feb 16 01:00 /etc/alternatives/jre_openjdk -&gt; /usr/lib/jvm/java-11-openjdk-11.0.13.0.8-1.amzn2.0.3.aarch64\r\n```\r\nHowever, I don&#39;t have jarsigner in the bin directory:\r\n```\r\n$ ll /etc/alternatives/jre/bin\r\ntotal 656\r\n-rwxr-xr-x 1 root root  71368 Dec 17 12:16 alt-java\r\n-rwxr-xr-x 1 root root  71360 Dec 17 12:16 java\r\n-rwxr-xr-x 1 root root  71392 Dec 17 12:16 jjs\r\n-rwxr-xr-x 1 root root  71384 Dec 17 12:16 keytool\r\n-rwxr-xr-x 1 root root  71384 Dec 17 12:16 pack200\r\n-rwxr-xr-x 1 root root  71376 Dec 17 12:16 rmid\r\n-rwxr-xr-x 1 root root  71384 Dec 17 12:16 rmiregistry\r\n-rwxr-xr-x 1 root root 152440 Dec 17 12:16 unpack200\r\n```\r\nWhat else do I need to do to install this binary?","title":"How do I install jarsigner on Amazon Linux 2?","body":"<p>My understanding is that jarsigner is packaged with OpenJDK, which I've installed by running</p>\n<pre><code>sudo amazon-linux-extras install java-openjdk11\n</code></pre>\n<p>Now I have a bunch of synlinks to the jdk, like so:</p>\n<pre><code>$ ll /etc/alternatives/jre*\nlrwxrwxrwx 1 root root 60 Feb 16 01:00 /etc/alternatives/jre -&gt; /usr/lib/jvm/java-11-openjdk-11.0.13.0.8-1.amzn2.0.3.aarch64\nlrwxrwxrwx 1 root root 60 Feb 16 01:00 /etc/alternatives/jre_11 -&gt; /usr/lib/jvm/java-11-openjdk-11.0.13.0.8-1.amzn2.0.3.aarch64\nlrwxrwxrwx 1 root root 59 Feb 16 01:00 /etc/alternatives/jre_11_openjdk -&gt; /usr/lib/jvm/jre-11-openjdk-11.0.13.0.8-1.amzn2.0.3.aarch64\nlrwxrwxrwx 1 root root 60 Feb 16 01:00 /etc/alternatives/jre_openjdk -&gt; /usr/lib/jvm/java-11-openjdk-11.0.13.0.8-1.amzn2.0.3.aarch64\n</code></pre>\n<p>However, I don't have jarsigner in the bin directory:</p>\n<pre><code>$ ll /etc/alternatives/jre/bin\ntotal 656\n-rwxr-xr-x 1 root root  71368 Dec 17 12:16 alt-java\n-rwxr-xr-x 1 root root  71360 Dec 17 12:16 java\n-rwxr-xr-x 1 root root  71392 Dec 17 12:16 jjs\n-rwxr-xr-x 1 root root  71384 Dec 17 12:16 keytool\n-rwxr-xr-x 1 root root  71384 Dec 17 12:16 pack200\n-rwxr-xr-x 1 root root  71376 Dec 17 12:16 rmid\n-rwxr-xr-x 1 root root  71384 Dec 17 12:16 rmiregistry\n-rwxr-xr-x 1 root root 152440 Dec 17 12:16 unpack200\n</code></pre>\n<p>What else do I need to do to install this binary?</p>\n"},{"tags":["java","android","screen-rotation","onsaveinstancestate","onrestoreinstancestate"],"comments":[{"owner":{"account_id":23616470,"reputation":2135,"user_id":17650498,"display_name":"plplmax"},"score":0,"creation_date":1645261148,"post_id":71182286,"comment_id":125827741,"body_markdown":"Please add your XML layout and specify the view IDs that are not saved. Also, show the declaration of the finalAmount variable.","body":"Please add your XML layout and specify the view IDs that are not saved. Also, show the declaration of the finalAmount variable."},{"owner":{"account_id":22393355,"reputation":41,"user_id":16605008,"display_name":"ryan"},"score":0,"creation_date":1645265069,"post_id":71182286,"comment_id":125828432,"body_markdown":"Hi @plplmax, can i reach out to u personally, I can send u the whole file, it&#39;s much easier that way.","body":"Hi @plplmax, can i reach out to u personally, I can send u the whole file, it&#39;s much easier that way."},{"owner":{"account_id":23616470,"reputation":2135,"user_id":17650498,"display_name":"plplmax"},"score":0,"creation_date":1645286076,"post_id":71182286,"comment_id":125832845,"body_markdown":"It would be better if you edit this answer instead, because other people can learn from your experience :)","body":"It would be better if you edit this answer instead, because other people can learn from your experience :)"},{"owner":{"account_id":22393355,"reputation":41,"user_id":16605008,"display_name":"ryan"},"score":0,"creation_date":1645287923,"post_id":71182286,"comment_id":125833259,"body_markdown":"I would have, but the code is a bit private &amp; confidential for me to post it here.","body":"I would have, but the code is a bit private &amp; confidential for me to post it here."},{"owner":{"account_id":23616470,"reputation":2135,"user_id":17650498,"display_name":"plplmax"},"score":0,"creation_date":1645294343,"post_id":71182286,"comment_id":125834900,"body_markdown":"You don&#39;t need to publish the whole code, you can publish only the xml layout and specify the view IDs that need to be saved.","body":"You don&#39;t need to publish the whole code, you can publish only the xml layout and specify the view IDs that need to be saved."},{"owner":{"account_id":22393355,"reputation":41,"user_id":16605008,"display_name":"ryan"},"score":0,"creation_date":1645326265,"post_id":71182286,"comment_id":125840346,"body_markdown":"I&#39;ve just updated it, you can take a look.","body":"I&#39;ve just updated it, you can take a look."}],"answers":[{"tags":[],"owner":{"account_id":23616470,"reputation":2135,"user_id":17650498,"display_name":"plplmax"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645856139,"creation_date":1645476553,"answer_id":71212864,"question_id":71182286,"body_markdown":"Is that what you need? You can add double values parsing if necessary.\r\n\r\n```\r\n    private static final String NUM_OF_SPLITS_KEY = &quot;num_of_splits_key&quot;;\r\n    private static final String SELECTED_BUTTON_KEY = &quot;selected_button_key&quot;;\r\n    private static final String TOTAL_PER_PERSON_KEY = &quot;total_per_person_key&quot;;\r\n    private static final String TOTAL_BILL_KEY = &quot;total_bill_key&quot;;\r\n    private static final String TOTAL_TIP_KEY = &quot;total_tip_key&quot;;\r\n\r\n    @Override\r\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n        Log.d(TAG, &quot;onSaveInstanceState: Started&quot;);\r\n\r\n        String textNumOfSplits = txtNumOfSplits.getText().toString();\r\n        int numOfSplits = Integer.parseInt(textNumOfSplits);\r\n        outState.putInt(NUM_OF_SPLITS_KEY, numOfSplits);\r\n\r\n        int selectedButtonId = 0;\r\n\r\n        if (btn_10.isSelected()) selectedButtonId = R.id.btn_10;\r\n        else if (btn_15.isSelected()) selectedButtonId = R.id.btn_15;\r\n        else if (btn_20.isSelected()) selectedButtonId = R.id.btn_20;\r\n\r\n        outState.putInt(SELECTED_BUTTON_KEY, selectedButtonId);\r\n\r\n        outState.putString(TOTAL_PER_PERSON_KEY, txtTotalPerPerson.getText().toString());\r\n        outState.putString(TOTAL_BILL_KEY, txtTotalBill.getText().toString());\r\n        outState.putString(TOTAL_TIP_KEY, txtTotalTip.getText().toString());\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onRestoreInstanceState(@NonNull Bundle savedInstanceState) {\r\n        super.onRestoreInstanceState(savedInstanceState);\r\n        Log.d(TAG, &quot;onRestoreInstanceState: Started&quot;);\r\n\r\n        int numOfSplits = savedInstanceState.getInt(NUM_OF_SPLITS_KEY);\r\n        txtNumOfSplits.setText(numOfSplits + &quot;&quot;);\r\n\r\n        String selectedButtonId = savedInstanceState.getInt(SELECTED_BUTTON_KEY);\r\n\r\n        if (selectedButtonId == btn_10.getId()) selectButton(btn_10);\r\n        else if (selectedButtonId == btn_15.getId()) selectButton(btn_15);\r\n        else if (selectedButtonId == btn_20.getId()) selectButton(btn_20);\r\n\r\n        String totalPerPerson = savedInstanceState.getString(TOTAL_PER_PERSON_KEY);\r\n        txtTotalPerPerson.setText(totalPerPerson);\r\n\r\n        String totalBill = savedInstanceState.getString(TOTAL_BILL_KEY);\r\n        txtTotalBill.setText(totalBill);\r\n\r\n        String totalTip = savedInstanceState.getString(TOTAL_TIP_KEY);\r\n        txtTotalTip.setText(totalTip);\r\n    }\r\n\r\n    private void selectButton(@NonNull Button button) {\r\n        button.setSelected(true);\r\n    }\r\n```","title":"How to fix my onSaveInstanceState and onRestoreInstanceState?","body":"<p>Is that what you need? You can add double values parsing if necessary.</p>\n<pre><code>    private static final String NUM_OF_SPLITS_KEY = &quot;num_of_splits_key&quot;;\n    private static final String SELECTED_BUTTON_KEY = &quot;selected_button_key&quot;;\n    private static final String TOTAL_PER_PERSON_KEY = &quot;total_per_person_key&quot;;\n    private static final String TOTAL_BILL_KEY = &quot;total_bill_key&quot;;\n    private static final String TOTAL_TIP_KEY = &quot;total_tip_key&quot;;\n\n    @Override\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\n        super.onSaveInstanceState(outState);\n        Log.d(TAG, &quot;onSaveInstanceState: Started&quot;);\n\n        String textNumOfSplits = txtNumOfSplits.getText().toString();\n        int numOfSplits = Integer.parseInt(textNumOfSplits);\n        outState.putInt(NUM_OF_SPLITS_KEY, numOfSplits);\n\n        int selectedButtonId = 0;\n\n        if (btn_10.isSelected()) selectedButtonId = R.id.btn_10;\n        else if (btn_15.isSelected()) selectedButtonId = R.id.btn_15;\n        else if (btn_20.isSelected()) selectedButtonId = R.id.btn_20;\n\n        outState.putInt(SELECTED_BUTTON_KEY, selectedButtonId);\n\n        outState.putString(TOTAL_PER_PERSON_KEY, txtTotalPerPerson.getText().toString());\n        outState.putString(TOTAL_BILL_KEY, txtTotalBill.getText().toString());\n        outState.putString(TOTAL_TIP_KEY, txtTotalTip.getText().toString());\n\n    }\n\n    @Override\n    protected void onRestoreInstanceState(@NonNull Bundle savedInstanceState) {\n        super.onRestoreInstanceState(savedInstanceState);\n        Log.d(TAG, &quot;onRestoreInstanceState: Started&quot;);\n\n        int numOfSplits = savedInstanceState.getInt(NUM_OF_SPLITS_KEY);\n        txtNumOfSplits.setText(numOfSplits + &quot;&quot;);\n\n        String selectedButtonId = savedInstanceState.getInt(SELECTED_BUTTON_KEY);\n\n        if (selectedButtonId == btn_10.getId()) selectButton(btn_10);\n        else if (selectedButtonId == btn_15.getId()) selectButton(btn_15);\n        else if (selectedButtonId == btn_20.getId()) selectButton(btn_20);\n\n        String totalPerPerson = savedInstanceState.getString(TOTAL_PER_PERSON_KEY);\n        txtTotalPerPerson.setText(totalPerPerson);\n\n        String totalBill = savedInstanceState.getString(TOTAL_BILL_KEY);\n        txtTotalBill.setText(totalBill);\n\n        String totalTip = savedInstanceState.getString(TOTAL_TIP_KEY);\n        txtTotalTip.setText(totalTip);\n    }\n\n    private void selectButton(@NonNull Button button) {\n        button.setSelected(true);\n    }\n</code></pre>\n"}],"owner":{"account_id":22393355,"reputation":41,"user_id":16605008,"display_name":"ryan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71212864,"answer_count":1,"score":0,"last_activity_date":1645856139,"creation_date":1645246648,"question_id":71182286,"body_markdown":"I&#39;m trying to save all the values &amp; clicks from user during screen rotation, but my button click and text view isn&#39;t working. I&#39;ve spent so many hours trying to figure out what to write inside this method and none of them worked. The input from Select your Tip button and textView output isn&#39;t being saved at the moment. [![Image of App][1]][1]\r\n\r\n    @Override\r\n        protected void onSaveInstanceState(@NonNull Bundle outState) {\r\n            super.onSaveInstanceState(outState);\r\n            Log.d(TAG, &quot;onSaveInstanceState: Started&quot;);\r\n            String text = txtNumOfSplits.getText().toString();\r\n            int no = Integer.parseInt(text);\r\n            outState.putInt(&quot;count&quot;, no);\r\n    \r\n            String num_of_splits = txtNumOfSplits.getText().toString();\r\n    \r\n            //Convert String to Integer\r\n            int no2 = Integer.parseInt(num_of_splits);\r\n            outState.putInt(&quot;count&quot;, no2);\r\n    \r\n            money = Double.parseDouble(edtBillAmount.getText().toString());\r\n            outState.putString(&quot;bill&quot;, String.valueOf(money));\r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onRestoreInstanceState(@NonNull Bundle savedInstanceState) {\r\n            super.onRestoreInstanceState(savedInstanceState);\r\n            Log.d(TAG, &quot;onRestoreInstanceState: Started&quot;);\r\n    \r\n            String text = txtNumOfSplits.getText().toString();\r\n            int no = savedInstanceState.getInt(&quot;count&quot;);\r\n            txtNumOfSplits.setText(no + &quot;&quot;);\r\n    \r\n    \r\n            money = Double.parseDouble(edtBillAmount.getText().toString());\r\n            String money = savedInstanceState.getString(&quot;bill&quot;);\r\n            txtTotalBill.setText(&quot;Total Bill\\n$&quot; + finalAmount.toString());\r\n    \r\n        }\r\n\r\n        btn_add = findViewById(R.id.btn_add);\r\n        btn_subtract = findViewById(R.id.btn_subtract);\r\n        btn_20 = findViewById(R.id.btn_20);\r\n        btn_15 = findViewById(R.id.btn_15);\r\n        btn_10 =findViewById(R.id.btn_10);\r\n        btn_calculate = findViewById(R.id.btn_calculate);\r\n        btn_reset = findViewById(R.id.btn_reset);\r\n\r\n        txtBill = findViewById(R.id.txtBill);\r\n        txtTip = findViewById(R.id.txtTip);\r\n        txtSplit = findViewById(R.id.txtSplit);\r\n        txtRoundUp = findViewById(R.id.txtRoundUp);\r\n        txtNumOfSplits = findViewById(R.id.txtNumOfSplits);\r\n        txtTotalHeading = findViewById(R.id.txtTotalHeading);\r\n        txtTotalPerPerson = findViewById(R.id.txtTotalPerPerson);\r\n        txtTotalBill = findViewById(R.id.txtTotalBill);\r\n        txtTotalTip = findViewById(R.id.txtTotalTip);\r\n        txt_switch_error = findViewById(R.id.txt_switch_error);\r\n\r\n        switchRoundUp = (Switch) findViewById(R.id.switchRoundUp);\r\n        switchRoundDown = (Switch) findViewById(R.id.switchRoundDown);\r\n\r\n        edtBillAmount = findViewById(R.id.edtBillAmount);\r\n\r\n        horizontalLine = findViewById(R.id.horizontalLine);\r\n\r\n  [1]: https://i.stack.imgur.com/oc6Jl.jpg","title":"How to fix my onSaveInstanceState and onRestoreInstanceState?","body":"<p>I'm trying to save all the values &amp; clicks from user during screen rotation, but my button click and text view isn't working. I've spent so many hours trying to figure out what to write inside this method and none of them worked. The input from Select your Tip button and textView output isn't being saved at the moment. <a href=\"https://i.stack.imgur.com/oc6Jl.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oc6Jl.jpg\" alt=\"Image of App\" /></a></p>\n<pre><code>@Override\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\n        super.onSaveInstanceState(outState);\n        Log.d(TAG, &quot;onSaveInstanceState: Started&quot;);\n        String text = txtNumOfSplits.getText().toString();\n        int no = Integer.parseInt(text);\n        outState.putInt(&quot;count&quot;, no);\n\n        String num_of_splits = txtNumOfSplits.getText().toString();\n\n        //Convert String to Integer\n        int no2 = Integer.parseInt(num_of_splits);\n        outState.putInt(&quot;count&quot;, no2);\n\n        money = Double.parseDouble(edtBillAmount.getText().toString());\n        outState.putString(&quot;bill&quot;, String.valueOf(money));\n\n    }\n\n    @Override\n    protected void onRestoreInstanceState(@NonNull Bundle savedInstanceState) {\n        super.onRestoreInstanceState(savedInstanceState);\n        Log.d(TAG, &quot;onRestoreInstanceState: Started&quot;);\n\n        String text = txtNumOfSplits.getText().toString();\n        int no = savedInstanceState.getInt(&quot;count&quot;);\n        txtNumOfSplits.setText(no + &quot;&quot;);\n\n\n        money = Double.parseDouble(edtBillAmount.getText().toString());\n        String money = savedInstanceState.getString(&quot;bill&quot;);\n        txtTotalBill.setText(&quot;Total Bill\\n$&quot; + finalAmount.toString());\n\n    }\n\n    btn_add = findViewById(R.id.btn_add);\n    btn_subtract = findViewById(R.id.btn_subtract);\n    btn_20 = findViewById(R.id.btn_20);\n    btn_15 = findViewById(R.id.btn_15);\n    btn_10 =findViewById(R.id.btn_10);\n    btn_calculate = findViewById(R.id.btn_calculate);\n    btn_reset = findViewById(R.id.btn_reset);\n\n    txtBill = findViewById(R.id.txtBill);\n    txtTip = findViewById(R.id.txtTip);\n    txtSplit = findViewById(R.id.txtSplit);\n    txtRoundUp = findViewById(R.id.txtRoundUp);\n    txtNumOfSplits = findViewById(R.id.txtNumOfSplits);\n    txtTotalHeading = findViewById(R.id.txtTotalHeading);\n    txtTotalPerPerson = findViewById(R.id.txtTotalPerPerson);\n    txtTotalBill = findViewById(R.id.txtTotalBill);\n    txtTotalTip = findViewById(R.id.txtTotalTip);\n    txt_switch_error = findViewById(R.id.txt_switch_error);\n\n    switchRoundUp = (Switch) findViewById(R.id.switchRoundUp);\n    switchRoundDown = (Switch) findViewById(R.id.switchRoundDown);\n\n    edtBillAmount = findViewById(R.id.edtBillAmount);\n\n    horizontalLine = findViewById(R.id.horizontalLine);\n</code></pre>\n"},{"tags":["java","javafx","treeview"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1645745729,"post_id":71259376,"comment_id":125959723,"body_markdown":"Perhaps simplify this for yourself to see if you can write a plain Java program (no UI) that [recurses the filesystem](https://docs.oracle.com/javase/tutorial/essential/io/walk.html) to output the filtered locations to the console.","body":"Perhaps simplify this for yourself to see if you can write a plain Java program (no UI) that <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/walk.html\" rel=\"nofollow noreferrer\">recurses the filesystem</a> to output the filtered locations to the console."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":1,"creation_date":1645746569,"post_id":71259376,"comment_id":125959858,"body_markdown":"For [example](https://stackoverflow.com/a/2009376/230513).","body":"For <a href=\"https://stackoverflow.com/a/2009376/230513\">example</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1645752061,"post_id":71259376,"comment_id":125960724,"body_markdown":"“a mod folder (the root directory) and the mods inside, but not the mod folders contents” -&gt; I can’t understand this statement at all.  What is a mod folder and mods in this context?  What does it mean to not display the mod folders contents?","body":"“a mod folder (the root directory) and the mods inside, but not the mod folders contents” -&gt; I can’t understand this statement at all.  What is a mod folder and mods in this context?  What does it mean to not display the mod folders contents?"},{"owner":{"account_id":24370482,"reputation":13,"user_id":18303520,"display_name":"TedDraws"},"score":0,"creation_date":1645758638,"post_id":71259376,"comment_id":125961757,"body_markdown":"@jewelsea I guess i mean just the mod folder names and the folder that holds the mods. The content would be like textures, xml files, etc and the info.xml file with the mods metadata. I don&#39;t want the viewer to be able to see that since I&#39;m building a mod loader. I think your original suggestion is best though jewelsea, ill try that out.","body":"@jewelsea I guess i mean just the mod folder names and the folder that holds the mods. The content would be like textures, xml files, etc and the info.xml file with the mods metadata. I don&#39;t want the viewer to be able to see that since I&#39;m building a mod loader. I think your original suggestion is best though jewelsea, ill try that out."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1645788548,"post_id":71259376,"comment_id":125969220,"body_markdown":"this looks similar to the broken example in TreeView (in an incorrect override of isLeaf) - beware that this may lead to trouble! See https://bugs.openjdk.java.net/browse/JDK-8089811 and related issues","body":"this looks similar to the broken example in TreeView (in an incorrect override of isLeaf) - beware that this may lead to trouble! See <a href=\"https://bugs.openjdk.java.net/browse/JDK-8089811\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8089811</a> and related issues"}],"answers":[{"tags":[],"owner":{"account_id":2747016,"reputation":467,"user_id":2367228,"accept_rate":22,"display_name":"Rafa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645853827,"creation_date":1645853827,"answer_id":71274339,"question_id":71259376,"body_markdown":"I have done it this way. You may modify it according to your needs:\r\n\r\n    private void createTreeView(String dirPath) {\r\n        TreeItem&lt;Object&gt; tree = new TreeItem&lt;&gt;(dirPath.substring(dirPath.lastIndexOf(File.separator) + 1), new ImageView(icon));\r\n        List&lt;TreeItem&lt;Object&gt;&gt; dirs = new ArrayList&lt;&gt;();\r\n        try {\r\n            DirectoryStream&lt;Path&gt; directoryStream = Files.newDirectoryStream(Paths.get(dirPath));\r\n            for (Path path : directoryStream) {\r\n                if (Files.isDirectory(path)) {\r\n                    String pathString = path.toString();\r\n                    TreeItem&lt;Object&gt; subDirectory = new TreeItem&lt;&gt;(pathString.substring(pathString.lastIndexOf(File.separator) + 1), new ImageView(icon));\r\n                    getSubLeafs(path, subDirectory);\r\n                    dirs.add(subDirectory);\r\n                }\r\n            }\r\n    \r\n            tree.getChildren().addAll(dirs);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    \r\n        treeView.getSelectionModel().selectedItemProperty().addListener((obs, oldVal, newVal) -&gt; {\r\n            imageNumber = 1;\r\n            StringBuilder pathBuilder = new StringBuilder();\r\n            for (TreeItem&lt;String&gt; item = (TreeItem&lt;String&gt;) treeView.getSelectionModel().getSelectedItem(); item != null; item = item.getParent()) {\r\n    \r\n                pathBuilder.insert(0, item.getValue());\r\n                pathBuilder.insert(0, &quot;/&quot;);\r\n            }\r\n            String path = pathBuilder.toString();\r\n            populateImageView(path.substring(1) + &quot;/&quot;);\r\n        });\r\n    \r\n        tree.setExpanded(true);\r\n        treeView.setRoot(tree);\r\n        treeView.setShowRoot(true);\r\n    }\r\n\r\n    private void getSubLeafs(Path subPath, TreeItem&lt;Object&gt; parent) {\r\n        try {\r\n            DirectoryStream&lt;Path&gt; directoryStream = Files.newDirectoryStream(Paths.get(subPath.toString()));\r\n            for (Path subDir : directoryStream) {\r\n                if (Files.isDirectory(subDir)) {\r\n                    String subTree = subDir.toString();\r\n                    TreeItem&lt;Object&gt; subLeafs = new TreeItem&lt;&gt;(subTree, new ImageView(icon));\r\n                    subLeafs.setValue(subTree.substring(subTree.lastIndexOf(File.separator) + 1));\r\n                    getSubLeafs(subDir, subLeafs);\r\n                    parent.getChildren().add(subLeafs);\r\n                }\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"Using Tree View in Java to implement a view of a filesystem with hierarchy","body":"<p>I have done it this way. You may modify it according to your needs:</p>\n<pre><code>private void createTreeView(String dirPath) {\n    TreeItem&lt;Object&gt; tree = new TreeItem&lt;&gt;(dirPath.substring(dirPath.lastIndexOf(File.separator) + 1), new ImageView(icon));\n    List&lt;TreeItem&lt;Object&gt;&gt; dirs = new ArrayList&lt;&gt;();\n    try {\n        DirectoryStream&lt;Path&gt; directoryStream = Files.newDirectoryStream(Paths.get(dirPath));\n        for (Path path : directoryStream) {\n            if (Files.isDirectory(path)) {\n                String pathString = path.toString();\n                TreeItem&lt;Object&gt; subDirectory = new TreeItem&lt;&gt;(pathString.substring(pathString.lastIndexOf(File.separator) + 1), new ImageView(icon));\n                getSubLeafs(path, subDirectory);\n                dirs.add(subDirectory);\n            }\n        }\n\n        tree.getChildren().addAll(dirs);\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    treeView.getSelectionModel().selectedItemProperty().addListener((obs, oldVal, newVal) -&gt; {\n        imageNumber = 1;\n        StringBuilder pathBuilder = new StringBuilder();\n        for (TreeItem&lt;String&gt; item = (TreeItem&lt;String&gt;) treeView.getSelectionModel().getSelectedItem(); item != null; item = item.getParent()) {\n\n            pathBuilder.insert(0, item.getValue());\n            pathBuilder.insert(0, &quot;/&quot;);\n        }\n        String path = pathBuilder.toString();\n        populateImageView(path.substring(1) + &quot;/&quot;);\n    });\n\n    tree.setExpanded(true);\n    treeView.setRoot(tree);\n    treeView.setShowRoot(true);\n}\n\nprivate void getSubLeafs(Path subPath, TreeItem&lt;Object&gt; parent) {\n    try {\n        DirectoryStream&lt;Path&gt; directoryStream = Files.newDirectoryStream(Paths.get(subPath.toString()));\n        for (Path subDir : directoryStream) {\n            if (Files.isDirectory(subDir)) {\n                String subTree = subDir.toString();\n                TreeItem&lt;Object&gt; subLeafs = new TreeItem&lt;&gt;(subTree, new ImageView(icon));\n                subLeafs.setValue(subTree.substring(subTree.lastIndexOf(File.separator) + 1));\n                getSubLeafs(subDir, subLeafs);\n                parent.getChildren().add(subLeafs);\n            }\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24370482,"reputation":13,"user_id":18303520,"display_name":"TedDraws"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71274339,"answer_count":1,"score":-1,"last_activity_date":1645853827,"creation_date":1645745087,"question_id":71259376,"body_markdown":"I&#39;d like to create a tree view that displays a mod folder (the root directory) and the mods inside, but not the mod folders contents. Right now I can only get it to display all of the mod levels but I think its my method BuildChildren(). Any help would be appreciated.\r\n\r\nI&#39;ve included the code below.\r\n\r\n```\r\nimport java.io.File;\r\nimport javafx.scene.control.TreeView;\r\nimport javafx.scene.control.TreeItem;\r\nimport javafx.scene.Node;\r\n\r\n\r\n\r\n    public class SimpleFileTreeItem extends TreeItem&lt;File&gt; {\r\n\r\n\tpublic SimpleFileTreeItem(File f) {\r\n\t\tsuper(f);\r\n\t}\r\n \r\n\t@Override\r\n\tpublic ObservableList&lt;TreeItem&lt;File&gt;&gt; getChildren() {\r\n\t\tif (isFirstTimeChildren) {\r\n                        isRoot = true;\r\n\t\t\tisFirstTimeChildren = false;\r\n \r\n\t\t\t/*\r\n\t\t\t * First getChildren() call, so we actually go off and determine the\r\n\t\t\t * children of the File contained in this TreeItem.\r\n\t\t\t */\r\n\t\t\tsuper.getChildren().setAll(buildChildren(this));\r\n\t\t}\r\n\t\treturn super.getChildren();\r\n\t}\r\n\r\n\tpublic boolean isBranch() {\r\n\t\tif (isLeaf == false &amp;&amp; isRoot == false) {\r\n                        isRoot = false;\r\n\t\t\tisFirstTimeLeaf = true;\r\n\t\t\tFile f = (File) getValue();\r\n\t\t\tisBranch = f.isFile();\r\n\t\t}\r\n \r\n\t\treturn isBranch;\r\n\t}\r\n\r\n\r\n\tpublic boolean isLeaf() {\r\n\t\tif (isBranch == false &amp;&amp; isRoot == false) {\r\n                        isRoot = false;\r\n\t\t\tisFirstTimeLeaf = true;\r\n\t\t\tFile f = (File) getValue();\r\n\t\t\tisLeaf = f.isFile();\r\n\t\t}\r\n \r\n\t\treturn isLeaf;\r\n\t}\r\n\r\n\tpublic boolean isLeafTip() {\r\n\t\tif (isBranch == false &amp;&amp; isRoot == false) {\r\n                        isRoot = false;\r\n\t\t\tisFirstTimeLeaf = false;\r\n\t\t\tFile f = (File) getValue();\r\n\t\t\tisLeafTip = f.isFile();\r\n\t\t}\r\n \r\n\t\treturn isLeafTip;\r\n\t}\r\n\r\n\tprivate ObservableList&lt;TreeItem&lt;File&gt;&gt; buildChildren(TreeItem&lt;File&gt; TreeItem) {\r\n\t\tFile f = TreeItem.getValue();\r\n\t\tif (f != null &amp;&amp; f.isDirectory()) {\r\n                        isRoot = true;\r\n\t\t\tFile[] files = f.listFiles();\r\n\t\t\tif (files != null &amp;&amp; isLeaf == false &amp;&amp; isRoot == true) {\r\n\t\t\t\tObservableList&lt;TreeItem&lt;File&gt;&gt; childFile = FXCollections.observableArrayList();\r\n                                isBranch = true;\r\n \r\n                                if(isBranch == true &amp;&amp; isFirstTimeLeaf == false) {   \r\n                                \r\n\t\t\t\tfor (File file : files) {\r\n\t\t\t\t\tchildFile.add(new SimpleFileTreeItem(file));\r\n\t\t\t\t}\r\n                                    return childFile;\r\n                                }\r\n                        }\r\n                }    \r\n\t\treturn FXCollections.emptyObservableList();\r\n\t}\r\n \r\n\tprivate boolean isFirstTimeChildren = true;\r\n\tprivate boolean isRoot = true;\r\n\tprivate boolean isFirstTimeLeaf = false;\r\n\tprivate boolean isLeaf = false;\r\n        private boolean isBranch = false;\r\n        private boolean isLeafTip;\r\n}\r\n\r\n}\r\n```\r\n\r\nAny help would be greatly appreciated. I think its the buildChildren method for sure, as that for each loop is just sort of building as it goes. I don&#39;t know what would be a better way to do this though. Cheers.","title":"Using Tree View in Java to implement a view of a filesystem with hierarchy","body":"<p>I'd like to create a tree view that displays a mod folder (the root directory) and the mods inside, but not the mod folders contents. Right now I can only get it to display all of the mod levels but I think its my method BuildChildren(). Any help would be appreciated.</p>\n<p>I've included the code below.</p>\n<pre><code>import java.io.File;\nimport javafx.scene.control.TreeView;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.Node;\n\n\n\n    public class SimpleFileTreeItem extends TreeItem&lt;File&gt; {\n\n    public SimpleFileTreeItem(File f) {\n        super(f);\n    }\n \n    @Override\n    public ObservableList&lt;TreeItem&lt;File&gt;&gt; getChildren() {\n        if (isFirstTimeChildren) {\n                        isRoot = true;\n            isFirstTimeChildren = false;\n \n            /*\n             * First getChildren() call, so we actually go off and determine the\n             * children of the File contained in this TreeItem.\n             */\n            super.getChildren().setAll(buildChildren(this));\n        }\n        return super.getChildren();\n    }\n\n    public boolean isBranch() {\n        if (isLeaf == false &amp;&amp; isRoot == false) {\n                        isRoot = false;\n            isFirstTimeLeaf = true;\n            File f = (File) getValue();\n            isBranch = f.isFile();\n        }\n \n        return isBranch;\n    }\n\n\n    public boolean isLeaf() {\n        if (isBranch == false &amp;&amp; isRoot == false) {\n                        isRoot = false;\n            isFirstTimeLeaf = true;\n            File f = (File) getValue();\n            isLeaf = f.isFile();\n        }\n \n        return isLeaf;\n    }\n\n    public boolean isLeafTip() {\n        if (isBranch == false &amp;&amp; isRoot == false) {\n                        isRoot = false;\n            isFirstTimeLeaf = false;\n            File f = (File) getValue();\n            isLeafTip = f.isFile();\n        }\n \n        return isLeafTip;\n    }\n\n    private ObservableList&lt;TreeItem&lt;File&gt;&gt; buildChildren(TreeItem&lt;File&gt; TreeItem) {\n        File f = TreeItem.getValue();\n        if (f != null &amp;&amp; f.isDirectory()) {\n                        isRoot = true;\n            File[] files = f.listFiles();\n            if (files != null &amp;&amp; isLeaf == false &amp;&amp; isRoot == true) {\n                ObservableList&lt;TreeItem&lt;File&gt;&gt; childFile = FXCollections.observableArrayList();\n                                isBranch = true;\n \n                                if(isBranch == true &amp;&amp; isFirstTimeLeaf == false) {   \n                                \n                for (File file : files) {\n                    childFile.add(new SimpleFileTreeItem(file));\n                }\n                                    return childFile;\n                                }\n                        }\n                }    \n        return FXCollections.emptyObservableList();\n    }\n \n    private boolean isFirstTimeChildren = true;\n    private boolean isRoot = true;\n    private boolean isFirstTimeLeaf = false;\n    private boolean isLeaf = false;\n        private boolean isBranch = false;\n        private boolean isLeafTip;\n}\n\n}\n</code></pre>\n<p>Any help would be greatly appreciated. I think its the buildChildren method for sure, as that for each loop is just sort of building as it goes. I don't know what would be a better way to do this though. Cheers.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1645852702,"post_id":71274200,"comment_id":125985475,"body_markdown":"this question was reposted?","body":"this question was reposted?"},{"owner":{"account_id":24382623,"reputation":9,"user_id":18313909,"display_name":"hello_world"},"score":0,"creation_date":1645852750,"post_id":71274200,"comment_id":125985482,"body_markdown":"@Syncit When I do this, I get an Outof Bounds error for the Evens counter.","body":"@Syncit When I do this, I get an Outof Bounds error for the Evens counter."},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1645852791,"post_id":71274200,"comment_id":125985486,"body_markdown":"I have answered this question previously. But the user deleted and reraise as another question. Why?","body":"I have answered this question previously. But the user deleted and reraise as another question. Why?"}],"answers":[{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645852874,"creation_date":1645852874,"answer_id":71274278,"question_id":71274200,"body_markdown":"```\r\nint i = 0;\r\n      \r\nfor (i = 0; i &lt; twelveInt.length; i++) {\r\n```\r\n\r\nChange it to this: \r\n```\r\nfor (int i = 0; i &lt; twelveInt.length; i++) {\r\n```","title":"Compilation Error at Enhanced For-Loop. i is already defined in main method but I need integer i for the for loop","body":"<pre><code>int i = 0;\n      \nfor (i = 0; i &lt; twelveInt.length; i++) {\n</code></pre>\n<p>Change it to this:</p>\n<pre><code>for (int i = 0; i &lt; twelveInt.length; i++) {\n</code></pre>\n"}],"owner":{"account_id":24382623,"reputation":9,"user_id":18313909,"display_name":"hello_world"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1645867645,"accepted_answer_id":71274278,"answer_count":1,"score":0,"last_activity_date":1645852874,"creation_date":1645851638,"question_id":71274200,"body_markdown":"Hello StackOverflow Community.\r\n\r\nI was working on a Java program using Arrays and 12 integer inputs to then find evens, odds, and negatives and separate them into 3 different arrays.\r\n\r\nThe program looks as though it should compile and run as intended but it gives me an error at the enhanced for loop saying that `variable i is already defined in method main(java.lang.String[])`\r\n\r\nI already looked at this post and it did not help me with my for-loop issue.\r\nhttps://stackoverflow.com/questions/23148347/java-variable-is-already-defined-in-method\r\n\r\nHere is the program:\r\n\r\n \r\n\r\n    public static void main(String[] args){\r\n    Scanner in = new Scanner(System.in);\r\n          \r\n    int [] twelveInt = new int [12];\r\n          \r\n    int countEven = 0;\r\n          \r\n    int countOdd = 0;\r\n          \r\n    int countNeg = 0;\r\n          \r\n    int i = 0;\r\n          \r\n    for (i = 0; i &lt; twelveInt.length; i++) {\r\n        System.out.println(&quot;Enter the #&quot; + (i + 1) + &quot; integer.&quot;);\r\n        twelveInt [i] = in.nextInt();\r\n      \r\n        if (twelveInt[i] % 2 == 0){\r\n            countEven++;\r\n        }\r\n        if (twelveInt[i] % 2 != 0){\r\n            countOdd++;\r\n        }\r\n        if (twelveInt[i] &lt; 0){\r\n            countNeg++;\r\n        }          \r\n    }\r\n    \r\n        \r\n    int [] evens = new int [countEven];    \r\n    int [] odds = new int [countOdd];\r\n    int [] negatives = new int [countNeg];\r\n        \r\n    \r\n    countEven = 0;\r\n    countOdd = 0;\r\n    countNeg = 0;\r\n        \r\n    \r\n    for (int i : twelveInt) {\r\n            if (i % 2 == 0){\r\n                evens[countEven++] = i;\r\n            }\r\n            if (i % 2 != 0){\r\n                odds[countOdd++] = i;\r\n            }\r\n            if (i &lt; 0){\r\n                negatives[countNeg++] = i;\r\n            }          \r\n        }\r\n              \r\n    System.out.println(&quot;Here are the Even numbers you entered&quot;);\r\n    System.out.println(Arrays.toString(evens));\r\n          \r\n    System.out.println(&quot;Here are the Odd numbers you entered&quot;);\r\n    System.out.println(Arrays.toString(odds));\r\n          \r\n    System.out.println(&quot;Here are the Negative numbers you entered&quot;);\r\n    System.out.println(Arrays.toString(negatives));\r\n\r\n\r\nAny help with this strange bug is greatly appreciated.\r\n\r\n  [1]: https://Post","title":"Compilation Error at Enhanced For-Loop. i is already defined in main method but I need integer i for the for loop","body":"<p>Hello StackOverflow Community.</p>\n<p>I was working on a Java program using Arrays and 12 integer inputs to then find evens, odds, and negatives and separate them into 3 different arrays.</p>\n<p>The program looks as though it should compile and run as intended but it gives me an error at the enhanced for loop saying that <code>variable i is already defined in method main(java.lang.String[])</code></p>\n<p>I already looked at this post and it did not help me with my for-loop issue.\n<a href=\"https://stackoverflow.com/questions/23148347/java-variable-is-already-defined-in-method\">Java: Variable is already defined in method</a></p>\n<p>Here is the program:</p>\n<pre><code>public static void main(String[] args){\nScanner in = new Scanner(System.in);\n      \nint [] twelveInt = new int [12];\n      \nint countEven = 0;\n      \nint countOdd = 0;\n      \nint countNeg = 0;\n      \nint i = 0;\n      \nfor (i = 0; i &lt; twelveInt.length; i++) {\n    System.out.println(&quot;Enter the #&quot; + (i + 1) + &quot; integer.&quot;);\n    twelveInt [i] = in.nextInt();\n  \n    if (twelveInt[i] % 2 == 0){\n        countEven++;\n    }\n    if (twelveInt[i] % 2 != 0){\n        countOdd++;\n    }\n    if (twelveInt[i] &lt; 0){\n        countNeg++;\n    }          \n}\n\n    \nint [] evens = new int [countEven];    \nint [] odds = new int [countOdd];\nint [] negatives = new int [countNeg];\n    \n\ncountEven = 0;\ncountOdd = 0;\ncountNeg = 0;\n    \n\nfor (int i : twelveInt) {\n        if (i % 2 == 0){\n            evens[countEven++] = i;\n        }\n        if (i % 2 != 0){\n            odds[countOdd++] = i;\n        }\n        if (i &lt; 0){\n            negatives[countNeg++] = i;\n        }          \n    }\n          \nSystem.out.println(&quot;Here are the Even numbers you entered&quot;);\nSystem.out.println(Arrays.toString(evens));\n      \nSystem.out.println(&quot;Here are the Odd numbers you entered&quot;);\nSystem.out.println(Arrays.toString(odds));\n      \nSystem.out.println(&quot;Here are the Negative numbers you entered&quot;);\nSystem.out.println(Arrays.toString(negatives));\n</code></pre>\n<p>Any help with this strange bug is greatly appreciated.</p>\n"},{"tags":["java","classloader","java-15","invokedynamic","jep"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1645616293,"post_id":71224833,"comment_id":125917963,"body_markdown":"Well, the problem is that hidden classes can&#39;t be referenced by other classes. Lambdas are implemented by creating and loading a class at runtime that references the containing class. Which doesn&#39;t work when the containing class is hidden.","body":"Well, the problem is that hidden classes can&#39;t be referenced by other classes. Lambdas are implemented by creating and loading a class at runtime that references the containing class. Which doesn&#39;t work when the containing class is hidden."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1645616860,"post_id":71224833,"comment_id":125918213,"body_markdown":"@JohannesKuhn it would work if that would have been a method reference: `Runnable runnable = HiddenClassTest::print; static void print() {\n        System.out.println(&quot;Success&quot;);\n    }`","body":"@JohannesKuhn it would work if that would have been a method reference: <code>Runnable runnable = HiddenClassTest::print; static void print() {         System.out.println(&quot;Success&quot;);     }</code>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1645617231,"post_id":71224833,"comment_id":125918377,"body_markdown":"If the method reference points to the hidden class, no. If it points somewhere else, it should work.","body":"If the method reference points to the hidden class, no. If it points somewhere else, it should work."},{"owner":{"account_id":24342083,"reputation":192,"user_id":18279335,"display_name":"Duff"},"score":0,"creation_date":1645621044,"post_id":71224833,"comment_id":125919925,"body_markdown":"Unsafe::defineAnonymousClass is deprecated for removal and Lambdas don&#39;t work with that one either. Then I&#39;m probably stuck with creating a class loader for each class that I load to make sure that they can be unloaded once they are no longer in use.","body":"Unsafe::defineAnonymousClass is deprecated for removal and Lambdas don&#39;t work with that one either. Then I&#39;m probably stuck with creating a class loader for each class that I load to make sure that they can be unloaded once they are no longer in use."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1645622475,"post_id":71224833,"comment_id":125920513,"body_markdown":"You could do some bytecode transformation before - use `MethodHandles::invokeExact` as new target.","body":"You could do some bytecode transformation before - use <code>MethodHandles::invokeExact</code> as new target."},{"owner":{"account_id":24342083,"reputation":192,"user_id":18279335,"display_name":"Duff"},"score":0,"creation_date":1645623769,"post_id":71224833,"comment_id":125921069,"body_markdown":"If you have something concrete in mind that solves the problem (i.e. loads arbitrary code in a way so that it will be unloaded if no longer in use) I would be happy about a more detailed answer. All I got from experimenting with LambdaMetaFactory and MethodHandles was IncompatibleClassChangeErrors.","body":"If you have something concrete in mind that solves the problem (i.e. loads arbitrary code in a way so that it will be unloaded if no longer in use) I would be happy about a more detailed answer. All I got from experimenting with LambdaMetaFactory and MethodHandles was IncompatibleClassChangeErrors."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1645640390,"creation_date":1645640390,"answer_id":71242195,"question_id":71224833,"body_markdown":"You can not turn arbitrary classes into hidden classes.\r\n\r\nThe [documentation of `defineHiddenClass`] contains the sentence\r\n\r\n&gt; - On any attempt to resolve the entry in the run-time constant pool indicated by `this_class`, the symbolic reference is considered to be resolved to `C` and resolution always succeeds immediately.\r\n\r\nWhat it doesn’t spell out explicitly is that this is the only place where a type resolution ever ends up at the hidden class.\r\n\r\nBut it has been said unambiguously in [bug report JDK-8222730]:\r\n\r\n&gt; For a hidden class, its specified hidden name should only be accessible through the hidden class&#39;s &#39;this_class&#39; constant pool entry.\r\n&gt; \r\n&gt; The class should not be accessible by specifying its original name in, for example, a method or field signature even within the hidden class.\r\n\r\nWhich we can check. Even a simple case like\r\n\r\n```java\r\npublic class HiddenClassLambdaTest {\r\n\r\n    public static void main(String[] args) throws Throwable {\r\n        byte[] classFileContents = HiddenClassLambdaTest.class\r\n            .getResourceAsStream(&quot;HiddenClassLambdaTest$LambdaRunner.class&quot;)\r\n            .readAllBytes();\r\n        var hidden = MethodHandles.lookup()\r\n            .defineHiddenClass(classFileContents, true, ClassOption.NESTMATE);\r\n        Runnable lambdaRunnerInstance = (Runnable)hidden.findConstructor(\r\n            hidden.lookupClass(), MethodType.methodType(void.class)).invoke();\r\n        lambdaRunnerInstance.run();\r\n    }\r\n\r\n    static class LambdaRunner implements Runnable {\r\n        LambdaRunner field = this;\r\n\r\n        @Override\r\n        public void run() {\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nwill already fail. Note that it is a special case that the attempt to resolve the original class name `LambdaRunner` within the hidden class will not fail, as you used an existing class as template. So you get an `IncompatibleClassChangeError` or a `VerifierError` due to mismatches between the hidden class and the existing `LambdaRunner` class. When you don’t use a class definition of an existing class, you’d get a `NoClassDefFoundError`.\r\n\r\nThe same applies to\r\n\r\n```java\r\n    static class LambdaRunner implements Runnable {\r\n        static void method(LambdaRunner arg) {\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            method(this);\r\n        }\r\n    }\r\n```\r\n\r\nAs the cited bug report said, neither field nor methods can refer to the hidden class in their signature.\r\n\r\nA less intuitive example is\r\n\r\n```java\r\n    static class LambdaRunner implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            System.out.println(&quot;&quot; + this);\r\n        }\r\n    }\r\n```\r\n\r\nwhich will fail depending on the compiler and options, as when the `StringConcatFactory` is used, the behavior is like an invocation of a method having all non-constant parts as parameters and returning a `String`. So this is another case of having the hidden class in a method signature.\r\n\r\n---\r\n\r\nLambda expressions are special, as a class like\r\n\r\n```java\r\n    static class LambdaRunner implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            Runnable runnable = () -&gt; System.out.println(&quot;Success&quot;);\r\n            runnable.run();\r\n        }\r\n    }\r\n```\r\n\r\ngets compiled similar to\r\n\r\n```java\r\n    static class LambdaRunner implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            Runnable runnable = LambdaRunner::lambdaBody;\r\n            runnable.run();\r\n        }\r\n        private static void lambdaBody() {\r\n            System.out.println(&quot;Success&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nwhich doesn’t have the hidden class in the method signature, but has to refer to the method holding the body of the lambda expression as a `MethodReference`. Within the constant pool, the description of this method refers to its declaring class using the `this_class` entry. So it gets redirected to the hidden class as described in the documentation.\r\n\r\nBut the construction of the `MethodType` as part of the `MethodReference` does not use this information to load a `Class` like a class literal would do. Instead, it tries to load the hidden class through the defining class loader, which fails with the `NoClassDefFoundError` you have posted.\r\n\r\nThis seems to be related to [JDK-8130087] which suggests that ordinary method resolution differs from the way, `MethodType` works, which can make `MethodType` fail where just invoking the method would work.\r\n\r\nBut it’s possible to demonstrate that even fixing this issue wouldn’t solve the general problem:\r\n\r\n```java\r\n    static class LambdaRunner implements Runnable {\r\n        @Override\r\n        public void run() {\r\n            var lookup = MethodHandles.lookup();\r\n            var noArgVoid = MethodType.methodType(void.class);\r\n            try {\r\n                MethodHandle mh = LambdaMetafactory.metafactory(lookup, &quot;run&quot;,\r\n                    MethodType.methodType(Runnable.class), noArgVoid,\r\n                    lookup.findStatic(LambdaRunner.class, &quot;lambdaBody&quot;, noArgVoid),\r\n                    noArgVoid).getTarget();\r\n                System.out.println(&quot;got factory&quot;);\r\n                Runnable runnable = (Runnable)mh.invokeExact();\r\n                System.out.println(&quot;got runnable&quot;);\r\n                runnable.run();\r\n            }\r\n            catch(RuntimeException|Error e) {\r\n                throw e;\r\n            }\r\n            catch(Throwable e) {\r\n                throw new AssertionError(e);\r\n            }\r\n        }\r\n        private static void lambdaBody() {\r\n            System.out.println(&quot;Success&quot;);\r\n        }\r\n    }\r\n```\r\n\r\nThis bypasses the problem described above and calls the `LambdaMetafactory` manually. When being redefined as hidden class, it will print:\r\n\r\n```none\r\ngot factory\r\ngot runnable\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: test/HiddenClassLambdaTest$LambdaRunner/0x0000000800c01400\r\n\tat test/test.HiddenClassLambdaTest.main(HiddenClassLambdaTest.java:15)\r\nCaused by: java.lang.ClassNotFoundException: test.HiddenClassLambdaTest$LambdaRunner.0x0000000800c01400\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n\t... 1 more\r\n```\r\n\r\nwhich shows that all obstacles have been circumvented, but when it comes to the actual invocation from the generated `Runnable` to the method holding the lambda body, it will fail due to the fact that the target class is *hidden*. A JVM with eager resolution of symbolic references might fail earlier, i.e. the example might not print `got runnable` then.\r\n\r\nUnlike the old JVM anonymous classes, there is no way to link to a hidden class, not even from another hidden class.\r\n\r\n---\r\n\r\nThe bottom line is, as said at the beginning, you can not turn arbitrary classes into hidden classes. Lambda expressions are not the only feature not working with hidden classes. It’s not a good idea to try and get surprised. Hidden classes should only be used in conjunction with bytecode generators carefully using only features known to work.\r\n\r\n[documentation of `defineHiddenClass`]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)\r\n[bug report JDK-8222730]: https://bugs.openjdk.java.net/browse/JDK-8222730\r\n[JDK-8130087]: https://bugs.openjdk.java.net/browse/JDK-8130087","title":"Lambda expressions and anonymous classes don&#39;t work when loaded as hidden classes","body":"<p>You can not turn arbitrary classes into hidden classes.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)\" rel=\"noreferrer\">documentation of <code>defineHiddenClass</code></a> contains the sentence</p>\n<blockquote>\n<ul>\n<li>On any attempt to resolve the entry in the run-time constant pool indicated by <code>this_class</code>, the symbolic reference is considered to be resolved to <code>C</code> and resolution always succeeds immediately.</li>\n</ul>\n</blockquote>\n<p>What it doesn’t spell out explicitly is that this is the only place where a type resolution ever ends up at the hidden class.</p>\n<p>But it has been said unambiguously in <a href=\"https://bugs.openjdk.java.net/browse/JDK-8222730\" rel=\"noreferrer\">bug report JDK-8222730</a>:</p>\n<blockquote>\n<p>For a hidden class, its specified hidden name should only be accessible through the hidden class's 'this_class' constant pool entry.</p>\n<p>The class should not be accessible by specifying its original name in, for example, a method or field signature even within the hidden class.</p>\n</blockquote>\n<p>Which we can check. Even a simple case like</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class HiddenClassLambdaTest {\n\n    public static void main(String[] args) throws Throwable {\n        byte[] classFileContents = HiddenClassLambdaTest.class\n            .getResourceAsStream(&quot;HiddenClassLambdaTest$LambdaRunner.class&quot;)\n            .readAllBytes();\n        var hidden = MethodHandles.lookup()\n            .defineHiddenClass(classFileContents, true, ClassOption.NESTMATE);\n        Runnable lambdaRunnerInstance = (Runnable)hidden.findConstructor(\n            hidden.lookupClass(), MethodType.methodType(void.class)).invoke();\n        lambdaRunnerInstance.run();\n    }\n\n    static class LambdaRunner implements Runnable {\n        LambdaRunner field = this;\n\n        @Override\n        public void run() {\n        }\n    }\n}\n</code></pre>\n<p>will already fail. Note that it is a special case that the attempt to resolve the original class name <code>LambdaRunner</code> within the hidden class will not fail, as you used an existing class as template. So you get an <code>IncompatibleClassChangeError</code> or a <code>VerifierError</code> due to mismatches between the hidden class and the existing <code>LambdaRunner</code> class. When you don’t use a class definition of an existing class, you’d get a <code>NoClassDefFoundError</code>.</p>\n<p>The same applies to</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static class LambdaRunner implements Runnable {\n        static void method(LambdaRunner arg) {\n        }\n\n        @Override\n        public void run() {\n            method(this);\n        }\n    }\n</code></pre>\n<p>As the cited bug report said, neither field nor methods can refer to the hidden class in their signature.</p>\n<p>A less intuitive example is</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static class LambdaRunner implements Runnable {\n        @Override\n        public void run() {\n            System.out.println(&quot;&quot; + this);\n        }\n    }\n</code></pre>\n<p>which will fail depending on the compiler and options, as when the <code>StringConcatFactory</code> is used, the behavior is like an invocation of a method having all non-constant parts as parameters and returning a <code>String</code>. So this is another case of having the hidden class in a method signature.</p>\n<hr />\n<p>Lambda expressions are special, as a class like</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static class LambdaRunner implements Runnable {\n        @Override\n        public void run() {\n            Runnable runnable = () -&gt; System.out.println(&quot;Success&quot;);\n            runnable.run();\n        }\n    }\n</code></pre>\n<p>gets compiled similar to</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static class LambdaRunner implements Runnable {\n        @Override\n        public void run() {\n            Runnable runnable = LambdaRunner::lambdaBody;\n            runnable.run();\n        }\n        private static void lambdaBody() {\n            System.out.println(&quot;Success&quot;);\n        }\n    }\n</code></pre>\n<p>which doesn’t have the hidden class in the method signature, but has to refer to the method holding the body of the lambda expression as a <code>MethodReference</code>. Within the constant pool, the description of this method refers to its declaring class using the <code>this_class</code> entry. So it gets redirected to the hidden class as described in the documentation.</p>\n<p>But the construction of the <code>MethodType</code> as part of the <code>MethodReference</code> does not use this information to load a <code>Class</code> like a class literal would do. Instead, it tries to load the hidden class through the defining class loader, which fails with the <code>NoClassDefFoundError</code> you have posted.</p>\n<p>This seems to be related to <a href=\"https://bugs.openjdk.java.net/browse/JDK-8130087\" rel=\"noreferrer\">JDK-8130087</a> which suggests that ordinary method resolution differs from the way, <code>MethodType</code> works, which can make <code>MethodType</code> fail where just invoking the method would work.</p>\n<p>But it’s possible to demonstrate that even fixing this issue wouldn’t solve the general problem:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    static class LambdaRunner implements Runnable {\n        @Override\n        public void run() {\n            var lookup = MethodHandles.lookup();\n            var noArgVoid = MethodType.methodType(void.class);\n            try {\n                MethodHandle mh = LambdaMetafactory.metafactory(lookup, &quot;run&quot;,\n                    MethodType.methodType(Runnable.class), noArgVoid,\n                    lookup.findStatic(LambdaRunner.class, &quot;lambdaBody&quot;, noArgVoid),\n                    noArgVoid).getTarget();\n                System.out.println(&quot;got factory&quot;);\n                Runnable runnable = (Runnable)mh.invokeExact();\n                System.out.println(&quot;got runnable&quot;);\n                runnable.run();\n            }\n            catch(RuntimeException|Error e) {\n                throw e;\n            }\n            catch(Throwable e) {\n                throw new AssertionError(e);\n            }\n        }\n        private static void lambdaBody() {\n            System.out.println(&quot;Success&quot;);\n        }\n    }\n</code></pre>\n<p>This bypasses the problem described above and calls the <code>LambdaMetafactory</code> manually. When being redefined as hidden class, it will print:</p>\n<pre class=\"lang-none prettyprint-override\"><code>got factory\ngot runnable\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: test/HiddenClassLambdaTest$LambdaRunner/0x0000000800c01400\n    at test/test.HiddenClassLambdaTest.main(HiddenClassLambdaTest.java:15)\nCaused by: java.lang.ClassNotFoundException: test.HiddenClassLambdaTest$LambdaRunner.0x0000000800c01400\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 1 more\n</code></pre>\n<p>which shows that all obstacles have been circumvented, but when it comes to the actual invocation from the generated <code>Runnable</code> to the method holding the lambda body, it will fail due to the fact that the target class is <em>hidden</em>. A JVM with eager resolution of symbolic references might fail earlier, i.e. the example might not print <code>got runnable</code> then.</p>\n<p>Unlike the old JVM anonymous classes, there is no way to link to a hidden class, not even from another hidden class.</p>\n<hr />\n<p>The bottom line is, as said at the beginning, you can not turn arbitrary classes into hidden classes. Lambda expressions are not the only feature not working with hidden classes. It’s not a good idea to try and get surprised. Hidden classes should only be used in conjunction with bytecode generators carefully using only features known to work.</p>\n"},{"tags":[],"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645692678,"creation_date":1645692678,"answer_id":71249339,"question_id":71224833,"body_markdown":"As Holger pointed out, you can&#39;t load arbitrary classes with `MethodHandles.Lookup.defineHiddenClass`.\r\n\r\nBut you can perform some transformations on the class file to conform to the restrictions of a hidden class.\r\n\r\nOne such transformation is using `MethodHandles::invokeExact` as implementing method - so the lambda will capture a `MethodHandle`.\r\n\r\nUsing your code as base, I came up with this - [gist with imports and w/o comments](https://gist.github.com/DasBrain/90fba9cdcf3bea9fe1fd6bf64d24e7bc):\r\n\r\n    public class HiddenClassLambdaTest {\r\n        /** This class is to be loaded and executed as hidden class */\r\n        public static final class LambdaRunner implements Runnable {\r\n            @Override public void run() {\r\n                Runnable runnable = () -&gt; System.out.println(&quot;Success&quot;);\r\n                runnable.run();\r\n            }\r\n        }\r\n        \r\n        public static void main(String[] args) throws Throwable {\r\n            // Path to the class file of the nested class defined above\r\n            byte[] classFileContents = HiddenClassLambdaTest.class\r\n                    .getResourceAsStream(&quot;HiddenClassLambdaTest$LambdaRunner.class&quot;).readAllBytes();\r\n            \r\n            classFileContents = processLambdas(classFileContents);\r\n            MethodHandles.Lookup hiddenClass = MethodHandles.lookup().defineHiddenClass(classFileContents, true);\r\n            Runnable lambdaRunnerInstance = (Runnable) (\r\n                    hiddenClass.findConstructor(hiddenClass.lookupClass(), methodType(void.class))\r\n                    ).asType(methodType(Runnable.class)).invokeExact();\r\n            lambdaRunnerInstance.run();\r\n        }\r\n\r\nWe start of like your example code - except we process the `classFileContents` using ASM before passing it to `MethodHandles.Lookup.defineHiddenClass`.\r\n\r\n        public static CallSite metafactory(MethodHandles.Lookup l, String name, MethodType mt,\r\n                MethodType interfaceType, MethodHandle mh, MethodType dynamicMethodType) throws Throwable {\r\n            MethodHandle invoker = MethodHandles.exactInvoker(mh.type());\r\n            if (mt.parameterCount() == 0) {\r\n                // Non-capturing lambda\r\n                mt = mt.appendParameterTypes(MethodHandle.class);\r\n                CallSite cs = LambdaMetafactory.metafactory(l, name, mt, interfaceType, invoker, dynamicMethodType);\r\n                Object instance = cs.dynamicInvoker().asType(methodType(Object.class, MethodHandle.class)).invokeExact(mh);\r\n                return new ConstantCallSite(MethodHandles.constant(mt.returnType(), instance));\r\n            } else {\r\n                // capturing\r\n                MethodType lambdaMt = mt.insertParameterTypes(0, MethodHandle.class);\r\n                CallSite cs = LambdaMetafactory.metafactory(l, name, lambdaMt, interfaceType, invoker, dynamicMethodType);\r\n                return new ConstantCallSite(cs.dynamicInvoker().bindTo(mh));\r\n            }\r\n        }\r\n\r\nAs part of the trick we replace all invokedynamic instructions that point to `LambdaMetafactory.metafactory` with `HiddenClassLambdaTest.metafactory`.  \r\nThere we replace the implementation method with `MethodHandles.invokeExact`, then add the original MethodHandle as part of the captured arguments.\r\n\r\nYou may want to move that method to a different class.\r\n        \r\n        public static CallSite altMetafactory(MethodHandles.Lookup l, String name, MethodType mt, Object... args) {\r\n            throw new UnsupportedOperationException(&quot;Not Implemented&quot;);\r\n        }\r\n\r\nSame deal with `LambdaMetafactory.altMetafactory`. Except I did not implement it. &#175;\\\\_(ツ)_/&#175;\r\n        \r\n        \r\n        private static byte[] processLambdas(byte[] bytes) {\r\n            ClassReader cr = new ClassReader(bytes);\r\n            ClassWriter cw = new ClassWriter(cr, 0);\r\n            \r\n            ClassVisitor cv = cw;\r\n            cv = new LambdaTransformer(cv);\r\n            \r\n            cr.accept(cv, 0);\r\n            return cw.toByteArray();\r\n        }\r\n\r\nJust the usual boilerplate for ASM transformations.  \r\nBecause I anticipate that I have to [stack the transformations](https://stackoverflow.com/questions/62111615/what-is-the-proper-way-to-stack-asm-visitors/62112667#62112667), I wrote it that way.\r\n        \r\n        private static class LambdaTransformer extends ClassVisitor {\r\n            LambdaTransformer(ClassVisitor parent) {\r\n                super(ASM9, parent);\r\n            }\r\n            \r\n            @Override\r\n            public MethodVisitor visitMethod(int access, String name, String descriptor,\r\n                    String signature, String[] exceptions) {\r\n                return new LambdaMethodTransformer(super.visitMethod(access, name, descriptor, signature, exceptions));\r\n            }\r\n            \r\n            private static class LambdaMethodTransformer extends MethodVisitor {\r\n                public LambdaMethodTransformer(MethodVisitor parent) {\r\n                    super(ASM9, parent);\r\n                }\r\n                \r\n                private static final ClassDesc CD_LambdaMetafactory = LambdaMetafactory.class.describeConstable().orElseThrow();\r\n                private static final ClassDesc CD_HiddenLambdaTest = HiddenClassLambdaTest.class.describeConstable().orElseThrow();\r\n                \r\n                private static final DirectMethodHandleDesc LMF_FACTORY = ofCallsiteBootstrap(\r\n                        CD_LambdaMetafactory, &quot;metafactory&quot;, CD_CallSite, CD_MethodType, CD_MethodHandle, CD_MethodType);\r\n                private static final DirectMethodHandleDesc LMF_ALTFACTORY = ofCallsiteBootstrap(\r\n                        CD_LambdaMetafactory, &quot;altMetafactory&quot;, CD_Object.arrayType());\r\n                \r\n                private static final Handle MY_FACTORY = toASM(ofCallsiteBootstrap(CD_HiddenLambdaTest, &quot;metafactory&quot;, CD_CallSite, CD_MethodType, CD_MethodHandle, CD_MethodType));\r\n                private static final Handle MY_ALTFACTORY = toASM(ofCallsiteBootstrap(CD_HiddenLambdaTest, &quot;altMetafactory&quot;, CD_CallSite, CD_Object.arrayType()));\r\n                \r\n                @Override\r\n                public void visitInvokeDynamicInsn(String name, String descriptor,\r\n                        Handle bootstrapMethodHandle, Object... bootstrapMethodArguments) {\r\n                    MethodHandleDesc h = fromASM(bootstrapMethodHandle);\r\n                    if (h.equals(LMF_FACTORY)) {\r\n                        super.visitInvokeDynamicInsn(name, descriptor,\r\n                                MY_FACTORY, bootstrapMethodArguments);\r\n                    } else if (h.equals(LMF_ALTFACTORY)) {\r\n                        super.visitInvokeDynamicInsn(name, descriptor, MY_ALTFACTORY, bootstrapMethodArguments);\r\n                    } else {\r\n                        super.visitInvokeDynamicInsn(name, descriptor, bootstrapMethodHandle, bootstrapMethodArguments);\r\n                    }\r\n                }\r\n\r\nThat was the important part - check if the bootstrap method of an invokedynamic instruction is `LambdaMetafactory.metafactory` or `LambdaMetafactory.altMetafactory` and replace it with `HiddenClassLambdaTest.metafactory` or `HiddenClassLambdaTest.altMetafactory` respectively.\r\n                \r\n                private static MethodHandleDesc fromASM(Handle h) {\r\n                    return MethodHandleDesc.of(Kind.valueOf(h.getTag(), h.isInterface()),\r\n                            ClassDesc.ofDescriptor(&quot;L&quot; + h.getOwner() + &quot;;&quot;),\r\n                            h.getName(), h.getDesc());\r\n                }\r\n                \r\n                private static Handle toASM(DirectMethodHandleDesc desc) {\r\n                    return new Handle(desc.refKind(), toInternal(desc.owner()), desc.methodName(), desc.lookupDescriptor(), desc.isOwnerInterface());\r\n                }\r\n                \r\n                private static String toInternal(TypeDescriptor.OfField&lt;?&gt; desc) {\r\n                    String d = desc.descriptorString();\r\n                    if (d.charAt(0) != &#39;L&#39;) {\r\n                        throw new IllegalArgumentException(&quot;Not a valid internal type: &quot; + d);\r\n                    }\r\n                    return d.substring(1, d.length() - 1); // Strip &quot;L&quot; + &quot;;&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAt the end some helper methods which allow me to easily convert between the ASM types and the `java.lang.constant.*` types.  \r\nI prefer to use the `java.lang.constant.*` API - those helper methods are usually statically imported from a utility class.\r\n\r\n---\r\n\r\nBut this is only half of the story.  \r\nSee Holger&#39;s answer for many more things that can go wrong.  \r\nSome of them have an &quot;easy&quot; solution, others may be more complicated.\r\n\r\nFor example, to get rid of fields that reference the class, replace the fields type with a superclass (`java.lang.Object` for example) and inject a `checkcast` instruction after each `getfield` or `getstatic` of those fields.\r\n\r\nTo get them out of the method signatures - you also have to change the signatures at the call sites.","title":"Lambda expressions and anonymous classes don&#39;t work when loaded as hidden classes","body":"<p>As Holger pointed out, you can't load arbitrary classes with <code>MethodHandles.Lookup.defineHiddenClass</code>.</p>\n<p>But you can perform some transformations on the class file to conform to the restrictions of a hidden class.</p>\n<p>One such transformation is using <code>MethodHandles::invokeExact</code> as implementing method - so the lambda will capture a <code>MethodHandle</code>.</p>\n<p>Using your code as base, I came up with this - <a href=\"https://gist.github.com/DasBrain/90fba9cdcf3bea9fe1fd6bf64d24e7bc\" rel=\"nofollow noreferrer\">gist with imports and w/o comments</a>:</p>\n<pre><code>public class HiddenClassLambdaTest {\n    /** This class is to be loaded and executed as hidden class */\n    public static final class LambdaRunner implements Runnable {\n        @Override public void run() {\n            Runnable runnable = () -&gt; System.out.println(&quot;Success&quot;);\n            runnable.run();\n        }\n    }\n    \n    public static void main(String[] args) throws Throwable {\n        // Path to the class file of the nested class defined above\n        byte[] classFileContents = HiddenClassLambdaTest.class\n                .getResourceAsStream(&quot;HiddenClassLambdaTest$LambdaRunner.class&quot;).readAllBytes();\n        \n        classFileContents = processLambdas(classFileContents);\n        MethodHandles.Lookup hiddenClass = MethodHandles.lookup().defineHiddenClass(classFileContents, true);\n        Runnable lambdaRunnerInstance = (Runnable) (\n                hiddenClass.findConstructor(hiddenClass.lookupClass(), methodType(void.class))\n                ).asType(methodType(Runnable.class)).invokeExact();\n        lambdaRunnerInstance.run();\n    }\n</code></pre>\n<p>We start of like your example code - except we process the <code>classFileContents</code> using ASM before passing it to <code>MethodHandles.Lookup.defineHiddenClass</code>.</p>\n<pre><code>    public static CallSite metafactory(MethodHandles.Lookup l, String name, MethodType mt,\n            MethodType interfaceType, MethodHandle mh, MethodType dynamicMethodType) throws Throwable {\n        MethodHandle invoker = MethodHandles.exactInvoker(mh.type());\n        if (mt.parameterCount() == 0) {\n            // Non-capturing lambda\n            mt = mt.appendParameterTypes(MethodHandle.class);\n            CallSite cs = LambdaMetafactory.metafactory(l, name, mt, interfaceType, invoker, dynamicMethodType);\n            Object instance = cs.dynamicInvoker().asType(methodType(Object.class, MethodHandle.class)).invokeExact(mh);\n            return new ConstantCallSite(MethodHandles.constant(mt.returnType(), instance));\n        } else {\n            // capturing\n            MethodType lambdaMt = mt.insertParameterTypes(0, MethodHandle.class);\n            CallSite cs = LambdaMetafactory.metafactory(l, name, lambdaMt, interfaceType, invoker, dynamicMethodType);\n            return new ConstantCallSite(cs.dynamicInvoker().bindTo(mh));\n        }\n    }\n</code></pre>\n<p>As part of the trick we replace all invokedynamic instructions that point to <code>LambdaMetafactory.metafactory</code> with <code>HiddenClassLambdaTest.metafactory</code>.<br />\nThere we replace the implementation method with <code>MethodHandles.invokeExact</code>, then add the original MethodHandle as part of the captured arguments.</p>\n<p>You may want to move that method to a different class.</p>\n<pre><code>    public static CallSite altMetafactory(MethodHandles.Lookup l, String name, MethodType mt, Object... args) {\n        throw new UnsupportedOperationException(&quot;Not Implemented&quot;);\n    }\n</code></pre>\n<p>Same deal with <code>LambdaMetafactory.altMetafactory</code>. Except I did not implement it. ¯\\<em>(ツ)</em>/¯</p>\n<pre><code>    private static byte[] processLambdas(byte[] bytes) {\n        ClassReader cr = new ClassReader(bytes);\n        ClassWriter cw = new ClassWriter(cr, 0);\n        \n        ClassVisitor cv = cw;\n        cv = new LambdaTransformer(cv);\n        \n        cr.accept(cv, 0);\n        return cw.toByteArray();\n    }\n</code></pre>\n<p>Just the usual boilerplate for ASM transformations.<br />\nBecause I anticipate that I have to <a href=\"https://stackoverflow.com/questions/62111615/what-is-the-proper-way-to-stack-asm-visitors/62112667#62112667\">stack the transformations</a>, I wrote it that way.</p>\n<pre><code>    private static class LambdaTransformer extends ClassVisitor {\n        LambdaTransformer(ClassVisitor parent) {\n            super(ASM9, parent);\n        }\n        \n        @Override\n        public MethodVisitor visitMethod(int access, String name, String descriptor,\n                String signature, String[] exceptions) {\n            return new LambdaMethodTransformer(super.visitMethod(access, name, descriptor, signature, exceptions));\n        }\n        \n        private static class LambdaMethodTransformer extends MethodVisitor {\n            public LambdaMethodTransformer(MethodVisitor parent) {\n                super(ASM9, parent);\n            }\n            \n            private static final ClassDesc CD_LambdaMetafactory = LambdaMetafactory.class.describeConstable().orElseThrow();\n            private static final ClassDesc CD_HiddenLambdaTest = HiddenClassLambdaTest.class.describeConstable().orElseThrow();\n            \n            private static final DirectMethodHandleDesc LMF_FACTORY = ofCallsiteBootstrap(\n                    CD_LambdaMetafactory, &quot;metafactory&quot;, CD_CallSite, CD_MethodType, CD_MethodHandle, CD_MethodType);\n            private static final DirectMethodHandleDesc LMF_ALTFACTORY = ofCallsiteBootstrap(\n                    CD_LambdaMetafactory, &quot;altMetafactory&quot;, CD_Object.arrayType());\n            \n            private static final Handle MY_FACTORY = toASM(ofCallsiteBootstrap(CD_HiddenLambdaTest, &quot;metafactory&quot;, CD_CallSite, CD_MethodType, CD_MethodHandle, CD_MethodType));\n            private static final Handle MY_ALTFACTORY = toASM(ofCallsiteBootstrap(CD_HiddenLambdaTest, &quot;altMetafactory&quot;, CD_CallSite, CD_Object.arrayType()));\n            \n            @Override\n            public void visitInvokeDynamicInsn(String name, String descriptor,\n                    Handle bootstrapMethodHandle, Object... bootstrapMethodArguments) {\n                MethodHandleDesc h = fromASM(bootstrapMethodHandle);\n                if (h.equals(LMF_FACTORY)) {\n                    super.visitInvokeDynamicInsn(name, descriptor,\n                            MY_FACTORY, bootstrapMethodArguments);\n                } else if (h.equals(LMF_ALTFACTORY)) {\n                    super.visitInvokeDynamicInsn(name, descriptor, MY_ALTFACTORY, bootstrapMethodArguments);\n                } else {\n                    super.visitInvokeDynamicInsn(name, descriptor, bootstrapMethodHandle, bootstrapMethodArguments);\n                }\n            }\n</code></pre>\n<p>That was the important part - check if the bootstrap method of an invokedynamic instruction is <code>LambdaMetafactory.metafactory</code> or <code>LambdaMetafactory.altMetafactory</code> and replace it with <code>HiddenClassLambdaTest.metafactory</code> or <code>HiddenClassLambdaTest.altMetafactory</code> respectively.</p>\n<pre><code>            private static MethodHandleDesc fromASM(Handle h) {\n                return MethodHandleDesc.of(Kind.valueOf(h.getTag(), h.isInterface()),\n                        ClassDesc.ofDescriptor(&quot;L&quot; + h.getOwner() + &quot;;&quot;),\n                        h.getName(), h.getDesc());\n            }\n            \n            private static Handle toASM(DirectMethodHandleDesc desc) {\n                return new Handle(desc.refKind(), toInternal(desc.owner()), desc.methodName(), desc.lookupDescriptor(), desc.isOwnerInterface());\n            }\n            \n            private static String toInternal(TypeDescriptor.OfField&lt;?&gt; desc) {\n                String d = desc.descriptorString();\n                if (d.charAt(0) != 'L') {\n                    throw new IllegalArgumentException(&quot;Not a valid internal type: &quot; + d);\n                }\n                return d.substring(1, d.length() - 1); // Strip &quot;L&quot; + &quot;;&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>At the end some helper methods which allow me to easily convert between the ASM types and the <code>java.lang.constant.*</code> types.<br />\nI prefer to use the <code>java.lang.constant.*</code> API - those helper methods are usually statically imported from a utility class.</p>\n<hr />\n<p>But this is only half of the story.<br />\nSee Holger's answer for many more things that can go wrong.<br />\nSome of them have an &quot;easy&quot; solution, others may be more complicated.</p>\n<p>For example, to get rid of fields that reference the class, replace the fields type with a superclass (<code>java.lang.Object</code> for example) and inject a <code>checkcast</code> instruction after each <code>getfield</code> or <code>getstatic</code> of those fields.</p>\n<p>To get them out of the method signatures - you also have to change the signatures at the call sites.</p>\n"}],"owner":{"account_id":24342083,"reputation":192,"user_id":18279335,"display_name":"Duff"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":860,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":71242195,"answer_count":2,"score":10,"last_activity_date":1645852464,"creation_date":1645547176,"question_id":71224833,"body_markdown":"I am trying to compile and load dynamically generated Java code during runtime. Since both ClassLoader::defineClass and Unsafe::defineAnonymousClass have serious drawbacks in this scenario, I tried using [hidden classes][1] via [Lookup::defineHiddenClass][2] instead. This works fine for all classes that I tried to load, except for those that call lambda expressions or contain anonymous classes.\r\n\r\nCalling a lambda expression throws the following exception:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: tests/HiddenClassLambdaTest$LambdaRunner/0x0000000800c04400\r\n\tat tests.HiddenClassLambdaTest.main(HiddenClassLambdaTest.java:22)\r\nCaused by: java.lang.ClassNotFoundException: tests.HiddenClassLambdaTest$LambdaRunner.0x0000000800c04400\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\t... 1 more\r\n```\r\nExecuting code that instantiates an anonymous class throws the following error:\r\n```\r\nException in thread &quot;main&quot; java.lang.VerifyError: Bad type on operand stack\r\nException Details:\r\n  Location:\r\n    tests/HiddenClassLambdaTest$LambdaRunner+0x0000000800c00400.run()V @5: invokespecial\r\n  Reason:\r\n    Type &#39;tests/HiddenClassLambdaTest$LambdaRunner+0x0000000800c00400&#39; (current frame, stack[2]) is not assignable to &#39;tests/HiddenClassLambdaTest$LambdaRunner&#39;\r\n  Current Frame:\r\n    bci: @5\r\n    flags: { }\r\n    locals: { &#39;tests/HiddenClassLambdaTest$LambdaRunner+0x0000000800c00400&#39; }\r\n    stack: { uninitialized 0, uninitialized 0, &#39;tests/HiddenClassLambdaTest$LambdaRunner+0x0000000800c00400&#39; }\r\n  Bytecode:\r\n    0000000: bb00 1159 2ab7 0013 4cb1               \r\n\r\n\tat java.base/java.lang.ClassLoader.defineClass0(Native Method)\r\n\tat java.base/java.lang.System$2.defineClass(System.java:2193)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2446)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClassAsLookup(MethodHandles.java:2427)\r\n\tat java.base/java.lang.invoke.MethodHandles$Lookup.defineHiddenClass(MethodHandles.java:2133)\r\n\tat tests.HiddenClassLambdaTest.main(HiddenClassLambdaTest.java:25)\r\n\r\n```\r\n\r\nThis is a short example that recreates the problem:\r\n\r\n```\r\nimport java.lang.invoke.MethodHandles;\r\n\r\npublic class HiddenClassLambdaTest {\r\n\t/** This class is to be loaded and executed as hidden class */\r\n\tpublic static final class LambdaRunner implements Runnable {\r\n\t\t@Override public void run() {\r\n\t\t\tRunnable runnable = () -&gt; System.out.println(&quot;Success&quot;);\r\n\t\t\trunnable.run();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) throws Throwable {\r\n\t\t// Path to the class file of the nested class defined above\r\n\t\tString nestedClassPath = HiddenClassLambdaTest.class.getTypeName().replace(&#39;.&#39;,&#39;/&#39;) + &quot;$LambdaRunner.class&quot;;\r\n\t\t// Class file content of the LambdaRunner class\r\n\t\tbyte[] classFileContents = HiddenClassLambdaTest.class.getClassLoader().getResourceAsStream(nestedClassPath).readAllBytes();\r\n\t\tClass&lt;?&gt; lambdaRunnerClass = MethodHandles.lookup().defineHiddenClass(classFileContents, true).lookupClass();\r\n\t\tRunnable lambdaRunnerInstance = (Runnable) lambdaRunnerClass.getConstructor().newInstance();\r\n\t\tlambdaRunnerInstance.run();\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;ve already tried compiling and running the code with different JDKs, using different ways to create new instances of the hidden class, searching for bugs at https://bugs.openjdk.java.net/, messing with the bytecode itself and several other things. I am not an expert on Java internals, so I am not sure whether I have not understood the JEP that introduced hidden classes correctly.\r\n\r\nAm I doing something wrong, is this just impossible or is this a bug?\r\n\r\nEdit: The [JEP][1] states\r\n\r\n&gt; Migration should take the following into account:\r\n&gt;    To invoke private nestmate instance methods from code in a hidden class, use invokevirtual or invokeinterface instead of invokespecial. Generated bytecode that uses invokespecial to invoke a private nestmate instance method will fail verification. invokespecial should only be used to invoke private nestmate constructors.\r\n\r\nThis might be the problem for the anonymous class. Is there a way to compile the code such that invokespecial is avoided in the bytecode?\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/371\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)","title":"Lambda expressions and anonymous classes don&#39;t work when loaded as hidden classes","body":"<p>I am trying to compile and load dynamically generated Java code during runtime. Since both ClassLoader::defineClass and Unsafe::defineAnonymousClass have serious drawbacks in this scenario, I tried using <a href=\"https://openjdk.java.net/jeps/371\" rel=\"noreferrer\">hidden classes</a> via <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.Lookup.html#defineHiddenClass(byte%5B%5D,boolean,java.lang.invoke.MethodHandles.Lookup.ClassOption...)\" rel=\"noreferrer\">Lookup::defineHiddenClass</a> instead. This works fine for all classes that I tried to load, except for those that call lambda expressions or contain anonymous classes.</p>\n<p>Calling a lambda expression throws the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: tests/HiddenClassLambdaTest$LambdaRunner/0x0000000800c04400\n    at tests.HiddenClassLambdaTest.main(HiddenClassLambdaTest.java:22)\nCaused by: java.lang.ClassNotFoundException: tests.HiddenClassLambdaTest$LambdaRunner.0x0000000800c04400\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:636)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:182)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    ... 1 more\n</code></pre>\n<p>Executing code that instantiates an anonymous class throws the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.VerifyError: Bad type on operand stack\nException Details:\n  Location:\n    tests/HiddenClassLambdaTest$LambdaRunner+0x0000000800c00400.run()V @5: invokespecial\n  Reason:\n    Type 'tests/HiddenClassLambdaTest$LambdaRunner+0x0000000800c00400' (current frame, stack[2]) is not assignable to 'tests/HiddenClassLambdaTest$LambdaRunner'\n  Current Frame:\n    bci: @5\n    flags: { }\n    locals: { 'tests/HiddenClassLambdaTest$LambdaRunner+0x0000000800c00400' }\n    stack: { uninitialized 0, uninitialized 0, 'tests/HiddenClassLambdaTest$LambdaRunner+0x0000000800c00400' }\n  Bytecode:\n    0000000: bb00 1159 2ab7 0013 4cb1               \n\n    at java.base/java.lang.ClassLoader.defineClass0(Native Method)\n    at java.base/java.lang.System$2.defineClass(System.java:2193)\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClass(MethodHandles.java:2446)\n    at java.base/java.lang.invoke.MethodHandles$Lookup$ClassDefiner.defineClassAsLookup(MethodHandles.java:2427)\n    at java.base/java.lang.invoke.MethodHandles$Lookup.defineHiddenClass(MethodHandles.java:2133)\n    at tests.HiddenClassLambdaTest.main(HiddenClassLambdaTest.java:25)\n\n</code></pre>\n<p>This is a short example that recreates the problem:</p>\n<pre><code>import java.lang.invoke.MethodHandles;\n\npublic class HiddenClassLambdaTest {\n    /** This class is to be loaded and executed as hidden class */\n    public static final class LambdaRunner implements Runnable {\n        @Override public void run() {\n            Runnable runnable = () -&gt; System.out.println(&quot;Success&quot;);\n            runnable.run();\n        }\n    }\n    \n    public static void main(String[] args) throws Throwable {\n        // Path to the class file of the nested class defined above\n        String nestedClassPath = HiddenClassLambdaTest.class.getTypeName().replace('.','/') + &quot;$LambdaRunner.class&quot;;\n        // Class file content of the LambdaRunner class\n        byte[] classFileContents = HiddenClassLambdaTest.class.getClassLoader().getResourceAsStream(nestedClassPath).readAllBytes();\n        Class&lt;?&gt; lambdaRunnerClass = MethodHandles.lookup().defineHiddenClass(classFileContents, true).lookupClass();\n        Runnable lambdaRunnerInstance = (Runnable) lambdaRunnerClass.getConstructor().newInstance();\n        lambdaRunnerInstance.run();\n    }\n}\n</code></pre>\n<p>I've already tried compiling and running the code with different JDKs, using different ways to create new instances of the hidden class, searching for bugs at <a href=\"https://bugs.openjdk.java.net/\" rel=\"noreferrer\">https://bugs.openjdk.java.net/</a>, messing with the bytecode itself and several other things. I am not an expert on Java internals, so I am not sure whether I have not understood the JEP that introduced hidden classes correctly.</p>\n<p>Am I doing something wrong, is this just impossible or is this a bug?</p>\n<p>Edit: The <a href=\"https://openjdk.java.net/jeps/371\" rel=\"noreferrer\">JEP</a> states</p>\n<blockquote>\n<p>Migration should take the following into account:\nTo invoke private nestmate instance methods from code in a hidden class, use invokevirtual or invokeinterface instead of invokespecial. Generated bytecode that uses invokespecial to invoke a private nestmate instance method will fail verification. invokespecial should only be used to invoke private nestmate constructors.</p>\n</blockquote>\n<p>This might be the problem for the anonymous class. Is there a way to compile the code such that invokespecial is avoided in the bytecode?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":12394094,"reputation":71,"user_id":9034794,"display_name":"Apil Pokharel"},"score":0,"creation_date":1572770182,"post_id":58678562,"comment_id":103657358,"body_markdown":"I want url from ServerHttpRequest like specified above","body":"I want url from ServerHttpRequest like specified above"},{"owner":{"account_id":12394094,"reputation":71,"user_id":9034794,"display_name":"Apil Pokharel"},"score":0,"creation_date":1572779484,"post_id":58678562,"comment_id":103659216,"body_markdown":"I want requestmapping value","body":"I want requestmapping value"}],"answers":[{"tags":[],"owner":{"account_id":5546696,"reputation":1163,"user_id":4401117,"display_name":"Puneeth Rai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1631164990,"creation_date":1631164990,"answer_id":69112643,"question_id":58678562,"body_markdown":"U can add a filter and check get the value from request.getPath().contextPath().value()\r\n```\r\n@Component\r\npublic class Interceptor  implements WebFilter {\r\n\r\n    @Override\r\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n       ServerHttpRequest request = exchange.getRequest();\r\n       String path = request.getPath().contextPath().value()\r\n    }\r\n}\r\n```\r\n\r\nreferences\r\nhttps://docs.spring.io/spring-framework/docs/5.0.0.RC3_to_5.0.0.RC4/Spring%20Framework%205.0.0.RC4/org/springframework/http/server/reactive/ServerHttpRequest.html\r\nhttps://docs.spring.io/spring-framework/docs/5.0.0.RC3_to_5.0.0.RC4/Spring%20Framework%205.0.0.RC4/org/springframework/http/server/RequestPath.html\r\nhttps://docs.spring.io/spring-framework/docs/5.0.0.RC3_to_5.0.0.RC4/Spring%20Framework%205.0.0.RC4/org/springframework/http/server/PathContainer.html","title":"How to get original url path in webflux ServerHttpRequest","body":"<p>U can add a filter and check get the value from request.getPath().contextPath().value()</p>\n<pre><code>@Component\npublic class Interceptor  implements WebFilter {\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n       ServerHttpRequest request = exchange.getRequest();\n       String path = request.getPath().contextPath().value()\n    }\n}\n</code></pre>\n<p>references\n<a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.RC3_to_5.0.0.RC4/Spring%20Framework%205.0.0.RC4/org/springframework/http/server/reactive/ServerHttpRequest.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.0.0.RC3_to_5.0.0.RC4/Spring%20Framework%205.0.0.RC4/org/springframework/http/server/reactive/ServerHttpRequest.html</a>\n<a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.RC3_to_5.0.0.RC4/Spring%20Framework%205.0.0.RC4/org/springframework/http/server/RequestPath.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.0.0.RC3_to_5.0.0.RC4/Spring%20Framework%205.0.0.RC4/org/springframework/http/server/RequestPath.html</a>\n<a href=\"https://docs.spring.io/spring-framework/docs/5.0.0.RC3_to_5.0.0.RC4/Spring%20Framework%205.0.0.RC4/org/springframework/http/server/PathContainer.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.0.0.RC3_to_5.0.0.RC4/Spring%20Framework%205.0.0.RC4/org/springframework/http/server/PathContainer.html</a></p>\n"},{"tags":[],"owner":{"account_id":5965724,"reputation":93,"user_id":4689560,"display_name":"Sai Ram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645851743,"creation_date":1645455748,"answer_id":71208502,"question_id":58678562,"body_markdown":"`ServerHttpRequest request = (ServerHttpRequest) exchange.getRequest(); `\r\n\r\nUsing  `request.getURI().getPath()` I am able to get the API path.\r\n\r\n   \r\n\r\n     @Component\r\n        public class ServerAuthEntryPointJwt implements ServerAuthenticationEntryPoint {\r\n        \r\n        \tprivate static final Logger logger = LoggerFactory.getLogger(ServerAuthEntryPointJwt.class);\r\n        \r\n        \t@Override\r\n        \tpublic Mono&lt;Void&gt; commence(ServerWebExchange exchange, AuthenticationException ex) {\r\n        \t\t// TODO Auto-generated method stub\r\n        \t\tlogger.error(&quot;Unauthorized error: {}&quot;, ex.getMessage());\r\n        \r\n        \t\tServerHttpRequest request = (ServerHttpRequest) exchange.getRequest(); \r\n        \t\tServerHttpResponse response = (ServerHttpResponse) exchange.getResponse();\r\n        \r\n        //    response.set(MediaType.APPLICATION_JSON_VALUE);\r\n        \t\tresponse.setStatusCode(HttpStatus.UNAUTHORIZED);\r\n        \r\n        \t\tfinal Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n        \t\tbody.put(&quot;status&quot;, HttpStatus.UNAUTHORIZED);\r\n        \t\tbody.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n        \t\tbody.put(&quot;message&quot;, ex.getMessage());\r\n        \t\tbody.put(&quot;path&quot;, request.getURI().getPath());\r\n        \t\tresponse.getHeaders().add(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\r\n        \t\tJSONObject fadfa = new JSONObject(body);\r\n        \t\tbyte[] bytes = fadfa.toString().getBytes(StandardCharsets.UTF_8);\r\n        \t\tDataBuffer buffer = exchange.getResponse().bufferFactory().wrap(bytes);\r\n        \t\treturn exchange.getResponse().writeWith(Flux.just(buffer));\r\n        \r\n        \t}\r\n        \r\n        }\r\n\r\n**Response :**\r\n    \r\n    {\r\n            &quot;path&quot;: &quot;/admin-service/conversation-management/conversations&quot;,\r\n            &quot;error&quot;: &quot;Unauthorized&quot;,\r\n            &quot;message&quot;: &quot;Not Authenticated&quot;,\r\n            &quot;status&quot;: &quot;UNAUTHORIZED&quot;\r\n        }\r\n\r\n","title":"How to get original url path in webflux ServerHttpRequest","body":"<p><code>ServerHttpRequest request = (ServerHttpRequest) exchange.getRequest(); </code></p>\n<p>Using  <code>request.getURI().getPath()</code> I am able to get the API path.</p>\n<pre><code> @Component\n    public class ServerAuthEntryPointJwt implements ServerAuthenticationEntryPoint {\n    \n        private static final Logger logger = LoggerFactory.getLogger(ServerAuthEntryPointJwt.class);\n    \n        @Override\n        public Mono&lt;Void&gt; commence(ServerWebExchange exchange, AuthenticationException ex) {\n            // TODO Auto-generated method stub\n            logger.error(&quot;Unauthorized error: {}&quot;, ex.getMessage());\n    \n            ServerHttpRequest request = (ServerHttpRequest) exchange.getRequest(); \n            ServerHttpResponse response = (ServerHttpResponse) exchange.getResponse();\n    \n    //    response.set(MediaType.APPLICATION_JSON_VALUE);\n            response.setStatusCode(HttpStatus.UNAUTHORIZED);\n    \n            final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n            body.put(&quot;status&quot;, HttpStatus.UNAUTHORIZED);\n            body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n            body.put(&quot;message&quot;, ex.getMessage());\n            body.put(&quot;path&quot;, request.getURI().getPath());\n            response.getHeaders().add(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;);\n            JSONObject fadfa = new JSONObject(body);\n            byte[] bytes = fadfa.toString().getBytes(StandardCharsets.UTF_8);\n            DataBuffer buffer = exchange.getResponse().bufferFactory().wrap(bytes);\n            return exchange.getResponse().writeWith(Flux.just(buffer));\n    \n        }\n    \n    }\n</code></pre>\n<p><strong>Response :</strong></p>\n<pre><code>{\n        &quot;path&quot;: &quot;/admin-service/conversation-management/conversations&quot;,\n        &quot;error&quot;: &quot;Unauthorized&quot;,\n        &quot;message&quot;: &quot;Not Authenticated&quot;,\n        &quot;status&quot;: &quot;UNAUTHORIZED&quot;\n    }\n</code></pre>\n"}],"owner":{"account_id":12394094,"reputation":71,"user_id":9034794,"display_name":"Apil Pokharel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6734,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645851743,"creation_date":1572770128,"question_id":58678562,"body_markdown":"**How to get absolute URL as written in RequestMapping ?**\r\n\r\nThe code given below :\r\n\r\n`@RequestMapping(&quot;/user/{id}&quot;)\r\n public User get(){\r\n   String url  = &quot;/user/{id}&quot;;\r\n };`","title":"How to get original url path in webflux ServerHttpRequest","body":"<p><strong>How to get absolute URL as written in RequestMapping ?</strong></p>\n\n<p>The code given below :</p>\n\n<p><code>@RequestMapping(\"/user/{id}\")\n public User get(){\n   String url  = \"/user/{id}\";\n };</code></p>\n"},{"tags":["java","android","arcore"],"answers":[{"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1562601254,"creation_date":1562579781,"answer_id":56932459,"question_id":56930020,"body_markdown":"I think you mean you want to add a video as a renderable in ARCore, in your case when an image is detected.\r\n\r\nThere is actually (at the time of writing) an example included with Sceneform showing how to add a video as a renderable - it is available here: https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/chromakeyvideo\r\n\r\nThis particular example also applies a Chroma filter but you can simply ignore that part.\r\n\r\nThe approach is roughly:\r\n\r\n - create an ExternalTexture to play the video on\r\n - create a MediaPlayer and set its surface to the ExternalTexture&#39;s surface\r\n - build a new renderable with the ExternalTexture \r\n - create a node and add it to your scene\r\n - set the renderable for the node to the the new ModelRenderable you built\r\n\r\nFor Augmented images, ArCore will automatically calculate the size of the image that it detects so long as the state of the image is &#39;TRACKING&quot;. From the documentation: \r\n\r\n&gt; ARCore will attempt to estimate the physical image&#39;s width based on its understanding of the world. If the optional physical size is specified in the database, this estimation process will happen more quickly. However, the estimated size may be different from the specified size.\r\n\r\nYour renderable will be sized to fit inside this by default but you can scale the renderable up or down as you want also.\r\n\r\nThere is a series of articles available which may cover your exact case, depending on exactly what you need, along with some example code here: https://proandroiddev.com/arcore-sceneform-simple-video-playback-3fe2f909bfbc\r\n","title":"ARCore: How to play video in the photo frame when an image detected","body":"<p>I think you mean you want to add a video as a renderable in ARCore, in your case when an image is detected.</p>\n\n<p>There is actually (at the time of writing) an example included with Sceneform showing how to add a video as a renderable - it is available here: <a href=\"https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/chromakeyvideo\" rel=\"nofollow noreferrer\">https://github.com/google-ar/sceneform-android-sdk/tree/master/samples/chromakeyvideo</a></p>\n\n<p>This particular example also applies a Chroma filter but you can simply ignore that part.</p>\n\n<p>The approach is roughly:</p>\n\n<ul>\n<li>create an ExternalTexture to play the video on</li>\n<li>create a MediaPlayer and set its surface to the ExternalTexture's surface</li>\n<li>build a new renderable with the ExternalTexture </li>\n<li>create a node and add it to your scene</li>\n<li>set the renderable for the node to the the new ModelRenderable you built</li>\n</ul>\n\n<p>For Augmented images, ArCore will automatically calculate the size of the image that it detects so long as the state of the image is 'TRACKING\". From the documentation: </p>\n\n<blockquote>\n  <p>ARCore will attempt to estimate the physical image's width based on its understanding of the world. If the optional physical size is specified in the database, this estimation process will happen more quickly. However, the estimated size may be different from the specified size.</p>\n</blockquote>\n\n<p>Your renderable will be sized to fit inside this by default but you can scale the renderable up or down as you want also.</p>\n\n<p>There is a series of articles available which may cover your exact case, depending on exactly what you need, along with some example code here: <a href=\"https://proandroiddev.com/arcore-sceneform-simple-video-playback-3fe2f909bfbc\" rel=\"nofollow noreferrer\">https://proandroiddev.com/arcore-sceneform-simple-video-playback-3fe2f909bfbc</a></p>\n"},{"tags":[],"owner":{"account_id":23417484,"reputation":1,"user_id":17478222,"display_name":"vegulla arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645850035,"creation_date":1645850035,"answer_id":71274101,"question_id":56930020,"body_markdown":"External texture is not working now a days create video node to show videos.\r\nThe link to refer is https://github.com/SceneView/sceneform-android/blob/master/samples/video-texture/src/main/java/com/google/ar/sceneform/samples/videotexture/MainActivity.java","title":"ARCore: How to play video in the photo frame when an image detected","body":"<p>External texture is not working now a days create video node to show videos.\nThe link to refer is <a href=\"https://github.com/SceneView/sceneform-android/blob/master/samples/video-texture/src/main/java/com/google/ar/sceneform/samples/videotexture/MainActivity.java\" rel=\"nofollow noreferrer\">https://github.com/SceneView/sceneform-android/blob/master/samples/video-texture/src/main/java/com/google/ar/sceneform/samples/videotexture/MainActivity.java</a></p>\n"}],"owner":{"account_id":5539585,"reputation":6127,"user_id":5710014,"accept_rate":37,"display_name":"blackHawk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645850035,"creation_date":1562570252,"question_id":56930020,"body_markdown":"I want to play video in in photo frame when image is detected, anybody who have done this using ARCore? would be great help\r\n\r\nThanks","title":"ARCore: How to play video in the photo frame when an image detected","body":"<p>I want to play video in in photo frame when image is detected, anybody who have done this using ARCore? would be great help</p>\n\n<p>Thanks</p>\n"},{"tags":["java","try-with-resources"],"comments":[{"owner":{"account_id":6288043,"reputation":770,"user_id":4886572,"display_name":"brijesh"},"score":0,"creation_date":1564428480,"post_id":57260220,"comment_id":101019682,"body_markdown":"try this :  try (Response response = client.newCall(request).execute()) {","body":"try this :  try (Response response = client.newCall(request).execute()) {"},{"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"score":0,"creation_date":1564428517,"post_id":57260220,"comment_id":101019704,"body_markdown":"@btreport I&#39;ve tried that before without luck, I&#39;ll add it to my post description.","body":"@btreport I&#39;ve tried that before without luck, I&#39;ll add it to my post description."},{"owner":{"account_id":14093036,"reputation":768,"user_id":10180730,"display_name":"Er. Harsh Rathore"},"score":0,"creation_date":1564429252,"post_id":57260220,"comment_id":101020014,"body_markdown":"which version of java you working on?","body":"which version of java you working on?"},{"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"score":0,"creation_date":1564429338,"post_id":57260220,"comment_id":101020050,"body_markdown":"@ErHarshRathore I&#39;m working with Java 8","body":"@ErHarshRathore I&#39;m working with Java 8"},{"owner":{"account_id":14093036,"reputation":768,"user_id":10180730,"display_name":"Er. Harsh Rathore"},"score":0,"creation_date":1564429502,"post_id":57260220,"comment_id":101020120,"body_markdown":"As per my knowledge java 8 is not able to read this try (Response response = call.execute()){}    instead you should try the declaration and definition separately like Response response; try (response = call.execute())","body":"As per my knowledge java 8 is not able to read this try (Response response = call.execute()){}    instead you should try the declaration and definition separately like Response response; try (response = call.execute())"},{"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"score":0,"creation_date":1564429575,"post_id":57260220,"comment_id":101020146,"body_markdown":"@ErHarshRathore try-with-resources was added in Java 7, so that&#39;s not the issue here.","body":"@ErHarshRathore try-with-resources was added in Java 7, so that&#39;s not the issue here."},{"owner":{"account_id":14093036,"reputation":768,"user_id":10180730,"display_name":"Er. Harsh Rathore"},"score":0,"creation_date":1564429634,"post_id":57260220,"comment_id":101020168,"body_markdown":"try(Declaration + Definition) {} feature is first introduced in java 9","body":"try(Declaration + Definition) {} feature is first introduced in java 9"},{"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"score":0,"creation_date":1564430507,"post_id":57260220,"comment_id":101020503,"body_markdown":"@ErHarshRathore maybe you&#39;re confused about this, in fact, ```Response response; try (response = call.execute())``` is not valid.","body":"@ErHarshRathore maybe you&#39;re confused about this, in fact, <code>Response response; try (response = call.execute())</code> is not valid."},{"owner":{"account_id":14093036,"reputation":768,"user_id":10180730,"display_name":"Er. Harsh Rathore"},"score":0,"creation_date":1564430907,"post_id":57260220,"comment_id":101020659,"body_markdown":"@Villat yes I am getting little bit confused. Sorry","body":"@Villat yes I am getting little bit confused. Sorry"}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1564432345,"creation_date":1564429722,"answer_id":57260530,"question_id":57260220,"body_markdown":"As per [`Response.close()` javadoc][1]:\r\n\r\n&gt; It is an error to close a response that is not eligible for a body. This includes the responses returned from `cacheResponse`, `networkResponse`, and `priorResponse()`.\r\n\r\nPerhaps your code should look like below, as per [Github comment][2]:\r\n\r\n```\r\nwhile (repeatRequest) {\r\n    Call call = client.newCall(request);\r\n    Response response = call.execute();\r\n    try (ResponseBody body = response.body()) {\r\n        ...\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://square.github.io/okhttp/3.x/okhttp/okhttp3/Response.html#close--\r\n  [2]: https://github.com/square/okhttp/issues/2311#issuecomment-179521327","title":"A connection to (...) was leaked. Did you forget to close a response body?","body":"<p>As per <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/Response.html#close--\" rel=\"noreferrer\"><code>Response.close()</code> javadoc</a>:</p>\n\n<blockquote>\n  <p>It is an error to close a response that is not eligible for a body. This includes the responses returned from <code>cacheResponse</code>, <code>networkResponse</code>, and <code>priorResponse()</code>.</p>\n</blockquote>\n\n<p>Perhaps your code should look like below, as per <a href=\"https://github.com/square/okhttp/issues/2311#issuecomment-179521327\" rel=\"noreferrer\">Github comment</a>:</p>\n\n<pre><code>while (repeatRequest) {\n    Call call = client.newCall(request);\n    Response response = call.execute();\n    try (ResponseBody body = response.body()) {\n        ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1322392,"reputation":7439,"user_id":1690078,"accept_rate":67,"display_name":"Clyde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645848605,"creation_date":1645848605,"answer_id":71274014,"question_id":57260220,"body_markdown":"When using Kotlin, this can easily be handled by closing the `respoonse.body` if it is non-null. If a body is present, closing it closes the source but if it is not present, closing is not required. For example:\r\n\r\n````\r\n                    val response = client.newCall(request).execute()\r\n                    // check for response.isSuccessful here, or read the body if required\r\n                    response.body?.close()\r\n````\r\n","title":"A connection to (...) was leaked. Did you forget to close a response body?","body":"<p>When using Kotlin, this can easily be handled by closing the <code>respoonse.body</code> if it is non-null. If a body is present, closing it closes the source but if it is not present, closing is not required. For example:</p>\n<pre><code>                    val response = client.newCall(request).execute()\n                    // check for response.isSuccessful here, or read the body if required\n                    response.body?.close()\n</code></pre>\n"}],"owner":{"account_id":2437651,"reputation":1465,"user_id":2127121,"accept_rate":88,"display_name":"Villat"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31257,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":2,"score":25,"last_activity_date":1645848605,"creation_date":1564428117,"question_id":57260220,"body_markdown":"I&#39;m having a warning message constantly, despite my code seems to be good. The message is:\r\n\r\n```none\r\nWARNING: A connection to http://someurl.com was leaked. Did you forget to close a response body?\r\njava.lang.Throwable: response.body().close()\r\n\tat okhttp3.internal.platform.Platform.getStackTraceForCloseable(Platform.java:148)\r\n\tat okhttp3.RealCall.captureCallStackTrace(RealCall.java:89)\r\n\tat okhttp3.RealCall.execute(RealCall.java:73)\r\n\tat com.example.HTTPSClientReferenceRate.runClient(HTTPSClientReferenceRate.java:78)\r\n\tat com.example.HTTPSClientReferenceRate.main(HTTPSClientReferenceRate.java:137)\r\n```\r\n\r\nI&#39;m working with Java 8. I&#39;ve tried with the traditional `try-catch` and with this approach (`try-with-resources`):\r\n\r\n```\r\nboolean repeatRequest = true;\r\n\r\nwhile(repeatRequest) {\r\n\tCall call = client.newCall(request);\r\n\ttry (Response response = call.execute()){\r\n\t\tif (!response.isSuccessful()) {\r\n\t\t\tlog.error(&quot;Error with the response: &quot; + response.message());\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tResponseBody body = response.body();\r\n\t\tif (body == null){\r\n\t\t\tlog.error(&quot;Error when getting body from the response: &quot; + response.message());\r\n\t\t\tcontinue;\r\n\t\t}\r\n\t\tBufferedReader br = new BufferedReader(body.charStream());\r\n\r\n\t\t//...DATA HANDLING\r\n\t\t\r\n\t} catch (Exception e) {\r\n\t\tlog.error(&quot;Error Connecting to the stream. Retrying... Error message: &quot; + e.getMessage());\r\n\t}\r\n}\r\n```\r\n\r\nIn fact, the first **if** line is never called, I always have an exception, so I cannot understand why the response/body is not closed by the try-with-resources block\r\n\r\nI&#39;ve tried this option as well, but it didn&#39;t work either:\r\n\r\n```\r\ntry (Response response = client.newCall(request).execute()) { ... }\r\n\r\n```\r\n\r\n**EDIT**\r\n\r\nI&#39;ve reduced my code, and I&#39;m still having the same error, this is even weirder:\r\n\r\n```\r\nboolean repeatRequest = true;\r\n\r\nwhile(repeatRequest) {\r\n\tCall call = client.newCall(request);\r\n\ttry (Response response = call.execute()){\r\n\t\t//NOTHING\r\n\t} catch (Exception e) {\r\n\t\tlog.error(&quot;Error Connecting to the stream. Retrying... Error message: &quot; + e.getMessage());\r\n\t}\r\n}\r\n```\r\n\r\n**EDIT 2**:\r\n\r\nI&#39;ve tried with the traditional `try-catch` but I&#39;m still having the same issue:\r\n\r\n```\r\nboolean repeatRequest = true;\r\n\r\nwhile(repeatRequest) {\r\n\tCall call = client.newCall(request);\r\n\tResponse response = null;\r\n\ttry {\r\n\t\tresponse = call.execute();\r\n\t\ttry (ResponseBody body = response.body()) {\r\n\t\t\t//Nothing...\r\n\t\t}\r\n\t} catch (Exception e) {\r\n\t\tlog.error(&quot;Error Connecting to the stream. Retrying... Error message: &quot; + e.getMessage());\r\n\t} finally {\r\n\t\tif (response != null){\r\n\t\t\tresponse.close();\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"A connection to (...) was leaked. Did you forget to close a response body?","body":"<p>I'm having a warning message constantly, despite my code seems to be good. The message is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>WARNING: A connection to http://someurl.com was leaked. Did you forget to close a response body?\njava.lang.Throwable: response.body().close()\n    at okhttp3.internal.platform.Platform.getStackTraceForCloseable(Platform.java:148)\n    at okhttp3.RealCall.captureCallStackTrace(RealCall.java:89)\n    at okhttp3.RealCall.execute(RealCall.java:73)\n    at com.example.HTTPSClientReferenceRate.runClient(HTTPSClientReferenceRate.java:78)\n    at com.example.HTTPSClientReferenceRate.main(HTTPSClientReferenceRate.java:137)\n</code></pre>\n\n<p>I'm working with Java 8. I've tried with the traditional <code>try-catch</code> and with this approach (<code>try-with-resources</code>):</p>\n\n<pre><code>boolean repeatRequest = true;\n\nwhile(repeatRequest) {\n    Call call = client.newCall(request);\n    try (Response response = call.execute()){\n        if (!response.isSuccessful()) {\n            log.error(\"Error with the response: \" + response.message());\n            continue;\n        }\n        ResponseBody body = response.body();\n        if (body == null){\n            log.error(\"Error when getting body from the response: \" + response.message());\n            continue;\n        }\n        BufferedReader br = new BufferedReader(body.charStream());\n\n        //...DATA HANDLING\n\n    } catch (Exception e) {\n        log.error(\"Error Connecting to the stream. Retrying... Error message: \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p>In fact, the first <strong>if</strong> line is never called, I always have an exception, so I cannot understand why the response/body is not closed by the try-with-resources block</p>\n\n<p>I've tried this option as well, but it didn't work either:</p>\n\n<pre><code>try (Response response = client.newCall(request).execute()) { ... }\n\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I've reduced my code, and I'm still having the same error, this is even weirder:</p>\n\n<pre><code>boolean repeatRequest = true;\n\nwhile(repeatRequest) {\n    Call call = client.newCall(request);\n    try (Response response = call.execute()){\n        //NOTHING\n    } catch (Exception e) {\n        log.error(\"Error Connecting to the stream. Retrying... Error message: \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p><strong>EDIT 2</strong>:</p>\n\n<p>I've tried with the traditional <code>try-catch</code> but I'm still having the same issue:</p>\n\n<pre><code>boolean repeatRequest = true;\n\nwhile(repeatRequest) {\n    Call call = client.newCall(request);\n    Response response = null;\n    try {\n        response = call.execute();\n        try (ResponseBody body = response.body()) {\n            //Nothing...\n        }\n    } catch (Exception e) {\n        log.error(\"Error Connecting to the stream. Retrying... Error message: \" + e.getMessage());\n    } finally {\n        if (response != null){\n            response.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","api","paypal"],"answers":[{"tags":[],"owner":{"account_id":2363385,"reputation":28333,"user_id":2069605,"display_name":"Preston PHX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1613300121,"creation_date":1613300121,"answer_id":66194659,"question_id":66194516,"body_markdown":"Which new API? There are several. Are you using the Checkout-Java-SDK? The best integrations do not use a redirect, and hence do not need a return URL.\r\n\r\nInstead, implement two routes on your server that return JSON data -- one for &#39;Create Order&#39; and one for &#39;Capture Order&#39;, [documented here][1].\r\n\r\nThe approval flow to pair those two routes with is: https://developer.paypal.com/demo/checkout/#/pattern/server\r\n\r\nThis flow does not redirect away, hence there is no need or use for a return URL and if specified it will be ignored.\r\n\r\n&gt; I have already setting an url return (google.com for testing) in my sandbox account but it seems not work.\r\n\r\nThat is for non-API integrations that use a link or HTML form post. There is no API integration that pays any attention to that profile setting.\r\n\r\n  [1]: https://developer.paypal.com/docs/business/checkout/server-side-api-calls/#server-side-api-calls","title":"PayPal API set return URL","body":"<p>Which new API? There are several. Are you using the Checkout-Java-SDK? The best integrations do not use a redirect, and hence do not need a return URL.</p>\n<p>Instead, implement two routes on your server that return JSON data -- one for 'Create Order' and one for 'Capture Order', <a href=\"https://developer.paypal.com/docs/business/checkout/server-side-api-calls/#server-side-api-calls\" rel=\"nofollow noreferrer\">documented here</a>.</p>\n<p>The approval flow to pair those two routes with is: <a href=\"https://developer.paypal.com/demo/checkout/#/pattern/server\" rel=\"nofollow noreferrer\">https://developer.paypal.com/demo/checkout/#/pattern/server</a></p>\n<p>This flow does not redirect away, hence there is no need or use for a return URL and if specified it will be ignored.</p>\n<blockquote>\n<p>I have already setting an url return (google.com for testing) in my sandbox account but it seems not work.</p>\n</blockquote>\n<p>That is for non-API integrations that use a link or HTML form post. There is no API integration that pays any attention to that profile setting.</p>\n"},{"tags":[],"owner":{"account_id":2217036,"reputation":572,"user_id":1957373,"accept_rate":70,"display_name":"jsdecena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645848480,"creation_date":1645848480,"answer_id":71274004,"question_id":66194516,"body_markdown":"I know this is an old post now but with REST API, there is a way to return these URLs. If you go to https://developer.paypal.com/api/orders/v2/ and click the application_context object link, you would be able to see the other details you can add to pass into your payload -- eg. brand_name, return_url, cancel_url etc. I do not think that Paypal has provided now an SDK but would love to know if there is. Right now, only the REST endpoints and payloads are available on their developer page.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eDWte.png\r\n","title":"PayPal API set return URL","body":"<p>I know this is an old post now but with REST API, there is a way to return these URLs. If you go to <a href=\"https://developer.paypal.com/api/orders/v2/\" rel=\"nofollow noreferrer\">https://developer.paypal.com/api/orders/v2/</a> and click the application_context object link, you would be able to see the other details you can add to pass into your payload -- eg. brand_name, return_url, cancel_url etc. I do not think that Paypal has provided now an SDK but would love to know if there is. Right now, only the REST endpoints and payloads are available on their developer page.</p>\n<p><a href=\"https://i.stack.imgur.com/eDWte.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eDWte.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"user7976074"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1681,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66194659,"answer_count":2,"score":0,"last_activity_date":1645848480,"creation_date":1613299054,"question_id":66194516,"body_markdown":"With the oldest PayPal API, setting the return URL when a checkout is accomplishment, or when checkout is eliminated is easy, as described here:\r\n\r\n    \r\n\tPayment payment = new Payment();\r\n    RedirectUrls redirectUrls = new RedirectUrls();\r\n\tredirectUrls.setCancelUrl(cancelUrl);\r\n\tredirectUrls.setReturnUrl(successUrl);\r\n\tpayment.setRedirectUrls(redirectUrls);\r\n\r\nHow can I accomplished this goal with new PayPal API?\r\nI have already setting an url return (google.com for testing) in my sandbox account but it seems not work..","title":"PayPal API set return URL","body":"<p>With the oldest PayPal API, setting the return URL when a checkout is accomplishment, or when checkout is eliminated is easy, as described here:</p>\n<pre><code>Payment payment = new Payment();\nRedirectUrls redirectUrls = new RedirectUrls();\nredirectUrls.setCancelUrl(cancelUrl);\nredirectUrls.setReturnUrl(successUrl);\npayment.setRedirectUrls(redirectUrls);\n</code></pre>\n<p>How can I accomplished this goal with new PayPal API?\nI have already setting an url return (google.com for testing) in my sandbox account but it seems not work..</p>\n"},{"tags":["java","methods","interface","static"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645846475,"creation_date":1645844351,"answer_id":71273749,"question_id":71273477,"body_markdown":"No, the interface can&#39;t keep state, so there isn&#39;t anywhere for the shared instance to hang out. This is not a way to implement a singleton. It must be a factory method. I think adding a method like this is confusing and probably a bad idea because it ties together the interface and the implementation in an inflexible way. you&#39;re expected to create something that implements Util, so there is going to be a constructor call for that class implementing Util. Otherwise it&#39;s not clear.\r\n\r\nAnother sign this is a bad idea is obviously Util doesn&#39;t have any instance methods so isn&#39;t usable as an object; either a) there is no state and creating an object is pointless or b) the object returned has to be cast to something else to be useful. Casts are bad, for the most part; they mean we&#39;re not benefiting from using the type system. \r\n\r\nAn interface is like a mask an object wears to keep users of it from seeing anything on it except what is on the interface. But allowing static methods is kind of a bolted-on feature that doesn&#39;t have much to do with interfaces (except that classes that implement the interface can call them without having to reference the interface).\r\n\r\n\r\nOriginally in Java you could put static methods only in classes, not in interfaces. There was an idea of a utility class, which was just a dumping ground for people to put static methods, and which didn&#39;t have any purpose as a class otherwise. Then there was a  change to the language so you can put static methods on interfaces and not have to have a class involved. That&#39;s all putting static methods on an interface buys you, you can add only static methods because there is no mutable state allowed. \r\n\r\nThese methods outlined for you should all be things you can implement with only passed in arguments and local variables, without keeping any state outside of the scope of the method implementation. \r\n\r\nI&#39;ve tried to give you some idea of what is possible and what isn&#39;t, once that is clear you can ask your instructor some more focused questions about what you need to do. ","title":"Java - static method in an interface - What do I need to do?","body":"<p>No, the interface can't keep state, so there isn't anywhere for the shared instance to hang out. This is not a way to implement a singleton. It must be a factory method. I think adding a method like this is confusing and probably a bad idea because it ties together the interface and the implementation in an inflexible way. you're expected to create something that implements Util, so there is going to be a constructor call for that class implementing Util. Otherwise it's not clear.</p>\n<p>Another sign this is a bad idea is obviously Util doesn't have any instance methods so isn't usable as an object; either a) there is no state and creating an object is pointless or b) the object returned has to be cast to something else to be useful. Casts are bad, for the most part; they mean we're not benefiting from using the type system.</p>\n<p>An interface is like a mask an object wears to keep users of it from seeing anything on it except what is on the interface. But allowing static methods is kind of a bolted-on feature that doesn't have much to do with interfaces (except that classes that implement the interface can call them without having to reference the interface).</p>\n<p>Originally in Java you could put static methods only in classes, not in interfaces. There was an idea of a utility class, which was just a dumping ground for people to put static methods, and which didn't have any purpose as a class otherwise. Then there was a  change to the language so you can put static methods on interfaces and not have to have a class involved. That's all putting static methods on an interface buys you, you can add only static methods because there is no mutable state allowed.</p>\n<p>These methods outlined for you should all be things you can implement with only passed in arguments and local variables, without keeping any state outside of the scope of the method implementation.</p>\n<p>I've tried to give you some idea of what is possible and what isn't, once that is clear you can ask your instructor some more focused questions about what you need to do.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645847179,"creation_date":1645846169,"answer_id":71273862,"question_id":71273477,"body_markdown":"I agree with [Nathan Hughes][1].  This an ill-conceived design, on the face of it.  \r\n\r\nBut to cut to the chase, here is an example of you could complete that static method:\r\n\r\n       static Util create() {\r\n           return new OookUtil();\r\n       }\r\n\r\nwhere\r\n\r\n       public class OookUtil implements Util {\r\n           public OookUtil() { ... }\r\n           // methods implementing the Util API for the Oook case.\r\n       }\r\n\r\nReviewing this we can immediately see one of the problems with the interface design.  We have hard-wired a specific implementation class into the interface.  That is most likely a bad idea.\r\n\r\nCould we do any better?  Well ... maybe ...\r\n\r\nThe Java SE class libraries have a concept of a [Java Service Provider Interface](https://www.baeldung.com/java-spi) or SPI.  An SPI allows different providers to be selected depending on what is available at runtime, and so on.  The idea is that SPI code does a runtime classpath search looking for all classes that implement the SPI (e.g. your `Util`).  Then it selects the &quot;best&quot; according to (typically) runtime configurable criteria.\r\n\r\nThat logic would be implemented in your `create` method.  The method would then instantiate the chosen class reflectively and return the instance.  In its simplest form (ignoring the classpath search aspect) it might be something like this:\r\n\r\n       static Util create() {\r\n           String classname = System.getProperty(&quot;yourapp.utilclass&quot;);\r\n           Class&lt;?&gt; clazz Class.forName(className);\r\n           return (Util) clazz.newInstance();\r\n       }\r\n\r\nIn this illustration are getting a classname from the system properties.  It could be set by running the application with a `-D` option; e.g. `-Dyourapp.utilclass=yourapp.OookUtil`.\r\n\r\nThe above code needs some exception handling ... which I will leave for you to figure out.  \r\n\r\nMaybe that is what your instructor is getting at.  But if so, he or she *should have explained* more clearly what was expected.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/71273749/139985","title":"Java - static method in an interface - What do I need to do?","body":"<p>I agree with <a href=\"https://stackoverflow.com/a/71273749/139985\">Nathan Hughes</a>.  This an ill-conceived design, on the face of it.</p>\n<p>But to cut to the chase, here is an example of you could complete that static method:</p>\n<pre><code>   static Util create() {\n       return new OookUtil();\n   }\n</code></pre>\n<p>where</p>\n<pre><code>   public class OookUtil implements Util {\n       public OookUtil() { ... }\n       // methods implementing the Util API for the Oook case.\n   }\n</code></pre>\n<p>Reviewing this we can immediately see one of the problems with the interface design.  We have hard-wired a specific implementation class into the interface.  That is most likely a bad idea.</p>\n<p>Could we do any better?  Well ... maybe ...</p>\n<p>The Java SE class libraries have a concept of a <a href=\"https://www.baeldung.com/java-spi\" rel=\"nofollow noreferrer\">Java Service Provider Interface</a> or SPI.  An SPI allows different providers to be selected depending on what is available at runtime, and so on.  The idea is that SPI code does a runtime classpath search looking for all classes that implement the SPI (e.g. your <code>Util</code>).  Then it selects the &quot;best&quot; according to (typically) runtime configurable criteria.</p>\n<p>That logic would be implemented in your <code>create</code> method.  The method would then instantiate the chosen class reflectively and return the instance.  In its simplest form (ignoring the classpath search aspect) it might be something like this:</p>\n<pre><code>   static Util create() {\n       String classname = System.getProperty(&quot;yourapp.utilclass&quot;);\n       Class&lt;?&gt; clazz Class.forName(className);\n       return (Util) clazz.newInstance();\n   }\n</code></pre>\n<p>In this illustration are getting a classname from the system properties.  It could be set by running the application with a <code>-D</code> option; e.g. <code>-Dyourapp.utilclass=yourapp.OookUtil</code>.</p>\n<p>The above code needs some exception handling ... which I will leave for you to figure out.</p>\n<p>Maybe that is what your instructor is getting at.  But if so, he or she <em>should have explained</em> more clearly what was expected.</p>\n"}],"owner":{"account_id":24381549,"reputation":31,"user_id":18313005,"display_name":"Allmighty Fishmonger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1312,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1645847179,"creation_date":1645840367,"question_id":71273477,"body_markdown":"The details:\r\n\r\nI have been given a Java program in which I need to fill in some code. The main idea of the program is to get used to interfaces and static methods in them. For the past 6 hours I have been watching countless of videos regarding interfaces and static interfaces and I still feel somewhat clueless to what I am supposed to do.\r\n\r\n```\r\npublic interface Util {\r\n\r\n    static Util create() {\r\n        //TODO: this line needs to be replaced with the constructor of a concrete implementation \r\n        throw new IllegalStateException(&quot;Not implemented yet!&quot;);\r\n    }\r\n    Instruction forSymbols(Symbol first, Symbol last);\r\n    \r\n    Symbol forToken(String token);\r\n\r\n    Supplier&lt;Integer&gt; buildPipe(InputStream input);\r\n\r\n    Consumer&lt;Integer&gt; buildPipe(OutputStream output);\r\n\r\n    String getInstructionCode(Instruction instruction);\r\n\r\n    Optional&lt;Instruction&gt; getInstruction(String code);\r\n}\r\n```\r\nThis is a snippet of the util interface for a program that will be relevant for having a Ook! translator and is supposed to have a lot of useful tools for other classes.\r\n\r\nNow, my goal is to understand what I am supposed to do.\r\n\r\nWhat I tried:\r\n\r\nConsidering I don&#39;t know what I need to do, I don&#39;t know what I have to code. I understand that an interface is a sort of template for classes. A static method in an interface is the part that I don&#39;t understand yet: I have been told that a static method in an interface is something that *doesn&#39;t* have to be implemented in other classes. In my case, the static method create() is &quot;supposed to be a concrete instance of the util object&quot;. So, if I get this right, due to it being static, there would be one shared instance of util. \r\n\r\nAfterwards, if a class has the prompt *&quot;Instruction instruction = util.forSymbols(Symbol.Point, Symbol.Point);&quot;* after Util.create() has been used, I would have defined instruction using util&#39;s forSymbols method.\r\n\r\nI do not know if I am good at conveying just what I need. I per s&#233; understand what a constructor is, I understand what an interface is, I understand what static does, but I don&#39;t understand what I have to insert into the create() method. Heck, I don&#39;t even want a direct code solution to my problem, *I just want to understand what I am supposed to code*.\r\n\r\nThat being said, if anyone could give me an example of an interface working in a similar fashion as my code above that makes it clear just what exactly the static part in an interface does aswell as help me out with my describes issues, I would be tremendously thankful. Also, I hope that my issue description is alright.\r\n\r\nThat being said, thank you for trying to help me and thanks to all possible answers.\r\n","title":"Java - static method in an interface - What do I need to do?","body":"<p>The details:</p>\n<p>I have been given a Java program in which I need to fill in some code. The main idea of the program is to get used to interfaces and static methods in them. For the past 6 hours I have been watching countless of videos regarding interfaces and static interfaces and I still feel somewhat clueless to what I am supposed to do.</p>\n<pre><code>public interface Util {\n\n    static Util create() {\n        //TODO: this line needs to be replaced with the constructor of a concrete implementation \n        throw new IllegalStateException(&quot;Not implemented yet!&quot;);\n    }\n    Instruction forSymbols(Symbol first, Symbol last);\n    \n    Symbol forToken(String token);\n\n    Supplier&lt;Integer&gt; buildPipe(InputStream input);\n\n    Consumer&lt;Integer&gt; buildPipe(OutputStream output);\n\n    String getInstructionCode(Instruction instruction);\n\n    Optional&lt;Instruction&gt; getInstruction(String code);\n}\n</code></pre>\n<p>This is a snippet of the util interface for a program that will be relevant for having a Ook! translator and is supposed to have a lot of useful tools for other classes.</p>\n<p>Now, my goal is to understand what I am supposed to do.</p>\n<p>What I tried:</p>\n<p>Considering I don't know what I need to do, I don't know what I have to code. I understand that an interface is a sort of template for classes. A static method in an interface is the part that I don't understand yet: I have been told that a static method in an interface is something that <em>doesn't</em> have to be implemented in other classes. In my case, the static method create() is &quot;supposed to be a concrete instance of the util object&quot;. So, if I get this right, due to it being static, there would be one shared instance of util.</p>\n<p>Afterwards, if a class has the prompt <em>&quot;Instruction instruction = util.forSymbols(Symbol.Point, Symbol.Point);&quot;</em> after Util.create() has been used, I would have defined instruction using util's forSymbols method.</p>\n<p>I do not know if I am good at conveying just what I need. I per sé understand what a constructor is, I understand what an interface is, I understand what static does, but I don't understand what I have to insert into the create() method. Heck, I don't even want a direct code solution to my problem, <em>I just want to understand what I am supposed to code</em>.</p>\n<p>That being said, if anyone could give me an example of an interface working in a similar fashion as my code above that makes it clear just what exactly the static part in an interface does aswell as help me out with my describes issues, I would be tremendously thankful. Also, I hope that my issue description is alright.</p>\n<p>That being said, thank you for trying to help me and thanks to all possible answers.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1645781252,"post_id":71261200,"comment_id":125966717,"body_markdown":"what is this method `findOneWithAuthoritiesByClientID`. please update the question with where this is declared","body":"what is this method <code>findOneWithAuthoritiesByClientID</code>. please update the question with where this is declared"},{"owner":{"account_id":21778386,"reputation":3,"user_id":16080413,"display_name":"DevJaewoo"},"score":0,"creation_date":1645845020,"post_id":71261200,"comment_id":125984680,"body_markdown":"Edited the original question. Thanks.","body":"Edited the original question. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645765654,"creation_date":1645765654,"answer_id":71261298,"question_id":71261200,"body_markdown":"you may need to `saveAndFlush`\r\n\r\nbut I would recommend\r\n\r\n```\r\nfinal var client = clientRepository\r\n  .saveAndFlush(Client\r\n    .builder()\r\n    .clientID(clientSignupDTO.getClientID())\r\n    ...\r\n    .build());\r\n```\r\n\r\nSo you immediately get the managed copy.","title":"JPA doesn&#39;t get OneToMany mapped entity","body":"<p>you may need to <code>saveAndFlush</code></p>\n<p>but I would recommend</p>\n<pre><code>final var client = clientRepository\n  .saveAndFlush(Client\n    .builder()\n    .clientID(clientSignupDTO.getClientID())\n    ...\n    .build());\n</code></pre>\n<p>So you immediately get the managed copy.</p>\n"}],"owner":{"account_id":21778386,"reputation":3,"user_id":16080413,"display_name":"DevJaewoo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645844965,"creation_date":1645764664,"question_id":71261200,"body_markdown":"I made a service which has saving function:\r\n\r\nClientService.java\r\n```java\r\n@Transactional\r\npublic ClientDTO signUp(ClientSignupDTO clientSignupDTO) {\r\n\r\n    Client client = Client.builder()\r\n            .clientID(clientSignupDTO.getClientID())\r\n            .clientPassword(passwordEncoder.encode(clientSignupDTO.getClientPassword()))\r\n            .clientNickname(clientSignupDTO.getClientNickname())\r\n            .clientActivated(true)\r\n            .build();\r\n\r\n    client = clientRepository.save(client);\r\n    clientAuthorityRepository.save(new ClientAuthority(client, authorityRepository.getById(&quot;ROLE_CLIENT&quot;)));\r\n\r\n    client = clientRepository.findOneWithAuthoritiesByClientID(client.getClientID()).orElseThrow(() -&gt; new IllegalStateException(&quot;Client does not exist&quot;));\r\n\r\n    log.debug(&quot;{}&quot;, client.getAuthorities()); //This line throws NullPointerException\r\n\r\n    return new ClientDTO(client);\r\n}\r\n```\r\n\r\nI saved `Client` entity and `ClientAuthority` entity with saved `Client`&#39;s ID for M:N mapping.  \r\nBut when I try to find `Client` in same function, JPA returns `Client` without `ClientAuthority`.\r\n\r\nClient.java\r\n```java\r\n@Entity\r\n@Table(name = &quot;client&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\npublic class Client {\r\n\r\n    @Id\r\n    @Column(name = &quot;id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;client_id&quot;, length = 50)\r\n    private String clientID;\r\n\r\n    @Column(name = &quot;client_password&quot;)\r\n    private String clientPassword;\r\n\r\n    @Column(name = &quot;client_nickname&quot;, length = 50)\r\n    private String clientNickname;\r\n\r\n    @Column(name = &quot;client_since&quot;, nullable = false, updatable = false, insertable = false, columnDefinition = &quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP&quot;)\r\n    private Date clientSince;\r\n\r\n    @Column(name = &quot;client_activated&quot;)\r\n    private boolean clientActivated;\r\n\r\n    @JsonIgnore\r\n    @OneToMany(mappedBy = &quot;client&quot;)\r\n    private Set&lt;ClientAuthority&gt; clientAuthorities;\r\n\r\n    @JsonProperty(&quot;authorities&quot;)\r\n    public Set&lt;Authority&gt; getAuthorities() {\r\n        return clientAuthorities.stream().map(ClientAuthority::getAuthority).collect(Collectors.toSet());\r\n    }\r\n\r\n    public Client(Long id, String clientID, String clientPassword, String clientNickname, Date clientSince, boolean clientActivated, Set&lt;ClientAuthority&gt; clientAuthorities) {\r\n        this.id = id;\r\n        this.clientID = clientID;\r\n        this.clientPassword = clientPassword;\r\n        this.clientNickname = clientNickname;\r\n        this.clientSince = clientSince;\r\n        this.clientActivated = clientActivated;\r\n        this.clientAuthorities = clientAuthorities;\r\n    }\r\n}\r\n```\r\n\r\nClientAuthority.java\r\n```java\r\n@Entity\r\n@Table(name = &quot;client_authority&quot;)\r\n@Getter\r\n@Setter\r\n@Builder\r\n@NoArgsConstructor\r\npublic class ClientAuthority {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;client_authority_id&quot;)\r\n    private Long clientAuthorityID;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;client_id&quot;)\r\n    private Client client;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;authority_name&quot;)\r\n    private Authority authority;\r\n\r\n    public ClientAuthority(Long clientAuthorityID, Client client, Authority authority) {\r\n        this.clientAuthorityID = clientAuthorityID;\r\n        this.client = client;\r\n        this.authority = authority;\r\n    }\r\n\r\n    public ClientAuthority(Client client, Authority authority) {\r\n        this.client = client;\r\n        this.authority = authority;\r\n    }\r\n}\r\n```\r\n\r\nRepository that I used to find client is Spring Data JPA repository.\r\n\r\nClientRepository.java\r\n```java\r\n@Repository\r\npublic interface ClientRepository extends JpaRepository&lt;Client, Long&gt; {\r\n    Optional&lt;Client&gt; findOneWithAuthoritiesByClientID(String clientID);\r\n}\r\n```\r\n\r\nSince `clientAuthorities` inside `Client` that returned by `findOneWithAuthoritiesByClientID` is null, `Client.getAuthorities` returns `NullPointerException`.  \r\nOther properties such as `clientID`, `clientNickname`, etc. works fine but only `clientAuthorities` is null.\r\n\r\nHow can I get `Client` with `Set&lt;ClientAuthority&gt;` after save them?\r\n\r\nThanks.\r\n\r\n***\r\nEdit #1\r\n======\r\nEdited all `save` into `saveAndFlush` in function `signUp`.\r\nBut it keeps throwing `NullPointerException`.\r\n\r\n```java\r\n@Transactional\r\npublic ClientDTO signUp(ClientSignupDTO clientSignupDTO) {\r\n\r\n    Client client = clientRepository.saveAndFlush(Client.builder()\r\n            .clientID(clientSignupDTO.getClientID())\r\n            .clientPassword(passwordEncoder.encode(clientSignupDTO.getClientPassword()))\r\n            .clientNickname(clientSignupDTO.getClientNickname())\r\n            .clientActivated(true)\r\n            .build());\r\n\r\n    log.debug(&quot;{}, {}, {}, {}&quot;, client.getId(), client.getClientID(), client.getClientNickname(), client.getClientSince());\r\n\r\n    clientAuthorityRepository.saveAndFlush(new ClientAuthority(client, authorityRepository.getById(&quot;ROLE_CLIENT&quot;)));\r\n\r\n    client = clientRepository.findOneWithAuthoritiesByClientID(client.getClientID()).orElseThrow(() -&gt; new IllegalStateException(&quot;Client does not exist&quot;));\r\n\r\n    log.debug(&quot;{}, {}, {}, {}&quot;, client.getClientID(), client.getClientNickname(), client.getClientSince(), client.getAuthorities());\r\n\r\n    return new ClientDTO(client);\r\n}\r\n```\r\n\r\nThe log is:\r\n```\r\nHibernate: insert into client (client_activated, client_id, client_nickname, client_password) values (?, ?, ?, ?)\r\n2022-02-25 14:22:07.986 DEBUG 16684 --- [nio-8080-exec-3] c.d.s.service.ClientService              : 4, test, test, null\r\nHibernate: insert into client_authority (authority_name, client_id) values (?, ?)\r\nHibernate: select client0_.id as id1_1_, client0_.client_activated as client_a2_1_, client0_.client_id as client_i3_1_, client0_.client_nickname as client_n4_1_, client0_.client_password as client_p5_1_, client0_.client_since as client_s6_1_ from client client0_ where client0_.client_id=?\r\n2022-02-25 14:22:08.071 ERROR 16684 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\r\n\r\njava.lang.NullPointerException: null\r\n\tat com.devjaewoo.springtest.entity.Client.getAuthorities(Client.java:46) ~[classes/:na]\r\n```\r\n\r\nWhen I test `findOneWithAuthoritiesByClientID` function with sample data (with data.sql file) outside of `signUp` function, It works fine.\r\n\r\nWhy doesn&#39;t it work properly only inside of `signUp` function?\r\n","title":"JPA doesn&#39;t get OneToMany mapped entity","body":"<p>I made a service which has saving function:</p>\n<p>ClientService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic ClientDTO signUp(ClientSignupDTO clientSignupDTO) {\n\n    Client client = Client.builder()\n            .clientID(clientSignupDTO.getClientID())\n            .clientPassword(passwordEncoder.encode(clientSignupDTO.getClientPassword()))\n            .clientNickname(clientSignupDTO.getClientNickname())\n            .clientActivated(true)\n            .build();\n\n    client = clientRepository.save(client);\n    clientAuthorityRepository.save(new ClientAuthority(client, authorityRepository.getById(&quot;ROLE_CLIENT&quot;)));\n\n    client = clientRepository.findOneWithAuthoritiesByClientID(client.getClientID()).orElseThrow(() -&gt; new IllegalStateException(&quot;Client does not exist&quot;));\n\n    log.debug(&quot;{}&quot;, client.getAuthorities()); //This line throws NullPointerException\n\n    return new ClientDTO(client);\n}\n</code></pre>\n<p>I saved <code>Client</code> entity and <code>ClientAuthority</code> entity with saved <code>Client</code>'s ID for M:N mapping.<br />\nBut when I try to find <code>Client</code> in same function, JPA returns <code>Client</code> without <code>ClientAuthority</code>.</p>\n<p>Client.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;client&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\npublic class Client {\n\n    @Id\n    @Column(name = &quot;id&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;client_id&quot;, length = 50)\n    private String clientID;\n\n    @Column(name = &quot;client_password&quot;)\n    private String clientPassword;\n\n    @Column(name = &quot;client_nickname&quot;, length = 50)\n    private String clientNickname;\n\n    @Column(name = &quot;client_since&quot;, nullable = false, updatable = false, insertable = false, columnDefinition = &quot;TIMESTAMP DEFAULT CURRENT_TIMESTAMP&quot;)\n    private Date clientSince;\n\n    @Column(name = &quot;client_activated&quot;)\n    private boolean clientActivated;\n\n    @JsonIgnore\n    @OneToMany(mappedBy = &quot;client&quot;)\n    private Set&lt;ClientAuthority&gt; clientAuthorities;\n\n    @JsonProperty(&quot;authorities&quot;)\n    public Set&lt;Authority&gt; getAuthorities() {\n        return clientAuthorities.stream().map(ClientAuthority::getAuthority).collect(Collectors.toSet());\n    }\n\n    public Client(Long id, String clientID, String clientPassword, String clientNickname, Date clientSince, boolean clientActivated, Set&lt;ClientAuthority&gt; clientAuthorities) {\n        this.id = id;\n        this.clientID = clientID;\n        this.clientPassword = clientPassword;\n        this.clientNickname = clientNickname;\n        this.clientSince = clientSince;\n        this.clientActivated = clientActivated;\n        this.clientAuthorities = clientAuthorities;\n    }\n}\n</code></pre>\n<p>ClientAuthority.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;client_authority&quot;)\n@Getter\n@Setter\n@Builder\n@NoArgsConstructor\npublic class ClientAuthority {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;client_authority_id&quot;)\n    private Long clientAuthorityID;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;client_id&quot;)\n    private Client client;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;authority_name&quot;)\n    private Authority authority;\n\n    public ClientAuthority(Long clientAuthorityID, Client client, Authority authority) {\n        this.clientAuthorityID = clientAuthorityID;\n        this.client = client;\n        this.authority = authority;\n    }\n\n    public ClientAuthority(Client client, Authority authority) {\n        this.client = client;\n        this.authority = authority;\n    }\n}\n</code></pre>\n<p>Repository that I used to find client is Spring Data JPA repository.</p>\n<p>ClientRepository.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface ClientRepository extends JpaRepository&lt;Client, Long&gt; {\n    Optional&lt;Client&gt; findOneWithAuthoritiesByClientID(String clientID);\n}\n</code></pre>\n<p>Since <code>clientAuthorities</code> inside <code>Client</code> that returned by <code>findOneWithAuthoritiesByClientID</code> is null, <code>Client.getAuthorities</code> returns <code>NullPointerException</code>.<br />\nOther properties such as <code>clientID</code>, <code>clientNickname</code>, etc. works fine but only <code>clientAuthorities</code> is null.</p>\n<p>How can I get <code>Client</code> with <code>Set&lt;ClientAuthority&gt;</code> after save them?</p>\n<p>Thanks.</p>\n<hr />\n<h1>Edit #1</h1>\n<p>Edited all <code>save</code> into <code>saveAndFlush</code> in function <code>signUp</code>.\nBut it keeps throwing <code>NullPointerException</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic ClientDTO signUp(ClientSignupDTO clientSignupDTO) {\n\n    Client client = clientRepository.saveAndFlush(Client.builder()\n            .clientID(clientSignupDTO.getClientID())\n            .clientPassword(passwordEncoder.encode(clientSignupDTO.getClientPassword()))\n            .clientNickname(clientSignupDTO.getClientNickname())\n            .clientActivated(true)\n            .build());\n\n    log.debug(&quot;{}, {}, {}, {}&quot;, client.getId(), client.getClientID(), client.getClientNickname(), client.getClientSince());\n\n    clientAuthorityRepository.saveAndFlush(new ClientAuthority(client, authorityRepository.getById(&quot;ROLE_CLIENT&quot;)));\n\n    client = clientRepository.findOneWithAuthoritiesByClientID(client.getClientID()).orElseThrow(() -&gt; new IllegalStateException(&quot;Client does not exist&quot;));\n\n    log.debug(&quot;{}, {}, {}, {}&quot;, client.getClientID(), client.getClientNickname(), client.getClientSince(), client.getAuthorities());\n\n    return new ClientDTO(client);\n}\n</code></pre>\n<p>The log is:</p>\n<pre><code>Hibernate: insert into client (client_activated, client_id, client_nickname, client_password) values (?, ?, ?, ?)\n2022-02-25 14:22:07.986 DEBUG 16684 --- [nio-8080-exec-3] c.d.s.service.ClientService              : 4, test, test, null\nHibernate: insert into client_authority (authority_name, client_id) values (?, ?)\nHibernate: select client0_.id as id1_1_, client0_.client_activated as client_a2_1_, client0_.client_id as client_i3_1_, client0_.client_nickname as client_n4_1_, client0_.client_password as client_p5_1_, client0_.client_since as client_s6_1_ from client client0_ where client0_.client_id=?\n2022-02-25 14:22:08.071 ERROR 16684 --- [nio-8080-exec-3] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.NullPointerException] with root cause\n\njava.lang.NullPointerException: null\n    at com.devjaewoo.springtest.entity.Client.getAuthorities(Client.java:46) ~[classes/:na]\n</code></pre>\n<p>When I test <code>findOneWithAuthoritiesByClientID</code> function with sample data (with data.sql file) outside of <code>signUp</code> function, It works fine.</p>\n<p>Why doesn't it work properly only inside of <code>signUp</code> function?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1647913830,"post_id":71273355,"comment_id":126485826,"body_markdown":"Same comment as the other one","body":"Same comment as the other one"}],"answers":[{"tags":[],"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645844387,"creation_date":1645844387,"answer_id":71273751,"question_id":71273355,"body_markdown":"I don&#39;t understand how much of what&#39;s going on in GradeBook relates to what you&#39;re doing in your `main` function.  I see how in your `main` you&#39;re coming up with a single score based on the user&#39;s selection of a student and a test number.  But once you have this user and score, I don&#39;t see how that matches up with the data in the `double[][] studentScores` table contained in `GradeBook`. What is that data?  Where does it come from?\r\n\r\nYour code in `main` seems to have a significant problem.  `index` will always be `1` by the time it&#39;s used.  Its value is not affected by what is entered as a student name. I think you mean for it to be.  Also, I don&#39;t understand how the single integer `score` you come up with in `main` matches up with the `avgScore` accepted by the GradeBook.  But ignoring all of that...\r\n\r\nIt seems like you&#39;d have just a single GradeBook, right?  So I think you&#39;d instantiate just a single instance of it, and then you could use it to look up the student&#39;s name and to calculate the grade based on the student&#39;s score.  Assuming that `index` matched up with the names list in `GradeBook`, and you somehow computed an `averageScore`, that would look something like this...\r\n\r\n\r\n    public class Main {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n            ...\r\n             \r\n            GradeBook gradeBook = new GradeBook(...);\r\n            \r\n            ...\r\n\r\n            while (...) { \r\n                index = ...\r\n                ...\r\n                averageScore = ...\r\n                ...\r\n                studentName = gradeBook.getName(index);\r\n                grade = gradeBook. getLetterGrade(averageScore);\r\n            \r\n                System.out.println(String.format(&quot;Student: %s. Grade: %s&quot;, studentName, grade));\r\n        }\r\n\r\nThe other use case I can see is that you&#39;d calculate somehow calculate the `studentScores` table from the data you read in `main`, and then you could create a GradeBook with that to have it display all of that information.  That would look like this...\r\n\r\n    studentScores = ...\r\n    ...\r\n    GradeBook gradeBook = new GradeBook(studentScores);\r\n    gradeBook.getStudent()\r\n\r\n","title":"How to connect two class modules together in Java?","body":"<p>I don't understand how much of what's going on in GradeBook relates to what you're doing in your <code>main</code> function.  I see how in your <code>main</code> you're coming up with a single score based on the user's selection of a student and a test number.  But once you have this user and score, I don't see how that matches up with the data in the <code>double[][] studentScores</code> table contained in <code>GradeBook</code>. What is that data?  Where does it come from?</p>\n<p>Your code in <code>main</code> seems to have a significant problem.  <code>index</code> will always be <code>1</code> by the time it's used.  Its value is not affected by what is entered as a student name. I think you mean for it to be.  Also, I don't understand how the single integer <code>score</code> you come up with in <code>main</code> matches up with the <code>avgScore</code> accepted by the GradeBook.  But ignoring all of that...</p>\n<p>It seems like you'd have just a single GradeBook, right?  So I think you'd instantiate just a single instance of it, and then you could use it to look up the student's name and to calculate the grade based on the student's score.  Assuming that <code>index</code> matched up with the names list in <code>GradeBook</code>, and you somehow computed an <code>averageScore</code>, that would look something like this...</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws IOException {\n        ...\n         \n        GradeBook gradeBook = new GradeBook(...);\n        \n        ...\n\n        while (...) { \n            index = ...\n            ...\n            averageScore = ...\n            ...\n            studentName = gradeBook.getName(index);\n            grade = gradeBook. getLetterGrade(averageScore);\n        \n            System.out.println(String.format(&quot;Student: %s. Grade: %s&quot;, studentName, grade));\n    }\n</code></pre>\n<p>The other use case I can see is that you'd calculate somehow calculate the <code>studentScores</code> table from the data you read in <code>main</code>, and then you could create a GradeBook with that to have it display all of that information.  That would look like this...</p>\n<pre><code>studentScores = ...\n...\nGradeBook gradeBook = new GradeBook(studentScores);\ngradeBook.getStudent()\n</code></pre>\n"}],"owner":{"display_name":"user18216293"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71273751,"answer_count":1,"score":0,"last_activity_date":1645844387,"creation_date":1645838703,"question_id":71273355,"body_markdown":"I have a program that contains five .txt files. These files are read in and put into different arrays. One is an array of names. The other four are arrays with test scores.\r\n\r\nCurrently, the program does create the arrays correctly. Next the program is to calculate and display the average for each test (this works fine). Then the program prompts the user for a name. If a name is found a new menu will prompt the user to select which test they want the data on. (This works fine).\r\n\r\nThe problem: I have the main program class and another GradeBook class (does calculations) on another page. How do I connect the two pages together?\r\n\r\nFor example: If the studentName is &#39;Andrew&#39; and it is found in studentNameArray, and I select 1 for which test score I want to see (scoreOneArray), say the number 88. My program finds &#39;Andrew&#39; and &#39;88&#39;. What it does not do is send &#39;Andrew&#39; and &#39;88&#39; to GradeBook to have the data compute test percentage (88/100) and find the corresponding letter grade (in this case &#39;B&#39;). Lastly, then print students name, test score (88%), and the letter grade.\r\n\r\nProgram (main): \r\n\r\n    import java.io.*;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) throws IOException {\r\n            double test1Calculation;\r\n            double test2Calculation;\r\n            double test3Calculation;\r\n            double test4Calculation;\r\n            int i, j, k, l;\r\n            int testOneSum = 0;\r\n            int testTwoSum = 0;\r\n            int testThreeSum = 0;\r\n            int testFourSum = 0;\r\n            int checker = 0;\r\n            int index=0;\r\n            String choice;\r\n    \r\n            Scanner students = new Scanner(new File(&quot;names.txt&quot;));\r\n            Scanner TestOne = new Scanner(new File(&quot;testOne.txt&quot;));\r\n            Scanner TestTwo = new Scanner(new File(&quot;testTwo.txt&quot;));\r\n            Scanner TestThree = new Scanner(new File(&quot;testThree.txt&quot;));\r\n            Scanner TestFour = new Scanner(new File(&quot;testFour.txt&quot;));\r\n    \r\n            String token1 = &quot;&quot;;\r\n            List&lt;String&gt; studentName = new ArrayList&lt;&gt;();\r\n            while (students.hasNext()) {\r\n                // find next line\r\n                token1 = students.next();\r\n                studentName.add(token1);\r\n            }\r\n    \r\n            String[] studentNameArray = studentName.toArray(new String[0]);\r\n    \r\n            List&lt;Integer&gt; scoreOne = new ArrayList&lt;&gt;();\r\n    \r\n            // while loop\r\n            while (TestOne.hasNext()) {\r\n                // find next line\r\n                Integer token2 = TestOne.nextInt();\r\n                scoreOne.add(token2);\r\n            }\r\n    \r\n            Integer[] scoreOneArray = scoreOne.toArray(new Integer[0]);\r\n    \r\n            List&lt;Integer&gt; scoreTwo = new ArrayList&lt;&gt;();\r\n    \r\n            // while loop\r\n            while (TestTwo.hasNext()) {\r\n                // find next line\r\n                Integer token3 = TestTwo.nextInt();\r\n                scoreTwo.add(token3);\r\n            }\r\n    \r\n            Integer[] scoreTwoArray = scoreTwo.toArray(new Integer[0]);\r\n    \r\n            List&lt;Integer&gt; scoreThree = new ArrayList&lt;&gt;();\r\n    \r\n            // while loop\r\n            while (TestThree.hasNext()) {\r\n                // find next line\r\n                Integer token4 = TestThree.nextInt();\r\n                scoreThree.add(token4);\r\n            }\r\n    \r\n            Integer[] scoreThreeArray = scoreThree.toArray(new Integer[0]);\r\n    \r\n            List&lt;Integer&gt; scoreFour = new ArrayList&lt;&gt;();\r\n    \r\n            // while loop\r\n            while (TestFour.hasNext()) {\r\n                // find next line\r\n                Integer token5 = TestFour.nextInt();\r\n                scoreFour.add(token5);\r\n            }\r\n    \r\n            Integer[] scoreFourArray = scoreFour.toArray(new Integer[0]);\r\n    \r\n            for (i = 0; i &lt; scoreOneArray.length; i++)\r\n                testOneSum += scoreOneArray[i];\r\n            test1Calculation = (double) testOneSum / 5;\r\n    \r\n            for (j = 0; j &lt; scoreTwoArray.length; j++)\r\n                testTwoSum += scoreTwoArray[j];\r\n            test2Calculation = (double) testTwoSum / 5;\r\n    \r\n            for (k = 0; k &lt; scoreThreeArray.length; k++)\r\n                testThreeSum += scoreThreeArray[k];\r\n            test3Calculation = (double) testThreeSum / 5;\r\n    \r\n            for (l = 0; l &lt; scoreFourArray.length; l++)\r\n                testFourSum += scoreFourArray[l];\r\n            test4Calculation = (double) testFourSum / 5;\r\n    \r\n            System.out.println(&quot;The average for test one is: &quot; + test1Calculation);\r\n            System.out.println(&quot;The average for test two is: &quot; + test2Calculation);\r\n            System.out.println(&quot;The average for test three is: &quot; + test3Calculation);\r\n            System.out.println(&quot;The average for test four is: &quot; + test4Calculation);\r\n    \r\n            Scanner studentSearch = new Scanner(System.in);\r\n            System.out.println(&quot;Enter student name : &quot;);\r\n            String foundStudent = studentSearch.nextLine();\r\n            boolean found = Arrays.stream(studentNameArray).anyMatch(t -&gt; t.equals(foundStudent));\r\n            if (found) {\r\n                index++;\r\n                System.out.println(foundStudent + &quot; is found.&quot;);\r\n    \r\n                //menu loop\r\n                do {\r\n                    //displayed user options\r\n                    System.out.println(&quot;1. To find score for first test&quot;);\r\n                    System.out.println(&quot;2. To find score for second test&quot;);\r\n                    System.out.println(&quot;3. To find score for third test&quot;);\r\n                    System.out.println(&quot;4. To find score for fourth test&quot;);\r\n    \r\n                    //menu choices\r\n                    Scanner keyboard = new Scanner(System.in);\r\n                    System.out.print(&quot;\\nEnter your choice: &quot;);\r\n                    choice = keyboard.next();\r\n    \r\n                    if (choice.equals(&quot;1&quot;)) {\r\n                        int  score= scoreOneArray[index];\r\n    \r\n                        System.out.println(score);\r\n                        checker = -1;\r\n                    } else if (choice.equals(&quot;2&quot;)) {\r\n                        int  score= scoreTwoArray[index];\r\n                        System.out.println(score);\r\n                        checker = -1;\r\n                    } else if (choice.equals(&quot;3&quot;)) {\r\n                        int  score= scoreThreeArray[index];\r\n                        System.out.println(score);\r\n                        checker = -1;\r\n                    } else if (choice.equals(&quot;4&quot;)) {\r\n                        int  score= scoreFourArray[index];\r\n                        System.out.println(score);\r\n                        checker = -1;\r\n                    } else {\r\n                        //Error message\r\n                        System.out.println(&quot;invalid choice&quot;);\r\n                    }\r\n                }\r\n                while (checker != -1);\r\n            } // End of Menu Method\r\n            else {\r\n                System.out.println(foundStudent + &quot; is not found.&quot;);}\r\n            \r\n    \r\n            students.close();\r\n            TestOne.close();\r\n            TestTwo.close();\r\n            TestThree.close();\r\n            TestFour.close();\r\n    \r\n        }\r\n    }\r\n\r\nCalculations(GradeBook): \r\n\r\n    import java.util.ArrayList;\r\n    \r\n    public class GradeBook {\r\n    \r\n        private char[] letterGrade = {&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;F&#39;};\r\n        private ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\r\n        private double [][] scores = new double[5][4];\r\n    \r\n        public GradeBook(ArrayList&lt;String&gt; studentNames, double[][] studentScores){\r\n            this.names = studentNames;\r\n    \r\n            for (int i = 0; i &lt; 5; i++){\r\n                for (int j = 0; j &lt; 4; j++){\r\n                    scores [i][j] = studentScores[i][j];\r\n                }\r\n            }\r\n        }\r\n        public  String getName(int studentIndex){\r\n            return names.get(studentIndex);\r\n        }\r\n        public double getAverage(int studentIndex){\r\n            double total = 0;\r\n    \r\n            for (int i = 0; i &lt; 4; i++){\r\n                total += scores[studentIndex][i];\r\n            }\r\n            return (total / 4);\r\n        }\r\n        public char getLetterGrade(double avgScore){\r\n    \r\n            if (avgScore &gt;= 90 &amp;&amp; avgScore &lt;= 100){\r\n                return letterGrade[0];\r\n            }\r\n            else if (avgScore &gt;= 80 &amp;&amp; avgScore &lt;= 89){\r\n                return letterGrade[1];\r\n            }\r\n            else if (avgScore &gt;= 70 &amp;&amp; avgScore &lt;= 79){\r\n                return letterGrade[2];\r\n            }\r\n            else if (avgScore &gt;= 60 &amp;&amp; avgScore &lt;= 69){\r\n                return letterGrade[3];\r\n            }\r\n            else if (avgScore &gt;= 0 &amp;&amp; avgScore &lt;= 59){\r\n                return letterGrade[4];\r\n            }\r\n            return &#39; &#39;;\r\n        }\r\n        public void getStudent(){\r\n    \r\n            for (int i = 0; i &lt; names.size(); i++){\r\n    \r\n                System.out.println(&quot;\\nStudent #&quot; + (i+1)\r\n                +&quot;\\n\\t\\tName: &quot; + names.get(i)\r\n                +&quot;\\n\\t\\tAverage: &quot; + getAverage(i) + &quot;%&quot;\r\n                +&quot;\\n\\t\\tLetter Grade: &quot; + getLetterGrade(getAverage(i))\r\n                +&quot;\\n\\n&quot;);\r\n            }\r\n    \r\n        }\r\n    } \r\n\r\n","title":"How to connect two class modules together in Java?","body":"<p>I have a program that contains five .txt files. These files are read in and put into different arrays. One is an array of names. The other four are arrays with test scores.</p>\n<p>Currently, the program does create the arrays correctly. Next the program is to calculate and display the average for each test (this works fine). Then the program prompts the user for a name. If a name is found a new menu will prompt the user to select which test they want the data on. (This works fine).</p>\n<p>The problem: I have the main program class and another GradeBook class (does calculations) on another page. How do I connect the two pages together?</p>\n<p>For example: If the studentName is 'Andrew' and it is found in studentNameArray, and I select 1 for which test score I want to see (scoreOneArray), say the number 88. My program finds 'Andrew' and '88'. What it does not do is send 'Andrew' and '88' to GradeBook to have the data compute test percentage (88/100) and find the corresponding letter grade (in this case 'B'). Lastly, then print students name, test score (88%), and the letter grade.</p>\n<p>Program (main):</p>\n<pre><code>import java.io.*;\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) throws IOException {\n        double test1Calculation;\n        double test2Calculation;\n        double test3Calculation;\n        double test4Calculation;\n        int i, j, k, l;\n        int testOneSum = 0;\n        int testTwoSum = 0;\n        int testThreeSum = 0;\n        int testFourSum = 0;\n        int checker = 0;\n        int index=0;\n        String choice;\n\n        Scanner students = new Scanner(new File(&quot;names.txt&quot;));\n        Scanner TestOne = new Scanner(new File(&quot;testOne.txt&quot;));\n        Scanner TestTwo = new Scanner(new File(&quot;testTwo.txt&quot;));\n        Scanner TestThree = new Scanner(new File(&quot;testThree.txt&quot;));\n        Scanner TestFour = new Scanner(new File(&quot;testFour.txt&quot;));\n\n        String token1 = &quot;&quot;;\n        List&lt;String&gt; studentName = new ArrayList&lt;&gt;();\n        while (students.hasNext()) {\n            // find next line\n            token1 = students.next();\n            studentName.add(token1);\n        }\n\n        String[] studentNameArray = studentName.toArray(new String[0]);\n\n        List&lt;Integer&gt; scoreOne = new ArrayList&lt;&gt;();\n\n        // while loop\n        while (TestOne.hasNext()) {\n            // find next line\n            Integer token2 = TestOne.nextInt();\n            scoreOne.add(token2);\n        }\n\n        Integer[] scoreOneArray = scoreOne.toArray(new Integer[0]);\n\n        List&lt;Integer&gt; scoreTwo = new ArrayList&lt;&gt;();\n\n        // while loop\n        while (TestTwo.hasNext()) {\n            // find next line\n            Integer token3 = TestTwo.nextInt();\n            scoreTwo.add(token3);\n        }\n\n        Integer[] scoreTwoArray = scoreTwo.toArray(new Integer[0]);\n\n        List&lt;Integer&gt; scoreThree = new ArrayList&lt;&gt;();\n\n        // while loop\n        while (TestThree.hasNext()) {\n            // find next line\n            Integer token4 = TestThree.nextInt();\n            scoreThree.add(token4);\n        }\n\n        Integer[] scoreThreeArray = scoreThree.toArray(new Integer[0]);\n\n        List&lt;Integer&gt; scoreFour = new ArrayList&lt;&gt;();\n\n        // while loop\n        while (TestFour.hasNext()) {\n            // find next line\n            Integer token5 = TestFour.nextInt();\n            scoreFour.add(token5);\n        }\n\n        Integer[] scoreFourArray = scoreFour.toArray(new Integer[0]);\n\n        for (i = 0; i &lt; scoreOneArray.length; i++)\n            testOneSum += scoreOneArray[i];\n        test1Calculation = (double) testOneSum / 5;\n\n        for (j = 0; j &lt; scoreTwoArray.length; j++)\n            testTwoSum += scoreTwoArray[j];\n        test2Calculation = (double) testTwoSum / 5;\n\n        for (k = 0; k &lt; scoreThreeArray.length; k++)\n            testThreeSum += scoreThreeArray[k];\n        test3Calculation = (double) testThreeSum / 5;\n\n        for (l = 0; l &lt; scoreFourArray.length; l++)\n            testFourSum += scoreFourArray[l];\n        test4Calculation = (double) testFourSum / 5;\n\n        System.out.println(&quot;The average for test one is: &quot; + test1Calculation);\n        System.out.println(&quot;The average for test two is: &quot; + test2Calculation);\n        System.out.println(&quot;The average for test three is: &quot; + test3Calculation);\n        System.out.println(&quot;The average for test four is: &quot; + test4Calculation);\n\n        Scanner studentSearch = new Scanner(System.in);\n        System.out.println(&quot;Enter student name : &quot;);\n        String foundStudent = studentSearch.nextLine();\n        boolean found = Arrays.stream(studentNameArray).anyMatch(t -&gt; t.equals(foundStudent));\n        if (found) {\n            index++;\n            System.out.println(foundStudent + &quot; is found.&quot;);\n\n            //menu loop\n            do {\n                //displayed user options\n                System.out.println(&quot;1. To find score for first test&quot;);\n                System.out.println(&quot;2. To find score for second test&quot;);\n                System.out.println(&quot;3. To find score for third test&quot;);\n                System.out.println(&quot;4. To find score for fourth test&quot;);\n\n                //menu choices\n                Scanner keyboard = new Scanner(System.in);\n                System.out.print(&quot;\\nEnter your choice: &quot;);\n                choice = keyboard.next();\n\n                if (choice.equals(&quot;1&quot;)) {\n                    int  score= scoreOneArray[index];\n\n                    System.out.println(score);\n                    checker = -1;\n                } else if (choice.equals(&quot;2&quot;)) {\n                    int  score= scoreTwoArray[index];\n                    System.out.println(score);\n                    checker = -1;\n                } else if (choice.equals(&quot;3&quot;)) {\n                    int  score= scoreThreeArray[index];\n                    System.out.println(score);\n                    checker = -1;\n                } else if (choice.equals(&quot;4&quot;)) {\n                    int  score= scoreFourArray[index];\n                    System.out.println(score);\n                    checker = -1;\n                } else {\n                    //Error message\n                    System.out.println(&quot;invalid choice&quot;);\n                }\n            }\n            while (checker != -1);\n        } // End of Menu Method\n        else {\n            System.out.println(foundStudent + &quot; is not found.&quot;);}\n        \n\n        students.close();\n        TestOne.close();\n        TestTwo.close();\n        TestThree.close();\n        TestFour.close();\n\n    }\n}\n</code></pre>\n<p>Calculations(GradeBook):</p>\n<pre><code>import java.util.ArrayList;\n\npublic class GradeBook {\n\n    private char[] letterGrade = {'A', 'B', 'C', 'D', 'F'};\n    private ArrayList&lt;String&gt; names = new ArrayList&lt;&gt;();\n    private double [][] scores = new double[5][4];\n\n    public GradeBook(ArrayList&lt;String&gt; studentNames, double[][] studentScores){\n        this.names = studentNames;\n\n        for (int i = 0; i &lt; 5; i++){\n            for (int j = 0; j &lt; 4; j++){\n                scores [i][j] = studentScores[i][j];\n            }\n        }\n    }\n    public  String getName(int studentIndex){\n        return names.get(studentIndex);\n    }\n    public double getAverage(int studentIndex){\n        double total = 0;\n\n        for (int i = 0; i &lt; 4; i++){\n            total += scores[studentIndex][i];\n        }\n        return (total / 4);\n    }\n    public char getLetterGrade(double avgScore){\n\n        if (avgScore &gt;= 90 &amp;&amp; avgScore &lt;= 100){\n            return letterGrade[0];\n        }\n        else if (avgScore &gt;= 80 &amp;&amp; avgScore &lt;= 89){\n            return letterGrade[1];\n        }\n        else if (avgScore &gt;= 70 &amp;&amp; avgScore &lt;= 79){\n            return letterGrade[2];\n        }\n        else if (avgScore &gt;= 60 &amp;&amp; avgScore &lt;= 69){\n            return letterGrade[3];\n        }\n        else if (avgScore &gt;= 0 &amp;&amp; avgScore &lt;= 59){\n            return letterGrade[4];\n        }\n        return ' ';\n    }\n    public void getStudent(){\n\n        for (int i = 0; i &lt; names.size(); i++){\n\n            System.out.println(&quot;\\nStudent #&quot; + (i+1)\n            +&quot;\\n\\t\\tName: &quot; + names.get(i)\n            +&quot;\\n\\t\\tAverage: &quot; + getAverage(i) + &quot;%&quot;\n            +&quot;\\n\\t\\tLetter Grade: &quot; + getLetterGrade(getAverage(i))\n            +&quot;\\n\\n&quot;);\n        }\n\n    }\n} \n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2389551,"reputation":40441,"user_id":2089675,"accept_rate":80,"display_name":"smac89"},"score":0,"creation_date":1645837327,"post_id":71273211,"comment_id":125983816,"body_markdown":"Remove the `else if`","body":"Remove the <code>else if</code>"},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1645839727,"post_id":71273211,"comment_id":125984104,"body_markdown":"`public class 2d` is not valid Java, this won&#39;t compile.  Have you actually run your program?","body":"<code>public class 2d</code> is not valid Java, this won&#39;t compile.  Have you actually run your program?"}],"answers":[{"tags":[],"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645837739,"creation_date":1645837739,"answer_id":71273272,"question_id":71273211,"body_markdown":"Your code checks for highest and for lowest value, but always assigns to `highestTemp`.  The `else if` branch should assign to a `lowestTemp` if you need that, or you should remove it completely. You also need to initialize `highestTemp` with a different value, you need to put a really low number in there to start, so that the real data is actually larger.\r\n\r\n```java\r\npublic static double temps(double[][] temperatures) {\r\n    double highestTemp = -Double.MAX_VALUE;\r\n    for (int i = 0; i &lt; temperatures.length; i++){\r\n        for (int j = 0; j &lt; temperatures[i].length; j++){\r\n            if (temperatures[i][j] &gt; highestTemp) {\r\n                highestTemp = temperatures[i][j]; \r\n            }\r\n        }\r\n    }\r\n    return highestTemp;\r\n}\r\n```\r\n\r\nI am using `-Double.MAX_VALUE` here cause [`Double.MIN_VALUE` is positive][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3884793/why-is-double-min-value-in-not-negative","title":"Returning largest negative number in 2D array","body":"<p>Your code checks for highest and for lowest value, but always assigns to <code>highestTemp</code>.  The <code>else if</code> branch should assign to a <code>lowestTemp</code> if you need that, or you should remove it completely. You also need to initialize <code>highestTemp</code> with a different value, you need to put a really low number in there to start, so that the real data is actually larger.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double temps(double[][] temperatures) {\n    double highestTemp = -Double.MAX_VALUE;\n    for (int i = 0; i &lt; temperatures.length; i++){\n        for (int j = 0; j &lt; temperatures[i].length; j++){\n            if (temperatures[i][j] &gt; highestTemp) {\n                highestTemp = temperatures[i][j]; \n            }\n        }\n    }\n    return highestTemp;\n}\n</code></pre>\n<p>I am using <code>-Double.MAX_VALUE</code> here cause <a href=\"https://stackoverflow.com/questions/3884793/why-is-double-min-value-in-not-negative\"><code>Double.MIN_VALUE</code> is positive</a>.</p>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645839010,"creation_date":1645837801,"answer_id":71273275,"question_id":71273211,"body_markdown":"Your code won&#39;t work since you initialize to zero and you have a bunch of negative numbers.  Doing it this way you don&#39;t need to worry about an initialization value.\r\n\r\n    Double max = null;\r\n    for (double[] temps : temperatures) {\r\n    \tdouble localMax = Arrays.stream(temps).max().getAsDouble();\r\n        if (max == null) {\r\n        \tmax = localMax;\r\n        } else {\r\n        \tmax = Math.max(max, localMax);\r\n        }\r\n    }\r\n    \t    \r\n    System.out.println(max);","title":"Returning largest negative number in 2D array","body":"<p>Your code won't work since you initialize to zero and you have a bunch of negative numbers.  Doing it this way you don't need to worry about an initialization value.</p>\n<pre><code>Double max = null;\nfor (double[] temps : temperatures) {\n    double localMax = Arrays.stream(temps).max().getAsDouble();\n    if (max == null) {\n        max = localMax;\n    } else {\n        max = Math.max(max, localMax);\n    }\n}\n        \nSystem.out.println(max);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19579796,"reputation":66,"user_id":14329111,"display_name":"Pietrek"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1645837822,"creation_date":1645837822,"answer_id":71273281,"question_id":71273211,"body_markdown":"Just switch your method with this.\r\n\r\n```java\r\npublic static double temps(double[][] temperatures) {\r\n    double highestTemp = temperatures[0][0];\r\n    \r\n    for(int i = 0; i &lt; temperatures.length; i++){\r\n        for(int j = 0; j &lt; temperatures[i].length; j++) {\r\n            if(temperatures[i][j] &gt; highestTemp ) {\r\n                highestTemp = temperatures[i][j]; \r\n            }\r\n        }\r\n    }\r\n    \r\n    return highestTemp;\r\n\r\n    }\r\n}\r\n```","title":"Returning largest negative number in 2D array","body":"<p>Just switch your method with this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static double temps(double[][] temperatures) {\n    double highestTemp = temperatures[0][0];\n    \n    for(int i = 0; i &lt; temperatures.length; i++){\n        for(int j = 0; j &lt; temperatures[i].length; j++) {\n            if(temperatures[i][j] &gt; highestTemp ) {\n                highestTemp = temperatures[i][j]; \n            }\n        }\n    }\n    \n    return highestTemp;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645842456,"creation_date":1645841838,"answer_id":71273590,"question_id":71273211,"body_markdown":"The problem is here.  Look closely at these statements.\r\n```\r\n           if(temperatures[i][j] &gt; highestTemp ){\r\n                highestTemp = temperatures[i][j]; \r\n            }else if(highestTemp &gt; temperatures[i][j]){\r\n                highestTemp = temperatures[i][j];\r\n            }\r\n```\r\nYou don&#39;t need both conditionals.  Just do it like this.\r\n```\r\n        double highestTemp = -Double.MAX_VALUE;\r\n\t\tfor (int i = 0; i &lt; temperatures.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; temperatures[i].length; j++) {\r\n\t\t\t\tif (temperatures[i][j] &gt; highestTemp) {\r\n\t\t\t\t\thighestTemp = temperatures[i][j];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n```\r\nAn alternative would be to use streams and simplify the process.\r\n\r\nHere is the method\r\n```\r\npublic static double temps(double[][] temperatures) {\r\n    return Arrays.stream(temperatures)\r\n\t\t\t\t.flatMapToDouble(Arrays::stream)\r\n                .max()\r\n                .orElseThrow(()-&gt;new IllegalArgumentException(&quot;Empty array&quot;));  \r\n\t\t\r\n}\r\n```\r\nIf you want to return the lowest and highest you can do it like this.\r\nFirst defined a `record` which is an immutable class.\r\n```\r\nrecord Temps(double getLow, double getHigh){}\r\n```\r\nThen create them stream as before but use `summaryStatistics`.  When done populate the class using the constructor and return the instance.\r\n```\r\npublic static Temps temps(double[][] temperatures) {\r\n    DoubleSummaryStatistics dss =  Arrays.stream(temperatures)\t\t\t\r\n\t\t\t\t.flatMapToDouble(Arrays::stream).summaryStatistics();\r\n\treturn new Temps(dss.getMin(), dss.getMax());\r\n}\r\n```\r\nWith your current data:\r\n```\r\nTemps temp = temps(temperatures);\r\n\t\t\t\t\r\nSystem.out.println(temp.getLow());\r\nSystem.out.println(temp.getHigh());\r\n```\r\nprints\r\n```\r\n-21.9\r\n-3.0","title":"Returning largest negative number in 2D array","body":"<p>The problem is here.  Look closely at these statements.</p>\n<pre><code>           if(temperatures[i][j] &gt; highestTemp ){\n                highestTemp = temperatures[i][j]; \n            }else if(highestTemp &gt; temperatures[i][j]){\n                highestTemp = temperatures[i][j];\n            }\n</code></pre>\n<p>You don't need both conditionals.  Just do it like this.</p>\n<pre><code>        double highestTemp = -Double.MAX_VALUE;\n        for (int i = 0; i &lt; temperatures.length; i++) {\n            for (int j = 0; j &lt; temperatures[i].length; j++) {\n                if (temperatures[i][j] &gt; highestTemp) {\n                    highestTemp = temperatures[i][j];\n                }\n            }\n        }\n</code></pre>\n<p>An alternative would be to use streams and simplify the process.</p>\n<p>Here is the method</p>\n<pre><code>public static double temps(double[][] temperatures) {\n    return Arrays.stream(temperatures)\n                .flatMapToDouble(Arrays::stream)\n                .max()\n                .orElseThrow(()-&gt;new IllegalArgumentException(&quot;Empty array&quot;));  \n        \n}\n</code></pre>\n<p>If you want to return the lowest and highest you can do it like this.\nFirst defined a <code>record</code> which is an immutable class.</p>\n<pre><code>record Temps(double getLow, double getHigh){}\n</code></pre>\n<p>Then create them stream as before but use <code>summaryStatistics</code>.  When done populate the class using the constructor and return the instance.</p>\n<pre><code>public static Temps temps(double[][] temperatures) {\n    DoubleSummaryStatistics dss =  Arrays.stream(temperatures)          \n                .flatMapToDouble(Arrays::stream).summaryStatistics();\n    return new Temps(dss.getMin(), dss.getMax());\n}\n</code></pre>\n<p>With your current data:</p>\n<pre><code>Temps temp = temps(temperatures);\n                \nSystem.out.println(temp.getLow());\nSystem.out.println(temp.getHigh());\n</code></pre>\n<p>prints</p>\n<pre><code>-21.9\n-3.0\n</code></pre>\n"}],"owner":{"account_id":24169224,"reputation":29,"user_id":18131523,"display_name":"mochi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1645842456,"creation_date":1645837039,"question_id":71273211,"body_markdown":"    //main \r\n    public class 2d {\r\n        public static void main(String[] args) {\r\n\r\n        double[][] temperatures = {\r\n            {-5.5, -6.7, -3, -8.7, -13.3, -7.1, -6.5} ,\r\n            {-4.5, -19.7, -4, -8.7, -13.3, -21.9, -6.5},\r\n            {-5.5, -6.7, -3, -8.7, -13.3, -7.1, -6.5}\r\n        };\r\n\r\n        System.out.println(temps(temperatures));\r\n    }  \r\n\r\n    //method\r\n    public static double temps(double[][] temperatures){\r\n\r\n        double highestTemp = 0.0;\r\n        for(int i=0; i&lt;temperatures.length; i++){\r\n\t        for(int j=0; j&lt;temperatures[i].length; j++){\r\n\t\t        if(temperatures[i][j] &gt; highestTemp ){\r\n\t\t\t        highestTemp = temperatures[i][j]; \r\n                }else if(highestTemp &gt; temperatures[i][j]){\r\n                    highestTemp = temperatures[i][j];\r\n                }\r\n\t    }\r\n    }\r\n        return highestTemp;\r\n\r\n        }\r\n    }\r\n\r\nThe correct output is suppose to return -3 since the largest number in the 2d array is -3, but my code returns -6.5 anyone know how to fix this?\r\n","title":"Returning largest negative number in 2D array","body":"<pre><code>//main \npublic class 2d {\n    public static void main(String[] args) {\n\n    double[][] temperatures = {\n        {-5.5, -6.7, -3, -8.7, -13.3, -7.1, -6.5} ,\n        {-4.5, -19.7, -4, -8.7, -13.3, -21.9, -6.5},\n        {-5.5, -6.7, -3, -8.7, -13.3, -7.1, -6.5}\n    };\n\n    System.out.println(temps(temperatures));\n}  \n\n//method\npublic static double temps(double[][] temperatures){\n\n    double highestTemp = 0.0;\n    for(int i=0; i&lt;temperatures.length; i++){\n        for(int j=0; j&lt;temperatures[i].length; j++){\n            if(temperatures[i][j] &gt; highestTemp ){\n                highestTemp = temperatures[i][j]; \n            }else if(highestTemp &gt; temperatures[i][j]){\n                highestTemp = temperatures[i][j];\n            }\n    }\n}\n    return highestTemp;\n\n    }\n}\n</code></pre>\n<p>The correct output is suppose to return -3 since the largest number in the 2d array is -3, but my code returns -6.5 anyone know how to fix this?</p>\n"},{"tags":["java","android","xml","checkbox"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645178280,"post_id":71171455,"comment_id":125807449,"body_markdown":"`setChecked(true) is not doing anything.` I dont see that code. Moreover you would not need it.","body":"<code>setChecked(true) is not doing anything.</code> I dont see that code. Moreover you would not need it."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645178376,"post_id":71171455,"comment_id":125807483,"body_markdown":"`if (dislike.isChecked()) {\n            dislike.setChecked(false);` Try: `if (like.isChecked()) {\n            dislike.setChecked(false);`","body":"<code>if (dislike.isChecked()) {             dislike.setChecked(false);</code> Try: <code>if (like.isChecked()) {             dislike.setChecked(false);</code>"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645178926,"post_id":71171455,"comment_id":125807688,"body_markdown":"And ... RadioButton ?","body":"And ... RadioButton ?"},{"owner":{"account_id":15697360,"reputation":73,"user_id":11379938,"display_name":"Omar Bitar"},"score":0,"creation_date":1645229706,"post_id":71171455,"comment_id":125824138,"body_markdown":"@blackapps you are correct. Using the RadioButton is ideal for this context. I just did so and it worked. However, I am still having issues with the `setCheck(true)`. I want to do so in the `onCreate` method.","body":"@blackapps you are correct. Using the RadioButton is ideal for this context. I just did so and it worked. However, I am still having issues with the <code>setCheck(true)</code>. I want to do so in the <code>onCreate</code> method."}],"answers":[{"tags":[],"owner":{"account_id":15697360,"reputation":73,"user_id":11379938,"display_name":"Omar Bitar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645840779,"creation_date":1645840779,"answer_id":71273506,"question_id":71171455,"body_markdown":"ok, I&#39;ve figured out the solution. Since I am using a recycler view with a custom adapter I need to bind the onClick listener via an interface. \r\n\r\nHere is a link to another post that will show the necessary steps to implement click listeners in adapters: https://stackoverflow.com/a/49969478/11379938","title":"Android checkbox.isChecked is not working","body":"<p>ok, I've figured out the solution. Since I am using a recycler view with a custom adapter I need to bind the onClick listener via an interface.</p>\n<p>Here is a link to another post that will show the necessary steps to implement click listeners in adapters: <a href=\"https://stackoverflow.com/a/49969478/11379938\">https://stackoverflow.com/a/49969478/11379938</a></p>\n"}],"owner":{"account_id":15697360,"reputation":73,"user_id":11379938,"display_name":"Omar Bitar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71273506,"answer_count":1,"score":2,"last_activity_date":1645840779,"creation_date":1645178011,"question_id":71171455,"body_markdown":"### I am trying to create a like and dislike button. I use Checkboxes to do so.\r\n\r\nIn the XML code I have two checkboxes one called `like` and the other `dislike`\r\n\r\nI&#39;m trying to toggle between the like and dislike buttons. Such that they both cannot be switched on at the same time.\r\n```java\r\npublic void onLike(View view) {\r\n\t\tif (dislike.isChecked()) {\r\n\t\t\tdislike.setChecked(false);\r\n\t\t}\r\n\t\tToast.makeText(this,&quot;liked&quot;,Toast.LENGTH_SHORT).show();\r\n\t}\r\n```\r\nThe issue that I am having is that set `setChecked(true)` is not doing anything.\r\n\r\nFor more context, the XML for the checkbox is defined inside a fragment that has a cardview. Each item in the card view has the checkboxes.\r\n\r\nthe way I initialized the checkbox in the main activity is as follows: -\r\n\r\n```java\r\nView cardViewLayout = getLayoutInflater().inflate(R.layout.text_row_item,null);\r\n\t\tlike = (CheckBox) cardViewLayout.findViewById(R.id.like);\r\n\t\tdislike = (CheckBox) cardViewLayout.findViewById(R.id.dislike);\r\n```\r\n\r\nany ideas what&#39;s going on?","title":"Android checkbox.isChecked is not working","body":"<h3>I am trying to create a like and dislike button. I use Checkboxes to do so.</h3>\n<p>In the XML code I have two checkboxes one called <code>like</code> and the other <code>dislike</code></p>\n<p>I'm trying to toggle between the like and dislike buttons. Such that they both cannot be switched on at the same time.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void onLike(View view) {\n        if (dislike.isChecked()) {\n            dislike.setChecked(false);\n        }\n        Toast.makeText(this,&quot;liked&quot;,Toast.LENGTH_SHORT).show();\n    }\n</code></pre>\n<p>The issue that I am having is that set <code>setChecked(true)</code> is not doing anything.</p>\n<p>For more context, the XML for the checkbox is defined inside a fragment that has a cardview. Each item in the card view has the checkboxes.</p>\n<p>the way I initialized the checkbox in the main activity is as follows: -</p>\n<pre class=\"lang-java prettyprint-override\"><code>View cardViewLayout = getLayoutInflater().inflate(R.layout.text_row_item,null);\n        like = (CheckBox) cardViewLayout.findViewById(R.id.like);\n        dislike = (CheckBox) cardViewLayout.findViewById(R.id.dislike);\n</code></pre>\n<p>any ideas what's going on?</p>\n"},{"tags":["java","r","rvest","rselenium"],"answers":[{"tags":[],"owner":{"account_id":20043926,"reputation":276,"user_id":14694080,"display_name":"Blue050205"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645840387,"creation_date":1644121625,"answer_id":71004203,"question_id":70905344,"body_markdown":"The below script will allow you to scrape the web page and select the relevant dates and the court. Modify &quot;Query&quot; with the date range and the court you need.  I picked the first court in the list.  You can find the court codes by inspecting the page and searching for FormData.Court.\r\n\r\n        library(tidyverse)\r\n        library(httr)\r\n        library(rvest)\r\n        \r\n        #################################\r\n        ## FUNCTION TO PROCESS DATA    ##\r\n        #################################\r\n        \r\n        parseDetails &lt;- function(pg_dtls){\r\n          \r\n          dt &lt;- pg_dtls %&gt;%\r\n            html_elements(&#39;dt&#39;) %&gt;%\r\n            html_text()\r\n          \r\n          dd &lt;- pg_dtls %&gt;%\r\n            html_elements(&#39;dd&#39;) %&gt;%\r\n            html_text()\r\n          \r\n          tbl &lt;- pg_dtls %&gt;%\r\n            html_element(&#39;table&#39;) %&gt;%\r\n            html_table()\r\n          \r\n          df &lt;- as.data.frame(dd, row.names = dt) %&gt;% set_names(&quot;Details&quot;)\r\n          \r\n          rtnList &lt;- list(mainData = df, otherData = tbl)\r\n        }\r\n        \r\n        ###############################\r\n        ##  SCRAPE WEB PAGE          ##\r\n        ###############################\r\n        \r\n        url &lt;- &quot;https://www.domstol.no/enkelt-domstol/hoyesterett/saksliste/berammingsliste/&quot;\r\n        \r\n        query &lt;- list(&#39;FormData.From&#39;=&quot;25.02.2022&quot;,\r\n                      &#39;FormData.To&#39;=&quot;07.03.2022&quot;,                  \r\n    &#39;FormData.Court&#39;=&quot;AAAA2104220835148622091WAFLAU#EJBOrgUnit&quot;)\r\n        response &lt;- POST(url, body = query)\r\n        dtls &lt;- content(response, &quot;parsed&quot;) %&gt;%\r\n          html_elements(&quot;button&quot;) %&gt;% \r\n          html_attr(&quot;data-action&quot;) %&gt;%\r\n          na.omit() %&gt;%\r\n          paste0(&quot;https://www.domstol.no/&quot;, .) %&gt;%\r\n          map(read_html)\r\n        \r\n        \r\n        scrapedData &lt;- map(dtls, parseDetails)\r\n\r\n","title":"RSelenium or Javascript: Expand all java expandable element on a website","body":"<p>The below script will allow you to scrape the web page and select the relevant dates and the court. Modify &quot;Query&quot; with the date range and the court you need.  I picked the first court in the list.  You can find the court codes by inspecting the page and searching for FormData.Court.</p>\n<pre><code>    library(tidyverse)\n    library(httr)\n    library(rvest)\n    \n    #################################\n    ## FUNCTION TO PROCESS DATA    ##\n    #################################\n    \n    parseDetails &lt;- function(pg_dtls){\n      \n      dt &lt;- pg_dtls %&gt;%\n        html_elements('dt') %&gt;%\n        html_text()\n      \n      dd &lt;- pg_dtls %&gt;%\n        html_elements('dd') %&gt;%\n        html_text()\n      \n      tbl &lt;- pg_dtls %&gt;%\n        html_element('table') %&gt;%\n        html_table()\n      \n      df &lt;- as.data.frame(dd, row.names = dt) %&gt;% set_names(&quot;Details&quot;)\n      \n      rtnList &lt;- list(mainData = df, otherData = tbl)\n    }\n    \n    ###############################\n    ##  SCRAPE WEB PAGE          ##\n    ###############################\n    \n    url &lt;- &quot;https://www.domstol.no/enkelt-domstol/hoyesterett/saksliste/berammingsliste/&quot;\n    \n    query &lt;- list('FormData.From'=&quot;25.02.2022&quot;,\n                  'FormData.To'=&quot;07.03.2022&quot;,                  \n'FormData.Court'=&quot;AAAA2104220835148622091WAFLAU#EJBOrgUnit&quot;)\n    response &lt;- POST(url, body = query)\n    dtls &lt;- content(response, &quot;parsed&quot;) %&gt;%\n      html_elements(&quot;button&quot;) %&gt;% \n      html_attr(&quot;data-action&quot;) %&gt;%\n      na.omit() %&gt;%\n      paste0(&quot;https://www.domstol.no/&quot;, .) %&gt;%\n      map(read_html)\n    \n    \n    scrapedData &lt;- map(dtls, parseDetails)\n</code></pre>\n"}],"owner":{"account_id":23104478,"reputation":5999,"user_id":17213355,"display_name":"Chamkrai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71004203,"answer_count":1,"score":0,"last_activity_date":1645840387,"creation_date":1643459083,"question_id":70905344,"body_markdown":"I am working on a project right now that requires me to scrape information from this website: \r\n\r\n - https://www.domstol.no/enkelt-domstol/hoyesterett/saksliste/berammingsliste/\r\n\r\nI have already managed to scrape the table with RSelenium and Rvest. But there are some details I would like to add to the dataframe, which can be found in an expandable java (?) object. I have illustrated the object here: \r\n\r\n[Tables][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wF7eq.png\r\n\r\nEssentially, I need to expand ALL of them before scraping in order to include them. Is there an easy way to do this with a code? Yesterday I had a script that clicked them all manually, which took hours to complete. \r\n\r\nIs it possible to inject a code on the website that expands them all, or have RSelenium execute a code? ","title":"RSelenium or Javascript: Expand all java expandable element on a website","body":"<p>I am working on a project right now that requires me to scrape information from this website:</p>\n<ul>\n<li><a href=\"https://www.domstol.no/enkelt-domstol/hoyesterett/saksliste/berammingsliste/\" rel=\"nofollow noreferrer\">https://www.domstol.no/enkelt-domstol/hoyesterett/saksliste/berammingsliste/</a></li>\n</ul>\n<p>I have already managed to scrape the table with RSelenium and Rvest. But there are some details I would like to add to the dataframe, which can be found in an expandable java (?) object. I have illustrated the object here:</p>\n<p><a href=\"https://i.stack.imgur.com/wF7eq.png\" rel=\"nofollow noreferrer\">Tables</a></p>\n<p>Essentially, I need to expand ALL of them before scraping in order to include them. Is there an easy way to do this with a code? Yesterday I had a script that clicked them all manually, which took hours to complete.</p>\n<p>Is it possible to inject a code on the website that expands them all, or have RSelenium execute a code?</p>\n"},{"tags":["java","active-directory","ldap"],"answers":[{"tags":[],"owner":{"account_id":31959,"reputation":10608,"user_id":88122,"accept_rate":0,"display_name":"jwilleke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645213697,"creation_date":1645213697,"answer_id":71179116,"question_id":71175173,"body_markdown":"You do not say, but assume this is Microsoft Active Directory. Guessing you need this:\r\nenv.put(Context.SECURITY_PROTOCOL, &quot;ssl&quot;);\r\n\r\nAlso no idea what ENC(#####) is?\r\n\r\nWe have several examples known to work at: \r\nhttps://github.com/jwilleke/Examples-JNDI/tree/master/src/com/willeke/samples/ldap/jndi","title":"InitialLdapContext returned LDAP: error code 49","body":"<p>You do not say, but assume this is Microsoft Active Directory. Guessing you need this:\nenv.put(Context.SECURITY_PROTOCOL, &quot;ssl&quot;);</p>\n<p>Also no idea what ENC(#####) is?</p>\n<p>We have several examples known to work at:\n<a href=\"https://github.com/jwilleke/Examples-JNDI/tree/master/src/com/willeke/samples/ldap/jndi\" rel=\"nofollow noreferrer\">https://github.com/jwilleke/Examples-JNDI/tree/master/src/com/willeke/samples/ldap/jndi</a></p>\n"},{"tags":[],"owner":{"account_id":1239958,"reputation":39014,"user_id":1202807,"display_name":"Gabriel Luci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645328043,"creation_date":1645328043,"answer_id":71191174,"question_id":71175173,"body_markdown":"The `data 52e` in the error message refers to the [Windows System Error code](https://learn.microsoft.com/en-us/windows/win32/debug/system-error-codes--1300-1699-#:~:text=of%20the%20domain.-,ERROR_LOGON_FAILURE,-1326%20(0x52E)), which is:\r\n\r\n\r\n&gt; **ERROR_LOGON_FAILURE**\r\n&gt; \r\n&gt; 1326 (0x52E)\r\n&gt; \r\n&gt; The user name or password is incorrect.\r\n\r\nSo it&#39;s definitely complaining about your credentials.\r\n\r\nWhat format is the username in? You mention in the comment to the other answer, `cn=ldapuser`, but that won&#39;t work for AD. The format should be one of:\r\n\r\n- Just the username (either `sAMAccountName` or `userPrincipalName`) e.g. `ldapuser`\r\n- The domain\\username, e.g. `DOMAIN\\ldapuser`\r\n- The distinguished name, e.g. `CN=ldapuser,OU=Users,DC=example,DC=com`","title":"InitialLdapContext returned LDAP: error code 49","body":"<p>The <code>data 52e</code> in the error message refers to the <a href=\"https://learn.microsoft.com/en-us/windows/win32/debug/system-error-codes--1300-1699-#:%7E:text=of%20the%20domain.-,ERROR_LOGON_FAILURE,-1326%20(0x52E)\" rel=\"nofollow noreferrer\">Windows System Error code</a>, which is:</p>\n<blockquote>\n<p><strong>ERROR_LOGON_FAILURE</strong></p>\n<p>1326 (0x52E)</p>\n<p>The user name or password is incorrect.</p>\n</blockquote>\n<p>So it's definitely complaining about your credentials.</p>\n<p>What format is the username in? You mention in the comment to the other answer, <code>cn=ldapuser</code>, but that won't work for AD. The format should be one of:</p>\n<ul>\n<li>Just the username (either <code>sAMAccountName</code> or <code>userPrincipalName</code>) e.g. <code>ldapuser</code></li>\n<li>The domain\\username, e.g. <code>DOMAIN\\ldapuser</code></li>\n<li>The distinguished name, e.g. <code>CN=ldapuser,OU=Users,DC=example,DC=com</code></li>\n</ul>\n"}],"owner":{"account_id":22336972,"reputation":179,"user_id":16557377,"display_name":"Jin Ma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71191174,"answer_count":2,"score":0,"last_activity_date":1645839615,"creation_date":1645194742,"question_id":71175173,"body_markdown":"I ran into an issue when trying to connect to ldap server in my spring boot application.\r\nI verified the URL, user name, and password are all valid using ADExplorer.\r\nI also step trace the same information to make sure information is correct right before the call.\r\n\r\n    \t\r\n\tHashtable&lt;String, Object&gt; env = new Hashtable&lt;String, Object&gt;();\r\n\tenv.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\r\n\tif(ldapUsername != null) {\r\n\t\tenv.put(Context.SECURITY_PRINCIPAL, ldapUsername);\r\n\t}\r\n\tif(ldapPassword != null) {\r\n\t\tenv.put(Context.SECURITY_CREDENTIALS, ldapPassword);\r\n\t}\r\n\tenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\r\n\tenv.put(Context.PROVIDER_URL, ldapAdServer);\r\n\tenv.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectSID&quot;);\r\n\r\n\tctx = new InitialLdapContext(env, null);&lt;==== exception thrown\r\n\treturn ctx;\r\n\r\n&lt;!----&gt;\r\n\r\n    ldap:\r\n        host:\r\n          ldapadserver: ldap://ldapserver.com\r\n        search:\r\n          ldapsearchbase: OU=AD Master OU,OU=###,DC=###,DC=###\r\n        user:\r\n          ldapusername: ####\r\n          ldappassword: ENC(#####)\r\n\r\n&lt;!----&gt;\r\n\r\n    Exception while loading user configuration file : javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090447, comment: AcceptSecurityContext error, data 52e, v3839]\r\n    javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090447, comment: AcceptSecurityContext error, data 52e, v3839]\r\n            at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3261)\r\n            at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3207)\r\n            at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2993)\r\n            at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2907)\r\n            at com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:347)\r\n            at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225)\r\n            at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189)\r\n            at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243)\r\n            at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)\r\n            at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)\r\n            at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)\r\n            at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313)\r\n            at javax.naming.InitialContext.init(InitialContext.java:244)\r\n            at javax.naming.ldap.InitialLdapContext.&lt;init&gt;(InitialLdapContext.java:154)\r\n\r\n\r\n\r\nJust an update:  I followed the advise and use the full DN string as ldapUserName and everything works.","title":"InitialLdapContext returned LDAP: error code 49","body":"<p>I ran into an issue when trying to connect to ldap server in my spring boot application.\nI verified the URL, user name, and password are all valid using ADExplorer.\nI also step trace the same information to make sure information is correct right before the call.</p>\n<pre><code>Hashtable&lt;String, Object&gt; env = new Hashtable&lt;String, Object&gt;();\nenv.put(Context.SECURITY_AUTHENTICATION, &quot;simple&quot;);\nif(ldapUsername != null) {\n    env.put(Context.SECURITY_PRINCIPAL, ldapUsername);\n}\nif(ldapPassword != null) {\n    env.put(Context.SECURITY_CREDENTIALS, ldapPassword);\n}\nenv.put(Context.INITIAL_CONTEXT_FACTORY, &quot;com.sun.jndi.ldap.LdapCtxFactory&quot;);\nenv.put(Context.PROVIDER_URL, ldapAdServer);\nenv.put(&quot;java.naming.ldap.attributes.binary&quot;, &quot;objectSID&quot;);\n\nctx = new InitialLdapContext(env, null);&lt;==== exception thrown\nreturn ctx;\n</code></pre>\n\n<pre><code>ldap:\n    host:\n      ldapadserver: ldap://ldapserver.com\n    search:\n      ldapsearchbase: OU=AD Master OU,OU=###,DC=###,DC=###\n    user:\n      ldapusername: ####\n      ldappassword: ENC(#####)\n</code></pre>\n\n<pre><code>Exception while loading user configuration file : javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090447, comment: AcceptSecurityContext error, data 52e, v3839]\njavax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090447, comment: AcceptSecurityContext error, data 52e, v3839]\n        at com.sun.jndi.ldap.LdapCtx.mapErrorCode(LdapCtx.java:3261)\n        at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:3207)\n        at com.sun.jndi.ldap.LdapCtx.processReturnCode(LdapCtx.java:2993)\n        at com.sun.jndi.ldap.LdapCtx.connect(LdapCtx.java:2907)\n        at com.sun.jndi.ldap.LdapCtx.&lt;init&gt;(LdapCtx.java:347)\n        at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxFromUrl(LdapCtxFactory.java:225)\n        at com.sun.jndi.ldap.LdapCtxFactory.getUsingURL(LdapCtxFactory.java:189)\n        at com.sun.jndi.ldap.LdapCtxFactory.getUsingURLs(LdapCtxFactory.java:243)\n        at com.sun.jndi.ldap.LdapCtxFactory.getLdapCtxInstance(LdapCtxFactory.java:154)\n        at com.sun.jndi.ldap.LdapCtxFactory.getInitialContext(LdapCtxFactory.java:84)\n        at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)\n        at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313)\n        at javax.naming.InitialContext.init(InitialContext.java:244)\n        at javax.naming.ldap.InitialLdapContext.&lt;init&gt;(InitialLdapContext.java:154)\n</code></pre>\n<p>Just an update:  I followed the advise and use the full DN string as ldapUserName and everything works.</p>\n"},{"tags":["java","algorithm","sorting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1645836645,"post_id":71273168,"comment_id":125983728,"body_markdown":"`num` shouldn&#39;t be assigned in in the inner loop. You can&#39;t know the number of occurrences until you go through the entire array. Also, `count` needs to be reset in the outer loop.","body":"<code>num</code> shouldn&#39;t be assigned in in the inner loop. You can&#39;t know the number of occurrences until you go through the entire array. Also, <code>count</code> needs to be reset in the outer loop."}],"answers":[{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1645838328,"creation_date":1645838328,"answer_id":71273321,"question_id":71273168,"body_markdown":"You could try something like this and track multiple solutions:\r\n\r\n    Set&lt;Integer&gt; odds = new HashSet&lt;Integer&gt;();\r\n    for (int i : A) {\r\n        if (odds.contains(i)) {\r\n    \t\todds.remove(i);\r\n    \t} else {\r\n    \t\todds.add(i);\r\n    \t}\r\n    }\r\n    System.out.println(odds);","title":"I have executed the below code to print the number in an array which occurs odd number times. But this codes print the last element of the array","body":"<p>You could try something like this and track multiple solutions:</p>\n<pre><code>Set&lt;Integer&gt; odds = new HashSet&lt;Integer&gt;();\nfor (int i : A) {\n    if (odds.contains(i)) {\n        odds.remove(i);\n    } else {\n        odds.add(i);\n    }\n}\nSystem.out.println(odds);\n</code></pre>\n"}],"owner":{"account_id":24381334,"reputation":1,"user_id":18312834,"display_name":"İdil Su"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1645839832,"accepted_answer_id":71273321,"answer_count":1,"score":-1,"last_activity_date":1645838328,"creation_date":1645836516,"question_id":71273168,"body_markdown":"I think the problem is int this line &quot;num = A[i]&quot; I have tried to assign the num as zero. But could not accomplish. \r\n\r\n\r\n\t\r\n\tpublic static int solution(int A[]){\r\n\t\tint num = A[0];\r\n\t\tint count = 0;\r\n\t\tfor(int i = 0; i&lt;A.length ; i++) {\r\n\t\t\tfor(int j = 0; j&lt;A.length; j++) {\r\n\t\t\t\tif(A[i] == A[j]) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t}\r\n\t\t\t\tif(count%2 != 0)\r\n\t\t\t\t\tnum = A[i];\r\n\t\t\t\telse\r\n\t\t\t\t\tcount = 0;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn num;\r\n\t\t\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tint arr[] = {10,22,345,22,345,10,5};\r\n\t\tSystem.out.println(solution(arr));\r\n\r\n\t}\r\n","title":"I have executed the below code to print the number in an array which occurs odd number times. But this codes print the last element of the array","body":"<p>I think the problem is int this line &quot;num = A[i]&quot; I have tried to assign the num as zero. But could not accomplish.</p>\n<pre><code>public static int solution(int A[]){\n    int num = A[0];\n    int count = 0;\n    for(int i = 0; i&lt;A.length ; i++) {\n        for(int j = 0; j&lt;A.length; j++) {\n            if(A[i] == A[j]) {\n                count++;\n            }\n            if(count%2 != 0)\n                num = A[i];\n            else\n                count = 0;\n        }\n    }\n    return num;\n    \n}\n\npublic static void main(String[] args) {\n    int arr[] = {10,22,345,22,345,10,5};\n    System.out.println(solution(arr));\n\n}\n</code></pre>\n"},{"tags":["java","this"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1645838383,"post_id":71273284,"comment_id":125983936,"body_markdown":"Use a static factory method if you want control over new instances.","body":"Use a static factory method if you want control over new instances."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":0,"creation_date":1645838825,"post_id":71273284,"comment_id":125983991,"body_markdown":"It just doesn&#39;t work that way.  No reason it should given that there are a number of valid ways to do what you want without creating an extra `Function` object.  OneCricketeer&#39;s answer is a good one.  @shmosel&#39;s comment is even better.  In this case, I&#39;d add a static factory method to `Function` that returns the result of calling `reduceFraction`","body":"It just doesn&#39;t work that way.  No reason it should given that there are a number of valid ways to do what you want without creating an extra <code>Function</code> object.  OneCricketeer&#39;s answer is a good one.  @shmosel&#39;s comment is even better.  In this case, I&#39;d add a static factory method to <code>Function</code> that returns the result of calling <code>reduceFraction</code>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1645838057,"creation_date":1645838057,"answer_id":71273301,"question_id":71273284,"body_markdown":"You simply cannot deference an instance within itself.\r\n\r\nWhy not make reduce function assign the local instance variables itself, assuming it&#39;s not a public static method?\r\n\r\nIf it were a public static method, you would just do\r\n\r\n`Fraction f = Fraction.reduceFraction(numIn, denIn);` rather than `Fraction f = new Fraction(numIn, denIn)`\r\n\r\nAnd in the reduce method, I assume you&#39;ve done `return new Fraction(numIn, denIn)`? If so, I think you&#39;d have a recursive constructor loop ","title":"Why can&#39;t I set &quot;this&quot; equal to an object in a constructor?","body":"<p>You simply cannot deference an instance within itself.</p>\n<p>Why not make reduce function assign the local instance variables itself, assuming it's not a public static method?</p>\n<p>If it were a public static method, you would just do</p>\n<p><code>Fraction f = Fraction.reduceFraction(numIn, denIn);</code> rather than <code>Fraction f = new Fraction(numIn, denIn)</code></p>\n<p>And in the reduce method, I assume you've done <code>return new Fraction(numIn, denIn)</code>? If so, I think you'd have a recursive constructor loop</p>\n"}],"owner":{"account_id":24381311,"reputation":55,"user_id":18312814,"display_name":"Frostbiyt"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1645838379,"accepted_answer_id":71273301,"answer_count":1,"score":-1,"last_activity_date":1645838057,"creation_date":1645837829,"question_id":71273284,"body_markdown":"I have a constructor in an object class that passes its input values to a function that returns an object of the same type and I was wondering why I can&#39;t set all the instance variables for the new object in one line, like this: `this = function();` Here&#39;s my current solution:\r\n```\r\npublic class Fraction {\r\n    long num;\r\n    long den;\r\n\r\n    public Fraction(double numIn, double denIn){\r\n        Fraction temp = reduceFraction(numIn, denIn);\r\n        num = temp.num;\r\n        den = temp.den;\r\n    }\r\n```\r\nI can also do this:\r\n```\r\n    public Fraction(double numIn, double denIn){\r\n        Fraction temp = reduceFraction(numIn, denIn);\r\n        this.num = temp.num;\r\n        this.den = temp.den;\r\n    }\r\n```\r\nSomething like this would be a lot cleaner, but doesn&#39;t work:\r\n```\r\n    public Fraction(double numIn, double denIn){\r\n        this = reduceFraction(numIn, denIn);\r\n    }\r\n```\r\nSince my object only has two instance variables, it&#39;s not that big of a deal to set each individually, but it seems like that would be really inconvenient with more complex objects. Is there another way I could accomplish this that&#39;s cleaner than my current solution?","title":"Why can&#39;t I set &quot;this&quot; equal to an object in a constructor?","body":"<p>I have a constructor in an object class that passes its input values to a function that returns an object of the same type and I was wondering why I can't set all the instance variables for the new object in one line, like this: <code>this = function();</code> Here's my current solution:</p>\n<pre><code>public class Fraction {\n    long num;\n    long den;\n\n    public Fraction(double numIn, double denIn){\n        Fraction temp = reduceFraction(numIn, denIn);\n        num = temp.num;\n        den = temp.den;\n    }\n</code></pre>\n<p>I can also do this:</p>\n<pre><code>    public Fraction(double numIn, double denIn){\n        Fraction temp = reduceFraction(numIn, denIn);\n        this.num = temp.num;\n        this.den = temp.den;\n    }\n</code></pre>\n<p>Something like this would be a lot cleaner, but doesn't work:</p>\n<pre><code>    public Fraction(double numIn, double denIn){\n        this = reduceFraction(numIn, denIn);\n    }\n</code></pre>\n<p>Since my object only has two instance variables, it's not that big of a deal to set each individually, but it seems like that would be really inconvenient with more complex objects. Is there another way I could accomplish this that's cleaner than my current solution?</p>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":939417,"reputation":666,"user_id":967768,"display_name":"Demogorii"},"score":0,"creation_date":1497611631,"post_id":44587694,"comment_id":76163265,"body_markdown":"Which version of opencv are you using?","body":"Which version of opencv are you using?"},{"owner":{"account_id":9866497,"reputation":1,"user_id":7307788,"display_name":"International"},"score":0,"creation_date":1499797126,"post_id":44587694,"comment_id":77057987,"body_markdown":"**opencv 249***","body":"<b>opencv 249*</b>"},{"owner":{"account_id":10122130,"reputation":1238,"user_id":7478712,"accept_rate":80,"display_name":"Ognjen Mišić"},"score":0,"creation_date":1500654918,"post_id":44587694,"comment_id":77451314,"body_markdown":"Try this answer, maybe it can work for you too: https://stackoverflow.com/a/42996093/7478712","body":"Try this answer, maybe it can work for you too: <a href=\"https://stackoverflow.com/a/42996093/7478712\">stackoverflow.com/a/42996093/7478712</a>"}],"answers":[{"tags":[],"owner":{"account_id":18997517,"reputation":13,"user_id":13865522,"display_name":"Belaid Abdelhadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645835055,"creation_date":1645835055,"answer_id":71273064,"question_id":44587694,"body_markdown":"I&#39;m using fedora linux and i installed the opencv-java package using the package manager &quot;dnf&quot; then i got the same error so i just created some directories `/usr/java/packages/lib` then i copied the whole content of the `/lib/java/` into the dirs that created . and it SOLVED my probled \r\n\r\ngive it a try","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java in java.library.path","body":"<p>I'm using fedora linux and i installed the opencv-java package using the package manager &quot;dnf&quot; then i got the same error so i just created some directories <code>/usr/java/packages/lib</code> then i copied the whole content of the <code>/lib/java/</code> into the dirs that created . and it SOLVED my probled</p>\n<p>give it a try</p>\n"}],"owner":{"account_id":9866497,"reputation":1,"user_id":7307788,"display_name":"International"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645835055,"creation_date":1497611102,"question_id":44587694,"body_markdown":"I have the code that is for to take snapshot but i am facing the problem of &#39;no opencv_java in java.library.java&#39;. I have tried the all methods of opencv (install it, setup  the .dll file, seted up .so file) but as like as before the problem remain same.\r\n\r\n    import org.opencv.core.*;\r\n    import org.opencv.highgui.Highgui;\r\n    import org.opencv.highgui.VideoCapture;\r\n\r\n    public class web\r\n    {\r\n        public static void main(String args[])\r\n        {\r\n\r\n            System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n            VideoCapture camera = new VideoCapture(0);\r\n            if (!camera.isOpened())\r\n            {\r\n                System.out.println(&quot;Error&quot;);\r\n            }\r\n            else\r\n            {\r\n                Mat frame = new Mat();\r\n                while (true)\r\n                {\r\n                    if (camera.read(frame))\r\n                    {\r\n                        System.out.println(&quot;Frame Obtained&quot;);\r\n                        System.out.println(&quot;Captured Frame Width &quot; +\r\n                                           frame.width() + &quot; Height &quot; + frame.height());\r\n                        Highgui.imwrite(&quot;camera.jpg&quot;, frame);\r\n                        System.out.println(&quot;OK&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            camera.release();\r\n        }\r\n    }\r\n\r\nNow how can I overcome this problem, I have already did the NATIVE library path \r\n    `-Djava.library.path=&quot;C:\\path to the .dll file&quot;`","title":"Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java in java.library.path","body":"<p>I have the code that is for to take snapshot but i am facing the problem of 'no opencv_java in java.library.java'. I have tried the all methods of opencv (install it, setup  the .dll file, seted up .so file) but as like as before the problem remain same.</p>\n\n<pre><code>import org.opencv.core.*;\nimport org.opencv.highgui.Highgui;\nimport org.opencv.highgui.VideoCapture;\n\npublic class web\n{\n    public static void main(String args[])\n    {\n\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        VideoCapture camera = new VideoCapture(0);\n        if (!camera.isOpened())\n        {\n            System.out.println(\"Error\");\n        }\n        else\n        {\n            Mat frame = new Mat();\n            while (true)\n            {\n                if (camera.read(frame))\n                {\n                    System.out.println(\"Frame Obtained\");\n                    System.out.println(\"Captured Frame Width \" +\n                                       frame.width() + \" Height \" + frame.height());\n                    Highgui.imwrite(\"camera.jpg\", frame);\n                    System.out.println(\"OK\");\n                    break;\n                }\n            }\n        }\n        camera.release();\n    }\n}\n</code></pre>\n\n<p>Now how can I overcome this problem, I have already did the NATIVE library path \n    <code>-Djava.library.path=\"C:\\path to the .dll file\"</code></p>\n"},{"tags":["java","amazon-web-services","amazon-ec2","aws-sdk-java-2.0","aws-sdk-java"],"comments":[{"owner":{"account_id":100740,"reputation":73217,"user_id":271415,"accept_rate":91,"display_name":"jarmod"},"score":0,"creation_date":1645832497,"post_id":71271966,"comment_id":125983123,"body_markdown":"One option would be to save the resulting string representing the private key to a PEM file and serve that from your web server, or put it in S3 and serve that via pre-signed URL.","body":"One option would be to save the resulting string representing the private key to a PEM file and serve that from your web server, or put it in S3 and serve that via pre-signed URL."}],"answers":[{"tags":[],"owner":{"account_id":24153724,"reputation":141,"user_id":18118214,"display_name":"Vilius Kukanauskas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645833431,"creation_date":1645833431,"answer_id":71272930,"question_id":71271966,"body_markdown":"If you have the key as String in CDK program, you can simply save it (encrypted) in SSM Parameter store.\r\n\r\nLater you can fetch it from any location that has access to your AWS SSM Parameter store. You only need to know the name of the variables.\r\n\r\nFor example you can read it in your deploy pipeline and save it to a file, or environment variables.","title":"create a file.pem containing the private key when creating a Key Pair using AWS SDK for Java","body":"<p>If you have the key as String in CDK program, you can simply save it (encrypted) in SSM Parameter store.</p>\n<p>Later you can fetch it from any location that has access to your AWS SSM Parameter store. You only need to know the name of the variables.</p>\n<p>For example you can read it in your deploy pipeline and save it to a file, or environment variables.</p>\n"}],"owner":{"account_id":24287063,"reputation":27,"user_id":18232673,"display_name":"selimczaouali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":634,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645833431,"creation_date":1645825061,"question_id":71271966,"body_markdown":"I am trying to create Key Pairs using the AWS SDK for Java.\r\nUsually if you are using the Management Console on AWS website and when you create a new Key Pair, you are provided with a YourKeypairName.pem file containing the private RSA key that you have to use to access an EC2 instance.\r\n\r\nHowever when creating a Key Pair using AWS SDK for Java, I can manage to get a String containing the private key but I don&#39;t know exactly what to do with it. What I&#39;m wondering is:\r\n\r\n- Is there a way to create .pem files and choose what to put in them in Java ?\r\n- (in a more general way) How am I able to provide a .pem file containing this key to the user of my application in the Frontend.\r\n\r\n       try {\r\n\t        CreateKeyPairRequest request = CreateKeyPairRequest.builder()\r\n\t            .keyName(&quot;myKeyName&quot;).build();\r\n\t        CreateKeyPairResponse response=ec2.createKeyPair(request);\r\n\t\t\tSystem.out.println(response.keyMaterial()); // contains the private key\r\n\t        \r\n       } catch (Ec2Exception e) {\r\n\t        System.err.println(e.awsErrorDetails().errorMessage());\r\n\t        System.exit(1);\r\n\t    }","title":"create a file.pem containing the private key when creating a Key Pair using AWS SDK for Java","body":"<p>I am trying to create Key Pairs using the AWS SDK for Java.\nUsually if you are using the Management Console on AWS website and when you create a new Key Pair, you are provided with a YourKeypairName.pem file containing the private RSA key that you have to use to access an EC2 instance.</p>\n<p>However when creating a Key Pair using AWS SDK for Java, I can manage to get a String containing the private key but I don't know exactly what to do with it. What I'm wondering is:</p>\n<ul>\n<li><p>Is there a way to create .pem files and choose what to put in them in Java ?</p>\n</li>\n<li><p>(in a more general way) How am I able to provide a .pem file containing this key to the user of my application in the Frontend.</p>\n<pre><code> try {\n      CreateKeyPairRequest request = CreateKeyPairRequest.builder()\n          .keyName(&quot;myKeyName&quot;).build();\n      CreateKeyPairResponse response=ec2.createKeyPair(request);\n      System.out.println(response.keyMaterial()); // contains the private key\n\n } catch (Ec2Exception e) {\n      System.err.println(e.awsErrorDetails().errorMessage());\n      System.exit(1);\n  }\n</code></pre>\n</li>\n</ul>\n"},{"tags":["java","android-studio","intellij-idea"],"comments":[{"owner":{"account_id":1091347,"reputation":5947,"user_id":1085937,"accept_rate":86,"display_name":"Jeeter"},"score":0,"creation_date":1471479652,"post_id":38714834,"comment_id":65367953,"body_markdown":"did my answer help?","body":"did my answer help?"}],"answers":[{"tags":[],"owner":{"account_id":1091347,"reputation":5947,"user_id":1085937,"accept_rate":86,"display_name":"Jeeter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1471149371,"creation_date":1471149371,"answer_id":38939173,"question_id":38714834,"body_markdown":"Go to your code&#39;s tab in `Editor -&gt; Colors &amp; Fonts`, and look for a setting with the following enabled:\r\n[![enter image description here][1]][1]\r\nUnchecking that box will disable the effect\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/mzKJh.png","title":"Intellij: What does the green box around my source mean? How can I disable it?","body":"<p>Go to your code's tab in <code>Editor -&gt; Colors &amp; Fonts</code>, and look for a setting with the following enabled:\n<a href=\"https://i.stack.imgur.com/mzKJh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mzKJh.png\" alt=\"enter image description here\"></a>\nUnchecking that box will disable the effect</p>\n"},{"tags":[],"owner":{"account_id":1633137,"reputation":11,"user_id":1507309,"display_name":"LanceShaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645833137,"creation_date":1645832166,"answer_id":71272805,"question_id":38714834,"body_markdown":"I&#39;m seeing this happen when it is highlighting the current scope of an item.  It seems to happen when you hold down control and right click on a bit of code, but it probably depends on your keymappings.  (I&#39;m using default GNOME keymappings)  \r\n\r\nEscape seems to clear it.","title":"Intellij: What does the green box around my source mean? How can I disable it?","body":"<p>I'm seeing this happen when it is highlighting the current scope of an item.  It seems to happen when you hold down control and right click on a bit of code, but it probably depends on your keymappings.  (I'm using default GNOME keymappings)</p>\n<p>Escape seems to clear it.</p>\n"}],"owner":{"account_id":2029084,"reputation":1968,"user_id":1813326,"accept_rate":56,"display_name":"David Berg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1708,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":38939173,"answer_count":2,"score":1,"last_activity_date":1645833137,"creation_date":1470124714,"question_id":38714834,"body_markdown":"I enabled a setting by mistake in IntelliJ giving me a green outline around parts of my source:\r\n\r\n[![Green outline IntelliJ][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/itM5j.png\r\n\r\nWhat does this outline mean and how can I disable it again?","title":"Intellij: What does the green box around my source mean? How can I disable it?","body":"<p>I enabled a setting by mistake in IntelliJ giving me a green outline around parts of my source:</p>\n\n<p><a href=\"https://i.stack.imgur.com/itM5j.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/itM5j.png\" alt=\"Green outline IntelliJ\"></a></p>\n\n<p>What does this outline mean and how can I disable it again?</p>\n"},{"tags":["java","text","console"],"comments":[{"owner":{"account_id":22643061,"reputation":134,"user_id":16818831,"display_name":"CiY3"},"score":0,"creation_date":1645826870,"post_id":71272173,"comment_id":125982069,"body_markdown":"I am confused as to what you are asking. Please give what you have now, and what you want to have.","body":"I am confused as to what you are asking. Please give what you have now, and what you want to have."},{"owner":{"account_id":24380608,"reputation":35,"user_id":18312234,"display_name":"LeeLime5000"},"score":0,"creation_date":1645827021,"post_id":71272173,"comment_id":125982099,"body_markdown":"@CiY3 basically I want to be able to insert text into and already printed statement","body":"@CiY3 basically I want to be able to insert text into and already printed statement"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645827671,"creation_date":1645827288,"answer_id":71272255,"question_id":71272173,"body_markdown":"This depends on your terminal.\r\n\r\nIf your terminal handles [ANSI escape sequences][1], the program below will print `EDCBA`. If it doesn&#39;t it will print:\r\n```\r\nAAAAA\r\nBBBB\r\nCCC\r\nDD\r\nE\r\n```\r\nXterm works.\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;AAAAA&quot;);\r\n        System.out.print(&quot;\\033[1A&quot;);\r\n        System.out.println(&quot;BBBB&quot;);\r\n        System.out.print(&quot;\\033[1A&quot;);\r\n        System.out.println(&quot;CCC&quot;);\r\n        System.out.print(&quot;\\033[1A&quot;);\r\n        System.out.println(&quot;DD&quot;);\r\n        System.out.print(&quot;\\033[1A&quot;);\r\n        System.out.println(&quot;E&quot;);\r\n    }\r\n}\r\n```\r\nThis doesn&#39;t insert new text in the previous line, so you need to do those operations in an in-memory buffer and refresh an entire line.\r\n\r\nHave a look at [this question][2] for some more libraries which may support a wider range of terminals.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ANSI_escape_code\r\n  [2]: https://stackoverflow.com/questions/439799/whats-a-good-java-curses-like-library-for-terminal-applications","title":"Is there a way to type of the same line of printed text again without deleting the text that was previously outputted in Java","body":"<p>This depends on your terminal.</p>\n<p>If your terminal handles <a href=\"https://en.wikipedia.org/wiki/ANSI_escape_code\" rel=\"nofollow noreferrer\">ANSI escape sequences</a>, the program below will print <code>EDCBA</code>. If it doesn't it will print:</p>\n<pre><code>AAAAA\nBBBB\nCCC\nDD\nE\n</code></pre>\n<p>Xterm works.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        System.out.println(&quot;AAAAA&quot;);\n        System.out.print(&quot;\\033[1A&quot;);\n        System.out.println(&quot;BBBB&quot;);\n        System.out.print(&quot;\\033[1A&quot;);\n        System.out.println(&quot;CCC&quot;);\n        System.out.print(&quot;\\033[1A&quot;);\n        System.out.println(&quot;DD&quot;);\n        System.out.print(&quot;\\033[1A&quot;);\n        System.out.println(&quot;E&quot;);\n    }\n}\n</code></pre>\n<p>This doesn't insert new text in the previous line, so you need to do those operations in an in-memory buffer and refresh an entire line.</p>\n<p>Have a look at <a href=\"https://stackoverflow.com/questions/439799/whats-a-good-java-curses-like-library-for-terminal-applications\">this question</a> for some more libraries which may support a wider range of terminals.</p>\n"},{"tags":[],"owner":{"account_id":24140175,"reputation":21,"user_id":18106477,"display_name":"TheTetrisDude"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645832141,"creation_date":1645832141,"answer_id":71272803,"question_id":71272173,"body_markdown":"I may be misunderstanding your question, but you could use `System.out.print()` multiple times to add something onto the end of the line.","title":"Is there a way to type of the same line of printed text again without deleting the text that was previously outputted in Java","body":"<p>I may be misunderstanding your question, but you could use <code>System.out.print()</code> multiple times to add something onto the end of the line.</p>\n"}],"owner":{"account_id":24380608,"reputation":35,"user_id":18312234,"display_name":"LeeLime5000"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71272255,"answer_count":2,"score":0,"last_activity_date":1645832141,"creation_date":1645826707,"question_id":71272173,"body_markdown":"I have been trying to figure out how to edit an already printed out line of text without deleted the text that you just wrote.\r\n\r\nI have thought that a work around of this problem is to just “edit” it by doing \\r and reprinting the coding every single time.\r\n\r\nFor example if I print out\r\n\r\n()\r\n\r\nBut then I wanted to add “hi” to it, it would then insert it to become\r\n\r\n(“hi”)\r\n\r\nIf anyone knows the answer it would be very nice if you could respond to help me out, thanks so much.","title":"Is there a way to type of the same line of printed text again without deleting the text that was previously outputted in Java","body":"<p>I have been trying to figure out how to edit an already printed out line of text without deleted the text that you just wrote.</p>\n<p>I have thought that a work around of this problem is to just “edit” it by doing \\r and reprinting the coding every single time.</p>\n<p>For example if I print out</p>\n<p>()</p>\n<p>But then I wanted to add “hi” to it, it would then insert it to become</p>\n<p>(“hi”)</p>\n<p>If anyone knows the answer it would be very nice if you could respond to help me out, thanks so much.</p>\n"},{"tags":["java","console"],"comments":[{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":0,"creation_date":1382795010,"post_id":19607426,"comment_id":29104694,"body_markdown":"Where is the code where you want to do *something like SetCursorPosition(0,0)*?!","body":"Where is the code where you want to do <i>something like SetCursorPosition(0,0)</i>?!"},{"owner":{"account_id":2129396,"reputation":193,"user_id":2805025,"accept_rate":64,"display_name":"emmett"},"score":0,"creation_date":1382795541,"post_id":19607426,"comment_id":29104837,"body_markdown":"@R.J editted the question. Can you recheck it","body":"@R.J editted the question. Can you recheck it"},{"owner":{"account_id":2305374,"reputation":44549,"user_id":2024761,"display_name":"Rahul"},"score":0,"creation_date":1382795757,"post_id":19607426,"comment_id":29104885,"body_markdown":"You&#39;ve edited and just added more about the question(which is good), but then, where is the code you&#39;ve written till now?!","body":"You&#39;ve edited and just added more about the question(which is good), but then, where is the code you&#39;ve written till now?!"},{"owner":{"account_id":2129396,"reputation":193,"user_id":2805025,"accept_rate":64,"display_name":"emmett"},"score":0,"creation_date":1382796054,"post_id":19607426,"comment_id":29104972,"body_markdown":"@R.J I didnt write the project yet it was just thought. I ll write in 5 sec.","body":"@R.J I didnt write the project yet it was just thought. I ll write in 5 sec."},{"owner":{"account_id":2129396,"reputation":193,"user_id":2805025,"accept_rate":64,"display_name":"emmett"},"score":0,"creation_date":1382797072,"post_id":19607426,"comment_id":29105279,"body_markdown":"@R.J can you check again please","body":"@R.J can you check again please"}],"answers":[{"tags":[],"owner":{"account_id":3453115,"reputation":1949,"user_id":2892277,"display_name":"Nikolay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631780410,"creation_date":1382795694,"answer_id":19607519,"question_id":19607426,"body_markdown":"Unfortunately, Java doesn&#39;t have full console support.\r\n\r\nYou might try [JLine](https://jline.github.io).","title":"SetCursorPosition equivalent in java console","body":"<p>Unfortunately, Java doesn't have full console support.</p>\n<p>You might try <a href=\"https://jline.github.io\" rel=\"nofollow noreferrer\">JLine</a>.</p>\n"},{"tags":[],"owner":{"account_id":6829282,"reputation":99,"user_id":5253957,"display_name":"SpyderCoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645830917,"creation_date":1645830917,"answer_id":71272676,"question_id":19607426,"body_markdown":"I asked the developers of [JLine][1] and you can set the cursor position using this.\r\n\r\n    terminal.puts(InfoCmp.Capability.cursor_address, 0, 0);\r\n\r\nHere&#39;s a small example of it&#39;s usage and as an added bonus I&#39;ll show how to make the cursor invisible and visible. \r\n\r\n    import org.jline.terminal.Terminal;\r\n    import org.jline.terminal.TerminalBuilder;\r\n    import org.jline.utils.InfoCmp;\r\n\r\n    import java.io.IOException;\r\n\r\n    public class CursorStuff\r\n    {\r\n        public static void main(String[] args) throws IOException, InterruptedException\r\n        {\r\n            int row = 10;\r\n            int col = 40;\r\n            Terminal terminal = TerminalBuilder.terminal();\r\n            terminal.puts(InfoCmp.Capability.cursor_address, row, col);\r\n            System.out.println(&quot;Here we start at row &quot; + row + &quot; col &quot; + col);\r\n            System.out.println(&quot;Now you see the cursor&quot;);\r\n\r\n            Thread.sleep(2000);\r\n            terminal.puts(InfoCmp.Capability.cursor_invisible);\r\n            System.out.println(&quot;Now you don&#39;t!&quot;);\r\n\r\n            Thread.sleep(2000);\r\n            terminal.puts(InfoCmp.Capability.cursor_visible);\r\n            System.out.println(&quot;And the cursor is back again.&quot;);\r\n\r\n        }\r\n    }\r\n\r\nMake sure to have either [Jansi][2] or [JNA][3] in your libraries otherwise you will get a dumb terminal and not be able to use these functions at least on Windows as it requires these to do native function calls.\r\n\r\nAs far as I can tell this is the easiest method to accomplish this as before I knew this was an option I was writing C++ and calling those native function calls I made using JNI.\r\n\r\n\r\n  [1]: https://github.com/jline/jline3\r\n  [2]: http://fusesource.github.io/jansi/download.html\r\n  [3]: https://github.com/java-native-access/jna","title":"SetCursorPosition equivalent in java console","body":"<p>I asked the developers of <a href=\"https://github.com/jline/jline3\" rel=\"nofollow noreferrer\">JLine</a> and you can set the cursor position using this.</p>\n<pre><code>terminal.puts(InfoCmp.Capability.cursor_address, 0, 0);\n</code></pre>\n<p>Here's a small example of it's usage and as an added bonus I'll show how to make the cursor invisible and visible.</p>\n<pre><code>import org.jline.terminal.Terminal;\nimport org.jline.terminal.TerminalBuilder;\nimport org.jline.utils.InfoCmp;\n\nimport java.io.IOException;\n\npublic class CursorStuff\n{\n    public static void main(String[] args) throws IOException, InterruptedException\n    {\n        int row = 10;\n        int col = 40;\n        Terminal terminal = TerminalBuilder.terminal();\n        terminal.puts(InfoCmp.Capability.cursor_address, row, col);\n        System.out.println(&quot;Here we start at row &quot; + row + &quot; col &quot; + col);\n        System.out.println(&quot;Now you see the cursor&quot;);\n\n        Thread.sleep(2000);\n        terminal.puts(InfoCmp.Capability.cursor_invisible);\n        System.out.println(&quot;Now you don't!&quot;);\n\n        Thread.sleep(2000);\n        terminal.puts(InfoCmp.Capability.cursor_visible);\n        System.out.println(&quot;And the cursor is back again.&quot;);\n\n    }\n}\n</code></pre>\n<p>Make sure to have either <a href=\"http://fusesource.github.io/jansi/download.html\" rel=\"nofollow noreferrer\">Jansi</a> or <a href=\"https://github.com/java-native-access/jna\" rel=\"nofollow noreferrer\">JNA</a> in your libraries otherwise you will get a dumb terminal and not be able to use these functions at least on Windows as it requires these to do native function calls.</p>\n<p>As far as I can tell this is the easiest method to accomplish this as before I knew this was an option I was writing C++ and calling those native function calls I made using JNI.</p>\n"}],"owner":{"account_id":2129396,"reputation":193,"user_id":2805025,"accept_rate":64,"display_name":"emmett"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3571,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1645830917,"creation_date":1382794973,"question_id":19607426,"body_markdown":"I want to move cursor up to the beginning after it wrote something at lower part.  I mean is there something like SetCursorPosition(0,0)?\r\n\r\nedit:  it is about writing 6x3 matrix with numbers in it. it should be seem like this\r\n\r\n         ...\r\n         7 8 9\r\n         4 5 6\r\n         1 2 3\r\n\r\nit&#39;ll start write from bottom. when the cursor at (0,0) it&#39;ll put 6x space then write 1 2 3, then go to (0,0), put 5x space, write 4 5 6 ...\r\n\r\n\r\ncode:\r\n\r\n\r\n\tboolean sa;        \r\n        int yoyo;\r\n        int lo = 18;\r\n        int y = 0;\r\n        \r\n        for (int k = 1; k &lt; 100; k++)\r\n        {\r\n\r\n            if (y &lt; 18)\r\n            {\r\n                sa = true;\r\n                for (int h = 2; h &lt; k; h++)\r\n                {\r\n                    if (k % h == 0)\r\n                        sa = false;\r\n                }\r\n                if (sa)\r\n                {\r\n                    lo--;\r\n\r\n                    if (y % 3 == 0)\r\n                    {\r\n                        yoyo = lo / 3 + 1;\r\n                        // here where I need Console.SetCursorPosition(0,0)\r\n                                                    \r\n                        for (int yos = 0; yos &lt; yoyo; yos++)\r\n                        {\r\n                        \tSystem.out.print(&quot;\\n&quot;);\r\n                        }\r\n                        if (k &lt; 10)\r\n                        \tSystem.out.print(&quot; &quot; + k + &quot; &quot;);\r\n                        else\r\n                        \tSystem.out.print(k + &quot; &quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                        if (k&lt; 10)\r\n                        \tSystem.out.print(&quot; &quot; + k + &quot; &quot;);\r\n                        else\r\n                        \tSystem.out.print(k + &quot; &quot;);\r\n                    }\r\n\r\n                    \r\n                    y++;\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n","title":"SetCursorPosition equivalent in java console","body":"<p>I want to move cursor up to the beginning after it wrote something at lower part.  I mean is there something like SetCursorPosition(0,0)?</p>\n\n<p>edit:  it is about writing 6x3 matrix with numbers in it. it should be seem like this</p>\n\n<pre><code>     ...\n     7 8 9\n     4 5 6\n     1 2 3\n</code></pre>\n\n<p>it'll start write from bottom. when the cursor at (0,0) it'll put 6x space then write 1 2 3, then go to (0,0), put 5x space, write 4 5 6 ...</p>\n\n<p>code:</p>\n\n<pre><code>boolean sa;        \n    int yoyo;\n    int lo = 18;\n    int y = 0;\n\n    for (int k = 1; k &lt; 100; k++)\n    {\n\n        if (y &lt; 18)\n        {\n            sa = true;\n            for (int h = 2; h &lt; k; h++)\n            {\n                if (k % h == 0)\n                    sa = false;\n            }\n            if (sa)\n            {\n                lo--;\n\n                if (y % 3 == 0)\n                {\n                    yoyo = lo / 3 + 1;\n                    // here where I need Console.SetCursorPosition(0,0)\n\n                    for (int yos = 0; yos &lt; yoyo; yos++)\n                    {\n                        System.out.print(\"\\n\");\n                    }\n                    if (k &lt; 10)\n                        System.out.print(\" \" + k + \" \");\n                    else\n                        System.out.print(k + \" \");\n                }\n                else\n                {\n                    if (k&lt; 10)\n                        System.out.print(\" \" + k + \" \");\n                    else\n                        System.out.print(k + \" \");\n                }\n\n\n                y++;\n\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"comments":[{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1645795190,"post_id":71263204,"comment_id":125971293,"body_markdown":"Your dataset is empty, there are no rows in it.","body":"Your dataset is empty, there are no rows in it."}],"answers":[{"tags":[],"owner":{"account_id":13486083,"reputation":1715,"user_id":9729847,"display_name":"maxime G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645830259,"creation_date":1645830259,"answer_id":71272606,"question_id":71263204,"body_markdown":"    import spark.implicits._\r\n\r\n    val output = Seq(\r\n        (&quot;hello&quot;) \r\n      ).toDF(&quot;test&quot;)\r\n\r\n    +-----+\r\n    |Test |\r\n    +-----+\r\n    |hello|\r\n    +-----+","title":"how do i initialise an empty Dataset/dataframe","body":"<pre><code>import spark.implicits._\n\nval output = Seq(\n    (&quot;hello&quot;) \n  ).toDF(&quot;test&quot;)\n\n+-----+\n|Test |\n+-----+\n|hello|\n+-----+\n</code></pre>\n"}],"owner":{"account_id":2401241,"reputation":1,"user_id":2098843,"display_name":"Quellist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1645830259,"creation_date":1645778594,"question_id":71263204,"body_markdown":"I need to build my results stage by stage \r\nso I want to start with an empty Dataset/dataframe\r\n\r\n    Dataset&lt;Row&gt; output = spark.emptyDataFrame();\r\n    output = output.withColumn(&quot;Test&quot;, lit(&quot;Hello&quot;));\r\n    output.show();\r\n\r\nThe above produces\r\n\r\n    +----+\r\n    |Test|\r\n    +----+\r\n    +----+\r\nIt doesn&#39;t apply the expected value as the column is created\r\nAnd same thing happens when I try to extend the Dataset/dataframe with another column\r\n\r\n    output = output.withColumn(&quot;Test2&quot;, lit(&quot;Hello 2&quot;));\r\n    output.show();\r\n\r\nwhich above produces\r\n\r\n    +----+-----+\r\n    |Test|Test2|\r\n    +----+-----+\r\n    +----+-----+\r\n\r\nObviously the lit functions above will be replaced with my real field calculations\r\nBut I don&#39;t understand why the above is not working as expected\r\n\r\nAppreciate any explanation/correction","title":"how do i initialise an empty Dataset/dataframe","body":"<p>I need to build my results stage by stage\nso I want to start with an empty Dataset/dataframe</p>\n<pre><code>Dataset&lt;Row&gt; output = spark.emptyDataFrame();\noutput = output.withColumn(&quot;Test&quot;, lit(&quot;Hello&quot;));\noutput.show();\n</code></pre>\n<p>The above produces</p>\n<pre><code>+----+\n|Test|\n+----+\n+----+\n</code></pre>\n<p>It doesn't apply the expected value as the column is created\nAnd same thing happens when I try to extend the Dataset/dataframe with another column</p>\n<pre><code>output = output.withColumn(&quot;Test2&quot;, lit(&quot;Hello 2&quot;));\noutput.show();\n</code></pre>\n<p>which above produces</p>\n<pre><code>+----+-----+\n|Test|Test2|\n+----+-----+\n+----+-----+\n</code></pre>\n<p>Obviously the lit functions above will be replaced with my real field calculations\nBut I don't understand why the above is not working as expected</p>\n<p>Appreciate any explanation/correction</p>\n"},{"tags":["java","user-interface"],"comments":[{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1645841059,"post_id":71272595,"comment_id":125984259,"body_markdown":"Is it extending another class?","body":"Is it extending another class?"},{"owner":{"account_id":22125644,"reputation":41,"user_id":16378078,"display_name":"TTiM3R"},"score":0,"creation_date":1645872990,"post_id":71272595,"comment_id":125988439,"body_markdown":"@Ryan I use the JHyperLink class in my JFrame class","body":"@Ryan I use the JHyperLink class in my JFrame class"}],"owner":{"account_id":22125644,"reputation":41,"user_id":16378078,"display_name":"TTiM3R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1645830183,"creation_date":1645830183,"question_id":71272595,"body_markdown":"  I&#39;m trying to change the colour of a hyperlink when hovering. Currently, when hovering it changes from green to dark blue, and I don&#39;t want it to change colour when hovering.\r\nI think it&#39;s due to the predefined cursor.\r\n\r\n   `public JHyperlink(String text, String url, String tooltip) {`\r\n        ...\r\n\r\n        setForeground(Color.green.darker()); //color before hovering\r\n\r\n        setToolTipText(tooltip);\r\n        setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n\r\n        addMouseListener(new MouseAdapter() {\r\n\r\n            @Override\r\n            public void mouseEntered(MouseEvent e) {\r\n                setText(String.format(html, text));\r\n\r\n            }\r\n\r\n            @Override\r\n            public void mouseExited(MouseEvent e) {\r\n                setText(text);\r\n\r\n            }  \r\n\r\n\r\n","title":"Change Hover Color of Hyperlink in java GUI","body":"<p>I'm trying to change the colour of a hyperlink when hovering. Currently, when hovering it changes from green to dark blue, and I don't want it to change colour when hovering.\nI think it's due to the predefined cursor.</p>\n<p><code>public JHyperlink(String text, String url, String tooltip) {</code>\n...</p>\n<pre><code>    setForeground(Color.green.darker()); //color before hovering\n\n    setToolTipText(tooltip);\n    setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n\n    addMouseListener(new MouseAdapter() {\n\n        @Override\n        public void mouseEntered(MouseEvent e) {\n            setText(String.format(html, text));\n\n        }\n\n        @Override\n        public void mouseExited(MouseEvent e) {\n            setText(text);\n\n        }  \n</code></pre>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":11120839,"reputation":492,"user_id":8163720,"accept_rate":0,"display_name":"Sampat Kumar"},"score":0,"creation_date":1645506051,"post_id":71216072,"comment_id":125882816,"body_markdown":"For ease I have specified List&lt;strings&gt; for input but these List of strings will be fetched from the Java runtime arguments &quot;args&quot;.","body":"For ease I have specified List&lt;strings&gt; for input but these List of strings will be fetched from the Java runtime arguments &quot;args&quot;."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1645506257,"post_id":71216072,"comment_id":125882854,"body_markdown":"&quot; but this causing an issue&quot; What issue?","body":"&quot; but this causing an issue&quot; What issue?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":3,"creation_date":1645506546,"post_id":71216072,"comment_id":125882908,"body_markdown":"You&#39;re using `flatMap` in the wrong place and with the wrong argument. You really need to revisit your basics of using the stream API. Your code doesn&#39;t need to be complex: `Map&lt;String,String&gt; collectMap=Arrays.stream(ss).map(s -&gt; s.replace(&quot;-D&quot;, &quot;&quot;).split(&quot;=&quot;)).collect(Collectors.toMap(k -&gt; k[0], v -&gt; v.length &gt; 1 ? v[1] : &quot;&quot;));`","body":"You&#39;re using <code>flatMap</code> in the wrong place and with the wrong argument. You really need to revisit your basics of using the stream API. Your code doesn&#39;t need to be complex: <code>Map&lt;String,String&gt; collectMap=Arrays.stream(ss).map(s -&gt; s.replace(&quot;-D&quot;, &quot;&quot;).split(&quot;=&quot;)).collect(Collectors.toMap(k -&gt; k[0], v -&gt; v.length &gt; 1 ? v[1] : &quot;&quot;));</code>"},{"owner":{"account_id":4623673,"reputation":6002,"user_id":4161471,"display_name":"aSemy"},"score":1,"creation_date":1645506606,"post_id":71216072,"comment_id":125882916,"body_markdown":"Does this answer your question? [How do I parse command line arguments in Java?](https://stackoverflow.com/questions/367706/how-do-i-parse-command-line-arguments-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/367706/how-do-i-parse-command-line-arguments-in-java\">How do I parse command line arguments in Java?</a>"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645534914,"post_id":71216072,"comment_id":125892178,"body_markdown":"@aSemy that&#39;s not the same problem.","body":"@aSemy that&#39;s not the same problem."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1645534961,"post_id":71216072,"comment_id":125892199,"body_markdown":"@SampatKumar have I answered your question? If so, don&#39;t forget to mark it as the selected answer.","body":"@SampatKumar have I answered your question? If so, don&#39;t forget to mark it as the selected answer."},{"owner":{"account_id":11120839,"reputation":492,"user_id":8163720,"accept_rate":0,"display_name":"Sampat Kumar"},"score":0,"creation_date":1646035673,"post_id":71216072,"comment_id":126016355,"body_markdown":"Sure - @hfontanez","body":"Sure - @hfontanez"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646051695,"post_id":71216072,"comment_id":126021460,"body_markdown":"@SampatKumar in that case, click the checkmark to mark it as the selected answer. I will appreciate it.","body":"@SampatKumar in that case, click the checkmark to mark it as the selected answer. I will appreciate it."}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645507991,"creation_date":1645507666,"answer_id":71216322,"question_id":71216072,"body_markdown":"Your stream operation is wrong. And it also didn&#39;t compile. The solution is actually quite simple:\r\n\r\n 1. Open the stream and split each element using the `=` as the delimeter.\r\n 2. The splitted elements are collected as follows `e[0]` is the key and `e[1]` the value on the map.\r\n 3. The string stored as key need to replace &quot;-D&quot; with empty string &quot;&quot; (or nothing).\r\n 4. The value component is stored unaltered.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    String [] ss = {&quot;-Dmyone=1&quot;,&quot;-Dmytwo=2&quot;,&quot;-Dmythree=3&quot;};\r\n\r\n    List&lt;String&gt; myList = Arrays.asList(ss);\r\n    Map&lt;String, String&gt; myMap = myList.stream().map(elem -&gt; elem.split(&quot;=&quot;)).collect(Collectors.toMap(e -&gt; e[0].replace(&quot;-D&quot;, &quot;&quot;), e -&gt; e[1]));\r\n    myMap.entrySet().forEach(entry -&gt; {\r\n       System.out.println(&quot;key: &quot; + entry.getKey() + &quot; - value: &quot; + entry.getValue());\r\n    });\r\n}\r\n```\r\nThis outputs:\r\n```\r\nkey: myone - value: 1\r\nkey: mythree - value: 3\r\nkey: mytwo - value: 2\r\n```","title":"How to leverage flatMap() to convert a List of Strings to desired Map object?","body":"<p>Your stream operation is wrong. And it also didn't compile. The solution is actually quite simple:</p>\n<ol>\n<li>Open the stream and split each element using the <code>=</code> as the delimeter.</li>\n<li>The splitted elements are collected as follows <code>e[0]</code> is the key and <code>e[1]</code> the value on the map.</li>\n<li>The string stored as key need to replace &quot;-D&quot; with empty string &quot;&quot; (or nothing).</li>\n<li>The value component is stored unaltered.</li>\n</ol>\n<pre><code>public static void main(String[] args) {\n    String [] ss = {&quot;-Dmyone=1&quot;,&quot;-Dmytwo=2&quot;,&quot;-Dmythree=3&quot;};\n\n    List&lt;String&gt; myList = Arrays.asList(ss);\n    Map&lt;String, String&gt; myMap = myList.stream().map(elem -&gt; elem.split(&quot;=&quot;)).collect(Collectors.toMap(e -&gt; e[0].replace(&quot;-D&quot;, &quot;&quot;), e -&gt; e[1]));\n    myMap.entrySet().forEach(entry -&gt; {\n       System.out.println(&quot;key: &quot; + entry.getKey() + &quot; - value: &quot; + entry.getValue());\n    });\n}\n</code></pre>\n<p>This outputs:</p>\n<pre><code>key: myone - value: 1\nkey: mythree - value: 3\nkey: mytwo - value: 2\n</code></pre>\n"}],"owner":{"account_id":11120839,"reputation":492,"user_id":8163720,"accept_rate":0,"display_name":"Sampat Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":334,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1645829705,"creation_date":1645505582,"question_id":71216072,"body_markdown":"Input\r\n\r\n```\r\nString [] ss = {&quot;-Dmyone=1&quot;,&quot;-Dmytwo=2&quot;,&quot;-Dmythree=3&quot;}; \r\n```\r\n\r\n\r\nExpectedOutput:\r\n\r\n```\r\nMap&lt;String,String&gt; mapOb = {myone = 1, mytwo = 2, mythree = 3}\r\n```\r\n\r\n**NOTE**: I want to split the List of Strings by &quot;=&quot; and remove the &quot;-D&quot; and replace with empty string, and after splitting string if the length is not greater than 1 and then insert an empty Map.\r\n\r\nBelow is the snippet of Code I have written , but this causing an issue.\r\n\r\n```\r\nMap&lt;String,String&gt; collectMap = Arrays.stream(ss).flatMap(x -&gt; {\r\n        Map&lt;String,String&gt; expected = new HashMap&lt;&gt;();\r\n        int splitIndex = x.indexOf(&quot;=&quot;);\r\n        String [] keyValList = x.split(&quot;=&quot;);\r\n\r\n        if(Arrays.stream(keyValList).count() &gt; 1){\r\n            Collectors.toMap(\r\n              key -&gt; x.substring(0,splitIndex).replace(&quot;-D&quot;, &quot; &quot;), \r\n              value -&gt; x.substring(splitIndex +  1, x.length()));\r\n        }\r\n        else{\r\n            Collections.&lt;String,String&gt;emptyMap();\r\n        }\r\n    }).collect(Collectors.toMap());\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to leverage flatMap() to convert a List of Strings to desired Map object?","body":"<p>Input</p>\n<pre><code>String [] ss = {&quot;-Dmyone=1&quot;,&quot;-Dmytwo=2&quot;,&quot;-Dmythree=3&quot;}; \n</code></pre>\n<p>ExpectedOutput:</p>\n<pre><code>Map&lt;String,String&gt; mapOb = {myone = 1, mytwo = 2, mythree = 3}\n</code></pre>\n<p><strong>NOTE</strong>: I want to split the List of Strings by &quot;=&quot; and remove the &quot;-D&quot; and replace with empty string, and after splitting string if the length is not greater than 1 and then insert an empty Map.</p>\n<p>Below is the snippet of Code I have written , but this causing an issue.</p>\n<pre><code>Map&lt;String,String&gt; collectMap = Arrays.stream(ss).flatMap(x -&gt; {\n        Map&lt;String,String&gt; expected = new HashMap&lt;&gt;();\n        int splitIndex = x.indexOf(&quot;=&quot;);\n        String [] keyValList = x.split(&quot;=&quot;);\n\n        if(Arrays.stream(keyValList).count() &gt; 1){\n            Collectors.toMap(\n              key -&gt; x.substring(0,splitIndex).replace(&quot;-D&quot;, &quot; &quot;), \n              value -&gt; x.substring(splitIndex +  1, x.length()));\n        }\n        else{\n            Collections.&lt;String,String&gt;emptyMap();\n        }\n    }).collect(Collectors.toMap());\n</code></pre>\n"},{"tags":["java","azure","azure-servicebus-topics","azure-managed-identity"],"answers":[{"tags":[],"owner":{"account_id":53380,"reputation":6491,"user_id":159548,"display_name":"Jesse Squire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645829172,"creation_date":1645829172,"answer_id":71272487,"question_id":71272293,"body_markdown":"Your second snippet is mostly correct; you&#39;re missing the step of creating the credential that you&#39;re passing to the builder.   That is discussed in the [Authorizing with DefaultAzureCredential](https://learn.microsoft.com/java/api/overview/azure/messaging-servicebus-readme?view=azure-java-stable#authorizing-with-defaultazurecredential) section of the overview and looks like:\r\n\r\n```java\r\nTokenCredential credential = new DefaultAzureCredentialBuilder()\r\n    .build();\r\n\r\nServiceBusReceiverAsyncClient receiver = new ServiceBusClientBuilder()\r\n    .credential(&quot;&lt;&lt;fully-qualified-namespace&gt;&gt;&quot;, credential)\r\n    .receiver()\r\n    .queueName(&quot;&lt;&lt;queue-name&gt;&gt;&quot;)\r\n    .buildAsyncClient();\r\n```\r\n\r\nService Bus can use any of the [Azure.Identity credentials](https://learn.microsoft.com/en-us/java/api/overview/azure/identity-readme?view=azure-java-stable#credential-classes) for authorization. `DefaultAzureCredentialBuilder` is demonstrated only because it is a chained credential that allows for success in a variety of scenarios.  More information can be found in the [Azure.Identity overview](https://learn.microsoft.com/java/api/overview/azure/identity-readme?view=azure-java-stable#defaultazurecredential).\r\n\r\nIf you&#39;d prefer to restrict authorization to only a managed identity, you can do so by using `ManagedIdentityCredentialBuilder` rather than the default credential.  An example of creating the can be found [here](https://learn.microsoft.com//java/api/overview/azure/identity-readme?view=azure-java-stable#authenticating-in-azure-with-managed-identity).  It can then be passed to Service Bus in the same manner as the default credential.","title":"Azure managed identity for Azure service bus with java sdk","body":"<p>Your second snippet is mostly correct; you're missing the step of creating the credential that you're passing to the builder.   That is discussed in the <a href=\"https://learn.microsoft.com/java/api/overview/azure/messaging-servicebus-readme?view=azure-java-stable#authorizing-with-defaultazurecredential\" rel=\"nofollow noreferrer\">Authorizing with DefaultAzureCredential</a> section of the overview and looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TokenCredential credential = new DefaultAzureCredentialBuilder()\n    .build();\n\nServiceBusReceiverAsyncClient receiver = new ServiceBusClientBuilder()\n    .credential(&quot;&lt;&lt;fully-qualified-namespace&gt;&gt;&quot;, credential)\n    .receiver()\n    .queueName(&quot;&lt;&lt;queue-name&gt;&gt;&quot;)\n    .buildAsyncClient();\n</code></pre>\n<p>Service Bus can use any of the <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/identity-readme?view=azure-java-stable#credential-classes\" rel=\"nofollow noreferrer\">Azure.Identity credentials</a> for authorization. <code>DefaultAzureCredentialBuilder</code> is demonstrated only because it is a chained credential that allows for success in a variety of scenarios.  More information can be found in the <a href=\"https://learn.microsoft.com/java/api/overview/azure/identity-readme?view=azure-java-stable#defaultazurecredential\" rel=\"nofollow noreferrer\">Azure.Identity overview</a>.</p>\n<p>If you'd prefer to restrict authorization to only a managed identity, you can do so by using <code>ManagedIdentityCredentialBuilder</code> rather than the default credential.  An example of creating the can be found <a href=\"https://learn.microsoft.com//java/api/overview/azure/identity-readme?view=azure-java-stable#authenticating-in-azure-with-managed-identity\" rel=\"nofollow noreferrer\">here</a>.  It can then be passed to Service Bus in the same manner as the default credential.</p>\n"}],"owner":{"account_id":21417269,"reputation":23,"user_id":15776311,"display_name":"LegendMVB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1455,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1645829172,"creation_date":1645827629,"question_id":71272293,"body_markdown":"How can I send messages to a topic using Azure managed identity in java?\r\nRight now im using the connectionString to send the message to the topic.\r\n ```\r\n    ServiceBusSenderClient senderClient = new ServiceBusClientBuilder()\r\n        .connectionString(connectionString)\r\n        .sender()\r\n        .topicName(topicName)\r\n        .buildClient();\r\n ```\r\n\r\nIn the Azure SDK for java, i could only find this example, which is for service bus queue\r\n\r\n ```\r\nServiceBusSenderAsyncClient sender = new ServiceBusClientBuilder()\r\n            .credential(&quot;&lt;&lt;fully-qualified-namespace&gt;&gt;&quot;, credential)\r\n            .sender()\r\n            .queueName(&quot;&lt;&lt;queue-name&gt;&gt;&quot;)\r\n            .buildAsyncClient();\r\n ```","title":"Azure managed identity for Azure service bus with java sdk","body":"<p>How can I send messages to a topic using Azure managed identity in java?\nRight now im using the connectionString to send the message to the topic.</p>\n<pre><code>   ServiceBusSenderClient senderClient = new ServiceBusClientBuilder()\n       .connectionString(connectionString)\n       .sender()\n       .topicName(topicName)\n       .buildClient();\n</code></pre>\n<p>In the Azure SDK for java, i could only find this example, which is for service bus queue</p>\n<pre><code>ServiceBusSenderAsyncClient sender = new ServiceBusClientBuilder()\n           .credential(&quot;&lt;&lt;fully-qualified-namespace&gt;&gt;&quot;, credential)\n           .sender()\n           .queueName(&quot;&lt;&lt;queue-name&gt;&gt;&quot;)\n           .buildAsyncClient();\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1565094066,"post_id":57375901,"comment_id":101236309,"body_markdown":"does it work without the qualifier?","body":"does it work without the qualifier?"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1565094283,"post_id":57375901,"comment_id":101236423,"body_markdown":"Could you please describe your use-case? \n\nQualifiers are used when there are more than one bean of the same type co-exist in Application context and you want to inject a particular bean. In this case no need for dynamic configuration usually, you chose among a set of predefined values for injecting the bean with qualifier","body":"Could you please describe your use-case?   Qualifiers are used when there are more than one bean of the same type co-exist in Application context and you want to inject a particular bean. In this case no need for dynamic configuration usually, you chose among a set of predefined values for injecting the bean with qualifier"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1565094406,"post_id":57375901,"comment_id":101236493,"body_markdown":"@JoseMartinez Without it, i will have to add constructor dependencies manually, which is not nice in a spring project","body":"@JoseMartinez Without it, i will have to add constructor dependencies manually, which is not nice in a spring project"},{"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"score":0,"creation_date":1565094453,"post_id":57375901,"comment_id":101236522,"body_markdown":"@MarkBramnik I have two different implementations of a job and it is possible to change the type every month so if configurable, less deployments and code changes are made.","body":"@MarkBramnik I have two different implementations of a job and it is possible to change the type every month so if configurable, less deployments and code changes are made."},{"owner":{"account_id":1961640,"reputation":12136,"user_id":1763035,"accept_rate":56,"display_name":"Andy Brown"},"score":0,"creation_date":1565164444,"post_id":57375901,"comment_id":101261550,"body_markdown":"Possible duplicate of [How to read Qualifier from property file in spring boot?](https://stackoverflow.com/questions/50208018/how-to-read-qualifier-from-property-file-in-spring-boot)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/50208018/how-to-read-qualifier-from-property-file-in-spring-boot\">How to read Qualifier from property file in spring boot?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2535057,"reputation":25845,"user_id":2202415,"display_name":"Maciej Kowalski"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565095055,"creation_date":1565095055,"answer_id":57376267,"question_id":57375901,"body_markdown":"You could pull it off with if you fiddle around with Spring java-based config a bit, where you programmatically decide the right implementation based on a config value:\r\n\r\n    @Configuration\r\n    public class MyAppContext implements EnvironmentAware{\r\n    \r\n        private Environment env;\r\n\r\n        @Override\r\n        public void setEnvironment(final Environment env) {\r\n           this.env = env;\r\n        }\r\n    \r\n        @Bean\r\n        public MyBeanByConfig myBeanByConfig(){\r\n            String configValue = env.getProperty(&quot;mybean.config&quot;);\r\n    \r\n            if(configValue.equals(&quot;1&quot;)){\r\n               return new MyBeanByConfigOne();\r\n            }else{\r\n               return new MyBeanByConfigTwo();\r\n            }\r\n        }\r\n    }\r\n\r\nand on the qualifier you would put:\r\n\r\n    @Qualifier(&quot;myBeanByConfig&quot;)\r\n\r\nyou may need to add `@ComponentScan` and `@PropertySource` on the configuration class also.","title":"Spring boot - use a configurable value on a @Qualifier","body":"<p>You could pull it off with if you fiddle around with Spring java-based config a bit, where you programmatically decide the right implementation based on a config value:</p>\n\n<pre><code>@Configuration\npublic class MyAppContext implements EnvironmentAware{\n\n    private Environment env;\n\n    @Override\n    public void setEnvironment(final Environment env) {\n       this.env = env;\n    }\n\n    @Bean\n    public MyBeanByConfig myBeanByConfig(){\n        String configValue = env.getProperty(\"mybean.config\");\n\n        if(configValue.equals(\"1\")){\n           return new MyBeanByConfigOne();\n        }else{\n           return new MyBeanByConfigTwo();\n        }\n    }\n}\n</code></pre>\n\n<p>and on the qualifier you would put:</p>\n\n<pre><code>@Qualifier(\"myBeanByConfig\")\n</code></pre>\n\n<p>you may need to add <code>@ComponentScan</code> and <code>@PropertySource</code> on the configuration class also.</p>\n"},{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1610003185,"creation_date":1565102981,"answer_id":57378738,"question_id":57375901,"body_markdown":"I&#39;ve got your comment:\r\n\r\n&gt;  I have two different implementations of a job and it is possible to change the type every month so if configurable, less deployments and code changes are made.\r\n\r\nYou might have something like this:\r\n\r\n     interface Job {\r\n         void foo();\r\n     }\r\n\r\n     class JobA implements Job {\r\n         void foo() {...}\r\n     }\r\n\r\n     class JobB implements Job {\r\n         void foo() {...}\r\n     }\r\n\r\n     class JobExecutor {\r\n        \r\n        Job job;\r\n        // autowired constructor\r\n        public JobExecutor(Job job) {this.job = job;}\r\n     }\r\n\r\n\r\n\r\nAnd, if I got you right, it doesn&#39;t make sense to load two beans simultaneously in the same application context.\r\n\r\nBut if so, then `@Qualifier` is not a right tool for the job.\r\n\r\nI suggest using conditions that are integrated into spring boot instead:\r\n\r\n   \r\n    @Configuration\r\n    public class MyConfiguration {\r\n\r\n        @ConditionalOnProperty(name = &quot;job.name&quot;, havingValue = &quot;jobA&quot;)\r\n        @Bean \r\n        public Job jobA() {\r\n             return new JobA();\r\n        }\r\n\r\n        @ConditionalOnProperty(name = &quot;job.name&quot;, havingValue = &quot;jobB&quot;)\r\n        @Bean \r\n        public Job jobB() {\r\n             return new JobB();\r\n        }\r\n        @Bean\r\n        public JobExecutor jobExecutor(Job job) {\r\n           return new JobExecutor(job);\r\n        }\r\n    }\r\n\r\n\r\nNow in `application.properties` (or yaml whatever you have) define:\r\n\r\n     job.name = jobA # or jobB\r\n\r\n\r\nOf course, instead of `jobA/jobB` you might use more self-explanatory names from your business domain.\r\n\r\n\r\n\r\n","title":"Spring boot - use a configurable value on a @Qualifier","body":"<p>I've got your comment:</p>\n<blockquote>\n<p>I have two different implementations of a job and it is possible to change the type every month so if configurable, less deployments and code changes are made.</p>\n</blockquote>\n<p>You might have something like this:</p>\n<pre><code> interface Job {\n     void foo();\n }\n\n class JobA implements Job {\n     void foo() {...}\n }\n\n class JobB implements Job {\n     void foo() {...}\n }\n\n class JobExecutor {\n    \n    Job job;\n    // autowired constructor\n    public JobExecutor(Job job) {this.job = job;}\n }\n</code></pre>\n<p>And, if I got you right, it doesn't make sense to load two beans simultaneously in the same application context.</p>\n<p>But if so, then <code>@Qualifier</code> is not a right tool for the job.</p>\n<p>I suggest using conditions that are integrated into spring boot instead:</p>\n<pre><code>@Configuration\npublic class MyConfiguration {\n\n    @ConditionalOnProperty(name = &quot;job.name&quot;, havingValue = &quot;jobA&quot;)\n    @Bean \n    public Job jobA() {\n         return new JobA();\n    }\n\n    @ConditionalOnProperty(name = &quot;job.name&quot;, havingValue = &quot;jobB&quot;)\n    @Bean \n    public Job jobB() {\n         return new JobB();\n    }\n    @Bean\n    public JobExecutor jobExecutor(Job job) {\n       return new JobExecutor(job);\n    }\n}\n</code></pre>\n<p>Now in <code>application.properties</code> (or yaml whatever you have) define:</p>\n<pre><code> job.name = jobA # or jobB\n</code></pre>\n<p>Of course, instead of <code>jobA/jobB</code> you might use more self-explanatory names from your business domain.</p>\n"},{"tags":[],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1565154781,"creation_date":1565154781,"answer_id":57387340,"question_id":57375901,"body_markdown":"I ended up adding to the main app class the two implementations autowired then define a bean for each:\r\n\r\n    @Autowired\r\n    TypeOneImpl typeOneImpl\r\n    @Bean(name = &quot;typeOneImpl&quot;)\r\n    public InterfaceRClass getTypeOneImpl()\r\n    {\r\n        return typeOneImpl;\r\n    }\r\n\r\nThen in the other class I defined a config field\r\n\r\n    @Value(&quot;${myClass.type}&quot;)\r\n    private String configClassType;\r\n    // the below should be defined in constructor\r\n    private final InterfaceRClass interfaceRClassElement ;\r\n\r\nAnd added a setter for it with @Autowired annotation:\r\n\r\n    @Autowired\r\n    public void setMyClassType(ApplicationContext context) {\r\n        interfaceRClassElement = (InterfaceRClass) context.getBean(configClassType);\r\n    }\r\n\r\nIn configuration, the value should be typeOneImpl (typeTwoImpl is added for an additional implementation)","title":"Spring boot - use a configurable value on a @Qualifier","body":"<p>I ended up adding to the main app class the two implementations autowired then define a bean for each:</p>\n\n<pre><code>@Autowired\nTypeOneImpl typeOneImpl\n@Bean(name = \"typeOneImpl\")\npublic InterfaceRClass getTypeOneImpl()\n{\n    return typeOneImpl;\n}\n</code></pre>\n\n<p>Then in the other class I defined a config field</p>\n\n<pre><code>@Value(\"${myClass.type}\")\nprivate String configClassType;\n// the below should be defined in constructor\nprivate final InterfaceRClass interfaceRClassElement ;\n</code></pre>\n\n<p>And added a setter for it with @Autowired annotation:</p>\n\n<pre><code>@Autowired\npublic void setMyClassType(ApplicationContext context) {\n    interfaceRClassElement = (InterfaceRClass) context.getBean(configClassType);\n}\n</code></pre>\n\n<p>In configuration, the value should be typeOneImpl (typeTwoImpl is added for an additional implementation)</p>\n"},{"tags":[],"owner":{"account_id":6486003,"reputation":21,"user_id":5021578,"display_name":"nAtxO Pi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592321031,"creation_date":1592317044,"answer_id":62410672,"question_id":57375901,"body_markdown":"knowing that IOC works fine throught constructor maybe I would do something like this:\r\n\r\n```\r\n@Component\r\npublic class JobExecutor implements WhateverService {\r\n\r\n    \r\n    private final Job myJob;\r\n\r\n    public JobExecutor(Map&lt;String, Job&gt; allJobImpls,\r\n                       @Value(&quot;${myClass.type}&quot;) final String classType) {\r\n        \r\n        this.myJob = allImpls.get(classType);\r\n    }\r\n\r\n    public X myAction() {\r\n         // some code\r\n         return myJob.whatever(); //for example\r\n    }\r\n}\r\n```\r\n\r\n","title":"Spring boot - use a configurable value on a @Qualifier","body":"<p>knowing that IOC works fine throught constructor maybe I would do something like this:</p>\n\n<pre><code>@Component\npublic class JobExecutor implements WhateverService {\n\n\n    private final Job myJob;\n\n    public JobExecutor(Map&lt;String, Job&gt; allJobImpls,\n                       @Value(\"${myClass.type}\") final String classType) {\n\n        this.myJob = allImpls.get(classType);\n    }\n\n    public X myAction() {\n         // some code\n         return myJob.whatever(); //for example\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14254868,"reputation":95,"user_id":10297434,"display_name":"Bruno Oliveira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645828842,"creation_date":1645828842,"answer_id":71272442,"question_id":57375901,"body_markdown":"Let&#39;s suppose you have an interface:\r\n\r\n```java\r\npublic interface Foo {\r\n    void doSomething();\r\n}\r\n```\r\n\r\nAnd 2 implementations:\r\n\r\n```java\r\npublic class Foo_A implements Foo {\r\n    @Override\r\n    doSomething() {...}\r\n}\r\n\r\npublic class Foo_B implements Foo {\r\n    @Override\r\n    doSomething() {...}\r\n}\r\n\r\n```\r\n\r\nNow you want to use Foo_A/Foo_B depending on a property value in your properties file:\r\n\r\n```yml\r\nfoo_name: &quot;A&quot;\r\n```\r\n\r\nThe simplest way I found to do this:\r\n\r\n1. First, you qualify your implementations\r\n\r\n```java\r\n\r\n@Component(&quot;Foo_A&quot;)\r\npublic class Foo_A implements Foo {\r\n    @Override\r\n    doSomething() {...}\r\n}\r\n\r\n@Component(&quot;Foo_B&quot;)\r\npublic class Foo_B implements Foo {\r\n    @Override\r\n    doSomething() {...}\r\n}\r\n\r\n```\r\n2. Then, wherever you gonna use this (class Bar,  for example), you can just use the @Qualifier to specify the implementations you are instantiating and get the value from the property with the @Value. Then, inside the method, with a simple if/else statement, you use the property value to decide which implementation you&#39;re going to call.\r\n\r\n```java\r\npublic class Bar {\r\n\r\n    @Value(&quot;${foo_name}&quot;)\r\n    private String fooName;\r\n\r\n    @Qualifier(&quot;Foo_A&quot;)\r\n    private Foo fooA;\r\n\r\n    @Qualifier(&quot;Foo_B&quot;)\r\n    private Foo fooB;\r\n\r\n    public void doSomething() {\r\n        if (fooName.equals(&quot;A&quot;)) {\r\n            fooA.doSomething();\r\n        } else {\r\n            fooB.doSomething();\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Spring boot - use a configurable value on a @Qualifier","body":"<p>Let's suppose you have an interface:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Foo {\n    void doSomething();\n}\n</code></pre>\n<p>And 2 implementations:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Foo_A implements Foo {\n    @Override\n    doSomething() {...}\n}\n\npublic class Foo_B implements Foo {\n    @Override\n    doSomething() {...}\n}\n\n</code></pre>\n<p>Now you want to use Foo_A/Foo_B depending on a property value in your properties file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>foo_name: &quot;A&quot;\n</code></pre>\n<p>The simplest way I found to do this:</p>\n<ol>\n<li>First, you qualify your implementations</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component(&quot;Foo_A&quot;)\npublic class Foo_A implements Foo {\n    @Override\n    doSomething() {...}\n}\n\n@Component(&quot;Foo_B&quot;)\npublic class Foo_B implements Foo {\n    @Override\n    doSomething() {...}\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>Then, wherever you gonna use this (class Bar,  for example), you can just use the @Qualifier to specify the implementations you are instantiating and get the value from the property with the @Value. Then, inside the method, with a simple if/else statement, you use the property value to decide which implementation you're going to call.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Bar {\n\n    @Value(&quot;${foo_name}&quot;)\n    private String fooName;\n\n    @Qualifier(&quot;Foo_A&quot;)\n    private Foo fooA;\n\n    @Qualifier(&quot;Foo_B&quot;)\n    private Foo fooB;\n\n    public void doSomething() {\n        if (fooName.equals(&quot;A&quot;)) {\n            fooA.doSomething();\n        } else {\n            fooB.doSomething();\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":11311035,"reputation":1860,"user_id":8294118,"accept_rate":100,"display_name":"user666"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7936,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":57387340,"answer_count":5,"score":5,"last_activity_date":1645828842,"creation_date":1565093908,"question_id":57375901,"body_markdown":"I have two implementations for one interface, i want to choose what implementation to use based on a configuration. The qualifier solution did not work as it is initialized prior to the configuration. How can I achieve this?\r\n","title":"Spring boot - use a configurable value on a @Qualifier","body":"<p>I have two implementations for one interface, i want to choose what implementation to use based on a configuration. The qualifier solution did not work as it is initialized prior to the configuration. How can I achieve this?</p>\n"},{"tags":["java","eclipse","intellij-idea","lambda"],"answers":[{"tags":[],"owner":{"account_id":5601774,"reputation":4444,"user_id":4437780,"accept_rate":80,"display_name":"alainlompo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479098030,"creation_date":1479098030,"answer_id":40581933,"question_id":40581367,"body_markdown":"First notice that your **dothingsWithTwoArgs** is not static, therefore you should not attempt to invoke it in a static fashion: you should use an instance of your Dummy class or make the **dothingsWithTwoArgs** static\r\n\r\nHere are some illustrations that will get you going\r\n\r\nFirst you need a method that has your TriFinction as one of its parameters\r\n\r\nExample:\r\n\r\n    public static String sumToString(String a,String b, String c, TriFinction&lt;String,String,String,String&gt; f) {\r\n    \t\treturn f.whatEver(a, b, c);\r\n    \t}\r\n\r\nSecond, in your Dummy class **you need a method that matches the genric signature of your TriFinction** (which means for example that it receives three parameters for O,J, and I and that it returns a R)\r\n\r\nfor example\r\n\r\n \r\n\r\n    public static String dothingsWithThreeArgs(String a, String b,String c) {\r\n    \t        return a+ &quot; &quot; + b + &quot; &quot; + c;\r\n    \t  }\r\n\r\nNow you can use the method reference in your main method for example:\r\n\r\n    System.out.println(sumToString(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,Dummy::dothingsWithThreeArgs));\r\n\r\nHere is the full example along with a second illustration from your TriFinction (and I guess you should refactor and rename it TriFunction :) )\r\n\r\n\r\n    public class ExtractWithLambda {\r\n    \t@FunctionalInterface\r\n    \tinterface TriFinction&lt;O,I,J, R&gt; {\r\n    \t    R whatEver(O object, I input1, J input2);\r\n    \t}\t\r\n    \t\r\n    \tpublic static String writeEqu(TriFinction&lt;Double,Double,Double,String&gt; f) {\r\n    \t\t  return f.whatEver(2.5, 3.4, 5.6);\r\n    \t}\r\n    \t\r\n    \tpublic static String sumToString(String a,String b, String c, TriFinction&lt;String,String,String,String&gt; f) {\r\n    \t\treturn f.whatEver(a, b, c);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(writeEqu(Dummy::writeEquation));\t\r\n    \t\tSystem.out.println(sumToString(&quot;2&quot;,&quot;3&quot;,&quot;4&quot;,Dummy::dothingsWithThreeArgs));\r\n    \t}\r\n    \r\n    }\r\n    \r\n    class Dummy {\r\n    \t  public static String dothingsWithThreeArgs(String a, String b,String c) {\r\n    \t        return a+ &quot; &quot; + b + &quot; &quot; + c;\r\n    \t  }\r\n    \t  \r\n    \t  public static String writeEquation(double a, double b, double c) {\r\n    \t\t\treturn a + &quot;*x*x &quot; + b + &quot;*x &quot; + c ;\r\n    \t  }\r\n    \t}\r\n\r\n","title":"Eclipse extract to method not working for Lambdas","body":"<p>First notice that your <strong>dothingsWithTwoArgs</strong> is not static, therefore you should not attempt to invoke it in a static fashion: you should use an instance of your Dummy class or make the <strong>dothingsWithTwoArgs</strong> static</p>\n\n<p>Here are some illustrations that will get you going</p>\n\n<p>First you need a method that has your TriFinction as one of its parameters</p>\n\n<p>Example:</p>\n\n<pre><code>public static String sumToString(String a,String b, String c, TriFinction&lt;String,String,String,String&gt; f) {\n        return f.whatEver(a, b, c);\n    }\n</code></pre>\n\n<p>Second, in your Dummy class <strong>you need a method that matches the genric signature of your TriFinction</strong> (which means for example that it receives three parameters for O,J, and I and that it returns a R)</p>\n\n<p>for example</p>\n\n<pre><code>public static String dothingsWithThreeArgs(String a, String b,String c) {\n            return a+ \" \" + b + \" \" + c;\n      }\n</code></pre>\n\n<p>Now you can use the method reference in your main method for example:</p>\n\n<pre><code>System.out.println(sumToString(\"2\",\"3\",\"4\",Dummy::dothingsWithThreeArgs));\n</code></pre>\n\n<p>Here is the full example along with a second illustration from your TriFinction (and I guess you should refactor and rename it TriFunction :) )</p>\n\n<pre><code>public class ExtractWithLambda {\n    @FunctionalInterface\n    interface TriFinction&lt;O,I,J, R&gt; {\n        R whatEver(O object, I input1, J input2);\n    }   \n\n    public static String writeEqu(TriFinction&lt;Double,Double,Double,String&gt; f) {\n          return f.whatEver(2.5, 3.4, 5.6);\n    }\n\n    public static String sumToString(String a,String b, String c, TriFinction&lt;String,String,String,String&gt; f) {\n        return f.whatEver(a, b, c);\n    }\n\n    public static void main(String[] args) {\n        System.out.println(writeEqu(Dummy::writeEquation)); \n        System.out.println(sumToString(\"2\",\"3\",\"4\",Dummy::dothingsWithThreeArgs));\n    }\n\n}\n\nclass Dummy {\n      public static String dothingsWithThreeArgs(String a, String b,String c) {\n            return a+ \" \" + b + \" \" + c;\n      }\n\n      public static String writeEquation(double a, double b, double c) {\n            return a + \"*x*x \" + b + \"*x \" + c ;\n      }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7525670,"reputation":12194,"user_id":5715934,"accept_rate":95,"display_name":"Supun Wijerathne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479269496,"creation_date":1479269496,"answer_id":40623949,"question_id":40581367,"body_markdown":"One main thing we should know is ***Compilation error messages are compiler dependent***. This does ***not*** mean different compilers would produce different error messages ***all the time***. But there can be situations.\r\n\r\nRegarding your problem I found this [answer][1] and [post][2]. That post has a detailed explanation about this error under topic ***not a statement***.\r\n\r\nSo the main point is this. As you mentioned, this error message is ***specific*** to ***Eclipse compiler***. The point the compiler is raising is your line is just an ***expression***, ***not a statement***. In order to understand it as a statement, the compiler wants you to ***add an assignment*** operator. That&#39;s the whole meaning of  `insert &quot;AssignmentOperator Expression&quot; to complete Expression`. So what you all want to do is just assign that line to another defined variable, which would look like this.\r\n\r\n    someVariable = Dummy::dothingsWithTwoArgs;\r\n\r\n Hope you can find more depth and more examples with the sources I mentioned. :))\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/4468986/5715934\r\n  [2]: http://cnx.org/contents/Teawjwe-@1/Syntax-Errors-in-Java","title":"Eclipse extract to method not working for Lambdas","body":"<p>One main thing we should know is <strong><em>Compilation error messages are compiler dependent</em></strong>. This does <strong><em>not</em></strong> mean different compilers would produce different error messages <strong><em>all the time</em></strong>. But there can be situations.</p>\n\n<p>Regarding your problem I found this <a href=\"https://stackoverflow.com/a/4468986/5715934\">answer</a> and <a href=\"http://cnx.org/contents/Teawjwe-@1/Syntax-Errors-in-Java\" rel=\"nofollow noreferrer\">post</a>. That post has a detailed explanation about this error under topic <strong><em>not a statement</em></strong>.</p>\n\n<p>So the main point is this. As you mentioned, this error message is <strong><em>specific</em></strong> to <strong><em>Eclipse compiler</em></strong>. The point the compiler is raising is your line is just an <strong><em>expression</em></strong>, <strong><em>not a statement</em></strong>. In order to understand it as a statement, the compiler wants you to <strong><em>add an assignment</em></strong> operator. That's the whole meaning of  <code>insert \"AssignmentOperator Expression\" to complete Expression</code>. So what you all want to do is just assign that line to another defined variable, which would look like this.</p>\n\n<pre><code>someVariable = Dummy::dothingsWithTwoArgs;\n</code></pre>\n\n<p>Hope you can find more depth and more examples with the sources I mentioned. :))</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301840,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645828774,"creation_date":1645828774,"answer_id":71272427,"question_id":40581367,"body_markdown":"Extracting Lambda to a method seems only suported from Eclipse 4.23 (Feb. 2022, 6 years later)\r\n\r\n&gt; ## [Extract lambda body to method][1]\r\n&gt;\r\n&gt; A new content assist has been added to extract the body of a lambda to a method.  \r\nTo invoke the new feature, perform a &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;1&lt;/kbd&gt; within the selected lambda body:\r\n\r\n[![class -- https://www.eclipse.org/eclipse/news/4.23/images/extract-lambda-body-to-method.png][2]][2]\r\n\r\n\r\n  [1]: https://www.eclipse.org/eclipse/news/4.23/jdt.php#extract-lambda-body-to-method\r\n  [2]: https://i.stack.imgur.com/izXgN.png","title":"Eclipse extract to method not working for Lambdas","body":"<p>Extracting Lambda to a method seems only suported from Eclipse 4.23 (Feb. 2022, 6 years later)</p>\n<blockquote>\n<h2><a href=\"https://www.eclipse.org/eclipse/news/4.23/jdt.php#extract-lambda-body-to-method\" rel=\"nofollow noreferrer\">Extract lambda body to method</a></h2>\n<p>A new content assist has been added to extract the body of a lambda to a method.<br />\nTo invoke the new feature, perform a <kbd>Ctrl</kbd> + <kbd>1</kbd> within the selected lambda body:</p>\n</blockquote>\n<p><a href=\"https://i.stack.imgur.com/izXgN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/izXgN.png\" alt=\"class -- https://www.eclipse.org/eclipse/news/4.23/images/extract-lambda-body-to-method.png\" /></a></p>\n"}],"owner":{"account_id":1561109,"reputation":637,"user_id":1450952,"accept_rate":33,"display_name":"Ben Tennyson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1645828774,"creation_date":1479093183,"question_id":40581367,"body_markdown":"I&#39;m playing around with lambdas in eclipse oxygen. I have code something like this\r\n\r\n    @FunctionalInterface\r\n    interface TriFinction&lt;O,I,J, R&gt; {\r\n        R whatEver(O object, I input1, J input2);\r\n    }\r\n\r\n    class Dummy {\r\n        public String dothingsWithTwoArgs(String a, String b) {\r\n            return a+b;\r\n        }\r\n    }\r\n\r\n    public class LambdaTest {\r\n    \tpublic static void main(String[] args) {\r\n            Dummy::dothingsWithTwoArgs;\r\n        }\r\n    }\r\n\r\nI&#39;m unable to extract Dummy::dothingsWithTwoArgs. Eclipse is showing a compilation error **Syntax error, insert &quot;AssignmentOperator Expression&quot; to complete Expression**, but extraction is working perfectly in intellij. Is there any workaround for this in eclipse?\r\n","title":"Eclipse extract to method not working for Lambdas","body":"<p>I'm playing around with lambdas in eclipse oxygen. I have code something like this</p>\n\n<pre><code>@FunctionalInterface\ninterface TriFinction&lt;O,I,J, R&gt; {\n    R whatEver(O object, I input1, J input2);\n}\n\nclass Dummy {\n    public String dothingsWithTwoArgs(String a, String b) {\n        return a+b;\n    }\n}\n\npublic class LambdaTest {\n    public static void main(String[] args) {\n        Dummy::dothingsWithTwoArgs;\n    }\n}\n</code></pre>\n\n<p>I'm unable to extract Dummy::dothingsWithTwoArgs. Eclipse is showing a compilation error <strong>Syntax error, insert \"AssignmentOperator Expression\" to complete Expression</strong>, but extraction is working perfectly in intellij. Is there any workaround for this in eclipse?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8433,"page":1559,"page_size":100}
