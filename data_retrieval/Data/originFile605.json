{"items":[{"tags":["java","mysql","ssl","jdbc"],"comments":[{"owner":{"account_id":949838,"reputation":381,"user_id":976212,"accept_rate":56,"display_name":"Mark Matten"},"score":0,"creation_date":1343074489,"post_id":4663061,"comment_id":15386559,"body_markdown":"See\r\n\r\nhttp://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc","body":"See    <a href=\"http://stackoverflow.com/questions/11509751/how-to-connect-to-mysql-with-x509-using-jdbc\" title=\"how to connect to mysql with x509 using jdbc\">stackoverflow.com/questions/11509751/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2678694,"reputation":1777,"user_id":2314464,"display_name":"sehrope"},"score":0,"creation_date":1372865577,"post_id":5350962,"comment_id":25355499,"body_markdown":"See my answer for how to use self-signed X.509 certificates with MySQL/MariaDB JDBC connections.","body":"See my answer for how to use self-signed X.509 certificates with MySQL/MariaDB JDBC connections."}],"tags":[],"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1300445870,"creation_date":1300445870,"answer_id":5350962,"question_id":4663061,"body_markdown":"I&#39;ve settled on using `REQUIRE SSL`. If someone knows how to make X509 work with JDBC, this info would be appreciated.","title":"MySQL JDBC over SSL problem","body":"<p>I've settled on using <code>REQUIRE SSL</code>. If someone knows how to make X509 work with JDBC, this info would be appreciated.</p>\n"},{"tags":[],"owner":{"account_id":949838,"reputation":381,"user_id":976212,"accept_rate":56,"display_name":"Mark Matten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342437714,"creation_date":1342437714,"answer_id":11503205,"question_id":4663061,"body_markdown":"I can connect without even specifying the client certificate properties when the user has been configurated with only REQUIRES SSL.\r\n\r\n","title":"MySQL JDBC over SSL problem","body":"<p>I can connect without even specifying the client certificate properties when the user has been configurated with only REQUIRES SSL.</p>\n"},{"tags":[],"owner":{"account_id":2678694,"reputation":1777,"user_id":2314464,"display_name":"sehrope"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1372865334,"creation_date":1372865334,"answer_id":17452079,"question_id":4663061,"body_markdown":"Support for self-signed certificates was recently added to the MariaDB JDBC driver (which also works for connecting to MySQL). The latest version (1.1.3 as of writing this) also allows you to directly specify the server certificate at runtime so that you do not need to configure key stores or import certificates in advance.\r\n\r\nThe two properties to set are `useSSL` and `serverSslCert`. The latter can be either the certificate itself (a String value) or a path to a file that contains the certificate (either full path or classpath relative):\r\n\r\n    String url = &quot;jdbc:mysql://&quot; + host + &quot;:&quot; + port + &quot;/&quot; + database;\r\n    Properties info = new Properties();\r\n    info.setProperty(&quot;user&quot;, username);\r\n    info.setProperty(&quot;password&quot;, password);\r\n    info.setProperty(&quot;useSSL&quot;, &quot;true&quot;);\r\n    info.setProperty(&quot;serverSslCert&quot;, &quot;classpath:server.crt&quot;);\r\n    Connection conn = DriverManager.getConnection(url, info);\r\n\r\nFor a full working example of how to connect see here: https://github.com/properssl/java-jdbc-mariadb\r\n","title":"MySQL JDBC over SSL problem","body":"<p>Support for self-signed certificates was recently added to the MariaDB JDBC driver (which also works for connecting to MySQL). The latest version (1.1.3 as of writing this) also allows you to directly specify the server certificate at runtime so that you do not need to configure key stores or import certificates in advance.</p>\n\n<p>The two properties to set are <code>useSSL</code> and <code>serverSslCert</code>. The latter can be either the certificate itself (a String value) or a path to a file that contains the certificate (either full path or classpath relative):</p>\n\n<pre><code>String url = \"jdbc:mysql://\" + host + \":\" + port + \"/\" + database;\nProperties info = new Properties();\ninfo.setProperty(\"user\", username);\ninfo.setProperty(\"password\", password);\ninfo.setProperty(\"useSSL\", \"true\");\ninfo.setProperty(\"serverSslCert\", \"classpath:server.crt\");\nConnection conn = DriverManager.getConnection(url, info);\n</code></pre>\n\n<p>For a full working example of how to connect see here: <a href=\"https://github.com/properssl/java-jdbc-mariadb\" rel=\"noreferrer\">https://github.com/properssl/java-jdbc-mariadb</a></p>\n"},{"tags":[],"owner":{"account_id":3598301,"reputation":204,"user_id":3002309,"display_name":"mohr_michael_a"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456606378,"creation_date":1456606378,"answer_id":35675314,"question_id":4663061,"body_markdown":"Seems the MariaDB driver folks have a test class that walks through all the scenarios including &#39;REQUIRES X509&#39;. \r\n\r\nhttps://github.com/MariaDB/mariadb-connector-j/blob/master/src/test/java/org/mariadb/jdbc/SslTest.java","title":"MySQL JDBC over SSL problem","body":"<p>Seems the MariaDB driver folks have a test class that walks through all the scenarios including 'REQUIRES X509'. </p>\n\n<p><a href=\"https://github.com/MariaDB/mariadb-connector-j/blob/master/src/test/java/org/mariadb/jdbc/SslTest.java\" rel=\"nofollow\">https://github.com/MariaDB/mariadb-connector-j/blob/master/src/test/java/org/mariadb/jdbc/SslTest.java</a></p>\n"},{"tags":[],"owner":{"account_id":4946204,"reputation":101,"user_id":3981480,"display_name":"alwayslearning"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677850190,"creation_date":1677850190,"answer_id":75627703,"question_id":4663061,"body_markdown":"I know this question is quite old; however, I stumbled upon this when I faced this issue today.\r\nIn my case had the certificate files server-ca.pem, client-key.pem &amp; client-cert.pem provided to me already which I successfully passed to the mysql command-line client as parameters to the relevant options. After which began my quest for a way to use them for making a successful JDBC connection. I am writing this answer, just in case it helps someone save their precious hours.\r\n\r\nI referred to &quot;Setting up Client Authentication&quot; at https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\r\n\r\nFor simpilicity I had the certificates in the same directory I was working in.\r\n&gt; Creating the trust key store to be used in the JDBC URL: \r\n&gt;\r\n&gt; keytool\r\n&gt; -import -file server-ca.pem -storetype JKS -keystore trustkeystore\r\n&gt; \r\n&gt; Creating the client key store to be used in the JDBC URL (note that\r\n&gt; this is a 2 step process): \r\n&gt;\r\n&gt; openssl pkcs12 -export -in client-cert.pem\r\n&gt; -inkey client-key.pem -name &quot;mysqlclient&quot; -passout pass:\\&lt;password&gt; -out client-keystore.p12 \r\n&gt;\r\n&gt; keytool -importkeystore -srckeystore client-keystore.p12 -srcstoretype pkcs12 -srcstorepass \\&lt;password&gt;\r\n&gt; -destkeystore clientkeystore -deststoretype JKS -deststorepass \\&lt;password&gt;\r\n&gt; \r\n&gt; The JDBC URL which finally worked in may case:\r\n&gt;\r\n&gt; jdbc:mysql://\\&lt;host&gt;:\\&lt;port&gt;/\\&lt;db_name&gt;?trustCertificateKeyStoreUrl=file://\\&lt;absolute_path&gt;/trustkeystore&amp;trustCertificateKeyStorePassword=\\&lt;password&gt;&amp;clientCertificateKeyStoreUrl=file://\\&lt;absolute_path&gt;/clientkeystore&amp;clientCertificateKeyStorePassword=\\&lt;password&gt;","title":"MySQL JDBC over SSL problem","body":"<p>I know this question is quite old; however, I stumbled upon this when I faced this issue today.\nIn my case had the certificate files server-ca.pem, client-key.pem &amp; client-cert.pem provided to me already which I successfully passed to the mysql command-line client as parameters to the relevant options. After which began my quest for a way to use them for making a successful JDBC connection. I am writing this answer, just in case it helps someone save their precious hours.</p>\n<p>I referred to &quot;Setting up Client Authentication&quot; at <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html</a></p>\n<p>For simpilicity I had the certificates in the same directory I was working in.</p>\n<blockquote>\n<p>Creating the trust key store to be used in the JDBC URL:</p>\n<p>keytool\n-import -file server-ca.pem -storetype JKS -keystore trustkeystore</p>\n<p>Creating the client key store to be used in the JDBC URL (note that\nthis is a 2 step process):</p>\n<p>openssl pkcs12 -export -in client-cert.pem\n-inkey client-key.pem -name &quot;mysqlclient&quot; -passout pass:&lt;password&gt; -out client-keystore.p12</p>\n<p>keytool -importkeystore -srckeystore client-keystore.p12 -srcstoretype pkcs12 -srcstorepass &lt;password&gt;\n-destkeystore clientkeystore -deststoretype JKS -deststorepass &lt;password&gt;</p>\n<p>The JDBC URL which finally worked in may case:</p>\n<p>jdbc:mysql://&lt;host&gt;:&lt;port&gt;/&lt;db_name&gt;?trustCertificateKeyStoreUrl=file://&lt;absolute_path&gt;/trustkeystore&amp;trustCertificateKeyStorePassword=&lt;password&gt;&amp;clientCertificateKeyStoreUrl=file://&lt;absolute_path&gt;/clientkeystore&amp;clientCertificateKeyStorePassword=&lt;password&gt;</p>\n</blockquote>\n"}],"owner":{"account_id":54362,"reputation":11938,"user_id":162634,"accept_rate":62,"display_name":"Victor Sorokin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19215,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":5,"score":4,"last_activity_date":1677850190,"creation_date":1294782831,"question_id":4663061,"body_markdown":"How one can make MySQL JDBC work over SSL (with X509 certificates validation)?  \r\n\r\nI&#39;ve got self-created certificates as described in MySQL manual, in `Using SSL for Secure Connections`, specifically:\r\n\r\n    # Create CA certificate\r\n    shell&gt; openssl genrsa 2048 &gt; ca-key.pem\r\n    shell&gt; openssl req -new -x509 -nodes -days 1000 \\\r\n             -key ca-key.pem &gt; ca-cert.pem\r\n    \r\n    # Create server certificate\r\n    shell&gt; openssl req -newkey rsa:2048 -days 1000 \\\r\n             -nodes -keyout server-key.pem &gt; server-req.pem\r\n    shell&gt; openssl x509 -req -in server-req.pem -days 1000 \\\r\n             -CA ca-cert.pem -CAkey ca-key.pem -set_serial 01 &gt; server-cert.pem\r\n    \r\n    # Create client certificate\r\n    shell&gt; openssl req -newkey rsa:2048 -days 1000 \\\r\n             -nodes -keyout client-key.pem &gt; client-req.pem\r\n    shell&gt; openssl x509 -req -in client-req.pem -days 1000 \\\r\n             -CA ca-cert.pem -CAkey ca-key.pem -set_serial 01 &gt; client-cert.pem\r\n\r\n\r\nAfter issuing `GRANT ALL ON *.* TO vic@localhost IDENTIFIED BY &#39;12345&#39; REQUIRE X509;` I am able to connect to MySQL over command-line:\r\n\r\n    mysql -u vic -p --ssl-ca=ca-cert.pem --ssl-cert=client-cert.pem --ssl-key=client-key.pem mysql\r\n    ...\r\n    \r\n    mysql&gt;  SHOW STATUS LIKE &#39;Ssl_cipher&#39;;\r\n    +---------------+--------------------+\r\n    | Variable_name | Value              |\r\n    +---------------+--------------------+\r\n    | Ssl_cipher    | DHE-RSA-AES256-SHA |\r\n    +---------------+--------------------+\r\n\r\nHowever, when I try to run Java test, I get auth failure: `Access denied for user &#39;vic&#39;@&#39;localhost&#39; (using password: YES)`. Code follows:\r\n\r\n    public class Launcher {\r\n        public static void main(String[] args) throws DbException, SQLException, ClassNotFoundException {\r\n            StringBuffer sb = new StringBuffer(&quot;jdbc:mysql://localhost/bt?useSSL=true&amp;&quot;);\r\n            sb.append(&quot;user=vic&amp;password=12345&amp;&quot;);\r\n            sb.append(&quot;clientCertificateKeyStorePassword=123456&amp;&quot;);\r\n            sb.append(&quot;clientCertificateKeyStoreType=JKS&amp;&quot;);\r\n            sb.append(&quot;clientCertificateKeyStoreUrl=file:///home/vic/tmp/client-keystore&amp;&quot;);\r\n            sb.append(&quot;trustCertificateKeyStorePassword=123456&amp;&quot;);\r\n            sb.append(&quot;trustCertificateKeyStoreType=JKS&amp;&quot;);\r\n            sb.append(&quot;trustCertificateKeyStoreUrl=file:///home/vic/tmp/ca-keystore&quot;);\r\n    \r\n            Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n            Connection c = DriverManager.getConnection(sb.toString());\r\n    \r\n            Statement st = c.createStatement();\r\n            ResultSet rs = st.executeQuery(&quot;SELECT * FROM test_table&quot;);\r\n            while (rs.next()) {\r\n                System.out.println(rs.getInt(&quot;id&quot;));\r\n            }\r\n            rs.close(); st.close(); c.close();\r\n        }\r\n    }\r\n\r\nAnd here&#39;s how I prepared Java keystore files:\r\n\r\n    keytool -import -alias mysqlServerCACert -file ca-cert.pem -keystore ca-keystore\r\n    keytool -import -file client-cert.pem -keystore client-keystore -alias client-key\r\n\r\n**UPDATE** I am able to connect over SSL via JDBC if I use &#39;root&#39; user instead of &#39;vic&#39;. Then following code\r\n\r\n        Statement st = c.createStatement();\r\n        ResultSet rs = st.executeQuery(&quot;SHOW STATUS LIKE &#39;Ssl_cipher&#39;;&quot;);\r\n        while (rs.next()) {\r\n            System.out.println(rs.getString(1));\r\n            System.out.println(rs.getString(2));\r\n        }\r\nprints\r\n\r\n    Ssl_cipher\r\n    DHE-RSA-AES128-SHA\r\n\r\nBut I can&#39;t use root in production, and I wonder why JDBC uses AES128, whereas command-line mysql client uses AES256.\r\n\r\n**UPDATE2** After I changed `ssl_type` to `X509` in `user` table for `root@localhost`, requesting full auth of client, I get the same behavior for root as for vic -- can&#39;t login via JDBC.\r\n\r\n**UPDATE3** If I use `REQUIRE SSL` instead of `REQUIRE X509` in `GRANT` statement, code works. Is it possible to make X509 work?","title":"MySQL JDBC over SSL problem","body":"<p>How one can make MySQL JDBC work over SSL (with X509 certificates validation)?  </p>\n\n<p>I've got self-created certificates as described in MySQL manual, in <code>Using SSL for Secure Connections</code>, specifically:</p>\n\n<pre><code># Create CA certificate\nshell&gt; openssl genrsa 2048 &gt; ca-key.pem\nshell&gt; openssl req -new -x509 -nodes -days 1000 \\\n         -key ca-key.pem &gt; ca-cert.pem\n\n# Create server certificate\nshell&gt; openssl req -newkey rsa:2048 -days 1000 \\\n         -nodes -keyout server-key.pem &gt; server-req.pem\nshell&gt; openssl x509 -req -in server-req.pem -days 1000 \\\n         -CA ca-cert.pem -CAkey ca-key.pem -set_serial 01 &gt; server-cert.pem\n\n# Create client certificate\nshell&gt; openssl req -newkey rsa:2048 -days 1000 \\\n         -nodes -keyout client-key.pem &gt; client-req.pem\nshell&gt; openssl x509 -req -in client-req.pem -days 1000 \\\n         -CA ca-cert.pem -CAkey ca-key.pem -set_serial 01 &gt; client-cert.pem\n</code></pre>\n\n<p>After issuing <code>GRANT ALL ON *.* TO vic@localhost IDENTIFIED BY '12345' REQUIRE X509;</code> I am able to connect to MySQL over command-line:</p>\n\n<pre><code>mysql -u vic -p --ssl-ca=ca-cert.pem --ssl-cert=client-cert.pem --ssl-key=client-key.pem mysql\n...\n\nmysql&gt;  SHOW STATUS LIKE 'Ssl_cipher';\n+---------------+--------------------+\n| Variable_name | Value              |\n+---------------+--------------------+\n| Ssl_cipher    | DHE-RSA-AES256-SHA |\n+---------------+--------------------+\n</code></pre>\n\n<p>However, when I try to run Java test, I get auth failure: <code>Access denied for user 'vic'@'localhost' (using password: YES)</code>. Code follows:</p>\n\n<pre><code>public class Launcher {\n    public static void main(String[] args) throws DbException, SQLException, ClassNotFoundException {\n        StringBuffer sb = new StringBuffer(\"jdbc:mysql://localhost/bt?useSSL=true&amp;\");\n        sb.append(\"user=vic&amp;password=12345&amp;\");\n        sb.append(\"clientCertificateKeyStorePassword=123456&amp;\");\n        sb.append(\"clientCertificateKeyStoreType=JKS&amp;\");\n        sb.append(\"clientCertificateKeyStoreUrl=file:///home/vic/tmp/client-keystore&amp;\");\n        sb.append(\"trustCertificateKeyStorePassword=123456&amp;\");\n        sb.append(\"trustCertificateKeyStoreType=JKS&amp;\");\n        sb.append(\"trustCertificateKeyStoreUrl=file:///home/vic/tmp/ca-keystore\");\n\n        Class.forName(\"com.mysql.jdbc.Driver\");\n        Connection c = DriverManager.getConnection(sb.toString());\n\n        Statement st = c.createStatement();\n        ResultSet rs = st.executeQuery(\"SELECT * FROM test_table\");\n        while (rs.next()) {\n            System.out.println(rs.getInt(\"id\"));\n        }\n        rs.close(); st.close(); c.close();\n    }\n}\n</code></pre>\n\n<p>And here's how I prepared Java keystore files:</p>\n\n<pre><code>keytool -import -alias mysqlServerCACert -file ca-cert.pem -keystore ca-keystore\nkeytool -import -file client-cert.pem -keystore client-keystore -alias client-key\n</code></pre>\n\n<p><strong>UPDATE</strong> I am able to connect over SSL via JDBC if I use 'root' user instead of 'vic'. Then following code</p>\n\n<pre><code>    Statement st = c.createStatement();\n    ResultSet rs = st.executeQuery(\"SHOW STATUS LIKE 'Ssl_cipher';\");\n    while (rs.next()) {\n        System.out.println(rs.getString(1));\n        System.out.println(rs.getString(2));\n    }\n</code></pre>\n\n<p>prints</p>\n\n<pre><code>Ssl_cipher\nDHE-RSA-AES128-SHA\n</code></pre>\n\n<p>But I can't use root in production, and I wonder why JDBC uses AES128, whereas command-line mysql client uses AES256.</p>\n\n<p><strong>UPDATE2</strong> After I changed <code>ssl_type</code> to <code>X509</code> in <code>user</code> table for <code>root@localhost</code>, requesting full auth of client, I get the same behavior for root as for vic -- can't login via JDBC.</p>\n\n<p><strong>UPDATE3</strong> If I use <code>REQUIRE SSL</code> instead of <code>REQUIRE X509</code> in <code>GRANT</code> statement, code works. Is it possible to make X509 work?</p>\n"},{"tags":["java","generics","unit-of-work"],"owner":{"account_id":26979893,"reputation":33,"user_id":20544416,"display_name":"Daniel Mendes Sechinske"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677849659,"creation_date":1677765239,"question_id":75616381,"body_markdown":"So, I&#39;m mostly a C#/.Net developer, but recently got a Java/Spring Boot 3 project on my hands\r\n\r\nI&#39;m trying to build a Unit of Work pattern on Java that accepts any type of function to be executed. I would like the usage to be something like this:\r\n\r\n```\r\npublic class ExampleService {\r\n\tpublic void foo() {\r\n\t\tnew TransactionUnit()\r\n\t\t\t.step(this::print, &quot;Hello world!&quot;)\r\n\t\t\t.step(this::createUser, new UserDto())\r\n\t\t\t.step(this::sumInteger, 1, 2)\r\n\t\t\t.step(this::foo, &quot;Hello&quot;, &quot;world!&quot;, new SomeClass())\r\n\t\t\t.commit()\r\n\t}\r\n\t\r\n\tprivate void print(String message) {\r\n\t\tlogger.info(message);\r\n\t}\r\n\t\r\n\tprivate User createUser(UserDto dto) {\r\n\t\t// create user implementation\r\n\t\treturn new User();\r\n\t}\r\n\t\r\n\tprivate int sumInteger(int a, int b) {\r\n\t\treturn a + b;\r\n\t}\r\n\r\n\tprivate String food(String m, String n, SomeClass o) {\r\n\t\treturn o.getMessage() + m + n;\r\n\t}\r\n}\r\n```\r\n\r\nMy Unit of Work class right now looks something like this\r\n\r\n```\r\npublic class TransactionUnit {\r\n\tprivate Map&lt;Object[], Function&lt;Object[], Object&gt;&gt; context;\r\n\r\n\r\n\tpublic TransactionUnit step(Function&lt;Object[], Object&gt; method, Object ...args) {\r\n\t\tcontext.put(args, method)\r\n\t\treturn this;\r\n\t}\r\n\t\r\n\tpublic void commit() {\r\n\t\tcontext.forEach((args, method) -&gt; {\r\n\t\t\tmethod.apply(args);\r\n\t\t});\r\n\t}\r\n}\r\n```\r\n\r\nNot only it is ugly, with `Object` being used everywhere, but it doesn&#39;t work. I&#39;m having problem trying to write the generics for it, and also with the `Object` implementation, because it seems that `String` and other primitive types are not considered `Object`.\r\n\r\nBesided that implementation I tried a few others, like using a `interface` for the `arguments`, so the function only accepts a class that `implements` from it.\r\n\r\nThat said, I&#39;m not fixed on the implementation I showed, the important is to construct a `Class` that receives any number and type of `functions` and `arguments` and stores than for later execution.","title":"How to write a Unit of Work pattern on Java that accepts any type of functions for later execution","body":"<p>So, I'm mostly a C#/.Net developer, but recently got a Java/Spring Boot 3 project on my hands</p>\n<p>I'm trying to build a Unit of Work pattern on Java that accepts any type of function to be executed. I would like the usage to be something like this:</p>\n<pre><code>public class ExampleService {\n    public void foo() {\n        new TransactionUnit()\n            .step(this::print, &quot;Hello world!&quot;)\n            .step(this::createUser, new UserDto())\n            .step(this::sumInteger, 1, 2)\n            .step(this::foo, &quot;Hello&quot;, &quot;world!&quot;, new SomeClass())\n            .commit()\n    }\n    \n    private void print(String message) {\n        logger.info(message);\n    }\n    \n    private User createUser(UserDto dto) {\n        // create user implementation\n        return new User();\n    }\n    \n    private int sumInteger(int a, int b) {\n        return a + b;\n    }\n\n    private String food(String m, String n, SomeClass o) {\n        return o.getMessage() + m + n;\n    }\n}\n</code></pre>\n<p>My Unit of Work class right now looks something like this</p>\n<pre><code>public class TransactionUnit {\n    private Map&lt;Object[], Function&lt;Object[], Object&gt;&gt; context;\n\n\n    public TransactionUnit step(Function&lt;Object[], Object&gt; method, Object ...args) {\n        context.put(args, method)\n        return this;\n    }\n    \n    public void commit() {\n        context.forEach((args, method) -&gt; {\n            method.apply(args);\n        });\n    }\n}\n</code></pre>\n<p>Not only it is ugly, with <code>Object</code> being used everywhere, but it doesn't work. I'm having problem trying to write the generics for it, and also with the <code>Object</code> implementation, because it seems that <code>String</code> and other primitive types are not considered <code>Object</code>.</p>\n<p>Besided that implementation I tried a few others, like using a <code>interface</code> for the <code>arguments</code>, so the function only accepts a class that <code>implements</code> from it.</p>\n<p>That said, I'm not fixed on the implementation I showed, the important is to construct a <code>Class</code> that receives any number and type of <code>functions</code> and <code>arguments</code> and stores than for later execution.</p>\n"},{"tags":["java","jdbc","timeout","c3p0","amazon-rds"],"answers":[{"tags":[],"owner":{"account_id":11055,"reputation":18190,"user_id":1163802,"accept_rate":83,"display_name":"Vladimir Dyuzhev"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1303527634,"creation_date":1303527634,"answer_id":5761865,"question_id":5761006,"body_markdown":"The issue is within MySQL&#39;s ReadAheadInputStream, which uses blocking read. Native socket got blocked and never(?) returns an error code. So the connection hangs too.\r\n\r\nI do not see a way to handle it short of placing your code into a thread and join() to it with timeout. I do not believe though the problem justifies the complications: I hope Amazon will make the right conclusions from the downtime, and won&#39;t let it happen again.","title":"How to set a getConnection() timeout for c3p0?","body":"<p>The issue is within MySQL's ReadAheadInputStream, which uses blocking read. Native socket got blocked and never(?) returns an error code. So the connection hangs too.</p>\n\n<p>I do not see a way to handle it short of placing your code into a thread and join() to it with timeout. I do not believe though the problem justifies the complications: I hope Amazon will make the right conclusions from the downtime, and won't let it happen again.</p>\n"},{"tags":[],"owner":{"account_id":106190,"reputation":9362,"user_id":282968,"accept_rate":73,"display_name":"MJB"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303583674,"creation_date":1303583674,"answer_id":5766101,"question_id":5761006,"body_markdown":"Well, you can assign a queryTimeout at the connection level. IIRC, MySQL does obey this. Dunno if C3P0 will like it, but it might work.","title":"How to set a getConnection() timeout for c3p0?","body":"<p>Well, you can assign a queryTimeout at the connection level. IIRC, MySQL does obey this. Dunno if C3P0 will like it, but it might work.</p>\n"}],"owner":{"account_id":104622,"reputation":1435,"user_id":279604,"accept_rate":100,"display_name":"nostromo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3535,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":5761865,"answer_count":2,"score":11,"last_activity_date":1677849653,"creation_date":1303515049,"question_id":5761006,"body_markdown":"Yesterday AWS&#39;s RDS went down -- and so did our database.  \r\n\r\nWhen this happened, C3P0 would try to get a database connection and would hang.  I would obviously like my application to return an error page in these instances, rather than just waiting forever for a response.\r\n\r\nHere&#39;s what the code looks like:\r\n\r\n    ComboPooledDataSource db = new ComboPooledDataSource();\r\n    ...\r\n    Connection conn = db.getConnection();\r\n\r\nHow can set a timeout for getting a connection from c3p0&#39;s connection pool?  \r\n\r\nI thought checkoutTimeout() would be it -- but it&#39;s not.  It is &quot;the number of milliseconds a client calling getConnection() will wait for a Connection to be checked-in or acquired when the pool is exhausted.&quot;  Since the pool in not exhausted (it is just unavailable) this does not apply.\r\n\r\nI also thought setAcquireRetryAttempts and setAcquireIncrement would work -- but they do not since a connection doesn&#39;t fail, it just doesn&#39;t respond.\r\n\r\nWhen I pulled the whole stack, this is where it stalls:\r\n\r\n\tSocketInputStream.socketRead0(FileDescriptor, byte[], int, int, int) line: not available [native method]\t\r\n\tSocketInputStream.read(byte[], int, int) line: 129\t\r\n\tReadAheadInputStream.fill(int) line: 113\t\r\n\tReadAheadInputStream.readFromUnderlyingStreamIfNecessary(byte[], int, int) line: 160\t\r\n\tReadAheadInputStream.read(byte[], int, int) line: 188\t\r\n\tMysqlIO.readFully(InputStream, byte[], int, int) line: 2428\t\r\n\tMysqlIO.reuseAndReadPacket(Buffer, int) line: 2882\t\r\n\tMysqlIO.reuseAndReadPacket(Buffer) line: 2871\t\r\n\tMysqlIO.checkErrorPacket(int) line: 3414\t\r\n\tMysqlIO.sendCommand(int, String, Buffer, boolean, String) line: 1936\t\r\n\tMysqlIO.sqlQueryDirect(StatementImpl, String, String, Buffer, int, int, int, boolean, String, Field[]) line: 2060\t\r\n\tJDBC4Connection(ConnectionImpl).execSQL(StatementImpl, String, int, Buffer, int, int, boolean, String, Field[], boolean) line: 2542\t\r\n\tJDBC4PreparedStatement(PreparedStatement).executeInternal(int, Buffer, boolean, boolean, Field[], boolean) line: 1734\t\r\n\tJDBC4PreparedStatement(PreparedStatement).executeQuery() line: 1885\t\r\n\tNewProxyPreparedStatement.executeQuery() line: 76\t\r\n\tC3P0PooledConnectionPoolManager.initializeAutomaticTestTable(String, DbAuth) line: 799\t\r\n\tC3P0PooledConnectionPoolManager.createPooledConnectionPool(DbAuth) line: 696\t\r\n\tC3P0PooledConnectionPoolManager.getPool(DbAuth) line: 257\t\r\n\tC3P0PooledConnectionPoolManager.getPool() line: 271\t\r\n\tComboPooledDataSource(AbstractPoolBackedDataSource).getNumThreadsAwaitingCheckoutDefaultUser() line: 203\t\r\n\tNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]\t\r\n\tNativeMethodAccessorImpl.invoke(Object, Object[]) line: 39\t\r\n\tDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25\t\r\n\tMethod.invoke(Object, Object...) line: 597\t\r\n\tBeansUtils.extractAccessiblePropertiesToMap(Map, Object, Collection) line: 359\t\r\n\tBeansUtils.appendPropNamesAndValues(StringBuffer, Object, Collection) line: 324\t\r\n\tComboPooledDataSource.toString() line: 539\t\r\n\tComboPooledDataSource(AbstractPoolBackedDataSource).getPoolManager() line: 462\t\r\n\tComboPooledDataSource(AbstractPoolBackedDataSource).getConnection() line: 128\t\r\n\r\nWhen I googled &quot;socketRead0 timeout&quot; and &quot;socketRead0 hang&quot; -- I see a lot of problems but no real solutions.\r\n\r\nIs there any way to force a timeout period here?\r\n","title":"How to set a getConnection() timeout for c3p0?","body":"<p>Yesterday AWS's RDS went down -- and so did our database.</p>\n<p>When this happened, C3P0 would try to get a database connection and would hang.  I would obviously like my application to return an error page in these instances, rather than just waiting forever for a response.</p>\n<p>Here's what the code looks like:</p>\n<pre><code>ComboPooledDataSource db = new ComboPooledDataSource();\n...\nConnection conn = db.getConnection();\n</code></pre>\n<p>How can set a timeout for getting a connection from c3p0's connection pool?</p>\n<p>I thought checkoutTimeout() would be it -- but it's not.  It is &quot;the number of milliseconds a client calling getConnection() will wait for a Connection to be checked-in or acquired when the pool is exhausted.&quot;  Since the pool in not exhausted (it is just unavailable) this does not apply.</p>\n<p>I also thought setAcquireRetryAttempts and setAcquireIncrement would work -- but they do not since a connection doesn't fail, it just doesn't respond.</p>\n<p>When I pulled the whole stack, this is where it stalls:</p>\n<pre><code>SocketInputStream.socketRead0(FileDescriptor, byte[], int, int, int) line: not available [native method]    \nSocketInputStream.read(byte[], int, int) line: 129  \nReadAheadInputStream.fill(int) line: 113    \nReadAheadInputStream.readFromUnderlyingStreamIfNecessary(byte[], int, int) line: 160    \nReadAheadInputStream.read(byte[], int, int) line: 188   \nMysqlIO.readFully(InputStream, byte[], int, int) line: 2428 \nMysqlIO.reuseAndReadPacket(Buffer, int) line: 2882  \nMysqlIO.reuseAndReadPacket(Buffer) line: 2871   \nMysqlIO.checkErrorPacket(int) line: 3414    \nMysqlIO.sendCommand(int, String, Buffer, boolean, String) line: 1936    \nMysqlIO.sqlQueryDirect(StatementImpl, String, String, Buffer, int, int, int, boolean, String, Field[]) line: 2060   \nJDBC4Connection(ConnectionImpl).execSQL(StatementImpl, String, int, Buffer, int, int, boolean, String, Field[], boolean) line: 2542 \nJDBC4PreparedStatement(PreparedStatement).executeInternal(int, Buffer, boolean, boolean, Field[], boolean) line: 1734   \nJDBC4PreparedStatement(PreparedStatement).executeQuery() line: 1885 \nNewProxyPreparedStatement.executeQuery() line: 76   \nC3P0PooledConnectionPoolManager.initializeAutomaticTestTable(String, DbAuth) line: 799  \nC3P0PooledConnectionPoolManager.createPooledConnectionPool(DbAuth) line: 696    \nC3P0PooledConnectionPoolManager.getPool(DbAuth) line: 257   \nC3P0PooledConnectionPoolManager.getPool() line: 271 \nComboPooledDataSource(AbstractPoolBackedDataSource).getNumThreadsAwaitingCheckoutDefaultUser() line: 203    \nNativeMethodAccessorImpl.invoke0(Method, Object, Object[]) line: not available [native method]  \nNativeMethodAccessorImpl.invoke(Object, Object[]) line: 39  \nDelegatingMethodAccessorImpl.invoke(Object, Object[]) line: 25  \nMethod.invoke(Object, Object...) line: 597  \nBeansUtils.extractAccessiblePropertiesToMap(Map, Object, Collection) line: 359  \nBeansUtils.appendPropNamesAndValues(StringBuffer, Object, Collection) line: 324 \nComboPooledDataSource.toString() line: 539  \nComboPooledDataSource(AbstractPoolBackedDataSource).getPoolManager() line: 462  \nComboPooledDataSource(AbstractPoolBackedDataSource).getConnection() line: 128   \n</code></pre>\n<p>When I googled &quot;socketRead0 timeout&quot; and &quot;socketRead0 hang&quot; -- I see a lot of problems but no real solutions.</p>\n<p>Is there any way to force a timeout period here?</p>\n"},{"tags":["java","docker","maven","jib","maven-jib"],"answers":[{"comments":[{"owner":{"account_id":9064433,"reputation":568,"user_id":6749813,"display_name":"S.Tushinov"},"score":1,"creation_date":1601561906,"post_id":64108998,"comment_id":113451282,"body_markdown":"Hey @Chanseok Oh thank you for the resposne ! The high level overview that you gave here was useful even beyond the jib maven plugin :)","body":"Hey @Chanseok Oh thank you for the resposne ! The high level overview that you gave here was useful even beyond the jib maven plugin :)"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1624459064,"post_id":64108998,"comment_id":120365826,"body_markdown":"Question: can we stop pushing images to any registry when we use jib? In CI pipelines, we don&#39;t need it(code is not merged yet, so image is useless even for our company internal registry). `buildTar` is not an option sometimes(our pipeline checks how many files we have in target dir, and it fails because with buildTar, we have id, digest, json and tar, which are too many.","body":"Question: can we stop pushing images to any registry when we use jib? In CI pipelines, we don&#39;t need it(code is not merged yet, so image is useless even for our company internal registry). <code>buildTar</code> is not an option sometimes(our pipeline checks how many files we have in target dir, and it fails because with buildTar, we have id, digest, json and tar, which are too many."},{"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"score":1,"creation_date":1624464166,"post_id":64108998,"comment_id":120368352,"body_markdown":"@WesternGun why do run the Jib goal then? If you don&#39;t need an image to be physically materialized anywhere at all (whether in a registry, local Docker daemon, or filesystem), what&#39;s the point of running Jib?","body":"@WesternGun why do run the Jib goal then? If you don&#39;t need an image to be physically materialized anywhere at all (whether in a registry, local Docker daemon, or filesystem), what&#39;s the point of running Jib?"},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":1,"creation_date":1624533770,"post_id":64108998,"comment_id":120388053,"body_markdown":"NVM. Our CI team says it can be uploaded to CI registry without worrying about the overhead, so I will upload anyway. But I think discarding the artifact is still a valid requirement for jib, and in this case maybe the closest goal is `buildTar`; I just need to pass pipeline. The use case here is if code is still under review and not merged to master so the image is not needed by anyone but to pass CI, and you cannot easily change CI configs.","body":"NVM. Our CI team says it can be uploaded to CI registry without worrying about the overhead, so I will upload anyway. But I think discarding the artifact is still a valid requirement for jib, and in this case maybe the closest goal is <code>buildTar</code>; I just need to pass pipeline. The use case here is if code is still under review and not merged to master so the image is not needed by anyone but to pass CI, and you cannot easily change CI configs."}],"tags":[],"owner":{"account_id":1881220,"reputation":4005,"user_id":1701388,"display_name":"Chanseok Oh"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1677849502,"creation_date":1601323917,"answer_id":64108998,"question_id":64104769,"body_markdown":"(Jib dev here. I will very lightly touch on the subject at a very high level and only conceptually. Keep in mind that the following covers only one aspect of image building.)\r\n\r\nConceptually the anatomy of a container image is remarkably simple; it&#39;s just a collection of tarballs, plus some metadata about the image (about two JSON files). You&#39;ll get that if you untar some tarballs in an orderly fashion ([union mounting](https://en.wikipedia.org/wiki/Union_mount), to be specific), you are left with some files and directories; these are basically the filesystem contents of an image you&#39;ll get and see at runtime. Throw in a couple small JSON files in the scene for some metadata about the image (for example, environment variables at runtime, image entrypoint, which tarballs this image is composed of, etc.), and you already have a container image in your hands. Then, you communicate with a container registry via the [Docker Registry API](https://docs.docker.com/registry/spec/api/) (i.e., sending and receiving HTTP requests and responses) to upload those tarballs (after compression) and JSON files, and voila! You built and pushed an image to a registry.\r\n\r\nSo, yes, you can create those tarballs using the good old `tar` on the command-line (these tarballs are called &quot;image layers&quot;), create some JSON files with a text editor, and upload them to a registry using `curl`. I&#39;ve done that before. Of course, in order for any container runtime to be able to actually run such an image, your tarballs may need to include some minimally required skeleton files and directories to correctly function, for example, as a Linux system (not a lot actually). But still, there&#39;s no restriction in the contents of tarballs; they don&#39;t even have to be a valid tar archive. (Yes, you can abuse a container registry to upload any garbage data. For example, [this shell script](https://github.com/chanseokoh/docker-hub-upload-speed-test#uploading-using-curl-with-bash) uploads 40MB of random bytes to Docker Hub.) And you can still claim with the JSON metadata files that your (completely broken) &quot;image&quot; is composed of these garbage BLObs. (Of course, such an image will fail to run at runtime.)","title":"How does the Jib maven plugin build images without using a docker daemon?","body":"<p>(Jib dev here. I will very lightly touch on the subject at a very high level and only conceptually. Keep in mind that the following covers only one aspect of image building.)</p>\n<p>Conceptually the anatomy of a container image is remarkably simple; it's just a collection of tarballs, plus some metadata about the image (about two JSON files). You'll get that if you untar some tarballs in an orderly fashion (<a href=\"https://en.wikipedia.org/wiki/Union_mount\" rel=\"nofollow noreferrer\">union mounting</a>, to be specific), you are left with some files and directories; these are basically the filesystem contents of an image you'll get and see at runtime. Throw in a couple small JSON files in the scene for some metadata about the image (for example, environment variables at runtime, image entrypoint, which tarballs this image is composed of, etc.), and you already have a container image in your hands. Then, you communicate with a container registry via the <a href=\"https://docs.docker.com/registry/spec/api/\" rel=\"nofollow noreferrer\">Docker Registry API</a> (i.e., sending and receiving HTTP requests and responses) to upload those tarballs (after compression) and JSON files, and voila! You built and pushed an image to a registry.</p>\n<p>So, yes, you can create those tarballs using the good old <code>tar</code> on the command-line (these tarballs are called &quot;image layers&quot;), create some JSON files with a text editor, and upload them to a registry using <code>curl</code>. I've done that before. Of course, in order for any container runtime to be able to actually run such an image, your tarballs may need to include some minimally required skeleton files and directories to correctly function, for example, as a Linux system (not a lot actually). But still, there's no restriction in the contents of tarballs; they don't even have to be a valid tar archive. (Yes, you can abuse a container registry to upload any garbage data. For example, <a href=\"https://github.com/chanseokoh/docker-hub-upload-speed-test#uploading-using-curl-with-bash\" rel=\"nofollow noreferrer\">this shell script</a> uploads 40MB of random bytes to Docker Hub.) And you can still claim with the JSON metadata files that your (completely broken) &quot;image&quot; is composed of these garbage BLObs. (Of course, such an image will fail to run at runtime.)</p>\n"}],"owner":{"account_id":9064433,"reputation":568,"user_id":6749813,"display_name":"S.Tushinov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2773,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":64108998,"answer_count":1,"score":6,"last_activity_date":1677849502,"creation_date":1601305461,"question_id":64104769,"body_markdown":"For the past few months I have been experimenting with docker and have enjoyed the benefits of building and running java applications inside containers.\r\n\r\nA few weeks ago I stumbled upon the [jib maven plugin](https://github.com/GoogleContainerTools/jib) and noticed that jib can build images to docker registries **without using a docker daemon**.\r\n\r\nAfter adding jib to one of my projects and running `mvn clean install jib:build`(on a VM which doesn&#39;t have docker installed), I was surprised that jib actually built and pushed an image containing my project to a remote registry.\r\n\r\nOut of curiosity, I went online to read more about how jib builds and pushes docker images without having docker installed but found little to no information on the subject. I managed to find an [article](https://www.projectatomic.io/blog/2018/03/the-many-ways-to-build-oci-images/) which explains a few ways of creating images without using docker and also tried to understand how the maven goal `jib:build` works by reading it&#39;s [source code](https://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/BuildImageMojo.java  &quot;https://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/BuildImageMojo.java&quot;) but neither of the two gave me any insights on what&#39;s happening behind the sceneces when you run `jib:build`.\r\n\r\nI would greatly appreciate if someone shares more about the jib maven plugin and how it actually builds and pushes an image behind the scenes without using a docker daemon.\r\n","title":"How does the Jib maven plugin build images without using a docker daemon?","body":"<p>For the past few months I have been experimenting with docker and have enjoyed the benefits of building and running java applications inside containers.</p>\n<p>A few weeks ago I stumbled upon the <a href=\"https://github.com/GoogleContainerTools/jib\" rel=\"noreferrer\">jib maven plugin</a> and noticed that jib can build images to docker registries <strong>without using a docker daemon</strong>.</p>\n<p>After adding jib to one of my projects and running <code>mvn clean install jib:build</code>(on a VM which doesn't have docker installed), I was surprised that jib actually built and pushed an image containing my project to a remote registry.</p>\n<p>Out of curiosity, I went online to read more about how jib builds and pushes docker images without having docker installed but found little to no information on the subject. I managed to find an <a href=\"https://www.projectatomic.io/blog/2018/03/the-many-ways-to-build-oci-images/\" rel=\"noreferrer\">article</a> which explains a few ways of creating images without using docker and also tried to understand how the maven goal <code>jib:build</code> works by reading it's <a href=\"https://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/BuildImageMojo.java\" rel=\"noreferrer\" title=\"https://github.com/GoogleContainerTools/jib/blob/master/jib-maven-plugin/src/main/java/com/google/cloud/tools/jib/maven/BuildImageMojo.java\">source code</a> but neither of the two gave me any insights on what's happening behind the sceneces when you run <code>jib:build</code>.</p>\n<p>I would greatly appreciate if someone shares more about the jib maven plugin and how it actually builds and pushes an image behind the scenes without using a docker daemon.</p>\n"},{"tags":["java","if-statement","io"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1677847571,"post_id":75627240,"comment_id":133422628,"body_markdown":"I think you mean `\\\\s` instead of `//s`?","body":"I think you mean <code>\\\\s</code> instead of <code>&#47;&#47;s</code>?"}],"answers":[{"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677849254,"creation_date":1677849254,"answer_id":75627540,"question_id":75627240,"body_markdown":"You should use `\\\\` instead of `//`\r\n\r\n    String input = &quot;a , b , c , d&quot;;\r\n    String output = input.replaceAll(&quot;\\\\s*,\\\\s*&quot;, &quot;,&quot;);\r\n    System.out.println(output); // output: &quot;a,b,c,d&quot;","title":"How to remove spaces before and after the comma in java","body":"<p>You should use <code>\\\\</code> instead of <code>//</code></p>\n<pre><code>String input = &quot;a , b , c , d&quot;;\nString output = input.replaceAll(&quot;\\\\s*,\\\\s*&quot;, &quot;,&quot;);\nSystem.out.println(output); // output: &quot;a,b,c,d&quot;\n</code></pre>\n"}],"owner":{"account_id":27898378,"reputation":13,"user_id":21303169,"display_name":"unknown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1677849912,"accepted_answer_id":75627540,"answer_count":1,"score":0,"last_activity_date":1677849254,"creation_date":1677847484,"question_id":75627240,"body_markdown":"I have an input mismatch error.\r\n\r\nused regular expression (&quot;//s\\*,//s\\*&quot;,&quot;,&quot;) but it doesn&#39;t work.","title":"How to remove spaces before and after the comma in java","body":"<p>I have an input mismatch error.</p>\n<p>used regular expression (&quot;//s*,//s*&quot;,&quot;,&quot;) but it doesn't work.</p>\n"},{"tags":["java","selenium-webdriver","xpath","tabs","relative-locators"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677829551,"post_id":75624383,"comment_id":133418114,"body_markdown":"for all we know, the &#39;Book&#39;( button isn&#39;t trhere","body":"for all we know, the &#39;Book&#39;( button isn&#39;t trhere"},{"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"score":0,"creation_date":1677838289,"post_id":75624383,"comment_id":133420257,"body_markdown":"bookbutton-RKEY:501c58c8-7838-4305-9a7f-68744ae5903d:25_0","body":"bookbutton-RKEY:501c58c8-7838-4305-9a7f-68744ae5903d:25_0"}],"answers":[{"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677848656,"creation_date":1677848656,"answer_id":75627435,"question_id":75624383,"body_markdown":"You could try to find the button via the class selector and ignore the randomly generated part of the ID (at least it looks like random), if you haven&#39;t already tried that.\r\n\r\n    By.cssSelector(&quot;button[id*=&#39;bookbutton&#39;]&quot;));","title":"Unable to click on button on travel website","body":"<p>You could try to find the button via the class selector and ignore the randomly generated part of the ID (at least it looks like random), if you haven't already tried that.</p>\n<pre><code>By.cssSelector(&quot;button[id*='bookbutton']&quot;));\n</code></pre>\n"}],"owner":{"account_id":23766170,"reputation":21,"user_id":17780910,"display_name":"Bug Hunter"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677848656,"creation_date":1677829459,"question_id":75624383,"body_markdown":" I have successfully launched MMT but after checking fares when I want to click on &quot;Book&quot; button it is giving errors as element not present I have tries xpath, class and id locators but still the same issue also applied the wait statement and tried presently in chrome browser below is the code snippet the code stopped working suddenly earlier it was working fine   \r\n           \r\n    \r\n    \r\n   \r\n\r\n     package Practice;\r\n        import org.junit.Assert;\r\n        import org.openqa.selenium.*;\r\n        import org.openqa.selenium.chrome.ChromeDriver;\r\n        import org.openqa.selenium.Alert;\r\n        import org.openqa.selenium.interactions.Actions;\r\n        import org.openqa.selenium.support.ui.ExpectedConditions;\r\n        import org.openqa.selenium.support.ui.WebDriverWait;\r\n        \r\n        import java.time.Duration;\r\n        import java.util.Iterator;\r\n        import java.util.Set;\r\n        import java.util.concurrent.TimeUnit;\r\n        \r\n        public class Mmt\r\n        {\r\n            public static void main(String[]args) throws InterruptedException {\r\n                System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/gt51022/Downloads/chromedriver_linux64/chromedriver&quot;);\r\n                WebDriver driver = new ChromeDriver();\r\n                driver.get(&quot;https://www.makemytrip.com/&quot;);\r\n                driver.navigate().forward();\r\n                driver.manage().window().maximize();\r\n                //driver.findElement(By.xpath(&quot; //div[@class=\\&quot;fsw_inputBox searchCity inactiveWidget activeWidget\\&quot;]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.id(&quot;fromCity&quot;)).sendKeys(&quot;IXC&quot;);\r\n                Thread.sleep(1000);\r\n                driver.findElement(By.xpath(&quot;//p[@class=\\&quot;font12 greyText appendBottom3\\&quot;]&quot;)).click();\r\n                Thread.sleep(1000);\r\n                //driver.findElement(By.xpath(&quot;//div[@class=\\&quot;fsw_inputBox searchToCity inactiveWidget activeWidget\\&quot;]&quot;)).click();\r\n                Thread.sleep(2000);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.id(&quot;toCity&quot;)).sendKeys(&quot;BOM&quot;);\r\n                Thread.sleep(2000);\r\n                driver.findElement(By.xpath(&quot;//p[@class=\\&quot;font12 greyText appendBottom3\\&quot;]&quot;)).click();\r\n                // Selecting the date from here //\r\n                driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div[2]/div/div/div[2]/div[1]/div[3]/div[1]/div/div/div/div[2]/div/div[2]/div[1]/div[3]/div[1]/div[7]&quot;)).click();\r\n                // Clicking on search button here //\r\n                driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div[2]/div/div/div[2]/p/a&quot;)).click();\r\n        \r\n                //driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div[2]/div[2]/div/div/div[3]/button&quot;)).click();\r\n                String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\r\n                String subWindowHandler = null;\r\n        \r\n                Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\r\n                Iterator&lt;String&gt; iterator = handles.iterator();\r\n                while (iterator.hasNext()){\r\n                    subWindowHandler = iterator.next();\r\n                }\r\n                driver.switchTo().window(subWindowHandler); // switch to popup window\r\n        \r\n                // Now you are in the popup window, perform necessary actions here\r\n                Thread.sleep(4000);\r\n                driver.navigate().forward();\r\n                driver.findElement(By.xpath(&quot;//span[@class=\\&quot;bgProperties icon20 overlayCrossIcon\\&quot;]&quot;)).click();\r\n                driver.switchTo().window(parentWindowHandler);  // switch back to parent window\r\n                // Selecting the flight from here //\r\n                Thread.sleep(4000);\r\n                driver.findElement(By.xpath(&quot; //span[@class=\\&quot;appendRight8\\&quot;]&quot;)).click();\r\n                Thread.sleep(4000);\r\n                driver.navigate().forward();\r\n                //Actions actions = new Actions(driver);\r\n                WebElement Booknow = new WebDriverWait(driver, Duration.ofSeconds(10))\r\n                        .until(ExpectedConditions.elementToBeClickable(By.id(&quot;bookbutton-RKEY:501c58c8-7838-4305-9a7f-68744ae5903d:25_0&quot;)));\r\n                driver.switchTo().newWindow(WindowType.TAB);\r\n                JavascriptExecutor js = (JavascriptExecutor) driver;\r\n                js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\r\n                driver.findElement(By.className(&quot;addTravellerBtn&quot;)).click();\r\n                driver.findElement(By.className(&quot;tvlrInput&quot;)).sendKeys(&quot;person&quot;);\r\n                driver.findElement(By.xpath(&quot;(//input[@class=\\&quot;tvlrInput \\&quot;])[2] &quot;)).click();\r\n                driver.findElement(By.xpath(&quot;(//label)[4]&quot;)).click();\r\n                driver.findElement(By.className(&quot;dropdown__value-container css-1hwfws3&quot;)).click();\r\n                driver.findElement(By.id(&quot;react-select-3-option-1&quot;)).click();\r\n                driver.findElement(By.xpath(&quot;(//input[@class=\\&quot;tvlrInput \\&quot;])[4]&quot;)).sendKeys(&quot;1234567890&quot;);\r\n                driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;relative\\&quot;])[5]&quot;)).click();\r\n                driver.findElement(By.xpath(&quot;(//input[@class=\\&quot;tvlrInput \\&quot;])[5]&quot;)).sendKeys(&quot;quotricogredu-3358@yopmail.com&quot;);\r\n        \r\n        \r\n        \r\n        \r\n        \r\n            }\r\n        }","title":"Unable to click on button on travel website","body":"<p>I have successfully launched MMT but after checking fares when I want to click on &quot;Book&quot; button it is giving errors as element not present I have tries xpath, class and id locators but still the same issue also applied the wait statement and tried presently in chrome browser below is the code snippet the code stopped working suddenly earlier it was working fine</p>\n<pre><code> package Practice;\n    import org.junit.Assert;\n    import org.openqa.selenium.*;\n    import org.openqa.selenium.chrome.ChromeDriver;\n    import org.openqa.selenium.Alert;\n    import org.openqa.selenium.interactions.Actions;\n    import org.openqa.selenium.support.ui.ExpectedConditions;\n    import org.openqa.selenium.support.ui.WebDriverWait;\n    \n    import java.time.Duration;\n    import java.util.Iterator;\n    import java.util.Set;\n    import java.util.concurrent.TimeUnit;\n    \n    public class Mmt\n    {\n        public static void main(String[]args) throws InterruptedException {\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/home/gt51022/Downloads/chromedriver_linux64/chromedriver&quot;);\n            WebDriver driver = new ChromeDriver();\n            driver.get(&quot;https://www.makemytrip.com/&quot;);\n            driver.navigate().forward();\n            driver.manage().window().maximize();\n            //driver.findElement(By.xpath(&quot; //div[@class=\\&quot;fsw_inputBox searchCity inactiveWidget activeWidget\\&quot;]&quot;)).click();\n            Thread.sleep(2000);\n            driver.navigate().forward();\n            driver.findElement(By.id(&quot;fromCity&quot;)).sendKeys(&quot;IXC&quot;);\n            Thread.sleep(1000);\n            driver.findElement(By.xpath(&quot;//p[@class=\\&quot;font12 greyText appendBottom3\\&quot;]&quot;)).click();\n            Thread.sleep(1000);\n            //driver.findElement(By.xpath(&quot;//div[@class=\\&quot;fsw_inputBox searchToCity inactiveWidget activeWidget\\&quot;]&quot;)).click();\n            Thread.sleep(2000);\n            driver.navigate().forward();\n            driver.findElement(By.id(&quot;toCity&quot;)).sendKeys(&quot;BOM&quot;);\n            Thread.sleep(2000);\n            driver.findElement(By.xpath(&quot;//p[@class=\\&quot;font12 greyText appendBottom3\\&quot;]&quot;)).click();\n            // Selecting the date from here //\n            driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div[2]/div/div/div[2]/div[1]/div[3]/div[1]/div/div/div/div[2]/div/div[2]/div[1]/div[3]/div[1]/div[7]&quot;)).click();\n            // Clicking on search button here //\n            driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div[2]/div/div/div[2]/p/a&quot;)).click();\n    \n            //driver.findElement(By.xpath(&quot;//*[@id=\\&quot;root\\&quot;]/div/div[2]/div[2]/div[2]/div/div/div[3]/button&quot;)).click();\n            String parentWindowHandler = driver.getWindowHandle(); // Store your parent window\n            String subWindowHandler = null;\n    \n            Set&lt;String&gt; handles = driver.getWindowHandles(); // get all window handles\n            Iterator&lt;String&gt; iterator = handles.iterator();\n            while (iterator.hasNext()){\n                subWindowHandler = iterator.next();\n            }\n            driver.switchTo().window(subWindowHandler); // switch to popup window\n    \n            // Now you are in the popup window, perform necessary actions here\n            Thread.sleep(4000);\n            driver.navigate().forward();\n            driver.findElement(By.xpath(&quot;//span[@class=\\&quot;bgProperties icon20 overlayCrossIcon\\&quot;]&quot;)).click();\n            driver.switchTo().window(parentWindowHandler);  // switch back to parent window\n            // Selecting the flight from here //\n            Thread.sleep(4000);\n            driver.findElement(By.xpath(&quot; //span[@class=\\&quot;appendRight8\\&quot;]&quot;)).click();\n            Thread.sleep(4000);\n            driver.navigate().forward();\n            //Actions actions = new Actions(driver);\n            WebElement Booknow = new WebDriverWait(driver, Duration.ofSeconds(10))\n                    .until(ExpectedConditions.elementToBeClickable(By.id(&quot;bookbutton-RKEY:501c58c8-7838-4305-9a7f-68744ae5903d:25_0&quot;)));\n            driver.switchTo().newWindow(WindowType.TAB);\n            JavascriptExecutor js = (JavascriptExecutor) driver;\n            js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;);\n            driver.findElement(By.className(&quot;addTravellerBtn&quot;)).click();\n            driver.findElement(By.className(&quot;tvlrInput&quot;)).sendKeys(&quot;person&quot;);\n            driver.findElement(By.xpath(&quot;(//input[@class=\\&quot;tvlrInput \\&quot;])[2] &quot;)).click();\n            driver.findElement(By.xpath(&quot;(//label)[4]&quot;)).click();\n            driver.findElement(By.className(&quot;dropdown__value-container css-1hwfws3&quot;)).click();\n            driver.findElement(By.id(&quot;react-select-3-option-1&quot;)).click();\n            driver.findElement(By.xpath(&quot;(//input[@class=\\&quot;tvlrInput \\&quot;])[4]&quot;)).sendKeys(&quot;1234567890&quot;);\n            driver.findElement(By.xpath(&quot;(//div[@class=\\&quot;relative\\&quot;])[5]&quot;)).click();\n            driver.findElement(By.xpath(&quot;(//input[@class=\\&quot;tvlrInput \\&quot;])[5]&quot;)).sendKeys(&quot;quotricogredu-3358@yopmail.com&quot;);\n    \n    \n    \n    \n    \n        }\n    }\n</code></pre>\n"},{"tags":["java","android","dynamic"],"answers":[{"tags":[],"owner":{"account_id":22173831,"reputation":659,"user_id":16418724,"display_name":"Nikhil S Marathe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677848284,"creation_date":1677847742,"answer_id":75627296,"question_id":75627295,"body_markdown":"Get String value from Source of Value.\r\n\r\nThen Convert it in `double`\r\n\r\nafter declare `DecimalFormat` Method. and follow bellowed step.\r\n\r\n```\r\nString value = &quot;10.0000000&quot;\r\ndouble valueInFloat = Double.parseDouble(value);\r\n```\r\n\r\nDeclare Method Now.\r\n\r\n```\r\nDecimalFormat decimalPoint = new DecimalFormat(&quot;0.00&quot;); \r\ntextview.setText(decimalPoint.formate(valueInFloat));\r\n```\r\n\r\nOutput: is `10.00`","title":"How to give two decimal point of double which converted from String value in android java","body":"<p>Get String value from Source of Value.</p>\n<p>Then Convert it in <code>double</code></p>\n<p>after declare <code>DecimalFormat</code> Method. and follow bellowed step.</p>\n<pre><code>String value = &quot;10.0000000&quot;\ndouble valueInFloat = Double.parseDouble(value);\n</code></pre>\n<p>Declare Method Now.</p>\n<pre><code>DecimalFormat decimalPoint = new DecimalFormat(&quot;0.00&quot;); \ntextview.setText(decimalPoint.formate(valueInFloat));\n</code></pre>\n<p>Output: is <code>10.00</code></p>\n"}],"owner":{"account_id":22173831,"reputation":659,"user_id":16418724,"display_name":"Nikhil S Marathe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1677848233,"answer_count":1,"score":-3,"last_activity_date":1677848498,"creation_date":1677847742,"question_id":75627295,"body_markdown":"I Have String Value. \r\nthen how to convert in float value and then give it two decimal points?","title":"How to give two decimal point of double which converted from String value in android java","body":"<p>I Have String Value.\nthen how to convert in float value and then give it two decimal points?</p>\n"},{"tags":["java","spring-boot","jobrunr"],"comments":[{"owner":{"account_id":986840,"reputation":784,"user_id":1005124,"accept_rate":29,"display_name":"rdehuyss"},"score":0,"creation_date":1678095964,"post_id":75627404,"comment_id":133460475,"body_markdown":"Can you reproduce this in a GitHub repo? If so, I (creator of JobRunr) would consider this a bug. However, there are over 4000 unit and integration tests that cover this so I would find this really strange.\nAre you using custom JobFilters?","body":"Can you reproduce this in a GitHub repo? If so, I (creator of JobRunr) would consider this a bug. However, there are over 4000 unit and integration tests that cover this so I would find this really strange. Are you using custom JobFilters?"},{"owner":{"account_id":18328293,"reputation":185,"user_id":13347446,"display_name":"Jithin M V"},"score":0,"creation_date":1678174165,"post_id":75627404,"comment_id":133477445,"body_markdown":"Hi @rdehuyss\nNo I was not using custom filters then. But When I tweaked my jobrunr config a lil bit this started working all of a sudden. \n.withJobFilter(new RetryFilter(3,5)) // Added this\n\nNow my jobs are getting retried 3 times with a back offf policy of 5. I am all good and this works like a charm. You created an amazing thing btw. Thanks :)","body":"Hi @rdehuyss No I was not using custom filters then. But When I tweaked my jobrunr config a lil bit this started working all of a sudden.  .withJobFilter(new RetryFilter(3,5)) // Added this  Now my jobs are getting retried 3 times with a back offf policy of 5. I am all good and this works like a charm. You created an amazing thing btw. Thanks :)"}],"owner":{"account_id":18328293,"reputation":185,"user_id":13347446,"display_name":"Jithin M V"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":564,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677848463,"creation_date":1677848463,"question_id":75627404,"body_markdown":"I have a Spring Boot application that uses the JobRunr library to run a set of background jobs. The application has no REST endpoints or any external-facing features. The primary job is a recurring job (R), which triggers several fire-and-forget jobs (A, B, and C), which in turn trigger another set of fire-and-forget jobs (E, F, and G).\r\n\r\nWhile the application is running, I&#39;m encountering exceptions with job E. Rather than catching the exceptions, I&#39;m simply throwing them back as jobrunr documentation suggests. However, all jobs (R, A, and E) are reported as succeeded, despite the exception with job E. In fact, I expected job E to be in the failed state.\r\n\r\nHas anyone else experienced a similar issue or have any insight into what might be causing this behavior?\r\n\r\nI am enqueuing the recurring job as\r\n\r\n    @SpringBootApplication\r\n    public class NotificationApplication {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(NotificationApplication.class, args);\r\n        }\r\n        @Bean\r\n        public CommandLineRunner demo(RecurringBackGroundJobService service) {\r\n            return (args) -&gt; {\r\n                BackgroundJob.scheduleRecurrently(\r\n                        &quot;generate-and-send-notification-emails&quot;,\r\n                        Cron.every5minutes(),\r\n                        RecurringBackGroundJobService::getNotificationsAndProcess\r\n                );\r\n                Thread.currentThread().join();\r\n            };\r\n        }\r\n\r\nThe recurring job looks like,\r\n\r\n        @Service\r\n        public class RecurringBackGroundJobService {\r\n        \r\n            @Autowired\r\n            private NotificationService notificationQueueService;\r\n            @Transactional(readOnly = true)\r\n            @Job(name = &quot;The main recurring job spawning all the background jobs to send out emails&quot;)\r\n            public void getNotificationsAndProcess() {\r\n                Stream&lt;Long&gt; organizationHavingPendingNotifications =\r\n                        notificationQueueService.findDistinctOrganizationNotificationsWithDeliverStatus(Constants.PENDING);\r\n                BackgroundJob.&lt;TemplateSegregationBackGroundJob, Long&gt;enqueue(organizationHavingPendingNotifications,\r\n                        (fireAndForgetBackGroundJobService, organizationId) -&gt;\r\n                                fireAndForgetBackGroundJobService.segregateTemplateLevel(organizationId));\r\n            }\r\n        }\r\n    \r\n    The first layer of fire and forget job looks like\r\n    \r\n    @Service\r\n    public class TemplateSegregationBackGroundJob {\r\n    \r\n        @Autowired\r\n        private NotificationService notificationQueueService;\r\n    \r\n        @Transactional(readOnly = true)\r\n        @Job(name = &quot;Segregate the notifications as templates for organization/user with id: %0&quot;)\r\n        public void segregateTemplateLevel(Long organizationId) throws Exception {\r\n            final Stream&lt;NotificationTemplate&gt; pendingTemplatesOfOrganization =\r\n                    notificationQueueService.findDistinctTemplatesOfOrganizationWithDeliverStatus(organizationId,Constants.PENDING);\r\n            BackgroundJob.&lt;EmailServiceBackgroundJob, NotificationTemplate&gt;\r\n                    enqueue(pendingTemplatesOfOrganization, (emailServiceBackgroundJob, notificationTemplate) -&gt;\r\n                    emailServiceBackgroundJob.generateAndSendEmail(notificationTemplate, organizationId));\r\n        }\r\n    }\r\n\r\n\r\nNow coming to the last layer, The main job, where I have all the logic and there I am encountering exceptions. \r\n\r\n \r\n\r\n     @Job(name = &quot;Generate and send notification email of type: %0 for organization/user: %1&quot;)\r\n        public void generateAndSendEmail(NotificationTemplate notificationTemplate, Long organizationId) throws Exception {\r\n            // First of all get the processed email template from liferay API\r\n           // exception\r\n    }\r\n","title":"Why JobRunr jobs are showing with a status SUCCEEDED Even after failing?","body":"<p>I have a Spring Boot application that uses the JobRunr library to run a set of background jobs. The application has no REST endpoints or any external-facing features. The primary job is a recurring job (R), which triggers several fire-and-forget jobs (A, B, and C), which in turn trigger another set of fire-and-forget jobs (E, F, and G).</p>\n<p>While the application is running, I'm encountering exceptions with job E. Rather than catching the exceptions, I'm simply throwing them back as jobrunr documentation suggests. However, all jobs (R, A, and E) are reported as succeeded, despite the exception with job E. In fact, I expected job E to be in the failed state.</p>\n<p>Has anyone else experienced a similar issue or have any insight into what might be causing this behavior?</p>\n<p>I am enqueuing the recurring job as</p>\n<pre><code>@SpringBootApplication\npublic class NotificationApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(NotificationApplication.class, args);\n    }\n    @Bean\n    public CommandLineRunner demo(RecurringBackGroundJobService service) {\n        return (args) -&gt; {\n            BackgroundJob.scheduleRecurrently(\n                    &quot;generate-and-send-notification-emails&quot;,\n                    Cron.every5minutes(),\n                    RecurringBackGroundJobService::getNotificationsAndProcess\n            );\n            Thread.currentThread().join();\n        };\n    }\n</code></pre>\n<p>The recurring job looks like,</p>\n<pre><code>    @Service\n    public class RecurringBackGroundJobService {\n    \n        @Autowired\n        private NotificationService notificationQueueService;\n        @Transactional(readOnly = true)\n        @Job(name = &quot;The main recurring job spawning all the background jobs to send out emails&quot;)\n        public void getNotificationsAndProcess() {\n            Stream&lt;Long&gt; organizationHavingPendingNotifications =\n                    notificationQueueService.findDistinctOrganizationNotificationsWithDeliverStatus(Constants.PENDING);\n            BackgroundJob.&lt;TemplateSegregationBackGroundJob, Long&gt;enqueue(organizationHavingPendingNotifications,\n                    (fireAndForgetBackGroundJobService, organizationId) -&gt;\n                            fireAndForgetBackGroundJobService.segregateTemplateLevel(organizationId));\n        }\n    }\n\nThe first layer of fire and forget job looks like\n\n@Service\npublic class TemplateSegregationBackGroundJob {\n\n    @Autowired\n    private NotificationService notificationQueueService;\n\n    @Transactional(readOnly = true)\n    @Job(name = &quot;Segregate the notifications as templates for organization/user with id: %0&quot;)\n    public void segregateTemplateLevel(Long organizationId) throws Exception {\n        final Stream&lt;NotificationTemplate&gt; pendingTemplatesOfOrganization =\n                notificationQueueService.findDistinctTemplatesOfOrganizationWithDeliverStatus(organizationId,Constants.PENDING);\n        BackgroundJob.&lt;EmailServiceBackgroundJob, NotificationTemplate&gt;\n                enqueue(pendingTemplatesOfOrganization, (emailServiceBackgroundJob, notificationTemplate) -&gt;\n                emailServiceBackgroundJob.generateAndSendEmail(notificationTemplate, organizationId));\n    }\n}\n</code></pre>\n<p>Now coming to the last layer, The main job, where I have all the logic and there I am encountering exceptions.</p>\n<pre><code> @Job(name = &quot;Generate and send notification email of type: %0 for organization/user: %1&quot;)\n    public void generateAndSendEmail(NotificationTemplate notificationTemplate, Long organizationId) throws Exception {\n        // First of all get the processed email template from liferay API\n       // exception\n}\n</code></pre>\n"},{"tags":["java","arrays","spring","oop","java-8"],"comments":[{"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"score":0,"creation_date":1627626915,"post_id":68586402,"comment_id":121210904,"body_markdown":"StringBuilder would be prefered","body":"StringBuilder would be prefered"},{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":0,"creation_date":1627628201,"post_id":68586402,"comment_id":121211325,"body_markdown":"You may format your code by indenting it.","body":"You may format your code by indenting it."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1627639862,"post_id":68586402,"comment_id":121215704,"body_markdown":"Assuming theres a large number of these `if` statements, a `StringBuilder` would be preferable, but then, you should also be concerned about these repeated linear searches.","body":"Assuming theres a large number of these <code>if</code> statements, a <code>StringBuilder</code> would be preferable, but then, you should also be concerned about these repeated linear searches."},{"owner":{"account_id":5715690,"reputation":2296,"user_id":4515989,"accept_rate":78,"display_name":"Felix"},"score":0,"creation_date":1627642252,"post_id":68586402,"comment_id":121216571,"body_markdown":"Even if a `StringBuilder` is preferred over a `String +=` here, the `.contains`, `List` and general structure of the code here are most likely having a bigger impact than `StringBuilder` vs `String`. For example, If all your conditions look like this (each value in the list maps to exactly one value the resulting string), you could just loop trough the List once, add a `switch-case` and concat using a `StringBuilder` in that loop. Or use a `Set`. Each call to `contains` on a `List` has to loop through all elements until it finds the queried value.\n\nThen again, dont do premature optimization.","body":"Even if a <code>StringBuilder</code> is preferred over a <code>String +=</code> here, the <code>.contains</code>, <code>List</code> and general structure of the code here are most likely having a bigger impact than <code>StringBuilder</code> vs <code>String</code>. For example, If all your conditions look like this (each value in the list maps to exactly one value the resulting string), you could just loop trough the List once, add a <code>switch-case</code> and concat using a <code>StringBuilder</code> in that loop. Or use a <code>Set</code>. Each call to <code>contains</code> on a <code>List</code> has to loop through all elements until it finds the queried value.  Then again, dont do premature optimization."}],"answers":[{"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":0,"creation_date":1627649408,"post_id":68586473,"comment_id":121219209,"body_markdown":"Not necessarily.  According to the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.18.1), &quot;To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.&quot;","body":"Not necessarily.  According to the <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.18.1\" rel=\"nofollow noreferrer\">Java Language Specification</a>, &quot;To increase the performance of repeated string concatenation, a Java compiler may use the StringBuffer class or a similar technique to reduce the number of intermediate String objects that are created by evaluation of an expression.&quot;"}],"tags":[],"owner":{"account_id":13843940,"reputation":391,"user_id":9993505,"display_name":"Shimron Duan"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1627627198,"creation_date":1627627198,"answer_id":68586473,"question_id":68586402,"body_markdown":"**StringBuilder** is the best for this scenario because it&#39;s mutable. the **String** is immutable so when you modify the string it creates a new object.","title":"String vs StringBuilder","body":"<p><strong>StringBuilder</strong> is the best for this scenario because it's mutable. the <strong>String</strong> is immutable so when you modify the string it creates a new object.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1627659560,"creation_date":1627639207,"answer_id":68589058,"question_id":68586402,"body_markdown":"It seems that for the given task it would be better to get rid of the multiple duplicated `if` statements by defining a _list_ of the keys to match the input list and use Stream API to generate the string id, e.g. `Collectors.joining` [with delimiter](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-) or [without the delimiter](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining--).\r\n\r\nAssuming that there is a single rule to create a part of the id: append `&quot;Test Value &quot; + key.toUpperCase()`, the implementation may look as follows:\r\n```java\r\nfinal List&lt;String&gt; keys = Arrays.asList(\r\n    &quot;name&quot;, &quot;age&quot; /* and other needed keys*/\r\n);\r\n\r\npublic String createId(List&lt;String&gt; list) {\r\n    return keys\r\n            .stream()\r\n            .filter(list::contains)\r\n            .map(String::toUpperCase)\r\n            .map(str -&gt; &quot;Test Value &quot; + str)\r\n            .collect(Collectors.joining(&quot;_&quot;)); // or Collectors.joining()\r\n}\r\n\r\nSystem.out.println(createId(Arrays.asList(&quot;age&quot;, &quot;name&quot;, &quot;surname&quot;)));\r\n// output: Test Value NAME_Test Value AGE\r\n```\r\n----\r\nIf custom parts should be provided for `name`, `age`, etc., a `Map` of matches should be prepared and used, also it may make sense to convert the input `list` into `Set&lt;String` to facilitate look-ups:\r\n```java\r\nfinal Map&lt;String, String&gt; keys = new LinkedHashMap&lt;&gt;(); {\r\n    // fill the map in special order\r\n    keys.put(&quot;name&quot;, &quot;Name Part&quot;);\r\n    keys.put(&quot;age&quot;, &quot;Test Age&quot;);\r\n    /* and other needed keys*/\r\n}\r\n\r\npublic String createId(List&lt;String&gt; list) {\r\n    Set&lt;String&gt; words = new HashSet&lt;&gt;(list);\r\n    return keys.keySet()\r\n            .stream()\r\n            .filter(words::contains) // faster lookup O(1) at the cost of another collection\r\n            .map(keys::get)\r\n            .collect(Collectors.joining(&quot;_&quot;)); // or Collectors.joining()\r\n}\r\n\r\nSystem.out.println(createId(Arrays.asList(&quot;age&quot;, &quot;surname&quot;, &quot;name&quot;)));\r\n// output: Name Part_Test Age\r\n```","title":"String vs StringBuilder","body":"<p>It seems that for the given task it would be better to get rid of the multiple duplicated <code>if</code> statements by defining a <em>list</em> of the keys to match the input list and use Stream API to generate the string id, e.g. <code>Collectors.joining</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining-java.lang.CharSequence-\" rel=\"nofollow noreferrer\">with delimiter</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#joining--\" rel=\"nofollow noreferrer\">without the delimiter</a>.</p>\n<p>Assuming that there is a single rule to create a part of the id: append <code>&quot;Test Value &quot; + key.toUpperCase()</code>, the implementation may look as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final List&lt;String&gt; keys = Arrays.asList(\n    &quot;name&quot;, &quot;age&quot; /* and other needed keys*/\n);\n\npublic String createId(List&lt;String&gt; list) {\n    return keys\n            .stream()\n            .filter(list::contains)\n            .map(String::toUpperCase)\n            .map(str -&gt; &quot;Test Value &quot; + str)\n            .collect(Collectors.joining(&quot;_&quot;)); // or Collectors.joining()\n}\n\nSystem.out.println(createId(Arrays.asList(&quot;age&quot;, &quot;name&quot;, &quot;surname&quot;)));\n// output: Test Value NAME_Test Value AGE\n</code></pre>\n<hr />\n<p>If custom parts should be provided for <code>name</code>, <code>age</code>, etc., a <code>Map</code> of matches should be prepared and used, also it may make sense to convert the input <code>list</code> into <code>Set&lt;String</code> to facilitate look-ups:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;String, String&gt; keys = new LinkedHashMap&lt;&gt;(); {\n    // fill the map in special order\n    keys.put(&quot;name&quot;, &quot;Name Part&quot;);\n    keys.put(&quot;age&quot;, &quot;Test Age&quot;);\n    /* and other needed keys*/\n}\n\npublic String createId(List&lt;String&gt; list) {\n    Set&lt;String&gt; words = new HashSet&lt;&gt;(list);\n    return keys.keySet()\n            .stream()\n            .filter(words::contains) // faster lookup O(1) at the cost of another collection\n            .map(keys::get)\n            .collect(Collectors.joining(&quot;_&quot;)); // or Collectors.joining()\n}\n\nSystem.out.println(createId(Arrays.asList(&quot;age&quot;, &quot;surname&quot;, &quot;name&quot;)));\n// output: Name Part_Test Age\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627649790,"creation_date":1627649790,"answer_id":68591334,"question_id":68586402,"body_markdown":"In general your understanding is correct about when to use `String` concatenation vs `StringBuilder`. The [Java Language Specification][1] says\r\n\r\n&gt; To increase the performance of repeated string concatenation, a Java\r\n&gt; compiler may use the StringBuffer class or a similar technique to\r\n&gt; reduce the number of intermediate String objects that are created by\r\n&gt; evaluation of an expression.\r\n\r\nFor the larger majority of cases you should use whichever method results in better readability and maintainability.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.18.1","title":"String vs StringBuilder","body":"<p>In general your understanding is correct about when to use <code>String</code> concatenation vs <code>StringBuilder</code>. The <a href=\"https://docs.oracle.com/javase/specs/jls/se16/html/jls-15.html#jls-15.18.1\" rel=\"nofollow noreferrer\">Java Language Specification</a> says</p>\n<blockquote>\n<p>To increase the performance of repeated string concatenation, a Java\ncompiler may use the StringBuffer class or a similar technique to\nreduce the number of intermediate String objects that are created by\nevaluation of an expression.</p>\n</blockquote>\n<p>For the larger majority of cases you should use whichever method results in better readability and maintainability.</p>\n"},{"comments":[{"owner":{"account_id":58554,"reputation":750,"user_id":175254,"display_name":"David Gish"},"score":0,"creation_date":1678314375,"post_id":75627342,"comment_id":133510915,"body_markdown":"Thanks for contributing your first answer! It needs a bit of editing: &quot;StringBuilder is mutable and String is not.&quot; And you surely meant &quot;complexity&quot; instead of &quot;complicity.&quot;","body":"Thanks for contributing your first answer! It needs a bit of editing: &quot;StringBuilder is mutable and String is not.&quot; And you surely meant &quot;complexity&quot; instead of &quot;complicity.&quot;"}],"tags":[],"owner":{"account_id":2011614,"reputation":1,"user_id":6230601,"display_name":"Pieter van Onselen"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677848094,"creation_date":1677848043,"answer_id":75627342,"question_id":68586402,"body_markdown":"As already said **StringBuilder** is immutable and **String** is not.\r\n\r\nTo add to this, when compiler compiles string concatenations it converts it to StringBuilder. [String concatenation in toString in Java][1]\r\n\r\nSomething else to keep in mind is that `id+=&quot;TEST VALUE NAME&quot;;` will add complicity if you do code analysis with Sonar or other tools.\r\n\r\nUsing StringBuilder will not add complexity with analysis tools.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1532461/stringbuilder-vs-string-concatenation-in-tostring-in-java","title":"String vs StringBuilder","body":"<p>As already said <strong>StringBuilder</strong> is immutable and <strong>String</strong> is not.</p>\n<p>To add to this, when compiler compiles string concatenations it converts it to StringBuilder. <a href=\"https://stackoverflow.com/questions/1532461/stringbuilder-vs-string-concatenation-in-tostring-in-java\">String concatenation in toString in Java</a></p>\n<p>Something else to keep in mind is that <code>id+=&quot;TEST VALUE NAME&quot;;</code> will add complicity if you do code analysis with Sonar or other tools.</p>\n<p>Using StringBuilder will not add complexity with analysis tools.</p>\n"}],"owner":{"account_id":14139194,"reputation":425,"user_id":10214546,"display_name":"Tech Geek"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":4,"score":0,"last_activity_date":1677848094,"creation_date":1627626758,"question_id":68586402,"body_markdown":"I have a condition like :\r\n\r\n    public String createId(List&lt;String&gt; list)\r\n    {\r\n    String id=&quot;&quot;;\r\n    if(list.contains(&quot;name&quot;))\r\n    id+=&quot;TEST VALUE NAME&quot;;\r\n    if(list.contains(&quot;age&quot;))\r\n    id+=&quot;Test Value AGE&quot;;\r\n    .\r\n    .\r\n    . likewise many if condition\r\n    return id;\r\n    }\r\n\r\nAs per my understanding we should use **StringBuilder** in loop condition and **String** in simple concatenation. So here wanted to ask I should use ***String or StringBuilder***? Kindly suggest","title":"String vs StringBuilder","body":"<p>I have a condition like :</p>\n<pre><code>public String createId(List&lt;String&gt; list)\n{\nString id=&quot;&quot;;\nif(list.contains(&quot;name&quot;))\nid+=&quot;TEST VALUE NAME&quot;;\nif(list.contains(&quot;age&quot;))\nid+=&quot;Test Value AGE&quot;;\n.\n.\n. likewise many if condition\nreturn id;\n}\n</code></pre>\n<p>As per my understanding we should use <strong>StringBuilder</strong> in loop condition and <strong>String</strong> in simple concatenation. So here wanted to ask I should use <em><strong>String or StringBuilder</strong></em>? Kindly suggest</p>\n"},{"tags":["java","spring","cron"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1677845766,"post_id":75626659,"comment_id":133422144,"body_markdown":"`@Scheduled` is repeatable, so how about adding two schedules: one with `0 0/30 9-16 * * MON-FRI` and one for `0 0 17 * * MON-FRI`?","body":"<code>@Scheduled</code> is repeatable, so how about adding two schedules: one with <code>0 0&#47;30 9-16 * * MON-FRI</code> and one for <code>0 0 17 * * MON-FRI</code>?"}],"answers":[{"tags":[],"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677848019,"creation_date":1677848019,"answer_id":75627338,"question_id":75626659,"body_markdown":"I think you could use\r\n\r\n    0 0/30 9-16,17 * * MON-FRI\r\n\r\nBut I&#39;m not sure if this works using Spring","title":"Weekdays 9:00 till 17:00 every 30 minutes Spring Cron job","body":"<p>I think you could use</p>\n<pre><code>0 0/30 9-16,17 * * MON-FRI\n</code></pre>\n<p>But I'm not sure if this works using Spring</p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677848019,"creation_date":1677843824,"question_id":75626659,"body_markdown":"I tried this expression:\r\n```\r\n0 0/30 9-17 * * MON-FRI\r\n```\r\nWhich works almost as I want it to except that it runs 1 extra time at 17:30, how can I make last execution in a day at 17:00?","title":"Weekdays 9:00 till 17:00 every 30 minutes Spring Cron job","body":"<p>I tried this expression:</p>\n<pre><code>0 0/30 9-17 * * MON-FRI\n</code></pre>\n<p>Which works almost as I want it to except that it runs 1 extra time at 17:30, how can I make last execution in a day at 17:00?</p>\n"},{"tags":["java","google-app-engine","google-cloud-platform"],"answers":[{"comments":[{"owner":{"account_id":5147279,"reputation":3527,"user_id":4122891,"accept_rate":41,"display_name":"Suren Konathala"},"score":0,"creation_date":1589576527,"post_id":61828125,"comment_id":109359570,"body_markdown":"Oh, so the plugin gets to only &quot;Flex&quot;? Can i change it to use &quot;Standard&quot; ? When i tried to create a new Standard Application, it only has &quot;Java 8&quot; as Java version","body":"Oh, so the plugin gets to only &quot;Flex&quot;? Can i change it to use &quot;Standard&quot; ? When i tried to create a new Standard Application, it only has &quot;Java 8&quot; as Java version"},{"owner":{"account_id":15943715,"reputation":4766,"user_id":11504909,"display_name":"Chris32"},"score":1,"creation_date":1589577910,"post_id":61828125,"comment_id":109360133,"body_markdown":"Well, I dont have eclipse installed right now but In the [Public documentation](https://cloud.google.com/eclipse/docs/creating-new-webapp) is described the process to deploy and choose the Java version. If in the dropdown menu is only available Java 8 then you can always try to manually deploy to App Engine","body":"Well, I dont have eclipse installed right now but In the <a href=\"https://cloud.google.com/eclipse/docs/creating-new-webapp\" rel=\"nofollow noreferrer\">Public documentation</a> is described the process to deploy and choose the Java version. If in the dropdown menu is only available Java 8 then you can always try to manually deploy to App Engine"}],"tags":[],"owner":{"account_id":15943715,"reputation":4766,"user_id":11504909,"display_name":"Chris32"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589577766,"creation_date":1589575863,"answer_id":61828125,"question_id":61827581,"body_markdown":"Runtime `java11` is not a supported runtime in App Engine Flexible. Instead you should use `runtime: java`\r\n\r\nHere you can see a sample [java app.yaml](https://github.com/GoogleCloudPlatform/java-docs-samples/blob/master/flexible/helloworld/src/main/appengine/app.yaml) and the [Java documentation for flex](https://cloud.google.com/appengine/docs/flexible/java)\r\n\r\nYou can use java11 if you deploy your application in [Standard environment](https://cloud.google.com/appengine/docs/standard/java11/runtime) which supports Java 11\r\n\r\nIf you are deploying to App engine standard you can select in the menu which version you want to deploy\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DKMLo.png","title":"Google Cloud App Engine - Eclipse shows &quot;runtime: java 11&quot; in app.yaml is not Java","body":"<p>Runtime <code>java11</code> is not a supported runtime in App Engine Flexible. Instead you should use <code>runtime: java</code></p>\n\n<p>Here you can see a sample <a href=\"https://github.com/GoogleCloudPlatform/java-docs-samples/blob/master/flexible/helloworld/src/main/appengine/app.yaml\" rel=\"nofollow noreferrer\">java app.yaml</a> and the <a href=\"https://cloud.google.com/appengine/docs/flexible/java\" rel=\"nofollow noreferrer\">Java documentation for flex</a></p>\n\n<p>You can use java11 if you deploy your application in <a href=\"https://cloud.google.com/appengine/docs/standard/java11/runtime\" rel=\"nofollow noreferrer\">Standard environment</a> which supports Java 11</p>\n\n<p>If you are deploying to App engine standard you can select in the menu which version you want to deploy</p>\n\n<p><a href=\"https://i.stack.imgur.com/DKMLo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKMLo.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":272852,"reputation":19440,"user_id":564157,"accept_rate":88,"display_name":"Joseph Lust"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677847836,"creation_date":1677847836,"answer_id":75627306,"question_id":61827581,"body_markdown":"Sounds like you wanted to use Java 11 on GAE Flex, which wasn&#39;t supported when you wrote this question. However, that has changed.\r\n\r\nJava 11 and 17 are [now available in Google App Engine Flex][1] in preview.\r\n\r\nSimply add the following to the `runtime_config:` of your `app.yaml`.\r\n\r\n    runtime_config:\r\n        operating_system: &quot;ubuntu18&quot;\r\n        runtime_version: &quot;11&quot;\r\n\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/flexible/java/runtime#newversions","title":"Google Cloud App Engine - Eclipse shows &quot;runtime: java 11&quot; in app.yaml is not Java","body":"<p>Sounds like you wanted to use Java 11 on GAE Flex, which wasn't supported when you wrote this question. However, that has changed.</p>\n<p>Java 11 and 17 are <a href=\"https://cloud.google.com/appengine/docs/flexible/java/runtime#newversions\" rel=\"nofollow noreferrer\">now available in Google App Engine Flex</a> in preview.</p>\n<p>Simply add the following to the <code>runtime_config:</code> of your <code>app.yaml</code>.</p>\n<pre><code>runtime_config:\n    operating_system: &quot;ubuntu18&quot;\n    runtime_version: &quot;11&quot;\n</code></pre>\n"}],"owner":{"account_id":5147279,"reputation":3527,"user_id":4122891,"accept_rate":41,"display_name":"Suren Konathala"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":818,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677847836,"creation_date":1589573508,"question_id":61827581,"body_markdown":"Trying to deploy an external jar file to Google Cloud App Engine via Eclipse (via Google Cloud Tools plugin). \r\n\r\n**app.yaml**\r\n\r\n```\r\nruntime: java11\r\nentrypoint: &#39;java -jar cord.jar&#39;\r\n```\r\n\r\nOn Eclipse, shows `&quot;runtime: java 1&quot; in app.yaml is not &quot;java&quot;`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JMUmF.png","title":"Google Cloud App Engine - Eclipse shows &quot;runtime: java 11&quot; in app.yaml is not Java","body":"<p>Trying to deploy an external jar file to Google Cloud App Engine via Eclipse (via Google Cloud Tools plugin). </p>\n\n<p><strong>app.yaml</strong></p>\n\n<pre><code>runtime: java11\nentrypoint: 'java -jar cord.jar'\n</code></pre>\n\n<p>On Eclipse, shows <code>\"runtime: java 1\" in app.yaml is not \"java\"</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/JMUmF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JMUmF.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","android","spring-boot","android-volley"],"owner":{"account_id":25960892,"reputation":26,"user_id":19677541,"display_name":"wittlemissginger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677847672,"creation_date":1677847672,"question_id":75627276,"body_markdown":"I am trying to write a get request using the volley library for frontend and spring boot for backend. I&#39;ve tested the backend and it works just fine but the response on the volley is null, any ideas as to why this may be?\r\n\r\nheres my volley request:\r\n\r\n```\r\nRequestQueue queue = Volley.newRequestQueue(Lobby.this);\r\n        String url = &quot;http://10.0.2.2:8080/lobby/1&quot;;\r\n        JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null,\r\n                new Response.Listener&lt;JSONArray&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONArray response) {\r\n                        gameLobby = response;\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(Lobby.this, &quot;ERROR: &quot; + error, Toast.LENGTH_SHORT);\r\n                    }\r\n                }\r\n            );\r\n        queue.add(request);RequestQueue queue = Volley.newRequestQueue(Lobby.this);\r\n        String url = &quot;http://10.0.2.2:8080/lobby/1&quot;;\r\n        JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null,\r\n                new Response.Listener&lt;JSONArray&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONArray response) {\r\n                        gameLobby = response;\r\n                    }\r\n                },\r\n                new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n                        Toast.makeText(Lobby.this, &quot;ERROR: &quot; + error, Toast.LENGTH_SHORT);\r\n                    }\r\n                }\r\n            );\r\n        queue.add(request);\r\n```\r\n \r\nand my backend controller:\r\n\r\n```\r\n  @GetMapping(value = &quot;lobby/{id}&quot;, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;List&lt;GameLobby&gt;&gt; getLobbyByHost(@PathVariable(&quot;id&quot;) int hostID) {\r\n        return new ResponseEntity&lt;List&lt;GameLobby&gt;&gt;(gameLobbyRepository.findByHostID(hostID), HttpStatus.OK);\r\n    }\r\n```\r\n\r\n\r\nI am trying to get a JSONObject from the database to use somewhere else","title":"JsonArrayRequest returning null?","body":"<p>I am trying to write a get request using the volley library for frontend and spring boot for backend. I've tested the backend and it works just fine but the response on the volley is null, any ideas as to why this may be?</p>\n<p>heres my volley request:</p>\n<pre><code>RequestQueue queue = Volley.newRequestQueue(Lobby.this);\n        String url = &quot;http://10.0.2.2:8080/lobby/1&quot;;\n        JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null,\n                new Response.Listener&lt;JSONArray&gt;() {\n                    @Override\n                    public void onResponse(JSONArray response) {\n                        gameLobby = response;\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(Lobby.this, &quot;ERROR: &quot; + error, Toast.LENGTH_SHORT);\n                    }\n                }\n            );\n        queue.add(request);RequestQueue queue = Volley.newRequestQueue(Lobby.this);\n        String url = &quot;http://10.0.2.2:8080/lobby/1&quot;;\n        JsonArrayRequest request = new JsonArrayRequest(Request.Method.GET, url, null,\n                new Response.Listener&lt;JSONArray&gt;() {\n                    @Override\n                    public void onResponse(JSONArray response) {\n                        gameLobby = response;\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(Lobby.this, &quot;ERROR: &quot; + error, Toast.LENGTH_SHORT);\n                    }\n                }\n            );\n        queue.add(request);\n</code></pre>\n<p>and my backend controller:</p>\n<pre><code>  @GetMapping(value = &quot;lobby/{id}&quot;, produces = &quot;application/json&quot;)\n    public ResponseEntity&lt;List&lt;GameLobby&gt;&gt; getLobbyByHost(@PathVariable(&quot;id&quot;) int hostID) {\n        return new ResponseEntity&lt;List&lt;GameLobby&gt;&gt;(gameLobbyRepository.findByHostID(hostID), HttpStatus.OK);\n    }\n</code></pre>\n<p>I am trying to get a JSONObject from the database to use somewhere else</p>\n"},{"tags":["java","amazon-ec2","aws-fargate"],"answers":[{"tags":[],"owner":{"account_id":99242,"reputation":2660,"user_id":268167,"display_name":"kdehairy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677847482,"creation_date":1677847482,"answer_id":75627239,"question_id":75558230,"body_markdown":"So, It turns out that Ec2Client is not getting the zone id from some metadata local endpoint, it is actually communicating (trying to) with the EC2 service endpoint. This means that for the request to go through, the VPC hosting my ECS cluster needs to have an endpoint for EC2 service (same as I did for ECR for example).\r\n\r\nDoing so, made the request pass and I get the zone id in return. No changes in the code itself was needed.","title":"In AWS, How to get the availability zone Id given a name from within a Fargate task","body":"<p>So, It turns out that Ec2Client is not getting the zone id from some metadata local endpoint, it is actually communicating (trying to) with the EC2 service endpoint. This means that for the request to go through, the VPC hosting my ECS cluster needs to have an endpoint for EC2 service (same as I did for ECR for example).</p>\n<p>Doing so, made the request pass and I get the zone id in return. No changes in the code itself was needed.</p>\n"}],"owner":{"account_id":99242,"reputation":2660,"user_id":268167,"display_name":"kdehairy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75627239,"answer_count":1,"score":1,"last_activity_date":1677847482,"creation_date":1677251649,"question_id":75558230,"body_markdown":"I&#39;m running a java service on ECS Fargate. In it, I need to get the availability zone ID that the task is running in. I did the following:\r\n\r\n```java\r\npublic static String getZoneId() {\r\n    final String METADATA_URL = System.getenv(&quot;ECS_CONTAINER_METADATA_URI_V4&quot;) + &quot;/task&quot;;\r\n    try {\r\n        final JsonObject jsonElement = getJsonInfo(METADATA_URL);\r\n        final String availabilityZone = jsonElement\r\n                .getAsJsonPrimitive(&quot;AvailabilityZone&quot;).getAsString();\r\n\r\n        try(Ec2Client ec2 = buildEc2Client()) {\r\n            return getAzIdFromName(ec2, availabilityZone);\r\n        }\r\n    } catch (IOException e) {\r\n        //...\r\n    }\r\n}\r\n\r\nprivate static JsonObject getJsonInfo(String url) throws IOException {\r\n    final String body;\r\n    try (final CloseableHttpClient client = HttpClients.createDefault()) {\r\n        HttpGet request = new HttpGet(url);\r\n        final HttpResponse response = client.execute(request);\r\n        try (final InputStream bodyStream = response.getEntity().getContent()) {\r\n            body = IOUtils.toString(bodyStream, StandardCharsets.UTF_8);\r\n        }\r\n    }\r\n    return JsonParser.parseString(body).getAsJsonObject();\r\n}\r\n\r\nprivate static Ec2Client buildEc2Client() throws IOException {\r\n    final String CREDENTIALS_URL = &quot;http://169.254.170.2&quot; + System.getenv(&quot;AWS_CONTAINER_CREDENTIALS_RELATIVE_URI&quot;);\r\n    final JsonObject body = getJsonInfo(CREDENTIALS_URL);\r\n    AwsRegionProvider regionProvider = new DefaultAwsRegionProviderChain();\r\n    AwsCredentialsProvider credentialsProvider = () -&gt; AwsSessionCredentials.create(\r\n            body.getAsJsonPrimitive(&quot;AccessKeyId&quot;).getAsString(),\r\n            body.getAsJsonPrimitive(&quot;SecretAccessKey&quot;).getAsString(),\r\n            body.getAsJsonPrimitive(&quot;Token&quot;).getAsString()\r\n    );\r\n    return Ec2Client.builder()\r\n            .credentialsProvider(credentialsProvider)\r\n            .region(regionProvider.getRegion())\r\n            .build();\r\n}\r\n\r\nprivate static String getAzIdFromName(Ec2Client ec2Client, String azName) {\r\n    DescribeAvailabilityZonesRequest request = DescribeAvailabilityZonesRequest.builder()\r\n            .zoneNames(azName)\r\n            .build();\r\n    final DescribeAvailabilityZonesResponse describeAvailabilityZonesResponse = ec2Client.describeAvailabilityZones(request);\r\n    return describeAvailabilityZonesResponse.availabilityZones().get(0).zoneId();\r\n}\r\n```\r\n\r\nRunning the above on successfully gets the availability zone name. But then when the `Ec2Client::describeAvailabilityZones` is called, I get:\r\n\r\n```\r\nsoftware.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Connect to ec2.eu-central-1.amazonaws.com:443 [ec2.eu-central-1.amazonaws.com/52.94.136.219] failed: Connect timed out\r\n...\r\nCaused by: java.net.SocketTimeoutException: Connect timed out\r\n```\r\n\r\nThe task is not connected to the internet. I&#39;d expect the endpoint to be accessable internally (not going out to the internet and in again). But I&#39;m not sure. I don&#39;t even know if this is the issue.\r\n\r\nHow do I get the zone Id given a name?","title":"In AWS, How to get the availability zone Id given a name from within a Fargate task","body":"<p>I'm running a java service on ECS Fargate. In it, I need to get the availability zone ID that the task is running in. I did the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getZoneId() {\n    final String METADATA_URL = System.getenv(&quot;ECS_CONTAINER_METADATA_URI_V4&quot;) + &quot;/task&quot;;\n    try {\n        final JsonObject jsonElement = getJsonInfo(METADATA_URL);\n        final String availabilityZone = jsonElement\n                .getAsJsonPrimitive(&quot;AvailabilityZone&quot;).getAsString();\n\n        try(Ec2Client ec2 = buildEc2Client()) {\n            return getAzIdFromName(ec2, availabilityZone);\n        }\n    } catch (IOException e) {\n        //...\n    }\n}\n\nprivate static JsonObject getJsonInfo(String url) throws IOException {\n    final String body;\n    try (final CloseableHttpClient client = HttpClients.createDefault()) {\n        HttpGet request = new HttpGet(url);\n        final HttpResponse response = client.execute(request);\n        try (final InputStream bodyStream = response.getEntity().getContent()) {\n            body = IOUtils.toString(bodyStream, StandardCharsets.UTF_8);\n        }\n    }\n    return JsonParser.parseString(body).getAsJsonObject();\n}\n\nprivate static Ec2Client buildEc2Client() throws IOException {\n    final String CREDENTIALS_URL = &quot;http://169.254.170.2&quot; + System.getenv(&quot;AWS_CONTAINER_CREDENTIALS_RELATIVE_URI&quot;);\n    final JsonObject body = getJsonInfo(CREDENTIALS_URL);\n    AwsRegionProvider regionProvider = new DefaultAwsRegionProviderChain();\n    AwsCredentialsProvider credentialsProvider = () -&gt; AwsSessionCredentials.create(\n            body.getAsJsonPrimitive(&quot;AccessKeyId&quot;).getAsString(),\n            body.getAsJsonPrimitive(&quot;SecretAccessKey&quot;).getAsString(),\n            body.getAsJsonPrimitive(&quot;Token&quot;).getAsString()\n    );\n    return Ec2Client.builder()\n            .credentialsProvider(credentialsProvider)\n            .region(regionProvider.getRegion())\n            .build();\n}\n\nprivate static String getAzIdFromName(Ec2Client ec2Client, String azName) {\n    DescribeAvailabilityZonesRequest request = DescribeAvailabilityZonesRequest.builder()\n            .zoneNames(azName)\n            .build();\n    final DescribeAvailabilityZonesResponse describeAvailabilityZonesResponse = ec2Client.describeAvailabilityZones(request);\n    return describeAvailabilityZonesResponse.availabilityZones().get(0).zoneId();\n}\n</code></pre>\n<p>Running the above on successfully gets the availability zone name. But then when the <code>Ec2Client::describeAvailabilityZones</code> is called, I get:</p>\n<pre><code>software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Connect to ec2.eu-central-1.amazonaws.com:443 [ec2.eu-central-1.amazonaws.com/52.94.136.219] failed: Connect timed out\n...\nCaused by: java.net.SocketTimeoutException: Connect timed out\n</code></pre>\n<p>The task is not connected to the internet. I'd expect the endpoint to be accessable internally (not going out to the internet and in again). But I'm not sure. I don't even know if this is the issue.</p>\n<p>How do I get the zone Id given a name?</p>\n"},{"tags":["java","spring-boot","testing","graphql","mocking"],"answers":[{"comments":[{"owner":{"account_id":3519490,"reputation":167,"user_id":2942156,"accept_rate":50,"display_name":"steinarey"},"score":0,"creation_date":1677849825,"post_id":75627186,"comment_id":133423253,"body_markdown":"The problem is that the execute function always reaches the actual data class. If I put a break point there, I hit it and userData is never mocked away. So, no matter what I assert or check, I am always comparing on database data, not given data.","body":"The problem is that the execute function always reaches the actual data class. If I put a break point there, I hit it and userData is never mocked away. So, no matter what I assert or check, I am always comparing on database data, not given data."}],"tags":[],"owner":{"account_id":26482382,"reputation":239,"user_id":20121447,"display_name":"Julio C&#233;sar Estravis"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677847155,"creation_date":1677847155,"answer_id":75627186,"question_id":75626164,"body_markdown":"I&#39;m not sure the `assertThat()` methods are appropiate while testing with **Spring for GraphQL** in this manner. I would suggest you replaced these last lines:\r\n\r\n    graphQlTester.documentName(&quot;top5users&quot;).execute()\r\n                .path(&quot;userPage&quot;)\r\n                .entity(UserPage.class)\r\n                .get();\r\n\r\n....with something in the style of this (since I don&#39;t know your schema):\r\n\r\n    this.graphQlTester\r\n\t\t\t\t.documentName(&quot;artistas_test1&quot;)\r\n\t\t\t\t.execute()\r\n\t\t\t\t.path(&quot;artistas&quot;)\r\n\t\t\t\t.entityList(Artista.class)\r\n\t\t\t\t.hasSize(3);\r\n\r\nThis is my `artistas_test1.graphql`\r\n\r\n    query {\r\n      artistas{\r\n          apellido\r\n      }\r\n    }\r\n\r\nThe idea is to evaluate in the graphQlTester itself. ","title":"Not able to mock out service in spring boot GraphQL","body":"<p>I'm not sure the <code>assertThat()</code> methods are appropiate while testing with <strong>Spring for GraphQL</strong> in this manner. I would suggest you replaced these last lines:</p>\n<pre><code>graphQlTester.documentName(&quot;top5users&quot;).execute()\n            .path(&quot;userPage&quot;)\n            .entity(UserPage.class)\n            .get();\n</code></pre>\n<p>....with something in the style of this (since I don't know your schema):</p>\n<pre><code>this.graphQlTester\n            .documentName(&quot;artistas_test1&quot;)\n            .execute()\n            .path(&quot;artistas&quot;)\n            .entityList(Artista.class)\n            .hasSize(3);\n</code></pre>\n<p>This is my <code>artistas_test1.graphql</code></p>\n<pre><code>query {\n  artistas{\n      apellido\n  }\n}\n</code></pre>\n<p>The idea is to evaluate in the graphQlTester itself.</p>\n"}],"owner":{"account_id":3519490,"reputation":167,"user_id":2942156,"accept_rate":50,"display_name":"steinarey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677847155,"creation_date":1677840961,"question_id":75626164,"body_markdown":"I&#39;m using spring-boot-graphql and trying to mock out a service I have.\r\n\r\n```\r\n@Slf4j\r\n@Service\r\npublic class UserData extends BaseData {\r\n\r\n    ...\r\n\r\n    public Mono&lt;UserPage&gt; getUsers(UserContext context, NameFilter filter, Pageable pageable) {\r\n        var userTuple = filterByName(context, filter, pageable, User.class).as(trxOp::transactional);\r\n        return userTuple.flatMap(listPageInfoTuple -&gt; {\r\n            return Mono.just(new UserPage(listPageInfoTuple.x(), listPageInfoTuple.y()));\r\n        });\r\n    }\r\n}\r\n```\r\nIn my test I am doing:\r\n\r\n```\r\n@Slf4j\r\n@SpringBootTest\r\n@ActiveProfiles(&quot;local&quot;)\r\n@ExtendWith({SpringExtension.class})\r\n@ExtendWith(MockitoExtension.class)\r\n@AutoConfigureHttpGraphQlTester\r\npublic class UserTests {\r\n\r\n    @MockBean\r\n    private UserData userData;\r\n\r\n    @Test\r\n    @DisplayName(&quot;Get users&quot;)\r\n    public void testGetUsers() {\r\n        var clientBuilder =\r\n                WebTestClient.bindToServer()\r\n                        .baseUrl(&quot;http://localhost:8091/graphql&quot;);\r\n\r\n        HttpGraphQlTester graphQlTester = HttpGraphQlTester.builder(clientBuilder)\r\n                .headers(httpHeaders -&gt; httpHeaders.setBasicAuth(username, password))\r\n                .build();\r\n\r\n        var usersToReturn = List.of(\r\n                User.builder().name(&quot;Test User&quot;).build(),\r\n                User.builder().name(&quot;Test User 2&quot;).build()\r\n        );\r\n\r\n        var userPageToReturn = Flux.fromIterable(usersToReturn).collectList()\r\n                .flatMap(users -&gt; {\r\n                    var pageInfo = new PageInfo(1, 1, 1, 1, 1, true, true);\r\n                    return Mono.just(new UserPage(users, pageInfo));\r\n                });\r\n\r\n        given(userData.getUsers(any(), any(), any())).willReturn(userPageToReturn);\r\n\r\n        // top5users is a GraphQL request document.\r\n        var userPage = graphQlTester.documentName(&quot;top5users&quot;).execute()\r\n                .path(&quot;userPage&quot;)\r\n                .entity(UserPage.class)\r\n                .get();\r\n\r\n        var users = userPage.users();\r\n\r\n        assertThat(users).isNotNull();\r\n        assertThat(users.size()).isEqualTo(2);\r\n    }\r\n}\r\n```\r\nI have 5 users in the DB already and users includes all the actual DB users, not the given response. So it seems that I am not mocking the data service out. Looking at spring-boot-graphql examples don&#39;t seem to have what I need, or I haven&#39;t looked hard enough. Bit lost!","title":"Not able to mock out service in spring boot GraphQL","body":"<p>I'm using spring-boot-graphql and trying to mock out a service I have.</p>\n<pre><code>@Slf4j\n@Service\npublic class UserData extends BaseData {\n\n    ...\n\n    public Mono&lt;UserPage&gt; getUsers(UserContext context, NameFilter filter, Pageable pageable) {\n        var userTuple = filterByName(context, filter, pageable, User.class).as(trxOp::transactional);\n        return userTuple.flatMap(listPageInfoTuple -&gt; {\n            return Mono.just(new UserPage(listPageInfoTuple.x(), listPageInfoTuple.y()));\n        });\n    }\n}\n</code></pre>\n<p>In my test I am doing:</p>\n<pre><code>@Slf4j\n@SpringBootTest\n@ActiveProfiles(&quot;local&quot;)\n@ExtendWith({SpringExtension.class})\n@ExtendWith(MockitoExtension.class)\n@AutoConfigureHttpGraphQlTester\npublic class UserTests {\n\n    @MockBean\n    private UserData userData;\n\n    @Test\n    @DisplayName(&quot;Get users&quot;)\n    public void testGetUsers() {\n        var clientBuilder =\n                WebTestClient.bindToServer()\n                        .baseUrl(&quot;http://localhost:8091/graphql&quot;);\n\n        HttpGraphQlTester graphQlTester = HttpGraphQlTester.builder(clientBuilder)\n                .headers(httpHeaders -&gt; httpHeaders.setBasicAuth(username, password))\n                .build();\n\n        var usersToReturn = List.of(\n                User.builder().name(&quot;Test User&quot;).build(),\n                User.builder().name(&quot;Test User 2&quot;).build()\n        );\n\n        var userPageToReturn = Flux.fromIterable(usersToReturn).collectList()\n                .flatMap(users -&gt; {\n                    var pageInfo = new PageInfo(1, 1, 1, 1, 1, true, true);\n                    return Mono.just(new UserPage(users, pageInfo));\n                });\n\n        given(userData.getUsers(any(), any(), any())).willReturn(userPageToReturn);\n\n        // top5users is a GraphQL request document.\n        var userPage = graphQlTester.documentName(&quot;top5users&quot;).execute()\n                .path(&quot;userPage&quot;)\n                .entity(UserPage.class)\n                .get();\n\n        var users = userPage.users();\n\n        assertThat(users).isNotNull();\n        assertThat(users.size()).isEqualTo(2);\n    }\n}\n</code></pre>\n<p>I have 5 users in the DB already and users includes all the actual DB users, not the given response. So it seems that I am not mocking the data service out. Looking at spring-boot-graphql examples don't seem to have what I need, or I haven't looked hard enough. Bit lost!</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1540868894,"post_id":53056801,"comment_id":93012748,"body_markdown":"I looks like the project had some dependencies on libraries stored in other directories.  If those libraries aren&#39;t part of your repository, the best would probably to just download them yourself.  Google will help you find them.","body":"I looks like the project had some dependencies on libraries stored in other directories.  If those libraries aren&#39;t part of your repository, the best would probably to just download them yourself.  Google will help you find them."},{"owner":{"account_id":1918963,"reputation":14508,"user_id":1730895,"display_name":"Kingsley"},"score":0,"creation_date":1540869013,"post_id":53056801,"comment_id":93012770,"body_markdown":"@markspace - I found and downloaded them OK, but I don&#39;t know how to get NetBeans to use them.","body":"@markspace - I found and downloaded them OK, but I don&#39;t know how to get NetBeans to use them."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1540869207,"post_id":53056801,"comment_id":93012812,"body_markdown":"That&#39;s actually a good question since this is a legacy app.  The best way would be to start by inspecting the build.xml file (or whatever build system you&#39;re using) and find these references there.  Figure out what the build system expects then decide how best to fit them into the legacy app.  If you can, consult with coworkers about the best way to proceed.","body":"That&#39;s actually a good question since this is a legacy app.  The best way would be to start by inspecting the build.xml file (or whatever build system you&#39;re using) and find these references there.  Figure out what the build system expects then decide how best to fit them into the legacy app.  If you can, consult with coworkers about the best way to proceed."}],"answers":[{"tags":[],"owner":{"account_id":1918963,"reputation":14508,"user_id":1730895,"display_name":"Kingsley"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1541727294,"creation_date":1541727294,"answer_id":53218590,"question_id":53056801,"body_markdown":"The problem is resolved by configuring NetBeans Libraries under `[Tools]`-&gt;`[Libraries]`.\r\n\r\nTo resolve say the `${libs.ApacheCommonsCLI.classpath}` dependency, I added a library named &quot;ApacheCommonsCLI&quot;, then for that entry added the JAR &quot;commons-cli-1.2.jar&quot; via the button `[Add JAR/Folder...]`.\r\n\r\nThe dependency starting with the test `${libs.` is an indicator that it is looking for it here.","title":"Netbeans build fails &quot;Not copying library&quot; /path/to/${libs.log4j.classpath} , it can&#39;t be read","body":"<p>The problem is resolved by configuring NetBeans Libraries under <code>[Tools]</code>-><code>[Libraries]</code>.</p>\n\n<p>To resolve say the <code>${libs.ApacheCommonsCLI.classpath}</code> dependency, I added a library named \"ApacheCommonsCLI\", then for that entry added the JAR \"commons-cli-1.2.jar\" via the button <code>[Add JAR/Folder...]</code>.</p>\n\n<p>The dependency starting with the test <code>${libs.</code> is an indicator that it is looking for it here.</p>\n"},{"tags":[],"owner":{"account_id":27927102,"reputation":11,"user_id":21325966,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677847120,"creation_date":1677847120,"answer_id":75627179,"question_id":53056801,"body_markdown":"Right-clicking the libraries folder -&gt; choosing the properties window -&gt; deleting the libraries that i deleted before, becuase i moved all of them in one library, helped me. \r\n","title":"Netbeans build fails &quot;Not copying library&quot; /path/to/${libs.log4j.classpath} , it can&#39;t be read","body":"<p>Right-clicking the libraries folder -&gt; choosing the properties window -&gt; deleting the libraries that i deleted before, becuase i moved all of them in one library, helped me.</p>\n"}],"owner":{"account_id":1918963,"reputation":14508,"user_id":1730895,"display_name":"Kingsley"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2787,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53218590,"answer_count":2,"score":0,"last_activity_date":1677847120,"creation_date":1540868766,"question_id":53056801,"body_markdown":"I&#39;m using Netbeans IDE 8.2, trying to build a &quot;legacy application&quot; after some updates.\r\n\r\nThe compile is finishing ok, but then NetBeans is packaging up stuff in `dist/`, and encounters some missing library issues:\r\n\r\n    Copying 1 file to /path/to/Project/build\r\n    Not copying library /path/to/Project/${libs.log4j.classpath} , it can&#39;t be read.\r\n    Not copying library /path/to/Project/${libs.ApacheCommonsCLI.classpath} , it can&#39;t be read.\r\n    Not copying library /path/to/Project/${libs.BoneCP.classpath} , it can&#39;t be read.\r\n\r\nIt refused to copy some other libraries, but these had exact path in the error messages, so I could just put the .JARs where it wanted them.  I have already added some JARs to the source-tree under &quot;Libraries&quot;, and this helped the compile succeed. But it doesn&#39;t seem to use these for this operation.\r\n\r\nHow do I provide NetBeans these files?  Where does `${libs...` refer to?\r\n\r\nEDIT:  I found that text in a `subfolder/project.properties`:\r\n\r\n    libs.ApacheCommonsNet.classpath=../Apache/Commons/commons-net-1.4.1/commons-net-1.4.1.jar\r\n    ...\r\n    javac.classpath=\\\r\n        ${libs.ApacheCommonsNet.classpath}:\\\r\n        ${libs.log4j.classpath}:\\\r\n        ${libs.ApacheCommonsCLI.classpath}:\\\r\n        ${libs.MySQLDriver.classpath}:\\\r\n        ${libs.BoneCP.classpath}:\\\r\n        ...\r\n\r\nSo it&#39;s not complaining about `ApacheCommonsNet` because there is a hard-coded path further up in the properties.  Maybe I can add one for each missing library.\r\n","title":"Netbeans build fails &quot;Not copying library&quot; /path/to/${libs.log4j.classpath} , it can&#39;t be read","body":"<p>I'm using Netbeans IDE 8.2, trying to build a \"legacy application\" after some updates.</p>\n\n<p>The compile is finishing ok, but then NetBeans is packaging up stuff in <code>dist/</code>, and encounters some missing library issues:</p>\n\n<pre><code>Copying 1 file to /path/to/Project/build\nNot copying library /path/to/Project/${libs.log4j.classpath} , it can't be read.\nNot copying library /path/to/Project/${libs.ApacheCommonsCLI.classpath} , it can't be read.\nNot copying library /path/to/Project/${libs.BoneCP.classpath} , it can't be read.\n</code></pre>\n\n<p>It refused to copy some other libraries, but these had exact path in the error messages, so I could just put the .JARs where it wanted them.  I have already added some JARs to the source-tree under \"Libraries\", and this helped the compile succeed. But it doesn't seem to use these for this operation.</p>\n\n<p>How do I provide NetBeans these files?  Where does <code>${libs...</code> refer to?</p>\n\n<p>EDIT:  I found that text in a <code>subfolder/project.properties</code>:</p>\n\n<pre><code>libs.ApacheCommonsNet.classpath=../Apache/Commons/commons-net-1.4.1/commons-net-1.4.1.jar\n...\njavac.classpath=\\\n    ${libs.ApacheCommonsNet.classpath}:\\\n    ${libs.log4j.classpath}:\\\n    ${libs.ApacheCommonsCLI.classpath}:\\\n    ${libs.MySQLDriver.classpath}:\\\n    ${libs.BoneCP.classpath}:\\\n    ...\n</code></pre>\n\n<p>So it's not complaining about <code>ApacheCommonsNet</code> because there is a hard-coded path further up in the properties.  Maybe I can add one for each missing library.</p>\n"},{"tags":["java","jackson","jsonnode"],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677846686,"creation_date":1677846686,"answer_id":75627110,"question_id":75626418,"body_markdown":"You need to recursively merge the child nodes if they are both ObjectNodes:\r\n\r\n    public static void deepMerge(ObjectNode lhsNode, ObjectNode rhsNode) {\r\n        rhsNode.fields().forEachRemaining(entry -&gt; {\r\n            final String key = entry.getKey();\r\n            final JsonNode rhsChildNode = entry.getValue();\r\n            if (rhsChildNode.isObject()) {\r\n                final JsonNode lhsChildNode = lhsNode.get(key);\r\n                if (lhsChildNode != null &amp;&amp; lhsChildNode.isObject()) {\r\n                    deepMerge((ObjectNode)lhsChildNode, (ObjectNode)rhsChildNode);\r\n                } else {\r\n                    lhsNode.put(key, rhsChildNode);\r\n                }\r\n            } else {\r\n                lhsNode.put(key, rhsChildNode);\r\n            }\r\n        });\r\n    }\r\n\r\n    private static final String jsonA = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;segments\\&quot;: {\\n&quot; +\r\n            &quot;    \\&quot;A\\&quot;: {},\\n&quot; +\r\n            &quot;    \\&quot;B\\&quot;: {},\\n&quot; +\r\n            &quot;    \\&quot;C\\&quot;: {}\\n&quot; +\r\n            &quot;  },\\n&quot; +\r\n            &quot;  \\&quot;enabled\\&quot;: false,\\n&quot; +\r\n            &quot;  \\&quot;configStickyByClub\\&quot;: false,\\n&quot; +\r\n            &quot;  \\&quot;sinks\\&quot;: {}\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n    private static final String jsonB = &quot;{\\n&quot; +\r\n            &quot;  \\&quot;segments\\&quot;: {\\n&quot; +\r\n            &quot;    \\&quot;D\\&quot;: {},\\n&quot; +\r\n            &quot;    \\&quot;E\\&quot;: {},\\n&quot; +\r\n            &quot;    \\&quot;F\\&quot;: {}\\n&quot; +\r\n            &quot;  },\\n&quot; +\r\n            &quot;  \\&quot;enabled\\&quot;: false,\\n&quot; +\r\n            &quot;  \\&quot;configStickyByClub\\&quot;: false,\\n&quot; +\r\n            &quot;  \\&quot;sinks\\&quot;: {}\\n&quot; +\r\n            &quot;}&quot;;\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        final ObjectMapper om = new ObjectMapper();\r\n\r\n        final ObjectNode nodeA = (ObjectNode)om.readTree(new StringReader(jsonA));\r\n        final ObjectNode nodeB = (ObjectNode)om.readTree(new StringReader(jsonB));\r\n\r\n        deepMerge(nodeA, nodeB);\r\n\r\n        System.out.println(nodeA.toPrettyString());\r\n    }\r\n\r\nOutput:\r\n\r\n```JSON\r\n{\r\n  &quot;segments&quot; : {\r\n    &quot;A&quot; : { },\r\n    &quot;B&quot; : { },\r\n    &quot;C&quot; : { },\r\n    &quot;D&quot; : { },\r\n    &quot;E&quot; : { },\r\n    &quot;F&quot; : { }\r\n  },\r\n  &quot;enabled&quot; : false,\r\n  &quot;configStickyByClub&quot; : false,\r\n  &quot;sinks&quot; : { }\r\n}\r\n```","title":"Append values from one JsonNode to another JsonNode field Java","body":"<p>You need to recursively merge the child nodes if they are both ObjectNodes:</p>\n<pre><code>public static void deepMerge(ObjectNode lhsNode, ObjectNode rhsNode) {\n    rhsNode.fields().forEachRemaining(entry -&gt; {\n        final String key = entry.getKey();\n        final JsonNode rhsChildNode = entry.getValue();\n        if (rhsChildNode.isObject()) {\n            final JsonNode lhsChildNode = lhsNode.get(key);\n            if (lhsChildNode != null &amp;&amp; lhsChildNode.isObject()) {\n                deepMerge((ObjectNode)lhsChildNode, (ObjectNode)rhsChildNode);\n            } else {\n                lhsNode.put(key, rhsChildNode);\n            }\n        } else {\n            lhsNode.put(key, rhsChildNode);\n        }\n    });\n}\n\nprivate static final String jsonA = &quot;{\\n&quot; +\n        &quot;  \\&quot;segments\\&quot;: {\\n&quot; +\n        &quot;    \\&quot;A\\&quot;: {},\\n&quot; +\n        &quot;    \\&quot;B\\&quot;: {},\\n&quot; +\n        &quot;    \\&quot;C\\&quot;: {}\\n&quot; +\n        &quot;  },\\n&quot; +\n        &quot;  \\&quot;enabled\\&quot;: false,\\n&quot; +\n        &quot;  \\&quot;configStickyByClub\\&quot;: false,\\n&quot; +\n        &quot;  \\&quot;sinks\\&quot;: {}\\n&quot; +\n        &quot;}&quot;;\n\nprivate static final String jsonB = &quot;{\\n&quot; +\n        &quot;  \\&quot;segments\\&quot;: {\\n&quot; +\n        &quot;    \\&quot;D\\&quot;: {},\\n&quot; +\n        &quot;    \\&quot;E\\&quot;: {},\\n&quot; +\n        &quot;    \\&quot;F\\&quot;: {}\\n&quot; +\n        &quot;  },\\n&quot; +\n        &quot;  \\&quot;enabled\\&quot;: false,\\n&quot; +\n        &quot;  \\&quot;configStickyByClub\\&quot;: false,\\n&quot; +\n        &quot;  \\&quot;sinks\\&quot;: {}\\n&quot; +\n        &quot;}&quot;;\n\npublic static void main(String[] args) throws IOException {\n\n    final ObjectMapper om = new ObjectMapper();\n\n    final ObjectNode nodeA = (ObjectNode)om.readTree(new StringReader(jsonA));\n    final ObjectNode nodeB = (ObjectNode)om.readTree(new StringReader(jsonB));\n\n    deepMerge(nodeA, nodeB);\n\n    System.out.println(nodeA.toPrettyString());\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>{\n  &quot;segments&quot; : {\n    &quot;A&quot; : { },\n    &quot;B&quot; : { },\n    &quot;C&quot; : { },\n    &quot;D&quot; : { },\n    &quot;E&quot; : { },\n    &quot;F&quot; : { }\n  },\n  &quot;enabled&quot; : false,\n  &quot;configStickyByClub&quot; : false,\n  &quot;sinks&quot; : { }\n}\n</code></pre>\n"}],"owner":{"account_id":16214104,"reputation":481,"user_id":11707306,"display_name":"Maria1995"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677846686,"creation_date":1677842347,"question_id":75626418,"body_markdown":"I have two JsonNode objects, A and B, which both contain an identical field, &quot;segments&quot;. I need to take the content from JsonNode object A and append it to the content from B. I need both the values from A and B in the final object.\r\n\r\nMy code right now takes the right content from A, but it replaces everything from B. Can anyone help me with a solution? In the end, I need to obtain an object like C, as you can see below.\r\n\r\n```\r\npublic static JsonNode merge(JsonNode mainNode, JsonNode updateNode) {\r\n\r\n        JsonNode segmentedConfigs = updateNode.get(&quot;segments&quot;);\r\n        ((ObjectNode) mainNode).put(&quot;segments&quot;, segmentedConfigs);\r\n        return mainNode;\r\n    }\r\n```\r\nJsonNode A:\r\n```\r\n{\r\n  &quot;segments&quot;: {\r\n    &quot;A&quot;: {},\r\n    &quot;B&quot;: {},\r\n    &quot;C&quot;: {}\r\n  },\r\n  &quot;enabled&quot;: false,\r\n  &quot;configStickyByClub&quot;: false,\r\n  &quot;sinks&quot;: {}\r\n}\r\n```\r\nJsonNode B:\r\n```\r\n{\r\n  &quot;segments&quot;: {\r\n    &quot;D&quot;: {},\r\n    &quot;E&quot;: {},\r\n    &quot;F&quot;: {}\r\n  },\r\n  &quot;enabled&quot;: false,\r\n  &quot;configStickyByClub&quot;: false,\r\n  &quot;sinks&quot;: {}\r\n}\r\n```\r\n\r\nJsonNode C:\r\n```\r\n{\r\n  &quot;segments&quot;: {\r\n    &quot;A&quot;: {},\r\n    &quot;B&quot;: {},\r\n    &quot;C&quot;: {},\r\n    &quot;D&quot;: {},\r\n    &quot;E&quot;: {},\r\n    &quot;F&quot;: {}\r\n  },\r\n  &quot;enabled&quot;: false,\r\n  &quot;configStickyByClub&quot;: false,\r\n  &quot;sinks&quot;: {}\r\n}\r\n```","title":"Append values from one JsonNode to another JsonNode field Java","body":"<p>I have two JsonNode objects, A and B, which both contain an identical field, &quot;segments&quot;. I need to take the content from JsonNode object A and append it to the content from B. I need both the values from A and B in the final object.</p>\n<p>My code right now takes the right content from A, but it replaces everything from B. Can anyone help me with a solution? In the end, I need to obtain an object like C, as you can see below.</p>\n<pre><code>public static JsonNode merge(JsonNode mainNode, JsonNode updateNode) {\n\n        JsonNode segmentedConfigs = updateNode.get(&quot;segments&quot;);\n        ((ObjectNode) mainNode).put(&quot;segments&quot;, segmentedConfigs);\n        return mainNode;\n    }\n</code></pre>\n<p>JsonNode A:</p>\n<pre><code>{\n  &quot;segments&quot;: {\n    &quot;A&quot;: {},\n    &quot;B&quot;: {},\n    &quot;C&quot;: {}\n  },\n  &quot;enabled&quot;: false,\n  &quot;configStickyByClub&quot;: false,\n  &quot;sinks&quot;: {}\n}\n</code></pre>\n<p>JsonNode B:</p>\n<pre><code>{\n  &quot;segments&quot;: {\n    &quot;D&quot;: {},\n    &quot;E&quot;: {},\n    &quot;F&quot;: {}\n  },\n  &quot;enabled&quot;: false,\n  &quot;configStickyByClub&quot;: false,\n  &quot;sinks&quot;: {}\n}\n</code></pre>\n<p>JsonNode C:</p>\n<pre><code>{\n  &quot;segments&quot;: {\n    &quot;A&quot;: {},\n    &quot;B&quot;: {},\n    &quot;C&quot;: {},\n    &quot;D&quot;: {},\n    &quot;E&quot;: {},\n    &quot;F&quot;: {}\n  },\n  &quot;enabled&quot;: false,\n  &quot;configStickyByClub&quot;: false,\n  &quot;sinks&quot;: {}\n}\n</code></pre>\n"},{"tags":["java","mongodb","spring-boot","aggregation","mongotemplate"],"answers":[{"comments":[{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1677842624,"post_id":75625232,"comment_id":133421445,"body_markdown":"The `new Sort()` shows an error saying: `Sort has private access in org.springframework.data.domain.sort`. Also are you sure that it actually sorts before it limits? Thank you.","body":"The <code>new Sort()</code> shows an error saying: <code>Sort has private access in org.springframework.data.domain.sort</code>. Also are you sure that it actually sorts before it limits? Thank you."},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1677845573,"post_id":75625232,"comment_id":133422100,"body_markdown":"I figured it out. So first I switched the sort so it comes before limit, and I wrote it like this: `.with(Sort.by(Sort.Direction.DESC, &quot;priority&quot;))`. Them i just used `findOne` instead of `find`.","body":"I figured it out. So first I switched the sort so it comes before limit, and I wrote it like this: <code>.with(Sort.by(Sort.Direction.DESC, &quot;priority&quot;))</code>. Them i just used <code>findOne</code> instead of <code>find</code>."},{"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"score":1,"creation_date":1677846245,"post_id":75625232,"comment_id":133422270,"body_markdown":"Thanks for informing @yb91. I have made the necessary changes to the answer. I think the version differences between spring-data-mongodb might have caused them.","body":"Thanks for informing @yb91. I have made the necessary changes to the answer. I think the version differences between spring-data-mongodb might have caused them."},{"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"score":0,"creation_date":1677848125,"post_id":75625232,"comment_id":133422776,"body_markdown":"Yea, I think you&#39;re right. But thank you!","body":"Yea, I think you&#39;re right. But thank you!"}],"tags":[],"owner":{"account_id":17092302,"reputation":9084,"user_id":12368154,"display_name":"Charchit Kapoor"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677846175,"creation_date":1677835322,"answer_id":75625232,"question_id":75624398,"body_markdown":"You can use a query rather than aggregation, to get the max priority setting for a type. Try this:\r\n\r\n    Query query = new Query().addCriteria(Criteria.where(&quot;type&quot;).is(setting.getType()))\r\n                             .with(new Sort(Sort.Direction.DESC, &quot;priority&quot;))\r\n                             .limit(1);\r\n    Setting setting = mongoTemplate.findOne(query, Setting.class);\r\n    if (!ObjectUtils.isEmpty(setting)) {\r\n        baseConfig.setPriority(setting.getPriority() + 1);\r\n    } else {\r\n        baseConfig.setPriority(1);\r\n    }","title":"How do I ascribe the correct priority to new objects in Spring Boot?","body":"<p>You can use a query rather than aggregation, to get the max priority setting for a type. Try this:</p>\n<pre><code>Query query = new Query().addCriteria(Criteria.where(&quot;type&quot;).is(setting.getType()))\n                         .with(new Sort(Sort.Direction.DESC, &quot;priority&quot;))\n                         .limit(1);\nSetting setting = mongoTemplate.findOne(query, Setting.class);\nif (!ObjectUtils.isEmpty(setting)) {\n    baseConfig.setPriority(setting.getPriority() + 1);\n} else {\n    baseConfig.setPriority(1);\n}\n</code></pre>\n"}],"owner":{"account_id":13216928,"reputation":1467,"user_id":9545125,"display_name":"TheStranger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75625232,"answer_count":1,"score":0,"last_activity_date":1677846175,"creation_date":1677829562,"question_id":75624398,"body_markdown":"I have the following class in my Spring Boot application:\r\n\r\n    @Document(collection = &quot;setting&quot;)\r\n    public class Setting {\r\n        private @MongoId(FieldType.OBJECT_ID)\r\n        ObjectId id;\r\n        private String name;\r\n        private String type;\r\n        private Integer priority;\r\n    }\r\n\r\nI have a REST POST endpoint where I get a Setting object sent with name and type, but no priority, then I have to put it into my MongoDB. But I have to put it into the MongoDB with the correct priority.\r\n\r\nSo number 1 is highest priority, and priories are unique for each type, so can&#39;t have 2 settings with same priority within the same type. New settings get lowest priority, meaning if I have 3 settings prioritized from 1-3 then a new setting would get priority 4 and by extension if there are no settings then a new setting would get priority 1.\r\n\r\nThis is how I solve it right now:\r\n\r\n    Aggregation priorityAggregation = Aggregation.newAggregation(\r\n        Aggregation.match(where(&quot;type&quot;).is(setting.getType)))\r\n        Aggregation.group().max(&quot;priority&quot;).as(&quot;priority&quot;),\r\n        Aggregation.project(&quot;priority&quot;).andExclude(&quot;_id&quot;)\r\n    );\r\n\r\n    Map&lt;String, Integer&gt; maxPriority = mongo.aggregate(priorityAggregation, &quot;setting&quot;, HashMap.class).getUniqueMappedResult();\r\n\r\n    if (maxPriority != null &amp;&amp; maxPriority.containsKey(&quot;priority&quot;) &amp;&amp; maxPriority.get(&quot;priority&quot;) != null) {\r\n        baseConfig.setPriority(maxPriority.get(&quot;priority&quot;) + 1);\r\n    } else {\r\n        baseConfig.setPriority(1);\r\n    }\r\n\r\n    MongoTemplate.save(setting);\r\n\r\nThis does the job, but it doesn&#39;t look very nice. Are there any better way of doing this?","title":"How do I ascribe the correct priority to new objects in Spring Boot?","body":"<p>I have the following class in my Spring Boot application:</p>\n<pre><code>@Document(collection = &quot;setting&quot;)\npublic class Setting {\n    private @MongoId(FieldType.OBJECT_ID)\n    ObjectId id;\n    private String name;\n    private String type;\n    private Integer priority;\n}\n</code></pre>\n<p>I have a REST POST endpoint where I get a Setting object sent with name and type, but no priority, then I have to put it into my MongoDB. But I have to put it into the MongoDB with the correct priority.</p>\n<p>So number 1 is highest priority, and priories are unique for each type, so can't have 2 settings with same priority within the same type. New settings get lowest priority, meaning if I have 3 settings prioritized from 1-3 then a new setting would get priority 4 and by extension if there are no settings then a new setting would get priority 1.</p>\n<p>This is how I solve it right now:</p>\n<pre><code>Aggregation priorityAggregation = Aggregation.newAggregation(\n    Aggregation.match(where(&quot;type&quot;).is(setting.getType)))\n    Aggregation.group().max(&quot;priority&quot;).as(&quot;priority&quot;),\n    Aggregation.project(&quot;priority&quot;).andExclude(&quot;_id&quot;)\n);\n\nMap&lt;String, Integer&gt; maxPriority = mongo.aggregate(priorityAggregation, &quot;setting&quot;, HashMap.class).getUniqueMappedResult();\n\nif (maxPriority != null &amp;&amp; maxPriority.containsKey(&quot;priority&quot;) &amp;&amp; maxPriority.get(&quot;priority&quot;) != null) {\n    baseConfig.setPriority(maxPriority.get(&quot;priority&quot;) + 1);\n} else {\n    baseConfig.setPriority(1);\n}\n\nMongoTemplate.save(setting);\n</code></pre>\n<p>This does the job, but it doesn't look very nice. Are there any better way of doing this?</p>\n"},{"tags":["java","spring-boot","microservices","classpath","application.properties"],"owner":{"account_id":17105887,"reputation":147,"user_id":12377936,"display_name":"Shubham Parmar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677846090,"creation_date":1677846090,"question_id":75627012,"body_markdown":"I have two libraries in my class path, both of them have application.propeties.\r\nI need to use both properties but one of them is getting to classpath but other one is getting overridden.\r\nIs there a way I can use both the application.properties in my spring boot application? ","title":"How to use two application.properties from external jars","body":"<p>I have two libraries in my class path, both of them have application.propeties.\nI need to use both properties but one of them is getting to classpath but other one is getting overridden.\nIs there a way I can use both the application.properties in my spring boot application?</p>\n"},{"tags":["java","list","exception","switch-statement","contains"],"answers":[{"comments":[{"owner":{"account_id":26582212,"reputation":3,"user_id":20206699,"display_name":"user20206699"},"score":0,"creation_date":1677846249,"post_id":75626983,"comment_id":133422271,"body_markdown":"that seems to be a good input because one could make the map final and static, too... I will try it, thx","body":"that seems to be a good input because one could make the map final and static, too... I will try it, thx"}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677845890,"creation_date":1677845890,"answer_id":75626983,"question_id":75626559,"body_markdown":"I would suggest using a Map in this case.\r\n\r\nsomething like \r\n\r\n    Map&lt;Integer, Boolean&gt; statusChecker = new HashMap&lt;&gt;();\r\n    statusChecker.put(1, true);\r\n    statusChecker.put(2, true);\r\n    ... \r\n    statusChecker.put(5, false);\r\n    ...\r\n\r\nNow you can do the checking \r\n\r\n    if(!statusChecker.contains(status)) {\r\n       throw RuntimeException(&quot;invalid status&quot;);\r\n    } else {\r\n       return statusChecker.get(status);\r\n    } ","title":"How to improve switch case that returns true/false or throw an exception?","body":"<p>I would suggest using a Map in this case.</p>\n<p>something like</p>\n<pre><code>Map&lt;Integer, Boolean&gt; statusChecker = new HashMap&lt;&gt;();\nstatusChecker.put(1, true);\nstatusChecker.put(2, true);\n... \nstatusChecker.put(5, false);\n...\n</code></pre>\n<p>Now you can do the checking</p>\n<pre><code>if(!statusChecker.contains(status)) {\n   throw RuntimeException(&quot;invalid status&quot;);\n} else {\n   return statusChecker.get(status);\n} \n</code></pre>\n"},{"comments":[{"owner":{"account_id":26582212,"reputation":3,"user_id":20206699,"display_name":"user20206699"},"score":0,"creation_date":1677846281,"post_id":75627003,"comment_id":133422278,"body_markdown":"true, thx, but unfortunately java 11 at the moment :-)","body":"true, thx, but unfortunately java 11 at the moment :-)"}],"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677846033,"creation_date":1677846033,"answer_id":75627003,"question_id":75626559,"body_markdown":"There is nothing wrong with what you already have. But if you are using Java12 or higher you can make use of the switch expressions introduced in Java 12:\r\n\r\n    private boolean isBlahTrue(final BigDecimal status) {\r\n        return switch (status.intValue()){\r\n            case 1, 2, 3 -&gt; true;\r\n            case 5, 6, 7 -&gt; false;\r\n            default -&gt; throw new MyAppRuntimeException(&quot;Status unknown!&quot;);\r\n        };\r\n    }","title":"How to improve switch case that returns true/false or throw an exception?","body":"<p>There is nothing wrong with what you already have. But if you are using Java12 or higher you can make use of the switch expressions introduced in Java 12:</p>\n<pre><code>private boolean isBlahTrue(final BigDecimal status) {\n    return switch (status.intValue()){\n        case 1, 2, 3 -&gt; true;\n        case 5, 6, 7 -&gt; false;\n        default -&gt; throw new MyAppRuntimeException(&quot;Status unknown!&quot;);\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":26582212,"reputation":3,"user_id":20206699,"display_name":"user20206699"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75626983,"answer_count":2,"score":0,"last_activity_date":1677846033,"creation_date":1677843180,"question_id":75626559,"body_markdown":"Given the following code:\r\n\r\n\t\r\n```\r\nprivate boolean isBlahTrue(final BigDecimal status) {\r\n\r\n\t\tswitch (status.intValue()) {\r\n\r\n\t\t\tcase 1:\r\n\t\t\tcase 2:\r\n\t\t\tcase 3:\r\n\t\t\t\treturn true;\r\n\r\n\t\t\tcase 5:\r\n\t\t\tcase 6:\r\n\t\t\tcase 7:\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new MyAppRuntimeException(&quot;Status unknown!&quot;);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nMy question is: Is this good or bad practice? \r\n\r\nLogic is: \r\n```\r\n1, 2, 3  --&gt; true\r\n5, 6, 7  --&gt; false\r\n```\r\n\r\nBut anyway one could think about that a simple IF would do the stuff too, like \r\n```\r\nif (1,2,3) {true}, else {false}\r\n```\r\n. \r\n\r\nBut then I would not check if the status is e.g. 4 (which must lead to an exception).\r\n\r\nI tried some solutions, like contains, but the code doesn&#39;t improve.\r\n\r\nAny ideas that I could try?\r\n\r\n\r\n","title":"How to improve switch case that returns true/false or throw an exception?","body":"<p>Given the following code:</p>\n<pre><code>private boolean isBlahTrue(final BigDecimal status) {\n\n        switch (status.intValue()) {\n\n            case 1:\n            case 2:\n            case 3:\n                return true;\n\n            case 5:\n            case 6:\n            case 7:\n                return false;\n\n            default:\n                throw new MyAppRuntimeException(&quot;Status unknown!&quot;);\n        }\n    }\n</code></pre>\n<p>My question is: Is this good or bad practice?</p>\n<p>Logic is:</p>\n<pre><code>1, 2, 3  --&gt; true\n5, 6, 7  --&gt; false\n</code></pre>\n<p>But anyway one could think about that a simple IF would do the stuff too, like</p>\n<pre><code>if (1,2,3) {true}, else {false}\n</code></pre>\n<p>.</p>\n<p>But then I would not check if the status is e.g. 4 (which must lead to an exception).</p>\n<p>I tried some solutions, like contains, but the code doesn't improve.</p>\n<p>Any ideas that I could try?</p>\n"},{"tags":["java","microservices","object-storage","file-storage"],"owner":{"account_id":374940,"reputation":475,"user_id":725455,"accept_rate":51,"display_name":"user725455"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677845514,"creation_date":1677845514,"question_id":75626924,"body_markdown":"My application is an real time analysis tool run on **premise**. It is checking existence of a file, if it is there, a number of parallel analysis is started in microservice architecture. Each analysis produce a number of files to be stored in a storage system.Up to know, we work on file storage systems and we store each input and output files in hierchical structure. These file storage is accessible by Jboss applications and some distributed java applications. Files are growing over time. Now, we are about to review existing technology stack. I am comparing Object Storage and File Storage. Object storage is getting popular every day. But I still do not get any favor to replace File Storage with Object Storage. File storage has performance than Object Storage. In the meantime, we are clearing old analysis results by hand. I think this retention policy is not handled in file storage solutions. Retention policy in Object storage could be a benefit for us. Could you guide me to select a correct approach. We can also handle bot of them according to customer IT structure. ","title":"Storage Type ( File, Object ) for Distributed Real Time Software","body":"<p>My application is an real time analysis tool run on <strong>premise</strong>. It is checking existence of a file, if it is there, a number of parallel analysis is started in microservice architecture. Each analysis produce a number of files to be stored in a storage system.Up to know, we work on file storage systems and we store each input and output files in hierchical structure. These file storage is accessible by Jboss applications and some distributed java applications. Files are growing over time. Now, we are about to review existing technology stack. I am comparing Object Storage and File Storage. Object storage is getting popular every day. But I still do not get any favor to replace File Storage with Object Storage. File storage has performance than Object Storage. In the meantime, we are clearing old analysis results by hand. I think this retention policy is not handled in file storage solutions. Retention policy in Object storage could be a benefit for us. Could you guide me to select a correct approach. We can also handle bot of them according to customer IT structure.</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1677835157,"post_id":75625069,"comment_id":133419426,"body_markdown":"You did not share enough details to understand what you are trying to achieve, but from the description I guess this might help: https://stackoverflow.com/questions/75605755/spring-batch-how-to-handle-an-object-buffering-on-the-itemprocessors-level","body":"You did not share enough details to understand what you are trying to achieve, but from the description I guess this might help: <a href=\"https://stackoverflow.com/questions/75605755/spring-batch-how-to-handle-an-object-buffering-on-the-itemprocessors-level\" title=\"spring batch how to handle an object buffering on the itemprocessors level\">stackoverflow.com/questions/75605755/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677845262,"creation_date":1677845262,"answer_id":75626870,"question_id":75625069,"body_markdown":"&gt; I found processor can handle one by one not list\r\n\r\nItemProcessor class is only for one record and exactly the place where you will implement your processing of list elements. For example calculating something or enhancing with additional data.\r\n\r\nBut Spring Batch framework is for lists of such records. So don&#39;t worry - you are on the right path. Just read some more tutorials and docu about it, like here:\r\n[spring.io/batch][1]\r\n\r\n\r\n  [1]: https://spring.io/batch","title":"Spring batch process large date at one time","body":"<blockquote>\n<p>I found processor can handle one by one not list</p>\n</blockquote>\n<p>ItemProcessor class is only for one record and exactly the place where you will implement your processing of list elements. For example calculating something or enhancing with additional data.</p>\n<p>But Spring Batch framework is for lists of such records. So don't worry - you are on the right path. Just read some more tutorials and docu about it, like here:\n<a href=\"https://spring.io/batch\" rel=\"nofollow noreferrer\">spring.io/batch</a></p>\n"}],"owner":{"account_id":16435108,"reputation":21,"user_id":11872886,"display_name":"omar mohsen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677845262,"creation_date":1677834209,"question_id":75625069,"body_markdown":"We need to read list of data from database and after that process this list and after that send this list to third party\r\nWe need to send as list not one object how I can do that using spring batch I found processor can handle one by one not list ","title":"Spring batch process large date at one time","body":"<p>We need to read list of data from database and after that process this list and after that send this list to third party\nWe need to send as list not one object how I can do that using spring batch I found processor can handle one by one not list</p>\n"},{"tags":["java","oauth-2.0","azure-active-directory","microsoft-partnercenter-java"],"comments":[{"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"score":0,"creation_date":1678451056,"post_id":75565597,"comment_id":133539444,"body_markdown":"The ExecutionException on the line &quot;future.get()&quot; can occur if there is an error in the execution of the acquireToken method","body":"The ExecutionException on the line &quot;future.get()&quot; can occur if there is an error in the execution of the acquireToken method"},{"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"score":1,"creation_date":1678451441,"post_id":75565597,"comment_id":133539548,"body_markdown":"Unless the root cause is known, it won&#39;t help. I&#39;m pretty sure that the credentials passed are correct.","body":"Unless the root cause is known, it won&#39;t help. I&#39;m pretty sure that the credentials passed are correct."}],"owner":{"account_id":15521380,"reputation":151,"user_id":11197483,"display_name":"ab.it.gcp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677845252,"creation_date":1677330066,"question_id":75565597,"body_markdown":"I have cloned the partnerconsent project - https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault from GIT to my local Eclipse.\r\n\r\nI am getting an Execution exception on the line &quot;future.get()&quot; even though correct values are passed for authorization code, redirectUrl, clientId and clientSecret.\r\nPlease advise how to resolve this/root cause.\r\n\r\n\r\n      private AuthenticationResult getAccessToken(HttpServletRequest request, AuthorizationCode code)\r\n        throws Throwable\r\n    {\r\n        AuthenticationContext authContext; \r\n        AuthenticationResult authResult;\r\n        ExecutorService service = null;\r\n        Future&lt;AuthenticationResult&gt; future;\r\n\r\n        try\r\n        {\r\n            service =  Executors.newFixedThreadPool(1);\r\n\r\n            authContext = new AuthenticationContext(\r\n                MessageFormat.format(&quot;{0}/common&quot;, authority), \r\n                true, \r\n                service);\r\n\r\n            future = authContext.acquireTokenByAuthorizationCode(\r\n                code.getValue(),\r\n                new URI(redirectUrl),\r\n                new ClientCredential(\r\n                    clientId,\r\n                    clientSecret), \r\n                null); \r\n\r\n            authResult = future.get();\r\n        }\r\n        catch(ExecutionException ex)\r\n        {\r\n            throw ex.getCause();\r\n        }\r\n        ...\r\n\r\n        return authResult;\r\n    }\r\n    \r\nThe method acquireTokenByAuthorizationCode is present in AuthenticationContext class of com.microsoft.aad.adal4j package which is a library used in the project.\r\n\r\n    public Future&lt;AuthenticationResult&gt; acquireTokenByAuthorizationCode(\r\n            final String authorizationCode, final URI redirectUri,\r\n            final ClientCredential credential,\r\n            final AuthenticationCallback callback) {\r\n        this.validateAuthCodeRequestInput(authorizationCode, redirectUri,\r\n                credential, null);\r\n        return this.acquireTokenByAuthorizationCode(authorizationCode,\r\n                redirectUri, credential, null, callback);\r\n    }\r\n\r\nException stack trace\r\n\r\n    java.lang.ClassCastException: class java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader &#39;bootstrap&#39;)\r\n        at com.nimbusds.oauth2.sdk.util.URLUtils.serializeParameters(URLUtils.java:103)\r\n        at com.microsoft.aad.adal4j.AdalTokenRequest.toOAuthRequest(AdalTokenRequest.java:160)\r\n        at com.microsoft.aad.adal4j.AdalTokenRequest.executeOAuthRequestAndProcessResponse(AdalTokenRequest.java:86)\r\n        at com.microsoft.aad.adal4j.AuthenticationContext.acquireTokenCommon(AuthenticationContext.java:930)\r\n        at com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:70)\r\n        at com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:38)\r\n        at com.microsoft.aad.adal4j.AdalCallable.call(AdalCallable.java:47)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)","title":"Execution exception on getting value returned by acquireTokenByAuthorizationCode","body":"<p>I have cloned the partnerconsent project - <a href=\"https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault\" rel=\"nofollow noreferrer\">https://github.com/Microsoft/Partner-Center-Java-Samples/tree/master/secure-app-model/keyvault</a> from GIT to my local Eclipse.</p>\n<p>I am getting an Execution exception on the line &quot;future.get()&quot; even though correct values are passed for authorization code, redirectUrl, clientId and clientSecret.\nPlease advise how to resolve this/root cause.</p>\n<pre><code>  private AuthenticationResult getAccessToken(HttpServletRequest request, AuthorizationCode code)\n    throws Throwable\n{\n    AuthenticationContext authContext; \n    AuthenticationResult authResult;\n    ExecutorService service = null;\n    Future&lt;AuthenticationResult&gt; future;\n\n    try\n    {\n        service =  Executors.newFixedThreadPool(1);\n\n        authContext = new AuthenticationContext(\n            MessageFormat.format(&quot;{0}/common&quot;, authority), \n            true, \n            service);\n\n        future = authContext.acquireTokenByAuthorizationCode(\n            code.getValue(),\n            new URI(redirectUrl),\n            new ClientCredential(\n                clientId,\n                clientSecret), \n            null); \n\n        authResult = future.get();\n    }\n    catch(ExecutionException ex)\n    {\n        throw ex.getCause();\n    }\n    ...\n\n    return authResult;\n}\n</code></pre>\n<p>The method acquireTokenByAuthorizationCode is present in AuthenticationContext class of com.microsoft.aad.adal4j package which is a library used in the project.</p>\n<pre><code>public Future&lt;AuthenticationResult&gt; acquireTokenByAuthorizationCode(\n        final String authorizationCode, final URI redirectUri,\n        final ClientCredential credential,\n        final AuthenticationCallback callback) {\n    this.validateAuthCodeRequestInput(authorizationCode, redirectUri,\n            credential, null);\n    return this.acquireTokenByAuthorizationCode(authorizationCode,\n            redirectUri, credential, null, callback);\n}\n</code></pre>\n<p>Exception stack trace</p>\n<pre><code>java.lang.ClassCastException: class java.util.Collections$SingletonList cannot be cast to class java.lang.String (java.util.Collections$SingletonList and java.lang.String are in module java.base of loader 'bootstrap')\n    at com.nimbusds.oauth2.sdk.util.URLUtils.serializeParameters(URLUtils.java:103)\n    at com.microsoft.aad.adal4j.AdalTokenRequest.toOAuthRequest(AdalTokenRequest.java:160)\n    at com.microsoft.aad.adal4j.AdalTokenRequest.executeOAuthRequestAndProcessResponse(AdalTokenRequest.java:86)\n    at com.microsoft.aad.adal4j.AuthenticationContext.acquireTokenCommon(AuthenticationContext.java:930)\n    at com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:70)\n    at com.microsoft.aad.adal4j.AcquireTokenCallable.execute(AcquireTokenCallable.java:38)\n    at com.microsoft.aad.adal4j.AdalCallable.call(AdalCallable.java:47)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven","spring-resttemplate"],"owner":{"account_id":25989163,"reputation":37,"user_id":19701675,"display_name":"shiningStar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677845102,"creation_date":1676397294,"question_id":75451529,"body_markdown":"I am new to microservices and stuck somewhere.\r\nSuppose my microservice M1 is getting some response from another microservice M2 using Rest Template.\r\nand whenever I hit the URL of M1 in postman it works fine if M2 is also working well as M2 is giving perfect Response.\r\nand If some exception happened at M2 then That exception get reflected into Postman response but I want to handle this and I want that the exception I handled at M1 should reflet in response.\r\nLike i want user detail from restTemplate from M2 and i entered the wrong ID and i want this not to affect my M1.\r\nI am getting a response inside a response which i dont want like\r\n\r\n`HttpClientErrorException$NotFound: 404 : &quot;{&quot;timestamp&quot;:&quot;2023-02-14T17:14:18.343+00:00&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:&quot;Customer with given Id 900 is not found&quot;,&quot;path&quot;:&quot;/customer/900&quot;}&quot;] with root cause`","title":"I am calling a rest service from a microservice in spring-boot.Want to handle REST Template Exception","body":"<p>I am new to microservices and stuck somewhere.\nSuppose my microservice M1 is getting some response from another microservice M2 using Rest Template.\nand whenever I hit the URL of M1 in postman it works fine if M2 is also working well as M2 is giving perfect Response.\nand If some exception happened at M2 then That exception get reflected into Postman response but I want to handle this and I want that the exception I handled at M1 should reflet in response.\nLike i want user detail from restTemplate from M2 and i entered the wrong ID and i want this not to affect my M1.\nI am getting a response inside a response which i dont want like</p>\n<p><code>HttpClientErrorException$NotFound: 404 : &quot;{&quot;timestamp&quot;:&quot;2023-02-14T17:14:18.343+00:00&quot;,&quot;status&quot;:404,&quot;error&quot;:&quot;Not Found&quot;,&quot;message&quot;:&quot;Customer with given Id 900 is not found&quot;,&quot;path&quot;:&quot;/customer/900&quot;}&quot;] with root cause</code></p>\n"},{"tags":["java","reflection","sonarqube","composition"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677845578,"post_id":75626831,"comment_id":133422102,"body_markdown":"Wouldnt it make more sense to have a superclass `ShapeObject` with a `getBaseShape` method? You could then avoid having so many different objects attached to each instance (since only one is being instantiated anyway) and instead just say, for example, `ShapeOject shape = new TriangleObject();`. Each child could override `getBaseShape` with its own unique implementation.","body":"Wouldnt it make more sense to have a superclass <code>ShapeObject</code> with a <code>getBaseShape</code> method? You could then avoid having so many different objects attached to each instance (since only one is being instantiated anyway) and instead just say, for example, <code>ShapeOject shape = new TriangleObject();</code>. Each child could override <code>getBaseShape</code> with its own unique implementation."},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677846670,"post_id":75626831,"comment_id":133422393,"body_markdown":"If youre set on using reflection, you shouldnt need to iterate over methods. Its already designed in a way such that `getBaseShape` has the same method signature, so once youve found the non-null shape `object`, you can simply say `Method baseGet = object.getClass().getDeclaredMethod(getBaseShape);` and then invoke it on `object`.","body":"If youre set on using reflection, you shouldnt need to iterate over methods. Its already designed in a way such that <code>getBaseShape</code> has the same method signature, so once youve found the non-null shape <code>object</code>, you can simply say <code>Method baseGet = object.getClass().getDeclaredMethod(getBaseShape);</code> and then invoke it on <code>object</code>."},{"owner":{"account_id":3292653,"reputation":405,"user_id":2770598,"accept_rate":71,"display_name":"Wickerbough"},"score":0,"creation_date":1677848320,"post_id":75626831,"comment_id":133422837,"body_markdown":"@CalvinP. It certainly would - or my thought was at least an interface, since they all already implement the getBaseShape() method, but this is a soap service we don&#39;t own - we import the response classes from gradle and they&#39;re not editable.","body":"@CalvinP. It certainly would - or my thought was at least an interface, since they all already implement the getBaseShape() method, but this is a soap service we don&#39;t own - we import the response classes from gradle and they&#39;re not editable."},{"owner":{"account_id":3292653,"reputation":405,"user_id":2770598,"accept_rate":71,"display_name":"Wickerbough"},"score":0,"creation_date":1677848383,"post_id":75626831,"comment_id":133422859,"body_markdown":"@CalvinP. thanks for the reflection tip! I&#39;m not married to it, but I&#39;m struggling to think of alternatives. Will let you know.","body":"@CalvinP. thanks for the reflection tip! I&#39;m not married to it, but I&#39;m struggling to think of alternatives. Will let you know."}],"owner":{"account_id":3292653,"reputation":405,"user_id":2770598,"accept_rate":71,"display_name":"Wickerbough"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677845022,"creation_date":1677845022,"question_id":75626831,"body_markdown":"I&#39;m trying to map a response object from a rest call in our sprint java application. As this is on my work computer I&#39;ll simplify and rename the issue:\r\n\r\nI get back a rest object containing plenty of already-mapped fields and a ShapeSelect object.\r\nThe ShapeSelect object contains many kinds of specific shape objects that do not inherit from a common class, IE:\r\n```\r\nTriangleObject t;\r\nSquareObject s;\r\nPentagonObject p;\r\n```\r\nand so forth - in total about 25 such objects. Importantly, for each response object only one of these shape objects will be instantiated - the rest will be null.\r\n\r\nEach of these specific shapes have a child element of the same class: BaseShape, which contains the fields and methods I need to map. Ex:\r\n```\r\nBaseShape base = response.getShapeSelect.getTriangleObject().getBaseShape();\r\n```\r\n\r\nSo: I need to identify the ShapeSelect element that isn&#39;t null and grab the getBaseShape from that element 1) without using a long series of if statements and 2) in a way that our sonarQube scanner won&#39;t complain about.\r\n\r\nMy current plan is to use reflect to iterate across the fields of ShapeSelect until I find the non-null shape, then iterate over the methods looking for a method name that matches getBaseShape... I will report back on this, but I&#39;ve been informed that it will probably run afoul of sonarQube. and I&#39;m struggling to think of another way to accomplish this.","title":"In java, can I compare child-of-child elements that share a class if their parent elements don&#39;t share a class or superclass?","body":"<p>I'm trying to map a response object from a rest call in our sprint java application. As this is on my work computer I'll simplify and rename the issue:</p>\n<p>I get back a rest object containing plenty of already-mapped fields and a ShapeSelect object.\nThe ShapeSelect object contains many kinds of specific shape objects that do not inherit from a common class, IE:</p>\n<pre><code>TriangleObject t;\nSquareObject s;\nPentagonObject p;\n</code></pre>\n<p>and so forth - in total about 25 such objects. Importantly, for each response object only one of these shape objects will be instantiated - the rest will be null.</p>\n<p>Each of these specific shapes have a child element of the same class: BaseShape, which contains the fields and methods I need to map. Ex:</p>\n<pre><code>BaseShape base = response.getShapeSelect.getTriangleObject().getBaseShape();\n</code></pre>\n<p>So: I need to identify the ShapeSelect element that isn't null and grab the getBaseShape from that element 1) without using a long series of if statements and 2) in a way that our sonarQube scanner won't complain about.</p>\n<p>My current plan is to use reflect to iterate across the fields of ShapeSelect until I find the non-null shape, then iterate over the methods looking for a method name that matches getBaseShape... I will report back on this, but I've been informed that it will probably run afoul of sonarQube. and I'm struggling to think of another way to accomplish this.</p>\n"},{"tags":["java","algorithm","binary-tree"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677839588,"post_id":75625745,"comment_id":133420592,"body_markdown":"I didnt understand how to interpret your test input line as a tree.","body":"I didnt understand how to interpret your test input line as a tree."},{"owner":{"account_id":26297161,"reputation":75,"user_id":19963199,"display_name":"Vivek"},"score":1,"creation_date":1677839765,"post_id":75625745,"comment_id":133420645,"body_markdown":"@OleV.V. So if the testcase is `746 362 98 1519`, then `746` is the root node, `362` and `98` will be it&#39;s left and right child and `1519` is the left child of `362`.  Testcases are written in a level order traversal way for the tree.","body":"@OleV.V. So if the testcase is <code>746 362 98 1519</code>, then <code>746</code> is the root node, <code>362</code> and <code>98</code> will be it&#39;s left and right child and <code>1519</code> is the left child of <code>362</code>.  Testcases are written in a level order traversal way for the tree."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677839899,"post_id":75625745,"comment_id":133420689,"body_markdown":"Thanks, got it. You may want to supply the code where you build the tree for anyone here who might have the time to run your method, for a complete and reproducible example (havent got the time myself).","body":"Thanks, got it. You may want to supply the code where you build the tree for anyone here who might have the time to run your method, for a complete and reproducible example (havent got the time myself)."},{"owner":{"account_id":26297161,"reputation":75,"user_id":19963199,"display_name":"Vivek"},"score":1,"creation_date":1677840423,"post_id":75625745,"comment_id":133420838,"body_markdown":"@OleV.V. Added the reproducible link at the end.","body":"@OleV.V. Added the reproducible link at the end."},{"owner":{"account_id":26297161,"reputation":75,"user_id":19963199,"display_name":"Vivek"},"score":0,"creation_date":1683705521,"post_id":75625745,"comment_id":134405858,"body_markdown":"Despite including everything, people have problems and close this. Very strange!!","body":"Despite including everything, people have problems and close this. Very strange!!"}],"answers":[{"comments":[{"owner":{"account_id":26297161,"reputation":75,"user_id":19963199,"display_name":"Vivek"},"score":1,"creation_date":1677845944,"post_id":75626692,"comment_id":133422192,"body_markdown":"Thanks a lot. I was doing `left + right` whereas just one kid can take care of it&#39;s parent as well. The proposed algorithm is genius. I do appreciate the property of white to get itself marked if there is no parent above it. Difficult to come up with in a limited time. +1.","body":"Thanks a lot. I was doing <code>left + right</code> whereas just one kid can take care of it&#39;s parent as well. The proposed algorithm is genius. I do appreciate the property of white to get itself marked if there is no parent above it. Difficult to come up with in a limited time. +1."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677844011,"creation_date":1677844011,"answer_id":75626692,"question_id":75625745,"body_markdown":"Here is a smaller example tree for which your code returns the wrong result:\r\n\r\n          1\r\n         / \\\r\n        2   3\r\n       /     \\\r\n      4       7\r\n     /  \r\n    8\r\n   \r\nThe optimal solution is 2 (nodes 4 and 3), but your code returns 3 (implying that it includes the root). When your code comes back from the recursive calls made at the root, all nodes (except the root) will have a value of 1 in `map`. The return values of the recursive calls are both 1. \r\n\r\nBut then the algorithm looks at the grandchildren of the root and sees two nodes, counting for 2. It includes the root node (`sum2 = 1`) and so arrives at 3. But again, this is wrong, because the node 3 can take care of the right subtree **including** the root.\r\n\r\nSo you need a different algorithm.\r\n\r\n### Proposed algorithm\r\n\r\nYou can use states for each node and drop the Map. We could for instance use three colors for that (white, black, grey). The meaning of these colors is:\r\n\r\n* Black: this node must be marked (it represents a house with a vaccine kit)\r\n* Grey: this node has a child that is marked and does not need to be marked itself\r\n* White: any other node. This is a node that must be covered by a marked parent, or must itself be marked (when it has no parent)\r\n\r\nHere is how to assign those colors in a post order traversal:\r\n\r\n* Consider null as Grey.\r\n* White: the node has only grey children. (The leaves of the tree are all in this case).\r\n* Black: the node has at least one white child.\r\n* Grey: any other node\r\n\r\nBlack nodes count towards the result (they represent houses with vaccine kits).\r\n\r\nIf the root happens to be white, it *also* counts towards the result. Other white nodes are covered by their black parents, but as a root has no parent, it is not covered when it is white.\r\n\r\nHere is an implementation of that idea:\r\n\r\n```\r\nclass Solution{\r\n    static final int WHITE = 0;\r\n    static final int GREY = 1;\r\n    static final int BLACK = 2;\r\n    \r\n    static int result;\r\n    \r\n    public static int supplyVaccine(Node root){\r\n        result = 0; // dfs will update this counter as a side effect.\r\n        return (dfs(root) == WHITE ? 1 : 0) + result;\r\n    }\r\n    \r\n    private static int dfs(Node root){\r\n        if (root == null) return GREY;\r\n        int left = dfs(root.left);\r\n        int right = dfs(root.right);\r\n        // Apply rules, and return color assigned to root\r\n        if (left == GREY &amp;&amp; right == GREY) return WHITE;\r\n        if (left != WHITE &amp;&amp; right != WHITE) return GREY;\r\n        result++;\r\n        return BLACK;\r\n    }\r\n}\r\n```","title":"Binary tree challenge - &quot;Corona Vaccine&quot; - giving incorrect answer for a testcase","body":"<p>Here is a smaller example tree for which your code returns the wrong result:</p>\n<pre><code>      1\n     / \\\n    2   3\n   /     \\\n  4       7\n /  \n8\n</code></pre>\n<p>The optimal solution is 2 (nodes 4 and 3), but your code returns 3 (implying that it includes the root). When your code comes back from the recursive calls made at the root, all nodes (except the root) will have a value of 1 in <code>map</code>. The return values of the recursive calls are both 1.</p>\n<p>But then the algorithm looks at the grandchildren of the root and sees two nodes, counting for 2. It includes the root node (<code>sum2 = 1</code>) and so arrives at 3. But again, this is wrong, because the node 3 can take care of the right subtree <strong>including</strong> the root.</p>\n<p>So you need a different algorithm.</p>\n<h3>Proposed algorithm</h3>\n<p>You can use states for each node and drop the Map. We could for instance use three colors for that (white, black, grey). The meaning of these colors is:</p>\n<ul>\n<li>Black: this node must be marked (it represents a house with a vaccine kit)</li>\n<li>Grey: this node has a child that is marked and does not need to be marked itself</li>\n<li>White: any other node. This is a node that must be covered by a marked parent, or must itself be marked (when it has no parent)</li>\n</ul>\n<p>Here is how to assign those colors in a post order traversal:</p>\n<ul>\n<li>Consider null as Grey.</li>\n<li>White: the node has only grey children. (The leaves of the tree are all in this case).</li>\n<li>Black: the node has at least one white child.</li>\n<li>Grey: any other node</li>\n</ul>\n<p>Black nodes count towards the result (they represent houses with vaccine kits).</p>\n<p>If the root happens to be white, it <em>also</em> counts towards the result. Other white nodes are covered by their black parents, but as a root has no parent, it is not covered when it is white.</p>\n<p>Here is an implementation of that idea:</p>\n<pre><code>class Solution{\n    static final int WHITE = 0;\n    static final int GREY = 1;\n    static final int BLACK = 2;\n    \n    static int result;\n    \n    public static int supplyVaccine(Node root){\n        result = 0; // dfs will update this counter as a side effect.\n        return (dfs(root) == WHITE ? 1 : 0) + result;\n    }\n    \n    private static int dfs(Node root){\n        if (root == null) return GREY;\n        int left = dfs(root.left);\n        int right = dfs(root.right);\n        // Apply rules, and return color assigned to root\n        if (left == GREY &amp;&amp; right == GREY) return WHITE;\n        if (left != WHITE &amp;&amp; right != WHITE) return GREY;\n        result++;\n        return BLACK;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26297161,"reputation":75,"user_id":19963199,"display_name":"Vivek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1677876569,"accepted_answer_id":75626692,"answer_count":1,"score":1,"last_activity_date":1677844892,"creation_date":1677838454,"question_id":75625745,"body_markdown":"I am trying to solve the GeeksForGeeks challenge [&quot;Corona Vaccine&quot;](https://practice.geeksforgeeks.org/problems/d1afdbd3d49e4e7e6f9d738606cd592f63e6b0f0/1), and it gives me wrong answer for a testcase mentioned below:\r\n\r\n&gt; **Challenge:**\r\n&gt; \r\n&gt; Geek has developed an effective vaccine for Corona virus and he wants each of the N houses in Geek Land to have access to it. Given a binary tree where each node represents a house in Geek Land, find the minimum number of houses that should be supplied with the vaccine kit if one vaccine kit is sufficient for that house, its parent house and it&#39;s immediate child nodes.  \r\n&gt; \r\n&gt; **Example:**\r\n&gt; \r\n&gt;         1\r\n&gt;        / \\\r\n&gt;       2   3 \r\n&gt;            \\\r\n&gt;             4\r\n&gt;              \\\r\n&gt;               5\r\n&gt;                \\\r\n&gt;                 6\r\n&gt;\r\n&gt; **Output:** \r\n&gt; \r\n&gt;     2\r\n&gt; \r\n&gt; **Explanation:**\r\n&gt;\r\n&gt; The vaccine kits should be supplied to house numbers 1 and 5. \r\n\r\n\r\n### My code:\r\n\r\n    class Solution{\r\n        public static int supplyVaccine(Node root){\r\n            Map&lt;Node,Integer&gt; map = new HashMap&lt;&gt;();\r\n            dfs(root, map);\r\n            return map.get(root);\r\n        }\r\n        \r\n        private static int dfs(Node root, Map&lt;Node, Integer&gt; map){\r\n            if(root == null) return 0;\r\n            if(root.left == null &amp;&amp; root.right == null){\r\n                map.put(root, 1);\r\n                return 1;\r\n            }\r\n            int left = dfs(root.left, map);\r\n            int right = dfs(root.right, map);\r\n            int sum1 = left + right;\r\n            int sum2 = 1;\r\n            if(root.left != null){\r\n                if(root.left.left != null){\r\n                    sum2 += map.get(root.left.left);\r\n                }\r\n                \r\n                if(root.left.right != null){\r\n                    sum2 += map.get(root.left.right);\r\n                }\r\n            }\r\n            \r\n            if(root.right != null){\r\n                if(root.right.left != null){\r\n                    sum2 += map.get(root.right.left);\r\n                }\r\n                \r\n                if(root.right.right != null){\r\n                    sum2 += map.get(root.right.right);\r\n                }\r\n            }\r\n            \r\n            map.put(root, Math.min(sum1, sum2));\r\n            \r\n            return sum2;\r\n        }\r\n    }\r\n\r\n\r\n**Brief about my approach:**\r\n\r\n* So, as in the question it states, if a node has the vaccine, it can give it to parent, itself and it&#39;s kids.\r\n\r\n* When we are on a node, taken minimum of (current node + grandchildren, current left kid + current right kid).\r\n\r\n* I am using a map to remember what value was stored for which node. \r\n\r\n**Testcase where my code errors out:**\r\n\r\n    746 362 98 1519 1443 1811 90 825 1355 1199 1393 355 1061 1473 687 1905 32 266 1337 1218 842 712 1221 1012 590 775 1270 1162 780 1335 1493 723 321 1479 485 873 1218 1190 290 792 128 834 591 115 493 657 670 1757 130 1951 373 1925 1606 94 1384 509 945 248 1130 493 940 942 1214 746 567 948 1436 774 827 893 1022 1828 1144 1867 451 84 1925 1546 951 1498 1382 840 1672 781 51 1201 1304 1167 1052 509 1768 1034 1025 1004 509 927 195 741 321 1547 592 1956 1841 785 202 990 16 1357 798 660 609 319 30 1658 1276 60 1647 1620 220 269 1259 629 963 1116 805 1337 1329 100 1495 1225 1861 641 1247 1908 262 1362 219 1471 772 1134 1265 883 180 1386 294 1132 592 828 678 1 1252 1529 1952 239 1058 1627 72 419 869 515 1175 1366 783 870 543 1453 537 732 526 971 1579 867 962 1662 445 319 132 248 1625 1581 179 94 1394 833 1071 756 329 1155 1196 1369 1653 730 1148 766 29 592 747 1027 1867 1287 125 1466 1513 60 1062 1740 1821 247 1361 140 701 794 313 87 1842 1266 600 1058 1036 1478 1061 691 441 1484 325 199 1716 908 1274 1821 815 1113 166 169 1405 1631 1180 942 1272 1612 1560 1518 497 1197 100 1758 1324 1799 1329 69 1879 1938 852 1466 1534 757 1584 607 1943 1448 600 1762 1039 1633 1228 1900 429 433 1866 1307 267 219 254 230 396 788 1501 648 537 1101 681 1051 548 860 931 1050 237 1453 1608 1547 422 1600 1611 315 195 N 390 1143 955 824 479 80 1176 1136 164 1861 390 1243 1077 56 1784 934 206 1273 1811 685 1789 1092 313 1361 273 124 446 1748 1170 128 277 459 720 858 749 159 984 1102 883 1641 1457 500 1035 1632 950 75 1945 1391 1146 1703 1792 1951 883 458 545 278 970 431 1221 533 1424 591 1891 50 223 1118 390 1531 239 591 1354 118 411 1954 1169 1307 218 966 1708 1160 1775 1803 1544 74 848 1723 1174 1799 255 1814 1407 508 1356 1142 1494 280 1771 1950 1119 1909 1163 1029 1877 876 661 1686 1910 1683 161 1648 2 1653 1909 1909 732 1193 765 946 1553 579 198 796 163 1367 1244 1549 1321 1339 994 470 1270 1573 818 1064 1227 1857 1262 1667 164 192 1807 213 148 975 857 1900 612 1917 1545 939 224 45 1490 798 937 805 286 1133 450 44 1166 989 749 1260 866 400 1037 554 1568 886 1908 1135 1229 1078 706 1918 1736 1095 1550 287 382 1952 1264 409 1406 1021 206 1417 1155 1267 978 1451 185 1705 1084 913 1883 1347 959 262 682 538 328 1541 295 581 152 1298 896 1634 1682 346 875 1252 1292 1210 1582 449 1113 217 1512 937 288 928 1122 1066 1227 1318 117 1025 1478 619 1481 378 24 1237 1113 1202 712 532 1492 221 660 1669 737 1758 508 603 1413 1600 1115 97 1162 1428 1917 512 621 863 1845 1627 1377 259 825 441 940 1686 1272 1634 1187 746 1237 659 1582 843 1874 2 1038 1602 1064 984 1003 355 625 275 877 1098 1625 110 925 441 1847 1474 709 894 790 N 489 1796 1534 1336 1788 176 1872 1043 438 1870 501 722 707 1885 1612 583 168 1771 1101 74 718 1299 489 570 273 147 564 1869 519 1020 1884 1512 235 1263 927 579 1337 392 1159 945 825 1153 924 1211 569 1583 495 1943 1809 199 1522 142 410 963 749 150 424 767 434 1603 64 1134 94 1915 390 1822 1852 493 1597 854 1237 650 444 877 1292 840 602 1787 610 1076 5 1263 1797 274 579 789 1743 1836 1789 895 166 534 260 850 800 1655 957 293 393 1425 1023 1823 574 1233 504 876 374 980 710 233 1259 1855 1143 1222 700 592 800 179 1006 32 210 971 1261 1084 3 317 1601 1853 836 1424 1008 959 313 1870 226 781 1812 1515 1850 781 788 853 635 453 1856 672 1402 1474 1784 307 628 401 1193 1620 416 201 1440 1682 1420 1348 812 116 389 611 287 280 1450 1936 834 654 130 959 1024 564 1291 1144 45 212 1130 1760 838 1057 730 833 458 246 938 1021 1285 1634 713 1493 1264 1049 1634 476 1640 241 1246 893 1707 1543 323 1842 516 1837 622 1814 274 192 752 471 789 763 805 1867 1049 165 647 48 565 932 274 1758 1487 1494 1027 1288 723 1867 269 1765 1797 952 289 821 1469 709 1249 1409 825 1219 596 1088 1374 965 150 116 506 289 413 264 719 76 1363 1466 22 1093 1450 741 624 341 621 286 649 1473 1777 400 117 1588 1131 1265 444 816 553 1670 1423 59 12 944 412 1312 86 420 220 1058 354 1231 653 485 695 309 1480 1481 1648 N 1924 1607 1471 107 1777 88 1110 389 1806 1355 606 426 948 300 175 247 857 1436 662 1214 1320 751 1071 353 1247 35 613 496 1880 1889 40 1105 747 1133 32 1214 1213 1515 1438 565 376 244 486 557 253 1275 1472 683 43 1236 721 1478 139 1318 559 1186 514 113\r\n\r\n**My output:**\r\n\r\n272\r\n\r\n**Expected Output:**\r\n\r\n271\r\n\r\n**Note:** Testcases are made in a level order traversal way for the tree.\r\n\r\n**Minimum reproducible example:** https://ideone.com/WJJfd5","title":"Binary tree challenge - &quot;Corona Vaccine&quot; - giving incorrect answer for a testcase","body":"<p>I am trying to solve the GeeksForGeeks challenge <a href=\"https://practice.geeksforgeeks.org/problems/d1afdbd3d49e4e7e6f9d738606cd592f63e6b0f0/1\" rel=\"nofollow noreferrer\">&quot;Corona Vaccine&quot;</a>, and it gives me wrong answer for a testcase mentioned below:</p>\n<blockquote>\n<p><strong>Challenge:</strong></p>\n<p>Geek has developed an effective vaccine for Corona virus and he wants each of the N houses in Geek Land to have access to it. Given a binary tree where each node represents a house in Geek Land, find the minimum number of houses that should be supplied with the vaccine kit if one vaccine kit is sufficient for that house, its parent house and it's immediate child nodes.</p>\n<p><strong>Example:</strong></p>\n<pre><code>    1\n   / \\\n  2   3 \n       \\\n        4\n         \\\n          5\n           \\\n            6\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>2\n</code></pre>\n<p><strong>Explanation:</strong></p>\n<p>The vaccine kits should be supplied to house numbers 1 and 5.</p>\n</blockquote>\n<h3>My code:</h3>\n<pre><code>class Solution{\n    public static int supplyVaccine(Node root){\n        Map&lt;Node,Integer&gt; map = new HashMap&lt;&gt;();\n        dfs(root, map);\n        return map.get(root);\n    }\n    \n    private static int dfs(Node root, Map&lt;Node, Integer&gt; map){\n        if(root == null) return 0;\n        if(root.left == null &amp;&amp; root.right == null){\n            map.put(root, 1);\n            return 1;\n        }\n        int left = dfs(root.left, map);\n        int right = dfs(root.right, map);\n        int sum1 = left + right;\n        int sum2 = 1;\n        if(root.left != null){\n            if(root.left.left != null){\n                sum2 += map.get(root.left.left);\n            }\n            \n            if(root.left.right != null){\n                sum2 += map.get(root.left.right);\n            }\n        }\n        \n        if(root.right != null){\n            if(root.right.left != null){\n                sum2 += map.get(root.right.left);\n            }\n            \n            if(root.right.right != null){\n                sum2 += map.get(root.right.right);\n            }\n        }\n        \n        map.put(root, Math.min(sum1, sum2));\n        \n        return sum2;\n    }\n}\n</code></pre>\n<p><strong>Brief about my approach:</strong></p>\n<ul>\n<li><p>So, as in the question it states, if a node has the vaccine, it can give it to parent, itself and it's kids.</p>\n</li>\n<li><p>When we are on a node, taken minimum of (current node + grandchildren, current left kid + current right kid).</p>\n</li>\n<li><p>I am using a map to remember what value was stored for which node.</p>\n</li>\n</ul>\n<p><strong>Testcase where my code errors out:</strong></p>\n<pre><code>746 362 98 1519 1443 1811 90 825 1355 1199 1393 355 1061 1473 687 1905 32 266 1337 1218 842 712 1221 1012 590 775 1270 1162 780 1335 1493 723 321 1479 485 873 1218 1190 290 792 128 834 591 115 493 657 670 1757 130 1951 373 1925 1606 94 1384 509 945 248 1130 493 940 942 1214 746 567 948 1436 774 827 893 1022 1828 1144 1867 451 84 1925 1546 951 1498 1382 840 1672 781 51 1201 1304 1167 1052 509 1768 1034 1025 1004 509 927 195 741 321 1547 592 1956 1841 785 202 990 16 1357 798 660 609 319 30 1658 1276 60 1647 1620 220 269 1259 629 963 1116 805 1337 1329 100 1495 1225 1861 641 1247 1908 262 1362 219 1471 772 1134 1265 883 180 1386 294 1132 592 828 678 1 1252 1529 1952 239 1058 1627 72 419 869 515 1175 1366 783 870 543 1453 537 732 526 971 1579 867 962 1662 445 319 132 248 1625 1581 179 94 1394 833 1071 756 329 1155 1196 1369 1653 730 1148 766 29 592 747 1027 1867 1287 125 1466 1513 60 1062 1740 1821 247 1361 140 701 794 313 87 1842 1266 600 1058 1036 1478 1061 691 441 1484 325 199 1716 908 1274 1821 815 1113 166 169 1405 1631 1180 942 1272 1612 1560 1518 497 1197 100 1758 1324 1799 1329 69 1879 1938 852 1466 1534 757 1584 607 1943 1448 600 1762 1039 1633 1228 1900 429 433 1866 1307 267 219 254 230 396 788 1501 648 537 1101 681 1051 548 860 931 1050 237 1453 1608 1547 422 1600 1611 315 195 N 390 1143 955 824 479 80 1176 1136 164 1861 390 1243 1077 56 1784 934 206 1273 1811 685 1789 1092 313 1361 273 124 446 1748 1170 128 277 459 720 858 749 159 984 1102 883 1641 1457 500 1035 1632 950 75 1945 1391 1146 1703 1792 1951 883 458 545 278 970 431 1221 533 1424 591 1891 50 223 1118 390 1531 239 591 1354 118 411 1954 1169 1307 218 966 1708 1160 1775 1803 1544 74 848 1723 1174 1799 255 1814 1407 508 1356 1142 1494 280 1771 1950 1119 1909 1163 1029 1877 876 661 1686 1910 1683 161 1648 2 1653 1909 1909 732 1193 765 946 1553 579 198 796 163 1367 1244 1549 1321 1339 994 470 1270 1573 818 1064 1227 1857 1262 1667 164 192 1807 213 148 975 857 1900 612 1917 1545 939 224 45 1490 798 937 805 286 1133 450 44 1166 989 749 1260 866 400 1037 554 1568 886 1908 1135 1229 1078 706 1918 1736 1095 1550 287 382 1952 1264 409 1406 1021 206 1417 1155 1267 978 1451 185 1705 1084 913 1883 1347 959 262 682 538 328 1541 295 581 152 1298 896 1634 1682 346 875 1252 1292 1210 1582 449 1113 217 1512 937 288 928 1122 1066 1227 1318 117 1025 1478 619 1481 378 24 1237 1113 1202 712 532 1492 221 660 1669 737 1758 508 603 1413 1600 1115 97 1162 1428 1917 512 621 863 1845 1627 1377 259 825 441 940 1686 1272 1634 1187 746 1237 659 1582 843 1874 2 1038 1602 1064 984 1003 355 625 275 877 1098 1625 110 925 441 1847 1474 709 894 790 N 489 1796 1534 1336 1788 176 1872 1043 438 1870 501 722 707 1885 1612 583 168 1771 1101 74 718 1299 489 570 273 147 564 1869 519 1020 1884 1512 235 1263 927 579 1337 392 1159 945 825 1153 924 1211 569 1583 495 1943 1809 199 1522 142 410 963 749 150 424 767 434 1603 64 1134 94 1915 390 1822 1852 493 1597 854 1237 650 444 877 1292 840 602 1787 610 1076 5 1263 1797 274 579 789 1743 1836 1789 895 166 534 260 850 800 1655 957 293 393 1425 1023 1823 574 1233 504 876 374 980 710 233 1259 1855 1143 1222 700 592 800 179 1006 32 210 971 1261 1084 3 317 1601 1853 836 1424 1008 959 313 1870 226 781 1812 1515 1850 781 788 853 635 453 1856 672 1402 1474 1784 307 628 401 1193 1620 416 201 1440 1682 1420 1348 812 116 389 611 287 280 1450 1936 834 654 130 959 1024 564 1291 1144 45 212 1130 1760 838 1057 730 833 458 246 938 1021 1285 1634 713 1493 1264 1049 1634 476 1640 241 1246 893 1707 1543 323 1842 516 1837 622 1814 274 192 752 471 789 763 805 1867 1049 165 647 48 565 932 274 1758 1487 1494 1027 1288 723 1867 269 1765 1797 952 289 821 1469 709 1249 1409 825 1219 596 1088 1374 965 150 116 506 289 413 264 719 76 1363 1466 22 1093 1450 741 624 341 621 286 649 1473 1777 400 117 1588 1131 1265 444 816 553 1670 1423 59 12 944 412 1312 86 420 220 1058 354 1231 653 485 695 309 1480 1481 1648 N 1924 1607 1471 107 1777 88 1110 389 1806 1355 606 426 948 300 175 247 857 1436 662 1214 1320 751 1071 353 1247 35 613 496 1880 1889 40 1105 747 1133 32 1214 1213 1515 1438 565 376 244 486 557 253 1275 1472 683 43 1236 721 1478 139 1318 559 1186 514 113\n</code></pre>\n<p><strong>My output:</strong></p>\n<p>272</p>\n<p><strong>Expected Output:</strong></p>\n<p>271</p>\n<p><strong>Note:</strong> Testcases are made in a level order traversal way for the tree.</p>\n<p><strong>Minimum reproducible example:</strong> <a href=\"https://ideone.com/WJJfd5\" rel=\"nofollow noreferrer\">https://ideone.com/WJJfd5</a></p>\n"},{"tags":["java","sql","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1677849214,"post_id":75626808,"comment_id":133423097,"body_markdown":"And what exactly is the issue? You are not showing anything that would show any error or issue","body":"And what exactly is the issue? You are not showing anything that would show any error or issue"}],"owner":{"account_id":20707202,"reputation":11,"user_id":15204773,"display_name":"Bahast Saber"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677844884,"creation_date":1677844884,"question_id":75626808,"body_markdown":"I have a Transaction entity and I want to aggregate the data by hour, Month, and Year.\r\nall data I return should be in Map type Map&lt;LocalDatetime, Integer&gt;\r\nI have a Transaction Entity with several properties, and I tried to make another object that has only two properties. The actual code I added below \r\nI tried many ways and I didn&#39;t success \r\nMy repository interface:\r\n\r\n     @Query(&quot;select t from Transaction t where t.transactionDateTime between ?1 and ?2&quot;)\r\n    List&lt;Transaction&gt; findAllByRange( LocalDateTime From, LocalDateTime to);\r\n\r\n    import java. time.LocalDateTime;\r\n\r\n    public class MappingData {\r\n    private LocalDateTime key;\r\n    private Integer value;\r\n\r\n    public LocalDateTime getKey() {\r\n        return key;\r\n    }\r\n\r\n    public MappingData(LocalDateTime key, Integer value) {\r\n        this.key = key;\r\n        this.value = value;\r\n    }\r\n\r\n    public void setKey(LocalDateTime key) {\r\n        this.key = key;\r\n    }\r\n\r\n    public Integer getValue() {\r\n        return value;\r\n    }\r\n\r\n    public void setValue(Integer value) {\r\n        this.value = value;\r\n    }\r\n   }\r\n\r\n\r\nTransaction Entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;TRANSACTION&quot;)\r\n    public class Transaction {\r\n    private UUID transactionId;\r\n    private LocalDateTime transactionDateTime;\r\n    private LocalTime transactionTime;\r\n    private Employees employee;\r\n    private int meal; // 1 = breakfast , 2 = Lunch , 3 = Dinner\r\n\r\n    private Restaurant restaurant;\r\n    private TemporaryCustomer temporaryCustomer;\r\n    private EmployeeType employeeType;\r\n    private String deviceNumber;\r\n\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Type(type = &quot;pg-uuid&quot;)\r\n    public UUID getTransactionId() {\r\n        return transactionId;\r\n    }\r\n\r\n    public void setTransactionId(UUID transactionId) {\r\n        this.transactionId = transactionId;\r\n    }\r\n\r\n    public LocalDateTime getTransactionDateTime() {\r\n        return transactionDateTime;\r\n    }\r\n\r\n    public void setTransactionDateTime(LocalDateTime transactionDate) {\r\n        this.transactionDateTime = transactionDate;\r\n    }\r\n\r\n    public LocalTime getTransactionTime() {\r\n        return transactionTime;\r\n    }\r\n\r\n    public void setTransactionTime(LocalTime transactionTime) {\r\n        this.transactionTime = transactionTime;\r\n    }\r\n\r\n    @ManyToOne\r\n    public Employees getEmployee() {\r\n        return employee;\r\n    }\r\n\r\n    public void setEmployee(Employees customer) {\r\n        this.employee = customer;\r\n    }\r\n\r\n    @ManyToOne\r\n    public Restaurant getRestaurant() {\r\n        return restaurant;\r\n    }\r\n\r\n    public void setRestaurant(Restaurant restaurant) {\r\n        this.restaurant = restaurant;\r\n    }\r\n\r\n\r\n    @Column(name = &quot;MEAL&quot;)\r\n    public int getMeal() {\r\n        return meal;\r\n    }\r\n\r\n    public void setMeal(int meal) {\r\n        this.meal = meal;\r\n    }\r\n\r\n    @ManyToOne\r\n    public TemporaryCustomer getTemporaryCustomer() {\r\n        return temporaryCustomer;\r\n    }\r\n\r\n    public void setTemporaryCustomer(TemporaryCustomer temporaryCustomer) {\r\n        this.temporaryCustomer = temporaryCustomer;\r\n    }\r\n\r\n    public EmployeeType getEmployeeType() {\r\n        return employeeType;\r\n    }\r\n\r\n    public void setEmployeeType(EmployeeType employeeType) {\r\n        this.employeeType = employeeType;\r\n    }\r\n\r\n    public String getDeviceNumber() {\r\n        return deviceNumber;\r\n    }\r\n\r\n    public void setDeviceNumber(String deviceNumber) {\r\n        this.deviceNumber = deviceNumber;\r\n    }\r\n}","title":"Spring Data JPA retrieving data using Native query and convert to Map&lt;LocalDate, Integer&gt;","body":"<p>I have a Transaction entity and I want to aggregate the data by hour, Month, and Year.\nall data I return should be in Map type Map&lt;LocalDatetime, Integer&gt;\nI have a Transaction Entity with several properties, and I tried to make another object that has only two properties. The actual code I added below\nI tried many ways and I didn't success\nMy repository interface:</p>\n<pre><code> @Query(&quot;select t from Transaction t where t.transactionDateTime between ?1 and ?2&quot;)\nList&lt;Transaction&gt; findAllByRange( LocalDateTime From, LocalDateTime to);\n\nimport java. time.LocalDateTime;\n\npublic class MappingData {\nprivate LocalDateTime key;\nprivate Integer value;\n\npublic LocalDateTime getKey() {\n    return key;\n}\n\npublic MappingData(LocalDateTime key, Integer value) {\n    this.key = key;\n    this.value = value;\n}\n\npublic void setKey(LocalDateTime key) {\n    this.key = key;\n}\n\npublic Integer getValue() {\n    return value;\n}\n\npublic void setValue(Integer value) {\n    this.value = value;\n}\n</code></pre>\n<p>}</p>\n<p>Transaction Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;TRANSACTION&quot;)\npublic class Transaction {\nprivate UUID transactionId;\nprivate LocalDateTime transactionDateTime;\nprivate LocalTime transactionTime;\nprivate Employees employee;\nprivate int meal; // 1 = breakfast , 2 = Lunch , 3 = Dinner\n\nprivate Restaurant restaurant;\nprivate TemporaryCustomer temporaryCustomer;\nprivate EmployeeType employeeType;\nprivate String deviceNumber;\n\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@Type(type = &quot;pg-uuid&quot;)\npublic UUID getTransactionId() {\n    return transactionId;\n}\n\npublic void setTransactionId(UUID transactionId) {\n    this.transactionId = transactionId;\n}\n\npublic LocalDateTime getTransactionDateTime() {\n    return transactionDateTime;\n}\n\npublic void setTransactionDateTime(LocalDateTime transactionDate) {\n    this.transactionDateTime = transactionDate;\n}\n\npublic LocalTime getTransactionTime() {\n    return transactionTime;\n}\n\npublic void setTransactionTime(LocalTime transactionTime) {\n    this.transactionTime = transactionTime;\n}\n\n@ManyToOne\npublic Employees getEmployee() {\n    return employee;\n}\n\npublic void setEmployee(Employees customer) {\n    this.employee = customer;\n}\n\n@ManyToOne\npublic Restaurant getRestaurant() {\n    return restaurant;\n}\n\npublic void setRestaurant(Restaurant restaurant) {\n    this.restaurant = restaurant;\n}\n\n\n@Column(name = &quot;MEAL&quot;)\npublic int getMeal() {\n    return meal;\n}\n\npublic void setMeal(int meal) {\n    this.meal = meal;\n}\n\n@ManyToOne\npublic TemporaryCustomer getTemporaryCustomer() {\n    return temporaryCustomer;\n}\n\npublic void setTemporaryCustomer(TemporaryCustomer temporaryCustomer) {\n    this.temporaryCustomer = temporaryCustomer;\n}\n\npublic EmployeeType getEmployeeType() {\n    return employeeType;\n}\n\npublic void setEmployeeType(EmployeeType employeeType) {\n    this.employeeType = employeeType;\n}\n\npublic String getDeviceNumber() {\n    return deviceNumber;\n}\n\npublic void setDeviceNumber(String deviceNumber) {\n    this.deviceNumber = deviceNumber;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","spring-boot","api","swagger-ui","jolt"],"answers":[{"tags":[],"owner":{"account_id":19152274,"reputation":495,"user_id":13989935,"display_name":"Abdul Ahad Akram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677844678,"creation_date":1677844678,"answer_id":75626782,"question_id":75617285,"body_markdown":"**Fix dependency**\r\n\r\nThe dependency I was using was incompatible with some versions. After some research, I found a dependency that can hide a model attribute in Swagger-UI but doesn&#39;t interrupt any other flows (i.e: Mapping via jolt file). In your **pom.xml**:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\r\n      &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\r\n      &lt;version&gt;2.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Hide parameter via @Schema**\r\n\r\nIn your model class, import:\r\n\r\n    import io.swagger.v3.oas.annotations.media.Schema;\r\n\r\nand above the parameter, write:\r\n\r\n    @Schema(hidden = true)\r\n\r\nThe **model class** would look like this:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Plan\r\n    {\r\n      @NotBlank\r\n      private String param1;\r\n      @Schema(hidden = true)\r\n      private String param2;\r\n    }\r\n\r\nThis would hide the *param2* in Swagger-UI and you can still have access to setters/getters, and your other flows will remain uninterrupted. ","title":"How to hide/ignore a field in swagger docs but set via spec/jolt file in spring-boot?","body":"<p><strong>Fix dependency</strong></p>\n<p>The dependency I was using was incompatible with some versions. After some research, I found a dependency that can hide a model attribute in Swagger-UI but doesn't interrupt any other flows (i.e: Mapping via jolt file). In your <strong>pom.xml</strong>:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;io.swagger.core.v3&lt;/groupId&gt;\n  &lt;artifactId&gt;swagger-jaxrs2&lt;/artifactId&gt;\n  &lt;version&gt;2.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Hide parameter via @Schema</strong></p>\n<p>In your model class, import:</p>\n<pre><code>import io.swagger.v3.oas.annotations.media.Schema;\n</code></pre>\n<p>and above the parameter, write:</p>\n<pre><code>@Schema(hidden = true)\n</code></pre>\n<p>The <strong>model class</strong> would look like this:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Plan\n{\n  @NotBlank\n  private String param1;\n  @Schema(hidden = true)\n  private String param2;\n}\n</code></pre>\n<p>This would hide the <em>param2</em> in Swagger-UI and you can still have access to setters/getters, and your other flows will remain uninterrupted.</p>\n"}],"owner":{"account_id":19152274,"reputation":495,"user_id":13989935,"display_name":"Abdul Ahad Akram"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75626782,"answer_count":1,"score":0,"last_activity_date":1677844678,"creation_date":1677769474,"question_id":75617285,"body_markdown":"While writing an **API** that takes a model such as:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    public class Plan\r\n    {\r\n      @NotBlank\r\n      private String param1;\r\n      private String param2;\r\n    }\r\nI want to hide/ignore this *param2* in Swagger UI. I have used **@JsonIgnore**, this works for swagger UI but it considers my param2 as null when it is mapped in a spec file. \r\n\r\nI have also tried using **@ApiModelProperty(accessMode = ApiModelProperty.AccessMode.READ_ONLY)**, **@ApiParam(hidden=true)** it sets the param2 via jolt spec file but doesn&#39;t hide them in Swagger UI.\r\n\r\nIn short, these are the 2 things that I am trying to achieve:\r\n\r\n 1. Hide field param2 in Swagger UI.\r\n 2. At the same time, set param2 via jolt mapping in the spec file.\r\n\r\nI have tried https://www.baeldung.com/spring-swagger-hide-field these solutions and none of them seems to work. Is it possible?","title":"How to hide/ignore a field in swagger docs but set via spec/jolt file in spring-boot?","body":"<p>While writing an <strong>API</strong> that takes a model such as:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Plan\n{\n  @NotBlank\n  private String param1;\n  private String param2;\n}\n</code></pre>\n<p>I want to hide/ignore this <em>param2</em> in Swagger UI. I have used <strong>@JsonIgnore</strong>, this works for swagger UI but it considers my param2 as null when it is mapped in a spec file.</p>\n<p>I have also tried using <strong>@ApiModelProperty(accessMode = ApiModelProperty.AccessMode.READ_ONLY)</strong>, <strong>@ApiParam(hidden=true)</strong> it sets the param2 via jolt spec file but doesn't hide them in Swagger UI.</p>\n<p>In short, these are the 2 things that I am trying to achieve:</p>\n<ol>\n<li>Hide field param2 in Swagger UI.</li>\n<li>At the same time, set param2 via jolt mapping in the spec file.</li>\n</ol>\n<p>I have tried <a href=\"https://www.baeldung.com/spring-swagger-hide-field\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-swagger-hide-field</a> these solutions and none of them seems to work. Is it possible?</p>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677839096,"creation_date":1677839096,"answer_id":75625865,"question_id":75625725,"body_markdown":"This is a bug that was fixed in jOOQ 3.18.0, 3.17.9, and 3.16.15: https://github.com/jOOQ/jOOQ/issues/14657\r\n\r\nThe bug only affected `JSON` emulations of the `MULTISET` operator, not `XML` emulations, though that doesn&#39;t help as a workaround for MySQL, which doesn&#39;t support SQL/XML.\r\n\r\nAs noted in the bug discussion, this particular problem can be worked around by omitting one of the `row()` operators:\r\n\r\n```java\r\nvar result = db.select(\r\n    multiset(\r\n        select(\r\n            // row( Unnecessary in this case\r\n                multiset(\r\n                    select(\r\n                        row(&quot;Hello&quot;, &quot;World&quot;).mapping(Tuple2::new)\r\n                    ).from(dual())\r\n                ).convertFrom(r -&gt; r.map(Record1::component1))\r\n            // ).mapping(r -&gt; r)\r\n        ).from(dual())\r\n    ).convertFrom(r -&gt; r.map(Record1::component1))\r\n).from(dual())\r\n.fetchOne(Record1::component1);\r\n```\r\n\r\nI realise that this is just a simplified reproducer, the real query being more complex, though perhaps this helps work around the problem also in the real query, until the fix is available.","title":"Nesting MULTISET/ROW/MULTISET/ROW with ad-hoc converters and JSON emulation results in ClassCastException","body":"<p>This is a bug that was fixed in jOOQ 3.18.0, 3.17.9, and 3.16.15: <a href=\"https://github.com/jOOQ/jOOQ/issues/14657\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/14657</a></p>\n<p>The bug only affected <code>JSON</code> emulations of the <code>MULTISET</code> operator, not <code>XML</code> emulations, though that doesn't help as a workaround for MySQL, which doesn't support SQL/XML.</p>\n<p>As noted in the bug discussion, this particular problem can be worked around by omitting one of the <code>row()</code> operators:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var result = db.select(\n    multiset(\n        select(\n            // row( Unnecessary in this case\n                multiset(\n                    select(\n                        row(&quot;Hello&quot;, &quot;World&quot;).mapping(Tuple2::new)\n                    ).from(dual())\n                ).convertFrom(r -&gt; r.map(Record1::component1))\n            // ).mapping(r -&gt; r)\n        ).from(dual())\n    ).convertFrom(r -&gt; r.map(Record1::component1))\n).from(dual())\n.fetchOne(Record1::component1);\n</code></pre>\n<p>I realise that this is just a simplified reproducer, the real query being more complex, though perhaps this helps work around the problem also in the real query, until the fix is available.</p>\n"}],"owner":{"account_id":27926021,"reputation":35,"user_id":21325123,"display_name":"Matt Snider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75625865,"answer_count":1,"score":1,"last_activity_date":1677844604,"creation_date":1677838304,"question_id":75625725,"body_markdown":"When performing a select which includes a subquery in multiselect, which itself performs a subquery in a multiset, I would expect the result to have the expected type.\r\n\r\nInstead, the nested result appears to be left as an `ArrayList` and not serialized properly to the target type.\r\n\r\n### Steps to reproduce the problem\r\n\r\n```java\r\nrecord Tuple2(String t1, String t2) {}\r\n\r\nvar result = db.select(\r\n    multiset(\r\n        select(\r\n            row(\r\n                multiset(\r\n                    select(\r\n                        row(&quot;Hello&quot;, &quot;World&quot;).mapping(Tuple2::new)\r\n                    ).from(dual())\r\n                ).convertFrom(r -&gt; r.map(Record1::component1))\r\n            ).mapping(r -&gt; r)\r\n        ).from(dual())\r\n    ).convertFrom(r -&gt; r.map(Record1::component1))\r\n).from(dual())\r\n.fetchOne(Record1::component1);\r\n\r\nlog.debug(&quot;The result: {}&quot;, result);\r\nlog.debug(&quot;The tuple: {}&quot;, result.get(0).get(0));\r\nlog.debug(&quot;The type of the result: {}&quot;, result.get(0).get(0).getClass());\r\n```\r\n\r\nThe expected type of `result` is `List&lt;List&lt;Tuple2&gt;&gt;` but instead it appears to be `ArrayList&lt;ArrayList&lt;ArrayList&gt;&gt;` (I&#39;m guessing the raw representation of the row type).\r\n\r\nThe output of this code is:\r\n\r\n```none\r\nThe result: [[[[Hello, World]]]]\r\nThe tuple: [[Hello, World]]\r\nAn unhandled error occurred\r\njava.lang.ClassCastException: class java.util.ArrayList cannot be cast to class com.mycompany.mypackage.MyClass$1Tuple2 (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.mycompany.mypackage.MyClass$1Tuple2 is in unnamed module of loader &#39;app&#39;)\r\n```\r\n\r\n### jOOQ Version\r\n\r\n3\\.17.8\r\n\r\n### Database product and version\r\n\r\nMySQL 8.0.28\r\n\r\n### Java Version\r\n\r\nopenjdk version &quot;19.0.1&quot; 2022-10-18\r\n\r\n### OS Version\r\n\r\n_No response_\r\n\r\n### JDBC driver name and version (include name if unofficial driver)\r\n\r\nmysql:mysql-connector-java:8.0.31","title":"Nesting MULTISET/ROW/MULTISET/ROW with ad-hoc converters and JSON emulation results in ClassCastException","body":"<p>When performing a select which includes a subquery in multiselect, which itself performs a subquery in a multiset, I would expect the result to have the expected type.</p>\n<p>Instead, the nested result appears to be left as an <code>ArrayList</code> and not serialized properly to the target type.</p>\n<h3>Steps to reproduce the problem</h3>\n<pre class=\"lang-java prettyprint-override\"><code>record Tuple2(String t1, String t2) {}\n\nvar result = db.select(\n    multiset(\n        select(\n            row(\n                multiset(\n                    select(\n                        row(&quot;Hello&quot;, &quot;World&quot;).mapping(Tuple2::new)\n                    ).from(dual())\n                ).convertFrom(r -&gt; r.map(Record1::component1))\n            ).mapping(r -&gt; r)\n        ).from(dual())\n    ).convertFrom(r -&gt; r.map(Record1::component1))\n).from(dual())\n.fetchOne(Record1::component1);\n\nlog.debug(&quot;The result: {}&quot;, result);\nlog.debug(&quot;The tuple: {}&quot;, result.get(0).get(0));\nlog.debug(&quot;The type of the result: {}&quot;, result.get(0).get(0).getClass());\n</code></pre>\n<p>The expected type of <code>result</code> is <code>List&lt;List&lt;Tuple2&gt;&gt;</code> but instead it appears to be <code>ArrayList&lt;ArrayList&lt;ArrayList&gt;&gt;</code> (I'm guessing the raw representation of the row type).</p>\n<p>The output of this code is:</p>\n<pre class=\"lang-none prettyprint-override\"><code>The result: [[[[Hello, World]]]]\nThe tuple: [[Hello, World]]\nAn unhandled error occurred\njava.lang.ClassCastException: class java.util.ArrayList cannot be cast to class com.mycompany.mypackage.MyClass$1Tuple2 (java.util.ArrayList is in module java.base of loader 'bootstrap'; com.mycompany.mypackage.MyClass$1Tuple2 is in unnamed module of loader 'app')\n</code></pre>\n<h3>jOOQ Version</h3>\n<p>3.17.8</p>\n<h3>Database product and version</h3>\n<p>MySQL 8.0.28</p>\n<h3>Java Version</h3>\n<p>openjdk version &quot;19.0.1&quot; 2022-10-18</p>\n<h3>OS Version</h3>\n<p><em>No response</em></p>\n<h3>JDBC driver name and version (include name if unofficial driver)</h3>\n<p>mysql:mysql-connector-java:8.0.31</p>\n"},{"tags":["java","linux","visual-studio-code","javafx"],"comments":[{"owner":{"account_id":25426160,"reputation":1,"user_id":19231317,"display_name":"Zoi Aposkiti"},"score":1,"creation_date":1677787456,"post_id":75619631,"comment_id":133411514,"body_markdown":"I downloaded java via apt-get and added the correct path to JAVA_HOME environmental variable.","body":"I downloaded java via apt-get and added the correct path to JAVA_HOME environmental variable."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":1,"creation_date":1677789113,"post_id":75619631,"comment_id":133411917,"body_markdown":"try removing the space between &quot;`javafx.controls, javafx.fxml`&quot; (the space after the comma). spaces are typically trated as field separators in shells. I&#39;m guessing that&#39;s the issue here. [The one in the tutorial linked above](https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json) has no space there","body":"try removing the space between &quot;<code>javafx.controls, javafx.fxml</code>&quot; (the space after the comma). spaces are typically trated as field separators in shells. I&#39;m guessing that&#39;s the issue here. <a href=\"https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json\" rel=\"nofollow noreferrer\">The one in the tutorial linked above</a> has no space there"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":2,"creation_date":1677789926,"post_id":75619631,"comment_id":133412130,"body_markdown":"Your main class is wrong, you have `&quot;mainClass&quot;: &quot;project.Main&quot;`, but the class is named `project.App`.","body":"Your main class is wrong, you have <code>&quot;mainClass&quot;: &quot;project.Main&quot;</code>, but the class is named <code>project.App</code>."}],"answers":[{"comments":[{"owner":{"account_id":25426160,"reputation":1,"user_id":19231317,"display_name":"Zoi Aposkiti"},"score":0,"creation_date":1677839526,"post_id":75620837,"comment_id":133420576,"body_markdown":"I actually had fixed the name, but forgot to mention it. I also removed the space you suggested but it still doesn&#39;t work.","body":"I actually had fixed the name, but forgot to mention it. I also removed the space you suggested but it still doesn&#39;t work."}],"tags":[],"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677843925,"creation_date":1677791202,"answer_id":75620837,"question_id":75619631,"body_markdown":"Your main class is `project.App`, but in your launch config, you specified `&quot;mainClass&quot;: &quot;project.Main&quot;,`. Change your launch config to `&quot;mainClass&quot;: &quot;project.App&quot;`. \r\n\r\nIf fixing that alone isn&#39;t enough, I&#39;d try also removing the space between `&quot;javafx.controls, javafx.fxml&quot;` (the space after the comma). spaces are typically treated as field separators in shells. The one in [the tutorial I&#39;m guessing you&#39;re following](https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json) has no space there.","title":"JavaFX project can&#39;t launch on Visual Studio Code (no build tools)","body":"<p>Your main class is <code>project.App</code>, but in your launch config, you specified <code>&quot;mainClass&quot;: &quot;project.Main&quot;,</code>. Change your launch config to <code>&quot;mainClass&quot;: &quot;project.App&quot;</code>.</p>\n<p>If fixing that alone isn't enough, I'd try also removing the space between <code>&quot;javafx.controls, javafx.fxml&quot;</code> (the space after the comma). spaces are typically treated as field separators in shells. The one in <a href=\"https://github.com/openjfx/samples/blob/master/IDE/VSCode/Non-Modular/Java/hellofx/.vscode/launch.json\" rel=\"nofollow noreferrer\">the tutorial I'm guessing you're following</a> has no space there.</p>\n"}],"owner":{"account_id":25426160,"reputation":1,"user_id":19231317,"display_name":"Zoi Aposkiti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677843937,"answer_count":1,"score":-1,"last_activity_date":1677843925,"creation_date":1677782556,"question_id":75619631,"body_markdown":"I have a very basic JavaFX project that is supposed to open a new window (a scene). I&#39;m trying to Launch it on VSCode.\r\n\r\n```java\r\npackage project;\r\nimport javafx.application.Application;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n \r\npublic class Main extends Application {\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button btn = new Button();\r\n        btn.setText(&quot;Say &#39;Hello World&#39;&quot;);\r\n        StackPane root = new StackPane();\r\n        root.getChildren().add(btn);\r\n  \r\n  Scene scene = new Scene(root, 300, 250);\r\n  \r\n  primaryStage.setTitle(&quot;Hello World!&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n \r\n public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nI think I&#39;ve done  everything I&#39;m supposed to:\r\n- I downloaded javafx-sdk (version 19.0.2.1) and added all the `lib` files to my project&#39;s `lib`.\r\n- I have java (version openjdk 19.0.2 )\r\n- In the file /.vscode/launch.json I added the compile arguments:\r\n\r\n\r\n```lang-json\r\n{\r\n    &quot;version&quot;: &quot;0.2.0&quot;,\r\n    &quot;configurations&quot;: [\r\n        {\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Launch App&quot;,\r\n            &quot;request&quot;: &quot;launch&quot;,\r\n            &quot;mainClass&quot;: &quot;project.Main&quot;,\r\n            &quot;vmArgs&quot;: &quot;--module-path /home/user/openjfx-19.0.2.1_linux-x64_bin-sdk/javafx-sdk-19.0.2.1/lib --add-modules javafx.controls, javafx.fxml&quot;,\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nI tried launching it via the &quot;Run&quot; menu with or without debugging and it doesn&#39;t do anything. I don&#39;t get any errors or console output.","title":"JavaFX project can&#39;t launch on Visual Studio Code (no build tools)","body":"<p>I have a very basic JavaFX project that is supposed to open a new window (a scene). I'm trying to Launch it on VSCode.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package project;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n \npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        Button btn = new Button();\n        btn.setText(&quot;Say 'Hello World'&quot;);\n        StackPane root = new StackPane();\n        root.getChildren().add(btn);\n  \n  Scene scene = new Scene(root, 300, 250);\n  \n  primaryStage.setTitle(&quot;Hello World!&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n \n public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>I think I've done  everything I'm supposed to:</p>\n<ul>\n<li>I downloaded javafx-sdk (version 19.0.2.1) and added all the <code>lib</code> files to my project's <code>lib</code>.</li>\n<li>I have java (version openjdk 19.0.2 )</li>\n<li>In the file /.vscode/launch.json I added the compile arguments:</li>\n</ul>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;version&quot;: &quot;0.2.0&quot;,\n    &quot;configurations&quot;: [\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Launch App&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;mainClass&quot;: &quot;project.Main&quot;,\n            &quot;vmArgs&quot;: &quot;--module-path /home/user/openjfx-19.0.2.1_linux-x64_bin-sdk/javafx-sdk-19.0.2.1/lib --add-modules javafx.controls, javafx.fxml&quot;,\n        }\n    ]\n}\n</code></pre>\n<p>I tried launching it via the &quot;Run&quot; menu with or without debugging and it doesn't do anything. I don't get any errors or console output.</p>\n"},{"tags":["java","merge","mergesort"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1677782687,"post_id":75619620,"comment_id":133410365,"body_markdown":"please provide an [mcve]","body":"please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1677782862,"post_id":75619620,"comment_id":133410398,"body_markdown":"You do not assign the return value `a= mergesort(a);` instead of  `mergesort(a);`","body":"You do not assign the return value <code>a= mergesort(a);</code> instead of  <code>mergesort(a);</code>"}],"answers":[{"comments":[{"owner":{"account_id":27921188,"reputation":21,"user_id":21321280,"display_name":"Owen"},"score":0,"creation_date":1677783695,"post_id":75619769,"comment_id":133410611,"body_markdown":"Yeah this is definitely what&#39;s throwing me off. While that&#39;s how I want to do it, and initially thought of solving the problem, I have to follow this interface for my assignment which returns Comparable [].","body":"Yeah this is definitely what&#39;s throwing me off. While that&#39;s how I want to do it, and initially thought of solving the problem, I have to follow this interface for my assignment which returns Comparable []."}],"tags":[],"owner":{"account_id":18157583,"reputation":121,"user_id":13209416,"display_name":"Reader"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677783521,"creation_date":1677783521,"answer_id":75619769,"question_id":75619620,"body_markdown":"I think the issue may be that your merge method is not updating the original array with the sorted result.\r\n\r\nInstead, it is returning a new array array that contains the sorted elements.\r\n\r\nTherefore, in your `mergesort(...)` method, when you call `merge(leftArray, rightArray)`, you are not actually updating the leftArray and rightArray arrays with the sorted result.\r\n\r\nYou can just make merge return `void` and update the original array a with the sorted result\r\n\r\n```\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n      a[i] = array[i];\r\n    }\r\n```","title":"How to return my merged array from merge() to sort()? Java merge sort algorithm","body":"<p>I think the issue may be that your merge method is not updating the original array with the sorted result.</p>\n<p>Instead, it is returning a new array array that contains the sorted elements.</p>\n<p>Therefore, in your <code>mergesort(...)</code> method, when you call <code>merge(leftArray, rightArray)</code>, you are not actually updating the leftArray and rightArray arrays with the sorted result.</p>\n<p>You can just make merge return <code>void</code> and update the original array a with the sorted result</p>\n<pre><code>    for (int i = 0; i &lt; array.length; i++) {\n      a[i] = array[i];\n    }\n</code></pre>\n"}],"owner":{"account_id":27921188,"reputation":21,"user_id":21321280,"display_name":"Owen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677843798,"creation_date":1677782500,"question_id":75619620,"body_markdown":"I am creating a merge sort for an assignment based on an interface I was given. (merge, mergesort, and sort). I am right there, but my brain is fried and I can&#39;t find the final issue with my code. I successfully merge the two as seen in the final &quot;MERGE:&quot; print, but then the final line &quot;SORTEXAMPLE&quot; goes back to being unsorted. I think it&#39;s an issue with my returns, but I can&#39;t wrap my head around it. Here is the code (I&#39;m sorry it&#39;s all of it, the issue could be in any of the methods to my knowledge).\r\n\r\n\r\n```java\r\n@Override\r\npublic void sort(Comparable[] a) {\r\n    if(a == null || a.length &lt;= 1){\r\n        return;\r\n    }\r\n    mergesort(a);\r\n}\r\n\r\n@Override\r\npublic Comparable[] mergesort(Comparable[] a) {\r\n    int length = a.length;\r\n\r\n    if(length &lt;= 1){return a;} //base case\r\n\r\n    int middle = length / 2;\r\n    Comparable[] leftArray = new Comparable[middle];\r\n    Comparable[] rightArray = new Comparable[length - middle];\r\n    int l = 0, r = 0;\r\n\r\n    for(; l &lt; length; l++){     //copy contents to either left or right side\r\n        if(l &lt; middle){\r\n            leftArray[l] = a[l];\r\n        }\r\n        else{\r\n            rightArray[r] = a[l];\r\n            r++;\r\n        }\r\n    }\r\n\r\n    leftArray = mergesort(leftArray);       //sort left side\r\n    rightArray = mergesort(rightArray);      //sort right side\r\n    return merge(leftArray, rightArray);   //merge the two\r\n}\r\n\r\n@Override\r\npublic Comparable[] merge(Comparable[] a, Comparable[] b) {\r\n    Comparable[] array = new Comparable[a.length + b.length];\r\n    int arrayIndex = 0, aIndex = 0, bIndex = 0;\r\n\r\n    while(aIndex &lt; a.length &amp;&amp; bIndex &lt; b.length){\r\n        if(less(a[aIndex], b[bIndex])){\r\n            array[arrayIndex] = a[aIndex];\r\n            aIndex++;\r\n        }\r\n        else{\r\n            array[arrayIndex] = b[bIndex];\r\n            bIndex++;\r\n        }\r\n        arrayIndex++;\r\n    }\r\n    while(aIndex &lt; a.length){\r\n        array[arrayIndex] = a[aIndex];\r\n        arrayIndex++;\r\n        aIndex++;\r\n    }\r\n    while(bIndex &lt; b.length){\r\n        array[arrayIndex] = b[bIndex];\r\n        arrayIndex++;\r\n        bIndex++;\r\n    }\r\n    System.out.print(&quot;MERGE: &quot;);\r\n    show(array);\r\n    return array;\r\n}\r\n```\r\n\r\nI am expecting the output to be &quot;A E E L M O P R S T X&quot; from an input of &quot;SORTEXAMPLE&quot; string array. It should function as a basic top down merge sort.\r\n","title":"How to return my merged array from merge() to sort()? Java merge sort algorithm","body":"<p>I am creating a merge sort for an assignment based on an interface I was given. (merge, mergesort, and sort). I am right there, but my brain is fried and I can't find the final issue with my code. I successfully merge the two as seen in the final &quot;MERGE:&quot; print, but then the final line &quot;SORTEXAMPLE&quot; goes back to being unsorted. I think it's an issue with my returns, but I can't wrap my head around it. Here is the code (I'm sorry it's all of it, the issue could be in any of the methods to my knowledge).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void sort(Comparable[] a) {\n    if(a == null || a.length &lt;= 1){\n        return;\n    }\n    mergesort(a);\n}\n\n@Override\npublic Comparable[] mergesort(Comparable[] a) {\n    int length = a.length;\n\n    if(length &lt;= 1){return a;} //base case\n\n    int middle = length / 2;\n    Comparable[] leftArray = new Comparable[middle];\n    Comparable[] rightArray = new Comparable[length - middle];\n    int l = 0, r = 0;\n\n    for(; l &lt; length; l++){     //copy contents to either left or right side\n        if(l &lt; middle){\n            leftArray[l] = a[l];\n        }\n        else{\n            rightArray[r] = a[l];\n            r++;\n        }\n    }\n\n    leftArray = mergesort(leftArray);       //sort left side\n    rightArray = mergesort(rightArray);      //sort right side\n    return merge(leftArray, rightArray);   //merge the two\n}\n\n@Override\npublic Comparable[] merge(Comparable[] a, Comparable[] b) {\n    Comparable[] array = new Comparable[a.length + b.length];\n    int arrayIndex = 0, aIndex = 0, bIndex = 0;\n\n    while(aIndex &lt; a.length &amp;&amp; bIndex &lt; b.length){\n        if(less(a[aIndex], b[bIndex])){\n            array[arrayIndex] = a[aIndex];\n            aIndex++;\n        }\n        else{\n            array[arrayIndex] = b[bIndex];\n            bIndex++;\n        }\n        arrayIndex++;\n    }\n    while(aIndex &lt; a.length){\n        array[arrayIndex] = a[aIndex];\n        arrayIndex++;\n        aIndex++;\n    }\n    while(bIndex &lt; b.length){\n        array[arrayIndex] = b[bIndex];\n        arrayIndex++;\n        bIndex++;\n    }\n    System.out.print(&quot;MERGE: &quot;);\n    show(array);\n    return array;\n}\n</code></pre>\n<p>I am expecting the output to be &quot;A E E L M O P R S T X&quot; from an input of &quot;SORTEXAMPLE&quot; string array. It should function as a basic top down merge sort.</p>\n"},{"tags":["java","json","jackson","java-record"],"comments":[{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1675116393,"post_id":75290282,"comment_id":132856058,"body_markdown":"Can you simplify your example to reduce the references to non-Jackson libraries - junit, skyscreamer etc. Also, which version of Jackson are you using?","body":"Can you simplify your example to reduce the references to non-Jackson libraries - junit, skyscreamer etc. Also, which version of Jackson are you using?"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1675147240,"post_id":75290282,"comment_id":132860539,"body_markdown":"good remark, the code has now been simplified to run from main. Version info has been added (= Java 17 + Jackson 2.14.1)","body":"good remark, the code has now been simplified to run from main. Version info has been added (= Java 17 + Jackson 2.14.1)"}],"answers":[{"comments":[{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1675147295,"post_id":75291037,"comment_id":132860545,"body_markdown":"Thanks, this is indeed a working solution, but unfortunately I&#39;m making an implementation on top of the Lottie data model. So it&#39;s not possible to make a change in the JSON format.","body":"Thanks, this is indeed a working solution, but unfortunately I&#39;m making an implementation on top of the Lottie data model. So it&#39;s not possible to make a change in the JSON format."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1675162038,"post_id":75291037,"comment_id":132864561,"body_markdown":"What you&#39;re asking is impossible though. You can&#39;t store two different fields under the same field name - they have to use different field names. Where exactly is this data model documented as I can find no mention of BaseBezier?","body":"What you&#39;re asking is impossible though. You can&#39;t store two different fields under the same field name - they have to use different field names. Where exactly is this data model documented as I can find no mention of BaseBezier?"},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1675167328,"post_id":75291037,"comment_id":132866176,"body_markdown":"The code in this question is a simplification of what I try to achieve in https://github.com/lottie4j/lottie4j/tree/main/core/src/main/java/com/lottie4j/core/model/bezier. I use TDD based on https://lottiefiles.github.io/lottie-docs/shapes/#path and existing lottie-files. This way I could determine there are two different data models of Beziers based on the animated (a) value, which I defined as AnimatedBezier and FixedBezier. But nothing is &quot;set in stone&quot; so any alternative solution would work!","body":"The code in this question is a simplification of what I try to achieve in <a href=\"https://github.com/lottie4j/lottie4j/tree/main/core/src/main/java/com/lottie4j/core/model/bezier\" rel=\"nofollow noreferrer\">github.com/lottie4j/lottie4j/tree/main/core/src/main/java/co&zwnj;&#8203;m/&hellip;</a>. I use TDD based on <a href=\"https://lottiefiles.github.io/lottie-docs/shapes/#path\" rel=\"nofollow noreferrer\">lottiefiles.github.io/lottie-docs/shapes/#path</a> and existing lottie-files. This way I could determine there are two different data models of Beziers based on the animated (a) value, which I defined as AnimatedBezier and FixedBezier. But nothing is &quot;set in stone&quot; so any alternative solution would work!"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1675173759,"post_id":75291037,"comment_id":132868383,"body_markdown":"The documenation is somewhat hard to follow. It seems that in certain places in the JSON more than one structure could appear and the only way to work out which structure it is is by inspecting the field names and then matching those against known structures. If this is the case then a Jackson-style data-binding approach will not work. You would instead need a parser that iterates through the JSON tokens (or traverses over a JSON node tree), and by inspecting the next set of fields, makes decisions on what data structure to create next.","body":"The documenation is somewhat hard to follow. It seems that in certain places in the JSON more than one structure could appear and the only way to work out which structure it is is by inspecting the field names and then matching those against known structures. If this is the case then a Jackson-style data-binding approach will not work. You would instead need a parser that iterates through the JSON tokens (or traverses over a JSON node tree), and by inspecting the next set of fields, makes decisions on what data structure to create next."},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1675178338,"post_id":75291037,"comment_id":132870094,"body_markdown":"+1 regarding the documentation being hard to follow ;-) and that&#39;s what I was afraid of, my idea to use only data-binding and records will probably not work...","body":"+1 regarding the documentation being hard to follow ;-) and that&#39;s what I was afraid of, my idea to use only data-binding and records will probably not work..."},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1675185110,"post_id":75291037,"comment_id":132872541,"body_markdown":"Yep, you could still make a data-binding approach work, but I think you would have to hand-craft the translation from JSON tokens/nodes to your data model. For a small data model this isn&#39;t too difficult. Another option might be to use a tool like https://www.jsonschema2pojo.org/ to compile the JSON schema for Lottie (https://lottiefiles.github.io/lottie-docs/schema/) into Java pojos.","body":"Yep, you could still make a data-binding approach work, but I think you would have to hand-craft the translation from JSON tokens/nodes to your data model. For a small data model this isn&#39;t too difficult. Another option might be to use a tool like <a href=\"https://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo.org</a> to compile the JSON schema for Lottie (<a href=\"https://lottiefiles.github.io/lottie-docs/schema/\" rel=\"nofollow noreferrer\">lottiefiles.github.io/lottie-docs/schema</a>) into Java pojos."},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1675271520,"post_id":75291037,"comment_id":132894191,"body_markdown":"I added a JsonDeserializer &quot;one level higher&quot; in the Java model, and now seem to have a working solution. Thanks for the hint.","body":"I added a JsonDeserializer &quot;one level higher&quot; in the Java model, and now seem to have a working solution. Thanks for the hint."},{"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"score":0,"creation_date":1675271529,"post_id":75291037,"comment_id":132894196,"body_markdown":"Commit containing this fix: https://github.com/lottie4j/lottie4j/commit/125fc652515b21a20e5f5c063d3eea4e93fcbb22","body":"Commit containing this fix: <a href=\"https://github.com/lottie4j/lottie4j/commit/125fc652515b21a20e5f5c063d3eea4e93fcbb22\" rel=\"nofollow noreferrer\">github.com/lottie4j/lottie4j/commit/&hellip;</a>"},{"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":1,"creation_date":1675445108,"post_id":75291037,"comment_id":132937708,"body_markdown":"&#128077;&#128077;&#128077;&#128077;&#128077;&#128077;&#128077;&#128077;","body":""}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":9,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677843771,"creation_date":1675119395,"answer_id":75291037,"question_id":75290282,"body_markdown":"The problem is that you&#39;re using JSON field &quot;a&quot; as both a type identifier:\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;a&quot;)\r\n\r\nand as a field identifier:\r\n\r\n    @JsonProperty(&quot;a&quot;)\r\n\r\nSince the type identifiers have to be string values, this is what you&#39;re seeing in the resultant JSON - the type id expressed as a string.\r\n\r\nIf you change one of them to use a different field name, and update your test JSON accordingly, then it works, e.g.\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;id&quot;)\r\n\r\n    // jsonLottieFilesFixed\r\n    &quot;&quot;&quot;\r\n    { &quot;id&quot;: &quot;0&quot;, &quot;a&quot;: 0, &quot;d&quot;: &quot;test&quot;}\r\n    &quot;&quot;&quot;,\r\n\r\nwith the following output:\r\n\r\n    Original:\r\n    { &quot;id&quot;: &quot;0&quot;, &quot;a&quot;: 0, &quot;d&quot;: &quot;test&quot;}\r\n\r\n    Generated:\r\n    {&quot;id&quot;:&quot;0&quot;,&quot;a&quot;:0,&quot;d&quot;:&quot;test&quot;}","title":"Jackson JSON JsonTypeInfo and JsonSubTypes Integer value is serialized as String to JSON","body":"<p>The problem is that you're using JSON field &quot;a&quot; as both a type identifier:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;a&quot;)\n</code></pre>\n<p>and as a field identifier:</p>\n<pre><code>@JsonProperty(&quot;a&quot;)\n</code></pre>\n<p>Since the type identifiers have to be string values, this is what you're seeing in the resultant JSON - the type id expressed as a string.</p>\n<p>If you change one of them to use a different field name, and update your test JSON accordingly, then it works, e.g.</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;id&quot;)\n\n// jsonLottieFilesFixed\n&quot;&quot;&quot;\n{ &quot;id&quot;: &quot;0&quot;, &quot;a&quot;: 0, &quot;d&quot;: &quot;test&quot;}\n&quot;&quot;&quot;,\n</code></pre>\n<p>with the following output:</p>\n<pre><code>Original:\n{ &quot;id&quot;: &quot;0&quot;, &quot;a&quot;: 0, &quot;d&quot;: &quot;test&quot;}\n\nGenerated:\n{&quot;id&quot;:&quot;0&quot;,&quot;a&quot;:0,&quot;d&quot;:&quot;test&quot;}\n</code></pre>\n"}],"owner":{"account_id":104307,"reputation":5969,"user_id":278949,"accept_rate":97,"display_name":"Frank"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":412,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75291037,"answer_count":1,"score":1,"last_activity_date":1677843771,"creation_date":1675113632,"question_id":75290282,"body_markdown":"In my &quot;quest&quot; to parse lottieFile and dotLottie JSONs into Java objects and back to identical lottieFiles (see https://lottie4j.com/), I discovered a strange effect of @JsonSubTypes.\r\n\r\nJava 17 + Jackson 2.14.1\r\n\r\nAs I&#39;m making an implementation on top of the Lottie data model, it&#39;s not possible to make a change in the JSON format.\r\n\r\nIt seems that the following code, causes the Integer value of `a` to become a String when converting back to JSON.\r\n\r\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;a&quot;)\r\n    @JsonSubTypes({\r\n          @JsonSubTypes.Type(names = {&quot;0&quot;, &quot;0.0&quot;}, value = FixedBezier.class),\r\n          @JsonSubTypes.Type(names = {&quot;1&quot;, &quot;1.0&quot;}, value = AnimatedBezier.class)\r\n    })\r\n\r\n\r\nThis is the test result:\r\n\r\n    Original:     {&quot;a&quot;: 0, &quot;d&quot;: &quot;test&quot;}\r\n    Generated:    {&quot;a&quot;: &quot;0&quot;, &quot;d&quot;: &quot;test&quot;}\r\n\r\nEven when using \r\n\r\n    @JsonSerialize(using = IntegerSerializer.class)\r\n\r\nor\r\n\r\n    @JsonSerialize(using = AnimatedSerializer.class)\r\n\r\nWith or without these `@JsonSerialize`, `&quot;a&quot;: &quot;0&quot;` is generated instead of `&quot;a&quot;: 0`. Am I missing some configuration to force the JsonSubType value to be stored as a number in the JSON? How can this be achieved?\r\n\r\nThis is my full test code, with both the `@JsonSerialize` commented to easily switch between different possible solutions...\r\n\r\n    import com.fasterxml.jackson.annotation.*;\r\n    import com.fasterxml.jackson.core.JsonGenerator;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.JsonSerializer;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializerProvider;\r\n    import com.fasterxml.jackson.databind.annotation.JsonSerialize;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    public class BezierTest {\r\n    \r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        public static void main(String[] args) {\r\n            String[] jsons = new String[]{\r\n                    // jsonLottieFilesFixed\r\n                    &quot;{\\&quot;a\\&quot;:0,\\&quot;d\\&quot;:\\&quot;test\\&quot;}&quot;,\r\n                    // jsonLottieFilesAnimated\r\n                    &quot;{\\&quot;a\\&quot;:1,\\&quot;d\\&quot;:\\&quot;test\\&quot;}&quot;,\r\n                    // dotLottieFilesFixed\r\n                    &quot;{\\&quot;a\\&quot;:0.0,\\&quot;d\\&quot;:\\&quot;test\\&quot;}&quot;,\r\n                    // dotLottieFilesAnimated\r\n                    &quot;{\\&quot;a\\&quot;:1.0,\\&quot;d\\&quot;:\\&quot;test\\&quot;}&quot;\r\n            };\r\n            for (String json : jsons) {\r\n                test(json);\r\n            }\r\n        }\r\n    \r\n        private static void test(String json) {\r\n            BaseBezier objectFromJson = null;\r\n            try {\r\n                objectFromJson = mapper.readValue(json, BaseBezier.class);\r\n                ObjectMapper mapper = new ObjectMapper();\r\n                String jsonFromObject = mapper.writeValueAsString(objectFromJson);\r\n    \r\n                System.out.println(&quot;Original:\\t&quot; + json);\r\n                System.out.println(&quot;Generated:\\t&quot; + jsonFromObject);\r\n    \r\n                System.out.println(&quot;Is equal: &quot; + json.equals(jsonFromObject));\r\n            } catch (JsonProcessingException e) {\r\n                System.err.println(&quot;Json exception: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    \r\n        @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;a&quot;)\r\n        @JsonSubTypes({\r\n                @JsonSubTypes.Type(names = {&quot;0&quot;, &quot;0.0&quot;}, value = FixedBezier.class),\r\n                @JsonSubTypes.Type(names = {&quot;1&quot;, &quot;1.0&quot;}, value = AnimatedBezier.class)\r\n        })\r\n        interface BaseBezier {\r\n    \r\n        }\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        record FixedBezier(\r\n                @JsonProperty(&quot;a&quot;)\r\n                @JsonSerialize(using = AnimatedSerializer.class)\r\n                Integer animated,\r\n    \r\n                @JsonProperty(&quot;d&quot;)\r\n                String data\r\n    \r\n        ) implements BaseBezier {\r\n        }\r\n    \r\n        @JsonIgnoreProperties(ignoreUnknown = true)\r\n        @JsonInclude(JsonInclude.Include.NON_NULL)\r\n        public record AnimatedBezier(\r\n                @JsonProperty(&quot;a&quot;)\r\n                // @JsonSerialize(using = AnimatedSerializer.class)\r\n                Integer animated,\r\n    \r\n                @JsonProperty(&quot;d&quot;)\r\n                String data\r\n        ) implements BaseBezier {\r\n        }\r\n    \r\n        private static class AnimatedSerializer extends JsonSerializer {\r\n            @Override\r\n            public void serialize(Object o, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n                jsonGenerator.writeNumber((int) o);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"Jackson JSON JsonTypeInfo and JsonSubTypes Integer value is serialized as String to JSON","body":"<p>In my &quot;quest&quot; to parse lottieFile and dotLottie JSONs into Java objects and back to identical lottieFiles (see <a href=\"https://lottie4j.com/\" rel=\"nofollow noreferrer\">https://lottie4j.com/</a>), I discovered a strange effect of @JsonSubTypes.</p>\n<p>Java 17 + Jackson 2.14.1</p>\n<p>As I'm making an implementation on top of the Lottie data model, it's not possible to make a change in the JSON format.</p>\n<p>It seems that the following code, causes the Integer value of <code>a</code> to become a String when converting back to JSON.</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;a&quot;)\n@JsonSubTypes({\n      @JsonSubTypes.Type(names = {&quot;0&quot;, &quot;0.0&quot;}, value = FixedBezier.class),\n      @JsonSubTypes.Type(names = {&quot;1&quot;, &quot;1.0&quot;}, value = AnimatedBezier.class)\n})\n</code></pre>\n<p>This is the test result:</p>\n<pre><code>Original:     {&quot;a&quot;: 0, &quot;d&quot;: &quot;test&quot;}\nGenerated:    {&quot;a&quot;: &quot;0&quot;, &quot;d&quot;: &quot;test&quot;}\n</code></pre>\n<p>Even when using</p>\n<pre><code>@JsonSerialize(using = IntegerSerializer.class)\n</code></pre>\n<p>or</p>\n<pre><code>@JsonSerialize(using = AnimatedSerializer.class)\n</code></pre>\n<p>With or without these <code>@JsonSerialize</code>, <code>&quot;a&quot;: &quot;0&quot;</code> is generated instead of <code>&quot;a&quot;: 0</code>. Am I missing some configuration to force the JsonSubType value to be stored as a number in the JSON? How can this be achieved?</p>\n<p>This is my full test code, with both the <code>@JsonSerialize</code> commented to easily switch between different possible solutions...</p>\n<pre><code>import com.fasterxml.jackson.annotation.*;\nimport com.fasterxml.jackson.core.JsonGenerator;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.JsonSerializer;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializerProvider;\nimport com.fasterxml.jackson.databind.annotation.JsonSerialize;\n\nimport java.io.IOException;\n\npublic class BezierTest {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    public static void main(String[] args) {\n        String[] jsons = new String[]{\n                // jsonLottieFilesFixed\n                &quot;{\\&quot;a\\&quot;:0,\\&quot;d\\&quot;:\\&quot;test\\&quot;}&quot;,\n                // jsonLottieFilesAnimated\n                &quot;{\\&quot;a\\&quot;:1,\\&quot;d\\&quot;:\\&quot;test\\&quot;}&quot;,\n                // dotLottieFilesFixed\n                &quot;{\\&quot;a\\&quot;:0.0,\\&quot;d\\&quot;:\\&quot;test\\&quot;}&quot;,\n                // dotLottieFilesAnimated\n                &quot;{\\&quot;a\\&quot;:1.0,\\&quot;d\\&quot;:\\&quot;test\\&quot;}&quot;\n        };\n        for (String json : jsons) {\n            test(json);\n        }\n    }\n\n    private static void test(String json) {\n        BaseBezier objectFromJson = null;\n        try {\n            objectFromJson = mapper.readValue(json, BaseBezier.class);\n            ObjectMapper mapper = new ObjectMapper();\n            String jsonFromObject = mapper.writeValueAsString(objectFromJson);\n\n            System.out.println(&quot;Original:\\t&quot; + json);\n            System.out.println(&quot;Generated:\\t&quot; + jsonFromObject);\n\n            System.out.println(&quot;Is equal: &quot; + json.equals(jsonFromObject));\n        } catch (JsonProcessingException e) {\n            System.err.println(&quot;Json exception: &quot; + e.getMessage());\n        }\n    }\n\n    @JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;a&quot;)\n    @JsonSubTypes({\n            @JsonSubTypes.Type(names = {&quot;0&quot;, &quot;0.0&quot;}, value = FixedBezier.class),\n            @JsonSubTypes.Type(names = {&quot;1&quot;, &quot;1.0&quot;}, value = AnimatedBezier.class)\n    })\n    interface BaseBezier {\n\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    record FixedBezier(\n            @JsonProperty(&quot;a&quot;)\n            @JsonSerialize(using = AnimatedSerializer.class)\n            Integer animated,\n\n            @JsonProperty(&quot;d&quot;)\n            String data\n\n    ) implements BaseBezier {\n    }\n\n    @JsonIgnoreProperties(ignoreUnknown = true)\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    public record AnimatedBezier(\n            @JsonProperty(&quot;a&quot;)\n            // @JsonSerialize(using = AnimatedSerializer.class)\n            Integer animated,\n\n            @JsonProperty(&quot;d&quot;)\n            String data\n    ) implements BaseBezier {\n    }\n\n    private static class AnimatedSerializer extends JsonSerializer {\n        @Override\n        public void serialize(Object o, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n            jsonGenerator.writeNumber((int) o);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","methods","parameters","arguments"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1677790516,"post_id":75620702,"comment_id":133412285,"body_markdown":"You&#39;re not calling `mile` with any parameters; it takes parameters.","body":"You&#39;re not calling <code>mile</code> with any parameters; it takes parameters."}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677835317,"creation_date":1677791376,"answer_id":75620864,"question_id":75620702,"body_markdown":"- `mpg` should not be a parameter but a local variable inside the `mile` function.\r\n- Pass `miles` and `gallons` to the `mile` function when calling it.\r\n\r\n```java\r\npublic static void mile(double miles, double gallons) {\r\n    double mpg = miles/gallons;\r\n    System.out.println(&quot;you drove&quot; + miles + &quot;milkes&quot;);\r\n    System.out.println(&quot;You uses&quot; + gallons + &quot;gallons&quot;);\r\n    System.out.println(&quot;The mpg is&quot; + mpg);\r\n}\r\npublic static void main(String[] args) {\r\n    // ...\r\n    mile(miles, gallons);\r\n}\r\n```","title":"passing arguments from the user","body":"<ul>\n<li><code>mpg</code> should not be a parameter but a local variable inside the <code>mile</code> function.</li>\n<li>Pass <code>miles</code> and <code>gallons</code> to the <code>mile</code> function when calling it.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public static void mile(double miles, double gallons) {\n    double mpg = miles/gallons;\n    System.out.println(&quot;you drove&quot; + miles + &quot;milkes&quot;);\n    System.out.println(&quot;You uses&quot; + gallons + &quot;gallons&quot;);\n    System.out.println(&quot;The mpg is&quot; + mpg);\n}\npublic static void main(String[] args) {\n    // ...\n    mile(miles, gallons);\n}\n</code></pre>\n"}],"owner":{"account_id":27169108,"reputation":1,"user_id":20706090,"display_name":"vishnu97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677843689,"answer_count":1,"score":-1,"last_activity_date":1677843669,"creation_date":1677790348,"question_id":75620702,"body_markdown":"```java\r\npackage p1;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class P1 {\r\n    public static void mile(double mpg, double miles, double gallons) {\r\n    \tmpg = miles/gallons;\r\n    \tSystem.out.println(&quot;you drove&quot; + miles + &quot;milkes&quot;);\r\n    \tSystem.out.println(&quot;You uses&quot; + gallons + &quot;gallons&quot;);\r\n    \tSystem.out.println(&quot;The mpg is&quot; + mpg);\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n    \tScanner sc = new Scanner(System.in);\r\n    \tSystem.out.println(&quot;Enter your name : &quot;);\r\n    \tString str = sc.nextLine();\r\n    \tSystem.out.println(&quot;Enter the value of miles&quot;);\r\n    \tdouble miles = sc.nextDouble();\r\n    \tSystem.out.println(&quot;Enter the value of gallons&quot;);\r\n    \tdouble gallons = sc.nextDouble();\r\n    \tmile();\r\n    }\r\n}  \r\n```\r\n    \r\nI want to take inputs dynamically, what should I do to take inputs from the user?\r\n\r\nI am getting this error:\r\n&gt; The method mile(double, double, double) in the type P1 is not applicable for the arguments()\r\n","title":"passing arguments from the user","body":"<pre class=\"lang-java prettyprint-override\"><code>package p1;\n\nimport java.util.Scanner;\n\npublic class P1 {\n    public static void mile(double mpg, double miles, double gallons) {\n        mpg = miles/gallons;\n        System.out.println(&quot;you drove&quot; + miles + &quot;milkes&quot;);\n        System.out.println(&quot;You uses&quot; + gallons + &quot;gallons&quot;);\n        System.out.println(&quot;The mpg is&quot; + mpg);\n    }\n    \n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Enter your name : &quot;);\n        String str = sc.nextLine();\n        System.out.println(&quot;Enter the value of miles&quot;);\n        double miles = sc.nextDouble();\n        System.out.println(&quot;Enter the value of gallons&quot;);\n        double gallons = sc.nextDouble();\n        mile();\n    }\n}  \n</code></pre>\n<p>I want to take inputs dynamically, what should I do to take inputs from the user?</p>\n<p>I am getting this error:</p>\n<blockquote>\n<p>The method mile(double, double, double) in the type P1 is not applicable for the arguments()</p>\n</blockquote>\n"},{"tags":["java","android","android-activity","memory-leaks","bluetooth"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":1,"creation_date":1553142918,"post_id":55273747,"comment_id":97278410,"body_markdown":"THis is Doze mode.  Read up on it at https://developer.android.com/training/monitoring-device-state/doze-standby","body":"THis is Doze mode.  Read up on it at <a href=\"https://developer.android.com/training/monitoring-device-state/doze-standby\" rel=\"nofollow noreferrer\">developer.android.com/training/monitoring-device-state/&hellip;</a>"},{"owner":{"account_id":15573911,"reputation":21,"user_id":11235489,"display_name":"aaron_wafer"},"score":0,"creation_date":1553143215,"post_id":55273747,"comment_id":97278474,"body_markdown":"@GabeSechan , Thanks for reply , I will read it and let u know","body":"@GabeSechan , Thanks for reply , I will read it and let u know"},{"owner":{"account_id":15573911,"reputation":21,"user_id":11235489,"display_name":"aaron_wafer"},"score":0,"creation_date":1553144921,"post_id":55273747,"comment_id":97278823,"body_markdown":"@GabeSechan , I read the document, but to solve Doze mode issue i can&#39;t ask users to accept REQUEST_IGNORE_BATTERY_OPTIMIZATIONS permissions because it is not permitted Google play store, the other option available is using FCM but i am not sure whether it will work in my case. Please tell me any other ways to achieve it.Thank you","body":"@GabeSechan , I read the document, but to solve Doze mode issue i can&#39;t ask users to accept REQUEST_IGNORE_BATTERY_OPTIMIZATIONS permissions because it is not permitted Google play store, the other option available is using FCM but i am not sure whether it will work in my case. Please tell me any other ways to achieve it.Thank you"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1553145555,"post_id":55273747,"comment_id":97278953,"body_markdown":"You can request that from the play store, but it doesn&#39;t turn off battery optimizations-  it lets you launch the screen where the user can choose to turn it off.","body":"You can request that from the play store, but it doesn&#39;t turn off battery optimizations-  it lets you launch the screen where the user can choose to turn it off."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1553145667,"post_id":55273747,"comment_id":97278973,"body_markdown":"I can&#39;t really help you any more than that because I have no idea what you&#39;re doing other than using bluetooth somehow.  But the general rule is you can&#39;t expect your services to last very long unless they&#39;re foreground, and you can&#39;t expect anything to process more than once every 15 minutes when the screen is off.","body":"I can&#39;t really help you any more than that because I have no idea what you&#39;re doing other than using bluetooth somehow.  But the general rule is you can&#39;t expect your services to last very long unless they&#39;re foreground, and you can&#39;t expect anything to process more than once every 15 minutes when the screen is off."},{"owner":{"account_id":15573911,"reputation":21,"user_id":11235489,"display_name":"aaron_wafer"},"score":0,"creation_date":1553145881,"post_id":55273747,"comment_id":97279027,"body_markdown":"@GabeSechan, Thanks for reply , can i  get clear , you are saying i can use REQUEST_IGNORE_BATTERY_OPTIMIZATIONS permissions , so where should i give the permission ? and when. Is this permission solve my problem?","body":"@GabeSechan, Thanks for reply , can i  get clear , you are saying i can use REQUEST_IGNORE_BATTERY_OPTIMIZATIONS permissions , so where should i give the permission ? and when. Is this permission solve my problem?"},{"owner":{"account_id":15573911,"reputation":21,"user_id":11235489,"display_name":"aaron_wafer"},"score":0,"creation_date":1553145995,"post_id":55273747,"comment_id":97279056,"body_markdown":"@GabeSechan, currently i am not using any foreground services , i am handling job in a seperate thread.Should i use foreground services?","body":"@GabeSechan, currently i am not using any foreground services , i am handling job in a seperate thread.Should i use foreground services?"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1553146195,"post_id":55273747,"comment_id":97279102,"body_markdown":"You can, but that alone doesn&#39;t white list you-  it launches the settings page where the user would have to press a button to whitelist you.  As for foreground service-  how are you handling it now?  Putting it in your main activity?  Then yeah, once your activity goes into the background you&#39;d be put high on the list of things that can be killed, and a foreground service is your best bet to stay resident a while-   but you&#39;ll still have Doze issues depending on when you&#39;re trying to read BT data.","body":"You can, but that alone doesn&#39;t white list you-  it launches the settings page where the user would have to press a button to whitelist you.  As for foreground service-  how are you handling it now?  Putting it in your main activity?  Then yeah, once your activity goes into the background you&#39;d be put high on the list of things that can be killed, and a foreground service is your best bet to stay resident a while-   but you&#39;ll still have Doze issues depending on when you&#39;re trying to read BT data."},{"owner":{"account_id":15573911,"reputation":21,"user_id":11235489,"display_name":"aaron_wafer"},"score":0,"creation_date":1553146211,"post_id":55273747,"comment_id":97279107,"body_markdown":"@GabeSechan,  can foreground service run for long time while screen is off or whether it also get killed by android system,","body":"@GabeSechan,  can foreground service run for long time while screen is off or whether it also get killed by android system,"},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1553146299,"post_id":55273747,"comment_id":97279121,"body_markdown":"Anything can be killed by Android if resources go low enough.  Foreground services are given higher priority to keep around when it kills things for resources.  Backgrounded activities are fairly low on the list.","body":"Anything can be killed by Android if resources go low enough.  Foreground services are given higher priority to keep around when it kills things for resources.  Backgrounded activities are fairly low on the list."},{"owner":{"account_id":15573911,"reputation":21,"user_id":11235489,"display_name":"aaron_wafer"},"score":0,"creation_date":1553146351,"post_id":55273747,"comment_id":97279133,"body_markdown":"@GabeSechan,thanks for reply , i will try to work it on a foreground service and test and let u know ,Thanks again","body":"@GabeSechan,thanks for reply , i will try to work it on a foreground service and test and let u know ,Thanks again"}],"answers":[{"tags":[],"owner":{"account_id":329693,"reputation":218,"user_id":653358,"display_name":"Tompi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677843597,"creation_date":1677843597,"answer_id":75626623,"question_id":55273747,"body_markdown":"I think you need to use a foreground service. \r\nThe android documentation is here: https://developer.android.com/guide/components/foreground-services\r\n\r\nCheck this article for more infohttps://proandroiddev.com/background-ble-scan-in-doze-mode-on-android-devices-3c2ce1764570","title":"Android application get killed after screen locked for some time","body":"<p>I think you need to use a foreground service.\nThe android documentation is here: <a href=\"https://developer.android.com/guide/components/foreground-services\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/foreground-services</a></p>\n<p>Check this article for more infohttps://proandroiddev.com/background-ble-scan-in-doze-mode-on-android-devices-3c2ce1764570</p>\n"}],"owner":{"account_id":15573911,"reputation":21,"user_id":11235489,"display_name":"aaron_wafer"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":965,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677843597,"creation_date":1553142071,"question_id":55273747,"body_markdown":"I am developing an Android application involving recording data in bytes into file in phone storage from an external device that is connected via Bluetooth. I need the application to continuously run for few days without stopping.\r\n\r\nI have tested for a few hours and the recording works fine while screen is ON. But when the screen is locked for more than a few minutes,in some devices like redmi phones, when i open the app again , it gets restarted again after stopping my app.This case happens when app is minimized for a few minutes.\r\n\r\nI have searched on internet and came to know that applications are killed by android system when it is running on onPause for a some time inorder to save memory.\r\n\r\nI am not sure if it is reason behind of that but if there is any other reason, please let me know.\r\n\r\nAndroid working is as follows, \r\n\r\n1. Establish Bluetooth connection between external device and android app.\r\n\r\n2. I am using NRF BLE_app_uart library to get thing done.\r\n\r\n3. Receiving data in bytes from external device to phone through bluetooth.\r\n\r\n4. This data bytes are added to static arraylist and using an external runnable thread read values from arraylist and write/append into external file using Outputwriter method.\r\n\r\n5. Data byte are simultaneously plotted in graph from external thread.\r\n\r\n6. The tested device is Redmi Y2  (Android O , 8.1.0).\r\n\r\nThe problem is that when device is locked for more than few minutes , it gets destroyed and restarted again.\r\n \r\nMy doubt about reason is whether it is memory problem or android system doing.\r\n\r\nActually app is expected to run for few days and I wonder how various fitness apps are working for days.\r\n","title":"Android application get killed after screen locked for some time","body":"<p>I am developing an Android application involving recording data in bytes into file in phone storage from an external device that is connected via Bluetooth. I need the application to continuously run for few days without stopping.</p>\n\n<p>I have tested for a few hours and the recording works fine while screen is ON. But when the screen is locked for more than a few minutes,in some devices like redmi phones, when i open the app again , it gets restarted again after stopping my app.This case happens when app is minimized for a few minutes.</p>\n\n<p>I have searched on internet and came to know that applications are killed by android system when it is running on onPause for a some time inorder to save memory.</p>\n\n<p>I am not sure if it is reason behind of that but if there is any other reason, please let me know.</p>\n\n<p>Android working is as follows, </p>\n\n<ol>\n<li><p>Establish Bluetooth connection between external device and android app.</p></li>\n<li><p>I am using NRF BLE_app_uart library to get thing done.</p></li>\n<li><p>Receiving data in bytes from external device to phone through bluetooth.</p></li>\n<li><p>This data bytes are added to static arraylist and using an external runnable thread read values from arraylist and write/append into external file using Outputwriter method.</p></li>\n<li><p>Data byte are simultaneously plotted in graph from external thread.</p></li>\n<li><p>The tested device is Redmi Y2  (Android O , 8.1.0).</p></li>\n</ol>\n\n<p>The problem is that when device is locked for more than few minutes , it gets destroyed and restarted again.</p>\n\n<p>My doubt about reason is whether it is memory problem or android system doing.</p>\n\n<p>Actually app is expected to run for few days and I wonder how various fitness apps are working for days.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1665671975,"post_id":74057550,"comment_id":130758390,"body_markdown":"Okay, so you know the problem and solution. What is your actual question here? One line compares an array element with the element in the array on the indey before it, and the other compares an array element to the value saved in a variable. They are obviously different operations.","body":"Okay, so you know the problem and solution. What is your actual question here? One line compares an array element with the element in the array on the indey before it, and the other compares an array element to the value saved in a variable. They are obviously different operations."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":3,"creation_date":1665672242,"post_id":74057550,"comment_id":130758492,"body_markdown":"Well the second one correctly finds the max of the array by comparing current max value and setting current max if the current iteration is greater than it.  The first one compares current array value to previous array value and assign the value to `great` for no reason.  The difference is really that the first one is wrong and the second one is right","body":"Well the second one correctly finds the max of the array by comparing current max value and setting current max if the current iteration is greater than it.  The first one compares current array value to previous array value and assign the value to <code>great</code> for no reason.  The difference is really that the first one is wrong and the second one is right"},{"owner":{"account_id":21464225,"reputation":1,"user_id":15814437,"display_name":"taimoorahmad"},"score":0,"creation_date":1665685142,"post_id":74057550,"comment_id":130762887,"body_markdown":"@Nexevis   There is an If statement that checks if(money[i]&gt;money[i-1]) and assigns value to a great variable, which somehow does not work for the third test.","body":"@Nexevis   There is an If statement that checks if(money[i]&gt;money[i-1]) and assigns value to a great variable, which somehow does not work for the third test."},{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":1,"creation_date":1665685207,"post_id":74057550,"comment_id":130762912,"body_markdown":"Yes because that is clearly not the same thing as `money[i]&gt;great`, one is checking the value of `great` and one is not.","body":"Yes because that is clearly not the same thing as <code>money[i]&gt;great</code>, one is checking the value of <code>great</code> and one is not."}],"answers":[{"tags":[],"owner":{"account_id":19607379,"reputation":330,"user_id":14350717,"display_name":"Md. Saifur Rahman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677843544,"creation_date":1677843544,"answer_id":75626613,"question_id":74057550,"body_markdown":"## JavaScript solution\r\n\r\n```\r\nvar maximumWealth = function(accounts) {\r\n    let max_wealth = 0;\r\n    accounts.forEach(item_i =&gt; {\r\n        let item_i_wealth=0;\r\n        item_i.forEach(item_j =&gt; {\r\n            item_i_wealth=item_i_wealth+item_j;\r\n        })\r\n        max_wealth = max_wealth&gt;item_i_wealth ? max_wealth : item_i_wealth;\r\n    })\r\n    return max_wealth\r\n};\r\n```","title":"1672. Richest Customer Wealth. The differeence in these 2 solution is only in line() but can anyone explain how this makes a difference?","body":"<h2>JavaScript solution</h2>\n<pre><code>var maximumWealth = function(accounts) {\n    let max_wealth = 0;\n    accounts.forEach(item_i =&gt; {\n        let item_i_wealth=0;\n        item_i.forEach(item_j =&gt; {\n            item_i_wealth=item_i_wealth+item_j;\n        })\n        max_wealth = max_wealth&gt;item_i_wealth ? max_wealth : item_i_wealth;\n    })\n    return max_wealth\n};\n</code></pre>\n"}],"owner":{"account_id":21464225,"reputation":1,"user_id":15814437,"display_name":"taimoorahmad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":298,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677843544,"creation_date":1665671513,"question_id":74057550,"body_markdown":"The question and the test cases are in this leetcode link.\r\nhttps://leetcode.com/problems/richest-customer-wealth/description/\r\nSolution 1 fails in the 3rd test while solution 2 passes all tests; the only difference is in the highlighted line.\r\n\r\nSolution1:\r\n\r\n    class Solution {\r\n        public int maximumWealth(int[][] accounts) {    \r\n            int[] money = new int[accounts.length];\r\n            for(int i=0;i&lt;accounts.length;i++){\r\n                for(int j=0;j&lt;accounts[i].length;j++){\r\n                    money[i] = money[i] + accounts[i][j];\r\n                }\r\n            }\r\n            return max(money);\r\n        }\r\n        static int max(int[] money){\r\n            int great = money[0];\r\n            for(int i=1;i&lt;money.length;i++){\r\n                if(money[i]&gt;money[i-1]){    // This line has problem&lt;&lt;&lt;-----------------------HERE\r\n                    great = money[i];\r\n                }\r\n            }\r\n            return great;\r\n        }\r\n    }\r\n\r\nSolution2:\r\n\r\n    class Solution {\r\n        public int maximumWealth(int[][] accounts) {    \r\n            int[] money = new int[accounts.length];\r\n            for(int i=0;i&lt;accounts.length;i++){\r\n                for(int j=0;j&lt;accounts[i].length;j++){\r\n                    money[i] = money[i] + accounts[i][j];\r\n                }\r\n            }\r\n            return max(money);\r\n        }\r\n        static int max(int[] money){\r\n            int great = money[0];\r\n            for(int i=1;i&lt;money.length;i++){\r\n                if(money[i]&gt;great){          // this line is correct&lt;&lt;&lt;-----------------------HERE\r\n                    great = money[i];\r\n                }\r\n            }\r\n            return great;\r\n        }\r\n    }\r\n\r\n","title":"1672. Richest Customer Wealth. The differeence in these 2 solution is only in line() but can anyone explain how this makes a difference?","body":"<p>The question and the test cases are in this leetcode link.\n<a href=\"https://leetcode.com/problems/richest-customer-wealth/description/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/richest-customer-wealth/description/</a>\nSolution 1 fails in the 3rd test while solution 2 passes all tests; the only difference is in the highlighted line.</p>\n<p>Solution1:</p>\n<pre><code>class Solution {\n    public int maximumWealth(int[][] accounts) {    \n        int[] money = new int[accounts.length];\n        for(int i=0;i&lt;accounts.length;i++){\n            for(int j=0;j&lt;accounts[i].length;j++){\n                money[i] = money[i] + accounts[i][j];\n            }\n        }\n        return max(money);\n    }\n    static int max(int[] money){\n        int great = money[0];\n        for(int i=1;i&lt;money.length;i++){\n            if(money[i]&gt;money[i-1]){    // This line has problem&lt;&lt;&lt;-----------------------HERE\n                great = money[i];\n            }\n        }\n        return great;\n    }\n}\n</code></pre>\n<p>Solution2:</p>\n<pre><code>class Solution {\n    public int maximumWealth(int[][] accounts) {    \n        int[] money = new int[accounts.length];\n        for(int i=0;i&lt;accounts.length;i++){\n            for(int j=0;j&lt;accounts[i].length;j++){\n                money[i] = money[i] + accounts[i][j];\n            }\n        }\n        return max(money);\n    }\n    static int max(int[] money){\n        int great = money[0];\n        for(int i=1;i&lt;money.length;i++){\n            if(money[i]&gt;great){          // this line is correct&lt;&lt;&lt;-----------------------HERE\n                great = money[i];\n            }\n        }\n        return great;\n    }\n}\n</code></pre>\n"},{"tags":["java","generics","variance","contravariance"],"comments":[{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1677842036,"post_id":75625923,"comment_id":133421298,"body_markdown":"Thats not really what you would use contrivance for.  With conscience, you know T is (a type of) Cat, so you know that you can call Cat methods on that instance.  With `&lt;T super Animal&gt;`, that doesnt give anything like that - you could validly have `ContravariantAnimalHolder&lt;Object&gt;`.  So contrarian is mostly used will Collections etc rather than operating on single instances - eg if you have a `List&lt;T super Cat &gt;` and you have an instance of a T, then you know you can add that instance to that List (which might be you have a List&lt;Animal&gt; you can add your Lion to it)","body":"Thats not really what you would use contrivance for.  With conscience, you know T is (a type of) Cat, so you know that you can call Cat methods on that instance.  With <code>&lt;T super Animal&gt;</code>, that doesnt give anything like that - you could validly have <code>ContravariantAnimalHolder&lt;Object&gt;</code>.  So contrarian is mostly used will Collections etc rather than operating on single instances - eg if you have a <code>List&lt;T super Cat &gt;</code> and you have an instance of a T, then you know you can add that instance to that List (which might be you have a List&lt;Animal&gt; you can add your Lion to it)"}],"answers":[{"comments":[{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1677849144,"post_id":75626543,"comment_id":133423068,"body_markdown":"I think, I need to get a more solid understanding about this, I have done this in Kotlin but still don&#39;t deeply understand the concept. I tried &lt;? super T&gt; and it still shows the same error,","body":"I think, I need to get a more solid understanding about this, I have done this in Kotlin but still don&#39;t deeply understand the concept. I tried &lt;? super T&gt; and it still shows the same error,"},{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1677854559,"post_id":75626543,"comment_id":133424755,"body_markdown":"Java and Kotlin work differently in this area.  In some places, including the generic parameters of classes, you can use extends and cannot use super in Java.","body":"Java and Kotlin work differently in this area.  In some places, including the generic parameters of classes, you can use extends and cannot use super in Java."},{"owner":{"account_id":13139346,"reputation":16,"user_id":9491396,"display_name":"GAL"},"score":1,"creation_date":1677865402,"post_id":75626543,"comment_id":133428008,"body_markdown":"@theMyth I don&#39;t know if you&#39;re trying to use &lt;? super T&gt; in a class or in a method, you cannot use super *at all* in a class, only in methods, perhaps thats what is wrong.","body":"@theMyth I don&#39;t know if you&#39;re trying to use &lt;? super T&gt; in a class or in a method, you cannot use super <i>at all</i> in a class, only in methods, perhaps thats what is wrong."},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1677867341,"post_id":75626543,"comment_id":133428495,"body_markdown":"Thank you for clarifying this @GAL, That helps, I think If I be completely honest, Im spending all day trying to understand why we have these two options, I think I can understand upper bound and the need for it, but I don&#39;t understand the need for &lt;? super T&gt; , maybe understanding a use case would help me, all the examples I find, don&#39;t give me a foundational understanding &amp; Im very confused","body":"Thank you for clarifying this @GAL, That helps, I think If I be completely honest, Im spending all day trying to understand why we have these two options, I think I can understand upper bound and the need for it, but I don&#39;t understand the need for &lt;? super T&gt; , maybe understanding a use case would help me, all the examples I find, don&#39;t give me a foundational understanding &amp; Im very confused"},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1677867503,"post_id":75626543,"comment_id":133428533,"body_markdown":"If you could give me a small use case when we need lower bound wildcards and if there is a difference between ? and T, then that would help me to no end. When I read the example of that link in the Lower bounds, I don&#39;t understand why lower bound exists","body":"If you could give me a small use case when we need lower bound wildcards and if there is a difference between ? and T, then that would help me to no end. When I read the example of that link in the Lower bounds, I don&#39;t understand why lower bound exists"},{"owner":{"display_name":"user16422658"},"score":0,"creation_date":1677884564,"post_id":75626543,"comment_id":133432254,"body_markdown":"What if I want to create a Consumer Interface ? I am not able to do this either ? Like in Kotlin where I can do in T ?","body":"What if I want to create a Consumer Interface ? I am not able to do this either ? Like in Kotlin where I can do in T ?"}],"tags":[],"owner":{"account_id":13139346,"reputation":16,"user_id":9491396,"display_name":"GAL"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677843008,"creation_date":1677843008,"answer_id":75626543,"question_id":75625923,"body_markdown":"In Java, you cannot define a generic type as a covariant or contravariant, as you can in other languages, for example, in scala \r\n\r\nInstead, in java, what you define are generic types with [*Upper bounds*][1] which limit you to the use of `extends` when it comes to types, and you cannot use `super` with generic types, reason you cannot use it in your `ContravariantAnimalHolder` class.\r\n\r\nYou can, however define methods with [lower bounded wildcards][2], which, depending on what you need may fit your needs for contravariant\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html","title":"How to use Contravariance in Java with Classes","body":"<p>In Java, you cannot define a generic type as a covariant or contravariant, as you can in other languages, for example, in scala</p>\n<p>Instead, in java, what you define are generic types with <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"nofollow noreferrer\"><em>Upper bounds</em></a> which limit you to the use of <code>extends</code> when it comes to types, and you cannot use <code>super</code> with generic types, reason you cannot use it in your <code>ContravariantAnimalHolder</code> class.</p>\n<p>You can, however define methods with <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/lowerBounded.html\" rel=\"nofollow noreferrer\">lower bounded wildcards</a>, which, depending on what you need may fit your needs for contravariant</p>\n"}],"owner":{"display_name":"user16422658"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75626543,"answer_count":1,"score":0,"last_activity_date":1677843008,"creation_date":1677839474,"question_id":75625923,"body_markdown":"I am learning Java variance.\r\n\r\nI am getting the Covariant to work but not Contravariance where I can accept a super type.\r\n\r\nI have a simple class hierarchy for this:\r\n\r\nAnimal,\r\nCat, \r\nLion\r\n\r\nThen I have two classes as Generic holders:\r\n\r\nCovariantAnimalHolder\r\nContraVariantHolder\r\n\r\nThe Covariant works fine but Contravariance isnt working.\r\n\r\nHere is the code:\r\n\r\n    public class Animal {\r\n        private String name;\r\n    \r\n        public Animal(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public Animal() {\r\n    \r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\n\r\n    public class Cat extends Animal {\r\n        private boolean isWild;\r\n    \r\n        public Cat(boolean isWild) {\r\n            this.isWild = isWild;\r\n        }\r\n    \r\n        public Cat(){\r\n    \r\n        }\r\n    \r\n        public boolean isWild() {\r\n            return isWild;\r\n        }\r\n    \r\n        public void setWild(boolean wild) {\r\n            isWild = wild;\r\n        }\r\n    }\r\n\r\n    public class Lion extends Cat{\r\n    \r\n        private boolean isExtinct;\r\n    \r\n        public Lion (boolean isExtinct) {\r\n            this.isExtinct = isExtinct;\r\n        }\r\n    \r\n        public Lion () {\r\n    \r\n        }\r\n    \r\n        public boolean isExtinct() {\r\n            return isExtinct;\r\n        }\r\n    \r\n        public void setExtinct(boolean extinct) {\r\n            isExtinct = extinct;\r\n        }\r\n    }\r\n\r\nAnimal Holders:\r\n\r\n    public class CovariantAnimalHolder&lt;T extends Cat&gt; {\r\n        private T animalHolder;\r\n    \r\n        public T getAnimalHolder() {\r\n            return animalHolder;\r\n        }\r\n    \r\n        public void setAnimalHolder(T animalHolder) {\r\n            this.animalHolder = animalHolder;\r\n        }\r\n    }\r\n\r\nMain program:\r\n\r\nSo far great\r\n\r\n    public class VarianceMain {\r\n    \r\n        public static void main(String[] args) {\r\n            //This works\r\n            CovariantAnimalHolder&lt;Lion&gt; lionCovariantAnimalHolder = new CovariantAnimalHolder&lt;Lion&gt;();\r\n    \r\n            //This works:\r\n            CovariantAnimalHolder&lt;Cat&gt; catCovariantAnimalHolder = new CovariantAnimalHolder&lt;&gt;();\r\n    \r\n            //This should not work, Perfect!\r\n            //CovariantAnimalHolder&lt;Animal&gt; animalCovariantAnimalHolder = new CovariantAnimalHolder&lt;Animal&gt;();\r\n        }\r\n    }\r\n\r\nBut when I create the ContraVariant holder I am getting some basic errors which I can&#39;t understand:\r\n\r\n    public class ContravariantAnimalHolder&lt;T super Cat&gt;{\r\n        private T animalHolder;\r\n    }\r\n\r\nError:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z1L9G.png","title":"How to use Contravariance in Java with Classes","body":"<p>I am learning Java variance.</p>\n<p>I am getting the Covariant to work but not Contravariance where I can accept a super type.</p>\n<p>I have a simple class hierarchy for this:</p>\n<p>Animal,\nCat,\nLion</p>\n<p>Then I have two classes as Generic holders:</p>\n<p>CovariantAnimalHolder\nContraVariantHolder</p>\n<p>The Covariant works fine but Contravariance isnt working.</p>\n<p>Here is the code:</p>\n<pre><code>public class Animal {\n    private String name;\n\n    public Animal(String name) {\n        this.name = name;\n    }\n\n    public Animal() {\n\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n\n\npublic class Cat extends Animal {\n    private boolean isWild;\n\n    public Cat(boolean isWild) {\n        this.isWild = isWild;\n    }\n\n    public Cat(){\n\n    }\n\n    public boolean isWild() {\n        return isWild;\n    }\n\n    public void setWild(boolean wild) {\n        isWild = wild;\n    }\n}\n\npublic class Lion extends Cat{\n\n    private boolean isExtinct;\n\n    public Lion (boolean isExtinct) {\n        this.isExtinct = isExtinct;\n    }\n\n    public Lion () {\n\n    }\n\n    public boolean isExtinct() {\n        return isExtinct;\n    }\n\n    public void setExtinct(boolean extinct) {\n        isExtinct = extinct;\n    }\n}\n</code></pre>\n<p>Animal Holders:</p>\n<pre><code>public class CovariantAnimalHolder&lt;T extends Cat&gt; {\n    private T animalHolder;\n\n    public T getAnimalHolder() {\n        return animalHolder;\n    }\n\n    public void setAnimalHolder(T animalHolder) {\n        this.animalHolder = animalHolder;\n    }\n}\n</code></pre>\n<p>Main program:</p>\n<p>So far great</p>\n<pre><code>public class VarianceMain {\n\n    public static void main(String[] args) {\n        //This works\n        CovariantAnimalHolder&lt;Lion&gt; lionCovariantAnimalHolder = new CovariantAnimalHolder&lt;Lion&gt;();\n\n        //This works:\n        CovariantAnimalHolder&lt;Cat&gt; catCovariantAnimalHolder = new CovariantAnimalHolder&lt;&gt;();\n\n        //This should not work, Perfect!\n        //CovariantAnimalHolder&lt;Animal&gt; animalCovariantAnimalHolder = new CovariantAnimalHolder&lt;Animal&gt;();\n    }\n}\n</code></pre>\n<p>But when I create the ContraVariant holder I am getting some basic errors which I can't understand:</p>\n<pre><code>public class ContravariantAnimalHolder&lt;T super Cat&gt;{\n    private T animalHolder;\n}\n</code></pre>\n<p>Error:</p>\n<p><a href=\"https://i.stack.imgur.com/Z1L9G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z1L9G.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","android-volley"],"comments":[{"owner":{"account_id":12925501,"reputation":171,"user_id":9346402,"display_name":"tobi1805"},"score":0,"creation_date":1677857306,"post_id":75626503,"comment_id":133425588,"body_markdown":"Maybe try [this](https://stackoverflow.com/a/35843328/9346402)","body":"Maybe try <a href=\"https://stackoverflow.com/a/35843328/9346402\">this</a>"}],"owner":{"account_id":16027670,"reputation":85,"user_id":11567506,"display_name":"Venkat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677842819,"creation_date":1677842819,"question_id":75626503,"body_markdown":"I&#39;m using volley library to handle API request and below is my code. When I tried to print the error contents/message in case of any issues during login, am getting the error message as &quot;com.a.t.t&quot; Log.e(&quot;loginerrors&quot;, error.toString()).\r\n\r\nPlease guide me on how to handle this...\r\n\r\n```\r\nblogin.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {                \r\n                String url = &quot;Here comes server url&quot;;              \r\n\r\n                Map&lt;String, String&gt; params = new HashMap();\r\n                params.put(&quot;EmployeeCode&quot;, ed1.getText().toString());\r\n                params.put(&quot;Password&quot;, ed2.getText().toString());\r\n                params.put(&quot;Type&quot;, spinner.getSelectedItem().toString());\r\n\r\n                JSONObject parameters = new JSONObject(params);\r\n                Log.e(&quot;iemparams&quot;, &quot;&quot;+parameters.toString());\r\n\r\n                JsonObjectRequest jsonRequest = new JsonObjectRequest(Request.Method.POST, url, parameters, new Response.Listener&lt;JSONObject&gt;() {\r\n                    @Override\r\n                    public void onResponse(JSONObject response) {\r\n                        // Log.e(&quot;Responce&quot;,&quot;&quot;+s1+&quot;//&quot;+s2);\r\n                        Log.e(&quot;RESPONCE&quot;, &quot;&quot; + response);\r\n\r\n\r\n                        try {                            \r\n                          Muconstant.EmployeeID = response.getString(&quot;EmployeeID&quot;);\r\n                          Muconstant.Branchcode = response.getString(&quot;Branchcode&quot;);\r\n                          Muconstant.Employeecode = response.getString(&quot;Employeecode&quot;);                          \r\n                          Muconstant.ul = &quot;server url&quot;;\r\n                          Muconstant.type = spinner.getSelectedItem().toString();\r\n                            msg = response.getString(&quot;Message&quot;);\r\n                            Toast.makeText(Login.this, &quot;Valid User&quot;, Toast.LENGTH_SHORT).show();\r\n                            Intent i = new Intent(getApplicationContext(),Home2.class);\r\n                            startActivity(i);\r\n\r\n\r\n                        } catch (Exception e) {\r\n                            builder.setTitle(&quot;Alert!&quot;);\r\n                            builder.setMessage(&quot;In-Valid User&quot;);\r\n                            builder.setCancelable(false);\r\n                            builder.setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                                public void onClick(DialogInterface dialog, int id) {\r\n                                    dialog.cancel();\r\n                                }\r\n                            });\r\n                            AlertDialog alert = builder.create();\r\n                            alert.show();                           \r\n                            e.printStackTrace();\r\n\r\n                        }\r\n                        //TODO: handle success\r\n                    }\r\n                }, new Response.ErrorListener() {\r\n                    @Override\r\n                    public void onErrorResponse(VolleyError error) {\r\n\r\n                        builder.setTitle(&quot;Alert!&quot;);\r\n                        builder.setMessage(&quot;Something Went Wrong&quot;);\r\n                        builder.setCancelable(false);\r\n                        builder.setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                            public void onClick(DialogInterface dialog, int id) {\r\n                                dialog.cancel();\r\n                            }\r\n                        });\r\n                        AlertDialog alert = builder.create();\r\n                        alert.show();\r\n                        \r\n                        error.printStackTrace();\r\n                        Log.e(&quot;loginerrors&quot;, error.toString());\r\n                        //TODO: handle failure\r\n\r\n                    }\r\n                })\r\n                {\r\n                    @Override\r\n                    protected VolleyError parseNetworkError(VolleyError volleyError) {\r\n                        return super.parseNetworkError(volleyError);\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void deliverError(VolleyError error) {\r\n                        super.deliverError(error);\r\n                    }\r\n                };\r\n\r\n                Volley.newRequestQueue(Login.this).add(jsonRequest);\r\n            }\r\n        });\r\n\r\n\r\n\r\n```\r\n\r\nI have also tried by using the steps in the url - https://stackoverflow.com/questions/31475392/android-volley-how-to-handle-the-error-response\r\nbut still am unable to fix the same.","title":"how to handle volley error description with message in android studio","body":"<p>I'm using volley library to handle API request and below is my code. When I tried to print the error contents/message in case of any issues during login, am getting the error message as &quot;com.a.t.t&quot; Log.e(&quot;loginerrors&quot;, error.toString()).</p>\n<p>Please guide me on how to handle this...</p>\n<pre><code>blogin.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {                \n                String url = &quot;Here comes server url&quot;;              \n\n                Map&lt;String, String&gt; params = new HashMap();\n                params.put(&quot;EmployeeCode&quot;, ed1.getText().toString());\n                params.put(&quot;Password&quot;, ed2.getText().toString());\n                params.put(&quot;Type&quot;, spinner.getSelectedItem().toString());\n\n                JSONObject parameters = new JSONObject(params);\n                Log.e(&quot;iemparams&quot;, &quot;&quot;+parameters.toString());\n\n                JsonObjectRequest jsonRequest = new JsonObjectRequest(Request.Method.POST, url, parameters, new Response.Listener&lt;JSONObject&gt;() {\n                    @Override\n                    public void onResponse(JSONObject response) {\n                        // Log.e(&quot;Responce&quot;,&quot;&quot;+s1+&quot;//&quot;+s2);\n                        Log.e(&quot;RESPONCE&quot;, &quot;&quot; + response);\n\n\n                        try {                            \n                          Muconstant.EmployeeID = response.getString(&quot;EmployeeID&quot;);\n                          Muconstant.Branchcode = response.getString(&quot;Branchcode&quot;);\n                          Muconstant.Employeecode = response.getString(&quot;Employeecode&quot;);                          \n                          Muconstant.ul = &quot;server url&quot;;\n                          Muconstant.type = spinner.getSelectedItem().toString();\n                            msg = response.getString(&quot;Message&quot;);\n                            Toast.makeText(Login.this, &quot;Valid User&quot;, Toast.LENGTH_SHORT).show();\n                            Intent i = new Intent(getApplicationContext(),Home2.class);\n                            startActivity(i);\n\n\n                        } catch (Exception e) {\n                            builder.setTitle(&quot;Alert!&quot;);\n                            builder.setMessage(&quot;In-Valid User&quot;);\n                            builder.setCancelable(false);\n                            builder.setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                                public void onClick(DialogInterface dialog, int id) {\n                                    dialog.cancel();\n                                }\n                            });\n                            AlertDialog alert = builder.create();\n                            alert.show();                           \n                            e.printStackTrace();\n\n                        }\n                        //TODO: handle success\n                    }\n                }, new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n\n                        builder.setTitle(&quot;Alert!&quot;);\n                        builder.setMessage(&quot;Something Went Wrong&quot;);\n                        builder.setCancelable(false);\n                        builder.setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                dialog.cancel();\n                            }\n                        });\n                        AlertDialog alert = builder.create();\n                        alert.show();\n                        \n                        error.printStackTrace();\n                        Log.e(&quot;loginerrors&quot;, error.toString());\n                        //TODO: handle failure\n\n                    }\n                })\n                {\n                    @Override\n                    protected VolleyError parseNetworkError(VolleyError volleyError) {\n                        return super.parseNetworkError(volleyError);\n\n                    }\n\n                    @Override\n                    public void deliverError(VolleyError error) {\n                        super.deliverError(error);\n                    }\n                };\n\n                Volley.newRequestQueue(Login.this).add(jsonRequest);\n            }\n        });\n\n\n\n</code></pre>\n<p>I have also tried by using the steps in the url - <a href=\"https://stackoverflow.com/questions/31475392/android-volley-how-to-handle-the-error-response\">Android volley: how to handle the error response</a>\nbut still am unable to fix the same.</p>\n"},{"tags":["java","hadoop","hbase"],"answers":[{"tags":[],"owner":{"account_id":4635706,"reputation":151,"user_id":3757027,"display_name":"Abhisekh"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1447385801,"creation_date":1413385797,"answer_id":26385956,"question_id":26364057,"body_markdown":"I got the fix to the problem, I had not added the hbase classpath in the hadoop-env.sh file. Below is the one I added to make the job work.\r\n\r\n    $ export HADOOP_CLASSPATH=$HBASE_HOME/hbase-0.94.22.jar:\\\r\n        $HBASE_HOME/hbase-0.94.22-test.jar:\\\r\n        $HBASE_HOME/conf:\\\r\n        ${HBASE_HOME}/lib/zookeeper-3.4.5.jar:\\\r\n        ${HBASE_HOME}/lib/protobuf-java-2.4.0a.jar:\\\r\n        ${HBASE_HOME}/lib/guava-11.0.2.jar","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/HBaseConfiguration","body":"<p>I got the fix to the problem, I had not added the hbase classpath in the hadoop-env.sh file. Below is the one I added to make the job work.</p>\n\n<pre><code>$ export HADOOP_CLASSPATH=$HBASE_HOME/hbase-0.94.22.jar:\\\n    $HBASE_HOME/hbase-0.94.22-test.jar:\\\n    $HBASE_HOME/conf:\\\n    ${HBASE_HOME}/lib/zookeeper-3.4.5.jar:\\\n    ${HBASE_HOME}/lib/protobuf-java-2.4.0a.jar:\\\n    ${HBASE_HOME}/lib/guava-11.0.2.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2967666,"reputation":79,"user_id":2520481,"accept_rate":88,"display_name":"Spacez"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447385912,"creation_date":1426527465,"answer_id":29083398,"question_id":26364057,"body_markdown":"In case there is someone who has different paths/configuration. Here is what I added to `hadoop-env.sh` in order to make it work:\r\n\r\n    $ export HADOOP_CLASSPATH=&quot;$HBASE_HOME/lib/hbase-client-0.98.11-hadoop2.jar:\\\r\n        $HBASE_HOME/lib/hbase-common-0.98.11-hadoop2.jar:\\\r\n        $HBASE_HOME/lib/protobuf-java-2.5.0.jar:\\\r\n        $HBASE_HOME/lib/guava-12.0.1.jar:\\\r\n        $HBASE_HOME/lib/zookeeper-3.4.6.jar:\\\r\n        $HBASE_HOME/lib/hbase-protocol-0.98.11-hadoop2.jar&quot;\r\n\r\n**NOTE:** if you haven&#39;t set the `$HBASE_HOME` you have 2 choices.\r\n - By `export HBASE_HOME=[your hbase installation path]`\r\n - Or just replace the `$HBASE_HOME` with your hbase full path","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/HBaseConfiguration","body":"<p>In case there is someone who has different paths/configuration. Here is what I added to <code>hadoop-env.sh</code> in order to make it work:</p>\n\n<pre><code>$ export HADOOP_CLASSPATH=\"$HBASE_HOME/lib/hbase-client-0.98.11-hadoop2.jar:\\\n    $HBASE_HOME/lib/hbase-common-0.98.11-hadoop2.jar:\\\n    $HBASE_HOME/lib/protobuf-java-2.5.0.jar:\\\n    $HBASE_HOME/lib/guava-12.0.1.jar:\\\n    $HBASE_HOME/lib/zookeeper-3.4.6.jar:\\\n    $HBASE_HOME/lib/hbase-protocol-0.98.11-hadoop2.jar\"\n</code></pre>\n\n<p><strong>NOTE:</strong> if you haven't set the <code>$HBASE_HOME</code> you have 2 choices.\n - By <code>export HBASE_HOME=[your hbase installation path]</code>\n - Or just replace the <code>$HBASE_HOME</code> with your hbase full path</p>\n"},{"tags":[],"owner":{"account_id":484415,"reputation":63,"user_id":900073,"display_name":"Junyong"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1449472167,"creation_date":1449469059,"answer_id":34127558,"question_id":26364057,"body_markdown":"    HADOOP_USER_CLASSPATH_FIRST=true \\\r\n    HADOOP_CLASSPATH=$($HBASE_HOME/bin/hbase mapredcp) \\\r\n    hadoop jar  /home/testdb.jar test ","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/HBaseConfiguration","body":"<pre><code>HADOOP_USER_CLASSPATH_FIRST=true \\\nHADOOP_CLASSPATH=$($HBASE_HOME/bin/hbase mapredcp) \\\nhadoop jar  /home/testdb.jar test \n</code></pre>\n"},{"tags":[],"owner":{"account_id":7322426,"reputation":51,"user_id":5577987,"display_name":"Vaclav C."},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461355858,"creation_date":1461355858,"answer_id":36802536,"question_id":26364057,"body_markdown":"I tried editing the `hadoop-env.sh` file, but the changes mentioned here didn&#39;t work for me.\r\n\r\nWhat worked is this:\r\n\r\n    export HADOOP_CLASSPATH=&quot;$HADOOP_CLASSPATH:$HBASE_HOME/lib/*&quot;\r\n\r\nI just added that at the end of my `hadoop-env.sh`.\r\nDo not forget to set your `HBASE_HOME` variable.\r\nYou can also replace the `$HBASE_HOME` with the actual path of your hbase installation.","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/HBaseConfiguration","body":"<p>I tried editing the <code>hadoop-env.sh</code> file, but the changes mentioned here didn't work for me.</p>\n\n<p>What worked is this:</p>\n\n<pre><code>export HADOOP_CLASSPATH=\"$HADOOP_CLASSPATH:$HBASE_HOME/lib/*\"\n</code></pre>\n\n<p>I just added that at the end of my <code>hadoop-env.sh</code>.\nDo not forget to set your <code>HBASE_HOME</code> variable.\nYou can also replace the <code>$HBASE_HOME</code> with the actual path of your hbase installation.</p>\n"},{"tags":[],"owner":{"account_id":9791925,"reputation":1184,"user_id":7256248,"display_name":"y durga prasad"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1535236350,"creation_date":1496825942,"answer_id":44408054,"question_id":26364057,"body_markdown":"here CreateTable is my java class file\r\n\r\nuse this command\r\n\r\n`java -cp .:/home/hadoop/hbase/hbase-0.94.8/hbase-0.94.8.jar:/home/hadoop/hbase/hbase-0.94.8/lib/*  CreateTable`","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/HBaseConfiguration","body":"<p>here CreateTable is my java class file</p>\n\n<p>use this command</p>\n\n<p><code>java -cp .:/home/hadoop/hbase/hbase-0.94.8/hbase-0.94.8.jar:/home/hadoop/hbase/hbase-0.94.8/lib/*  CreateTable</code></p>\n"},{"tags":[],"owner":{"account_id":953811,"reputation":5415,"user_id":979474,"display_name":"user956584"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677842654,"creation_date":1677842654,"answer_id":75626467,"question_id":26364057,"body_markdown":"add\r\n\r\n    set HBASE_CLASSPATH=%HBASE_HOME%\\lib\\client-facing-thirdparty\\*\r\n\r\n\r\nhbase-env.cmd or hbase-env.sh","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/HBaseConfiguration","body":"<p>add</p>\n<pre><code>set HBASE_CLASSPATH=%HBASE_HOME%\\lib\\client-facing-thirdparty\\*\n</code></pre>\n<p>hbase-env.cmd or hbase-env.sh</p>\n"}],"owner":{"account_id":4635706,"reputation":151,"user_id":3757027,"display_name":"Abhisekh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41878,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1677842654,"creation_date":1413298870,"question_id":26364057,"body_markdown":"I am using Hadoop 1.0.3 and HBase 0.94.22. I am trying to run a mapper program to read values from a Hbase table and output them to a file. I am getting the following error: \r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/HBaseConfiguration\r\n    \tat java.lang.Class.forName0(Native Method)\r\n    \tat java.lang.Class.forName(Class.java:340)\r\n    \tat org.apache.hadoop.util.RunJar.main(RunJar.java:149)\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.hadoop.hbase.HBaseConfiguration\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:372)\r\n    \tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:360)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n\r\nThe code is as below\r\n\r\n    import java.io.IOException;\r\n    import org.apache.hadoop.fs.Path;\r\n    import org.apache.hadoop.hbase.HBaseConfiguration;\r\n    import org.apache.hadoop.hbase.client.Result;\r\n    import org.apache.hadoop.hbase.client.Scan;\r\n    import org.apache.hadoop.hbase.filter.FirstKeyOnlyFilter;\r\n    import org.apache.hadoop.hbase.io.ImmutableBytesWritable;\r\n    import org.apache.hadoop.hbase.mapreduce.TableMapReduceUtil;\r\n    import org.apache.hadoop.hbase.mapreduce.TableMapper;\r\n    import org.apache.hadoop.hbase.util.Bytes;\r\n    import org.apache.hadoop.io.IntWritable;\r\n    import org.apache.hadoop.io.Text;\r\n    import org.apache.hadoop.mapreduce.Job;\r\n    import org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\r\n    \r\n    \r\n        public class Test {\r\n    \t\r\n    \tstatic class TestMapper extends TableMapper&lt;Text, IntWritable&gt; {\r\n    \t\tprivate static final IntWritable one = new IntWritable(1);\r\n    \t\t\r\n    \t\tpublic void map(ImmutableBytesWritable row, Result value, Context context) throws    IOException, InterruptedException\r\n    \t\t{\r\n    \t\t\tImmutableBytesWritable userkey = new ImmutableBytesWritable(row.get(), 0 , Bytes.SIZEOF_INT);\r\n    \t\t\tString key =Bytes.toString(userkey.get());\r\n    \t\t\tcontext.write(new Text(key), one);\r\n    \t\t\t\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\t\r\n    \t\tHBaseConfiguration conf = new HBaseConfiguration();\r\n    \t\tJob job = new Job(conf, &quot;hbase_freqcounter&quot;);\r\n    \t\tjob.setJarByClass(Test.class);\r\n    \t\tScan scan = new Scan();\r\n    \t\t\r\n    \t\tFileOutputFormat.setOutputPath(job, new Path(args[0]));\r\n    \t\tString columns = &quot;data&quot;;\r\n    \t\tscan.addFamily(Bytes.toBytes(columns));\r\n    \t\tscan.setFilter(new FirstKeyOnlyFilter());\r\n    \t\tTableMapReduceUtil.initTableMapperJob(&quot;test&quot;,scan, TestMapper.class, Text.class, IntWritable.class, job);\r\n    \t\tjob.setOutputKeyClass(Text.class);\r\n    \t\tjob.setOutputValueClass(IntWritable.class);\r\n    \t\tSystem.exit(job.waitForCompletion(true)?0:1);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nI get the above code exported to a jar file and on the command line I use the below command to run the above code.\r\n\r\nhadoop jar /home/testdb.jar test \r\n\r\nwhere test is the folder to which the mapper results should be written. \r\n\r\nI have checked a few other links like https://stackoverflow.com/questions/19150604/caused-by-java-lang-classnotfoundexception-org-apache-zookeeper-keeperexceptio where it has been suggested to include the zookeeper file in the classpath, but while creating the project in eclipse I have already included zookeeper file from the lib directory of hbase. The file I have included is zookeeper-3.4.5.jar. Ans also visited this link too https://stackoverflow.com/questions/20425219/hbase-java-lang-noclassdeffounderror-in-java , but I am using a mapper class to get the values from the hbase table not any client API. I know I am making a mistake somewhere, guys could you please help me out ??\r\n\r\nI have noted another strange thing, when I remove all of the code in the main function except the first line &quot; HBaseConfiguration conf = new HBaseConfiguration();&quot;, then export the code to a jar file and try to compile the jar file as hadoop jar test.jar I still get the same error. It seems either I am defining the conf variable incorrectly or there is some issue with my environment.\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/HBaseConfiguration","body":"<p>I am using Hadoop 1.0.3 and HBase 0.94.22. I am trying to run a mapper program to read values from a Hbase table and output them to a file. I am getting the following error: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: org/apache/hadoop/hbase/HBaseConfiguration\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:340)\n    at org.apache.hadoop.util.RunJar.main(RunJar.java:149)\nCaused by: java.lang.ClassNotFoundException: org.apache.hadoop.hbase.HBaseConfiguration\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:372)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:361)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:360)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n</code></pre>\n\n<p>The code is as below</p>\n\n<pre><code>import java.io.IOException;\nimport org.apache.hadoop.fs.Path;\nimport org.apache.hadoop.hbase.HBaseConfiguration;\nimport org.apache.hadoop.hbase.client.Result;\nimport org.apache.hadoop.hbase.client.Scan;\nimport org.apache.hadoop.hbase.filter.FirstKeyOnlyFilter;\nimport org.apache.hadoop.hbase.io.ImmutableBytesWritable;\nimport org.apache.hadoop.hbase.mapreduce.TableMapReduceUtil;\nimport org.apache.hadoop.hbase.mapreduce.TableMapper;\nimport org.apache.hadoop.hbase.util.Bytes;\nimport org.apache.hadoop.io.IntWritable;\nimport org.apache.hadoop.io.Text;\nimport org.apache.hadoop.mapreduce.Job;\nimport org.apache.hadoop.mapreduce.lib.output.FileOutputFormat;\n\n\n    public class Test {\n\n    static class TestMapper extends TableMapper&lt;Text, IntWritable&gt; {\n        private static final IntWritable one = new IntWritable(1);\n\n        public void map(ImmutableBytesWritable row, Result value, Context context) throws    IOException, InterruptedException\n        {\n            ImmutableBytesWritable userkey = new ImmutableBytesWritable(row.get(), 0 , Bytes.SIZEOF_INT);\n            String key =Bytes.toString(userkey.get());\n            context.write(new Text(key), one);\n\n        }\n    }\n\n\n    public static void main(String[] args) throws Exception {\n\n        HBaseConfiguration conf = new HBaseConfiguration();\n        Job job = new Job(conf, \"hbase_freqcounter\");\n        job.setJarByClass(Test.class);\n        Scan scan = new Scan();\n\n        FileOutputFormat.setOutputPath(job, new Path(args[0]));\n        String columns = \"data\";\n        scan.addFamily(Bytes.toBytes(columns));\n        scan.setFilter(new FirstKeyOnlyFilter());\n        TableMapReduceUtil.initTableMapperJob(\"test\",scan, TestMapper.class, Text.class, IntWritable.class, job);\n        job.setOutputKeyClass(Text.class);\n        job.setOutputValueClass(IntWritable.class);\n        System.exit(job.waitForCompletion(true)?0:1);\n\n    }\n\n}\n</code></pre>\n\n<p>I get the above code exported to a jar file and on the command line I use the below command to run the above code.</p>\n\n<p>hadoop jar /home/testdb.jar test </p>\n\n<p>where test is the folder to which the mapper results should be written. </p>\n\n<p>I have checked a few other links like <a href=\"https://stackoverflow.com/questions/19150604/caused-by-java-lang-classnotfoundexception-org-apache-zookeeper-keeperexceptio\">Caused by: java.lang.ClassNotFoundException: org.apache.zookeeper.KeeperException</a> where it has been suggested to include the zookeeper file in the classpath, but while creating the project in eclipse I have already included zookeeper file from the lib directory of hbase. The file I have included is zookeeper-3.4.5.jar. Ans also visited this link too <a href=\"https://stackoverflow.com/questions/20425219/hbase-java-lang-noclassdeffounderror-in-java\">HBase - java.lang.NoClassDefFoundError in java</a> , but I am using a mapper class to get the values from the hbase table not any client API. I know I am making a mistake somewhere, guys could you please help me out ??</p>\n\n<p>I have noted another strange thing, when I remove all of the code in the main function except the first line \" HBaseConfiguration conf = new HBaseConfiguration();\", then export the code to a jar file and try to compile the jar file as hadoop jar test.jar I still get the same error. It seems either I am defining the conf variable incorrectly or there is some issue with my environment.</p>\n"},{"tags":["java","spring","spring-boot","validation","spring-mvc"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677839534,"post_id":75625892,"comment_id":133420577,"body_markdown":"the problem doesn&#39;t seem to be the validation, but rather the datatype and content you send as param. &quot;&quot; is an empty String, which can not be cast to a numerical type. What you can try, is to make the parameter a String, verify it&#39;s not empty in the method itself, and after that, cast it to a Long","body":"the problem doesn&#39;t seem to be the validation, but rather the datatype and content you send as param. &quot;&quot; is an empty String, which can not be cast to a numerical type. What you can try, is to make the parameter a String, verify it&#39;s not empty in the method itself, and after that, cast it to a Long"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677839889,"post_id":75625892,"comment_id":133420686,"body_markdown":"Actually I use Postman and normally I want to use default settings for Postman side. But, in this case, I think there is not an easy approach to solve this problem by using some validation or annotation). I do not want to make my Controller dirty with unnecessary validations and for this reason would like to solve the problem with an annotation. Any example please?","body":"Actually I use Postman and normally I want to use default settings for Postman side. But, in this case, I think there is not an easy approach to solve this problem by using some validation or annotation). I do not want to make my Controller dirty with unnecessary validations and for this reason would like to solve the problem with an annotation. Any example please?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677840066,"post_id":75625892,"comment_id":133420738,"body_markdown":"The problem is that the system seems to recognize it as an empty String. an empty String will not trigger a null validation.","body":"The problem is that the system seems to recognize it as an empty String. an empty String will not trigger a null validation."},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677840144,"post_id":75625892,"comment_id":133420762,"body_markdown":"Then, can we say that there is no need to validate this even for a best practices?","body":"Then, can we say that there is no need to validate this even for a best practices?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677840531,"post_id":75625892,"comment_id":133420867,"body_markdown":"you can adopt that, but what are you going to do if they pass &quot;yabbadabbadoo&quot; as parameter?","body":"you can adopt that, but what are you going to do if they pass &quot;yabbadabbadoo&quot; as parameter?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677841073,"post_id":75625892,"comment_id":133421024,"body_markdown":"Good point (&quot;yabbadabbadoo&quot;). At this stage, I am wondering what Java Developers normally do for this situations? Is there anything that I should follow?","body":"Good point (&quot;yabbadabbadoo&quot;). At this stage, I am wondering what Java Developers normally do for this situations? Is there anything that I should follow?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677842049,"post_id":75625892,"comment_id":133421301,"body_markdown":"it depends on the situation. is the path param for you always the last part of the endpoint? if so, mark it as not required, and check whether it is present within the method. you shouldn&#39;t worry to much about adding a line of code. The first (and most important) concern is functioning code, and if that requires an additional line of code, you should add it","body":"it depends on the situation. is the path param for you always the last part of the endpoint? if so, mark it as not required, and check whether it is present within the method. you shouldn&#39;t worry to much about adding a line of code. The first (and most important) concern is functioning code, and if that requires an additional line of code, you should add it"},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677853183,"post_id":75625892,"comment_id":133424327,"body_markdown":"Show exactly what you mean by &quot;send request with null id parameter&quot;. Presumably, just `http://myhost/context-root/` ?","body":"Show exactly what you mean by &quot;send request with null id parameter&quot;. Presumably, just <code>http:&#47;&#47;myhost&#47;context-root&#47;</code> ?"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677854941,"post_id":75625892,"comment_id":133424877,"body_markdown":"@dbreaux You do not need to force your brain too much. Just keep id field null when sending request on Postman.","body":"@dbreaux You do not need to force your brain too much. Just keep id field null when sending request on Postman."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677855154,"post_id":75625892,"comment_id":133424947,"body_markdown":"I&#39;m just suggesting that showing the actual URL you&#39;re hitting would make your question more clear. It&#39;s not really about Postman, but about what kind of URL you&#39;re trying to handle or ignore. Postman is just one tool people might or might not use.","body":"I&#39;m just suggesting that showing the actual URL you&#39;re hitting would make your question more clear. It&#39;s not really about Postman, but about what kind of URL you&#39;re trying to handle or ignore. Postman is just one tool people might or might not use."}],"answers":[{"comments":[{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677840022,"post_id":75625964,"comment_id":133420723,"body_markdown":"Actually `@PathVariable` seems more professional with a clear parameter url e.g. `/{id}`. Normally I would solve the problem easily by using `@requestParam`, but  am trying to find a solution. On the other hand, `.getById(Long.parseLong(id))` would probably solves the problem, but is it a good approach or unnecessary?","body":"Actually <code>@PathVariable</code> seems more professional with a clear parameter url e.g. <code>&#47;{id}</code>. Normally I would solve the problem easily by using <code>@requestParam</code>, but  am trying to find a solution. On the other hand, <code>.getById(Long.parseLong(id))</code> would probably solves the problem, but is it a good approach or unnecessary?"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1677840149,"post_id":75625964,"comment_id":133420765,"body_markdown":"IMO it&#39;s a good approach. If you want to further enhance your validation or as you mentioned in one of your comments &quot;not bloat your controller&quot;, just make the service-method accept a String as well and do all the validation inside your service. If you don&#39;t want to bloat your service just add an additional ValidationService or sth. like that.","body":"IMO it&#39;s a good approach. If you want to further enhance your validation or as you mentioned in one of your comments &quot;not bloat your controller&quot;, just make the service-method accept a String as well and do all the validation inside your service. If you don&#39;t want to bloat your service just add an additional ValidationService or sth. like that."},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677840291,"post_id":75625964,"comment_id":133420796,"body_markdown":"I do not know why, but Long.parseLong is not available in the method parameters. Do you have any idea?","body":"I do not know why, but Long.parseLong is not available in the method parameters. Do you have any idea?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1677840574,"post_id":75625964,"comment_id":133420878,"body_markdown":"@devx Long.parseLong is a basic and integral part of the Java language. What do you mean &#39;in the method parameters&#39;?","body":"@devx Long.parseLong is a basic and integral part of the Java language. What do you mean &#39;in the method parameters&#39;?"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1677840619,"post_id":75625964,"comment_id":133420891,"body_markdown":"Don&#39;t put Long.parseLong directly into the method-params... Use it like shown in the method-_call_","body":"Don&#39;t put Long.parseLong directly into the method-params... Use it like shown in the method-<i>call</i>"},{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677841165,"post_id":75625964,"comment_id":133421056,"body_markdown":"And then make the Controller method a garbage that is the last thing that I want.","body":"And then make the Controller method a garbage that is the last thing that I want."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677853591,"post_id":75625964,"comment_id":133424450,"body_markdown":"It depends on how you want to handle bad URLs. If you don&#39;t care that somebody passing a non-long will get a default Spring error response - which _might_ reveal internal things about the app - like just the fact that it is using Spring - then explicitly handling the errors and controlling what they return would be more robust.","body":"It depends on how you want to handle bad URLs. If you don&#39;t care that somebody passing a non-long will get a default Spring error response - which <i>might</i> reveal internal things about the app - like just the fact that it is using Spring - then explicitly handling the errors and controlling what they return would be more robust."}],"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":7,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677839708,"creation_date":1677839708,"answer_id":75625964,"question_id":75625892,"body_markdown":"Another approach, which I pretty much always use for path &amp; normal params in the URL, is the following: Just use `String` for every parameter.\r\n\r\nAs URL is easily manipulable by any user, they can e.g. just enter &quot;.../sos&quot; instead of a valid number and you&#39;ll receive the same error.\r\n\r\nWhy? Everything in a URL is a String. When Spring Boot notices the controller accepting a Long as a parameter, it tries to parse it by itself.\r\n\r\nThis won&#39;t happen if you use a String, as previously mentioned: everything in the URL already is a String and SB won&#39;t need to parse it to any other datatype.\r\n\r\nI&#39;d recommend you to just have String parameters in your method aswell and then just do the parsing/converting manually via `.getById(Long.parseLong(id));`. \r\n\r\nThis way you can e.g. catch any parse exception and return an appropriate error message.","title":"Null check for a single id parameter on the Controller method","body":"<p>Another approach, which I pretty much always use for path &amp; normal params in the URL, is the following: Just use <code>String</code> for every parameter.</p>\n<p>As URL is easily manipulable by any user, they can e.g. just enter &quot;.../sos&quot; instead of a valid number and you'll receive the same error.</p>\n<p>Why? Everything in a URL is a String. When Spring Boot notices the controller accepting a Long as a parameter, it tries to parse it by itself.</p>\n<p>This won't happen if you use a String, as previously mentioned: everything in the URL already is a String and SB won't need to parse it to any other datatype.</p>\n<p>I'd recommend you to just have String parameters in your method aswell and then just do the parsing/converting manually via <code>.getById(Long.parseLong(id));</code>.</p>\n<p>This way you can e.g. catch any parse exception and return an appropriate error message.</p>\n"},{"comments":[{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677841112,"post_id":75626157,"comment_id":133421036,"body_markdown":"Thanks, voted up. But I do not want a new endpoint.","body":"Thanks, voted up. But I do not want a new endpoint."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677853102,"post_id":75626157,"comment_id":133424292,"body_markdown":"It wouldn&#39;t be a new endpoint, just a new method to handle the path when there is no id specified.","body":"It wouldn&#39;t be a new endpoint, just a new method to handle the path when there is no id specified."},{"owner":{"account_id":23391651,"reputation":31,"user_id":17456226,"display_name":"David Jebav&#253;"},"score":0,"creation_date":1677932052,"post_id":75626157,"comment_id":133437030,"body_markdown":"Well I think 404 not found response would be the way to go.","body":"Well I think 404 not found response would be the way to go."}],"tags":[],"owner":{"account_id":23391651,"reputation":31,"user_id":17456226,"display_name":"David Jebav&#253;"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677840940,"creation_date":1677840940,"answer_id":75626157,"question_id":75625892,"body_markdown":"Not sure if it make sense to have @PathVariable  as @NotNull? \r\nBecause it&#39;s different url if it&#39;s null. So you could handle that with other endpoint @GetMapping(&quot;/&quot;)","title":"Null check for a single id parameter on the Controller method","body":"<p>Not sure if it make sense to have @PathVariable  as @NotNull?\nBecause it's different url if it's null. So you could handle that with other endpoint @GetMapping(&quot;/&quot;)</p>\n"},{"comments":[{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677841678,"post_id":75626268,"comment_id":133421204,"body_markdown":"Thanks for help, but it makes completely ugly my method.","body":"Thanks for help, but it makes completely ugly my method."},{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1677841756,"post_id":75626268,"comment_id":133421231,"body_markdown":"@devx no, it will not, because you don&#39;t need add new endpoint, you just add path to value and check data from PathVariable","body":"@devx no, it will not, because you don&#39;t need add new endpoint, you just add path to value and check data from PathVariable"},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1677853491,"post_id":75626268,"comment_id":133424418,"body_markdown":"Note the `required=false` part of this. If you want to accept URLs without the ID, say to return a non-default error, this would be useful. Otherwise Spring will just return its default 404 not found response if no ID is specified in the URL.","body":"Note the <code>required=false</code> part of this. If you want to accept URLs without the ID, say to return a non-default error, this would be useful. Otherwise Spring will just return its default 404 not found response if no ID is specified in the URL."}],"tags":[],"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677841498,"creation_date":1677841498,"answer_id":75626268,"question_id":75625892,"body_markdown":"You need to add values to **@GetMapping**, because URL will wait path with data, cuz data also means path. Also you need to add **@PathVariable(required = false)**, it means your address in mapping will not wait data, and can come **null** if you ust call ***&quot;/&quot;***, in your service you see null data for id, cuz calls another value for your path.\r\n\r\n    @GetMapping(value = {&quot;/{id}&quot;, &quot;&quot;})\r\n    public ResponseEntity&lt;EmployeeResponse&gt; getById(@PathVariable(required = false) Long id) {\r\n        if (id == null) { // Do something when null\r\n            }\r\n            else {// do another thing\r\n            }\r\n            return &quot;your data&quot;;\r\n        }","title":"Null check for a single id parameter on the Controller method","body":"<p>You need to add values to <strong>@GetMapping</strong>, because URL will wait path with data, cuz data also means path. Also you need to add <strong>@PathVariable(required = false)</strong>, it means your address in mapping will not wait data, and can come <strong>null</strong> if you ust call <em><strong>&quot;/&quot;</strong></em>, in your service you see null data for id, cuz calls another value for your path.</p>\n<pre><code>@GetMapping(value = {&quot;/{id}&quot;, &quot;&quot;})\npublic ResponseEntity&lt;EmployeeResponse&gt; getById(@PathVariable(required = false) Long id) {\n    if (id == null) { // Do something when null\n        }\n        else {// do another thing\n        }\n        return &quot;your data&quot;;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1677842094,"post_id":75626375,"comment_id":133421315,"body_markdown":"Don&#39;t just post a link to somewhere else as an answer. Chances are that page will be removed/altered later on, and will be rendered useless as answer. You can link to it, but add all the relevant information in the answer as well","body":"Don&#39;t just post a link to somewhere else as an answer. Chances are that page will be removed/altered later on, and will be rendered useless as answer. You can link to it, but add all the relevant information in the answer as well"},{"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"score":1,"creation_date":1677842309,"post_id":75626375,"comment_id":133421368,"body_markdown":"@Stultuske fair enough, Here is copypasta from that site.","body":"@Stultuske fair enough, Here is copypasta from that site."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1677842470,"post_id":75626375,"comment_id":133421416,"body_markdown":"don&#39;t forget to add the &#39;copy paste&#39;","body":"don&#39;t forget to add the &#39;copy paste&#39;"},{"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"score":0,"creation_date":1677842808,"post_id":75626375,"comment_id":133421486,"body_markdown":"Ah, it&#39;s too long the point is DecimalMax, DecimalMin, Digits, Max, Min accept long. Not Null accepts anytype, but it works one layer later because the variable is in the path","body":"Ah, it&#39;s too long the point is DecimalMax, DecimalMin, Digits, Max, Min accept long. Not Null accepts anytype, but it works one layer later because the variable is in the path"}],"tags":[],"owner":{"account_id":9866227,"reputation":48,"user_id":7307613,"display_name":"Akbar  Amanov"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677842046,"creation_date":1677842046,"answer_id":75626375,"question_id":75625892,"body_markdown":"I suggest you check [this][1]\r\n especially sixth paragraph, where he explains which sort of constraints work for which datatypes. \r\n\r\n  [1]: https://www.codejava.net/frameworks/spring-boot/rest-api-request-validation-examples","title":"Null check for a single id parameter on the Controller method","body":"<p>I suggest you check <a href=\"https://www.codejava.net/frameworks/spring-boot/rest-api-request-validation-examples\" rel=\"nofollow noreferrer\">this</a>\nespecially sixth paragraph, where he explains which sort of constraints work for which datatypes.</p>\n"},{"comments":[{"owner":{"display_name":"user21263160"},"score":0,"creation_date":1677842763,"post_id":75626461,"comment_id":133421476,"body_markdown":"Finally a good explanation, thanks a lot. Then, if I want to use `@PathVariable`, I can use primitive and no need to use Object type for id field. Similarly, I think it would be useful to use Object types in DTO s for validation purposes. Right?","body":"Finally a good explanation, thanks a lot. Then, if I want to use <code>@PathVariable</code>, I can use primitive and no need to use Object type for id field. Similarly, I think it would be useful to use Object types in DTO s for validation purposes. Right?"},{"owner":{"account_id":25989163,"reputation":37,"user_id":19701675,"display_name":"shiningStar"},"score":0,"creation_date":1677844787,"post_id":75626461,"comment_id":133421920,"body_markdown":"And it will not matter if you use Long or long you can use anything.","body":"And it will not matter if you use Long or long you can use anything."}],"tags":[],"owner":{"account_id":25989163,"reputation":37,"user_id":19701675,"display_name":"shiningStar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677842615,"creation_date":1677842615,"answer_id":75626461,"question_id":75625892,"body_markdown":"If you are using \r\n\r\n    @PathVariable(...)\r\n\r\nThey cannot be optional. This reflects the nature of path variables - it doesn&#39;t really make sense for them to be null. REST-style URLs always need the full URL path. If you have an optional component, consider use\r\n\r\n    @RequestParam(...)\r\n\r\ninstead.\r\n\r\nYou can use \r\n`@NotNull`\r\nin your entities itself.\r\n\r\n","title":"Null check for a single id parameter on the Controller method","body":"<p>If you are using</p>\n<pre><code>@PathVariable(...)\n</code></pre>\n<p>They cannot be optional. This reflects the nature of path variables - it doesn't really make sense for them to be null. REST-style URLs always need the full URL path. If you have an optional component, consider use</p>\n<pre><code>@RequestParam(...)\n</code></pre>\n<p>instead.</p>\n<p>You can use\n<code>@NotNull</code>\nin your entities itself.</p>\n"}],"owner":{"display_name":"user21263160"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75626461,"answer_count":5,"score":-1,"last_activity_date":1677842615,"creation_date":1677839315,"question_id":75625892,"body_markdown":"In a Spring Boot Controller, I am trying to validate an id field in `Long` type as shown below:\r\n\r\n```\r\n@GetMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;EmployeeResponse&gt; getById(@PathVariable @NotNull Long id) {\r\n    final EmployeeResponse response = employeeService.getById(id);\r\n    return ResponseEntity.ok(...);\r\n}\r\n```\r\n\r\nBut when I try to send request with null id parameter,  get the following error:\r\n\r\n&gt;  &quot;Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;java.lang.Long&#39;; For input string: \\&quot;:id\\&quot;&quot;\r\n\r\nI also tried using `long` and `@Valid` annotation, but does not make any sense and a similar error is encountered. So, is it possible to validate id parameter of the request? ","title":"Null check for a single id parameter on the Controller method","body":"<p>In a Spring Boot Controller, I am trying to validate an id field in <code>Long</code> type as shown below:</p>\n<pre><code>@GetMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;EmployeeResponse&gt; getById(@PathVariable @NotNull Long id) {\n    final EmployeeResponse response = employeeService.getById(id);\n    return ResponseEntity.ok(...);\n}\n</code></pre>\n<p>But when I try to send request with null id parameter,  get the following error:</p>\n<blockquote>\n<p>&quot;Failed to convert value of type 'java.lang.String' to required type 'java.lang.Long'; For input string: &quot;:id&quot;&quot;</p>\n</blockquote>\n<p>I also tried using <code>long</code> and <code>@Valid</code> annotation, but does not make any sense and a similar error is encountered. So, is it possible to validate id parameter of the request?</p>\n"},{"tags":["java","trim"],"comments":[{"owner":{"account_id":3046198,"reputation":2670,"user_id":2581783,"display_name":"Rene M."},"score":0,"creation_date":1422016440,"post_id":28109968,"comment_id":44593820,"body_markdown":"The answer from ross is ok, but it&#39;s not null save. Which could be done by hand or for example using a simple lib like apache commons lang StringUtils which is nullsave.","body":"The answer from ross is ok, but it&#39;s not null save. Which could be done by hand or for example using a simple lib like apache commons lang StringUtils which is nullsave."}],"answers":[{"comments":[{"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"score":1,"creation_date":1422016641,"post_id":28109995,"comment_id":44593935,"body_markdown":"Thanks a lot. Its a shame. Now after about 5 Java coding I did not know that. I just tested it and it works.","body":"Thanks a lot. Its a shame. Now after about 5 Java coding I did not know that. I just tested it and it works."},{"owner":{"account_id":2602268,"reputation":3383,"user_id":2254314,"accept_rate":61,"display_name":"JohnyTex"},"score":1,"creation_date":1677753662,"post_id":28109995,"comment_id":133401681,"body_markdown":"Note that all letters below \\u0020 are removed with trim(), i.e. also carriage return and line-feed etc.","body":"Note that all letters below \\u0020 are removed with trim(), i.e. also carriage return and line-feed etc."},{"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"score":1,"creation_date":1677842057,"post_id":28109995,"comment_id":133421305,"body_markdown":"Thanks @JohnyTex, added that to the answer.","body":"Thanks @JohnyTex, added that to the answer."}],"tags":[],"owner":{"account_id":2370868,"reputation":8183,"user_id":2075524,"accept_rate":88,"display_name":"Ross Drew"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1677842033,"creation_date":1422016321,"answer_id":28109995,"question_id":28109968,"body_markdown":"Trim it, using [trim][1] method of `String` which &quot;*Returns a copy of the string, with leading and trailing whitespace omitted.*&quot;\r\n\r\nNote that it *Returns a copy of the string* and doesn&#39;t edit the `String`\r\n\r\n    myString.trim()\r\n\r\n**Null Strings**\r\n\r\nAs @rmertins said, this is not &quot;null safe&quot;, meaning if your `String` is `null` it will throw a `NullPointerException` so if your `String` can be `null`, wrap it.\r\n\r\n    if (myString != null)\r\n    {\r\n      String newTrimmedString = myString.trim();\r\n    }\r\n\r\nImporting an entire library to do this one task like @rmertins said (i.e. [StringUtils][2] from apache commons) is just overkill I&#39;d say.  I would also say it&#39;s bad practice to pass around `null` objects anyhow and `null` `String` objects suggests bad design.\r\n\r\n**What is removed**\r\n\r\nIt&#39;s worth noting that @JohnyTex pointed out that all characters below \\u0020 are removed by `trim()` including carriage return and line-feed.\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim%28%29\r\n  [2]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html","title":"How to trim a string from carriage returns in java","body":"<p>Trim it, using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim%28%29\" rel=\"nofollow noreferrer\">trim</a> method of <code>String</code> which &quot;<em>Returns a copy of the string, with leading and trailing whitespace omitted.</em>&quot;</p>\n<p>Note that it <em>Returns a copy of the string</em> and doesn't edit the <code>String</code></p>\n<pre><code>myString.trim()\n</code></pre>\n<p><strong>Null Strings</strong></p>\n<p>As @rmertins said, this is not &quot;null safe&quot;, meaning if your <code>String</code> is <code>null</code> it will throw a <code>NullPointerException</code> so if your <code>String</code> can be <code>null</code>, wrap it.</p>\n<pre><code>if (myString != null)\n{\n  String newTrimmedString = myString.trim();\n}\n</code></pre>\n<p>Importing an entire library to do this one task like @rmertins said (i.e. <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a> from apache commons) is just overkill I'd say.  I would also say it's bad practice to pass around <code>null</code> objects anyhow and <code>null</code> <code>String</code> objects suggests bad design.</p>\n<p><strong>What is removed</strong></p>\n<p>It's worth noting that @JohnyTex pointed out that all characters below \\u0020 are removed by <code>trim()</code> including carriage return and line-feed.</p>\n"},{"tags":[],"owner":{"account_id":3128873,"reputation":1180,"user_id":2647192,"display_name":"allTwentyQuestions"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422016588,"creation_date":1422016588,"answer_id":28110081,"question_id":28109968,"body_markdown":"Check out the [String.trim() method](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim())\r\n\r\n    String foo = &quot;\\n\\n  \\n\\t actual Value\\t\\n \\n &quot;;\r\n    System.out.println(foo.trim()); //prints &quot;actual Value&quot;\r\n\r\nAbout as simple and elegant as it gets. Keep in mind, though, that this will not only trim newline characters, but tabs, spaces, etc. as well.","title":"How to trim a string from carriage returns in java","body":"<p>Check out the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim()\" rel=\"nofollow\">String.trim() method</a></p>\n\n<pre><code>String foo = \"\\n\\n  \\n\\t actual Value\\t\\n \\n \";\nSystem.out.println(foo.trim()); //prints \"actual Value\"\n</code></pre>\n\n<p>About as simple and elegant as it gets. Keep in mind, though, that this will not only trim newline characters, but tabs, spaces, etc. as well.</p>\n"},{"tags":[],"owner":{"account_id":1479712,"reputation":1568,"user_id":1389366,"accept_rate":71,"display_name":"icke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422016806,"creation_date":1422016806,"answer_id":28110162,"question_id":28109968,"body_markdown":"`String.trim()` will trim away white space at the beginning and end. That would probably be the quickest way. If you need to retain other white spaces and only want to remove the `\\n`, I think you would have to replace them manually.\r\n\r\nYou could try something along the lines of \r\n\r\n`myString = myString.replace(&quot;^(\\n)*&quot;,&quot;&quot;).replace(&quot;(\\n)*$&quot;,&quot;&quot;);`\r\n\r\n(I have not tried this code.)","title":"How to trim a string from carriage returns in java","body":"<p><code>String.trim()</code> will trim away white space at the beginning and end. That would probably be the quickest way. If you need to retain other white spaces and only want to remove the <code>\\n</code>, I think you would have to replace them manually.</p>\n\n<p>You could try something along the lines of </p>\n\n<p><code>myString = myString.replace(\"^(\\n)*\",\"\").replace(\"(\\n)*$\",\"\");</code></p>\n\n<p>(I have not tried this code.)</p>\n"},{"tags":[],"owner":{"account_id":6236403,"reputation":10241,"user_id":4851565,"accept_rate":84,"display_name":"entpnerd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547161003,"creation_date":1547161003,"answer_id":54138097,"question_id":28109968,"body_markdown":"If your string is potentially `null`, you might want to use [`StringUtils.trim()`][1] - the null-safe version of [`String.trim()`][2].\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#trim-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim()","title":"How to trim a string from carriage returns in java","body":"<p>If your string is potentially <code>null</code>, you might want to use <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#trim-java.lang.String-\" rel=\"nofollow noreferrer\"><code>StringUtils.trim()</code></a> - the null-safe version of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\"><code>String.trim()</code></a>.</p>\n"}],"owner":{"account_id":1419645,"reputation":11379,"user_id":1344545,"accept_rate":59,"display_name":"mcfly soft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3506,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"accepted_answer_id":28109995,"answer_count":4,"score":2,"last_activity_date":1677842033,"creation_date":1422016216,"question_id":28109968,"body_markdown":"I have a string:\r\n\r\n    \\n\\n\\n\\Mytext is here\\n new line \\n\\n\r\n\r\nwith an unknown amount of \\n at the beginning and at the end.\r\n\r\nHow can I trim this string to \r\n\r\n    Mytext is here\\n new line \r\n\r\nin an elegant way?\r\n\r\nI know I could code this with my own function. But, perhaps there is a simple solution?\r\n","title":"How to trim a string from carriage returns in java","body":"<p>I have a string:</p>\n\n<pre><code>\\n\\n\\n\\Mytext is here\\n new line \\n\\n\n</code></pre>\n\n<p>with an unknown amount of \\n at the beginning and at the end.</p>\n\n<p>How can I trim this string to </p>\n\n<pre><code>Mytext is here\\n new line \n</code></pre>\n\n<p>in an elegant way?</p>\n\n<p>I know I could code this with my own function. But, perhaps there is a simple solution?</p>\n"},{"tags":["java","android","solar2d"],"answers":[{"tags":[],"owner":{"account_id":7395429,"reputation":154,"user_id":5627521,"accept_rate":25,"display_name":"Daniil Andashev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677841470,"creation_date":1677841470,"answer_id":75626262,"question_id":75613186,"body_markdown":"The problem was solved by adding org.gradle.jvmargs=-Xmx2000m in gradle.properties file.","title":"Solar2D add dependency for yookassa Java heap space error","body":"<p>The problem was solved by adding org.gradle.jvmargs=-Xmx2000m in gradle.properties file.</p>\n"}],"owner":{"account_id":7395429,"reputation":154,"user_id":5627521,"accept_rate":25,"display_name":"Daniil Andashev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677841470,"creation_date":1677747404,"question_id":75613186,"body_markdown":"I am trying to create a native android plugin for Solar 2D.\r\nWhen I add the dependency &quot;implementation &#39;ru.yoomoney.sdk.kassa.payments:yookassa-android-sdk:6.5.6&#39;&quot; to the build.gradle of the plugin module, an error appears when building the project - AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;java.lang.OutOfMemoryError: Java heap space&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;D8&quot;}. And some file (java_pid6992.hprof) is pulled into the project, which weighs 700 MB. I can&#39;t understand, what that file is. Also, i tried to add the same dependency into a clean android project(not built from Solar), this file was not pulled and it worked fine. Please, help me.","title":"Solar2D add dependency for yookassa Java heap space error","body":"<p>I am trying to create a native android plugin for Solar 2D.\nWhen I add the dependency &quot;implementation 'ru.yoomoney.sdk.kassa.payments:yookassa-android-sdk:6.5.6'&quot; to the build.gradle of the plugin module, an error appears when building the project - AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;java.lang.OutOfMemoryError: Java heap space&quot;,&quot;sources&quot;:[{}],&quot;tool&quot;:&quot;D8&quot;}. And some file (java_pid6992.hprof) is pulled into the project, which weighs 700 MB. I can't understand, what that file is. Also, i tried to add the same dependency into a clean android project(not built from Solar), this file was not pulled and it worked fine. Please, help me.</p>\n"},{"tags":["java","intellij-idea","compiler-errors","classpath"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1677841928,"post_id":75626180,"comment_id":133421275,"body_markdown":"Could you please attach screenshot with Run configuration used?","body":"Could you please attach screenshot with Run configuration used?"}],"owner":{"account_id":1616411,"reputation":1094,"user_id":1493971,"accept_rate":50,"display_name":"explorer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677844547,"answer_count":0,"score":0,"last_activity_date":1677841428,"creation_date":1677841009,"question_id":75626180,"body_markdown":"I have a gradle project with multiple modules. In one of the modules I have a standalone java class and the src directory structure is like,\r\n\r\n&gt; Class/Student/java/com/test/Sample.java\r\n\r\n    package com.test;\r\n    \r\n    public class Sample {\r\n    \r\n    public static void main(String args[]){\r\n    &#160; &#160; System.out.println(&quot;Test&quot;);\r\n    }\r\n    }\r\n\r\n\r\nWhen I run the Sample class with my run config. I always have the error as ,\r\n\r\n&gt; Error: Could not find or load main class test.Sample\r\n\r\nI could see the Sample.class file existing in the current directory, after compilation !\r\n\r\nI also tried compiling &amp; running the class outside intellij, from terminal. I have the same error.\r\n\r\nI removed the package declaration from the file and then compile &amp; run it from terminal, it works.\r\n\r\n    public class Sample {\r\n    \r\n    public static void main(String args[]){\r\n        System.out.println(&quot;Test&quot;);\r\n    }\r\n    }\r\n\r\n\r\n\r\nAlready tried the solutions mentioned in these posts, but no luck,\r\n\r\n- [Error: Could not find or load main class in intelliJ IDE][1]\r\n- [Unable to find or load Main Class in Intellij 2019.4][2]\r\n\r\n\r\nCurrently using IntelliJ 2022.3.2 (Ultimate Edition). The same project has been imported by another user in eclipse, everything works. He could run the standalone java class successfully.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/10654120/error-could-not-find-or-load-main-class-in-intellij-ide\r\n  [2]: https://stackoverflow.com/questions/59042676/unable-to-find-or-load-main-class-in-intellij-2019-4","title":"Error: Could not find or load main class - Intellij","body":"<p>I have a gradle project with multiple modules. In one of the modules I have a standalone java class and the src directory structure is like,</p>\n<blockquote>\n<p>Class/Student/java/com/test/Sample.java</p>\n</blockquote>\n<pre><code>package com.test;\n\npublic class Sample {\n\npublic static void main(String args[]){\n  System.out.println(&quot;Test&quot;);\n}\n}\n</code></pre>\n<p>When I run the Sample class with my run config. I always have the error as ,</p>\n<blockquote>\n<p>Error: Could not find or load main class test.Sample</p>\n</blockquote>\n<p>I could see the Sample.class file existing in the current directory, after compilation !</p>\n<p>I also tried compiling &amp; running the class outside intellij, from terminal. I have the same error.</p>\n<p>I removed the package declaration from the file and then compile &amp; run it from terminal, it works.</p>\n<pre><code>public class Sample {\n\npublic static void main(String args[]){\n    System.out.println(&quot;Test&quot;);\n}\n}\n</code></pre>\n<p>Already tried the solutions mentioned in these posts, but no luck,</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10654120/error-could-not-find-or-load-main-class-in-intellij-ide\">Error: Could not find or load main class in intelliJ IDE</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59042676/unable-to-find-or-load-main-class-in-intellij-2019-4\">Unable to find or load Main Class in Intellij 2019.4</a></li>\n</ul>\n<p>Currently using IntelliJ 2022.3.2 (Ultimate Edition). The same project has been imported by another user in eclipse, everything works. He could run the standalone java class successfully.</p>\n"},{"tags":["java","string","url"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677815826,"creation_date":1677815826,"answer_id":75623042,"question_id":75623024,"body_markdown":"You can use `\\d{10}` to match 10 consecutive digits in a regular expression. Use `RegExp#test` to check if a match is found.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    let re = new RegExp(&#39;^https://x.example.com/example/1234\\\\?w=1080&amp;h=720&amp;cb=\\\\d{10}$&#39;);\r\n    console.log(re.test(&#39;https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1234567890&#39;));\r\n    console.log(re.test(&#39;https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=9876543210&#39;));\r\n    console.log(re.test(&#39;https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=4321123489&#39;));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Regex for a specific URL that contains a random number","body":"<p>You can use <code>\\d{10}</code> to match 10 consecutive digits in a regular expression. Use <code>RegExp#test</code> to check if a match is found.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let re = new RegExp('^https://x.example.com/example/1234\\\\?w=1080&amp;h=720&amp;cb=\\\\d{10}$');\nconsole.log(re.test('https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1234567890'));\nconsole.log(re.test('https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=9876543210'));\nconsole.log(re.test('https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=4321123489'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":1158344,"reputation":36,"user_id":1138373,"display_name":"Arron Dick"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677816063,"creation_date":1677816063,"answer_id":75623054,"question_id":75623024,"body_markdown":"To match and capture the random digits:\r\n\r\n```\r\n^(https:\\/\\/x\\.example\\.com\\/example\\/1234\\?w=1080&amp;h=720&amp;cb=)(\\d+)$\r\n```\r\n\r\nYou need to escape all special characters, slashes, periods and the question mark\r\n\r\nSee here: https://regexr.com/79eva","title":"Regex for a specific URL that contains a random number","body":"<p>To match and capture the random digits:</p>\n<pre><code>^(https:\\/\\/x\\.example\\.com\\/example\\/1234\\?w=1080&amp;h=720&amp;cb=)(\\d+)$\n</code></pre>\n<p>You need to escape all special characters, slashes, periods and the question mark</p>\n<p>See here: <a href=\"https://regexr.com/79eva\" rel=\"nofollow noreferrer\">https://regexr.com/79eva</a></p>\n"}],"owner":{"account_id":11723490,"reputation":17,"user_id":8581648,"display_name":"KEAMCRF"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1677876170,"accepted_answer_id":75623042,"answer_count":2,"score":-1,"last_activity_date":1677841404,"creation_date":1677815566,"question_id":75623024,"body_markdown":"I&#39;m trying to assert that a string containing a URL is the one I&#39;m expecting, but the last section of this is a random number. I did take a look into regex and tried a lot of patterns, but I haven&#39;t found the correct one. \r\n\r\nThe URL is something like this:\r\n`https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=??????????` This section is always the same: `https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=` and the `??????????` represent ten random digits. \r\n\r\nI can remove the first part and assert that the remaining is a 10-digit string, but I&#39;m looking for the regular expression to validate the complete URL.\r\n\r\nThese examples should match: \r\n```none\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1234567890\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=9876543210\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=4321123489\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1265678673\r\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=7899453773\r\n``` \r\n\r\nI&#39;m validating it with this code: \r\n```java\r\nassertTrue(&quot;URL: &quot; + result + &quot; expected: &quot; + expectedUrl, result.matches(expectedUrl));\r\n```\r\n`result`: the URL I need to match.\\\r\n`expectedUrl`: the regex expression.","title":"Regex for a specific URL that contains a random number","body":"<p>I'm trying to assert that a string containing a URL is the one I'm expecting, but the last section of this is a random number. I did take a look into regex and tried a lot of patterns, but I haven't found the correct one.</p>\n<p>The URL is something like this:\n<code>https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=??????????</code> This section is always the same: <code>https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=</code> and the <code>??????????</code> represent ten random digits.</p>\n<p>I can remove the first part and assert that the remaining is a 10-digit string, but I'm looking for the regular expression to validate the complete URL.</p>\n<p>These examples should match:</p>\n<pre class=\"lang-none prettyprint-override\"><code>https://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1234567890\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=9876543210\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=4321123489\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=1265678673\nhttps://x.example.com/example/1234?w=1080&amp;h=720&amp;cb=7899453773\n</code></pre>\n<p>I'm validating it with this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertTrue(&quot;URL: &quot; + result + &quot; expected: &quot; + expectedUrl, result.matches(expectedUrl));\n</code></pre>\n<p><code>result</code>: the URL I need to match.<br />\n<code>expectedUrl</code>: the regex expression.</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":2,"creation_date":1677826042,"post_id":75623891,"comment_id":133417428,"body_markdown":"If [CloudTrail event logging for S3 buckets and objects - Amazon Simple Storage Service](https://docs.aws.amazon.com/AmazonS3/latest/userguide/enable-cloudtrail-logging-for-s3.html) was enabled you&#39;d know which IAM identity deleted them.","body":"If <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/enable-cloudtrail-logging-for-s3.html\" rel=\"nofollow noreferrer\">CloudTrail event logging for S3 buckets and objects - Amazon Simple Storage Service</a> was enabled you&#39;d know which IAM identity deleted them."},{"owner":{"account_id":18059101,"reputation":9687,"user_id":13126651,"display_name":"Jatin Mehrotra"},"score":0,"creation_date":1677831950,"post_id":75623891,"comment_id":133418642,"body_markdown":"Cloudtrail logs is the only way to go","body":"Cloudtrail logs is the only way to go"}],"answers":[{"tags":[],"owner":{"account_id":27832325,"reputation":2020,"user_id":21250520,"display_name":"Filippo Testini"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677840715,"creation_date":1677840715,"answer_id":75626118,"question_id":75623891,"body_markdown":"You can enable (but of course is not retroactive) [S3 Server Access Logging][1] to log the detailed operations executed on a bucket.\r\n\r\n&gt; Server access logging provides detailed records for the requests that\r\n&gt; are made to a bucket. Server access logs are useful for many\r\n&gt; applications. For example, access log information can be useful in\r\n&gt; security and access audits. It can also help you learn about your\r\n&gt; customer base and understand your Amazon S3 bill.\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/ServerLogs.html","title":"Retrieving reason for deletion in Amazon S3","body":"<p>You can enable (but of course is not retroactive) <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/ServerLogs.html\" rel=\"nofollow noreferrer\">S3 Server Access Logging</a> to log the detailed operations executed on a bucket.</p>\n<blockquote>\n<p>Server access logging provides detailed records for the requests that\nare made to a bucket. Server access logs are useful for many\napplications. For example, access log information can be useful in\nsecurity and access audits. It can also help you learn about your\ncustomer base and understand your Amazon S3 bill.</p>\n</blockquote>\n"}],"owner":{"account_id":16623950,"reputation":74,"user_id":12013522,"display_name":"Joe D"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75626118,"answer_count":1,"score":-1,"last_activity_date":1677840715,"creation_date":1677825507,"question_id":75623891,"body_markdown":"There&#39;s S3 used in the project but presumably some files were deleted. When I query S3 I get the following response:\r\n\r\n    4b3bc846-a737-4aec-84bf-734f798bca39\r\n    The specified key does not exist. (Service: Amazon S3; Status Code: 404; Error Code: NoSuchKey; Request ID: )\r\n\r\n\r\n I tried the following:\r\n\r\n 1. Studying the [Setting lifecycle configuration on a bucket][1] article. I used the Java AWS SDK  to get the lifecycle configuration:\r\n\r\n&gt; amazonS3Client.getBucketLifecycleConfiguration(bucketName).getRules();\r\n\r\n\r\nbut it resulted in an `AmazonS3Exception: A request you provided implies functionality that is not implemented`\r\n\r\n\r\n 2. Getting the bucket policy with `amazonS3Client.getBucketPolicy(bucketName).getPolicyText()` but it returned `null`.\r\n\r\n 3. Manually retrieving objects in the bucket and drawing a sensible conclusion (i.e. files that are older than x weeks/month/years are gone). But I found out that the dates are scattered (from 2018 to 2022).\r\n\r\n\r\nMy question is there any way to find exactly why the file was deleted? Maybe S3 logs history of files somewhere? Is there any other reason for deletion except for manual deletion?\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html\r\n","title":"Retrieving reason for deletion in Amazon S3","body":"<p>There's S3 used in the project but presumably some files were deleted. When I query S3 I get the following response:</p>\n<pre><code>4b3bc846-a737-4aec-84bf-734f798bca39\nThe specified key does not exist. (Service: Amazon S3; Status Code: 404; Error Code: NoSuchKey; Request ID: )\n</code></pre>\n<p>I tried the following:</p>\n<ol>\n<li>Studying the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/how-to-set-lifecycle-configuration-intro.html\" rel=\"nofollow noreferrer\">Setting lifecycle configuration on a bucket</a> article. I used the Java AWS SDK  to get the lifecycle configuration:</li>\n</ol>\n<blockquote>\n<p>amazonS3Client.getBucketLifecycleConfiguration(bucketName).getRules();</p>\n</blockquote>\n<p>but it resulted in an <code>AmazonS3Exception: A request you provided implies functionality that is not implemented</code></p>\n<ol start=\"2\">\n<li><p>Getting the bucket policy with <code>amazonS3Client.getBucketPolicy(bucketName).getPolicyText()</code> but it returned <code>null</code>.</p>\n</li>\n<li><p>Manually retrieving objects in the bucket and drawing a sensible conclusion (i.e. files that are older than x weeks/month/years are gone). But I found out that the dates are scattered (from 2018 to 2022).</p>\n</li>\n</ol>\n<p>My question is there any way to find exactly why the file was deleted? Maybe S3 logs history of files somewhere? Is there any other reason for deletion except for manual deletion?</p>\n"},{"tags":["java","spring","spring-boot","jclouds"],"comments":[{"owner":{"account_id":2260035,"reputation":2448,"user_id":1990359,"display_name":"Sangram Jadhav"},"score":0,"creation_date":1474457947,"post_id":39615376,"comment_id":66537628,"body_markdown":"Can you share `mvn dependency:tree` output","body":"Can you share <code>mvn dependency:tree</code> output"},{"owner":{"account_id":1473557,"reputation":487,"user_id":1384523,"display_name":"E3G"},"score":0,"creation_date":1638190224,"post_id":39615376,"comment_id":124013968,"body_markdown":"Check the version of jClouds which you are using. It might be that you are referencing a method not available in the version specified in your project.","body":"Check the version of jClouds which you are using. It might be that you are referencing a method not available in the version specified in your project."}],"answers":[{"comments":[{"owner":{"account_id":1691849,"reputation":3175,"user_id":1554035,"accept_rate":31,"display_name":"SheppardDigital"},"score":0,"creation_date":1474463193,"post_id":39617159,"comment_id":66541194,"body_markdown":"Thanks for the comment. How would I use the maven-shade-plugin to resolve this? Sorry, I&#39;ve not used the shade-plugin before.","body":"Thanks for the comment. How would I use the maven-shade-plugin to resolve this? Sorry, I&#39;ve not used the shade-plugin before."},{"owner":{"account_id":4336118,"reputation":1476,"user_id":3540564,"display_name":"Ignasi Barrera"},"score":1,"creation_date":1474464476,"post_id":39617159,"comment_id":66542076,"body_markdown":"Have a look at the [jclouds Jenkins plugin](https://github.com/jenkinsci/jclouds-plugin). It basically defines a module, jclouds-shaded, that has the jclouds dependencies and configures the maven-shade-plugin to produce an uber jar with jclouds and the conflicting dependencies. They shade Guava/Guice, but in your case you want to shade just Gson. They also configure the package relocation to avoid package collisions with the &quot;outer&quot; dependencies (you should do it with Gson too).","body":"Have a look at the <a href=\"https://github.com/jenkinsci/jclouds-plugin\" rel=\"nofollow noreferrer\">jclouds Jenkins plugin</a>. It basically defines a module, jclouds-shaded, that has the jclouds dependencies and configures the maven-shade-plugin to produce an uber jar with jclouds and the conflicting dependencies. They shade Guava/Guice, but in your case you want to shade just Gson. They also configure the package relocation to avoid package collisions with the &quot;outer&quot; dependencies (you should do it with Gson too)."},{"owner":{"account_id":4336118,"reputation":1476,"user_id":3540564,"display_name":"Ignasi Barrera"},"score":0,"creation_date":1474464480,"post_id":39617159,"comment_id":66542080,"body_markdown":"Finally, in your project, instead of having the dependencies on jclouds you just need to depend on the &quot;jclouds-shaded&quot; jar you just created. It will contain everything that is needed.","body":"Finally, in your project, instead of having the dependencies on jclouds you just need to depend on the &quot;jclouds-shaded&quot; jar you just created. It will contain everything that is needed."},{"owner":{"account_id":1691849,"reputation":3175,"user_id":1554035,"accept_rate":31,"display_name":"SheppardDigital"},"score":0,"creation_date":1474472747,"post_id":39617159,"comment_id":66547869,"body_markdown":"Thanks I&#39;ll attempt to give that a try. Does anyone know how long it might be before the issue is resolved in jclouds itself?","body":"Thanks I&#39;ll attempt to give that a try. Does anyone know how long it might be before the issue is resolved in jclouds itself?"},{"owner":{"account_id":4336118,"reputation":1476,"user_id":3540564,"display_name":"Ignasi Barrera"},"score":0,"creation_date":1474472994,"post_id":39617159,"comment_id":66548038,"body_markdown":"Unfortunately there is no ETA for that fix. You might want to follow the discussion here: http://markmail.org/message/zqsj5ao4fjvalcoh","body":"Unfortunately there is no ETA for that fix. You might want to follow the discussion here: <a href=\"http://markmail.org/message/zqsj5ao4fjvalcoh\" rel=\"nofollow noreferrer\">markmail.org/message/zqsj5ao4fjvalcoh</a>"}],"tags":[],"owner":{"account_id":4336118,"reputation":1476,"user_id":3540564,"display_name":"Ignasi Barrera"},"comment_count":5,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1474462451,"creation_date":1474462451,"answer_id":39617159,"question_id":39615376,"body_markdown":"This is a known issue in jclouds. See [JCLOUDS-1160](https://issues.apache.org/jira/browse/JCLOUDS-1160) and [JCLOUDS-1166](https://issues.apache.org/jira/browse/JCLOUDS-1166). Until those issues are fixed you won&#39;t be able to use jclouds with Spring Boot if you can&#39;t force a version of Gson &lt;= 2.5.\r\n\r\nAnother option is to use the `maven-shade-plugin` to shade the jclouds dependencies and bundle Gson in it. This way you should be able to use the Gson version your environment needs, while jclouds uses the shaded one.","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>This is a known issue in jclouds. See <a href=\"https://issues.apache.org/jira/browse/JCLOUDS-1160\" rel=\"noreferrer\">JCLOUDS-1160</a> and <a href=\"https://issues.apache.org/jira/browse/JCLOUDS-1166\" rel=\"noreferrer\">JCLOUDS-1166</a>. Until those issues are fixed you won't be able to use jclouds with Spring Boot if you can't force a version of Gson &lt;= 2.5.</p>\n\n<p>Another option is to use the <code>maven-shade-plugin</code> to shade the jclouds dependencies and bundle Gson in it. This way you should be able to use the Gson version your environment needs, while jclouds uses the shaded one.</p>\n"},{"comments":[{"owner":{"account_id":5512516,"reputation":3434,"user_id":4378350,"accept_rate":85,"display_name":"Jan Gassen"},"score":0,"creation_date":1531493955,"post_id":40397339,"comment_id":89631236,"body_markdown":"Nice! For me it was sufficient to build the shaded jar with `&lt;artifactId&gt;jclouds-core&lt;/artifactId&gt;`","body":"Nice! For me it was sufficient to build the shaded jar with <code>&lt;artifactId&gt;jclouds-core&lt;&#47;artifactId&gt;</code>"},{"owner":{"account_id":2333773,"reputation":2569,"user_id":2046571,"display_name":"RocketRaccoon"},"score":0,"creation_date":1547146267,"post_id":40397339,"comment_id":95101735,"body_markdown":"I&#39;ll just leave it here - https://bintray.com/rocketraccoon/jclouds-shaded-gson-repo/jclouds-shaded-gson/2.1.1","body":"I&#39;ll just leave it here - <a href=\"https://bintray.com/rocketraccoon/jclouds-shaded-gson-repo/jclouds-shaded-gson/2.1.1\" rel=\"nofollow noreferrer\">bintray.com/rocketraccoon/jclouds-shaded-gson-repo/&hellip;</a>"}],"tags":[],"owner":{"account_id":1691849,"reputation":3175,"user_id":1554035,"accept_rate":31,"display_name":"SheppardDigital"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1478163610,"creation_date":1478163610,"answer_id":40397339,"question_id":39615376,"body_markdown":"I initially struggled creating the ubar jar using the shaded plugin, and eventually got it working. For anyone else who may have struggled like me.\r\n\r\nFirst, create a new (empty) maven project.\r\n\r\nHere&#39;s my POM file which included apache jclouds an older version of Gson, and renamed the Gson package for use inside the final jar so it doesn&#39;t conflict with Gson in my main project (see the relocations section of the POM file).\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;digital.sheppard&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jclouds-shaded&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.jclouds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jclouds-all&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.4.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;shade&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;relocations&gt;\r\n                                    &lt;relocation&gt;\r\n                                        &lt;pattern&gt;com.google.code.gson&lt;/pattern&gt;\r\n                                        &lt;shadedPattern&gt;com.shaded.code.gson&lt;/shadedPattern&gt;\r\n                                    &lt;/relocation&gt;\r\n                                &lt;/relocations&gt;\r\n                                &lt;transformers&gt;\r\n                                    &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ServicesResourceTransformer&quot;/&gt;\r\n                                &lt;/transformers&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nAt the terminal, build the project to create the jar file.\r\n\r\n    mvn package\r\n\r\nFinally, copy the jar file into the root of your main project, in my case a spring boot web application. \r\n\r\nCreate a folder in the root of your project called &#39;maven-local-repo&#39;, and at the terminal execute the following command to install your newly created shaded jar file into the local repository of your project (obviously change the filename, artifact etc to match the shaded jar you created).\r\n\r\n    mvn deploy:deploy-file -DgroupId=digital.sheppard -DartifactId=jclouds-shaded -Dversion=1.0-SNAPSHOT -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=jclouds-shaded-1.0-SNAPSHOT.jar\r\n\r\nAdd your local repository to your POM file;\r\n\r\n    &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;local-maven-repo&lt;/id&gt;\r\n                &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n\r\nFinally add a dependency;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;digital.sheppard&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jclouds-shaded&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nFor me that worked like a charm.\r\n\r\n\r\n\r\n","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>I initially struggled creating the ubar jar using the shaded plugin, and eventually got it working. For anyone else who may have struggled like me.</p>\n\n<p>First, create a new (empty) maven project.</p>\n\n<p>Here's my POM file which included apache jclouds an older version of Gson, and renamed the Gson package for use inside the final jar so it doesn't conflict with Gson in my main project (see the relocations section of the POM file).</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;digital.sheppard&lt;/groupId&gt;\n    &lt;artifactId&gt;jclouds-shaded&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n            &lt;version&gt;2.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.jclouds&lt;/groupId&gt;\n            &lt;artifactId&gt;jclouds-all&lt;/artifactId&gt;\n            &lt;version&gt;1.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;relocations&gt;\n                                &lt;relocation&gt;\n                                    &lt;pattern&gt;com.google.code.gson&lt;/pattern&gt;\n                                    &lt;shadedPattern&gt;com.shaded.code.gson&lt;/shadedPattern&gt;\n                                &lt;/relocation&gt;\n                            &lt;/relocations&gt;\n                            &lt;transformers&gt;\n                                &lt;transformer implementation=\"org.apache.maven.plugins.shade.resource.ServicesResourceTransformer\"/&gt;\n                            &lt;/transformers&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>At the terminal, build the project to create the jar file.</p>\n\n<pre><code>mvn package\n</code></pre>\n\n<p>Finally, copy the jar file into the root of your main project, in my case a spring boot web application. </p>\n\n<p>Create a folder in the root of your project called 'maven-local-repo', and at the terminal execute the following command to install your newly created shaded jar file into the local repository of your project (obviously change the filename, artifact etc to match the shaded jar you created).</p>\n\n<pre><code>mvn deploy:deploy-file -DgroupId=digital.sheppard -DartifactId=jclouds-shaded -Dversion=1.0-SNAPSHOT -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=jclouds-shaded-1.0-SNAPSHOT.jar\n</code></pre>\n\n<p>Add your local repository to your POM file;</p>\n\n<pre><code>&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;local-maven-repo&lt;/id&gt;\n            &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n\n<p>Finally add a dependency;</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;digital.sheppard&lt;/groupId&gt;\n    &lt;artifactId&gt;jclouds-shaded&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>For me that worked like a charm.</p>\n"},{"tags":[],"owner":{"account_id":2424487,"reputation":3103,"user_id":2116739,"accept_rate":25,"display_name":"okrunner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490157419,"creation_date":1490069476,"answer_id":42918300,"question_id":39615376,"body_markdown":"I switched my Java Code to use their raw HTTP API: \r\n\r\nhttps://support.rackspace.com/how-to/cloud-files-curl-cookbook/\r\n\r\ne.g.\r\n\r\n    public class CloudFilesClient {\r\n    \r\n      private final String username; \r\n      private final String apiKey;\r\n      private final RestTemplate rest = new RestTemplate();\r\n      \r\n      private static final String AUTH_URL      = &quot;https://auth.api.rackspacecloud.com/v1.1/auth&quot;;\r\n      \r\n      private static final String AUTH_DOCUMENT = &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; + \r\n                                                  &quot;&lt;credentials xmlns=\\&quot;http://docs.rackspacecloud.com/auth/api/v1.1\\&quot; &quot; + \r\n                                                  &quot;             username=\\&quot;%s\\&quot; &quot; + \r\n                                                  &quot;             key=\\&quot;%s\\&quot; /&gt;&quot;;\r\n    \r\n      \r\n      private CloudFilesClient (String aUsername, String aApiKey) {\r\n        username = aUsername;\r\n        apiKey = aApiKey;\r\n      }\r\n     \r\n      public List&lt;Map&lt;String,Object&gt;&gt; listObjects (String aRegionName, String aContainerName) {\r\n        Map&lt;String, Object&gt; auth = auth();\r\n        Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;X-Auth-Token&quot;, token(auth));\r\n        HttpEntity&lt;?&gt; e = new HttpEntity&lt;&gt;(headers);\r\n        ResponseEntity&lt;List&gt; exchange = rest.exchange(((String)cloudFiles.get(&quot;publicURL&quot;))+&quot;/&quot;+aContainerName, HttpMethod.GET, e, List.class);\r\n        return exchange.getBody();\r\n      }\r\n      \r\n      public Map&lt;String,Object&gt; putObject (String aRegionName, String aContainerName, String aObjectName, String aLocalFilePath) throws IOException {\r\n        Map&lt;String, Object&gt; auth = auth();\r\n        Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\r\n        String token = token(auth);\r\n        File file = new File(aLocalFilePath);\r\n        Assert.isTrue(file.exists(),&quot;File not found: &quot; + aLocalFilePath);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;X-Auth-Token&quot;, token);\r\n        headers.setContentType(MediaType.valueOf(Files.probeContentType(file.toPath())));\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n        HttpEntity&lt;Resource&gt; requestEntity = new HttpEntity&lt;&gt;(new FileSystemResource(file), headers);\r\n        ResponseEntity&lt;Map&gt; result = rest.exchange(((String)cloudFiles.get(&quot;publicURL&quot;))+&quot;/&quot;+aContainerName+&quot;/&quot;+aObjectName, HttpMethod.PUT, requestEntity,Map.class);\r\n        return result.getBody();\r\n      }\r\n      \r\n      public String getTemporaryUrl (String aRegionName, String aContainerName, String aObjectName) throws URISyntaxException {\r\n        String key = UUID.randomUUID().toString();\r\n        Map&lt;String, Object&gt; auth = auth();\r\n        Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.set(&quot;X-Auth-Token&quot;, token(auth));\r\n        headers.set(&quot;X-Account-Meta-Temp-Url-Key&quot;, key);\r\n        HttpEntity&lt;?&gt; e = new HttpEntity&lt;&gt;(headers);\r\n        rest.exchange(((String)cloudFiles.get(&quot;publicURL&quot;)), HttpMethod.POST, e, List.class);\r\n        String method = &quot;GET&quot;;\r\n        long expires = System.currentTimeMillis()/1000+3600;\r\n        URI endpoint = (new URI((String)cloudFiles.get(&quot;publicURL&quot;)));\r\n        String base = endpoint.getScheme()+&quot;://&quot;+endpoint.getHost();\r\n        String path = endpoint.getPath()+&quot;/&quot;+aContainerName+&quot;/&quot;+aObjectName;\r\n        String hmacBody = String.format(&quot;%s\\n%s\\n%s&quot;, method,expires,path);\r\n        String sig = HmacUtils.hmacSha1Hex(key, hmacBody);\r\n        return String.format(&quot;%s%s?temp_url_sig=%s&amp;temp_url_expires=%s&quot;,base, path, sig, expires);\r\n      }\r\n      \r\n      private Map&lt;String,Object&gt; auth () {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setContentType(MediaType.APPLICATION_XML);\r\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n        HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(String.format(AUTH_DOCUMENT,username,apiKey), headers);\r\n        ResponseEntity&lt;Map&gt; result = rest.exchange(AUTH_URL, HttpMethod.POST, requestEntity, Map.class);\r\n        Map&lt;String,Object&gt; body = result.getBody();\r\n        return (Map&lt;String, Object&gt;) body.get(&quot;auth&quot;);\r\n      }\r\n        \r\n      private Map&lt;String, Object&gt; cloudFiles (Map&lt;String,Object&gt; aAuth, String aRegionName) {\r\n        Map&lt;String, Object&gt; catalog = (Map&lt;String, Object&gt;) aAuth.get(&quot;serviceCatalog&quot;);\r\n        List&lt;Map&lt;String, Object&gt;&gt; cloudFiles = (List&lt;Map&lt;String, Object&gt;&gt;) catalog.get(&quot;cloudFiles&quot;);\r\n        Optional&lt;Map&lt;String, Object&gt;&gt; region = cloudFiles.stream().filter(r-&gt;r.get(&quot;region&quot;).equals(aRegionName)).findFirst();\r\n        Assert.isTrue(region.isPresent(),&quot;Unknown region: &quot; + aRegionName);\r\n        return region.get();\r\n      }\r\n      \r\n      private String token (Map&lt;String,Object&gt; aAuth) {\r\n        Map&lt;String, Object&gt; token = (Map&lt;String, Object&gt;) aAuth.get(&quot;token&quot;);\r\n        return (String)token.get(&quot;id&quot;);\r\n      }\r\n      \r\n      public static CloudFilesClient build (String aUsername, String aApiKey) {\r\n        return new CloudFilesClient(aUsername, aApiKey);\r\n      }\r\n      \r\n    }\r\n\r\n","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>I switched my Java Code to use their raw HTTP API: </p>\n\n<p><a href=\"https://support.rackspace.com/how-to/cloud-files-curl-cookbook/\" rel=\"nofollow noreferrer\">https://support.rackspace.com/how-to/cloud-files-curl-cookbook/</a></p>\n\n<p>e.g.</p>\n\n<pre><code>public class CloudFilesClient {\n\n  private final String username; \n  private final String apiKey;\n  private final RestTemplate rest = new RestTemplate();\n\n  private static final String AUTH_URL      = \"https://auth.api.rackspacecloud.com/v1.1/auth\";\n\n  private static final String AUTH_DOCUMENT = \"&lt;?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?&gt;\" + \n                                              \"&lt;credentials xmlns=\\\"http://docs.rackspacecloud.com/auth/api/v1.1\\\" \" + \n                                              \"             username=\\\"%s\\\" \" + \n                                              \"             key=\\\"%s\\\" /&gt;\";\n\n\n  private CloudFilesClient (String aUsername, String aApiKey) {\n    username = aUsername;\n    apiKey = aApiKey;\n  }\n\n  public List&lt;Map&lt;String,Object&gt;&gt; listObjects (String aRegionName, String aContainerName) {\n    Map&lt;String, Object&gt; auth = auth();\n    Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(\"X-Auth-Token\", token(auth));\n    HttpEntity&lt;?&gt; e = new HttpEntity&lt;&gt;(headers);\n    ResponseEntity&lt;List&gt; exchange = rest.exchange(((String)cloudFiles.get(\"publicURL\"))+\"/\"+aContainerName, HttpMethod.GET, e, List.class);\n    return exchange.getBody();\n  }\n\n  public Map&lt;String,Object&gt; putObject (String aRegionName, String aContainerName, String aObjectName, String aLocalFilePath) throws IOException {\n    Map&lt;String, Object&gt; auth = auth();\n    Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\n    String token = token(auth);\n    File file = new File(aLocalFilePath);\n    Assert.isTrue(file.exists(),\"File not found: \" + aLocalFilePath);\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(\"X-Auth-Token\", token);\n    headers.setContentType(MediaType.valueOf(Files.probeContentType(file.toPath())));\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;Resource&gt; requestEntity = new HttpEntity&lt;&gt;(new FileSystemResource(file), headers);\n    ResponseEntity&lt;Map&gt; result = rest.exchange(((String)cloudFiles.get(\"publicURL\"))+\"/\"+aContainerName+\"/\"+aObjectName, HttpMethod.PUT, requestEntity,Map.class);\n    return result.getBody();\n  }\n\n  public String getTemporaryUrl (String aRegionName, String aContainerName, String aObjectName) throws URISyntaxException {\n    String key = UUID.randomUUID().toString();\n    Map&lt;String, Object&gt; auth = auth();\n    Map&lt;String, Object&gt; cloudFiles = cloudFiles(auth, aRegionName);\n    HttpHeaders headers = new HttpHeaders();\n    headers.set(\"X-Auth-Token\", token(auth));\n    headers.set(\"X-Account-Meta-Temp-Url-Key\", key);\n    HttpEntity&lt;?&gt; e = new HttpEntity&lt;&gt;(headers);\n    rest.exchange(((String)cloudFiles.get(\"publicURL\")), HttpMethod.POST, e, List.class);\n    String method = \"GET\";\n    long expires = System.currentTimeMillis()/1000+3600;\n    URI endpoint = (new URI((String)cloudFiles.get(\"publicURL\")));\n    String base = endpoint.getScheme()+\"://\"+endpoint.getHost();\n    String path = endpoint.getPath()+\"/\"+aContainerName+\"/\"+aObjectName;\n    String hmacBody = String.format(\"%s\\n%s\\n%s\", method,expires,path);\n    String sig = HmacUtils.hmacSha1Hex(key, hmacBody);\n    return String.format(\"%s%s?temp_url_sig=%s&amp;temp_url_expires=%s\",base, path, sig, expires);\n  }\n\n  private Map&lt;String,Object&gt; auth () {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.APPLICATION_XML);\n    headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n    HttpEntity&lt;String&gt; requestEntity = new HttpEntity&lt;&gt;(String.format(AUTH_DOCUMENT,username,apiKey), headers);\n    ResponseEntity&lt;Map&gt; result = rest.exchange(AUTH_URL, HttpMethod.POST, requestEntity, Map.class);\n    Map&lt;String,Object&gt; body = result.getBody();\n    return (Map&lt;String, Object&gt;) body.get(\"auth\");\n  }\n\n  private Map&lt;String, Object&gt; cloudFiles (Map&lt;String,Object&gt; aAuth, String aRegionName) {\n    Map&lt;String, Object&gt; catalog = (Map&lt;String, Object&gt;) aAuth.get(\"serviceCatalog\");\n    List&lt;Map&lt;String, Object&gt;&gt; cloudFiles = (List&lt;Map&lt;String, Object&gt;&gt;) catalog.get(\"cloudFiles\");\n    Optional&lt;Map&lt;String, Object&gt;&gt; region = cloudFiles.stream().filter(r-&gt;r.get(\"region\").equals(aRegionName)).findFirst();\n    Assert.isTrue(region.isPresent(),\"Unknown region: \" + aRegionName);\n    return region.get();\n  }\n\n  private String token (Map&lt;String,Object&gt; aAuth) {\n    Map&lt;String, Object&gt; token = (Map&lt;String, Object&gt;) aAuth.get(\"token\");\n    return (String)token.get(\"id\");\n  }\n\n  public static CloudFilesClient build (String aUsername, String aApiKey) {\n    return new CloudFilesClient(aUsername, aApiKey);\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":61330,"reputation":4234,"user_id":182837,"accept_rate":62,"display_name":"Carsten"},"score":1,"creation_date":1533780340,"post_id":47060244,"comment_id":90475143,"body_markdown":"This does not seem to work with the current version of Spring Boot as it seems to rely on gson features introduced after 2.5. In particular 2.5 does not seem to have `com.google.gson.GsonBuilder.setLenient()Lcom/google/gson/GsonBuilder;`","body":"This does not seem to work with the current version of Spring Boot as it seems to rely on gson features introduced after 2.5. In particular 2.5 does not seem to have <code>com.google.gson.GsonBuilder.setLenient()Lcom&#47;google&#47;gson&#47;Gso&zwnj;&#8203;nBuilder;</code>"}],"tags":[],"owner":{"account_id":213358,"reputation":91,"user_id":2245517,"display_name":"garypen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509556454,"creation_date":1509556454,"answer_id":47060244,"question_id":39615376,"body_markdown":"I know hardly anything about gradle, SpringBoot, or JClouds...\r\n\r\nWith those disclaimers out of the way, I hacked my gradle build file like so:\r\n\r\n    dependencies {\r\n    ...\r\n        // REQUIRED TO ALLOW JCLOUDS AND GSON TO PLAY NICELY.... XXX\r\n        compile &#39;com.google.code.gson:gson:2.5&#39;\r\n    ...\r\n    }\r\n\r\nand this seemed to have the effect of locking the GSON version to 2.5 which is the newest version that works with both JClouds and SpringBoot. With this hack in place, I can build and run my application.\r\n\r\n","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>I know hardly anything about gradle, SpringBoot, or JClouds...</p>\n\n<p>With those disclaimers out of the way, I hacked my gradle build file like so:</p>\n\n<pre><code>dependencies {\n...\n    // REQUIRED TO ALLOW JCLOUDS AND GSON TO PLAY NICELY.... XXX\n    compile 'com.google.code.gson:gson:2.5'\n...\n}\n</code></pre>\n\n<p>and this seemed to have the effect of locking the GSON version to 2.5 which is the newest version that works with both JClouds and SpringBoot. With this hack in place, I can build and run my application.</p>\n"},{"tags":[],"owner":{"account_id":10791884,"reputation":53,"user_id":7940628,"display_name":"emolano"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1670930183,"creation_date":1670930183,"answer_id":74783988,"question_id":39615376,"body_markdown":"For those who strumbled upon this in early 2023, my jcloud version is 2.5.0, and I solved it by forcing gradle to use Gson 2.8.9. \r\n\r\n    configurations {\r\n        all {\r\n            resolutionStrategy {\r\n                force &#39;com.google.code.gson:gson:2.8.9&#39;\r\n            }\r\n        }\r\n    }\r\n\r\nTake a look at the release notes of newer jcloud versions to see what&#39;s the lasted supported GSON version and try to use it. Sometimes Guava can also cause compatibility issues with Spring.","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>For those who strumbled upon this in early 2023, my jcloud version is 2.5.0, and I solved it by forcing gradle to use Gson 2.8.9.</p>\n<pre><code>configurations {\n    all {\n        resolutionStrategy {\n            force 'com.google.code.gson:gson:2.8.9'\n        }\n    }\n}\n</code></pre>\n<p>Take a look at the release notes of newer jcloud versions to see what's the lasted supported GSON version and try to use it. Sometimes Guava can also cause compatibility issues with Spring.</p>\n"},{"comments":[{"owner":{"account_id":26444600,"reputation":13,"user_id":20088596,"display_name":"gkhand"},"score":0,"creation_date":1680724844,"post_id":75626051,"comment_id":133948815,"body_markdown":"https://github.com/gokhandegerli/jclouds01","body":"<a href=\"https://github.com/gokhandegerli/jclouds01\" rel=\"nofollow noreferrer\">github.com/gokhandegerli/jclouds01</a>"}],"tags":[],"owner":{"account_id":26444600,"reputation":13,"user_id":20088596,"display_name":"gkhand"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677840247,"creation_date":1677840247,"answer_id":75626051,"question_id":39615376,"body_markdown":"Below import worked for me:\r\n\r\n```\r\nimplementation &#39;com.google.code.gson:gson:2.8.9&#39;\r\n```","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>Below import worked for me:</p>\n<pre><code>implementation 'com.google.code.gson:gson:2.8.9'\n</code></pre>\n"}],"owner":{"account_id":1691849,"reputation":3175,"user_id":1554035,"accept_rate":31,"display_name":"SheppardDigital"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3946,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":39617159,"answer_count":6,"score":5,"last_activity_date":1677840247,"creation_date":1474457460,"question_id":39615376,"body_markdown":"I&#39;m trying to integrate Apache Jclouds into a Spring Boot application I&#39;m working on so that I can upload files to Rackspace Cloud Files(UK).\r\n\r\nI&#39;ve created a class which I&#39;m creating as a Bean;\r\n\r\n    import com.google.common.io.ByteSource;\r\n    import com.google.common.io.Files;\r\n    import org.jclouds.ContextBuilder;\r\n    import org.jclouds.io.Payload;\r\n    import org.jclouds.io.Payloads;\r\n    import org.jclouds.openstack.swift.v1.features.ObjectApi;\r\n    import org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi;\r\n    import org.springframework.web.multipart.MultipartFile;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    /**\r\n     * Class WebStorage\r\n     *\r\n     */\r\n    public class WebStorage {\r\n    \r\n        private final String region = &quot;lon&quot;;\r\n        private final String provider = &quot;rackspace-cloudfiles-uk&quot;;\r\n    \r\n        private String username;\r\n        private String apiKey;\r\n        private String container;\r\n        private String url;\r\n    \r\n        private CloudFilesApi cloudFilesApi;\r\n    \r\n        public WebStorage(String username, String apiKey, String container, String url) {\r\n            this.username = username;\r\n            this.apiKey = apiKey;\r\n            this.container = container;\r\n            this.url = url;\r\n    \r\n            cloudFilesApi = ContextBuilder.newBuilder(provider)\r\n                    .credentials(this.username, this.apiKey)\r\n                    .buildApi(CloudFilesApi.class);\r\n        }\r\n    \r\n        /**\r\n         * Accepts a MultipartFile and returns it as a File\r\n         * @param multipartFile the MultiPartFile to convert\r\n         * @return a new File\r\n         */\r\n        public static File createFileFromMultipart(MultipartFile multipartFile) {\r\n            File file = new File(multipartFile.getOriginalFilename());\r\n    \r\n            try {\r\n                file.createNewFile();\r\n                FileOutputStream fos = new FileOutputStream(file);\r\n                fos.write(multipartFile.getBytes());\r\n                fos.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            return file;\r\n        }\r\n    \r\n        /**\r\n         * Send the file to the CDN and return it&#39;s full URL\r\n         * @param name the path/name of the file on the CDN\r\n         * @param theFile the file to upload to the CDN\r\n         * @return the full URL to the uploaded file on the CDN\r\n         */\r\n        public String put(String name, File theFile) {\r\n            ObjectApi objectApi = cloudFilesApi.getObjectApi(region, this.container);\r\n    \r\n            /* Upload the file */\r\n            ByteSource byteSource = Files.asByteSource(theFile);\r\n            Payload filePayload = Payloads.newByteSourcePayload(byteSource);\r\n            objectApi.put(name, filePayload);\r\n    \r\n            return this.url + name;\r\n        }\r\n    \r\n    }\r\n\r\nI&#39;m declaring the bean in the same place I&#39;m declaring all other beans (which work fine);\r\n\r\n    @Bean\r\n        public WebStorage storage() {\r\n            return new WebStorage(\r\n                    env.getProperty(&quot;voila.cdn.username&quot;),\r\n                    env.getProperty(&quot;voila.cdn.apikey&quot;),\r\n                    env.getProperty(&quot;voila.cdn.container&quot;),\r\n                    env.getProperty(&quot;voila.cdn.url&quot;)\r\n            );\r\n        }\r\n\r\nBut each time I run the application, the bean fails to load as a class not found error is generated when trying to create the bean.\r\n\r\n    2016-09-21 12:19:06.847 ERROR 14911 --- [  restartedMain] o.s.boot.SpringApplication               : Application startup failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;userController&#39;: Unsatisfied dependency expressed through field &#39;storage&#39;: Error creating bean with name &#39;storage&#39; defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;storage&#39; defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:313) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    \tat com.appapi.VoilaApplication.main(VoilaApplication.java:12) [classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.4.0.RELEASE.jar:1.4.0.RELEASE]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;storage&#39; defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 24 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method &#39;storage&#39; threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 37 common frames omitted\r\n    Caused by: java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\r\n    \tat org.jclouds.json.internal.DeserializationConstructorAndReflectiveTypeAdapterFactory.&lt;init&gt;(DeserializationConstructorAndReflectiveTypeAdapterFactory.java:116) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat org.jclouds.json.config.GsonModule.provideGson(GsonModule.java:129) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\r\n    \tat com.google.inject.internal.ProviderMethod.get(ProviderMethod.java:104) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.Scopes$1$1.get(Scopes.java:65) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.Scopes$1$1.get(Scopes.java:65) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:204) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:198) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1024) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(InternalInjectorCreator.java:198) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:179) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:109) ~[guice-3.0.jar:na]\r\n    \tat com.google.inject.Guice.createInjector(Guice.java:95) ~[guice-3.0.jar:na]\r\n    \tat org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:402) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:326) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat org.jclouds.ContextBuilder.buildApi(ContextBuilder.java:644) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat org.jclouds.ContextBuilder.buildApi(ContextBuilder.java:636) ~[jclouds-core-1.9.2.jar:1.9.2]\r\n    \tat com.appapi.helpers.WebStorage.&lt;init&gt;(WebStorage.java:49) ~[classes/:na]\r\n    \tat com.appapi.config.AppConfiguration.storage(AppConfiguration.java:41) ~[classes/:na]\r\n    \tat com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038.CGLIB$storage$2(&lt;generated&gt;) ~[classes/:na]\r\n    \tat com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038$$FastClassBySpringCGLIB$$59b0bc24.invoke(&lt;generated&gt;) ~[classes/:na]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \tat com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038.storage(&lt;generated&gt;) ~[classes/:na]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\r\n    \t... 38 common frames omitted\r\n\r\nI&#39;ve included version 1.9.2 of jclouds in my pom file;\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.jclouds&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jclouds-all&lt;/artifactId&gt;\r\n                &lt;version&gt;1.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nIs someone able to tell my why I&#39;m getting a class not found error? I&#39;m not including any Google dependencies in my POM, so any that are available are being included by one of my dependencies.","title":"Apache jclouds java.lang.NoSuchMethodError when using Rackspace in a Spring Boot application","body":"<p>I'm trying to integrate Apache Jclouds into a Spring Boot application I'm working on so that I can upload files to Rackspace Cloud Files(UK).</p>\n\n<p>I've created a class which I'm creating as a Bean;</p>\n\n<pre><code>import com.google.common.io.ByteSource;\nimport com.google.common.io.Files;\nimport org.jclouds.ContextBuilder;\nimport org.jclouds.io.Payload;\nimport org.jclouds.io.Payloads;\nimport org.jclouds.openstack.swift.v1.features.ObjectApi;\nimport org.jclouds.rackspace.cloudfiles.v1.CloudFilesApi;\nimport org.springframework.web.multipart.MultipartFile;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\n/**\n * Class WebStorage\n *\n */\npublic class WebStorage {\n\n    private final String region = \"lon\";\n    private final String provider = \"rackspace-cloudfiles-uk\";\n\n    private String username;\n    private String apiKey;\n    private String container;\n    private String url;\n\n    private CloudFilesApi cloudFilesApi;\n\n    public WebStorage(String username, String apiKey, String container, String url) {\n        this.username = username;\n        this.apiKey = apiKey;\n        this.container = container;\n        this.url = url;\n\n        cloudFilesApi = ContextBuilder.newBuilder(provider)\n                .credentials(this.username, this.apiKey)\n                .buildApi(CloudFilesApi.class);\n    }\n\n    /**\n     * Accepts a MultipartFile and returns it as a File\n     * @param multipartFile the MultiPartFile to convert\n     * @return a new File\n     */\n    public static File createFileFromMultipart(MultipartFile multipartFile) {\n        File file = new File(multipartFile.getOriginalFilename());\n\n        try {\n            file.createNewFile();\n            FileOutputStream fos = new FileOutputStream(file);\n            fos.write(multipartFile.getBytes());\n            fos.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return file;\n    }\n\n    /**\n     * Send the file to the CDN and return it's full URL\n     * @param name the path/name of the file on the CDN\n     * @param theFile the file to upload to the CDN\n     * @return the full URL to the uploaded file on the CDN\n     */\n    public String put(String name, File theFile) {\n        ObjectApi objectApi = cloudFilesApi.getObjectApi(region, this.container);\n\n        /* Upload the file */\n        ByteSource byteSource = Files.asByteSource(theFile);\n        Payload filePayload = Payloads.newByteSourcePayload(byteSource);\n        objectApi.put(name, filePayload);\n\n        return this.url + name;\n    }\n\n}\n</code></pre>\n\n<p>I'm declaring the bean in the same place I'm declaring all other beans (which work fine);</p>\n\n<pre><code>@Bean\n    public WebStorage storage() {\n        return new WebStorage(\n                env.getProperty(\"voila.cdn.username\"),\n                env.getProperty(\"voila.cdn.apikey\"),\n                env.getProperty(\"voila.cdn.container\"),\n                env.getProperty(\"voila.cdn.url\")\n        );\n    }\n</code></pre>\n\n<p>But each time I run the application, the bean fails to load as a class not found error is generated when trying to create the bean.</p>\n\n<pre><code>2016-09-21 12:19:06.847 ERROR 14911 --- [  restartedMain] o.s.boot.SpringApplication               : Application startup failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'userController': Unsatisfied dependency expressed through field 'storage': Error creating bean with name 'storage' defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method 'storage' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'storage' defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method 'storage' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:569) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:349) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:543) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:776) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:861) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:369) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:313) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1185) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1174) [spring-boot-1.4.0.RELEASE.jar:1.4.0.RELEASE]\n    at com.appapi.VoilaApplication.main(VoilaApplication.java:12) [classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\n    at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) [spring-boot-devtools-1.4.0.RELEASE.jar:1.4.0.RELEASE]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'storage' defined in class path resource [com/appapi/config/AppConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method 'storage' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1123) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1018) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:510) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:482) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:207) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1214) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1054) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1019) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:566) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 24 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.appapi.helpers.WebStorage]: Factory method 'storage' threw exception; nested exception is java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 37 common frames omitted\nCaused by: java.lang.NoSuchMethodError: com.google.gson.internal.bind.ReflectiveTypeAdapterFactory.&lt;init&gt;(Lcom/google/gson/internal/ConstructorConstructor;Lcom/google/gson/FieldNamingStrategy;Lcom/google/gson/internal/Excluder;)V\n    at org.jclouds.json.internal.DeserializationConstructorAndReflectiveTypeAdapterFactory.&lt;init&gt;(DeserializationConstructorAndReflectiveTypeAdapterFactory.java:116) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at org.jclouds.json.config.GsonModule.provideGson(GsonModule.java:129) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\n    at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\n    at com.google.inject.internal.ProviderMethod.get(ProviderMethod.java:104) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.Scopes$1$1.get(Scopes.java:65) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.SingleParameterInjector.inject(SingleParameterInjector.java:38) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.SingleParameterInjector.getAll(SingleParameterInjector.java:62) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:84) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:254) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter$1.call(ProviderToInternalFactoryAdapter.java:46) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1031) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.Scopes$1$1.get(Scopes.java:65) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalFactoryToProviderAdapter.get(InternalFactoryToProviderAdapter.java:40) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.FactoryProxy.get(FactoryProxy.java:54) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:204) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator$1.call(InternalInjectorCreator.java:198) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1024) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator.loadEagerSingletons(InternalInjectorCreator.java:198) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator.injectDynamically(InternalInjectorCreator.java:179) ~[guice-3.0.jar:na]\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:109) ~[guice-3.0.jar:na]\n    at com.google.inject.Guice.createInjector(Guice.java:95) ~[guice-3.0.jar:na]\n    at org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:402) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at org.jclouds.ContextBuilder.buildInjector(ContextBuilder.java:326) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at org.jclouds.ContextBuilder.buildApi(ContextBuilder.java:644) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at org.jclouds.ContextBuilder.buildApi(ContextBuilder.java:636) ~[jclouds-core-1.9.2.jar:1.9.2]\n    at com.appapi.helpers.WebStorage.&lt;init&gt;(WebStorage.java:49) ~[classes/:na]\n    at com.appapi.config.AppConfiguration.storage(AppConfiguration.java:41) ~[classes/:na]\n    at com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038.CGLIB$storage$2(&lt;generated&gt;) ~[classes/:na]\n    at com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038$$FastClassBySpringCGLIB$$59b0bc24.invoke(&lt;generated&gt;) ~[classes/:na]\n    at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228) ~[spring-core-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:356) ~[spring-context-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    at com.appapi.config.AppConfiguration$$EnhancerBySpringCGLIB$$d004a038.storage(&lt;generated&gt;) ~[classes/:na]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_25]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_25]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_25]\n    at java.lang.reflect.Method.invoke(Method.java:483) ~[na:1.8.0_25]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162) ~[spring-beans-4.3.2.RELEASE.jar:4.3.2.RELEASE]\n    ... 38 common frames omitted\n</code></pre>\n\n<p>I've included version 1.9.2 of jclouds in my pom file;</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.apache.jclouds&lt;/groupId&gt;\n            &lt;artifactId&gt;jclouds-all&lt;/artifactId&gt;\n            &lt;version&gt;1.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>Is someone able to tell my why I'm getting a class not found error? I'm not including any Google dependencies in my POM, so any that are available are being included by one of my dependencies.</p>\n"},{"tags":["java","wiremock"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1654914561,"post_id":72581257,"comment_id":128212392,"body_markdown":"It says `INFO`. Have you tried setting the relevant logger to `WARN`?","body":"It says <code>INFO</code>. Have you tried setting the relevant logger to <code>WARN</code>?"}],"answers":[{"tags":[],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1670437431,"creation_date":1654916483,"answer_id":72581416,"question_id":72581257,"body_markdown":"Thanks suggestion from [@chrylis](https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic)\r\n\r\nSolved by adding `logback-test.xml` under `/src/test/resources` folder with following content:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;configuration&gt;\r\n        &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\r\n    \r\n        &lt;!-- Turning down the wiremock logging --&gt;\r\n        &lt;logger name=&quot;com.github.tomakehurst.wiremock&quot; level=&quot;WARN&quot;/&gt;\r\n        &lt;logger name=&quot;wiremock.org&quot; level=&quot;WARN&quot;/&gt;\r\n        &lt;logger name=&quot;WireMock&quot; level=&quot;WARN&quot;/&gt;\r\n    \r\n        &lt;!-- wiremock has per endpoint servlet logging --&gt;\r\n        &lt;logger name=&quot;/&quot; level=&quot;WARN&quot;/&gt;\r\n    &lt;/configuration&gt;\r\n\r\n       \r\nupdated: `logback-test.xml`","title":"Disable logging of WireMock","body":"<p>Thanks suggestion from <a href=\"https://stackoverflow.com/users/1189885/chrylis-cautiouslyoptimistic\">@chrylis</a></p>\n<p>Solved by adding <code>logback-test.xml</code> under <code>/src/test/resources</code> folder with following content:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;configuration&gt;\n    &lt;include resource=&quot;org/springframework/boot/logging/logback/base.xml&quot;/&gt;\n\n    &lt;!-- Turning down the wiremock logging --&gt;\n    &lt;logger name=&quot;com.github.tomakehurst.wiremock&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;wiremock.org&quot; level=&quot;WARN&quot;/&gt;\n    &lt;logger name=&quot;WireMock&quot; level=&quot;WARN&quot;/&gt;\n\n    &lt;!-- wiremock has per endpoint servlet logging --&gt;\n    &lt;logger name=&quot;/&quot; level=&quot;WARN&quot;/&gt;\n&lt;/configuration&gt;\n\n   \n</code></pre>\n<p>updated: <code>logback-test.xml</code></p>\n"},{"tags":[],"owner":{"account_id":3953719,"reputation":1153,"user_id":3263041,"display_name":"Florian Lopes"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677840191,"creation_date":1677840191,"answer_id":75626043,"question_id":72581257,"body_markdown":"Using Spring Boot, you can simply add this configuration to `application-test.yml` file:\r\n\r\n    logging:\r\n      level:\r\n        WireMock: WARN","title":"Disable logging of WireMock","body":"<p>Using Spring Boot, you can simply add this configuration to <code>application-test.yml</code> file:</p>\n<pre><code>logging:\n  level:\n    WireMock: WARN\n</code></pre>\n"}],"owner":{"account_id":269513,"reputation":14298,"user_id":558892,"accept_rate":79,"display_name":"Deqing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2049,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1677840191,"creation_date":1654913540,"question_id":72581257,"body_markdown":"I&#39;m using `@AutoConfigureWireMock(port = 0)` to init mock server.\r\n\r\nThis is the setup class written in Kotlin:\r\n\r\n    @AutoConfigureWireMock(port = 0)\r\n    @SpringBootTest(\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n    )\r\n    class MockServerBase {\r\n    \r\n        @Autowired\r\n        lateinit var mockServer: WireMockServer\r\n    \r\n        @BeforeEach\r\n        fun setUp() {\r\n            mockServer.start()\r\n        }\r\n\r\nIt&#39;s working fine, and I&#39;m seeing following log in console when running my test:\r\n\r\n    2022-06-11 11:58:14.639  INFO [...,,] 97733 --- [qtp630910066-62] WireMock                                 : Request received:\r\n    127.0.0.1 - GET /api/v1/.../objects/b4a67951-4408-424f-916b-66852b012160\r\n    \r\n    Authorization: [Bearer eyJraWQiOiJtaWNyb3NcL29zLXRlc3RlclwvMTY1Mjg1ODYyMiIsImFsZyI6IlJTMjU2In0.eyJhdWQiOiJ0ZHAtb3MiLCJuYmYiOjE2NTQ5MTI2OTQsImlzcyI6Im1pY3Jvc1wvb3MtdGVzdGVyIiwiZXhwIjoxNjU0OTEyNzU0LCJpYXQiOjE2NTQ5MTI2OTQsImp0aSI6ImU5MGNlMGI0LTlmMjMtNDJlNS1iMDc4LWU4MGE0ZWI5MzFjOCJ9.U35a8zPH8-HZeWwSKaFq2KDebLkdWz99YCxcs9qDBYcPCRn_s_BhKJLgu8OCq3s4MAC0VmGZS6JqRzvUa-qIqfoA3DT6LSoDoVRwEZycnlL3OP6PJ6nVz1u-zkaNHfz8mBQ-3xuPmDKRddBArcvMfb7LuM3n-Tv6d1hb87QnDHqWqyl9S976jd4QKd21ymm30LziW1QeJXAINcq6YRvJfTZ7AhdorwYy0AwhGE-LD8xqYjUJwuy-WQaHsuZ8oClGIm3mUy2su5yIVHwQEldI2Gxv9gefF6eH__e4bdWWPwaDtkN2_KKIEBJaVGk53292EuRzQixO5UCe3rIuP1X96A]\r\n    Accept: [application/json]\r\n    X-B3-SpanId: [b91171b9168b6d9c]\r\n    User-Agent: [ReactorNetty/1.0.17]\r\n    X-B3-Sampled: [1]\r\n    Host: [localhost:10441]\r\n    X-B3-TraceId: [b91171b9168b6d9c]\r\n    x-partition-id: [v1-test]\r\n    \r\n    \r\n    \r\n    Matched response definition:\r\n    {\r\n      &quot;status&quot; : 200,\r\n      &quot;body&quot; : &quot;{\\&quot;bucketKey\\&quot;:\\&quot;....\\&quot;,\\&quot;objectId\\&quot;:\\&quot;b4a67951-4408-424f-916b-66852b012160\\&quot;,\\&quot;partitionId\\&quot;:\\&quot;v1-test\\&quot;,\\&quot;currentVersion\\&quot;:\\&quot;1654912692121\\&quot;,\\&quot;checksum\\&quot;:\\&quot;OJEcxfNhApqHyPfrShDS\\&quot;,\\&quot;s3Etag\\&quot;:\\&quot;0Y5AwxkypfgbZ9mEyUa7og==-4\\&quot;,\\&quot;size\\&quot;:20971520,\\&quot;creationInfo\\&quot;:{\\&quot;by\\&quot;:\\&quot;o0m6CQM0Db\\&quot;,\\&quot;at\\&quot;:1654912692121},\\&quot;updateInfo\\&quot;:null}&quot;,\r\n      &quot;headers&quot; : {\r\n        &quot;Content-Type&quot; : &quot;application/json&quot;\r\n      }\r\n    }\r\n    \r\n    Response:\r\n    HTTP/1.1 200\r\n    Content-Type: [application/json]\r\n    Matched-Stub-Id: [e8be9cdb-0138-4490-a65f-07562812fedc]\r\n\r\n\r\nMy question is, can I turn this log off?\r\n\r\nThe reason is we are writing a performance test that passing a super long string in the header, the console is flooded with that string and sometimes even crashes VM.\r\n\r\nI did some searching and someone mentioned `ConsoleNotifier` in startup options, but with this `@AutoConfigureWireMock` annotation I don&#39;t know where to set the notifier.","title":"Disable logging of WireMock","body":"<p>I'm using <code>@AutoConfigureWireMock(port = 0)</code> to init mock server.</p>\n<p>This is the setup class written in Kotlin:</p>\n<pre><code>@AutoConfigureWireMock(port = 0)\n@SpringBootTest(\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n)\nclass MockServerBase {\n\n    @Autowired\n    lateinit var mockServer: WireMockServer\n\n    @BeforeEach\n    fun setUp() {\n        mockServer.start()\n    }\n</code></pre>\n<p>It's working fine, and I'm seeing following log in console when running my test:</p>\n<pre><code>2022-06-11 11:58:14.639  INFO [...,,] 97733 --- [qtp630910066-62] WireMock                                 : Request received:\n127.0.0.1 - GET /api/v1/.../objects/b4a67951-4408-424f-916b-66852b012160\n\nAuthorization: [Bearer eyJraWQiOiJtaWNyb3NcL29zLXRlc3RlclwvMTY1Mjg1ODYyMiIsImFsZyI6IlJTMjU2In0.eyJhdWQiOiJ0ZHAtb3MiLCJuYmYiOjE2NTQ5MTI2OTQsImlzcyI6Im1pY3Jvc1wvb3MtdGVzdGVyIiwiZXhwIjoxNjU0OTEyNzU0LCJpYXQiOjE2NTQ5MTI2OTQsImp0aSI6ImU5MGNlMGI0LTlmMjMtNDJlNS1iMDc4LWU4MGE0ZWI5MzFjOCJ9.U35a8zPH8-HZeWwSKaFq2KDebLkdWz99YCxcs9qDBYcPCRn_s_BhKJLgu8OCq3s4MAC0VmGZS6JqRzvUa-qIqfoA3DT6LSoDoVRwEZycnlL3OP6PJ6nVz1u-zkaNHfz8mBQ-3xuPmDKRddBArcvMfb7LuM3n-Tv6d1hb87QnDHqWqyl9S976jd4QKd21ymm30LziW1QeJXAINcq6YRvJfTZ7AhdorwYy0AwhGE-LD8xqYjUJwuy-WQaHsuZ8oClGIm3mUy2su5yIVHwQEldI2Gxv9gefF6eH__e4bdWWPwaDtkN2_KKIEBJaVGk53292EuRzQixO5UCe3rIuP1X96A]\nAccept: [application/json]\nX-B3-SpanId: [b91171b9168b6d9c]\nUser-Agent: [ReactorNetty/1.0.17]\nX-B3-Sampled: [1]\nHost: [localhost:10441]\nX-B3-TraceId: [b91171b9168b6d9c]\nx-partition-id: [v1-test]\n\n\n\nMatched response definition:\n{\n  &quot;status&quot; : 200,\n  &quot;body&quot; : &quot;{\\&quot;bucketKey\\&quot;:\\&quot;....\\&quot;,\\&quot;objectId\\&quot;:\\&quot;b4a67951-4408-424f-916b-66852b012160\\&quot;,\\&quot;partitionId\\&quot;:\\&quot;v1-test\\&quot;,\\&quot;currentVersion\\&quot;:\\&quot;1654912692121\\&quot;,\\&quot;checksum\\&quot;:\\&quot;OJEcxfNhApqHyPfrShDS\\&quot;,\\&quot;s3Etag\\&quot;:\\&quot;0Y5AwxkypfgbZ9mEyUa7og==-4\\&quot;,\\&quot;size\\&quot;:20971520,\\&quot;creationInfo\\&quot;:{\\&quot;by\\&quot;:\\&quot;o0m6CQM0Db\\&quot;,\\&quot;at\\&quot;:1654912692121},\\&quot;updateInfo\\&quot;:null}&quot;,\n  &quot;headers&quot; : {\n    &quot;Content-Type&quot; : &quot;application/json&quot;\n  }\n}\n\nResponse:\nHTTP/1.1 200\nContent-Type: [application/json]\nMatched-Stub-Id: [e8be9cdb-0138-4490-a65f-07562812fedc]\n</code></pre>\n<p>My question is, can I turn this log off?</p>\n<p>The reason is we are writing a performance test that passing a super long string in the header, the console is flooded with that string and sometimes even crashes VM.</p>\n<p>I did some searching and someone mentioned <code>ConsoleNotifier</code> in startup options, but with this <code>@AutoConfigureWireMock</code> annotation I don't know where to set the notifier.</p>\n"},{"tags":["java","android","performance","android-profiler"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1674995761,"post_id":75274914,"comment_id":132829016,"body_markdown":"Why do you think &quot;the memory chart in profiler looks smooth&quot; is a sign of good code?","body":"Why do you think &quot;the memory chart in profiler looks smooth&quot; is a sign of good code?"},{"owner":{"display_name":"user19516326"},"score":0,"creation_date":1674995851,"post_id":75274914,"comment_id":132829034,"body_markdown":"I read in the tutorial that the smoother chart the better. Nevermind, could you help me improving my code?","body":"I read in the tutorial that the smoother chart the better. Nevermind, could you help me improving my code?"},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1674995900,"post_id":75274914,"comment_id":132829043,"body_markdown":"Your memory graph looks healthy, there is nothing to improve.","body":"Your memory graph looks healthy, there is nothing to improve."}],"answers":[{"tags":[],"owner":{"account_id":3821169,"reputation":763,"user_id":3169238,"display_name":"Sergei Kozelko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677839881,"creation_date":1677839881,"answer_id":75625992,"question_id":75274914,"body_markdown":"You are creating a new bitmap and allocating new memory for it every time you call `Bitmap#createScaledBitmap` inside `CharacterCreator#draw`. Reassigning `imageResized` makes previously stored bitmap available for GC, so it gets collected in the next GC wave. You have basically two options for improving:\r\n\r\n - If you need `imageResized` somewhere else, then create new bitmap only when  your `getCurrentMoveBitmap()` changed. If possible, do it outside of `draw` function, as [it causes jank][1].\r\n - If you need `imageResized` just for drawing, then draw your bitmap directly using [`Canvas#drawBitmap(Bitmap,Rect,Rect,Paint)`][2]. It avoids memory allocations completely. You can do it like this:\r\n\r\n```\r\n    public void draw(Canvas canvas) {\r\n        Rect rect = new Rect(0, 0, 300, 300);\r\n        canvas.drawBitmap(getCurrentMoveBitmap(), null, rect, null);\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/topic/performance/vitals/render#object_allocation_and_garbage_collection\r\n  [2]: https://developer.android.com/reference/android/graphics/Canvas#drawBitmap(android.graphics.Bitmap,%20android.graphics.Rect,%20android.graphics.Rect,%20android.graphics.Paint)\r\n","title":"Android modify code to make profiler memory chart looks smooth","body":"<p>You are creating a new bitmap and allocating new memory for it every time you call <code>Bitmap#createScaledBitmap</code> inside <code>CharacterCreator#draw</code>. Reassigning <code>imageResized</code> makes previously stored bitmap available for GC, so it gets collected in the next GC wave. You have basically two options for improving:</p>\n<ul>\n<li>If you need <code>imageResized</code> somewhere else, then create new bitmap only when  your <code>getCurrentMoveBitmap()</code> changed. If possible, do it outside of <code>draw</code> function, as <a href=\"https://developer.android.com/topic/performance/vitals/render#object_allocation_and_garbage_collection\" rel=\"nofollow noreferrer\">it causes jank</a>.</li>\n<li>If you need <code>imageResized</code> just for drawing, then draw your bitmap directly using <a href=\"https://developer.android.com/reference/android/graphics/Canvas#drawBitmap(android.graphics.Bitmap,%20android.graphics.Rect,%20android.graphics.Rect,%20android.graphics.Paint)\" rel=\"nofollow noreferrer\"><code>Canvas#drawBitmap(Bitmap,Rect,Rect,Paint)</code></a>. It avoids memory allocations completely. You can do it like this:</li>\n</ul>\n<pre><code>    public void draw(Canvas canvas) {\n        Rect rect = new Rect(0, 0, 300, 300);\n        canvas.drawBitmap(getCurrentMoveBitmap(), null, rect, null);\n    }\n</code></pre>\n"}],"owner":{"display_name":"user19516326"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75625992,"answer_count":1,"score":0,"last_activity_date":1677839881,"creation_date":1674995552,"question_id":75274914,"body_markdown":"I have custom view which draws bitmaps on canvas. I want to improve my code so the memory chart in profiler looks smooth. I want to know why there are such leaps and GC removing objects every few second. It&#39;s worth mentioning that if I remove `characterCreator.draw(canvas);` from draw() method then the chart is smooth. Here is how my chart looks like now:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd now the important code:\r\n\r\nCharacterCreatorView.java\r\n\r\n        @Override\r\n    public void draw(Canvas canvas) {\r\n        super.draw(canvas);\r\n\r\n        if(characterCreator != null)\r\n            characterCreator.draw(canvas);\r\n        invalidate();\r\n    }\r\n\r\nCharacterCreator.java\r\n\r\n    private static final int ROW_BOTTOM_TO_TOP = 8;\r\n    private static final int ROW_RIGHT_TO_LEFT = 9;\r\n    private static final int ROW_TOP_TO_BOTTOM = 10;\r\n    private static final int ROW_LEFT_TO_RIGHT = 11;\r\n\r\n    private static final int COL_COUNT = 13;\r\n    private static final int ROW_COUNT = 21;\r\n\r\n    private final Bitmap[] leftToRights;\r\n    private final Bitmap[] rightToLefts;\r\n    private final Bitmap[] topToBottoms;\r\n    private final Bitmap[] bottomToTops;\r\n\r\n    public CharacterCreator(Bitmap baseSprite) {\r\n        this.image = baseSprite;\r\n\r\n        this.widthAllCols = image.getWidth();\r\n        this.heightAllRows = image.getHeight();\r\n\r\n        this.widthOneFrame = this.widthAllCols / 13;\r\n        this.heightOneFrame = this.heightAllRows / ROW_COUNT;\r\n\r\n        this.topToBottoms = new Bitmap[COL_COUNT];\r\n        this.rightToLefts = new Bitmap[COL_COUNT];\r\n        this.leftToRights = new Bitmap[COL_COUNT];\r\n        this.bottomToTops = new Bitmap[COL_COUNT];\r\n\r\n        imageResized = Bitmap.createScaledBitmap(getMoveBitmaps()[0], 300, 300, false);\r\n    }\r\n\r\n    (...)\r\n\r\n    public void draw(Canvas canvas) {\r\n        imageResized = Bitmap.createScaledBitmap(getCurrentMoveBitmap(), 300, 300, false);\r\n    //        canvas.drawBitmap(imageResized, 0, 0, null);\r\n    }\r\n\r\n    public Bitmap getCurrentMoveBitmap() {\r\n        Bitmap[] bitmaps = this.getMoveBitmaps();\r\n        return bitmaps[this.colUsing];\r\n    }\r\n\r\n    public Bitmap[] getMoveBitmaps() {\r\n        switch (rowUsing) {\r\n            case ROW_BOTTOM_TO_TOP:\r\n                return this.bottomToTops;\r\n            case ROW_RIGHT_TO_LEFT:\r\n                return this.rightToLefts;\r\n            case ROW_TOP_TO_BOTTOM:\r\n                return this.topToBottoms;\r\n            case ROW_LEFT_TO_RIGHT:\r\n                return this.leftToRights;\r\n            default:\r\n                return null;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tBizr.png","title":"Android modify code to make profiler memory chart looks smooth","body":"<p>I have custom view which draws bitmaps on canvas. I want to improve my code so the memory chart in profiler looks smooth. I want to know why there are such leaps and GC removing objects every few second. It's worth mentioning that if I remove <code>characterCreator.draw(canvas);</code> from draw() method then the chart is smooth. Here is how my chart looks like now:</p>\n<p><a href=\"https://i.stack.imgur.com/tBizr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tBizr.png\" alt=\"enter image description here\" /></a></p>\n<p>And now the important code:</p>\n<p>CharacterCreatorView.java</p>\n<pre><code>    @Override\npublic void draw(Canvas canvas) {\n    super.draw(canvas);\n\n    if(characterCreator != null)\n        characterCreator.draw(canvas);\n    invalidate();\n}\n</code></pre>\n<p>CharacterCreator.java</p>\n<pre><code>private static final int ROW_BOTTOM_TO_TOP = 8;\nprivate static final int ROW_RIGHT_TO_LEFT = 9;\nprivate static final int ROW_TOP_TO_BOTTOM = 10;\nprivate static final int ROW_LEFT_TO_RIGHT = 11;\n\nprivate static final int COL_COUNT = 13;\nprivate static final int ROW_COUNT = 21;\n\nprivate final Bitmap[] leftToRights;\nprivate final Bitmap[] rightToLefts;\nprivate final Bitmap[] topToBottoms;\nprivate final Bitmap[] bottomToTops;\n\npublic CharacterCreator(Bitmap baseSprite) {\n    this.image = baseSprite;\n\n    this.widthAllCols = image.getWidth();\n    this.heightAllRows = image.getHeight();\n\n    this.widthOneFrame = this.widthAllCols / 13;\n    this.heightOneFrame = this.heightAllRows / ROW_COUNT;\n\n    this.topToBottoms = new Bitmap[COL_COUNT];\n    this.rightToLefts = new Bitmap[COL_COUNT];\n    this.leftToRights = new Bitmap[COL_COUNT];\n    this.bottomToTops = new Bitmap[COL_COUNT];\n\n    imageResized = Bitmap.createScaledBitmap(getMoveBitmaps()[0], 300, 300, false);\n}\n\n(...)\n\npublic void draw(Canvas canvas) {\n    imageResized = Bitmap.createScaledBitmap(getCurrentMoveBitmap(), 300, 300, false);\n//        canvas.drawBitmap(imageResized, 0, 0, null);\n}\n\npublic Bitmap getCurrentMoveBitmap() {\n    Bitmap[] bitmaps = this.getMoveBitmaps();\n    return bitmaps[this.colUsing];\n}\n\npublic Bitmap[] getMoveBitmaps() {\n    switch (rowUsing) {\n        case ROW_BOTTOM_TO_TOP:\n            return this.bottomToTops;\n        case ROW_RIGHT_TO_LEFT:\n            return this.rightToLefts;\n        case ROW_TOP_TO_BOTTOM:\n            return this.topToBottoms;\n        case ROW_LEFT_TO_RIGHT:\n            return this.leftToRights;\n        default:\n            return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","json","spring"],"answers":[{"tags":[],"owner":{"account_id":5913014,"reputation":31,"user_id":4652606,"display_name":"Gautam Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677839274,"creation_date":1677839274,"answer_id":75625884,"question_id":75625669,"body_markdown":"you can use a JSON parsing library such as Gson, Jackson, or JSON.simple. Here is an example using Gson:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import com.google.gson.Gson;\r\n    import java.util.List;\r\n\r\n    public class Example {\r\n        public static void main(String[] args) {\r\n            String jsonString = &quot;[{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;John\\&quot;},{\\&quot;id\\&quot;:2,\\&quot;name\\&quot;:\\&quot;Jane\\&quot;}]&quot;;\r\n\r\n            // Parse JSON string to list of objects\r\n            Gson gson = new Gson();\r\n            List&lt;Person&gt; persons = gson.fromJson(jsonString, List.class);\r\n\r\n            // Print list of objects\r\n            for (Person person : persons) {\r\n                System.out.println(person.getId() + &quot; &quot; + person.getName());\r\n            }\r\n        }\r\n\r\n        public static class Person {\r\n            private int id;\r\n            private String name;\r\n\r\n            public int getId() {\r\n                return id;\r\n            }\r\n\r\n            public void setId(int id) {\r\n                this.id = id;\r\n            }\r\n\r\n            public String getName() {\r\n                return name;\r\n            }\r\n\r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nimport com.google.gson.Gson;\r\nimport java.util.List;\r\n\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        String jsonString = &quot;[{\\&quot;id\\&quot;:1,\\&quot;name\\&quot;:\\&quot;John\\&quot;},{\\&quot;id\\&quot;:2,\\&quot;name\\&quot;:\\&quot;Jane\\&quot;}]&quot;;\r\n\r\n        // Parse JSON string to list of objects\r\n        Gson gson = new Gson();\r\n        List&lt;Person&gt; persons = gson.fromJson(jsonString, List.class);\r\n\r\n        // Print list of objects\r\n        for (Person person : persons) {\r\n            System.out.println(person.getId() + &quot; &quot; + person.getName());\r\n        }\r\n    }\r\n\r\n    public static class Person {\r\n        private int id;\r\n        private String name;\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nIn this example, we use the Gson library to parse the JSON string to a list of Person objects. The Person class is a simple POJO with id and name fields. After parsing the JSON string, we can iterate over the list of objects and print their fields. Note that we specify the List.class as the target class when calling gson.fromJson(), which tells Gson to parse the JSON string as a list of objects.\r\n","title":"convert a string of objects, from a jsonString","body":"<p>you can use a JSON parsing library such as Gson, Jackson, or JSON.simple. Here is an example using Gson:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import com.google.gson.Gson;\nimport java.util.List;\n\npublic class Example {\n    public static void main(String[] args) {\n        String jsonString = \"[{\\\"id\\\":1,\\\"name\\\":\\\"John\\\"},{\\\"id\\\":2,\\\"name\\\":\\\"Jane\\\"}]\";\n\n        // Parse JSON string to list of objects\n        Gson gson = new Gson();\n        List&lt;Person&gt; persons = gson.fromJson(jsonString, List.class);\n\n        // Print list of objects\n        for (Person person : persons) {\n            System.out.println(person.getId() + \" \" + person.getName());\n        }\n    }\n\n    public static class Person {\n        private int id;\n        private String name;\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>import com.google.gson.Gson;\nimport java.util.List;</p>\n<p>public class Example {\npublic static void main(String[] args) {\nString jsonString = &quot;[{&quot;id&quot;:1,&quot;name&quot;:&quot;John&quot;},{&quot;id&quot;:2,&quot;name&quot;:&quot;Jane&quot;}]&quot;;</p>\n<pre><code>    // Parse JSON string to list of objects\n    Gson gson = new Gson();\n    List&lt;Person&gt; persons = gson.fromJson(jsonString, List.class);\n\n    // Print list of objects\n    for (Person person : persons) {\n        System.out.println(person.getId() + &quot; &quot; + person.getName());\n    }\n}\n\npublic static class Person {\n    private int id;\n    private String name;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>}</p>\n<p>In this example, we use the Gson library to parse the JSON string to a list of Person objects. The Person class is a simple POJO with id and name fields. After parsing the JSON string, we can iterate over the list of objects and print their fields. Note that we specify the List.class as the target class when calling gson.fromJson(), which tells Gson to parse the JSON string as a list of objects.</p>\n"},{"tags":[],"owner":{"account_id":27693581,"reputation":1,"user_id":21139773,"display_name":"Temesgen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677839807,"creation_date":1677839807,"answer_id":75625980,"question_id":75625669,"body_markdown":"    import javax.json.Json;\r\n    import javax.json.JsonObject;\r\n    import javax.json.JsonReader;\r\n    import java.io.StringReader;\r\n    \r\n    String json_string = &quot;{\\&quot;schema\\&quot;:{\\&quot;$schema\\&quot;:\\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;a\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;object\\&quot;:{\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;fname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;lname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;fname\\&quot;,\\&quot;lname\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;a\\&quot;,\\&quot;object\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;},\\&quot;fieldRequirements\\&quot;:{\\&quot;name\\&quot;:\\&quot;object1\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;a\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;object\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;fname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;lname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]}]}]}}&quot;;\r\n    \r\n    JsonReader reader = Json.createReader(new StringReader(json_string));\r\n    JsonObject jsonObject = reader.readObject();\r\n    reader.close();\r\n    \r\n    JsonObject object = jsonObject.getJsonObject(&quot;object&quot;);\r\n    String a = jsonObject.getString(&quot;a&quot;);\r\n    \r\n    JsonObject innerObject = Json.createObjectBuilder()\r\n            .add(&quot;fname&quot;, object.getString(&quot;fname&quot;))\r\n            .add(&quot;lname&quot;, object.getString(&quot;lname&quot;))\r\n            .build();\r\n    \r\n    JsonObject result = Json.createObjectBuilder()\r\n            .add(&quot;a&quot;, a)\r\n            .add(&quot;object&quot;, innerObject)\r\n            .build();\r\n    \r\n    String resultString = result.toString();\r\n    System.out.println(resultString);\r\n\r\n","title":"convert a string of objects, from a jsonString","body":"<pre><code>import javax.json.Json;\nimport javax.json.JsonObject;\nimport javax.json.JsonReader;\nimport java.io.StringReader;\n\nString json_string = &quot;{\\&quot;schema\\&quot;:{\\&quot;$schema\\&quot;:\\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;a\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;object\\&quot;:{\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;fname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;lname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;fname\\&quot;,\\&quot;lname\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;a\\&quot;,\\&quot;object\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;},\\&quot;fieldRequirements\\&quot;:{\\&quot;name\\&quot;:\\&quot;object1\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;a\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;object\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;fname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;lname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]}]}]}}&quot;;\n\nJsonReader reader = Json.createReader(new StringReader(json_string));\nJsonObject jsonObject = reader.readObject();\nreader.close();\n\nJsonObject object = jsonObject.getJsonObject(&quot;object&quot;);\nString a = jsonObject.getString(&quot;a&quot;);\n\nJsonObject innerObject = Json.createObjectBuilder()\n        .add(&quot;fname&quot;, object.getString(&quot;fname&quot;))\n        .add(&quot;lname&quot;, object.getString(&quot;lname&quot;))\n        .build();\n\nJsonObject result = Json.createObjectBuilder()\n        .add(&quot;a&quot;, a)\n        .add(&quot;object&quot;, innerObject)\n        .build();\n\nString resultString = result.toString();\nSystem.out.println(resultString);\n</code></pre>\n"}],"owner":{"account_id":27925980,"reputation":1,"user_id":21325088,"display_name":"Shorya Rawat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677842346,"answer_count":2,"score":0,"last_activity_date":1677839807,"creation_date":1677838028,"question_id":75625669,"body_markdown":"```\r\n&quot;{\\&quot;schema\\&quot;:{\\&quot;$schema\\&quot;:\\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;a\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;object\\&quot;:{\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;fname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;lname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;fname\\&quot;,\\&quot;lname\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;a\\&quot;,\\&quot;object\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;},\\&quot;fieldRequirements\\&quot;:{\\&quot;name\\&quot;:\\&quot;object1\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;a\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;object\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;fname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;lname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]}]}]}}&quot;\r\n```\r\n\r\nThis is my json string, i want to get a string from properties in above json string like this &quot;{&quot;a&quot;:&quot;b&quot;,&quot;object&quot;:{&quot;fname&quot;:&quot;Sho&quot;,&quot;lname&quot;:&quot;Sho&quot;}}&quot;, any idea how to do?\r\n\r\n\r\ni tried using field names but i m just getting fields and not able to get in hierarchy.","title":"convert a string of objects, from a jsonString","body":"<pre><code>&quot;{\\&quot;schema\\&quot;:{\\&quot;$schema\\&quot;:\\&quot;http://json-schema.org/draft-07/schema#\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;a\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;object\\&quot;:{\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;properties\\&quot;:{\\&quot;fname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;},\\&quot;lname\\&quot;:{\\&quot;type\\&quot;:\\&quot;string\\&quot;,\\&quot;dataType\\&quot;:\\&quot;TEXT\\&quot;,\\&quot;validation\\&quot;:\\&quot;TEXT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;fname\\&quot;,\\&quot;lname\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;}},\\&quot;additionalProperties\\&quot;:false,\\&quot;required\\&quot;:[\\&quot;a\\&quot;,\\&quot;object\\&quot;],\\&quot;dataType\\&quot;:\\&quot;OBJECT\\&quot;,\\&quot;validation\\&quot;:\\&quot;OBJECT\\&quot;},\\&quot;fieldRequirements\\&quot;:{\\&quot;name\\&quot;:\\&quot;object1\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;a\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;object\\&quot;,\\&quot;type\\&quot;:\\&quot;object\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[{\\&quot;name\\&quot;:\\&quot;fname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]},{\\&quot;name\\&quot;:\\&quot;lname\\&quot;,\\&quot;type\\&quot;:\\&quot;text\\&quot;,\\&quot;required\\&quot;:true,\\&quot;subfields\\&quot;:[]}]}]}}&quot;\n</code></pre>\n<p>This is my json string, i want to get a string from properties in above json string like this &quot;{&quot;a&quot;:&quot;b&quot;,&quot;object&quot;:{&quot;fname&quot;:&quot;Sho&quot;,&quot;lname&quot;:&quot;Sho&quot;}}&quot;, any idea how to do?</p>\n<p>i tried using field names but i m just getting fields and not able to get in hierarchy.</p>\n"},{"tags":["java","jsp","jstl","taglib"],"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":1,"creation_date":1677842245,"post_id":75625953,"comment_id":133421354,"body_markdown":"Please throw away the misplaced `c.tld` file and the taglib entry in `web.xml` and all the JARs associated with it such as `standard.jar` etc. They are **already** provided by the JBoss server (and actually also Weblogic server!!). You merely needed to replace `&lt;%@ taglib uri=&quot;/tags/jstl_core&quot; prefix=&quot;jstlc&quot; %&gt;` by `&lt;%@ taglib uri=&quot;http://java.sun.com/jsp/jstl/core&quot; prefix=&quot;jstlc&quot; %&gt;` to utilize the server-provided JSTL functionality. See the currently top rated answer of the abovelinked duplicate for detailed explanation how exactly to properly install and configure JSTL.","body":"Please throw away the misplaced <code>c.tld</code> file and the taglib entry in <code>web.xml</code> and all the JARs associated with it such as <code>standard.jar</code> etc. They are <b>already</b> provided by the JBoss server (and actually also Weblogic server!!). You merely needed to replace <code>&lt;%@ taglib uri=&quot;&#47;tags&#47;jstl_core&quot; prefix=&quot;jstlc&quot; %&gt;</code> by <code>&lt;%@ taglib uri=&quot;http:&#47;&#47;java.sun.com&#47;jsp&#47;jstl&#47;core&quot; prefix=&quot;jstlc&quot; %&gt;</code> to utilize the server-provided JSTL functionality. See the currently top rated answer of the abovelinked duplicate for detailed explanation how exactly to properly install and configure JSTL."}],"owner":{"account_id":4701263,"reputation":479,"user_id":3804769,"accept_rate":25,"display_name":"user3804769"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677842249,"answer_count":0,"score":0,"last_activity_date":1677839636,"creation_date":1677839636,"question_id":75625953,"body_markdown":"I am migrating an old application from WebLogic to JBoss EAP 7.4. One of my JSP pages is giving me this error:\r\n\r\n    ServletException in &#39;[mypage].jsp&#39;: value: javax.servlet.ServletException: java.lang.NoSuchFieldError: value\r\n    [...]\r\n    Caused by: java.lang.NoSuchFieldError: value\r\n\tat org.apache.taglibs.standard.tag.el.core.OutTag.evaluateExpressions(OutTag.java:137)\r\n    [...]\r\n\r\nThe JSP starts like this:\r\n\r\n    &lt;%@ taglib uri=&quot;/tags/struts-bean&quot; prefix=&quot;bean&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;/tags/struts-html&quot; prefix=&quot;html&quot; %&gt;\r\n    &lt;%@ taglib uri=&quot;/tags/jstl_core&quot; prefix=&quot;jstlc&quot; %&gt;\r\n\r\nAnd it uses the other tags like html and bean just fine before using jstlc. I am sure it correctly reaches the jstlc definition because, before failing, it executes:\r\n\r\n    &lt;jstlc:forEach items=&quot;${myexpressionlist}&quot; var=&quot;myvariable&quot; &gt; //working\r\n\r\nBut then, the first times it contains an expression like this:\r\n\r\n    &lt;jstlc:out value=&quot;${myvariable.myfield}&quot; /&gt; //not working\r\n\r\nThe jsp crashes with the `java.lang.NoSuchFieldError: value` error. It looks like it recognizes the &quot;out&quot; tag in the jstlc library but it doesn&#39;t recognize the &quot;value&quot; attribute inside it? The c.tld file contains the following lines:\r\n\r\n    &lt;!DOCTYPE taglib\r\n      PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\r\n      &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\r\n    &lt;taglib&gt;\r\n      &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\r\n      &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\r\n      &lt;short-name&gt;c&lt;/short-name&gt;\r\n      &lt;uri&gt;http://java.sun.com/jstl/core&lt;/uri&gt;\r\n      &lt;display-name&gt;JSTL core&lt;/display-name&gt;\r\n      &lt;description&gt;JSTL 1.0 core library&lt;/description&gt;\r\n    [......]\r\n    &lt;tag&gt;\r\n        &lt;name&gt;out&lt;/name&gt;\r\n        &lt;tag-class&gt;org.apache.taglibs.standard.tag.el.core.OutTag&lt;/tag-class&gt;\r\n        &lt;body-content&gt;JSP&lt;/body-content&gt;\r\n        &lt;description&gt;\r\n    \tLike &amp;lt;%= ... &amp;gt;, but for expressions.\r\n        &lt;/description&gt;\r\n        &lt;attribute&gt;\r\n            &lt;name&gt;value&lt;/name&gt;\r\n            &lt;required&gt;true&lt;/required&gt;\r\n            &lt;rtexprvalue&gt;false&lt;/rtexprvalue&gt;\r\n        &lt;/attribute&gt;\r\n        [...other attributes...]\r\n    &lt;/tag&gt;\r\n\r\nLastly, the web.xml file contains the following lines:\r\n\r\n    &lt;taglib&gt;\r\n        &lt;taglib-uri&gt;/tags/jstl_core&lt;/taglib-uri&gt;\r\n        &lt;taglib-location&gt;/WEB-INF/tld/c.tld&lt;/taglib-location&gt;\r\n    &lt;/taglib&gt;\r\n\r\nWhat could I do to solve the NoSuchFieldError issue?","title":"java.lang.NoSuchFieldError: value in JSP page","body":"<p>I am migrating an old application from WebLogic to JBoss EAP 7.4. One of my JSP pages is giving me this error:</p>\n<pre><code>ServletException in '[mypage].jsp': value: javax.servlet.ServletException: java.lang.NoSuchFieldError: value\n[...]\nCaused by: java.lang.NoSuchFieldError: value\nat org.apache.taglibs.standard.tag.el.core.OutTag.evaluateExpressions(OutTag.java:137)\n[...]\n</code></pre>\n<p>The JSP starts like this:</p>\n<pre><code>&lt;%@ taglib uri=&quot;/tags/struts-bean&quot; prefix=&quot;bean&quot; %&gt;\n&lt;%@ taglib uri=&quot;/tags/struts-html&quot; prefix=&quot;html&quot; %&gt;\n&lt;%@ taglib uri=&quot;/tags/jstl_core&quot; prefix=&quot;jstlc&quot; %&gt;\n</code></pre>\n<p>And it uses the other tags like html and bean just fine before using jstlc. I am sure it correctly reaches the jstlc definition because, before failing, it executes:</p>\n<pre><code>&lt;jstlc:forEach items=&quot;${myexpressionlist}&quot; var=&quot;myvariable&quot; &gt; //working\n</code></pre>\n<p>But then, the first times it contains an expression like this:</p>\n<pre><code>&lt;jstlc:out value=&quot;${myvariable.myfield}&quot; /&gt; //not working\n</code></pre>\n<p>The jsp crashes with the <code>java.lang.NoSuchFieldError: value</code> error. It looks like it recognizes the &quot;out&quot; tag in the jstlc library but it doesn't recognize the &quot;value&quot; attribute inside it? The c.tld file contains the following lines:</p>\n<pre><code>&lt;!DOCTYPE taglib\n  PUBLIC &quot;-//Sun Microsystems, Inc.//DTD JSP Tag Library 1.2//EN&quot;\n  &quot;http://java.sun.com/dtd/web-jsptaglibrary_1_2.dtd&quot;&gt;\n&lt;taglib&gt;\n  &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;\n  &lt;jsp-version&gt;1.2&lt;/jsp-version&gt;\n  &lt;short-name&gt;c&lt;/short-name&gt;\n  &lt;uri&gt;http://java.sun.com/jstl/core&lt;/uri&gt;\n  &lt;display-name&gt;JSTL core&lt;/display-name&gt;\n  &lt;description&gt;JSTL 1.0 core library&lt;/description&gt;\n[......]\n&lt;tag&gt;\n    &lt;name&gt;out&lt;/name&gt;\n    &lt;tag-class&gt;org.apache.taglibs.standard.tag.el.core.OutTag&lt;/tag-class&gt;\n    &lt;body-content&gt;JSP&lt;/body-content&gt;\n    &lt;description&gt;\n    Like &amp;lt;%= ... &amp;gt;, but for expressions.\n    &lt;/description&gt;\n    &lt;attribute&gt;\n        &lt;name&gt;value&lt;/name&gt;\n        &lt;required&gt;true&lt;/required&gt;\n        &lt;rtexprvalue&gt;false&lt;/rtexprvalue&gt;\n    &lt;/attribute&gt;\n    [...other attributes...]\n&lt;/tag&gt;\n</code></pre>\n<p>Lastly, the web.xml file contains the following lines:</p>\n<pre><code>&lt;taglib&gt;\n    &lt;taglib-uri&gt;/tags/jstl_core&lt;/taglib-uri&gt;\n    &lt;taglib-location&gt;/WEB-INF/tld/c.tld&lt;/taglib-location&gt;\n&lt;/taglib&gt;\n</code></pre>\n<p>What could I do to solve the NoSuchFieldError issue?</p>\n"},{"tags":["java","selenium","selenium-webdriver","automated-tests"],"comments":[{"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"score":0,"creation_date":1490355322,"post_id":42997732,"comment_id":73086620,"body_markdown":"provide full stack of exception..to under stand better","body":"provide full stack of exception..to under stand better"},{"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"score":0,"creation_date":1490355684,"post_id":42997732,"comment_id":73086825,"body_markdown":"stacktrace above","body":"stacktrace above"},{"owner":{"account_id":6244293,"reputation":3872,"user_id":4856814,"display_name":"murali selenium"},"score":0,"creation_date":1490355911,"post_id":42997732,"comment_id":73086968,"body_markdown":"check here DhpAbstractTest.java:348  there may some type and also check import is correct org.openqa.selenium.support.ui.Select","body":"check here DhpAbstractTest.java:348  there may some type and also check import is correct org.openqa.selenium.support.ui.Select"},{"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"score":0,"creation_date":1490356154,"post_id":42997732,"comment_id":73087147,"body_markdown":"The code above is taken directly from DhpAbstractTest and the code is called in my TestClass. The import is also correct.","body":"The code above is taken directly from DhpAbstractTest and the code is called in my TestClass. The import is also correct."},{"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"score":0,"creation_date":1490356346,"post_id":42997732,"comment_id":73087278,"body_markdown":"I have resolved this issue. I simply imported the latest selenium dependency in to my pom.xml. Still a strange issue but it is now fixed. Thanks for the help :)","body":"I have resolved this issue. I simply imported the latest selenium dependency in to my pom.xml. Still a strange issue but it is now fixed. Thanks for the help :)"}],"answers":[{"tags":[],"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1490356438,"creation_date":1490356438,"answer_id":42998852,"question_id":42997732,"body_markdown":"This issue has been resolved by importing the latest selenium maven dependency in to my pom.xml. I still can&#39;t understand why this issue occurred as I have used it in other projects. The maven dependency to fix the issue:\r\n\r\n\r\n    \t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n","title":"Selenium NoSuchMethodError","body":"<p>This issue has been resolved by importing the latest selenium maven dependency in to my pom.xml. I still can't understand why this issue occurred as I have used it in other projects. The maven dependency to fix the issue:</p>\n\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11513456,"reputation":61,"user_id":8955375,"display_name":"ian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528788374,"creation_date":1528711323,"answer_id":50795120,"question_id":42997732,"body_markdown":"I had same problem then I try to add dependency like `user3008643`&#39;s answer, but it still no working.\r\n\r\n`user3008643` said it works for him, so I looked my `pom.xml` carefully, then I found out something weird:\r\n\r\n**I had imported 3 version of selenium dependencies.**\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.11.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.0a7&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIt&#39;s really nonsense, so I changed it to same version `3.12`.\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.12.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nAfter updated dependencies, the problem had been fixed.\r\n\r\nI think the problem is about dependencies, **you have to import the same version of dependencies.**","title":"Selenium NoSuchMethodError","body":"<p>I had same problem then I try to add dependency like <code>user3008643</code>'s answer, but it still no working.</p>\n\n<p><code>user3008643</code> said it works for him, so I looked my <code>pom.xml</code> carefully, then I found out something weird:</p>\n\n<p><strong>I had imported 3 version of selenium dependencies.</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n    &lt;version&gt;3.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n    &lt;version&gt;2.0a7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>It's really nonsense, so I changed it to same version <code>3.12</code>.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;3.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>After updated dependencies, the problem had been fixed.</p>\n\n<p>I think the problem is about dependencies, <strong>you have to import the same version of dependencies.</strong></p>\n"},{"tags":[],"owner":{"account_id":26457023,"reputation":1,"user_id":20099493,"display_name":"Rohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664472425,"creation_date":1664472425,"answer_id":73899520,"question_id":42997732,"body_markdown":"In my case constructor were causing this problem i removed it but later found out that i didn&#39;t make constructor public. Probably making constructor public would help. Selenium Java*","title":"Selenium NoSuchMethodError","body":"<p>In my case constructor were causing this problem i removed it but later found out that i didn't make constructor public. Probably making constructor public would help. Selenium Java*</p>\n"}],"owner":{"account_id":3606601,"reputation":89,"user_id":3008643,"accept_rate":0,"display_name":"user3008643"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5478,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1677839558,"creation_date":1490353091,"question_id":42997732,"body_markdown":"I am writing an automated test framework and have already written a substantial amount. However, I have come across an error which I cannot seem to fix or find a solution for.\n\nThe problem occurs when selenium tries to answer a date question and select from a dropdown menu of dates. I have achieved this loads of times with no problems, but for some reason I get the error as displayed in the title. After trying to find a solution on google I decided to come here as there seems to be nothing out there that&#39;s similar.\n\nThe code where my automated test breaks is:\n\n\n    new Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_d&quot;))).selectByVisibleText(&quot;4th&quot;);\n    \n    new Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_m&quot;))).selectByIndex(4);\n        driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_y&quot;)).sendKeys(&quot;2017&quot;);\n        driver.findElement(By.id(&quot;AMOUNT_OF_DHP_WEEKLY&quot;)).sendKeys(&quot;50&quot;);\n    \n    new  Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_d&quot;))).getFirstSelectedOption();\n    \n    new Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_m&quot;))).getFirstSelectedOption();\n    \n    driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_y&quot;)).sendKeys(&quot;2017&quot;);\n    clickNext();\n\nThe error occurs on the lines where the methods `selectByVisibleText` and `selectByIndex` is used. I have used these methods hundreds of times before with no issues.. When I run the tests in the browser with the Selenium IDE it executes with no problems. But as soon as the code is transferred across to Eclipse it doesnt work.\n\nThe only thing I can possibly think of is that I have converted the project from JUnit to TestNG.. Would this have any implications? I have done this before though without any issues.\n\nAny help would be greatly appreciated!\n\n## EDIT ##\n\nStacktrace:\n\n&gt;java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.setSelected()V\n&gt;\n&gt;at org.openqa.selenium.support.ui.Select.selectByVisibleText(Select.java:111)\n&gt;\n&gt;at   tns_automation.DHP_Forms.DhpAbstractTest.answerAmountOfDHPQuestion(DhpAbstractTest.java:348)\n&gt;\n&gt;at tns_automation.DHP.KnowsleyDHPTest.completeAssessmentFormAndBudgetToolBeforeDownloadingPDFFromInTrayWithCookiesEnabled(KnowsleyDHPTest.java:62)\n&gt;\n&gt;at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n&gt;\n&gt;at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n&gt;\n&gt;at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n&gt;\n&gt;at java.lang.reflect.Method.invoke(Method.java:498)\n&gt;\n&gt;at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)\n&gt;\n&gt;at org.testng.internal.Invoker.invokeMethod(Invoker.java:661)\n&gt;\n&gt;at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:869)\n&gt;\n&gt;at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1193)\n&gt;\n&gt;at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:126)\n&gt;\n&gt;at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)\n&gt;\n&gt;at org.testng.TestRunner.privateRun(TestRunner.java:744)\n&gt;\n&gt;at org.testng.TestRunner.run(TestRunner.java:602)\n&gt;\n&gt;at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)\n&gt;\n&gt;at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)\n&gt;\n&gt;at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)\n&gt;\n&gt;at org.testng.SuiteRunner.run(SuiteRunner.java:289)\n&gt;\n&gt;at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\n&gt;\n&gt;at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\n&gt;\n&gt;at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)\n&gt;\n&gt;at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)\n&gt;\n&gt;at org.testng.TestNG.runSuites(TestNG.java:1144)\n&gt;\n&gt;at org.testng.TestNG.run(TestNG.java:1115)\n&gt;\n&gt;at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:126)\n&gt;\n&gt;at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:152)\n&gt;\n&gt;at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:57)\n","title":"Selenium NoSuchMethodError","body":"<p>I am writing an automated test framework and have already written a substantial amount. However, I have come across an error which I cannot seem to fix or find a solution for.</p>\n<p>The problem occurs when selenium tries to answer a date question and select from a dropdown menu of dates. I have achieved this loads of times with no problems, but for some reason I get the error as displayed in the title. After trying to find a solution on google I decided to come here as there seems to be nothing out there that's similar.</p>\n<p>The code where my automated test breaks is:</p>\n<pre><code>new Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_d&quot;))).selectByVisibleText(&quot;4th&quot;);\n\nnew Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_m&quot;))).selectByIndex(4);\n    driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_FROM_y&quot;)).sendKeys(&quot;2017&quot;);\n    driver.findElement(By.id(&quot;AMOUNT_OF_DHP_WEEKLY&quot;)).sendKeys(&quot;50&quot;);\n\nnew  Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_d&quot;))).getFirstSelectedOption();\n\nnew Select(driver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_m&quot;))).getFirstSelectedOption();\n\ndriver.findElement(By.id(&quot;AMOUNT_OF_DHP_DATE_TO_y&quot;)).sendKeys(&quot;2017&quot;);\nclickNext();\n</code></pre>\n<p>The error occurs on the lines where the methods <code>selectByVisibleText</code> and <code>selectByIndex</code> is used. I have used these methods hundreds of times before with no issues.. When I run the tests in the browser with the Selenium IDE it executes with no problems. But as soon as the code is transferred across to Eclipse it doesnt work.</p>\n<p>The only thing I can possibly think of is that I have converted the project from JUnit to TestNG.. Would this have any implications? I have done this before though without any issues.</p>\n<p>Any help would be greatly appreciated!</p>\n<h2>EDIT</h2>\n<p>Stacktrace:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: org.openqa.selenium.WebElement.setSelected()V</p>\n<p>at org.openqa.selenium.support.ui.Select.selectByVisibleText(Select.java:111)</p>\n<p>at   tns_automation.DHP_Forms.DhpAbstractTest.answerAmountOfDHPQuestion(DhpAbstractTest.java:348)</p>\n<p>at tns_automation.DHP.KnowsleyDHPTest.completeAssessmentFormAndBudgetToolBeforeDownloadingPDFFromInTrayWithCookiesEnabled(KnowsleyDHPTest.java:62)</p>\n<p>at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)</p>\n<p>at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)</p>\n<p>at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)</p>\n<p>at java.lang.reflect.Method.invoke(Method.java:498)</p>\n<p>at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:108)</p>\n<p>at org.testng.internal.Invoker.invokeMethod(Invoker.java:661)</p>\n<p>at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:869)</p>\n<p>at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1193)</p>\n<p>at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:126)</p>\n<p>at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:109)</p>\n<p>at org.testng.TestRunner.privateRun(TestRunner.java:744)</p>\n<p>at org.testng.TestRunner.run(TestRunner.java:602)</p>\n<p>at org.testng.SuiteRunner.runTest(SuiteRunner.java:380)</p>\n<p>at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:375)</p>\n<p>at org.testng.SuiteRunner.privateRun(SuiteRunner.java:340)</p>\n<p>at org.testng.SuiteRunner.run(SuiteRunner.java:289)</p>\n<p>at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)</p>\n<p>at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)</p>\n<p>at org.testng.TestNG.runSuitesSequentially(TestNG.java:1301)</p>\n<p>at org.testng.TestNG.runSuitesLocally(TestNG.java:1226)</p>\n<p>at org.testng.TestNG.runSuites(TestNG.java:1144)</p>\n<p>at org.testng.TestNG.run(TestNG.java:1115)</p>\n<p>at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:126)</p>\n<p>at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:152)</p>\n<p>at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:57)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677683087,"post_id":75604723,"comment_id":133386599,"body_markdown":"Make sure the exception handler is in the same package as the controller(s), or a subpackage of the application main class.","body":"Make sure the exception handler is in the same package as the controller(s), or a subpackage of the application main class."},{"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"score":0,"creation_date":1677688545,"post_id":75604723,"comment_id":133388492,"body_markdown":"@E-Riz isn&#39;t there another solution? I am using a package for each feature and each feature has its own controller. I have updated my question, so you see my folder structure.","body":"@E-Riz isn&#39;t there another solution? I am using a package for each feature and each feature has its own controller. I have updated my question, so you see my folder structure."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677695170,"post_id":75604723,"comment_id":133390504,"body_markdown":"Where is your application&#39;s &quot;main&quot; class, where you initialize the `SpringApplication` and context? What package?","body":"Where is your application&#39;s &quot;main&quot; class, where you initialize the <code>SpringApplication</code> and context? What package?"},{"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"score":0,"creation_date":1677756709,"post_id":75604723,"comment_id":133402579,"body_markdown":"@E-Riz the main class is located in the root package of the project, which is `com.example.my_app`.","body":"@E-Riz the main class is located in the root package of the project, which is <code>com.example.my_app</code>."}],"answers":[{"comments":[{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1677683193,"post_id":75605485,"comment_id":133386637,"body_markdown":"`@RestControllerAdvice` is just a combination of `@ControllerAdvice` and `@ResponseBody`, so this is basically equivalent to what the question has.","body":"<code>@RestControllerAdvice</code> is just a combination of <code>@ControllerAdvice</code> and <code>@ResponseBody</code>, so this is basically equivalent to what the question has."},{"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"score":0,"creation_date":1677687941,"post_id":75605485,"comment_id":133388283,"body_markdown":"I tried that out. But still the same issue.","body":"I tried that out. But still the same issue."},{"owner":{"account_id":5043640,"reputation":788,"user_id":4050313,"display_name":"Jayesh Choudhary"},"score":0,"creation_date":1677694553,"post_id":75605485,"comment_id":133390312,"body_markdown":"then it seems like your ControllerAdvice is not getting detected. Did you check startup logs to verify it is being created?","body":"then it seems like your ControllerAdvice is not getting detected. Did you check startup logs to verify it is being created?"},{"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"score":0,"creation_date":1677758043,"post_id":75605485,"comment_id":133402924,"body_markdown":"The ControllerAdvice gets detected! I know this, because I am using another ControllerAdvice with other exceptions. Other exceptions work but if I use `MethodArgumentNotValidException.class` in the same class, it doesn&#39;t work.","body":"The ControllerAdvice gets detected! I know this, because I am using another ControllerAdvice with other exceptions. Other exceptions work but if I use <code>MethodArgumentNotValidException.class</code> in the same class, it doesn&#39;t work."}],"tags":[],"owner":{"account_id":5043640,"reputation":788,"user_id":4050313,"display_name":"Jayesh Choudhary"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677683053,"creation_date":1677683053,"answer_id":75605485,"question_id":75604723,"body_markdown":"You need to make following changes in your ControllerAdvice:\r\n\r\n    @ControllerAdvice\r\n    @ResponseBody\r\n    public class ControllerExceptionHandler {\r\n\r\n        @ExceptionHandler(MethodArgumentNotValidException.class)\r\n        @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n        public ErrorMessage handleValidationException(MethodArgumentNotValidException \r\n        ex, WebRequest request) {\r\n        ErrorMessage message = new ErrorMessage(...);\r\n        return message;\r\n       }\r\n    }\r\n\r\nThis will solve your problem.","title":"ExceptionHandler works in a controller but not in separate class","body":"<p>You need to make following changes in your ControllerAdvice:</p>\n<pre><code>@ControllerAdvice\n@ResponseBody\npublic class ControllerExceptionHandler {\n\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public ErrorMessage handleValidationException(MethodArgumentNotValidException \n    ex, WebRequest request) {\n    ErrorMessage message = new ErrorMessage(...);\n    return message;\n   }\n}\n</code></pre>\n<p>This will solve your problem.</p>\n"},{"tags":[],"owner":{"account_id":5896787,"reputation":5103,"user_id":4641680,"accept_rate":55,"display_name":"Reza Saadati"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677839318,"creation_date":1677839318,"answer_id":75625893,"question_id":75604723,"body_markdown":"Since you have several exception handlers (based on your folder structure), you might use the annotation `@Order(Ordered.HIGHEST_PRECEDENCE)`. So try it that way:\r\n\r\n```java\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@RestControllerAdvice\r\npublic class ValidationExceptionHandler {\r\n    /**\r\n     * Validation Exception Handler\r\n     * @param ex Exception\r\n     * @return A response\r\n     */\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\r\n        return ResponseEntity.badRequest().body(errors);\r\n    }\r\n}\r\n```\r\n\r\nBy using this annotation, your exception handler gets the highest priority and will be executed first, before any other exception handlers.","title":"ExceptionHandler works in a controller but not in separate class","body":"<p>Since you have several exception handlers (based on your folder structure), you might use the annotation <code>@Order(Ordered.HIGHEST_PRECEDENCE)</code>. So try it that way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Order(Ordered.HIGHEST_PRECEDENCE)\n@RestControllerAdvice\npublic class ValidationExceptionHandler {\n    /**\n     * Validation Exception Handler\n     * @param ex Exception\n     * @return A response\n     */\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\n        return ResponseEntity.badRequest().body(errors);\n    }\n}\n</code></pre>\n<p>By using this annotation, your exception handler gets the highest priority and will be executed first, before any other exception handlers.</p>\n"}],"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75625893,"answer_count":2,"score":0,"last_activity_date":1677839318,"creation_date":1677679246,"question_id":75604723,"body_markdown":"I have a controller in Spring Boot 3, which looks like this:\r\n\r\n```java\r\n@PostMapping(&quot;/login&quot;)\r\npublic ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) {\r\n ...\r\n}\r\n```\r\n\r\nAs you see, I am using `@Valid` because of annotations that I use, such as `@Size(min = 8)` or `@Email`. Now I want to send a message, if an entity was invalid. To do this, I am using this exception handler:\r\n\r\n```java\r\n@ExceptionHandler(MethodArgumentNotValidException.class)\r\npublic ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\r\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n    ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\r\n    return ResponseEntity.badRequest().body(errors);\r\n}\r\n```\r\n\r\nThis works fine, if that code is in my controller. This is the response that I get:\r\n```xml\r\n{\r\n    &quot;password&quot;: &quot;password length should be at least 8 characters&quot;,\r\n    &quot;username&quot;: &quot;username should be a valid email address&quot;\r\n}\r\n```\r\n\r\nBut I need this code in more than 1 controller. So instead of that, I have just created another class.\r\n\r\n```java\r\n@RestControllerAdvice\r\npublic class ValidationExceptionHandler {\r\n    /**\r\n     * Validation Exception Handler\r\n     * @param ex Exception\r\n     * @return A response\r\n     */\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\r\n        return ResponseEntity.badRequest().body(errors);\r\n    }\r\n}\r\n```\r\n\r\nBut now it doesn&#39;t work. Instead, this is the response that I get:\r\n```xml\r\n{\r\n    &quot;type&quot;: &quot;about:blank&quot;,\r\n    &quot;title&quot;: &quot;Bad Request&quot;,\r\n    &quot;status&quot;: 400,\r\n    &quot;detail&quot;: &quot;Invalid request content.&quot;,\r\n    &quot;instance&quot;: &quot;/login&quot;\r\n}\r\n```\r\n\r\nWhat am I doing wrong?\r\n\r\nThis is my folder structure:\r\n\r\n```\r\ncom.example.my_app\r\n  - auth\r\n    - AuthController\r\n    - AuthControllerAdvice\r\n  - config\r\n    - SecurityConfig\r\n  - exception\r\n    - ErrorResponse\r\n    - RestExceptionHandler\r\n    - ValidationExceptionHandler\r\n```\r\n","title":"ExceptionHandler works in a controller but not in separate class","body":"<p>I have a controller in Spring Boot 3, which looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/login&quot;)\npublic ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) {\n ...\n}\n</code></pre>\n<p>As you see, I am using <code>@Valid</code> because of annotations that I use, such as <code>@Size(min = 8)</code> or <code>@Email</code>. Now I want to send a message, if an entity was invalid. To do this, I am using this exception handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExceptionHandler(MethodArgumentNotValidException.class)\npublic ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\n    Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n    ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\n    return ResponseEntity.badRequest().body(errors);\n}\n</code></pre>\n<p>This works fine, if that code is in my controller. This is the response that I get:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>{\n    &quot;password&quot;: &quot;password length should be at least 8 characters&quot;,\n    &quot;username&quot;: &quot;username should be a valid email address&quot;\n}\n</code></pre>\n<p>But I need this code in more than 1 controller. So instead of that, I have just created another class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestControllerAdvice\npublic class ValidationExceptionHandler {\n    /**\n     * Validation Exception Handler\n     * @param ex Exception\n     * @return A response\n     */\n    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\n        return ResponseEntity.badRequest().body(errors);\n    }\n}\n</code></pre>\n<p>But now it doesn't work. Instead, this is the response that I get:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>{\n    &quot;type&quot;: &quot;about:blank&quot;,\n    &quot;title&quot;: &quot;Bad Request&quot;,\n    &quot;status&quot;: 400,\n    &quot;detail&quot;: &quot;Invalid request content.&quot;,\n    &quot;instance&quot;: &quot;/login&quot;\n}\n</code></pre>\n<p>What am I doing wrong?</p>\n<p>This is my folder structure:</p>\n<pre><code>com.example.my_app\n  - auth\n    - AuthController\n    - AuthControllerAdvice\n  - config\n    - SecurityConfig\n  - exception\n    - ErrorResponse\n    - RestExceptionHandler\n    - ValidationExceptionHandler\n</code></pre>\n"},{"tags":["java","node.js","reactjs","firebase"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677843302,"post_id":75625779,"comment_id":133421603,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":19199549,"reputation":776,"user_id":14027764,"display_name":"Rituparna Warwatkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677839312,"creation_date":1677839312,"answer_id":75625891,"question_id":75625779,"body_markdown":"So usually in these cases when you get a token from the third party auth providers, here in case of firebase, Check for the validity of the token with the firebase using their token verification endpoint or if any library is available for nodejs, after the verification, you will find the payload of the token that contains the email id of the user\r\n\r\nNow using that email id, check against your database if that email exists or not.\r\nIf exists, then issue a new token of your own rest api and send it to the user.\r\n\r\nIf the email does not exist, create a new user from the data obtained from the payload, you will usually find first name, last name, email, and few other basic info about the user.\r\n\r\nThis way continue with the normal process of authentication.","title":"I have a frontend application which we do authentication using rest api. Now we want to add login with google functionality by using firebase","body":"<p>So usually in these cases when you get a token from the third party auth providers, here in case of firebase, Check for the validity of the token with the firebase using their token verification endpoint or if any library is available for nodejs, after the verification, you will find the payload of the token that contains the email id of the user</p>\n<p>Now using that email id, check against your database if that email exists or not.\nIf exists, then issue a new token of your own rest api and send it to the user.</p>\n<p>If the email does not exist, create a new user from the data obtained from the payload, you will usually find first name, last name, email, and few other basic info about the user.</p>\n<p>This way continue with the normal process of authentication.</p>\n"}],"owner":{"account_id":26740714,"reputation":21,"user_id":20341543,"display_name":"workK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1677846204,"accepted_answer_id":75625891,"answer_count":1,"score":-3,"last_activity_date":1677839312,"creation_date":1677838637,"question_id":75625779,"body_markdown":"So how to handle the token that comes from firebase. The token generates by rest api and firebase are completely different. So how to authenticate the users who choose to login with google.\r\n\r\nSo the token is completely different from my rest api. Since secret key and algorithms are  completely different. My rest api return 401 code when I pass token that generated by firebase. Please help me. The backend is NodeJS","title":"I have a frontend application which we do authentication using rest api. Now we want to add login with google functionality by using firebase","body":"<p>So how to handle the token that comes from firebase. The token generates by rest api and firebase are completely different. So how to authenticate the users who choose to login with google.</p>\n<p>So the token is completely different from my rest api. Since secret key and algorithms are  completely different. My rest api return 401 code when I pass token that generated by firebase. Please help me. The backend is NodeJS</p>\n"},{"tags":["java","spring","spring-boot","api","rest"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":0,"creation_date":1677837762,"post_id":75625597,"comment_id":133420106,"body_markdown":"Silly question, have you started your spring boot server?","body":"Silly question, have you started your spring boot server?"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1677838062,"post_id":75625597,"comment_id":133420196,"body_markdown":"@PradeepSimha Yup, I have. That was the first thing I checked too. Did not stop until I saw the &quot;Tomcat started on port 6069&quot; message.","body":"@PradeepSimha Yup, I have. That was the first thing I checked too. Did not stop until I saw the &quot;Tomcat started on port 6069&quot; message."},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1677839547,"post_id":75625597,"comment_id":133420579,"body_markdown":"I tried changing the `@RequestMapping` to `@GetMapping`, however I am getting a different error now: ```Error: write EPROTO 65166088:error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER:../../../../src/third_party/boringssl/src/ssl/tls_record.cc:242:```","body":"I tried changing the <code>@RequestMapping</code> to <code>@GetMapping</code>, however I am getting a different error now: <code>Error: write EPROTO 65166088:error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER:..&#47;..&#47;..&#47;..&#47;s&zwnj;&#8203;rc&#47;third_party&#47;borin&zwnj;&#8203;gssl&#47;src&#47;ssl&#47;tls_rec&zwnj;&#8203;ord.cc:242:</code>"}],"answers":[{"comments":[{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1677839117,"post_id":75625797,"comment_id":133420478,"body_markdown":"Thanks, I tried this but it did not work. I do not see reason why @RequestMapping should not work when ```@GetMapping``` would work in any case, as I am specifying the method anyway","body":"Thanks, I tried this but it did not work. I do not see reason why @RequestMapping should not work when <code>@GetMapping</code> would work in any case, as I am specifying the method anyway"}],"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677838750,"creation_date":1677838750,"answer_id":75625797,"question_id":75625597,"body_markdown":"the problem in @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\r\n\r\nyou should use @GetMapping.\r\n\r\n\r\nRequestMapping just for basic config on class level for inherited behavior.","title":"Why am I not able to access the REST API exposed by my service?","body":"<p>the problem in @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)</p>\n<p>you should use @GetMapping.</p>\n<p>RequestMapping just for basic config on class level for inherited behavior.</p>\n"},{"comments":[{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1677839491,"post_id":75625860,"comment_id":133420568,"body_markdown":"I tried this, but now get a different error ```Error: write EPROTO 65166088:error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER:../../../../src/third_party/boringssl/src/ssl/tls_record.cc:242:```","body":"I tried this, but now get a different error <code>Error: write EPROTO 65166088:error:100000f7:SSL routines:OPENSSL_internal:WRONG_VERSION_NUMBER:..&#47;..&#47;..&#47;..&#47;s&zwnj;&#8203;rc&#47;third_party&#47;borin&zwnj;&#8203;gssl&#47;src&#47;ssl&#47;tls_rec&zwnj;&#8203;ord.cc:242:</code>"},{"owner":{"account_id":25989163,"reputation":37,"user_id":19701675,"display_name":"shiningStar"},"score":0,"creation_date":1677839625,"post_id":75625860,"comment_id":133420609,"body_markdown":"This type of issue comes when you use https instead of http. Change the URL to use http instead of https.\nExample: https://localhost:6069/myApi\n\nChange it to: http://localhost:6069/myApi","body":"This type of issue comes when you use https instead of http. Change the URL to use http instead of https. Example: <a href=\"https://localhost:6069/myApi\" rel=\"nofollow noreferrer\">localhost:6069/myApi</a>  Change it to: <a href=\"http://localhost:6069/myApi\" rel=\"nofollow noreferrer\">localhost:6069/myApi</a>"},{"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"score":0,"creation_date":1677839916,"post_id":75625860,"comment_id":133420694,"body_markdown":"Got it! This worked. Thanks! Although I do not understand why it was not working for @RequestMapping","body":"Got it! This worked. Thanks! Although I do not understand why it was not working for @RequestMapping"},{"owner":{"account_id":25989163,"reputation":37,"user_id":19701675,"display_name":"shiningStar"},"score":0,"creation_date":1677840114,"post_id":75625860,"comment_id":133420754,"body_markdown":"Thanks for letting me know, you can use @RequestMapping(&quot;/anything&quot;) at the top of your controller class and will work too you just have to change URL to localhost:6069/anything/myApi . Please upvote my answer if it helped you.","body":"Thanks for letting me know, you can use @RequestMapping(&quot;/anything&quot;) at the top of your controller class and will work too you just have to change URL to localhost:6069/anything/myApi . Please upvote my answer if it helped you."}],"tags":[],"owner":{"account_id":25989163,"reputation":37,"user_id":19701675,"display_name":"shiningStar"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677839105,"creation_date":1677839058,"answer_id":75625860,"question_id":75625597,"body_markdown":"Use \r\n\r\n    @GetMapping(&quot;/myApi&quot;)\r\ninstead of\r\n\r\n    @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\r\n\r\nThis must resolve your issue.","title":"Why am I not able to access the REST API exposed by my service?","body":"<p>Use</p>\n<pre><code>@GetMapping(&quot;/myApi&quot;)\n</code></pre>\n<p>instead of</p>\n<pre><code>@RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>This must resolve your issue.</p>\n"}],"owner":{"account_id":16489162,"reputation":69,"user_id":11913587,"display_name":"Kaushik Mahadevan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":527,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75625860,"answer_count":2,"score":1,"last_activity_date":1677839105,"creation_date":1677837574,"question_id":75625597,"body_markdown":"I am trying to incorporate a few APIs into my existing spring-boot service, but I am not able to reach the APIs for some reason, when I try to access it from Postman. \r\n\r\nInitially I thought it might be because of missing dependencies, so I added the spring-boot-started-web dependency to my build.gradle\r\n\r\n```\r\nclasspath(group: &#39;org.springframework.boot&#39;, name: &#39;spring-boot-starter-web&#39;, version: &#39;1.5.8.RELEASE&#39;)\r\n``` \r\n\r\nMy next troubleshooting steps involved checking the annotations of my app. After checking them, I could not find any issues.\r\n\r\nThis is the annotations of my config class:\r\n\r\n```\r\n@Configuration\r\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, RibbonAutoConfiguration.class})\r\n@EnableScheduling\r\n@ComponentScan({&quot;com.example&quot;})\r\n@SpringBootApplication(exclude = { ErrorMvcAutoConfiguration.class })\r\npublic class MyApplication {\r\n      // Some code\r\n}\r\n```\r\nand this is my Controller class:\r\n```\r\n@RestController\r\npublic class MyApplication {\r\n\r\n       @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\r\n       public ResponseEntity&lt;String&gt; myApiHandler() {\r\n           return new ResponseEntity&lt;String&gt;(&quot;Successfully called API&quot;, HttpStatus.OK);\r\n       }\r\n}\r\n```\r\n\r\nI had also defined the port in the application.properties file as follows:\r\n```\r\nserver.port=6069\r\n```\r\n\r\nWhen I try to hit the following API from Postman, however, I am not able to get any response from the application:\r\n```\r\nlocalhost:6069/myApi\r\n```\r\n\r\nthis is the error I get:\r\n```\r\nError: connect ECONNREFUSED 127.0.0.1:6069\r\n```\r\n\r\nI am using Java 8, spring boot version 1.5.8 and Intellij IDE for development. Could you please let me know what I am missing? Any help is appreciated, thanks!","title":"Why am I not able to access the REST API exposed by my service?","body":"<p>I am trying to incorporate a few APIs into my existing spring-boot service, but I am not able to reach the APIs for some reason, when I try to access it from Postman.</p>\n<p>Initially I thought it might be because of missing dependencies, so I added the spring-boot-started-web dependency to my build.gradle</p>\n<pre><code>classpath(group: 'org.springframework.boot', name: 'spring-boot-starter-web', version: '1.5.8.RELEASE')\n</code></pre>\n<p>My next troubleshooting steps involved checking the annotations of my app. After checking them, I could not find any issues.</p>\n<p>This is the annotations of my config class:</p>\n<pre><code>@Configuration\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class, RibbonAutoConfiguration.class})\n@EnableScheduling\n@ComponentScan({&quot;com.example&quot;})\n@SpringBootApplication(exclude = { ErrorMvcAutoConfiguration.class })\npublic class MyApplication {\n      // Some code\n}\n</code></pre>\n<p>and this is my Controller class:</p>\n<pre><code>@RestController\npublic class MyApplication {\n\n       @RequestMapping(method={RequestMethod.GET}, value=&quot;/myApi&quot;, produces=MediaType.APPLICATION_JSON_VALUE)\n       public ResponseEntity&lt;String&gt; myApiHandler() {\n           return new ResponseEntity&lt;String&gt;(&quot;Successfully called API&quot;, HttpStatus.OK);\n       }\n}\n</code></pre>\n<p>I had also defined the port in the application.properties file as follows:</p>\n<pre><code>server.port=6069\n</code></pre>\n<p>When I try to hit the following API from Postman, however, I am not able to get any response from the application:</p>\n<pre><code>localhost:6069/myApi\n</code></pre>\n<p>this is the error I get:</p>\n<pre><code>Error: connect ECONNREFUSED 127.0.0.1:6069\n</code></pre>\n<p>I am using Java 8, spring boot version 1.5.8 and Intellij IDE for development. Could you please let me know what I am missing? Any help is appreciated, thanks!</p>\n"},{"tags":["java","android-studio","webview","push-notification"],"owner":{"account_id":2348139,"reputation":637,"user_id":2057781,"accept_rate":67,"display_name":"labu77"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677838981,"creation_date":1677838981,"question_id":75625847,"body_markdown":"A App with webview has push notifications. The push notifications are declared in the file JavaScriptInterface.java. \r\n\r\n    showNotification(String title, String message, String imageUrl, String redirectUrl) \r\n\r\nThe link is inside of the redirectUrl and this redirectUrl is placed into intent.putExtra with this code:\r\n\r\n\r\n    Intent intent = new Intent(mContext, MainActivity.class);\r\n    intent.putExtra(&quot;redirectUrl&quot;,redirectUrl);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n\r\nThe redirectUrl is not empty, I checked it with:\r\n\r\n    Log.d(&quot;showNotification&quot;, &quot;Titel: &quot; + title + &quot;, Message: &quot; + message + &quot;, Image: &quot; + imageUrl + &quot;, Redirect-URL: &quot; + redirectUrl);\r\n\r\nSo everthing in JavaScriptInterface.java is working. Now move to the MainActitity.java file. \r\n\r\nI added this:\r\n\r\n    Intent intent = getIntent();\r\n        if (intent.getExtras() != null) {\r\n            String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\r\n            if (redirectUrl != null &amp;&amp; !redirectUrl.isEmpty()) {\r\n                mywebView.loadUrl(redirectUrl);\r\n                return;\r\n            }\r\n        }\r\n\r\ninfront of:\r\n\r\n    mywebView.loadUrl(&quot;https://www.example.com/&quot;);\r\n\r\nBut if I click on the notification, the link goes to the startspage instead of the custom redirectUrl.\r\n\r\n I checked the redirectUrl variable with this code:\r\n\r\n    \r\n        Intent intent = this.getIntent();\r\n\r\n        Bundle extras = intent.getExtras();\r\n        String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\r\n\r\n        if (redirectUrl != null) {\r\n            Log.d(&quot;MainActivity&quot;, &quot;Redirect URL found: &quot; + redirectUrl);\r\n            mywebView.loadUrl(redirectUrl);\r\n        } else {\r\n            Log.d(&quot;MainActivity&quot;, &quot;No redirect URL found / load index&quot;);\r\n            mywebView.loadUrl(&quot;https://www.example.com/&quot;);\r\n        }\r\n\r\nand its saying, that No redirect URL found / load index. \r\n\r\nWhy is the redirectUrl not available in the mainactitiy.java file?\r\n\r\nHere is my MainActivty.java File:\r\n\r\n    package com.example.ownapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.core.content.ContextCompat;\r\n    \r\n    //for webviewpush\r\n    import android.webkit.JsPromptResult;\r\n    import android.webkit.JsResult;\r\n    import android.webkit.WebChromeClient;\r\n    \r\n    //for webviewpush redirect\r\n    import android.content.Intent;\r\n    import static android.content.ContentValues.TAG;\r\n    import android.util.Log;\r\n    \r\n    import android.graphics.Bitmap;\r\n    import android.os.Bundle;\r\n    import android.webkit.WebSettings;\r\n    import android.webkit.WebView;\r\n    import android.webkit.WebViewClient;\r\n    import android.webkit.ValueCallback;\r\n    \r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    \r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        private WebView mywebView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            mywebView=(WebView) findViewById(R.id.webview);\r\n            mywebView.setWebViewClient(new WebViewClient() {\r\n                public void onPageFinished(WebView view, String url) {\r\n                    view.evaluateJavascript(&quot;document.getElementById(&#39;darktrue&#39;) != null&quot;, new ValueCallback&lt;String&gt;() {\r\n                        @Override\r\n                        public void onReceiveValue(String value) {\r\n                            if (value.equals(&quot;true&quot;)) {\r\n                                // ID exists, change status bar color\r\n                                getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.trennbardarkin));\r\n                            } else {\r\n                                getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.trennbarlightin));\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n    \r\n    \r\n            });\r\n    \r\n    \r\n            //for webviewpush redirect\r\n            Intent intent = getIntent();\r\n            if (intent.getExtras() != null) {\r\n                String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\r\n                if (redirectUrl != null &amp;&amp; !redirectUrl.isEmpty()) {\r\n                    mywebView.loadUrl(redirectUrl);\r\n                    return;\r\n                }\r\n            }\r\n    \r\n            mywebView.loadUrl(&quot;https://www.example.com&quot;);\r\n            WebSettings webSettings=mywebView.getSettings();\r\n            webSettings.setJavaScriptEnabled(true);\r\n            webSettings.setDomStorageEnabled(true);\r\n            MobileAds.registerWebView(mywebView);\r\n    \r\n            //for webviewpush\r\n            mywebView.addJavascriptInterface(new JavaScriptInterface(this),&quot;AndroidFunction&quot;);\r\n            mywebView.setWebChromeClient(new WebChromeClient(){\r\n                @Override\r\n                public boolean onJsAlert(WebView view, String url, String message, JsResult result) {\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onJsConfirm(WebView view, String url, String message, JsResult result) {\r\n                    return true;\r\n                }\r\n    \r\n                @Override\r\n                public boolean onJsPrompt(WebView view, String url, String message, String defaultValue, JsPromptResult result) {\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    \r\n        private Map&lt;String, String&gt; getHeaders() {\r\n            Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n            headers.put(&quot;Custom-Header&quot;, &quot;value&quot;);\r\n            return headers;\r\n        }\r\n    \r\n        public class mywebClient extends WebViewClient {\r\n            @Override\r\n            public void onPageStarted(WebView view, String url, Bitmap favicon) {\r\n                super.onPageStarted(view,url,favicon);\r\n            }\r\n            @Override\r\n            public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n                view.loadUrl(url);\r\n                return true;\r\n            }\r\n        }\r\n        @Override\r\n        public void onBackPressed() {\r\n            if (mywebView.canGoBack()) {\r\n                mywebView.goBack();\r\n            } else {\r\n                super.onBackPressed();\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nThank you very much","title":"Custom URL Link in pushnotification / Android Studio Webview","body":"<p>A App with webview has push notifications. The push notifications are declared in the file JavaScriptInterface.java.</p>\n<pre><code>showNotification(String title, String message, String imageUrl, String redirectUrl) \n</code></pre>\n<p>The link is inside of the redirectUrl and this redirectUrl is placed into intent.putExtra with this code:</p>\n<pre><code>Intent intent = new Intent(mContext, MainActivity.class);\nintent.putExtra(&quot;redirectUrl&quot;,redirectUrl);\nintent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\nintent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\n</code></pre>\n<p>The redirectUrl is not empty, I checked it with:</p>\n<pre><code>Log.d(&quot;showNotification&quot;, &quot;Titel: &quot; + title + &quot;, Message: &quot; + message + &quot;, Image: &quot; + imageUrl + &quot;, Redirect-URL: &quot; + redirectUrl);\n</code></pre>\n<p>So everthing in JavaScriptInterface.java is working. Now move to the MainActitity.java file.</p>\n<p>I added this:</p>\n<pre><code>Intent intent = getIntent();\n    if (intent.getExtras() != null) {\n        String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\n        if (redirectUrl != null &amp;&amp; !redirectUrl.isEmpty()) {\n            mywebView.loadUrl(redirectUrl);\n            return;\n        }\n    }\n</code></pre>\n<p>infront of:</p>\n<pre><code>mywebView.loadUrl(&quot;https://www.example.com/&quot;);\n</code></pre>\n<p>But if I click on the notification, the link goes to the startspage instead of the custom redirectUrl.</p>\n<p>I checked the redirectUrl variable with this code:</p>\n<pre><code>    Intent intent = this.getIntent();\n\n    Bundle extras = intent.getExtras();\n    String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\n\n    if (redirectUrl != null) {\n        Log.d(&quot;MainActivity&quot;, &quot;Redirect URL found: &quot; + redirectUrl);\n        mywebView.loadUrl(redirectUrl);\n    } else {\n        Log.d(&quot;MainActivity&quot;, &quot;No redirect URL found / load index&quot;);\n        mywebView.loadUrl(&quot;https://www.example.com/&quot;);\n    }\n</code></pre>\n<p>and its saying, that No redirect URL found / load index.</p>\n<p>Why is the redirectUrl not available in the mainactitiy.java file?</p>\n<p>Here is my MainActivty.java File:</p>\n<pre><code>package com.example.ownapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.content.ContextCompat;\n\n//for webviewpush\nimport android.webkit.JsPromptResult;\nimport android.webkit.JsResult;\nimport android.webkit.WebChromeClient;\n\n//for webviewpush redirect\nimport android.content.Intent;\nimport static android.content.ContentValues.TAG;\nimport android.util.Log;\n\nimport android.graphics.Bitmap;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\nimport android.webkit.ValueCallback;\n\nimport java.util.Map;\nimport java.util.HashMap;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private WebView mywebView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mywebView=(WebView) findViewById(R.id.webview);\n        mywebView.setWebViewClient(new WebViewClient() {\n            public void onPageFinished(WebView view, String url) {\n                view.evaluateJavascript(&quot;document.getElementById('darktrue') != null&quot;, new ValueCallback&lt;String&gt;() {\n                    @Override\n                    public void onReceiveValue(String value) {\n                        if (value.equals(&quot;true&quot;)) {\n                            // ID exists, change status bar color\n                            getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.trennbardarkin));\n                        } else {\n                            getWindow().setStatusBarColor(ContextCompat.getColor(MainActivity.this, R.color.trennbarlightin));\n                        }\n                    }\n                });\n            }\n\n\n        });\n\n\n        //for webviewpush redirect\n        Intent intent = getIntent();\n        if (intent.getExtras() != null) {\n            String redirectUrl = intent.getStringExtra(&quot;redirectUrl&quot;);\n            if (redirectUrl != null &amp;&amp; !redirectUrl.isEmpty()) {\n                mywebView.loadUrl(redirectUrl);\n                return;\n            }\n        }\n\n        mywebView.loadUrl(&quot;https://www.example.com&quot;);\n        WebSettings webSettings=mywebView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webSettings.setDomStorageEnabled(true);\n        MobileAds.registerWebView(mywebView);\n\n        //for webviewpush\n        mywebView.addJavascriptInterface(new JavaScriptInterface(this),&quot;AndroidFunction&quot;);\n        mywebView.setWebChromeClient(new WebChromeClient(){\n            @Override\n            public boolean onJsAlert(WebView view, String url, String message, JsResult result) {\n                return true;\n            }\n\n            @Override\n            public boolean onJsConfirm(WebView view, String url, String message, JsResult result) {\n                return true;\n            }\n\n            @Override\n            public boolean onJsPrompt(WebView view, String url, String message, String defaultValue, JsPromptResult result) {\n                return true;\n            }\n        });\n    }\n\n    private Map&lt;String, String&gt; getHeaders() {\n        Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n        headers.put(&quot;Custom-Header&quot;, &quot;value&quot;);\n        return headers;\n    }\n\n    public class mywebClient extends WebViewClient {\n        @Override\n        public void onPageStarted(WebView view, String url, Bitmap favicon) {\n            super.onPageStarted(view,url,favicon);\n        }\n        @Override\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n    }\n    @Override\n    public void onBackPressed() {\n        if (mywebView.canGoBack()) {\n            mywebView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n\n}\n</code></pre>\n<p>Thank you very much</p>\n"},{"tags":["java","jmeter","jmeter-plugins","jmeter-5.0"],"answers":[{"tags":[],"owner":{"account_id":16414972,"reputation":13,"user_id":11857347,"display_name":"Nitin "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677838931,"creation_date":1677838931,"answer_id":75625834,"question_id":75603349,"body_markdown":"Try using below command to generate the result.\r\nGo to the jmeter/bin folder if in linux machine. Else use jmeter.bat file\r\n\r\n    jmeter -g name-of-jtl-file -o name-of-the-output-folder\r\n\r\nThis will create a html and statistics.json file.\r\nIt will resolve your problem.","title":"Unable to access jarfile C:\\..\\apache-jmeter-5.5\\bin\\\\..\\lib\\cmdrunner-2.2.jar","body":"<p>Try using below command to generate the result.\nGo to the jmeter/bin folder if in linux machine. Else use jmeter.bat file</p>\n<pre><code>jmeter -g name-of-jtl-file -o name-of-the-output-folder\n</code></pre>\n<p>This will create a html and statistics.json file.\nIt will resolve your problem.</p>\n"}],"owner":{"account_id":22341424,"reputation":1,"user_id":16561140,"display_name":"Saumya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677838931,"creation_date":1677671574,"question_id":75603349,"body_markdown":"I&#39;m trying to create a csv from summary report using the JMeter Command Line Graph Plotting Tool plugin. I&#39;m using this command to run test and generate report in non-gui mode.\r\n\r\n```\r\nJMeterPluginsCMD.bat --generate-csv summary-report.csv --input-jtl result.jtl --plugin-type AggregateReport\r\n```\r\n\r\nWhen I run it I&#39;m getting this error.\r\n\r\n`Error: Unable to access jarfile C:\\Users\\I563673\\Downloads\\apache-jmeter-5.5\\apache-jmeter-5.5\\bin\\\\..\\lib\\cmdrunner-2.2.jar`\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI manually downloaded the cmdrunner-2.2.jar from [here](https://search.maven.org/remotecontent?filepath=kg/apc/cmdrunner/2.2/cmdrunner-2.2.jar) and put it in the lib folder but now I&#39;m getting the following error:\r\n\r\n[enter image description here](https://i.stack.imgur.com/7WRJk.png)\r\n\r\nSince the Home directory was detected as the lib folder I tried putting the jtl file in the lib directory and also specifying the path of jtl file w.r.t the lib folder. This too didn&#39;t remove the error.","title":"Unable to access jarfile C:\\..\\apache-jmeter-5.5\\bin\\\\..\\lib\\cmdrunner-2.2.jar","body":"<p>I'm trying to create a csv from summary report using the JMeter Command Line Graph Plotting Tool plugin. I'm using this command to run test and generate report in non-gui mode.</p>\n<pre><code>JMeterPluginsCMD.bat --generate-csv summary-report.csv --input-jtl result.jtl --plugin-type AggregateReport\n</code></pre>\n<p>When I run it I'm getting this error.</p>\n<p><code>Error: Unable to access jarfile C:\\Users\\I563673\\Downloads\\apache-jmeter-5.5\\apache-jmeter-5.5\\bin\\\\..\\lib\\cmdrunner-2.2.jar</code></p>\n<p>I manually downloaded the cmdrunner-2.2.jar from <a href=\"https://search.maven.org/remotecontent?filepath=kg/apc/cmdrunner/2.2/cmdrunner-2.2.jar\" rel=\"nofollow noreferrer\">here</a> and put it in the lib folder but now I'm getting the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/7WRJk.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Since the Home directory was detected as the lib folder I tried putting the jtl file in the lib directory and also specifying the path of jtl file w.r.t the lib folder. This too didn't remove the error.</p>\n"},{"tags":["java","log4j","spring-boot","log4j2"],"comments":[{"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"score":0,"creation_date":1423155546,"post_id":28349309,"comment_id":45043241,"body_markdown":"Could you please confirm if `/config` is in the classpath? if you are using maven based project, put the xml file under `src/main/resources`","body":"Could you please confirm if <code>&#47;config</code> is in the classpath? if you are using maven based project, put the xml file under <code>src&#47;main&#47;resources</code>"},{"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"score":0,"creation_date":1423155805,"post_id":28349309,"comment_id":45043432,"body_markdown":"The `config` folder (package) is in the classpath, and it already contains `application.yml`, that is correctly picked up and succesfully used in the application.","body":"The <code>config</code> folder (package) is in the classpath, and it already contains <code>application.yml</code>, that is correctly picked up and succesfully used in the application."},{"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"score":0,"creation_date":1423157470,"post_id":28349309,"comment_id":45044490,"body_markdown":"Could you please put the xml file in `src/main/resources` and try so that we can narrow down the issue?","body":"Could you please put the xml file in <code>src&#47;main&#47;resources</code> and try so that we can narrow down the issue?"},{"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"score":0,"creation_date":1423224261,"post_id":28349309,"comment_id":45071929,"body_markdown":"If I put the XML file in its right location, the classpath root (`src/main/java`), it works without problems. I&#39;m not getting what we should check by putting the XML in the `src/main/resources` folder. What I want to be able to do is to put the log4j2.xml file wherever I want.","body":"If I put the XML file in its right location, the classpath root (<code>src&#47;main&#47;java</code>), it works without problems. I&#39;m not getting what we should check by putting the XML in the <code>src&#47;main&#47;resources</code> folder. What I want to be able to do is to put the log4j2.xml file wherever I want."},{"owner":{"account_id":132437,"reputation":7807,"user_id":333125,"accept_rate":54,"display_name":"Mithun"},"score":1,"creation_date":1423227701,"post_id":28349309,"comment_id":45073747,"body_markdown":"Since it is working fine when you put it in `src/main/java`, it means there is no problem with the configuration. If you want it to work irrespective of the location of the `log4j2.xml`, you have to make sure that the folder is in classpath. If you are using eclipse, `right click on the project -&gt; Build Path -&gt; Configure Build Path` to set the classpath.","body":"Since it is working fine when you put it in <code>src&#47;main&#47;java</code>, it means there is no problem with the configuration. If you want it to work irrespective of the location of the <code>log4j2.xml</code>, you have to make sure that the folder is in classpath. If you are using eclipse, <code>right click on the project -&gt; Build Path -&gt; Configure Build Path</code> to set the classpath."},{"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"score":0,"creation_date":1423247819,"post_id":28349309,"comment_id":45085395,"body_markdown":"I found out the right way to include an external configuration file for Log4j2 is `mvn spring-boot:run -Dlogging.config=&quot;/path/to/file/test.xml&quot;` (or similarly when using `java -jar`). Still, I&#39;ve not been able to include a file already in the classpath at build time. I&#39;m not sure that&#39;s actually possible.","body":"I found out the right way to include an external configuration file for Log4j2 is <code>mvn spring-boot:run -Dlogging.config=&quot;&#47;path&#47;to&#47;file&#47;test.xml&quot;</code> (or similarly when using <code>java -jar</code>). Still, I&#39;ve not been able to include a file already in the classpath at build time. I&#39;m not sure that&#39;s actually possible."}],"answers":[{"comments":[{"owner":{"account_id":198532,"reputation":7519,"user_id":443259,"accept_rate":77,"display_name":"Daud"},"score":4,"creation_date":1575532961,"post_id":30376025,"comment_id":104600425,"body_markdown":"There&#39;s another solution via the **log4j2.component.properties** file as described in my [answer](https://stackoverflow.com/questions/28349309/how-can-i-change-the-default-location-of-log4j2-xml-in-java-spring-boot/59190560#59190560) below which doesn&#39;t necessitate providing the config file name via system properties or command line parameters","body":"There&#39;s another solution via the <b>log4j2.component.properties</b> file as described in my <a href=\"https://stackoverflow.com/questions/28349309/how-can-i-change-the-default-location-of-log4j2-xml-in-java-spring-boot/59190560#59190560\">answer</a> below which doesn&#39;t necessitate providing the config file name via system properties or command line parameters"},{"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":0,"creation_date":1636372567,"post_id":30376025,"comment_id":123530464,"body_markdown":"From the documentation I read: `The various logging systems can be activated by including the appropriate libraries on the classpath and can be further customized by providing a suitable configuration file in the root of the classpath or in a location specified by the following Spring Environment property: logging.config.` The only exception is for ` logging from @PropertySources in Spring @Configuration file` which is dictated by initialization order. Hence, why &quot;logging.config property cannot be set among the application properties&quot;?","body":"From the documentation I read: <code>The various logging systems can be activated by including the appropriate libraries on the classpath and can be further customized by providing a suitable configuration file in the root of the classpath or in a location specified by the following Spring Environment property: logging.config.</code> The only exception is for ` logging from @PropertySources in Spring @Configuration file` which is dictated by initialization order. Hence, why &quot;logging.config property cannot be set among the application properties&quot;?"},{"owner":{"account_id":201558,"reputation":20199,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"score":0,"creation_date":1636373051,"post_id":30376025,"comment_id":123530672,"body_markdown":"look at [this](https://stackoverflow.com/a/43907702/448078) answer","body":"look at <a href=\"https://stackoverflow.com/a/43907702/448078\">this</a> answer"}],"tags":[],"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"comment_count":3,"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1432216858,"creation_date":1432216858,"answer_id":30376025,"question_id":28349309,"body_markdown":"As specified in the [Spring reference documentation][1], the `logging.config` property cannot be set among the application properties, as they are read after the logging has already been initialised.\r\n\r\nThe solution is to provide the path to the external logging configuration this way:\r\n    \r\n    java -Dlogging.config=&#39;/path/to/log4j2.xml&#39; -jar app-current.jar\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>As specified in the <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-logging.html#boot-features-custom-log-configuration\">Spring reference documentation</a>, the <code>logging.config</code> property cannot be set among the application properties, as they are read after the logging has already been initialised.</p>\n\n<p>The solution is to provide the path to the external logging configuration this way:</p>\n\n<pre><code>java -Dlogging.config='/path/to/log4j2.xml' -jar app-current.jar\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2127246,"reputation":109,"user_id":1889018,"display_name":"ciobi"},"score":0,"creation_date":1628619976,"post_id":35864817,"comment_id":121468414,"body_markdown":"Regarding the boot process, won&#39;t using both `-Dlog4j.configurationFile` and `-Dlogging.config` take care of this? (It does for me, but I&#39;m not sure we have the same use case.)","body":"Regarding the boot process, won&#39;t using both <code>-Dlog4j.configurationFile</code> and <code>-Dlogging.config</code> take care of this? (It does for me, but I&#39;m not sure we have the same use case.)"},{"owner":{"account_id":1468369,"reputation":159,"user_id":1392873,"display_name":"mandroid"},"score":0,"creation_date":1634878317,"post_id":35864817,"comment_id":123149582,"body_markdown":"Check this answer as well. [link](https://stackoverflow.com/questions/16716556/how-to-specify-log4j-2-x-config-location)","body":"Check this answer as well. <a href=\"https://stackoverflow.com/questions/16716556/how-to-specify-log4j-2-x-config-location\">link</a>"}],"tags":[],"owner":{"account_id":1029072,"reputation":5177,"user_id":1037753,"accept_rate":75,"display_name":"konqi"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1457432738,"creation_date":1457432738,"answer_id":35864817,"question_id":28349309,"body_markdown":"The answer of [micpalmia][1] is absolutely correct. \r\n\r\nI needed to put the configuration outside the classpath I didn&#39;t want to pass the config file as a parameter. So i put a very simple logging configuration in the classpath resources and had the spring boot application reconfigure logging upon start, like so:\r\n\r\n&lt;!-- language: Java --&gt;\r\n\r\n    @SpringBootApplication\r\n    public class Application implements CommandLineRunner {\r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... param) throws UnsupportedEncodingException {\r\n            Configurator.initialize(null, &quot;config/log4j2.xml&quot;);\r\n            // ...\r\n        }\r\n    }\r\n\r\nThis approach has a significant disadvantage: The whole application boot process will not be logged as externally configured. But once the custom code is run the logger works as intended. While you may not, I find this to be a compromise I can live with.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/592138/micpalmia","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>The answer of <a href=\"https://stackoverflow.com/users/592138/micpalmia\">micpalmia</a> is absolutely correct. </p>\n\n<p>I needed to put the configuration outside the classpath I didn't want to pass the config file as a parameter. So i put a very simple logging configuration in the classpath resources and had the spring boot application reconfigure logging upon start, like so:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application implements CommandLineRunner {\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(Application.class, args);\n    }\n\n    @Override\n    public void run(String... param) throws UnsupportedEncodingException {\n        Configurator.initialize(null, \"config/log4j2.xml\");\n        // ...\n    }\n}\n</code></pre>\n\n<p>This approach has a significant disadvantage: The whole application boot process will not be logged as externally configured. But once the custom code is run the logger works as intended. While you may not, I find this to be a compromise I can live with.</p>\n"},{"tags":[],"owner":{"account_id":2486043,"reputation":1592,"user_id":2164447,"display_name":"Harry.Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499487192,"creation_date":1499487192,"answer_id":44982423,"question_id":28349309,"body_markdown":"I have the same problem in my project, besides log4j2.xml I also need other config files in the class path.\r\nHere is my 2 solutions that works:\r\n\r\n Soluation 1 : Start spring boot application with org.springframework.boot.loader.JarLauncher\r\n   \r\n\r\n    java -classpath SpringBootProject.jar;./config org.springframework.boot.loader.JarLauncher\r\n\r\nSolution 2:  Write a &#39;./config&#39; class path entry in the MANIFEST.MF in the jar\r\n    \r\n        &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n              &lt;archive&gt;\r\n                &lt;manifestEntries&gt;\r\n                   &lt;Class-Path&gt;./config/&lt;/Class-Path&gt;\r\n                &lt;/manifestEntries&gt;\r\n              &lt;/archive&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;repackage&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n\r\n\r\n ","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>I have the same problem in my project, besides log4j2.xml I also need other config files in the class path.\nHere is my 2 solutions that works:</p>\n\n<p>Soluation 1 : Start spring boot application with org.springframework.boot.loader.JarLauncher</p>\n\n<pre><code>java -classpath SpringBootProject.jar;./config org.springframework.boot.loader.JarLauncher\n</code></pre>\n\n<p>Solution 2:  Write a './config' class path entry in the MANIFEST.MF in the jar</p>\n\n<pre><code>    &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifestEntries&gt;\n               &lt;Class-Path&gt;./config/&lt;/Class-Path&gt;\n            &lt;/manifestEntries&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.5.3.RELEASE&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;repackage&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":990193,"reputation":1190,"user_id":1007735,"accept_rate":60,"display_name":"jtsnr"},"score":3,"creation_date":1596818455,"post_id":50694346,"comment_id":111942778,"body_markdown":"This doesn&#39;t answer the question. The question was asking about the location of the log4j configuration file (log4j.xml) rather than the file for writing the log statements to","body":"This doesn&#39;t answer the question. The question was asking about the location of the log4j configuration file (log4j.xml) rather than the file for writing the log statements to"},{"owner":{"account_id":14713804,"reputation":620,"user_id":10811865,"display_name":"SirHawrk"},"score":0,"creation_date":1673513108,"post_id":50694346,"comment_id":132517253,"body_markdown":"This also looks a whole lot like AnyPoint Studio and not a &quot;normal&quot; Java Application","body":"This also looks a whole lot like AnyPoint Studio and not a &quot;normal&quot; Java Application"}],"tags":[],"owner":{"account_id":933106,"reputation":6411,"user_id":962565,"accept_rate":44,"display_name":"SachinVsSachin"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1528183345,"creation_date":1528183345,"answer_id":50694346,"question_id":28349309,"body_markdown":"I have working solution to set custom path or change existing file path for logging file. If you have configured log4j2.xml file, open it and see where you have to do one line change to config log file path.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AFIxh.png","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>I have working solution to set custom path or change existing file path for logging file. If you have configured log4j2.xml file, open it and see where you have to do one line change to config log file path.<a href=\"https://i.stack.imgur.com/AFIxh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AFIxh.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1550052304,"creation_date":1550052304,"answer_id":54667426,"question_id":28349309,"body_markdown":"In case of property file:\r\n\r\n&gt; java -Dlog4j.configuration=file:/path/to/log4j.properties -jar app.jar\r\n\r\nTo the command line works in Spring Boot 2. Don&#39;t forget to add **file:** before the path.","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>In case of property file:</p>\n\n<blockquote>\n  <p>java -Dlog4j.configuration=file:/path/to/log4j.properties -jar app.jar</p>\n</blockquote>\n\n<p>To the command line works in Spring Boot 2. Don't forget to add <strong>file:</strong> before the path.</p>\n"},{"tags":[],"owner":{"account_id":198532,"reputation":7519,"user_id":443259,"accept_rate":77,"display_name":"Daud"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1575532642,"creation_date":1575532642,"answer_id":59190560,"question_id":28349309,"body_markdown":"As mentioned in the log4j2 documentation [here][1], you can include a file named `log4j2.component.properties` in your resources folder (or anywhere in the classpath) and inside that file, you can provide the name of the file location (or a new file name) like this:\r\n\r\n    log4j.configurationFile=path/to/log4j2.xml\r\n\r\nor \r\n\r\n    log4j.configurationFile=classpath:log4j2-custom.xml (if the file is on the classpath)\r\n\r\nYou can alternatively provide the config file location via the `context-param` fields of `web.xml` as mentioned [here][1], but I haven&#39;t tried that option\r\n\r\n(This works with Spring Boot too)\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/faq.html#config_location","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>As mentioned in the log4j2 documentation <a href=\"http://logging.apache.org/log4j/2.x/faq.html#config_location\" rel=\"noreferrer\">here</a>, you can include a file named <code>log4j2.component.properties</code> in your resources folder (or anywhere in the classpath) and inside that file, you can provide the name of the file location (or a new file name) like this:</p>\n\n<pre><code>log4j.configurationFile=path/to/log4j2.xml\n</code></pre>\n\n<p>or </p>\n\n<pre><code>log4j.configurationFile=classpath:log4j2-custom.xml (if the file is on the classpath)\n</code></pre>\n\n<p>You can alternatively provide the config file location via the <code>context-param</code> fields of <code>web.xml</code> as mentioned <a href=\"http://logging.apache.org/log4j/2.x/faq.html#config_location\" rel=\"noreferrer\">here</a>, but I haven't tried that option</p>\n\n<p>(This works with Spring Boot too)</p>\n"},{"tags":[],"owner":{"account_id":26096595,"reputation":1,"user_id":19792648,"display_name":"swathi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661234548,"creation_date":1660816267,"answer_id":73400925,"question_id":28349309,"body_markdown":"If you  try to rename the log4j2.xml file other than the default name. In order to load the file.\r\nFor a spring boot  application in application.properties file add below property \r\nthis would work \r\n\r\n    logging.config=classpath:logfilename.xml\r\n\r\n ","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>If you  try to rename the log4j2.xml file other than the default name. In order to load the file.\nFor a spring boot  application in application.properties file add below property\nthis would work</p>\n<pre><code>logging.config=classpath:logfilename.xml\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1885070,"reputation":3672,"user_id":1704453,"accept_rate":88,"display_name":"Vipin CP"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677837977,"creation_date":1677837977,"answer_id":75625663,"question_id":28349309,"body_markdown":"Another way to do this in Spring boot \r\n\r\n\r\n     java -jar app.jar --logging.config=/path/to/log4j2.xml\r\n\r\n\r\n\r\n","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>Another way to do this in Spring boot</p>\n<pre><code> java -jar app.jar --logging.config=/path/to/log4j2.xml\n</code></pre>\n"}],"owner":{"account_id":290535,"reputation":2402,"user_id":592138,"accept_rate":78,"display_name":"Michele Palmia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65468,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":30376025,"answer_count":8,"score":28,"last_activity_date":1677837977,"creation_date":1423154316,"question_id":28349309,"body_markdown":"Log4j2 is working nicely with Spring Boot through the `log4j2.xml` configuration file in the root classpath, exactly as the documentation states.\r\n\r\nWhen trying to move this file to a different location though, I&#39;m not able to pass the new location to Spring at startup. From [the documentation][1]:\r\n\r\n&gt; The various logging systems can be activated by including the\r\n&gt; appropriate libraries on the classpath, and further customized by\r\n&gt; providing a suitable configuration file in the root of the classpath,\r\n&gt; or **in a location specified by the Spring Environment property\r\n&gt; `logging.config`**.\r\n\r\nI tried setting the new location with a Java system property\r\n\r\n    java -jar -Dlogging.config=&quot;classpath:/config/log4j2.xml&quot; target/app.jar\r\n\r\nor using an external `application.properties` containing the relevant property\r\n\r\n    logging.config=classpath:/config/log4j2.xml\r\n\r\nBut I am regularly greeted by the following error message.\r\n\r\n    ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-custom-log-configuration","title":"How can I change the default location of log4j2.xml in Java Spring Boot?","body":"<p>Log4j2 is working nicely with Spring Boot through the <code>log4j2.xml</code> configuration file in the root classpath, exactly as the documentation states.</p>\n\n<p>When trying to move this file to a different location though, I'm not able to pass the new location to Spring at startup. From <a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#boot-features-custom-log-configuration\" rel=\"noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>The various logging systems can be activated by including the\n  appropriate libraries on the classpath, and further customized by\n  providing a suitable configuration file in the root of the classpath,\n  or <strong>in a location specified by the Spring Environment property\n  <code>logging.config</code></strong>.</p>\n</blockquote>\n\n<p>I tried setting the new location with a Java system property</p>\n\n<pre><code>java -jar -Dlogging.config=\"classpath:/config/log4j2.xml\" target/app.jar\n</code></pre>\n\n<p>or using an external <code>application.properties</code> containing the relevant property</p>\n\n<pre><code>logging.config=classpath:/config/log4j2.xml\n</code></pre>\n\n<p>But I am regularly greeted by the following error message.</p>\n\n<pre><code>ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.\n</code></pre>\n"},{"tags":["java","median-of-medians"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1673689179,"post_id":75107512,"comment_id":132557448,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75107512/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":11266275,"reputation":11,"user_id":8262969,"display_name":"V K Deewakar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673603664,"creation_date":1673603664,"answer_id":75107512,"question_id":75107301,"body_markdown":"I have tried below code and it&#39;s working fine now:-\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class MedianQueries {\r\n        private static int median( int N, int[] A) {\r\n            int[] arr = Arrays.copyOfRange(A,0,A.length);\r\n            Arrays.sort(arr);\r\n            int mid = (int) Math.ceil(N / 2);\r\n            if (mid + mid == arr.length) {\r\n                return arr[mid-1];\r\n            } else {\r\n                return arr[mid];\r\n            }\r\n        }\r\n\r\n        private static void getMedian(int[] A){\r\n            while (A.length &gt;=1) {\r\n                System.out.println(median(A.length, A));\r\n                int mid = (int) Math.ceil(A.length/2);\r\n                A = Arrays.copyOfRange(A, 1, mid+1);\r\n            }\r\n        }\r\n        \r\n        public static void main(String args[] ) throws Exception {\r\n            int[] A = {2,4,5,3,1,6};\r\n            getMedian(A);\r\n        }\r\n    }","title":"Median Queries:- a subarray of A of length , you have to sort the elements of the subarray in a non-decreasing order","body":"<p>I have tried below code and it's working fine now:-</p>\n<pre><code>import java.util.Arrays;\n\npublic class MedianQueries {\n    private static int median( int N, int[] A) {\n        int[] arr = Arrays.copyOfRange(A,0,A.length);\n        Arrays.sort(arr);\n        int mid = (int) Math.ceil(N / 2);\n        if (mid + mid == arr.length) {\n            return arr[mid-1];\n        } else {\n            return arr[mid];\n        }\n    }\n\n    private static void getMedian(int[] A){\n        while (A.length &gt;=1) {\n            System.out.println(median(A.length, A));\n            int mid = (int) Math.ceil(A.length/2);\n            A = Arrays.copyOfRange(A, 1, mid+1);\n        }\n    }\n    \n    public static void main(String args[] ) throws Exception {\n        int[] A = {2,4,5,3,1,6};\n        getMedian(A);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11266275,"reputation":11,"user_id":8262969,"display_name":"V K Deewakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3205,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1677837891,"creation_date":1673602567,"question_id":75107301,"body_markdown":"You are given an array `A` consisting of N elements. For a subarray of `A` of length `len`, you have to sort the elements of the subarray in a non-decreasing order. The element at the position `ceil(len/2)` is called the median of the subarray. Consider the array and each subarray to be 1 indexed.\r\n\r\nWrite a program to answer `Q` queries of the following types:\r\n\r\nYou are given two integers `L` and `R`.\r\nYou have to find the median of a subarray `A_L, A_{L+1},..., A_R` of the array `A`.\r\n\r\n##### Input format\r\n\r\n- First line: `N`\r\n- Second line: `N` space-separated integers (denoting the array `A`)\r\n- Third line: `Q`\r\n- Next `Q` lines : Two space-separated integers `L` and `R`\r\n\r\n##### Output format:\r\nFor each query, print the median of the subarray.\r\n\r\n##### Constraints\r\n\r\n```\r\n1   N, Q   5 * 10^4\r\n1  A_i  10^9\r\n1  L  R  N\r\n```\r\n\r\n##### Example\r\n\r\nInput:\r\n\r\n```\r\nint[] A = {2,4,5,3,1,6};\r\nint N = 6;\r\n```\r\n\r\nOutput: `3, 4, 5`\r\n\r\n##### My attempt\r\n\r\nI have tried:\r\n\r\n    private static final int generous = 1;\r\n    private static int median(int[] arr) {\r\n        Arrays.sort(arr);\r\n        int mid = arr.length / 2;\r\n        if (mid + mid == arr.length) {\r\n            return (arr[mid-1] + arr[mid] + generous) / 2;\r\n        } else {\r\n            return arr[mid];\r\n        }\r\n    }\r\n\r\nthen just call it for each sub-array:\r\n\r\n    private static int[] getMedian(int[] arr) {\r\n        int[] result = new int[arr.length];\r\n        for (int i = 0; i &lt; arr.length; i++) {\r\n            result[i] = median(Arrays.copyOfRange(arr, 0, i+1));\r\n        }\r\n        return result;\r\n    }","title":"Median Queries:- a subarray of A of length , you have to sort the elements of the subarray in a non-decreasing order","body":"<p>You are given an array <code>A</code> consisting of N elements. For a subarray of <code>A</code> of length <code>len</code>, you have to sort the elements of the subarray in a non-decreasing order. The element at the position <code>ceil(len/2)</code> is called the median of the subarray. Consider the array and each subarray to be 1 indexed.</p>\n<p>Write a program to answer <code>Q</code> queries of the following types:</p>\n<p>You are given two integers <code>L</code> and <code>R</code>.\nYou have to find the median of a subarray <code>A_L, A_{L+1},..., A_R</code> of the array <code>A</code>.</p>\n<h5>Input format</h5>\n<ul>\n<li>First line: <code>N</code></li>\n<li>Second line: <code>N</code> space-separated integers (denoting the array <code>A</code>)</li>\n<li>Third line: <code>Q</code></li>\n<li>Next <code>Q</code> lines : Two space-separated integers <code>L</code> and <code>R</code></li>\n</ul>\n<h5>Output format:</h5>\n<p>For each query, print the median of the subarray.</p>\n<h5>Constraints</h5>\n<pre><code>1   N, Q   5 * 10^4\n1  A_i  10^9\n1  L  R  N\n</code></pre>\n<h5>Example</h5>\n<p>Input:</p>\n<pre><code>int[] A = {2,4,5,3,1,6};\nint N = 6;\n</code></pre>\n<p>Output: <code>3, 4, 5</code></p>\n<h5>My attempt</h5>\n<p>I have tried:</p>\n<pre><code>private static final int generous = 1;\nprivate static int median(int[] arr) {\n    Arrays.sort(arr);\n    int mid = arr.length / 2;\n    if (mid + mid == arr.length) {\n        return (arr[mid-1] + arr[mid] + generous) / 2;\n    } else {\n        return arr[mid];\n    }\n}\n</code></pre>\n<p>then just call it for each sub-array:</p>\n<pre><code>private static int[] getMedian(int[] arr) {\n    int[] result = new int[arr.length];\n    for (int i = 0; i &lt; arr.length; i++) {\n        result[i] = median(Arrays.copyOfRange(arr, 0, i+1));\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","maven"],"owner":{"account_id":962360,"reputation":2794,"user_id":986437,"accept_rate":53,"display_name":"GionJh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677837840,"creation_date":1677837479,"question_id":75625580,"body_markdown":"I would like to inspect the `javac` command maven uses to compile my code.\r\n\r\nWhen running:\r\n```\r\nmvn clean install -X\r\n```\r\n\r\nI get:\r\n```\r\n[DEBUG] Command line options:\r\n[DEBUG] -d /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/classes -classpath /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/classes:/Users/userone/.m2/repository/com/baeldung/entitymodule/maven-entitymodule/1.0-SNAPSHOT/maven-entitymodule-1.0-SNAPSHOT.jar:/Users/userone/.m2/repository/com/baeldung/daomodule/maven-daomodule/1.0-SNAPSHOT/maven-daomodule-1.0-SNAPSHOT.jar: -sourcepath /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/src/main/java:/Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/generated-sources/annotations: -s /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/generated-sources/annotations -g -target 1.9 -source 1.9\r\n```\r\n\r\nBut this is not the full `javac` command needed to compile as it&#39;s missing the `[sourcefiles-or-classnames] argument`\r\n\r\nHow can I force Maven to spit out the whole command ?\r\n\r\n","title":"Force Maven to print out the whole compilation command with javac","body":"<p>I would like to inspect the <code>javac</code> command maven uses to compile my code.</p>\n<p>When running:</p>\n<pre><code>mvn clean install -X\n</code></pre>\n<p>I get:</p>\n<pre><code>[DEBUG] Command line options:\n[DEBUG] -d /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/classes -classpath /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/classes:/Users/userone/.m2/repository/com/baeldung/entitymodule/maven-entitymodule/1.0-SNAPSHOT/maven-entitymodule-1.0-SNAPSHOT.jar:/Users/userone/.m2/repository/com/baeldung/daomodule/maven-daomodule/1.0-SNAPSHOT/maven-daomodule-1.0-SNAPSHOT.jar: -sourcepath /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/src/main/java:/Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/generated-sources/annotations: -s /Users/userone/Desktop/multimodulemavenproject/maven-userdaomodule/target/generated-sources/annotations -g -target 1.9 -source 1.9\n</code></pre>\n<p>But this is not the full <code>javac</code> command needed to compile as it's missing the <code>[sourcefiles-or-classnames] argument</code></p>\n<p>How can I force Maven to spit out the whole command ?</p>\n"},{"tags":["java","jpa","dto","multi-tier"],"comments":[{"owner":{"account_id":341185,"reputation":16364,"user_id":671639,"accept_rate":69,"display_name":"BetaRide"},"score":0,"creation_date":1478251273,"post_id":23308241,"comment_id":68086897,"body_markdown":"I&#39;m voting to close this question as off-topic because it&#39;s an architecture and not a programming questin.","body":"I&#39;m voting to close this question as off-topic because it&#39;s an architecture and not a programming questin."}],"answers":[{"tags":[],"owner":{"account_id":4381141,"reputation":775,"user_id":3572771,"accept_rate":100,"display_name":"yotsov"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1398500537,"creation_date":1398500537,"answer_id":23308461,"question_id":23308241,"body_markdown":"Loose coupling is indeed the recommended way to go, which means you will end up with huge, boring to write, painful to maintain converters in your business logic. Yes, they belong in the business logic: the layer between the DAOs and the views. So the business layer will end up depending on both the DAO DTOs and the view DTOs. And will be full of Converter classes, diluting your view of the actual business logic...\r\n\r\nIf you can get away with having immutable view DTOs, that&#39;s great. A library you use for serializing them might require them to have setters though. Or you might find them easier to build if they have setters.\r\n\r\nI have gotten away just fine with using the same DTO classes for both the views and the DAOs. It is bad, but honestly, I did not have the feeling that the system was more decoupled otherwise, since business logic, the most essential part, has to depend on everything anyway. This tight coupling provided for great conciseness, and made it easier to sync the view and DAO layers. I could still have things specific just to one of the layers and not seen in the other by using composition.\r\n\r\nFinally, regarding exceptions. It is a responsibility of the outermost layer, the view layer (the Controllers if you are using Spring) to catch errors propagated from the inner layers be it using exceptions, be it using special DTO fields. Then this outermost layer needs to decide if to inform the client of the error, and how. The fact is that down to the innermost layer, you need to distinguish between the different types of errors that the outermost layer will need to handle. For example if something happens in the DAO layer, and the view layer needs to know if to return 400 or 500, the DAO layer will need to provide the view layer with the information needed to decide which one to use, and this information will need to pass through all intermediary levels, who should be able to add their own errors and error types. Propagating an IOException or SQLException to the outermost layer is not enough, the inner layer needs to also tell the outer layer if this is an expected error or not. Sad but true.","title":"Best Practice - Multi Layer Architecture and DTOs","body":"<p>Loose coupling is indeed the recommended way to go, which means you will end up with huge, boring to write, painful to maintain converters in your business logic. Yes, they belong in the business logic: the layer between the DAOs and the views. So the business layer will end up depending on both the DAO DTOs and the view DTOs. And will be full of Converter classes, diluting your view of the actual business logic...</p>\n\n<p>If you can get away with having immutable view DTOs, that's great. A library you use for serializing them might require them to have setters though. Or you might find them easier to build if they have setters.</p>\n\n<p>I have gotten away just fine with using the same DTO classes for both the views and the DAOs. It is bad, but honestly, I did not have the feeling that the system was more decoupled otherwise, since business logic, the most essential part, has to depend on everything anyway. This tight coupling provided for great conciseness, and made it easier to sync the view and DAO layers. I could still have things specific just to one of the layers and not seen in the other by using composition.</p>\n\n<p>Finally, regarding exceptions. It is a responsibility of the outermost layer, the view layer (the Controllers if you are using Spring) to catch errors propagated from the inner layers be it using exceptions, be it using special DTO fields. Then this outermost layer needs to decide if to inform the client of the error, and how. The fact is that down to the innermost layer, you need to distinguish between the different types of errors that the outermost layer will need to handle. For example if something happens in the DAO layer, and the view layer needs to know if to return 400 or 500, the DAO layer will need to provide the view layer with the information needed to decide which one to use, and this information will need to pass through all intermediary levels, who should be able to add their own errors and error types. Propagating an IOException or SQLException to the outermost layer is not enough, the inner layer needs to also tell the outer layer if this is an expected error or not. Sad but true.</p>\n"},{"comments":[{"owner":{"account_id":4384926,"reputation":1352,"user_id":3575404,"accept_rate":17,"display_name":"nils"},"score":0,"creation_date":1398515070,"post_id":23308520,"comment_id":35688074,"body_markdown":"Thank you very much for the detailed answer. I think that this helps me a lot for the further design of the architecture.","body":"Thank you very much for the detailed answer. I think that this helps me a lot for the further design of the architecture."},{"owner":{"account_id":1202845,"reputation":1436,"user_id":1173140,"accept_rate":72,"display_name":"Sean"},"score":0,"creation_date":1455087000,"post_id":23308520,"comment_id":58326758,"body_markdown":"This part still troubles me:\n&quot;The service layer knows its classes (DTOs) and the layer below it (let&#39;s say persistence). So yes, the service is responsible for translating between persistence and itself.&quot;\n\nThere would be multiple layers in the &quot;service&quot;: DAO, web/rest/service resources, business logic layer. Where specifically should the translation occur?","body":"This part still troubles me: &quot;The service layer knows its classes (DTOs) and the layer below it (let&#39;s say persistence). So yes, the service is responsible for translating between persistence and itself.&quot;  There would be multiple layers in the &quot;service&quot;: DAO, web/rest/service resources, business logic layer. Where specifically should the translation occur?"},{"owner":{"account_id":3649739,"reputation":5689,"user_id":3042204,"accept_rate":86,"display_name":"jnovo"},"score":1,"creation_date":1455092668,"post_id":23308520,"comment_id":58329501,"body_markdown":"@SeanCoetzee DTOs should be responsibility of the service layer since they only exist to transfer the data in a lightweight fashion. So the translation should be done by that layer. Both the DAOs (or whatever persistence mechanism) and specially the business layer should have no idea about their existence, since they are lower layers.","body":"@SeanCoetzee DTOs should be responsibility of the service layer since they only exist to transfer the data in a lightweight fashion. So the translation should be done by that layer. Both the DAOs (or whatever persistence mechanism) and specially the business layer should have no idea about their existence, since they are lower layers."},{"owner":{"account_id":4916508,"reputation":696,"user_id":3960315,"accept_rate":100,"display_name":"Arash"},"score":0,"creation_date":1576736819,"post_id":23308520,"comment_id":104996966,"body_markdown":"Would it be illegal in multi-layer architecture, If presentation layer gets an entity from service layer? I mean, does this make the presentation layer dependent on the persistence layer?","body":"Would it be illegal in multi-layer architecture, If presentation layer gets an entity from service layer? I mean, does this make the presentation layer dependent on the persistence layer?"}],"tags":[],"owner":{"account_id":3649739,"reputation":5689,"user_id":3042204,"accept_rate":86,"display_name":"jnovo"},"comment_count":4,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1677837686,"creation_date":1398500938,"answer_id":23308520,"question_id":23308241,"body_markdown":"Having some packages among different layers is not uncommon, however it is usually done only for cross-cutting concerns such as logging. Your model should not be shared by different layers, or changes to the model would require changes in all those layers. Typically, your model is a lower layer, close to data layer (over, under, or intertwined, depending on the approach).\r\n\r\nData Transfer Objects, as their name imply, are simple classes used to transfer data. As such, they are usually used to communicate between layers, specially when you have a SOA architecture which communicates through messages and not objects.  DTOs should be immutable since they merely exist for the purpose of transferring information, not altering it.\r\n\r\nYour domain objects are one thing, your DTOs are a different thing, and the objects you need in your presentation layer are yet another thing. However, in small projects it may not be worth the effort of implementing all those different sets and converting between them. That just depends on your requirements.\r\n\r\nYou are designing a web application but it may help your design to ask yourself, &quot;could I switch my web application by a desktop application? Is my service layer really unaware of my presentation logic?&quot;. Thinking in these terms will guide you towards a better architecture.\r\n\r\n### Answers to your questions\r\n\r\n&gt; 1. Assume the persistence layer would use a class myproject.persistence.domain.UserEntity (a JPA based entity) to store and load data to/from the database. To show data in the view I would provide another class myproject.service.domain.User. Where do I convert them? Would the service for the users be responsible to convert between the two classes? Would this really help to improve the coupling?\r\n\r\nThe service layer knows its classes (DTOs) and the layer below it (let&#39;s say persistence). So yes, the service is responsible for translating between persistence and itself.\r\n\r\n&gt; 2. How should the User class look like? Should it contain only getters to be immutable? Wouldn&#39;t it be cumbersome for the views to edit existing users (create a new User, use the getters of the existing User object etc.)?\r\n\r\nThe idea behind DTOs is that you only use them for transfer, so operations like creating a new user are not required. For that you need different objects.\r\n\r\n&gt; 3. Should I use the same DTO-classes (User) to send a request to the service to modify an existing user/create a new user or should I implement other classes?\r\n\r\nThe service methods might express the operation, the DTOs being its parameters containing just the data. Another option is using commands which represent the operation and also contain the DTOs. This is popular in SOA architectures where your service may be a mere command processor for instance having one single `Execute` operation taking a `ICommand` interface as parameter (as opposed to having one operation per command).\r\n\r\n&gt; 4. Wouldn&#39;t the presentation layer be very dependent on the service layer by using all the DTOs in myproject.service.domain?\r\n\r\nYes, the layer over the service layer will be dependent on it. That is the idea. The upside is that only that layer is dependent on it, no upper or lower layers so changes only affect that layer (unlike what happens if you use your domain classes from every layer).\r\n\r\n&gt; 5. How to handle my own exceptions? My current approach rethrows most &quot;severe&quot; exceptions until they are handled by the presentation layer (usually they are logged and the user is informed that something went wrong). On the one hand I have the problem that I have again a shared package. On the other hand I am still not sure that this can be considered &quot;best practice&quot;. Any ideas?\r\n\r\nEach layer can have its own exceptions. They flow from one layer to another encapsulated into the next kind of exception. Sometimes, they will be handled by one layer which will do something (logging, for instance) and maybe then throw a different exception that an upper layer must handle. Other times, they might be handled and the problem might be solved. Think for instance of a problem connecting to the database. It would throw an exception. You could handle it and decide to retry after a second and maybe then there is success, thus the exception would not flow upwards. Should the retry also fail, the exception would be re-thrown and it may flow all the way up to the presentation layer where you gracefully notify the user and ask him to retry layer.\r\n","title":"Best Practice - Multi Layer Architecture and DTOs","body":"<p>Having some packages among different layers is not uncommon, however it is usually done only for cross-cutting concerns such as logging. Your model should not be shared by different layers, or changes to the model would require changes in all those layers. Typically, your model is a lower layer, close to data layer (over, under, or intertwined, depending on the approach).</p>\n<p>Data Transfer Objects, as their name imply, are simple classes used to transfer data. As such, they are usually used to communicate between layers, specially when you have a SOA architecture which communicates through messages and not objects.  DTOs should be immutable since they merely exist for the purpose of transferring information, not altering it.</p>\n<p>Your domain objects are one thing, your DTOs are a different thing, and the objects you need in your presentation layer are yet another thing. However, in small projects it may not be worth the effort of implementing all those different sets and converting between them. That just depends on your requirements.</p>\n<p>You are designing a web application but it may help your design to ask yourself, &quot;could I switch my web application by a desktop application? Is my service layer really unaware of my presentation logic?&quot;. Thinking in these terms will guide you towards a better architecture.</p>\n<h3>Answers to your questions</h3>\n<blockquote>\n<ol>\n<li>Assume the persistence layer would use a class myproject.persistence.domain.UserEntity (a JPA based entity) to store and load data to/from the database. To show data in the view I would provide another class myproject.service.domain.User. Where do I convert them? Would the service for the users be responsible to convert between the two classes? Would this really help to improve the coupling?</li>\n</ol>\n</blockquote>\n<p>The service layer knows its classes (DTOs) and the layer below it (let's say persistence). So yes, the service is responsible for translating between persistence and itself.</p>\n<blockquote>\n<ol start=\"2\">\n<li>How should the User class look like? Should it contain only getters to be immutable? Wouldn't it be cumbersome for the views to edit existing users (create a new User, use the getters of the existing User object etc.)?</li>\n</ol>\n</blockquote>\n<p>The idea behind DTOs is that you only use them for transfer, so operations like creating a new user are not required. For that you need different objects.</p>\n<blockquote>\n<ol start=\"3\">\n<li>Should I use the same DTO-classes (User) to send a request to the service to modify an existing user/create a new user or should I implement other classes?</li>\n</ol>\n</blockquote>\n<p>The service methods might express the operation, the DTOs being its parameters containing just the data. Another option is using commands which represent the operation and also contain the DTOs. This is popular in SOA architectures where your service may be a mere command processor for instance having one single <code>Execute</code> operation taking a <code>ICommand</code> interface as parameter (as opposed to having one operation per command).</p>\n<blockquote>\n<ol start=\"4\">\n<li>Wouldn't the presentation layer be very dependent on the service layer by using all the DTOs in myproject.service.domain?</li>\n</ol>\n</blockquote>\n<p>Yes, the layer over the service layer will be dependent on it. That is the idea. The upside is that only that layer is dependent on it, no upper or lower layers so changes only affect that layer (unlike what happens if you use your domain classes from every layer).</p>\n<blockquote>\n<ol start=\"5\">\n<li>How to handle my own exceptions? My current approach rethrows most &quot;severe&quot; exceptions until they are handled by the presentation layer (usually they are logged and the user is informed that something went wrong). On the one hand I have the problem that I have again a shared package. On the other hand I am still not sure that this can be considered &quot;best practice&quot;. Any ideas?</li>\n</ol>\n</blockquote>\n<p>Each layer can have its own exceptions. They flow from one layer to another encapsulated into the next kind of exception. Sometimes, they will be handled by one layer which will do something (logging, for instance) and maybe then throw a different exception that an upper layer must handle. Other times, they might be handled and the problem might be solved. Think for instance of a problem connecting to the database. It would throw an exception. You could handle it and decide to retry after a second and maybe then there is success, thus the exception would not flow upwards. Should the retry also fail, the exception would be re-thrown and it may flow all the way up to the presentation layer where you gracefully notify the user and ask him to retry layer.</p>\n"}],"owner":{"account_id":4384926,"reputation":1352,"user_id":3575404,"accept_rate":17,"display_name":"nils"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12184,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"closed_date":1478258003,"accepted_answer_id":23308520,"answer_count":2,"score":18,"last_activity_date":1677837686,"creation_date":1398498779,"question_id":23308241,"body_markdown":"After reading some of the Q/As here on Stackoverflow, I am still confused about the correct implementation of DTOs in my web application. My current implementation is a (Java EE based) multi-tier architecture (with persistence, service and presentation layer) but with a &quot;common&quot; package used by all layers, containing (amongst others) domain objects. In this case the layers can not really be considered as independent.\r\n\r\nIn a re-design I am planning to remove the &quot;common&quot; package step by step.\r\n\r\n### Questions\r\nDuring re-design I encounter various challenges/questions:\r\n\r\n1. Assume the persistence layer would use a class *myproject.persistence.domain.UserEntity* (a JPA based entity) to store and load data to/from the database. To show data in the view I would provide another class *myproject.service.domain.User*. Where do I convert them? Would the service for the users be responsible to convert between the two classes? Would this really help to improve the coupling?\r\n2. How should the *User* class look like? Should it contain only getters to be immutable? Wouldn&#39;t it be cumbersome for the views to edit existing users (create a new *User*, use the getters of the existing *User* object etc.)?\r\n3. Should I use the same DTO-classes (*User*) to send a request to the service to modify an existing user/create a new user or should I implement other classes?\r\n4. Wouldn&#39;t the presentation layer be very dependent on the service layer by using all the DTOs in *myproject.service.domain*?\r\n5. How to handle my own exceptions? My current approach rethrows most &quot;severe&quot; exceptions until they are handled by the presentation layer (usually they are logged and the user is informed that something went wrong). On the one hand I have the problem that I have again a shared package. On the other hand I am still not sure that this can be considered &quot;best practice&quot;. Any ideas?","title":"Best Practice - Multi Layer Architecture and DTOs","body":"<p>After reading some of the Q/As here on Stackoverflow, I am still confused about the correct implementation of DTOs in my web application. My current implementation is a (Java EE based) multi-tier architecture (with persistence, service and presentation layer) but with a &quot;common&quot; package used by all layers, containing (amongst others) domain objects. In this case the layers can not really be considered as independent.</p>\n<p>In a re-design I am planning to remove the &quot;common&quot; package step by step.</p>\n<h3>Questions</h3>\n<p>During re-design I encounter various challenges/questions:</p>\n<ol>\n<li>Assume the persistence layer would use a class <em>myproject.persistence.domain.UserEntity</em> (a JPA based entity) to store and load data to/from the database. To show data in the view I would provide another class <em>myproject.service.domain.User</em>. Where do I convert them? Would the service for the users be responsible to convert between the two classes? Would this really help to improve the coupling?</li>\n<li>How should the <em>User</em> class look like? Should it contain only getters to be immutable? Wouldn't it be cumbersome for the views to edit existing users (create a new <em>User</em>, use the getters of the existing <em>User</em> object etc.)?</li>\n<li>Should I use the same DTO-classes (<em>User</em>) to send a request to the service to modify an existing user/create a new user or should I implement other classes?</li>\n<li>Wouldn't the presentation layer be very dependent on the service layer by using all the DTOs in <em>myproject.service.domain</em>?</li>\n<li>How to handle my own exceptions? My current approach rethrows most &quot;severe&quot; exceptions until they are handled by the presentation layer (usually they are logged and the user is informed that something went wrong). On the one hand I have the problem that I have again a shared package. On the other hand I am still not sure that this can be considered &quot;best practice&quot;. Any ideas?</li>\n</ol>\n"},{"tags":["java","json","eclipse","geojson"],"answers":[{"tags":[],"owner":{"display_name":"user2983190"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677837460,"creation_date":1467091890,"answer_id":38067766,"question_id":37986806,"body_markdown":"The code to create the geojson mentioned above is the following:\r\n\r\n    JSONObject featureCollection = new JSONObject();\r\n    featureCollection.put(&quot;type&quot;, &quot;FeatureCollection&quot;);\r\n    JSONObject properties = new JSONObject();\r\n    properties.put(&quot;name&quot;, &quot;ESPG:4326&quot;);\r\n    JSONObject crs = new JSONObject();\r\n    crs.put(&quot;type&quot;, &quot;name&quot;);\r\n    crs.put(&quot;properties&quot;, properties);\r\n    featureCollection.put(&quot;crs&quot;, crs);\r\n    \r\n    JSONArray features = new JSONArray();\r\n    JSONObject feature = new JSONObject();\r\n    feature.put(&quot;type&quot;, &quot;Feature&quot;);\r\n    JSONObject geometry = new JSONObject();\r\n    \r\n    JSONArray JSONArrayCoord = new JSONArray();\r\n    \r\n    JSONArrayCoord.add(0, 55);\r\n    JSONArrayCoord.add(1, 55);\r\n    geometry.put(&quot;type&quot;, &quot;Point&quot;);\r\n    geometry.put(&quot;coordinates&quot;, JSONArrayCoord);\r\n    feature.put(&quot;geometry&quot;, geometry);\r\n    \r\n    features.add(feature);\r\n    featureCollection.put(&quot;features&quot;, features);","title":"create geojson using simple json java","body":"<p>The code to create the geojson mentioned above is the following:</p>\n<pre><code>JSONObject featureCollection = new JSONObject();\nfeatureCollection.put(&quot;type&quot;, &quot;FeatureCollection&quot;);\nJSONObject properties = new JSONObject();\nproperties.put(&quot;name&quot;, &quot;ESPG:4326&quot;);\nJSONObject crs = new JSONObject();\ncrs.put(&quot;type&quot;, &quot;name&quot;);\ncrs.put(&quot;properties&quot;, properties);\nfeatureCollection.put(&quot;crs&quot;, crs);\n\nJSONArray features = new JSONArray();\nJSONObject feature = new JSONObject();\nfeature.put(&quot;type&quot;, &quot;Feature&quot;);\nJSONObject geometry = new JSONObject();\n\nJSONArray JSONArrayCoord = new JSONArray();\n\nJSONArrayCoord.add(0, 55);\nJSONArrayCoord.add(1, 55);\ngeometry.put(&quot;type&quot;, &quot;Point&quot;);\ngeometry.put(&quot;coordinates&quot;, JSONArrayCoord);\nfeature.put(&quot;geometry&quot;, geometry);\n\nfeatures.add(feature);\nfeatureCollection.put(&quot;features&quot;, features);\n</code></pre>\n"}],"owner":{"display_name":"user2983190"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4811,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38067766,"answer_count":1,"score":2,"last_activity_date":1677837460,"creation_date":1466672277,"question_id":37986806,"body_markdown":"I would like to create the following geojson using the simple-json-1.1.1 jar.\r\n\r\n    {&quot;type&quot;: &quot;FeatureCollection&quot;,\r\n\t&quot;crs&quot;: {\r\n\t\t&quot;type&quot;: &quot;name&quot;,\r\n\t\t&quot;properties&quot;: {\r\n\t\t\t\t&quot;name&quot;: &quot;ESPG:4326&quot;\r\n\t\t\t\t}\r\n\t\t},\r\n\t\t&quot;features&quot;:[\r\n\t\t\t\r\n\t\t{\r\n\t\t\t&quot;type&quot;:&quot;Feature&quot;,\r\n\t\t\t&quot;geometry&quot;:{\r\n\t\t\t\t\t&quot;type&quot;:&quot;Point&quot;,\r\n\t\t\t\t\t&quot;coordinates&quot;:[55,55]\r\n\t\t\t\t\t},\r\n\t\t\t&quot;properties&quot;:{\r\n\t\t\t\t\t&quot;desc&quot;:&quot;something&quot;}\r\n\t\t\t\t\t}\r\n\t\t]\r\n    }\r\n\r\nAny ideas on how to do that?Thanks!!","title":"create geojson using simple json java","body":"<p>I would like to create the following geojson using the simple-json-1.1.1 jar.</p>\n\n<pre><code>{\"type\": \"FeatureCollection\",\n\"crs\": {\n    \"type\": \"name\",\n    \"properties\": {\n            \"name\": \"ESPG:4326\"\n            }\n    },\n    \"features\":[\n\n    {\n        \"type\":\"Feature\",\n        \"geometry\":{\n                \"type\":\"Point\",\n                \"coordinates\":[55,55]\n                },\n        \"properties\":{\n                \"desc\":\"something\"}\n                }\n    ]\n}\n</code></pre>\n\n<p>Any ideas on how to do that?Thanks!!</p>\n"},{"tags":["java","spring-boot","rabbitmq","spring-cloud-stream","autoscaling"],"answers":[{"tags":[],"owner":{"account_id":4021081,"reputation":471,"user_id":3311406,"accept_rate":100,"display_name":"XBullet123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677837320,"creation_date":1677837320,"answer_id":75625557,"question_id":75517957,"body_markdown":"The message was sent and received by the same system, which for some reason still unknown to me caused it to be picked up for every running instance. We ended up using Springs internal messaging bus: `ApplicationEventPublisher` instead of the `StreamBridge`, which worked fine.","title":"Spring cloud stream with rabbitmq single consumer out of pool of autoscaled pool of consumer instances","body":"<p>The message was sent and received by the same system, which for some reason still unknown to me caused it to be picked up for every running instance. We ended up using Springs internal messaging bus: <code>ApplicationEventPublisher</code> instead of the <code>StreamBridge</code>, which worked fine.</p>\n"}],"owner":{"account_id":4021081,"reputation":471,"user_id":3311406,"accept_rate":100,"display_name":"XBullet123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677837320,"creation_date":1676968368,"question_id":75517957,"body_markdown":"I have a system with several microsystems, using Spring Cloud Streams (Spring Boot 2.7.5) and RabbitMQ for messaging between the systems. We have a problem where the receiver of the message is run for every instance of the microservice we have running. Is there some way to limit the message to only one instance of this service. The flow is as follows:\r\n\r\n 1. User submits some information, along with their email address\r\n 2. System receives information, stores it, and publishes a message on RabbitMQ that the information is submitted\r\n 3. All (3) of the running consumers receive the message, and send an email to the user that the information is received. There should only be one email sent.\r\n\r\nThe message is published like this:\r\n\r\n    @Component\r\n    @RequiredArgsConstructor\r\n    public class IssueEventPublisherImpl implements IssueEventPublisher {\r\n    \r\n        private final StreamBridge publisher;\r\n    \r\n        @Override\r\n        public void dispatch(IssueSubmitted issueSubmitted) {\r\n            publisher.send(&quot;issue-submitted-events&quot;, issueSubmitted);\r\n        }\r\n    }\r\n\r\nAnd received like this:\r\n\r\n    @Bean\r\n    public Consumer&lt;IssueSubmitted&gt; issueSubmittedEventConsumer(EmailSendingLogic sendEmail) {\r\n        return event -&gt; sendEmail(...);\r\n    }\r\n\r\nWith this configuration:\r\n\r\n    # Rabbit MQ\r\n    spring.rabbitmq.host=${RABBITMQ_HOST:localhost}\r\n    spring.rabbitmq.port=5672\r\n    spring.rabbitmq.username=${RABBITMQ_CLIENT_USERNAME:guest}\r\n    spring.rabbitmq.password=${RABBITMQ_CLIENT_PASSWORD:guest}\r\n    \r\n    spring.cloud.function.definition=issueSubmittedEventConsumer\r\n    spring.cloud.stream.bindings.issueSubmittedEventConsumer-in-0.destination=issue-submitted-events\r\n    spring.cloud.stream.bindings.issueSubmittedEventConsumer-in-0.group=some-named-group\r\n\r\nIs there some additional configuration we can use to limit the amount of recipients of this message to 1, no matter how many instances of the Consumer Spring Application we start?\r\n\r\nI have already tried to add the group, which did nothing. Having a separate group-name for each service would also not accomplish much, I&#39;d think. Googling this issue has not been very helpful, since most people seem to want the opposite, where a consumer want to listen to multiple queues, or should receive all messages. And none of the tutorials mention a cloud environment with autoscaling.\r\n","title":"Spring cloud stream with rabbitmq single consumer out of pool of autoscaled pool of consumer instances","body":"<p>I have a system with several microsystems, using Spring Cloud Streams (Spring Boot 2.7.5) and RabbitMQ for messaging between the systems. We have a problem where the receiver of the message is run for every instance of the microservice we have running. Is there some way to limit the message to only one instance of this service. The flow is as follows:</p>\n<ol>\n<li>User submits some information, along with their email address</li>\n<li>System receives information, stores it, and publishes a message on RabbitMQ that the information is submitted</li>\n<li>All (3) of the running consumers receive the message, and send an email to the user that the information is received. There should only be one email sent.</li>\n</ol>\n<p>The message is published like this:</p>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class IssueEventPublisherImpl implements IssueEventPublisher {\n\n    private final StreamBridge publisher;\n\n    @Override\n    public void dispatch(IssueSubmitted issueSubmitted) {\n        publisher.send(&quot;issue-submitted-events&quot;, issueSubmitted);\n    }\n}\n</code></pre>\n<p>And received like this:</p>\n<pre><code>@Bean\npublic Consumer&lt;IssueSubmitted&gt; issueSubmittedEventConsumer(EmailSendingLogic sendEmail) {\n    return event -&gt; sendEmail(...);\n}\n</code></pre>\n<p>With this configuration:</p>\n<pre><code># Rabbit MQ\nspring.rabbitmq.host=${RABBITMQ_HOST:localhost}\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=${RABBITMQ_CLIENT_USERNAME:guest}\nspring.rabbitmq.password=${RABBITMQ_CLIENT_PASSWORD:guest}\n\nspring.cloud.function.definition=issueSubmittedEventConsumer\nspring.cloud.stream.bindings.issueSubmittedEventConsumer-in-0.destination=issue-submitted-events\nspring.cloud.stream.bindings.issueSubmittedEventConsumer-in-0.group=some-named-group\n</code></pre>\n<p>Is there some additional configuration we can use to limit the amount of recipients of this message to 1, no matter how many instances of the Consumer Spring Application we start?</p>\n<p>I have already tried to add the group, which did nothing. Having a separate group-name for each service would also not accomplish much, I'd think. Googling this issue has not been very helpful, since most people seem to want the opposite, where a consumer want to listen to multiple queues, or should receive all messages. And none of the tutorials mention a cloud environment with autoscaling.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","bean-validation"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1677764615,"post_id":75614175,"comment_id":133404836,"body_markdown":"there is a question here about the differences between the 2 exceptions: https://stackoverflow.com/questions/57010688/what-is-the-difference-between-constraintviolationexception-and-methodargumentno\nAdditionally, this article also explains it pretty well: https://reflectoring.io/bean-validation-with-spring-boot/","body":"there is a question here about the differences between the 2 exceptions: <a href=\"https://stackoverflow.com/questions/57010688/what-is-the-difference-between-constraintviolationexception-and-methodargumentno\" title=\"what is the difference between constraintviolationexception and methodargumentno\">stackoverflow.com/questions/57010688/&hellip;</a> Additionally, this article also explains it pretty well: <a href=\"https://reflectoring.io/bean-validation-with-spring-boot/\" rel=\"nofollow noreferrer\">reflectoring.io/bean-validation-with-spring-boot</a>"},{"owner":{"account_id":24831761,"reputation":144,"user_id":18710872,"display_name":"void"},"score":0,"creation_date":1677764921,"post_id":75614175,"comment_id":133404936,"body_markdown":"Thank you. I am aware of the difference you mentioned. But as explained, the issue is that in both instances the different exceptions originate from deserialization and validation in the course of REST Controllers, as pointed out in my initial post.","body":"Thank you. I am aware of the difference you mentioned. But as explained, the issue is that in both instances the different exceptions originate from deserialization and validation in the course of REST Controllers, as pointed out in my initial post."}],"answers":[{"comments":[{"owner":{"account_id":24831761,"reputation":144,"user_id":18710872,"display_name":"void"},"score":0,"creation_date":1678870599,"post_id":75623536,"comment_id":133615191,"body_markdown":"Thank you @ken-chan for this in depth response and also the link to another stackoverflow comment that I have missed during my initial search.\n\nWhile I understand now the origins of the behaviour it is still somewhat odd in terms of API Contract provided by Spring in this instance. I will probably raise this as an issue, maybe there is some way for the Spring team to improve or unify behaviour in such instances.","body":"Thank you @ken-chan for this in depth response and also the link to another stackoverflow comment that I have missed during my initial search.  While I understand now the origins of the behaviour it is still somewhat odd in terms of API Contract provided by Spring in this instance. I will probably raise this as an issue, maybe there is some way for the Spring team to improve or unify behaviour in such instances."}],"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677837251,"creation_date":1677822053,"answer_id":75623536,"question_id":75614175,"body_markdown":"There are 2 levels of validation here which first validate on the controller layer , then validate on the bean method.(See [this][1] for more details)\r\n\r\nBoth validations at the end delegate to Bean Validation to validate but calling different validation methods:\r\n- In controller layer , it calls `Validator#validate()` and throw `MethodArgumentNotValidException` if fails\r\n- In bean method layer , it calls `ExecutableValidator#validateParameters()` and throw `ConstraintViolationException` if fails.\r\n\r\nFor the entities list case, the problem is Bean Validation does not works for `Validator#validate(List&lt;TestEntity&gt; testEntities)` (p.s. not sure why but I guess it is not supported). So actually no validation happens on the controller layer and the validation finally take place on the bean method layer which throws `ConstraintViolationException`.\r\n\r\nTo make `Validator#validate(List&lt;TestEntity&gt; testEntities)` work , you can wrap the list into a wrapper object . Note that you also need to annotate `@Valid` in the List &#39;s type argument : \r\n\r\n``` java\r\npublic class TestEntityListWrapper {\r\n\r\n    public List&lt;@Valid TestEntity&gt; entities = new ArrayList&lt;&gt;();\r\n\r\n    public TestEntityListWrapper(){\r\n\r\n    }\r\n\r\n    @JsonCreator(mode = JsonCreator.Mode.DELEGATING)\r\n    public TestEntityListWrapper(List&lt;TestEntity&gt; entities){\r\n        this.entities = entities;\r\n    }\r\n}\r\n\r\n@PostMapping(path = &quot;/test-entities&quot;)\r\npublic ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody TestEntityListWrapper testEntities) {\r\n\r\n}\r\n\r\n```\r\n\r\nThen it will throw `MethodArgumentNotValidException` for both case.\r\n\r\n\r\nOr if you want both of them throw `ConstraintViolationExceptions` , you can refer to my answers at [here][2] to disable the Bean Validation in controller layer :\r\n\r\n``` java\r\npublic class TestController{\r\n\r\n    @InitBinder\r\n    public void initBinder(WebDataBinder binder) {\r\n        binder.setValidator(null);\r\n   }\r\n\r\n  @PostMapping(path = &quot;/test-entities&quot;)\r\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody List&lt;TestEntity&gt; testEntities) {\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/a/69692047/339637\r\n  [2]: https://stackoverflow.com/a/69692047/339637","title":"Inconsistent Validation Exception Types in Spring Web REST Controllers when handling Lists and Single Entities","body":"<p>There are 2 levels of validation here which first validate on the controller layer , then validate on the bean method.(See <a href=\"https://stackoverflow.com/a/69692047/339637\">this</a> for more details)</p>\n<p>Both validations at the end delegate to Bean Validation to validate but calling different validation methods:</p>\n<ul>\n<li>In controller layer , it calls <code>Validator#validate()</code> and throw <code>MethodArgumentNotValidException</code> if fails</li>\n<li>In bean method layer , it calls <code>ExecutableValidator#validateParameters()</code> and throw <code>ConstraintViolationException</code> if fails.</li>\n</ul>\n<p>For the entities list case, the problem is Bean Validation does not works for <code>Validator#validate(List&lt;TestEntity&gt; testEntities)</code> (p.s. not sure why but I guess it is not supported). So actually no validation happens on the controller layer and the validation finally take place on the bean method layer which throws <code>ConstraintViolationException</code>.</p>\n<p>To make <code>Validator#validate(List&lt;TestEntity&gt; testEntities)</code> work , you can wrap the list into a wrapper object . Note that you also need to annotate <code>@Valid</code> in the List 's type argument :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestEntityListWrapper {\n\n    public List&lt;@Valid TestEntity&gt; entities = new ArrayList&lt;&gt;();\n\n    public TestEntityListWrapper(){\n\n    }\n\n    @JsonCreator(mode = JsonCreator.Mode.DELEGATING)\n    public TestEntityListWrapper(List&lt;TestEntity&gt; entities){\n        this.entities = entities;\n    }\n}\n\n@PostMapping(path = &quot;/test-entities&quot;)\npublic ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody TestEntityListWrapper testEntities) {\n\n}\n\n</code></pre>\n<p>Then it will throw <code>MethodArgumentNotValidException</code> for both case.</p>\n<p>Or if you want both of them throw <code>ConstraintViolationExceptions</code> , you can refer to my answers at <a href=\"https://stackoverflow.com/a/69692047/339637\">here</a> to disable the Bean Validation in controller layer :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestController{\n\n    @InitBinder\n    public void initBinder(WebDataBinder binder) {\n        binder.setValidator(null);\n   }\n\n  @PostMapping(path = &quot;/test-entities&quot;)\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody List&lt;TestEntity&gt; testEntities) {\n\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":24831761,"reputation":144,"user_id":18710872,"display_name":"void"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75623536,"answer_count":1,"score":1,"last_activity_date":1677837251,"creation_date":1677752992,"question_id":75614175,"body_markdown":"I am currently struggling with seemingly inconsistent behavior when dealing with request body validation in Spring REST Controllers.\r\n\r\nValidation of singular entities result in a `MethodArgumentNotValidException`. Validation of Collections of the same entity class result in a `ConstraintViolationException`. My understanding is that the `MethodArgumentNotValidException` is the expected result during handling of Spring REST controllers, while `ConstraintViolationException`s are expected when Bean validation is done by Hibernate or other frameworks. However, in this case both occur while validating `@RequestBody` annotated entities.\r\n\r\nIs there an explanation for this inconsistency? Furthermore, can I unify application behavior in any way? Handling of two different exception types translating validation exceptions completely differently is not ideal.\r\n\r\n\r\n_Example:_\r\n\r\n**Controller:**\r\n\r\n```\r\n@Validated\r\n@RestController\r\n@Slf4j\r\npublic class TestController {\r\n\r\n  @PostMapping(path = &quot;/test-entities&quot;)\r\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody List&lt;TestEntity&gt; testEntities) {\r\n    log.info(&quot;Received: {}&quot;, testEntities);\r\n    return ResponseEntity.noContent()\r\n        .build();\r\n  }\r\n\r\n  @PostMapping(path = &quot;/test-entity&quot;)\r\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody TestEntity testEntity) {\r\n    log.info(&quot;Received {}&quot;, testEntity);\r\n    return ResponseEntity.noContent()\r\n        .build();\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Test Entity:**\r\n```\r\n@Data\r\npublic class TestEntity {\r\n  @NotEmpty String foo;\r\n}\r\n```\r\n\r\n**Controller Advice:**\r\n```\r\n@ControllerAdvice\r\npublic class TestControllerAdvice {\r\n\r\n  @ExceptionHandler(Exception.class)\r\n  ResponseEntity&lt;String&gt; handleException(Exception exception) {\r\n    return ResponseEntity.badRequest()\r\n        .body(exception.getClass().getSimpleName());\r\n  }\r\n\r\n}\r\n```\r\n\r\n**Test of Described Behavior**\r\n```\r\n@WebMvcTest(controllers = TestController.class)\r\nclass ValidationExceptionsIssueApplicationTests {\r\n\r\n  @Autowired\r\n  MockMvc mockMvc;\r\n\r\n  String expectedException = MethodArgumentNotValidException.class.getSimpleName();\r\n\r\n  @Test\r\n  void assertThatNoExceptionIsReturned() throws Exception {\r\n    mockMvc.perform(post(&quot;/test-entities&quot;)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(&quot;&quot;&quot;\r\n                [\r\n                  {&quot;foo&quot;: &quot;bar&quot;}\r\n                ]\r\n                &quot;&quot;&quot;))\r\n        .andExpect(status().isNoContent());\r\n  }\r\n\r\n  @Test\r\n  void whenSingleEntityIsSent_thenMethodArgumentNotValidExceptionIsThrown() throws Exception {\r\n    mockMvc.perform(post(&quot;/test-entity&quot;)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(&quot;&quot;&quot;\r\n                  {&quot;foo&quot;: &quot;&quot;}\r\n                &quot;&quot;&quot;))\r\n        .andExpectAll(\r\n            status().isBadRequest(),\r\n            content().string(expectedException)\r\n        );\r\n  }\r\n\r\n  @Test\r\n  void whenArrayOfEntitiesAreSent_thenMethodArgumentNotValidExceptionIsThrown() throws Exception {\r\n    mockMvc.perform(post(&quot;/test-entities&quot;)\r\n            .contentType(MediaType.APPLICATION_JSON)\r\n            .content(&quot;&quot;&quot;\r\n                [\r\n                  {&quot;foo&quot;: &quot;&quot;}\r\n                ]\r\n                &quot;&quot;&quot;))\r\n        .andExpectAll(\r\n            status().isBadRequest(),\r\n            content().string(expectedException) // &lt;-- fails\r\n        );\r\n  }\r\n\r\n}\r\n```","title":"Inconsistent Validation Exception Types in Spring Web REST Controllers when handling Lists and Single Entities","body":"<p>I am currently struggling with seemingly inconsistent behavior when dealing with request body validation in Spring REST Controllers.</p>\n<p>Validation of singular entities result in a <code>MethodArgumentNotValidException</code>. Validation of Collections of the same entity class result in a <code>ConstraintViolationException</code>. My understanding is that the <code>MethodArgumentNotValidException</code> is the expected result during handling of Spring REST controllers, while <code>ConstraintViolationException</code>s are expected when Bean validation is done by Hibernate or other frameworks. However, in this case both occur while validating <code>@RequestBody</code> annotated entities.</p>\n<p>Is there an explanation for this inconsistency? Furthermore, can I unify application behavior in any way? Handling of two different exception types translating validation exceptions completely differently is not ideal.</p>\n<p><em>Example:</em></p>\n<p><strong>Controller:</strong></p>\n<pre><code>@Validated\n@RestController\n@Slf4j\npublic class TestController {\n\n  @PostMapping(path = &quot;/test-entities&quot;)\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody List&lt;TestEntity&gt; testEntities) {\n    log.info(&quot;Received: {}&quot;, testEntities);\n    return ResponseEntity.noContent()\n        .build();\n  }\n\n  @PostMapping(path = &quot;/test-entity&quot;)\n  public ResponseEntity&lt;Void&gt; saveTestEntity(@Valid @RequestBody TestEntity testEntity) {\n    log.info(&quot;Received {}&quot;, testEntity);\n    return ResponseEntity.noContent()\n        .build();\n  }\n\n}\n</code></pre>\n<p><strong>Test Entity:</strong></p>\n<pre><code>@Data\npublic class TestEntity {\n  @NotEmpty String foo;\n}\n</code></pre>\n<p><strong>Controller Advice:</strong></p>\n<pre><code>@ControllerAdvice\npublic class TestControllerAdvice {\n\n  @ExceptionHandler(Exception.class)\n  ResponseEntity&lt;String&gt; handleException(Exception exception) {\n    return ResponseEntity.badRequest()\n        .body(exception.getClass().getSimpleName());\n  }\n\n}\n</code></pre>\n<p><strong>Test of Described Behavior</strong></p>\n<pre><code>@WebMvcTest(controllers = TestController.class)\nclass ValidationExceptionsIssueApplicationTests {\n\n  @Autowired\n  MockMvc mockMvc;\n\n  String expectedException = MethodArgumentNotValidException.class.getSimpleName();\n\n  @Test\n  void assertThatNoExceptionIsReturned() throws Exception {\n    mockMvc.perform(post(&quot;/test-entities&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(&quot;&quot;&quot;\n                [\n                  {&quot;foo&quot;: &quot;bar&quot;}\n                ]\n                &quot;&quot;&quot;))\n        .andExpect(status().isNoContent());\n  }\n\n  @Test\n  void whenSingleEntityIsSent_thenMethodArgumentNotValidExceptionIsThrown() throws Exception {\n    mockMvc.perform(post(&quot;/test-entity&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(&quot;&quot;&quot;\n                  {&quot;foo&quot;: &quot;&quot;}\n                &quot;&quot;&quot;))\n        .andExpectAll(\n            status().isBadRequest(),\n            content().string(expectedException)\n        );\n  }\n\n  @Test\n  void whenArrayOfEntitiesAreSent_thenMethodArgumentNotValidExceptionIsThrown() throws Exception {\n    mockMvc.perform(post(&quot;/test-entities&quot;)\n            .contentType(MediaType.APPLICATION_JSON)\n            .content(&quot;&quot;&quot;\n                [\n                  {&quot;foo&quot;: &quot;&quot;}\n                ]\n                &quot;&quot;&quot;))\n        .andExpectAll(\n            status().isBadRequest(),\n            content().string(expectedException) // &lt;-- fails\n        );\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring","apache-nifi"],"owner":{"account_id":4612522,"reputation":117,"user_id":3740148,"display_name":"user3740148"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677837046,"creation_date":1677837046,"question_id":75625513,"body_markdown":"I&#39;m writing a custom reporting task where I need access to `org.apache.nifi.controller.FlowController`. The final aim is to get access to `ProvenanceRepository` with which I&#39;ll be able to perform read operations. \r\n\r\nIn short, I need some way to access `WriteAheadProvenanceRepository` in custom processors and reporting tasks.","title":"How can I load NiFi beans into my Reporting task or processor?","body":"<p>I'm writing a custom reporting task where I need access to <code>org.apache.nifi.controller.FlowController</code>. The final aim is to get access to <code>ProvenanceRepository</code> with which I'll be able to perform read operations.</p>\n<p>In short, I need some way to access <code>WriteAheadProvenanceRepository</code> in custom processors and reporting tasks.</p>\n"},{"tags":["java","or-tools"],"answers":[{"comments":[{"owner":{"account_id":8787872,"reputation":729,"user_id":6569059,"accept_rate":83,"display_name":"Muz"},"score":0,"creation_date":1623228465,"post_id":67900522,"comment_id":120016422,"body_markdown":"I can not import com.google.ortools if adding the link&#39;s dependency to the pom file.","body":"I can not import com.google.ortools if adding the link&#39;s dependency to the pom file."},{"owner":{"account_id":7517199,"reputation":8382,"user_id":5710233,"display_name":"Mizux"},"score":0,"creation_date":1623229303,"post_id":67900522,"comment_id":120016781,"body_markdown":"well, did you know last maven install plugin 3.0.0-M1 can read the pom.xml inside the archive ? I&#39;m not sure renaming like you did the group and artifact id will work...\nsee https://github.com/or-tools/java_or-tools","body":"well, did you know last maven install plugin 3.0.0-M1 can read the pom.xml inside the archive ? I&#39;m not sure renaming like you did the group and artifact id will work... see <a href=\"https://github.com/or-tools/java_or-tools\" rel=\"nofollow noreferrer\">github.com/or-tools/java_or-tools</a>"},{"owner":{"account_id":8787872,"reputation":729,"user_id":6569059,"accept_rate":83,"display_name":"Muz"},"score":0,"creation_date":1623233960,"post_id":67900522,"comment_id":120018876,"body_markdown":"It is correct in pom file, meaning that the program can download the given dependency. But the ortools can not import ortools in code.","body":"It is correct in pom file, meaning that the program can download the given dependency. But the ortools can not import ortools in code."},{"owner":{"account_id":8787872,"reputation":729,"user_id":6569059,"accept_rate":83,"display_name":"Muz"},"score":1,"creation_date":1623766338,"post_id":67900522,"comment_id":120168269,"body_markdown":"Solved by using System.load(&quot;xxx\\\\jniortools.dll&quot;), jniortools.dll comes from one of the ortools jars.","body":"Solved by using System.load(&quot;xxx\\\\jniortools.dll&quot;), jniortools.dll comes from one of the ortools jars."}],"tags":[],"owner":{"account_id":7517199,"reputation":8382,"user_id":5710233,"display_name":"Mizux"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623227887,"creation_date":1623227887,"answer_id":67900522,"question_id":67899874,"body_markdown":"The official artifacts are:  \r\ngroupe: com.google.ortools, artifact: ortools-java\r\n\r\nhttps://search.maven.org/artifact/com.google.ortools/ortools-java/9.0.9048/jar","title":"Can not execute jar of ortools project, Loader.loadNativeLibraries() errors","body":"<p>The official artifacts are:<br />\ngroupe: com.google.ortools, artifact: ortools-java</p>\n<p><a href=\"https://search.maven.org/artifact/com.google.ortools/ortools-java/9.0.9048/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/com.google.ortools/ortools-java/9.0.9048/jar</a></p>\n"},{"comments":[{"owner":{"account_id":4229586,"reputation":590,"user_id":3462243,"accept_rate":100,"display_name":"uncle bob"},"score":0,"creation_date":1633711374,"post_id":68111047,"comment_id":122841273,"body_markdown":"thanks, it work perfect on my macos.","body":"thanks, it work perfect on my macos."},{"owner":{"account_id":2598127,"reputation":63,"user_id":2251286,"display_name":"Mohamed Sabri Rauf"},"score":0,"creation_date":1692390992,"post_id":68111047,"comment_id":135621674,"body_markdown":"Thank you it worked. FYI for windows the file name was &#39;jniortools.dll&#39;. Found the file from my own build jar (Extracted it)","body":"Thank you it worked. FYI for windows the file name was &#39;jniortools.dll&#39;. Found the file from my own build jar (Extracted it)"}],"tags":[],"owner":{"account_id":8787872,"reputation":729,"user_id":6569059,"accept_rate":83,"display_name":"Muz"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1624530413,"creation_date":1624518444,"answer_id":68111047,"question_id":67899874,"body_markdown":"An example of Mac version.\r\n\r\nYou need two jars when using ortools in Java actually, `ortools-java-9.0.9048.jar` and `ortools-darwin-x86-64-9.0.9048.jar`. The two jar is unzipped from the official file and they are in the main directory.\r\n\r\n`ortools-java-9.0.9048.jar` is the algorithm package which you do not need to care to much. Adding dependency to your program is all of you need to do.\r\n\r\nThe key is the `ortools-darwin-x86-64-9.0.9048.jar`. The following code is to read this jar to finally call the algorithm in `ortools-java-9.0.9048.jar`:\r\n```\r\nimport com.google.ortools.Loader;\r\nLoader.loadNativeLibraries();\r\n```\r\n\r\nIt usually works well in IDEA. But when you package the code to a jar file, error happens because of `Loader.loadNativeLibraries();` can not find the file in the `ortools-darwin-x86-64-9.0.9048.jar`.\r\n\r\nThe solution is to unzip `ortools-darwin-x86-64-9.0.9048.jar` and get the absolute path of `libjniortools.dylib`(if you are using linux, it will be a file similar as `libjniortools.so` and a file similar as `libjniortools.dll` in Windows). And using the following code instead of `Loader.loadNativeLibraries();`\r\n```\r\nSystem.load(&quot;Absolute path/libjniortools.dylib&quot;);\r\n```\r\n\r\nIt will work after you package your code by this method.","title":"Can not execute jar of ortools project, Loader.loadNativeLibraries() errors","body":"<p>An example of Mac version.</p>\n<p>You need two jars when using ortools in Java actually, <code>ortools-java-9.0.9048.jar</code> and <code>ortools-darwin-x86-64-9.0.9048.jar</code>. The two jar is unzipped from the official file and they are in the main directory.</p>\n<p><code>ortools-java-9.0.9048.jar</code> is the algorithm package which you do not need to care to much. Adding dependency to your program is all of you need to do.</p>\n<p>The key is the <code>ortools-darwin-x86-64-9.0.9048.jar</code>. The following code is to read this jar to finally call the algorithm in <code>ortools-java-9.0.9048.jar</code>:</p>\n<pre><code>import com.google.ortools.Loader;\nLoader.loadNativeLibraries();\n</code></pre>\n<p>It usually works well in IDEA. But when you package the code to a jar file, error happens because of <code>Loader.loadNativeLibraries();</code> can not find the file in the <code>ortools-darwin-x86-64-9.0.9048.jar</code>.</p>\n<p>The solution is to unzip <code>ortools-darwin-x86-64-9.0.9048.jar</code> and get the absolute path of <code>libjniortools.dylib</code>(if you are using linux, it will be a file similar as <code>libjniortools.so</code> and a file similar as <code>libjniortools.dll</code> in Windows). And using the following code instead of <code>Loader.loadNativeLibraries();</code></p>\n<pre><code>System.load(&quot;Absolute path/libjniortools.dylib&quot;);\n</code></pre>\n<p>It will work after you package your code by this method.</p>\n"},{"tags":[],"owner":{"account_id":4229586,"reputation":590,"user_id":3462243,"accept_rate":100,"display_name":"uncle bob"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633711466,"creation_date":1633711466,"answer_id":69499213,"question_id":67899874,"body_markdown":"For macOS, you can try this code, similar like @Muz solution\r\n\r\n```java\r\npublic static void loadOrToolLibrary() {\r\n        String os = System.getProperty(&quot;os.name&quot;, &quot;generic&quot;).toLowerCase(Locale.ENGLISH);\r\n        if (os.equals(&quot;mac os x&quot;)) { // only for MAC local\r\n            File file = new File(&quot;src/main/resources/macosLocal/libjniortools.dylib&quot;);\r\n            String absolutePath = file.getAbsolutePath();\r\n            System.load(absolutePath);\r\n        } else {\r\n            Loader.loadNativeLibraries();\r\n        }\r\n    }\r\n\r\n```","title":"Can not execute jar of ortools project, Loader.loadNativeLibraries() errors","body":"<p>For macOS, you can try this code, similar like @Muz solution</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void loadOrToolLibrary() {\n        String os = System.getProperty(&quot;os.name&quot;, &quot;generic&quot;).toLowerCase(Locale.ENGLISH);\n        if (os.equals(&quot;mac os x&quot;)) { // only for MAC local\n            File file = new File(&quot;src/main/resources/macosLocal/libjniortools.dylib&quot;);\n            String absolutePath = file.getAbsolutePath();\n            System.load(absolutePath);\n        } else {\n            Loader.loadNativeLibraries();\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":8787872,"reputation":729,"user_id":6569059,"accept_rate":83,"display_name":"Muz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1709,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":68111047,"answer_count":3,"score":4,"last_activity_date":1677836437,"creation_date":1623225253,"question_id":67899874,"body_markdown":"After mvn install to generate jar. Can not Loader.loadNativeLibraries() on windows.\r\n\r\nThe version of ortools is 9.0.9048. I used it on windows.\r\nI added the following two jar to the project and I added them as the [link][1] said.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen the two jar is in here of the IDEA.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\nThe pom file is the following:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThen I can run the program normally in IDEA. But when I mvn install to generate the jar file and run the jar by &#39;java -jar jarfile.jar&#39;, it errors as:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nIt said java.nio.file.NoSuchFileException: /BOOT-INF/lib/ortools-win32-9.0.jar!/win32-x86-64/, but when I open the jar in winrar, it exists.\r\n\r\n[![enter image description here][6]][6]\r\n\r\nDoes anyone know the reason?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\r\n  [2]: https://i.stack.imgur.com/9ZNUW.png\r\n  [3]: https://i.stack.imgur.com/HZG9M.png\r\n  [4]: https://i.stack.imgur.com/rLMiZ.png\r\n  [5]: https://i.stack.imgur.com/vdxwe.png\r\n  [6]: https://i.stack.imgur.com/3dkoc.png","title":"Can not execute jar of ortools project, Loader.loadNativeLibraries() errors","body":"<p>After mvn install to generate jar. Can not Loader.loadNativeLibraries() on windows.</p>\n<p>The version of ortools is 9.0.9048. I used it on windows.\nI added the following two jar to the project and I added them as the <a href=\"https://stackoverflow.com/questions/4955635/how-to-add-local-jar-files-to-a-maven-project\">link</a> said.</p>\n<p><a href=\"https://i.stack.imgur.com/9ZNUW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ZNUW.png\" alt=\"enter image description here\" /></a></p>\n<p>Then the two jar is in here of the IDEA.</p>\n<p><a href=\"https://i.stack.imgur.com/HZG9M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HZG9M.png\" alt=\"enter image description here\" /></a></p>\n<p>The pom file is the following:</p>\n<p><a href=\"https://i.stack.imgur.com/rLMiZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rLMiZ.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I can run the program normally in IDEA. But when I mvn install to generate the jar file and run the jar by 'java -jar jarfile.jar', it errors as:</p>\n<p><a href=\"https://i.stack.imgur.com/vdxwe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vdxwe.png\" alt=\"enter image description here\" /></a></p>\n<p>It said java.nio.file.NoSuchFileException: /BOOT-INF/lib/ortools-win32-9.0.jar!/win32-x86-64/, but when I open the jar in winrar, it exists.</p>\n<p><a href=\"https://i.stack.imgur.com/3dkoc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3dkoc.png\" alt=\"enter image description here\" /></a></p>\n<p>Does anyone know the reason?</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677836426,"creation_date":1677836426,"answer_id":75625410,"question_id":75625330,"body_markdown":"Spring Boot&#39;s Gradle plugin requires Java 17. This means that Gradle itself needs to be run using Java 17 as plugin classes are loaded in Gradle&#39;s JVM. Toolchain&#39;s only affect tasks that run in a separate JVM such as Java compilation and running tests.","title":"Gradle toolchain resolver plugin doesn&#39;t download jdk17 for a spring boot 3 project","body":"<p>Spring Boot's Gradle plugin requires Java 17. This means that Gradle itself needs to be run using Java 17 as plugin classes are loaded in Gradle's JVM. Toolchain's only affect tasks that run in a separate JVM such as Java compilation and running tests.</p>\n"}],"owner":{"account_id":2416760,"reputation":372,"user_id":2110620,"display_name":"cesarse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2557,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75625410,"answer_count":1,"score":1,"last_activity_date":1677836426,"creation_date":1677835831,"question_id":75625330,"body_markdown":"It seems spring boot gradle plugin version 3.x is not working with the toolchain resolver plugin under jdk8.\r\nThis simple *build.gradle*:\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.0.3&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n    }\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    }\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    sourceCompatibility = 17\r\n    targetCompatibility = 17\r\n    java {\r\n        toolchain {\r\n            languageVersion = JavaLanguageVersion.of(17)\r\n        }\r\n    }\r\n\r\nAlong with this simple *settings.gradle*:\r\n\r\n    plugins {\r\n        id &#39;org.gradle.toolchains.foojay-resolver-convention&#39; version &#39;0.4.0&#39; \r\n    }\r\n    rootProject.name = &#39;myAwesomeProject&#39;\r\n\r\nFail with the following error when running a simple *gradle build*:\r\n&lt;pre&gt;&lt;font color=&quot;#C01C28&quot;&gt;FAILURE: Build failed with an exception.&lt;/font&gt;\r\n\r\n* What went wrong:\r\nA problem occurred configuring root project &amp;apos;myAwesomeProject&amp;apos;.\r\n&lt;font color=&quot;#A2734C&quot;&gt;&amp;gt; &lt;/font&gt;Could not resolve all files for configuration &amp;apos;:classpath&amp;apos;.\r\n   &lt;font color=&quot;#A2734C&quot;&gt;&amp;gt; &lt;/font&gt;Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.3.\r\n     Required by:\r\n         project : &amp;gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.3\r\n      &lt;font color=&quot;#A2734C&quot;&gt;&amp;gt; &lt;/font&gt;No matching variant of &lt;font color=&quot;#A2734C&quot;&gt;org.springframework.boot:spring-boot-gradle-plugin:3.0.3&lt;/font&gt; was found. The consumer was configured to find &lt;b&gt;a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &amp;apos;org.gradle.plugin.api-version&amp;apos; with value &amp;apos;8.0.1&amp;apos;&lt;/b&gt; but:\r\n          - Variant &amp;apos;apiElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a library, packaged as a jar, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component for use during compile-time, compatible with Java 17&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component for use during runtime, compatible with Java 8&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attribute:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;javadocElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a component for use during runtime, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;documentation&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a library&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attributes:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;its target Java version (required compatibility with Java 8)&lt;/font&gt;\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;its elements (required them packaged as a jar)&lt;/font&gt;\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;mavenOptionalApiElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a library, packaged as a jar, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component for use during compile-time, compatible with Java 17&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component for use during runtime, compatible with Java 8&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attribute:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;mavenOptionalRuntimeElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a library for use during runtime, packaged as a jar, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component, compatible with Java 17&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component, compatible with Java 8&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attribute:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;runtimeElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a library for use during runtime, packaged as a jar, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component, compatible with Java 17&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a component, compatible with Java 8&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attribute:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n          - Variant &amp;apos;sourcesElements&amp;apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares &lt;font color=&quot;#26A269&quot;&gt;&lt;b&gt;a component for use during runtime, and its dependencies declared externally&lt;/b&gt;&lt;/font&gt;:\r\n              - Incompatible because this component declares &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;documentation&lt;/b&gt;&lt;/font&gt; and the consumer needed &lt;font color=&quot;#C01C28&quot;&gt;&lt;b&gt;a library&lt;/b&gt;&lt;/font&gt;\r\n              - Other compatible attributes:\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;its target Java version (required compatibility with Java 8)&lt;/font&gt;\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;its elements (required them packaged as a jar)&lt;/font&gt;\r\n                  - Doesn&amp;apos;t say anything about &lt;font color=&quot;#A2734C&quot;&gt;org.gradle.plugin.api-version (required &amp;apos;8.0.1&amp;apos;)&lt;/font&gt;\r\n&lt;/pre&gt;\r\nIf I downgrade the spring boot version to 2.7.9 then jdk17 is downloaded and everything works as expected.\r\n\r\nAm I missing something? I know spring boot 3.x requires jdk17, that&#39;s why I&#39;m using the toolchain resolver.\r\n\r\nThere&#39;s a plugin called *com.github.rmee.jdk-bootstrap* that works, I just prefer using the toolchain due to its simplicity (like not having to deal with URLs).\r\n\r\nIf it&#39;s a bug, what plugin project should I open a bug ticket to?","title":"Gradle toolchain resolver plugin doesn&#39;t download jdk17 for a spring boot 3 project","body":"<p>It seems spring boot gradle plugin version 3.x is not working with the toolchain resolver plugin under jdk8.\nThis simple <em>build.gradle</em>:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.3'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n}\ntest {\n    useJUnitPlatform()\n}\nsourceCompatibility = 17\ntargetCompatibility = 17\njava {\n    toolchain {\n        languageVersion = JavaLanguageVersion.of(17)\n    }\n}\n</code></pre>\n<p>Along with this simple <em>settings.gradle</em>:</p>\n<pre><code>plugins {\n    id 'org.gradle.toolchains.foojay-resolver-convention' version '0.4.0' \n}\nrootProject.name = 'myAwesomeProject'\n</code></pre>\n<p>Fail with the following error when running a simple <em>gradle build</em>:</p>\n<pre>FAILURE: Build failed with an exception.\n\n* What went wrong:\nA problem occurred configuring root project &apos;myAwesomeProject&apos;.\n&gt; Could not resolve all files for configuration &apos;:classpath&apos;.\n   &gt; Could not resolve org.springframework.boot:spring-boot-gradle-plugin:3.0.3.\n     Required by:\n         project : &gt; org.springframework.boot:org.springframework.boot.gradle.plugin:3.0.3\n      &gt; No matching variant of org.springframework.boot:spring-boot-gradle-plugin:3.0.3 was found. The consumer was configured to find <b>a library for use during runtime, compatible with Java 8, packaged as a jar, and its dependencies declared externally, as well as attribute &apos;org.gradle.plugin.api-version&apos; with value &apos;8.0.1&apos;</b> but:\n          - Variant &apos;apiElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares <b>a library, packaged as a jar, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>a component for use during compile-time, compatible with Java 17</b> and the consumer needed <b>a component for use during runtime, compatible with Java 8</b>\n              - Other compatible attribute:\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;javadocElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares <b>a component for use during runtime, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>documentation</b> and the consumer needed <b>a library</b>\n              - Other compatible attributes:\n                  - Doesn&apos;t say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn&apos;t say anything about its elements (required them packaged as a jar)\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;mavenOptionalApiElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.3 declares <b>a library, packaged as a jar, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>a component for use during compile-time, compatible with Java 17</b> and the consumer needed <b>a component for use during runtime, compatible with Java 8</b>\n              - Other compatible attribute:\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;mavenOptionalRuntimeElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin-maven-optional:3.0.3 declares <b>a library for use during runtime, packaged as a jar, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>a component, compatible with Java 17</b> and the consumer needed <b>a component, compatible with Java 8</b>\n              - Other compatible attribute:\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;runtimeElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares <b>a library for use during runtime, packaged as a jar, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>a component, compatible with Java 17</b> and the consumer needed <b>a component, compatible with Java 8</b>\n              - Other compatible attribute:\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n          - Variant &apos;sourcesElements&apos; capability org.springframework.boot:spring-boot-gradle-plugin:3.0.3 declares <b>a component for use during runtime, and its dependencies declared externally</b>:\n              - Incompatible because this component declares <b>documentation</b> and the consumer needed <b>a library</b>\n              - Other compatible attributes:\n                  - Doesn&apos;t say anything about its target Java version (required compatibility with Java 8)\n                  - Doesn&apos;t say anything about its elements (required them packaged as a jar)\n                  - Doesn&apos;t say anything about org.gradle.plugin.api-version (required &apos;8.0.1&apos;)\n</pre>\n<p>If I downgrade the spring boot version to 2.7.9 then jdk17 is downloaded and everything works as expected.</p>\n<p>Am I missing something? I know spring boot 3.x requires jdk17, that's why I'm using the toolchain resolver.</p>\n<p>There's a plugin called <em>com.github.rmee.jdk-bootstrap</em> that works, I just prefer using the toolchain due to its simplicity (like not having to deal with URLs).</p>\n<p>If it's a bug, what plugin project should I open a bug ticket to?</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":15254316,"reputation":1,"user_id":16007661,"display_name":"Serhio Duran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677835661,"creation_date":1677831226,"question_id":75624624,"body_markdown":"I work with grid elastic search, I need to find point with filter\r\n\r\nI use filter in box bounds and return one count\r\n\r\n![One count in point][1]\r\n\r\n\r\nMy query: \r\n\r\n    {\r\n      &quot;aggregations&quot;: {\r\n        &quot;zoomed-in&quot;: {\r\n          &quot;filter&quot;: {\r\n            &quot;geo_bounding_box&quot;: {\r\n              &quot;location.geoPoint&quot;: {\r\n                &quot;top_left&quot;: &quot;POINT(32.30286760546873 56.77911060795688)&quot;,\r\n                &quot;bottom_right&quot;: &quot;POINT(39.57581682421874 54.15904692548514)&quot;\r\n              }\r\n            }\r\n          },\r\n          &quot;aggregations&quot;: {\r\n            &quot;zoom1&quot;: {\r\n              &quot;geohash_grid&quot;: {\r\n                &quot;field&quot;: &quot;location.geoPoint&quot;,\r\n                &quot;precision&quot;: 5\r\n              }\r\n            }\r\n          }\r\n        }\r\n      },\r\n      &quot;query&quot;: {\r\n        &quot;bool&quot;: {\r\n          &quot;should&quot;: [\r\n            {\r\n              &quot;match&quot;: {\r\n                &quot;categoryId&quot;: &quot;16&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nBut if I get this point I have 4 elements\r\n\r\n![Read by hash][2]\r\n\r\n\r\nHow I need add filter in query, or that I need to do that I can return one element in point.\r\n\r\nMaybe query I want to see, but its not work:\r\n\r\n![Not correct query][3]\r\n\r\n    {\r\n      &quot;query&quot;: {\r\n        &quot;geo_grid&quot;: {\r\n          &quot;location.geoPoint&quot;: {\r\n            &quot;geohash&quot;: &quot;ucftp&quot;\r\n          }\r\n        },\r\n        &quot;bool&quot;: {\r\n          &quot;filter&quot;: [\r\n            {\r\n              &quot;term&quot;: {\r\n                &quot;categoryId&quot;: &quot;16&quot;\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HBg6X.png\r\n  [2]: https://i.stack.imgur.com/8ZbI8.png\r\n  [3]: https://i.stack.imgur.com/cle53.png","title":"How I can use geo grid with filter query? (Elasticsearch)","body":"<p>I work with grid elastic search, I need to find point with filter</p>\n<p>I use filter in box bounds and return one count</p>\n<p><img src=\"https://i.stack.imgur.com/HBg6X.png\" alt=\"One count in point\" /></p>\n<p>My query:</p>\n<pre><code>{\n  &quot;aggregations&quot;: {\n    &quot;zoomed-in&quot;: {\n      &quot;filter&quot;: {\n        &quot;geo_bounding_box&quot;: {\n          &quot;location.geoPoint&quot;: {\n            &quot;top_left&quot;: &quot;POINT(32.30286760546873 56.77911060795688)&quot;,\n            &quot;bottom_right&quot;: &quot;POINT(39.57581682421874 54.15904692548514)&quot;\n          }\n        }\n      },\n      &quot;aggregations&quot;: {\n        &quot;zoom1&quot;: {\n          &quot;geohash_grid&quot;: {\n            &quot;field&quot;: &quot;location.geoPoint&quot;,\n            &quot;precision&quot;: 5\n          }\n        }\n      }\n    }\n  },\n  &quot;query&quot;: {\n    &quot;bool&quot;: {\n      &quot;should&quot;: [\n        {\n          &quot;match&quot;: {\n            &quot;categoryId&quot;: &quot;16&quot;\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n<p>But if I get this point I have 4 elements</p>\n<p><img src=\"https://i.stack.imgur.com/8ZbI8.png\" alt=\"Read by hash\" /></p>\n<p>How I need add filter in query, or that I need to do that I can return one element in point.</p>\n<p>Maybe query I want to see, but its not work:</p>\n<p><img src=\"https://i.stack.imgur.com/cle53.png\" alt=\"Not correct query\" /></p>\n<pre><code>{\n  &quot;query&quot;: {\n    &quot;geo_grid&quot;: {\n      &quot;location.geoPoint&quot;: {\n        &quot;geohash&quot;: &quot;ucftp&quot;\n      }\n    },\n    &quot;bool&quot;: {\n      &quot;filter&quot;: [\n        {\n          &quot;term&quot;: {\n            &quot;categoryId&quot;: &quot;16&quot;\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","ehcache","spring-cache"],"answers":[{"comments":[{"owner":{"account_id":1557463,"reputation":354,"user_id":1448121,"accept_rate":29,"display_name":"JayabalanAaron"},"score":0,"creation_date":1403173068,"post_id":24301241,"comment_id":37560199,"body_markdown":"Could the order of compiling the @Cacheable annotated classes be a problem, ie when I compile from eclipse, its the last class to be compiled?","body":"Could the order of compiling the @Cacheable annotated classes be a problem, ie when I compile from eclipse, its the last class to be compiled?"},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1403175996,"post_id":24301241,"comment_id":37561990,"body_markdown":"The order is likely to be of no concern. Please check your Maven configuration for Java compilation without debugging information; you might want to post the relevant bits here.","body":"The order is likely to be of no concern. Please check your Maven configuration for Java compilation without debugging information; you might want to post the relevant bits here."},{"owner":{"account_id":1557463,"reputation":354,"user_id":1448121,"accept_rate":29,"display_name":"JayabalanAaron"},"score":0,"creation_date":1403179958,"post_id":24301241,"comment_id":37564296,"body_markdown":"My pom compiler config had debug:false, added debug:true and it works after maven build, updated post. Have jdk=7u55(IcedTea 2.4.7)64bit on linux.","body":"My pom compiler config had debug:false, added debug:true and it works after maven build, updated post. Have jdk=7u55(IcedTea 2.4.7)64bit on linux."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1403183020,"post_id":24301241,"comment_id":37566227,"body_markdown":"Thats not a work-around, thats the solution. SpEL cannot access arguments by name if that information is not available. You need at least `-g:vars`.","body":"Thats not a work-around, thats the solution. SpEL cannot access arguments by name if that information is not available. You need at least <code>-g:vars</code>."},{"owner":{"account_id":1557463,"reputation":354,"user_id":1448121,"accept_rate":29,"display_name":"JayabalanAaron"},"score":3,"creation_date":1403234608,"post_id":24301241,"comment_id":37589530,"body_markdown":"Thanks, but feel this could have been documented under SpEL. Its strange that this is a requirement but not documented.","body":"Thanks, but feel this could have been documented under SpEL. Its strange that this is a requirement but not documented."},{"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"score":0,"creation_date":1403248291,"post_id":24301241,"comment_id":37593818,"body_markdown":"Once you think it through, it becomes obvious that it cannot be otherwise. However, I agree wholeheartedly that such a pitfall should be mentioned in the documentation.","body":"Once you think it through, it becomes obvious that it cannot be otherwise. However, I agree wholeheartedly that such a pitfall should be mentioned in the documentation."},{"owner":{"account_id":773917,"reputation":2085,"user_id":818316,"accept_rate":68,"display_name":"kabal"},"score":0,"creation_date":1429868840,"post_id":24301241,"comment_id":47814263,"body_markdown":"http://docs.spring.io/spring-framework/docs/3.2.5.RELEASE/spring-framework-reference/htmlsingle/#cache-annotations-cacheable table 29.1 vaguely mentions this","body":"<a href=\"http://docs.spring.io/spring-framework/docs/3.2.5.RELEASE/spring-framework-reference/htmlsingle/#cache-annotations-cacheable\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/3.2.5.RELEASE/&hellip;</a> table 29.1 vaguely mentions this"}],"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1403163655,"creation_date":1403163655,"answer_id":24301241,"question_id":24301074,"body_markdown":"Your description makes one thing clear: It does not work when you compile with `javac`, but it does work with the Eclipse compiler `ecj`. You might be compiling without debugging information.","title":"spring @Cacheable with Ehcache, spel find null for valid object","body":"<p>Your description makes one thing clear: It does not work when you compile with <code>javac</code>, but it does work with the Eclipse compiler <code>ecj</code>. You might be compiling without debugging information.</p>\n"},{"tags":[],"owner":{"account_id":6532574,"reputation":2212,"user_id":5053266,"accept_rate":67,"display_name":"RotS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677835649,"creation_date":1677835649,"answer_id":75625292,"question_id":24301074,"body_markdown":"I was also encountering a `SpelEvaluationException: Field or property &#39;xxx&#39; cannot be found on null` in the Spring Expression Language (SpEL) of my @Cacheable annotation. \r\nI looked in debug mode to ensure that the passed argument was not null, I added a Cacheable condition to ensure its non-nullity, I added @NonNull annotations, so this made no sense that the property was detected as null.\r\n\r\nFor me, the solution was to rename the property in the SpEL of the Cacheable annotation. I then decided to use the lowercase version of the argument&#39;s classname instead of some other name. I think that Spring is not reusing the actual argument name as it is written in the method signature, Spring is making its own assumption about the argument name, by turning the classname into lowercase or something similar.\r\n\r\nThis works:\r\n\r\n    @Cacheable(value = FIND_X_BY_Y_CACHE, key = &quot;#myArgument.id&quot;)\r\n    Object findXByY(MyArgument myArgument); \r\n\r\nThis doesn&#39;t work:\r\n\r\n    @Cacheable(value = FIND_X_BY_Y_CACHE, key = &quot;#anotherName.id&quot;)\r\n    Object findXByY(MyArgument anotherName);","title":"spring @Cacheable with Ehcache, spel find null for valid object","body":"<p>I was also encountering a <code>SpelEvaluationException: Field or property 'xxx' cannot be found on null</code> in the Spring Expression Language (SpEL) of my @Cacheable annotation.\nI looked in debug mode to ensure that the passed argument was not null, I added a Cacheable condition to ensure its non-nullity, I added @NonNull annotations, so this made no sense that the property was detected as null.</p>\n<p>For me, the solution was to rename the property in the SpEL of the Cacheable annotation. I then decided to use the lowercase version of the argument's classname instead of some other name. I think that Spring is not reusing the actual argument name as it is written in the method signature, Spring is making its own assumption about the argument name, by turning the classname into lowercase or something similar.</p>\n<p>This works:</p>\n<pre><code>@Cacheable(value = FIND_X_BY_Y_CACHE, key = &quot;#myArgument.id&quot;)\nObject findXByY(MyArgument myArgument); \n</code></pre>\n<p>This doesn't work:</p>\n<pre><code>@Cacheable(value = FIND_X_BY_Y_CACHE, key = &quot;#anotherName.id&quot;)\nObject findXByY(MyArgument anotherName);\n</code></pre>\n"}],"owner":{"account_id":1557463,"reputation":354,"user_id":1448121,"accept_rate":29,"display_name":"JayabalanAaron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3984,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":24301241,"answer_count":2,"score":2,"last_activity_date":1677835649,"creation_date":1403163021,"question_id":24301074,"body_markdown":"I have a similar [problem][1] which but sometimes it works. The error described only happens once in a while.\r\n\r\nI am using spring 3.2.5 and ehcache 2.6.5.\r\n\r\nException trace:\r\n\r\n    org.springframework.expression.spel.SpelEvaluationException: EL1007E:(pos 0): Field or property &#39;applicationID&#39; cannot be found on null\r\n        \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)\r\n        \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:85)\r\n        \tat org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:43)\r\n        \tat org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:346)\r\n        \tat org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:82)\r\n        \tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:93)\r\n        \tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:89)\r\n        \tat org.springframework.cache.interceptor.ExpressionEvaluator.key(ExpressionEvaluator.java:95)\r\n        \tat org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.generateKey(CacheAspectSupport.java:452)\r\n        \tat org.springframework.cache.interceptor.CacheAspectSupport.inspectCacheables(CacheAspectSupport.java:281)\r\n        \tat org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:199)\r\n        \tat org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:66)\r\n        \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\r\n        \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\r\n        \tat com.sun.proxy.$Proxy85.getMailOrigin(Unknown Source)\r\n        \tat com.myApplication.MailFilterServiceImpl.isValid(ApplicationServiceImpl.java:134)\r\n\r\nMy caching code is a follows:\r\n\r\n    MailFilterServiceImpl\r\n        @Cacheable(value=&quot;mailClientsCache&quot;, key=&quot;#mb.applicationID&quot;)\r\n        \tpublic MailClientBean getMailOrigin(MailBean mb){}\r\n\r\n**When this happens**:\r\nWhen I have a jenkins configured to build and autodeploy to tomcat7 / when I use maven to build in the eclipse WS and deploy to tomcat7.\r\n\r\n**When this works perfectly**:\r\nAfter it has failed once, if I edit the MailFilterServiceImpl.java simply with some spaces to make it recompile in eclipse and restart the tomcat7 server.\r\n\r\nI need to make it work in a CI scenario.\r\n\r\n**[Update]**\r\nSetting compiler option debug:true works around this problem. The optimized doesnt seem to have any say.\r\n\r\n    &lt;debug&gt;true&lt;/debug&gt;\r\n    &lt;optimize&gt;true&lt;/optimize&gt;\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18157058/spring-cacheable-with-spel-key-always-evaluates-to-null/24301049#24301049","title":"spring @Cacheable with Ehcache, spel find null for valid object","body":"<p>I have a similar <a href=\"https://stackoverflow.com/questions/18157058/spring-cacheable-with-spel-key-always-evaluates-to-null/24301049#24301049\">problem</a> which but sometimes it works. The error described only happens once in a while.</p>\n\n<p>I am using spring 3.2.5 and ehcache 2.6.5.</p>\n\n<p>Exception trace:</p>\n\n<pre><code>org.springframework.expression.spel.SpelEvaluationException: EL1007E:(pos 0): Field or property 'applicationID' cannot be found on null\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:213)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:85)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.access$000(PropertyOrFieldReference.java:43)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference$AccessorLValue.getValue(PropertyOrFieldReference.java:346)\n        at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:82)\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:93)\n        at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:89)\n        at org.springframework.cache.interceptor.ExpressionEvaluator.key(ExpressionEvaluator.java:95)\n        at org.springframework.cache.interceptor.CacheAspectSupport$CacheOperationContext.generateKey(CacheAspectSupport.java:452)\n        at org.springframework.cache.interceptor.CacheAspectSupport.inspectCacheables(CacheAspectSupport.java:281)\n        at org.springframework.cache.interceptor.CacheAspectSupport.execute(CacheAspectSupport.java:199)\n        at org.springframework.cache.interceptor.CacheInterceptor.invoke(CacheInterceptor.java:66)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:172)\n        at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:204)\n        at com.sun.proxy.$Proxy85.getMailOrigin(Unknown Source)\n        at com.myApplication.MailFilterServiceImpl.isValid(ApplicationServiceImpl.java:134)\n</code></pre>\n\n<p>My caching code is a follows:</p>\n\n<pre><code>MailFilterServiceImpl\n    @Cacheable(value=\"mailClientsCache\", key=\"#mb.applicationID\")\n        public MailClientBean getMailOrigin(MailBean mb){}\n</code></pre>\n\n<p><strong>When this happens</strong>:\nWhen I have a jenkins configured to build and autodeploy to tomcat7 / when I use maven to build in the eclipse WS and deploy to tomcat7.</p>\n\n<p><strong>When this works perfectly</strong>:\nAfter it has failed once, if I edit the MailFilterServiceImpl.java simply with some spaces to make it recompile in eclipse and restart the tomcat7 server.</p>\n\n<p>I need to make it work in a CI scenario.</p>\n\n<p><strong>[Update]</strong>\nSetting compiler option debug:true works around this problem. The optimized doesnt seem to have any say.</p>\n\n<pre><code>&lt;debug&gt;true&lt;/debug&gt;\n&lt;optimize&gt;true&lt;/optimize&gt;\n</code></pre>\n"},{"tags":["java","crash"],"comments":[{"owner":{"account_id":2678195,"reputation":68091,"user_id":2314073,"accept_rate":56,"display_name":"Juned Ahsan"},"score":1,"creation_date":1424740000,"post_id":28686567,"comment_id":45665591,"body_markdown":"why are u using recursion?","body":"why are u using recursion?"}],"answers":[{"comments":[{"owner":{"account_id":5697247,"reputation":31,"user_id":4503390,"accept_rate":33,"display_name":"Edward Lavaire"},"score":0,"creation_date":1424740518,"post_id":28686643,"comment_id":45665743,"body_markdown":"Forgot to mention it doesn&#39;t require arrays.","body":"Forgot to mention it doesn&#39;t require arrays."},{"owner":{"account_id":1912605,"reputation":317,"user_id":1725984,"display_name":"Brandon"},"score":0,"creation_date":1424740847,"post_id":28686643,"comment_id":45665824,"body_markdown":"OK, then you need to remove the return type from `largeSmall` and remove the recursive call from the end of the function.","body":"OK, then you need to remove the return type from <code>largeSmall</code> and remove the recursive call from the end of the function."}],"tags":[],"owner":{"account_id":1912605,"reputation":317,"user_id":1725984,"display_name":"Brandon"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424740374,"creation_date":1424740374,"answer_id":28686643,"question_id":28686567,"body_markdown":"Your solution is really over-engineered. Just do something like this:\r\n\r\n    public static void main(String [] args)\r\n    {\r\n      Scanner kbd = new Scanner(System.in);\r\n    \r\n      System.out.println(&quot;Enter the first number:&quot;);\r\n      int num1 = kbd.nextInt();\r\n    \r\n      System.out.println(&quot;Enter the second number:&quot;);\r\n      int num2 = kbd.nextInt();\r\n    \r\n      System.out.println(&quot;Enter the three number:&quot;);\r\n      int num3 = kbd.nextInt();\r\n    \r\n      Integer[] arr = new Integer[3]\r\n      arr[0] = num1;\r\n      arr[1] = num2;\r\n      arr[2] = num3;\r\n      Arrays.sort(arr, Collections.reverseOrder());\r\n      System.out.println(arr[0] + &quot; &quot; + arr[1] + &quot; &quot; + arr[2]);\r\n    }   \r\n\r\n ","title":"Program that will output three integers in descending ordrer","body":"<p>Your solution is really over-engineered. Just do something like this:</p>\n\n<pre><code>public static void main(String [] args)\n{\n  Scanner kbd = new Scanner(System.in);\n\n  System.out.println(\"Enter the first number:\");\n  int num1 = kbd.nextInt();\n\n  System.out.println(\"Enter the second number:\");\n  int num2 = kbd.nextInt();\n\n  System.out.println(\"Enter the three number:\");\n  int num3 = kbd.nextInt();\n\n  Integer[] arr = new Integer[3]\n  arr[0] = num1;\n  arr[1] = num2;\n  arr[2] = num3;\n  Arrays.sort(arr, Collections.reverseOrder());\n  System.out.println(arr[0] + \" \" + arr[1] + \" \" + arr[2]);\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5361635,"reputation":31,"user_id":4272708,"display_name":"Christian Hapgood"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1424740670,"creation_date":1424740670,"answer_id":28686684,"question_id":28686567,"body_markdown":"   Looks like you almost had it there. I assume you are a new student. If you just change the method to void (doesn&#39;t require a return value), you will get the answer you need from just calling the method. You had the method and your main both looping through println. I only deleted a few lines and changed the method signature to get it working.\r\n\r\n\r\n    \r\n    \r\n    public class Application {\r\n    \t\r\n    \tpublic void start() {\r\n    \t\t\r\n    \t\t  Scanner kbd = new Scanner(System.in);\r\n    \r\n    \t\t  System.out.println(&quot;Enter the first number:&quot;);\r\n    \t\t  int num1 = kbd.nextInt();\r\n    \r\n    \t\t  System.out.println(&quot;Enter the second number:&quot;);\r\n    \t\t  int num2 = kbd.nextInt();\r\n    \r\n    \t\t  System.out.println(&quot;Enter the three number:&quot;);\r\n    \t\t  int num3 = kbd.nextInt();\r\n    \r\n    \t\t  largeSmall(num1, num2, num3);\r\n    \t\t \r\n    \t\t  }\r\n    \t\t  \r\n    \t\r\n    \t\r\n    \tpublic static void largeSmall(int one, int two, int three)\r\n    \t\t  {\r\n    \t\t  if(one &gt; two &amp;&amp; two &gt; three)\r\n    \t\t  {\r\n    \t\t     System.out.println(one + &quot; &quot; + two + &quot; &quot; + three);\r\n    \t\t  }\r\n    \t\t  else if(two &gt; one &amp;&amp; one &gt; three)\r\n    \t\t  {\r\n    \t\t     System.out.println(two + &quot; &quot; + one + &quot; &quot; + three);\r\n    \t\t  }\r\n    \t\t  else if(three &gt; two &amp;&amp; two &gt; one)\r\n    \t\t  {\r\n    \t\t     System.out.println(three + &quot; &quot; + two + &quot; &quot; + one);\r\n    \t\t  }\r\n    \t\t  else\r\n    \t\t  {\r\n    \t\t     System.out.println(one + &quot; &quot; + three + &quot; &quot; + two);\r\n    \t\t  }\r\n    \t\t  \r\n    \t\t  \r\n    \t\t\r\n    \t}//end start method\r\n    \t\r\n    }//end application class","title":"Program that will output three integers in descending ordrer","body":"<p>Looks like you almost had it there. I assume you are a new student. If you just change the method to void (doesn't require a return value), you will get the answer you need from just calling the method. You had the method and your main both looping through println. I only deleted a few lines and changed the method signature to get it working.</p>\n\n<pre><code>public class Application {\n\n    public void start() {\n\n          Scanner kbd = new Scanner(System.in);\n\n          System.out.println(\"Enter the first number:\");\n          int num1 = kbd.nextInt();\n\n          System.out.println(\"Enter the second number:\");\n          int num2 = kbd.nextInt();\n\n          System.out.println(\"Enter the three number:\");\n          int num3 = kbd.nextInt();\n\n          largeSmall(num1, num2, num3);\n\n          }\n\n\n\n    public static void largeSmall(int one, int two, int three)\n          {\n          if(one &gt; two &amp;&amp; two &gt; three)\n          {\n             System.out.println(one + \" \" + two + \" \" + three);\n          }\n          else if(two &gt; one &amp;&amp; one &gt; three)\n          {\n             System.out.println(two + \" \" + one + \" \" + three);\n          }\n          else if(three &gt; two &amp;&amp; two &gt; one)\n          {\n             System.out.println(three + \" \" + two + \" \" + one);\n          }\n          else\n          {\n             System.out.println(one + \" \" + three + \" \" + two);\n          }\n\n\n\n    }//end start method\n\n}//end application class\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1686251,"reputation":4392,"user_id":1549476,"accept_rate":88,"display_name":"k_g"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424740773,"creation_date":1424740773,"answer_id":28686700,"question_id":28686567,"body_markdown":"`blm`&#39;s solution will work, but I thought it might be useful to know what was wrong with yours. You were constantly calling your same function over and over again. To fix it, do the following\r\n\r\n 1. Change the return type to `void`\r\n 2. Remove the return statement recursion\r\n 3. Replace `int result = largeSmall(num1, num2, num3);\r\n  System.out.println(result);` with `largeSmall(num1, num2 num3);`.","title":"Program that will output three integers in descending ordrer","body":"<p><code>blm</code>'s solution will work, but I thought it might be useful to know what was wrong with yours. You were constantly calling your same function over and over again. To fix it, do the following</p>\n\n<ol>\n<li>Change the return type to <code>void</code></li>\n<li>Remove the return statement recursion</li>\n<li>Replace <code>int result = largeSmall(num1, num2, num3);\nSystem.out.println(result);</code> with <code>largeSmall(num1, num2 num3);</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9673893,"reputation":1,"user_id":16293018,"display_name":"Feras Abushahla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479475643,"creation_date":1479469947,"answer_id":40676481,"question_id":28686567,"body_markdown":"    Scanner k = new Scanner(System.in);\r\n    System.out.println(&quot;Enter the first number&quot;);\r\n    int c = k.nextInt();\r\n    System.out.println(&quot;Enter the second number&quot;);\r\n    int c2 = k.nextInt();\r\n    System.out.println(&quot;Enter the third number&quot;);\r\n    int c3 = k.nextInt();\r\n    int max = 0, mid = 0, min = 0;\r\n    if (c &gt; c2 &amp;&amp; c &gt; c3) {\r\n        max = c;\r\n        mid = (c2 &gt; c3) ? c2 : c3;\r\n        min = (c2 &gt; c3) ? c3 : c2;\r\n        System.out.println(&quot;In ascending :&quot;+min+&quot;,&quot;+mid+&quot;,&quot;+max);\r\n        System.out.println(&quot;In desascending :&quot;+max+&quot;,&quot;+mid+&quot;,&quot;+min);\r\n    } else if (c2 &gt; c &amp;&amp; c2 &gt; c3) {\r\n        max = c2;\r\n        mid = (c &gt; c3) ? c : c3;\r\n        min = (c &gt; c3) ? c3 : c;\r\n        System.out.println(&quot;In ascending :&quot;+min+&quot;,&quot;+mid+&quot;,&quot;+max);\r\n        System.out.println(&quot;In desascending :&quot;+max+&quot;,&quot;+mid+&quot;,&quot;+min);\r\n    } else if (c3 &gt; c &amp;&amp; c3 &gt; c2) {\r\n        max = c3;\r\n        mid = (c &gt; c2) ? c : c2;\r\n        min = (c &gt; c2) ? c2 : c;\r\n        System.out.println(&quot;In ascending :&quot;+min+&quot;,&quot;+mid+&quot;,&quot;+max);\r\n        System.out.println(&quot;In desascending :&quot;+max+&quot;,&quot;+mid+&quot;,&quot;+min);\r\n    }","title":"Program that will output three integers in descending ordrer","body":"<pre><code>Scanner k = new Scanner(System.in);\nSystem.out.println(\"Enter the first number\");\nint c = k.nextInt();\nSystem.out.println(\"Enter the second number\");\nint c2 = k.nextInt();\nSystem.out.println(\"Enter the third number\");\nint c3 = k.nextInt();\nint max = 0, mid = 0, min = 0;\nif (c &gt; c2 &amp;&amp; c &gt; c3) {\n    max = c;\n    mid = (c2 &gt; c3) ? c2 : c3;\n    min = (c2 &gt; c3) ? c3 : c2;\n    System.out.println(\"In ascending :\"+min+\",\"+mid+\",\"+max);\n    System.out.println(\"In desascending :\"+max+\",\"+mid+\",\"+min);\n} else if (c2 &gt; c &amp;&amp; c2 &gt; c3) {\n    max = c2;\n    mid = (c &gt; c3) ? c : c3;\n    min = (c &gt; c3) ? c3 : c;\n    System.out.println(\"In ascending :\"+min+\",\"+mid+\",\"+max);\n    System.out.println(\"In desascending :\"+max+\",\"+mid+\",\"+min);\n} else if (c3 &gt; c &amp;&amp; c3 &gt; c2) {\n    max = c3;\n    mid = (c &gt; c2) ? c : c2;\n    min = (c &gt; c2) ? c2 : c;\n    System.out.println(\"In ascending :\"+min+\",\"+mid+\",\"+max);\n    System.out.println(\"In desascending :\"+max+\",\"+mid+\",\"+min);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18395755,"reputation":1,"user_id":13400250,"display_name":"daoud daoud"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642508384,"creation_date":1590916582,"answer_id":62114009,"question_id":28686567,"body_markdown":"int num=0; Scanner kbd = new Scanner(System.in); num = kbd.nextInt(); System.out.println(num); Run this program but enter text instead of an integer. The program should crash and tell you what kind of exception was thrown by the nextInt method. Wrap this code inside a try/catch block where you catch the exception that is thrown. Add a loop so the user must enter the number again if text is entered. \r\n\r\n\r\n","title":"Program that will output three integers in descending ordrer","body":"<p>int num=0; Scanner kbd = new Scanner(System.in); num = kbd.nextInt(); System.out.println(num); Run this program but enter text instead of an integer. The program should crash and tell you what kind of exception was thrown by the nextInt method. Wrap this code inside a try/catch block where you catch the exception that is thrown. Add a loop so the user must enter the number again if text is entered.</p>\n"},{"tags":[],"owner":{"account_id":27893920,"reputation":1,"user_id":21299671,"display_name":"Nathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677835618,"creation_date":1677525795,"answer_id":75584729,"question_id":28686567,"body_markdown":"```\r\nimport java.util.Scanner;\r\n\r\npublic class AscendingAndDescending//defining a class AscendingAndDescending  \r\n\r\n{\r\n\r\n   public static void main(String[] args) //main method\r\n\r\n   {\r\n\r\n       int n1,n2,n3,min,max,m;\r\n\r\n       Scanner in = new Scanner(System.in);//creating Scanner class object\r\n\r\n       System.out.print(&quot;Enter an integer: &quot;);//print message\r\n\r\n       n1 = in.nextInt();//input value\r\n\r\n       System.out.print(&quot;And another: &quot;);//print message\r\n\r\n       n2 = in.nextInt();//input value\r\n\r\n       System.out.print(&quot;And just one more: &quot;);//print message\r\n\r\n       n3 = in.nextInt();//input value\r\n\r\n       min = n1; //use min variable that holds value\r\n\r\n       max = n1; //use mix variable that holds value\r\n\r\n       if (n2 &gt; max) max = n2;//use if to compare value and hols value in max variable\r\n\r\n       if (n3 &gt; max) max = n3;//use if to compare value and hols value in max variable\r\n\r\n       if (n2 &lt; min) min = n2;//use if to compare value and hols value in min variable\r\n\r\n       if (n3 &lt; min) min = n3;//use if to compare value and hols value in min variable\r\n\r\n       m = (n1 + n2 + n3) - (min + max);//defining m variable that arrange value\r\n\r\n       System.out.println(&quot;Ascending: &quot; + min + &quot; &quot; + m + &quot; &quot; + max);//print Ascending order value\r\n\r\n       System.out.println(&quot;Descending: &quot; + max + &quot; &quot; + m + &quot; &quot; + min);//print Descending order value\r\n\r\n   }\r\n\r\n}\r\n```","title":"Program that will output three integers in descending ordrer","body":"<pre><code>import java.util.Scanner;\n\npublic class AscendingAndDescending//defining a class AscendingAndDescending  \n\n{\n\n   public static void main(String[] args) //main method\n\n   {\n\n       int n1,n2,n3,min,max,m;\n\n       Scanner in = new Scanner(System.in);//creating Scanner class object\n\n       System.out.print(&quot;Enter an integer: &quot;);//print message\n\n       n1 = in.nextInt();//input value\n\n       System.out.print(&quot;And another: &quot;);//print message\n\n       n2 = in.nextInt();//input value\n\n       System.out.print(&quot;And just one more: &quot;);//print message\n\n       n3 = in.nextInt();//input value\n\n       min = n1; //use min variable that holds value\n\n       max = n1; //use mix variable that holds value\n\n       if (n2 &gt; max) max = n2;//use if to compare value and hols value in max variable\n\n       if (n3 &gt; max) max = n3;//use if to compare value and hols value in max variable\n\n       if (n2 &lt; min) min = n2;//use if to compare value and hols value in min variable\n\n       if (n3 &lt; min) min = n3;//use if to compare value and hols value in min variable\n\n       m = (n1 + n2 + n3) - (min + max);//defining m variable that arrange value\n\n       System.out.println(&quot;Ascending: &quot; + min + &quot; &quot; + m + &quot; &quot; + max);//print Ascending order value\n\n       System.out.println(&quot;Descending: &quot; + max + &quot; &quot; + m + &quot; &quot; + min);//print Descending order value\n\n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5697247,"reputation":31,"user_id":4503390,"accept_rate":33,"display_name":"Edward Lavaire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28686684,"answer_count":6,"score":0,"last_activity_date":1677835618,"creation_date":1424739899,"question_id":28686567,"body_markdown":"This program is meant to prompt a user to enter three integers, store the integers in three separate variables, and output the three integers in descending order (highest to lowest values).\r\n\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class ProgramToo\r\n    {\r\n    public static void main(String [] args)\r\n    {\r\n      Scanner kbd = new Scanner(System.in);\r\n      \r\n      System.out.println(&quot;Enter the first number:&quot;);\r\n      int num1 = kbd.nextInt();\r\n      \r\n      System.out.println(&quot;Enter the second number:&quot;);\r\n      int num2 = kbd.nextInt();\r\n      \r\n      System.out.println(&quot;Enter the three number:&quot;);\r\n      int num3 = kbd.nextInt();\r\n      \r\n      int result = largeSmall(num1, num2, num3);\r\n      System.out.println(result);\r\n      }\r\n      public static int largeSmall(int one, int two, int three)\r\n      {\r\n      if(one &gt; two &amp;&amp; two &gt; three)\r\n      {\r\n         System.out.println(one + &quot; &quot; + two + &quot; &quot; + three);\r\n      }\r\n      else if(two &gt; one &amp;&amp; one &gt; three)\r\n      {\r\n         System.out.println(two + &quot; &quot; + one + &quot; &quot; + three);\r\n      }\r\n      else if(three &gt; two &amp;&amp; two &gt; one)\r\n      {\r\n         System.out.println(three + &quot; &quot; + two + &quot; &quot; + one);\r\n      }\r\n      else\r\n      {\r\n         System.out.println(one + &quot; &quot; + three + &quot; &quot; + two);\r\n      }\r\n      return largeSmall(one, two, three);\r\n      }\r\n      }       \r\n\r\nWhen I run this program, it outputs the integers a million times and crashes. Why?","title":"Program that will output three integers in descending ordrer","body":"<p>This program is meant to prompt a user to enter three integers, store the integers in three separate variables, and output the three integers in descending order (highest to lowest values).</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class ProgramToo\n{\npublic static void main(String [] args)\n{\n  Scanner kbd = new Scanner(System.in);\n\n  System.out.println(\"Enter the first number:\");\n  int num1 = kbd.nextInt();\n\n  System.out.println(\"Enter the second number:\");\n  int num2 = kbd.nextInt();\n\n  System.out.println(\"Enter the three number:\");\n  int num3 = kbd.nextInt();\n\n  int result = largeSmall(num1, num2, num3);\n  System.out.println(result);\n  }\n  public static int largeSmall(int one, int two, int three)\n  {\n  if(one &gt; two &amp;&amp; two &gt; three)\n  {\n     System.out.println(one + \" \" + two + \" \" + three);\n  }\n  else if(two &gt; one &amp;&amp; one &gt; three)\n  {\n     System.out.println(two + \" \" + one + \" \" + three);\n  }\n  else if(three &gt; two &amp;&amp; two &gt; one)\n  {\n     System.out.println(three + \" \" + two + \" \" + one);\n  }\n  else\n  {\n     System.out.println(one + \" \" + three + \" \" + two);\n  }\n  return largeSmall(one, two, three);\n  }\n  }       \n</code></pre>\n\n<p>When I run this program, it outputs the integers a million times and crashes. Why?</p>\n"},{"tags":["java","spring-boot","java-8","threadpool","undertow"],"comments":[{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1677761229,"post_id":75615364,"comment_id":133403822,"body_markdown":"You can get default queue/pool size from UndertowWebServerFactory bean configuration.","body":"You can get default queue/pool size from UndertowWebServerFactory bean configuration."},{"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"score":0,"creation_date":1677833013,"post_id":75615364,"comment_id":133418877,"body_markdown":"I am using some dependency that has that configuration. in this case is there a way to check the default values?","body":"I am using some dependency that has that configuration. in this case is there a way to check the default values?"}],"answers":[{"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677835603,"creation_date":1677835603,"answer_id":75625286,"question_id":75615364,"body_markdown":"You can get default queue and default pool size from `UndertowWebServerFactory` bean configuration.\r\n\r\nTrying below snippet to get the details.\r\n    \r\n      import org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer;\r\n        import org.springframework.boot.web.embedded.undertow.UndertowServletWebServerFactory;\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.context.annotation.Configuration;\r\n        \r\n        @Configuration\r\n        public class UndertowConfig {\r\n        \r\n            @Bean\r\n            public UndertowWebServerFactoryCustomizer undertowWebServerFactoryCustomizer() {\r\n                return new UndertowWebServerFactoryCustomizer() {\r\n                    @Override\r\n                    public void customize(UndertowServletWebServerFactory factory) {\r\n                        System.out.println(&quot;Thread queue size: &quot; + factory.getBuilder().getIoThreads());\r\n                        System.out.println(&quot;Thread pool size: &quot; + factory.getBuilder().getWorkerThreads());\r\n                    }\r\n                };\r\n            }\r\n        }\r\n        \r\n            ","title":"Default thread queue size for undertow","body":"<p>You can get default queue and default pool size from <code>UndertowWebServerFactory</code> bean configuration.</p>\n<p>Trying below snippet to get the details.</p>\n<pre><code>  import org.springframework.boot.autoconfigure.web.embedded.UndertowWebServerFactoryCustomizer;\n    import org.springframework.boot.web.embedded.undertow.UndertowServletWebServerFactory;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    \n    @Configuration\n    public class UndertowConfig {\n    \n        @Bean\n        public UndertowWebServerFactoryCustomizer undertowWebServerFactoryCustomizer() {\n            return new UndertowWebServerFactoryCustomizer() {\n                @Override\n                public void customize(UndertowServletWebServerFactory factory) {\n                    System.out.println(&quot;Thread queue size: &quot; + factory.getBuilder().getIoThreads());\n                    System.out.println(&quot;Thread pool size: &quot; + factory.getBuilder().getWorkerThreads());\n                }\n            };\n        }\n    }\n    \n        \n</code></pre>\n"}],"owner":{"account_id":20667761,"reputation":53,"user_id":15174185,"display_name":"Chaithra Shenoy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677835603,"creation_date":1677759792,"question_id":75615364,"body_markdown":"I am using Spring Boot 2.0.8RELEASE version and Undertow 1.4.2 version. How can I find the default thread queue size and default thread pool size?","title":"Default thread queue size for undertow","body":"<p>I am using Spring Boot 2.0.8RELEASE version and Undertow 1.4.2 version. How can I find the default thread queue size and default thread pool size?</p>\n"},{"tags":["java","validation","command-line-interface"],"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":2,"creation_date":1677835270,"post_id":75625166,"comment_id":133419453,"body_markdown":"Does this answer your question? https://stackoverflow.com/a/35602842/13927534","body":"Does this answer your question? <a href=\"https://stackoverflow.com/a/35602842/13927534\">stackoverflow.com/a/35602842/13927534</a>"},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1677835945,"post_id":75625166,"comment_id":133419638,"body_markdown":"@MissSkooter thanks for commenting, but i dont think so because a delimiter isn&#39;t an int","body":"@MissSkooter thanks for commenting, but i dont think so because a delimiter isn&#39;t an int"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1677836025,"post_id":75625166,"comment_id":133419657,"body_markdown":"yes, but you are inputting `space` not `int` which is being read as nothing since it is a delimeter. (at least that&#39;s what I understood from your question), which results in nothing happening","body":"yes, but you are inputting <code>space</code> not <code>int</code> which is being read as nothing since it is a delimeter. (at least that&#39;s what I understood from your question), which results in nothing happening"},{"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"score":0,"creation_date":1677836490,"post_id":75625166,"comment_id":133419798,"body_markdown":"oh i see, is that the same thing that is happening when the user just hits enter without inputting anything? \n\nso when its int vs. nothing, no operation is run because it can&#39;t make a comparison?","body":"oh i see, is that the same thing that is happening when the user just hits enter without inputting anything?   so when its int vs. nothing, no operation is run because it can&#39;t make a comparison?"},{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1677837034,"post_id":75625166,"comment_id":133419927,"body_markdown":"I believe so yeah, unless you change the delimiter yourself as shown in the answer I linked","body":"I believe so yeah, unless you change the delimiter yourself as shown in the answer I linked"},{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":1,"creation_date":1677837737,"post_id":75625166,"comment_id":133420099,"body_markdown":"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java#L1477 is where your call ends up, and then it loops until user inputs something what&#39;s not a delimiter. So it simply doesn&#39;t return if you just give it whitespace.","body":"<a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/Scanner.java#L1477\" rel=\"nofollow noreferrer\">github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/&hellip;</a> is where your call ends up, and then it loops until user inputs something what&#39;s not a delimiter. So it simply doesn&#39;t return if you just give it whitespace."}],"owner":{"account_id":27770327,"reputation":3,"user_id":21200708,"display_name":"AJuniorDev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677835535,"creation_date":1677834918,"question_id":75625166,"body_markdown":"I have this code\r\n\r\n    boolean dataValidation = false;\r\n    System.out.println(&quot;Please input the id of the car&quot;);\r\n          do {\r\n               if (input.hasNextInt()){\r\n               id = input.nextInt();\r\n               dataValidation = true;\r\n          } else {\r\n               System.out.println(&quot;Please give a valid id number&quot;);\r\n               dataValidation = false;\r\n               input.next();\r\n            }\r\n          } while (!dataValidation);\r\n\r\nBut if I enter a space or just hit enter, the CLI returns nothing? I don&#39;t understand because it is clearly not an Int right?\r\n\r\nAny information would be appreciated. ","title":"Why does a space or enter input not trigger the hasnextint validation check?","body":"<p>I have this code</p>\n<pre><code>boolean dataValidation = false;\nSystem.out.println(&quot;Please input the id of the car&quot;);\n      do {\n           if (input.hasNextInt()){\n           id = input.nextInt();\n           dataValidation = true;\n      } else {\n           System.out.println(&quot;Please give a valid id number&quot;);\n           dataValidation = false;\n           input.next();\n        }\n      } while (!dataValidation);\n</code></pre>\n<p>But if I enter a space or just hit enter, the CLI returns nothing? I don't understand because it is clearly not an Int right?</p>\n<p>Any information would be appreciated.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":0,"creation_date":1677835663,"post_id":75625259,"comment_id":133419564,"body_markdown":"worth looking at https://www.geeksforgeeks.org/how-to-fetch-device-id-in-android-programmatically/","body":"worth looking at <a href=\"https://www.geeksforgeeks.org/how-to-fetch-device-id-in-android-programmatically/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/&hellip;</a>"},{"owner":{"account_id":15450913,"reputation":111,"user_id":11146313,"display_name":"Dhruv"},"score":0,"creation_date":1677836015,"post_id":75625259,"comment_id":133419652,"body_markdown":"You can try the below code (but there are chances that device id might get update on device reset):\n\n`@SuppressLint(&quot;HardwareIds&quot;)\npublic static final String ANDROID_DEVICE_ID = Settings.Secure.getString(getContext().getContentResolver(),\n        Settings.Secure.ANDROID_ID);`","body":"You can try the below code (but there are chances that device id might get update on device reset):  <code>@SuppressLint(&quot;HardwareIds&quot;) public static final String ANDROID_DEVICE_ID = Settings.Secure.getString(getContext().getContentResolver(),         Settings.Secure.ANDROID_ID);</code>"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1677836857,"post_id":75625259,"comment_id":133419884,"body_markdown":"The short answer is: no, there is **intentionally** no way to definitely re-identify the same device after a device reset. There are IDs provided for various use-cases, but they all come with one restriction or another. Pick the best fit, but cease your search for the &quot;holy grail&quot; (or doomsday device for user privacy, as I&#39;d like to call it).","body":"The short answer is: no, there is <b>intentionally</b> no way to definitely re-identify the same device after a device reset. There are IDs provided for various use-cases, but they all come with one restriction or another. Pick the best fit, but cease your search for the &quot;holy grail&quot; (or doomsday device for user privacy, as I&#39;d like to call it)."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1677837691,"post_id":75625259,"comment_id":133420089,"body_markdown":"if you have some sort of login mechanism that is backed by a database... that could be a direction to work in","body":"if you have some sort of login mechanism that is backed by a database... that could be a direction to work in"}],"owner":{"account_id":27782876,"reputation":11,"user_id":21210914,"display_name":"Divya Patel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1677836798,"answer_count":0,"score":1,"last_activity_date":1677835484,"creation_date":1677835484,"question_id":75625259,"body_markdown":"I am developing an application where I need to identify each device&#39;s unique Id. Is there any way to get the device&#39;s unique Id programmatically in Java?\r\n\r\nI tried some solutions but the device Id got changed on the device reset.","title":"Is there a way to get unique device ID in android using java programatically?","body":"<p>I am developing an application where I need to identify each device's unique Id. Is there any way to get the device's unique Id programmatically in Java?</p>\n<p>I tried some solutions but the device Id got changed on the device reset.</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":0,"creation_date":1677787261,"post_id":75619921,"comment_id":133411479,"body_markdown":"What version of Android are you targeting?  InlineContentView was only introduced in API level 30.","body":"What version of Android are you targeting?  InlineContentView was only introduced in API level 30."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1677838048,"post_id":75619921,"comment_id":133420189,"body_markdown":"Yea ... it hasn&#39;t been deprecated.","body":"Yea ... it hasn&#39;t been deprecated."},{"owner":{"account_id":27580752,"reputation":1,"user_id":21050021,"display_name":"SUDEM S DAIMARI"},"score":0,"creation_date":1677877421,"post_id":75619921,"comment_id":133430911,"body_markdown":"i am building on api 29. does that mean InlineContentView cannot be used on API29?","body":"i am building on api 29. does that mean InlineContentView cannot be used on API29?"}],"owner":{"account_id":27580752,"reputation":1,"user_id":21050021,"display_name":"SUDEM S DAIMARI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677835333,"creation_date":1677784551,"question_id":75619921,"body_markdown":"I am working with the custom keyboard where am having an issue with the InlineContentView in Android Studio that says:\r\n\r\n&gt; java.lang.NoClassDefFoundError: Failed resolution of: Landroid/widget/inline/InlineContentView;\r\n        at com.android.bodo.InlineContentClipView.clipDescendantInlineContentViews(InlineContentClipView.java:143)\r\n        at com.android.bodo.InlineContentClipView.clipDescendantInlineContentViews(InlineContentClipView.java:135)\r\n        at com.android.bodo.InlineContentClipView.$r8$lambda$2T6oFHLhHlgispfW-UyrqrxrHlY(Unknown Source:0)\r\n        at com.android.bodo.InlineContentClipView$$ExternalSyntheticLambda1.onDraw(Unknown Source:2)\r\n&gt;\r\n\r\nAny links and information?\r\n\r\nit seems like it is deprecated i looked into newer version to solve but i need some suggestions","title":"Java Lang No Class Error: InlineContentView","body":"<p>I am working with the custom keyboard where am having an issue with the InlineContentView in Android Studio that says:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: Failed resolution of: Landroid/widget/inline/InlineContentView;\nat com.android.bodo.InlineContentClipView.clipDescendantInlineContentViews(InlineContentClipView.java:143)\nat com.android.bodo.InlineContentClipView.clipDescendantInlineContentViews(InlineContentClipView.java:135)\nat com.android.bodo.InlineContentClipView.$r8$lambda$2T6oFHLhHlgispfW-UyrqrxrHlY(Unknown Source:0)\nat com.android.bodo.InlineContentClipView$$ExternalSyntheticLambda1.onDraw(Unknown Source:2)</p>\n</blockquote>\n<p>Any links and information?</p>\n<p>it seems like it is deprecated i looked into newer version to solve but i need some suggestions</p>\n"},{"tags":["java","json","parsing","jackson"],"comments":[{"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"score":2,"creation_date":1628758975,"post_id":3109042,"comment_id":121508702,"body_markdown":"Usually `currentToken()` is enough to do what you want.","body":"Usually <code>currentToken()</code> is enough to do what you want."}],"answers":[{"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":1,"creation_date":1277968084,"post_id":3136758,"comment_id":3244529,"body_markdown":"Actually, come to think of that, no, it won&#39;t be easy to add. Simple look-ahead won&#39;t work due to separators (commas, colons). So getting it added is probably not very easy.","body":"Actually, come to think of that, no, it won&#39;t be easy to add. Simple look-ahead won&#39;t work due to separators (commas, colons). So getting it added is probably not very easy."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1277765994,"creation_date":1277765994,"answer_id":3136758,"question_id":3109042,"body_markdown":"No, currently there is no such functionality. You could perhaps do that by using a delegating wrapper? There is &#39;org.codehaus.jackson.util.JsonParserDelegate&#39; which could make it relatively easy to implement, depending on what information you want to retain about current element.\r\n\r\nFor whatever it is worth, it might well be possible to get JsonParser.peek() added; best way to request this would be to file a feature request at http://jira.codehaus.org/browse/JACKSON. Most likely this feature hasn&#39;t been requested by anyone yet.\r\n\r\nReason this might be easy (enough) to implement is that it should only require a single character look-ahead. \r\n","title":"How to do peek() in Jackson json library?","body":"<p>No, currently there is no such functionality. You could perhaps do that by using a delegating wrapper? There is 'org.codehaus.jackson.util.JsonParserDelegate' which could make it relatively easy to implement, depending on what information you want to retain about current element.</p>\n\n<p>For whatever it is worth, it might well be possible to get JsonParser.peek() added; best way to request this would be to file a feature request at <a href=\"http://jira.codehaus.org/browse/JACKSON\" rel=\"noreferrer\">http://jira.codehaus.org/browse/JACKSON</a>. Most likely this feature hasn't been requested by anyone yet.</p>\n\n<p>Reason this might be easy (enough) to implement is that it should only require a single character look-ahead. </p>\n"},{"tags":[],"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677834761,"creation_date":1677834761,"answer_id":75625146,"question_id":3109042,"body_markdown":"In jackson 2.14.x you can do something like this:\r\n\r\n```\r\nJsonParser p = // ...\r\nObjectNode currentJsonObject = p.readValueAsTree();\r\n\r\nJsonParser peekingParser = currentObject.traverse(codec);\r\n// set peekingParser to the first token, see JsonParser#travers(ObjectCode) for info\r\npeekingParser.nextToken();\r\npeekIntoCurrentContent(peekingParser);\r\n\r\n// this parser starts at the same point as p.readValueAsTree() was called above\r\nJsonParser remainingContentParser = JsonParserSequence.createFlattended(true, currentObject.traverse(codec), p);\r\nconsumeAllRemainingContent(remainingContentParser);\r\n```\r\n\r\nNote that this however will only work consistently if `p` is at an array or object start at the beginning of the code above due to how `JsonParser#readValueAsTree()` is implemented. But this will at least cover a lot of cases.","title":"How to do peek() in Jackson json library?","body":"<p>In jackson 2.14.x you can do something like this:</p>\n<pre><code>JsonParser p = // ...\nObjectNode currentJsonObject = p.readValueAsTree();\n\nJsonParser peekingParser = currentObject.traverse(codec);\n// set peekingParser to the first token, see JsonParser#travers(ObjectCode) for info\npeekingParser.nextToken();\npeekIntoCurrentContent(peekingParser);\n\n// this parser starts at the same point as p.readValueAsTree() was called above\nJsonParser remainingContentParser = JsonParserSequence.createFlattended(true, currentObject.traverse(codec), p);\nconsumeAllRemainingContent(remainingContentParser);\n</code></pre>\n<p>Note that this however will only work consistently if <code>p</code> is at an array or object start at the beginning of the code above due to how <code>JsonParser#readValueAsTree()</code> is implemented. But this will at least cover a lot of cases.</p>\n"}],"owner":{"account_id":47494,"reputation":5220,"user_id":140731,"accept_rate":79,"display_name":"Iain Sproat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2676,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":3136758,"answer_count":2,"score":5,"last_activity_date":1677834761,"creation_date":1277374776,"question_id":3109042,"body_markdown":"I&#39;m using the [Streaming API JsonParser][1] of the [Jackson][2] library to do some custom json parsing in java.\r\n\r\nIs there a way of achieving functionality similar to a `peek()` method, where the next token is returned but the cursor position is not moved forward?\r\n\r\nThe use case for this is similar to the following:\r\n\r\n    JsonParser parser = new JsonFactory().createParser(inputStream);\r\n    while(parser.peek() != JsonToken.START_ARRAY){\r\n       ...do something with the current token...\r\n    }\r\n\r\nThe code examples I&#39;ve seen for Jackson use the `nextToken()` method for the above case, which unfortunately also moves the cursor forward in the stream.\r\n\r\nIs `peek()` possible with Jackson out-of-the-box, or perhaps achievable with an additional method?\r\n\r\nNB. not interested in other libraries, so no &quot;&lt;i&gt;library x does all this and the kitchen sink&lt;/i&gt;&quot; type answers please.\r\n\r\n\r\n  [1]: http://jackson.codehaus.org/1.5.3/javadoc/org/codehaus/jackson/JsonParser.html\r\n  [2]: http://jackson.codehaus.org/","title":"How to do peek() in Jackson json library?","body":"<p>I'm using the <a href=\"http://jackson.codehaus.org/1.5.3/javadoc/org/codehaus/jackson/JsonParser.html\" rel=\"noreferrer\">Streaming API JsonParser</a> of the <a href=\"http://jackson.codehaus.org/\" rel=\"noreferrer\">Jackson</a> library to do some custom json parsing in java.</p>\n\n<p>Is there a way of achieving functionality similar to a <code>peek()</code> method, where the next token is returned but the cursor position is not moved forward?</p>\n\n<p>The use case for this is similar to the following:</p>\n\n<pre><code>JsonParser parser = new JsonFactory().createParser(inputStream);\nwhile(parser.peek() != JsonToken.START_ARRAY){\n   ...do something with the current token...\n}\n</code></pre>\n\n<p>The code examples I've seen for Jackson use the <code>nextToken()</code> method for the above case, which unfortunately also moves the cursor forward in the stream.</p>\n\n<p>Is <code>peek()</code> possible with Jackson out-of-the-box, or perhaps achievable with an additional method?</p>\n\n<p>NB. not interested in other libraries, so no \"<i>library x does all this and the kitchen sink</i>\" type answers please.</p>\n"},{"tags":["java","json","rest","swagger","swagger-codegen"],"answers":[{"comments":[{"owner":{"account_id":9985947,"reputation":790,"user_id":7387126,"display_name":"bertonc96"},"score":0,"creation_date":1615480464,"post_id":47550033,"comment_id":117709295,"body_markdown":"Is there any other way? I have the Open APi defined automatically by the server and I can&#39;t have components in other places than inline..","body":"Is there any other way? I have the Open APi defined automatically by the server and I can&#39;t have components in other places than inline.."}],"tags":[],"owner":{"account_id":345047,"reputation":10337,"user_id":677735,"display_name":"William Cheng"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511949940,"creation_date":1511949940,"answer_id":47550033,"question_id":47545440,"body_markdown":"Currently, you&#39;re defining the model inline.\r\n\r\nI would recommend defining the model in a different section and reference it in your spec. Here is an example:\r\n\r\nModel definition: https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L654\r\n\r\nReference: https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L49\r\n\r\nThat way, the name of the Java class name will be based on the model name defined in the specification.","title":"Change Swagger generated class names","body":"<p>Currently, you're defining the model inline.</p>\n\n<p>I would recommend defining the model in a different section and reference it in your spec. Here is an example:</p>\n\n<p>Model definition: <a href=\"https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L654\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L654</a></p>\n\n<p>Reference: <a href=\"https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L49\" rel=\"nofollow noreferrer\">https://github.com/swagger-api/swagger-codegen/blob/master/modules/swagger-codegen/src/test/resources/2_0/petstore.yaml#L49</a></p>\n\n<p>That way, the name of the Java class name will be based on the model name defined in the specification.</p>\n"}],"owner":{"account_id":1660630,"reputation":301,"user_id":1528996,"accept_rate":80,"display_name":"JanithOCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8462,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677834637,"creation_date":1511932016,"question_id":47545440,"body_markdown":"i&#39;m generating java classes from a swagger file and following is the part of the swagger files.\r\n \r\n\r\n    &quot;jobCardStepList&quot;: {\r\n              &quot;type&quot;: &quot;object&quot;,\r\n              &quot;properties&quot;: {\r\n                &quot;jobCardStep&quot;: {\r\n                  &quot;type&quot;: &quot;array&quot;, \r\n\r\nfor the above part Swagger is generating a java class \r\n\r\n`UpdateJobCardRequestJobCardStepListJobCardStep.java`\r\n\r\nI want to rename this class with a proper name.\r\nis there any way to change the class names from the Swagger generator.\r\n","title":"Change Swagger generated class names","body":"<p>i'm generating java classes from a swagger file and following is the part of the swagger files.</p>\n<pre><code>&quot;jobCardStepList&quot;: {\n          &quot;type&quot;: &quot;object&quot;,\n          &quot;properties&quot;: {\n            &quot;jobCardStep&quot;: {\n              &quot;type&quot;: &quot;array&quot;, \n</code></pre>\n<p>for the above part Swagger is generating a java class</p>\n<p><code>UpdateJobCardRequestJobCardStepListJobCardStep.java</code></p>\n<p>I want to rename this class with a proper name.\nis there any way to change the class names from the Swagger generator.</p>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":5311013,"reputation":1462,"user_id":4237346,"display_name":"itwasntme"},"score":0,"creation_date":1677803248,"post_id":75622056,"comment_id":133414666,"body_markdown":"Hia, could you clarify the problem you&#39;re having now. The &#39;I am not sure fully if above changes are correct&quot; means that we can not neither. But looking at the configuration it looks like you could just provide this implicit case classes by using a bit different, but more explicit approach.","body":"Hia, could you clarify the problem you&#39;re having now. The &#39;I am not sure fully if above changes are correct&quot; means that we can not neither. But looking at the configuration it looks like you could just provide this implicit case classes by using a bit different, but more explicit approach."}],"answers":[{"comments":[{"owner":{"account_id":27873573,"reputation":33,"user_id":21283528,"display_name":"Bhagyashree Kalshetti"},"score":0,"creation_date":1677882089,"post_id":75625032,"comment_id":133431833,"body_markdown":"Thank you for the answer. i love your work on spring-batch. \nI have one doubt how can i set database type in new spring batch configuration. \n```\n        JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\n        factoryBean.setDatabaseType(&quot;oracle&quot;);\n```","body":"Thank you for the answer. i love your work on spring-batch.  I have one doubt how can i set database type in new spring batch configuration.  ```         JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();         factoryBean.setDatabaseType(&quot;oracle&quot;); ```"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1678101965,"post_id":75625032,"comment_id":133462153,"body_markdown":"Thank you! I see there is no way to specify the `databaseType` through the annotation, so we need to add that to Spring Batch. I created a feature request for that: https://github.com/spring-projects/spring-batch/issues/4320.","body":"Thank you! I see there is no way to specify the <code>databaseType</code> through the annotation, so we need to add that to Spring Batch. I created a feature request for that: <a href=\"https://github.com/spring-projects/spring-batch/issues/4320\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/issues/4320</a>."}],"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677834455,"creation_date":1677833940,"answer_id":75625032,"question_id":75622056,"body_markdown":"With Spring Batch 5, you don&#39;t need to implement `BatchConfigurer` to customize infrastructure beans. The `@EnableBatchProcessing` annotation now provides attributes for common parameters (tablePrefix, charset, etc). In your case, the equivalent configuration would be something like this:\r\n\r\n```\r\n@Configuration\r\n@EnableBatchProcessing(tablePrefix=&quot;Test&quot;, isolationLevelForCreate=&quot;ISOLATION_DEFAULT&quot;)\r\npublic class DefaultBatchConfig {\r\n\r\n}\r\n```\r\n\r\nBy default, Spring Batch will inspect the application context for a data source (default bean name `dataSource`) and a transaction manager (default bean name `transactionManager`) and use them to configure the job repository. Those could be the ones auto-configured by Spring Boot. If you use custom beans, you can specify them using the annotation&#39;s attributes `dataSourceRef` and `transactionManagerRef` respectively. Please refer to the javadoc of [@EnableBatchPocessing](https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/EnableBatchProcessing.html) for more details.\r\n\r\n&gt; For ActivateTestJob, i am not sure how can i replace stepBuilderFactory and Jobbuilderfactory.\r\n\r\nThis is explained with code examples in the migration guide you shared here: https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration","title":"Issue during spring batch upgrade","body":"<p>With Spring Batch 5, you don't need to implement <code>BatchConfigurer</code> to customize infrastructure beans. The <code>@EnableBatchProcessing</code> annotation now provides attributes for common parameters (tablePrefix, charset, etc). In your case, the equivalent configuration would be something like this:</p>\n<pre><code>@Configuration\n@EnableBatchProcessing(tablePrefix=&quot;Test&quot;, isolationLevelForCreate=&quot;ISOLATION_DEFAULT&quot;)\npublic class DefaultBatchConfig {\n\n}\n</code></pre>\n<p>By default, Spring Batch will inspect the application context for a data source (default bean name <code>dataSource</code>) and a transaction manager (default bean name <code>transactionManager</code>) and use them to configure the job repository. Those could be the ones auto-configured by Spring Boot. If you use custom beans, you can specify them using the annotation's attributes <code>dataSourceRef</code> and <code>transactionManagerRef</code> respectively. Please refer to the javadoc of <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/core/configuration/annotation/EnableBatchProcessing.html\" rel=\"nofollow noreferrer\">@EnableBatchPocessing</a> for more details.</p>\n<blockquote>\n<p>For ActivateTestJob, i am not sure how can i replace stepBuilderFactory and Jobbuilderfactory.</p>\n</blockquote>\n<p>This is explained with code examples in the migration guide you shared here: <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide#jobbuilderfactory-and-stepbuilderfactory-bean-exposureconfiguration</a></p>\n"}],"owner":{"account_id":27873573,"reputation":33,"user_id":21283528,"display_name":"Bhagyashree Kalshetti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1027,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75625032,"answer_count":1,"score":1,"last_activity_date":1677834455,"creation_date":1677802535,"question_id":75622056,"body_markdown":"I am trying to upgrade spring batch version 5.X with spring boot 3.0.2 and java 17 from spring boot version 2.7.3\r\n\r\nI have a default batch config class and a custom job config class(ActivateTestJob).\r\nDefaultBatchJobConfig.java\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class DefaultBatchConfig extends DefaultBatchConfigurer {\r\n\r\n\t@Autowired\r\n\tprivate DataSource dataSource;\r\n\t\r\n\t@Autowired\r\n\tprivate PlatformTransactionManager transactionManager;\r\n\t\r\n\t @Override\r\n\t    protected JobRepository createJobRepository() throws Exception {\r\n\t        JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\r\n\t        factoryBean.setDatabaseType(&quot;databse&quot;);\r\n\t        factoryBean.setDataSource(dataSource);\r\n\t        factoryBean.setTransactionManager(transactionManager);\r\n\t        factoryBean.setIsolationLevelForCreate(&quot;ISOLATION_DEFAULT&quot;);\r\n\t        factoryBean.setTablePrefix(&quot;Test&quot;);\r\n\t        factoryBean.afterPropertiesSet();\r\n\t        return factoryBean.getObject();\r\n\t    }\r\n}\r\n```\r\nActivateTestJob.java\r\n```\r\n@Configuration\r\npublic class ActivateTestJob{\r\n\r\n\t@Autowired\r\n\tprivate StepBuilderFactory stepBuilderFactory;\r\n\t\r\n\t@Autowired\r\n\tprivate JobBuilderFactory jobBuilderFactory;\r\n\r\n\t@Bean\r\n\tpublic JobExecutionListener activeTestListener() {\r\n\t\treturn new ActivatedTestProcessListener();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ActivatedTestTasklet activateTEstTasklet() {\r\n\t\treturn new ActivatedTestTasklet();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Job activatedTestJob() {\r\n\r\n\t\treturn jobBuilderFactory.get(&quot;activatedTestJob&quot;).incrementer(new RunIdIncrementer())\r\n\t\t\t\t.listener(activeTestListener()).start(activatedTestStep()).build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Step activatedTestStep() {\r\n\t\treturn stepBuilderFactory.get(&quot;activatedProgramStep&quot;)\r\n                      .tasklet(activateProgramTasklet()).build();\r\n\t}\r\n}\r\n```\r\n After upgrading the srping boot vesion I found \r\n1. DefaultBatchConfigurer class has been removed and therefore i cannot override createJobRepository() method to create JobRepository.\r\n2. StepBuilderFactory and JobBuilderFactory classes are depricated.\r\n\r\nI am following spring batch [migration](https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide) guide. \r\nFor Default batch config i modified the code as below to support spring -batch 5.x.\r\n```\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class DefaultBatchConfig {\r\n\r\n\t@Bean\r\n\tprotected JobRepository createJobRepository(DataSource dataSource, PlatformTransactionManager transactionManager) throws Exception {\r\n\t\tJobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\r\n\t\tfactoryBean.setDatabaseType(&quot;database&quot;);\r\n\t\tfactoryBean.setDataSource(dataSource);\r\n\t\tfactoryBean.setTransactionManager(transactionManager);\r\n\t\tfactoryBean.setIsolationLevelForCreate(&quot;ISOLATION_DEFAULT&quot;);\r\n\t\tfactoryBean.setTablePrefix(&quot;Test&quot;);\r\n\t\tfactoryBean.afterPropertiesSet();\r\n\t\treturn factoryBean.getObject();\r\n\t}\r\n}\r\n```\r\nI am not sure fully if above changes are correct.\r\nFor ActivateTestJob, i am not sure how can i replace stepBuilderFactory and Jobbuilderfactory. ","title":"Issue during spring batch upgrade","body":"<p>I am trying to upgrade spring batch version 5.X with spring boot 3.0.2 and java 17 from spring boot version 2.7.3</p>\n<p>I have a default batch config class and a custom job config class(ActivateTestJob).\nDefaultBatchJobConfig.java</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class DefaultBatchConfig extends DefaultBatchConfigurer {\n\n    @Autowired\n    private DataSource dataSource;\n    \n    @Autowired\n    private PlatformTransactionManager transactionManager;\n    \n     @Override\n        protected JobRepository createJobRepository() throws Exception {\n            JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\n            factoryBean.setDatabaseType(&quot;databse&quot;);\n            factoryBean.setDataSource(dataSource);\n            factoryBean.setTransactionManager(transactionManager);\n            factoryBean.setIsolationLevelForCreate(&quot;ISOLATION_DEFAULT&quot;);\n            factoryBean.setTablePrefix(&quot;Test&quot;);\n            factoryBean.afterPropertiesSet();\n            return factoryBean.getObject();\n        }\n}\n</code></pre>\n<p>ActivateTestJob.java</p>\n<pre><code>@Configuration\npublic class ActivateTestJob{\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n    \n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Bean\n    public JobExecutionListener activeTestListener() {\n        return new ActivatedTestProcessListener();\n    }\n\n    @Bean\n    public ActivatedTestTasklet activateTEstTasklet() {\n        return new ActivatedTestTasklet();\n    }\n\n    @Bean\n    public Job activatedTestJob() {\n\n        return jobBuilderFactory.get(&quot;activatedTestJob&quot;).incrementer(new RunIdIncrementer())\n                .listener(activeTestListener()).start(activatedTestStep()).build();\n    }\n\n    @Bean\n    public Step activatedTestStep() {\n        return stepBuilderFactory.get(&quot;activatedProgramStep&quot;)\n                      .tasklet(activateProgramTasklet()).build();\n    }\n}\n</code></pre>\n<p>After upgrading the srping boot vesion I found</p>\n<ol>\n<li>DefaultBatchConfigurer class has been removed and therefore i cannot override createJobRepository() method to create JobRepository.</li>\n<li>StepBuilderFactory and JobBuilderFactory classes are depricated.</li>\n</ol>\n<p>I am following spring batch <a href=\"https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-5.0-Migration-Guide\" rel=\"nofollow noreferrer\">migration</a> guide.\nFor Default batch config i modified the code as below to support spring -batch 5.x.</p>\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class DefaultBatchConfig {\n\n    @Bean\n    protected JobRepository createJobRepository(DataSource dataSource, PlatformTransactionManager transactionManager) throws Exception {\n        JobRepositoryFactoryBean factoryBean = new JobRepositoryFactoryBean();\n        factoryBean.setDatabaseType(&quot;database&quot;);\n        factoryBean.setDataSource(dataSource);\n        factoryBean.setTransactionManager(transactionManager);\n        factoryBean.setIsolationLevelForCreate(&quot;ISOLATION_DEFAULT&quot;);\n        factoryBean.setTablePrefix(&quot;Test&quot;);\n        factoryBean.afterPropertiesSet();\n        return factoryBean.getObject();\n    }\n}\n</code></pre>\n<p>I am not sure fully if above changes are correct.\nFor ActivateTestJob, i am not sure how can i replace stepBuilderFactory and Jobbuilderfactory.</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25866694,"reputation":191,"user_id":19598245,"display_name":"Phil Ku"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677834427,"creation_date":1677834427,"answer_id":75625098,"question_id":75622772,"body_markdown":"I tried to replicate your issue, following is one possible solution.\r\n\r\nIn your service, returning `CompletableFuture` instead:\r\n\r\n```\r\npublic CompletableFuture&lt;List&lt;String&gt;&gt; m1() {\r\n  List&lt;String&gt; a = new ArrayList&lt;&gt;();\r\n  a.add(&quot;test1&quot;);\r\n  a.add(&quot;test2&quot;);\r\n  a.add(&quot;test3&quot;);\r\n  return CompletableFuture.completedFuture(a);\r\n}\r\n```\r\n\r\nUsing `CompletableFuture.join()` in your controller:\r\n```\r\n@GetMapping(&quot;/v1&quot;)\r\npublic List&lt;String&gt; m1() {\r\n  CompletableFuture&lt;List&lt;String&gt;&gt; c1 = serviceclass.m1();\r\n  \r\n  // ... your logic ...\r\n\r\n  return c1.join();\r\n}\r\n```","title":"How to make a variable value once read by a thread does&#39;t change by other thread when other process started in spring boot","body":"<p>I tried to replicate your issue, following is one possible solution.</p>\n<p>In your service, returning <code>CompletableFuture</code> instead:</p>\n<pre><code>public CompletableFuture&lt;List&lt;String&gt;&gt; m1() {\n  List&lt;String&gt; a = new ArrayList&lt;&gt;();\n  a.add(&quot;test1&quot;);\n  a.add(&quot;test2&quot;);\n  a.add(&quot;test3&quot;);\n  return CompletableFuture.completedFuture(a);\n}\n</code></pre>\n<p>Using <code>CompletableFuture.join()</code> in your controller:</p>\n<pre><code>@GetMapping(&quot;/v1&quot;)\npublic List&lt;String&gt; m1() {\n  CompletableFuture&lt;List&lt;String&gt;&gt; c1 = serviceclass.m1();\n  \n  // ... your logic ...\n\n  return c1.join();\n}\n</code></pre>\n"}],"owner":{"account_id":22894340,"reputation":17,"user_id":17034062,"display_name":"tarun singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677834427,"creation_date":1677812094,"question_id":75622772,"body_markdown":"I&#39;m using spring boot rest controller from there it is calling service to get data and the return type is `List` in service class. It is Async rest controller. My Issue is for the first hit I&#39;m getting the list with expected data and the remaining process is continuing the program still not comes to end at this point, in the middle of the code I&#39;m again using that list. But what happens is for the 2nd and 3rd hit, the list from service is empty, which is expected for my case but it is setting empty even for the first thread I&#39;m getting the empty value in the middle where I&#39;m using the list again.\r\n\r\n```\r\n@RestController\r\npublic class ControllerClass1 \r\n{\r\n\r\n\t@Autowired\r\n\tServiceclass serviceclass;\r\n\t\r\n\t@GetMapping(&quot;/v1&quot;)\r\n\tpublic List&lt;String&gt; m1()\r\n\t{\r\n\t\t List&lt;String&gt; m1 = serviceclass.m1();//for the 2nd thread this list is empty ..even for the first thread the value is setting empty in middle of first process which is not expected \r\n\t\t //First time expected data\r\n\t\t //Assue its a huge code i&#39;m using this list again in middle\r\n\t\t return m1();//dummy return\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\nwe are calling service as `Completeablefuture.runasync(serviceclass.m1())` to make sure it runs asynchronously\r\n\r\n------------------------------------------\r\n\r\n```\r\n@Service\r\npublic class Serviceclass {\r\n\t\r\n\tpublic List&lt;String&gt; m1()\r\n\t{\r\n\t\tList&lt;String&gt; a = new ArrayList&lt;&gt;();\r\n\t\ta.add(&quot;test1&quot;);\r\n\t\ta.add(&quot;test2&quot;);\r\n\t\ta.add(&quot;test3&quot;);\r\n\t\treturn a;\r\n\t}\r\n}\r\n```\r\n\r\nNote: The code is not the actual one I&#39;m just making sure you understand my issue.\r\n\r\n\r\n","title":"How to make a variable value once read by a thread does&#39;t change by other thread when other process started in spring boot","body":"<p>I'm using spring boot rest controller from there it is calling service to get data and the return type is <code>List</code> in service class. It is Async rest controller. My Issue is for the first hit I'm getting the list with expected data and the remaining process is continuing the program still not comes to end at this point, in the middle of the code I'm again using that list. But what happens is for the 2nd and 3rd hit, the list from service is empty, which is expected for my case but it is setting empty even for the first thread I'm getting the empty value in the middle where I'm using the list again.</p>\n<pre><code>@RestController\npublic class ControllerClass1 \n{\n\n    @Autowired\n    Serviceclass serviceclass;\n    \n    @GetMapping(&quot;/v1&quot;)\n    public List&lt;String&gt; m1()\n    {\n         List&lt;String&gt; m1 = serviceclass.m1();//for the 2nd thread this list is empty ..even for the first thread the value is setting empty in middle of first process which is not expected \n         //First time expected data\n         //Assue its a huge code i'm using this list again in middle\n         return m1();//dummy return\n    }\n    \n}\n</code></pre>\n<p>we are calling service as <code>Completeablefuture.runasync(serviceclass.m1())</code> to make sure it runs asynchronously</p>\n<hr />\n<pre><code>@Service\npublic class Serviceclass {\n    \n    public List&lt;String&gt; m1()\n    {\n        List&lt;String&gt; a = new ArrayList&lt;&gt;();\n        a.add(&quot;test1&quot;);\n        a.add(&quot;test2&quot;);\n        a.add(&quot;test3&quot;);\n        return a;\n    }\n}\n</code></pre>\n<p>Note: The code is not the actual one I'm just making sure you understand my issue.</p>\n"},{"tags":["java","sftp","jsch"],"answers":[{"tags":[],"owner":{"account_id":1059756,"reputation":11015,"user_id":1061636,"accept_rate":89,"display_name":"Carlos Landeras"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1608040247,"creation_date":1354526281,"answer_id":13680194,"question_id":13680057,"body_markdown":"Try using paths instead of stream:\r\n\r\n    String destPath = &quot;filename.txt&quot;;        \r\n\r\n    if (!filesToDownload.isEmpty()) {\r\n        for (String fileDownloadName : filesToDownload) {\r\n            success = false;\r\n            sftpChannel.get(fileDownloadName , destPath);  \r\n\r\nIf you wanna use file and streams check this example:  \r\nhttp://kodehelp.com/java-program-for-downloading-file-from-sftp-server/\r\n\r\n ","title":"Downloading files from an SFTP server using JSch","body":"<p>Try using paths instead of stream:</p>\n<pre><code>String destPath = &quot;filename.txt&quot;;        \n\nif (!filesToDownload.isEmpty()) {\n    for (String fileDownloadName : filesToDownload) {\n        success = false;\n        sftpChannel.get(fileDownloadName , destPath);  \n</code></pre>\n<p>If you wanna use file and streams check this example:<br />\n<a href=\"http://kodehelp.com/java-program-for-downloading-file-from-sftp-server/\" rel=\"noreferrer\">http://kodehelp.com/java-program-for-downloading-file-from-sftp-server/</a></p>\n"},{"tags":[],"owner":{"account_id":2835639,"reputation":589,"user_id":2436314,"display_name":"Dinesh Lomte"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1490871942,"creation_date":1490871942,"answer_id":43116045,"question_id":13680057,"body_markdown":"Please find in the below code sample comprising the file &lt;b&gt;upload&lt;/b&gt; and &lt;b&gt;download&lt;/b&gt; functionalities. Please pull the relevant details from properties files where ever string marked in &lt;b&gt;lt;&lt;/b&gt;sftp.user.name&lt;b&gt;gt;&lt;/b&gt;. I am deleting the file once the file is downloaded you can have it as per your requirement. \r\n\r\nThe &lt;b&gt;event&lt;/b&gt; and &lt;b&gt;locale&lt;/b&gt; parameters what I have added as part of download functionality is to filter the file(s); you can pass parameters as par you need.\r\n\r\nHave placed a check to set proxy which can be used on need basis.\r\n\r\n    package com.util;\r\n\r\n\timport com.jcraft.jsch.Channel;\r\n\timport com.jcraft.jsch.ChannelSftp;\r\n\timport com.jcraft.jsch.JSch;\r\n\timport com.jcraft.jsch.ProxyHTTP;\r\n\timport com.jcraft.jsch.Session;\r\n\timport com.jcraft.jsch.SftpException;\r\n\timport java.io.File;\r\n\timport java.io.FileInputStream;\r\n\timport java.util.Date;\r\n\timport java.util.Properties;\r\n\timport java.util.Vector;\r\n\r\n\t/**\r\n\t *\r\n\t * @author Dinesh.Lomte\r\n\t */\r\n\tpublic class SftpUtil {\r\n\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param fileName\r\n\t\t * @throws Exception \r\n\t\t */\r\n\t\tpublic static void upload(String fileName)\r\n\t\tthrows Exception {\r\n\t\t\t\r\n\t\t\tString method = &quot;upload(String fileName)&quot;;\r\n\t\t\tSession session = null;\r\n\t\t\tChannel channel = null;\r\n\t\t\tChannelSftp channelSftp = null;\r\n\t\t\ttry {\r\n\t\t\t\t// Creating and instantiating the jsch specific instance\r\n\t\t\t\tJSch jsch = new JSch();\r\n\t\t\t\t// Fetching and setting the parameters like: user name, host and port \r\n\t\t\t\t// from the properties file\r\n\t\t\t\tsession = jsch.getSession(&quot;&lt;sftp.user.name&gt;&quot;,\r\n\t\t\t\t\t\t&quot;&lt;sftp.host&gt;&quot;,\r\n\t\t\t\t\t\tInteger.valueOf(&quot;&lt;sftp.port&gt;&quot;));\r\n\t\t\t\t// Fetching and setting the password as configured in properties files\r\n\t\t\t\tsession.setPassword(&quot;&lt;sftp.user.password&gt;&quot;);\r\n\t\t\t\t// Setting the configuration specific properties\r\n\t\t\t\tProperties config = new Properties();\r\n\t\t\t\tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\t\tsession.setConfig(config);            \r\n\t\t\t\t// Validating if proxy is enabled to access the sftp\r\n\t\t\t\tisSftpProxyEnabled(session);\r\n\t\t\t\t// Execution start time\r\n\t\t\t\tlong lStartTime = new Date().getTime();\r\n\t\t\t\tSystem.out.println(&quot;Connecting to the sftp...&quot;);\r\n\t\t\t\t// Connecting to the sftp \r\n\t\t\t\tsession.connect();\r\n\t\t\t\tSystem.out.println(&quot;Connected to the sftp.&quot;);            \r\n\t\t\t\t// Execution end time\r\n\t\t\t\tlong lEndTime = new Date().getTime();\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Connected to SFTP in : &quot; + (lEndTime - lStartTime));\r\n\t\t\t\t// Setting the channel type as sftp\r\n\t\t\t\tchannel = session.openChannel(&quot;sftp&quot;);\r\n\t\t\t\t// Establishing the connection\r\n\t\t\t\tchannel.connect();\r\n\t\t\t\tchannelSftp = (ChannelSftp) channel;\r\n\t\t\t\t// Setting the folder location of the external system as configured\r\n\t\t\t\tchannelSftp.cd(&quot;&lt;sftp.output.folder.url&gt;&quot;);\r\n\t\t\t\t// Creating the file instance\r\n\t\t\t\tFile file = new File(fileName);\r\n\t\t\t\t// Creating an fileInputStream instance\r\n\t\t\t\tFileInputStream fileInputStream = new FileInputStream(file);\r\n\t\t\t\t// Transfering the file from it source to destination location via sftp\r\n\t\t\t\tchannelSftp.put(fileInputStream, file.getName());\r\n\t\t\t\t// Closing the fileInputStream instance\r\n\t\t\t\tfileInputStream.close();\r\n\t\t\t\t// De-allocating the fileInputStream instance memory by assigning null\r\n\t\t\t\tfileInputStream = null;\r\n\t\t\t} catch (Exception exception) {\r\n\t\t\t\tthrow exception;\r\n\t\t\t} finally {\r\n\t\t\t\t// Validating if channel sftp is not null to exit\r\n\t\t\t\tif (channelSftp != null) {\r\n\t\t\t\t\tchannelSftp.exit();\r\n\t\t\t\t}\r\n\t\t\t\t// Validating if channel is not null to disconnect\r\n\t\t\t\tif (channel != null) {\r\n\t\t\t\t\tchannel.disconnect();\r\n\t\t\t\t}\r\n\t\t\t\t// Validating if session instance is not null to disconnect\r\n\t\t\t\tif (session != null) {\r\n\t\t\t\t\tsession.disconnect();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param session \r\n\t\t */\r\n\t\tprivate static void isSftpProxyEnabled(Session session) {\r\n\t\t\t// Fetching the sftp proxy flag set as part of the properties file\r\n\t\t\tboolean isSftpProxyEnabled = Boolean.valueOf(&quot;&lt;sftp.proxy.enable&gt;&quot;);\r\n\t\t\t// Validating if proxy is enabled to access the sftp\r\n\t\t\tif (isSftpProxyEnabled) {\r\n\t\t\t\t// Setting host and port of the proxy to access the SFTP\r\n\t\t\t\tsession.setProxy(new ProxyHTTP(&quot;&lt;sftp.proxy.host&gt;&quot;, \r\n\t\t\t\t\t\tInteger.valueOf(&quot;&lt;sftp.proxy.port&gt;&quot;);\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Proxy status: &quot; + isSftpProxyEnabled);\r\n\t\t}\r\n\t\t\r\n\t\t/**\r\n\t\t * \r\n\t\t * @param folder\r\n\t\t * @param event\r\n\t\t * @param locale\r\n\t\t */\r\n\t\tpublic static void download(String folder, String event, String locale) {\r\n\t\t\t\r\n\t\t\tString method = &quot;download(String folder, String event, String locale)&quot;;\r\n\t\t\tSession session = null;\r\n\t\t\tChannel channel = null;\r\n\t\t\tChannelSftp channelSftp = null;\r\n\t\t\ttry {\r\n\t\t\t\t// Creating and instantiating the jsch specific instance\r\n\t\t\t\tJSch jsch = new JSch();\r\n\t\t\t\t// Fetching and setting the parameters like: user name, host and port \r\n\t\t\t\t// from the properties file\r\n\t\t\t\tsession = jsch.getSession(&quot;&lt;sftp.user.name&gt;&quot;,\r\n\t\t\t\t\t\t&quot;&lt;sftp.host&gt;&quot;,\r\n\t\t\t\t\t\tInteger.valueOf(&quot;&lt;sftp.port&gt;&quot;));\r\n\t\t\t\t// Fetching and setting the password as configured in properties files\r\n\t\t\t\tsession.setPassword(&quot;&lt;sftp.user.password&gt;&quot;);\r\n\t\t\t\t// Setting the configuration specific properties\r\n\t\t\t\tProperties config = new Properties();\r\n\t\t\t\tconfig.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\t\tsession.setConfig(config);            \r\n\t\t\t\t// Validating if proxy is enabled to access the sftp\r\n\t\t\t\tisSftpProxyEnabled(session);\r\n\t\t\t\t// Execution start time\r\n\t\t\t\tlong lStartTime = new Date().getTime();\r\n\t\t\t\tSystem.out.println(&quot;Connecting to the sftp...&quot;);\r\n\t\t\t\t// Connecting to the sftp \r\n\t\t\t\tsession.connect();\r\n\t\t\t\tSystem.out.println(&quot;Connected to the sftp.&quot;);            \r\n\t\t\t\t// Execution end time\r\n\t\t\t\tlong lEndTime = new Date().getTime();\r\n\t\t\t\tSystem.out.println(&quot;---------------------------------------------&quot;);\r\n\t\t\t\tSystem.out.println(&quot;Connected to SFTP in : &quot; + (lEndTime - lStartTime));\r\n\t\t\t\t// Setting the channel type as sftp\r\n\t\t\t\tchannel = session.openChannel(SFTP);\r\n\t\t\t\t// Establishing the connection\r\n\t\t\t\tchannel.connect();\r\n\t\t\t\tchannelSftp = (ChannelSftp) channel;\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// Setting the folder location of the external system as configured \r\n\t\t\t\t\t// to download the file from\r\n\t\t\t\t\tchannelSftp.cd(&quot;&lt;sftp.input.folder.url&gt;&quot;);\r\n\t\t\t\t} catch (SftpException sftpException) {\r\n\t\t\t\t\tSystem.out.println(&quot;Failed to change the directory in sftp.&quot;);                \r\n\t\t\t\t}\r\n\t\t\t\t// Listing all the .csv file(s) specific to the source system, event type (download) and locale code\r\n\t\t\t\tVector&lt;ChannelSftp.LsEntry&gt; lsEntries = channelSftp.ls(\r\n\t\t\t\t\t\tnew StringBuilder(&quot;*&quot;).append(&quot;&lt;sys.code&gt;&quot;).append(&quot;*&quot;).append(event)\r\n\t\t\t\t\t\t.append(&quot;*&quot;).append(locale).append(&quot;*&quot;).append(&quot;.csv&quot;).toString());\r\n\t\t\t\t// Validating if files exist to process the request further\r\n\t\t\t\tif (lsEntries.isEmpty()) {\r\n\t\t\t\t\tSystem.out.println(&quot;No file exist in the specified sftp folder location.&quot;);\r\n\t\t\t\t}\r\n\t\t\t\t// Iterating the list of entries to download the file(s) from the sftp \r\n\t\t\t\tfor (ChannelSftp.LsEntry entry : lsEntries) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// Downloading the specified file from the sftp to the specified folder path\r\n\t\t\t\t\t\tchannelSftp.get(entry.getFilename(), new StringBuilder(folder)\r\n\t\t\t\t\t\t\t\t.append(File.separator).append(entry.getFilename()).toString());\r\n\t\t\t\t\t} catch (SftpException sftpException) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Failed to download the file the sftp folder location.&quot;);\t\t\t\t\t\r\n\t\t\t\t\t}                \r\n\t\t\t\t}\r\n\t\t\t\t// Iterating the list of entries to delete the file(s) from the sftp \r\n\t\t\t\tfor (ChannelSftp.LsEntry entry : lsEntries) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\t// Deleting the specified file from the sftp\r\n\t\t\t\t\t\tchannelSftp.rm(entry.getFilename());\r\n\t\t\t\t\t} catch (SftpException sftpException) {\r\n\t\t\t\t\t\tSystem.out.println(&quot;Failed to delete the file from the sftp folder location.&quot;);                    \r\n\t\t\t\t\t}                \r\n\t\t\t\t}\r\n\t\t\t} catch (Exception exception) {\r\n\t\t\t\tSystem.out.println(&quot;Failed to download the file(s) from SFTP.&quot;);            \r\n\t\t\t} finally {\r\n\t\t\t\t// Validating if channel sftp is not null to exit\r\n\t\t\t\tif (channelSftp != null) {\r\n\t\t\t\t\tchannelSftp.exit();\r\n\t\t\t\t}\r\n\t\t\t\t// Validating if channel is not null to disconnect\r\n\t\t\t\tif (channel != null) {\r\n\t\t\t\t\tchannel.disconnect();\r\n\t\t\t\t}\r\n\t\t\t\t// Validating if session instance is not null to disconnect\r\n\t\t\t\tif (session != null) {\r\n\t\t\t\t\tsession.disconnect();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Downloading files from an SFTP server using JSch","body":"<p>Please find in the below code sample comprising the file <b>upload</b> and <b>download</b> functionalities. Please pull the relevant details from properties files where ever string marked in <b>lt;</b>sftp.user.name<b>gt;</b>. I am deleting the file once the file is downloaded you can have it as per your requirement. </p>\n\n<p>The <b>event</b> and <b>locale</b> parameters what I have added as part of download functionality is to filter the file(s); you can pass parameters as par you need.</p>\n\n<p>Have placed a check to set proxy which can be used on need basis.</p>\n\n<pre><code>package com.util;\n\nimport com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.ChannelSftp;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.ProxyHTTP;\nimport com.jcraft.jsch.Session;\nimport com.jcraft.jsch.SftpException;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.util.Date;\nimport java.util.Properties;\nimport java.util.Vector;\n\n/**\n *\n * @author Dinesh.Lomte\n */\npublic class SftpUtil {\n\n    /**\n     * \n     * @param fileName\n     * @throws Exception \n     */\n    public static void upload(String fileName)\n    throws Exception {\n\n        String method = \"upload(String fileName)\";\n        Session session = null;\n        Channel channel = null;\n        ChannelSftp channelSftp = null;\n        try {\n            // Creating and instantiating the jsch specific instance\n            JSch jsch = new JSch();\n            // Fetching and setting the parameters like: user name, host and port \n            // from the properties file\n            session = jsch.getSession(\"&lt;sftp.user.name&gt;\",\n                    \"&lt;sftp.host&gt;\",\n                    Integer.valueOf(\"&lt;sftp.port&gt;\"));\n            // Fetching and setting the password as configured in properties files\n            session.setPassword(\"&lt;sftp.user.password&gt;\");\n            // Setting the configuration specific properties\n            Properties config = new Properties();\n            config.put(\"StrictHostKeyChecking\", \"no\");\n            session.setConfig(config);            \n            // Validating if proxy is enabled to access the sftp\n            isSftpProxyEnabled(session);\n            // Execution start time\n            long lStartTime = new Date().getTime();\n            System.out.println(\"Connecting to the sftp...\");\n            // Connecting to the sftp \n            session.connect();\n            System.out.println(\"Connected to the sftp.\");            \n            // Execution end time\n            long lEndTime = new Date().getTime();\n            System.out.println(\"---------------------------------------------\");\n            System.out.println(\"Connected to SFTP in : \" + (lEndTime - lStartTime));\n            // Setting the channel type as sftp\n            channel = session.openChannel(\"sftp\");\n            // Establishing the connection\n            channel.connect();\n            channelSftp = (ChannelSftp) channel;\n            // Setting the folder location of the external system as configured\n            channelSftp.cd(\"&lt;sftp.output.folder.url&gt;\");\n            // Creating the file instance\n            File file = new File(fileName);\n            // Creating an fileInputStream instance\n            FileInputStream fileInputStream = new FileInputStream(file);\n            // Transfering the file from it source to destination location via sftp\n            channelSftp.put(fileInputStream, file.getName());\n            // Closing the fileInputStream instance\n            fileInputStream.close();\n            // De-allocating the fileInputStream instance memory by assigning null\n            fileInputStream = null;\n        } catch (Exception exception) {\n            throw exception;\n        } finally {\n            // Validating if channel sftp is not null to exit\n            if (channelSftp != null) {\n                channelSftp.exit();\n            }\n            // Validating if channel is not null to disconnect\n            if (channel != null) {\n                channel.disconnect();\n            }\n            // Validating if session instance is not null to disconnect\n            if (session != null) {\n                session.disconnect();\n            }\n        }\n    }\n\n    /**\n     * \n     * @param session \n     */\n    private static void isSftpProxyEnabled(Session session) {\n        // Fetching the sftp proxy flag set as part of the properties file\n        boolean isSftpProxyEnabled = Boolean.valueOf(\"&lt;sftp.proxy.enable&gt;\");\n        // Validating if proxy is enabled to access the sftp\n        if (isSftpProxyEnabled) {\n            // Setting host and port of the proxy to access the SFTP\n            session.setProxy(new ProxyHTTP(\"&lt;sftp.proxy.host&gt;\", \n                    Integer.valueOf(\"&lt;sftp.proxy.port&gt;\");\n        }\n        System.out.println(\"Proxy status: \" + isSftpProxyEnabled);\n    }\n\n    /**\n     * \n     * @param folder\n     * @param event\n     * @param locale\n     */\n    public static void download(String folder, String event, String locale) {\n\n        String method = \"download(String folder, String event, String locale)\";\n        Session session = null;\n        Channel channel = null;\n        ChannelSftp channelSftp = null;\n        try {\n            // Creating and instantiating the jsch specific instance\n            JSch jsch = new JSch();\n            // Fetching and setting the parameters like: user name, host and port \n            // from the properties file\n            session = jsch.getSession(\"&lt;sftp.user.name&gt;\",\n                    \"&lt;sftp.host&gt;\",\n                    Integer.valueOf(\"&lt;sftp.port&gt;\"));\n            // Fetching and setting the password as configured in properties files\n            session.setPassword(\"&lt;sftp.user.password&gt;\");\n            // Setting the configuration specific properties\n            Properties config = new Properties();\n            config.put(\"StrictHostKeyChecking\", \"no\");\n            session.setConfig(config);            \n            // Validating if proxy is enabled to access the sftp\n            isSftpProxyEnabled(session);\n            // Execution start time\n            long lStartTime = new Date().getTime();\n            System.out.println(\"Connecting to the sftp...\");\n            // Connecting to the sftp \n            session.connect();\n            System.out.println(\"Connected to the sftp.\");            \n            // Execution end time\n            long lEndTime = new Date().getTime();\n            System.out.println(\"---------------------------------------------\");\n            System.out.println(\"Connected to SFTP in : \" + (lEndTime - lStartTime));\n            // Setting the channel type as sftp\n            channel = session.openChannel(SFTP);\n            // Establishing the connection\n            channel.connect();\n            channelSftp = (ChannelSftp) channel;\n            try {\n                // Setting the folder location of the external system as configured \n                // to download the file from\n                channelSftp.cd(\"&lt;sftp.input.folder.url&gt;\");\n            } catch (SftpException sftpException) {\n                System.out.println(\"Failed to change the directory in sftp.\");                \n            }\n            // Listing all the .csv file(s) specific to the source system, event type (download) and locale code\n            Vector&lt;ChannelSftp.LsEntry&gt; lsEntries = channelSftp.ls(\n                    new StringBuilder(\"*\").append(\"&lt;sys.code&gt;\").append(\"*\").append(event)\n                    .append(\"*\").append(locale).append(\"*\").append(\".csv\").toString());\n            // Validating if files exist to process the request further\n            if (lsEntries.isEmpty()) {\n                System.out.println(\"No file exist in the specified sftp folder location.\");\n            }\n            // Iterating the list of entries to download the file(s) from the sftp \n            for (ChannelSftp.LsEntry entry : lsEntries) {\n                try {\n                    // Downloading the specified file from the sftp to the specified folder path\n                    channelSftp.get(entry.getFilename(), new StringBuilder(folder)\n                            .append(File.separator).append(entry.getFilename()).toString());\n                } catch (SftpException sftpException) {\n                    System.out.println(\"Failed to download the file the sftp folder location.\");                    \n                }                \n            }\n            // Iterating the list of entries to delete the file(s) from the sftp \n            for (ChannelSftp.LsEntry entry : lsEntries) {\n                try {\n                    // Deleting the specified file from the sftp\n                    channelSftp.rm(entry.getFilename());\n                } catch (SftpException sftpException) {\n                    System.out.println(\"Failed to delete the file from the sftp folder location.\");                    \n                }                \n            }\n        } catch (Exception exception) {\n            System.out.println(\"Failed to download the file(s) from SFTP.\");            \n        } finally {\n            // Validating if channel sftp is not null to exit\n            if (channelSftp != null) {\n                channelSftp.exit();\n            }\n            // Validating if channel is not null to disconnect\n            if (channel != null) {\n                channel.disconnect();\n            }\n            // Validating if session instance is not null to disconnect\n            if (session != null) {\n                session.disconnect();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27169,"reputation":4357,"user_id":71410,"accept_rate":78,"display_name":"Andrea Girardi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1517675314,"creation_date":1517675314,"answer_id":48599496,"question_id":13680057,"body_markdown":"I fixed in this way:\r\n\r\n    Vector&lt;ChannelSftp.LsEntry&gt; files = sftp.ls(remotePath);\r\n    String remotePath = properties.getFtpPath();\r\n    Vector&lt;ChannelSftp.LsEntry&gt; files = sftp.ls(remotePath);\r\n    \r\n    for (ChannelSftp.LsEntry entry : files) {\r\n    \r\n    \tInputStream stream = sftp.get(remotePath + &quot;/&quot; + entry.getFilename());\r\n    \t// Your business code here\r\n    \r\n    }\r\n\r\nWhere remotePath is the remote SFTP folder name.","title":"Downloading files from an SFTP server using JSch","body":"<p>I fixed in this way:</p>\n\n<pre><code>Vector&lt;ChannelSftp.LsEntry&gt; files = sftp.ls(remotePath);\nString remotePath = properties.getFtpPath();\nVector&lt;ChannelSftp.LsEntry&gt; files = sftp.ls(remotePath);\n\nfor (ChannelSftp.LsEntry entry : files) {\n\n    InputStream stream = sftp.get(remotePath + \"/\" + entry.getFilename());\n    // Your business code here\n\n}\n</code></pre>\n\n<p>Where remotePath is the remote SFTP folder name.</p>\n"}],"owner":{"account_id":2105619,"reputation":213,"user_id":1872016,"display_name":"FaithN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87414,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":13680194,"answer_count":3,"score":18,"last_activity_date":1677834148,"creation_date":1354525715,"question_id":13680057,"body_markdown":"I am using jsch to download files from server, my code below.\r\n\r\n    public static void downloadFile(TpcCredentialsDTO dto) {\r\n    \t\tlogger.trace(&quot;Entering downloadFile() method&quot;);\r\n    \t\t\r\n\t\tSession session = null;\r\n\t\tChannel channel = null;\r\n\t\tChannelSftp channelSftp = null;\r\n\t\tboolean success = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\tJSch jsch = new JSch();\r\n\t\t\tsession = jsch.getSession(dto.getUsername(), dto.getHost(),\r\n\t\t\t\t\tdto.getPort());\r\n\t\t\tsession.setPassword(dto.getPassword());\r\n\r\n\t\t\tsession.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n\t\t\tsession.connect();\r\n\t\t\tlogger.info(&quot;Connected to &quot; + dto.getHost() + &quot;.&quot;);\r\n\t\t\t\r\n\t\t\tchannel = session.openChannel(&quot;sftp&quot;);\r\n\t\t\tchannel.connect();\r\n\t\t\tchannelSftp = (ChannelSftp) channel;\r\n\t\t\t\r\n\t\t\tList&lt;String&gt; filesToDownload = getFilesToDownload(dto,channelSftp);\r\n\t\t\t\r\n\t\t\tif (!filesToDownload.isEmpty()) {\r\n\t\t\t\tfor (String fileDownloadName : filesToDownload) {\r\n\t\t\t\t\tsuccess = false;\r\n\t\t\t\t\tOutputStream output = new FileOutputStream(\r\n\t\t\t\t\t\t&quot;C:\\Download\\BLT_03112012&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tchannelSftp.get(&quot;BLT_03112012&quot;,output);\r\n\t\t\t\t\tsuccess = true;\r\n\t\t\t\t\tif (success)\r\n\t\t\t\t\t\tlogger.info(ServerConstants.DOWNLOAD_SUCCESS_MSG\r\n\t\t\t\t\t\t\t\t\t\t+ fileDownloadName);\r\n\t\t\t\t\toutput.close();\r\n\t\t\t\t}\r\n\r\n\t\t\t}else {\r\n\t\t\t\tlogger.info(ServerConstants.NO_FILES_TO_DOWNLOAD\r\n\t\t\t\t\t\t+ ServerUtils.getDateTime());\r\n\t\t\t\tsuccess = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (JSchException ex) {\r\n\t\t\tlogger.error( ServerConstants.SFTP_REFUSED_CONNECTION, ex);\r\n\t\t} catch (SftpException ex) {\r\n\t\t\tlogger.error(ServerConstants.FILE_DOWNLOAD_FAILED, ex);\r\n\t\t} catch (IOException ex) {\r\n\t\t\tlogger.error(ServerConstants.FILE_NOT_FOUND, ex);\r\n\t\t}catch (Exception ex) {\r\n\t\t\tlogger.error(ServerConstants.ERROR, ex);\r\n\t\t}finally {\r\n\t\t\tif (channelSftp.isConnected()) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tsession.disconnect();\r\n\t\t\t\t\tchannel.disconnect();\r\n\t\t\t\t\tchannelSftp.quit();\r\n\t\t\t\t\tlogger.info( ServerConstants.FTP_DISCONNECT);\r\n\t\t\t\t} catch (Exception ioe) {\r\n\t\t\t\t\tlogger.error(ServerConstants.FTP_NOT_DISCONNECT, ioe);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tlogger.trace(&quot;Exiting downloadFile() method&quot;);\r\n\t}\r\n\r\nThe line `sftpChannel.get(filename, outputstream)` is throwing an error.\r\n    \r\n  \r\n\r\n&gt;       2: File not found\r\n&gt;         \tat com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2629)\r\n&gt;         \tat com.jcraft.jsch.ChannelSftp._get(ChannelSftp.java:977)\r\n&gt;         \tat com.jcraft.jsch.ChannelSftp.get(ChannelSftp.java:946)\r\n&gt;         \tat com.jcraft.jsch.ChannelSftp.get(ChannelSftp.java:924)\r\n&gt;         \tat za.co.tpc.sftpserver.SftpConnection.downloadFile(SftpConnection.java:72)\r\n&gt;         \tat za.co.tpc.server.execute.FtpMtn.main(FtpMtn.java:44)\r\n\r\nThe same code does download Text Document file types but fails for &#39;File&#39; filetype","title":"Downloading files from an SFTP server using JSch","body":"<p>I am using jsch to download files from server, my code below.</p>\n<pre><code>public static void downloadFile(TpcCredentialsDTO dto) {\n        logger.trace(&quot;Entering downloadFile() method&quot;);\n        \n    Session session = null;\n    Channel channel = null;\n    ChannelSftp channelSftp = null;\n    boolean success = false;\n    \n    try {\n        JSch jsch = new JSch();\n        session = jsch.getSession(dto.getUsername(), dto.getHost(),\n                dto.getPort());\n        session.setPassword(dto.getPassword());\n\n        session.setConfig(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n        session.connect();\n        logger.info(&quot;Connected to &quot; + dto.getHost() + &quot;.&quot;);\n        \n        channel = session.openChannel(&quot;sftp&quot;);\n        channel.connect();\n        channelSftp = (ChannelSftp) channel;\n        \n        List&lt;String&gt; filesToDownload = getFilesToDownload(dto,channelSftp);\n        \n        if (!filesToDownload.isEmpty()) {\n            for (String fileDownloadName : filesToDownload) {\n                success = false;\n                OutputStream output = new FileOutputStream(\n                    &quot;C:\\Download\\BLT_03112012&quot;);\n                \n                channelSftp.get(&quot;BLT_03112012&quot;,output);\n                success = true;\n                if (success)\n                    logger.info(ServerConstants.DOWNLOAD_SUCCESS_MSG\n                                    + fileDownloadName);\n                output.close();\n            }\n\n        }else {\n            logger.info(ServerConstants.NO_FILES_TO_DOWNLOAD\n                    + ServerUtils.getDateTime());\n            success = true;\n        }\n        \n    } catch (JSchException ex) {\n        logger.error( ServerConstants.SFTP_REFUSED_CONNECTION, ex);\n    } catch (SftpException ex) {\n        logger.error(ServerConstants.FILE_DOWNLOAD_FAILED, ex);\n    } catch (IOException ex) {\n        logger.error(ServerConstants.FILE_NOT_FOUND, ex);\n    }catch (Exception ex) {\n        logger.error(ServerConstants.ERROR, ex);\n    }finally {\n        if (channelSftp.isConnected()) {\n            try {\n                session.disconnect();\n                channel.disconnect();\n                channelSftp.quit();\n                logger.info( ServerConstants.FTP_DISCONNECT);\n            } catch (Exception ioe) {\n                logger.error(ServerConstants.FTP_NOT_DISCONNECT, ioe);\n            }\n        }\n    }\n    logger.trace(&quot;Exiting downloadFile() method&quot;);\n}\n</code></pre>\n<p>The line <code>sftpChannel.get(filename, outputstream)</code> is throwing an error.</p>\n<blockquote>\n<pre><code>  2: File not found\n      at com.jcraft.jsch.ChannelSftp.throwStatusError(ChannelSftp.java:2629)\n      at com.jcraft.jsch.ChannelSftp._get(ChannelSftp.java:977)\n      at com.jcraft.jsch.ChannelSftp.get(ChannelSftp.java:946)\n      at com.jcraft.jsch.ChannelSftp.get(ChannelSftp.java:924)\n      at za.co.tpc.sftpserver.SftpConnection.downloadFile(SftpConnection.java:72)\n      at za.co.tpc.server.execute.FtpMtn.main(FtpMtn.java:44)\n</code></pre>\n</blockquote>\n<p>The same code does download Text Document file types but fails for 'File' filetype</p>\n"},{"tags":["java","jvm","ssl-certificate","truststore"],"owner":{"account_id":5957897,"reputation":364,"user_id":4683883,"accept_rate":50,"display_name":"Jefe infiltrado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677833994,"creation_date":1677745320,"question_id":75612873,"body_markdown":"I am uploading test results with Java to Jira/Xray. It works fine on some machines but on others it runs into this error:\r\n\r\n    javax.net.ssl.SSLException: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\r\n\r\nI am using these lines to set the certificates:\r\n\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;src/main/resources/cacerts&quot;);\r\n\r\nThe machines (Windows) where it does not work are from some clients with very restricted user right. Does anyone have an idea what needs to be changed in settings in order to make this work? ","title":"InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty appearing in some cases and in others not","body":"<p>I am uploading test results with Java to Jira/Xray. It works fine on some machines but on others it runs into this error:</p>\n<pre><code>javax.net.ssl.SSLException: java.lang.RuntimeException: Unexpected error: java.security.InvalidAlgorithmParameterException: the trustAnchors parameter must be non-empty\n</code></pre>\n<p>I am using these lines to set the certificates:</p>\n<pre><code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;src/main/resources/cacerts&quot;);\n</code></pre>\n<p>The machines (Windows) where it does not work are from some clients with very restricted user right. Does anyone have an idea what needs to be changed in settings in order to make this work?</p>\n"},{"tags":["java","json","jackson","modelmapper"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635942801,"creation_date":1635942801,"answer_id":69824920,"question_id":69824842,"body_markdown":"Did you try to use [conditional mapping][1] ?\r\n\r\nThis will allow you to create different conditions for different consumers and map accordingly.\r\n\r\n\r\n  [1]: http://modelmapper.org/user-manual/property-mapping/#conditional-mapping","title":"How to use different typemap for the same ModelMapper","body":"<p>Did you try to use <a href=\"http://modelmapper.org/user-manual/property-mapping/#conditional-mapping\" rel=\"nofollow noreferrer\">conditional mapping</a> ?</p>\n<p>This will allow you to create different conditions for different consumers and map accordingly.</p>\n"},{"tags":[],"owner":{"account_id":8249980,"reputation":151,"user_id":6204958,"display_name":"Andrii Ofim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677833722,"creation_date":1677833722,"answer_id":75624997,"question_id":69824842,"body_markdown":"The desired behavior can be achieved via using `typeMapName`\r\n\r\nConfigure named mappings\r\n\r\n    modelMapper.createTypeMap(Student.class, StudentDto.class, &quot;Consumer1&quot;)\r\n      .addMappings(new PropertyMap&lt;&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected void configure() {\r\n\t\t\t\t\t\tskip(destination.getDrivingLicenceNo());\r\n\t\t\t\t\t}\r\n\t   });\r\n    \r\n    modelMapper.createTypeMap(Student.class, StudentDto.class, &quot;Consumer2&quot;)\r\n      .addMappings(new PropertyMap&lt;&gt;() {\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected void configure() {\r\n\t\t\t\t\t\tskip(destination.getPassportNo());\r\n\t\t\t\t\t}\r\n\t   });\r\n\r\nUse named mappings\r\n\r\n    modelMapper.map(student, StudentDto.class, &quot;Consumer1&quot;);\r\n    modelMapper.map(student, StudentDto.class, &quot;Consumer2&quot;);\r\n\r\nUnfortunately, This feature is not mentioned in ModelMapper [user manual][1]\r\n\r\n\r\n  [1]: https://modelmapper.org/user-manual/","title":"How to use different typemap for the same ModelMapper","body":"<p>The desired behavior can be achieved via using <code>typeMapName</code></p>\n<p>Configure named mappings</p>\n<pre><code>modelMapper.createTypeMap(Student.class, StudentDto.class, &quot;Consumer1&quot;)\n  .addMappings(new PropertyMap&lt;&gt;() {\n                @Override\n                protected void configure() {\n                    skip(destination.getDrivingLicenceNo());\n                }\n   });\n\nmodelMapper.createTypeMap(Student.class, StudentDto.class, &quot;Consumer2&quot;)\n  .addMappings(new PropertyMap&lt;&gt;() {\n                @Override\n                protected void configure() {\n                    skip(destination.getPassportNo());\n                }\n   });\n</code></pre>\n<p>Use named mappings</p>\n<pre><code>modelMapper.map(student, StudentDto.class, &quot;Consumer1&quot;);\nmodelMapper.map(student, StudentDto.class, &quot;Consumer2&quot;);\n</code></pre>\n<p>Unfortunately, This feature is not mentioned in ModelMapper <a href=\"https://modelmapper.org/user-manual/\" rel=\"nofollow noreferrer\">user manual</a></p>\n"}],"owner":{"account_id":4516602,"reputation":405,"user_id":3671230,"accept_rate":43,"display_name":"Abdul Razak AK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677833722,"creation_date":1635942497,"question_id":69824842,"body_markdown":"I&#39;m using ModelMapper to transform entity to dto, but we have a requirement that, same endpoints will be used by the multiple consumer. So, we have to restrict the fields based on the consumer.\r\n\r\nEg : \r\n```\r\nConsumer 1 -&gt; fullName, aadharNo, other details...\r\nConsumer 2 -&gt; fullName, passportNo, other details...\r\nConsumer 3 -&gt; fullName, drivingLicenceNo\r\nConsumer 4-&gt; All fields\r\n\r\n\r\npublic class Student {\r\n    private String fullName;\r\n    private String aadharNo;\r\n    private String passportNo;\r\n    private String drivingLicenceNo;\r\n    private String age;\r\n    private String schoolName;\r\n    private String collegeName;\r\n    private String grade;\r\n    private String schoolMark;\r\n}\r\n\r\npublic class StudentDto {\r\n    private String fullName;\r\n    private String aadharNo;\r\n    private String passportNo;\r\n    private String drivingLicenceNo;\r\n    private String age;\r\n    private String schoolName;\r\n    private String collegeName;\r\n    private String grade;\r\n    private String schoolMark;\r\n}\r\n```\r\nI tried to achieve the same having multiple typeMap for the same model mapper, but not able to overwrite typemap once it is defined in modelmapper.\r\n\r\nSample PropertyMap :\r\n```\r\n   PropertyMap&lt;Student , StudentDto&gt; skipModifiedFieldsMap = new PropertyMap&lt;Student , StudentDto&gt;() {\r\n      protected void configure() {\r\n         //skip().setAadharNo(null);\r\n     }\r\n   };\r\n```\r\n\r\nCould you please suggest some good ways to achieve it. any library is fine.\r\n","title":"How to use different typemap for the same ModelMapper","body":"<p>I'm using ModelMapper to transform entity to dto, but we have a requirement that, same endpoints will be used by the multiple consumer. So, we have to restrict the fields based on the consumer.</p>\n<p>Eg :</p>\n<pre><code>Consumer 1 -&gt; fullName, aadharNo, other details...\nConsumer 2 -&gt; fullName, passportNo, other details...\nConsumer 3 -&gt; fullName, drivingLicenceNo\nConsumer 4-&gt; All fields\n\n\npublic class Student {\n    private String fullName;\n    private String aadharNo;\n    private String passportNo;\n    private String drivingLicenceNo;\n    private String age;\n    private String schoolName;\n    private String collegeName;\n    private String grade;\n    private String schoolMark;\n}\n\npublic class StudentDto {\n    private String fullName;\n    private String aadharNo;\n    private String passportNo;\n    private String drivingLicenceNo;\n    private String age;\n    private String schoolName;\n    private String collegeName;\n    private String grade;\n    private String schoolMark;\n}\n</code></pre>\n<p>I tried to achieve the same having multiple typeMap for the same model mapper, but not able to overwrite typemap once it is defined in modelmapper.</p>\n<p>Sample PropertyMap :</p>\n<pre><code>   PropertyMap&lt;Student , StudentDto&gt; skipModifiedFieldsMap = new PropertyMap&lt;Student , StudentDto&gt;() {\n      protected void configure() {\n         //skip().setAadharNo(null);\n     }\n   };\n</code></pre>\n<p>Could you please suggest some good ways to achieve it. any library is fine.</p>\n"},{"tags":["java","regex","split","delimiter"],"comments":[{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":1,"creation_date":1677636293,"post_id":75598900,"comment_id":133376069,"body_markdown":"[This is close to a dup](https://stackoverflow.com/q/67637203/1270789), but is for JavaScript instead; it should be easy to adapt into an answer but I don&#39;t have time right now.","body":"<a href=\"https://stackoverflow.com/q/67637203/1270789\">This is close to a dup</a>, but is for JavaScript instead; it should be easy to adapt into an answer but I don&#39;t have time right now."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1677639257,"post_id":75598900,"comment_id":133376439,"body_markdown":"Even though some find regex convenient, I find complicated regex hard to maintain, and probably should be avoided.  A simple parser, just a loop that iterates over the string, would be easy to implement and understand for a later maintainer.","body":"Even though some find regex convenient, I find complicated regex hard to maintain, and probably should be avoided.  A simple parser, just a loop that iterates over the string, would be easy to implement and understand for a later maintainer."},{"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"score":0,"creation_date":1677642442,"post_id":75598900,"comment_id":133376828,"body_markdown":"@markspace - Indeed.  Increment counter on char=&#39;{&#39;, decrement on char=&#39;}&#39;, split on counter=0 &amp; char=&#39;-&#39;.  Done.","body":"@markspace - Indeed.  Increment counter on char=&#39;{&#39;, decrement on char=&#39;}&#39;, split on counter=0 &amp; char=&#39;-&#39;.  Done."}],"answers":[{"comments":[{"owner":{"account_id":12579153,"reputation":25,"user_id":9150507,"display_name":"user9150507"},"score":0,"creation_date":1677643905,"post_id":75599310,"comment_id":133376985,"body_markdown":"thanks for the response @Cary, I see in the demo it is working as expected but when I do\n`\nabc.split(regex)\n`\n\nI am getting the output as\n`\n[&quot;&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;]\n`","body":"thanks for the response @Cary, I see in the demo it is working as expected but when I do ` abc.split(regex) `  I am getting the output as ` [&quot;&quot;, &quot;-&quot;, &quot;-&quot;, &quot;-&quot;] `"},{"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"score":0,"creation_date":1677647768,"post_id":75599310,"comment_id":133377425,"body_markdown":"With this regex you need to match, not split. See the demo.","body":"With this regex you need to match, not split. See the demo."}],"tags":[],"owner":{"account_id":94036,"reputation":107726,"user_id":256970,"accept_rate":86,"display_name":"Cary Swoveland"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677641710,"creation_date":1677641141,"answer_id":75599310,"question_id":75598900,"body_markdown":"You could match the regular expression\r\n\r\n    (?:\\{\\{.*?\\}\\}|[^{}\\-]+)\r\n\r\n[Demo](https://regex101.com/r/drR4nB/1)\r\n\r\nThe expression could be broken down as follow.\r\n\r\n    (?:         begin a non-capture group\r\n      \\{\\{      match literal\r\n      .*?       match zero or more chars other than line terminators, lazily\r\n      \\}\\}      match literal\r\n    |           or\r\n      [^{}\\-]+  match one or more characters other than &#39;{&#39;, &#39;}&#39; or &#39;-&#39;\r\n    )           end non-capture group\r\n","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>You could match the regular expression</p>\n<pre><code>(?:\\{\\{.*?\\}\\}|[^{}\\-]+)\n</code></pre>\n<p><a href=\"https://regex101.com/r/drR4nB/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n<p>The expression could be broken down as follow.</p>\n<pre><code>(?:         begin a non-capture group\n  \\{\\{      match literal\n  .*?       match zero or more chars other than line terminators, lazily\n  \\}\\}      match literal\n|           or\n  [^{}\\-]+  match one or more characters other than '{', '}' or '-'\n)           end non-capture group\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677644822,"creation_date":1677644822,"answer_id":75599575,"question_id":75598900,"body_markdown":"This is kind of a non-answer, but it&#39;s taken you an hour to get a regex answer, and this took me 20 minutes including some light testing and comments.  It&#39;s a bit more complicated than I thought, though perhaps that could be improved.  \r\n\r\nI&#39;ve added some light comments to indicate what I&#39;m doing.  Adding some Javadoc to the `parse()` method would also make it more readable.  \r\n\r\nIf you find it helpful, feel free to copy.\r\n\r\n```\r\npackage stackoverflow;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\n/**\r\n * @author Brenden\r\n */\r\npublic class ParseDashBrace {\r\n   \r\n   public static void main( String[] args ) {\r\n      List&lt;String&gt; test1 = parse( &quot;{{abc-def}}-123-benefit-{{ghi}}&quot; );\r\n      System.out.println( &quot;Test1 &quot; + test1 );\r\n      List&lt;String&gt; test2 = parse( &quot;abc-{{123-def}}-benefit-{{ghi}}&quot; );\r\n      System.out.println( &quot;Test2 &quot; + test2 );\r\n   }\r\n   \r\n   static List&lt;String&gt; parse( String line ) {\r\n      ArrayList&lt;String&gt; tokens = new ArrayList&lt;&gt;();\r\n      boolean inBrace = false;\r\n      boolean firstBrace = false;\r\n      int start = 0; \r\n      int end = 0;\r\n      // parse the string, split on - and {{}}\r\n      for( ; end &lt; line.length(); end++ ) {\r\n         char c = line.charAt( end );\r\n         if( !inBrace ) {\r\n            // if we are not inside braces, then we look for &quot;-&quot;\r\n            if( c == &#39;-&#39; ) {\r\n               if( start != end )\r\n                  tokens.add( line.substring( start, end) );\r\n               start = end+1;\r\n            } else if( c == &#39;{&#39; ) {\r\n               // we also need to know when we find a brace and are inside\r\n               inBrace = true;\r\n            }\r\n         } else {\r\n            if( c == &#39;}&#39; ) {\r\n               if( firstBrace ) {\r\n                  // we had a first brace and now we found another, two braces total\r\n                  tokens.add( line.substring( start, end+1 ) );\r\n                  start = end+1;\r\n                  firstBrace = false;\r\n                  inBrace = false;\r\n               } else {\r\n                  // this is just the first end brace, flag it, wait for next one\r\n                  firstBrace = true;\r\n               }\r\n            }\r\n         }\r\n      }\r\n      if( start != end ) \r\n         tokens.add( line.substring( start, end ) );\r\n      return tokens;\r\n   }\r\n}\r\n```\r\n","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>This is kind of a non-answer, but it's taken you an hour to get a regex answer, and this took me 20 minutes including some light testing and comments.  It's a bit more complicated than I thought, though perhaps that could be improved.</p>\n<p>I've added some light comments to indicate what I'm doing.  Adding some Javadoc to the <code>parse()</code> method would also make it more readable.</p>\n<p>If you find it helpful, feel free to copy.</p>\n<pre><code>package stackoverflow;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n/**\n * @author Brenden\n */\npublic class ParseDashBrace {\n   \n   public static void main( String[] args ) {\n      List&lt;String&gt; test1 = parse( &quot;{{abc-def}}-123-benefit-{{ghi}}&quot; );\n      System.out.println( &quot;Test1 &quot; + test1 );\n      List&lt;String&gt; test2 = parse( &quot;abc-{{123-def}}-benefit-{{ghi}}&quot; );\n      System.out.println( &quot;Test2 &quot; + test2 );\n   }\n   \n   static List&lt;String&gt; parse( String line ) {\n      ArrayList&lt;String&gt; tokens = new ArrayList&lt;&gt;();\n      boolean inBrace = false;\n      boolean firstBrace = false;\n      int start = 0; \n      int end = 0;\n      // parse the string, split on - and {{}}\n      for( ; end &lt; line.length(); end++ ) {\n         char c = line.charAt( end );\n         if( !inBrace ) {\n            // if we are not inside braces, then we look for &quot;-&quot;\n            if( c == '-' ) {\n               if( start != end )\n                  tokens.add( line.substring( start, end) );\n               start = end+1;\n            } else if( c == '{' ) {\n               // we also need to know when we find a brace and are inside\n               inBrace = true;\n            }\n         } else {\n            if( c == '}' ) {\n               if( firstBrace ) {\n                  // we had a first brace and now we found another, two braces total\n                  tokens.add( line.substring( start, end+1 ) );\n                  start = end+1;\n                  firstBrace = false;\n                  inBrace = false;\n               } else {\n                  // this is just the first end brace, flag it, wait for next one\n                  firstBrace = true;\n               }\n            }\n         }\n      }\n      if( start != end ) \n         tokens.add( line.substring( start, end ) );\n      return tokens;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1677668750,"creation_date":1677668750,"answer_id":75602841,"question_id":75598900,"body_markdown":"Your regex will be simpler if you use `matcher` instead of `split`. Note that in your first regex, the `^` functions as a start of input anchor, so that will never match.\r\n\r\nWith `matcher` you can use this regex:\r\n\r\n    \\{\\{.*?\\}\\}|[^-]+\r\n\r\nIn code:\r\n\r\n```\r\nimport java.util.*;\r\nimport java.util.regex.*;\r\n\r\n// ...\r\n\r\n        String regex = &quot;\\\\{\\\\{.*?\\\\}\\\\}|[^-]+&quot;;\r\n        String abc = &quot;{{abc-def}}-123-benefit-{{def}}&quot;;\r\n        ArrayList&lt;String&gt; output = new ArrayList&lt;&gt;();\r\n        Matcher m = Pattern.compile(regex).matcher(abc);\r\n        while (m.find()) {\r\n            output.add(m.group());\r\n        }\r\n","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>Your regex will be simpler if you use <code>matcher</code> instead of <code>split</code>. Note that in your first regex, the <code>^</code> functions as a start of input anchor, so that will never match.</p>\n<p>With <code>matcher</code> you can use this regex:</p>\n<pre><code>\\{\\{.*?\\}\\}|[^-]+\n</code></pre>\n<p>In code:</p>\n<pre><code>import java.util.*;\nimport java.util.regex.*;\n\n// ...\n\n        String regex = &quot;\\\\{\\\\{.*?\\\\}\\\\}|[^-]+&quot;;\n        String abc = &quot;{{abc-def}}-123-benefit-{{def}}&quot;;\n        ArrayList&lt;String&gt; output = new ArrayList&lt;&gt;();\n        Matcher m = Pattern.compile(regex).matcher(abc);\n        while (m.find()) {\n            output.add(m.group());\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8571883,"reputation":821,"user_id":6422459,"display_name":"DigitShifter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677833152,"creation_date":1677833152,"answer_id":75624911,"question_id":75598900,"body_markdown":"Alternative:\r\n\r\nUsed regex:\r\n\r\n    &quot;(?&lt;!\\\\{\\\\{\\\\w{1,100})-&quot;\r\n\r\nSee regex in context and test-bench, below:\r\n\r\n    public static void main(String[] args) {\r\n        String input1 = &quot;{{abc-def}}-123-benefit-{{ghi}}&quot;;\r\n        String input2 = &quot;abc-{{123-def}}-benefit-{{ghi}}&quot;;\r\n\r\n        String regex = &quot;(?&lt;!\\\\{\\\\{\\\\w{1,100})-&quot;;\r\n\r\n        System.out.println(&quot;Result of input1: &quot; + Arrays.asList(input1.split(regex)));\r\n        System.out.println(&quot;Result of input2: &quot; + Arrays.asList(input2.split(regex)));\r\n    }\r\n\r\nOutput:\r\n\r\n    Result of input1: [{{abc-def}}, 123, benefit, {{ghi}}]\r\n    Result of input2: [abc, {{123-def}}, benefit, {{ghi}}]\r\n\r\nComment:\r\n\r\n    Used Pattern:\r\n    (?&lt;!X)\tX, via zero-width negative lookbehind\r\n\r\nRead more about Pattern here: https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\r\n\r\nOther tools for testing regex: https://regex101.com/","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>Alternative:</p>\n<p>Used regex:</p>\n<pre><code>&quot;(?&lt;!\\\\{\\\\{\\\\w{1,100})-&quot;\n</code></pre>\n<p>See regex in context and test-bench, below:</p>\n<pre><code>public static void main(String[] args) {\n    String input1 = &quot;{{abc-def}}-123-benefit-{{ghi}}&quot;;\n    String input2 = &quot;abc-{{123-def}}-benefit-{{ghi}}&quot;;\n\n    String regex = &quot;(?&lt;!\\\\{\\\\{\\\\w{1,100})-&quot;;\n\n    System.out.println(&quot;Result of input1: &quot; + Arrays.asList(input1.split(regex)));\n    System.out.println(&quot;Result of input2: &quot; + Arrays.asList(input2.split(regex)));\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Result of input1: [{{abc-def}}, 123, benefit, {{ghi}}]\nResult of input2: [abc, {{123-def}}, benefit, {{ghi}}]\n</code></pre>\n<p>Comment:</p>\n<pre><code>Used Pattern:\n(?&lt;!X)  X, via zero-width negative lookbehind\n</code></pre>\n<p>Read more about Pattern here: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/10/docs/api/java/util/regex/Pattern.html</a></p>\n<p>Other tools for testing regex: <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a></p>\n"}],"owner":{"account_id":12579153,"reputation":25,"user_id":9150507,"display_name":"user9150507"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1677833152,"creation_date":1677635450,"question_id":75598900,"body_markdown":"I have some strings that I want to separate based on dashes but only if dashes exist outside of double curly braces like below:\r\n\r\n{{abc-def}}-123-benefit-{{ghi}} should break into {{abc-def}}, 123, benefit, {{ghi}}\r\n\r\nabc-{{123-def}}-benefit-{{ghi}} should break into abc, {{123-def}}, benefit, {{ghi}}\r\n\r\nI am trying to use regex to do that, but not able to get it done since I am novice with Regex. Based on some of the answers I could research, I tried following piece, but didn&#39;t get expected output:\r\n\r\n```\r\nString regex = &quot;-(?!\\\\{\\\\{^\\\\{\\\\{\\\\}\\\\}*\\\\}\\\\})&quot;;\r\nString newRegex = &quot;-(?:[^,\\&quot;]|\\&quot;[^\\&quot;]*\\&quot;)+-&quot;;\r\nString abc = &quot;{{abc-def}}-123-benefit-{{def}}&quot;;\r\nString[] output1 = abc.split(regex);\r\nString[] output2 = abc.split(newRegex);\r\n```\r\n\r\nGetting output1 as\r\n```\r\n[&quot;{{abc&quot;, &quot;def}}&quot;, &quot;123&quot;, &quot;benefit&quot;, &quot;{{def}}&quot;]\r\n```\r\n\r\nand output2 as\r\n```\r\n[&quot;{{abc&quot;, &quot;{{def}}&quot;]\r\n```\r\n\r\nExpected output is\r\n```\r\n[&quot;{{abc-def}}&quot;, &quot;123&quot;, &quot;benefit&quot;, &quot;{{def}}&quot;]\r\n```\r\n\r\n","title":"Java regular expression to split a string by dashes positioned outside of double curly braces","body":"<p>I have some strings that I want to separate based on dashes but only if dashes exist outside of double curly braces like below:</p>\n<p>{{abc-def}}-123-benefit-{{ghi}} should break into {{abc-def}}, 123, benefit, {{ghi}}</p>\n<p>abc-{{123-def}}-benefit-{{ghi}} should break into abc, {{123-def}}, benefit, {{ghi}}</p>\n<p>I am trying to use regex to do that, but not able to get it done since I am novice with Regex. Based on some of the answers I could research, I tried following piece, but didn't get expected output:</p>\n<pre><code>String regex = &quot;-(?!\\\\{\\\\{^\\\\{\\\\{\\\\}\\\\}*\\\\}\\\\})&quot;;\nString newRegex = &quot;-(?:[^,\\&quot;]|\\&quot;[^\\&quot;]*\\&quot;)+-&quot;;\nString abc = &quot;{{abc-def}}-123-benefit-{{def}}&quot;;\nString[] output1 = abc.split(regex);\nString[] output2 = abc.split(newRegex);\n</code></pre>\n<p>Getting output1 as</p>\n<pre><code>[&quot;{{abc&quot;, &quot;def}}&quot;, &quot;123&quot;, &quot;benefit&quot;, &quot;{{def}}&quot;]\n</code></pre>\n<p>and output2 as</p>\n<pre><code>[&quot;{{abc&quot;, &quot;{{def}}&quot;]\n</code></pre>\n<p>Expected output is</p>\n<pre><code>[&quot;{{abc-def}}&quot;, &quot;123&quot;, &quot;benefit&quot;, &quot;{{def}}&quot;]\n</code></pre>\n"},{"tags":["java","json","edifact"],"owner":{"account_id":23020749,"reputation":302,"user_id":17141839,"display_name":"zordu-nickim-agzivi-sikm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677833127,"creation_date":1677833127,"question_id":75624909,"body_markdown":"I am trying to following this repository [https://github.com/BerryWorksSoftware/edi-json][1] everything works fine but when edifact message converted into json some curly brackets missing. This occurs because of multiple brackets in my opinion.\r\n\r\nFor an instance this is segment line where error occurs\r\n\r\n    UNB(TEST:Number(TEST:TEST(TEST(Number:Number(Number((TEST-\r\n\r\nwhen edifact message generate into json it looks like this:\r\n\r\n    {\r\n      &quot;UNB_01_SyntaxIdentifier&quot;: {\r\n        &quot;UNB_01_01_SyntaxIdentifier&quot;: &quot;value&quot;,\r\n        &quot;UNB_01_02_SyntaxVersionNumber&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_02_InterchangeSender&quot;: {\r\n        &quot;UNB_02_01_InterchangeSenderIdentification&quot;: &quot;value&quot;,\r\n        &quot;UNB_02_02_IdentificationCodeQualifier&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_03_InterchangeReceiver&quot;: {\r\n        &quot;UNB_03_01_InterchangeReceiverIdentification&quot;: &quot;value&quot;,\r\n        &quot;UNB_03_02_IdentificationCodeQualifier&quot;: &quot;&quot;\r\n      },\r\n      &quot;UNB_04_DateAndTimeOfPreparation&quot;: {\r\n        &quot;UNB_04_01_Date&quot;: &quot;value&quot;,\r\n        &quot;UNB_04_02_Time&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_05_InterchangeControlReference&quot;: &quot;value&quot;,\r\n\r\nbut it missing add brackets. It would be like this \r\n\r\n    {\r\n      &quot;UNB_01_SyntaxIdentifier&quot;: {\r\n        &quot;UNB_01_01_SyntaxIdentifier&quot;: &quot;value&quot;,\r\n        &quot;UNB_01_02_SyntaxVersionNumber&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_02_InterchangeSender&quot;: {\r\n        &quot;UNB_02_01_InterchangeSenderIdentification&quot;: &quot;value&quot;,\r\n        &quot;UNB_02_02_IdentificationCodeQualifier&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_03_InterchangeReceiver&quot;: {\r\n        &quot;UNB_03_01_InterchangeReceiverIdentification&quot;: &quot;value&quot;,\r\n        &quot;UNB_03_02_IdentificationCodeQualifier&quot;: &quot;&quot;\r\n      },\r\n      &quot;UNB_04_DateAndTimeOfPreparation&quot;: {\r\n        &quot;UNB_04_01_Date&quot;: &quot;value&quot;,\r\n        &quot;UNB_04_02_Time&quot;: &quot;value&quot;\r\n      },\r\n      &quot;UNB_05_InterchangeControlReference&quot;: &quot;value&quot;\r\n    }\r\n\r\nis there any way before generating json split something you know?\r\n\r\n\r\n  [1]: https://github.com/BerryWorksSoftware/edi-json","title":"Edifact message couldn&#39;t correctly format to into json","body":"<p>I am trying to following this repository <a href=\"https://github.com/BerryWorksSoftware/edi-json\" rel=\"nofollow noreferrer\">https://github.com/BerryWorksSoftware/edi-json</a> everything works fine but when edifact message converted into json some curly brackets missing. This occurs because of multiple brackets in my opinion.</p>\n<p>For an instance this is segment line where error occurs</p>\n<pre><code>UNB(TEST:Number(TEST:TEST(TEST(Number:Number(Number((TEST-\n</code></pre>\n<p>when edifact message generate into json it looks like this:</p>\n<pre><code>{\n  &quot;UNB_01_SyntaxIdentifier&quot;: {\n    &quot;UNB_01_01_SyntaxIdentifier&quot;: &quot;value&quot;,\n    &quot;UNB_01_02_SyntaxVersionNumber&quot;: &quot;value&quot;\n  },\n  &quot;UNB_02_InterchangeSender&quot;: {\n    &quot;UNB_02_01_InterchangeSenderIdentification&quot;: &quot;value&quot;,\n    &quot;UNB_02_02_IdentificationCodeQualifier&quot;: &quot;value&quot;\n  },\n  &quot;UNB_03_InterchangeReceiver&quot;: {\n    &quot;UNB_03_01_InterchangeReceiverIdentification&quot;: &quot;value&quot;,\n    &quot;UNB_03_02_IdentificationCodeQualifier&quot;: &quot;&quot;\n  },\n  &quot;UNB_04_DateAndTimeOfPreparation&quot;: {\n    &quot;UNB_04_01_Date&quot;: &quot;value&quot;,\n    &quot;UNB_04_02_Time&quot;: &quot;value&quot;\n  },\n  &quot;UNB_05_InterchangeControlReference&quot;: &quot;value&quot;,\n</code></pre>\n<p>but it missing add brackets. It would be like this</p>\n<pre><code>{\n  &quot;UNB_01_SyntaxIdentifier&quot;: {\n    &quot;UNB_01_01_SyntaxIdentifier&quot;: &quot;value&quot;,\n    &quot;UNB_01_02_SyntaxVersionNumber&quot;: &quot;value&quot;\n  },\n  &quot;UNB_02_InterchangeSender&quot;: {\n    &quot;UNB_02_01_InterchangeSenderIdentification&quot;: &quot;value&quot;,\n    &quot;UNB_02_02_IdentificationCodeQualifier&quot;: &quot;value&quot;\n  },\n  &quot;UNB_03_InterchangeReceiver&quot;: {\n    &quot;UNB_03_01_InterchangeReceiverIdentification&quot;: &quot;value&quot;,\n    &quot;UNB_03_02_IdentificationCodeQualifier&quot;: &quot;&quot;\n  },\n  &quot;UNB_04_DateAndTimeOfPreparation&quot;: {\n    &quot;UNB_04_01_Date&quot;: &quot;value&quot;,\n    &quot;UNB_04_02_Time&quot;: &quot;value&quot;\n  },\n  &quot;UNB_05_InterchangeControlReference&quot;: &quot;value&quot;\n}\n</code></pre>\n<p>is there any way before generating json split something you know?</p>\n"},{"tags":["java","readme"],"comments":[{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575249073,"post_id":59131463,"comment_id":104491015,"body_markdown":"the topic you&#39;re asking for is markdown creation (.md file). I googled a bit and saw a javadoc to markdown [generator](https://delight-im.github.io/Javadoc-to-Markdown/), maybe there&#39;s more. so you&#39;d have the chain java -&gt; javadoc -&gt; markdown","body":"the topic you&#39;re asking for is markdown creation (.md file). I googled a bit and saw a javadoc to markdown <a href=\"https://delight-im.github.io/Javadoc-to-Markdown/\" rel=\"nofollow noreferrer\">generator</a>, maybe there&#39;s more. so you&#39;d have the chain java -&gt; javadoc -&gt; markdown"},{"owner":{"account_id":6234697,"reputation":1018,"user_id":4850377,"accept_rate":47,"display_name":"GAK"},"score":0,"creation_date":1575256261,"post_id":59131463,"comment_id":104492286,"body_markdown":"Does this answer your question? [Display JavaDocs on GitHub](https://stackoverflow.com/questions/15347808/display-javadocs-on-github)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/15347808/display-javadocs-on-github\">Display JavaDocs on GitHub</a>"},{"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"score":0,"creation_date":1575330131,"post_id":59131463,"comment_id":104522155,"body_markdown":"@gurioso: Thanks for reply i tried option you mentioned however my code is without javadoc so it is giving me #Documentation as a results.","body":"@gurioso: Thanks for reply i tried option you mentioned however my code is without javadoc so it is giving me #Documentation as a results."},{"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"score":0,"creation_date":1575330267,"post_id":59131463,"comment_id":104522184,"body_markdown":"@GAK : we are not using git hub and can&#39;t upload code on git because of privacy policy.Is there any other way.","body":"@GAK : we are not using git hub and can&#39;t upload code on git because of privacy policy.Is there any other way."},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575330271,"post_id":59131463,"comment_id":104522185,"body_markdown":"Hm, but how is then the relationship from your java (I assume) code to something that looks like markup? But maybe I understood the question all wrong. If you have no javadoc sections in your code, then it seems to me, there is no way.","body":"Hm, but how is then the relationship from your java (I assume) code to something that looks like markup? But maybe I understood the question all wrong. If you have no javadoc sections in your code, then it seems to me, there is no way."},{"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"score":0,"creation_date":1575330466,"post_id":59131463,"comment_id":104522244,"body_markdown":"@guriso :I will paste the code sample just for sample:public class ReadExcel {\n\t\n\tpublic static String LoadData() {\n\t\n\t\ttry {\n\t\t\t\n\t\t\t\t\t\n\t\t\tFile fs=new File(AppVariableConstants.TestDataPath);\n\t\t\tFileInputStream fis = new FileInputStream(fs);\n\t\t\tHSSFWorkbook workbook = new HSSFWorkbook (fis);\n\t\t\tHSSFSheet sheet = workbook.getSheetAt(0);\n\t\t     int rows; // No of rows\n\t\t    int cols;\n\t\t    String KeyHeader;\n\t\t    String ValueCell=null;\n\t\t    rows = sheet.getPhysicalNumberOfRows();\n\t\t     code sample...}}}","body":"@guriso :I will paste the code sample just for sample:public class ReadExcel { \t \tpublic static String LoadData() { \t \t\ttry { \t\t\t \t\t\t\t\t \t\t\tFile fs=new File(AppVariableConstants.TestDataPath); \t\t\tFileInputStream fis = new FileInputStream(fs); \t\t\tHSSFWorkbook workbook = new HSSFWorkbook (fis); \t\t\tHSSFSheet sheet = workbook.getSheetAt(0); \t\t     int rows; // No of rows \t\t    int cols; \t\t    String KeyHeader; \t\t    String ValueCell=null; \t\t    rows = sheet.getPhysicalNumberOfRows(); \t\t     code sample...}}}"},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575330903,"post_id":59131463,"comment_id":104522348,"body_markdown":"Ok, how should the readme look like then, departing from this snippet? It is not obvious, there are plenty of ways.","body":"Ok, how should the readme look like then, departing from this snippet? It is not obvious, there are plenty of ways."},{"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"score":0,"creation_date":1575330942,"post_id":59131463,"comment_id":104522357,"body_markdown":"@guriso: this is actually a automation framework using java.So readme should have how to install it and each function or method details(just like javadoc has for in-build function).Not sure if this is possible or i have to manually create.","body":"@guriso: this is actually a automation framework using java.So readme should have how to install it and each function or method details(just like javadoc has for in-build function).Not sure if this is possible or i have to manually create."},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575331089,"post_id":59131463,"comment_id":104522387,"body_markdown":"well, @AmrutaPande, I&#39;d also wish to have such kind of generator at hand occasionally. But I&#39;m afraid, there isn&#39;t any who can generate user manuals based on code (yet). If there&#39;s anybody who can prove me wrong, please do it **now**.","body":"well, @AmrutaPande, I&#39;d also wish to have such kind of generator at hand occasionally. But I&#39;m afraid, there isn&#39;t any who can generate user manuals based on code (yet). If there&#39;s anybody who can prove me wrong, please do it <b>now</b>."},{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1575331354,"post_id":59131463,"comment_id":104522442,"body_markdown":"Is it really a **lot** of documentation, you&#39;re talking here about? Like hundreds of pages?","body":"Is it really a <b>lot</b> of documentation, you&#39;re talking here about? Like hundreds of pages?"}],"answers":[{"tags":[],"owner":{"account_id":8021429,"reputation":505,"user_id":6049974,"display_name":"Edgencio Da Calista"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677833119,"creation_date":1677833119,"answer_id":75624906,"question_id":59131463,"body_markdown":"I don&#180;t know if you can do it via java, but there are some amazing tools that help a lot when it comes to generate readme files. Some are Web based like [this one][1] and other are web based similar to https://github.com/kefranabg/readme-md-generator\r\n\r\n\r\n  [1]: https://readme.so/editor","title":"how to create Readme Document automatically in java not from Git hub","body":"<p>I dont know if you can do it via java, but there are some amazing tools that help a lot when it comes to generate readme files. Some are Web based like <a href=\"https://readme.so/editor\" rel=\"nofollow noreferrer\">this one</a> and other are web based similar to <a href=\"https://github.com/kefranabg/readme-md-generator\" rel=\"nofollow noreferrer\">https://github.com/kefranabg/readme-md-generator</a></p>\n"}],"owner":{"account_id":12471056,"reputation":1138,"user_id":9079165,"display_name":"Amruta"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1622,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677833119,"creation_date":1575248839,"question_id":59131463,"body_markdown":"I want to create a readme or something similar to javadoc automatically .\r\nMy code is already ready and i am finding ways if readme can be created automatically if yes then how.\r\nI don&#39;t want readme doc which is created by Git hub.","title":"how to create Readme Document automatically in java not from Git hub","body":"<p>I want to create a readme or something similar to javadoc automatically .\nMy code is already ready and i am finding ways if readme can be created automatically if yes then how.\nI don't want readme doc which is created by Git hub.</p>\n"},{"tags":["java","apache-poi","xlsx"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":2,"creation_date":1677833362,"post_id":75624878,"comment_id":133418951,"body_markdown":"What do you want to achieve? You&#39;re trying to send the same Workbook 10000 times to the client? Certainly not what the response headers say. And as you `sleep` for 100ms each loop iteration, you&#39;re effectively sleepint for 1000 seconds - no wonder, this takes a while to finish...","body":"What do you want to achieve? You&#39;re trying to send the same Workbook 10000 times to the client? Certainly not what the response headers say. And as you <code>sleep</code> for 100ms each loop iteration, you&#39;re effectively sleepint for 1000 seconds - no wonder, this takes a while to finish..."},{"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"score":0,"creation_date":1677834237,"post_id":75624878,"comment_id":133419179,"body_markdown":"data is huge  over 1m. if  it makes temp file, response body causes server response timeout.    yes.  no one answered the question.   you&#39;re right, this code is not right. but it says  &#39;i want to  go  to the client  with buffering!&#39;. my goal is mimic streaming transfer.","body":"data is huge  over 1m. if  it makes temp file, response body causes server response timeout.    yes.  no one answered the question.   you&#39;re right, this code is not right. but it says  &#39;i want to  go  to the client  with buffering!&#39;. my goal is mimic streaming transfer."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1677834263,"post_id":75624878,"comment_id":133419188,"body_markdown":"So basically you want to write the stream over and over to the client each time with new data?","body":"So basically you want to write the stream over and over to the client each time with new data?"},{"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"score":0,"creation_date":1677835013,"post_id":75624878,"comment_id":133419390,"body_markdown":"exactly, right. POI doesn&#39;t offer it. there&#39;s no java xlsx library for network transfer.","body":"exactly, right. POI doesn&#39;t offer it. there&#39;s no java xlsx library for network transfer."},{"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"score":0,"creation_date":1677838251,"post_id":75624878,"comment_id":133420244,"body_markdown":"yes, it is hard or maybe impossible. but uploaded this link(https://d2.naver.com/helloworld/9423440) shows it possible.  is it true or trick?  this is the first step and can close similary questions which continues since few years ago","body":"yes, it is hard or maybe impossible. but uploaded this link(<a href=\"https://d2.naver.com/helloworld/9423440\" rel=\"nofollow noreferrer\">d2.naver.com/helloworld/9423440</a>) shows it possible.  is it true or trick?  this is the first step and can close similary questions which continues since few years ago"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":1,"creation_date":1677839643,"post_id":75624878,"comment_id":133420612,"body_markdown":"DeferredSXSSFWorkbook is an experimental variant of SXSSFWorkbook that is meant to produce a better solution when writing to response streams - see https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java","body":"DeferredSXSSFWorkbook is an experimental variant of SXSSFWorkbook that is meant to produce a better solution when writing to response streams - see <a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java\" rel=\"nofollow noreferrer\">svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/jav&zwnj;&#8203;a/&hellip;</a>"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1677842173,"post_id":75624878,"comment_id":133421331,"body_markdown":"The most robust solution is an async API. The request message contains a URL and you respond that you&#39;ve received the request. A background thread generates the xlsx and posts it to request URL when it is ready.","body":"The most robust solution is an async API. The request message contains a URL and you respond that you&#39;ve received the request. A background thread generates the xlsx and posts it to request URL when it is ready."},{"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"score":0,"creation_date":1677855341,"post_id":75624878,"comment_id":133424991,"body_markdown":"wow, it works well. I can adopt it in my service! &#128516; thank you very much.","body":"wow, it works well. I can adopt it in my service!  thank you very much."}],"owner":{"account_id":17619768,"reputation":34,"user_id":12786012,"display_name":"Jang Sungil"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677832941,"creation_date":1677832941,"question_id":75624878,"body_markdown":"i use java with spring framework. java has a good library, POI which creates xlsx file.\r\n\r\n\r\nit does not depends on some code. \r\ni have a question write it into the servlet response while server make xlsx.\r\n\r\nbut i give you example. the code is rough because i&#39;m developing.\r\n\r\n    public void buildXlsx(HttpServletRequest \r\n    request,HttpServletResponse response) throws \r\n    Exception {\r\n\r\n    response.setHeader(&quot;Content-Description&quot;, &quot;File Transfer&quot;);\r\n    response.setHeader(&quot;Content-Disposition&quot;, \r\n    &quot;attachment;filename=justAFile.xlsx&quot;);\r\n    response.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\r\n    response.setHeader(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\r\n\r\n    try (SXSSFWorkbook xlsWriter1 = new SXSSFWorkbook()) {\r\n        SXSSFSheet sheet1 = xlsWriter1.createSheet(&quot;sheet&quot;);\r\n\r\n        Font defaultFont1 = xlsWriter1.createFont();\r\n\r\n        defaultFont1.setFontHeightInPoints((short) 12);\r\n\r\n        CellStyle headStyle1 = xlsWriter1.createCellStyle();\r\n        headStyle1.setFont(defaultFont1);\r\n\r\n        CellStyle bodyStyle1 = xlsWriter1.createCellStyle();\r\n        bodyStyle1.setFont(defaultFont1);\r\n\r\n        Row row1 = null;\r\n        Cell cell1 = null;\r\n        int rowNo1 = 0;\r\n        int headerColNo1 = 0;\r\n        row1 = sheet1.createRow(rowNo1++);\r\n\r\n        cell1 = row1.createCell(headerColNo1++);\r\n        cell1.setCellValue(&quot;sdf dd&quot;);\r\n        cell1.setCellStyle(headStyle1);\r\n\r\n\r\n        for (int i = 0; i &lt; 10000; i++) {\r\n\r\n            row1 = sheet1.createRow(rowNo1++);\r\n            cell1 = row1.createCell(i);\r\n            cell1.setCellValue(&quot;i don&#39;t know &quot; + i);\r\n            cell1.setCellStyle(bodyStyle1);\r\n            xlsWriter1.write(response.getOutputStream()); // no way, write only once. how to perform lazy generate?\r\n                Thread.sleep(100);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\nthat has process like creating xlsx form -&gt; make temp file -&gt; flush response . \r\nthat makes huge waiting response time while file transfer into response.\r\n\r\n\r\n\r\nbut that cannot implement this creating xlsx form -&gt; flush response.\r\n\r\nthis means it keeps connection and sends partial data continuously. Like youTube streaming.\r\n\r\nnodeJs can do this with excelJs as I know.\r\nbut they haven&#39;t managed issues nowadays(https://github.com/exceljs/exceljs/issues/209).\r\n\r\nand someone has the solution(https://d2.naver.com/helloworld/9423440, how?)\r\n \r\n","title":"is there any solution to directly write in servlet response?","body":"<p>i use java with spring framework. java has a good library, POI which creates xlsx file.</p>\n<p>it does not depends on some code.\ni have a question write it into the servlet response while server make xlsx.</p>\n<p>but i give you example. the code is rough because i'm developing.</p>\n<pre><code>public void buildXlsx(HttpServletRequest \nrequest,HttpServletResponse response) throws \nException {\n\nresponse.setHeader(&quot;Content-Description&quot;, &quot;File Transfer&quot;);\nresponse.setHeader(&quot;Content-Disposition&quot;, \n&quot;attachment;filename=justAFile.xlsx&quot;);\nresponse.setHeader(&quot;Content-Transfer-Encoding&quot;, &quot;binary&quot;);\nresponse.setHeader(&quot;Connection&quot;, &quot;Keep-Alive&quot;);\n\ntry (SXSSFWorkbook xlsWriter1 = new SXSSFWorkbook()) {\n    SXSSFSheet sheet1 = xlsWriter1.createSheet(&quot;sheet&quot;);\n\n    Font defaultFont1 = xlsWriter1.createFont();\n\n    defaultFont1.setFontHeightInPoints((short) 12);\n\n    CellStyle headStyle1 = xlsWriter1.createCellStyle();\n    headStyle1.setFont(defaultFont1);\n\n    CellStyle bodyStyle1 = xlsWriter1.createCellStyle();\n    bodyStyle1.setFont(defaultFont1);\n\n    Row row1 = null;\n    Cell cell1 = null;\n    int rowNo1 = 0;\n    int headerColNo1 = 0;\n    row1 = sheet1.createRow(rowNo1++);\n\n    cell1 = row1.createCell(headerColNo1++);\n    cell1.setCellValue(&quot;sdf dd&quot;);\n    cell1.setCellStyle(headStyle1);\n\n\n    for (int i = 0; i &lt; 10000; i++) {\n\n        row1 = sheet1.createRow(rowNo1++);\n        cell1 = row1.createCell(i);\n        cell1.setCellValue(&quot;i don't know &quot; + i);\n        cell1.setCellStyle(bodyStyle1);\n        xlsWriter1.write(response.getOutputStream()); // no way, write only once. how to perform lazy generate?\n            Thread.sleep(100);\n        }\n    } catch (Exception e) {\n        log.error(e.getMessage(), e);\n    }\n}\n</code></pre>\n<p>that has process like creating xlsx form -&gt; make temp file -&gt; flush response .\nthat makes huge waiting response time while file transfer into response.</p>\n<p>but that cannot implement this creating xlsx form -&gt; flush response.</p>\n<p>this means it keeps connection and sends partial data continuously. Like youTube streaming.</p>\n<p>nodeJs can do this with excelJs as I know.\nbut they haven't managed issues nowadays(<a href=\"https://github.com/exceljs/exceljs/issues/209\" rel=\"nofollow noreferrer\">https://github.com/exceljs/exceljs/issues/209</a>).</p>\n<p>and someone has the solution(<a href=\"https://d2.naver.com/helloworld/9423440\" rel=\"nofollow noreferrer\">https://d2.naver.com/helloworld/9423440</a>, how?)</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":21880995,"reputation":11,"user_id":16169275,"display_name":"Borel Mba"},"score":0,"creation_date":1677851253,"post_id":75624866,"comment_id":133423651,"body_markdown":"i don&#39;t think this might be the problem i have similar tables in the projects wich has been generated","body":"i don&#39;t think this might be the problem i have similar tables in the projects wich has been generated"}],"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677832865,"creation_date":1677832865,"answer_id":75624866,"question_id":75624778,"body_markdown":"DDL fired clearly shows engine confgured as &#39;MyISAM&#39; it should rather be InnoDB\r\n\r\ntry with\r\n\r\n    ENGINE=InnoDB DEFAULT CHARSET=utf8","title":"hibernate error when executing DDL statement","body":"<p>DDL fired clearly shows engine confgured as 'MyISAM' it should rather be InnoDB</p>\n<p>try with</p>\n<pre><code>ENGINE=InnoDB DEFAULT CHARSET=utf8\n</code></pre>\n"}],"owner":{"account_id":21880995,"reputation":11,"user_id":16169275,"display_name":"Borel Mba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677832865,"creation_date":1677832326,"question_id":75624778,"body_markdown":"i&#39;m trying tro create a bank managing system with spring boot for learning purpose and i got this error\r\nError executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement. \r\n\r\ni&#39;m a beginer in spring boot and java i don&#39;t know how to fix this.\r\n\r\nthe link to my repository https://github.com/Bomt237/Gestion-Banque.git\r\n\r\nthe error message\r\n\r\n\r\n```\r\nHibernate: create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM\r\n2023-03-03 09:23:07.649  WARN 13288 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement\r\n\r\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\r\n\tat org.sid.BanqueApplication.main(BanqueApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.9.jar:2.7.9]\r\nCaused by: java.sql.SQLSyntaxErrorException: Specified key was too long; max key length is 1000 bytes\r\n\tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.32.jar:8.0.32]\r\n\tat com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\r\n\tat org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\r\n\t... 39 common frames omitted\r\n```\r\nthe compte class\r\n```\r\npackage org.sid.entit&#233;s;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Collection;\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.DiscriminatorColumn;\r\nimport javax.persistence.DiscriminatorType;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Inheritance;\r\nimport javax.persistence.InheritanceType;\r\nimport javax.persistence.JoinColumn;\r\nimport javax.persistence.ManyToOne;\r\nimport javax.persistence.OneToMany;\r\n\r\nimport lombok.ToString;\r\n@Entity\r\n@Inheritance(strategy =InheritanceType.SINGLE_TABLE)\r\n@DiscriminatorColumn(name = &quot;TYPE_CPTE&quot;, discriminatorType = DiscriminatorType.STRING, length = 2)\r\n@ToString\r\npublic abstract class Compte implements Serializable {\r\n\t@Id\r\n\tprivate String codeCompte;\r\n\tprivate Date dateCreation;\r\n\tprivate double solde;\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;CODE_CLIENT&quot;)\r\n\tprivate Client client;\r\n\t@OneToMany(mappedBy = &quot;compte&quot;)\r\n\tprivate Collection&lt;Operation&gt; operations;\r\n\tpublic Compte() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\tpublic Compte(String codeCompte, Date dateCreation, double solde, Client client) {\r\n\t\tsuper();\r\n\t\tthis.codeCompte = codeCompte;\r\n\t\tthis.dateCreation = dateCreation;\r\n\t\tthis.solde = solde;\r\n\t\tthis.client = client; \r\n\t}\r\n\tpublic String getCodeCompte() {\r\n\t\treturn codeCompte;\r\n\t}\r\n\tpublic void setCodeCompte(String codeCompte) {\r\n\t\tthis.codeCompte = codeCompte;\r\n\t}\r\n\tpublic Date getDateCreation() {\r\n\t\treturn dateCreation;\r\n\t}\r\n\tpublic void setDateCreation(Date dateCreation) {\r\n\t\tthis.dateCreation = dateCreation;\r\n\t}\r\n\tpublic double getSolde() {\r\n\t\treturn solde;\r\n\t}\r\n\tpublic void setSolde(double solde) {\r\n\t\tthis.solde = solde;\r\n\t}\r\n\tpublic Client getClient() {\r\n\t\treturn client;\r\n\t}\r\n\tpublic void setClient(Client client) {\r\n\t\tthis.client = client;\r\n\t}\r\n\tpublic Collection&lt;Operation&gt; getOperations() {\r\n\t\treturn operations;\r\n\t}\r\n\tpublic void setOperations(Collection&lt;Operation&gt; operations) {\r\n\t\tthis.operations = operations;\r\n\t}\r\n\t\r\n\r\n}\r\n```\r\nthe extends class\r\n```\r\npackage org.sid.entit&#233;s;\r\n\r\nimport java.util.Date;\r\n\r\nimport javax.persistence.DiscriminatorValue;\r\nimport javax.persistence.Entity;\r\n\r\nimport lombok.ToString;\r\n@Entity\r\n@DiscriminatorValue(&quot;CC&quot;)\r\n@ToString\r\npublic class CompteCourant extends Compte {\r\n\t\r\n\tprivate double decouvert;\r\n\r\n\tpublic CompteCourant() {\r\n\t\tsuper();\r\n\t\t// TODO Auto-generated constructor stub\r\n\t}\r\n\r\n\tpublic CompteCourant(String codeCompte, Date dateCreation, double solde, Client client, double decouvert) {\r\n\t\tsuper(codeCompte, dateCreation, solde, client);\r\n\t\tthis.decouvert = decouvert;\r\n\t}\r\n\r\n\tpublic double getDecouvert() {\r\n\t\treturn decouvert;\r\n\t}\r\n\r\n\tpublic void setDecouvert(double decouvert) {\r\n\t\tthis.decouvert = decouvert;\r\n\t} \r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"hibernate error when executing DDL statement","body":"<p>i'm trying tro create a bank managing system with spring boot for learning purpose and i got this error\nError executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement.</p>\n<p>i'm a beginer in spring boot and java i don't know how to fix this.</p>\n<p>the link to my repository <a href=\"https://github.com/Bomt237/Gestion-Banque.git\" rel=\"nofollow noreferrer\">https://github.com/Bomt237/Gestion-Banque.git</a></p>\n<p>the error message</p>\n<pre><code>Hibernate: create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM\n2023-03-03 09:23:07.649  WARN 13288 --- [  restartedMain] o.h.t.s.i.ExceptionHandlerLoggedImpl     : GenerationTarget encountered exception accepting command : Error executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement\n\norg.hibernate.tool.schema.spi.CommandAcceptanceException: Error executing DDL &quot;create table compte (type_cpte varchar(2) not null, code_compte varchar(255) not null, date_creation datetime, solde double precision not null, decouvert double precision, taux double precision, code_client bigint, primary key (code_compte)) engine=MyISAM&quot; via JDBC Statement\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:67) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlString(AbstractSchemaMigrator.java:581) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.applySqlStrings(AbstractSchemaMigrator.java:526) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.createTable(AbstractSchemaMigrator.java:293) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.GroupedSchemaMigratorImpl.performTablesMigration(GroupedSchemaMigratorImpl.java:74) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.performMigration(AbstractSchemaMigrator.java:220) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.internal.AbstractSchemaMigrator.doMigration(AbstractSchemaMigrator.java:123) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.performDatabaseAction(SchemaManagementToolCoordinator.java:196) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.tool.schema.spi.SchemaManagementToolCoordinator.process(SchemaManagementToolCoordinator.java:85) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:335) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:471) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1498) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.25.jar:5.3.25]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.7.9.jar:2.7.9]\n    at org.sid.BanqueApplication.main(BanqueApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.9.jar:2.7.9]\nCaused by: java.sql.SQLSyntaxErrorException: Specified key was too long; max key length is 1000 bytes\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:120) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.StatementImpl.executeInternal(StatementImpl.java:763) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.mysql.cj.jdbc.StatementImpl.execute(StatementImpl.java:648) ~[mysql-connector-j-8.0.32.jar:8.0.32]\n    at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java) ~[HikariCP-4.0.3.jar:na]\n    at org.hibernate.tool.schema.internal.exec.GenerationTargetToDatabase.accept(GenerationTargetToDatabase.java:54) ~[hibernate-core-5.6.15.Final.jar:5.6.15.Final]\n    ... 39 common frames omitted\n</code></pre>\n<p>the compte class</p>\n<pre><code>package org.sid.entits;\n\nimport java.io.Serializable;\nimport java.util.Collection;\nimport java.util.Date;\n\nimport javax.persistence.DiscriminatorColumn;\nimport javax.persistence.DiscriminatorType;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Inheritance;\nimport javax.persistence.InheritanceType;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\nimport javax.persistence.OneToMany;\n\nimport lombok.ToString;\n@Entity\n@Inheritance(strategy =InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name = &quot;TYPE_CPTE&quot;, discriminatorType = DiscriminatorType.STRING, length = 2)\n@ToString\npublic abstract class Compte implements Serializable {\n    @Id\n    private String codeCompte;\n    private Date dateCreation;\n    private double solde;\n    @ManyToOne\n    @JoinColumn(name = &quot;CODE_CLIENT&quot;)\n    private Client client;\n    @OneToMany(mappedBy = &quot;compte&quot;)\n    private Collection&lt;Operation&gt; operations;\n    public Compte() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n    public Compte(String codeCompte, Date dateCreation, double solde, Client client) {\n        super();\n        this.codeCompte = codeCompte;\n        this.dateCreation = dateCreation;\n        this.solde = solde;\n        this.client = client; \n    }\n    public String getCodeCompte() {\n        return codeCompte;\n    }\n    public void setCodeCompte(String codeCompte) {\n        this.codeCompte = codeCompte;\n    }\n    public Date getDateCreation() {\n        return dateCreation;\n    }\n    public void setDateCreation(Date dateCreation) {\n        this.dateCreation = dateCreation;\n    }\n    public double getSolde() {\n        return solde;\n    }\n    public void setSolde(double solde) {\n        this.solde = solde;\n    }\n    public Client getClient() {\n        return client;\n    }\n    public void setClient(Client client) {\n        this.client = client;\n    }\n    public Collection&lt;Operation&gt; getOperations() {\n        return operations;\n    }\n    public void setOperations(Collection&lt;Operation&gt; operations) {\n        this.operations = operations;\n    }\n    \n\n}\n</code></pre>\n<p>the extends class</p>\n<pre><code>package org.sid.entits;\n\nimport java.util.Date;\n\nimport javax.persistence.DiscriminatorValue;\nimport javax.persistence.Entity;\n\nimport lombok.ToString;\n@Entity\n@DiscriminatorValue(&quot;CC&quot;)\n@ToString\npublic class CompteCourant extends Compte {\n    \n    private double decouvert;\n\n    public CompteCourant() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    public CompteCourant(String codeCompte, Date dateCreation, double solde, Client client, double decouvert) {\n        super(codeCompte, dateCreation, solde, client);\n        this.decouvert = decouvert;\n    }\n\n    public double getDecouvert() {\n        return decouvert;\n    }\n\n    public void setDecouvert(double decouvert) {\n        this.decouvert = decouvert;\n    } \n}\n\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1677771531,"post_id":75617578,"comment_id":133407101,"body_markdown":"is your problem the fact that `ZonaIdDTO` is always coming in as an empty Optional? or that you cannot use it in your logic as `null`?","body":"is your problem the fact that <code>ZonaIdDTO</code> is always coming in as an empty Optional? or that you cannot use it in your logic as <code>null</code>?"},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1677771609,"post_id":75617578,"comment_id":133407128,"body_markdown":"also, what do you want this id to be? query parameter? request body? I believe something is missing here","body":"also, what do you want this id to be? query parameter? request body? I believe something is missing here"},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677771765,"post_id":75617578,"comment_id":133407178,"body_markdown":"@TrandafirEmanuel `id` is meant to be a `RequestParam`.","body":"@TrandafirEmanuel <code>id</code> is meant to be a <code>RequestParam</code>."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677771914,"post_id":75617578,"comment_id":133407221,"body_markdown":"@TrandafirEmanuel the problem is that when I send an `GET` request without any params, I expect `id` parameter to be set to `null`, but instead, all its fields are set to `null`.","body":"@TrandafirEmanuel the problem is that when I send an <code>GET</code> request without any params, I expect <code>id</code> parameter to be set to <code>null</code>, but instead, all its fields are set to <code>null</code>."}],"answers":[{"comments":[{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677772845,"post_id":75617806,"comment_id":133407533,"body_markdown":"This didn&#39;t work, `id` still isn&#39;t `null`, only its fields are.","body":"This didn&#39;t work, <code>id</code> still isn&#39;t <code>null</code>, only its fields are."}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677791284,"creation_date":1677772247,"answer_id":75617806,"question_id":75617578,"body_markdown":"The optional in java can never be null. It has to be always non-null and if there is no data the `id.isPresent()` will be false. \r\n\r\nIf you don&#39;t need the object `id` to be null, you would require to keep the function signature as \r\n\r\n```java\r\npublic ResponseEntity&lt;?&gt; find(ZonaIdDTO id)\r\n```","title":"Spring Boot initializing fields to null","body":"<p>The optional in java can never be null. It has to be always non-null and if there is no data the <code>id.isPresent()</code> will be false.</p>\n<p>If you don't need the object <code>id</code> to be null, you would require to keep the function signature as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ResponseEntity&lt;?&gt; find(ZonaIdDTO id)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677773560,"post_id":75618028,"comment_id":133407747,"body_markdown":"I was doing that way, but my resource is identified by a composite key (query params), so my url path for them would end up being the same and Spring doesn&#39;t allow that. That&#39;s why I unified them in one controller.","body":"I was doing that way, but my resource is identified by a composite key (query params), so my url path for them would end up being the same and Spring doesn&#39;t allow that. That&#39;s why I unified them in one controller."},{"owner":{"account_id":5662062,"reputation":347,"user_id":4479402,"display_name":"Djory Krache"},"score":0,"creation_date":1677774309,"post_id":75618028,"comment_id":133408019,"body_markdown":"it should be really rare to extract a composite key. Either you&#39;re in this specific case, either you did a mistake in your conception because your work for example with (latitude, longitude) instead of an autogenerated id. If you specifically need to localize, then you keep the previous Web Services  `GET : /Zone`,  `GET /Zone/{id}`\nand add `GET /Zone/localize/{lat}/{lng}` or simply `POST /Zone/localize`. I will update with an example for the post","body":"it should be really rare to extract a composite key. Either you&#39;re in this specific case, either you did a mistake in your conception because your work for example with (latitude, longitude) instead of an autogenerated id. If you specifically need to localize, then you keep the previous Web Services  <code>GET : &#47;Zone</code>,  <code>GET &#47;Zone&#47;{id}</code> and add <code>GET &#47;Zone&#47;localize&#47;{lat}&#47;{lng}</code> or simply <code>POST &#47;Zone&#47;localize</code>. I will update with an example for the post"},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677774868,"post_id":75618028,"comment_id":133408221,"body_markdown":"The context of zone in my application isn&#39;t the same you&#39;re talking about, so that solution of yours don&#39;t really fit for my case. But I understand what do you mean and appreciate the effort.","body":"The context of zone in my application isn&#39;t the same you&#39;re talking about, so that solution of yours don&#39;t really fit for my case. But I understand what do you mean and appreciate the effort."}],"tags":[],"owner":{"account_id":5662062,"reputation":347,"user_id":4479402,"display_name":"Djory Krache"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677774518,"creation_date":1677773367,"answer_id":75618028,"question_id":75617578,"body_markdown":"This is a bad practice. You should seperate your services and you should not have an Optional at this step. You can use Optional extracting data from your database because you&#39;re not sure to have what you expect but with your client, you should respect some contract and just return an exception 4xx if the client doesn&#39;t respect the contract (Http 400 bad request for example). \r\n\r\n your contract should be like \r\n\r\n&gt; GET /Example : extract all Example Objects\r\n\r\n&gt; GET /Example/{id} : extract One Example object with the id defined by {id}\r\n\r\n    @GetMapping(value = &quot;/teste/{id}&quot;)\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    public ResponseEntity&lt;ZonaRetrievalDTO&gt; getById(@PathVariable(name = &quot;id&quot;) Integer id) {\r\n            return new ResponseEntity&lt;&gt;(this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findById(id)),\r\n                HttpStatus.OK\r\n            );\r\n    }\r\n    @GetMapping(value = &quot;/teste&quot;)\r\n    @ResponseStatus(value = HttpStatus.OK)\r\n    public ResponseEntity&lt;Set&lt;ZonaRetrievalDTO&gt;&gt; getAll() {\r\n      return new ResponseEntity&lt;&gt;(\r\n        this.zonaService\r\n            .findAll()\r\n            .stream()\r\n            .map(this.zonaMapper::toZonaRetrievalDTO)\r\n            .collect(Collectors.toSet()),\r\n        HttpStatus.OK\r\n      );\r\n    }\r\n    @PostMapping(value = &quot;/teste&quot;)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public ResponseEntity&lt;ZonaRetrievalDTO&gt; getByCompositeKey(@RequestBody ZonaIdDTO zonaId) throws StructuralEntityException {\r\n        return new ResponseEntity&lt;&gt;(this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findByZonaId(zonaId)),\r\n                HttpStatus.OK\r\n            );\r\n    }\r\n\r\ntry to avoid the &lt;?&gt; to be readable in your development. you should not work with different object for the same web service ","title":"Spring Boot initializing fields to null","body":"<p>This is a bad practice. You should seperate your services and you should not have an Optional at this step. You can use Optional extracting data from your database because you're not sure to have what you expect but with your client, you should respect some contract and just return an exception 4xx if the client doesn't respect the contract (Http 400 bad request for example).</p>\n<p>your contract should be like</p>\n<blockquote>\n<p>GET /Example : extract all Example Objects</p>\n</blockquote>\n<blockquote>\n<p>GET /Example/{id} : extract One Example object with the id defined by {id}</p>\n</blockquote>\n<pre><code>@GetMapping(value = &quot;/teste/{id}&quot;)\n@ResponseStatus(value = HttpStatus.OK)\npublic ResponseEntity&lt;ZonaRetrievalDTO&gt; getById(@PathVariable(name = &quot;id&quot;) Integer id) {\n        return new ResponseEntity&lt;&gt;(this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findById(id)),\n            HttpStatus.OK\n        );\n}\n@GetMapping(value = &quot;/teste&quot;)\n@ResponseStatus(value = HttpStatus.OK)\npublic ResponseEntity&lt;Set&lt;ZonaRetrievalDTO&gt;&gt; getAll() {\n  return new ResponseEntity&lt;&gt;(\n    this.zonaService\n        .findAll()\n        .stream()\n        .map(this.zonaMapper::toZonaRetrievalDTO)\n        .collect(Collectors.toSet()),\n    HttpStatus.OK\n  );\n}\n@PostMapping(value = &quot;/teste&quot;)\n@ResponseStatus(HttpStatus.OK)\npublic ResponseEntity&lt;ZonaRetrievalDTO&gt; getByCompositeKey(@RequestBody ZonaIdDTO zonaId) throws StructuralEntityException {\n    return new ResponseEntity&lt;&gt;(this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findByZonaId(zonaId)),\n            HttpStatus.OK\n        );\n}\n</code></pre>\n<p>try to avoid the &lt;?&gt; to be readable in your development. you should not work with different object for the same web service</p>\n"},{"tags":[],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677774135,"creation_date":1677774135,"answer_id":75618184,"question_id":75617578,"body_markdown":"Just send the parameter as optional parameter.\r\n\r\n        public ResponseEntity&lt;?&gt; find(@RequestBody(required =&quot;false&quot;) ZonaIdDTO id) {\r\n    \r\n    if(id != null) {\r\n    ...\r\n    } else {\r\n    ...\r\n    }\r\n    \r\n    }\r\n\r\nAnd yea, it is bad practise to implement logic in controller level. Just write a service class and call the service class method in this controller.","title":"Spring Boot initializing fields to null","body":"<p>Just send the parameter as optional parameter.</p>\n<pre><code>    public ResponseEntity&lt;?&gt; find(@RequestBody(required =&quot;false&quot;) ZonaIdDTO id) {\n\nif(id != null) {\n...\n} else {\n...\n}\n\n}\n</code></pre>\n<p>And yea, it is bad practise to implement logic in controller level. Just write a service class and call the service class method in this controller.</p>\n"},{"comments":[{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677784742,"post_id":75619499,"comment_id":133410891,"body_markdown":"But when I use `ZonaIdDTO` as a parameter, it is never `null`. For example, let&#39;s say I called that endpoint without passing an `id` object (`localhost:8080/teste`). Then, I expect `id` to be `null`, but that&#39;s not happening. Instead, a `ZonaIdDTO` object is created and its fields are set to `null`. Do you understand?","body":"But when I use <code>ZonaIdDTO</code> as a parameter, it is never <code>null</code>. For example, let&#39;s say I called that endpoint without passing an <code>id</code> object (<code>localhost:8080&#47;teste</code>). Then, I expect <code>id</code> to be <code>null</code>, but that&#39;s not happening. Instead, a <code>ZonaIdDTO</code> object is created and its fields are set to <code>null</code>. Do you understand?"},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1677795381,"post_id":75619499,"comment_id":133413410,"body_markdown":"Do you have a `400` status when calling `localhost:8080/teste`?","body":"Do you have a <code>400</code> status when calling <code>localhost:8080&#47;teste</code>?"},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677796323,"post_id":75619499,"comment_id":133413577,"body_markdown":"No, it returns a 200 status. The `id` is not empty, so `id.isPresent()` is evaluated to `true`.","body":"No, it returns a 200 status. The <code>id</code> is not empty, so <code>id.isPresent()</code> is evaluated to <code>true</code>."}],"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677781721,"creation_date":1677781721,"answer_id":75619499,"question_id":75617578,"body_markdown":"Your controller has a design issue and the answers above give you the way to do it. You are trying to force a behavior in your application that is not compatible with the way REST Architecture works.\r\n\r\n 1. First your parameters should simply be a DTO to help you parse your object into `json`\r\n 2. You can delete the `@ResponseStatus(value = HttpStatus.OK)` on your method, because you already return the status OK\r\n 3. By default a boolean always return **false**\r\n 4. Just use a `ZonaIdDTO` as a parameter","title":"Spring Boot initializing fields to null","body":"<p>Your controller has a design issue and the answers above give you the way to do it. You are trying to force a behavior in your application that is not compatible with the way REST Architecture works.</p>\n<ol>\n<li>First your parameters should simply be a DTO to help you parse your object into <code>json</code></li>\n<li>You can delete the <code>@ResponseStatus(value = HttpStatus.OK)</code> on your method, because you already return the status OK</li>\n<li>By default a boolean always return <strong>false</strong></li>\n<li>Just use a <code>ZonaIdDTO</code> as a parameter</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677789941,"post_id":75620248,"comment_id":133412134,"body_markdown":"Why is the `@RequestParam(required = false)` annotation needed? Shouldn&#39;t Spring set a empty optional if there is no `id`? I really want to understand.","body":"Why is the <code>@RequestParam(required = false)</code> annotation needed? Shouldn&#39;t Spring set a empty optional if there is no <code>id</code>? I really want to understand."},{"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"score":0,"creation_date":1677791254,"post_id":75620248,"comment_id":133412472,"body_markdown":"I edited my original question to be more clear.","body":"I edited my original question to be more clear."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1677832712,"post_id":75620248,"comment_id":133418811,"body_markdown":"And I edited my original answer to be more clear as well :)","body":"And I edited my original answer to be more clear as well :)"}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677832626,"creation_date":1677786993,"answer_id":75620248,"question_id":75617578,"body_markdown":"As you stated in the comment the id should be a request parameter and it should be optional (can be omitted). Try this:\r\n\r\n    public ResponseEntity&lt;?&gt; find(@RequestParam(required = false) Optional&lt;ZonaIdDTO&gt; id) \r\n\r\nThe annotation @RequestParam is needed for Spring to handle the id as a request parameter. And to distinguish it from the other kind of method parameter which is a path variable.\r\n\r\nCheck this: [baeldung.com/spring-requestparam-vs-pathvariable][1]\r\n\r\nAnd the attribute &#39;required&#39; is needed to distinguish between mandatory and optional parameter. Please also note that the naming is important. If your request parameter is abc then your method parameter must be abc (at least by default, you can override it using attribute &#39;name&#39;).\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-requestparam-vs-pathvariable","title":"Spring Boot initializing fields to null","body":"<p>As you stated in the comment the id should be a request parameter and it should be optional (can be omitted). Try this:</p>\n<pre><code>public ResponseEntity&lt;?&gt; find(@RequestParam(required = false) Optional&lt;ZonaIdDTO&gt; id) \n</code></pre>\n<p>The annotation @RequestParam is needed for Spring to handle the id as a request parameter. And to distinguish it from the other kind of method parameter which is a path variable.</p>\n<p>Check this: <a href=\"https://www.baeldung.com/spring-requestparam-vs-pathvariable\" rel=\"nofollow noreferrer\">baeldung.com/spring-requestparam-vs-pathvariable</a></p>\n<p>And the attribute 'required' is needed to distinguish between mandatory and optional parameter. Please also note that the naming is important. If your request parameter is abc then your method parameter must be abc (at least by default, you can override it using attribute 'name').</p>\n"}],"owner":{"account_id":16253739,"reputation":71,"user_id":11736934,"display_name":"wisentini"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1004,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75620248,"answer_count":5,"score":0,"last_activity_date":1677832626,"creation_date":1677771096,"question_id":75617578,"body_markdown":"I have this controller that finds one or more resources, depending if `id` is null or not.\r\n\r\n```java\r\n@GetMapping(value = &quot;/teste&quot;)\r\n@ResponseStatus(value = HttpStatus.OK)\r\npublic ResponseEntity&lt;?&gt; find(Optional&lt;ZonaIdDTO&gt; id) {\r\n    if (id.isPresent()) {\r\n        return new ResponseEntity&lt;&gt;(\r\n            this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findById(id.get())),\r\n            HttpStatus.OK\r\n        );\r\n    }\r\n\r\n    return new ResponseEntity&lt;&gt;(\r\n        this.zonaService\r\n            .findAll()\r\n            .stream()\r\n            .map(this.zonaMapper::toZonaRetrievalDTO)\r\n            .collect(Collectors.toSet()),\r\n        HttpStatus.OK\r\n    );\r\n}\r\n```\r\n\r\nThe problem is that the condition `id.isPresent()` is always evaluated to `false`, even when I don&#39;t pass an `id` to the controller. In that case, the `id` object fields are initialized to `null`, but I want the object itself to be `null`. What can I do?\r\n\r\nEDIT: To be extremely clear, I want to know why the parameter `id` isn&#39;t `null` when I make a request without any parameter. Even using `ZonaIdDTO` instead of `Optional&lt;ZonaIdDTO&gt;` doesn&#39;t work. Instead, all the fields of `id` are set to `null`.\r\n\r\nFor example:\r\n\r\n```\r\n// `id` should be null here\r\nGET localhost:8080/teste\r\n\r\n// `id` shouldn&#39;t be null here\r\nGET localhost:8080/teste?a=1&amp;b=2&amp;c=3\r\n```\r\n","title":"Spring Boot initializing fields to null","body":"<p>I have this controller that finds one or more resources, depending if <code>id</code> is null or not.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/teste&quot;)\n@ResponseStatus(value = HttpStatus.OK)\npublic ResponseEntity&lt;?&gt; find(Optional&lt;ZonaIdDTO&gt; id) {\n    if (id.isPresent()) {\n        return new ResponseEntity&lt;&gt;(\n            this.zonaMapper.toZonaRetrievalDTO(this.zonaService.findById(id.get())),\n            HttpStatus.OK\n        );\n    }\n\n    return new ResponseEntity&lt;&gt;(\n        this.zonaService\n            .findAll()\n            .stream()\n            .map(this.zonaMapper::toZonaRetrievalDTO)\n            .collect(Collectors.toSet()),\n        HttpStatus.OK\n    );\n}\n</code></pre>\n<p>The problem is that the condition <code>id.isPresent()</code> is always evaluated to <code>false</code>, even when I don't pass an <code>id</code> to the controller. In that case, the <code>id</code> object fields are initialized to <code>null</code>, but I want the object itself to be <code>null</code>. What can I do?</p>\n<p>EDIT: To be extremely clear, I want to know why the parameter <code>id</code> isn't <code>null</code> when I make a request without any parameter. Even using <code>ZonaIdDTO</code> instead of <code>Optional&lt;ZonaIdDTO&gt;</code> doesn't work. Instead, all the fields of <code>id</code> are set to <code>null</code>.</p>\n<p>For example:</p>\n<pre><code>// `id` should be null here\nGET localhost:8080/teste\n\n// `id` shouldn't be null here\nGET localhost:8080/teste?a=1&amp;b=2&amp;c=3\n</code></pre>\n"},{"tags":["java","pdf","fonts","ms-word","docx4j"],"answers":[{"comments":[{"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"score":0,"creation_date":1677217284,"post_id":75549723,"comment_id":133298062,"body_markdown":"Font is installed, Used both IdentityPlusMapper and BestMatchingMapper. But it didnt generate","body":"Font is installed, Used both IdentityPlusMapper and BestMatchingMapper. But it didnt generate"},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1677271241,"post_id":75549723,"comment_id":133311674,"body_markdown":"Unzip your docx and find a paragraph containing text in the Tamil font.  Add the XML to your question.  What is the name of the font you installed?","body":"Unzip your docx and find a paragraph containing text in the Tamil font.  Add the XML to your question.  What is the name of the font you installed?"},{"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"score":0,"creation_date":1677482037,"post_id":75549723,"comment_id":133339010,"body_markdown":"I am using Latha Font. Turns out the Apache FOP does not support complex languages. https://xmlgraphics.apache.org/fop/2.8/complexscripts.html. Thanks for your help. I am using JDOConverter to publish as PDF with multi language. Answer below","body":"I am using Latha Font. Turns out the Apache FOP does not support complex languages. <a href=\"https://xmlgraphics.apache.org/fop/2.8/complexscripts.html\" rel=\"nofollow noreferrer\">xmlgraphics.apache.org/fop/2.8/complexscripts.html</a>. Thanks for your help. I am using JDOConverter to publish as PDF with multi language. Answer below"},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1677527031,"post_id":75549723,"comment_id":133351770,"body_markdown":"It does, as that link suggests.  You are doing it wrong.","body":"It does, as that link suggests.  You are doing it wrong."},{"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"score":0,"creation_date":1677737425,"post_id":75549723,"comment_id":133397791,"body_markdown":"Do you have exact code snippet? I tired many possibilities with Docx4j. I see improvement, but still wrong.","body":"Do you have exact code snippet? I tired many possibilities with Docx4j. I see improvement, but still wrong."},{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1677783930,"post_id":75549723,"comment_id":133410671,"body_markdown":"As I requested previously, you need to add some sample XML to your question.  One way to do this is to unzip your docx and find a paragraph containing text in the Tamil font.  Or you could use docx4j to marshal a paragraph.","body":"As I requested previously, you need to add some sample XML to your question.  One way to do this is to unzip your docx and find a paragraph containing text in the Tamil font.  Or you could use docx4j to marshal a paragraph."},{"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"score":0,"creation_date":1677808691,"post_id":75549723,"comment_id":133415276,"body_markdown":"Added the xml in the question","body":"Added the xml in the question"}],"tags":[],"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677182176,"creation_date":1677182176,"answer_id":75549723,"question_id":75531677,"body_markdown":"Assuming you are converting using docx4j-export-fo, either ensure the font is installed and use IdentityPlusMapper, or use BestMatchingMapper to map a suitable font.\r\n\r\nSee further https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-samples-docx-export-fo/src/main/java/org/docx4j/samples/ConvertOutPDFviaXSLFO.java#L152","title":"Word template to PDF Conversion with multiple languages using Docx4J","body":"<p>Assuming you are converting using docx4j-export-fo, either ensure the font is installed and use IdentityPlusMapper, or use BestMatchingMapper to map a suitable font.</p>\n<p>See further <a href=\"https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-samples-docx-export-fo/src/main/java/org/docx4j/samples/ConvertOutPDFviaXSLFO.java#L152\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/blob/VERSION_11_4_8/docx4j-samples-docx-export-fo/src/main/java/org/docx4j/samples/ConvertOutPDFviaXSLFO.java#L152</a></p>\n"},{"tags":[],"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677527058,"creation_date":1677481850,"answer_id":75577605,"question_id":75531677,"body_markdown":"I used OpenOffice with JDO Converter to create PDF from word document. Works like a charm. \r\nCode below, if it helps anyone: \r\n\r\n    public static void file2pdf(File input, File output) throws IOException {\r\n            if (input == null) {\r\n                throw new IllegalArgumentException(&quot;Input file must not be null&quot;);\r\n            }\r\n            if (output == null) {\r\n                throw new IllegalArgumentException(&quot;Output file must not be null&quot;);\r\n            }\r\n            File path = output.getParentFile();\r\n            if (path != null &amp;&amp; !path.exists()) {\r\n                path.mkdirs();\r\n            }\r\n            OpenOfficeConnection connection = new SocketOpenOfficeConnection(&quot;localhost&quot;, 8100);\r\n            connection.connect();\r\n            try {\r\n                DocumentConverter converter = new OpenOfficeDocumentConverter(connection);\r\n                converter.convert(input, output);\r\n            } finally {\r\n                connection.disconnect();\r\n            }\r\n        }","title":"Word template to PDF Conversion with multiple languages using Docx4J","body":"<p>I used OpenOffice with JDO Converter to create PDF from word document. Works like a charm.\nCode below, if it helps anyone:</p>\n<pre><code>public static void file2pdf(File input, File output) throws IOException {\n        if (input == null) {\n            throw new IllegalArgumentException(&quot;Input file must not be null&quot;);\n        }\n        if (output == null) {\n            throw new IllegalArgumentException(&quot;Output file must not be null&quot;);\n        }\n        File path = output.getParentFile();\n        if (path != null &amp;&amp; !path.exists()) {\n            path.mkdirs();\n        }\n        OpenOfficeConnection connection = new SocketOpenOfficeConnection(&quot;localhost&quot;, 8100);\n        connection.connect();\n        try {\n            DocumentConverter converter = new OpenOfficeDocumentConverter(connection);\n            converter.convert(input, output);\n        } finally {\n            connection.disconnect();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":59872,"reputation":5796,"user_id":179032,"accept_rate":83,"display_name":"Developer404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1677832300,"creation_date":1677063063,"question_id":75531677,"body_markdown":"Hi I am using Docx4j to convert word template to PDF. But Tamil font is not supported. It looks weird. I used below java code that seems to reduce the weird look, still words are not displaying correctly. I have installed Latha as Tamil font. Pls help \r\n\r\n    FontTablePart fontTablePart= wordMLPackage.getMainDocumentPart().getFontTablePart();\r\n            fontTablePart.processEmbeddings();\r\n            Set&lt;String&gt; fontsInUse = wordMLPackage.getMainDocumentPart().fontsInUse();\r\n            // Make each embedded font available to the font mapper.\r\n            for(String s : fontsInUse) {\r\n                System.out.println(&quot;Font in use : &quot;+s);\r\n                PhysicalFont physicalFont = PhysicalFonts.get(s);\r\n                fontMapper.put(s, physicalFont);\r\n            }\r\n\r\n\r\nSample XML that I am trying to convert:\r\n\r\n&lt;w:body&gt;&lt;w:p w14:paraId=&quot;33C1CF30&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;2D364612&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;162AEE05&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;2CF16F1C&quot; w14:textId=&quot;07F9E241&quot; w:rsidR=&quot;00E46BC8&quot; w:rsidRPr=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:sectPr w:rsidR=&quot;00E46BC8&quot; w:rsidRPr=&quot;000612C7&quot; w:rsidSect=&quot;00BB36CE&quot;&gt;&lt;w:headerReference w:type=&quot;default&quot; r:id=&quot;rId11&quot;/&gt;&lt;w:pgSz w:w=&quot;11906&quot; w:h=&quot;16838&quot;/&gt;&lt;w:pgMar w:top=&quot;1702&quot; w:right=&quot;4162&quot; w:bottom=&quot;576&quot; w:left=&quot;1440&quot; w:header=&quot;284&quot; w:footer=&quot;450&quot; w:gutter=&quot;0&quot;/&gt;&lt;w:cols w:space=&quot;708&quot;/&gt;&lt;w:docGrid w:linePitch=&quot;360&quot;/&gt;&lt;/w:sectPr&gt;&lt;/w:body&gt;&lt;/w:document&gt;","title":"Word template to PDF Conversion with multiple languages using Docx4J","body":"<p>Hi I am using Docx4j to convert word template to PDF. But Tamil font is not supported. It looks weird. I used below java code that seems to reduce the weird look, still words are not displaying correctly. I have installed Latha as Tamil font. Pls help</p>\n<pre><code>FontTablePart fontTablePart= wordMLPackage.getMainDocumentPart().getFontTablePart();\n        fontTablePart.processEmbeddings();\n        Set&lt;String&gt; fontsInUse = wordMLPackage.getMainDocumentPart().fontsInUse();\n        // Make each embedded font available to the font mapper.\n        for(String s : fontsInUse) {\n            System.out.println(&quot;Font in use : &quot;+s);\n            PhysicalFont physicalFont = PhysicalFonts.get(s);\n            fontMapper.put(s, physicalFont);\n        }\n</code></pre>\n<p>Sample XML that I am trying to convert:</p>\n<p>&lt;w:body&gt;&lt;w:p w14:paraId=&quot;33C1CF30&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;2D364612&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;162AEE05&quot; w14:textId=&quot;77777777&quot; w:rsidR=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellStart&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:proofErr w:type=&quot;spellEnd&quot;/&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;.&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:p w14:paraId=&quot;2CF16F1C&quot; w14:textId=&quot;07F9E241&quot; w:rsidR=&quot;00E46BC8&quot; w:rsidRPr=&quot;000612C7&quot; w:rsidRDefault=&quot;000612C7&quot; w:rsidP=&quot;000612C7&quot;&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t xml:space=&quot;preserve&quot;&gt; &lt;/w:t&gt;&lt;/w:r&gt;&lt;w:r&gt;&lt;w:rPr&gt;&lt;w:rFonts w:cs=&quot;Latha&quot; w:hint=&quot;cs&quot;/&gt;&lt;w:cs/&gt;&lt;w:lang w:bidi=&quot;ta-IN&quot;/&gt;&lt;/w:rPr&gt;&lt;w:t&gt;&lt;/w:t&gt;&lt;/w:r&gt;&lt;/w:p&gt;&lt;w:sectPr w:rsidR=&quot;00E46BC8&quot; w:rsidRPr=&quot;000612C7&quot; w:rsidSect=&quot;00BB36CE&quot;&gt;&lt;w:headerReference w:type=&quot;default&quot; r:id=&quot;rId11&quot;/&gt;&lt;w:pgSz w:w=&quot;11906&quot; w:h=&quot;16838&quot;/&gt;&lt;w:pgMar w:top=&quot;1702&quot; w:right=&quot;4162&quot; w:bottom=&quot;576&quot; w:left=&quot;1440&quot; w:header=&quot;284&quot; w:footer=&quot;450&quot; w:gutter=&quot;0&quot;/&gt;&lt;w:cols w:space=&quot;708&quot;/&gt;&lt;w:docGrid w:linePitch=&quot;360&quot;/&gt;&lt;/w:sectPr&gt;&lt;/w:body&gt;&lt;/w:document&gt;</p>\n"},{"tags":["java","colors","hex","adobe"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677779827,"post_id":75609479,"comment_id":133409618,"body_markdown":"It&#39;s strange you didn&#39;t post the `WIndow` class source","body":"It&#39;s strange you didn&#39;t post the <code>WIndow</code> class source"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1677781828,"post_id":75609479,"comment_id":133410151,"body_markdown":"iow, you&#39;re not likely to get much reaction here unless you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) which shouldn&#39;t be difficult - you just need to add the other classes and a v2 aco file","body":"iow, you&#39;re not likely to get much reaction here unless you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which shouldn&#39;t be difficult - you just need to add the other classes and a v2 aco file"}],"answers":[{"tags":[],"owner":{"account_id":12135587,"reputation":53,"user_id":8861158,"accept_rate":100,"display_name":"Dragonball2211"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677831728,"creation_date":1677831728,"answer_id":75624695,"question_id":75609479,"body_markdown":"Fixed it after talking to others\r\n\r\n    public static String readNullTerminatedString(InputStream inputStream) throws IOException {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            int nextByte;\r\n            while ((nextByte = inputStream.read()) != 0) {\r\n                if (nextByte == -1) {\r\n                    throw new EOFException();\r\n                }\r\n                outputStream.write(nextByte);\r\n            }\r\n    \r\n            return outputStream.toString(StandardCharsets.UTF_8.name());\r\n        }\r\n\r\nThis thing made problems. \r\n\r\nChanged it to the following:\r\n\r\n    public static String readNullTerminatedString(InputStream inputStream) throws IOException {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            int nextByte;\r\n            int nextByteTwo = 0;\r\n            while ((nextByte = readNextWord(inputStream)) != 0 || (nextByteTwo = readNextByte(inputStream)) + nextByte != 0 &amp;&amp; (nextByteTwo = readNextByte(inputStream)) + nextByte != -1) {\r\n                if (nextByte == -1) {\r\n                    throw new EOFException();\r\n                }\r\n                outputStream.write(nextByte);\r\n            }\r\n            return outputStream.toString(StandardCharsets.UTF_8.name());\r\n        }\r\n\r\n\r\nMost likely this isn&#39;t very nice code but it does the job.\r\n\r\nReason for posting just everything pretty much was me not having a clue where the problem laid.\r\nI also made some changes to the main, mostly visual things. \r\n","title":"ACO v2 File reader / display getting the colorname","body":"<p>Fixed it after talking to others</p>\n<pre><code>public static String readNullTerminatedString(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextByte;\n        while ((nextByte = inputStream.read()) != 0) {\n            if (nextByte == -1) {\n                throw new EOFException();\n            }\n            outputStream.write(nextByte);\n        }\n\n        return outputStream.toString(StandardCharsets.UTF_8.name());\n    }\n</code></pre>\n<p>This thing made problems.</p>\n<p>Changed it to the following:</p>\n<pre><code>public static String readNullTerminatedString(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextByte;\n        int nextByteTwo = 0;\n        while ((nextByte = readNextWord(inputStream)) != 0 || (nextByteTwo = readNextByte(inputStream)) + nextByte != 0 &amp;&amp; (nextByteTwo = readNextByte(inputStream)) + nextByte != -1) {\n            if (nextByte == -1) {\n                throw new EOFException();\n            }\n            outputStream.write(nextByte);\n        }\n        return outputStream.toString(StandardCharsets.UTF_8.name());\n    }\n</code></pre>\n<p>Most likely this isn't very nice code but it does the job.</p>\n<p>Reason for posting just everything pretty much was me not having a clue where the problem laid.\nI also made some changes to the main, mostly visual things.</p>\n"}],"owner":{"account_id":12135587,"reputation":53,"user_id":8861158,"accept_rate":100,"display_name":"Dragonball2211"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75624695,"answer_count":1,"score":0,"last_activity_date":1677831728,"creation_date":1677708423,"question_id":75609479,"body_markdown":"This is going to be a long one.\r\nthere are many things commented out as i have tried A LOT. im still a learner and quite bad.\r\nFirst: its Java and mostly done. just one thing is missing.\r\n\r\nThis is file one: AcoViewer\r\n\r\n\r\n\r\n    import gui.Window;\r\n    \r\n    import java.io.IOException;\r\n    import java.nio.file.Path;\r\n    import java.util.List;\r\n    \r\n    public class AcoViewer {\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n    \r\n     //       AcoSwatchesReader.swatchReader(&quot;aufgaben-01/swatches/bricklink_v1.aco&quot;);\r\n     //       Swatch swatch = AcoSwatchesReader.read(&#39;C:/Users/mikej/IdeaProjects/oop2_mike.spengler/aufgaben-01/swatches/bricklink_v1.aco&#39;);\r\n            String path = System.getProperty(&quot;user.dir&quot;) + &quot;/&quot; + args[0];\r\n            System.out.println(path);\r\n    //        System.out.println(&quot;---&quot;);\r\n    //        System.out.println(path);\r\n    //        System.out.println(&quot;---&quot;);\r\n            var returnlist = AcoSwatchesReader.read(Path.of(path));\r\n    //        &quot;C:/Users/mikej/IdeaProjects/oop2_mike.spengler/aufgaben-01/swatches/bricklink_v2.aco&quot;\r\n            int count = 0;\r\n            //String[] hexColors = swatch.getHexColors();\r\n    \r\n    \r\n    \r\n            //werte von AcoSwatchReader erhalten und dann nutzen.\r\n            var width = 1200;\r\n            var height = 950;\r\n            Window window = new Window(&quot;ACOViewer_v1&quot;, width, height);\r\n    \r\n            // Up next, just some ways to keep the window tidy\r\n            int cX = 40;\r\n            int cY = 40;\r\n            int rad = 30;\r\n            int plusX = 250;\r\n            int plusY = 70;\r\n            // get color from Swatches one by one\r\n            // calculate decima value out of hex value\r\n            // extract respective red green and blue value\r\n            // color the circles as needed\r\n            // add name of color\r\n            // add hex value of color\r\n    \r\n    \r\n    \r\n            for (Swatch i:returnlist) {\r\n    \r\n                // Coolor color = i.getColor\r\n                // String nameColor = i.getName\r\n    \r\n    \r\n                // take apart color into different values here\r\n                String red1 = &quot;00&quot;;\r\n                String green1 = &quot;AB&quot;;\r\n                String blue1 = &quot;00&quot;;\r\n                //convert HEX to Decimal\r\n    \r\n                int decimalRed = Integer.parseInt(red1, 16);\r\n                int decimalGreen = Integer.parseInt(green1, 16);\r\n                int decimalBlue = Integer.parseInt(blue1, 16);\r\n    //            String hexValue = &quot;1A&quot;;\r\n    //            int decimalValue = Integer.parseInt(hexValue, 16);\r\n    //            System.out.println(&quot;Decimal Value: &quot; + decimalValue);\r\n    \r\n    //            System.out.println(i);\r\n    \r\n                var color = i.getColor();\r\n                int red = i.getColor().getRed();\r\n    \r\n    \r\n    \r\n                int green = i.getColor().getGreen();\r\n                int blue = i.getColor().getBlue();\r\n                String redHex = Integer.toHexString(red);\r\n                if (i.getColor().getRed() &lt;= 15){\r\n                    redHex = &quot;0&quot; + Integer.toHexString(red);\r\n                }\r\n                String greenHex = Integer.toHexString(green);\r\n                if (i.getColor().getGreen() &lt;= 15){\r\n                    greenHex = &quot;0&quot; + Integer.toHexString(green);\r\n                }\r\n                String blueHex = Integer.toHexString(blue);\r\n                if (i.getColor().getBlue() &lt;= 15){\r\n                    blueHex = &quot;0&quot; + Integer.toHexString(blue);\r\n                }\r\n                String fullHex = &quot;#&quot; + redHex + greenHex + blueHex;\r\n    //            String colorToHex = Integer.toHexString(color);\r\n    //            window.setColor(red, green, blue);\r\n                window.setColor(11, 11, 11);\r\n                window.fillCircle(cX, cY, rad+2);\r\n                //add name of color here aswell as the whole HEX color value.\r\n    \r\n                //if (nameColor.equals &quot;null&quot;){\r\n                //      Add window creation here without name of color\r\n                // } else {\r\n                //      Add window creation with name of color here\r\n                // }\r\n                String name = &quot;Null&quot;;\r\n                try {\r\n                    if (i.getName().equals(null)) {\r\n                        name = &quot;No name given&quot;;\r\n                    } else {\r\n                        name = i.getName();\r\n                    }\r\n                } catch (NullPointerException e){\r\n                    name = &quot;No name given&quot;;\r\n                }\r\n    \r\n                window.setColor(red, green, blue);\r\n                window.fillCircle(cX, cY, rad);\r\n                window.setFontSize(15);\r\n                window.setColor(0,0,0);\r\n                window.drawString(name, cX + 35, cY -10);\r\n                window.drawString(fullHex, cX + 35, cY +10);\r\n                cY += plusY;\r\n                if (cY &gt;= 850){\r\n                    cX +=plusX;\r\n                    cY = 40;\r\n                }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n            }\r\n            \r\n            \r\n    //        do {\r\n    //            window.setColor(red, green, blue);\r\n    //            window.fillCircle(cX, cY, rad);\r\n    //            window.drawString(&quot;Test&quot;, cX + 30, cY);\r\n    //            cY += plusY;\r\n    //            if (cY &gt;= 850){\r\n    //                cX +=plusX;\r\n    //                cY = 40;\r\n    //            }\r\n    //            count ++;\r\n    //        } while (count &lt; nbrColor);\r\n    \r\n    \r\n    //        String hexString = &quot;FF&quot;; // replace with your hexadecimal string\r\n    //        int decimalValue = Integer.parseInt(hexString, 16);\r\n    //        System.out.println(decimalValue); // output: 255\r\n    \r\n    \r\n    //        window.setColor(140, 140, 140);\r\n    //        window.fillCircle(cX, cY, rad);\r\n    //\r\n    //        window.setColor(230, 220, 200);\r\n    //        window.fillCircle(40, 110, 30);\r\n    //\r\n    //        window.setColor(120, 160, 230);\r\n    //        window.fillCircle(40, 180, 30);\r\n    //\r\n    //        window.setColor(220, 100, 50);\r\n    //        window.fillCircle(40, 250, 30);\r\n    \r\n    //        Runtime r = Runtime.getRuntime();\r\n    //        System.out.println(r);\r\n    \r\n    \r\n            window.open();\r\n            window.waitUntilClosed();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nSo this is file two: AcoSwatchReader\r\n\r\n    import java.awt.*;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.EOFException;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.charset.Charset;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    public class AcoSwatchesReader {\r\n        public static List&lt;Swatch&gt; read(Path path) throws IOException {\r\n            try (InputStream inputStream = Files.newInputStream(path)) {\r\n                return read(inputStream);\r\n            } catch (IOException e) {\r\n                throw e;\r\n            }\r\n        }\r\n    \r\n        public static List&lt;Swatch&gt; read(InputStream inputStream) throws IOException {\r\n            // ignore first two words, they are just the file version\r\n            var version = readNextWord(inputStream);\r\n            System.out.println(&quot;--**&quot; + version + &quot;**--&quot;);\r\n    \r\n            var returnList = new ArrayList&lt;Swatch&gt;();\r\n    \r\n            if(version == 1) {\r\n                System.out.println(&quot;--V1--&quot;);\r\n                returnList = readVersion1(inputStream);\r\n            } else if(version == 2) {\r\n                System.out.println(&quot;--V2--&quot;);\r\n                returnList = readVersion2(inputStream);\r\n            } else {\r\n                throw new IOException(&quot;Unknown file version: &quot; + version);\r\n            }\r\n    \r\n            return returnList;\r\n        }\r\n    \r\n        private static ArrayList&lt;Swatch&gt; readVersion1(InputStream inputStream) throws IOException {\r\n            var returnList = new ArrayList&lt;Swatch&gt;();\r\n            var anzFarben = readNextWord(inputStream);\r\n            System.out.println(anzFarben);\r\n            var count = 0;\r\n            while (true) {\r\n                try {\r\n                    // check if first word is empty (v1 continues, or if it is v2 header)\r\n                    var firstWord = readNextWord(inputStream);\r\n    \r\n                    // 2 means header of v2\r\n                    if(firstWord == 2) {\r\n                        System.out.println(&quot;--V2--&quot;);\r\n                        // skip remaining header\r\n                        readNextWord(inputStream);\r\n    \r\n                        var v2List = readVersion2(inputStream);\r\n                        returnList.addAll(v2List);\r\n                        return returnList;\r\n                    }\r\n    \r\n                    var red = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n                    var green = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n                    var blue = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n    \r\n                    // ignore last word\r\n                    readNextWord(inputStream);\r\n    \r\n                    var swatch = new Swatch(new Color(red, green, blue), null);\r\n                    returnList.add(swatch);\r\n    \r\n                    count ++;\r\n                    // check\r\n                } catch (EOFException e) {\r\n                    // End of file reached\r\n                    break;\r\n                } catch (IOException e) {\r\n                    throw e;\r\n                }\r\n            }\r\n    \r\n            return returnList;\r\n        }\r\n    \r\n        private static ArrayList&lt;Swatch&gt; readVersion2(InputStream inputStream) throws IOException {\r\n            var returnList = new ArrayList&lt;Swatch&gt;();\r\n            var anzFarben = readNextByte(inputStream);\r\n            var count = 0;\r\n            while (count &lt; anzFarben) {\r\n                try {\r\n    //                System.out.println(&quot;bla&quot;);\r\n                    // skip farbraum\r\n                    readNextWord(inputStream);\r\n    \r\n                    // always skip second byte in word, because colors are stored twice\r\n                    var red = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n                    var green = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n                    var blue = readNextByte(inputStream);\r\n                    readNextByte(inputStream);\r\n    \r\n                    // skip next two blanks\r\n                    readNextWord(inputStream);\r\n                    readNextWord(inputStream);\r\n    \r\n    //                readNextWord(inputStream);\r\n    \r\n                    // skip name length\r\n                    var nameLenght = readNextWord(inputStream);\r\n                    var count2 = 0;\r\n                    System.out.println(&quot;-.-.-.&quot;);\r\n                    System.out.println(nameLenght);\r\n                    System.out.println(&quot;-.-.-.&quot;);\r\n    //                String name = &quot;&quot;;\r\n    \r\n    //                while (count2 &lt; nameLenght){\r\n    //                    name += readNextWord(inputStream);\r\n    //                    readNextWord(inputStream);\r\n    //                    count ++;\r\n    //                }\r\n    //                System.out.println(name);\r\n    \r\n                    var name = readNullTerminatedString(inputStream);\r\n    \r\n    //                String name = readNullTerminatedString(inputStream, StandardCharsets.UTF_8);\r\n    //                readNextWord(inputStream);\r\n    //                System.out.println(name);\r\n                    var swatch = new Swatch(new Color(red, green, blue), name);\r\n                    returnList.add(swatch);\r\n                    count ++;\r\n                } catch (EOFException e) {\r\n                    // End of file reached\r\n                    break;\r\n                } catch (IOException e) {\r\n                    throw e;\r\n                }\r\n            }\r\n    \r\n            return returnList;\r\n        }\r\n    \r\n        private static int readNextWord(InputStream inputStream) throws EOFException, IOException {\r\n            int b1 = inputStream.read();\r\n            int b2 = inputStream.read();\r\n    \r\n            if (b1 == -1 || b2 == -1) {\r\n                throw new EOFException();\r\n            }\r\n    \r\n            return (b1 &lt;&lt; 8) | b2;\r\n        }\r\n    \r\n        public static String readNullTerminatedString(InputStream inputStream, Charset charset) throws IOException {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            int nextByte;\r\n            while ((nextByte = inputStream.read()) != 0) {\r\n                if (nextByte == -1) {\r\n                    throw new EOFException();\r\n                }\r\n                outputStream.write(nextByte);\r\n            }\r\n    \r\n            return outputStream.toString(charset);\r\n        }\r\n    \r\n        private static int readNextByte(InputStream inputStream) throws EOFException, IOException {\r\n            int b = inputStream.read();\r\n    \r\n            if (b == -1) {\r\n                throw new EOFException();\r\n            }\r\n    \r\n            return b;\r\n        }\r\n    \r\n        public static String readNullTerminatedString(InputStream inputStream) throws IOException {\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            int nextByte;\r\n            while ((nextByte = inputStream.read()) != 0) {\r\n                if (nextByte == -1) {\r\n                    throw new EOFException();\r\n                }\r\n                outputStream.write(nextByte);\r\n            }\r\n    \r\n            return outputStream.toString(StandardCharsets.UTF_8.name());\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis is file three: Swatch\r\n\r\n    import java.awt.*;\r\n    \r\n    public class Swatch {\r\n        final Color color;\r\n        final String name;\r\n    \r\n        public Swatch(Color color, String name) {\r\n            this.color = color;\r\n            this.name = name;\r\n        }\r\n    \r\n        public Color getColor() {\r\n            return color;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\n\r\n\r\nThen i have ACO files which look something like this:\r\n[![ACO File setup][1]][1]\r\n\r\n\r\nThe real file looks like this:\r\n[![ACO file HEX values][2]][2]\r\n\r\nI underlined where v1 and where v2 begins\r\n\r\n\r\nNow the programm shall (and already does) takes this file and with some java magic outputs a GUI window which displays the colors in circles with the hex value and (this does not work) the name of the color.\r\n\r\nNow if its v1, there is no name, so null.\r\nBut if its v2, first comes the v1 versin of the file, thats just ow ACO works, and than v2 with a distinct header.\r\n\r\nThe script should detect that and switch to the v2 reader. it actually does that but does not enter the while loop, if i make the loop always true, some weird, wrong, colors get added to the output, not replaced or anything. Right now the while loop tries to only run as many times as there are colors as there is a value in the header telling me how many colors there are.\r\n\r\ni spent about 3 hours just on this little thing now, made WAY to many tries, deleted most, commented outsome. does still not work.\r\n\r\nDoes anyone have any clue or solution to this problem?\r\n\r\nI dont get why. \r\nI have uploaded the ACO file to the first fileuploader i could find if you want to try it out: \r\nhttps://ufile.io/5hs4kfus\r\n\r\nThanks for the help, i appreciate it A LOT.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PZRMp.png\r\n  [2]: https://i.stack.imgur.com/ZwgRx.png","title":"ACO v2 File reader / display getting the colorname","body":"<p>This is going to be a long one.\nthere are many things commented out as i have tried A LOT. im still a learner and quite bad.\nFirst: its Java and mostly done. just one thing is missing.</p>\n<p>This is file one: AcoViewer</p>\n<pre><code>import gui.Window;\n\nimport java.io.IOException;\nimport java.nio.file.Path;\nimport java.util.List;\n\npublic class AcoViewer {\n\n    public static void main(String[] args) throws IOException {\n\n //       AcoSwatchesReader.swatchReader(&quot;aufgaben-01/swatches/bricklink_v1.aco&quot;);\n //       Swatch swatch = AcoSwatchesReader.read('C:/Users/mikej/IdeaProjects/oop2_mike.spengler/aufgaben-01/swatches/bricklink_v1.aco');\n        String path = System.getProperty(&quot;user.dir&quot;) + &quot;/&quot; + args[0];\n        System.out.println(path);\n//        System.out.println(&quot;---&quot;);\n//        System.out.println(path);\n//        System.out.println(&quot;---&quot;);\n        var returnlist = AcoSwatchesReader.read(Path.of(path));\n//        &quot;C:/Users/mikej/IdeaProjects/oop2_mike.spengler/aufgaben-01/swatches/bricklink_v2.aco&quot;\n        int count = 0;\n        //String[] hexColors = swatch.getHexColors();\n\n\n\n        //werte von AcoSwatchReader erhalten und dann nutzen.\n        var width = 1200;\n        var height = 950;\n        Window window = new Window(&quot;ACOViewer_v1&quot;, width, height);\n\n        // Up next, just some ways to keep the window tidy\n        int cX = 40;\n        int cY = 40;\n        int rad = 30;\n        int plusX = 250;\n        int plusY = 70;\n        // get color from Swatches one by one\n        // calculate decima value out of hex value\n        // extract respective red green and blue value\n        // color the circles as needed\n        // add name of color\n        // add hex value of color\n\n\n\n        for (Swatch i:returnlist) {\n\n            // Coolor color = i.getColor\n            // String nameColor = i.getName\n\n\n            // take apart color into different values here\n            String red1 = &quot;00&quot;;\n            String green1 = &quot;AB&quot;;\n            String blue1 = &quot;00&quot;;\n            //convert HEX to Decimal\n\n            int decimalRed = Integer.parseInt(red1, 16);\n            int decimalGreen = Integer.parseInt(green1, 16);\n            int decimalBlue = Integer.parseInt(blue1, 16);\n//            String hexValue = &quot;1A&quot;;\n//            int decimalValue = Integer.parseInt(hexValue, 16);\n//            System.out.println(&quot;Decimal Value: &quot; + decimalValue);\n\n//            System.out.println(i);\n\n            var color = i.getColor();\n            int red = i.getColor().getRed();\n\n\n\n            int green = i.getColor().getGreen();\n            int blue = i.getColor().getBlue();\n            String redHex = Integer.toHexString(red);\n            if (i.getColor().getRed() &lt;= 15){\n                redHex = &quot;0&quot; + Integer.toHexString(red);\n            }\n            String greenHex = Integer.toHexString(green);\n            if (i.getColor().getGreen() &lt;= 15){\n                greenHex = &quot;0&quot; + Integer.toHexString(green);\n            }\n            String blueHex = Integer.toHexString(blue);\n            if (i.getColor().getBlue() &lt;= 15){\n                blueHex = &quot;0&quot; + Integer.toHexString(blue);\n            }\n            String fullHex = &quot;#&quot; + redHex + greenHex + blueHex;\n//            String colorToHex = Integer.toHexString(color);\n//            window.setColor(red, green, blue);\n            window.setColor(11, 11, 11);\n            window.fillCircle(cX, cY, rad+2);\n            //add name of color here aswell as the whole HEX color value.\n\n            //if (nameColor.equals &quot;null&quot;){\n            //      Add window creation here without name of color\n            // } else {\n            //      Add window creation with name of color here\n            // }\n            String name = &quot;Null&quot;;\n            try {\n                if (i.getName().equals(null)) {\n                    name = &quot;No name given&quot;;\n                } else {\n                    name = i.getName();\n                }\n            } catch (NullPointerException e){\n                name = &quot;No name given&quot;;\n            }\n\n            window.setColor(red, green, blue);\n            window.fillCircle(cX, cY, rad);\n            window.setFontSize(15);\n            window.setColor(0,0,0);\n            window.drawString(name, cX + 35, cY -10);\n            window.drawString(fullHex, cX + 35, cY +10);\n            cY += plusY;\n            if (cY &gt;= 850){\n                cX +=plusX;\n                cY = 40;\n            }\n\n\n\n\n\n        }\n        \n        \n//        do {\n//            window.setColor(red, green, blue);\n//            window.fillCircle(cX, cY, rad);\n//            window.drawString(&quot;Test&quot;, cX + 30, cY);\n//            cY += plusY;\n//            if (cY &gt;= 850){\n//                cX +=plusX;\n//                cY = 40;\n//            }\n//            count ++;\n//        } while (count &lt; nbrColor);\n\n\n//        String hexString = &quot;FF&quot;; // replace with your hexadecimal string\n//        int decimalValue = Integer.parseInt(hexString, 16);\n//        System.out.println(decimalValue); // output: 255\n\n\n//        window.setColor(140, 140, 140);\n//        window.fillCircle(cX, cY, rad);\n//\n//        window.setColor(230, 220, 200);\n//        window.fillCircle(40, 110, 30);\n//\n//        window.setColor(120, 160, 230);\n//        window.fillCircle(40, 180, 30);\n//\n//        window.setColor(220, 100, 50);\n//        window.fillCircle(40, 250, 30);\n\n//        Runtime r = Runtime.getRuntime();\n//        System.out.println(r);\n\n\n        window.open();\n        window.waitUntilClosed();\n    }\n\n}\n</code></pre>\n<p>So this is file two: AcoSwatchReader</p>\n<pre><code>import java.awt.*;\nimport java.io.ByteArrayOutputStream;\nimport java.io.EOFException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.Charset;\nimport java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class AcoSwatchesReader {\n    public static List&lt;Swatch&gt; read(Path path) throws IOException {\n        try (InputStream inputStream = Files.newInputStream(path)) {\n            return read(inputStream);\n        } catch (IOException e) {\n            throw e;\n        }\n    }\n\n    public static List&lt;Swatch&gt; read(InputStream inputStream) throws IOException {\n        // ignore first two words, they are just the file version\n        var version = readNextWord(inputStream);\n        System.out.println(&quot;--**&quot; + version + &quot;**--&quot;);\n\n        var returnList = new ArrayList&lt;Swatch&gt;();\n\n        if(version == 1) {\n            System.out.println(&quot;--V1--&quot;);\n            returnList = readVersion1(inputStream);\n        } else if(version == 2) {\n            System.out.println(&quot;--V2--&quot;);\n            returnList = readVersion2(inputStream);\n        } else {\n            throw new IOException(&quot;Unknown file version: &quot; + version);\n        }\n\n        return returnList;\n    }\n\n    private static ArrayList&lt;Swatch&gt; readVersion1(InputStream inputStream) throws IOException {\n        var returnList = new ArrayList&lt;Swatch&gt;();\n        var anzFarben = readNextWord(inputStream);\n        System.out.println(anzFarben);\n        var count = 0;\n        while (true) {\n            try {\n                // check if first word is empty (v1 continues, or if it is v2 header)\n                var firstWord = readNextWord(inputStream);\n\n                // 2 means header of v2\n                if(firstWord == 2) {\n                    System.out.println(&quot;--V2--&quot;);\n                    // skip remaining header\n                    readNextWord(inputStream);\n\n                    var v2List = readVersion2(inputStream);\n                    returnList.addAll(v2List);\n                    return returnList;\n                }\n\n                var red = readNextByte(inputStream);\n                readNextByte(inputStream);\n                var green = readNextByte(inputStream);\n                readNextByte(inputStream);\n                var blue = readNextByte(inputStream);\n                readNextByte(inputStream);\n\n                // ignore last word\n                readNextWord(inputStream);\n\n                var swatch = new Swatch(new Color(red, green, blue), null);\n                returnList.add(swatch);\n\n                count ++;\n                // check\n            } catch (EOFException e) {\n                // End of file reached\n                break;\n            } catch (IOException e) {\n                throw e;\n            }\n        }\n\n        return returnList;\n    }\n\n    private static ArrayList&lt;Swatch&gt; readVersion2(InputStream inputStream) throws IOException {\n        var returnList = new ArrayList&lt;Swatch&gt;();\n        var anzFarben = readNextByte(inputStream);\n        var count = 0;\n        while (count &lt; anzFarben) {\n            try {\n//                System.out.println(&quot;bla&quot;);\n                // skip farbraum\n                readNextWord(inputStream);\n\n                // always skip second byte in word, because colors are stored twice\n                var red = readNextByte(inputStream);\n                readNextByte(inputStream);\n                var green = readNextByte(inputStream);\n                readNextByte(inputStream);\n                var blue = readNextByte(inputStream);\n                readNextByte(inputStream);\n\n                // skip next two blanks\n                readNextWord(inputStream);\n                readNextWord(inputStream);\n\n//                readNextWord(inputStream);\n\n                // skip name length\n                var nameLenght = readNextWord(inputStream);\n                var count2 = 0;\n                System.out.println(&quot;-.-.-.&quot;);\n                System.out.println(nameLenght);\n                System.out.println(&quot;-.-.-.&quot;);\n//                String name = &quot;&quot;;\n\n//                while (count2 &lt; nameLenght){\n//                    name += readNextWord(inputStream);\n//                    readNextWord(inputStream);\n//                    count ++;\n//                }\n//                System.out.println(name);\n\n                var name = readNullTerminatedString(inputStream);\n\n//                String name = readNullTerminatedString(inputStream, StandardCharsets.UTF_8);\n//                readNextWord(inputStream);\n//                System.out.println(name);\n                var swatch = new Swatch(new Color(red, green, blue), name);\n                returnList.add(swatch);\n                count ++;\n            } catch (EOFException e) {\n                // End of file reached\n                break;\n            } catch (IOException e) {\n                throw e;\n            }\n        }\n\n        return returnList;\n    }\n\n    private static int readNextWord(InputStream inputStream) throws EOFException, IOException {\n        int b1 = inputStream.read();\n        int b2 = inputStream.read();\n\n        if (b1 == -1 || b2 == -1) {\n            throw new EOFException();\n        }\n\n        return (b1 &lt;&lt; 8) | b2;\n    }\n\n    public static String readNullTerminatedString(InputStream inputStream, Charset charset) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextByte;\n        while ((nextByte = inputStream.read()) != 0) {\n            if (nextByte == -1) {\n                throw new EOFException();\n            }\n            outputStream.write(nextByte);\n        }\n\n        return outputStream.toString(charset);\n    }\n\n    private static int readNextByte(InputStream inputStream) throws EOFException, IOException {\n        int b = inputStream.read();\n\n        if (b == -1) {\n            throw new EOFException();\n        }\n\n        return b;\n    }\n\n    public static String readNullTerminatedString(InputStream inputStream) throws IOException {\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        int nextByte;\n        while ((nextByte = inputStream.read()) != 0) {\n            if (nextByte == -1) {\n                throw new EOFException();\n            }\n            outputStream.write(nextByte);\n        }\n\n        return outputStream.toString(StandardCharsets.UTF_8.name());\n    }\n}\n</code></pre>\n<p>This is file three: Swatch</p>\n<pre><code>import java.awt.*;\n\npublic class Swatch {\n    final Color color;\n    final String name;\n\n    public Swatch(Color color, String name) {\n        this.color = color;\n        this.name = name;\n    }\n\n    public Color getColor() {\n        return color;\n    }\n\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>Then i have ACO files which look something like this:\n<a href=\"https://i.stack.imgur.com/PZRMp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PZRMp.png\" alt=\"ACO File setup\" /></a></p>\n<p>The real file looks like this:\n<a href=\"https://i.stack.imgur.com/ZwgRx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZwgRx.png\" alt=\"ACO file HEX values\" /></a></p>\n<p>I underlined where v1 and where v2 begins</p>\n<p>Now the programm shall (and already does) takes this file and with some java magic outputs a GUI window which displays the colors in circles with the hex value and (this does not work) the name of the color.</p>\n<p>Now if its v1, there is no name, so null.\nBut if its v2, first comes the v1 versin of the file, thats just ow ACO works, and than v2 with a distinct header.</p>\n<p>The script should detect that and switch to the v2 reader. it actually does that but does not enter the while loop, if i make the loop always true, some weird, wrong, colors get added to the output, not replaced or anything. Right now the while loop tries to only run as many times as there are colors as there is a value in the header telling me how many colors there are.</p>\n<p>i spent about 3 hours just on this little thing now, made WAY to many tries, deleted most, commented outsome. does still not work.</p>\n<p>Does anyone have any clue or solution to this problem?</p>\n<p>I dont get why.\nI have uploaded the ACO file to the first fileuploader i could find if you want to try it out:\n<a href=\"https://ufile.io/5hs4kfus\" rel=\"nofollow noreferrer\">https://ufile.io/5hs4kfus</a></p>\n<p>Thanks for the help, i appreciate it A LOT.</p>\n"},{"tags":["java","android","android-activity","manifest","dagger"],"comments":[{"owner":{"account_id":963967,"reputation":11133,"user_id":987753,"accept_rate":68,"display_name":"kingston"},"score":0,"creation_date":1677757815,"post_id":75614379,"comment_id":133402871,"body_markdown":"did you try to clean the cache? You should be able to use `AppCompatActivity` with `Hilt` and `Dagger`","body":"did you try to clean the cache? You should be able to use <code>AppCompatActivity</code> with <code>Hilt</code> and <code>Dagger</code>"},{"owner":{"account_id":18598990,"reputation":1,"user_id":13554261,"display_name":"Aryan Mishra"},"score":0,"creation_date":1677778738,"post_id":75614379,"comment_id":133409338,"body_markdown":"Yes I did. Invalidate Cache and Restart. Do you find any inconsistencies in the code though? I&#39;m clearly new to dagger and hilt","body":"Yes I did. Invalidate Cache and Restart. Do you find any inconsistencies in the code though? I&#39;m clearly new to dagger and hilt"}],"owner":{"account_id":18598990,"reputation":1,"user_id":13554261,"display_name":"Aryan Mishra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677831642,"creation_date":1677753954,"question_id":75614379,"body_markdown":"I recently added dagger to my Java android project and ever since I added the dependency, all the activities in the manifest start showing error stated as: \r\n**&quot;XYZActivity must extend android.app.Activity&quot;** (instead of AppCompatActivity)\r\n\r\nWhereas in the activity java files no methods (onCreate, for example) can be overridden anymore with the error: \r\n**&quot;Method does not override method from its superclass&quot;** \r\n\r\nCode for reference:\r\n\r\n**Manifest:**\r\n\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.example.convo_z&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;.utils.BaseApplication&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        tools:ignore=&quot;DataExtractionRules&quot;\r\n        tools:replace=&quot;android:allowBackup&quot;\r\n        tools:targetApi=&quot;s&quot;&gt;\r\n\r\n        &lt;activity android:name=&quot;.status.OwnStatusPage&quot; /&gt;\r\n        &lt;activity android:name=&quot;.status.StatusPrivacyPage&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.status.ViewStatusPage&quot;\r\n            android:windowSoftInputMode=&quot;stateVisible|adjustPan&quot; /&gt;\r\n        &lt;activity android:name=&quot;.settings.ProfileSettingsActivity&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.HomeActivity&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot; /&gt;\r\n        &lt;activity android:name=&quot;.authentication.SignupActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.authentication.LoginActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.chat.ChatDetailActivity&quot; /&gt;\r\n        &lt;activity android:name=&quot;.verification.PhoneVerificationPage&quot; /&gt;\r\n        &lt;activity android:name=&quot;.verification.OTPVerificationPage&quot; /&gt;\r\n        &lt;activity android:name=&quot;.status.AddStatusPage&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.splash.SplashScreenActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;preloaded_fonts&quot;\r\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\n**build:gradle (app)**\r\n```\r\n\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;dagger.hilt.android.plugin&#39;\r\n}\r\n\r\nandroid {\r\n    signingConfigs {\r\n        debug {\r\n            storeFile file(&#39;C:\\\\Users\\\\aryan\\\\.android\\\\debug.keystore&#39;)\r\n            storePassword &#39;android&#39;\r\n            keyAlias &#39;androiddebugkey&#39;\r\n            keyPassword &#39;android&#39;\r\n        }\r\n    }\r\n    compileSdkVersion 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.convo_z&quot;\r\n        minSdkVersion 16\r\n        targetSdkVersion 33\r\n        versionCode 2\r\n        versionName &quot;2.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n}\r\n\r\ndependencies {\r\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:26.8.0&#39;)\r\n    implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;com.google.android.gms:play-services-auth:20.4.1&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.8.0&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.1.0&#39;\r\n    implementation &quot;androidx.viewpager2:viewpager2:1.0.0&quot;\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore&#39;\r\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel:2.5.1&quot;\r\n    implementation &quot;androidx.lifecycle:lifecycle-livedata:2.5.1&quot;\r\n    implementation &quot;com.google.dagger:hilt-android:2.44&quot;\r\n    annotationProcessor &#39;com.google.dagger:hilt-compiler:2.44&#39;\r\n\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n\r\n```\r\n\r\n**build:gradle(project)**\r\n\r\n```\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.3.1&#39;\r\n        classpath &#39;com.google.gms:google-services:4.3.15&#39;\r\n        classpath &#39;com.google.dagger:hilt-android-gradle-plugin:2.44&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n    }\r\n}\r\n\r\nplugins {\r\n    id &#39;com.google.dagger.hilt.android&#39; version &#39;2.44&#39; apply false\r\n}\r\n\r\nallprojects {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n}\r\n```\r\n**Hilt Application**\r\n\r\n```\r\npackage com.example.convo_z.utils;\r\n\r\nimport android.app.Application;\r\nimport dagger.hilt.android.HiltAndroidApp;\r\n\r\n@HiltAndroidApp\r\npublic class BaseApplication extends Application {\r\n}\r\n```\r\n\r\n**HomeActivity.java** \r\n(An activity where @Override now shows the above mentioned error)\r\n\r\n```\r\n@AndroidEntryPoint\r\npublic class HomeActivity extends AppCompatActivity {\r\n\r\n    ActivityMainBinding binding;\r\n    FirebaseAuth auth;\r\n    ProgressDialog progressDialog;\r\n\r\n    Double pager = 0.0;\r\n\r\n    @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n\r\n        Objects.requireNonNull(getSupportActionBar()).setBackgroundDrawable(getDrawable(R.color.colorAccent));\r\n        Objects.requireNonNull(getSupportActionBar()).setElevation(0);\r\n\r\n        Window window = HomeActivity.this.getWindow();\r\n        // clear FLAG_TRANSLUCENT_STATUS flag:\r\n        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\r\n        // add FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS flag to the window\r\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\r\n        // finally change the color\r\n        window.setStatusBarColor(ContextCompat.getColor(HomeActivity.this, R.color.colorPrimaryVariant));\r\n        //getSupportActionBar().setBackgroundDrawable(new ColorDrawable(R.drawable.core_colour2));\r\n        //&lt;gradient android:startColor=&quot;#333440&quot; android:endColor=&quot;#333440&quot;\r\n        //  binding.viewPager.setOffscreenPageLimit(1);\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n\r\n        Intent i = getIntent();\r\n        if (i.hasExtra(&quot;pager&quot;))\r\n            pager = i.getDoubleExtra(&quot;pager&quot;, 0.0);\r\n\r\n        ActivityCompat.requestPermissions(HomeActivity.this,\r\n                new String[]{Manifest.permission.READ_CONTACTS},\r\n                1);\r\n    }\r\n```\r\n\r\nA help would be really appreciated :)\r\n\r\nExtending Activity instead of AppCompatActivity solves the problem but isnt really a good solution.","title":"Dagger Hilt having issues with AppCompatActivity","body":"<p>I recently added dagger to my Java android project and ever since I added the dependency, all the activities in the manifest start showing error stated as:\n<strong>&quot;XYZActivity must extend android.app.Activity&quot;</strong> (instead of AppCompatActivity)</p>\n<p>Whereas in the activity java files no methods (onCreate, for example) can be overridden anymore with the error:\n<strong>&quot;Method does not override method from its superclass&quot;</strong></p>\n<p>Code for reference:</p>\n<p><strong>Manifest:</strong></p>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.example.convo_z&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_CONTACTS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.SEND_SMS&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;.utils.BaseApplication&quot;\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        tools:ignore=&quot;DataExtractionRules&quot;\n        tools:replace=&quot;android:allowBackup&quot;\n        tools:targetApi=&quot;s&quot;&gt;\n\n        &lt;activity android:name=&quot;.status.OwnStatusPage&quot; /&gt;\n        &lt;activity android:name=&quot;.status.StatusPrivacyPage&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.status.ViewStatusPage&quot;\n            android:windowSoftInputMode=&quot;stateVisible|adjustPan&quot; /&gt;\n        &lt;activity android:name=&quot;.settings.ProfileSettingsActivity&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.HomeActivity&quot;\n            android:theme=&quot;@style/Theme.AppCompat.Light.DarkActionBar&quot; /&gt;\n        &lt;activity android:name=&quot;.authentication.SignupActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.authentication.LoginActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.chat.ChatDetailActivity&quot; /&gt;\n        &lt;activity android:name=&quot;.verification.PhoneVerificationPage&quot; /&gt;\n        &lt;activity android:name=&quot;.verification.OTPVerificationPage&quot; /&gt;\n        &lt;activity android:name=&quot;.status.AddStatusPage&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.splash.SplashScreenActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;meta-data\n            android:name=&quot;preloaded_fonts&quot;\n            android:resource=&quot;@array/preloaded_fonts&quot; /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p><strong>build:gradle (app)</strong></p>\n<pre><code>\n\nplugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n    id 'dagger.hilt.android.plugin'\n}\n\nandroid {\n    signingConfigs {\n        debug {\n            storeFile file('C:\\\\Users\\\\aryan\\\\.android\\\\debug.keystore')\n            storePassword 'android'\n            keyAlias 'androiddebugkey'\n            keyPassword 'android'\n        }\n    }\n    compileSdkVersion 33\n\n    defaultConfig {\n        applicationId &quot;com.example.convo_z&quot;\n        minSdkVersion 16\n        targetSdkVersion 33\n        versionCode 2\n        versionName &quot;2.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: &quot;libs&quot;, include: [&quot;*.jar&quot;])\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation platform('com.google.firebase:firebase-bom:26.8.0')\n    implementation 'com.google.firebase:firebase-analytics'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'com.google.android.gms:play-services-auth:20.4.1'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation 'com.google.android.material:material:1.8.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\n    implementation &quot;androidx.viewpager2:viewpager2:1.0.0&quot;\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.google.firebase:firebase-firestore'\n    implementation &quot;androidx.lifecycle:lifecycle-viewmodel:2.5.1&quot;\n    implementation &quot;androidx.lifecycle:lifecycle-livedata:2.5.1&quot;\n    implementation &quot;com.google.dagger:hilt-android:2.44&quot;\n    annotationProcessor 'com.google.dagger:hilt-compiler:2.44'\n\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n\n</code></pre>\n<p><strong>build:gradle(project)</strong></p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.3.1'\n        classpath 'com.google.gms:google-services:4.3.15'\n        classpath 'com.google.dagger:hilt-android-gradle-plugin:2.44'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nplugins {\n    id 'com.google.dagger.hilt.android' version '2.44' apply false\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Hilt Application</strong></p>\n<pre><code>package com.example.convo_z.utils;\n\nimport android.app.Application;\nimport dagger.hilt.android.HiltAndroidApp;\n\n@HiltAndroidApp\npublic class BaseApplication extends Application {\n}\n</code></pre>\n<p><strong>HomeActivity.java</strong>\n(An activity where @Override now shows the above mentioned error)</p>\n<pre><code>@AndroidEntryPoint\npublic class HomeActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n    FirebaseAuth auth;\n    ProgressDialog progressDialog;\n\n    Double pager = 0.0;\n\n    @SuppressLint(&quot;UseCompatLoadingForDrawables&quot;)\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n\n        Objects.requireNonNull(getSupportActionBar()).setBackgroundDrawable(getDrawable(R.color.colorAccent));\n        Objects.requireNonNull(getSupportActionBar()).setElevation(0);\n\n        Window window = HomeActivity.this.getWindow();\n        // clear FLAG_TRANSLUCENT_STATUS flag:\n        window.clearFlags(WindowManager.LayoutParams.FLAG_TRANSLUCENT_STATUS);\n        // add FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS flag to the window\n        window.addFlags(WindowManager.LayoutParams.FLAG_DRAWS_SYSTEM_BAR_BACKGROUNDS);\n        // finally change the color\n        window.setStatusBarColor(ContextCompat.getColor(HomeActivity.this, R.color.colorPrimaryVariant));\n        //getSupportActionBar().setBackgroundDrawable(new ColorDrawable(R.drawable.core_colour2));\n        //&lt;gradient android:startColor=&quot;#333440&quot; android:endColor=&quot;#333440&quot;\n        //  binding.viewPager.setOffscreenPageLimit(1);\n\n        auth = FirebaseAuth.getInstance();\n\n        Intent i = getIntent();\n        if (i.hasExtra(&quot;pager&quot;))\n            pager = i.getDoubleExtra(&quot;pager&quot;, 0.0);\n\n        ActivityCompat.requestPermissions(HomeActivity.this,\n                new String[]{Manifest.permission.READ_CONTACTS},\n                1);\n    }\n</code></pre>\n<p>A help would be really appreciated :)</p>\n<p>Extending Activity instead of AppCompatActivity solves the problem but isnt really a good solution.</p>\n"},{"tags":["java","spring-boot","spring-mvc","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677831261,"creation_date":1677831261,"answer_id":75624631,"question_id":75604414,"body_markdown":"If you want to access `@PathVariable` in the exception handler, you can simply register its `HandlerMethodArgumentResolver` in the `ExceptionHandlerExceptionResolver` : \r\n\r\n``` java\r\n@Configuration\r\npublic class Config implements WebMvcConfigurer {\r\n\r\n\t@Override\r\n\tpublic void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) {\r\n\r\n\t\tfor(HandlerExceptionResolver resolver : resolvers){\r\n\t\t\tif(resolver instanceof ExceptionHandlerExceptionResolver e){\r\n\t\t\t\te.getArgumentResolvers().addResolver(new PathVariableMethodArgumentResolver());\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThen change the `@ExceptionHandler` to : \r\n\r\n``` java\r\n@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n@ExceptionHandler(MethodArgumentNotValidException.class)\r\nResponseEntity&lt;Object&gt; handleValidationExceptions(MethodArgumentNotValidException ex, @PathVariable String id) {\r\n   \r\n}\r\n```","title":"How to use dynamic value of @PreAuthorize with @ExceptionHandler in spring boot?","body":"<p>If you want to access <code>@PathVariable</code> in the exception handler, you can simply register its <code>HandlerMethodArgumentResolver</code> in the <code>ExceptionHandlerExceptionResolver</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class Config implements WebMvcConfigurer {\n\n    @Override\n    public void extendHandlerExceptionResolvers(List&lt;HandlerExceptionResolver&gt; resolvers) {\n\n        for(HandlerExceptionResolver resolver : resolvers){\n            if(resolver instanceof ExceptionHandlerExceptionResolver e){\n                e.getArgumentResolvers().addResolver(new PathVariableMethodArgumentResolver());\n            }\n        }\n    }\n}\n</code></pre>\n<p>Then change the <code>@ExceptionHandler</code> to :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(HttpStatus.BAD_REQUEST)\n@ExceptionHandler(MethodArgumentNotValidException.class)\nResponseEntity&lt;Object&gt; handleValidationExceptions(MethodArgumentNotValidException ex, @PathVariable String id) {\n   \n}\n</code></pre>\n"}],"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677831290,"creation_date":1677677546,"question_id":75604414,"body_markdown":"We are using **@PreAuthorize** with **dynamic value**. and at the request model we used bean validation means @NotEmpty,...\r\n\r\n**Code of controller:** \r\n\r\n```\r\n@RestController\r\n@RequestMapping(value = &quot;/../{id}/...&quot;)\r\n@PreAuthorize(&quot;hasAuthority(#id+&#39;abc&#39;)&quot;)\r\npublic class TestController {\r\n\r\n    @Autowired\r\n    SerivceAbc service;\r\n\r\n\t@PostMapping(&quot;/test&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; validate(@PathVariable String id,\r\n\t\t\t@Valid @RequestBody RequestModel Request,\r\n\t\t\tContentCachingRequestWrapper requestWrapper) {\r\n\t\treturn ResponseEntity.ok(service.abc(Request, requestWrapper));\r\n\t}\r\n\r\n\t@ResponseStatus(HttpStatus.BAD_REQUEST)\r\n\t@ExceptionHandler( MethodArgumentNotValidException.class)\r\n\tResponseEntity&lt;Object&gt; handleValidationExceptions(MethodArgumentNotValidException ex,\r\n\t\t\tContentCachingRequestWrapper requestWrapper) {\r\n\t\tResponseModel invalidResponse = service.invalidResponse(ex,\r\n\t\t\t\trequestWrapper);\r\n\t\treturn ResponseEntity.badRequest().body(invalidResponse);\r\n\t}\r\n\r\n\t@ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\r\n\t@ExceptionHandler(Exception.class)\r\n\tResponseEntity&lt;Object&gt; handleValidationExceptions(Exception ex, ContentCachingRequestWrapper requestWrapper) {\r\n\t\tResponseModel invalidResponse = service.invalidResponse(ex,\r\n\t\t\t\trequestWrapper);\r\n\t\treturn ResponseEntity.badRequest().body(invalidDssReponse);\r\n\t}\r\n}\r\n```\r\n\r\nIn the above code `id` is a dynamic value that is working fine when we call `\\test` API with passing valid fields \r\n\r\nbut whenever any bean validation is called at that time it&#39;s not calling `handleValidationExceptions` method because of **dynamic id**.\r\n\r\nif I&#39;m trying to pass id as a parameter of `handleValidationExceptions` method I&#39;m getting error: \r\n\r\n&gt;java.lang.IllegalStateException: Could not resolve parameter [2] in org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.controller.TestController.handleValidationExceptions(org.springframework.web.bind.MethodArgumentNotValidException,org.springframework.web.util.ContentCachingRequestWrapper,java.lang.String): No suitable resolver\r\n\r\nCan anyone please suggest how can we use @PreAuthorize (dynamic value)  with exceptionhandler?","title":"How to use dynamic value of @PreAuthorize with @ExceptionHandler in spring boot?","body":"<p>We are using <strong>@PreAuthorize</strong> with <strong>dynamic value</strong>. and at the request model we used bean validation means @NotEmpty,...</p>\n<p><strong>Code of controller:</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/../{id}/...&quot;)\n@PreAuthorize(&quot;hasAuthority(#id+'abc')&quot;)\npublic class TestController {\n\n    @Autowired\n    SerivceAbc service;\n\n    @PostMapping(&quot;/test&quot;)\n    public ResponseEntity&lt;Object&gt; validate(@PathVariable String id,\n            @Valid @RequestBody RequestModel Request,\n            ContentCachingRequestWrapper requestWrapper) {\n        return ResponseEntity.ok(service.abc(Request, requestWrapper));\n    }\n\n    @ResponseStatus(HttpStatus.BAD_REQUEST)\n    @ExceptionHandler( MethodArgumentNotValidException.class)\n    ResponseEntity&lt;Object&gt; handleValidationExceptions(MethodArgumentNotValidException ex,\n            ContentCachingRequestWrapper requestWrapper) {\n        ResponseModel invalidResponse = service.invalidResponse(ex,\n                requestWrapper);\n        return ResponseEntity.badRequest().body(invalidResponse);\n    }\n\n    @ResponseStatus(HttpStatus.INTERNAL_SERVER_ERROR)\n    @ExceptionHandler(Exception.class)\n    ResponseEntity&lt;Object&gt; handleValidationExceptions(Exception ex, ContentCachingRequestWrapper requestWrapper) {\n        ResponseModel invalidResponse = service.invalidResponse(ex,\n                requestWrapper);\n        return ResponseEntity.badRequest().body(invalidDssReponse);\n    }\n}\n</code></pre>\n<p>In the above code <code>id</code> is a dynamic value that is working fine when we call <code>\\test</code> API with passing valid fields</p>\n<p>but whenever any bean validation is called at that time it's not calling <code>handleValidationExceptions</code> method because of <strong>dynamic id</strong>.</p>\n<p>if I'm trying to pass id as a parameter of <code>handleValidationExceptions</code> method I'm getting error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Could not resolve parameter [2] in org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.controller.TestController.handleValidationExceptions(org.springframework.web.bind.MethodArgumentNotValidException,org.springframework.web.util.ContentCachingRequestWrapper,java.lang.String): No suitable resolver</p>\n</blockquote>\n<p>Can anyone please suggest how can we use @PreAuthorize (dynamic value)  with exceptionhandler?</p>\n"},{"tags":["java","validation","selenium-webdriver","ui-automation","browser-automation"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1677607217,"post_id":75595455,"comment_id":133370167,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":9804742,"reputation":3296,"user_id":8157304,"accept_rate":75,"display_name":"sound wave"},"score":0,"creation_date":1677831588,"post_id":75595455,"comment_id":133418571,"body_markdown":"if the table has the usual html table structure, i.e. `&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;...&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;...&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;`, then I suggest using selenium with python, because then all you have to do is to is `pandas.read_html(htmltable.get_attribute(&#39;outerHTML&#39;))` where `htmltable = driver.find_element(xpath)` and you get a handy table like [this](https://i.stack.imgur.com/Z4lRJ.png) which you can easily export to csv or other formats","body":"if the table has the usual html table structure, i.e. <code>&lt;table&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;...&lt;&#47;tr&gt;&lt;&#47;thead&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;...&lt;&#47;tr&zwnj;&#8203;&gt;&lt;&#47;tbody&gt;&lt;&#47;table&gt;</code>, then I suggest using selenium with python, because then all you have to do is to is <code>pandas.read_html(htmltable.get_attribute(&#39;outerHTML&#39;))</code> where <code>htmltable = driver.find_element(xpath)</code> and you get a handy table like <a href=\"https://i.stack.imgur.com/Z4lRJ.png\" rel=\"nofollow noreferrer\">this</a> which you can easily export to csv or other formats"}],"owner":{"account_id":27901981,"reputation":11,"user_id":21306080,"display_name":"Tiger InAfrica"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677831286,"creation_date":1677605528,"question_id":75595455,"body_markdown":"Here is what I am trying to do: scrape a website with bunch of table and compare the values with what I have on a database. Example \r\nsay that I have the table below and I wanna compare it with what have in ms sql. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nwhat tools can I use to do this? is it a good idea to do this kind of validation test as part of functional or ui automation test ? I am using java and testNG. when does this kind of validation happen, if ever?  I can&#39;t find any example of this on the internet. \r\n\r\nI tried making jdbc connection in my test suit to query the data and then scraping the site and storing the data in array list then comparing the values. it worked, but now the tables are getting bigger and it is becoming more complicated and convoluted. so I am wondering if there is another way of doing this. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Me8bd.png","title":"validating data I have on a website is correct compared to what I have on a data base","body":"<p>Here is what I am trying to do: scrape a website with bunch of table and compare the values with what I have on a database. Example\nsay that I have the table below and I wanna compare it with what have in ms sql.</p>\n<p><a href=\"https://i.stack.imgur.com/Me8bd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Me8bd.png\" alt=\"enter image description here\" /></a></p>\n<p>what tools can I use to do this? is it a good idea to do this kind of validation test as part of functional or ui automation test ? I am using java and testNG. when does this kind of validation happen, if ever?  I can't find any example of this on the internet.</p>\n<p>I tried making jdbc connection in my test suit to query the data and then scraping the site and storing the data in array list then comparing the values. it worked, but now the tables are getting bigger and it is becoming more complicated and convoluted. so I am wondering if there is another way of doing this.</p>\n"},{"tags":["java"],"owner":{"account_id":27925058,"reputation":1,"user_id":21324342,"display_name":"cheesecheddar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677830831,"creation_date":1677830831,"question_id":75624573,"body_markdown":"I am relying on a translator as my English skills are limited. I would greatly appreciate your help with the following question. Thank you.\r\n\r\nAfter authenticating the user through LDAP during login, I am storing the user information (ID, name) from LDAP in the SecurityContextHolder.\r\n```\r\n  @Override\r\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n    String token = jwtTokenProvider.resolveToken(request);\r\n    if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\r\n      String userId = jwtTokenProvider.extractUserId(token);\r\n      SecurityUser user = (SecurityUser) userService.loadUserByUserId(userId);\r\n      UsernamePasswordAuthenticationToken authenticationToken =\r\n          new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\r\n      authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n      SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n    }\r\n    filterChain.doFilter(request, response);\r\n  }\r\n```\r\n\r\nFurthermore, I would like to automatically populate &#39;UUID createdBy&#39; in BaseEntity using AuditorAware, and of course, I am using SpringSecurity.\r\n\r\nI have also looked for examples related to this, but the information I could find is limited to the following.\r\n\r\n```\r\n  @Override\r\n  public Optional&lt;UUID&gt; getCurrentAuditor() {\r\n     Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    if(null == authentication || !authentication.isAuthenticated()) {\r\n      return null;\r\n    }\r\n    return Optional.of(((SecurityUser)authentication.getPrincipal()).getMember().getId());\r\n  }\r\n```\r\n\r\nI have a table in my system&#39;s database called &#39;member&#39; that contains user information. Each &#39;userId&#39; in this table is assigned a UUID. I want to join the &#39;member&#39; table in my database with the &#39;userId&#39; stored in the SecurityContextHolder to retrieve data. How can I achieve this?\r\n\r\nI hope my limited English skills have been conveyed to you all. Thank you.\r\n\r\nI created &#39;public class AuditorAwareImpl implements AuditorAware&lt;UUID&gt;&#39;, but the only information available in the SecurityContextHolder is the &#39;userId&#39;, not the UUID of the user.","title":"AuditorAware to store CreatedBy as UUID from Spring Security?","body":"<p>I am relying on a translator as my English skills are limited. I would greatly appreciate your help with the following question. Thank you.</p>\n<p>After authenticating the user through LDAP during login, I am storing the user information (ID, name) from LDAP in the SecurityContextHolder.</p>\n<pre><code>  @Override\n  protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    String token = jwtTokenProvider.resolveToken(request);\n    if (token != null &amp;&amp; jwtTokenProvider.validateToken(token)) {\n      String userId = jwtTokenProvider.extractUserId(token);\n      SecurityUser user = (SecurityUser) userService.loadUserByUserId(userId);\n      UsernamePasswordAuthenticationToken authenticationToken =\n          new UsernamePasswordAuthenticationToken(user, null, user.getAuthorities());\n      authenticationToken.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n      SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n    }\n    filterChain.doFilter(request, response);\n  }\n</code></pre>\n<p>Furthermore, I would like to automatically populate 'UUID createdBy' in BaseEntity using AuditorAware, and of course, I am using SpringSecurity.</p>\n<p>I have also looked for examples related to this, but the information I could find is limited to the following.</p>\n<pre><code>  @Override\n  public Optional&lt;UUID&gt; getCurrentAuditor() {\n     Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n    if(null == authentication || !authentication.isAuthenticated()) {\n      return null;\n    }\n    return Optional.of(((SecurityUser)authentication.getPrincipal()).getMember().getId());\n  }\n</code></pre>\n<p>I have a table in my system's database called 'member' that contains user information. Each 'userId' in this table is assigned a UUID. I want to join the 'member' table in my database with the 'userId' stored in the SecurityContextHolder to retrieve data. How can I achieve this?</p>\n<p>I hope my limited English skills have been conveyed to you all. Thank you.</p>\n<p>I created 'public class AuditorAwareImpl implements AuditorAware', but the only information available in the SecurityContextHolder is the 'userId', not the UUID of the user.</p>\n"},{"tags":["java","libgdx"],"answers":[{"comments":[{"owner":{"account_id":956212,"reputation":1238,"user_id":981465,"accept_rate":73,"display_name":"Lokiare"},"score":0,"creation_date":1366268934,"post_id":16068893,"comment_id":22948588,"body_markdown":"I did something similar. I&#39;ll wait and see if anyone can point out an actual Actor class, but if not I&#39;ll mark this as the answer.","body":"I did something similar. I&#39;ll wait and see if anyone can point out an actual Actor class, but if not I&#39;ll mark this as the answer."},{"owner":{"account_id":1089992,"reputation":2252,"user_id":1084822,"accept_rate":83,"display_name":"Raphael Royer-Rivard"},"score":0,"creation_date":1372900106,"post_id":16068893,"comment_id":25370484,"body_markdown":"Thank you very much for your snippet, kind sir.","body":"Thank you very much for your snippet, kind sir."},{"owner":{"account_id":1434426,"reputation":5928,"user_id":1356130,"accept_rate":85,"display_name":"atok"},"score":0,"creation_date":1376907155,"post_id":16068893,"comment_id":26869865,"body_markdown":"This seems a little bit slower then &quot;direct&quot; approach: TextureRegion    frame2 = bird_07.getKeyFrame(stateTime, true);\n            stage.getSpriteBatch().begin();\n            stage.getSpriteBatch().draw(currentFrame, 1000, 700); any idea why ?","body":"This seems a little bit slower then &quot;direct&quot; approach: TextureRegion    frame2 = bird_07.getKeyFrame(stateTime, true);             stage.getSpriteBatch().begin();             stage.getSpriteBatch().draw(currentFrame, 1000, 700); any idea why ?"},{"owner":{"account_id":3838250,"reputation":9521,"user_id":3182091,"accept_rate":91,"display_name":"Robert P"},"score":4,"creation_date":1391778938,"post_id":16068893,"comment_id":32682919,"body_markdown":"I think extending `Image` in this case is not really useful. You could extend `Actor` and store an `Animation` in it. Image wants to have `Drawable`s which IMHO are not as comfortable as `TextureRegion`s and others, and you don&#39;t need to make your own drawable. Also you store the data twice, in `Image` and in `AnimatedActor`","body":"I think extending <code>Image</code> in this case is not really useful. You could extend <code>Actor</code> and store an <code>Animation</code> in it. Image wants to have <code>Drawable</code>s which IMHO are not as comfortable as <code>TextureRegion</code>s and others, and you don&#39;t need to make your own drawable. Also you store the data twice, in <code>Image</code> and in <code>AnimatedActor</code>"},{"owner":{"account_id":1443078,"reputation":1620,"user_id":1362571,"accept_rate":27,"display_name":"Aliaaa"},"score":0,"creation_date":1448183076,"post_id":16068893,"comment_id":55470506,"body_markdown":"@Mr.Developer it should work Libgdx is theoretically cross platform, but I didn&#39;t test it on iOS.","body":"@Mr.Developer it should work Libgdx is theoretically cross platform, but I didn&#39;t test it on iOS."},{"owner":{"account_id":5141644,"reputation":3305,"user_id":4118839,"accept_rate":38,"display_name":"Mr. Developer"},"score":0,"creation_date":1448194523,"post_id":16068893,"comment_id":55473430,"body_markdown":"I m try! This work on iOS if the texture is under the 4000x4000px","body":"I m try! This work on iOS if the texture is under the 4000x4000px"}],"tags":[],"owner":{"account_id":1443078,"reputation":1620,"user_id":1362571,"accept_rate":27,"display_name":"Aliaaa"},"comment_count":6,"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1434881646,"creation_date":1366228062,"answer_id":16068893,"question_id":16059578,"body_markdown":"Just like you I didn&#39;t find animated Actor so I created myself:  \r\n\r\nAnimatedActor.java:\r\n\r\n    public class AnimatedActor extends Image\r\n    {\r\n\t    private final AnimationDrawable drawable;\r\n\r\n\t    public AnimatedActor(AnimationDrawable drawable)\r\n\t    {\r\n\t\t    super(drawable);\r\n\t\t    this.drawable = drawable;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void act(float delta)\r\n\t    {\r\n\t\t    drawable.act(delta);\r\n\t\t    super.act(delta);\r\n\t    }\r\n    }\r\n\r\nAnimationDrawable.java:\r\n\r\n    class AnimationDrawable extends BaseDrawable\r\n    {\r\n\t    public final Animation anim;\t\r\n\t    private float stateTime = 0;\r\n\t\r\n\t    public AnimationDrawable(Animation anim)\r\n\t    {\r\n\t\t    this.anim = anim;\r\n\t\t    setMinWidth(anim.getKeyFrameAt(0).getRegionWidth());\r\n\t\t    setMinHeight(anim.getKeyFrameAt(0).getRegionHeight());\r\n\t    }\r\n\t\r\n\t    public void act(float delta)\r\n\t    {\r\n\t\t    stateTime += delta;\r\n\t    }\r\n\t\r\n\t    public void reset()\r\n\t    {\r\n\t\t    stateTime = 0;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void draw(SpriteBatch batch, float x, float y, float width, float height)\r\n\t    {\r\n\t\t    batch.draw(anim.getKeyFrame(stateTime), x, y, width, height);\r\n\t    }\r\n    }","title":"LibGDX is there an actor that is animated?","body":"<p>Just like you I didn't find animated Actor so I created myself:  </p>\n\n<p>AnimatedActor.java:</p>\n\n<pre><code>public class AnimatedActor extends Image\n{\n    private final AnimationDrawable drawable;\n\n    public AnimatedActor(AnimationDrawable drawable)\n    {\n        super(drawable);\n        this.drawable = drawable;\n    }\n\n    @Override\n    public void act(float delta)\n    {\n        drawable.act(delta);\n        super.act(delta);\n    }\n}\n</code></pre>\n\n<p>AnimationDrawable.java:</p>\n\n<pre><code>class AnimationDrawable extends BaseDrawable\n{\n    public final Animation anim;    \n    private float stateTime = 0;\n\n    public AnimationDrawable(Animation anim)\n    {\n        this.anim = anim;\n        setMinWidth(anim.getKeyFrameAt(0).getRegionWidth());\n        setMinHeight(anim.getKeyFrameAt(0).getRegionHeight());\n    }\n\n    public void act(float delta)\n    {\n        stateTime += delta;\n    }\n\n    public void reset()\n    {\n        stateTime = 0;\n    }\n\n    @Override\n    public void draw(SpriteBatch batch, float x, float y, float width, float height)\n    {\n        batch.draw(anim.getKeyFrame(stateTime), x, y, width, height);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4389464,"reputation":221,"user_id":3578389,"display_name":"potpiejimmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1434881552,"creation_date":1398607048,"answer_id":23324286,"question_id":16059578,"body_markdown":"I simply created an &quot;AnimatedImage&quot; actor class which only takes an Animation as an argument (no need for a custom Drawable class). I think this solution is much simpler than the one above.\r\n\r\nAnimatedImage.java:\r\n\r\n    public class AnimatedImage extends Image\r\n    {\r\n\t    protected Animation animation = null;\r\n\t    private float stateTime = 0;\r\n\t\r\n\t    public AnimatedImage(Animation animation) {\r\n\t\t    super(animation.getKeyFrame(0));\r\n\t\t    this.animation = animation;\r\n\t    }\r\n\t\r\n\t    @Override\r\n\t    public void act(float delta)\r\n\t    {\r\n\t\t    ((TextureRegionDrawable)getDrawable()).setRegion(animation.getKeyFrame(stateTime+=delta, true));\r\n\t        super.act(delta);\r\n\t    }\r\n    }\r\n","title":"LibGDX is there an actor that is animated?","body":"<p>I simply created an \"AnimatedImage\" actor class which only takes an Animation as an argument (no need for a custom Drawable class). I think this solution is much simpler than the one above.</p>\n\n<p>AnimatedImage.java:</p>\n\n<pre><code>public class AnimatedImage extends Image\n{\n    protected Animation animation = null;\n    private float stateTime = 0;\n\n    public AnimatedImage(Animation animation) {\n        super(animation.getKeyFrame(0));\n        this.animation = animation;\n    }\n\n    @Override\n    public void act(float delta)\n    {\n        ((TextureRegionDrawable)getDrawable()).setRegion(animation.getKeyFrame(stateTime+=delta, true));\n        super.act(delta);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20308294,"reputation":50,"user_id":14895996,"display_name":"WASD123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677830334,"creation_date":1677830334,"answer_id":75624513,"question_id":16059578,"body_markdown":"I didn&#39;t want to create another class so this is what I came up with this instead (If you just want a simple animated Actor):\r\n\r\n    Actor animatedActor = new Actor() {\r\n        float time;\r\n            \r\n        @Override\r\n        public void act( float delta ) {\r\n            time += delta;\r\n            super.act(delta);\r\n        }\r\n\r\n        @Override\r\n        public void draw( Batch batch, float parentAlpha ) {\r\n            batch.draw( searcAnimation.getKeyFrame( time ), getX(), getY(), getWidth(), getHeight() );\r\n        }\r\n    };\r\n    animatedActor.setSize( 200, 200 );\r\n    stage.addActor( animatedActor );\r\nHopes this helps!","title":"LibGDX is there an actor that is animated?","body":"<p>I didn't want to create another class so this is what I came up with this instead (If you just want a simple animated Actor):</p>\n<pre><code>Actor animatedActor = new Actor() {\n    float time;\n        \n    @Override\n    public void act( float delta ) {\n        time += delta;\n        super.act(delta);\n    }\n\n    @Override\n    public void draw( Batch batch, float parentAlpha ) {\n        batch.draw( searcAnimation.getKeyFrame( time ), getX(), getY(), getWidth(), getHeight() );\n    }\n};\nanimatedActor.setSize( 200, 200 );\nstage.addActor( animatedActor );\n</code></pre>\n<p>Hopes this helps!</p>\n"}],"owner":{"account_id":956212,"reputation":1238,"user_id":981465,"accept_rate":73,"display_name":"Lokiare"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9466,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"accepted_answer_id":16068893,"answer_count":3,"score":12,"last_activity_date":1677830334,"creation_date":1366200520,"question_id":16059578,"body_markdown":"In LibGDX Is there an actor that is animated (takes an Animation) and when added to a Stage animates itself or do you have to implement your own Image class in and animate it yourself?","title":"LibGDX is there an actor that is animated?","body":"<p>In LibGDX Is there an actor that is animated (takes an Animation) and when added to a Stage animates itself or do you have to implement your own Image class in and animate it yourself?</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677830137,"creation_date":1677830137,"answer_id":75624484,"question_id":75616220,"body_markdown":"It&#39;s very simple. These classes which were deprecated since Hibernate 5 were removed in 6: https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#legacy-hibernate-criteria-api","title":"Issues Migrating Hibernate in Spring boot 3","body":"<p>It's very simple. These classes which were deprecated since Hibernate 5 were removed in 6: <a href=\"https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#legacy-hibernate-criteria-api\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/6.0/migration-guide.adoc#legacy-hibernate-criteria-api</a></p>\n"}],"owner":{"account_id":20103858,"reputation":21,"user_id":14741805,"display_name":"vaps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677830137,"creation_date":1677764418,"question_id":75616220,"body_markdown":"In my application while using spring boot 2.7.7 I was using following classes which render to database\r\n\r\n    org.hibernate.query.criteria.internal.CriteriaBuilder.   \r\n    \r\n    org.hibernate.query.criteria.internal.ParameterRegistry.  \r\n    \r\n    org.hibernate.query.criteria.internal.Renderable.  \r\n    \r\n    org.hibernate.query.criteria.internal.compile.RenderingContext. \r\n\r\n  \r\n\r\n\r\nAfter upgrading to spring boot 3.0.2/Hibernate 6.0.2.  \r\n\r\nThe above classes are not available.\r\n\r\nAre these classes deprecated or package is changed for them I am unable to find.   \r\n\r\nTIA\r\n\r\nI tried finding the classes but unable to find them or their replacement, I believe they should be available somewhere.Not sure.","title":"Issues Migrating Hibernate in Spring boot 3","body":"<p>In my application while using spring boot 2.7.7 I was using following classes which render to database</p>\n<pre><code>org.hibernate.query.criteria.internal.CriteriaBuilder.   \n\norg.hibernate.query.criteria.internal.ParameterRegistry.  \n\norg.hibernate.query.criteria.internal.Renderable.  \n\norg.hibernate.query.criteria.internal.compile.RenderingContext. \n</code></pre>\n<p>After upgrading to spring boot 3.0.2/Hibernate 6.0.2.</p>\n<p>The above classes are not available.</p>\n<p>Are these classes deprecated or package is changed for them I am unable to find.</p>\n<p>TIA</p>\n<p>I tried finding the classes but unable to find them or their replacement, I believe they should be available somewhere.Not sure.</p>\n"},{"tags":["java","android","textview"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1520163553,"post_id":49094964,"comment_id":85194960,"body_markdown":"Which textview? awt? swing? javafx?","body":"Which textview? awt? swing? javafx?"},{"owner":{"account_id":12669920,"reputation":101,"user_id":9207796,"display_name":"Tchibo"},"score":0,"creation_date":1520163690,"post_id":49094964,"comment_id":85194993,"body_markdown":"This kind: TextView tv = new TextView(MyActivity.this);","body":"This kind: TextView tv = new TextView(MyActivity.this);"},{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":1,"creation_date":1520164394,"post_id":49094964,"comment_id":85195156,"body_markdown":"Possible duplicate of [Right align text in android TextView](https://stackoverflow.com/questions/8969122/right-align-text-in-android-textview)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/8969122/right-align-text-in-android-textview\">Right align text in android TextView</a>"},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1520164994,"post_id":49094964,"comment_id":85195318,"body_markdown":"Possible duplicate of [Android TextView text alignment](https://stackoverflow.com/questions/20217834/android-textview-text-alignment)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/20217834/android-textview-text-alignment\">Android TextView text alignment</a>"}],"answers":[{"comments":[{"owner":{"account_id":7742408,"reputation":11085,"user_id":5861618,"accept_rate":80,"display_name":"Ros&#225;rio Pereira Fernandes"},"score":0,"creation_date":1520171035,"post_id":49095094,"comment_id":85197036,"body_markdown":"While this code snippet may solve the question, [including an explanation](http://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"While this code snippet may solve the question, <a href=\"http://meta.stackexchange.com/questions/114762/explaining-entirely-%E2%80%8C%E2%80%8Bcode-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."}],"tags":[],"owner":{"account_id":13065551,"reputation":120,"user_id":9441053,"display_name":"Joshua"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1520168699,"creation_date":1520164482,"answer_id":49095094,"question_id":49094964,"body_markdown":"Try using\r\n\r\n    textView.setGravity(Gravity.RIGHT)","title":"Programmatically set text alignment in a TextView","body":"<p>Try using</p>\n\n<pre><code>textView.setGravity(Gravity.RIGHT)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12502591,"reputation":89,"user_id":9100553,"display_name":"fi - Anand Dubey"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520164541,"creation_date":1520164541,"answer_id":49095102,"question_id":49094964,"body_markdown":"You can set textview&#39;s gravity using\n\n    textLabel.setGravity(Gravity.CENTER | Gravity.BOTTOM);","title":"Programmatically set text alignment in a TextView","body":"<p>You can set textview's gravity using</p>\n\n<pre><code>textLabel.setGravity(Gravity.CENTER | Gravity.BOTTOM);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10837547,"reputation":81,"user_id":7970015,"display_name":"Azhar"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1578994334,"creation_date":1578994334,"answer_id":59730901,"question_id":49094964,"body_markdown":"In Kotlin you can use something like the below,\r\n\r\n```\r\n val textView = TextView(context)\r\n textView.apply {\r\n     layoutParams = TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT,\r\n                                    TableRow.LayoutParams.WRAP_CONTENT)\r\n     textAlignment = View.TEXT_ALIGNMENT_VIEW_START\r\n }\r\n\r\n```","title":"Programmatically set text alignment in a TextView","body":"<p>In Kotlin you can use something like the below,</p>\n\n<pre><code> val textView = TextView(context)\n textView.apply {\n     layoutParams = TableRow.LayoutParams(TableRow.LayoutParams.WRAP_CONTENT,\n                                    TableRow.LayoutParams.WRAP_CONTENT)\n     textAlignment = View.TEXT_ALIGNMENT_VIEW_START\n }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13971473,"reputation":367,"user_id":10089961,"display_name":"Shay Ribera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622057434,"creation_date":1622057434,"answer_id":67711547,"question_id":49094964,"body_markdown":"1.) Make sure the width is not set to wrap_content\r\n\r\n2.) If the text view is inside another container, set gravity to the container. Remember that gravity is to align text and stuff like that while layout_gravity is used to align views within a parent.\r\n\r\n3.) TextAlign aligns text at the beginning, end, left, or right of the container. Gravity is a bit more flexible with Center_Vertical, Center_Horizontal, or Center. ","title":"Programmatically set text alignment in a TextView","body":"<p>1.) Make sure the width is not set to wrap_content</p>\n<p>2.) If the text view is inside another container, set gravity to the container. Remember that gravity is to align text and stuff like that while layout_gravity is used to align views within a parent.</p>\n<p>3.) TextAlign aligns text at the beginning, end, left, or right of the container. Gravity is a bit more flexible with Center_Vertical, Center_Horizontal, or Center.</p>\n"},{"tags":[],"owner":{"account_id":11998618,"reputation":2547,"user_id":8779275,"display_name":"M_droid"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1645102459,"creation_date":1645102459,"answer_id":71158525,"question_id":49094964,"body_markdown":"Here is what worked for me (in kotlin):\r\n\r\n    textView.textAlignment = View.TEXT_ALIGNMENT_CENTER","title":"Programmatically set text alignment in a TextView","body":"<p>Here is what worked for me (in kotlin):</p>\n<pre><code>textView.textAlignment = View.TEXT_ALIGNMENT_CENTER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3244143,"reputation":51,"user_id":2736260,"display_name":"tsiftis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677830007,"creation_date":1677830007,"answer_id":75624462,"question_id":49094964,"body_markdown":"textView.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);","title":"Programmatically set text alignment in a TextView","body":"<p>textView.setTextAlignment(View.TEXT_ALIGNMENT_CENTER);</p>\n"}],"owner":{"account_id":12669920,"reputation":101,"user_id":9207796,"display_name":"Tchibo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15506,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":6,"score":9,"last_activity_date":1677830007,"creation_date":1520163429,"question_id":49094964,"body_markdown":"In my app, I have a button that creates a TextView with a certain message. How can I set the text alignment of the text to the right of the TextView? I see the attribute in XML, but I don&#39;t know how to do it in java.","title":"Programmatically set text alignment in a TextView","body":"<p>In my app, I have a button that creates a TextView with a certain message. How can I set the text alignment of the text to the right of the TextView? I see the attribute in XML, but I don't know how to do it in java.</p>\n"},{"tags":["java","linked-list","fluent"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1677828640,"post_id":75624244,"comment_id":133417897,"body_markdown":"There is no &quot;fluent style&quot; to add like that. You would have to create helper methods that take the list as argument as well. `addTo(list, &quot;b&quot;).addAllTo(list, ...).addFirstTo(list, &quot;a&quot;).addLastTo(list, &quot;e&quot;)`","body":"There is no &quot;fluent style&quot; to add like that. You would have to create helper methods that take the list as argument as well. <code>addTo(list, &quot;b&quot;).addAllTo(list, ...).addFirstTo(list, &quot;a&quot;).addLastTo(list, &quot;e&quot;)</code>"},{"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"score":0,"creation_date":1677828912,"post_id":75624244,"comment_id":133417966,"body_markdown":"@Zabuzard there is a lib http://www.java2s.com/Tutorials/Java/Data_Structure_How_to/List/Subclass_ArrayList_with_fluent_api.htm but i don&#39;t want to include them just for this class","body":"@Zabuzard there is a lib <a href=\"http://www.java2s.com/Tutorials/Java/Data_Structure_How_to/List/Subclass_ArrayList_with_fluent_api.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorials/Java/Data_Structure_How_to/List/&hellip;</a> but i don&#39;t want to include them just for this class"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1677828967,"post_id":75624244,"comment_id":133417979,"body_markdown":"@cnmuc But this is not `java.util.LinkedList`, it is a self-written class that provides such methods. There is no way to make this happen with Javas built-in classes.","body":"@cnmuc But this is not <code>java.util.LinkedList</code>, it is a self-written class that provides such methods. There is no way to make this happen with Javas built-in classes."},{"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"score":0,"creation_date":1677829083,"post_id":75624244,"comment_id":133418007,"body_markdown":"@Unmitigated i find it more readable. and yes, i&#39;m adding these elements manually. also, in my many years of software development i rarely saw code using the boolean result of addAll (what you should actually do)","body":"@Unmitigated i find it more readable. and yes, i&#39;m adding these elements manually. also, in my many years of software development i rarely saw code using the boolean result of addAll (what you should actually do)"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1677829194,"post_id":75624244,"comment_id":133418034,"body_markdown":"It might be worth mentioning Kotlin as an option that would give you the possibility to add extension methods to existing classes in hindsight. But Java itself cant do that.","body":"It might be worth mentioning Kotlin as an option that would give you the possibility to add extension methods to existing classes in hindsight. But Java itself cant do that."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677829254,"creation_date":1677828918,"answer_id":75624316,"question_id":75624244,"body_markdown":"There is **no** &quot;*fluent style*&quot; to add like that. What you are asking is not possible with the methods available in `LinkedList` (as of today).\r\n\r\n## Helper ##\r\n\r\nHowever, you can technically create your own helper methods that take the list as argument as well. Something like:\r\n\r\n```java\r\n// Same for addAllTo, addFirstTo, addLastTo\r\npublic static &lt;E&gt; LinkedList&lt;E&gt; addTo(LinkedList&lt;E&gt; list, E element) {\r\n  list.add(element);\r\n  return list;\r\n}\r\n```\r\n\r\nThen you could use it as:\r\n```java\r\nvar list = new LinkedList&lt;String&gt;();\r\naddTo(list, &quot;b&quot;)\r\n  .addAllTo(list, List.of(&quot;c&quot;, &quot;d&quot;))\r\n  .addFirstTo(list, &quot;a&quot;)\r\n  .addLastTo(list, &quot;e&quot;)\r\n```\r\nThere is no way to add the list itself to the fluent-chain as well, since you need to be able to _name_ it.\r\n\r\nYou also can not get rid of the `list`-argument, since you can not add the methods to `LinkedList` itself.\r\n\r\n## Delegate extension ##\r\n\r\nAnother option, but this is kinda ugly, would be to create a new `LinkedList` class, which just delegates all calls to the actual. So something like:\r\n\r\n```java\r\npublic class FluentLinkedList&lt;E&gt; extends AbstractList&lt;E&gt; {\r\n  private final LinkedList&lt;E&gt; delegate = new LinkedList&lt;&gt;();\r\n\r\n  @Override\r\n  public boolean add(E element) {\r\n    return delegate.add(element);\r\n  }\r\n\r\n  // Override and delegate all other List methods as well ...\r\n\r\n  // Then finally add your own extensions\r\n  public FluentLinkedList&lt;E&gt; addFluent(E element) {\r\n    add(element);\r\n    return this;\r\n  }\r\n\r\n  // ...\r\n}\r\n```\r\n\r\nYou can not get rid of the original `add` method though, unless you want to break compatibility with the `List` interface.","title":"Adding elements to LinkedList fluently in Java","body":"<p>There is <strong>no</strong> &quot;<em>fluent style</em>&quot; to add like that. What you are asking is not possible with the methods available in <code>LinkedList</code> (as of today).</p>\n<h2>Helper</h2>\n<p>However, you can technically create your own helper methods that take the list as argument as well. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Same for addAllTo, addFirstTo, addLastTo\npublic static &lt;E&gt; LinkedList&lt;E&gt; addTo(LinkedList&lt;E&gt; list, E element) {\n  list.add(element);\n  return list;\n}\n</code></pre>\n<p>Then you could use it as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var list = new LinkedList&lt;String&gt;();\naddTo(list, &quot;b&quot;)\n  .addAllTo(list, List.of(&quot;c&quot;, &quot;d&quot;))\n  .addFirstTo(list, &quot;a&quot;)\n  .addLastTo(list, &quot;e&quot;)\n</code></pre>\n<p>There is no way to add the list itself to the fluent-chain as well, since you need to be able to <em>name</em> it.</p>\n<p>You also can not get rid of the <code>list</code>-argument, since you can not add the methods to <code>LinkedList</code> itself.</p>\n<h2>Delegate extension</h2>\n<p>Another option, but this is kinda ugly, would be to create a new <code>LinkedList</code> class, which just delegates all calls to the actual. So something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class FluentLinkedList&lt;E&gt; extends AbstractList&lt;E&gt; {\n  private final LinkedList&lt;E&gt; delegate = new LinkedList&lt;&gt;();\n\n  @Override\n  public boolean add(E element) {\n    return delegate.add(element);\n  }\n\n  // Override and delegate all other List methods as well ...\n\n  // Then finally add your own extensions\n  public FluentLinkedList&lt;E&gt; addFluent(E element) {\n    add(element);\n    return this;\n  }\n\n  // ...\n}\n</code></pre>\n<p>You can not get rid of the original <code>add</code> method though, unless you want to break compatibility with the <code>List</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677829480,"creation_date":1677829480,"answer_id":75624388,"question_id":75624244,"body_markdown":"You could make a class which extends LinkedList&lt;T&gt; which provides the desired behavior:\r\n\r\n```\r\nclass FluentList&lt;T&gt; extends LinkedList&lt;T&gt; {\r\n    FluentList &lt;T&gt; with(T element) {\r\n        this.add(element);\r\n        return this;\r\n    }\r\n    FluentList &lt;T&gt; with(Collection&lt;T&gt; elements) {\r\n        this.addAll(elements);\r\n        return this;\r\n    }\r\n    FluentList &lt;T&gt; withFirst(T element) {\r\n        this.addFirst(element);\r\n        return this;\r\n    }\r\n    FluentList &lt;T&gt; withLast(T element) {\r\n        this.addLast(element);\r\n        return this;\r\n    }\r\n}\r\n```\r\nThis will allow you to fluently add elements with the `with` prefix while leaving the `add`-functionality as-is from LinkedList&lt;T&gt;. E.g:\r\n\r\n```\r\n    public static void main(String[] args) {\r\n        FluentList&lt;String&gt; strings = new FluentList&lt;String&gt;()\r\n                .with(&quot;a&quot;)\r\n                .with(List.of(&quot;b&quot;, &quot;c&quot;))\r\n                .withFirst(&quot;d&quot;)\r\n                .withLast(&quot;e&quot;);\r\n        strings.forEach(System.out::println);\r\n    }\r\n```","title":"Adding elements to LinkedList fluently in Java","body":"<p>You could make a class which extends LinkedList which provides the desired behavior:</p>\n<pre><code>class FluentList&lt;T&gt; extends LinkedList&lt;T&gt; {\n    FluentList &lt;T&gt; with(T element) {\n        this.add(element);\n        return this;\n    }\n    FluentList &lt;T&gt; with(Collection&lt;T&gt; elements) {\n        this.addAll(elements);\n        return this;\n    }\n    FluentList &lt;T&gt; withFirst(T element) {\n        this.addFirst(element);\n        return this;\n    }\n    FluentList &lt;T&gt; withLast(T element) {\n        this.addLast(element);\n        return this;\n    }\n}\n</code></pre>\n<p>This will allow you to fluently add elements with the <code>with</code> prefix while leaving the <code>add</code>-functionality as-is from LinkedList. E.g:</p>\n<pre><code>    public static void main(String[] args) {\n        FluentList&lt;String&gt; strings = new FluentList&lt;String&gt;()\n                .with(&quot;a&quot;)\n                .with(List.of(&quot;b&quot;, &quot;c&quot;))\n                .withFirst(&quot;d&quot;)\n                .withLast(&quot;e&quot;);\n        strings.forEach(System.out::println);\n    }\n</code></pre>\n"}],"owner":{"account_id":2759956,"reputation":6055,"user_id":2377044,"accept_rate":31,"display_name":"cnmuc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677829480,"creation_date":1677828388,"question_id":75624244,"body_markdown":"I&#39;m lookig for a way (ideally only with Java SDK classes) to inline adding elements to a LinkedList in Java, to convert \r\n\r\n    LinkedList&lt;String&gt; linkedList = new LinkedList&lt;&gt;();\r\n    linkedList.add(&quot;b&quot;);\r\n    linkedList.addAll(List.of(&quot;c&quot;, &quot;d&quot;));\r\n    linkedList.addFirst(&quot;a&quot;);\r\n    linkedList.addLast(&quot;e&quot;); \r\n\r\nto something like \r\n    \r\n    new LinkedList&lt;&gt;().add(&quot;b&quot;).addAll(List.of(&quot;c&quot;, &quot;d&quot;)).addFirst(&quot;a&quot;).addLast(&quot;e&quot;);","title":"Adding elements to LinkedList fluently in Java","body":"<p>I'm lookig for a way (ideally only with Java SDK classes) to inline adding elements to a LinkedList in Java, to convert</p>\n<pre><code>LinkedList&lt;String&gt; linkedList = new LinkedList&lt;&gt;();\nlinkedList.add(&quot;b&quot;);\nlinkedList.addAll(List.of(&quot;c&quot;, &quot;d&quot;));\nlinkedList.addFirst(&quot;a&quot;);\nlinkedList.addLast(&quot;e&quot;); \n</code></pre>\n<p>to something like</p>\n<pre><code>new LinkedList&lt;&gt;().add(&quot;b&quot;).addAll(List.of(&quot;c&quot;, &quot;d&quot;)).addFirst(&quot;a&quot;).addLast(&quot;e&quot;);\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot","mongodb-query"],"comments":[{"owner":{"account_id":12808534,"reputation":622,"user_id":9267467,"display_name":"Tobok Sitanggang"},"score":0,"creation_date":1677850777,"post_id":75624373,"comment_id":133423516,"body_markdown":"you need to use projection as options in the query https://www.mongodb.com/docs/drivers/java/sync/current/usage-examples/find/","body":"you need to use projection as options in the query <a href=\"https://www.mongodb.com/docs/drivers/java/sync/current/usage-examples/find/\" rel=\"nofollow noreferrer\">mongodb.com/docs/drivers/java/sync/current/usage-examples/fi&zwnj;&#8203;nd</a>"},{"owner":{"account_id":20166713,"reputation":1,"user_id":14790477,"display_name":"OddyUlrich"},"score":0,"creation_date":1677875376,"post_id":75624373,"comment_id":133430442,"body_markdown":"@TobokSitanggang But can I use the &quot;projection&quot; inside a Query annotation? I know I can use an aggregation but for something so simple I don&#39;t know if it would be a good practise.","body":"@TobokSitanggang But can I use the &quot;projection&quot; inside a Query annotation? I know I can use an aggregation but for something so simple I don&#39;t know if it would be a good practise."},{"owner":{"account_id":12808534,"reputation":622,"user_id":9267467,"display_name":"Tobok Sitanggang"},"score":0,"creation_date":1677875980,"post_id":75624373,"comment_id":133430578,"body_markdown":"in operation `find`, use `projection`. and in operation `agregation` use `$project`. there is different.","body":"in operation <code>find</code>, use <code>projection</code>. and in operation <code>agregation</code> use <code>$project</code>. there is different."}],"owner":{"account_id":20166713,"reputation":1,"user_id":14790477,"display_name":"OddyUlrich"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677829366,"creation_date":1677829366,"question_id":75624373,"body_markdown":"```\r\n@Query(value=&quot;{ &#39;studentsList.$id&#39;: ?0 }&quot;, fields=&quot;{&#39;$id&#39;: 1}&quot;)\r\nList&lt;Subject&gt; findAllByStudentID(ObjectId studentId);\r\n```\r\n\r\nI am trying to find a way to make this work. I know it currently returns the object with just the &quot;id&quot; field filled in, but I would like it to just return the ObjectID.\r\n\r\nI know I could set the method to return a String and then convert it to ObjectID if necessary, but is there really no way to do this?","title":"How to get only list of IDs from MongoDB using springboot?","body":"<pre><code>@Query(value=&quot;{ 'studentsList.$id': ?0 }&quot;, fields=&quot;{'$id': 1}&quot;)\nList&lt;Subject&gt; findAllByStudentID(ObjectId studentId);\n</code></pre>\n<p>I am trying to find a way to make this work. I know it currently returns the object with just the &quot;id&quot; field filled in, but I would like it to just return the ObjectID.</p>\n<p>I know I could set the method to return a String and then convert it to ObjectID if necessary, but is there really no way to do this?</p>\n"},{"tags":["java","android","android-intent","sms","telephonymanager"],"owner":{"account_id":25343450,"reputation":23,"user_id":19161534,"display_name":"Justice Chukwuemeka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677829163,"creation_date":1677829163,"question_id":75624350,"body_markdown":"I trying to get the details of an sms including it&#39;s body the sender and couple of other details I can get from the sms but I have to do this from the sms app such that when the user clicks on choose an sms it loads the default app and when the user clicks on this sms it gets all of it&#39;s data including the sms body and sender data as well as time sms was recieved.\r\n\r\nI have tried opening the default messaging app now what I want understand is how I can get the sms messages when the user clicks on them is there something like an onclick or maybe a way of passing the result of the intent back to the app. This is what I have so far\r\n\r\n```\r\nIntent eventIntentMessage =getPackageManager()\r\n                    .getLaunchIntentForPackage(Telephony.Sms.getDefaultSmsPackage(getApplicationContext()));\r\n            eventIntentMessage.getParcelableArrayExtra(&quot;sms&quot;);\r\n            startActivityForResult(eventIntentMessage, 123);\r\n```\r\n\r\nHow do I access the individual sms and read it&#39;s results and pass then to the app please if you know a link that has an explanation for this or you have one it will be greatly appreciated.","title":"How do I get the details of an sms from the sms package using Telephony.Sms.getDefaultSmsPackage(getApplicationContext()) passed to an intent?","body":"<p>I trying to get the details of an sms including it's body the sender and couple of other details I can get from the sms but I have to do this from the sms app such that when the user clicks on choose an sms it loads the default app and when the user clicks on this sms it gets all of it's data including the sms body and sender data as well as time sms was recieved.</p>\n<p>I have tried opening the default messaging app now what I want understand is how I can get the sms messages when the user clicks on them is there something like an onclick or maybe a way of passing the result of the intent back to the app. This is what I have so far</p>\n<pre><code>Intent eventIntentMessage =getPackageManager()\n                    .getLaunchIntentForPackage(Telephony.Sms.getDefaultSmsPackage(getApplicationContext()));\n            eventIntentMessage.getParcelableArrayExtra(&quot;sms&quot;);\n            startActivityForResult(eventIntentMessage, 123);\n</code></pre>\n<p>How do I access the individual sms and read it's results and pass then to the app please if you know a link that has an explanation for this or you have one it will be greatly appreciated.</p>\n"},{"tags":["java","redis","spring-data-redis-reactive"],"answers":[{"tags":[],"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1650267129,"creation_date":1650267129,"answer_id":71908867,"question_id":71907606,"body_markdown":"You can use the `XGROUP CREATE` command with `MKSTREAM` option, to create an empty stream:\r\n\r\n```\r\nxgroup create s g $ mkstream\r\n```\r\n\r\nIf you don&#39;t need the group, you can destroy it manually:\r\n\r\n```\r\nxgroup destroy s g\r\n```\r\n\r\nAnother solution is to create a stream with `XADD` command, and then use `XDEL key id` to remove the newly created entry. In this case, the stream will be kept.","title":"How to create Empty redis stream?","body":"<p>You can use the <code>XGROUP CREATE</code> command with <code>MKSTREAM</code> option, to create an empty stream:</p>\n<pre><code>xgroup create s g $ mkstream\n</code></pre>\n<p>If you don't need the group, you can destroy it manually:</p>\n<pre><code>xgroup destroy s g\n</code></pre>\n<p>Another solution is to create a stream with <code>XADD</code> command, and then use <code>XDEL key id</code> to remove the newly created entry. In this case, the stream will be kept.</p>\n"},{"tags":[],"owner":{"account_id":465132,"reputation":401,"user_id":869026,"display_name":"Mustafa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677827592,"creation_date":1677827592,"answer_id":75624141,"question_id":71907606,"body_markdown":"You can XADD with MAXLEN = 0. Like this:\r\n\r\n    XADD mystream MAXLEN = 0 * key value","title":"How to create Empty redis stream?","body":"<p>You can XADD with MAXLEN = 0. Like this:</p>\n<pre><code>XADD mystream MAXLEN = 0 * key value\n</code></pre>\n"}],"owner":{"account_id":19135777,"reputation":505,"user_id":13976784,"display_name":"Aswath Murugan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71908867,"answer_count":2,"score":0,"last_activity_date":1677827592,"creation_date":1650256218,"question_id":71907606,"body_markdown":"Is possible to create empty stream using spring redis data?\r\nAm trying to create rest endpoint to create just stream without data.\r\n\r\nThanks,","title":"How to create Empty redis stream?","body":"<p>Is possible to create empty stream using spring redis data?\nAm trying to create rest endpoint to create just stream without data.</p>\n<p>Thanks,</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"owner":{"account_id":5722140,"reputation":1187,"user_id":4520274,"accept_rate":38,"display_name":"Mansoor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677827166,"creation_date":1677758266,"question_id":75615115,"body_markdown":"I need to sort a column starts with number and is a varchar in numerical order. \r\n\r\nI have a spring jpa specification already for this. So need an option to override the `Sort.class` methods.\r\n\r\n```\r\nselect x, substring(x, &#39;\\d+\\.?\\d*&#39;) from pg_catalog.&quot;unnest&quot;(array[&#39;98&#39;,&#39;101.0m&#39;,&#39;166m&#39;]) as x \r\norder by substring(x, &#39;\\d+\\.?\\d*&#39;):: numeric\r\n```\r\n\r\nExpected:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yyt6v.png","title":"Sort by a varchar column starting with numbers Spring JPA","body":"<p>I need to sort a column starts with number and is a varchar in numerical order.</p>\n<p>I have a spring jpa specification already for this. So need an option to override the <code>Sort.class</code> methods.</p>\n<pre><code>select x, substring(x, '\\d+\\.?\\d*') from pg_catalog.&quot;unnest&quot;(array['98','101.0m','166m']) as x \norder by substring(x, '\\d+\\.?\\d*'):: numeric\n</code></pre>\n<p>Expected:\n<a href=\"https://i.stack.imgur.com/yyt6v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyt6v.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"score":0,"creation_date":1583528749,"post_id":60568043,"comment_id":107161162,"body_markdown":"Date can be represented on many ways. What `type` do you use to store it in `CCEevnt` class? What type is used to store it in `Cassandra` table? Take a look on that question: [Spring Boot Jackson date and timestamp Format](https://stackoverflow.com/questions/55256567/spring-boot-jackson-date-and-timestamp-format)","body":"Date can be represented on many ways. What <code>type</code> do you use to store it in <code>CCEevnt</code> class? What type is used to store it in <code>Cassandra</code> table? Take a look on that question: <a href=\"https://stackoverflow.com/questions/55256567/spring-boot-jackson-date-and-timestamp-format\">Spring Boot Jackson date and timestamp Format</a>"}],"answers":[{"comments":[{"owner":{"account_id":10362158,"reputation":81,"user_id":7642312,"display_name":"Brian Gurka"},"score":0,"creation_date":1583849479,"post_id":60568243,"comment_id":107246353,"body_markdown":"Thank you!! Now how would i convert that back. it seems my webservice needs that value as epoch and then is returning it that way. But When i write back into cassandra, cassandra does NOT like that at all","body":"Thank you!! Now how would i convert that back. it seems my webservice needs that value as epoch and then is returning it that way. But When i write back into cassandra, cassandra does NOT like that at all"}],"tags":[],"owner":{"account_id":1789528,"reputation":2426,"user_id":1630255,"accept_rate":50,"display_name":"Neeraj"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583513061,"creation_date":1583512760,"answer_id":60568243,"question_id":60568043,"body_markdown":"`-2177434800000` is the number of milliseconds before the `epoch time`.  \r\nEpoch time is `1 January 1970 00:00:00` which is considered `0` milliseconds. Any time before it is negative and after it is positive. Think of epoch time as `0` in the number line.\r\n&lt;br/&gt;You can read more about it [here][1] and [here][2].\r\n\r\nAlso ,you can verify that `-2177434800000` stands for `1901-01-01` on this [epoch convertor website.][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31708622/how-to-represent-dates-before-epoch-as-a-unix-timestamp\r\n  [2]: https://stackoverflow.com/questions/1090869/why-is-1-1-1970-the-epoch-time\r\n  [3]: https://www.epochconverter.com/","title":"Date field being parsed incorrectly with JsonNode","body":"<p><code>-2177434800000</code> is the number of milliseconds before the <code>epoch time</code>.<br>\nEpoch time is <code>1 January 1970 00:00:00</code> which is considered <code>0</code> milliseconds. Any time before it is negative and after it is positive. Think of epoch time as <code>0</code> in the number line.\n<br/>You can read more about it <a href=\"https://stackoverflow.com/questions/31708622/how-to-represent-dates-before-epoch-as-a-unix-timestamp\">here</a> and <a href=\"https://stackoverflow.com/questions/1090869/why-is-1-1-1970-the-epoch-time\">here</a>.</p>\n\n<p>Also ,you can verify that <code>-2177434800000</code> stands for <code>1901-01-01</code> on this <a href=\"https://www.epochconverter.com/\" rel=\"nofollow noreferrer\">epoch convertor website.</a></p>\n"},{"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1677841159,"post_id":75590407,"comment_id":133421055,"body_markdown":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes.","body":"Please don&#39;t post only code as answer, but also provide an explanation what your code does and how it solves the problem of the question. Answers with an explanation are usually more helpful and of better quality, and are more likely to attract upvotes."}],"tags":[],"owner":{"account_id":27898627,"reputation":1,"user_id":21303376,"display_name":"chennoju abhinav"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677826755,"creation_date":1677578179,"answer_id":75590407,"question_id":60568043,"body_markdown":"    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);","title":"Date field being parsed incorrectly with JsonNode","body":"<pre><code>ObjectMapper mapper = new ObjectMapper();\nmapper.disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n</code></pre>\n"}],"owner":{"account_id":10362158,"reputation":81,"user_id":7642312,"display_name":"Brian Gurka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677826755,"creation_date":1583512008,"question_id":60568043,"body_markdown":"I&#39;m reading a record of data from a cassandra table. Creating a Java object that I built. Setting all the values with what I get from the record of data (I&#39;m getting these values from the record using Jackson). When I look at the json request I&#39;m seeing a long doulbe like value. Wondering what format that is in? And then why it&#39;s negative? Here&#39;s what I got...\r\n\r\n```\r\nJsonNode ccEventNode = new ObjectMapper().readTree(row.getString(0));\r\nccEventNode.get(&quot;last_pyflt_dt&quot;)\r\n```\r\nThis gives me a value of &quot;1901-01-01&quot;. I then...\r\n\r\n```\r\nCCEvent ccEvent = new CCEvent;\r\nccEvent.getHistory().setLast_pyflt_dt(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(ccEventNode.get(&quot;last_pyflt_dt&quot;).textValue()));\r\n```\r\nThis gives me a value for the Date field I just set of &quot;Tue Jan 01 00:00:00 EST 1901&quot;\r\n\r\nBut when I read the JSON request once I&#39;m done setting all the other values I am seeing the value as...\r\n```\r\n&quot;lastPaymentFloatDate&quot;:-2177434800000\r\n```\r\n\r\nMy first question is. What is that value? Is it number of minutes from a certain date? Why is it negative? It&#39;s  causing issues when I send it to the webservice. When I have other dates that are like &quot;2020-02-04&quot; it doesn&#39;t cause any issues. It also shows me in the request a large number like the one above but it&#39;s not negative. A bit confused.","title":"Date field being parsed incorrectly with JsonNode","body":"<p>I'm reading a record of data from a cassandra table. Creating a Java object that I built. Setting all the values with what I get from the record of data (I'm getting these values from the record using Jackson). When I look at the json request I'm seeing a long doulbe like value. Wondering what format that is in? And then why it's negative? Here's what I got...</p>\n\n<pre><code>JsonNode ccEventNode = new ObjectMapper().readTree(row.getString(0));\nccEventNode.get(\"last_pyflt_dt\")\n</code></pre>\n\n<p>This gives me a value of \"1901-01-01\". I then...</p>\n\n<pre><code>CCEvent ccEvent = new CCEvent;\nccEvent.getHistory().setLast_pyflt_dt(new SimpleDateFormat(\"yyyy-MM-dd\").parse(ccEventNode.get(\"last_pyflt_dt\").textValue()));\n</code></pre>\n\n<p>This gives me a value for the Date field I just set of \"Tue Jan 01 00:00:00 EST 1901\"</p>\n\n<p>But when I read the JSON request once I'm done setting all the other values I am seeing the value as...</p>\n\n<pre><code>\"lastPaymentFloatDate\":-2177434800000\n</code></pre>\n\n<p>My first question is. What is that value? Is it number of minutes from a certain date? Why is it negative? It's  causing issues when I send it to the webservice. When I have other dates that are like \"2020-02-04\" it doesn't cause any issues. It also shows me in the request a large number like the one above but it's not negative. A bit confused.</p>\n"},{"tags":["java","prepared-statement"],"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1295355670,"post_id":4724299,"comment_id":5218598,"body_markdown":"How were you checking this?  What tool did you use to verify the data in the database?","body":"How were you checking this?  What tool did you use to verify the data in the database?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1295355700,"post_id":4724299,"comment_id":5218604,"body_markdown":"Are you saying that the return value of `method.getName()` changed after it has been called?","body":"Are you saying that the return value of <code>method.getName()</code> changed after it has been called?"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1295356826,"post_id":4724299,"comment_id":5218807,"body_markdown":"*Never* do `catch(Exception e){}` - if an exception happens, you&#39;ll not know that it did and what went wrong. At the very least print the stack trace: `catch (Exception e) { e.printStackTrace(); }`","body":"<i>Never</i> do <code>catch(Exception e){}</code> - if an exception happens, you&#39;ll not know that it did and what went wrong. At the very least print the stack trace: <code>catch (Exception e) { e.printStackTrace(); }</code>"},{"owner":{"account_id":362579,"reputation":487,"user_id":705842,"accept_rate":43,"display_name":"dbyuvaraj"},"score":0,"creation_date":1368696696,"post_id":4724299,"comment_id":23832358,"body_markdown":"Having the same issue but not fixed yet.. i am using Mysql Workbench 5.2 and Java 7. Kindly help me to fix this","body":"Having the same issue but not fixed yet.. i am using Mysql Workbench 5.2 and Java 7. Kindly help me to fix this"}],"answers":[{"tags":[],"owner":{"account_id":77251,"reputation":17324,"user_id":220627,"accept_rate":79,"display_name":"Adrian Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1295355835,"creation_date":1295355835,"answer_id":4724358,"question_id":4724299,"body_markdown":"Are you using **Oracle**? I have had similar situations, if the environment variables regarding character sets weren&#39;t defined correctly. \r\n\r\nBy default, an Oracle connection is ASCII (7-bit characters, A-Z, a-z, numbers, punctuation, ...). If you use any character outside of that (e.g. European accents, Chinese characters, ..) then you need to use something other than ASCII. UTF-8 is best. If you don&#39;t, your characters will get replaced by &quot;?&quot;.\r\n\r\nYou&#39;d need to get your sysadmin to set this up for you. Alternatively take a look here:\r\n\r\nhttp://arjudba.blogspot.com/2009/02/what-is-nlslang-environmental-variable.html","title":"Java PreparedStatement setString changes characters","body":"<p>Are you using <strong>Oracle</strong>? I have had similar situations, if the environment variables regarding character sets weren't defined correctly. </p>\n\n<p>By default, an Oracle connection is ASCII (7-bit characters, A-Z, a-z, numbers, punctuation, ...). If you use any character outside of that (e.g. European accents, Chinese characters, ..) then you need to use something other than ASCII. UTF-8 is best. If you don't, your characters will get replaced by \"?\".</p>\n\n<p>You'd need to get your sysadmin to set this up for you. Alternatively take a look here:</p>\n\n<p><a href=\"http://arjudba.blogspot.com/2009/02/what-is-nlslang-environmental-variable.html\" rel=\"nofollow\">http://arjudba.blogspot.com/2009/02/what-is-nlslang-environmental-variable.html</a></p>\n"},{"tags":[],"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1295355865,"creation_date":1295355865,"answer_id":4724363,"question_id":4724299,"body_markdown":"Sounds like a character encoding issue to me. Perhaps the driver is transcoding your strings into the appropriate encoding for the field/table/schema/database rather than letting the server do it? If you are trying to store a character which has no representation in the encoding of the field/table/schema/database, that would explain the &#39;?&#39; characters.","title":"Java PreparedStatement setString changes characters","body":"<p>Sounds like a character encoding issue to me. Perhaps the driver is transcoding your strings into the appropriate encoding for the field/table/schema/database rather than letting the server do it? If you are trying to store a character which has no representation in the encoding of the field/table/schema/database, that would explain the '?' characters.</p>\n"},{"comments":[{"owner":{"account_id":183740,"reputation":1026,"user_id":419308,"accept_rate":70,"display_name":"Seraphis"},"score":0,"creation_date":1295356898,"post_id":4724364,"comment_id":5218825,"body_markdown":"But the strings aren&#39;t going through DB. They are taken from one variable into another one in other file (java class).. JDBC driver changes charset in PreparedStatement variable?","body":"But the strings aren&#39;t going through DB. They are taken from one variable into another one in other file (java class).. JDBC driver changes charset in PreparedStatement variable?"},{"owner":{"account_id":149087,"reputation":18896,"user_id":361319,"accept_rate":62,"display_name":"dty"},"score":0,"creation_date":1295365445,"post_id":4724364,"comment_id":5220784,"body_markdown":"See my answer below. It&#39;s possible that the JDBC driver is transcoding the String from Java&#39;s UTF-8 into the appropriate encoding for the database prior to sending it to the database.","body":"See my answer below. It&#39;s possible that the JDBC driver is transcoding the String from Java&#39;s UTF-8 into the appropriate encoding for the database prior to sending it to the database."}],"tags":[],"owner":{"account_id":108862,"reputation":51242,"user_id":288773,"display_name":"oezi"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1295356234,"creation_date":1295355869,"answer_id":4724364,"question_id":4724299,"body_markdown":"this normally happens by [using different charsets][1] in different locations. sound like you&#39;re getting your input as UTF-8, converting it to another chatset (maybe your database is set to something else) which breaks the special character.\r\n\r\nto fix this: use the same charset _everywhere_*. (i would recommend using UTF-8)\r\n\r\n*take a look at [this][2] or [my answer to another thread][3] (that&#39;s about a problem in php, but in java it&#39;s almost the same)\r\n\r\n\r\n  [1]: http://joelonsoftware.com/articles/Unicode.html\r\n  [2]: https://stackoverflow.com/questions/279170/utf-8-all-the-way-through\r\n  [3]: https://stackoverflow.com/questions/4277365/charset-encoding-problem/4277410#4277410","title":"Java PreparedStatement setString changes characters","body":"<p>this normally happens by <a href=\"http://joelonsoftware.com/articles/Unicode.html\" rel=\"nofollow noreferrer\">using different charsets</a> in different locations. sound like you're getting your input as UTF-8, converting it to another chatset (maybe your database is set to something else) which breaks the special character.</p>\n\n<p>to fix this: use the same charset <em>everywhere</em>*. (i would recommend using UTF-8)</p>\n\n<p>*take a look at <a href=\"https://stackoverflow.com/questions/279170/utf-8-all-the-way-through\">this</a> or <a href=\"https://stackoverflow.com/questions/4277365/charset-encoding-problem/4277410#4277410\">my answer to another thread</a> (that's about a problem in php, but in java it's almost the same)</p>\n"},{"tags":[],"owner":{"account_id":14105427,"reputation":1,"user_id":10189625,"display_name":"Sergio Soto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677826685,"creation_date":1677548624,"answer_id":75587174,"question_id":4724299,"body_markdown":"I do this :\r\n\r\n    PreparedStatement ps = null;\r\n    List varBind       = new ArrayList();\r\n    String strSQL =&quot;INSERT INTO table..... &quot;;\r\n    varBind.add(claveEPO); //1\r\n    varBind.add(cg_num_distribuidor); //2\r\n    varBind.add(numero_docto); //3\r\n\r\n    // it&#39;s importan to do this\r\n    byte ptextRazon[] = cgRazonSocialEpo.getBytes(&quot;ISO-8859-1&quot;);\r\n    String razonSocial = new String(ptextRazon, &quot;UTF-8&quot;);\r\n    varBind.add(razonSocial);//26\r\n\r\n    ps = con.queryPrecompilado(strSQL.toString(), varBind);\r\n    ps.executeUpdate();\r\n    ps.close();","title":"Java PreparedStatement setString changes characters","body":"<p>I do this :</p>\n<pre><code>PreparedStatement ps = null;\nList varBind       = new ArrayList();\nString strSQL =&quot;INSERT INTO table..... &quot;;\nvarBind.add(claveEPO); //1\nvarBind.add(cg_num_distribuidor); //2\nvarBind.add(numero_docto); //3\n\n// it's importan to do this\nbyte ptextRazon[] = cgRazonSocialEpo.getBytes(&quot;ISO-8859-1&quot;);\nString razonSocial = new String(ptextRazon, &quot;UTF-8&quot;);\nvarBind.add(razonSocial);//26\n\nps = con.queryPrecompilado(strSQL.toString(), varBind);\nps.executeUpdate();\nps.close();\n</code></pre>\n"}],"owner":{"account_id":183740,"reputation":1026,"user_id":419308,"accept_rate":70,"display_name":"Seraphis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7008,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":4724363,"answer_count":4,"score":3,"last_activity_date":1677826685,"creation_date":1295355395,"question_id":4724299,"body_markdown":"As in title: to be sure, I was debugging my application, and so in line, where I put strings into PreparedStatement variable, special characters are changing to &quot;?&quot;. I actually don&#39;t know where to search for things that should repair it, so I don&#39;t know if code is required.. Anyway, I&#39;ll put some here:\r\n\r\n    PreparedStatement stm = null;\r\n    String sql = &quot;&quot;;\r\n    \r\n        try{\r\n          sql = &quot;INSERT INTO methods (name, description) VALUES (?, ?)&quot;;\r\n          stm = connection.prepareStatement(sql);\r\n          stm.setString(1, method.getName());\r\n          stm.setString(2, method.getDescription());\r\n          //...\r\n        }catch(Exception e){}\r\n\r\nwhile debugging &#39;name&#39; field was correct in method object, but after adding it into stm variable, it changed it&#39;s characters to &#39;?&#39;.\r\n\r\nI have found one topic about the similar sitoatuin on SO, but there wasn&#39;t any answer that could help me since I exactely know that there is something not right in adding string to statement, not in database. But I don&#39;t know what..\r\n\r\nAny sugestions?\r\n\r\nPS. I&#39;m using netbeans 6.7.1 version\r\n\r\nEDIT: I was debugging with standard netbeans debugger, and was checking state of variables before adding strings to &#39;stm&#39; variable. I was even changing getName() method to static string with special characters. So for sure everything is ok with Method class.\r\n\r\nEDIT2: I&#39;ve made one more test. Checked stm variable and one of it&#39;s properties is &quot;charEncoding&quot; which is set to &quot;cp1252&quot;. So the main question is.. how to change that?","title":"Java PreparedStatement setString changes characters","body":"<p>As in title: to be sure, I was debugging my application, and so in line, where I put strings into PreparedStatement variable, special characters are changing to \"?\". I actually don't know where to search for things that should repair it, so I don't know if code is required.. Anyway, I'll put some here:</p>\n\n<pre><code>PreparedStatement stm = null;\nString sql = \"\";\n\n    try{\n      sql = \"INSERT INTO methods (name, description) VALUES (?, ?)\";\n      stm = connection.prepareStatement(sql);\n      stm.setString(1, method.getName());\n      stm.setString(2, method.getDescription());\n      //...\n    }catch(Exception e){}\n</code></pre>\n\n<p>while debugging 'name' field was correct in method object, but after adding it into stm variable, it changed it's characters to '?'.</p>\n\n<p>I have found one topic about the similar sitoatuin on SO, but there wasn't any answer that could help me since I exactely know that there is something not right in adding string to statement, not in database. But I don't know what..</p>\n\n<p>Any sugestions?</p>\n\n<p>PS. I'm using netbeans 6.7.1 version</p>\n\n<p>EDIT: I was debugging with standard netbeans debugger, and was checking state of variables before adding strings to 'stm' variable. I was even changing getName() method to static string with special characters. So for sure everything is ok with Method class.</p>\n\n<p>EDIT2: I've made one more test. Checked stm variable and one of it's properties is \"charEncoding\" which is set to \"cp1252\". So the main question is.. how to change that?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9620,"page":605,"page_size":100}
