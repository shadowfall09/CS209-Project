{"items":[{"tags":["java","bazel","tink"],"answers":[{"tags":[],"owner":{"account_id":8432092,"reputation":4323,"user_id":6327445,"display_name":"ahumesky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661983936,"creation_date":1661983936,"answer_id":73562414,"question_id":73561457,"body_markdown":"Are you using rules_jvm_external to get the tink dependency?\r\n\r\nhttps://github.com/bazelbuild/rules_jvm_external\r\n\r\nIf not, you might try adding this or similar to your `WORKSPACE` file:\r\n\r\n\r\n```\r\nload(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)\r\n\r\nRULES_JVM_EXTERNAL_TAG = &quot;4.2&quot;\r\nRULES_JVM_EXTERNAL_SHA = &quot;cd1a77b7b02e8e008439ca76fd34f5b07aecb8c752961f9640dea15e9e5ba1ca&quot;\r\n\r\nhttp_archive(\r\n    name = &quot;rules_jvm_external&quot;,\r\n    strip_prefix = &quot;rules_jvm_external-%s&quot; % RULES_JVM_EXTERNAL_TAG,\r\n    sha256 = RULES_JVM_EXTERNAL_SHA,\r\n    url = &quot;https://github.com/bazelbuild/rules_jvm_external/archive/%s.zip&quot; % RULES_JVM_EXTERNAL_TAG,\r\n)\r\nload(&quot;@rules_jvm_external//:repositories.bzl&quot;, &quot;rules_jvm_external_deps&quot;)\r\nrules_jvm_external_deps()\r\nload(&quot;@rules_jvm_external//:setup.bzl&quot;, &quot;rules_jvm_external_setup&quot;)\r\nrules_jvm_external_setup()\r\nload(&quot;@rules_jvm_external//:defs.bzl&quot;, &quot;maven_install&quot;)\r\n\r\nmaven_install(\r\n    artifacts = [\r\n        &quot;com.google.crypto.tink:tink:1.6.1&quot;,\r\n    ],\r\n    repositories = [\r\n        &quot;https://repo1.maven.org/maven2&quot;,\r\n    ],\r\n)\r\n```\r\n\r\nThen you can use the tink dependency from maven in your `BUILD` / `BUILD.bazel` file like this:\r\n\r\n```\r\njava_library(\r\n    name = &quot;testlib&quot;,\r\n    srcs = glob([&quot;*.java&quot;]),\r\n    deps = [\r\n        &quot;@maven//:com_google_crypto_tink_tink&quot;,\r\n    ],\r\n    visibility = [&quot;//visibility:public&quot;],\r\n)\r\n```","title":"Add google tink java lib in bazel","body":"<p>Are you using rules_jvm_external to get the tink dependency?</p>\n<p><a href=\"https://github.com/bazelbuild/rules_jvm_external\" rel=\"nofollow noreferrer\">https://github.com/bazelbuild/rules_jvm_external</a></p>\n<p>If not, you might try adding this or similar to your <code>WORKSPACE</code> file:</p>\n<pre><code>load(&quot;@bazel_tools//tools/build_defs/repo:http.bzl&quot;, &quot;http_archive&quot;)\n\nRULES_JVM_EXTERNAL_TAG = &quot;4.2&quot;\nRULES_JVM_EXTERNAL_SHA = &quot;cd1a77b7b02e8e008439ca76fd34f5b07aecb8c752961f9640dea15e9e5ba1ca&quot;\n\nhttp_archive(\n    name = &quot;rules_jvm_external&quot;,\n    strip_prefix = &quot;rules_jvm_external-%s&quot; % RULES_JVM_EXTERNAL_TAG,\n    sha256 = RULES_JVM_EXTERNAL_SHA,\n    url = &quot;https://github.com/bazelbuild/rules_jvm_external/archive/%s.zip&quot; % RULES_JVM_EXTERNAL_TAG,\n)\nload(&quot;@rules_jvm_external//:repositories.bzl&quot;, &quot;rules_jvm_external_deps&quot;)\nrules_jvm_external_deps()\nload(&quot;@rules_jvm_external//:setup.bzl&quot;, &quot;rules_jvm_external_setup&quot;)\nrules_jvm_external_setup()\nload(&quot;@rules_jvm_external//:defs.bzl&quot;, &quot;maven_install&quot;)\n\nmaven_install(\n    artifacts = [\n        &quot;com.google.crypto.tink:tink:1.6.1&quot;,\n    ],\n    repositories = [\n        &quot;https://repo1.maven.org/maven2&quot;,\n    ],\n)\n</code></pre>\n<p>Then you can use the tink dependency from maven in your <code>BUILD</code> / <code>BUILD.bazel</code> file like this:</p>\n<pre><code>java_library(\n    name = &quot;testlib&quot;,\n    srcs = glob([&quot;*.java&quot;]),\n    deps = [\n        &quot;@maven//:com_google_crypto_tink_tink&quot;,\n    ],\n    visibility = [&quot;//visibility:public&quot;],\n)\n</code></pre>\n"}],"owner":{"account_id":422185,"reputation":15,"user_id":6412106,"display_name":"Udit Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73562414,"answer_count":1,"score":0,"last_activity_date":1661983936,"creation_date":1661977078,"question_id":73561457,"body_markdown":"I&#39;m working on a java project where bazel is being used. I&#39;m looking to add tink java lib in bazel but looks like `com_github_google_tink` is not a valid package name. \r\n\r\n```\r\njava_library(\r\n    name = &quot;testlib&quot;,\r\n    srcs = glob([&quot;*.java&quot;]),\r\n    deps = [\r\n        &quot;@com_github_google_tink&quot;,\r\n    ],\r\n    visibility = [&quot;//visibility:public&quot;],\r\n)```\r\nI already referred this article https://developers.google.com/tink/install-tink but it only talks about adding java deps in maven. Can someone help ? \r\n","title":"Add google tink java lib in bazel","body":"<p>I'm working on a java project where bazel is being used. I'm looking to add tink java lib in bazel but looks like <code>com_github_google_tink</code> is not a valid package name.</p>\n<pre><code>java_library(\n    name = &quot;testlib&quot;,\n    srcs = glob([&quot;*.java&quot;]),\n    deps = [\n        &quot;@com_github_google_tink&quot;,\n    ],\n    visibility = [&quot;//visibility:public&quot;],\n)```\nI already referred this article https://developers.google.com/tink/install-tink but it only talks about adding java deps in maven. Can someone help ? \n</code></pre>\n"},{"tags":["java","javafx","graph"],"comments":[{"owner":{"account_id":1967044,"reputation":1795,"user_id":1767002,"accept_rate":88,"display_name":"Willy Pt"},"score":1,"creation_date":1505109914,"post_id":46149040,"comment_id":79259714,"body_markdown":"Welcome to Stack Overflow - nice to have you. Please read [How do I ask a good question](https://stackoverflow.com/help/how-to-ask)? and especially [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) to help keeping Stack Overflow&#39;s content on the highest possible level and increase your chances getting an appropriate answer.","body":"Welcome to Stack Overflow - nice to have you. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question</a>? and especially <a href=\"https://stackoverflow.com/help/mcve\">How to create a Minimal, Complete, and Verifiable example</a> to help keeping Stack Overflow&#39;s content on the highest possible level and increase your chances getting an appropriate answer."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1505125570,"post_id":46149040,"comment_id":79268482,"body_markdown":"Why not modify a single `ObservableList` for each chart?","body":"Why not modify a single <code>ObservableList</code> for each chart?"},{"owner":{"account_id":11464513,"reputation":45,"user_id":8403106,"display_name":"vachina"},"score":0,"creation_date":1505179342,"post_id":46149040,"comment_id":79295189,"body_markdown":"that would be an idea if the number of charts was fixed, however the actual number of charts can vary based on the amount of information. Or are you suggesting linking a observablelist to each chart dynamically? I&#39;m not sure how that could be done on the fly.","body":"that would be an idea if the number of charts was fixed, however the actual number of charts can vary based on the amount of information. Or are you suggesting linking a observablelist to each chart dynamically? I&#39;m not sure how that could be done on the fly."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1505212531,"post_id":46149040,"comment_id":79310432,"body_markdown":"I&#39;ve elaborated below.","body":"I&#39;ve elaborated below."}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661983934,"creation_date":1505212503,"answer_id":46174169,"question_id":46149040,"body_markdown":"Every `PieChart` (view) has access to its own `ObservableList&lt;PieChart.Data&gt;` (model) via its `data` property. Given a `List&lt;PieChart&gt;` named `list`, you can traverse the list and examine or update each chart&#39;s data as warranted:\r\n\r\n    list.get(0).getData().get(0).setPieValue(42);\r\n    for (PieChart p : list) {\r\n        for (PieChart.Data data : p.getData()) {\r\n            System.out.println(data);\r\n        }\r\n    }\r\n\r\nConsole data from Ensemble8 [`PieChartApp`][1]:\r\n\r\n    Data[Sun,42.0]\r\n    Data[IBM,12.0]\r\n    Data[HP,25.0]\r\n    Data[Dell,22.0]\r\n    Data[Apple,30.0]\r\n\r\nAs an alternative to having a list of views, `List&lt;PieChart&gt;`, consider maintaining a list of models, `List&lt;ObservableList&lt;PieChart.Data&gt;&gt;`.\r\n\r\n\r\n  [1]: https://github.com/openjdk/jfx/blob/86b854dc367fb32743810716da5583f7d59208f8/apps/samples/Ensemble8/src/samples/java/ensemble/samples/charts/pie/chart/PieChartApp.java","title":"How to get data from dynamically generated JavaFX PieChart?","body":"<p>Every <code>PieChart</code> (view) has access to its own <code>ObservableList&lt;PieChart.Data&gt;</code> (model) via its <code>data</code> property. Given a <code>List&lt;PieChart&gt;</code> named <code>list</code>, you can traverse the list and examine or update each chart's data as warranted:</p>\n<pre><code>list.get(0).getData().get(0).setPieValue(42);\nfor (PieChart p : list) {\n    for (PieChart.Data data : p.getData()) {\n        System.out.println(data);\n    }\n}\n</code></pre>\n<p>Console data from Ensemble8 <a href=\"https://github.com/openjdk/jfx/blob/86b854dc367fb32743810716da5583f7d59208f8/apps/samples/Ensemble8/src/samples/java/ensemble/samples/charts/pie/chart/PieChartApp.java\" rel=\"nofollow noreferrer\"><code>PieChartApp</code></a>:</p>\n<pre><code>Data[Sun,42.0]\nData[IBM,12.0]\nData[HP,25.0]\nData[Dell,22.0]\nData[Apple,30.0]\n</code></pre>\n<p>As an alternative to having a list of views, <code>List&lt;PieChart&gt;</code>, consider maintaining a list of models, <code>List&lt;ObservableList&lt;PieChart.Data&gt;&gt;</code>.</p>\n"}],"owner":{"account_id":11464513,"reputation":45,"user_id":8403106,"display_name":"vachina"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":46174169,"answer_count":1,"score":2,"last_activity_date":1661983934,"creation_date":1505109458,"question_id":46149040,"body_markdown":"I&#39;m trying to figure out how to get and update existing data in a set of dynamically created pie charts in JavaFX. These pie charts are all saved in an `ArrayList`. The first task is figure out how to get that data.\r\n\r\nAs I&#39;m creating these pie charts dynamically from a set of fluid data sources, I cannot make multiple observable lists using code similar to this:\r\n\r\n    private ObservableList&lt;PieChart.Data&gt; dataList = FXCollections.observableArrayList();\r\n\r\nAny ideas on how can I read the data name and value from each dynamically generated pie chart slice? \r\n\r\n\r\n","title":"How to get data from dynamically generated JavaFX PieChart?","body":"<p>I'm trying to figure out how to get and update existing data in a set of dynamically created pie charts in JavaFX. These pie charts are all saved in an <code>ArrayList</code>. The first task is figure out how to get that data.</p>\n\n<p>As I'm creating these pie charts dynamically from a set of fluid data sources, I cannot make multiple observable lists using code similar to this:</p>\n\n<pre><code>private ObservableList&lt;PieChart.Data&gt; dataList = FXCollections.observableArrayList();\n</code></pre>\n\n<p>Any ideas on how can I read the data name and value from each dynamically generated pie chart slice? </p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":15419304,"reputation":1018,"user_id":11123801,"display_name":"ru4ert"},"down_vote_count":4,"up_vote_count":1,"is_accepted":true,"score":-3,"last_activity_date":1591417962,"creation_date":1588423531,"answer_id":61559588,"question_id":59326393,"body_markdown":"```\r\n[...]\r\n                byte[] postData = strings[0].getBytes(StandardCharsets.UTF_8);\r\n                int postDataLength = postData.length;\r\n\r\n                URL url = new URL(&quot;https://example.com&quot;);\r\n  // The url has to be set to an international variable\r\n\r\n                new Thread(new Runnable() {\r\n                     public void run() {\r\n\r\n                        // The url has to be fetched from an international variable\r\n                        HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n\r\n                //\r\n                        conn.setDoOutput(true);\r\n                        conn.setInstanceFollowRedirects(false);\r\n                        conn.setRequestMethod(&quot;POST&quot;);\r\n                        conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n                        conn.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n                        conn.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(postDataLength));\r\n                        conn.setUseCaches(false);\r\n\r\n                        //\r\n                        // TLSv1 | TLSv1.1 | TLSv1.2\r\n                        SSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n                        sc.init(null, null, new java.security.SecureRandom());\r\n                        sc.getProtocol();\r\n                        sc.getSupportedSSLParameters();\r\n                        sc.getDefaultSSLParameters();\r\n                        SSLEngine engine = sc.createSSLEngine();\r\n\r\n\r\n                        conn.setSSLSocketFactory(sc.getSocketFactory());\r\n\r\n                        conn.connect();\r\n                      });\r\n                    }\r\n                }).start();\r\n\r\n                try (final InputStream in = conn.getInputStream()) {\r\n                    //…\r\n                }\r\n[...]\r\n```\r\nhttps://developer.android.com/guide/components/processes-and-threads","title":"Java Android Developing &quot;Failure in SSL library, usually a protocol&quot;","body":"<pre><code>[...]\n                byte[] postData = strings[0].getBytes(StandardCharsets.UTF_8);\n                int postDataLength = postData.length;\n\n                URL url = new URL(\"https://example.com\");\n  // The url has to be set to an international variable\n\n                new Thread(new Runnable() {\n                     public void run() {\n\n                        // The url has to be fetched from an international variable\n                        HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\n\n                //\n                        conn.setDoOutput(true);\n                        conn.setInstanceFollowRedirects(false);\n                        conn.setRequestMethod(\"POST\");\n                        conn.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\n                        conn.setRequestProperty(\"charset\", \"utf-8\");\n                        conn.setRequestProperty(\"Content-Length\", Integer.toString(postDataLength));\n                        conn.setUseCaches(false);\n\n                        //\n                        // TLSv1 | TLSv1.1 | TLSv1.2\n                        SSLContext sc = SSLContext.getInstance(\"TLSv1.2\");\n                        sc.init(null, null, new java.security.SecureRandom());\n                        sc.getProtocol();\n                        sc.getSupportedSSLParameters();\n                        sc.getDefaultSSLParameters();\n                        SSLEngine engine = sc.createSSLEngine();\n\n\n                        conn.setSSLSocketFactory(sc.getSocketFactory());\n\n                        conn.connect();\n                      });\n                    }\n                }).start();\n\n                try (final InputStream in = conn.getInputStream()) {\n                    //…\n                }\n[...]\n</code></pre>\n\n<p><a href=\"https://developer.android.com/guide/components/processes-and-threads\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/processes-and-threads</a></p>\n"},{"tags":[],"owner":{"account_id":3893689,"reputation":754,"user_id":3223275,"display_name":"Mohammad Desouky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661983307,"creation_date":1661983307,"answer_id":73562335,"question_id":59326393,"body_markdown":"This is a problem in establishing the connection between the device and the mobile. Mainly happened because of used TLS version that the server support and use and the device connected client software isn&#39;t supported. For example I faced the same issue with my application I set my Nginx server configuration to use only TLS v1.3 while the okhttpclient on old android OS versions like android 8 in my case 8 supports TLS v1.2 so you have two solutions here:\r\n\r\n1. To change the server TLS version (which I don&#39;t recommend for you )\r\n2. Try to make okhttp work with TLSv1.3 take a look here https://stackoverflow.com/questions/55539513/how-to-enable-tlsv1-3-for-okhttp-3-12-x-on-android-8-9","title":"Java Android Developing &quot;Failure in SSL library, usually a protocol&quot;","body":"<p>This is a problem in establishing the connection between the device and the mobile. Mainly happened because of used TLS version that the server support and use and the device connected client software isn't supported. For example I faced the same issue with my application I set my Nginx server configuration to use only TLS v1.3 while the okhttpclient on old android OS versions like android 8 in my case 8 supports TLS v1.2 so you have two solutions here:</p>\n<ol>\n<li>To change the server TLS version (which I don't recommend for you )</li>\n<li>Try to make okhttp work with TLSv1.3 take a look here <a href=\"https://stackoverflow.com/questions/55539513/how-to-enable-tlsv1-3-for-okhttp-3-12-x-on-android-8-9\">How to enable TLSv1.3 for OkHttp 3.12.x on Android 8/9?</a></li>\n</ol>\n"}],"owner":{"account_id":15419304,"reputation":1018,"user_id":11123801,"display_name":"ru4ert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3798,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61559588,"answer_count":2,"score":2,"last_activity_date":1661983307,"creation_date":1576254349,"question_id":59326393,"body_markdown":"I&#39;m programming an Application just for testing with Android Studio. I want to Request a Server with POST params which are in the string: (strings[0]). \r\n\r\nBut I always get this Exception:\r\n\r\n&gt;javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x6f427ff108: Failure in SSL library, usually a protocol error\r\nerror:1000042e:SSL routines:OPENSSL_internal:TLSV1_ALERT_PROTOCOL_VERSION (external/boringssl/src/ssl/tls_record.cc:587 0x6fa8195d88:0x00000001)\r\n\r\n\r\nI tried also with httpok.\r\n\r\n&lt;https://square.github.io&gt;\r\n\r\nThe Server works with **TLSV1.2**\r\n\r\n```\r\n[...]\r\n                byte[] postData = strings[0].getBytes(StandardCharsets.UTF_8);\r\n                int postDataLength = postData.length;\r\n\r\n                URL url = new URL(&quot;https://example.com&quot;);\r\n\r\n                HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\r\n\r\n                //\r\n                conn.setDoOutput(true);\r\n                conn.setInstanceFollowRedirects(false);\r\n                conn.setRequestMethod(&quot;POST&quot;);\r\n                conn.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n                conn.setRequestProperty(&quot;charset&quot;, &quot;utf-8&quot;);\r\n                conn.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(postDataLength));\r\n                conn.setUseCaches(false);\r\n\r\n                //\r\n                // TLSv1 | TLSv1.1 | TLSv1.2\r\n                SSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n                sc.init(null, null, new java.security.SecureRandom());\r\n                sc.getProtocol();\r\n                sc.getSupportedSSLParameters();\r\n                sc.getDefaultSSLParameters();\r\n                SSLEngine engine = sc.createSSLEngine();\r\n\r\n\r\n                conn.setSSLSocketFactory(sc.getSocketFactory());\r\n\r\n                conn.connect();\r\n                try (final InputStream in = conn.getInputStream()) {\r\n                    //…\r\n                }\r\n[...]\r\n```\r\n\r\nI don&#39;t get any further.","title":"Java Android Developing &quot;Failure in SSL library, usually a protocol&quot;","body":"<p>I'm programming an Application just for testing with Android Studio. I want to Request a Server with POST params which are in the string: (strings[0]). </p>\n\n<p>But I always get this Exception:</p>\n\n<blockquote>\n  <p>javax.net.ssl.SSLProtocolException: SSL handshake aborted: ssl=0x6f427ff108: Failure in SSL library, usually a protocol error\n  error:1000042e:SSL routines:OPENSSL_internal:TLSV1_ALERT_PROTOCOL_VERSION (external/boringssl/src/ssl/tls_record.cc:587 0x6fa8195d88:0x00000001)</p>\n</blockquote>\n\n<p>I tried also with httpok.</p>\n\n<p><a href=\"https://square.github.io\" rel=\"nofollow noreferrer\">https://square.github.io</a></p>\n\n<p>The Server works with <strong>TLSV1.2</strong></p>\n\n<pre><code>[...]\n                byte[] postData = strings[0].getBytes(StandardCharsets.UTF_8);\n                int postDataLength = postData.length;\n\n                URL url = new URL(\"https://example.com\");\n\n                HttpsURLConnection conn = (HttpsURLConnection) url.openConnection();\n\n                //\n                conn.setDoOutput(true);\n                conn.setInstanceFollowRedirects(false);\n                conn.setRequestMethod(\"POST\");\n                conn.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\n                conn.setRequestProperty(\"charset\", \"utf-8\");\n                conn.setRequestProperty(\"Content-Length\", Integer.toString(postDataLength));\n                conn.setUseCaches(false);\n\n                //\n                // TLSv1 | TLSv1.1 | TLSv1.2\n                SSLContext sc = SSLContext.getInstance(\"TLSv1.2\");\n                sc.init(null, null, new java.security.SecureRandom());\n                sc.getProtocol();\n                sc.getSupportedSSLParameters();\n                sc.getDefaultSSLParameters();\n                SSLEngine engine = sc.createSSLEngine();\n\n\n                conn.setSSLSocketFactory(sc.getSocketFactory());\n\n                conn.connect();\n                try (final InputStream in = conn.getInputStream()) {\n                    //…\n                }\n[...]\n</code></pre>\n\n<p>I don't get any further.</p>\n"},{"tags":["java","bean-io"],"answers":[{"tags":[],"owner":{"account_id":2300510,"reputation":2416,"user_id":2020886,"display_name":"nicoschl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661981825,"creation_date":1661981825,"answer_id":73562151,"question_id":73558650,"body_markdown":"You need the `lazy` attribute on field2. As stated in the [Reference Guide][1]\r\n\r\n&gt; lazy - Set to true to convert empty field text to null before type conversion. For repeating fields bound to a collection, the collection will not be created if all field values are null or the empty String. Defaults to false.\r\n\r\nThis will make `field2 = null` and by default, most XML libraries will not output any null elements, `BeanIO` included.\r\n\r\nTry this for field2:\r\n\r\n    &lt;field name=&quot;field2&quot; lazy=&quot;true&quot; xmlName= &quot;fieldX2l1&quot; xmlType=&quot;attribute&quot; maxLength=&quot;1&quot; typeHandler=&quot;Handler&quot; /&gt;\r\n\r\nMost of the time, I also combine `lazy` with `trim`. From the docs:\r\n\r\n&gt; trim - Set to true to trim the field text before validation and type\r\n&gt; conversion. Defaults to false.\r\n\r\n    &lt;field name=&quot;field2&quot; lazy=&quot;true&quot; trim=&quot;true&quot; xmlName= &quot;fieldX2l1&quot; xmlType=&quot;attribute&quot; maxLength=&quot;1&quot; typeHandler=&quot;Handler&quot; /&gt;\r\n\r\n  [1]: https://beanio.github.io/docs/reference-guide/#a12-field","title":"How to skip field when empty in beanio?","body":"<p>You need the <code>lazy</code> attribute on field2. As stated in the <a href=\"https://beanio.github.io/docs/reference-guide/#a12-field\" rel=\"nofollow noreferrer\">Reference Guide</a></p>\n<blockquote>\n<p>lazy - Set to true to convert empty field text to null before type conversion. For repeating fields bound to a collection, the collection will not be created if all field values are null or the empty String. Defaults to false.</p>\n</blockquote>\n<p>This will make <code>field2 = null</code> and by default, most XML libraries will not output any null elements, <code>BeanIO</code> included.</p>\n<p>Try this for field2:</p>\n<pre><code>&lt;field name=&quot;field2&quot; lazy=&quot;true&quot; xmlName= &quot;fieldX2l1&quot; xmlType=&quot;attribute&quot; maxLength=&quot;1&quot; typeHandler=&quot;Handler&quot; /&gt;\n</code></pre>\n<p>Most of the time, I also combine <code>lazy</code> with <code>trim</code>. From the docs:</p>\n<blockquote>\n<p>trim - Set to true to trim the field text before validation and type\nconversion. Defaults to false.</p>\n</blockquote>\n<pre><code>&lt;field name=&quot;field2&quot; lazy=&quot;true&quot; trim=&quot;true&quot; xmlName= &quot;fieldX2l1&quot; xmlType=&quot;attribute&quot; maxLength=&quot;1&quot; typeHandler=&quot;Handler&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":6155067,"reputation":21,"user_id":4798334,"display_name":"Nithin kulkarni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661981825,"creation_date":1661961149,"question_id":73558650,"body_markdown":"The requirement is to skip field when its empty. \r\neg -\r\n\r\n\t\t&lt;segment name=&quot;seg1&quot; class=&quot;com.company.bean.segmentBean&quot; xmlType=&quot;none&quot;&gt;\t\r\n\t\t\t\t&lt;field name=&quot;field1&quot; xmlName= &quot;fieldXml1&quot; xmlType=&quot;attribute&quot; maxLength=&quot;7&quot; /&gt;\r\n                &lt;field name=&quot;field2&quot; xmlName= &quot;fieldX2l1&quot; xmlType=&quot;attribute&quot; maxLength=&quot;1&quot; typeHandler=&quot;Handler&quot; /&gt;\r\n\t\t&lt;/segment&gt;\r\nLets assume that field2=&quot;&quot;. As the value of field2 is &quot;&quot;. I would like to have the field skipped in segment. Basically the end result XML shouldnt display field2 as its empty(&quot;&quot;).  ","title":"How to skip field when empty in beanio?","body":"<p>The requirement is to skip field when its empty.\neg -</p>\n<pre><code>    &lt;segment name=&quot;seg1&quot; class=&quot;com.company.bean.segmentBean&quot; xmlType=&quot;none&quot;&gt;   \n            &lt;field name=&quot;field1&quot; xmlName= &quot;fieldXml1&quot; xmlType=&quot;attribute&quot; maxLength=&quot;7&quot; /&gt;\n            &lt;field name=&quot;field2&quot; xmlName= &quot;fieldX2l1&quot; xmlType=&quot;attribute&quot; maxLength=&quot;1&quot; typeHandler=&quot;Handler&quot; /&gt;\n    &lt;/segment&gt;\n</code></pre>\n<p>Lets assume that field2=&quot;&quot;. As the value of field2 is &quot;&quot;. I would like to have the field skipped in segment. Basically the end result XML shouldnt display field2 as its empty(&quot;&quot;).</p>\n"},{"tags":["java","spring","mongodb"],"comments":[{"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"score":0,"creation_date":1670940310,"post_id":73562076,"comment_id":131985653,"body_markdown":"Any solution for this? I have same problem. Strangely, it executes on one environment, but now on other two. I use Java 8, Spring 2.3.0.RELEASE (spring-data-mongodb 3.0.0, but I tried also with 3.4.6).&lt;br&gt;\nNo exceptions at all. It executes, but no changes in database.","body":"Any solution for this? I have same problem. Strangely, it executes on one environment, but now on other two. I use Java 8, Spring 2.3.0.RELEASE (spring-data-mongodb 3.0.0, but I tried also with 3.4.6).&lt;br&gt; No exceptions at all. It executes, but no changes in database."},{"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"score":0,"creation_date":1671005804,"post_id":73562076,"comment_id":132001297,"body_markdown":"I found out what was a problem in my code. I use BulkOperations inside Mongock @ChangeUnit. I have multiple change units and last one is change of collection name. Also, I changed collection name inside entity class. When doing `execute` BulkOperations do `mongoOperations.execute(collectionName, this::bulkWriteTo)` and it seems he gets `collectionName` from entity class. When I reverted collection name it startd working.","body":"I found out what was a problem in my code. I use BulkOperations inside Mongock @ChangeUnit. I have multiple change units and last one is change of collection name. Also, I changed collection name inside entity class. When doing <code>execute</code> BulkOperations do <code>mongoOperations.execute(collectionName, this::bulkWriteTo)</code> and it seems he gets <code>collectionName</code> from entity class. When I reverted collection name it startd working."}],"owner":{"account_id":19744893,"reputation":11,"user_id":14457575,"display_name":"Gre1234"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661981372,"creation_date":1661981372,"question_id":73562076,"body_markdown":"During Spring job loading I am using Spirng’s BulkOperations to update documents in my Mongo database using multiple updateOne models. \r\n``` BulkOperations bulkOps = template.bulkOps(BulkMode.UNORDERED, MyClass.class); ```\r\n\r\nAnd multiple ``` bulkOps.updateOne(query, update); ```\r\n\r\nWith ``` bulkOps.execute() ``` at the end. At the end the ``` BulkWiteResult result = bulkOps.execute(); ``` returns 7 matched documents (as it should) and 7 modified, but no changes in the document inside of mongo are done. You have any idea why? Is the upsert needed?","title":"Spring’s BulkOperations execute() doesn’t actually modify document","body":"<p>During Spring job loading I am using Spirng’s BulkOperations to update documents in my Mongo database using multiple updateOne models.\n<code>BulkOperations bulkOps = template.bulkOps(BulkMode.UNORDERED, MyClass.class);</code></p>\n<p>And multiple <code>bulkOps.updateOne(query, update);</code></p>\n<p>With <code>bulkOps.execute()</code> at the end. At the end the <code>BulkWiteResult result = bulkOps.execute();</code> returns 7 matched documents (as it should) and 7 modified, but no changes in the document inside of mongo are done. You have any idea why? Is the upsert needed?</p>\n"},{"tags":["java","functional-programming","java-stream"],"comments":[{"owner":{"account_id":21402608,"reputation":61,"user_id":15764399,"display_name":"Jay Ren"},"score":0,"creation_date":1661958553,"post_id":73557525,"comment_id":129896296,"body_markdown":"You should probably use java&#39;s built-in Function interface instead. e.g. `Function&lt;String, String&gt;`, instead of your own TransformationFunction abstract class","body":"You should probably use java&#39;s built-in Function interface instead. e.g. <code>Function&lt;String, String&gt;</code>, instead of your own TransformationFunction abstract class"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661981144,"creation_date":1661958213,"answer_id":73557953,"question_id":73557525,"body_markdown":"# TL;DR\r\n\r\nIt can be done using `java.util.function.Function` having the same *input type* and *result type*. You can define a bunch of such functions, and fold them in a single composed function using Stream API:\r\n\r\n```\r\nvar result = functions.stream()\r\n    .reduce(Function.identity(), Function::andThen)\r\n    .apply(t);\r\n```\r\n\r\n&lt;h2&gt;Reinventing the Wheel&lt;/h2&gt;\r\n\r\n&lt;h4&gt;From an Abstract class to a Functional Interface&lt;/h4&gt;\r\n\r\nFirstly, there&#39;s no reason for `TransformationFunction` to be an `abstract class`(it has no properties to offer to extending classes, and can be substituted with an interface). Always favor interfaces over abstract classes, it makes code loosely coupled. As well as, there&#39;s no need for a swarm of subclasses, because we are going to do functional programming.\r\n\r\nSecondly, to use functional features in Java, you need a **Functional interface**, which is an interface having a single abstract method. A [*lambda expression*](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html) or a [*method reference*](https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html) **can&#39;t** conform to an abstract class, they can be used only as an implementation of a *Functional interface*.\r\n\r\nLet&#39;s reimplement `TransformationFunction` as an interface. And let&#39;s make it generic.\r\n\r\n    public interface TransformationFunction&lt;T&gt; {\r\n\r\n        T apply(T input);\r\n        \r\n        default TransformationFunction&lt;T&gt; andThen(TransformationFunction&lt;T&gt; after) {\r\n            \r\n            return t -&gt; after.apply(this.apply(t));\r\n        }\r\n    }\r\n\r\nSo basically we are reinventing [`UnaryOperator`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/function/UnaryOperator.html) interface from the JDK.\r\n\r\nI&#39;ve added default method `andThen()`, which allow combining two transformation functions.\r\n\r\nWe can make the interface leaner by extending `UnaryOperator`, there would be no need in declaring `apply()` method, but `andThen()` should stay on its place because the version declared by `Function` (and inherited by `UnaryOperator`) differs in types that is consumes and returns and would not be suitable while working with `TransformationFunction`.\r\n\r\n    public interface TransformationFunction&lt;T&gt; extends UnaryOperator&lt;T&gt; {\r\n        \r\n        default TransformationFunction&lt;T&gt; andThen(TransformationFunction&lt;T&gt; after) {\r\n            \r\n            return t -&gt; after.apply(this.apply(t));\r\n        }\r\n    }\r\n\r\nAnd that&#39;s how we can aggregate a collection of transformation functions and apply the given value:\r\n\r\n    public static &lt;T&gt; T applyAll(Collection&lt;TransformationFunction&lt;T&gt;&gt; functions, T t) {\r\n        \r\n        return functions.stream()\r\n            .reduce(TransformationFunction::andThen)\r\n            .orElse(e -&gt; e)\r\n            .apply(t);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;TransformationFunction&lt;String&gt;&gt; functions = List.of(\r\n            String::toUpperCase,\r\n            String::strip,\r\n            str -&gt; str.replaceAll(&quot;\\\\d&quot;, &quot;&quot;)\r\n        );\r\n        \r\n        String value = applyAll(functions, &quot;   abc967defgh&quot;);\r\n        System.out.println(value);\r\n    }\r\n\r\n*Output:*\r\n```\r\nABCDEFGH\r\n```\r\n\r\n# java.util.function.Function\r\n\r\nThe same can be achieved by using standard JDK interface [`Function&lt;T,R&gt;`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/function/Function.html) having the same input and result types (***note** that method below would not work with* `UnaryOperator` *because it derives* `andThen()` *implementation from the* `Function`*, and we will run into issues with type inference*).\r\n\r\n    public static &lt;T&gt; T applyAll(Collection&lt;Function&lt;T, T&gt;&gt; functions, T t) {\r\n        \r\n        return functions.stream()\r\n            .reduce(Function.identity(), Function::andThen)\r\n            .apply(t);\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Function&lt;String, String&gt;&gt; functions = List.of(\r\n            String::toUpperCase,\r\n            String::strip,\r\n            str -&gt; str.replaceAll(&quot;\\\\d&quot;, &quot;&quot;)\r\n        );\r\n        \r\n        String value = applyAll(functions, &quot;   abc967defgh&quot;);\r\n        System.out.println(value);\r\n    }\r\n\r\n*Output:*\r\n```\r\nABCDEFGH\r\n```","title":"Apply a List of Custom Functions on the given Object sequentially","body":"<h1>TL;DR</h1>\n<p>It can be done using <code>java.util.function.Function</code> having the same <em>input type</em> and <em>result type</em>. You can define a bunch of such functions, and fold them in a single composed function using Stream API:</p>\n<pre><code>var result = functions.stream()\n    .reduce(Function.identity(), Function::andThen)\n    .apply(t);\n</code></pre>\n<h2>Reinventing the Wheel</h2>\n<h4>From an Abstract class to a Functional Interface</h4>\n<p>Firstly, there's no reason for <code>TransformationFunction</code> to be an <code>abstract class</code>(it has no properties to offer to extending classes, and can be substituted with an interface). Always favor interfaces over abstract classes, it makes code loosely coupled. As well as, there's no need for a swarm of subclasses, because we are going to do functional programming.</p>\n<p>Secondly, to use functional features in Java, you need a <strong>Functional interface</strong>, which is an interface having a single abstract method. A <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\"><em>lambda expression</em></a> or a <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\"><em>method reference</em></a> <strong>can't</strong> conform to an abstract class, they can be used only as an implementation of a <em>Functional interface</em>.</p>\n<p>Let's reimplement <code>TransformationFunction</code> as an interface. And let's make it generic.</p>\n<pre><code>public interface TransformationFunction&lt;T&gt; {\n\n    T apply(T input);\n    \n    default TransformationFunction&lt;T&gt; andThen(TransformationFunction&lt;T&gt; after) {\n        \n        return t -&gt; after.apply(this.apply(t));\n    }\n}\n</code></pre>\n<p>So basically we are reinventing <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/function/UnaryOperator.html\" rel=\"nofollow noreferrer\"><code>UnaryOperator</code></a> interface from the JDK.</p>\n<p>I've added default method <code>andThen()</code>, which allow combining two transformation functions.</p>\n<p>We can make the interface leaner by extending <code>UnaryOperator</code>, there would be no need in declaring <code>apply()</code> method, but <code>andThen()</code> should stay on its place because the version declared by <code>Function</code> (and inherited by <code>UnaryOperator</code>) differs in types that is consumes and returns and would not be suitable while working with <code>TransformationFunction</code>.</p>\n<pre><code>public interface TransformationFunction&lt;T&gt; extends UnaryOperator&lt;T&gt; {\n    \n    default TransformationFunction&lt;T&gt; andThen(TransformationFunction&lt;T&gt; after) {\n        \n        return t -&gt; after.apply(this.apply(t));\n    }\n}\n</code></pre>\n<p>And that's how we can aggregate a collection of transformation functions and apply the given value:</p>\n<pre><code>public static &lt;T&gt; T applyAll(Collection&lt;TransformationFunction&lt;T&gt;&gt; functions, T t) {\n    \n    return functions.stream()\n        .reduce(TransformationFunction::andThen)\n        .orElse(e -&gt; e)\n        .apply(t);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;TransformationFunction&lt;String&gt;&gt; functions = List.of(\n        String::toUpperCase,\n        String::strip,\n        str -&gt; str.replaceAll(&quot;\\\\d&quot;, &quot;&quot;)\n    );\n    \n    String value = applyAll(functions, &quot;   abc967defgh&quot;);\n    System.out.println(value);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>ABCDEFGH\n</code></pre>\n<h1>java.util.function.Function</h1>\n<p>The same can be achieved by using standard JDK interface <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function&lt;T,R&gt;</code></a> having the same input and result types (<em><strong>note</strong> that method below would not work with</em> <code>UnaryOperator</code> <em>because it derives</em> <code>andThen()</code> <em>implementation from the</em> <code>Function</code><em>, and we will run into issues with type inference</em>).</p>\n<pre><code>public static &lt;T&gt; T applyAll(Collection&lt;Function&lt;T, T&gt;&gt; functions, T t) {\n    \n    return functions.stream()\n        .reduce(Function.identity(), Function::andThen)\n        .apply(t);\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    List&lt;Function&lt;String, String&gt;&gt; functions = List.of(\n        String::toUpperCase,\n        String::strip,\n        str -&gt; str.replaceAll(&quot;\\\\d&quot;, &quot;&quot;)\n    );\n    \n    String value = applyAll(functions, &quot;   abc967defgh&quot;);\n    System.out.println(value);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>ABCDEFGH\n</code></pre>\n"}],"owner":{"account_id":12017736,"reputation":11,"user_id":8792290,"display_name":"siddhau jain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661981275,"creation_date":1661956248,"question_id":73557525,"body_markdown":"Let&#39;s say I have an abstract class `TransformationFunction` and some concrete classes extending it:\r\n\r\n    public abstract class TransformationFunction {\r\n        public abstract String apply(String input);\r\n    }\r\n    \r\n    public class Upper extends TransformationFunction {\r\n        public String apply(String input) {\r\n            return input.toUpperCase();\r\n        }\r\n    }\r\n    \r\n    public class Lower extends TransformationFunction {\r\n        public String apply(String input) {\r\n            return input.toLowerCase();\r\n        }\r\n    }\r\n\r\nI want to apply a list of such functions on a `String` object and get a final value.\r\n\r\n\r\n*My current implementation:*\r\n```\r\n{ \r\n    List&lt;TransformationFunction&gt; functions = ...\r\n    T value = ...\r\n    for (TransformationFunction function : functions) {\r\n        value = function.apply(value);\r\n    }\r\n    return value;\r\n}\r\n```\r\n\r\n\r\nHow do I write this in the functional style?","title":"Apply a List of Custom Functions on the given Object sequentially","body":"<p>Let's say I have an abstract class <code>TransformationFunction</code> and some concrete classes extending it:</p>\n<pre><code>public abstract class TransformationFunction {\n    public abstract String apply(String input);\n}\n\npublic class Upper extends TransformationFunction {\n    public String apply(String input) {\n        return input.toUpperCase();\n    }\n}\n\npublic class Lower extends TransformationFunction {\n    public String apply(String input) {\n        return input.toLowerCase();\n    }\n}\n</code></pre>\n<p>I want to apply a list of such functions on a <code>String</code> object and get a final value.</p>\n<p><em>My current implementation:</em></p>\n<pre><code>{ \n    List&lt;TransformationFunction&gt; functions = ...\n    T value = ...\n    for (TransformationFunction function : functions) {\n        value = function.apply(value);\n    }\n    return value;\n}\n</code></pre>\n<p>How do I write this in the functional style?</p>\n"},{"tags":["java","xml","windows","jenkins","file-location"],"comments":[{"owner":{"account_id":4692712,"reputation":10252,"user_id":3798435,"display_name":"Bruno Lavit"},"score":1,"creation_date":1442237113,"post_id":32565275,"comment_id":52986959,"body_markdown":"Maybe your config files is in a system folder like: C:\\Users\\YOUR_USER\\.jenkins. Try to change your Windows explorer settings to view these folders.","body":"Maybe your config files is in a system folder like: C:\\Users\\YOUR_USER\\.jenkins. Try to change your Windows explorer settings to view these folders."},{"owner":{"account_id":402238,"reputation":312,"user_id":769282,"display_name":"Taras"},"score":1,"creation_date":1442237152,"post_id":32565275,"comment_id":52986986,"body_markdown":"By default Jenkins uses ~/.jenkins directory as JENKINS_HOME. In your case please open home directory of user which runs Jenkins and find .jenkins folder. It should be C:\\Users\\USER_NAME\\.jenkins. Please refer following link for more information https://wiki.jenkins-ci.org/display/JENKINS/Administering+Jenkins","body":"By default Jenkins uses ~/.jenkins directory as JENKINS_HOME. In your case please open home directory of user which runs Jenkins and find .jenkins folder. It should be C:\\Users\\USER_NAME\\.jenkins. Please refer following link for more information <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Administering+Jenkins\" rel=\"nofollow noreferrer\">wiki.jenkins-ci.org/display/JENKINS/Administering+Jenkins</a>"},{"owner":{"account_id":2820145,"reputation":1610,"user_id":2424073,"accept_rate":80,"display_name":"MyPasswordIsLasercats"},"score":0,"creation_date":1443003256,"post_id":32565275,"comment_id":53314280,"body_markdown":"I have a similar issue. I&#39;m locked out of jenkins and I even can&#39;t reinstall it because the old settings remain","body":"I have a similar issue. I&#39;m locked out of jenkins and I even can&#39;t reinstall it because the old settings remain"}],"answers":[{"tags":[],"owner":{"account_id":1650671,"reputation":61,"user_id":1521350,"display_name":"Aharbil"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1468157062,"creation_date":1467114111,"answer_id":38075263,"question_id":32565275,"body_markdown":"In Windows 7 I&#39;ve had the same problem and after looking I found that the config file is in two different folders:\r\n\r\n - `C:\\Users\\user name\\\\.jenkins`\r\n - `C:\\Windows\\System32\\config\\systemprofile\\\\.jenkins`\r\n\r\nchanging the first one didn&#39;t do much, but deleting the second did the job. ","title":"Can&#39;t find config.xml anywhere within Jenkins folder","body":"<p>In Windows 7 I've had the same problem and after looking I found that the config file is in two different folders:</p>\n\n<ul>\n<li><code>C:\\Users\\user name\\\\.jenkins</code></li>\n<li><code>C:\\Windows\\System32\\config\\systemprofile\\\\.jenkins</code></li>\n</ul>\n\n<p>changing the first one didn't do much, but deleting the second did the job. </p>\n"},{"tags":[],"owner":{"account_id":3906168,"reputation":1877,"user_id":3232823,"accept_rate":47,"display_name":"user3232823"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1468157594,"creation_date":1468157594,"answer_id":38292435,"question_id":32565275,"body_markdown":"If not done, try defining JENKINS_HOME  in setclasspath.sh. bounce tomcat, config.xml will be in you JENKINS_HOME.","title":"Can&#39;t find config.xml anywhere within Jenkins folder","body":"<p>If not done, try defining JENKINS_HOME  in setclasspath.sh. bounce tomcat, config.xml will be in you JENKINS_HOME.</p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1468157740,"creation_date":1468157740,"answer_id":38292463,"question_id":32565275,"body_markdown":"By default Jenkins home directory (`JENKINS_HOME`) is set to `~/.jenkins`, this is the location where you can find your Jenkins XML config file.\r\n\r\nOn Windows your user home directory is under `C:\\Users\\USERNAME` (equivalent to `%HOME%`). This folder may be hidden (since it has dot in it), so when browsing the files, make sure your program shows hidden files or type the direct path in your *Path/Address* bar.\r\n\r\nHere is the brief structure of XML files within Jenkins home folder:\r\n\r\n    JENKINS_HOME\r\n     +- config.xml     (jenkins root configuration)\r\n     +- *.xml          (other site-wide configuration files)\r\n     +- jobs\r\n         +- [JOBNAME]      (sub directory for each job)\r\n             +- config.xml     (job configuration file)\r\n\r\nSee: [Administering Jenkins - `JENKINS_HOME` directory][1]\r\n\r\n\r\n  [1]: https://wiki.jenkins-ci.org/display/JENKINS/Administering+Jenkins\r\n","title":"Can&#39;t find config.xml anywhere within Jenkins folder","body":"<p>By default Jenkins home directory (<code>JENKINS_HOME</code>) is set to <code>~/.jenkins</code>, this is the location where you can find your Jenkins XML config file.</p>\n\n<p>On Windows your user home directory is under <code>C:\\Users\\USERNAME</code> (equivalent to <code>%HOME%</code>). This folder may be hidden (since it has dot in it), so when browsing the files, make sure your program shows hidden files or type the direct path in your <em>Path/Address</em> bar.</p>\n\n<p>Here is the brief structure of XML files within Jenkins home folder:</p>\n\n<pre><code>JENKINS_HOME\n +- config.xml     (jenkins root configuration)\n +- *.xml          (other site-wide configuration files)\n +- jobs\n     +- [JOBNAME]      (sub directory for each job)\n         +- config.xml     (job configuration file)\n</code></pre>\n\n<p>See: <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Administering+Jenkins\" rel=\"nofollow\">Administering Jenkins - <code>JENKINS_HOME</code> directory</a></p>\n"},{"tags":[],"owner":{"account_id":5433412,"reputation":69,"user_id":4323544,"display_name":"Aviv Cohen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1544344225,"creation_date":1544344225,"answer_id":53690609,"question_id":32565275,"body_markdown":"It&#39;s not depend on Win OS or Environment variables (I.e - %HOME% OR JENKINS_HOME)\r\n\r\nYou can find the *confing.xml* file where it&#39;s installed. It can be in one of the following paths:\r\n\r\n - C:\\Program Files\\Jenkins\r\n - C:\\Program Files (x86)\\Jenkis\r\n","title":"Can&#39;t find config.xml anywhere within Jenkins folder","body":"<p>It's not depend on Win OS or Environment variables (I.e - %HOME% OR JENKINS_HOME)</p>\n\n<p>You can find the <em>confing.xml</em> file where it's installed. It can be in one of the following paths:</p>\n\n<ul>\n<li>C:\\Program Files\\Jenkins</li>\n<li>C:\\Program Files (x86)\\Jenkis</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":21398126,"reputation":21,"user_id":15760824,"display_name":"Sandeep Sharma"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619353662,"creation_date":1619353662,"answer_id":67253398,"question_id":32565275,"body_markdown":"on windows, it can be found here \r\n\r\nc:\\windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins\\\\.jenkins","title":"Can&#39;t find config.xml anywhere within Jenkins folder","body":"<p>on windows, it can be found here</p>\n<p>c:\\windows\\system32\\config\\systemprofile\\AppData\\Local\\Jenkins\\.jenkins</p>\n"},{"tags":[],"owner":{"account_id":18943425,"reputation":51,"user_id":13822916,"display_name":"Nizar Bouraoui"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646896845,"creation_date":1646576819,"answer_id":71371145,"question_id":32565275,"body_markdown":"you could found it under :  \r\n\r\n    C:\\ProgramData\\Jenkins\\.jenkins\r\n\r\nFYI : you could check your `&quot;JENKINS_HOME&quot;` under `C:\\Program Files\\Jenkins` inside the file jenkins.xml you will find the path\r\n","title":"Can&#39;t find config.xml anywhere within Jenkins folder","body":"<p>you could found it under :</p>\n<pre><code>C:\\ProgramData\\Jenkins\\.jenkins\n</code></pre>\n<p>FYI : you could check your <code>&quot;JENKINS_HOME&quot;</code> under <code>C:\\Program Files\\Jenkins</code> inside the file jenkins.xml you will find the path</p>\n"},{"tags":[],"owner":{"account_id":5843558,"reputation":319,"user_id":4604325,"display_name":"ARB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661980950,"creation_date":1661980950,"answer_id":73562024,"question_id":32565275,"body_markdown":"Right now I was facing this issue, after trying multiple solutions. The best solution is to simply paste this path on explorer \r\n\r\n&quot;C:\\ProgramData\\Jenkins&quot;\r\n\r\nNote: Usually program data is hidden folder, that&#39;s why it will not be visible, so you need to type the path\r\n","title":"Can&#39;t find config.xml anywhere within Jenkins folder","body":"<p>Right now I was facing this issue, after trying multiple solutions. The best solution is to simply paste this path on explorer</p>\n<p>&quot;C:\\ProgramData\\Jenkins&quot;</p>\n<p>Note: Usually program data is hidden folder, that's why it will not be visible, so you need to type the path</p>\n"}],"owner":{"account_id":1849952,"reputation":343,"user_id":1676685,"accept_rate":11,"display_name":"Bharath Kashyap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40989,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":7,"score":5,"last_activity_date":1661980950,"creation_date":1442235000,"question_id":32565275,"body_markdown":"I have downloaded and installed Tomcat servlet on my Windows 8...\r\n\r\nInside which many application&#39;s `.war` files are present. Also Jenkins. I was able to start it and create jobs and plugins through it. But I gave a wrong credentials for *Advanced -&gt; plugin -&gt; HTTP Proxy* while installing Maven. Maybe this is what is blocking me to login and gives message: Admin Is Missing the Overall/Read Permission. \r\n\r\nI searched in Jenkins and many other sites; hey had mentioned to follow these steps...\r\n\r\n1. Stop Jenkins (the easiest way to do this is to kill the servlet container.)\r\n1. Go to `$JENKINS_HOME` in the file system and find config.xml file.\r\n1. Open this file in the editor.\r\n1. Look for the `&lt;useSecurity&gt;true&lt;/useSecurity&gt;` element in this file and replace `true` with `false`\r\n1. Remove the elements `authorizationStrategy` and `securityRealm`.\r\n1. Start Jenkins\r\n\r\nBut I searched everywhere to find the `config.xml` on Windows, but I can&#39;t find it. Where it is?","title":"Can&#39;t find config.xml anywhere within Jenkins folder","body":"<p>I have downloaded and installed Tomcat servlet on my Windows 8...</p>\n\n<p>Inside which many application's <code>.war</code> files are present. Also Jenkins. I was able to start it and create jobs and plugins through it. But I gave a wrong credentials for <em>Advanced -> plugin -> HTTP Proxy</em> while installing Maven. Maybe this is what is blocking me to login and gives message: Admin Is Missing the Overall/Read Permission. </p>\n\n<p>I searched in Jenkins and many other sites; hey had mentioned to follow these steps...</p>\n\n<ol>\n<li>Stop Jenkins (the easiest way to do this is to kill the servlet container.)</li>\n<li>Go to <code>$JENKINS_HOME</code> in the file system and find config.xml file.</li>\n<li>Open this file in the editor.</li>\n<li>Look for the <code>&lt;useSecurity&gt;true&lt;/useSecurity&gt;</code> element in this file and replace <code>true</code> with <code>false</code></li>\n<li>Remove the elements <code>authorizationStrategy</code> and <code>securityRealm</code>.</li>\n<li>Start Jenkins</li>\n</ol>\n\n<p>But I searched everywhere to find the <code>config.xml</code> on Windows, but I can't find it. Where it is?</p>\n"},{"tags":["java","encryption","cryptography","aes","encryption-symmetric"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1661980605,"post_id":73557246,"comment_id":129903490,"body_markdown":"65536 is a relatively low iteration count nowadays. Please make sure that you use the highest iteration count possible, or make sure your password is **really** secure.","body":"65536 is a relatively low iteration count nowadays. Please make sure that you use the highest iteration count possible, or make sure your password is <b>really</b> secure."},{"owner":{"account_id":7522842,"reputation":3473,"user_id":8082162,"accept_rate":71,"display_name":"aschoerk"},"score":0,"creation_date":1662017700,"post_id":73557246,"comment_id":129909984,"body_markdown":"Perhaps some comments in: https://security.stackexchange.com/questions/136739/aes-use-same-nonce-security-risk could help with &quot;I want that to be static&quot;","body":"Perhaps some comments in: <a href=\"https://security.stackexchange.com/questions/136739/aes-use-same-nonce-security-risk\" title=\"aes use same nonce security risk\">security.stackexchange.com/questions/136739/&hellip;</a> could help with &quot;I want that to be static&quot;"}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1661980469,"creation_date":1661980469,"answer_id":73561957,"question_id":73557246,"body_markdown":"This is not really an implementation issue; your issue is with the used encryption scheme.\r\n\r\nThe nonce or IV are used to randomize your ciphertext. This gives you an important property: identical plaintext will encrypt to randomized ciphertext. This is required for a cipher to be secure, as you could otherwise identify identical plaintext messages.\r\n\r\nNow you could just fix the IV or nonce, but that means that you will leak information early: if the first blocks of plaintext are identical then those blocks will result in identical ciphertext. Instead you can use an encryption scheme where each of the ciphertext bits depend on *all* of the plaintext bits.\r\n\r\nThere are several schemes that offer this kind of property:\r\n - biIGE mode: the bi-directional infinite garble extension mode is an encryption mode that runs both forward and then backwards. It is an odd mode that isn&#39;t used or implemented much;\r\n - FPE modes: format preserving encryption can be used to encrypt X plaintext bits into exactly X ciphertext bits, it is mainly used for smaller plaintext messages such as credit cards (so that there aren&#39;t any additional storage requirements for encrypted credit card numbers);\r\n - AES-SIV mode: synthetic IV mode is probably the best option, it can encrypt large(r) messages, and offers authenticity as well as the MAC / authentication tag doubles as IV. It has the drawback that it does require additional room for the synthetic IV / authentication tag. It is also a two-pass mode (all plaintext bytes are visited twice), which means that it won&#39;t be as performant as other generic modes.\r\n\r\nThere is AES-GCM-SIV for a performant option of the latter.\r\n\r\nOf course, as indicated by others, you really want to make sure that you **need** this kind of functionality: not having messages encrypt to the same ciphertext is a rather fundamental security property of a cipher.\r\n","title":"In Java how to use AES encryption so that a static string/text will result in similar encrypted message each time?","body":"<p>This is not really an implementation issue; your issue is with the used encryption scheme.</p>\n<p>The nonce or IV are used to randomize your ciphertext. This gives you an important property: identical plaintext will encrypt to randomized ciphertext. This is required for a cipher to be secure, as you could otherwise identify identical plaintext messages.</p>\n<p>Now you could just fix the IV or nonce, but that means that you will leak information early: if the first blocks of plaintext are identical then those blocks will result in identical ciphertext. Instead you can use an encryption scheme where each of the ciphertext bits depend on <em>all</em> of the plaintext bits.</p>\n<p>There are several schemes that offer this kind of property:</p>\n<ul>\n<li>biIGE mode: the bi-directional infinite garble extension mode is an encryption mode that runs both forward and then backwards. It is an odd mode that isn't used or implemented much;</li>\n<li>FPE modes: format preserving encryption can be used to encrypt X plaintext bits into exactly X ciphertext bits, it is mainly used for smaller plaintext messages such as credit cards (so that there aren't any additional storage requirements for encrypted credit card numbers);</li>\n<li>AES-SIV mode: synthetic IV mode is probably the best option, it can encrypt large(r) messages, and offers authenticity as well as the MAC / authentication tag doubles as IV. It has the drawback that it does require additional room for the synthetic IV / authentication tag. It is also a two-pass mode (all plaintext bytes are visited twice), which means that it won't be as performant as other generic modes.</li>\n</ul>\n<p>There is AES-GCM-SIV for a performant option of the latter.</p>\n<p>Of course, as indicated by others, you really want to make sure that you <strong>need</strong> this kind of functionality: not having messages encrypt to the same ciphertext is a rather fundamental security property of a cipher.</p>\n"}],"owner":{"account_id":20508639,"reputation":9,"user_id":15050866,"display_name":"Vaibhav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661980469,"creation_date":1661955118,"question_id":73557246,"body_markdown":"I have a situation where I have to store the encrypted from of a text in an excel sheet and my java code should read that encrypted text from a excel sheet and convert it back to original text and hit the server with original plain text.\r\nI&#39;m trying to achieve this with AES encryption/decryption logic but I&#39;m not able to achieve it as every time I convert the plain text into encrypted format for it to be stored in the excel sheet it results in a different encrypted string each time so I&#39;m not able to decrypt it back to original, what I want is for a same static string/text my AES encrypted text should also be static. \r\nI know even if my encrypted string is dynamic I can convert it back to decrypted format but for my case what I want is my encrypted text should also remain static.\r\nHow can I achieve this?\r\n\r\nEx. If my plain text is &quot;This is a question&quot; my encrypted string is different each time like below \r\n\r\nEnter\r\nThis is a question\r\nEncrypted Data : mFsue8JGwLcJQTiBzM0HLVvdDXKPNGsG/O7N60joH+Ozgg==\r\nDecrypted Data : This is a question\r\n\r\nEnter\r\nThis is a question\r\nEncrypted Data : FdBz3cGS4NphK14Fw8Me4daM4lVzdrK47WUMSRiUVe+juQ==\r\nDecrypted Data : This is a question\r\n\r\nSee the encrypted data&#39;s are different each time. I want that to be static\r\n\r\nThe classes which I&#39;m using are as below (please note these are not my exact classes but they implement the same logic which I have used. These example classes may have some non used variables and methods, I have mentioned just for reference)\r\n\r\nMethod.java\r\n\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Base64;\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.KeyGenerator;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n\r\n    public class Method {\r\n\r\n\tprivate static SecretKey key;\r\n\tprivate final int KEY_SIZE = 128;\r\n\tprivate final int DATA_LENGTH = 128;\r\n\tprivate Cipher encryptionCipher;\r\n\r\n\t/*\r\n\t * public void init() throws Exception { KeyGenerator keyGenerator =\r\n\t * KeyGenerator.getInstance(&quot;AES&quot;); keyGenerator.init(KEY_SIZE); key =\r\n\t * keyGenerator.generateKey();\r\n\t * \r\n\t * \r\n\t * }\r\n\t */\r\n\r\n\t// String to Key\r\n\r\n\t\r\n\t  public static void getKeyFromPassword(String toEnc, String salt) throws\r\n\t  NoSuchAlgorithmException, InvalidKeySpecException { SecretKeyFactory factory\r\n\t  = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;); KeySpec spec = new\r\n\t  PBEKeySpec(toEnc.toCharArray(), salt.getBytes(), 65536, 128); SecretKey\r\n\t  originalKey = new SecretKeySpec(factory.generateSecret(spec).getEncoded(),&quot;AES&quot;); \r\n\t  key= originalKey; }\r\n\t  \r\n\t \r\n\t/*\r\n\t * public static void convertStringToSecretKeyto(String string) {\r\n\t * \r\n\t * \r\n\t * byte[] bytesEncoded = Base64.getEncoder().encode(string.getBytes()); byte[]\r\n\t * decodedKey = Base64.getDecoder().decode(string); key = new\r\n\t * SecretKeySpec(decodedKey, 0, decodedKey.length, &quot;AES&quot;);\r\n\t * System.out.println(bytesEncoded); System.out.println(decodedKey);\r\n\t * \r\n\t * }\r\n\t */\r\n\r\n\t   public String encrypt(String data) throws Exception {\r\n\t\tbyte[] dataInBytes = data.getBytes();\r\n\t\tencryptionCipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n\t\t\r\n\t\tencryptionCipher.init(Cipher.ENCRYPT_MODE, key);\r\n\t\tbyte[] encryptedBytes = encryptionCipher.doFinal(dataInBytes);\r\n\t\treturn encode(encryptedBytes);\r\n\t   }\r\n\r\n\t    public String decrypt(String encryptedData) throws Exception {\r\n\t\tbyte[] dataInBytes = decode(encryptedData);\r\n\t\tCipher decryptionCipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\r\n\r\n\t\tGCMParameterSpec spec = new GCMParameterSpec(DATA_LENGTH, \r\n        encryptionCipher.getIV());\r\n\t\tdecryptionCipher.init(Cipher.DECRYPT_MODE, key, spec);\r\n\t\tbyte[] decryptedBytes = decryptionCipher.doFinal(dataInBytes);\r\n\t\treturn new String(decryptedBytes);\r\n\t    }\r\n\r\n\t    private String encode(byte[] data) {\r\n\t\treturn Base64.getEncoder().encodeToString(data);\r\n\t    }\r\n\r\n      \tprivate byte[] decode(String data) {\r\n\t\treturn Base64.getDecoder().decode(data);\r\n\t    } \r\n    }\r\n\r\nMain.class\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.KeyGenerator;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import java.util.Base64;\r\n    import java.util.Scanner;\r\n    public class Cypher {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n        try {\r\n            Method aes_encryption = new Method();\r\n     \r\n            \r\n     //       aes_encryption.init();\r\n           Method.getKeyFromPassword(&quot;Texty text&quot;,&quot;Salty salt&quot;);\r\n            \r\n            System.out.println(&quot;Enter&quot;);\r\n            Scanner sc= new Scanner(System.in);\r\n            String s= sc.nextLine();\r\n            String encryptedData = aes_encryption.encrypt(s);\r\n            String decryptedData = aes_encryption.decrypt(encryptedData);\r\n          \r\n\r\n            System.out.println(&quot;Encrypted Data : &quot; + encryptedData);\r\n           System.out.println(&quot;Decrypted Data : &quot; + decryptedData);\r\n        } catch (Exception ignored) {\r\n        }\r\n    }\r\n\t\t\r\n\t\t\r\n    \r\n\r\n}\r\n","title":"In Java how to use AES encryption so that a static string/text will result in similar encrypted message each time?","body":"<p>I have a situation where I have to store the encrypted from of a text in an excel sheet and my java code should read that encrypted text from a excel sheet and convert it back to original text and hit the server with original plain text.\nI'm trying to achieve this with AES encryption/decryption logic but I'm not able to achieve it as every time I convert the plain text into encrypted format for it to be stored in the excel sheet it results in a different encrypted string each time so I'm not able to decrypt it back to original, what I want is for a same static string/text my AES encrypted text should also be static.\nI know even if my encrypted string is dynamic I can convert it back to decrypted format but for my case what I want is my encrypted text should also remain static.\nHow can I achieve this?</p>\n<p>Ex. If my plain text is &quot;This is a question&quot; my encrypted string is different each time like below</p>\n<p>Enter\nThis is a question\nEncrypted Data : mFsue8JGwLcJQTiBzM0HLVvdDXKPNGsG/O7N60joH+Ozgg==\nDecrypted Data : This is a question</p>\n<p>Enter\nThis is a question\nEncrypted Data : FdBz3cGS4NphK14Fw8Me4daM4lVzdrK47WUMSRiUVe+juQ==\nDecrypted Data : This is a question</p>\n<p>See the encrypted data's are different each time. I want that to be static</p>\n<p>The classes which I'm using are as below (please note these are not my exact classes but they implement the same logic which I have used. These example classes may have some non used variables and methods, I have mentioned just for reference)</p>\n<p>Method.java</p>\n<pre><code>import java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class Method {\n\nprivate static SecretKey key;\nprivate final int KEY_SIZE = 128;\nprivate final int DATA_LENGTH = 128;\nprivate Cipher encryptionCipher;\n\n/*\n * public void init() throws Exception { KeyGenerator keyGenerator =\n * KeyGenerator.getInstance(&quot;AES&quot;); keyGenerator.init(KEY_SIZE); key =\n * keyGenerator.generateKey();\n * \n * \n * }\n */\n\n// String to Key\n\n\n  public static void getKeyFromPassword(String toEnc, String salt) throws\n  NoSuchAlgorithmException, InvalidKeySpecException { SecretKeyFactory factory\n  = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;); KeySpec spec = new\n  PBEKeySpec(toEnc.toCharArray(), salt.getBytes(), 65536, 128); SecretKey\n  originalKey = new SecretKeySpec(factory.generateSecret(spec).getEncoded(),&quot;AES&quot;); \n  key= originalKey; }\n  \n \n/*\n * public static void convertStringToSecretKeyto(String string) {\n * \n * \n * byte[] bytesEncoded = Base64.getEncoder().encode(string.getBytes()); byte[]\n * decodedKey = Base64.getDecoder().decode(string); key = new\n * SecretKeySpec(decodedKey, 0, decodedKey.length, &quot;AES&quot;);\n * System.out.println(bytesEncoded); System.out.println(decodedKey);\n * \n * }\n */\n\n   public String encrypt(String data) throws Exception {\n    byte[] dataInBytes = data.getBytes();\n    encryptionCipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n    \n    encryptionCipher.init(Cipher.ENCRYPT_MODE, key);\n    byte[] encryptedBytes = encryptionCipher.doFinal(dataInBytes);\n    return encode(encryptedBytes);\n   }\n\n    public String decrypt(String encryptedData) throws Exception {\n    byte[] dataInBytes = decode(encryptedData);\n    Cipher decryptionCipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;);\n\n    GCMParameterSpec spec = new GCMParameterSpec(DATA_LENGTH, \n    encryptionCipher.getIV());\n    decryptionCipher.init(Cipher.DECRYPT_MODE, key, spec);\n    byte[] decryptedBytes = decryptionCipher.doFinal(dataInBytes);\n    return new String(decryptedBytes);\n    }\n\n    private String encode(byte[] data) {\n    return Base64.getEncoder().encodeToString(data);\n    }\n\n    private byte[] decode(String data) {\n    return Base64.getDecoder().decode(data);\n    } \n}\n</code></pre>\n<p>Main.class</p>\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.KeyGenerator;\nimport javax.crypto.SecretKey;\nimport javax.crypto.spec.GCMParameterSpec;\nimport java.util.Base64;\nimport java.util.Scanner;\npublic class Cypher {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    \n    try {\n        Method aes_encryption = new Method();\n \n        \n //       aes_encryption.init();\n       Method.getKeyFromPassword(&quot;Texty text&quot;,&quot;Salty salt&quot;);\n        \n        System.out.println(&quot;Enter&quot;);\n        Scanner sc= new Scanner(System.in);\n        String s= sc.nextLine();\n        String encryptedData = aes_encryption.encrypt(s);\n        String decryptedData = aes_encryption.decrypt(encryptedData);\n      \n\n        System.out.println(&quot;Encrypted Data : &quot; + encryptedData);\n       System.out.println(&quot;Decrypted Data : &quot; + decryptedData);\n    } catch (Exception ignored) {\n    }\n}\n    \n    \n</code></pre>\n<p>}</p>\n"},{"tags":["java","performance","type-conversion","invoke","methodhandle"],"answers":[{"tags":[],"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661980246,"creation_date":1661980246,"answer_id":73561929,"question_id":73561802,"body_markdown":"A (non-static) getter needs an instance to retrieve the field&#39;s value from. You should be able to make this work by adding another `Object` parameter to the erased method type:\r\n\r\n    return MethodHandles.lookup().unreflectGetter(f).asType(MethodType.methodType(Object.class, Object.class));\r\n\r\n(Also, there&#39;s no need to wrap the thing in a `ConstantCallsite`)","title":"Java 8 | Using MethodHandle#invokeExact on fields dynamically","body":"<p>A (non-static) getter needs an instance to retrieve the field's value from. You should be able to make this work by adding another <code>Object</code> parameter to the erased method type:</p>\n<pre><code>return MethodHandles.lookup().unreflectGetter(f).asType(MethodType.methodType(Object.class, Object.class));\n</code></pre>\n<p>(Also, there's no need to wrap the thing in a <code>ConstantCallsite</code>)</p>\n"}],"owner":{"account_id":26211654,"reputation":3,"user_id":19890428,"display_name":"evolnior"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73561929,"answer_count":1,"score":0,"last_activity_date":1661980246,"creation_date":1661979261,"question_id":73561802,"body_markdown":"My goal is to create a MethodHandle that, by passing a class and a field name, reads that field with a MethodHandle getter and returns the value.\r\n\r\nWith this method I wanted to return an arbitrary object:\r\n\r\n    return new ConstantCallSite(MethodHandles.lookup().unreflectGetter(f).asType(MethodType.methodType(Object.class))).dynamicInvoker();\r\n\r\nI received the Field f via Reflections.\r\nThe problem now is that when this method is executed, the typical error for invokeExact (WrongMethodTypeException) occurs:\r\n\r\n    WrongMethodTypeException: cannot convert MethodHandle(TestClass)String to ()Object\r\n\r\nThis also applies to ints, floats, etc.\r\nIn another thread I also already read that you can use invokeExact dynamically if the return of MethodHandle is changed to Object.\r\nHere is a code snippet from the method, which makes use of passing a static final MethodHandle:\r\n\r\n    return (T) handle.invokeExact(testObject);\r\n\r\nUsing MethodHandle#invoke is rather out of the question for me, as I&#39;m after performance. Without invokeExact I could possibly also fall back on using only reflections.\r\n\r\nDoes anyone know a way to do this or a workaround with similar performance? The latter plays a big role in the project. I thank those in advance who could possibly help with this problem.","title":"Java 8 | Using MethodHandle#invokeExact on fields dynamically","body":"<p>My goal is to create a MethodHandle that, by passing a class and a field name, reads that field with a MethodHandle getter and returns the value.</p>\n<p>With this method I wanted to return an arbitrary object:</p>\n<pre><code>return new ConstantCallSite(MethodHandles.lookup().unreflectGetter(f).asType(MethodType.methodType(Object.class))).dynamicInvoker();\n</code></pre>\n<p>I received the Field f via Reflections.\nThe problem now is that when this method is executed, the typical error for invokeExact (WrongMethodTypeException) occurs:</p>\n<pre><code>WrongMethodTypeException: cannot convert MethodHandle(TestClass)String to ()Object\n</code></pre>\n<p>This also applies to ints, floats, etc.\nIn another thread I also already read that you can use invokeExact dynamically if the return of MethodHandle is changed to Object.\nHere is a code snippet from the method, which makes use of passing a static final MethodHandle:</p>\n<pre><code>return (T) handle.invokeExact(testObject);\n</code></pre>\n<p>Using MethodHandle#invoke is rather out of the question for me, as I'm after performance. Without invokeExact I could possibly also fall back on using only reflections.</p>\n<p>Does anyone know a way to do this or a workaround with similar performance? The latter plays a big role in the project. I thank those in advance who could possibly help with this problem.</p>\n"},{"tags":["java","spring","spring-boot","jpa","specifications"],"comments":[{"owner":{"account_id":5228097,"reputation":124,"user_id":4179474,"display_name":"Howard007"},"score":0,"creation_date":1661973760,"post_id":73560666,"comment_id":129901582,"body_markdown":"Have you tried\n    @Autowired\n    private final DriverEntityRepository driverEntityRepository;\n?","body":"Have you tried     @Autowired     private final DriverEntityRepository driverEntityRepository; ?"},{"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"score":0,"creation_date":1661973963,"post_id":73560666,"comment_id":129901640,"body_markdown":"Yes, and there is the same error about \nField driverEntityRepository in com.example.service.DriverService required a bean of type &#39;com.example.repository.DriverEntityRepository&#39; that could not be found.","body":"Yes, and there is the same error about  Field driverEntityRepository in com.example.service.DriverService required a bean of type &#39;com.example.repository.DriverEntityRepository&#39; that could not be found."},{"owner":{"account_id":5228097,"reputation":124,"user_id":4179474,"display_name":"Howard007"},"score":0,"creation_date":1661983296,"post_id":73560666,"comment_id":129904100,"body_markdown":"Are all of your components in the same search/classpath under the directory where your @SpringBootApplication is?  Show the source for DriverEntityRepository.","body":"Are all of your components in the same search/classpath under the directory where your @SpringBootApplication is?  Show the source for DriverEntityRepository."}],"answers":[{"tags":[],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661979994,"creation_date":1661979994,"answer_id":73561896,"question_id":73560666,"body_markdown":"Ok, so when I removed \r\n\r\n    @EnableJpaRepositories\r\nfrom MyConfig Class everything works and searching works correctly with request parameteres :)","title":"Parameter 0 of constructor in service required a bean of type repository that could not be found","body":"<p>Ok, so when I removed</p>\n<pre><code>@EnableJpaRepositories\n</code></pre>\n<p>from MyConfig Class everything works and searching works correctly with request parameteres :)</p>\n"}],"owner":{"account_id":23897722,"reputation":221,"user_id":17896393,"display_name":"Lulex97"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73561896,"answer_count":1,"score":0,"last_activity_date":1661979994,"creation_date":1661972085,"question_id":73560666,"body_markdown":"I am working on dynamic searching and I would like to add specyfikacja-arg-resolver to my rest api.\r\nI am using this: https://github.com/tkaczmarzyk/specification-arg-resolver#enabling-spec-annotations-in-your-spring-app\r\n\r\nMy api is splited for Controller -&gt; Service -&gt; Repository.\r\nService looks like:\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class DriverService {\r\n        private final DriverEntityRepository driverEntityRepository;\r\n\r\n        public Set&lt;DriverEntity&gt; getAllWithSpec(Specification&lt;DriverEntity&gt; customerSpec, Pageable pageable) {\r\n            return driverEntityRepository.findAll(customerSpec, pageable);\r\n        }\r\n    }\r\n\r\nController:\r\n\r\n    @GetMapping(&quot;/test2&quot;)\r\n    public Set&lt;DriverDTO&gt; test3(\r\n            @And({\r\n                    @Spec(path = &quot;name&quot;, spec = Equal.class),\r\n                    @Spec(path = &quot;surname&quot;, spec = Equal.class)\r\n            }) Specification&lt;DriverEntity&gt; customerSpec,\r\n            Pageable pageable) {\r\n        Set&lt;DriverEntity&gt; driverEntities = driverService.getAllWithSpec(customerSpec, pageable);\r\n        return modelMapperService.mapSetToSetOfEnteredClass(driverEntities, DriverDTO.class);\r\n    }\r\n\r\nand I added this as in specification:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories\r\n    public class MyConfig implements WebMvcConfigurer {\r\n\r\n        @Override\r\n        public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\r\n            argumentResolvers.add(new SpecificationArgumentResolver());\r\n            }\r\n        }\r\n\r\nand after start of my app I am getting:\r\n\r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n\r\n    Description:\r\n\r\n    Parameter 0 of constructor in com.example.service.DriverService required a bean of type &#39;com.example.repository.DriverEntityRepository&#39; that could not be found.\r\n\r\n\r\n    Action:\r\n\r\n    Consider defining a bean of type &#39;com.example.repository.DriverEntityRepository&#39; in your configuration.\r\n\r\n\r\n    Process finished with exit code 1\r\n\r\nbut when I put &quot;MyConfig&quot; into comments I am getting error below\r\n\r\n    java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.data.jpa.domain.Specification\r\n\r\n\r\n \r\n","title":"Parameter 0 of constructor in service required a bean of type repository that could not be found","body":"<p>I am working on dynamic searching and I would like to add specyfikacja-arg-resolver to my rest api.\nI am using this: <a href=\"https://github.com/tkaczmarzyk/specification-arg-resolver#enabling-spec-annotations-in-your-spring-app\" rel=\"nofollow noreferrer\">https://github.com/tkaczmarzyk/specification-arg-resolver#enabling-spec-annotations-in-your-spring-app</a></p>\n<p>My api is splited for Controller -&gt; Service -&gt; Repository.\nService looks like:</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class DriverService {\n    private final DriverEntityRepository driverEntityRepository;\n\n    public Set&lt;DriverEntity&gt; getAllWithSpec(Specification&lt;DriverEntity&gt; customerSpec, Pageable pageable) {\n        return driverEntityRepository.findAll(customerSpec, pageable);\n    }\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@GetMapping(&quot;/test2&quot;)\npublic Set&lt;DriverDTO&gt; test3(\n        @And({\n                @Spec(path = &quot;name&quot;, spec = Equal.class),\n                @Spec(path = &quot;surname&quot;, spec = Equal.class)\n        }) Specification&lt;DriverEntity&gt; customerSpec,\n        Pageable pageable) {\n    Set&lt;DriverEntity&gt; driverEntities = driverService.getAllWithSpec(customerSpec, pageable);\n    return modelMapperService.mapSetToSetOfEnteredClass(driverEntities, DriverDTO.class);\n}\n</code></pre>\n<p>and I added this as in specification:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories\npublic class MyConfig implements WebMvcConfigurer {\n\n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; argumentResolvers) {\n        argumentResolvers.add(new SpecificationArgumentResolver());\n        }\n    }\n</code></pre>\n<p>and after start of my app I am getting:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.example.service.DriverService required a bean of type 'com.example.repository.DriverEntityRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.repository.DriverEntityRepository' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>but when I put &quot;MyConfig&quot; into comments I am getting error below</p>\n<pre><code>java.lang.IllegalStateException: No primary or single unique constructor found for interface org.springframework.data.jpa.domain.Specification\n</code></pre>\n"},{"tags":["java","logback"],"answers":[{"tags":[],"owner":{"account_id":8715595,"reputation":475,"user_id":6520338,"display_name":"Masud"},"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1485809367,"creation_date":1485809367,"answer_id":41945174,"question_id":25844215,"body_markdown":"The following configuration will create a new logfile and console output every time the program is run, please note that it does not use RollingFileAppender. For more information please refer to logback documentation https://logback.qos.ch/manual/configuration.html\r\n\r\n    &lt;configuration&gt;\r\n        &lt;timestamp key=&quot;bySecond&quot; datePattern=&quot;yyyyMMdd&#39;T&#39;HHmmss&quot;/&gt;\r\n        &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;layout class=&quot;ch.qos.logback.classic.PatternLayout&quot;&gt;\r\n                &lt;Pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\r\n            &lt;/layout&gt;\r\n        &lt;/appender&gt;\r\n        &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n            &lt;file&gt;logfile-${bySecond}.txt&lt;/file&gt;\r\n            &lt;append&gt;true&lt;/append&gt;\r\n            &lt;encoder&gt;\r\n                &lt;Pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n        &lt;root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;STDOUT&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;FILE&quot;&gt;&lt;/appender-ref&gt;\r\n        &lt;/root&gt;\r\n    &lt;/configuration&gt;","title":"Create new log file each run in logback?","body":"<p>The following configuration will create a new logfile and console output every time the program is run, please note that it does not use RollingFileAppender. For more information please refer to logback documentation <a href=\"https://logback.qos.ch/manual/configuration.html\" rel=\"noreferrer\">https://logback.qos.ch/manual/configuration.html</a></p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;timestamp key=\"bySecond\" datePattern=\"yyyyMMdd'T'HHmmss\"/&gt;\n    &lt;appender name=\"STDOUT\" class=\"ch.qos.logback.core.ConsoleAppender\"&gt;\n        &lt;layout class=\"ch.qos.logback.classic.PatternLayout\"&gt;\n            &lt;Pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n    &lt;appender name=\"FILE\" class=\"ch.qos.logback.core.FileAppender\"&gt;\n        &lt;file&gt;logfile-${bySecond}.txt&lt;/file&gt;\n        &lt;append&gt;true&lt;/append&gt;\n        &lt;encoder&gt;\n            &lt;Pattern&gt;%d{HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&lt;/Pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n    &lt;root level=\"info\" additivity=\"false\"&gt;\n        &lt;appender-ref ref=\"STDOUT\"/&gt;\n        &lt;appender-ref ref=\"FILE\"&gt;&lt;/appender-ref&gt;\n    &lt;/root&gt;\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":174366,"reputation":12158,"user_id":403682,"accept_rate":95,"display_name":"Kenny Cason"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542333652,"creation_date":1542333652,"answer_id":53330425,"question_id":25844215,"body_markdown":"If you want to continue using `RollingFileAppender` you can create your own `TriggeringPolicy` which will always trigger a new log file to be generated upon it&#39;s first call. \r\n\r\n    @NoAutoStart\r\n    public class StartupTriggeringPolicy&lt;E&gt; extends TriggeringPolicyBase&lt;E&gt; {\r\n        private boolean triggerRollover = true;\r\n    \r\n        @Override\r\n        public boolean isTriggeringEvent(final File activeFile, final E event) {\r\n            if (!triggerRollover) { return false; }\r\n            triggerRollover = false;\r\n            return true;\r\n        }\r\n    }\r\n\r\nYou can then set the `triggeringPolicy` property within you `logback.xml`&#39;s `&lt;appender&gt;` configuration:\r\n\r\n    &lt;appender name=&quot;startupRolloverAppender&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;triggeringPolicy class=&quot;com.your.package.StartupTriggeringPolicy&quot;/&gt;\r\n        &lt;!-- other configurations --&gt;\r\n    &lt;/appender&gt;","title":"Create new log file each run in logback?","body":"<p>If you want to continue using <code>RollingFileAppender</code> you can create your own <code>TriggeringPolicy</code> which will always trigger a new log file to be generated upon it's first call. </p>\n\n<pre><code>@NoAutoStart\npublic class StartupTriggeringPolicy&lt;E&gt; extends TriggeringPolicyBase&lt;E&gt; {\n    private boolean triggerRollover = true;\n\n    @Override\n    public boolean isTriggeringEvent(final File activeFile, final E event) {\n        if (!triggerRollover) { return false; }\n        triggerRollover = false;\n        return true;\n    }\n}\n</code></pre>\n\n<p>You can then set the <code>triggeringPolicy</code> property within you <code>logback.xml</code>'s <code>&lt;appender&gt;</code> configuration:</p>\n\n<pre><code>&lt;appender name=\"startupRolloverAppender\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n    &lt;triggeringPolicy class=\"com.your.package.StartupTriggeringPolicy\"/&gt;\n    &lt;!-- other configurations --&gt;\n&lt;/appender&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11614939,"reputation":84,"user_id":8508035,"display_name":"Glenn Grabbe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661979712,"creation_date":1661979712,"answer_id":73561860,"question_id":25844215,"body_markdown":"This configuration creates the output log file every time it runs.  Notice the append attribute set to false.\r\n\r\n````\r\n  &lt;appender name=&quot;FIXED_FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\r\n    &lt;file&gt;${LOGPATH}/A3.log&lt;/file&gt;\r\n    &lt;append&gt;false&lt;/append&gt;\r\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n      &lt;level&gt;info&lt;/level&gt;\r\n    &lt;/filter&gt;\r\n    &lt;encoder&gt;\r\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\r\n    &lt;/encoder&gt;\r\n  &lt;/appender&gt;\r\n````\r\n","title":"Create new log file each run in logback?","body":"<p>This configuration creates the output log file every time it runs.  Notice the append attribute set to false.</p>\n<pre><code>  &lt;appender name=&quot;FIXED_FILE&quot; class=&quot;ch.qos.logback.core.FileAppender&quot;&gt;\n    &lt;file&gt;${LOGPATH}/A3.log&lt;/file&gt;\n    &lt;append&gt;false&lt;/append&gt;\n    &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n      &lt;level&gt;info&lt;/level&gt;\n    &lt;/filter&gt;\n    &lt;encoder&gt;\n      &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n  &lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":1200939,"reputation":29479,"user_id":1171620,"accept_rate":43,"display_name":"Suzan Cioc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12958,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":3,"score":15,"last_activity_date":1661979712,"creation_date":1410771372,"question_id":25844215,"body_markdown":"How to create new log file each time application runs?\r\n\r\nI would like to keep previous logs in any way. For example, I would prefer to name each new log file by time and date it was created. Otherwise, I agree to backup old log file into date and time filename.\r\n\r\nUnfortunately, I can&#39;t see appropriate policies and/or triggers here: http://logback.qos.ch/manual/appenders.html\r\n\r\n**UPDATE**\r\n\r\nI made approximately as said in &quot;duplicate&quot;\r\n\r\n        &lt;appender name=&quot;ROUTINEAPPENDER&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n    \t\t&lt;file&gt;logs/routine.log&lt;/file&gt;\r\n    \t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n    \t\t\t&lt;fileNamePattern&gt;logs/routine%d{yyyyMMdd}%d{HHmmss,aux}.log&lt;/fileNamePattern&gt;\r\n    \t\t\t&lt;TimeBasedFileNamingAndTriggeringPolicy class=&quot;com.inthemoon.toolkit.StartupTimeBasedTriggeringPolicy&quot; /&gt;\r\n    \t\t&lt;/rollingPolicy&gt;\r\n    \t\t&lt;encoder&gt;\r\n    \t\t\t&lt;pattern&gt;%d{HH:mm:ss.SSS} - %C{0} - %msg%n&lt;/pattern&gt;\r\n    \t\t&lt;/encoder&gt;\r\n    \t&lt;/appender&gt;\r\n\r\nbut my class `com.inthemoon.toolkit.StartupTimeBasedTriggeringPolicy` is never called. I put breakpoint in `start()` method but it never raised.\r\n\r\nAlso, no rolling occurs. Log file is created, but it always has the name `routine.log`.\r\n\r\nAlso I don&#39;t understand, how parameters `file` and `filenamePattern` should coexist.\r\n\r\n**UPDATE 2**\r\n\r\nI have fixed `UPDATE 1` class reference, but still don&#39;t have what I need. In given solution, the date time is inserted into OLD log filename. For example, if I ran program in 2013, it created `routine.log`. Then I waited a year and run program in 2014. New log file will be created and have name `routine.log`, while OLD 2013 log will be put into `routine2014XXXXXXXXXX.log`, which is absolutely irrelevant.\r\n\r\nI need create new file each time program starts and have this namely file marked with date-time stamp.","title":"Create new log file each run in logback?","body":"<p>How to create new log file each time application runs?</p>\n\n<p>I would like to keep previous logs in any way. For example, I would prefer to name each new log file by time and date it was created. Otherwise, I agree to backup old log file into date and time filename.</p>\n\n<p>Unfortunately, I can't see appropriate policies and/or triggers here: <a href=\"http://logback.qos.ch/manual/appenders.html\" rel=\"noreferrer\">http://logback.qos.ch/manual/appenders.html</a></p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I made approximately as said in \"duplicate\"</p>\n\n<pre><code>    &lt;appender name=\"ROUTINEAPPENDER\" class=\"ch.qos.logback.core.rolling.RollingFileAppender\"&gt;\n        &lt;file&gt;logs/routine.log&lt;/file&gt;\n        &lt;rollingPolicy class=\"ch.qos.logback.core.rolling.TimeBasedRollingPolicy\"&gt;\n            &lt;fileNamePattern&gt;logs/routine%d{yyyyMMdd}%d{HHmmss,aux}.log&lt;/fileNamePattern&gt;\n            &lt;TimeBasedFileNamingAndTriggeringPolicy class=\"com.inthemoon.toolkit.StartupTimeBasedTriggeringPolicy\" /&gt;\n        &lt;/rollingPolicy&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} - %C{0} - %msg%n&lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n</code></pre>\n\n<p>but my class <code>com.inthemoon.toolkit.StartupTimeBasedTriggeringPolicy</code> is never called. I put breakpoint in <code>start()</code> method but it never raised.</p>\n\n<p>Also, no rolling occurs. Log file is created, but it always has the name <code>routine.log</code>.</p>\n\n<p>Also I don't understand, how parameters <code>file</code> and <code>filenamePattern</code> should coexist.</p>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>I have fixed <code>UPDATE 1</code> class reference, but still don't have what I need. In given solution, the date time is inserted into OLD log filename. For example, if I ran program in 2013, it created <code>routine.log</code>. Then I waited a year and run program in 2014. New log file will be created and have name <code>routine.log</code>, while OLD 2013 log will be put into <code>routine2014XXXXXXXXXX.log</code>, which is absolutely irrelevant.</p>\n\n<p>I need create new file each time program starts and have this namely file marked with date-time stamp.</p>\n"},{"tags":["java","rust","option-type","traits"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1661185478,"post_id":73448045,"comment_id":129706494,"body_markdown":"Do you have a practical use case for this?  I see a data type like this and I immediately think it&#39;s weird to have a `Foo&lt;Foo&lt;T&gt;&gt;` (or a Foo of type Foo of type T).","body":"Do you have a practical use case for this?  I see a data type like this and I immediately think it&#39;s weird to have a <code>Foo&lt;Foo&lt;T&gt;&gt;</code> (or a Foo of type Foo of type T)."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":3,"creation_date":1661185600,"post_id":73448045,"comment_id":129706532,"body_markdown":"So java has `Optional&lt;T&gt;`, with various methods (e.g. `Optional#map`) such that you&#39;d typically have `Optional&lt;A&gt;` -&gt; `Optional&lt;B&gt;`, rather than `Optional&lt;A&gt;` -&gt; `Optional&lt;Optional&lt;B&gt;&gt;`. I&#39;m not nearly as familiar with Rust, but it sounds like you&#39;re trying to do Rust in Java, rather than learning the idiomatic Java way.","body":"So java has <code>Optional&lt;T&gt;</code>, with various methods (e.g. <code>Optional#map</code>) such that you&#39;d typically have <code>Optional&lt;A&gt;</code> -&gt; <code>Optional&lt;B&gt;</code>, rather than <code>Optional&lt;A&gt;</code> -&gt; <code>Optional&lt;Optional&lt;B&gt;&gt;</code>. I&#39;m not nearly as familiar with Rust, but it sounds like you&#39;re trying to do Rust in Java, rather than learning the idiomatic Java way."},{"owner":{"account_id":18044165,"reputation":647,"user_id":13115582,"display_name":"leo848"},"score":0,"creation_date":1661185805,"post_id":73448045,"comment_id":129706609,"body_markdown":"@Makoto `Option&lt;Option&lt;T&gt;&gt;` is actually quite common in Rust, e.g. when iterating over `Option&lt;T&gt;` the return type of `Iterator::next` is `Option&lt;Option&lt;T&gt;&gt;`. Generic nesting is also common in Java, think of `List&lt;List&lt;T&gt;&gt;` or `Pair&lt;Pair&lt;T, T&gt;, Pair&lt;T, T&gt;&gt;`.","body":"@Makoto <code>Option&lt;Option&lt;T&gt;&gt;</code> is actually quite common in Rust, e.g. when iterating over <code>Option&lt;T&gt;</code> the return type of <code>Iterator::next</code> is <code>Option&lt;Option&lt;T&gt;&gt;</code>. Generic nesting is also common in Java, think of <code>List&lt;List&lt;T&gt;&gt;</code> or <code>Pair&lt;Pair&lt;T, T&gt;, Pair&lt;T, T&gt;&gt;</code>."},{"owner":{"account_id":18044165,"reputation":647,"user_id":13115582,"display_name":"leo848"},"score":0,"creation_date":1661185891,"post_id":73448045,"comment_id":129706628,"body_markdown":"@Rogue I know the `Optional&lt;T&gt;` type exists, but I don&#39;t like its API design. My question is much more general and also applies to many other pieces of Java code I&#39;ve written.","body":"@Rogue I know the <code>Optional&lt;T&gt;</code> type exists, but I don&#39;t like its API design. My question is much more general and also applies to many other pieces of Java code I&#39;ve written."},{"owner":{"account_id":18044165,"reputation":647,"user_id":13115582,"display_name":"leo848"},"score":0,"creation_date":1661186101,"post_id":73448045,"comment_id":129706704,"body_markdown":"@Rogue One example of this in the standard library is that a `List&lt;T&gt;` does not implement `Comparable&lt;List&lt;T&gt;&gt;` even though the lists can definitely be compared. In Rust this is easy using `impl` blocks and trait bounds.","body":"@Rogue One example of this in the standard library is that a <code>List&lt;T&gt;</code> does not implement <code>Comparable&lt;List&lt;T&gt;&gt;</code> even though the lists can definitely be compared. In Rust this is easy using <code>impl</code> blocks and trait bounds."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":4,"creation_date":1661186805,"post_id":73448045,"comment_id":129706934,"body_markdown":"@leo848:  Sure, but it&#39;s not common in Java.  What is it you&#39;re really trying to *accomplish* here?  There&#39;s a purpose to this being in Rust, since your iterators return this type while iterating, but that&#39;s not how Java works.","body":"@leo848:  Sure, but it&#39;s not common in Java.  What is it you&#39;re really trying to <i>accomplish</i> here?  There&#39;s a purpose to this being in Rust, since your iterators return this type while iterating, but that&#39;s not how Java works."},{"owner":{"account_id":18044165,"reputation":647,"user_id":13115582,"display_name":"leo848"},"score":0,"creation_date":1661187249,"post_id":73448045,"comment_id":129707088,"body_markdown":"@Makoto I agree, but I&#39;m trying to build a library that works like Rust iterators in Java, i.e. a `Iterator&lt;T&gt;` interface with a `Option&lt;T&gt; next()` method. `Option&lt;T&gt;` is just a first (and absolutely necessary) step towards this goal.","body":"@Makoto I agree, but I&#39;m trying to build a library that works like Rust iterators in Java, i.e. a <code>Iterator&lt;T&gt;</code> interface with a <code>Option&lt;T&gt; next()</code> method. <code>Option&lt;T&gt;</code> is just a first (and absolutely necessary) step towards this goal."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1661188139,"post_id":73448045,"comment_id":129707398,"body_markdown":"So in the end, I believe you&#39;re saying that you&#39;re truly trying to &quot;write Rust in Java&quot; (for lack of a better phrase). Which I&#39;d have to say that Java is not Rust, and you&#39;re running into the headaches of that (e.g. nullability). Stepping back just a little bit, _why_ do you want to make these rust-like `Iterator`/`Option` classes, as opposed to using what is already available?","body":"So in the end, I believe you&#39;re saying that you&#39;re truly trying to &quot;write Rust in Java&quot; (for lack of a better phrase). Which I&#39;d have to say that Java is not Rust, and you&#39;re running into the headaches of that (e.g. nullability). Stepping back just a little bit, <i>why</i> do you want to make these rust-like <code>Iterator</code>/<code>Option</code> classes, as opposed to using what is already available?"},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":1,"creation_date":1661188189,"post_id":73448045,"comment_id":129707409,"body_markdown":"@leo848:  ...but ***why***?  Java isn&#39;t Rust and it doesn&#39;t *have* to behave like Rust, and it shouldn&#39;t behave like Rust if you&#39;re trying to maintain it as a Java library.","body":"@leo848:  ...but <b><i>why</i></b>?  Java isn&#39;t Rust and it doesn&#39;t <i>have</i> to behave like Rust, and it shouldn&#39;t behave like Rust if you&#39;re trying to maintain it as a Java library."},{"owner":{"account_id":18044165,"reputation":647,"user_id":13115582,"display_name":"leo848"},"score":0,"creation_date":1661188786,"post_id":73448045,"comment_id":129707587,"body_markdown":"@Makoto Because I think the Rust model for iteration is (arguably) the most concise, expressive and useful, and by porting it to Java I gain all of these benefits. I do not care about being idiomatic or following OOP principles in Java, but instead just try to adhere to the Rust Iterator style as much as possible.","body":"@Makoto Because I think the Rust model for iteration is (arguably) the most concise, expressive and useful, and by porting it to Java I gain all of these benefits. I do not care about being idiomatic or following OOP principles in Java, but instead just try to adhere to the Rust Iterator style as much as possible."},{"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"score":1,"creation_date":1661188792,"post_id":73448045,"comment_id":129707589,"body_markdown":"@Makoto To be fair, insisting that one should just follow the Java way of doing things doesn&#39;t help much here. The core of this question is about making a `flatten` method. Even if we put Rust out of the equation, how could the Java standard library introduce a `Stream#flatten` method? For what it&#39;s worth, there is interest in flattening a collection in idiomatic Java ([1](https://stackoverflow.com/questions/18290935/flattening-a-collection) [2](https://stackoverflow.com/questions/25147094/how-can-i-turn-a-list-of-lists-into-a-list-in-java-8)).","body":"@Makoto To be fair, insisting that one should just follow the Java way of doing things doesn&#39;t help much here. The core of this question is about making a <code>flatten</code> method. Even if we put Rust out of the equation, how could the Java standard library introduce a <code>Stream#flatten</code> method? For what it&#39;s worth, there is interest in flattening a collection in idiomatic Java (<a href=\"https://stackoverflow.com/questions/18290935/flattening-a-collection\">1</a> <a href=\"https://stackoverflow.com/questions/25147094/how-can-i-turn-a-list-of-lists-into-a-list-in-java-8\">2</a>)."},{"owner":{"account_id":18044165,"reputation":647,"user_id":13115582,"display_name":"leo848"},"score":0,"creation_date":1661188848,"post_id":73448045,"comment_id":129707604,"body_markdown":"Also I&#39;m not trying to establish this as some sort of Java library, rather as a tool to port existing Rust iterator code to Java or just follow Rust&#39;s iterator model in Java.","body":"Also I&#39;m not trying to establish this as some sort of Java library, rather as a tool to port existing Rust iterator code to Java or just follow Rust&#39;s iterator model in Java."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1661189179,"post_id":73448045,"comment_id":129707731,"body_markdown":"@E_net4thecommentflagger:  You&#39;re not flattening a collection in this example, you&#39;re flattening an unbound generic.  That doesn&#39;t make a whole lot of sense in the ten-plus years I&#39;ve been doing Java.","body":"@E_net4thecommentflagger:  You&#39;re not flattening a collection in this example, you&#39;re flattening an unbound generic.  That doesn&#39;t make a whole lot of sense in the ten-plus years I&#39;ve been doing Java."},{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":2,"creation_date":1661189334,"post_id":73448045,"comment_id":129707781,"body_markdown":"@leo848:  I can respect your motivations, but you may run into more papercuts than balm if you go that route.  The iteration models for both are different, and they both have their pros and cons.  You&#39;ll need to determine if it&#39;s worth swimming against the current in Java to do something Rust-centric as opposed to doing this in an idiomatic Java way.  Java&#39;s generics [really aren&#39;t that good.](https://stackoverflow.com/a/355075/1079354)","body":"@leo848:  I can respect your motivations, but you may run into more papercuts than balm if you go that route.  The iteration models for both are different, and they both have their pros and cons.  You&#39;ll need to determine if it&#39;s worth swimming against the current in Java to do something Rust-centric as opposed to doing this in an idiomatic Java way.  Java&#39;s generics <a href=\"https://stackoverflow.com/a/355075/1079354\">really aren&#39;t that good.</a>"},{"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"score":1,"creation_date":1661189468,"post_id":73448045,"comment_id":129707826,"body_markdown":"@Makoto An `Option` is indeed equivalent to a collection of up to one element. But ultimately, on one thing we agree: Java&#39;s generics will feel rather thin after doing generic programming in other languages.","body":"@Makoto An <code>Option</code> is indeed equivalent to a collection of up to one element. But ultimately, on one thing we agree: Java&#39;s generics will feel rather thin after doing generic programming in other languages."},{"owner":{"account_id":18044165,"reputation":647,"user_id":13115582,"display_name":"leo848"},"score":0,"creation_date":1661190153,"post_id":73448045,"comment_id":129708061,"body_markdown":"@Makoto well I&#39;m pretty much already done with the standard libraries&#39; iterator functions and now working on stuff from the `itertools` crate (see the [GitHub repo](https://github.com/leo848/rust-in-java) ). I would already consider this to be more useful for me than `java.util.{Iterator, stream.Stream}`, but this is of course subjective.","body":"@Makoto well I&#39;m pretty much already done with the standard libraries&#39; iterator functions and now working on stuff from the <code>itertools</code> crate (see the <a href=\"https://github.com/leo848/rust-in-java\" rel=\"nofollow noreferrer\">GitHub repo</a> ). I would already consider this to be more useful for me than <code>java.util.{Iterator, stream.Stream}</code>, but this is of course subjective."}],"answers":[{"tags":[],"owner":{"account_id":1278589,"reputation":28407,"user_id":1233251,"accept_rate":90,"display_name":"E_net4"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1661187947,"creation_date":1661186196,"answer_id":73448355,"question_id":73448045,"body_markdown":"The problem with trying to come up with a non-static method such as `flatten` is that in Java one cannot conditionally add more methods to a class based on whether the type parameter of the class fulfills a certain constraint.\r\n\r\nYou can, however, make it a static method and constrain its arguments to whatever you need.\r\n\r\n```java\r\nclass Option&lt;T&gt; {\r\n    // ...\r\n    public static &lt;U&gt; Option&lt;U&gt; flatten(Option&lt;Option&lt;U&gt;&gt; option) {\r\n        if (option.isNone()) return None();\r\n        return option.unwrap();\r\n    }\r\n}\r\n```\r\n\r\nWhich would work for valid implementations of `None`, `isNone` and `unwrap`.\r\n\r\n\r\n----------\r\n\r\nA more complete example follows.\r\n\r\n```java\r\npublic static class Option&lt;T&gt; {\r\n    private final T value;\r\n    \r\n    private Option(T x) {\r\n        this.value = x;\r\n    }\r\n    \r\n    public static &lt;T&gt; Option&lt;T&gt; of(T x) {\r\n        java.util.Objects.requireNonNull(x);\r\n        return new Option&lt;&gt;(x);\r\n    }\r\n\r\n    public static &lt;T&gt; Option&lt;T&gt; None() {\r\n        return new Option&lt;&gt;(null);\r\n    }\r\n    \r\n    public T unwrap() {\r\n        java.util.Objects.requireNonNull(this.value);\r\n        return this.value;\r\n    }\r\n    \r\n    public boolean isNone() {\r\n        return this.value == null;\r\n    }\r\n\r\n    public static &lt;U&gt; Option&lt;U&gt; flatten(Option&lt;Option&lt;U&gt;&gt; option) {\r\n        if (option.isNone()) return Option.None();\r\n        return option.unwrap();\r\n    }\r\n    \r\n    @Override\r\n    public String toString() {\r\n        if (this.isNone()) {\r\n            return &quot;None&quot;;\r\n        }\r\n        return &quot;Some(&quot; + this.value.toString() + &quot;)&quot;;\r\n    }\r\n}\r\n```\r\n\r\nUsage:\r\n\r\n```java\r\nvar myOption = Option.of(Option.of(5));\r\nSystem.out.println(&quot;Option: &quot; + myOption);\r\nSystem.out.println(&quot;Flattened: &quot; + Option.flatten(myOption));\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\nOption: Some(Some(5))\r\nFlattened: Some(5)\r\n```\r\n\r\n","title":"Is there some sort of generic bound in Java?","body":"<p>The problem with trying to come up with a non-static method such as <code>flatten</code> is that in Java one cannot conditionally add more methods to a class based on whether the type parameter of the class fulfills a certain constraint.</p>\n<p>You can, however, make it a static method and constrain its arguments to whatever you need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Option&lt;T&gt; {\n    // ...\n    public static &lt;U&gt; Option&lt;U&gt; flatten(Option&lt;Option&lt;U&gt;&gt; option) {\n        if (option.isNone()) return None();\n        return option.unwrap();\n    }\n}\n</code></pre>\n<p>Which would work for valid implementations of <code>None</code>, <code>isNone</code> and <code>unwrap</code>.</p>\n<hr />\n<p>A more complete example follows.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class Option&lt;T&gt; {\n    private final T value;\n    \n    private Option(T x) {\n        this.value = x;\n    }\n    \n    public static &lt;T&gt; Option&lt;T&gt; of(T x) {\n        java.util.Objects.requireNonNull(x);\n        return new Option&lt;&gt;(x);\n    }\n\n    public static &lt;T&gt; Option&lt;T&gt; None() {\n        return new Option&lt;&gt;(null);\n    }\n    \n    public T unwrap() {\n        java.util.Objects.requireNonNull(this.value);\n        return this.value;\n    }\n    \n    public boolean isNone() {\n        return this.value == null;\n    }\n\n    public static &lt;U&gt; Option&lt;U&gt; flatten(Option&lt;Option&lt;U&gt;&gt; option) {\n        if (option.isNone()) return Option.None();\n        return option.unwrap();\n    }\n    \n    @Override\n    public String toString() {\n        if (this.isNone()) {\n            return &quot;None&quot;;\n        }\n        return &quot;Some(&quot; + this.value.toString() + &quot;)&quot;;\n    }\n}\n</code></pre>\n<p>Usage:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var myOption = Option.of(Option.of(5));\nSystem.out.println(&quot;Option: &quot; + myOption);\nSystem.out.println(&quot;Flattened: &quot; + Option.flatten(myOption));\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Option: Some(Some(5))\nFlattened: Some(5)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198346,"reputation":20665,"user_id":442945,"accept_rate":77,"display_name":"Nathaniel Ford"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661186524,"creation_date":1661186524,"answer_id":73448434,"question_id":73448045,"body_markdown":"I think the way you want to handle this is not to actually have a `flatten()` method, but have different handling in your constructor. Upon being created, the constructor should check the type it was handed. If that type is `Option`, it should try and unwrap that option, and set its internal value to the same as the option it was handed.\r\n\r\nOtherwise, there isn&#39;t really a way for an object to &#39;flatten&#39; itself, because it would have to change the type it was bounded over in the base case. You could return a new object from a static method, but are otherwise stuck.\r\n\r\n","title":"Is there some sort of generic bound in Java?","body":"<p>I think the way you want to handle this is not to actually have a <code>flatten()</code> method, but have different handling in your constructor. Upon being created, the constructor should check the type it was handed. If that type is <code>Option</code>, it should try and unwrap that option, and set its internal value to the same as the option it was handed.</p>\n<p>Otherwise, there isn't really a way for an object to 'flatten' itself, because it would have to change the type it was bounded over in the base case. You could return a new object from a static method, but are otherwise stuck.</p>\n"},{"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661187749,"creation_date":1661187749,"answer_id":73448656,"question_id":73448045,"body_markdown":"I want to point out some of the potential headaches and issues regarding this re-implementation of `Optional&lt;T&gt;`.\r\n\r\nHere&#39;s how I would initially go about it:\r\n\r\n    public class Option&lt;T&gt; {\r\n        /* fields, constructors, other methods */\r\n    \r\n        public &lt;U&gt; Option&lt;U&gt; flatten() {\r\n            if (isNone()) return None();\r\n            T unwrapped = this.unwrap();\r\n            if (unwrapped instanceof Option) {\r\n                return (Option&lt;U&gt;) unwrapped; //No type safety!\r\n            } else {\r\n                return (Option&lt;U&gt;) this;\r\n            }\r\n        }\r\n    }\r\n\r\nHowever, this code is _EVIL_. Note the signature of `&lt;U&gt; Option&lt;U&gt; flatten()` means that the `U` is going to be type-inferenced into whatever it needs to be, _not_ whatever a potential nested type is. So now, this is allowed:\r\n\r\n    Option&lt;Option&lt;Integer&gt;&gt; opt = /* some opt */;\r\n    Option&lt;String&gt; bad = opt.flatten();\r\n    Option&lt;Option&lt;?&gt;&gt; worse = opt.&lt;Option&lt;?&gt;&gt;flatten();\r\n\r\nYou will face a CCE upon using this for the other operations, but it allows a type of failure which I would say is dangerous at best. Note that any `Optional&lt;Optional&lt;T&gt;&gt;` can have `#flatMap` unwrap for you: `someOpt.flatMap(Function.identity());`, however this again begs the question of what caused you to arrive at a wrapped optional to begin with.\r\n\r\nAnother answer (by @NathanielFord) notes the constructor as an option, which seems viable as well, but will _still_ face the runtime check upon construction (with it simply being moved to the constructor):\r\n    \r\n    public class Option&lt;T&gt; {\r\n        /* fields, constructors, other methods */\r\n\r\n        public Option&lt;T&gt;(T someValue) { ... }\r\n        public Option&lt;T&gt;(Option&lt;T&gt; wrapped) {\r\n            this(wrapped.isNone() ? EMPTY_OBJECT : wrapped.unwrap());\r\n        }\r\n    \r\n        public Option&lt;T&gt; flatten() {\r\n            return this; //we&#39;re always flattened!\r\n        }\r\n    }\r\n\r\nNote as well, the re-creation of `Optional&lt;T&gt;` by \r\n@E_net4thecommentflagger has the potential for a nasty future bug: `Optional.ofNullable(null).isNone()` would return `true`! This may not be what you want for some potential use-cases, and should `#equals` be implemented in a similar manner, you&#39;d end up with `Optional.ofNullable(null).equals(Optional.None())`, which seems very counter-intuitive.\r\n\r\nAll of this to say, that while _Rust_ may require you to deal with these nested optionals, you are writing code for _Java_, and many of the potential restrictions you faced before have changed.\r\n","title":"Is there some sort of generic bound in Java?","body":"<p>I want to point out some of the potential headaches and issues regarding this re-implementation of <code>Optional&lt;T&gt;</code>.</p>\n<p>Here's how I would initially go about it:</p>\n<pre><code>public class Option&lt;T&gt; {\n    /* fields, constructors, other methods */\n\n    public &lt;U&gt; Option&lt;U&gt; flatten() {\n        if (isNone()) return None();\n        T unwrapped = this.unwrap();\n        if (unwrapped instanceof Option) {\n            return (Option&lt;U&gt;) unwrapped; //No type safety!\n        } else {\n            return (Option&lt;U&gt;) this;\n        }\n    }\n}\n</code></pre>\n<p>However, this code is <em>EVIL</em>. Note the signature of <code>&lt;U&gt; Option&lt;U&gt; flatten()</code> means that the <code>U</code> is going to be type-inferenced into whatever it needs to be, <em>not</em> whatever a potential nested type is. So now, this is allowed:</p>\n<pre><code>Option&lt;Option&lt;Integer&gt;&gt; opt = /* some opt */;\nOption&lt;String&gt; bad = opt.flatten();\nOption&lt;Option&lt;?&gt;&gt; worse = opt.&lt;Option&lt;?&gt;&gt;flatten();\n</code></pre>\n<p>You will face a CCE upon using this for the other operations, but it allows a type of failure which I would say is dangerous at best. Note that any <code>Optional&lt;Optional&lt;T&gt;&gt;</code> can have <code>#flatMap</code> unwrap for you: <code>someOpt.flatMap(Function.identity());</code>, however this again begs the question of what caused you to arrive at a wrapped optional to begin with.</p>\n<p>Another answer (by @NathanielFord) notes the constructor as an option, which seems viable as well, but will <em>still</em> face the runtime check upon construction (with it simply being moved to the constructor):</p>\n<pre><code>public class Option&lt;T&gt; {\n    /* fields, constructors, other methods */\n\n    public Option&lt;T&gt;(T someValue) { ... }\n    public Option&lt;T&gt;(Option&lt;T&gt; wrapped) {\n        this(wrapped.isNone() ? EMPTY_OBJECT : wrapped.unwrap());\n    }\n\n    public Option&lt;T&gt; flatten() {\n        return this; //we're always flattened!\n    }\n}\n</code></pre>\n<p>Note as well, the re-creation of <code>Optional&lt;T&gt;</code> by\n@E_net4thecommentflagger has the potential for a nasty future bug: <code>Optional.ofNullable(null).isNone()</code> would return <code>true</code>! This may not be what you want for some potential use-cases, and should <code>#equals</code> be implemented in a similar manner, you'd end up with <code>Optional.ofNullable(null).equals(Optional.None())</code>, which seems very counter-intuitive.</p>\n<p>All of this to say, that while <em>Rust</em> may require you to deal with these nested optionals, you are writing code for <em>Java</em>, and many of the potential restrictions you faced before have changed.</p>\n"}],"owner":{"account_id":18044165,"reputation":647,"user_id":13115582,"display_name":"leo848"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1661979592,"creation_date":1661184512,"question_id":73448045,"body_markdown":"I am defining a type `Option&lt;T&gt;` in Java that should behave as much as possible as Rust&#39;s equivalent.\r\n\r\nIt has a method, [Option::flatten][1], that is only implemented if the inner `T` is some other `Option&lt;T&gt;`. I am thinking of something like this:\r\n\r\n```java\r\npublic class Option&lt;T&gt; {\r\n    /* fields, constructors, other methods */\r\n\r\n    @Bound(T=Option&lt;U&gt;)\r\n    public &lt;U&gt; Option&lt;U&gt; flatten() {\r\n        if (isNone()) return None();\r\n        else return this.unwrap();\r\n    }\r\n}\r\n```\r\n\r\nBut the syntax is of course completely fictional. Is there some way to make this work in Java? I know static methods are an option, but they can&#39;t be called like a normal method which is the only goal of this type.\r\n\r\n---\r\n\r\nThis is not supposed to be a standalone thing, but rather a part of a larger Java implementation of Rust iterators I&#39;m currently working on.\r\n\r\n  [1]: https://doc.rust-lang.org/std/option/enum.Option.html#method.flatten","title":"Is there some sort of generic bound in Java?","body":"<p>I am defining a type <code>Option&lt;T&gt;</code> in Java that should behave as much as possible as Rust's equivalent.</p>\n<p>It has a method, <a href=\"https://doc.rust-lang.org/std/option/enum.Option.html#method.flatten\" rel=\"nofollow noreferrer\">Option::flatten</a>, that is only implemented if the inner <code>T</code> is some other <code>Option&lt;T&gt;</code>. I am thinking of something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Option&lt;T&gt; {\n    /* fields, constructors, other methods */\n\n    @Bound(T=Option&lt;U&gt;)\n    public &lt;U&gt; Option&lt;U&gt; flatten() {\n        if (isNone()) return None();\n        else return this.unwrap();\n    }\n}\n</code></pre>\n<p>But the syntax is of course completely fictional. Is there some way to make this work in Java? I know static methods are an option, but they can't be called like a normal method which is the only goal of this type.</p>\n<hr />\n<p>This is not supposed to be a standalone thing, but rather a part of a larger Java implementation of Rust iterators I'm currently working on.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1661987634,"post_id":73561657,"comment_id":129904857,"body_markdown":"`ThreadLocalRandom.nextInt( 2 , 22 )` for an `int` value between the specified origin (inclusive) and the specified bound (exclusive). See [Javadoc](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)).","body":"<code>ThreadLocalRandom.nextInt( 2 , 22 )</code> for an <code>int</code> value between the specified origin (inclusive) and the specified bound (exclusive). See <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ThreadLocalRandom.html#nextInt(int,int)\" rel=\"nofollow noreferrer\">Javadoc</a>."}],"answers":[{"tags":[],"owner":{"account_id":11857977,"reputation":109,"user_id":8677508,"display_name":"Costas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661978751,"creation_date":1661978751,"answer_id":73561718,"question_id":73561657,"body_markdown":"Just add 1 to the random number created and use 20 instead of 21 \r\n\r\n``` \r\nCards card1 = new Cards();\r\ncard1.cardsnumber = (Math.random()*20) + 1;\r\nint card1int = parseInt(Math.round(card1.cardsnumber))\r\n\r\n```","title":"How can I make number in Math.random come out from 2?","body":"<p>Just add 1 to the random number created and use 20 instead of 21</p>\n<pre><code>Cards card1 = new Cards();\ncard1.cardsnumber = (Math.random()*20) + 1;\nint card1int = parseInt(Math.round(card1.cardsnumber))\n\n</code></pre>\n"}],"owner":{"account_id":26211768,"reputation":21,"user_id":19890525,"display_name":"EuTy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661979111,"answer_count":1,"score":0,"last_activity_date":1661978751,"creation_date":1661978317,"question_id":73561657,"body_markdown":"How can I make the number in Math.random() come out no less than the number I need?\r\n\r\n    Cards card1 = new Cards();\r\n    card1.cardsnumber = Math.random()*21;\r\n    int card1int = (int) Math.round(card1.cardsnumber);\r\n    \r\nHow can I make card1int come out from 2 to 21?","title":"How can I make number in Math.random come out from 2?","body":"<p>How can I make the number in Math.random() come out no less than the number I need?</p>\n<pre><code>Cards card1 = new Cards();\ncard1.cardsnumber = Math.random()*21;\nint card1int = (int) Math.round(card1.cardsnumber);\n</code></pre>\n<p>How can I make card1int come out from 2 to 21?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-stream","spring-cloud-stream-binder-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661977395,"creation_date":1661977395,"answer_id":73561524,"question_id":73560810,"body_markdown":"Configure the container to emit `ListenerContainerIdleEvent`s.\r\n\r\nSee https://docs.spring.io/spring-kafka/docs/current/reference/html/#idle-containers","title":"How to tell if every consumer finished in Spring Cloud Stream Kafka?","body":"<p>Configure the container to emit <code>ListenerContainerIdleEvent</code>s.</p>\n<p>See <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#idle-containers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#idle-containers</a></p>\n"}],"owner":{"account_id":2453365,"reputation":333,"user_id":2139101,"accept_rate":95,"display_name":"Peter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73561524,"answer_count":1,"score":0,"last_activity_date":1661977395,"creation_date":1661972897,"question_id":73560810,"body_markdown":"I&#39;m trying to black-box test a Spring Boot application which is using Spring Cloud Stream Kafka. The expected results (in the DB) may differ based on the message processing order. How could I reliably tell if one message was processed and I can send in the next? One important factor is that one message from the test can generate multiple events (messages) within the application.\r\n\r\nI did the following methods:\r\n- wait fixed amount of time: usually works, but if someone&#39;s PC is hot and throttling, it can become flaky, and to be honest this is just ugly\r\n- create an aspect to count the method invocations, serve it through a controller, query it multiple times, send the next message when we&#39;re &quot;settled&quot;: timing of querying matters, unreliable\r\n- periodically check Kafka consumer lag, either from code or by querying actuator, with multiple samples: this is mixture of the above two, sometimes slower than the first but more reliable\r\n\r\nIs there any official way of doing this?","title":"How to tell if every consumer finished in Spring Cloud Stream Kafka?","body":"<p>I'm trying to black-box test a Spring Boot application which is using Spring Cloud Stream Kafka. The expected results (in the DB) may differ based on the message processing order. How could I reliably tell if one message was processed and I can send in the next? One important factor is that one message from the test can generate multiple events (messages) within the application.</p>\n<p>I did the following methods:</p>\n<ul>\n<li>wait fixed amount of time: usually works, but if someone's PC is hot and throttling, it can become flaky, and to be honest this is just ugly</li>\n<li>create an aspect to count the method invocations, serve it through a controller, query it multiple times, send the next message when we're &quot;settled&quot;: timing of querying matters, unreliable</li>\n<li>periodically check Kafka consumer lag, either from code or by querying actuator, with multiple samples: this is mixture of the above two, sometimes slower than the first but more reliable</li>\n</ul>\n<p>Is there any official way of doing this?</p>\n"},{"tags":["java","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1465042158,"creation_date":1465041848,"answer_id":37630015,"question_id":37628981,"body_markdown":"*If I create mappings before putting data in it works just fine.*\r\n\r\nThis just says it all, doesn&#39;t it?\r\n\r\n---\r\n\r\nIf you first insert data without having a mapping, ES will guess your data types and then create the mapping according to it. Have a look at what mapping ES generates for your data.\r\n\r\nI suggest, that it&#39;s not exactly the mapping you wanted to create.\r\n\r\nSimple example: Insert a &quot;String&quot; `2016-01-01T00:00:00.000Z`. ES will create a datetime field, even if you wanted a string field. In order to get a string field, you must have created the mapping before inserting the data.\r\n\r\nAdditionally analyzers, etc. cannot be guessed by ES. And it&#39;s (if I remember correctly) not possible to override them after data has been inserted.","title":"Mapper for conflicts with existing mapping","body":"<p><em>If I create mappings before putting data in it works just fine.</em></p>\n\n<p>This just says it all, doesn't it?</p>\n\n<hr>\n\n<p>If you first insert data without having a mapping, ES will guess your data types and then create the mapping according to it. Have a look at what mapping ES generates for your data.</p>\n\n<p>I suggest, that it's not exactly the mapping you wanted to create.</p>\n\n<p>Simple example: Insert a \"String\" <code>2016-01-01T00:00:00.000Z</code>. ES will create a datetime field, even if you wanted a string field. In order to get a string field, you must have created the mapping before inserting the data.</p>\n\n<p>Additionally analyzers, etc. cannot be guessed by ES. And it's (if I remember correctly) not possible to override them after data has been inserted.</p>\n"},{"tags":[],"owner":{"account_id":16422738,"reputation":435,"user_id":11863556,"display_name":"Chance"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661977218,"creation_date":1661977218,"answer_id":73561487,"question_id":37628981,"body_markdown":"As a workaround, I recreated the index with the expected mapping...\r\n```\r\n# Create a temp index\r\nkubectl exec elasticsearch-master-0  -- curl -X PUT &#39;http://elasticsearch-master:9200/&lt;temp index name&gt;/&#39; -H &#39;Content-Type: application/json&#39; -d&#39;\r\n{\r\n   &quot;settings&quot;: {\r\n      &quot;analysis&quot;: {\r\n         &quot;analyzer&quot;: {\r\n            &quot;path_analyzer&quot;: {\r\n               &quot;tokenizer&quot;: &quot;path_tokenizer&quot;\r\n            }\r\n         },\r\n         &quot;tokenizer&quot;: {\r\n            &quot;path_tokenizer&quot;: {\r\n               &quot;type&quot;: &quot;path_hierarchy&quot;,\r\n               &quot;delimiter&quot;: &quot;.&quot;\r\n            }\r\n         }\r\n      }\r\n   }\r\n}\r\n&#39;\r\n\r\n# Create a mapping in the temp index\r\nkubectl exec elasticsearch-master-0  -- curl -X PUT &#39;http://elasticsearch-master.utility:9200/&lt;temp index name&gt;/_mappings&#39; -H &#39;Content-Type: application/json&#39; -d&#39;\r\n{\r\n      &quot;properties&quot;: {\r\n        &quot;activity_time&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;format&quot;: &quot;epoch_second&quot;\r\n        }\r\n      }\r\n}\r\n&#39;\r\n\r\n# Reindex from the origin index to the temp index\r\nkubectl exec elasticsearch-master-0  -- curl  -X POST  &#39;http://elasticsearch-master:9200/_reindex?pretty&#39; -H &#39;Content-Type: application/json&#39; -d&#39;\r\n{\r\n&quot;source&quot;: {\r\n&quot;index&quot;: &quot;&lt;original index name&gt;&quot;\r\n},\r\n&quot;dest&quot;: {\r\n&quot;index&quot;: &quot;&lt;temp index name&gt;&quot;\r\n}\r\n}\r\n&#39; \r\n\r\n# Delete the origin index\r\nkubectl exec elasticsearch-master-0 -- curl --location --request DELETE &#39;http://elasticsearch-master:9200/&lt;original index name&gt;/&#39;\r\n\r\n# Recreate the origin index with setting if it has\r\nkubectl exec elasticsearch-master-0  -- curl --location --request PUT &#39;http://elasticsearch-master:9200/&lt;original index name&gt;/&#39; -H &#39;Content-Type: application/json&#39; -d&#39;\r\n{\r\n   &quot;settings&quot;: {\r\n      &quot;analysis&quot;: {\r\n         &quot;analyzer&quot;: {\r\n            &quot;path_analyzer&quot;: {\r\n               &quot;tokenizer&quot;: &quot;path_tokenizer&quot;\r\n            }\r\n         },\r\n         &quot;tokenizer&quot;: {\r\n            &quot;path_tokenizer&quot;: {\r\n               &quot;type&quot;: &quot;path_hierarchy&quot;,\r\n               &quot;delimiter&quot;: &quot;.&quot;\r\n            }\r\n         }\r\n      }\r\n   }\r\n}\r\n&#39;\r\n\r\n# Create a mapping in the index\r\nkubectl exec elasticsearch-master-0 -n utility -- curl -X PUT &#39;http://elasticsearch-master:9200/&lt;original index name&gt;/_mappings&#39; -H &#39;Content-Type: application/json&#39; -d&#39;\r\n{\r\n      &quot;properties&quot;: {\r\n        &quot;activity_time&quot;: {\r\n          &quot;type&quot;: &quot;date&quot;,\r\n          &quot;format&quot;: &quot;epoch_second&quot;\r\n        }\r\n}\r\n&#39;\r\n\r\n# Reindex from the temp index to the new origin index\r\nkubectl exec elasticsearch-master-0 -- curl  -X POST  &#39;http://elasticsearch-master:9200/_reindex?pretty&#39; -H &#39;Content-Type: application/json&#39; -d&#39;\r\n{\r\n&quot;source&quot;: {\r\n&quot;index&quot;: &quot;&lt;temp index name&gt;&quot;\r\n},\r\n&quot;dest&quot;: {\r\n&quot;index&quot;: &quot;&lt;original index name&gt;&quot;\r\n}\r\n}\r\n&#39; \r\n```","title":"Mapper for conflicts with existing mapping","body":"<p>As a workaround, I recreated the index with the expected mapping...</p>\n<pre><code># Create a temp index\nkubectl exec elasticsearch-master-0  -- curl -X PUT 'http://elasticsearch-master:9200/&lt;temp index name&gt;/' -H 'Content-Type: application/json' -d'\n{\n   &quot;settings&quot;: {\n      &quot;analysis&quot;: {\n         &quot;analyzer&quot;: {\n            &quot;path_analyzer&quot;: {\n               &quot;tokenizer&quot;: &quot;path_tokenizer&quot;\n            }\n         },\n         &quot;tokenizer&quot;: {\n            &quot;path_tokenizer&quot;: {\n               &quot;type&quot;: &quot;path_hierarchy&quot;,\n               &quot;delimiter&quot;: &quot;.&quot;\n            }\n         }\n      }\n   }\n}\n'\n\n# Create a mapping in the temp index\nkubectl exec elasticsearch-master-0  -- curl -X PUT 'http://elasticsearch-master.utility:9200/&lt;temp index name&gt;/_mappings' -H 'Content-Type: application/json' -d'\n{\n      &quot;properties&quot;: {\n        &quot;activity_time&quot;: {\n          &quot;type&quot;: &quot;date&quot;,\n          &quot;format&quot;: &quot;epoch_second&quot;\n        }\n      }\n}\n'\n\n# Reindex from the origin index to the temp index\nkubectl exec elasticsearch-master-0  -- curl  -X POST  'http://elasticsearch-master:9200/_reindex?pretty' -H 'Content-Type: application/json' -d'\n{\n&quot;source&quot;: {\n&quot;index&quot;: &quot;&lt;original index name&gt;&quot;\n},\n&quot;dest&quot;: {\n&quot;index&quot;: &quot;&lt;temp index name&gt;&quot;\n}\n}\n' \n\n# Delete the origin index\nkubectl exec elasticsearch-master-0 -- curl --location --request DELETE 'http://elasticsearch-master:9200/&lt;original index name&gt;/'\n\n# Recreate the origin index with setting if it has\nkubectl exec elasticsearch-master-0  -- curl --location --request PUT 'http://elasticsearch-master:9200/&lt;original index name&gt;/' -H 'Content-Type: application/json' -d'\n{\n   &quot;settings&quot;: {\n      &quot;analysis&quot;: {\n         &quot;analyzer&quot;: {\n            &quot;path_analyzer&quot;: {\n               &quot;tokenizer&quot;: &quot;path_tokenizer&quot;\n            }\n         },\n         &quot;tokenizer&quot;: {\n            &quot;path_tokenizer&quot;: {\n               &quot;type&quot;: &quot;path_hierarchy&quot;,\n               &quot;delimiter&quot;: &quot;.&quot;\n            }\n         }\n      }\n   }\n}\n'\n\n# Create a mapping in the index\nkubectl exec elasticsearch-master-0 -n utility -- curl -X PUT 'http://elasticsearch-master:9200/&lt;original index name&gt;/_mappings' -H 'Content-Type: application/json' -d'\n{\n      &quot;properties&quot;: {\n        &quot;activity_time&quot;: {\n          &quot;type&quot;: &quot;date&quot;,\n          &quot;format&quot;: &quot;epoch_second&quot;\n        }\n}\n'\n\n# Reindex from the temp index to the new origin index\nkubectl exec elasticsearch-master-0 -- curl  -X POST  'http://elasticsearch-master:9200/_reindex?pretty' -H 'Content-Type: application/json' -d'\n{\n&quot;source&quot;: {\n&quot;index&quot;: &quot;&lt;temp index name&gt;&quot;\n},\n&quot;dest&quot;: {\n&quot;index&quot;: &quot;&lt;original index name&gt;&quot;\n}\n}\n' \n</code></pre>\n"}],"owner":{"account_id":66776,"reputation":9184,"user_id":195727,"accept_rate":62,"display_name":"Dzung Nguyen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6139,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661977218,"creation_date":1465035177,"question_id":37628981,"body_markdown":"I have a problem regarding update analyzer for a property in an index type. I have read the problem for this kind of error [here][1]. But it&#39;s not exactly the case since I only have one index type ( experimenting ) and it&#39;s unique, there is no way it can be conflicted. And this is from elasticsearch 2.3.\r\n\r\nmappings\r\n\r\n    (get &quot;/public-search/_mapping/developer&quot;)\r\n    \r\n    {:public-search {:mappings {:developer {:properties {:db/id {:type &quot;long&quot;}, :developer/description {:type &quot;string&quot;}, :developer/established-date {:type &quot;date&quot;, :format &quot;strict_date_optional_time||epoch_millis&quot;}, :developer/logo-url {:type &quot;string&quot;}, :developer/name {:type &quot;string&quot;}, :developer/total-project {:type &quot;long&quot;}}}}}}\r\n\r\n    // I do have autocomplete analyzer in settings\r\n    (put &quot;/public-search/_mapping/developer&quot;\r\n           {:properties {:developer/name {:type &quot;string&quot;\r\n                                          :analyzer &quot;autocomplete&quot;}}})\r\n    \r\n    {:error {:root_cause [{:type &quot;illegal_argument_exception&quot;, :reason &quot;Mapper for [developer/name] conflicts with existing mapping in other types:\\n[mapper [developer/name] has different [analyzer]]&quot;}], :type &quot;illegal_argument_exception&quot;, :reason &quot;Mapper for [developer/name] conflicts with existing mapping in other types:\\n[mapper [developer/name] has different [analyzer]]&quot;}, :status 400}\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html\r\n\r\nIf I create mappings before putting data in it works just fine. But I still have concerns about updating mapping at run time.\r\nWhat could be wrong possibly  in this case?","title":"Mapper for conflicts with existing mapping","body":"<p>I have a problem regarding update analyzer for a property in an index type. I have read the problem for this kind of error <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/indices-put-mapping.html\" rel=\"nofollow noreferrer\">here</a>. But it's not exactly the case since I only have one index type ( experimenting ) and it's unique, there is no way it can be conflicted. And this is from elasticsearch 2.3.</p>\n<p>mappings</p>\n<pre><code>(get &quot;/public-search/_mapping/developer&quot;)\n\n{:public-search {:mappings {:developer {:properties {:db/id {:type &quot;long&quot;}, :developer/description {:type &quot;string&quot;}, :developer/established-date {:type &quot;date&quot;, :format &quot;strict_date_optional_time||epoch_millis&quot;}, :developer/logo-url {:type &quot;string&quot;}, :developer/name {:type &quot;string&quot;}, :developer/total-project {:type &quot;long&quot;}}}}}}\n\n// I do have autocomplete analyzer in settings\n(put &quot;/public-search/_mapping/developer&quot;\n       {:properties {:developer/name {:type &quot;string&quot;\n                                      :analyzer &quot;autocomplete&quot;}}})\n\n{:error {:root_cause [{:type &quot;illegal_argument_exception&quot;, :reason &quot;Mapper for [developer/name] conflicts with existing mapping in other types:\\n[mapper [developer/name] has different [analyzer]]&quot;}], :type &quot;illegal_argument_exception&quot;, :reason &quot;Mapper for [developer/name] conflicts with existing mapping in other types:\\n[mapper [developer/name] has different [analyzer]]&quot;}, :status 400}\n</code></pre>\n<p>If I create mappings before putting data in it works just fine. But I still have concerns about updating mapping at run time.\nWhat could be wrong possibly  in this case?</p>\n"},{"tags":["java","javafx","javafx-2","desktop-application"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1661977322,"post_id":24448002,"comment_id":129902585,"body_markdown":"This related [example](https://stackoverflow.com/a/73528614/230513) uses the approach illustrated in this recent [answer](https://stackoverflow.com/a/52719989/230513).","body":"This related <a href=\"https://stackoverflow.com/a/73528614/230513\">example</a> uses the approach illustrated in this recent <a href=\"https://stackoverflow.com/a/52719989/230513\">answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":2111671,"reputation":4542,"user_id":1876839,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1403869396,"creation_date":1403869396,"answer_id":24450989,"question_id":24448002,"body_markdown":"I made a very small example Application for you,\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Button;\r\n    import javafx.scene.control.Hyperlink;\r\n    import javafx.scene.control.ListView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.layout.AnchorPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class ListList extends Application {\r\n        \r\n        final ListView listView = new ListView();\r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            \r\n            List&lt;Hyperlink&gt; links = new ArrayList&lt;&gt;();\r\n            \r\n            AnchorPane pane = new AnchorPane();\r\n            VBox vBox = new VBox();\r\n            final Hyperlink link = new Hyperlink(&quot;http://blog.professional-webworkx.de&quot;);\r\n            Hyperlink link2= new Hyperlink(&quot;http://www.stackoverflow.com&quot;);\r\n            \r\n            links.add(link);\r\n            links.add(link2);\r\n            \r\n            for(final Hyperlink hyperlink : links) {\r\n                hyperlink.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \r\n                    @Override\r\n                    public void handle(ActionEvent t) {\r\n                        getHostServices().showDocument(hyperlink.getText());\r\n                    }\r\n                });\r\n            }\r\n            \r\n            listView.getItems().addAll(links);\r\n            HBox hBox = new HBox();\r\n            final TextField urlField = new TextField();\r\n            Button b = new Button(&quot;Add Links&quot;);\r\n            hBox.getChildren().addAll(b, urlField);\r\n            \r\n            b.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \r\n                @Override\r\n                public void handle(ActionEvent t) {\r\n                    addLink(urlField.getText().trim());\r\n                    urlField.clear();\r\n                }\r\n            });\r\n            vBox.getChildren().add(hBox);\r\n            vBox.getChildren().add(listView);\r\n            pane.getChildren().add(vBox);\r\n            Scene scene = new Scene(pane, 800, 600);\r\n            primaryStage.setTitle(&quot;Hello World!&quot;);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n        \r\n        private void addLink(final String url) {\r\n            final Hyperlink link = new Hyperlink(url);\r\n            link.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n    \r\n                @Override\r\n                public void handle(ActionEvent t) {\r\n                    getHostServices().showDocument(link.getText());\r\n                    //openBrowser(link.getText());\r\n                }\r\n    \r\n            });\r\n            listView.getItems().add(link);\r\n        }\r\n        \r\n        private void openBrowser(final String url) {\r\n            getHostServices().showDocument(url);\r\n        }\r\n    }\r\n\r\n\r\nIf you enter a new URL in the TextField and click on the Button, the new Link will be added to your LinkList and will be displayed on the ListView. Everytime you add a new Link, the `.setOnAction()` Method is set with the right URL to open. \r\n\r\nMaybe you can use this as starting point for further developing your app.\r\n\r\nPatrick","title":"When click on Hyperlink in JavaFX, a relevant URL should open in browser","body":"<p>I made a very small example Application for you,</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Hyperlink;\nimport javafx.scene.control.ListView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.layout.AnchorPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class ListList extends Application {\n\n    final ListView listView = new ListView();\n    @Override\n    public void start(Stage primaryStage) {\n\n        List&lt;Hyperlink&gt; links = new ArrayList&lt;&gt;();\n\n        AnchorPane pane = new AnchorPane();\n        VBox vBox = new VBox();\n        final Hyperlink link = new Hyperlink(\"http://blog.professional-webworkx.de\");\n        Hyperlink link2= new Hyperlink(\"http://www.stackoverflow.com\");\n\n        links.add(link);\n        links.add(link2);\n\n        for(final Hyperlink hyperlink : links) {\n            hyperlink.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n\n                @Override\n                public void handle(ActionEvent t) {\n                    getHostServices().showDocument(hyperlink.getText());\n                }\n            });\n        }\n\n        listView.getItems().addAll(links);\n        HBox hBox = new HBox();\n        final TextField urlField = new TextField();\n        Button b = new Button(\"Add Links\");\n        hBox.getChildren().addAll(b, urlField);\n\n        b.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n\n            @Override\n            public void handle(ActionEvent t) {\n                addLink(urlField.getText().trim());\n                urlField.clear();\n            }\n        });\n        vBox.getChildren().add(hBox);\n        vBox.getChildren().add(listView);\n        pane.getChildren().add(vBox);\n        Scene scene = new Scene(pane, 800, 600);\n        primaryStage.setTitle(\"Hello World!\");\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    private void addLink(final String url) {\n        final Hyperlink link = new Hyperlink(url);\n        link.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n\n            @Override\n            public void handle(ActionEvent t) {\n                getHostServices().showDocument(link.getText());\n                //openBrowser(link.getText());\n            }\n\n        });\n        listView.getItems().add(link);\n    }\n\n    private void openBrowser(final String url) {\n        getHostServices().showDocument(url);\n    }\n}\n</code></pre>\n\n<p>If you enter a new URL in the TextField and click on the Button, the new Link will be added to your LinkList and will be displayed on the ListView. Everytime you add a new Link, the <code>.setOnAction()</code> Method is set with the right URL to open. </p>\n\n<p>Maybe you can use this as starting point for further developing your app.</p>\n\n<p>Patrick</p>\n"},{"tags":[],"owner":{"account_id":7853044,"reputation":627,"user_id":5935912,"display_name":"Kaj Risberg"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461493820,"creation_date":1461493600,"answer_id":36821920,"question_id":24448002,"body_markdown":"I put a Tooltip to the hyperlink and read the url from there, and seems to work. i.e.:\r\n\r\n    Hyperlink hl = new Hyperlink(sometext);\r\n    hl.setTooltip(new Tooltip(theurlhere);\r\n    hl.setOnAction((ActionEvent event) -&gt; {\r\n        Hyperlink h = (Hyperlink) event.getTarget();\r\n        String s = h.getTooltip().getText();\r\n        getHostServices.showDocument(s);\r\n        event.consume();\r\n    });","title":"When click on Hyperlink in JavaFX, a relevant URL should open in browser","body":"<p>I put a Tooltip to the hyperlink and read the url from there, and seems to work. i.e.:</p>\n\n<pre><code>Hyperlink hl = new Hyperlink(sometext);\nhl.setTooltip(new Tooltip(theurlhere);\nhl.setOnAction((ActionEvent event) -&gt; {\n    Hyperlink h = (Hyperlink) event.getTarget();\n    String s = h.getTooltip().getText();\n    getHostServices.showDocument(s);\n    event.consume();\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539084547,"creation_date":1539084547,"answer_id":52719989,"question_id":24448002,"body_markdown":"Old question, old answer which is working fine - but has a slight smell: it&#39;s adding views (Hyperlinks) as data to the ListView. \r\n\r\nThe cleaner alternative is to add URLs as data and implement a custom cell that uses Hyperlinks to show (and allow interaction with) the URLs.\r\n\r\nA quick code example:\r\n\r\n    final ListView&lt;URL&gt; listView = new ListView&lt;&gt;();\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) throws MalformedURLException {\r\n\r\n        ObservableList&lt;URL&gt; urls = FXCollections.observableArrayList(\r\n              new URL(&quot;http://blog.professional-webworkx.de&quot;),\r\n              new URL(&quot;http://www.stackoverflow.com&quot;)\r\n                );\r\n\r\n        listView.getItems().addAll(urls);\r\n        listView.setCellFactory(c -&gt; {\r\n            ListCell&lt;URL&gt; cell = new ListCell&lt;&gt;() {\r\n                private Hyperlink hyperlink;\r\n                \r\n                {\r\n                    hyperlink = new Hyperlink();\r\n                    hyperlink.setOnAction(e -&gt; {\r\n                        if (getItem() != null) {\r\n                            getHostServices().showDocument(getItem().toString());\r\n                        }\r\n                    });\r\n                    setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\r\n                }\r\n\r\n                @Override\r\n                protected void updateItem(URL item, boolean empty) {\r\n                    super.updateItem(item, empty);\r\n                    if (item != null &amp;&amp; !empty) {\r\n                        hyperlink.setText(item.toString());\r\n                        setGraphic(hyperlink);\r\n                    } else {\r\n                        setGraphic(null);\r\n                    }\r\n                }\r\n                \r\n            };\r\n            return cell;\r\n        });\r\n       // ... \r\n    }\r\n ","title":"When click on Hyperlink in JavaFX, a relevant URL should open in browser","body":"<p>Old question, old answer which is working fine - but has a slight smell: it's adding views (Hyperlinks) as data to the ListView. </p>\n\n<p>The cleaner alternative is to add URLs as data and implement a custom cell that uses Hyperlinks to show (and allow interaction with) the URLs.</p>\n\n<p>A quick code example:</p>\n\n<pre><code>final ListView&lt;URL&gt; listView = new ListView&lt;&gt;();\n\n@Override\npublic void start(Stage primaryStage) throws MalformedURLException {\n\n    ObservableList&lt;URL&gt; urls = FXCollections.observableArrayList(\n          new URL(\"http://blog.professional-webworkx.de\"),\n          new URL(\"http://www.stackoverflow.com\")\n            );\n\n    listView.getItems().addAll(urls);\n    listView.setCellFactory(c -&gt; {\n        ListCell&lt;URL&gt; cell = new ListCell&lt;&gt;() {\n            private Hyperlink hyperlink;\n\n            {\n                hyperlink = new Hyperlink();\n                hyperlink.setOnAction(e -&gt; {\n                    if (getItem() != null) {\n                        getHostServices().showDocument(getItem().toString());\n                    }\n                });\n                setContentDisplay(ContentDisplay.GRAPHIC_ONLY);\n            }\n\n            @Override\n            protected void updateItem(URL item, boolean empty) {\n                super.updateItem(item, empty);\n                if (item != null &amp;&amp; !empty) {\n                    hyperlink.setText(item.toString());\n                    setGraphic(hyperlink);\n                } else {\n                    setGraphic(null);\n                }\n            }\n\n        };\n        return cell;\n    });\n   // ... \n}\n</code></pre>\n"}],"owner":{"account_id":2518325,"reputation":115,"user_id":3782444,"display_name":"Anish Sharma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21397,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":24450989,"answer_count":3,"score":5,"last_activity_date":1661977119,"creation_date":1403860052,"question_id":24448002,"body_markdown":"I am developing an application in which I have some links added to the `Listview`, and these links will keep on adding at runtime on some condition. What I can&#39;t find is a way to to open a url when clicking on a particular link.\r\n\r\nThis is the code for adding links into list view\r\n\r\n   \r\n\r\n    if (counter == 1) {\r\n        Task task2 = new Task&lt;Void&gt;() {\r\n            @Override\r\n            public Void call() throws Exception {\r\n\r\n                Platform.runLater(new Runnable() {\r\n                    public void run() {\r\n                        link = new Hyperlink(val);\r\n                        link.setStyle(&quot;-fx-border-style: none;&quot;);\r\n                        items.add(link);\r\n                        listview.setItems(items);\r\n                    }\r\n                });\r\n                return null;\r\n            }\r\n        };\r\n        Thread th = new Thread(task2);\r\n        th.setDaemon(true);\r\n        th.start();\r\n        Thread.sleep(1000);\r\n    }\r\n\r\nI know I need to use something like this to open a url in browser when click on link:\r\n\r\n     getHostServices().showDocument(link.getText()); \r\n\r\nI don&#39;t know how to listen/track the click event for different links.\r\n","title":"When click on Hyperlink in JavaFX, a relevant URL should open in browser","body":"<p>I am developing an application in which I have some links added to the <code>Listview</code>, and these links will keep on adding at runtime on some condition. What I can't find is a way to to open a url when clicking on a particular link.</p>\n<p>This is the code for adding links into list view</p>\n<pre><code>if (counter == 1) {\n    Task task2 = new Task&lt;Void&gt;() {\n        @Override\n        public Void call() throws Exception {\n\n            Platform.runLater(new Runnable() {\n                public void run() {\n                    link = new Hyperlink(val);\n                    link.setStyle(&quot;-fx-border-style: none;&quot;);\n                    items.add(link);\n                    listview.setItems(items);\n                }\n            });\n            return null;\n        }\n    };\n    Thread th = new Thread(task2);\n    th.setDaemon(true);\n    th.start();\n    Thread.sleep(1000);\n}\n</code></pre>\n<p>I know I need to use something like this to open a url in browser when click on link:</p>\n<pre><code> getHostServices().showDocument(link.getText()); \n</code></pre>\n<p>I don't know how to listen/track the click event for different links.</p>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"tags":[],"owner":{"account_id":1138510,"reputation":930,"user_id":1123052,"display_name":"Edgar Domingues"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661944668,"creation_date":1661944668,"answer_id":73555072,"question_id":73554328,"body_markdown":"You don&#39;t need synchronization only if your operation is atomic (see https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html).\r\n\r\nYou should declare your variable `volatile` to assure you read the latest write.  \r\n\r\n","title":"Synchronizing Access to a Class Field","body":"<p>You don't need synchronization only if your operation is atomic (see <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/essential/concurrency/atomic.html</a>).</p>\n<p>You should declare your variable <code>volatile</code> to assure you read the latest write.</p>\n"},{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661976405,"creation_date":1661945667,"answer_id":73555281,"question_id":73554328,"body_markdown":"You don&#39;t have to use a ReadWriteLock but you do have to make sure updates to the field are visible to other threads. \r\n\r\nYou need to make the map field volatile to protect against memory consistency errors. It&#39;s not enough that it&#39;s atomic, putting volatile on it tells the JVM that this field is getting read by other threads so the write to it needs to made visible. \r\n\r\nVisibility of the field holding the reference and visibility of the contents of that reference are two separate issues. \r\n\r\nIf your map doesn&#39;t change structurally then it&#39;s safe to access it without synchronization. That means no inserting or deleting entries. The warning about structural modifications is in the api doc for the map implementation, for instance: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/HashMap.html \r\n\r\nA safely published map that isn&#39;t updated won&#39;t need to ensure memory visibility when it is getting read from. But it would be good to use an immutable map to enforce that. \r\n\r\nThe best reference for this is the book &lt;i&gt;Java Concurrency in Practice&lt;/i&gt;. \r\n\r\nTLDR: use volatile on the instance member declaration. Make  sure the map written to that field is immutable. ","title":"Synchronizing Access to a Class Field","body":"<p>You don't have to use a ReadWriteLock but you do have to make sure updates to the field are visible to other threads.</p>\n<p>You need to make the map field volatile to protect against memory consistency errors. It's not enough that it's atomic, putting volatile on it tells the JVM that this field is getting read by other threads so the write to it needs to made visible.</p>\n<p>Visibility of the field holding the reference and visibility of the contents of that reference are two separate issues.</p>\n<p>If your map doesn't change structurally then it's safe to access it without synchronization. That means no inserting or deleting entries. The warning about structural modifications is in the api doc for the map implementation, for instance: <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/HashMap.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/HashMap.html</a></p>\n<p>A safely published map that isn't updated won't need to ensure memory visibility when it is getting read from. But it would be good to use an immutable map to enforce that.</p>\n<p>The best reference for this is the book <i>Java Concurrency in Practice</i>.</p>\n<p>TLDR: use volatile on the instance member declaration. Make  sure the map written to that field is immutable.</p>\n"},{"tags":[],"owner":{"account_id":21412375,"reputation":61,"user_id":15772257,"display_name":"will"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661946226,"creation_date":1661946226,"answer_id":73555384,"question_id":73554328,"body_markdown":"Incorrection may occur when the field is updated concurrently. But updating in someScheduledActivity method is serialized by default, so it&#39;s thread-safe and synchronization is not required.\r\nDeclaring your variable `volatile` is a good idea, like @Edgar Domingues said.","title":"Synchronizing Access to a Class Field","body":"<p>Incorrection may occur when the field is updated concurrently. But updating in someScheduledActivity method is serialized by default, so it's thread-safe and synchronization is not required.\nDeclaring your variable <code>volatile</code> is a good idea, like @Edgar Domingues said.</p>\n"}],"owner":{"account_id":22183,"reputation":13224,"user_id":54467,"accept_rate":82,"display_name":"Kaveh Shahbazian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73555072,"answer_count":3,"score":2,"last_activity_date":1661976405,"creation_date":1661940847,"question_id":73554328,"body_markdown":"Assuming there is a field in a class that is changing/written infrequently but is being read from concurrently, is it necessary to protect it with a `ReadWriteLock`?\r\n\r\n```\r\n@Component\r\npublic class SomeClass {\r\n    private Map&lt;String, String&gt; someField;\r\n\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    @Scheduled(fixedRate = 15, timeUnit = TimeUnit.MINUTES)\r\n    public void someScheduledActivity() {\r\n        // replace the whole map (A)\r\n        someField = theNewValue();\r\n    }\r\n\r\n    public String read(String id) {\r\n        // reading from the map field (B)\r\n        return this.someField.getOrDefault(id, null);\r\n    }\r\n}\r\n```\r\n\r\nAs far as I understand, we must write lock at (A) and read lock at (B). But I have been told Java is different, and there is no need for this synchronisation (or any kind of synchronisation). This sounds very different and unexpected to me.\r\n\r\nAre there any official Java documents/guidelines that could help clarify this?","title":"Synchronizing Access to a Class Field","body":"<p>Assuming there is a field in a class that is changing/written infrequently but is being read from concurrently, is it necessary to protect it with a <code>ReadWriteLock</code>?</p>\n<pre><code>@Component\npublic class SomeClass {\n    private Map&lt;String, String&gt; someField;\n\n    @EventListener(ApplicationReadyEvent.class)\n    @Scheduled(fixedRate = 15, timeUnit = TimeUnit.MINUTES)\n    public void someScheduledActivity() {\n        // replace the whole map (A)\n        someField = theNewValue();\n    }\n\n    public String read(String id) {\n        // reading from the map field (B)\n        return this.someField.getOrDefault(id, null);\n    }\n}\n</code></pre>\n<p>As far as I understand, we must write lock at (A) and read lock at (B). But I have been told Java is different, and there is no need for this synchronisation (or any kind of synchronisation). This sounds very different and unexpected to me.</p>\n<p>Are there any official Java documents/guidelines that could help clarify this?</p>\n"},{"tags":["java","spring","maven","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1593694674,"post_id":62696600,"comment_id":110873868,"body_markdown":"What is your reason for using XML configuration and war packaging with a new project?","body":"What is your reason for using XML configuration and war packaging with a new project?"},{"owner":{"account_id":18982192,"reputation":23,"user_id":13853362,"display_name":"Barney Zinger"},"score":0,"creation_date":1593694746,"post_id":62696600,"comment_id":110873913,"body_markdown":"Just learning purposes. According to thymeleaf doc it must be possible way to perform that but i&#39;m currently struggling with class not found ex.","body":"Just learning purposes. According to thymeleaf doc it must be possible way to perform that but i&#39;m currently struggling with class not found ex."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1593695334,"post_id":62696600,"comment_id":110874277,"body_markdown":"Please add the stacktrace to your question and explain how you are running things. Also try `mvn dependency:purge-local-repository` and then `mvn package` (or whatever your IDE provides) to force a redownload of the needed dependencies.","body":"Please add the stacktrace to your question and explain how you are running things. Also try <code>mvn dependency:purge-local-repository</code> and then <code>mvn package</code> (or whatever your IDE provides) to force a redownload of the needed dependencies."},{"owner":{"account_id":18982192,"reputation":23,"user_id":13853362,"display_name":"Barney Zinger"},"score":0,"creation_date":1593695771,"post_id":62696600,"comment_id":110874528,"body_markdown":"added stack trace. Running all stuff in local Tomcat within IDEA.","body":"added stack trace. Running all stuff in local Tomcat within IDEA."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1593695973,"post_id":62696600,"comment_id":110874648,"body_markdown":"Not sure how you are adding things to your tomcat server but ik looks like it doesn&#39;t export all dependencies **or** the dependencies are broken (hence the suggestion to purge your local repository).","body":"Not sure how you are adding things to your tomcat server but ik looks like it doesn&#39;t export all dependencies <b>or</b> the dependencies are broken (hence the suggestion to purge your local repository)."}],"answers":[{"tags":[],"owner":{"account_id":18864219,"reputation":311,"user_id":13760307,"display_name":"Nayan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1593741202,"creation_date":1593741202,"answer_id":62707361,"question_id":62696600,"body_markdown":"   Add this SpringTemplateEngine and ThymeleafViewResolver to the XML.\r\n\r\n\r\n     &lt;bean id=&quot;templateEngine&quot;\r\n          class=&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;&gt;\r\n        &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n    &lt;bean class=&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;&gt;\r\n        &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot; /&gt;\r\n    &lt;/bean&gt;\r\n\r\n\r\n\r\nfor using the annotation configuration \r\n\r\n     @Configuration\r\n     @EnableWebMvc\r\n     public class MvcWebConfig implements WebMvcConfigurer {\r\n\r\n      @Autowired\r\n      private ApplicationContext applicationContext;\r\n\r\n      @Bean\r\n      public SpringResourceTemplateResolver templateResolver() {\r\n                SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n          templateResolver.setApplicationContext(applicationContext);\r\n          templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\r\n          templateResolver.setSuffix(&quot;.html&quot;);\r\n          return templateResolver;\r\n       }\r\n\r\n      @Bean\r\n      public SpringTemplateEngine templateEngine() {\r\n          SpringTemplateEngine templateEngine = new SpringTemplateEngine();\r\n          templateEngine.setTemplateResolver(templateResolver());\r\n          templateEngine.setEnableSpringELCompiler(true);\r\n          return templateEngine;\r\n       }\r\n     \r\n      @Override\r\n      public void configureViewResolvers(ViewResolverRegistry registry) {\r\n          ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n          resolver.setTemplateEngine(templateEngine());\r\n          registry.viewResolver(resolver);\r\n       }\r\n\r\n     }","title":"Spring MVC xml config Thymeleaf","body":"<p>Add this SpringTemplateEngine and ThymeleafViewResolver to the XML.</p>\n<pre><code> &lt;bean id=&quot;templateEngine&quot;\n      class=&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;&gt;\n    &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt;\n&lt;/bean&gt;\n\n&lt;bean class=&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;&gt;\n    &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot; /&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>for using the annotation configuration</p>\n<pre><code> @Configuration\n @EnableWebMvc\n public class MvcWebConfig implements WebMvcConfigurer {\n\n  @Autowired\n  private ApplicationContext applicationContext;\n\n  @Bean\n  public SpringResourceTemplateResolver templateResolver() {\n            SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n      templateResolver.setApplicationContext(applicationContext);\n      templateResolver.setPrefix(&quot;/WEB-INF/views/&quot;);\n      templateResolver.setSuffix(&quot;.html&quot;);\n      return templateResolver;\n   }\n\n  @Bean\n  public SpringTemplateEngine templateEngine() {\n      SpringTemplateEngine templateEngine = new SpringTemplateEngine();\n      templateEngine.setTemplateResolver(templateResolver());\n      templateEngine.setEnableSpringELCompiler(true);\n      return templateEngine;\n   }\n \n  @Override\n  public void configureViewResolvers(ViewResolverRegistry registry) {\n      ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n      resolver.setTemplateEngine(templateEngine());\n      registry.viewResolver(resolver);\n   }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23257585,"reputation":23,"user_id":17344393,"display_name":"jholkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661976215,"creation_date":1661976215,"answer_id":73561312,"question_id":62696600,"body_markdown":"I&#39;m too late, but adding this setting should work. \r\n\r\n        &lt;bean id=&quot;templateResolver&quot; class=&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;prefix&quot; value=&quot;/pages/&quot; /&gt;\r\n    \t\t&lt;property name=&quot;suffix&quot; value=&quot;.html&quot; /&gt;\r\n    \t\t&lt;property name=&quot;templateMode&quot; value=&quot;HTML&quot; /&gt;\r\n    \t\t&lt;property name=&quot;cacheable&quot; value=&quot;true&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean id=&quot;templateEngine&quot; class=&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;&gt;\r\n    \t\t&lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t&lt;/bean&gt;\r\n    \t&lt;bean class=&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;&gt;\r\n    \t\t&lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot; /&gt;\r\n    \t&lt;/bean&gt;","title":"Spring MVC xml config Thymeleaf","body":"<p>I'm too late, but adding this setting should work.</p>\n<pre><code>    &lt;bean id=&quot;templateResolver&quot; class=&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/pages/&quot; /&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.html&quot; /&gt;\n        &lt;property name=&quot;templateMode&quot; value=&quot;HTML&quot; /&gt;\n        &lt;property name=&quot;cacheable&quot; value=&quot;true&quot; /&gt;\n    &lt;/bean&gt;\n    &lt;bean id=&quot;templateEngine&quot; class=&quot;org.thymeleaf.spring5.SpringTemplateEngine&quot;&gt;\n        &lt;property name=&quot;templateResolver&quot; ref=&quot;templateResolver&quot; /&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n    &lt;bean class=&quot;org.thymeleaf.spring5.view.ThymeleafViewResolver&quot;&gt;\n        &lt;property name=&quot;templateEngine&quot; ref=&quot;templateEngine&quot; /&gt;\n    &lt;/bean&gt;\n</code></pre>\n"}],"owner":{"account_id":18982192,"reputation":23,"user_id":13853362,"display_name":"Barney Zinger"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661976215,"creation_date":1593693758,"question_id":62696600,"body_markdown":"Help me please understand how to add thymeleaf template resolver by xml config ?\r\nUsing the below code i get &quot;CannotLoadBeanClassException: Cannot find class&quot; about beans from org.thymeleaf. I&#39;v tested if it won&#39;t find only thymelaf or others too but the problem seems to be only with thymeleaf. Simply it cannot resolve org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver while it&#39;s existing in pom.xml\r\nWhat am i missing ?\r\n\r\npom.xml\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring_web_mvc&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;spring_web_mvc&lt;/name&gt;\r\n        &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n        &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;4.11&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.30&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;1.7.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\r\n                &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;finalName&gt;spring_web_mvc&lt;/finalName&gt;\r\n            &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.1.0&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.0.2&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.8.0&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.22.1&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.2.2&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.5.2&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                        &lt;version&gt;2.8.2&lt;/version&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nweb-config.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n           xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n                               http://www.springframework.org/schema/beans/spring-beans.xsd\r\n                               http://www.springframework.org/schema/mvc\r\n                               http://www.springframework.org/schema/mvc/spring-mvc.xsd\r\n                               http://www.springframework.org/schema/context\r\n                               http://www.springframework.org/schema/context/spring-context.xsd &quot;&gt;\r\n    \r\n        &lt;mvc:annotation-driven/&gt;\r\n        &lt;mvc:default-servlet-handler/&gt;\r\n        &lt;context:component-scan base-package=&quot;com.example&quot;/&gt;\r\n\r\n        &lt;bean id=&quot;springTemplateResolver&quot;\r\n              class=&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;&gt;\r\n            &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/pages/&quot;/&gt;\r\n            &lt;property name=&quot;suffix&quot; value=&quot;.html&quot;/&gt;\r\n            &lt;property name=&quot;templateMode&quot; value=&quot;HTML5&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\nStack trace:\r\n\r\n    [2020-07-02 03:57:31,344] Artifact spring_web_mvc: Artifact is being deployed, please wait...\r\n    02-Jul-2020 15:57:32.967 INFO [RMI TCP Connection(20)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    02-Jul-2020 15:57:32.993 INFO [RMI TCP Connection(20)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext: initialization started\r\n    02-Jul-2020 15:57:33.723 INFO [RMI TCP Connection(20)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext initialized in 730 ms\r\n    02-Jul-2020 15:57:33.765 INFO [RMI TCP Connection(20)-127.0.0.1] org.springframework.web.servlet.FrameworkServlet.initServletBean Initializing Servlet &#39;my-dispatcher-servlet&#39;\r\n    02-Jul-2020 15:57:34.106 WARNING [RMI TCP Connection(20)-127.0.0.1] org.springframework.context.support.AbstractApplicationContext.refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&#39;: Invocation of init method failed; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name &#39;springTemplateResolver&#39; defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\r\n    Related cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name &#39;springTemplateResolver&#39; defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\r\n    02-Jul-2020 15:57:34.107 SEVERE [RMI TCP Connection(20)-127.0.0.1] org.springframework.web.servlet.FrameworkServlet.initServletBean Context initialization failed\r\n    \torg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&#39;: Invocation of init method failed; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name &#39;springTemplateResolver&#39; defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\r\n    Related cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name &#39;springTemplateResolver&#39; defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:893)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \t\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)\r\n    \t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)\r\n    \t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:985)\r\n    \t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4885)\r\n    \t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5199)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\r\n    \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\n    \t\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1720)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\r\n    \t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:479)\r\n    \t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\r\n    \t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \t\tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \t\tat java.security.AccessController.doPrivileged(Native Method)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \t\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:361)\r\n    \t\tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \t\tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \t\tat java.security.AccessController.doPrivileged(Native Method)\r\n    \t\tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n    \t\tat java.security.AccessController.doPrivileged(Native Method)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \t\tat java.lang.Thread.run(Thread.java:748)\r\n    \tCaused by: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name &#39;springTemplateResolver&#39; defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1480)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:682)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:524)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:503)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:489)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.getBeanNamesForType(AbstractApplicationContext.java:1231)\r\n    \t\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getCandidateBeanNames(AbstractHandlerMethodMapping.java:232)\r\n    \t\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:215)\r\n    \t\tat org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:205)\r\n    \t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:189)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)\r\n    \t\t... 66 more\r\n    \tCaused by: java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1358)\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)\r\n    \t\tat java.lang.Class.forName0(Native Method)\r\n    \t\tat java.lang.Class.forName(Class.java:348)\r\n    \t\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1545)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1472)\r\n    \t\t... 79 more\r\n    Related cause:\r\n    \torg.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name &#39;springTemplateResolver&#39; defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1480)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:682)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:524)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:495)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:617)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1251)\r\n    \t\tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:378)\r\n    \t\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:312)\r\n    \t\tat org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:287)\r\n    \t\tat org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)\r\n    \t\tat org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:78)\r\n    \t\tat org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)\r\n    \t\tat org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:123)\r\n    \t\tat org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:100)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\r\n    \t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\r\n    \t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    \t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:893)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\r\n    \t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\r\n    \t\tat org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\r\n    \t\tat org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\r\n    \t\tat javax.servlet.GenericServlet.init(GenericServlet.java:158)\r\n    \t\tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)\r\n    \t\tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)\r\n    \t\tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:985)\r\n    \t\tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4885)\r\n    \t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5199)\r\n    \t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\r\n    \t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\r\n    \t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\r\n    \t\tat org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1720)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\r\n    \t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:479)\r\n    \t\tat org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\r\n    \t\tat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\r\n    \t\tat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n    \t\tat com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\r\n    \t\tat java.security.AccessController.doPrivileged(Native Method)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\r\n    \t\tat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \t\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \t\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \t\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \t\tat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:361)\r\n    \t\tat sun.rmi.transport.Transport$1.run(Transport.java:200)\r\n    \t\tat sun.rmi.transport.Transport$1.run(Transport.java:197)\r\n    \t\tat java.security.AccessController.doPrivileged(Native Method)\r\n    \t\tat sun.rmi.transport.Transport.serviceCall(Transport.java:196)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\r\n    \t\tat java.security.AccessController.doPrivileged(Native Method)\r\n    \t\tat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \t\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \t\tat java.lang.Thread.run(Thread.java:748)\r\n    \tCaused by: java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1358)\r\n    \t\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)\r\n    \t\tat java.lang.Class.forName0(Native Method)\r\n    \t\tat java.lang.Class.forName(Class.java:348)\r\n    \t\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1545)\r\n    \t\tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1472)\r\n    \t\t... 83 more\r\n    [2020-07-02 03:57:34,635] Artifact spring_web_mvc: Artifact is deployed successfully\r\n    [2020-07-02 03:57:34,635] Artifact spring_web_mvc: Deploy took 3,291 milliseconds","title":"Spring MVC xml config Thymeleaf","body":"<p>Help me please understand how to add thymeleaf template resolver by xml config ?\nUsing the below code i get &quot;CannotLoadBeanClassException: Cannot find class&quot; about beans from org.thymeleaf. I'v tested if it won't find only thymelaf or others too but the problem seems to be only with thymeleaf. Simply it cannot resolve org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver while it's existing in pom.xml\nWhat am i missing ?</p>\n<p>pom.xml\n</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_web_mvc&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;spring_web_mvc&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.11&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-spring5&lt;/artifactId&gt;\n            &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.11.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;spring_web_mvc&lt;/finalName&gt;\n        &lt;pluginManagement&gt;&lt;!-- lock down plugins versions to avoid using Maven defaults (may be moved to parent pom) --&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.1.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.8.0&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.2.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.5.2&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.8.2&lt;/version&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>web-config.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n       xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n                           http://www.springframework.org/schema/beans/spring-beans.xsd\n                           http://www.springframework.org/schema/mvc\n                           http://www.springframework.org/schema/mvc/spring-mvc.xsd\n                           http://www.springframework.org/schema/context\n                           http://www.springframework.org/schema/context/spring-context.xsd &quot;&gt;\n\n    &lt;mvc:annotation-driven/&gt;\n    &lt;mvc:default-servlet-handler/&gt;\n    &lt;context:component-scan base-package=&quot;com.example&quot;/&gt;\n\n    &lt;bean id=&quot;springTemplateResolver&quot;\n          class=&quot;org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver&quot;&gt;\n        &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/pages/&quot;/&gt;\n        &lt;property name=&quot;suffix&quot; value=&quot;.html&quot;/&gt;\n        &lt;property name=&quot;templateMode&quot; value=&quot;HTML5&quot;/&gt;\n    &lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>Stack trace:</p>\n<pre><code>[2020-07-02 03:57:31,344] Artifact spring_web_mvc: Artifact is being deployed, please wait...\n02-Jul-2020 15:57:32.967 INFO [RMI TCP Connection(20)-127.0.0.1] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n02-Jul-2020 15:57:32.993 INFO [RMI TCP Connection(20)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext: initialization started\n02-Jul-2020 15:57:33.723 INFO [RMI TCP Connection(20)-127.0.0.1] org.springframework.web.context.ContextLoader.initWebApplicationContext Root WebApplicationContext initialized in 730 ms\n02-Jul-2020 15:57:33.765 INFO [RMI TCP Connection(20)-127.0.0.1] org.springframework.web.servlet.FrameworkServlet.initServletBean Initializing Servlet 'my-dispatcher-servlet'\n02-Jul-2020 15:57:34.106 WARNING [RMI TCP Connection(20)-127.0.0.1] org.springframework.context.support.AbstractApplicationContext.refresh Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': Invocation of init method failed; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name 'springTemplateResolver' defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\nRelated cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name 'springTemplateResolver' defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\n02-Jul-2020 15:57:34.107 SEVERE [RMI TCP Connection(20)-127.0.0.1] org.springframework.web.servlet.FrameworkServlet.initServletBean Context initialization failed\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping': Invocation of init method failed; nested exception is org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name 'springTemplateResolver' defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\nRelated cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name 'springTemplateResolver' defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1796)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:893)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n        at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:985)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4885)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5199)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\n        at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1720)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:479)\n        at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n        at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n        at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n        at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\n        at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:361)\n        at sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n    Caused by: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name 'springTemplateResolver' defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1480)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:682)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:524)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:503)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:489)\n        at org.springframework.context.support.AbstractApplicationContext.getBeanNamesForType(AbstractApplicationContext.java:1231)\n        at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getCandidateBeanNames(AbstractHandlerMethodMapping.java:232)\n        at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.initHandlerMethods(AbstractHandlerMethodMapping.java:215)\n        at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.afterPropertiesSet(AbstractHandlerMethodMapping.java:205)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping.afterPropertiesSet(RequestMappingHandlerMapping.java:189)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1855)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1792)\n        ... 66 more\n    Caused by: java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1358)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\n        at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1545)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1472)\n        ... 79 more\nRelated cause:\n    org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver] for bean with name 'springTemplateResolver' defined in class path resource [web-config.xml]; nested exception is java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1480)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:682)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:649)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1608)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:524)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:495)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:617)\n        at org.springframework.context.support.AbstractApplicationContext.getBeansOfType(AbstractApplicationContext.java:1251)\n        at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:378)\n        at org.springframework.web.servlet.handler.AbstractHandlerMapping.detectMappedInterceptors(AbstractHandlerMapping.java:312)\n        at org.springframework.web.servlet.handler.AbstractHandlerMapping.initApplicationContext(AbstractHandlerMapping.java:287)\n        at org.springframework.context.support.ApplicationObjectSupport.initApplicationContext(ApplicationObjectSupport.java:124)\n        at org.springframework.web.context.support.WebApplicationObjectSupport.initApplicationContext(WebApplicationObjectSupport.java:78)\n        at org.springframework.context.support.ApplicationObjectSupport.setApplicationContext(ApplicationObjectSupport.java:78)\n        at org.springframework.context.support.ApplicationContextAwareProcessor.invokeAwareInterfaces(ApplicationContextAwareProcessor.java:123)\n        at org.springframework.context.support.ApplicationContextAwareProcessor.postProcessBeforeInitialization(ApplicationContextAwareProcessor.java:100)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:416)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1788)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:595)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:517)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:323)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:321)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:893)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:879)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n        at org.springframework.web.servlet.FrameworkServlet.configureAndRefreshWebApplicationContext(FrameworkServlet.java:702)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:668)\n        at org.springframework.web.servlet.FrameworkServlet.createWebApplicationContext(FrameworkServlet.java:716)\n        at org.springframework.web.servlet.FrameworkServlet.initWebApplicationContext(FrameworkServlet.java:591)\n        at org.springframework.web.servlet.FrameworkServlet.initServletBean(FrameworkServlet.java:530)\n        at org.springframework.web.servlet.HttpServletBean.init(HttpServletBean.java:170)\n        at javax.servlet.GenericServlet.init(GenericServlet.java:158)\n        at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1144)\n        at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1091)\n        at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:985)\n        at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:4885)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5199)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:743)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:719)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:705)\n        at org.apache.catalina.startup.HostConfig.manageApp(HostConfig.java:1720)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:479)\n        at org.apache.catalina.mbeans.MBeanFactory.createStandardContext(MBeanFactory.java:428)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:287)\n        at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819)\n        at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at com.sun.jmx.remote.security.MBeanServerAccessController.invoke(MBeanServerAccessController.java:468)\n        at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468)\n        at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76)\n        at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1408)\n        at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:361)\n        at sun.rmi.transport.Transport$1.run(Transport.java:200)\n        at sun.rmi.transport.Transport$1.run(Transport.java:197)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.Transport.serviceCall(Transport.java:196)\n        at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:568)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:826)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:683)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:682)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\n    Caused by: java.lang.ClassNotFoundException: org.thymeleaf.spring5.templateresolver.SpringResourceTemplateResolver\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1358)\n        at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1180)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\n        at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:469)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1545)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1472)\n        ... 83 more\n[2020-07-02 03:57:34,635] Artifact spring_web_mvc: Artifact is deployed successfully\n[2020-07-02 03:57:34,635] Artifact spring_web_mvc: Deploy took 3,291 milliseconds\n</code></pre>\n"},{"tags":["java","neo4j"],"comments":[{"owner":{"account_id":376992,"reputation":41434,"user_id":728812,"display_name":"Michael Hunger"},"score":0,"creation_date":1662456235,"post_id":73561244,"comment_id":130003776,"body_markdown":"What are you returning from the proc as `returnedObjects`? if there is a node in there, cypher cannot access it it anymore.","body":"What are you returning from the proc as <code>returnedObjects</code>? if there is a node in there, cypher cannot access it it anymore."},{"owner":{"account_id":13595329,"reputation":124,"user_id":9807545,"display_name":"Rasputin"},"score":0,"creation_date":1662563446,"post_id":73561244,"comment_id":130036112,"body_markdown":"Just a string telling the user that their nodes have been deleted.  I am going to try and revise it so that instead of deleting each node one at a time, I am just going to add them to a HashSet and then just before return, pop them from the set and delete them.  Maybe (maybe) I am somehow trying to delete a node that has already been deleted, but I don&#39;t think so, because I tested it on a simple fact pattern and debugged it line by line and that didn&#39;t seem to be the issue.","body":"Just a string telling the user that their nodes have been deleted.  I am going to try and revise it so that instead of deleting each node one at a time, I am just going to add them to a HashSet and then just before return, pop them from the set and delete them.  Maybe (maybe) I am somehow trying to delete a node that has already been deleted, but I don&#39;t think so, because I tested it on a simple fact pattern and debugged it line by line and that didn&#39;t seem to be the issue."}],"owner":{"account_id":13595329,"reputation":124,"user_id":9807545,"display_name":"Rasputin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661975785,"creation_date":1661975785,"question_id":73561244,"body_markdown":"I have drafted numerous Neo4j Procedures in Java.  I am running into an issue with one of them that I cannot seem to solve.  The purpose of this procedure is to &quot;undo&quot; some nodes and relationships that someone may have created in a prior procedure and now wants to undo.  Here is relevant code:\r\n\r\n```\r\n            while (Objects.nonNull(espnStack) &amp;&amp; !espnStack.isEmpty()) {\r\n            Node thisTestedNode = espnStack.pop();\r\n            Stack&lt;Node&gt; stackOfBlockNodes = findEquityProperties.getAllBlockNodes(thisTestedNode);\r\n            while (Objects.nonNull(stackOfBlockNodes) &amp;&amp; !stackOfBlockNodes.isEmpty()) {\r\n                Node thisBlockNode = stackOfBlockNodes.pop();\r\n                Iterable&lt;Relationship&gt; allRels = thisBlockNode.getRelationships();\r\n                for (Relationship thisRel : allRels) {\r\n                    thisRel.delete();\r\n                }\r\n                thisBlockNode.delete();\r\n            }\r\n        }\r\n```\r\nThere are a number of loops like this, where I have a node, I delete all the rels around the node, and then delete the node.  When I run this in debugger mode with unit tests, and follow the code line by line, it does exactly what it is supposed to do.  The node is found, the rels are identified, the rels are deleted one by one, then the node is deleted.  The issue is that when it ***returns*** from the procedure call, I get an error:\r\n\r\n```org.neo4j.driver.exceptions.ClientException: Node with id 2 has been deleted in this transaction```\r\n\r\nSo, to be clear, the relevant portion of the unit test looks like this:\r\n\r\n```\r\n            Record record = session.run (\r\n                    &quot;MATCH (p) WHERE p.name = &#39;USP&#39;\\n&quot; +\r\n                            &quot;MATCH (s) WHERE s.name = &#39;GSUB&#39;\\n&quot; +\r\n                             &quot;CALL myProcedure.delete_equity(p,s) YIELD returnedObjects\\n&quot; +\r\n                            &quot;RETURN returnedObjects\\n&quot;).single();\r\n```\r\n\r\nWhen I try and just run it in Neo4j Desktop with log.info() statements to see what is going on, and then I check the logs, it is as if no procedure call occurred at all.  It doesn&#39;t throw an error to the console.  It just acts as if nothing happened at all.  \r\n\r\nI believe what is happening is that the procedure is opening a transaction, but &#39;something&#39; prevents the transaction from being committed and then any changes that were made are being rolled back as if nothing happened.  But I cannot figure out what the issue is.  I tried doing a Transaction.commit() after I delete the nodes in the procedure, but that throws an error saying that you cannot commit within a procedure.  \r\n\r\nAny thoughts?","title":"Deleting Nodes and Rels in a Neo4j Procedure","body":"<p>I have drafted numerous Neo4j Procedures in Java.  I am running into an issue with one of them that I cannot seem to solve.  The purpose of this procedure is to &quot;undo&quot; some nodes and relationships that someone may have created in a prior procedure and now wants to undo.  Here is relevant code:</p>\n<pre><code>            while (Objects.nonNull(espnStack) &amp;&amp; !espnStack.isEmpty()) {\n            Node thisTestedNode = espnStack.pop();\n            Stack&lt;Node&gt; stackOfBlockNodes = findEquityProperties.getAllBlockNodes(thisTestedNode);\n            while (Objects.nonNull(stackOfBlockNodes) &amp;&amp; !stackOfBlockNodes.isEmpty()) {\n                Node thisBlockNode = stackOfBlockNodes.pop();\n                Iterable&lt;Relationship&gt; allRels = thisBlockNode.getRelationships();\n                for (Relationship thisRel : allRels) {\n                    thisRel.delete();\n                }\n                thisBlockNode.delete();\n            }\n        }\n</code></pre>\n<p>There are a number of loops like this, where I have a node, I delete all the rels around the node, and then delete the node.  When I run this in debugger mode with unit tests, and follow the code line by line, it does exactly what it is supposed to do.  The node is found, the rels are identified, the rels are deleted one by one, then the node is deleted.  The issue is that when it <em><strong>returns</strong></em> from the procedure call, I get an error:</p>\n<p><code>org.neo4j.driver.exceptions.ClientException: Node with id 2 has been deleted in this transaction</code></p>\n<p>So, to be clear, the relevant portion of the unit test looks like this:</p>\n<pre><code>            Record record = session.run (\n                    &quot;MATCH (p) WHERE p.name = 'USP'\\n&quot; +\n                            &quot;MATCH (s) WHERE s.name = 'GSUB'\\n&quot; +\n                             &quot;CALL myProcedure.delete_equity(p,s) YIELD returnedObjects\\n&quot; +\n                            &quot;RETURN returnedObjects\\n&quot;).single();\n</code></pre>\n<p>When I try and just run it in Neo4j Desktop with log.info() statements to see what is going on, and then I check the logs, it is as if no procedure call occurred at all.  It doesn't throw an error to the console.  It just acts as if nothing happened at all.</p>\n<p>I believe what is happening is that the procedure is opening a transaction, but 'something' prevents the transaction from being committed and then any changes that were made are being rolled back as if nothing happened.  But I cannot figure out what the issue is.  I tried doing a Transaction.commit() after I delete the nodes in the procedure, but that throws an error saying that you cannot commit within a procedure.</p>\n<p>Any thoughts?</p>\n"},{"tags":["java","matrix","transpose"],"comments":[{"owner":{"account_id":984835,"reputation":1694,"user_id":1003627,"accept_rate":63,"display_name":"Templar"},"score":0,"creation_date":1661958093,"post_id":73557446,"comment_id":129896120,"body_markdown":"Please show the constructor.","body":"Please show the constructor."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":1,"creation_date":1661963995,"post_id":73557446,"comment_id":129898402,"body_markdown":"To fix this you need to make sure the length of the matrix to transpose can accommodate the row to column switch. Your indexes will go out of bounds if j&lt;i and vice versa.","body":"To fix this you need to make sure the length of the matrix to transpose can accommodate the row to column switch. Your indexes will go out of bounds if j&lt;i and vice versa."}],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661975592,"creation_date":1661973828,"answer_id":73560960,"question_id":73557446,"body_markdown":"The problem is with this statement:  `Matrix newTranspose = new Matrix(data)`\r\n\r\nOne effect of that statement will be that `newTranspose` will have the same contents, but more importantly, the same number of rows and same number of columns as the original matrix.  The nested loops are sure to throw an `ArrayIndexOutOfBoundsException` whenever the source array is not square.\r\n\r\nOne way to fix it is to declare a new 2D array: \r\n\r\n      public Matrix transpose () {\r\n         int [][] hold = new int [numColumns] [numRows];\r\n         for (int i = 0; i &lt; numRows; i++)\r\n            for (int j = 0; j &lt; numColumns; j++)\r\n               hold [j][i] = data[i][j];\r\n      return new Matrix (hold); \r\n    }\r\n ","title":"Transpose matrices in Java","body":"<p>The problem is with this statement:  <code>Matrix newTranspose = new Matrix(data)</code></p>\n<p>One effect of that statement will be that <code>newTranspose</code> will have the same contents, but more importantly, the same number of rows and same number of columns as the original matrix.  The nested loops are sure to throw an <code>ArrayIndexOutOfBoundsException</code> whenever the source array is not square.</p>\n<p>One way to fix it is to declare a new 2D array:</p>\n<pre><code>  public Matrix transpose () {\n     int [][] hold = new int [numColumns] [numRows];\n     for (int i = 0; i &lt; numRows; i++)\n        for (int j = 0; j &lt; numColumns; j++)\n           hold [j][i] = data[i][j];\n  return new Matrix (hold); \n}\n</code></pre>\n"}],"owner":{"account_id":26190324,"reputation":9,"user_id":19872276,"display_name":"Preston Little"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661975592,"creation_date":1661955964,"question_id":73557446,"body_markdown":"I think I&#39;m missing something small but I can&#39;t tell what it might be. I&#39;m trying to create a method that will transpose a matrix. For example, if I input a 2x3 matrix, it&#39;ll output a 3x2 matrix.\r\n\r\nIf I input {1, 1, 1}\r\n           {1, 1, 1}\r\n\r\nI get an IndexOutOfBoundsException\r\n\r\nIt&#39;s telling me that my error occurs on the line that &quot;says newTranspose.data[j][i] = data[i][j];&quot; but I don&#39;t know what else to do. I&#39;ve tried swapping i&#39;s and j&#39;s and numRows/numColumns for data.length but I&#39;m stuck at this point.\r\n\r\nAbove this method, I have instance variables &#39;private in numRows&#39; and &#39;private int numColumns&#39; to set the dimensions of the matrix. I have another instance variable &#39;private int data[][]&#39; that&#39;s the internal storage of the matrix elements. Then I have a Constructor for a new Matrix that automatically determines dimensions.\r\n\r\n```\r\n   public Matrix(int d[][]) {\r\n\t\t// d.length is the number of 1D arrays in the 2D array\r\n\t\tnumRows = d.length;\r\n\t\tif (numRows == 0)\r\n\t\t\tnumColumns = 0;\r\n\t\telse\r\n\t\t\tnumColumns = d[0].length; // d[0] is the first 1D array\r\n\r\n\t\t// create a new matrix to hold the data\r\n\t\tdata = new int[numRows][numColumns];\r\n\r\n\t\t// copy the data over\r\n\t\tfor (int i = 0; i &lt; numRows; i++)\r\n\t\t\tfor (int j = 0; j &lt; numColumns; j++)\r\n\t\t\t\tdata[i][j] = d[i][j];\r\n\t}\r\n\r\n   public Matrix transpose() {\r\n\t\tMatrix newTranspose = new Matrix(data);\r\n\r\n\t\tfor (int i = 0; i &lt; numRows; i++)\r\n\t\t\tfor (int j = 0; j &lt; numColumns; j++)\r\n\t\t\t\tnewTranspose.data[j][i] = data[i][j];\r\n\r\n\t\treturn newTranspose;\r\n\t}\r\n```","title":"Transpose matrices in Java","body":"<p>I think I'm missing something small but I can't tell what it might be. I'm trying to create a method that will transpose a matrix. For example, if I input a 2x3 matrix, it'll output a 3x2 matrix.</p>\n<p>If I input {1, 1, 1}\n{1, 1, 1}</p>\n<p>I get an IndexOutOfBoundsException</p>\n<p>It's telling me that my error occurs on the line that &quot;says newTranspose.data[j][i] = data[i][j];&quot; but I don't know what else to do. I've tried swapping i's and j's and numRows/numColumns for data.length but I'm stuck at this point.</p>\n<p>Above this method, I have instance variables 'private in numRows' and 'private int numColumns' to set the dimensions of the matrix. I have another instance variable 'private int data[][]' that's the internal storage of the matrix elements. Then I have a Constructor for a new Matrix that automatically determines dimensions.</p>\n<pre><code>   public Matrix(int d[][]) {\n        // d.length is the number of 1D arrays in the 2D array\n        numRows = d.length;\n        if (numRows == 0)\n            numColumns = 0;\n        else\n            numColumns = d[0].length; // d[0] is the first 1D array\n\n        // create a new matrix to hold the data\n        data = new int[numRows][numColumns];\n\n        // copy the data over\n        for (int i = 0; i &lt; numRows; i++)\n            for (int j = 0; j &lt; numColumns; j++)\n                data[i][j] = d[i][j];\n    }\n\n   public Matrix transpose() {\n        Matrix newTranspose = new Matrix(data);\n\n        for (int i = 0; i &lt; numRows; i++)\n            for (int j = 0; j &lt; numColumns; j++)\n                newTranspose.data[j][i] = data[i][j];\n\n        return newTranspose;\n    }\n</code></pre>\n"},{"tags":["java","jsf","jakarta-ee","myfaces"],"comments":[{"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"score":0,"creation_date":1669219169,"post_id":73561194,"comment_id":131596071,"body_markdown":"I don&#39;t have the answer, but how I would go about debugging this is setting a breakpoint in myfaces. See if you can find where the timeout is set and what it setting it.","body":"I don&#39;t have the answer, but how I would go about debugging this is setting a breakpoint in myfaces. See if you can find where the timeout is set and what it setting it."},{"owner":{"account_id":26211454,"reputation":11,"user_id":19890274,"display_name":"fernando cesar de lima"},"score":1,"creation_date":1669307932,"post_id":73561194,"comment_id":131619712,"body_markdown":"After a long time researching the solution, i gave up using Tomcat and decided to use Payara. Running exactly the same example in Payara worked perfectly, so, currently I am using the Payara Server, tha was the solution. Thanks for you answer...","body":"After a long time researching the solution, i gave up using Tomcat and decided to use Payara. Running exactly the same example in Payara worked perfectly, so, currently I am using the Payara Server, tha was the solution. Thanks for you answer..."}],"owner":{"account_id":26211454,"reputation":11,"user_id":19890274,"display_name":"fernando cesar de lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661975487,"creation_date":1661975441,"question_id":73561194,"body_markdown":"this is Fernando,\r\n\r\nI am using JSF 3.0 and and Conversation Scope in some Managed Beans. The problem I am facing is to configure the timeout to expire abandoned conversations. The default 30 minutes is too long to my context and I need to set this around 10 minutes. I have tried to set the timeout using the conversation.setTimeout(10000) method, but, even having the TomEE showing that the correct timeout has been settled, through the conversation.getTimeout(), it keeps expiring the conversation, and consequently destroying the managed beans, only after 30 minutes. \r\nThe second approach that I have tried is to create openwebbeans.properties file inside the META-INF/openwebbeans directory and putting theese keys:\r\n\r\n```\r\nconfiguration.ordinal=101\r\norg.apache.webbeans.conversation.Conversation.timeoutInterval=10000\r\n```\r\n\r\nAgain the results are the same. TomEE shows the correct timeout through the conversation.getTimeout() method, but keeps expiring the conversation only after 30 minutes.\r\n\r\nFollowing is the code that I have used to test the situation:\r\n\r\n```\r\n\r\npackage estudosjsf;\r\n\r\nimport java.io.Serializable;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\nimport jakarta.annotation.PostConstruct;\r\nimport jakarta.annotation.PreDestroy;\r\nimport jakarta.enterprise.context.Conversation;\r\nimport jakarta.enterprise.context.ConversationScoped;\r\nimport jakarta.inject.Inject;\r\nimport jakarta.inject.Named;\r\n\r\n@Named\r\n@ConversationScoped\r\npublic class Controller implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate String text = &quot;This is a simple text&quot;;\r\n\r\n\t@Inject\r\n\tprivate Conversation conversation;\r\n\r\n\t@PostConstruct\r\n\tpublic void create() {\r\n\t\tSystem.out.println(&quot;Created at &quot; + new SimpleDateFormat(&quot;HH:mm:ss&quot;).format(new Date()));\r\n\t}\r\n\r\n\t@PreDestroy\r\n\tpublic void destroy() {\r\n\t\tSystem.out.println(&quot;Destroyed at &quot; + new SimpleDateFormat(&quot;HH:mm:ss&quot;).format(new Date()));\r\n\t}\r\n\r\n\tpublic void begin() {\r\n\t\tconversation.begin();\r\n\t\tconversation.setTimeout(10000);\r\n\t\tSystem.out.println(conversation.getTimeout());\r\n\t}\r\n\r\n\tpublic void end() {\r\n\t\tconversation.end();\r\n\t}\r\n\r\n\tpublic String getText() {\r\n\t\treturn text;\r\n\t}\r\n\r\n\tpublic void setText(String text) {\r\n\t\tthis.text = text;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nAnd:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;&gt;\r\n\t&lt;h:form&gt;\r\n\t    Message:\r\n\t    &lt;br&gt;&lt;/br&gt;\r\n\t    &lt;br&gt;&lt;/br&gt; \r\n\t    &lt;h:inputText value=&quot;#{controller.text}&quot;/&gt;\r\n\t    &lt;br&gt;&lt;/br&gt;\r\n\t    &lt;br&gt;&lt;/br&gt;\r\n\t    &lt;h:commandButton value=&quot;Begin&quot; actionListener=&quot;#{controller.begin()}&quot; /&gt; \r\n\t    &lt;br&gt;&lt;/br&gt;\r\n\t    &lt;br&gt;&lt;/br&gt;\r\n\t    &lt;h:commandButton value=&quot;End&quot; actionListener=&quot;#{controller.end()}&quot; /&gt;\r\n\t&lt;/h:form&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\nI really appreciate any help!\r\n\r\nThanks!\r\n","title":"How to decrease the timeout in Jakarta EE 9.1 CDI Conversation Scope (MyFaces 3.0)","body":"<p>this is Fernando,</p>\n<p>I am using JSF 3.0 and and Conversation Scope in some Managed Beans. The problem I am facing is to configure the timeout to expire abandoned conversations. The default 30 minutes is too long to my context and I need to set this around 10 minutes. I have tried to set the timeout using the conversation.setTimeout(10000) method, but, even having the TomEE showing that the correct timeout has been settled, through the conversation.getTimeout(), it keeps expiring the conversation, and consequently destroying the managed beans, only after 30 minutes.\nThe second approach that I have tried is to create openwebbeans.properties file inside the META-INF/openwebbeans directory and putting theese keys:</p>\n<pre><code>configuration.ordinal=101\norg.apache.webbeans.conversation.Conversation.timeoutInterval=10000\n</code></pre>\n<p>Again the results are the same. TomEE shows the correct timeout through the conversation.getTimeout() method, but keeps expiring the conversation only after 30 minutes.</p>\n<p>Following is the code that I have used to test the situation:</p>\n<pre><code>\npackage estudosjsf;\n\nimport java.io.Serializable;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport jakarta.annotation.PostConstruct;\nimport jakarta.annotation.PreDestroy;\nimport jakarta.enterprise.context.Conversation;\nimport jakarta.enterprise.context.ConversationScoped;\nimport jakarta.inject.Inject;\nimport jakarta.inject.Named;\n\n@Named\n@ConversationScoped\npublic class Controller implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n    \n    private String text = &quot;This is a simple text&quot;;\n\n    @Inject\n    private Conversation conversation;\n\n    @PostConstruct\n    public void create() {\n        System.out.println(&quot;Created at &quot; + new SimpleDateFormat(&quot;HH:mm:ss&quot;).format(new Date()));\n    }\n\n    @PreDestroy\n    public void destroy() {\n        System.out.println(&quot;Destroyed at &quot; + new SimpleDateFormat(&quot;HH:mm:ss&quot;).format(new Date()));\n    }\n\n    public void begin() {\n        conversation.begin();\n        conversation.setTimeout(10000);\n        System.out.println(conversation.getTimeout());\n    }\n\n    public void end() {\n        conversation.end();\n    }\n\n    public String getText() {\n        return text;\n    }\n\n    public void setText(String text) {\n        this.text = text;\n    }\n\n}\n\n</code></pre>\n<p>And:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;&gt;\n    &lt;h:form&gt;\n        Message:\n        &lt;br&gt;&lt;/br&gt;\n        &lt;br&gt;&lt;/br&gt; \n        &lt;h:inputText value=&quot;#{controller.text}&quot;/&gt;\n        &lt;br&gt;&lt;/br&gt;\n        &lt;br&gt;&lt;/br&gt;\n        &lt;h:commandButton value=&quot;Begin&quot; actionListener=&quot;#{controller.begin()}&quot; /&gt; \n        &lt;br&gt;&lt;/br&gt;\n        &lt;br&gt;&lt;/br&gt;\n        &lt;h:commandButton value=&quot;End&quot; actionListener=&quot;#{controller.end()}&quot; /&gt;\n    &lt;/h:form&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>I really appreciate any help!</p>\n<p>Thanks!</p>\n"},{"tags":["java","grpc","load-balancing","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":5967476,"reputation":24635,"user_id":4690866,"display_name":"Eric Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661975372,"creation_date":1661975372,"answer_id":73561182,"question_id":73510984,"body_markdown":"In grpc-java, you can implement a custom [`io.grpc.LoadBalancer`](https://grpc.github.io/grpc-java/javadoc/io/grpc/LoadBalancer.html). It controls which subchannels (connection to server) are created and chooses which subchannel to use for each request. They are advanced, and don&#39;t have examples. There is documentation, but you probably will want to look at the [RoundRobinLoadBalancer implementation](https://github.com/grpc/grpc-java/blob/master/core/src/main/java/io/grpc/util/RoundRobinLoadBalancer.java).\r\n\r\nTo direct individual requests, the client application can attach the tenant ID as Metadata (with an interceptor) or using custom CallOptions, which are [available on the stub](https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/AbstractStub.html#withOption-io.grpc.CallOptions.Key-T-). Then within your `LoadBalancer.Picker` you&#39;d read that ID from the [`LoadBalancer.pickSubchannelArgs`](https://grpc.github.io/grpc-java/javadoc/io/grpc/LoadBalancer.PickSubchannelArgs.html).\r\n\r\nNormally addresses are discovered using [NameResolver](https://grpc.github.io/grpc-java/javadoc/io/grpc/NameResolver.html), but in your case it may be more appropriate for the LoadBalancer to directly call any remote service to look up the addresses. This is actually what is done in grpclb.","title":"Java gRPC Custom Client-side load balancing","body":"<p>In grpc-java, you can implement a custom <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/LoadBalancer.html\" rel=\"nofollow noreferrer\"><code>io.grpc.LoadBalancer</code></a>. It controls which subchannels (connection to server) are created and chooses which subchannel to use for each request. They are advanced, and don't have examples. There is documentation, but you probably will want to look at the <a href=\"https://github.com/grpc/grpc-java/blob/master/core/src/main/java/io/grpc/util/RoundRobinLoadBalancer.java\" rel=\"nofollow noreferrer\">RoundRobinLoadBalancer implementation</a>.</p>\n<p>To direct individual requests, the client application can attach the tenant ID as Metadata (with an interceptor) or using custom CallOptions, which are <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/stub/AbstractStub.html#withOption-io.grpc.CallOptions.Key-T-\" rel=\"nofollow noreferrer\">available on the stub</a>. Then within your <code>LoadBalancer.Picker</code> you'd read that ID from the <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/LoadBalancer.PickSubchannelArgs.html\" rel=\"nofollow noreferrer\"><code>LoadBalancer.pickSubchannelArgs</code></a>.</p>\n<p>Normally addresses are discovered using <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/NameResolver.html\" rel=\"nofollow noreferrer\">NameResolver</a>, but in your case it may be more appropriate for the LoadBalancer to directly call any remote service to look up the addresses. This is actually what is done in grpclb.</p>\n"}],"owner":{"account_id":16282789,"reputation":1,"user_id":11758228,"display_name":"Oleg Iskovski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661975372,"creation_date":1661603133,"question_id":73510984,"body_markdown":"I write a Java app using gRPC. As I looked in documentation: https://github.com/grpc/grpc/blob/master/doc/load-balancing.md \r\n\r\nand in blog: https://grpc.io/blog/grpc-load-balancing\r\n\r\n there are some available gRPC \r\nApplication level client side load balancers: \r\n- grpclb\r\n- pick_first\r\n- round_robin\r\n\r\n None of them fit my needs. I need to implement a custom one. \r\nProblem is that I cannot find how to do it - not in documentation nor in google search/stackoverflow.\r\n\r\nIn App each server serves a couple of tenants. When new tenant created and max limit of tenant per server is  reached - need to start new server.\r\n\r\nI see here 2 problems I need to solve:\r\n \r\n1) When new server starts dynamically - how can I add new http/2 connection from client to this server(as I understand - it means to add new subchannel) ?\r\n2)  I need to point each request to proper server by tenant name it serves. I can implement in code server registry to be aware what servers up and what tenants each of them serves. \r\nBut main questions are\r\n- how can I implement custom request balancing? \r\n- What class I need to implement/override to supply dynamically server IP to point to for each request?","title":"Java gRPC Custom Client-side load balancing","body":"<p>I write a Java app using gRPC. As I looked in documentation: <a href=\"https://github.com/grpc/grpc/blob/master/doc/load-balancing.md\" rel=\"nofollow noreferrer\">https://github.com/grpc/grpc/blob/master/doc/load-balancing.md</a></p>\n<p>and in blog: <a href=\"https://grpc.io/blog/grpc-load-balancing\" rel=\"nofollow noreferrer\">https://grpc.io/blog/grpc-load-balancing</a></p>\n<p>there are some available gRPC\nApplication level client side load balancers:</p>\n<ul>\n<li>grpclb</li>\n<li>pick_first</li>\n<li>round_robin</li>\n</ul>\n<p>None of them fit my needs. I need to implement a custom one.\nProblem is that I cannot find how to do it - not in documentation nor in google search/stackoverflow.</p>\n<p>In App each server serves a couple of tenants. When new tenant created and max limit of tenant per server is  reached - need to start new server.</p>\n<p>I see here 2 problems I need to solve:</p>\n<ol>\n<li>When new server starts dynamically - how can I add new http/2 connection from client to this server(as I understand - it means to add new subchannel) ?</li>\n<li>I need to point each request to proper server by tenant name it serves. I can implement in code server registry to be aware what servers up and what tenants each of them serves.\nBut main questions are</li>\n</ol>\n<ul>\n<li>how can I implement custom request balancing?</li>\n<li>What class I need to implement/override to supply dynamically server IP to point to for each request?</li>\n</ul>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":0,"creation_date":1498023527,"post_id":44667573,"comment_id":76320089,"body_markdown":"Please tell what you are trying to achieve and what have you tried ?","body":"Please tell what you are trying to achieve and what have you tried ?"},{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1498023577,"post_id":44667573,"comment_id":76320108,"body_markdown":"the [java doc](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html) explains the usage pretty well","body":"the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html\" rel=\"nofollow noreferrer\">java doc</a> explains the usage pretty well"},{"owner":{"display_name":"user5459039"},"score":0,"creation_date":1498023721,"post_id":44667573,"comment_id":76320161,"body_markdown":"I have seen some examples of junit classes in which uses reflectiontestUtils.setField() in Before annotation but I am not able to understand why it is used and what is the need of it. I just want to know basics. @Mritunjay","body":"I have seen some examples of junit classes in which uses reflectiontestUtils.setField() in Before annotation but I am not able to understand why it is used and what is the need of it. I just want to know basics. @Mritunjay"},{"owner":{"account_id":4176805,"reputation":25534,"user_id":3423097,"accept_rate":50,"display_name":"Mritunjay"},"score":0,"creation_date":1498024100,"post_id":44667573,"comment_id":76320308,"body_markdown":"Without looking at that example I can only guess, which is not something I would try.","body":"Without looking at that example I can only guess, which is not something I would try."},{"owner":{"account_id":8130529,"reputation":1766,"user_id":6344247,"accept_rate":75,"display_name":"fxrbfg"},"score":0,"creation_date":1498025384,"post_id":44667573,"comment_id":76320917,"body_markdown":"You don&#39;t need to change system under test in unnatural way. Using reflection in unit tests is contrary of unit testing idea.","body":"You don&#39;t need to change system under test in unnatural way. Using reflection in unit tests is contrary of unit testing idea."}],"answers":[{"tags":[],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1657609874,"creation_date":1498024176,"answer_id":44667765,"question_id":44667573,"body_markdown":"As mentioned in the comment, the java docs explain the usage well. But I want to give you also a simple example. \r\n\r\nLet&#39;s say you have an Entity class with private or protected field access and **no provided setter method**. \r\n\r\n    @Entity\r\n    public class MyEntity {\r\n    \r\n       @Id\r\n       private Long id;\r\n    \r\n       public Long getId(Long id){\r\n           this.id = id;\r\n       }\r\n    }\r\n\r\nIn your test class, you cannot set an `id` of your `entity` because of the missing setter method.\r\n\r\nUsing `ReflectionTestUtils.setField` you are able to do that for testing purpose:\r\n\r\n    ReflectionTestUtils.setField(myEntity, &quot;id&quot;, 1);\r\nThe Parameters are described:\r\n\r\n    public static void setField(Object targetObject,\r\n                                String name,\r\n                                Object value)\r\n    Set the field with the given name on the provided targetObject to the supplied value.\r\n    This method delegates to setField(Object, String, Object, Class), supplying null for the type argument.\r\n    \r\n    Parameters:\r\n    targetObject - the target object on which to set the field; never null\r\n    name - the name of the field to set; never null\r\n    value - the value to set\r\n\r\n\r\nBut give it a try and read the [docs][1].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html","title":"Use of ReflectionTestUtils.setField() in Junit testing","body":"<p>As mentioned in the comment, the java docs explain the usage well. But I want to give you also a simple example.</p>\n<p>Let's say you have an Entity class with private or protected field access and <strong>no provided setter method</strong>.</p>\n<pre><code>@Entity\npublic class MyEntity {\n\n   @Id\n   private Long id;\n\n   public Long getId(Long id){\n       this.id = id;\n   }\n}\n</code></pre>\n<p>In your test class, you cannot set an <code>id</code> of your <code>entity</code> because of the missing setter method.</p>\n<p>Using <code>ReflectionTestUtils.setField</code> you are able to do that for testing purpose:</p>\n<pre><code>ReflectionTestUtils.setField(myEntity, &quot;id&quot;, 1);\n</code></pre>\n<p>The Parameters are described:</p>\n<pre><code>public static void setField(Object targetObject,\n                            String name,\n                            Object value)\nSet the field with the given name on the provided targetObject to the supplied value.\nThis method delegates to setField(Object, String, Object, Class), supplying null for the type argument.\n\nParameters:\ntargetObject - the target object on which to set the field; never null\nname - the name of the field to set; never null\nvalue - the value to set\n</code></pre>\n<p>But give it a try and read the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html\" rel=\"nofollow noreferrer\">docs</a>.</p>\n"},{"tags":[],"owner":{"account_id":13907813,"reputation":21,"user_id":10041764,"display_name":"brice jiang"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545099748,"creation_date":1545099327,"answer_id":53825508,"question_id":44667573,"body_markdown":"it&#39;s very useful when we want to write unit test, such as:\r\n\r\n\r\n    class A{\r\n       int getValue();\r\n    }\r\n\r\n    class B{\r\n       A a;\r\n       int caculate(){\r\n           ...\r\n           int v = a.getValue();\r\n           ....\r\n       }\r\n    }\r\n\r\n    class ServiceTest{\r\n       @Test\r\n       public void caculateTest(){\r\n           B serviceB = new B();\r\n           A serviceA = Mockito.mock(A.class);\r\n           Mockito.when(serviceA.getValue()).thenReturn(5);\r\n           ReflectionTestUtils.setField(serviceB, &quot;a&quot;, serviceA);\r\n       } \r\n    }","title":"Use of ReflectionTestUtils.setField() in Junit testing","body":"<p>it's very useful when we want to write unit test, such as:</p>\n\n<pre><code>class A{\n   int getValue();\n}\n\nclass B{\n   A a;\n   int caculate(){\n       ...\n       int v = a.getValue();\n       ....\n   }\n}\n\nclass ServiceTest{\n   @Test\n   public void caculateTest(){\n       B serviceB = new B();\n       A serviceA = Mockito.mock(A.class);\n       Mockito.when(serviceA.getValue()).thenReturn(5);\n       ReflectionTestUtils.setField(serviceB, \"a\", serviceA);\n   } \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1607778,"reputation":4341,"user_id":1487469,"accept_rate":76,"display_name":"Pramod S. Nikam"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1581940055,"creation_date":1581936496,"answer_id":60260819,"question_id":44667573,"body_markdown":"One more Use Case:\r\n\r\nWe externalised many properties Such as: URL&#39;s , endpoint and many other properties in application properties like below:\r\n\r\n    kf.get.profile.endpoint=/profile\r\n    kf.get.clients.endpoint=clients\r\n\r\nand then use it in application like below:\r\n\r\n      @Value(&quot;${kf.get.clients.endpoint}&quot;)\r\n      private String getClientEndpoint\r\n\r\n\r\nand whenever when we write unit test , we get **NullPointerException** because Spring cannot inject @value similarly as @Autowired does. ( at least at the moment , I dont know alternative. ) so to avoid that we can use **ReflectionTestUtils** to inject externalised properties. like below:\r\n\r\n    ReflectionTestUtils.setField(targetObject,&quot;getClientEndpoint&quot;,&quot;lorem&quot;);\r\n\r\n\r\n\r\n\r\n\r\n","title":"Use of ReflectionTestUtils.setField() in Junit testing","body":"<p>One more Use Case:</p>\n\n<p>We externalised many properties Such as: URL's , endpoint and many other properties in application properties like below:</p>\n\n<pre><code>kf.get.profile.endpoint=/profile\nkf.get.clients.endpoint=clients\n</code></pre>\n\n<p>and then use it in application like below:</p>\n\n<pre><code>  @Value(\"${kf.get.clients.endpoint}\")\n  private String getClientEndpoint\n</code></pre>\n\n<p>and whenever when we write unit test , we get <strong>NullPointerException</strong> because Spring cannot inject @value similarly as @Autowired does. ( at least at the moment , I dont know alternative. ) so to avoid that we can use <strong>ReflectionTestUtils</strong> to inject externalised properties. like below:</p>\n\n<pre><code>ReflectionTestUtils.setField(targetObject,\"getClientEndpoint\",\"lorem\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10636530,"reputation":11,"user_id":7833071,"display_name":"Naveen Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593805926,"creation_date":1593805926,"answer_id":62721938,"question_id":44667573,"body_markdown":"Thank you for above discussions, the below part can also contribute in writing the unit tests by reading the properties from application-test.properties.\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.TestPropertySource;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    import org.springframework.test.util.ReflectionTestUtils;\r\n\r\n    import java.util.List;\r\n\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration\r\n    @TestPropertySource(&quot;classpath:application-test.properties&quot;)\r\n    public class FileRetrivalServiceTest {\r\n\r\n    @Value (&quot;${fs.local.quarantine.directory}&quot;)\r\n    private String localQuarantineDirectory;\r\n\r\n    @Value (&quot;${fs.local.quarantine.wrong.directory}&quot;)\r\n    private String localQuarantineWrongDirectory;\r\n\r\n    @Value (&quot;${fs.local.quarantine.tmp.directory}&quot;)\r\n    private String localQuarantineTmpDirectory;\r\n\r\n    @Value (&quot;${fs.local.keys.file}&quot;)\r\n    private String localKeyFile;\r\n    private FileRetrivalService fileRetrivalService;\r\n\r\n    @Before\r\n    public void setUp() throws Exception {\r\n        fileRetrivalService = new FileRetrivalServiceImpl();\r\n        ReflectionTestUtils.setField(fileRetrivalService, &quot;keyFile&quot;, localKeyFile);\r\n    }\r\n\r\n    @Test\r\n    public void shouldRetrieveListOfFilesInQuarantineDirectory() {\r\n        // given\r\n        ReflectionTestUtils.setField(fileRetrivalService, &quot;quarantineDirectory&quot;, localQuarantineDirectory);\r\n\r\n        // when\r\n        List&lt;IcrFileModel&gt; quarantineFiles = fileRetrivalService.retrieveListOfFilesInQuarantineDirectory();\r\n\r\n        // then\r\n        assertNotNull(quarantineFiles);\r\n        assertEquals(quarantineFiles.size(), 4);\r\n        }\r\n    }","title":"Use of ReflectionTestUtils.setField() in Junit testing","body":"<p>Thank you for above discussions, the below part can also contribute in writing the unit tests by reading the properties from application-test.properties.</p>\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.TestPropertySource;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.util.ReflectionTestUtils;\n\nimport java.util.List;\n\nimport static org.junit.jupiter.api.Assertions.*;\n\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration\n@TestPropertySource(&quot;classpath:application-test.properties&quot;)\npublic class FileRetrivalServiceTest {\n\n@Value (&quot;${fs.local.quarantine.directory}&quot;)\nprivate String localQuarantineDirectory;\n\n@Value (&quot;${fs.local.quarantine.wrong.directory}&quot;)\nprivate String localQuarantineWrongDirectory;\n\n@Value (&quot;${fs.local.quarantine.tmp.directory}&quot;)\nprivate String localQuarantineTmpDirectory;\n\n@Value (&quot;${fs.local.keys.file}&quot;)\nprivate String localKeyFile;\nprivate FileRetrivalService fileRetrivalService;\n\n@Before\npublic void setUp() throws Exception {\n    fileRetrivalService = new FileRetrivalServiceImpl();\n    ReflectionTestUtils.setField(fileRetrivalService, &quot;keyFile&quot;, localKeyFile);\n}\n\n@Test\npublic void shouldRetrieveListOfFilesInQuarantineDirectory() {\n    // given\n    ReflectionTestUtils.setField(fileRetrivalService, &quot;quarantineDirectory&quot;, localQuarantineDirectory);\n\n    // when\n    List&lt;IcrFileModel&gt; quarantineFiles = fileRetrivalService.retrieveListOfFilesInQuarantineDirectory();\n\n    // then\n    assertNotNull(quarantineFiles);\n    assertEquals(quarantineFiles.size(), 4);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11877606,"reputation":13,"user_id":8692229,"display_name":"Margarita"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661975354,"creation_date":1661463002,"answer_id":73493892,"question_id":44667573,"body_markdown":"`ReflectionTestUtils.setField` is used is various contexts. But the most common scenario is when you have a class and inside that, there are attributes with private access, and you want to test this class.\r\n\r\nSo a possible solution can be using `ReflectionTestUtils` like in the example below:\r\n\r\n```java\r\npublic class BBVAFileProviderTest {\r\n\r\n    @Mock\r\n\tprivate BBVAFileProvider bbvaFileProvider;\r\n\r\n    @Before\r\n\tpublic void setup() throws Exception {\r\n\t\tbbvaFileProvider = new BBVAFileProvider(payoutFileService, bbvaFileAdapter, bbvaCryptographyService, amazonS3Client, providerRequestService, payoutConfirmationService);\r\n\t\tReflectionTestUtils.setField(this.bbvaFileProvider, &quot;bbvaClient&quot;, this.bbvaClient);\r\n\t}\r\n\r\n    // ...\r\n\r\n}\r\n```\r\n\r\nIn this example can you see, that `ReflectionTestUtils.setField` is used to set the value to the private field because it doesn&#39;t have a setter method.\r\n\r\n\r\n ","title":"Use of ReflectionTestUtils.setField() in Junit testing","body":"<p><code>ReflectionTestUtils.setField</code> is used is various contexts. But the most common scenario is when you have a class and inside that, there are attributes with private access, and you want to test this class.</p>\n<p>So a possible solution can be using <code>ReflectionTestUtils</code> like in the example below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BBVAFileProviderTest {\n\n    @Mock\n    private BBVAFileProvider bbvaFileProvider;\n\n    @Before\n    public void setup() throws Exception {\n        bbvaFileProvider = new BBVAFileProvider(payoutFileService, bbvaFileAdapter, bbvaCryptographyService, amazonS3Client, providerRequestService, payoutConfirmationService);\n        ReflectionTestUtils.setField(this.bbvaFileProvider, &quot;bbvaClient&quot;, this.bbvaClient);\n    }\n\n    // ...\n\n}\n</code></pre>\n<p>In this example can you see, that <code>ReflectionTestUtils.setField</code> is used to set the value to the private field because it doesn't have a setter method.</p>\n"}],"owner":{"display_name":"user5459039"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77883,"favorite_count":0,"down_vote_count":1,"up_vote_count":23,"answer_count":5,"score":22,"last_activity_date":1661975354,"creation_date":1498023380,"question_id":44667573,"body_markdown":"I am new in JUnittesting so i have a question. Can anyone please tell me why we use `ReflectionTestUtils.setField()` in our Junit testing with example.\r\n","title":"Use of ReflectionTestUtils.setField() in Junit testing","body":"<p>I am new in JUnittesting so i have a question. Can anyone please tell me why we use <code>ReflectionTestUtils.setField()</code> in our Junit testing with example.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1578336512,"post_id":59616956,"comment_id":105398104,"body_markdown":"It looks fine, although you really don&#39;t need to define a consumer or container factory - boot will auto-configure them from the application propertied (or yaml). Does enabling DEBUG logging provide any help?","body":"It looks fine, although you really don&#39;t need to define a consumer or container factory - boot will auto-configure them from the application propertied (or yaml). Does enabling DEBUG logging provide any help?"},{"owner":{"account_id":7465323,"reputation":65,"user_id":6022029,"display_name":"Amish Bedi"},"score":0,"creation_date":1578341589,"post_id":59616956,"comment_id":105400110,"body_markdown":"Hi Gary, as per your suggestion I added DEBUG level logging.","body":"Hi Gary, as per your suggestion I added DEBUG level logging."},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1578341883,"post_id":59616956,"comment_id":105400215,"body_markdown":"Did it help? Is the `KafkaConsumer` class in the same package (or sub-package) as `Start`?","body":"Did it help? Is the <code>KafkaConsumer</code> class in the same package (or sub-package) as <code>Start</code>?"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1578344803,"post_id":59616956,"comment_id":105401362,"body_markdown":"Don&#39;t put stuff like that in comments; it doesn&#39;t render well; edit the question instead, with a comment to say you have done so (we don&#39;t get notifications of edits). You should see an INFO log with something like `ktest24: partitions assigned: [ktest24-0, ktest24-9, ...`. With DEBUG logging, you should see `Received: 0 records` and `Commit list: {}` every 5 seconds (by default) if there is nothing to fetch. If you don&#39;t see those, something is stuck and you&#39;ll have to take a thread dump to see what the consumer thread is doing.","body":"Don&#39;t put stuff like that in comments; it doesn&#39;t render well; edit the question instead, with a comment to say you have done so (we don&#39;t get notifications of edits). You should see an INFO log with something like <code>ktest24: partitions assigned: [ktest24-0, ktest24-9, ...</code>. With DEBUG logging, you should see <code>Received: 0 records</code> and <code>Commit list: {}</code> every 5 seconds (by default) if there is nothing to fetch. If you don&#39;t see those, something is stuck and you&#39;ll have to take a thread dump to see what the consumer thread is doing."}],"answers":[{"tags":[],"owner":{"account_id":14046588,"reputation":364,"user_id":10146655,"display_name":"Javier Gonzalez Benito"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578340289,"creation_date":1578340289,"answer_id":59618118,"question_id":59616956,"body_markdown":"Spring boot and spring kafka has autoconfiguration. For simple consumer, remove your configuration class, and add this properties to your application.yml (or .properties):\r\n\r\n     spring.application.name: your-app-name\r\n     spring.kafka.consumer.group-id: your-group-id\r\n     spring.kafka.bootstrap-servers: server1:port1,server2:port2,server3:port3","title":"Spring Boot Kafka Consumer not consuming, Kafka Listener not triggering","body":"<p>Spring boot and spring kafka has autoconfiguration. For simple consumer, remove your configuration class, and add this properties to your application.yml (or .properties):</p>\n\n<pre><code> spring.application.name: your-app-name\n spring.kafka.consumer.group-id: your-group-id\n spring.kafka.bootstrap-servers: server1:port1,server2:port2,server3:port3\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7465323,"reputation":65,"user_id":6022029,"display_name":"Amish Bedi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578398653,"creation_date":1578398653,"answer_id":59628088,"question_id":59616956,"body_markdown":"The issue was a kafka connectivity issue. The machine consuming from the kafka server was not permitted to consume from the kafka server. WhiteListing the consuming machine in the kafka server nodes solved the issue.\r\n\r\nIf the kafka server url can be resolved but can not be connected to due to insufficient permissions, the kafka consumer doesn&#39;t log that. This is not specific to spring kafka, but even the normal kafka clients consumer wasn&#39;t logging this.","title":"Spring Boot Kafka Consumer not consuming, Kafka Listener not triggering","body":"<p>The issue was a kafka connectivity issue. The machine consuming from the kafka server was not permitted to consume from the kafka server. WhiteListing the consuming machine in the kafka server nodes solved the issue.</p>\n\n<p>If the kafka server url can be resolved but can not be connected to due to insufficient permissions, the kafka consumer doesn't log that. This is not specific to spring kafka, but even the normal kafka clients consumer wasn't logging this.</p>\n"},{"tags":[],"owner":{"account_id":26139075,"reputation":1,"user_id":19828722,"display_name":"Sorsum Bhatia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661975293,"creation_date":1661975293,"answer_id":73561159,"question_id":59616956,"body_markdown":"In your listener add group -id.\r\n@KafkaListener(topics = &quot;&lt;topic-name&quot;, groupId = &quot;&lt;groupid&gt;&quot;.\r\nYou have to load this in Consumer properties also.","title":"Spring Boot Kafka Consumer not consuming, Kafka Listener not triggering","body":"<p>In your listener add group -id.\n@KafkaListener(topics = &quot;&lt;topic-name&quot;, groupId = &quot;&quot;.\nYou have to load this in Consumer properties also.</p>\n"}],"owner":{"account_id":7465323,"reputation":65,"user_id":6022029,"display_name":"Amish Bedi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10716,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1661975293,"creation_date":1578334464,"question_id":59616956,"body_markdown":"I am trying to build a simple spring boot Kafka Consumer to consume messages from a kafka topic, however no messages get consumed as the KafkaListener method is not getting triggered.\r\n\r\nI saw in other answers to make sure that AUTO_OFFSET_RESET_CONFIG is set to &quot;earliest&quot; and that the GROUP_ID_CONFIG is unique which I did, however still the KafkaListenerMethod is not triggering. The application simply starts and doesn&#39;t do anything:\r\n\r\n```\r\nApplication Started\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.1.4.RELEASE)\r\n\r\n```\r\n\r\nThis is a sub project of another gradle project and build.gradle for this subproject is as below (MAIN_CLASS_PATH has been correctly provided in the code):\r\n\r\n```\r\napply plugin: &#39;application&#39;\r\n\r\nmainClassName = &lt;MAIN_CLASS_PATH&gt;\r\n\r\ndependencies {\r\n    compile &quot;org.springframework.kafka:spring-kafka:${SpringKafkaVersion}&quot;\r\n    compile &quot;org.springframework.boot:spring-boot-starter:${SpringBootVersion}&quot;\r\n    compile group: &#39;org.springframework&#39;, name: &#39;spring-tx&#39;, version: &#39;5.2.2.RELEASE&#39;\r\n}\r\n```\r\n\r\nJava classes:\r\n\r\nStart.java:\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Start {\r\n    public static void main(String[] args) {\r\n        try {\r\n            System.out.println(&quot;Application Started&quot;);\r\n            SpringApplication.run(Start.class, args);\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nKafkaConsumerConfig.java:\r\n\r\n```\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.UUID;\r\n\r\n@EnableKafka\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        HashMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(\r\n                ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\r\n                &lt;KAFKA_SERVER_ADDRESS&gt;);\r\n        props.put(\r\n                ConsumerConfig.GROUP_ID_CONFIG,\r\n                UUID.randomUUID().toString());\r\n        props.put(\r\n                ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class);\r\n        props.put(\r\n                ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\r\n                StringDeserializer.class);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;\r\n    kafkaListenerContainerFactory() {\r\n\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        return factory;\r\n    }\r\n```\r\n\r\nKafkaConsumer.java\r\n\r\n```\r\n@Service\r\npublic class KafkaConsumer {\r\n\r\n    @KafkaListener(topics = &lt;TOPIC_NAME&gt;)\r\n    public void consume(@Payload ConsumerRecord&lt;String, String&gt; message) {\r\n        System.out.println(&quot;Consumed message: &quot; + message);\r\n    }\r\n}\r\n```\r\nThe KAFKA_SERVER_ADDRESS and TOPIC_NAME have been correctly provided within my code. Also I have checked that the topic actually contains messages in it already.\r\n\r\nAny ideas as to why this doesn&#39;t consume any messages from a kafka topic?","title":"Spring Boot Kafka Consumer not consuming, Kafka Listener not triggering","body":"<p>I am trying to build a simple spring boot Kafka Consumer to consume messages from a kafka topic, however no messages get consumed as the KafkaListener method is not getting triggered.</p>\n\n<p>I saw in other answers to make sure that AUTO_OFFSET_RESET_CONFIG is set to \"earliest\" and that the GROUP_ID_CONFIG is unique which I did, however still the KafkaListenerMethod is not triggering. The application simply starts and doesn't do anything:</p>\n\n<pre><code>Application Started\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.1.4.RELEASE)\n\n</code></pre>\n\n<p>This is a sub project of another gradle project and build.gradle for this subproject is as below (MAIN_CLASS_PATH has been correctly provided in the code):</p>\n\n<pre><code>apply plugin: 'application'\n\nmainClassName = &lt;MAIN_CLASS_PATH&gt;\n\ndependencies {\n    compile \"org.springframework.kafka:spring-kafka:${SpringKafkaVersion}\"\n    compile \"org.springframework.boot:spring-boot-starter:${SpringBootVersion}\"\n    compile group: 'org.springframework', name: 'spring-tx', version: '5.2.2.RELEASE'\n}\n</code></pre>\n\n<p>Java classes:</p>\n\n<p>Start.java:</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Start {\n    public static void main(String[] args) {\n        try {\n            System.out.println(\"Application Started\");\n            SpringApplication.run(Start.class, args);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>KafkaConsumerConfig.java:</p>\n\n<pre><code>import org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\n\nimport java.util.HashMap;\nimport java.util.UUID;\n\n@EnableKafka\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Bean\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        HashMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(\n                ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG,\n                &lt;KAFKA_SERVER_ADDRESS&gt;);\n        props.put(\n                ConsumerConfig.GROUP_ID_CONFIG,\n                UUID.randomUUID().toString());\n        props.put(\n                ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n        props.put(\n                ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,\n                StringDeserializer.class);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, \"earliest\");\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt;\n    kafkaListenerContainerFactory() {\n\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        return factory;\n    }\n</code></pre>\n\n<p>KafkaConsumer.java</p>\n\n<pre><code>@Service\npublic class KafkaConsumer {\n\n    @KafkaListener(topics = &lt;TOPIC_NAME&gt;)\n    public void consume(@Payload ConsumerRecord&lt;String, String&gt; message) {\n        System.out.println(\"Consumed message: \" + message);\n    }\n}\n</code></pre>\n\n<p>The KAFKA_SERVER_ADDRESS and TOPIC_NAME have been correctly provided within my code. Also I have checked that the topic actually contains messages in it already.</p>\n\n<p>Any ideas as to why this doesn't consume any messages from a kafka topic?</p>\n"},{"tags":["java","spring-boot","rest","reflection","annotations"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661842559,"post_id":73522559,"comment_id":129860737,"body_markdown":"So “each controller might have a different prefix based upon some annotation” means, instead of just fixing the annotation in the first place, you added another annotation to tell how to modify the original annotation at runtime?","body":"So “each controller might have a different prefix based upon some annotation” means, instead of just fixing the annotation in the first place, you added another annotation to tell how to modify the original annotation at runtime?"},{"owner":{"account_id":10091943,"reputation":27,"user_id":7458652,"display_name":"Manni"},"score":0,"creation_date":1661974935,"post_id":73522559,"comment_id":129901919,"body_markdown":"Right. But I achieved this by overriding the initialization of handler mappings via WebMvcConfigurer.","body":"Right. But I achieved this by overriding the initialization of handler mappings via WebMvcConfigurer."}],"answers":[{"tags":[],"owner":{"account_id":10091943,"reputation":27,"user_id":7458652,"display_name":"Manni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661975091,"creation_date":1661975091,"answer_id":73561127,"question_id":73522559,"body_markdown":"To those who are looking to accomplish the same, you can do this by overriding the `WebMvcConfigurer.configurePathMatch(PathMatchConfigurer configurer)` method in your custom configurer and set the prefixes for all the controllers based upon your custom logic using  `configurer.addPathPrefix()`.","title":"Changing Annotation value via Reflection does not work JDK17","body":"<p>To those who are looking to accomplish the same, you can do this by overriding the <code>WebMvcConfigurer.configurePathMatch(PathMatchConfigurer configurer)</code> method in your custom configurer and set the prefixes for all the controllers based upon your custom logic using  <code>configurer.addPathPrefix()</code>.</p>\n"}],"owner":{"account_id":10091943,"reputation":27,"user_id":7458652,"display_name":"Manni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661975091,"creation_date":1661723837,"question_id":73522559,"body_markdown":"I have spring boot application with some controllers. \r\n\r\nAll the controllers have @RequestMapping annotation with a path/value attribute. I would like to change the value of this attribute at runtime by hooking into the bean lifecycle. \r\n\r\nI am using BeanPostProcessor.postProcessBeforeInitialization() to accomplish this and below is the reflection code that I use:\r\n\r\n```\r\npublic class RequestMappingProcessor implements BeanPostProcessor\r\n{\r\n\t@Override\r\n\tpublic Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException\r\n\t{\r\n        RequestMapping requestMapping = bean.getClass().getAnnotation(RequestMapping.class);\r\n\r\n        System.out.println(&quot;OldAnnotation Value &quot; + requestMapping.value()[0]);\r\n\r\n        Map&lt;String, Object&gt; attributes = AnnotationUtils.getAnnotationAttributes(requestMapping);\r\n\t\tString[] values = (String[]) attributes.get(&quot;path&quot;);\r\n\t\tvar newValue = getNewPath(path);\r\n\r\n        Object handler = Proxy.getInvocationHandler(annotation);\r\n\t\tField f;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tf = handler.getClass().getDeclaredField(&quot;memberValues&quot;);\r\n\t\t}\r\n\t\tcatch (NoSuchFieldException | SecurityException e)\r\n\t\t{\r\n\t\t\tthrow new IllegalStateException(e);\r\n\t\t}\r\n\t\tf.setAccessible(true);\r\n\t\tMap&lt;String, Object&gt; memberValues;\r\n\t\ttry\r\n\t\t{\r\n\t\t\tmemberValues = (Map&lt;String, Object&gt;) f.get(handler);\r\n\t\t}\r\n\t\tcatch (IllegalArgumentException | IllegalAccessException e)\r\n\t\t{\r\n\t\t\tthrow new IllegalStateException(e);\r\n\t\t}\r\n\t\tObject oldValue = memberValues.get(key);\r\n\t\tif (oldValue == null)\r\n\t\t{\r\n\t\t\tthrow new IllegalArgumentException();\r\n\t\t}\r\n\t\tmemberValues.put(key, newValue);\r\n\t\tmemberValues.put(&quot;path&quot;, newValue);\r\n\t\t\r\n        System.out.println(&quot;New Annotation Value &quot; + requestMapping.value()[0]);\r\n}\r\n```\r\n\r\nThe things is that I do see it printing the updated values on console, but when I check the actual endpoint in postman or browser, still the old path works and not the new one. \r\nJDK 17.\r\n\r\nI know that many would suggest to set the prefixed path at API level for all the controllers and all, but in my case, each controller might have a different prefix based upon some annotation. If you have some other suggestions, please suggest. \r\n","title":"Changing Annotation value via Reflection does not work JDK17","body":"<p>I have spring boot application with some controllers.</p>\n<p>All the controllers have @RequestMapping annotation with a path/value attribute. I would like to change the value of this attribute at runtime by hooking into the bean lifecycle.</p>\n<p>I am using BeanPostProcessor.postProcessBeforeInitialization() to accomplish this and below is the reflection code that I use:</p>\n<pre><code>public class RequestMappingProcessor implements BeanPostProcessor\n{\n    @Override\n    public Object postProcessBeforeInitialization(Object bean, String beanName) throws BeansException\n    {\n        RequestMapping requestMapping = bean.getClass().getAnnotation(RequestMapping.class);\n\n        System.out.println(&quot;OldAnnotation Value &quot; + requestMapping.value()[0]);\n\n        Map&lt;String, Object&gt; attributes = AnnotationUtils.getAnnotationAttributes(requestMapping);\n        String[] values = (String[]) attributes.get(&quot;path&quot;);\n        var newValue = getNewPath(path);\n\n        Object handler = Proxy.getInvocationHandler(annotation);\n        Field f;\n        try\n        {\n            f = handler.getClass().getDeclaredField(&quot;memberValues&quot;);\n        }\n        catch (NoSuchFieldException | SecurityException e)\n        {\n            throw new IllegalStateException(e);\n        }\n        f.setAccessible(true);\n        Map&lt;String, Object&gt; memberValues;\n        try\n        {\n            memberValues = (Map&lt;String, Object&gt;) f.get(handler);\n        }\n        catch (IllegalArgumentException | IllegalAccessException e)\n        {\n            throw new IllegalStateException(e);\n        }\n        Object oldValue = memberValues.get(key);\n        if (oldValue == null)\n        {\n            throw new IllegalArgumentException();\n        }\n        memberValues.put(key, newValue);\n        memberValues.put(&quot;path&quot;, newValue);\n        \n        System.out.println(&quot;New Annotation Value &quot; + requestMapping.value()[0]);\n}\n</code></pre>\n<p>The things is that I do see it printing the updated values on console, but when I check the actual endpoint in postman or browser, still the old path works and not the new one.\nJDK 17.</p>\n<p>I know that many would suggest to set the prefixed path at API level for all the controllers and all, but in my case, each controller might have a different prefix based upon some annotation. If you have some other suggestions, please suggest.</p>\n"},{"tags":["java","spring","spring-boot","byte-buddy","javaagents"],"comments":[{"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"score":0,"creation_date":1662015792,"post_id":73560761,"comment_id":129909376,"body_markdown":"There&#39;s many ways to resolve this. Depending on what you&#39;re planing, you might be able to dynamically subclass your bean and replace it using a BeanPostProcessor. That&#39;s about how Spring AOP does it.","body":"There&#39;s many ways to resolve this. Depending on what you&#39;re planing, you might be able to dynamically subclass your bean and replace it using a BeanPostProcessor. That&#39;s about how Spring AOP does it."},{"owner":{"account_id":5942832,"reputation":7,"user_id":4673401,"display_name":"Pratik Tiwari"},"score":0,"creation_date":1662028236,"post_id":73560761,"comment_id":129913686,"body_markdown":"Hey @RafaelWinterhalter, thanks for the reply, and I will be going that route you&#39;re right, what I really have to do is to redefine the given class to use bytebuddy advice, the one problem I face now is to instantiate the bytebuddy generated class with all the dependencies of the bean I want to replace","body":"Hey @RafaelWinterhalter, thanks for the reply, and I will be going that route you&#39;re right, what I really have to do is to redefine the given class to use bytebuddy advice, the one problem I face now is to instantiate the bytebuddy generated class with all the dependencies of the bean I want to replace"}],"owner":{"account_id":5942832,"reputation":7,"user_id":4673401,"display_name":"Pratik Tiwari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661974955,"creation_date":1661972590,"question_id":73560761,"body_markdown":"I&#39;m looking to instrument a Spring bean class(a class annotated with `@RestController` for example),then making sure that the instrumented version of that class is used to create the application context.\r\n\r\nI tried to look at the [this thread which tries to load the context with a custom class loader][1]. This looks like a viable approach but having less experience with dealing with class loaders, I&#39;m still not sure how to make this work, do I just create my custom class loader and load my classes which are to be instrumented and then just set Spring&#39;s class loader as it&#39;s parent, so that it can load rest of the classes which I don&#39;t care to instrument?, or should I use Java agents for it?, is there any spring lifecycle annotation I can make use of?  \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5660115/loading-spring-context-with-specific-classloader","title":"Instrumenting a spring bean class with bytebuddy","body":"<p>I'm looking to instrument a Spring bean class(a class annotated with <code>@RestController</code> for example),then making sure that the instrumented version of that class is used to create the application context.</p>\n<p>I tried to look at the <a href=\"https://stackoverflow.com/questions/5660115/loading-spring-context-with-specific-classloader\">this thread which tries to load the context with a custom class loader</a>. This looks like a viable approach but having less experience with dealing with class loaders, I'm still not sure how to make this work, do I just create my custom class loader and load my classes which are to be instrumented and then just set Spring's class loader as it's parent, so that it can load rest of the classes which I don't care to instrument?, or should I use Java agents for it?, is there any spring lifecycle annotation I can make use of?</p>\n"},{"tags":["java","eclipse","executable-jar"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1661963967,"post_id":73559056,"comment_id":129898388,"body_markdown":"Eclipse &quot;Run Configuration&quot; settings will be using the Eclipse build with current working directory for the project. That isn&#39;t necessarily the same as what is in your jar and the current working directory for the command line. Double check them and consider what is relying on current working directory of the project.","body":"Eclipse &quot;Run Configuration&quot; settings will be using the Eclipse build with current working directory for the project. That isn&#39;t necessarily the same as what is in your jar and the current working directory for the command line. Double check them and consider what is relying on current working directory of the project."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":2,"creation_date":1661964007,"post_id":73559056,"comment_id":129898404,"body_markdown":"A common problem is that you are trying to read something from the Jar using a File based API. Objects in a Jar are not files and you can&#39;t read them like that. You need to show us your code.","body":"A common problem is that you are trying to read something from the Jar using a File based API. Objects in a Jar are not files and you can&#39;t read them like that. You need to show us your code."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1661965233,"post_id":73559056,"comment_id":129898835,"body_markdown":"I agree with the O/P. This question is different than the usual questions about NPE, and general response about NPEs isn&#39;t helpful in this case.","body":"I agree with the O/P. This question is different than the usual questions about NPE, and general response about NPEs isn&#39;t helpful in this case."}],"owner":{"account_id":25745781,"reputation":17,"user_id":19499021,"display_name":"TylerBalaskovitz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661963240,"answer_count":0,"score":0,"last_activity_date":1661974649,"creation_date":1661963133,"question_id":73559056,"body_markdown":"So, I was able to run a Java program within Eclipse. While in Eclipse, the NullPointerException does NOT show within the terminal, however when trying to execute the Clip as an executable Jar within GitBash, I get the following stack trace.\r\n\r\nIf it&#39;s a NullPointerException, the variable/method is pointing to something null, but how can that be null while the program is a Jar file, and it isn&#39;t Null while in Eclipse. Why is that the case that it is compiling within Eclipse?\r\n\r\n        $ javaw.exe -jar CookieClicker.jar\r\n        Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke \r\n        &quot;javax.sound.sampled.Clip.setFramePosition(int)&quot; because &quot;this.clip&quot; is null\r\n            at com.tbonegames.SoundFX.play(SoundFX.java:51)\r\n            at com.tbonegames.SoundFX.playSoundEffect(SoundFX.java:29)\r\n            at com.tbonegames.CookieMain.&lt;init&gt;(CookieMain.java:73)\r\n            at com.tbonegames.CookieMain.main(CookieMain.java:68)\r\n\r\n\r\n","title":"Unable to run a executable Jar file, however it compiles in Eclipse","body":"<p>So, I was able to run a Java program within Eclipse. While in Eclipse, the NullPointerException does NOT show within the terminal, however when trying to execute the Clip as an executable Jar within GitBash, I get the following stack trace.</p>\n<p>If it's a NullPointerException, the variable/method is pointing to something null, but how can that be null while the program is a Jar file, and it isn't Null while in Eclipse. Why is that the case that it is compiling within Eclipse?</p>\n<pre><code>    $ javaw.exe -jar CookieClicker.jar\n    Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke \n    &quot;javax.sound.sampled.Clip.setFramePosition(int)&quot; because &quot;this.clip&quot; is null\n        at com.tbonegames.SoundFX.play(SoundFX.java:51)\n        at com.tbonegames.SoundFX.playSoundEffect(SoundFX.java:29)\n        at com.tbonegames.CookieMain.&lt;init&gt;(CookieMain.java:73)\n        at com.tbonegames.CookieMain.main(CookieMain.java:68)\n</code></pre>\n"},{"tags":["java","sql-server","stored-procedures","jdbc"],"comments":[{"owner":{"account_id":48854,"reputation":1430,"user_id":145297,"accept_rate":76,"display_name":"jwmajors81"},"score":0,"creation_date":1258120357,"post_id":1726935,"comment_id":1608677,"body_markdown":"I have added an additional scenario:\n\n    CallableStatement statement = \n       connection.prepareCall(&quot;{? = call spWCoTaskIdGen(?)}&quot;);\n    statement.registerOutParameter(1, java.sql.Types.INTEGER);\n    statement.registerOutParameter(2, java.sql.Types.INTEGER);\n    statement.executeQuery();\n\nThe code above resulted in the following error:\n\n07:50:25,978 ERROR JDBCExceptionReporter:101 - Could not find stored procedure &#39;spWCoTaskIdGen&#39;.","body":"I have added an additional scenario:      CallableStatement statement =         connection.prepareCall(&quot;{? = call spWCoTaskIdGen(?)}&quot;);     statement.registerOutParameter(1, java.sql.Types.INTEGER);     statement.registerOutParameter(2, java.sql.Types.INTEGER);     statement.executeQuery();  The code above resulted in the following error:  07:50:25,978 ERROR JDBCExceptionReporter:101 - Could not find stored procedure &#39;spWCoTaskIdGen&#39;."},{"owner":{"account_id":48854,"reputation":1430,"user_id":145297,"accept_rate":76,"display_name":"jwmajors81"},"score":0,"creation_date":1258120395,"post_id":1726935,"comment_id":1608683,"body_markdown":"That didn&#39;t work out so well :)  I&#39;ll add the example to the original question above.","body":"That didn&#39;t work out so well :)  I&#39;ll add the example to the original question above."},{"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"score":0,"creation_date":1258123040,"post_id":1726935,"comment_id":1608996,"body_markdown":"What JDBC driver are you using? JTDS?","body":"What JDBC driver are you using? JTDS?"}],"answers":[{"tags":[],"owner":{"account_id":661,"reputation":5281,"user_id":869,"accept_rate":100,"display_name":"Jason Gritman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258084009,"creation_date":1258084009,"answer_id":1727013,"question_id":1726935,"body_markdown":"Since it can&#39;t even find the procedure, I would first look to make sure that your user has execute privileges for that procedure.  You could try executing the proc with the same user from a tool like Squirrel.","title":"Unable to execute stored Procedure using Java and JDBC on SQL server","body":"<p>Since it can't even find the procedure, I would first look to make sure that your user has execute privileges for that procedure.  You could try executing the proc with the same user from a tool like Squirrel.</p>\n"},{"tags":[],"owner":{"account_id":55539,"reputation":160129,"user_id":166339,"display_name":"Asaph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1258084040,"creation_date":1258084040,"answer_id":1727014,"question_id":1726935,"body_markdown":"Try it without the `dbo.` owner designation:\r\n\r\n    CallableStatement statement = connection.prepareCall(&quot;? = spWCoTaskIdGen(?)&quot;);\r\n    statement.registerOutParameter(1, java.sql.Types.INTEGER);\r\n    statement.registerOutParameter(2, java.sql.Types.INTEGER);\r\n    statement.executeQuery();\r\n\r\nAlso, and this is a longshot, are you sure you&#39;re in the correct database within the database server?","title":"Unable to execute stored Procedure using Java and JDBC on SQL server","body":"<p>Try it without the <code>dbo.</code> owner designation:</p>\n\n<pre><code>CallableStatement statement = connection.prepareCall(\"? = spWCoTaskIdGen(?)\");\nstatement.registerOutParameter(1, java.sql.Types.INTEGER);\nstatement.registerOutParameter(2, java.sql.Types.INTEGER);\nstatement.executeQuery();\n</code></pre>\n\n<p>Also, and this is a longshot, are you sure you're in the correct database within the database server?</p>\n"},{"tags":[],"owner":{"account_id":13638,"reputation":424823,"user_id":27535,"accept_rate":89,"display_name":"gbn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258095706,"creation_date":1258095706,"answer_id":1727611,"question_id":1726935,"body_markdown":"Most likely one of...\r\n\r\n1. The credentials uses have no rights to run the code. You&#39;d need a [`GRANT EXECUTE`][1] in the script above\r\n\r\n2. Wrong database. For example, the stored proc was created in master but you are connected to &quot;MyDB&quot;\r\n\r\n\r\n  [1]: http://msdn.microsoft.com/en-us/library/ms188371(SQL.90).aspx","title":"Unable to execute stored Procedure using Java and JDBC on SQL server","body":"<p>Most likely one of...</p>\n\n<ol>\n<li><p>The credentials uses have no rights to run the code. You'd need a <a href=\"http://msdn.microsoft.com/en-us/library/ms188371(SQL.90).aspx\" rel=\"nofollow noreferrer\"><code>GRANT EXECUTE</code></a> in the script above</p></li>\n<li><p>Wrong database. For example, the stored proc was created in master but you are connected to \"MyDB\"</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":50514,"reputation":15138,"user_id":150703,"accept_rate":82,"display_name":"tim_wonil"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1296540096,"creation_date":1296540096,"answer_id":4859458,"question_id":1726935,"body_markdown":"Have you tried changing your Java code to use &quot;exec&quot; instead of &quot;call&quot;?\r\nThat is:\r\n\r\n    CallableStatement statement = connection\r\n                        .prepareCall(&quot;{exec dbo.spWCoTaskIdGen(?)}&quot;);","title":"Unable to execute stored Procedure using Java and JDBC on SQL server","body":"<p>Have you tried changing your Java code to use \"exec\" instead of \"call\"?\nThat is:</p>\n\n<pre><code>CallableStatement statement = connection\n                    .prepareCall(\"{exec dbo.spWCoTaskIdGen(?)}\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7546036,"reputation":1,"user_id":5729041,"display_name":"Pava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661974514,"creation_date":1661974514,"answer_id":73561046,"question_id":1726935,"body_markdown":"I had the same problem using SQLServer 2012 Express.\r\nI solved it starting the &quot;SQL Server Browser&quot; service.","title":"Unable to execute stored Procedure using Java and JDBC on SQL server","body":"<p>I had the same problem using SQLServer 2012 Express.\nI solved it starting the &quot;SQL Server Browser&quot; service.</p>\n"}],"owner":{"account_id":48854,"reputation":1430,"user_id":145297,"accept_rate":76,"display_name":"jwmajors81"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17402,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1661974514,"creation_date":1258082588,"question_id":1726935,"body_markdown":"I have been trying to execute a MS SQL Server stored procedure via JDBC today and have been unsuccessful thus far.  The stored procedure has 1 input and 1 output parameter.  With every combination I use when setting up the stored procedure call in code I get an error stating that the stored procedure couldn&#39;t be found.  I have provided the stored procedure I&#39;m executing below (NOTE:  this is vendor code, so I cannot change it).\r\n\r\n    set ANSI_NULLS ON\r\n    set QUOTED_IDENTIFIER ON\r\n    GO\r\n\r\n\r\n    ALTER PROC [dbo].[spWCoTaskIdGen] \r\n\t@OutIdentifier int OUTPUT\r\n    AS\r\n\r\n    BEGIN\r\n\tDECLARE @HoldPolicyId int\r\n\tDECLARE @PolicyId char(14)\r\n\r\n\tIF NOT EXISTS\r\n\t(\r\n\tSELECT *\r\n\tFROM UniqueIdentifierGen (UPDLOCK)\r\n\t)\r\n\tINSERT INTO UniqueIdentifierGen VALUES (0)\r\n\t\t\r\n\tUPDATE UniqueIdentifierGen \r\n\tSET \r\n\t\tCurIdentifier = CurIdentifier + 1\r\n\t\r\n\tSELECT @OutIdentifier = \r\n\t\t(SELECT CurIdentifier\r\n\t\tFROM UniqueIdentifierGen)\r\n    END\r\n\r\n\r\n\r\n\r\n\r\nThe code looks like:\r\n\r\n\r\n     CallableStatement statement = connection\r\n\t\t\t\t.prepareCall(&quot;{call dbo.spWCoTaskIdGen(?)}&quot;);\r\n\t\tstatement.setInt(1, 0);\r\n\t\tResultSet result = statement.executeQuery();\r\n\r\nI get the following error:  SEVERE: Could not find stored procedure &#39;dbo.spWCoTaskIdGen&#39;.\r\n\r\nI have also tried\r\n\r\n\t\tCallableStatement statement = connection\r\n\t\t\t\t.prepareCall(&quot;{? = call dbo.spWCoTaskIdGen(?)}&quot;);\r\n\t\tstatement.registerOutParameter(1, java.sql.Types.INTEGER);\r\n\t\tstatement.registerOutParameter(2, java.sql.Types.INTEGER);\r\n\t\tstatement.executeQuery();\r\n\r\nThe above results in:  SEVERE: Could not find stored procedure &#39;dbo.spWCoTaskIdGen&#39;.\r\n\r\nI have also tried:\r\n\r\n\t\tCallableStatement statement = connection\r\n\t\t\t\t.prepareCall(&quot;{? = call spWCoTaskIdGen(?)}&quot;);\r\n\t\tstatement.registerOutParameter(1, java.sql.Types.INTEGER);\r\n\t\tstatement.registerOutParameter(2, java.sql.Types.INTEGER);\r\n\t\tstatement.executeQuery();\r\n\r\n\r\nThe code above resulted in the following error:  Could not find stored procedure &#39;spWCoTaskIdGen&#39;.\r\n\r\n\r\nFinally, I should also point out the following:  \r\n\r\n 1. I have used the MS SQL Server Management Studio tool and have been able to successfully run the stored procedure.  The sql generated to execute the stored procedure is provided below:\r\n\r\n        GO\r\n        DECLARE @return_value int;\r\n    \tDECLARE @OutIdentifier int;\r\n        EXEC @return_value = [dbo].[spWCoTaskIdGen] @OutIdentifier = @OutIdentifier OUTPUT;\r\n        SELECT\r\n            @OutIdentifier [@OutIdentifier],\r\n            @return_value [Return Value];\r\n        GO\r\n\r\n 2. The code being executed runs with the same user id that was used in point #1 above.\r\n 3. In the code that creates the Connection object I log which database I&#39;m connecting to and the code is connecting to the correct database.\r\n\r\n\r\nAny ideas?\r\n\r\nThank you very much in advance.\r\n","title":"Unable to execute stored Procedure using Java and JDBC on SQL server","body":"<p>I have been trying to execute a MS SQL Server stored procedure via JDBC today and have been unsuccessful thus far.  The stored procedure has 1 input and 1 output parameter.  With every combination I use when setting up the stored procedure call in code I get an error stating that the stored procedure couldn't be found.  I have provided the stored procedure I'm executing below (NOTE:  this is vendor code, so I cannot change it).</p>\n\n<pre><code>set ANSI_NULLS ON\nset QUOTED_IDENTIFIER ON\nGO\n\n\nALTER PROC [dbo].[spWCoTaskIdGen] \n@OutIdentifier int OUTPUT\nAS\n\nBEGIN\nDECLARE @HoldPolicyId int\nDECLARE @PolicyId char(14)\n\nIF NOT EXISTS\n(\nSELECT *\nFROM UniqueIdentifierGen (UPDLOCK)\n)\nINSERT INTO UniqueIdentifierGen VALUES (0)\n\nUPDATE UniqueIdentifierGen \nSET \n    CurIdentifier = CurIdentifier + 1\n\nSELECT @OutIdentifier = \n    (SELECT CurIdentifier\n    FROM UniqueIdentifierGen)\nEND\n</code></pre>\n\n<p>The code looks like:</p>\n\n<pre><code> CallableStatement statement = connection\n            .prepareCall(\"{call dbo.spWCoTaskIdGen(?)}\");\n    statement.setInt(1, 0);\n    ResultSet result = statement.executeQuery();\n</code></pre>\n\n<p>I get the following error:  SEVERE: Could not find stored procedure 'dbo.spWCoTaskIdGen'.</p>\n\n<p>I have also tried</p>\n\n<pre><code>    CallableStatement statement = connection\n            .prepareCall(\"{? = call dbo.spWCoTaskIdGen(?)}\");\n    statement.registerOutParameter(1, java.sql.Types.INTEGER);\n    statement.registerOutParameter(2, java.sql.Types.INTEGER);\n    statement.executeQuery();\n</code></pre>\n\n<p>The above results in:  SEVERE: Could not find stored procedure 'dbo.spWCoTaskIdGen'.</p>\n\n<p>I have also tried:</p>\n\n<pre><code>    CallableStatement statement = connection\n            .prepareCall(\"{? = call spWCoTaskIdGen(?)}\");\n    statement.registerOutParameter(1, java.sql.Types.INTEGER);\n    statement.registerOutParameter(2, java.sql.Types.INTEGER);\n    statement.executeQuery();\n</code></pre>\n\n<p>The code above resulted in the following error:  Could not find stored procedure 'spWCoTaskIdGen'.</p>\n\n<p>Finally, I should also point out the following:  </p>\n\n<ol>\n<li><p>I have used the MS SQL Server Management Studio tool and have been able to successfully run the stored procedure.  The sql generated to execute the stored procedure is provided below:</p>\n\n<pre><code>GO\nDECLARE @return_value int;\nDECLARE @OutIdentifier int;\nEXEC @return_value = [dbo].[spWCoTaskIdGen] @OutIdentifier = @OutIdentifier OUTPUT;\nSELECT\n    @OutIdentifier [@OutIdentifier],\n    @return_value [Return Value];\nGO\n</code></pre></li>\n<li><p>The code being executed runs with the same user id that was used in point #1 above.</p></li>\n<li>In the code that creates the Connection object I log which database I'm connecting to and the code is connecting to the correct database.</li>\n</ol>\n\n<p>Any ideas?</p>\n\n<p>Thank you very much in advance.</p>\n"},{"tags":["java","xml","xpath"],"comments":[{"owner":{"account_id":3377022,"reputation":11135,"user_id":2834978,"display_name":"LMC"},"score":0,"creation_date":1661902296,"post_id":73549407,"comment_id":129881126,"body_markdown":"namespace in xpath factory","body":"namespace in xpath factory"},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1661943363,"post_id":73549407,"comment_id":129890613,"body_markdown":"https://howtodoinjava.com/java/xml/xpath-namespace-resolution-example/","body":"<a href=\"https://howtodoinjava.com/java/xml/xpath-namespace-resolution-example/\" rel=\"nofollow noreferrer\">howtodoinjava.com/java/xml/xpath-namespace-resolution-exampl&zwnj;&#8203;e</a>"},{"owner":{"account_id":26202977,"reputation":1,"user_id":19883026,"display_name":"Luis Alfredo Conde Vela"},"score":0,"creation_date":1661949514,"post_id":73549407,"comment_id":129892731,"body_markdown":"implementing the namespace resolver worked, ty.","body":"implementing the namespace resolver worked, ty."}],"owner":{"account_id":26202977,"reputation":1,"user_id":19883026,"display_name":"Luis Alfredo Conde Vela"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661974033,"creation_date":1661901879,"question_id":73549407,"body_markdown":"I have the following xml stored in w3c.dom.Document: docXml\r\n\r\n```\r\n&lt;sqph:contractplaceholders xmlns:sqph=&quot;http://schemas.company.com/office/placeholders/v1&quot;&gt;\r\n\t&lt;sqph:ContractMgmt_ContractNumber debugId=&quot;ContractMgmt_ContractNumber&quot; id=&quot;ContractMgmt_ContractNumber&quot;&gt;test418TBD&lt;/sqph:ContractMgmt_ContractNumber&gt;\r\n&lt;/sqph:contractplaceholders&gt;\r\n```\r\n\r\ni&#39;m trying to recover the text inside it with:\r\n```\r\nXPath xpath = XPathFactory.newInstance().newXPath();\r\nXPathExpression expr = xpath.compile(&quot;/sqph:contractplaceholders[1]/sqph:ContractMgmt_ContractNumber[1]/text()&quot;);\r\nNodeList nodeList = (NodeList) expr.evaluate(docXml, XPathConstants.NODESET);\r\nint listLenght = nodeList.getLength();\r\norg.w3c.dom.Node node = (org.w3c.dom.Node) expr.evaluate(docXml, XPathConstants.NODE);\r\nString str = (String) expr.evaluate(docXml, XPathConstants.STRING);\r\n```\r\nnodeList does not have the data, node is null and str is empty. What could i be missing?\r\n","title":"javax.xml.xpath cannot find element in xml w3c document","body":"<p>I have the following xml stored in w3c.dom.Document: docXml</p>\n<pre><code>&lt;sqph:contractplaceholders xmlns:sqph=&quot;http://schemas.company.com/office/placeholders/v1&quot;&gt;\n    &lt;sqph:ContractMgmt_ContractNumber debugId=&quot;ContractMgmt_ContractNumber&quot; id=&quot;ContractMgmt_ContractNumber&quot;&gt;test418TBD&lt;/sqph:ContractMgmt_ContractNumber&gt;\n&lt;/sqph:contractplaceholders&gt;\n</code></pre>\n<p>i'm trying to recover the text inside it with:</p>\n<pre><code>XPath xpath = XPathFactory.newInstance().newXPath();\nXPathExpression expr = xpath.compile(&quot;/sqph:contractplaceholders[1]/sqph:ContractMgmt_ContractNumber[1]/text()&quot;);\nNodeList nodeList = (NodeList) expr.evaluate(docXml, XPathConstants.NODESET);\nint listLenght = nodeList.getLength();\norg.w3c.dom.Node node = (org.w3c.dom.Node) expr.evaluate(docXml, XPathConstants.NODE);\nString str = (String) expr.evaluate(docXml, XPathConstants.STRING);\n</code></pre>\n<p>nodeList does not have the data, node is null and str is empty. What could i be missing?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"score":0,"creation_date":1661964160,"post_id":73557426,"comment_id":129898457,"body_markdown":"try creating two filter chains with `@Order(1)` on one of them (main), rather than creating two different configurations. the example is [here](https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#_multiple_httpsecurity),","body":"try creating two filter chains with <code>@Order(1)</code> on one of them (main), rather than creating two different configurations. the example is <a href=\"https://docs.spring.io/spring-security/reference/servlet/configuration/java.html#_multiple_httpsecurity\" rel=\"nofollow noreferrer\">here</a>,"},{"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"score":0,"creation_date":1661965931,"post_id":73557426,"comment_id":129899061,"body_markdown":"@AndrewThomas Thanks, but the behavior keeps the same with this approach.","body":"@AndrewThomas Thanks, but the behavior keeps the same with this approach."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1661972526,"post_id":73557426,"comment_id":129901226,"body_markdown":"what is the reason for you not using the built in JWTFilter that comes with spring security?","body":"what is the reason for you not using the built in JWTFilter that comes with spring security?"},{"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"score":0,"creation_date":1661974037,"post_id":73557426,"comment_id":129901657,"body_markdown":"I need to make some validations and checks in the JWT token. I added a simple version of the filter above.","body":"I need to make some validations and checks in the JWT token. I added a simple version of the filter above."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1661989026,"post_id":73557426,"comment_id":129905061,"body_markdown":"`I need to make some validations and checks in the JWT token` which you can with no problem do using the built in filter that comes with spring security. So im going to ask you again, what is the reason for not using the built in filter in spring security, and why didnt you read the spring security documentation on how to handle jwts before asking here on stack overflow?","body":"<code>I need to make some validations and checks in the JWT token</code> which you can with no problem do using the built in filter that comes with spring security. So im going to ask you again, what is the reason for not using the built in filter in spring security, and why didnt you read the spring security documentation on how to handle jwts before asking here on stack overflow?"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":2,"creation_date":1661989104,"post_id":73557426,"comment_id":129905071,"body_markdown":"here is a spring decurity JWT example project that uses custom validation etc https://github.com/Tandolf/spring-security-jwt-demo please","body":"here is a spring decurity JWT example project that uses custom validation etc <a href=\"https://github.com/Tandolf/spring-security-jwt-demo\" rel=\"nofollow noreferrer\">github.com/Tandolf/spring-security-jwt-demo</a> please"}],"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1662004373,"answer_count":0,"score":0,"last_activity_date":1661973985,"creation_date":1661955852,"question_id":73557426,"body_markdown":"I have two sets of endpoints: /api/** and /ui/**, each one will have a separated authentication mechanism. For the sake of the simplification for this question: both will basically use JWT but with different secrets. I have the below configuration:\r\n\r\n```\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\r\npublic class SecurityConfig {\r\n\r\n    @Order(1)\r\n    @Configuration\r\n    public static class SecurityConfigApi {\r\n\r\n        @Autowired\r\n        private CustomUserDetailsService userDetailsService;\r\n\r\n        @Autowired\r\n        private UnauthorizedHandler unauthorizedHandler;\r\n\r\n        @Autowired\r\n        private PasswordEncoder passwordEncoder;\r\n\r\n        @Bean\r\n        public AuthTokenFilterApi authenticationJwtTokenFilterApi() {\r\n            return new AuthTokenFilterApi();\r\n        }\r\n\r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProviderApi() {\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n            authProvider.setUserDetailsService(userDetailsService);\r\n            authProvider.setPasswordEncoder(passwordEncoder);\r\n\r\n            return authProvider;\r\n        }\r\n\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerApi(\r\n                AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n\r\n\r\n        @Bean\r\n        public SecurityFilterChain filterChainApi(HttpSecurity http) throws Exception {\r\n            http.antMatcher(&quot;/api/**&quot;)\r\n                    .cors()\r\n                    .and()\r\n                    .csrf()\r\n                    .disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(unauthorizedHandler)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/api/**&quot;).authenticated();\r\n\r\n            http.addFilterBefore(authenticationJwtTokenFilterApi(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n            return http.build();\r\n        }\r\n    }\r\n\r\n    @Order(2)\r\n    @Configuration\r\n    public static class UiSecurityConfig {\r\n\r\n        @Autowired\r\n        private CustomUserDetailsService userDetailsService;\r\n\r\n        @Autowired\r\n        private UnauthorizedHandler unauthorizedHandler;\r\n\r\n        @Autowired\r\n        private PasswordEncoder passwordEncoder;\r\n\r\n        @Bean\r\n        public AuthTokenFilter authenticationJwtTokenFilterUi() {\r\n            return new AuthTokenFilter();\r\n        }\r\n\r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProviderUi() {\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n\r\n            authProvider.setUserDetailsService(userDetailsService);\r\n            authProvider.setPasswordEncoder(passwordEncoder);\r\n\r\n            return authProvider;\r\n        }\r\n\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerUi(\r\n                AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n\r\n        @Bean\r\n        public SecurityFilterChain filterChainUi(HttpSecurity http) throws Exception {\r\n            http.antMatcher(&quot;/ui/**&quot;)\r\n                    .cors()\r\n                    .and()\r\n                    .csrf()\r\n                    .disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(unauthorizedHandler)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/ui/auth/login&quot;)\r\n                    .permitAll()\r\n                    .antMatchers(&quot;/ui/auth/signup&quot;)\r\n                    .hasRole(&quot;ADMIN&quot;)\r\n                    .antMatchers(&quot;/ui/auth/refresh-token&quot;)\r\n                    .hasAnyRole();\r\n\r\n            http.addFilterBefore(authenticationJwtTokenFilterUi(), UsernamePasswordAuthenticationFilter.class);\r\n\r\n            return http.build();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd the filter (you can assume the other one is similar to this):\r\n\r\n```\r\npublic class AuthTokenFilterApi extends OncePerRequestFilter {\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilterApi.class);\r\n\r\n    @Autowired\r\n    private JwtUtilsApi jwtUtils;\r\n\r\n    @Autowired\r\n    private CustomUserDetailsService userDetailsService;\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n            throws ServletException, IOException {\r\n        try {\r\n            String jwt = jwtUtils.getJwtFromHttpRequest(request);\r\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\r\n                String username = jwtUtils.getUserNameFromJwtToken(jwt);\r\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n\r\n                UsernamePasswordAuthenticationToken authentication =\r\n                        new UsernamePasswordAuthenticationToken(userDetails,\r\n                                null,\r\n                                userDetails.getAuthorities());\r\n\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception e) {\r\n            logger.error(&quot;Cannot set user authentication.&quot;, e);\r\n        }\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n```\r\n\r\nIt seems to be working OK, the calls are getting correctly authenticated by the correct filter but I noticed that after the authentication happens, the filter for the other enpoint is still being executed.\r\n\r\nIs there a way to prevent this? Is this the correct behavior of Spring Security? I can always see both filters when I inspect the FilterChain but I thought that as I have two different configured security contexts, that would not happen.","title":"Spring Security with multiple filter chains","body":"<p>I have two sets of endpoints: /api/** and /ui/**, each one will have a separated authentication mechanism. For the sake of the simplification for this question: both will basically use JWT but with different secrets. I have the below configuration:</p>\n<pre><code>@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\npublic class SecurityConfig {\n\n    @Order(1)\n    @Configuration\n    public static class SecurityConfigApi {\n\n        @Autowired\n        private CustomUserDetailsService userDetailsService;\n\n        @Autowired\n        private UnauthorizedHandler unauthorizedHandler;\n\n        @Autowired\n        private PasswordEncoder passwordEncoder;\n\n        @Bean\n        public AuthTokenFilterApi authenticationJwtTokenFilterApi() {\n            return new AuthTokenFilterApi();\n        }\n\n        @Bean\n        public DaoAuthenticationProvider authenticationProviderApi() {\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n            authProvider.setUserDetailsService(userDetailsService);\n            authProvider.setPasswordEncoder(passwordEncoder);\n\n            return authProvider;\n        }\n\n        @Bean\n        public AuthenticationManager authenticationManagerApi(\n                AuthenticationConfiguration authConfig) throws Exception {\n            return authConfig.getAuthenticationManager();\n        }\n\n\n        @Bean\n        public SecurityFilterChain filterChainApi(HttpSecurity http) throws Exception {\n            http.antMatcher(&quot;/api/**&quot;)\n                    .cors()\n                    .and()\n                    .csrf()\n                    .disable()\n                    .exceptionHandling()\n                    .authenticationEntryPoint(unauthorizedHandler)\n                    .and()\n                    .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                    .and()\n                    .authorizeRequests()\n                    .antMatchers(&quot;/api/**&quot;).authenticated();\n\n            http.addFilterBefore(authenticationJwtTokenFilterApi(), UsernamePasswordAuthenticationFilter.class);\n\n            return http.build();\n        }\n    }\n\n    @Order(2)\n    @Configuration\n    public static class UiSecurityConfig {\n\n        @Autowired\n        private CustomUserDetailsService userDetailsService;\n\n        @Autowired\n        private UnauthorizedHandler unauthorizedHandler;\n\n        @Autowired\n        private PasswordEncoder passwordEncoder;\n\n        @Bean\n        public AuthTokenFilter authenticationJwtTokenFilterUi() {\n            return new AuthTokenFilter();\n        }\n\n        @Bean\n        public DaoAuthenticationProvider authenticationProviderUi() {\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n\n            authProvider.setUserDetailsService(userDetailsService);\n            authProvider.setPasswordEncoder(passwordEncoder);\n\n            return authProvider;\n        }\n\n        @Bean\n        public AuthenticationManager authenticationManagerUi(\n                AuthenticationConfiguration authConfig) throws Exception {\n            return authConfig.getAuthenticationManager();\n        }\n\n        @Bean\n        public SecurityFilterChain filterChainUi(HttpSecurity http) throws Exception {\n            http.antMatcher(&quot;/ui/**&quot;)\n                    .cors()\n                    .and()\n                    .csrf()\n                    .disable()\n                    .exceptionHandling()\n                    .authenticationEntryPoint(unauthorizedHandler)\n                    .and()\n                    .sessionManagement()\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                    .and()\n                    .authorizeRequests()\n                    .antMatchers(&quot;/ui/auth/login&quot;)\n                    .permitAll()\n                    .antMatchers(&quot;/ui/auth/signup&quot;)\n                    .hasRole(&quot;ADMIN&quot;)\n                    .antMatchers(&quot;/ui/auth/refresh-token&quot;)\n                    .hasAnyRole();\n\n            http.addFilterBefore(authenticationJwtTokenFilterUi(), UsernamePasswordAuthenticationFilter.class);\n\n            return http.build();\n        }\n    }\n}\n</code></pre>\n<p>And the filter (you can assume the other one is similar to this):</p>\n<pre><code>public class AuthTokenFilterApi extends OncePerRequestFilter {\n\n    private static final Logger logger = LoggerFactory.getLogger(AuthTokenFilterApi.class);\n\n    @Autowired\n    private JwtUtilsApi jwtUtils;\n\n    @Autowired\n    private CustomUserDetailsService userDetailsService;\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n            throws ServletException, IOException {\n        try {\n            String jwt = jwtUtils.getJwtFromHttpRequest(request);\n            if (jwt != null &amp;&amp; jwtUtils.validateJwtToken(jwt)) {\n                String username = jwtUtils.getUserNameFromJwtToken(jwt);\n                UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n                UsernamePasswordAuthenticationToken authentication =\n                        new UsernamePasswordAuthenticationToken(userDetails,\n                                null,\n                                userDetails.getAuthorities());\n\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(authentication);\n            }\n        } catch (Exception e) {\n            logger.error(&quot;Cannot set user authentication.&quot;, e);\n        }\n        filterChain.doFilter(request, response);\n    }\n}\n</code></pre>\n<p>It seems to be working OK, the calls are getting correctly authenticated by the correct filter but I noticed that after the authentication happens, the filter for the other enpoint is still being executed.</p>\n<p>Is there a way to prevent this? Is this the correct behavior of Spring Security? I can always see both filters when I inspect the FilterChain but I thought that as I have two different configured security contexts, that would not happen.</p>\n"},{"tags":["java","android","android-studio","gradle","java-11"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1662036840,"post_id":73560595,"comment_id":129916704,"body_markdown":"You can only use Java 11 language features but not the classes that were added in Java 9-11. `java.net.http.HttpClient` is a new class and thus you can&#39;t use it.","body":"You can only use Java 11 language features but not the classes that were added in Java 9-11. <code>java.net.http.HttpClient</code> is a new class and thus you can&#39;t use it."}],"answers":[{"tags":[],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661973306,"creation_date":1661973306,"answer_id":73560871,"question_id":73560595,"body_markdown":"I have now found [this thread][1] which explains that even the new versions of Android Studio simply don&#39;t support all features of Java 11.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/69750452/how-can-i-use-jdk-11-http-packages-in-android?noredirect=1&amp;lq=1","title":"Android Studio seems to be stuck at Java 8","body":"<p>I have now found <a href=\"https://stackoverflow.com/questions/69750452/how-can-i-use-jdk-11-http-packages-in-android?noredirect=1&amp;lq=1\">this thread</a> which explains that even the new versions of Android Studio simply don't support all features of Java 11.</p>\n"}],"owner":{"account_id":23646042,"reputation":447,"user_id":18197654,"display_name":"xtay2"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73560871,"answer_count":1,"score":1,"last_activity_date":1661973306,"creation_date":1661971672,"question_id":73560595,"body_markdown":"I&#39;m trying to update the jdk of an AndroidStudio-App to the newest possible version (From what I&#39;ve read `jdk11`).\r\n\r\nI have changed the `build.gradle` to:\r\n\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_11\r\n        targetCompatibility JavaVersion.VERSION_11\r\n    }\r\nThe version in the settings seems to be 11:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhen I type `gradlew --version` it seems to be java 18. (The version I would like to use, if it were supported)\r\n\r\n[![enter image description here][3]][3]\r\n\r\nBut even after multiple reloads, restarts, cleans and synchronizations the IDE still behaves as if I would use Java 8.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n - Android Studio Version: Chipmunk | 2021.2.1 Patch 2\r\n - Gradle Version: 7.5.1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/McAb9.png\r\n  [2]: https://i.stack.imgur.com/39ISH.png\r\n  [3]: https://i.stack.imgur.com/449jQ.png\r\n  [4]: https://i.stack.imgur.com/xz7OW.png","title":"Android Studio seems to be stuck at Java 8","body":"<p>I'm trying to update the jdk of an AndroidStudio-App to the newest possible version (From what I've read <code>jdk11</code>).</p>\n<p>I have changed the <code>build.gradle</code> to:</p>\n<pre><code>compileOptions {\n    sourceCompatibility JavaVersion.VERSION_11\n    targetCompatibility JavaVersion.VERSION_11\n}\n</code></pre>\n<p>The version in the settings seems to be 11:</p>\n<p><a href=\"https://i.stack.imgur.com/McAb9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/McAb9.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/39ISH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/39ISH.png\" alt=\"enter image description here\" /></a></p>\n<p>When I type <code>gradlew --version</code> it seems to be java 18. (The version I would like to use, if it were supported)</p>\n<p><a href=\"https://i.stack.imgur.com/449jQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/449jQ.png\" alt=\"enter image description here\" /></a></p>\n<p>But even after multiple reloads, restarts, cleans and synchronizations the IDE still behaves as if I would use Java 8.</p>\n<p><a href=\"https://i.stack.imgur.com/xz7OW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xz7OW.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Android Studio Version: Chipmunk | 2021.2.1 Patch 2</li>\n<li>Gradle Version: 7.5.1</li>\n</ul>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1337569313,"creation_date":1230951167,"answer_id":408522,"question_id":408051,"body_markdown":"For preserving order, use [TreeSet][1]. As far as, sorting of a collection inside parent is concerned, just do it in your code using [Comparator][2].\r\n\r\nWell, try this on your collection definition in your parent entity class. I hope you are getting my point.\r\n\r\nYou can use this JPA annotation,\r\n\r\n    @javax.persistence.OrderBy(value = &quot;fieldName&quot;)\r\n\r\nor this Hibernate specific,\r\n\r\n    @org.hibernate.annotations.OrderBy(clause = &quot;FIELD_NAME asc&quot;)\r\n\r\nand you can also use this,\r\n\r\n    @org.hibernate.annotations.Sort(type = SortType.NATURAL)\r\nor\r\n\r\n    @org.hibernate.annotations.Sort(type = SortType.COMPARATOR)\r\n\r\nIn the case of comparator, a comparator must be in place. Other might only work with String collections.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/TreeSet.html\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Comparator.html","title":"Ordering return of Child objects in JPA query","body":"<p>For preserving order, use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/TreeSet.html\" rel=\"noreferrer\">TreeSet</a>. As far as, sorting of a collection inside parent is concerned, just do it in your code using <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Comparator.html\" rel=\"noreferrer\">Comparator</a>.</p>\n\n<p>Well, try this on your collection definition in your parent entity class. I hope you are getting my point.</p>\n\n<p>You can use this JPA annotation,</p>\n\n<pre><code>@javax.persistence.OrderBy(value = \"fieldName\")\n</code></pre>\n\n<p>or this Hibernate specific,</p>\n\n<pre><code>@org.hibernate.annotations.OrderBy(clause = \"FIELD_NAME asc\")\n</code></pre>\n\n<p>and you can also use this,</p>\n\n<pre><code>@org.hibernate.annotations.Sort(type = SortType.NATURAL)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@org.hibernate.annotations.Sort(type = SortType.COMPARATOR)\n</code></pre>\n\n<p>In the case of comparator, a comparator must be in place. Other might only work with String collections.</p>\n"},{"tags":[],"owner":{"account_id":18282,"reputation":17675,"user_id":41754,"accept_rate":75,"display_name":"cliff.meyers"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1230958126,"creation_date":1230958126,"answer_id":408613,"question_id":408051,"body_markdown":"Adeel basically has this nailed. You can also use those with a List which might be important if your collections contain the same entity more than once.","title":"Ordering return of Child objects in JPA query","body":"<p>Adeel basically has this nailed. You can also use those with a List which might be important if your collections contain the same entity more than once.</p>\n"},{"tags":[],"owner":{"account_id":7781324,"reputation":159,"user_id":5887643,"display_name":"Dilli Babu Kadati"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1621014248,"creation_date":1621014248,"answer_id":67538776,"question_id":408051,"body_markdown":"If you are using springboot and jpa here&#39;s the example\r\n\r\nin parent class add the code like below\r\n\r\n    @OneToMany(mappedBy = &quot;user&quot;)\r\n    @OrderBy(value = &quot;position desc &quot;)\r\n    private List&lt;UserAddresses&gt; userAddresses;\r\n\r\nin the above code, position is the field name in **UserAddresses** Class and **desc** is the order. You can pass either **asc** or **desc** like in sql order by.","title":"Ordering return of Child objects in JPA query","body":"<p>If you are using springboot and jpa here's the example</p>\n<p>in parent class add the code like below</p>\n<pre><code>@OneToMany(mappedBy = &quot;user&quot;)\n@OrderBy(value = &quot;position desc &quot;)\nprivate List&lt;UserAddresses&gt; userAddresses;\n</code></pre>\n<p>in the above code, position is the field name in <strong>UserAddresses</strong> Class and <strong>desc</strong> is the order. You can pass either <strong>asc</strong> or <strong>desc</strong> like in sql order by.</p>\n"},{"tags":[],"owner":{"account_id":2680559,"reputation":5110,"user_id":2317829,"accept_rate":76,"display_name":"eebbesen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661973251,"creation_date":1661951869,"answer_id":73556509,"question_id":408051,"body_markdown":"Using `org.springframework.data.domain.Sort` you can implement this when calling methods in your repository class that extends `org.springframework.data.jpa.repository.JpaRepository`.\r\n\r\nFor example, assuming the `Teacher` entity is a child of `School` and the `Student` entity is a child of `Teacher`\r\n\r\n    teacherRepository.findAll(Sort.by(&quot;school.name&quot;, &quot;student.lastName&quot;))\r\nwill sort results by the parent entity&#39;s `name` attribute, then by the child entity&#39;s `lastName` attribute.\r\n\r\nNOTE: Adding the child attribute to the sort will of course force a join to the child table in the generated query. In this case, if you have more than one `Student` entity with the same `lastName` attribute the number of records returned to be greater unless you explicitly ask for distinct records.\r\n","title":"Ordering return of Child objects in JPA query","body":"<p>Using <code>org.springframework.data.domain.Sort</code> you can implement this when calling methods in your repository class that extends <code>org.springframework.data.jpa.repository.JpaRepository</code>.</p>\n<p>For example, assuming the <code>Teacher</code> entity is a child of <code>School</code> and the <code>Student</code> entity is a child of <code>Teacher</code></p>\n<pre><code>teacherRepository.findAll(Sort.by(&quot;school.name&quot;, &quot;student.lastName&quot;))\n</code></pre>\n<p>will sort results by the parent entity's <code>name</code> attribute, then by the child entity's <code>lastName</code> attribute.</p>\n<p>NOTE: Adding the child attribute to the sort will of course force a join to the child table in the generated query. In this case, if you have more than one <code>Student</code> entity with the same <code>lastName</code> attribute the number of records returned to be greater unless you explicitly ask for distinct records.</p>\n"}],"owner":{"account_id":326,"reputation":21464,"user_id":409,"accept_rate":56,"display_name":"Brian Deacon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18034,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":408522,"answer_count":4,"score":9,"last_activity_date":1661973251,"creation_date":1230930922,"question_id":408051,"body_markdown":"So if my JPA query is like this:\r\nSelect distinct p from Parent p left join fetch p.children order by p.someProperty\r\n\r\nI correctly get results back ordered by p.someProperty, and I correctly get my p.children collection eagerly fetched and populated.  But I&#39;d like to have my query be something like &quot;order by p.someProperty, p.children.someChildProperty&quot; so that the collection populated inside each parent object was sub-ordered by someChildProperty.\r\n\r\nThis seems intuitive when I think in terms of the sql that is actually generated for these calls, but I guess less so when it tries to map back to hierarchical objects.","title":"Ordering return of Child objects in JPA query","body":"<p>So if my JPA query is like this:\nSelect distinct p from Parent p left join fetch p.children order by p.someProperty</p>\n\n<p>I correctly get results back ordered by p.someProperty, and I correctly get my p.children collection eagerly fetched and populated.  But I'd like to have my query be something like \"order by p.someProperty, p.children.someChildProperty\" so that the collection populated inside each parent object was sub-ordered by someChildProperty.</p>\n\n<p>This seems intuitive when I think in terms of the sql that is actually generated for these calls, but I guess less so when it tries to map back to hierarchical objects.</p>\n"},{"tags":["java","xml","jackson"],"comments":[{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1661976469,"post_id":73560757,"comment_id":129902351,"body_markdown":"Have a look at this [Question](https://stackoverflow.com/questions/31129614/what-is-the-use-of-amp-in-xml) and it&#39;s [accepted answer](https://stackoverflow.com/a/31129660/2838289).","body":"Have a look at this <a href=\"https://stackoverflow.com/questions/31129614/what-is-the-use-of-amp-in-xml\">Question</a> and it&#39;s <a href=\"https://stackoverflow.com/a/31129660/2838289\">accepted answer</a>."},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1662020417,"post_id":73560757,"comment_id":129910850,"body_markdown":"You&#39;re trying to generate invalid XML and no XML tool will allow you to do that.","body":"You&#39;re trying to generate invalid XML and no XML tool will allow you to do that."}],"owner":{"account_id":15552738,"reputation":106,"user_id":11219989,"display_name":"micpog90"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661972556,"creation_date":1661972556,"question_id":73560757,"body_markdown":"I try to use Jackson 2.13.3 in Java to get the following XML output.\r\n```\r\n&lt;Property name=&quot;11&amp;22&quot;&gt;\r\n  &lt;test&gt;11&amp;22&lt;/test&gt;\r\n&lt;/Property&gt;\r\n```\r\nbut I can&#39;t get the &amp; sign in the attribute to display correctly. This is what I get:\r\n```\r\n&lt;Property name=&quot;11&amp;amp;22&quot;&gt;\r\n  &lt;test&gt;11&amp;22&lt;/test&gt;\r\n&lt;/Property&gt;\r\n```\r\nHas somebody a glue how I can get the desired output?\r\n\r\nHere a MVP (Note that I already tried to use @JsonRawValue, but it only works on Properties and not on Attributes):\r\n\r\npom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;TestXML&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nProperty.java\r\n```\r\nimport com.fasterxml.jackson.annotation.JsonRawValue;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\n\r\npublic class Property {\r\n  @JacksonXmlProperty(isAttribute = true, localName = &quot;name&quot;)\r\n  @JsonRawValue\r\n  String name = &quot;11&amp;22&quot;;\r\n\r\n  @JacksonXmlProperty(localName = &quot;test&quot;)\r\n  @JsonRawValue\r\n  String test = &quot;11&amp;22&quot;;\r\n}\r\n```\r\n\r\nMain.java\r\n```\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\r\n\r\npublic class Main {\r\n\r\n  public static void main(String[] args) throws JsonProcessingException {\r\n    XmlMapper mapper = new XmlMapper();\r\n    System.out.println(mapper.writer().writeValueAsString(new Property()));\r\n  }\r\n}\r\n```","title":"Write a commercial AND &#39;&amp;&#39; in a XML Attribute using jackson","body":"<p>I try to use Jackson 2.13.3 in Java to get the following XML output.</p>\n<pre><code>&lt;Property name=&quot;11&amp;22&quot;&gt;\n  &lt;test&gt;11&amp;22&lt;/test&gt;\n&lt;/Property&gt;\n</code></pre>\n<p>but I can't get the &amp; sign in the attribute to display correctly. This is what I get:</p>\n<pre><code>&lt;Property name=&quot;11&amp;amp;22&quot;&gt;\n  &lt;test&gt;11&amp;22&lt;/test&gt;\n&lt;/Property&gt;\n</code></pre>\n<p>Has somebody a glue how I can get the desired output?</p>\n<p>Here a MVP (Note that I already tried to use @JsonRawValue, but it only works on Properties and not on Attributes):</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TestXML&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n            &lt;version&gt;2.13.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Property.java</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonRawValue;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\n\npublic class Property {\n  @JacksonXmlProperty(isAttribute = true, localName = &quot;name&quot;)\n  @JsonRawValue\n  String name = &quot;11&amp;22&quot;;\n\n  @JacksonXmlProperty(localName = &quot;test&quot;)\n  @JsonRawValue\n  String test = &quot;11&amp;22&quot;;\n}\n</code></pre>\n<p>Main.java</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.dataformat.xml.XmlMapper;\n\npublic class Main {\n\n  public static void main(String[] args) throws JsonProcessingException {\n    XmlMapper mapper = new XmlMapper();\n    System.out.println(mapper.writer().writeValueAsString(new Property()));\n  }\n}\n</code></pre>\n"},{"tags":["java","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661972443,"creation_date":1661972443,"answer_id":73560742,"question_id":73555293,"body_markdown":"Only process functions can use side outputs (which you write to via `ctx.output`).\r\n\r\nA `MapFunction` automatically sends the return value of its `map` method downstream (toward the sink). It works this way because a map is a one-to-one mapping from inputs to outputs. Most other function types (e.g., process functions, flatmaps) are passed a Collector you can use to send events downstream.","title":"Invoke RichSinkFunction from RichMapFunction in Flink","body":"<p>Only process functions can use side outputs (which you write to via <code>ctx.output</code>).</p>\n<p>A <code>MapFunction</code> automatically sends the return value of its <code>map</code> method downstream (toward the sink). It works this way because a map is a one-to-one mapping from inputs to outputs. Most other function types (e.g., process functions, flatmaps) are passed a Collector you can use to send events downstream.</p>\n"}],"owner":{"account_id":6931602,"reputation":49,"user_id":5320934,"display_name":"sergiopf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73560742,"answer_count":1,"score":0,"last_activity_date":1661972443,"creation_date":1661945748,"question_id":73555293,"body_markdown":"I have a sink which extends from **RichSinkFunction** that is caching some information.\r\nWhen my process is finished, I want to update all that information that is cached so I want to force its invocation.\r\n\r\nI can call that sink from an **KeyedProcessAccumulatorFunction**, calling it with the context of type **ReadOnlyContext** and it works.\r\n```\r\npublic class PageAccumulateFunction implements KeyedProcessAccumulatorFunction{\r\n    public SessionAccumulator accumulate(\r\n            @NonNull Tuple2&lt;CollectionMessage, PropertyInfo&gt; value,\r\n            @NonNull SessionAccumulator accumulator,\r\n            @NonNull KeyedBroadcastProcessFunction.ReadOnlyContext ctx) {\r\n        ....\r\n        ctx.output(outputTag, message);\r\n    }\r\n}\r\n```\r\nBut in my **RichMapFunction** class, I can&#39;t invoke that sink. I can get a **RuntimeContext** object (but not a ReadOnlyContext), but I don&#39;t know if I can use it to invoke the RichSinkFunction sink.\r\n```\r\npublic class SessionMapper extends RichMapFunction&lt;SessionAccumulator, GenericRecord&gt;{\r\n\tpublic GenericRecord map(SessionAccumulator sessionAccumulator) {\r\n        ....\r\n        RuntimeContext ctx = getRuntimeContext();\r\n        ....\r\n    }\r\n}\r\n```\r\nAny idea?","title":"Invoke RichSinkFunction from RichMapFunction in Flink","body":"<p>I have a sink which extends from <strong>RichSinkFunction</strong> that is caching some information.\nWhen my process is finished, I want to update all that information that is cached so I want to force its invocation.</p>\n<p>I can call that sink from an <strong>KeyedProcessAccumulatorFunction</strong>, calling it with the context of type <strong>ReadOnlyContext</strong> and it works.</p>\n<pre><code>public class PageAccumulateFunction implements KeyedProcessAccumulatorFunction{\n    public SessionAccumulator accumulate(\n            @NonNull Tuple2&lt;CollectionMessage, PropertyInfo&gt; value,\n            @NonNull SessionAccumulator accumulator,\n            @NonNull KeyedBroadcastProcessFunction.ReadOnlyContext ctx) {\n        ....\n        ctx.output(outputTag, message);\n    }\n}\n</code></pre>\n<p>But in my <strong>RichMapFunction</strong> class, I can't invoke that sink. I can get a <strong>RuntimeContext</strong> object (but not a ReadOnlyContext), but I don't know if I can use it to invoke the RichSinkFunction sink.</p>\n<pre><code>public class SessionMapper extends RichMapFunction&lt;SessionAccumulator, GenericRecord&gt;{\n    public GenericRecord map(SessionAccumulator sessionAccumulator) {\n        ....\n        RuntimeContext ctx = getRuntimeContext();\n        ....\n    }\n}\n</code></pre>\n<p>Any idea?</p>\n"},{"tags":["java","compression","tar","apache-commons","apache-commons-compress"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":1,"creation_date":1661930172,"post_id":73551672,"comment_id":129885774,"body_markdown":"Does this answer your question? [Tar a directory preserving structure with Apache in java](https://stackoverflow.com/questions/25750509/tar-a-directory-preserving-structure-with-apache-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25750509/tar-a-directory-preserving-structure-with-apache-in-java\">Tar a directory preserving structure with Apache in java</a>"},{"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"score":1,"creation_date":1661930649,"post_id":73551672,"comment_id":129885917,"body_markdown":"Why are you calling it `.tar.bz` when you are using gzip functions? It is a `.tar.gz`.","body":"Why are you calling it <code>.tar.bz</code> when you are using gzip functions? It is a <code>.tar.gz</code>."},{"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"score":0,"creation_date":1661954368,"post_id":73551672,"comment_id":129894693,"body_markdown":"@MarkAdler apologies, that was a typo on my part. Thanks","body":"@MarkAdler apologies, that was a typo on my part. Thanks"},{"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"score":0,"creation_date":1661954404,"post_id":73551672,"comment_id":129894709,"body_markdown":"@RobAudenaerde Thanks, it didnt come across my searches but very helpful. Ill take a look. Appreciate it","body":"@RobAudenaerde Thanks, it didnt come across my searches but very helpful. Ill take a look. Appreciate it"}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661930437,"creation_date":1661930437,"answer_id":73552215,"question_id":73551672,"body_markdown":"I get on better with the following. Important: you need to pass as ```base```  the correct initial value which is the first directory in the tree (excluding the fs root):\r\n\r\n```\r\n    private void addFileToTarGz(TarArchiveOutputStream tOut, String path, String base) throws IOException {\r\n        File f = new File(path);\r\n        String entryName = base + File.separatorChar + f.getName();\r\n        TarArchiveEntry tarEntry = new TarArchiveEntry(f, entryName);\r\n        tOut.putArchiveEntry(tarEntry);\r\n        if (f.isFile()) {\r\n            IOUtils.copy(new FileInputStream(f), tOut);\r\n            tOut.closeArchiveEntry();\r\n        } else {\r\n            tOut.closeArchiveEntry();\r\n            File[] children = f.listFiles();\r\n            if (children != null) {\r\n                for (File child : children) {\r\n                    addFileToTarGz(tOut, child.getAbsolutePath(), entryName);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```","title":"How to create a .tar.gz file, RETAINING the same folder/directory structure, in Java","body":"<p>I get on better with the following. Important: you need to pass as <code>base</code>  the correct initial value which is the first directory in the tree (excluding the fs root):</p>\n<pre><code>    private void addFileToTarGz(TarArchiveOutputStream tOut, String path, String base) throws IOException {\n        File f = new File(path);\n        String entryName = base + File.separatorChar + f.getName();\n        TarArchiveEntry tarEntry = new TarArchiveEntry(f, entryName);\n        tOut.putArchiveEntry(tarEntry);\n        if (f.isFile()) {\n            IOUtils.copy(new FileInputStream(f), tOut);\n            tOut.closeArchiveEntry();\n        } else {\n            tOut.closeArchiveEntry();\n            File[] children = f.listFiles();\n            if (children != null) {\n                for (File child : children) {\n                    addFileToTarGz(tOut, child.getAbsolutePath(), entryName);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661947272,"creation_date":1661947272,"answer_id":73555608,"question_id":73551672,"body_markdown":"Using the code mentioned in the request, I was able to generate a successful compressed file on my linux system. \r\n\r\nYou can replicate by changing user path and the root folder which needs to be compressed.\r\n\r\n    public static void createTarGZ() throws FileNotFoundException, IOException\r\n    \t{\r\n    \t\tString sourceDirectoryPath = null;\r\n    \t\tString destinationTarGzPath = null;\r\n    \t\tFileOutputStream fileOutputStream = null;\r\n    \t\tBufferedOutputStream bufferedOutputStream = null;\r\n    \t\tGzipCompressorOutputStream gzOutpuStream = null;\r\n    \t\tTarArchiveOutputStream tarArchiveOutputStream = null;\r\n    \r\n    \t\tString basePath = &quot;/home/saad/CompressionTest/&quot;;\r\n    \r\n    \t\ttry\r\n    \t\t{\r\n    \r\n    \t\t\tsourceDirectoryPath = basePath + &quot;asterisk&quot;;\r\n    \t\t\tdestinationTarGzPath = basePath + &quot;asterisk.tar.gz&quot;;\r\n    \r\n    \t\t\tfileOutputStream = new FileOutputStream(new File(destinationTarGzPath));\r\n    \t\t\tbufferedOutputStream = new BufferedOutputStream(fileOutputStream);\r\n    \t\t\tgzOutpuStream = new GzipCompressorOutputStream(bufferedOutputStream);\r\n    \t\t\ttarArchiveOutputStream = new TarArchiveOutputStream(gzOutpuStream);\r\n    \r\n    \t\t\taddFileToTarGz(tarArchiveOutputStream, sourceDirectoryPath, &quot;&quot;);\r\n    \t\t}\r\n    \t\tfinally\r\n    \t\t{\r\n    \t\t\ttarArchiveOutputStream.finish();\r\n    \t\t\ttarArchiveOutputStream.close();\r\n    \t\t\tgzOutpuStream.close();\r\n    \t\t\tbufferedOutputStream.close();\r\n    \t\t\tfileOutputStream.close();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void addFileToTarGz(TarArchiveOutputStream tarOutputStream, String path, String base) throws IOException\r\n    \t{\r\n    \t\tFile fileToCompress = new File(path);\r\n    \r\n    \t\tString entryName = base + fileToCompress.getName();\r\n    \r\n    \t\tTarArchiveEntry tarEntry = new TarArchiveEntry(fileToCompress, entryName);\r\n    \r\n    \t\ttarOutputStream.putArchiveEntry(tarEntry);\r\n    \r\n    \t\t// If its a file, simply add it\r\n    \t\tif (fileToCompress.isFile())\r\n    \t\t{\r\n    \t\t\tIOUtils.copy(new FileInputStream(fileToCompress), tarOutputStream);\r\n    \t\t\ttarOutputStream.closeArchiveEntry();\r\n    \t\t}\r\n    \t\t// If its a folder then add all its contents\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\ttarOutputStream.closeArchiveEntry();\r\n    \t\t\tFile[] children = fileToCompress.listFiles();\r\n    \r\n    \t\t\tif (children != null)\r\n    \t\t\t{\r\n    \t\t\t\t// add every file/folder recursively to the tar\r\n    \t\t\t\tfor (File child : children)\r\n    \t\t\t\t{\r\n    \t\t\t\t\taddFileToTarGz(tarOutputStream, child.getAbsolutePath(), entryName + &quot;/&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}","title":"How to create a .tar.gz file, RETAINING the same folder/directory structure, in Java","body":"<p>Using the code mentioned in the request, I was able to generate a successful compressed file on my linux system.</p>\n<p>You can replicate by changing user path and the root folder which needs to be compressed.</p>\n<pre><code>public static void createTarGZ() throws FileNotFoundException, IOException\n    {\n        String sourceDirectoryPath = null;\n        String destinationTarGzPath = null;\n        FileOutputStream fileOutputStream = null;\n        BufferedOutputStream bufferedOutputStream = null;\n        GzipCompressorOutputStream gzOutpuStream = null;\n        TarArchiveOutputStream tarArchiveOutputStream = null;\n\n        String basePath = &quot;/home/saad/CompressionTest/&quot;;\n\n        try\n        {\n\n            sourceDirectoryPath = basePath + &quot;asterisk&quot;;\n            destinationTarGzPath = basePath + &quot;asterisk.tar.gz&quot;;\n\n            fileOutputStream = new FileOutputStream(new File(destinationTarGzPath));\n            bufferedOutputStream = new BufferedOutputStream(fileOutputStream);\n            gzOutpuStream = new GzipCompressorOutputStream(bufferedOutputStream);\n            tarArchiveOutputStream = new TarArchiveOutputStream(gzOutpuStream);\n\n            addFileToTarGz(tarArchiveOutputStream, sourceDirectoryPath, &quot;&quot;);\n        }\n        finally\n        {\n            tarArchiveOutputStream.finish();\n            tarArchiveOutputStream.close();\n            gzOutpuStream.close();\n            bufferedOutputStream.close();\n            fileOutputStream.close();\n        }\n    }\n\n    private static void addFileToTarGz(TarArchiveOutputStream tarOutputStream, String path, String base) throws IOException\n    {\n        File fileToCompress = new File(path);\n\n        String entryName = base + fileToCompress.getName();\n\n        TarArchiveEntry tarEntry = new TarArchiveEntry(fileToCompress, entryName);\n\n        tarOutputStream.putArchiveEntry(tarEntry);\n\n        // If its a file, simply add it\n        if (fileToCompress.isFile())\n        {\n            IOUtils.copy(new FileInputStream(fileToCompress), tarOutputStream);\n            tarOutputStream.closeArchiveEntry();\n        }\n        // If its a folder then add all its contents\n        else\n        {\n            tarOutputStream.closeArchiveEntry();\n            File[] children = fileToCompress.listFiles();\n\n            if (children != null)\n            {\n                // add every file/folder recursively to the tar\n                for (File child : children)\n                {\n                    addFileToTarGz(tarOutputStream, child.getAbsolutePath(), entryName + &quot;/&quot;);\n                }\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2234633,"reputation":93,"user_id":1971376,"accept_rate":0,"display_name":"user1971376"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661972099,"creation_date":1661927224,"question_id":73551672,"body_markdown":"I am looking to create a **.tar.gz** file of the following folder/directory structure, **while retaining the same folder/ directory structure**\r\n```\r\nParentDir\\\r\n\tChildDir1\\\r\n\t\t-file1\r\n\tChildDir2\\\r\n\t\t-file2\r\n\t\t-file3\r\n\tChildDir3\\\r\n\t\t-file4\r\n\t\t-file5\r\n```\r\n\r\nHowever I am only able to create a .tar.gz of all the files, without the folder/directory structure. \r\nie: ParentDir.tar.gz\r\n```\r\n    ParentDir\\\r\n        -file1\r\n        -file2\r\n        -file3\r\n        -file4\r\n        -file5\r\n```\r\n\r\nUsing the user accepted answer in https://stackoverflow.com/questions/13461393/compress-directory-to-tar-gz-with-commons-compress/13476752#13476752, I have the following code:\r\n\r\n```\r\npublic void exportStaticFilesTar(String appID) throws, Exception {\r\n\t\t\r\n\t\tFileOutputStream fOut = null;\r\n        BufferedOutputStream bOut = null;\r\n        GzipCompressorOutputStream gzOut = null;\r\n        TarArchiveOutputStream tOut = null;\r\n\r\n\t    try {\r\n\t\t\tString filename = &quot;ParentDir.tar.gz&quot;\r\n\r\n            //&quot;parent/childDirToCompress/&quot;\r\n\t    \tString path = &quot;&lt;path to ParentDir&gt;&quot;;\r\n\r\n\t    \tfOut = new FileOutputStream(new File(filename));\r\n\t        bOut = new BufferedOutputStream(fOut);\r\n\t        gzOut = new GzipCompressorOutputStream(bOut);\r\n\t        tOut = new TarArchiveOutputStream(gzOut);\r\n\t\t\t\r\n\t        addFileToTarGz(tOut, path, &quot;&quot;);\r\n\t    } catch (Exception e) {\r\n\t    \tlog.error(&quot;Error creating .tar.gz: &quot; +e);\r\n\t    } finally {\r\n\t        tOut.finish();\r\n\t        tOut.close();\r\n\t        gzOut.close();\r\n\t        bOut.close();\r\n\t        fOut.close();\r\n\t    }\r\n\t    \r\n\t    //Download the file locally\r\n\t    \r\n\t}\r\n\r\n\tprivate void addFileToTarGz(TarArchiveOutputStream tOut, String path, String base) throws IOException {\r\n\t    File f = new File(path);\r\n\t    String entryName = base + f.getName();\r\n\t\tTarArchiveEntry tarEntry = new TarArchiveEntry(f, entryName);\r\n\t\ttOut.putArchiveEntry(tarEntry);\r\n\t\tif (f.isFile()) {\r\n\t\t\tIOUtils.copy(new FileInputStream(f), tOut);\r\n\t\t\ttOut.closeArchiveEntry();\r\n\t\t} else {\r\n\t\t\ttOut.closeArchiveEntry();\r\n\t\t\tFile[] children = f.listFiles();\r\n\t\t\tif (children != null) {\r\n\t\t\t\tfor (File child : children) {\r\n\t\t\t\t\taddFileToTarGz(tOut, child.getAbsolutePath(), entryName + &quot;/&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n```\r\n\r\nCan someone please advice, how I can modify the current code to retain the folder/directory structure when creating a .tar.gz file. Thanks!","title":"How to create a .tar.gz file, RETAINING the same folder/directory structure, in Java","body":"<p>I am looking to create a <strong>.tar.gz</strong> file of the following folder/directory structure, <strong>while retaining the same folder/ directory structure</strong></p>\n<pre><code>ParentDir\\\n    ChildDir1\\\n        -file1\n    ChildDir2\\\n        -file2\n        -file3\n    ChildDir3\\\n        -file4\n        -file5\n</code></pre>\n<p>However I am only able to create a .tar.gz of all the files, without the folder/directory structure.\nie: ParentDir.tar.gz</p>\n<pre><code>    ParentDir\\\n        -file1\n        -file2\n        -file3\n        -file4\n        -file5\n</code></pre>\n<p>Using the user accepted answer in <a href=\"https://stackoverflow.com/questions/13461393/compress-directory-to-tar-gz-with-commons-compress/13476752#13476752\">Compress directory to tar.gz with Commons Compress</a>, I have the following code:</p>\n<pre><code>public void exportStaticFilesTar(String appID) throws, Exception {\n        \n        FileOutputStream fOut = null;\n        BufferedOutputStream bOut = null;\n        GzipCompressorOutputStream gzOut = null;\n        TarArchiveOutputStream tOut = null;\n\n        try {\n            String filename = &quot;ParentDir.tar.gz&quot;\n\n            //&quot;parent/childDirToCompress/&quot;\n            String path = &quot;&lt;path to ParentDir&gt;&quot;;\n\n            fOut = new FileOutputStream(new File(filename));\n            bOut = new BufferedOutputStream(fOut);\n            gzOut = new GzipCompressorOutputStream(bOut);\n            tOut = new TarArchiveOutputStream(gzOut);\n            \n            addFileToTarGz(tOut, path, &quot;&quot;);\n        } catch (Exception e) {\n            log.error(&quot;Error creating .tar.gz: &quot; +e);\n        } finally {\n            tOut.finish();\n            tOut.close();\n            gzOut.close();\n            bOut.close();\n            fOut.close();\n        }\n        \n        //Download the file locally\n        \n    }\n\n    private void addFileToTarGz(TarArchiveOutputStream tOut, String path, String base) throws IOException {\n        File f = new File(path);\n        String entryName = base + f.getName();\n        TarArchiveEntry tarEntry = new TarArchiveEntry(f, entryName);\n        tOut.putArchiveEntry(tarEntry);\n        if (f.isFile()) {\n            IOUtils.copy(new FileInputStream(f), tOut);\n            tOut.closeArchiveEntry();\n        } else {\n            tOut.closeArchiveEntry();\n            File[] children = f.listFiles();\n            if (children != null) {\n                for (File child : children) {\n                    addFileToTarGz(tOut, child.getAbsolutePath(), entryName + &quot;/&quot;);\n                }\n            }\n        }\n    }\n</code></pre>\n<p>Can someone please advice, how I can modify the current code to retain the folder/directory structure when creating a .tar.gz file. Thanks!</p>\n"},{"tags":["java","web-services","jax-ws"],"answers":[{"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661972029,"creation_date":1443384995,"answer_id":32812409,"question_id":32812297,"body_markdown":"This is actually a stupid question because in WSDL only class member variables are translated and not methods. They are coded as `complexType`.\r\nI would say that if you want a method exposed it has to go into the `@WebService` and (optionally) annotated with `@WebMethod`. Otherwise only properties of the classes used by you webservice will go into WSDL.\r\nSo here `http://localhost:8080/LibraryWs/BookWebServiceService?xsd=1` we will have:\r\n\r\n```xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;!-- \r\n  Published by JAX-WS RI (http://jax-ws.java.net). RI&#39;s version is Metro/2.3.1-b419 (branches/2.3.1.x-7937; 2014-08-04T08:11:03+0000) JAXWS-RI/2.2.10-b140803.1500 JAXWS-API/2.2.11 JAXB-RI/2.2.10-b140802.1033 JAXB-API/2.2.12-b140109.1041 svn-revision#unknown.\r\n--&gt;\r\n&lt;xs:schema xmlns:tns=&quot;http://webservice/&quot;\r\n  xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;http://webservice/&quot;&gt;\r\n\r\n  &lt;xs:element name=&quot;addBook&quot; type=&quot;tns:addBook&quot;/&gt;\r\n  &lt;xs:element name=&quot;addBookResponse&quot; type=&quot;tns:addBookResponse&quot;/&gt;\r\n  &lt;xs:element name=&quot;getAllBooks&quot; type=&quot;tns:getAllBooks&quot;/&gt;\r\n  &lt;xs:element name=&quot;getAllBooksResponse&quot; type=&quot;tns:getAllBooksResponse&quot;/&gt;\r\n  &lt;xs:complexType name=&quot;getAllBooks&quot;&gt;\r\n    &lt;xs:sequence/&gt;\r\n  &lt;/xs:complexType&gt;\r\n\r\n  &lt;xs:complexType name=&quot;getAllBooksResponse&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n      &lt;xs:element name=&quot;return&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n    &lt;/xs:sequence&gt;\r\n  &lt;/xs:complexType&gt;\r\n\r\n  &lt;xs:complexType name=&quot;addBook&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n      &lt;xs:element name=&quot;arg0&quot; type=&quot;tns:book&quot; minOccurs=&quot;0&quot;/&gt;\r\n    &lt;/xs:sequence&gt;\r\n  &lt;/xs:complexType&gt;\r\n\r\n  &lt;xs:complexType name=&quot;book&quot;&gt;\r\n    &lt;xs:sequence&gt;\r\n      &lt;xs:element name=&quot;pages&quot; type=&quot;xs:int&quot;/&gt;\r\n      &lt;xs:element name=&quot;title&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\r\n    &lt;/xs:sequence&gt;\r\n  &lt;/xs:complexType&gt;\r\n\r\n  &lt;xs:complexType name=&quot;addBookResponse&quot;&gt;\r\n    &lt;xs:sequence/&gt;\r\n  &lt;/xs:complexType&gt;\r\n&lt;/xs:schema&gt;\r\n```","title":"JAX-WS wsimport won&#39;t keep toString()?","body":"<p>This is actually a stupid question because in WSDL only class member variables are translated and not methods. They are coded as <code>complexType</code>.\nI would say that if you want a method exposed it has to go into the <code>@WebService</code> and (optionally) annotated with <code>@WebMethod</code>. Otherwise only properties of the classes used by you webservice will go into WSDL.\nSo here <code>http://localhost:8080/LibraryWs/BookWebServiceService?xsd=1</code> we will have:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='UTF-8'?&gt;\n&lt;!-- \n  Published by JAX-WS RI (http://jax-ws.java.net). RI's version is Metro/2.3.1-b419 (branches/2.3.1.x-7937; 2014-08-04T08:11:03+0000) JAXWS-RI/2.2.10-b140803.1500 JAXWS-API/2.2.11 JAXB-RI/2.2.10-b140802.1033 JAXB-API/2.2.12-b140109.1041 svn-revision#unknown.\n--&gt;\n&lt;xs:schema xmlns:tns=&quot;http://webservice/&quot;\n  xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;1.0&quot; targetNamespace=&quot;http://webservice/&quot;&gt;\n\n  &lt;xs:element name=&quot;addBook&quot; type=&quot;tns:addBook&quot;/&gt;\n  &lt;xs:element name=&quot;addBookResponse&quot; type=&quot;tns:addBookResponse&quot;/&gt;\n  &lt;xs:element name=&quot;getAllBooks&quot; type=&quot;tns:getAllBooks&quot;/&gt;\n  &lt;xs:element name=&quot;getAllBooksResponse&quot; type=&quot;tns:getAllBooksResponse&quot;/&gt;\n  &lt;xs:complexType name=&quot;getAllBooks&quot;&gt;\n    &lt;xs:sequence/&gt;\n  &lt;/xs:complexType&gt;\n\n  &lt;xs:complexType name=&quot;getAllBooksResponse&quot;&gt;\n    &lt;xs:sequence&gt;\n      &lt;xs:element name=&quot;return&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\n    &lt;/xs:sequence&gt;\n  &lt;/xs:complexType&gt;\n\n  &lt;xs:complexType name=&quot;addBook&quot;&gt;\n    &lt;xs:sequence&gt;\n      &lt;xs:element name=&quot;arg0&quot; type=&quot;tns:book&quot; minOccurs=&quot;0&quot;/&gt;\n    &lt;/xs:sequence&gt;\n  &lt;/xs:complexType&gt;\n\n  &lt;xs:complexType name=&quot;book&quot;&gt;\n    &lt;xs:sequence&gt;\n      &lt;xs:element name=&quot;pages&quot; type=&quot;xs:int&quot;/&gt;\n      &lt;xs:element name=&quot;title&quot; type=&quot;xs:string&quot; minOccurs=&quot;0&quot;/&gt;\n    &lt;/xs:sequence&gt;\n  &lt;/xs:complexType&gt;\n\n  &lt;xs:complexType name=&quot;addBookResponse&quot;&gt;\n    &lt;xs:sequence/&gt;\n  &lt;/xs:complexType&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n"}],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":935,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661972029,"creation_date":1443384314,"question_id":32812297,"body_markdown":"Why won&#39;t `wsimport` preserve the `toString()` method of my model class?\r\nSo I have this model class in my web service:\r\n\r\n    package webservice;\r\n    public class Book {\r\n    \tprivate String title;\r\n    \tprivate int pages;\r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \tpublic int getPages() {\r\n    \t\treturn pages;\r\n    \t}\r\n    \tpublic void setPages(int pages) {\r\n    \t\tthis.pages = pages;\r\n    \t}\r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Book [title=&quot; + title + &quot;, pages=&quot; + pages + &quot;]&quot;;\r\n    \t}\r\n    }\r\n\r\nNow I want to generate the necessary artifacts for a WS client:\r\n\r\n`wsimport -keep http://localhost:8080/LibraryWs/BookWebServiceService?wsdl`\r\n\r\nAnd get the resulting class:\r\n\r\n\r\n    package webservice;\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    /**\r\n     * &lt;p&gt;Java class for book complex type.\r\n     * \r\n     * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;complexType name=&quot;book&quot;&gt;\r\n     *   &amp;lt;complexContent&gt;\r\n     *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&gt;\r\n     *       &amp;lt;sequence&gt;\r\n     *         &amp;lt;element name=&quot;pages&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}int&quot;/&gt;\r\n     *         &amp;lt;element name=&quot;title&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}string&quot; minOccurs=&quot;0&quot;/&gt;\r\n     *       &amp;lt;/sequence&gt;\r\n     *     &amp;lt;/restriction&gt;\r\n     *   &amp;lt;/complexContent&gt;\r\n     * &amp;lt;/complexType&gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;book&quot;, propOrder = {\r\n        &quot;pages&quot;,\r\n        &quot;title&quot;\r\n    })\r\n    public class Book {\r\n    \r\n        protected int pages;\r\n        protected String title;\r\n    \r\n        /**\r\n         * Gets the value of the pages property.\r\n         * \r\n         */\r\n        public int getPages() {\r\n            return pages;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the pages property.\r\n         * \r\n         */\r\n        public void setPages(int value) {\r\n            this.pages = value;\r\n        }\r\n    \r\n        /**\r\n         * Gets the value of the title property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public String getTitle() {\r\n            return title;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the title property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public void setTitle(String value) {\r\n            this.title = value;\r\n        }\r\n    }\r\n\r\nSo there is no toString :) where can I find specs regarding this behavior or how can I make jax-ws explicitly include that method in my WSDL? Thanks. ","title":"JAX-WS wsimport won&#39;t keep toString()?","body":"<p>Why won't <code>wsimport</code> preserve the <code>toString()</code> method of my model class?\nSo I have this model class in my web service:</p>\n\n<pre><code>package webservice;\npublic class Book {\n    private String title;\n    private int pages;\n    public String getTitle() {\n        return title;\n    }\n    public void setTitle(String title) {\n        this.title = title;\n    }\n    public int getPages() {\n        return pages;\n    }\n    public void setPages(int pages) {\n        this.pages = pages;\n    }\n    @Override\n    public String toString() {\n        return \"Book [title=\" + title + \", pages=\" + pages + \"]\";\n    }\n}\n</code></pre>\n\n<p>Now I want to generate the necessary artifacts for a WS client:</p>\n\n<p><code>wsimport -keep http://localhost:8080/LibraryWs/BookWebServiceService?wsdl</code></p>\n\n<p>And get the resulting class:</p>\n\n<pre><code>package webservice;\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlType;\n\n/**\n * &lt;p&gt;Java class for book complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=\"book\"&gt;\n *   &amp;lt;complexContent&gt;\n *     &amp;lt;restriction base=\"{http://www.w3.org/2001/XMLSchema}anyType\"&gt;\n *       &amp;lt;sequence&gt;\n *         &amp;lt;element name=\"pages\" type=\"{http://www.w3.org/2001/XMLSchema}int\"/&gt;\n *         &amp;lt;element name=\"title\" type=\"{http://www.w3.org/2001/XMLSchema}string\" minOccurs=\"0\"/&gt;\n *       &amp;lt;/sequence&gt;\n *     &amp;lt;/restriction&gt;\n *   &amp;lt;/complexContent&gt;\n * &amp;lt;/complexType&gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = \"book\", propOrder = {\n    \"pages\",\n    \"title\"\n})\npublic class Book {\n\n    protected int pages;\n    protected String title;\n\n    /**\n     * Gets the value of the pages property.\n     * \n     */\n    public int getPages() {\n        return pages;\n    }\n\n    /**\n     * Sets the value of the pages property.\n     * \n     */\n    public void setPages(int value) {\n        this.pages = value;\n    }\n\n    /**\n     * Gets the value of the title property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getTitle() {\n        return title;\n    }\n\n    /**\n     * Sets the value of the title property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setTitle(String value) {\n        this.title = value;\n    }\n}\n</code></pre>\n\n<p>So there is no toString :) where can I find specs regarding this behavior or how can I make jax-ws explicitly include that method in my WSDL? Thanks. </p>\n"},{"tags":["java","unit-testing","junit","intellij-idea","lombok"],"comments":[{"owner":{"account_id":334893,"reputation":1749,"user_id":661639,"accept_rate":85,"display_name":"anazimok"},"score":0,"creation_date":1345770389,"post_id":10643936,"comment_id":16175026,"body_markdown":"Have you ever found a solution for this problem?","body":"Have you ever found a solution for this problem?"}],"answers":[{"tags":[],"owner":{"account_id":241271,"reputation":2178,"user_id":511976,"accept_rate":50,"display_name":"mhvelplund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1348488640,"creation_date":1338195250,"answer_id":10781860,"question_id":10643936,"body_markdown":"&lt;strike&gt;\r\nThe problem seems to be that the lombok generated code is overwritten by ajc, and according to a blog entry I found by Fabrizio Giudici, there is no &quot;clean&quot; Maven solution due to a bug in the Maven AspectJ plugin that prevents you from passing the necessary arguments to ajc.\r\n\r\nHe proposes a workaround here: http://weblogs.java.net/blog/fabriziogiudici/archive/2011/07/19/making-lombok-aspectj-and-maven-co-exist\r\n&lt;/strike&gt;\r\n\r\nActually, [this](http://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/) worked for me, and it&#39;s arguably a cleaner solution. You might have to add an execution phase for the test classes with an additional weave directory.","title":"Can&#39;t seem to get Lombok to work in unit tests","body":"<p><strike>\nThe problem seems to be that the lombok generated code is overwritten by ajc, and according to a blog entry I found by Fabrizio Giudici, there is no \"clean\" Maven solution due to a bug in the Maven AspectJ plugin that prevents you from passing the necessary arguments to ajc.</p>\n\n<p>He proposes a workaround here: <a href=\"http://weblogs.java.net/blog/fabriziogiudici/archive/2011/07/19/making-lombok-aspectj-and-maven-co-exist\" rel=\"nofollow\">http://weblogs.java.net/blog/fabriziogiudici/archive/2011/07/19/making-lombok-aspectj-and-maven-co-exist</a>\n</strike></p>\n\n<p>Actually, <a href=\"http://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/\" rel=\"nofollow\">this</a> worked for me, and it's arguably a cleaner solution. You might have to add an execution phase for the test classes with an additional weave directory.</p>\n"},{"tags":[],"owner":{"account_id":337881,"reputation":2204,"user_id":666414,"accept_rate":50,"display_name":"maxxyme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348392874,"creation_date":1348072587,"answer_id":12499077,"question_id":10643936,"body_markdown":"Unfortunately, I tested the second solution - [mentioned by mhvelplund][1] - but it didn&#39;t worked for me. Solution was to entirely remove the AspectJ maven plugin from the pom.xml!\r\n\r\n\r\n  [1]: http://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/","title":"Can&#39;t seem to get Lombok to work in unit tests","body":"<p>Unfortunately, I tested the second solution - <a href=\"http://palesz.wordpress.com/2011/12/03/howto-maven-lombok-and-aspectj-together/\" rel=\"nofollow\">mentioned by mhvelplund</a> - but it didn't worked for me. Solution was to entirely remove the AspectJ maven plugin from the pom.xml!</p>\n"},{"tags":[],"owner":{"account_id":11810243,"reputation":364,"user_id":8641842,"display_name":"nightblade9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661971075,"creation_date":1661971075,"answer_id":73560478,"question_id":10643936,"body_markdown":"While this question is now ten years old (!), I ran into this problem, too.\r\n\r\nThe solution - for anyone using Gradle - is to specify the `lombok` plugin in `build.gradle`, like so:\r\n\r\n```\r\nplugins {\r\n  // spring, boot, java, etc.\r\n  id &#39;io.freefair.lombok&#39; version &#39;6.5.0.3&#39;\r\n}\r\n```\r\n\r\nMake sure you upgrade the lombok version to whatever&#39;s the latest version available now.\r\n\r\nWhat didn&#39;t work, is specifying lombok as a dependency; this worked in production code, but not test code:\r\n\r\n```\r\ndependencies {\r\n  // spring, boot, etc.\r\n  compileOnly &#39;org.projectlombok:lombok:1.18.24&#39;\r\n}\r\n```","title":"Can&#39;t seem to get Lombok to work in unit tests","body":"<p>While this question is now ten years old (!), I ran into this problem, too.</p>\n<p>The solution - for anyone using Gradle - is to specify the <code>lombok</code> plugin in <code>build.gradle</code>, like so:</p>\n<pre><code>plugins {\n  // spring, boot, java, etc.\n  id 'io.freefair.lombok' version '6.5.0.3'\n}\n</code></pre>\n<p>Make sure you upgrade the lombok version to whatever's the latest version available now.</p>\n<p>What didn't work, is specifying lombok as a dependency; this worked in production code, but not test code:</p>\n<pre><code>dependencies {\n  // spring, boot, etc.\n  compileOnly 'org.projectlombok:lombok:1.18.24'\n}\n</code></pre>\n"}],"owner":{"account_id":285212,"reputation":191,"user_id":1402017,"display_name":"pc3356"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14339,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1661971075,"creation_date":1337290957,"question_id":10643936,"body_markdown":"We&#39;ve been putting together some (really simple) code in order to test out and introduce Lombok annotations into our project to make our code a bit nicer. Unfortunately, seems to break in testing, both through Maven and when the tests are run through IntelliJ.\r\n\r\nOur domain classes look something like:\r\n \r\n    package foo.bar;\r\n\r\n    import lombok.Data;\r\n\r\n    @Data\r\n    public class Noddy {\r\n\r\n        private int id;\r\n        private String name;\r\n\r\n    }\r\n\r\nWith a corresponding test:\r\n\r\n    package foo.bar;\r\n\r\n    import org.junit.Test;\r\n    import static org.junit.Assert.assertEquals;\r\n\r\n    public class NoddyTest {\r\n\r\n        @Test\r\n        public void testLombokAnnotations(){\r\n            Noddy noddy = new Noddy();\r\n            noddy.setId(1);\r\n            noddy.setName(&quot;some name&quot;);\r\n            assertEquals(noddy.getName(), &quot;some name&quot;);\r\n        }\r\n    }\r\n\r\nWe have the aspectjrt dependency in Maven (as well as the relevant plugin in IntelliJ), and the aspectj-maven-plugin.\r\n\r\nWe&#39;re running with Maven 2-style POMs, JSDK 1.6.0_31, Lombok 0.11.0:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;0.11.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAre we doing something stupid or missing something obvious?\r\n\r\nIt would be great if we can get this working, as I&#39;ve had an eye to using Lombok in production for some time now.\r\n\r\nMany thanks,\r\n\r\nP.\r\n\r\n(FWIW, IntelliJ 11.1.2 has the Lombok plugin 0.4 and seems to be using ACJ for this project)","title":"Can&#39;t seem to get Lombok to work in unit tests","body":"<p>We've been putting together some (really simple) code in order to test out and introduce Lombok annotations into our project to make our code a bit nicer. Unfortunately, seems to break in testing, both through Maven and when the tests are run through IntelliJ.</p>\n\n<p>Our domain classes look something like:</p>\n\n<pre><code>package foo.bar;\n\nimport lombok.Data;\n\n@Data\npublic class Noddy {\n\n    private int id;\n    private String name;\n\n}\n</code></pre>\n\n<p>With a corresponding test:</p>\n\n<pre><code>package foo.bar;\n\nimport org.junit.Test;\nimport static org.junit.Assert.assertEquals;\n\npublic class NoddyTest {\n\n    @Test\n    public void testLombokAnnotations(){\n        Noddy noddy = new Noddy();\n        noddy.setId(1);\n        noddy.setName(\"some name\");\n        assertEquals(noddy.getName(), \"some name\");\n    }\n}\n</code></pre>\n\n<p>We have the aspectjrt dependency in Maven (as well as the relevant plugin in IntelliJ), and the aspectj-maven-plugin.</p>\n\n<p>We're running with Maven 2-style POMs, JSDK 1.6.0_31, Lombok 0.11.0:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;0.11.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Are we doing something stupid or missing something obvious?</p>\n\n<p>It would be great if we can get this working, as I've had an eye to using Lombok in production for some time now.</p>\n\n<p>Many thanks,</p>\n\n<p>P.</p>\n\n<p>(FWIW, IntelliJ 11.1.2 has the Lombok plugin 0.4 and seems to be using ACJ for this project)</p>\n"},{"tags":["java","android","android-widget"],"answers":[{"tags":[],"owner":{"account_id":280278,"reputation":12,"user_id":575874,"display_name":"m3roving"},"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1318870568,"creation_date":1318870568,"answer_id":7797002,"question_id":7766779,"body_markdown":"buildRemoteView must be defined in EditPreferences not in Widget Class. I had the same problem, but after studying this: http://developer.android.com/guide/topics/appwidgets/index.html#Configuring I moved all remoteView buildings to config activity - it&#39;s working now ","title":"widget doesn&#39;t refresh after configuration changes","body":"<p>buildRemoteView must be defined in EditPreferences not in Widget Class. I had the same problem, but after studying this: <a href=\"http://developer.android.com/guide/topics/appwidgets/index.html#Configuring\" rel=\"nofollow\">http://developer.android.com/guide/topics/appwidgets/index.html#Configuring</a> I moved all remoteView buildings to config activity - it's working now </p>\n"},{"tags":[],"owner":{"account_id":12926248,"reputation":5663,"user_id":9346859,"display_name":"Bilal Şimşek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661970563,"creation_date":1661970563,"answer_id":73560387,"question_id":7766779,"body_markdown":"For future needs. I added a button to my layout xml for my widget.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@color/white&quot;\r\n    \r\n        android:orientation=&quot;vertical&quot; &gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/timeout_title&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:textStyle=&quot;bold&quot;\r\n            android:gravity=&quot;center&quot;/&gt;\r\n    \r\n        &lt;!-- ListView to be shown on widget --&gt;\r\n        &lt;ListView\r\n            android:id=&quot;@+id/timeoutListViewWidget&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;300dp&quot;\r\n            android:layout_marginEnd=&quot;45dp&quot;\r\n            android:divider=&quot;@null&quot;\r\n            /&gt;\r\n    \r\n        &lt;ImageButton\r\n            android:id=&quot;@+id/timeout_edit&quot;\r\n            android:layout_width=&quot;30dp&quot;\r\n            android:layout_height=&quot;30dp&quot;\r\n            android:layout_marginEnd=&quot;10dp&quot;\r\n            android:layout_marginBottom=&quot;10dp&quot;\r\n            android:src=&quot;@drawable/pen&quot;\r\n            /&gt;\r\n    \r\n        &lt;!-- Empty view is show if list items are empty --&gt;\r\n        &lt;TextView\r\n            android:id=&quot;@+id/timeOutEmpty_view&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Veri Listesi boş&quot;\r\n            android:textColor=&quot;#ffffff&quot;\r\n            android:textSize=&quot;20sp&quot;\r\n            android:visibility=&quot;gone&quot; /&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nthen I defined onClick listener where I defined remoteviews in my widgetproviders class;\r\n\r\n \r\n\r\n    private RemoteViews updateWidgetListView(Context context,\r\n                                                 int appWidgetId) {\r\n    \r\n            //which layout to show on widget\r\n            RemoteViews remoteViews = new RemoteViews(\r\n                    context.getPackageName(), R.layout.timeout_widget);\r\n    \r\n            Intent svcIntent = new Intent(context, TimeoutWidgetService.class);\r\n    \r\n            svcIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n    \r\n            svcIntent.setData(Uri.parse(\r\n                    svcIntent.toUri(Intent.URI_INTENT_SCHEME)));\r\n    \r\n            remoteViews.setRemoteAdapter( R.id.timeoutListViewWidget, svcIntent);\r\n    \r\n            remoteViews.setEmptyView(R.id.timeOutEmpty_view, R.id.timeOutEmpty_view);\r\n    \r\n            Intent configIntent = new Intent(context, AppWidgetDepLevelActivity.class);\r\n            configIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n            // Make this unique for this appWidgetId\r\n            configIntent.setData(Uri.withAppendedPath(Uri.parse(&quot;customuri://widget/id/&quot;), String.valueOf(appWidgetId)));\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, configIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK), PendingIntent.FLAG_UPDATE_CURRENT);\r\n    \r\n           remoteViews.setOnClickPendingIntent(R.id.timeout_edit, pendingIntent);\r\n            return remoteViews;\r\n        }\r\n\r\n\r\nthen in my ConfigurationActivity I created new bundle that carries my config changes;\r\n\r\n    Bundle newOps = new Bundle();\r\n    newOps.putInt(&quot;level&quot;,0);\r\n\r\nand called ; \r\n\r\n`appWidgetManager.updateAppWidgetOptions(appWidgetId,newOps);`\r\n\r\nwhole function;\r\n\r\n    private void updateAppWidgetOptions() {\r\n            appWidgetId = AppWidgetManager.INVALID_APPWIDGET_ID;\r\n            Intent intent = getIntent();\r\n            Bundle extras = intent.getExtras();\r\n            if (extras != null) {\r\n                appWidgetId = extras.getInt(\r\n                        AppWidgetManager.EXTRA_APPWIDGET_ID,\r\n                        AppWidgetManager.INVALID_APPWIDGET_ID);\r\n                if (appWidgetId == AppWidgetManager.INVALID_APPWIDGET_ID) {\r\n                    finish();\r\n                }\r\n    \r\n                AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(getApplicationContext());\r\n                RemoteViews views = new RemoteViews(getApplicationContext().getPackageName(),\r\n                        R.layout.timeout_widget);\r\n                Bundle newOps = new Bundle();\r\n                newOps.putInt(&quot;level&quot;,0);\r\n                appWidgetManager.updateAppWidgetOptions(appWidgetId,newOps);\r\n    \r\n                Intent resultValue = new Intent();\r\n    \r\n                resultValue.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n    \r\n                setResult(RESULT_OK, resultValue);\r\n    \r\n                finish();\r\n            }\r\n        }\r\n    \r\n                \r\n\r\nand this function triggers  overrided `onAppWidgetOptionsChanged` function in my appwidget provider class and I run my logic there. \r\n\r\nhere is the function ;\r\n\r\n     @Override\r\n        public void onAppWidgetOptionsChanged(Context context, AppWidgetManager appWidgetManager, int appWidgetId, Bundle newOptions) {\r\n            super.onAppWidgetOptionsChanged(context, appWidgetManager, appWidgetId, newOptions);\r\n            Log.d(&quot;APPWIGET&quot;,&quot;onAppWidgetOptionsChanged&quot;);\r\n            Object level = newOptions.get(&quot;level&quot;);\r\n            if(level!= null){\r\n                Log.d(&quot;APPWIGET&quot;,level.toString());\r\n            }\r\n            Date date = new Date();\r\n            now = date.getTime();\r\n    \r\n            this.appWidgetId = appWidgetId;\r\n            this.appWidgetManager = appWidgetManager;\r\n            getTimeOutReportData(context);\r\n    \r\n        }","title":"widget doesn&#39;t refresh after configuration changes","body":"<p>For future needs. I added a button to my layout xml for my widget.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@color/white&quot;\n\n    android:orientation=&quot;vertical&quot; &gt;\n    &lt;TextView\n        android:id=&quot;@+id/timeout_title&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:gravity=&quot;center&quot;/&gt;\n\n    &lt;!-- ListView to be shown on widget --&gt;\n    &lt;ListView\n        android:id=&quot;@+id/timeoutListViewWidget&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;300dp&quot;\n        android:layout_marginEnd=&quot;45dp&quot;\n        android:divider=&quot;@null&quot;\n        /&gt;\n\n    &lt;ImageButton\n        android:id=&quot;@+id/timeout_edit&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_marginEnd=&quot;10dp&quot;\n        android:layout_marginBottom=&quot;10dp&quot;\n        android:src=&quot;@drawable/pen&quot;\n        /&gt;\n\n    &lt;!-- Empty view is show if list items are empty --&gt;\n    &lt;TextView\n        android:id=&quot;@+id/timeOutEmpty_view&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Veri Listesi boş&quot;\n        android:textColor=&quot;#ffffff&quot;\n        android:textSize=&quot;20sp&quot;\n        android:visibility=&quot;gone&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>then I defined onClick listener where I defined remoteviews in my widgetproviders class;</p>\n<pre><code>private RemoteViews updateWidgetListView(Context context,\n                                             int appWidgetId) {\n\n        //which layout to show on widget\n        RemoteViews remoteViews = new RemoteViews(\n                context.getPackageName(), R.layout.timeout_widget);\n\n        Intent svcIntent = new Intent(context, TimeoutWidgetService.class);\n\n        svcIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n\n        svcIntent.setData(Uri.parse(\n                svcIntent.toUri(Intent.URI_INTENT_SCHEME)));\n\n        remoteViews.setRemoteAdapter( R.id.timeoutListViewWidget, svcIntent);\n\n        remoteViews.setEmptyView(R.id.timeOutEmpty_view, R.id.timeOutEmpty_view);\n\n        Intent configIntent = new Intent(context, AppWidgetDepLevelActivity.class);\n        configIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n        // Make this unique for this appWidgetId\n        configIntent.setData(Uri.withAppendedPath(Uri.parse(&quot;customuri://widget/id/&quot;), String.valueOf(appWidgetId)));\n        PendingIntent pendingIntent = PendingIntent.getActivity(context, 0, configIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK), PendingIntent.FLAG_UPDATE_CURRENT);\n\n       remoteViews.setOnClickPendingIntent(R.id.timeout_edit, pendingIntent);\n        return remoteViews;\n    }\n</code></pre>\n<p>then in my ConfigurationActivity I created new bundle that carries my config changes;</p>\n<pre><code>Bundle newOps = new Bundle();\nnewOps.putInt(&quot;level&quot;,0);\n</code></pre>\n<p>and called ;</p>\n<p><code>appWidgetManager.updateAppWidgetOptions(appWidgetId,newOps);</code></p>\n<p>whole function;</p>\n<pre><code>private void updateAppWidgetOptions() {\n        appWidgetId = AppWidgetManager.INVALID_APPWIDGET_ID;\n        Intent intent = getIntent();\n        Bundle extras = intent.getExtras();\n        if (extras != null) {\n            appWidgetId = extras.getInt(\n                    AppWidgetManager.EXTRA_APPWIDGET_ID,\n                    AppWidgetManager.INVALID_APPWIDGET_ID);\n            if (appWidgetId == AppWidgetManager.INVALID_APPWIDGET_ID) {\n                finish();\n            }\n\n            AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(getApplicationContext());\n            RemoteViews views = new RemoteViews(getApplicationContext().getPackageName(),\n                    R.layout.timeout_widget);\n            Bundle newOps = new Bundle();\n            newOps.putInt(&quot;level&quot;,0);\n            appWidgetManager.updateAppWidgetOptions(appWidgetId,newOps);\n\n            Intent resultValue = new Intent();\n\n            resultValue.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n\n            setResult(RESULT_OK, resultValue);\n\n            finish();\n        }\n    }\n\n            \n</code></pre>\n<p>and this function triggers  overrided <code>onAppWidgetOptionsChanged</code> function in my appwidget provider class and I run my logic there.</p>\n<p>here is the function ;</p>\n<pre><code> @Override\n    public void onAppWidgetOptionsChanged(Context context, AppWidgetManager appWidgetManager, int appWidgetId, Bundle newOptions) {\n        super.onAppWidgetOptionsChanged(context, appWidgetManager, appWidgetId, newOptions);\n        Log.d(&quot;APPWIGET&quot;,&quot;onAppWidgetOptionsChanged&quot;);\n        Object level = newOptions.get(&quot;level&quot;);\n        if(level!= null){\n            Log.d(&quot;APPWIGET&quot;,level.toString());\n        }\n        Date date = new Date();\n        now = date.getTime();\n\n        this.appWidgetId = appWidgetId;\n        this.appWidgetManager = appWidgetManager;\n        getTimeOutReportData(context);\n\n    }\n</code></pre>\n"}],"owner":{"account_id":324412,"reputation":1182,"user_id":644972,"accept_rate":87,"display_name":"Elad Gelman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3478,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":7797002,"answer_count":2,"score":8,"last_activity_date":1661970563,"creation_date":1318590736,"question_id":7766779,"body_markdown":"I wrote an AppWidget for my app that you can choose a name of place you like and it shows you a pic from that place.\r\n\r\nIt has a configuration Activity (I used the same configuration activity of the app itself)\r\nwhen first added, the widget and the it&#39;s configuration handeling works fine: I choose a place I like and I see the pic;\r\n\r\nProblem is Whenever I restart the device(or it goes out of sleep mode)\r\nthen when I click on it(the widget) I go into the configuration activity - change to the desired pic and nothing happens\r\nwhen I debug I can see that: \r\n\r\n    appWidgetManager.updateAppWidget(mAppWidgetId, views);\r\n    mAppWidgetId = \r\n\r\nhas an `id`, and `views` is not `null`.\r\nso what the hack is going on?\r\nmy idea is that on restart of the device the widgetId changes, and that I don&#39;t handle it like I should.\r\nBTW if try the same on the emulator I have no problems everything works fine\r\n\r\nhere is my code:\r\n\r\nManifest.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n\t\tpackage=&quot;com.test.dryrun&quot; android:versionCode=&quot;3&quot;\r\n\t\tandroid:versionName=&quot;1.1&quot; android:installLocation=&quot;auto&quot;&gt;\r\n\t\t&lt;uses-sdk android:minSdkVersion=&quot;8&quot; /&gt;\r\n\r\n\t\t&lt;application android:icon=&quot;@drawable/ic_launcher_test&quot;\r\n\t\t\tandroid:label=&quot;@string/app_name&quot; android:theme=&quot;@android:style/Theme.NoTitleBar.Fullscreen&quot;\r\n\t\t\tandroid:debuggable=&quot;true&quot;&gt;&lt;!-- different&lt; android:theme=&quot;@style/Theme.NoBackground&quot; --&gt;\r\n\r\n\t\t\t&lt;!-- Main Activity --&gt;\r\n\t\t\t&lt;activity android:name=&quot;.MyActivity&quot;&gt;\r\n\t\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\t&lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\t\t\t\t\t&lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n\t\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t&lt;/activity&gt;\r\n\r\n\t\t\t&lt;!-- Preferences --&gt;\r\n\r\n\t\t\t&lt;activity android:name=&quot;.Preferences.EditPreferences&quot;&gt;\r\n\t\t\t\t &lt;action android:name=&quot;android.appwidget.action.APPWIDGET_CONFIGURE&quot;/&gt;\r\n\t\t\t&lt;/activity&gt;\r\n\r\n\t\t\t&lt;!-- Widgets --&gt;\r\n\r\n\t\t\t&lt;!--  Widget--&gt;\r\n\t\t\t&lt;receiver android:name=&quot;.Widget.testWidget&quot; android:label=&quot;@string/app_widget_&quot;&gt;\r\n\t\t\t\t&lt;intent-filter&gt;\r\n\t\t\t\t\t&lt;action android:name=&quot;android.appwidget.action.APPWIDGET_UPDATE&quot; /&gt;\r\n\t\t\t\t\t&lt;!--action\r\n\t\t\t\t\t\tandroid:name=&quot;com.test.dryrun.Widget.testWidget.PREFENCES_WIDGET_CONFIGURE&quot; /--&gt;\r\n\t\t\t\t&lt;/intent-filter&gt;\r\n\t\t\t\t&lt;meta-data android:name=&quot;android.appwidget.provider&quot;\r\n\t\t\t\t\tandroid:resource=&quot;@xml/test_widget__provider&quot; /&gt;\r\n\t\t\t&lt;/receiver&gt;\r\n\t\t\t&lt;service android:name=&quot;.Widget.testWidget$WidgetService&quot; /&gt;\r\n\r\n\t\t\t&lt;uses-permission android:name=&quot;android.permission.BIND_REMOTEVIEWS&quot;&gt;&lt;/uses-permission&gt;\r\n\t\t&lt;/application&gt;\r\n\t&lt;/manifest&gt;\r\n\r\nappwidget_provider xml\r\n\r\n    &lt;appwidget-provider xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n     android:minWidth=&quot;146dip&quot;\r\n     android:minHeight=&quot;146dip&quot;\r\n     android:updatePeriodMillis=&quot;0&quot;\r\n     android:initialLayout=&quot;@layout/test_widget&quot;\r\n    /&gt;\r\n\r\nWidget Class\r\n\r\n    public class testWidget extends AppWidgetProvider {\r\n        public static String PREFENCES_WIDGET_CONFIGURE = &quot;ActionConfigureWidget&quot;;\r\n        \r\n        @Override\r\n        public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n            Intent svcIntent = new Intent(context, WidgetService.class);\r\n            widgets = appWidgetIds;\r\n            context.startService(svcIntent);\r\n        }\r\n\r\n\r\n\t  @Override\r\n\t  public void onReceive(Context context, Intent intent) \r\n\t  {\r\n\t  \t\r\n\t\t\t// v1.5 fix that doesn&#39;t call onDelete Action\r\n\t\t\tfinal String action = intent.getAction();\r\n\t\t\tif (AppWidgetManager.ACTION_APPWIDGET_DELETED.equals(action))\r\n\t\t\t{\r\n\t\t\t\tfinal int appWidgetId = intent.getExtras().getInt(\r\n\t\t\t\t\t\tAppWidgetManager.EXTRA_APPWIDGET_ID,\r\n\t\t\t\t\t\tAppWidgetManager.INVALID_APPWIDGET_ID);\r\n\t\t\t\tif (appWidgetId != AppWidgetManager.INVALID_APPWIDGET_ID)\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.onDeleted(context, new int[] { appWidgetId });\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tsuper.onReceive(context, intent);\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//public void updateWidget()\r\n\t\t/**\r\n\t\t* @param context\r\n\t\t* @param remoteViews\r\n\t\t*/\r\n\t\tpublic static void updateWidget(Context context, RemoteViews remoteViews)\r\n\t\t{\r\n\t\t\tString Prefix = context.getString(R.string._prefix);\r\n\r\n\t\t\tSharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(context);\r\n\t\t\tString ToShow = prefs.getString(context.getString(\r\n\t\t\t\t\t\t R.string.Widget_string),\r\n\t\t\t\t\t\t context.getString(R.string.default_string));\r\n\r\n\t\t\tString pkgName = context.getPackageName();\r\n\t\t\tint resID = context.getResources().getIdentifier(Prefix + ToShow, &quot;drawable&quot;, pkgName);\r\n\r\n\t\t\tWidgetController widgetController = WidgetController.getInstance();\r\n\t\t\twidgetController.setRemoteViewImageViewSource(remoteViews, R.id.WidgetImage, resID);\r\n\t    }\r\n\t\r\n\t    public static class WidgetService extends Service\r\n\t    {\r\n\t\t\t@Override\r\n\t\t\tpublic void onStart(Intent intent, int startId)\r\n\t\t\t{\r\n\t\t\t\tsuper.onStart(intent, startId);\r\n\t\t\t\t// Update the widget\r\n\t\t\t\tRemoteViews remoteView = buildRemoteView(this);\r\n\r\n\t\t\t\t// Push update to homescreen\r\n\t\t\t\tWidgetController.getInstance().pushUpdate(\r\n\t\t\t\t\t\tremoteView, \r\n\t\t\t\t\t\tgetApplicationContext(),\r\n\t\t\t\t\t\ttestWidget.class);\r\n\r\n\t\t\t\t// No more updates so stop the service and free resources\r\n\t\t\t\tstopSelf();\r\n\t\t\t}\r\n\r\n\t\t\tpublic RemoteViews buildRemoteView(Context context)\r\n\t\t\t{\r\n\t\t\t\tRemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.test_widget);\r\n\r\n\t\t\t\tIntent configIntent = new Intent(context, EditPreferences.class);\r\n\t\t\t\tconfigIntent.setAction(testWidget.PREFENCES_WIDGET_CONFIGURE);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tconfigIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, widgets[0]);\r\n\t\t\t\t\r\n\t\t\t\t//configIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\t\t\t\tPendingIntent runtestPendingIntent = PendingIntent.getActivity(context, 0, configIntent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\t\t\t\tremoteViews.setOnClickPendingIntent(R.id.WidgetImage, runtestPendingIntent);\r\n\t\t\t\t\r\n\t\t\t\tWidgetController controller =  WidgetController.getInstance();\r\n\t\t\t\t\r\n\t\t\t\tcontroller.updateWidget(context, remoteViews);\r\n\r\n\t\t\t\treturn remoteViews;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void onConfigurationChanged(Configuration newConfig)\r\n\t\t\t{\r\n\t\t\t\tint oldOrientation = this.getResources().getConfiguration().orientation;\r\n\r\n\t\t\t\tif(newConfig.orientation != oldOrientation)\r\n\t\t\t\t{\r\n\t\t\t\t\t// Update the widget\r\n\t\t\t\t\tRemoteViews remoteView = buildRemoteView(this);\r\n\r\n\t\t\t\t\t// Push update to homescreen\r\n\t\t\t\t\tWidgetController.getInstance().pushUpdate(\r\n\t\t\t\t\t\t\tremoteView, \r\n\t\t\t\t\t\t\tgetApplicationContext(),\r\n\t\t\t\t\t\t\ttestWidget.class);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic IBinder onBind(Intent arg0)\r\n\t\t\t{\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\nPrefences class\r\n\r\n\tpublic class EditPreferences extends PreferenceActivity implements OnSharedPreferenceChangeListener\r\n    {\r\n\t\t@Override\r\n\t\tpublic void onCreate(Bundle savedInstanceState) \r\n\t\t{\r\n\t\t\tsuper.onCreate(savedInstanceState);\r\n\t\t\taddPreferencesFromResource(R.xml.preferences);\r\n\t\t\tIntent intent = getIntent();\r\n\t\t\tm_extras = intent.getExtras();\r\n\t\t}\r\n\t\tprivate Bundle m_extras;\r\n\r\n\t\t@Override\r\n\t\tpublic void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) \r\n\t\t{\r\n\t\t\tif(key.equals(getString(R.string.rlvntString)))\r\n\t\t\t{\r\n\t\t\t\tContext ctx = getApplicationContext();\r\n\t\t\t\tAppWidgetManager appWidgetManager = AppWidgetManager.getInstance(ctx);\r\n\t\t\t\tsetResult(RESULT_CANCELED);\r\n\t\t\t\tif (m_extras != null) \r\n\t\t\t\t{\r\n\t\t\t\t\tIntent resultValue = new Intent();\r\n\t\t\t\t\t\r\n\t\t\t\t\tString stringID = AppWidgetManager.EXTRA_APPWIDGET_ID;\r\n\t\t\t\t\tmAppWidgetId = m_extras.getInt(\r\n\t\t\t\t\t\t\t\tstringID, \r\n\t\t\t\t\t\t\t\tAppWidgetManager.INVALID_APPWIDGET_ID);\r\n\t\t\t\t\tRemoteViews views = new RemoteViews(ctx.getPackageName(),R.layout.test_widget);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tWidgetController.getInstance().updateWidget(ctx, views);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tappWidgetManager.updateAppWidget(mAppWidgetId, views);\r\n\t\t\t\t\tresultValue.putExtra(stringID, mAppWidgetId);\r\n\t\t\t\t\tsetResult(RESULT_OK, resultValue);\r\n\t\t\t\t\tfinish();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"widget doesn&#39;t refresh after configuration changes","body":"<p>I wrote an AppWidget for my app that you can choose a name of place you like and it shows you a pic from that place.</p>\n\n<p>It has a configuration Activity (I used the same configuration activity of the app itself)\nwhen first added, the widget and the it's configuration handeling works fine: I choose a place I like and I see the pic;</p>\n\n<p>Problem is Whenever I restart the device(or it goes out of sleep mode)\nthen when I click on it(the widget) I go into the configuration activity - change to the desired pic and nothing happens\nwhen I debug I can see that: </p>\n\n<pre><code>appWidgetManager.updateAppWidget(mAppWidgetId, views);\nmAppWidgetId = \n</code></pre>\n\n<p>has an <code>id</code>, and <code>views</code> is not <code>null</code>.\nso what the hack is going on?\nmy idea is that on restart of the device the widgetId changes, and that I don't handle it like I should.\nBTW if try the same on the emulator I have no problems everything works fine</p>\n\n<p>here is my code:</p>\n\n<p>Manifest.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.test.dryrun\" android:versionCode=\"3\"\n    android:versionName=\"1.1\" android:installLocation=\"auto\"&gt;\n    &lt;uses-sdk android:minSdkVersion=\"8\" /&gt;\n\n    &lt;application android:icon=\"@drawable/ic_launcher_test\"\n        android:label=\"@string/app_name\" android:theme=\"@android:style/Theme.NoTitleBar.Fullscreen\"\n        android:debuggable=\"true\"&gt;&lt;!-- different&lt; android:theme=\"@style/Theme.NoBackground\" --&gt;\n\n        &lt;!-- Main Activity --&gt;\n        &lt;activity android:name=\".MyActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;!-- Preferences --&gt;\n\n        &lt;activity android:name=\".Preferences.EditPreferences\"&gt;\n             &lt;action android:name=\"android.appwidget.action.APPWIDGET_CONFIGURE\"/&gt;\n        &lt;/activity&gt;\n\n        &lt;!-- Widgets --&gt;\n\n        &lt;!--  Widget--&gt;\n        &lt;receiver android:name=\".Widget.testWidget\" android:label=\"@string/app_widget_\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.appwidget.action.APPWIDGET_UPDATE\" /&gt;\n                &lt;!--action\n                    android:name=\"com.test.dryrun.Widget.testWidget.PREFENCES_WIDGET_CONFIGURE\" /--&gt;\n            &lt;/intent-filter&gt;\n            &lt;meta-data android:name=\"android.appwidget.provider\"\n                android:resource=\"@xml/test_widget__provider\" /&gt;\n        &lt;/receiver&gt;\n        &lt;service android:name=\".Widget.testWidget$WidgetService\" /&gt;\n\n        &lt;uses-permission android:name=\"android.permission.BIND_REMOTEVIEWS\"&gt;&lt;/uses-permission&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>appwidget_provider xml</p>\n\n<pre><code>&lt;appwidget-provider xmlns:android=\"http://schemas.android.com/apk/res/android\"\n android:minWidth=\"146dip\"\n android:minHeight=\"146dip\"\n android:updatePeriodMillis=\"0\"\n android:initialLayout=\"@layout/test_widget\"\n/&gt;\n</code></pre>\n\n<p>Widget Class</p>\n\n<pre><code>public class testWidget extends AppWidgetProvider {\n    public static String PREFENCES_WIDGET_CONFIGURE = \"ActionConfigureWidget\";\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        Intent svcIntent = new Intent(context, WidgetService.class);\n        widgets = appWidgetIds;\n        context.startService(svcIntent);\n    }\n\n\n  @Override\n  public void onReceive(Context context, Intent intent) \n  {\n\n        // v1.5 fix that doesn't call onDelete Action\n        final String action = intent.getAction();\n        if (AppWidgetManager.ACTION_APPWIDGET_DELETED.equals(action))\n        {\n            final int appWidgetId = intent.getExtras().getInt(\n                    AppWidgetManager.EXTRA_APPWIDGET_ID,\n                    AppWidgetManager.INVALID_APPWIDGET_ID);\n            if (appWidgetId != AppWidgetManager.INVALID_APPWIDGET_ID)\n            {\n                this.onDeleted(context, new int[] { appWidgetId });\n            }\n        }\n        else\n        {\n            super.onReceive(context, intent);           \n        }\n    }\n\n    //public void updateWidget()\n    /**\n    * @param context\n    * @param remoteViews\n    */\n    public static void updateWidget(Context context, RemoteViews remoteViews)\n    {\n        String Prefix = context.getString(R.string._prefix);\n\n        SharedPreferences prefs = PreferenceManager.getDefaultSharedPreferences(context);\n        String ToShow = prefs.getString(context.getString(\n                     R.string.Widget_string),\n                     context.getString(R.string.default_string));\n\n        String pkgName = context.getPackageName();\n        int resID = context.getResources().getIdentifier(Prefix + ToShow, \"drawable\", pkgName);\n\n        WidgetController widgetController = WidgetController.getInstance();\n        widgetController.setRemoteViewImageViewSource(remoteViews, R.id.WidgetImage, resID);\n    }\n\n    public static class WidgetService extends Service\n    {\n        @Override\n        public void onStart(Intent intent, int startId)\n        {\n            super.onStart(intent, startId);\n            // Update the widget\n            RemoteViews remoteView = buildRemoteView(this);\n\n            // Push update to homescreen\n            WidgetController.getInstance().pushUpdate(\n                    remoteView, \n                    getApplicationContext(),\n                    testWidget.class);\n\n            // No more updates so stop the service and free resources\n            stopSelf();\n        }\n\n        public RemoteViews buildRemoteView(Context context)\n        {\n            RemoteViews remoteViews = new RemoteViews(context.getPackageName(), R.layout.test_widget);\n\n            Intent configIntent = new Intent(context, EditPreferences.class);\n            configIntent.setAction(testWidget.PREFENCES_WIDGET_CONFIGURE);\n\n\n            configIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, widgets[0]);\n\n            //configIntent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n            PendingIntent runtestPendingIntent = PendingIntent.getActivity(context, 0, configIntent, PendingIntent.FLAG_UPDATE_CURRENT);\n            remoteViews.setOnClickPendingIntent(R.id.WidgetImage, runtestPendingIntent);\n\n            WidgetController controller =  WidgetController.getInstance();\n\n            controller.updateWidget(context, remoteViews);\n\n            return remoteViews;\n        }\n\n        @Override\n        public void onConfigurationChanged(Configuration newConfig)\n        {\n            int oldOrientation = this.getResources().getConfiguration().orientation;\n\n            if(newConfig.orientation != oldOrientation)\n            {\n                // Update the widget\n                RemoteViews remoteView = buildRemoteView(this);\n\n                // Push update to homescreen\n                WidgetController.getInstance().pushUpdate(\n                        remoteView, \n                        getApplicationContext(),\n                        testWidget.class);\n            }\n        }\n\n        @Override\n        public IBinder onBind(Intent arg0)\n        {\n            // TODO Auto-generated method stub\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<p>Prefences class</p>\n\n<pre><code>public class EditPreferences extends PreferenceActivity implements OnSharedPreferenceChangeListener\n{\n    @Override\n    public void onCreate(Bundle savedInstanceState) \n    {\n        super.onCreate(savedInstanceState);\n        addPreferencesFromResource(R.xml.preferences);\n        Intent intent = getIntent();\n        m_extras = intent.getExtras();\n    }\n    private Bundle m_extras;\n\n    @Override\n    public void onSharedPreferenceChanged(SharedPreferences sharedPreferences, String key) \n    {\n        if(key.equals(getString(R.string.rlvntString)))\n        {\n            Context ctx = getApplicationContext();\n            AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(ctx);\n            setResult(RESULT_CANCELED);\n            if (m_extras != null) \n            {\n                Intent resultValue = new Intent();\n\n                String stringID = AppWidgetManager.EXTRA_APPWIDGET_ID;\n                mAppWidgetId = m_extras.getInt(\n                            stringID, \n                            AppWidgetManager.INVALID_APPWIDGET_ID);\n                RemoteViews views = new RemoteViews(ctx.getPackageName(),R.layout.test_widget);\n\n                WidgetController.getInstance().updateWidget(ctx, views);\n\n                appWidgetManager.updateAppWidget(mAppWidgetId, views);\n                resultValue.putExtra(stringID, mAppWidgetId);\n                setResult(RESULT_OK, resultValue);\n                finish();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","elasticsearch","java-8","spring-batch"],"comments":[{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":1,"creation_date":1591710826,"post_id":62283905,"comment_id":110154953,"body_markdown":"If it is one time loading activity I would go for Stream as 8M is not a huge number. And if it is an ongoing activity after this initial load, I would go for spring batch configured to use its schedule and monitoring etc features.","body":"If it is one time loading activity I would go for Stream as 8M is not a huge number. And if it is an ongoing activity after this initial load, I would go for spring batch configured to use its schedule and monitoring etc features."},{"owner":{"account_id":3130319,"reputation":764,"user_id":2648257,"display_name":"Bharathiraja"},"score":0,"creation_date":1591710974,"post_id":62283905,"comment_id":110155045,"body_markdown":"@AjayKumar, i have one more doubt, mostly i see example in various site, they used spring batch for flat files like csv etc. whether can we take data from database and process further in spring batch ?","body":"@AjayKumar, i have one more doubt, mostly i see example in various site, they used spring batch for flat files like csv etc. whether can we take data from database and process further in spring batch ?"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":1,"creation_date":1591711179,"post_id":62283905,"comment_id":110155155,"body_markdown":"Of course you can.!. And if you need help on that, Google SE is flooded with working examples to get you started.","body":"Of course you can.!. And if you need help on that, Google SE is flooded with working examples to get you started."},{"owner":{"account_id":3130319,"reputation":764,"user_id":2648257,"display_name":"Bharathiraja"},"score":0,"creation_date":1591711192,"post_id":62283905,"comment_id":110155159,"body_markdown":"@AjayKumar, for first comment- even in spring boot with java 8 stream, we can do scheduler using quartz right. is there any significance performance using spring batch ?","body":"@AjayKumar, for first comment- even in spring boot with java 8 stream, we can do scheduler using quartz right. is there any significance performance using spring batch ?"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":1,"creation_date":1591711495,"post_id":62283905,"comment_id":110155356,"body_markdown":"Spring batch gives you all the features And flexibility you can expect from a batch service. Just configure it, and let it do the hard work for you. But if you are not comfortable and dont have time to learn and adapt it and as I said earlier, if it is one time activity, go for Stream option which you are already comfortable with. Good Luck.!","body":"Spring batch gives you all the features And flexibility you can expect from a batch service. Just configure it, and let it do the hard work for you. But if you are not comfortable and dont have time to learn and adapt it and as I said earlier, if it is one time activity, go for Stream option which you are already comfortable with. Good Luck.!"},{"owner":{"account_id":3130319,"reputation":764,"user_id":2648257,"display_name":"Bharathiraja"},"score":0,"creation_date":1591711611,"post_id":62283905,"comment_id":110155420,"body_markdown":"@AjayKumar, thanks for your help","body":"@AjayKumar, thanks for your help"},{"owner":{"account_id":11653885,"reputation":2966,"user_id":8534285,"display_name":"Ajay Kumar"},"score":1,"creation_date":1591711747,"post_id":62283905,"comment_id":110155503,"body_markdown":"Sure thing. This might interest you - https://stackoverflow.com/questions/30509821/how-to-read-data-from-one-db-table-and-write-data-to-another-table-using-spring","body":"Sure thing. This might interest you - <a href=\"https://stackoverflow.com/questions/30509821/how-to-read-data-from-one-db-table-and-write-data-to-another-table-using-spring\" title=\"how to read data from one db table and write data to another table using spring\">stackoverflow.com/questions/30509821/&hellip;</a>"},{"owner":{"account_id":2443099,"reputation":9128,"user_id":2131074,"accept_rate":75,"display_name":"GPI"},"score":1,"creation_date":1591778085,"post_id":62283905,"comment_id":110181944,"body_markdown":"I guess an important part of your question is : what &quot;processing&quot; do you have to do ? If it&#39;s just mapping from object A to object B, it sure won&#39;t be the same answer as if it&#39;s aggregating on some key and computing partial data and ordering by some other, etc...","body":"I guess an important part of your question is : what &quot;processing&quot; do you have to do ? If it&#39;s just mapping from object A to object B, it sure won&#39;t be the same answer as if it&#39;s aggregating on some key and computing partial data and ordering by some other, etc..."}],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591777016,"creation_date":1591777016,"answer_id":62298878,"question_id":62283905,"body_markdown":"&gt; Here performance is more important for me\r\n\r\nIf you use a Java 8 parallel stream you are limited to a single machine. However, if you use Spring Batch, you can run your job on multiple machines using remote partitioning. That&#39;s a big difference since performance is your priority.\r\n\r\nFor this kind of jobs which might take hours, fault-tolerance and restartability are key concerns IMO. If you use Spring Batch, you can get these features for free while you need to implement them yourself if you use a raw Java 8 parallel stream.\r\n","title":"Any performance improvement in Spring Batch compared to Java 8 parallel stream for huge data processing","body":"<blockquote>\n  <p>Here performance is more important for me</p>\n</blockquote>\n\n<p>If you use a Java 8 parallel stream you are limited to a single machine. However, if you use Spring Batch, you can run your job on multiple machines using remote partitioning. That's a big difference since performance is your priority.</p>\n\n<p>For this kind of jobs which might take hours, fault-tolerance and restartability are key concerns IMO. If you use Spring Batch, you can get these features for free while you need to implement them yourself if you use a raw Java 8 parallel stream.</p>\n"}],"owner":{"account_id":3130319,"reputation":764,"user_id":2648257,"display_name":"Bharathiraja"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661970389,"creation_date":1591709642,"question_id":62283905,"body_markdown":"I&#39;m going to load `8 million records from an `elastic` search index and then do processing and save it to a `Postgres database`.\r\n\r\nI thought of doing it in the following ways.\r\n\r\n - Method 1. Load 1000 records from elastic and keep a list of\r\n   objects and persist it into `Postgres` using `java 8` parallel stream.\r\n - Method 2. Using Spring Batch loading 1000 records as chunk and\r\n   persisting into `Postgres`\r\n\r\nHere performance is more important for me. In less time I would like to insert all records. \r\nAre there any performance improvements in `spring batch` compared to `java 8` parallel streams?\r\n\r\nPlease let me know the best way to achieve this kind of scenario in a faster way.\r\n","title":"Any performance improvement in Spring Batch compared to Java 8 parallel stream for huge data processing","body":"<p>I'm going to load <code>8 million records from an </code>elastic<code>search index and then do processing and save it to a</code>Postgres database`.</p>\n<p>I thought of doing it in the following ways.</p>\n<ul>\n<li>Method 1. Load 1000 records from elastic and keep a list of\nobjects and persist it into <code>Postgres</code> using <code>java 8</code> parallel stream.</li>\n<li>Method 2. Using Spring Batch loading 1000 records as chunk and\npersisting into <code>Postgres</code></li>\n</ul>\n<p>Here performance is more important for me. In less time I would like to insert all records.\nAre there any performance improvements in <code>spring batch</code> compared to <code>java 8</code> parallel streams?</p>\n<p>Please let me know the best way to achieve this kind of scenario in a faster way.</p>\n"},{"tags":["java","android","bitmap","android-gallery","android-camera-intent"],"comments":[{"owner":{"account_id":11030035,"reputation":1372,"user_id":8101634,"display_name":"primo"},"score":0,"creation_date":1661513078,"post_id":73500121,"comment_id":129795694,"body_markdown":"bitmap = (Bitmap) Objects.requireNonNull(result.getData()).getExtras().get(&quot;data&quot;);\nthis line gives you thumnail. That&#39;s why image quality is not good.","body":"bitmap = (Bitmap) Objects.requireNonNull(result.getData()).getExtras().get(&quot;da&zwnj;&#8203;ta&quot;); this line gives you thumnail. That&#39;s why image quality is not good."},{"owner":{"account_id":11030035,"reputation":1372,"user_id":8101634,"display_name":"primo"},"score":0,"creation_date":1661513124,"post_id":73500121,"comment_id":129795710,"body_markdown":"Refer this link for saving high quality images https://developer.android.com/training/camera/photobasics#TaskPath","body":"Refer this link for saving high quality images <a href=\"https://developer.android.com/training/camera/photobasics#TaskPath\" rel=\"nofollow noreferrer\">developer.android.com/training/camera/photobasics#TaskPath</a>"}],"answers":[{"tags":[],"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661513501,"creation_date":1661513501,"answer_id":73500381,"question_id":73500121,"body_markdown":"Your code is the legacy equivalent of [using `ActivityResultContracts.TakePicturePreview`](https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicturePreview). It is specifically set up to return a low-resolution bitmap, suitable for a preview.\r\n\r\nInstead, [use `ActivityResultContracts.TakePicture`](https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicture), and supply your destination `Uri` as part of the contract.\r\n\r\nSee [this](https://www.daniweb.com/programming/mobile-development/tutorials/536924/android-native-take-a-picture-with-activityresult-api) and [this](https://medium.com/codex/how-to-implement-the-activity-result-api-takepicture-contract-with-uri-return-type-7c93881f5b0f) for more.\r\n","title":"how to save high quality image to phone gallery by camera intent","body":"<p>Your code is the legacy equivalent of <a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicturePreview\" rel=\"nofollow noreferrer\">using <code>ActivityResultContracts.TakePicturePreview</code></a>. It is specifically set up to return a low-resolution bitmap, suitable for a preview.</p>\n<p>Instead, <a href=\"https://developer.android.com/reference/androidx/activity/result/contract/ActivityResultContracts.TakePicture\" rel=\"nofollow noreferrer\">use <code>ActivityResultContracts.TakePicture</code></a>, and supply your destination <code>Uri</code> as part of the contract.</p>\n<p>See <a href=\"https://www.daniweb.com/programming/mobile-development/tutorials/536924/android-native-take-a-picture-with-activityresult-api\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://medium.com/codex/how-to-implement-the-activity-result-api-takepicture-contract-with-uri-return-type-7c93881f5b0f\" rel=\"nofollow noreferrer\">this</a> for more.</p>\n"},{"tags":[],"owner":{"display_name":"user19881766"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661970301,"creation_date":1661970301,"answer_id":73560334,"question_id":73500121,"body_markdown":"cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri);\r\nif you get image from data directly, it&#39;s in bad quality\r\n","title":"how to save high quality image to phone gallery by camera intent","body":"<p>cameraIntent.putExtra(MediaStore.EXTRA_OUTPUT, imageUri);\nif you get image from data directly, it's in bad quality</p>\n"}],"owner":{"display_name":"user19841100"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":556,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73560334,"answer_count":2,"score":0,"last_activity_date":1661970301,"creation_date":1661512263,"question_id":73500121,"body_markdown":"I am trying to develop app which save image to gallery. \r\nI want to call the camera through intent, capture images, and save it locally in the gallery\r\nbut the issue is image quality is very poor. can anyone help me figure out why?\r\n\r\n\r\n    if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n               \r\n                    Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\r\n                    someActivityResultLauncher.launch(cameraIntent);}\r\n     \r\n\r\n        @Override\r\n        public void onActivityResult(ActivityResult result) {\r\n            if (result.getResultCode() == RESULT_OK) {\r\n                bitmap = (Bitmap) Objects.requireNonNull(result.getData()).getExtras().get(&quot;data&quot;);\r\n            }\r\n            imageView.setImageBitmap(bitmap);     \r\n            saveimage(bitmap);\r\n         }\r\n   \r\n\r\n   ```\r\nprivate void saveimage(Bitmap bitmap){\r\n        Uri images;\r\n        ContentResolver contentResolver = getContentResolver();\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q){\r\n            images = MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\r\n        }else {\r\n            images = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\r\n        }\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(MediaStore.Images.Media.DISPLAY_NAME, System.currentTimeMillis() +&quot;.jpg&quot;);\r\n        contentValues.put(MediaStore.Images.Media.MIME_TYPE, &quot;images/*&quot;);\r\n        Uri uri = contentResolver.insert(images, contentValues);\r\n        try {\r\n            OutputStream outputStream = contentResolver.openOutputStream(Objects.requireNonNull(uri));\r\n            bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);\r\n            Objects.requireNonNull(outputStream);\r\n\r\n           //\r\n\r\n        }catch (Exception e){\r\n           //\r\n            e.printStackTrace();\r\n\r\n        }\r\n    }\r\n\r\n","title":"how to save high quality image to phone gallery by camera intent","body":"<p>I am trying to develop app which save image to gallery.\nI want to call the camera through intent, capture images, and save it locally in the gallery\nbut the issue is image quality is very poor. can anyone help me figure out why?</p>\n<pre><code>if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n           \n                Intent cameraIntent = new Intent(android.provider.MediaStore.ACTION_IMAGE_CAPTURE);\n                someActivityResultLauncher.launch(cameraIntent);}\n \n\n    @Override\n    public void onActivityResult(ActivityResult result) {\n        if (result.getResultCode() == RESULT_OK) {\n            bitmap = (Bitmap) Objects.requireNonNull(result.getData()).getExtras().get(&quot;data&quot;);\n        }\n        imageView.setImageBitmap(bitmap);     \n        saveimage(bitmap);\n     }\n</code></pre>\n<pre><code>private void saveimage(Bitmap bitmap){\n     Uri images;\n     ContentResolver contentResolver = getContentResolver();\n\n     if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.Q){\n         images = MediaStore.Images.Media.getContentUri(MediaStore.VOLUME_EXTERNAL_PRIMARY);\n     }else {\n         images = MediaStore.Images.Media.EXTERNAL_CONTENT_URI;\n     }\n     ContentValues contentValues = new ContentValues();\n     contentValues.put(MediaStore.Images.Media.DISPLAY_NAME, System.currentTimeMillis() +&quot;.jpg&quot;);\n     contentValues.put(MediaStore.Images.Media.MIME_TYPE, &quot;images/*&quot;);\n     Uri uri = contentResolver.insert(images, contentValues);\n     try {\n         OutputStream outputStream = contentResolver.openOutputStream(Objects.requireNonNull(uri));\n         bitmap.compress(Bitmap.CompressFormat.JPEG, 100, outputStream);\n         Objects.requireNonNull(outputStream);\n\n        //\n\n     }catch (Exception e){\n        //\n         e.printStackTrace();\n\n     }\n }\n\n</code></pre>\n"},{"tags":["java","list","stream","option-type","collectors"],"comments":[{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":2,"creation_date":1661882275,"post_id":73546568,"comment_id":129876096,"body_markdown":"I&#39;d like to understand what getA and getB functions are.\n\nAnd why you are using streams for just 2 values.","body":"I&#39;d like to understand what getA and getB functions are.  And why you are using streams for just 2 values."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1661882477,"post_id":73546568,"comment_id":129876159,"body_markdown":"So basically you&#39;re creating a Stream and Collector just in order to concatenate two Strings. You&#39;re clearly **misusing** the Stream API.","body":"So basically you&#39;re creating a Stream and Collector just in order to concatenate two Strings. You&#39;re clearly <b>misusing</b> the Stream API."},{"owner":{"account_id":23676574,"reputation":36,"user_id":17702740,"display_name":"edudins"},"score":0,"creation_date":1661883463,"post_id":73546568,"comment_id":129876511,"body_markdown":"@AlexanderIvanchenko but do you know, how I can turn this in to a chain without the `if`?","body":"@AlexanderIvanchenko but do you know, how I can turn this in to a chain without the <code>if</code>?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1661883677,"post_id":73546568,"comment_id":129876571,"body_markdown":"@e-dudins It implies you don&#39;t care if you&#39;re **abusing** Streams and Optional or not? Did hear about ***clean-coding***? Optional and Streams should not be used to hide conditions.","body":"@e-dudins It implies you don&#39;t care if you&#39;re <b>abusing</b> Streams and Optional or not? Did hear about <b><i>clean-coding</i></b>? Optional and Streams should not be used to hide conditions."},{"owner":{"account_id":23676574,"reputation":36,"user_id":17702740,"display_name":"edudins"},"score":0,"creation_date":1661883822,"post_id":73546568,"comment_id":129876629,"body_markdown":"@AlexanderIvanchenko no, I care a lot about this stuff.","body":"@AlexanderIvanchenko no, I care a lot about this stuff."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1661884445,"post_id":73546568,"comment_id":129876807,"body_markdown":"@e-dudins `I care a lot` - Then you should not try to replace conditional with something which is not meant for such purpose.","body":"@e-dudins <code>I care a lot</code> - Then you should not try to replace conditional with something which is not meant for such purpose."},{"owner":{"account_id":12404133,"reputation":208,"user_id":9039919,"display_name":"Luca Scarcia"},"score":0,"creation_date":1661884945,"post_id":73546568,"comment_id":129876947,"body_markdown":"@e-dudins: to check for not null you should use \n  *.filter(s -&gt; s!=null)*  \n  Still I don&#39;t understand why you use map(String::valueOf). don&#39;t getA and getB already return a string?","body":"@e-dudins: to check for not null you should use    <i>.filter(s -&gt; s!=null)</i>     Still I don&#39;t understand why you use map(String::valueOf). don&#39;t getA and getB already return a string?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661932227,"post_id":73546568,"comment_id":129886398,"body_markdown":"`target.setAandB(source.getA() != null &amp;&amp; source.getB() != null? source.getA() + &quot; &quot; + source.getB(): null);`","body":"<code>target.setAandB(source.getA() != null &amp;&amp; source.getB() != null? source.getA() + &quot; &quot; + source.getB(): null);</code>"}],"answers":[{"tags":[],"owner":{"account_id":23609658,"reputation":759,"user_id":17644863,"display_name":"Santanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661886685,"creation_date":1661886685,"answer_id":73547426,"question_id":73546568,"body_markdown":"Ternary operator can be used\r\n\r\n    target.setAandB(Objects.isNull(source.getA()) &amp;&amp; Objects.isNull(source.getB()) ? null \r\n               : Stream.of(source.getA(), source.getB())\r\n                      .map(String::valueOf).collect(Collectors.joining(&quot; &quot;)));","title":"Java optional stream collector to list from two sources else null?","body":"<p>Ternary operator can be used</p>\n<pre><code>target.setAandB(Objects.isNull(source.getA()) &amp;&amp; Objects.isNull(source.getB()) ? null \n           : Stream.of(source.getA(), source.getB())\n                  .map(String::valueOf).collect(Collectors.joining(&quot; &quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661943706,"creation_date":1661886923,"answer_id":73547454,"question_id":73546568,"body_markdown":"There are no benefits in hiding conditional logic by using Optional.\r\n\r\nSee the [answer](https://stackoverflow.com/a/34458582/17949945) by [@StuartMarks](https://stackoverflow.com/users/1441122/stuart-marks), Java and OpenJDK developer.\r\n\r\n&gt; *The primary use of* `Optional` *is as follows:*\r\n&gt; \r\n&gt; Optional is intended to provide a limited mechanism for library method return types where\r\n&gt; there is a clear need to represent &quot;no result,&quot; and where using null\r\n&gt; for that is overwhelmingly likely to cause errors.\r\n&gt; \r\n&gt; A typical **code smell** is, instead of the code using method chaining to\r\n&gt; handle an `Optional` returned from some method, it **creates** an `Optional`\r\n&gt; from something that&#39;s nullable, in order to **chain methods** and **avoid\r\n&gt; conditionals**.\r\n\r\nIt is not justifiable to create Optional to avoid *null-checks*. It obscures the logic and makes your code harder to read.\r\n\r\nAnd using Streams just in order to concatenate **only two** `Strings` is clearly an overkill. We have enough tools for that, apart from streams.\r\n\r\nThat said, your code might be written like that:\r\n\r\n```\r\nif (source.getA() != null &amp;&amp; source.getB() != null) {\r\n    target.setAandB(source.getA() + &quot; &quot; + source.getB());\r\n} else {\r\n    target.setAandB(null);\r\n}\r\n```\r\n\r\nAlternatively, you can introduce a method responsible for generating this String:\r\n\r\n    public String getAB() {\r\n        \r\n        return source.getA() == null || source.getB() == null ? null :\r\n            source.getA() + &quot; &quot; + source.getB();\r\n    }\r\n\r\n***Note:*** that if `getA()` and `getB()` are not plain getters, and `source` object does something behind the scenes to fetch the data, you need to store both into local variables instead of fetching twice.\r\n","title":"Java optional stream collector to list from two sources else null?","body":"<p>There are no benefits in hiding conditional logic by using Optional.</p>\n<p>See the <a href=\"https://stackoverflow.com/a/34458582/17949945\">answer</a> by <a href=\"https://stackoverflow.com/users/1441122/stuart-marks\">@StuartMarks</a>, Java and OpenJDK developer.</p>\n<blockquote>\n<p><em>The primary use of</em> <code>Optional</code> <em>is as follows:</em></p>\n<p>Optional is intended to provide a limited mechanism for library method return types where\nthere is a clear need to represent &quot;no result,&quot; and where using null\nfor that is overwhelmingly likely to cause errors.</p>\n<p>A typical <strong>code smell</strong> is, instead of the code using method chaining to\nhandle an <code>Optional</code> returned from some method, it <strong>creates</strong> an <code>Optional</code>\nfrom something that's nullable, in order to <strong>chain methods</strong> and <strong>avoid\nconditionals</strong>.</p>\n</blockquote>\n<p>It is not justifiable to create Optional to avoid <em>null-checks</em>. It obscures the logic and makes your code harder to read.</p>\n<p>And using Streams just in order to concatenate <strong>only two</strong> <code>Strings</code> is clearly an overkill. We have enough tools for that, apart from streams.</p>\n<p>That said, your code might be written like that:</p>\n<pre><code>if (source.getA() != null &amp;&amp; source.getB() != null) {\n    target.setAandB(source.getA() + &quot; &quot; + source.getB());\n} else {\n    target.setAandB(null);\n}\n</code></pre>\n<p>Alternatively, you can introduce a method responsible for generating this String:</p>\n<pre><code>public String getAB() {\n    \n    return source.getA() == null || source.getB() == null ? null :\n        source.getA() + &quot; &quot; + source.getB();\n}\n</code></pre>\n<p><em><strong>Note:</strong></em> that if <code>getA()</code> and <code>getB()</code> are not plain getters, and <code>source</code> object does something behind the scenes to fetch the data, you need to store both into local variables instead of fetching twice.</p>\n"}],"owner":{"account_id":23676574,"reputation":36,"user_id":17702740,"display_name":"edudins"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661970154,"creation_date":1661881586,"question_id":73546568,"body_markdown":"I apologize in advance if this question has been asked, but I have been struggling to figure this out for a few hours now (googling everything I can) and really hope someone could help.\r\n\r\nI am trying to collect two String values, which I am trying to get from a source, in to a single String, and return `null` if these values do not exist (`source.getA` returns `null`).\r\n\r\nSo far, I have come up with this code:\r\n\r\n```\r\nif (source.getA() != null &amp;&amp; source.getB() != null) {\r\n\ttarget.setAAndB(Stream.of(source.getA(), source.getB())\r\n\t\t\t.map(String::valueOf)\r\n\t\t\t.collect(Collectors.joining(&quot; &quot;)));\r\n} else {\r\n\ttarget.setAandB(null);\r\n}\r\n```\r\nHow do I turn this in to a nice looking chain? I know there is a way, but I feel like I am missing a trick here.\r\n\r\n**EDIT:**\r\n\r\n```\r\ntarget.setAandB(\r\n\t\tOptional.of(\r\n\t\t\t\tStream.of(source.getA(), source.getB())\r\n\t\t\t\t\t\t.map(String::valueOf)\r\n\t\t\t\t\t\t.collect(Collectors.joining(&quot; &quot;))\r\n\t\t).orElse(null)\r\n);\r\n```\r\n\r\nMade a bit of progress, but here the `orElse` will not work, because the collector still returns a string with two `null` strings combined.\r\n\r\n**EDIT 2**:\r\n\r\nThank you all for your answers, I found them very valuable and some valuable things to consider.\r\n","title":"Java optional stream collector to list from two sources else null?","body":"<p>I apologize in advance if this question has been asked, but I have been struggling to figure this out for a few hours now (googling everything I can) and really hope someone could help.</p>\n<p>I am trying to collect two String values, which I am trying to get from a source, in to a single String, and return <code>null</code> if these values do not exist (<code>source.getA</code> returns <code>null</code>).</p>\n<p>So far, I have come up with this code:</p>\n<pre><code>if (source.getA() != null &amp;&amp; source.getB() != null) {\n    target.setAAndB(Stream.of(source.getA(), source.getB())\n            .map(String::valueOf)\n            .collect(Collectors.joining(&quot; &quot;)));\n} else {\n    target.setAandB(null);\n}\n</code></pre>\n<p>How do I turn this in to a nice looking chain? I know there is a way, but I feel like I am missing a trick here.</p>\n<p><strong>EDIT:</strong></p>\n<pre><code>target.setAandB(\n        Optional.of(\n                Stream.of(source.getA(), source.getB())\n                        .map(String::valueOf)\n                        .collect(Collectors.joining(&quot; &quot;))\n        ).orElse(null)\n);\n</code></pre>\n<p>Made a bit of progress, but here the <code>orElse</code> will not work, because the collector still returns a string with two <code>null</code> strings combined.</p>\n<p><strong>EDIT 2</strong>:</p>\n<p>Thank you all for your answers, I found them very valuable and some valuable things to consider.</p>\n"},{"tags":["java","spring-boot","integration-testing","spring-boot-test"],"comments":[{"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"score":0,"creation_date":1650513350,"post_id":71948328,"comment_id":127136477,"body_markdown":"Edit SpringBootTest(classes=DummyApplicationContext) annotation  -&gt; @SpringBootTest, basically remove the classess, currently it&#39;s loading DummyApplicationContext.class only.  alternatively you can add AppService.class in classes list.","body":"Edit SpringBootTest(classes=DummyApplicationContext) annotation  -&gt; @SpringBootTest, basically remove the classess, currently it&#39;s loading DummyApplicationContext.class only.  alternatively you can add AppService.class in classes list."},{"owner":{"account_id":355210,"reputation":8448,"user_id":694014,"accept_rate":88,"display_name":"Sodved"},"score":0,"creation_date":1650514451,"post_id":71948328,"comment_id":127136634,"body_markdown":"My issue is the real case has dozens of repository and service classes which need testing. So I would rather not have to list them individually. What I want (and what the tutorials imply) is that all the services etc will be autowired for the testing, just like they are for the real app (which works fine).\n\nI have tried many variations (e.g. put everything in same package and removed the `classes=` from `@SprintBootTest` but I get either the classNotFound error or no tests run at all.","body":"My issue is the real case has dozens of repository and service classes which need testing. So I would rather not have to list them individually. What I want (and what the tutorials imply) is that all the services etc will be autowired for the testing, just like they are for the real app (which works fine).  I have tried many variations (e.g. put everything in same package and removed the <code>classes=</code> from <code>@SprintBootTest</code> but I get either the classNotFound error or no tests run at all."},{"owner":{"account_id":6392687,"reputation":466,"user_id":4958233,"display_name":"kus"},"score":0,"creation_date":1650553676,"post_id":71948328,"comment_id":127150338,"body_markdown":"try -&gt; mvn clean  compile verify -P itest -pl case0 -am -amd","body":"try -&gt; mvn clean  compile verify -P itest -pl case0 -am -amd"}],"answers":[{"tags":[],"owner":{"account_id":24869452,"reputation":19,"user_id":18744134,"display_name":"yuanfei li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661969766,"creation_date":1650509811,"answer_id":71948399,"question_id":71948328,"body_markdown":"\r\nThe first thing you need to know is that SpringBoot will automatically scan the @SpringBootApplication annotation for the relevant classes in the package and inject them into the container, or use the @scanBasepackages annotation to define the location of the custom scan, so your test class will load DummyApplicationContext class. Spring will help you to load the com sodved. Itestcase0. App. Itest child bag class, so led to can not find AppService, you can try to put the DummyApplicationCon Text class migrated to com. Sodved. Itestcase0. App package, and then see if there are any problems","title":"SpringBootTest ClassNotFoundException error in integration test","body":"<p>The first thing you need to know is that SpringBoot will automatically scan the @SpringBootApplication annotation for the relevant classes in the package and inject them into the container, or use the @scanBasepackages annotation to define the location of the custom scan, so your test class will load DummyApplicationContext class. Spring will help you to load the com sodved. Itestcase0. App. Itest child bag class, so led to can not find AppService, you can try to put the DummyApplicationCon Text class migrated to com. Sodved. Itestcase0. App package, and then see if there are any problems</p>\n"}],"owner":{"account_id":355210,"reputation":8448,"user_id":694014,"accept_rate":88,"display_name":"Sodved"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":941,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661969766,"creation_date":1650509056,"question_id":71948328,"body_markdown":"I have been struggling with SpringBootTest for several days now. I initially posted [this question][1]. I have reduced it to a much simpler case.\r\n\r\nI have a very simple app with a single service and an application class.\r\nService class:\r\n```\r\npackage com.sodved.itestcase0.app.service;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class AppService {\r\n\r\n    public String getServiceName() {\r\n        return this.getClass().getCanonicalName();\r\n    }\r\n}\r\n```\r\nApplication:\r\n```\r\npackage com.sodved.itestcase0.app;\r\n\r\nimports...\r\n\r\n@Slf4j\r\n@EnableScheduling\r\n@EnableAsync(proxyTargetClass=true)\r\n@SpringBootApplication(scanBasePackages={&quot;com.sodved.itestcase0&quot;})\r\npublic class Case0Application implements CommandLineRunner {\r\n\r\n    @Autowired\r\n    private AppService appService;\r\n\r\n    public static void main(String[] args) {\r\n        log.info(&quot;STARTING THE APPLICATION&quot;);\r\n        ConfigurableApplicationContext context = SpringApplication.run(Case0Application.class, args);\r\n        log.info(&quot;APPLICATION FINISHED&quot;);\r\n        context.close();\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        log.info(&quot;Application running...&quot;);\r\n        log.info(&quot;App Service: {}&quot;, appService.getServiceName());\r\n    }\r\n\r\n}\r\n```\r\nThat all runs fine:\r\n```\r\nspring-itest&gt; java -jar case0/case0-app/target/case0-app-0.0.1-0-SNAPSHOT.jar\r\n...\r\n2022-04-21 12:23:53.589  INFO 65095 --- [           main] c.s.itestcase0.app.Case0Application      : Application running...\r\n2022-04-21 12:23:53.589  INFO 65095 --- [           main] c.s.itestcase0.app.Case0Application      : App Service: com.sodved.itestcase0.app.service.AppService\r\n```\r\n\r\nBut my integration test fail with a `ClassNotFoundException`.\r\n\r\nIntegration test context (if I use the Application class itself, no tests are run???):\r\n```\r\npackage com.sodved.itestcase0.app.itest;\r\n\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\n@SpringBootApplication(scanBasePackages={&quot;com.sodved.itestcase0&quot;})\r\npublic class DummyApplicationContext {\r\n\r\n    public static void main(String[] args) {\r\n        log.info(&quot;Dummy Context (Not sure if this should ever run)&quot;);\r\n    }\r\n\r\n}\r\n```\r\nIntegration test class:\r\n```\r\npackage com.sodved.itestcase0.app.itest;\r\n\r\nimport com.sodved.itestcase0.app.service.AppService;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.Assertions;\r\nimport org.junit.jupiter.api.extension.ExtendWith;\r\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\n@ExtendWith({SpringExtension.class})\r\n@SpringBootTest(classes=DummyApplicationContext.class)\r\npublic class IntegrationIT {\r\n\r\n    @Autowired\r\n    private AppService appService;\r\n\r\n    @Test\r\n    public void testApplicationLoaded() {\r\n        log.info(&quot;Application loaded OK&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void testAppSerivce() {\r\n        log.info(&quot;App Service: {}&quot;, appService.getServiceName());\r\n    }\r\n\r\n}\r\n```\r\nTests fail:\r\n```\r\nspring-itest&gt; mvn clean verify -P itest -pl case0 -am -amd\r\n...\r\n[INFO] -------------------------------------------------------\r\n[INFO]  T E S T S\r\n[INFO] -------------------------------------------------------\r\n[INFO] Running com.sodved.itestcase0.app.itest.IntegrationIT\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.003 s &lt;&lt;&lt; FAILURE! - in com.sodved.itestcase0.app.itest.IntegrationIT\r\n[ERROR] com.sodved.itestcase0.app.itest.IntegrationIT  Time elapsed: 0.002 s  &lt;&lt;&lt; ERROR!\r\njava.lang.NoClassDefFoundError: Lcom/sodved/itestcase0/app/service/AppService;\r\nCaused by: java.lang.ClassNotFoundException: com.sodved.itestcase0.app.service.AppService\r\n\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[ERROR] Errors: \r\n[ERROR]   IntegrationIT &#187; NoClassDefFound Lcom/sodved/itestcase0/app/service/AppService;\r\n[INFO] \r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n```\r\nSo I assume this is a simple stuffup by me (something wrong in my pom.xml?).\r\nSome other points I have noted:\r\n* Only an issue for component classes defined in module being tested. It all works fine if the component class is from a dependency (see [case1 in github][2]).\r\n* As stated above, if I use `Case0Application` as the SpringBootTest class, then no tests are run. That is why I created the dummy context. You can see this in the [case0-no-tests](https://github.com/sodved/spring-itest/tree/case0-no-tests) branch.\r\n\r\nMy example source code is available here: https://github.com/sodved/spring-itest\r\n\r\nI&#39;ve been banging my head against this for days. Read heaps of tutorials and manuals etc. It feels like a test config/classpath issue, but not sure if it&#39;s maven or spring boot where my mistake is. I cannot figure it out.\r\n\r\nMy real issue involves database containers etc, but this is the simplest case I could reproduce my issues with. Any help would be very much appreciated.\r\n\r\n  [1]: https://stackoverflow.com/questions/71836098/maven-springboot-test-not-running-integration-tests-with-specific-datasource-bea\r\n  [2]: https://github.com/sodved/spring-itest/tree/master/case1","title":"SpringBootTest ClassNotFoundException error in integration test","body":"<p>I have been struggling with SpringBootTest for several days now. I initially posted <a href=\"https://stackoverflow.com/questions/71836098/maven-springboot-test-not-running-integration-tests-with-specific-datasource-bea\">this question</a>. I have reduced it to a much simpler case.</p>\n<p>I have a very simple app with a single service and an application class.\nService class:</p>\n<pre><code>package com.sodved.itestcase0.app.service;\n\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class AppService {\n\n    public String getServiceName() {\n        return this.getClass().getCanonicalName();\n    }\n}\n</code></pre>\n<p>Application:</p>\n<pre><code>package com.sodved.itestcase0.app;\n\nimports...\n\n@Slf4j\n@EnableScheduling\n@EnableAsync(proxyTargetClass=true)\n@SpringBootApplication(scanBasePackages={&quot;com.sodved.itestcase0&quot;})\npublic class Case0Application implements CommandLineRunner {\n\n    @Autowired\n    private AppService appService;\n\n    public static void main(String[] args) {\n        log.info(&quot;STARTING THE APPLICATION&quot;);\n        ConfigurableApplicationContext context = SpringApplication.run(Case0Application.class, args);\n        log.info(&quot;APPLICATION FINISHED&quot;);\n        context.close();\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        log.info(&quot;Application running...&quot;);\n        log.info(&quot;App Service: {}&quot;, appService.getServiceName());\n    }\n\n}\n</code></pre>\n<p>That all runs fine:</p>\n<pre><code>spring-itest&gt; java -jar case0/case0-app/target/case0-app-0.0.1-0-SNAPSHOT.jar\n...\n2022-04-21 12:23:53.589  INFO 65095 --- [           main] c.s.itestcase0.app.Case0Application      : Application running...\n2022-04-21 12:23:53.589  INFO 65095 --- [           main] c.s.itestcase0.app.Case0Application      : App Service: com.sodved.itestcase0.app.service.AppService\n</code></pre>\n<p>But my integration test fail with a <code>ClassNotFoundException</code>.</p>\n<p>Integration test context (if I use the Application class itself, no tests are run???):</p>\n<pre><code>package com.sodved.itestcase0.app.itest;\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\n@SpringBootApplication(scanBasePackages={&quot;com.sodved.itestcase0&quot;})\npublic class DummyApplicationContext {\n\n    public static void main(String[] args) {\n        log.info(&quot;Dummy Context (Not sure if this should ever run)&quot;);\n    }\n\n}\n</code></pre>\n<p>Integration test class:</p>\n<pre><code>package com.sodved.itestcase0.app.itest;\n\nimport com.sodved.itestcase0.app.service.AppService;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.extension.ExtendWith;\nimport org.springframework.test.context.junit.jupiter.SpringExtension;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\n@ExtendWith({SpringExtension.class})\n@SpringBootTest(classes=DummyApplicationContext.class)\npublic class IntegrationIT {\n\n    @Autowired\n    private AppService appService;\n\n    @Test\n    public void testApplicationLoaded() {\n        log.info(&quot;Application loaded OK&quot;);\n    }\n\n    @Test\n    public void testAppSerivce() {\n        log.info(&quot;App Service: {}&quot;, appService.getServiceName());\n    }\n\n}\n</code></pre>\n<p>Tests fail:</p>\n<pre><code>spring-itest&gt; mvn clean verify -P itest -pl case0 -am -amd\n...\n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running com.sodved.itestcase0.app.itest.IntegrationIT\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.003 s &lt;&lt;&lt; FAILURE! - in com.sodved.itestcase0.app.itest.IntegrationIT\n[ERROR] com.sodved.itestcase0.app.itest.IntegrationIT  Time elapsed: 0.002 s  &lt;&lt;&lt; ERROR!\njava.lang.NoClassDefFoundError: Lcom/sodved/itestcase0/app/service/AppService;\nCaused by: java.lang.ClassNotFoundException: com.sodved.itestcase0.app.service.AppService\n\n[INFO] \n[INFO] Results:\n[INFO] \n[ERROR] Errors: \n[ERROR]   IntegrationIT » NoClassDefFound Lcom/sodved/itestcase0/app/service/AppService;\n[INFO] \n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\n</code></pre>\n<p>So I assume this is a simple stuffup by me (something wrong in my pom.xml?).\nSome other points I have noted:</p>\n<ul>\n<li>Only an issue for component classes defined in module being tested. It all works fine if the component class is from a dependency (see <a href=\"https://github.com/sodved/spring-itest/tree/master/case1\" rel=\"nofollow noreferrer\">case1 in github</a>).</li>\n<li>As stated above, if I use <code>Case0Application</code> as the SpringBootTest class, then no tests are run. That is why I created the dummy context. You can see this in the <a href=\"https://github.com/sodved/spring-itest/tree/case0-no-tests\" rel=\"nofollow noreferrer\">case0-no-tests</a> branch.</li>\n</ul>\n<p>My example source code is available here: <a href=\"https://github.com/sodved/spring-itest\" rel=\"nofollow noreferrer\">https://github.com/sodved/spring-itest</a></p>\n<p>I've been banging my head against this for days. Read heaps of tutorials and manuals etc. It feels like a test config/classpath issue, but not sure if it's maven or spring boot where my mistake is. I cannot figure it out.</p>\n<p>My real issue involves database containers etc, but this is the simplest case I could reproduce my issues with. Any help would be very much appreciated.</p>\n"},{"tags":["java","datetime-format","isodate"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1655821375,"post_id":72702397,"comment_id":128419174,"body_markdown":"There is no way that `2022-01-05` can ever be `2022-06-21`","body":"There is no way that <code>2022-01-05</code> can ever be <code>2022-06-21</code>"},{"owner":{"account_id":5442384,"reputation":325,"user_id":4330088,"accept_rate":0,"display_name":"Ram"},"score":0,"creation_date":1655827937,"post_id":72702397,"comment_id":128421921,"body_markdown":"I just meant the format... not the value exactly... ok.. Let me update the question to avoid any confusion.","body":"I just meant the format... not the value exactly... ok.. Let me update the question to avoid any confusion."}],"answers":[{"tags":[],"owner":{"account_id":5442384,"reputation":325,"user_id":4330088,"accept_rate":0,"display_name":"Ram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655828160,"creation_date":1655828160,"answer_id":72704077,"question_id":72702397,"body_markdown":"Here below is a code snippet that I was able to generate....\r\nBut, I am unsure of that is correct. Please let me know if you feel anything is incorrect.\r\n\r\n    String requestTime = &quot;2022-02-05T17:13:20-06:00[America/Chicago]&quot;;\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ssXXX&#39;[&#39;VV&#39;]&#39;&quot;);\r\n            ZonedDateTime zonedDateTime = ZonedDateTime.parse(requestTime, formatter);\r\n            zonedDateTime.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;));\r\n            System.out.println(zonedDateTime.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;&quot;)));","title":"Date time conversion in Java8","body":"<p>Here below is a code snippet that I was able to generate....\nBut, I am unsure of that is correct. Please let me know if you feel anything is incorrect.</p>\n<pre><code>String requestTime = &quot;2022-02-05T17:13:20-06:00[America/Chicago]&quot;;\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ssXXX'['VV']'&quot;);\n        ZonedDateTime zonedDateTime = ZonedDateTime.parse(requestTime, formatter);\n        zonedDateTime.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss'Z'&quot;));\n        System.out.println(zonedDateTime.format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS'Z'&quot;)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661969743,"creation_date":1661969743,"answer_id":73560220,"question_id":72702397,"body_markdown":"For the sample values given getting to a UTC timestamp should be something like\r\n\r\n    ZonedDateTime.parse(&quot;2022-02-05T17:13:20-06:00[America/Chicago]&quot;).toInstant().toString()\r\n\r\n\r\nThe datetime value including the timezone is the canonical representation of a ZonedDateTime and therefore can be parsed as such.\r\n\r\nInstant is a UTC timestamp that prints in the form of 2022-02-05T23:13:20Z\r\n\r\nYou could take more influence on the behavior using a DateTimeFormatter - but since both input and output seem to be standard formats it does not seem necessary.","title":"Date time conversion in Java8","body":"<p>For the sample values given getting to a UTC timestamp should be something like</p>\n<pre><code>ZonedDateTime.parse(&quot;2022-02-05T17:13:20-06:00[America/Chicago]&quot;).toInstant().toString()\n</code></pre>\n<p>The datetime value including the timezone is the canonical representation of a ZonedDateTime and therefore can be parsed as such.</p>\n<p>Instant is a UTC timestamp that prints in the form of 2022-02-05T23:13:20Z</p>\n<p>You could take more influence on the behavior using a DateTimeFormatter - but since both input and output seem to be standard formats it does not seem necessary.</p>\n"}],"owner":{"account_id":5442384,"reputation":325,"user_id":4330088,"accept_rate":0,"display_name":"Ram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1661969743,"creation_date":1655820909,"question_id":72702397,"body_markdown":"I tried searching across the web, but unable to find a suitable answer and hence posting here.\r\nI am calling another API which gives me the date-time like\r\n&quot;2022-02-05T17:13:20-06:00[America/Chicago]&quot;\r\nI would like to convert this to a format like \r\n&quot;2022-02-05T17:13:20.000Z&quot; (I am unsure what the milli-second will turn out as)\r\nCould someone help me achieve this?\r\nI am unable to get any example for this specific conversion scenario!!!\r\n\r\nRegards,\r\nSriram","title":"Date time conversion in Java8","body":"<p>I tried searching across the web, but unable to find a suitable answer and hence posting here.\nI am calling another API which gives me the date-time like\n&quot;2022-02-05T17:13:20-06:00[America/Chicago]&quot;\nI would like to convert this to a format like\n&quot;2022-02-05T17:13:20.000Z&quot; (I am unsure what the milli-second will turn out as)\nCould someone help me achieve this?\nI am unable to get any example for this specific conversion scenario!!!</p>\n<p>Regards,\nSriram</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":14125526,"reputation":209,"user_id":10204945,"display_name":"Vipul Chauhan"},"score":0,"creation_date":1550817340,"post_id":54819304,"comment_id":96417637,"body_markdown":"just check this answer it will give you path for both sd cards (removable, non removable) https://stackoverflow.com/questions/54022262/how-to-read-pen-drives-connected-through-otg/54342660#54342660","body":"just check this answer it will give you path for both sd cards (removable, non removable) <a href=\"https://stackoverflow.com/questions/54022262/how-to-read-pen-drives-connected-through-otg/54342660#54342660\" title=\"how to read pen drives connected through otg\">stackoverflow.com/questions/54022262/&hellip;</a>"},{"owner":{"account_id":11405283,"reputation":21,"user_id":8360905,"display_name":"顏子鈞"},"score":0,"creation_date":1550823284,"post_id":54819304,"comment_id":96420189,"body_markdown":"In fact, I know the path of my sdcard, if you want, the following third part will get faster.","body":"In fact, I know the path of my sdcard, if you want, the following third part will get faster."}],"answers":[{"tags":[],"owner":{"account_id":11769035,"reputation":162,"user_id":8612621,"display_name":"WildWind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1550806195,"creation_date":1550806195,"answer_id":54819658,"question_id":54819304,"body_markdown":"1 Only define permissions in AndroidManifest.xml is not enough, you have to requestPermissions in onCreate @MainActivity.\r\n2 Another way to solve it is to target the sdk version to lower than M, for ex targetSdkVersion 15.","title":"android 8.0+ How to rw in sdcard","body":"<p>1 Only define permissions in AndroidManifest.xml is not enough, you have to requestPermissions in onCreate @MainActivity.\n2 Another way to solve it is to target the sdk version to lower than M, for ex targetSdkVersion 15.</p>\n"},{"tags":[],"owner":{"account_id":9133261,"reputation":179,"user_id":6793996,"display_name":"Christos Themelis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550824097,"creation_date":1550824097,"answer_id":54822904,"question_id":54819304,"body_markdown":"At Android 8+ you have to add also the READ_EXTRERNAL_STORAGE permission\r\n\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n\t\t\tif ((checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) ||\r\n\t\t\t\t\t(checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)) {\r\n\r\n\t\t\t\tLog.e(getClass().getSimpleName(), &quot;missing permission: external storage&quot;);\r\n\r\n\t\t\t\tAlertDialog.Builder builder = new AlertDialog.Builder(new ContextThemeWrapper(this, R.style.AlertDialogCustom));\r\n\t\t\t\tbuilder.setTitle(getResources().getString(R.string.assign_permissions));\r\n\t\t\t\tbuilder.setMessage(getResources().getString(R.string.permissions_prompt));\r\n\t\t\t\tbuilder.setPositiveButton(getResources().getString(android.R.string.ok), new DialogInterface.OnClickListener() {\r\n\t\t\t\t\tpublic void onClick(DialogInterface dialog, int which) {\r\n\r\n\t\t\t\t\t\tif (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\r\n\t\t\t\t\t\t\trequestPermissions(new String[]\r\n\t\t\t\t\t\t\t\t\t{android.Manifest.permission.READ_EXTERNAL_STORAGE,\r\n\t\t\t\t\t\t\t\t\tandroid.Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_STORAGE);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdialog.dismiss();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbuilder.show();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n","title":"android 8.0+ How to rw in sdcard","body":"<p>At Android 8+ you have to add also the READ_EXTRERNAL_STORAGE permission</p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n        if ((checkSelfPermission(Manifest.permission.READ_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED) ||\n                (checkSelfPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE) != PackageManager.PERMISSION_GRANTED)) {\n\n            Log.e(getClass().getSimpleName(), \"missing permission: external storage\");\n\n            AlertDialog.Builder builder = new AlertDialog.Builder(new ContextThemeWrapper(this, R.style.AlertDialogCustom));\n            builder.setTitle(getResources().getString(R.string.assign_permissions));\n            builder.setMessage(getResources().getString(R.string.permissions_prompt));\n            builder.setPositiveButton(getResources().getString(android.R.string.ok), new DialogInterface.OnClickListener() {\n                public void onClick(DialogInterface dialog, int which) {\n\n                    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.M) {\n                        requestPermissions(new String[]\n                                {android.Manifest.permission.READ_EXTERNAL_STORAGE,\n                                android.Manifest.permission.WRITE_EXTERNAL_STORAGE}, REQUEST_STORAGE);\n                    }\n                    dialog.dismiss();\n                }\n            });\n            builder.show();\n            return;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":11405283,"reputation":21,"user_id":8360905,"display_name":"顏子鈞"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661969743,"creation_date":1550803338,"question_id":54819304,"body_markdown":"1. I use system permission.And I announced permission to read and write in sdcard. According to the past, the following writing methods were made. But in Android 8.0+ devices. I always get permission denied at logFile.createNewFile().  But if my file path replace to internal storage is pass. \r\n\r\n2. Looking for the network data, only find a SAF mechanism may provide assistance, but this mechanism is the file manager of the intent machine itself, after returning a URI to perform the function of reading and writing files, the same URI is given to the same funtion Unable to create a new file successfully.(https://github.com/termux/termux-app/issues/812)\r\n\r\n3.  I try to use execute function Runtime.getRuntime().exec(&quot;push &#39;/storage/emulated/0/eee.txt&#39; &#39;/storage/3630-6236/&#39;&quot;). But it doesn&#39;t work,either.\r\n\r\nIs there any solutions to write on Android 8.0+ sdcard?Currently trying to use DocumentFile to do.(https://github.com/TeamAmaze/AmazeFileManager/blob/master/app/src/main/java/com/amaze/filemanager/filesystem/HybridFile.java)\r\n\r\n\r\n     private final static String localFullPath = PATH_SDCARD + File.separator + nowFormat + &quot;_log.txt&quot;;\r\n\r\n     public static void logWriter(String logText) {\r\n            try {\r\n                File logFile = new File(localFullPath);\r\n                if (!logFile.exists()) {\r\n                    if (logFile.createNewFile()) {\r\n                        Log.d(&quot;mkdir&quot;, &quot;Create new file: &quot; + localFullPath);\r\n                    }\r\n                }\r\n    \r\n                Date date = new Date(System.currentTimeMillis());\r\n                final SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;, Locale.getDefault());\r\n                String nowFormat = simpleDateFormat.format(date);\r\n    \r\n                FileWriter fileWriter = new FileWriter(localFullPath, true);\r\n                BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\r\n                bufferedWriter.append(&quot;[&quot;).append(nowFormat).append(&quot;] &quot;).append(logText);\r\n                bufferedWriter.newLine();\r\n                bufferedWriter.close();\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n      private void CheckPermission() {\r\n    //        CheckStoragePermission();\r\n            String PERMISSION_WRITE_STORAGE = &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;;\r\n            String PERMISSION_READ_PHONE_STATE = &quot;android.permission.READ_PHONE_STATE&quot;;\r\n            String PERMISSION_ACCESS_FINE_LOCATION = &quot;android.permission.ACCESS_FINE_LOCATION&quot;;\r\n            String PERMISSION_ACCESS_COARSE_LOCATION = &quot;android.permission.ACCESS_COARSE_LOCATION&quot;;\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n                if ((ContextCompat.checkSelfPermission(this, PERMISSION_WRITE_STORAGE) != PackageManager.PERMISSION_GRANTED) ||\r\n                        (ContextCompat.checkSelfPermission(this, PERMISSION_ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) ||\r\n                        (ContextCompat.checkSelfPermission(this, PERMISSION_ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) ||\r\n                        (ContextCompat.checkSelfPermission(this, PERMISSION_READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED)) {\r\n                    String[] perms = {PERMISSION_WRITE_STORAGE, PERMISSION_READ_PHONE_STATE, PERMISSION_ACCESS_FINE_LOCATION, PERMISSION_ACCESS_COARSE_LOCATION};\r\n                    int permsRequestCode = 1;\r\n                    requestPermissions(perms, permsRequestCode);\r\n                }\r\n            }\r\n            ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\r\n        }\r\n\r\n \r\n\r\n     public static String[] getExtSdCardPathsForActivity(Context context) {\r\n            List &lt;String&gt; paths = new ArrayList &lt;&gt;();\r\n            for (File file : context.getExternalFilesDirs(&quot;external&quot;)) {\r\n                if (file != null) {\r\n                    int index = file.getAbsolutePath().lastIndexOf(&quot;/Android/data&quot;);\r\n                    if (index &lt; 0) {\r\n                        Log.w(LOG, &quot;Unexpected external file dir: &quot; + file.getAbsolutePath());\r\n                    } else {\r\n                        String path = file.getAbsolutePath().substring(0, index);\r\n                        try {\r\n                            path = new File(path).getCanonicalPath();\r\n                        } catch (IOException e) {\r\n                            // Keep non-canonical path.\r\n                        }\r\n                        paths.add(path);\r\n                    }\r\n                }\r\n            }\r\n            if (paths.isEmpty()) paths.add(&quot;/storage/sdcard1&quot;);\r\n            return paths.toArray(new String[0]);\r\n        }","title":"android 8.0+ How to rw in sdcard","body":"<ol>\n<li><p>I use system permission.And I announced permission to read and write in sdcard. According to the past, the following writing methods were made. But in Android 8.0+ devices. I always get permission denied at logFile.createNewFile().  But if my file path replace to internal storage is pass.</p>\n</li>\n<li><p>Looking for the network data, only find a SAF mechanism may provide assistance, but this mechanism is the file manager of the intent machine itself, after returning a URI to perform the function of reading and writing files, the same URI is given to the same funtion Unable to create a new file successfully.(<a href=\"https://github.com/termux/termux-app/issues/812\" rel=\"nofollow noreferrer\">https://github.com/termux/termux-app/issues/812</a>)</p>\n</li>\n<li><p>I try to use execute function Runtime.getRuntime().exec(&quot;push '/storage/emulated/0/eee.txt' '/storage/3630-6236/'&quot;). But it doesn't work,either.</p>\n</li>\n</ol>\n<p>Is there any solutions to write on Android 8.0+ sdcard?Currently trying to use DocumentFile to do.(<a href=\"https://github.com/TeamAmaze/AmazeFileManager/blob/master/app/src/main/java/com/amaze/filemanager/filesystem/HybridFile.java\" rel=\"nofollow noreferrer\">https://github.com/TeamAmaze/AmazeFileManager/blob/master/app/src/main/java/com/amaze/filemanager/filesystem/HybridFile.java</a>)</p>\n<pre><code> private final static String localFullPath = PATH_SDCARD + File.separator + nowFormat + &quot;_log.txt&quot;;\n\n public static void logWriter(String logText) {\n        try {\n            File logFile = new File(localFullPath);\n            if (!logFile.exists()) {\n                if (logFile.createNewFile()) {\n                    Log.d(&quot;mkdir&quot;, &quot;Create new file: &quot; + localFullPath);\n                }\n            }\n\n            Date date = new Date(System.currentTimeMillis());\n            final SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;yyyy/MM/dd HH:mm:ss&quot;, Locale.getDefault());\n            String nowFormat = simpleDateFormat.format(date);\n\n            FileWriter fileWriter = new FileWriter(localFullPath, true);\n            BufferedWriter bufferedWriter = new BufferedWriter(fileWriter);\n            bufferedWriter.append(&quot;[&quot;).append(nowFormat).append(&quot;] &quot;).append(logText);\n            bufferedWriter.newLine();\n            bufferedWriter.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n  private void CheckPermission() {\n//        CheckStoragePermission();\n        String PERMISSION_WRITE_STORAGE = &quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;;\n        String PERMISSION_READ_PHONE_STATE = &quot;android.permission.READ_PHONE_STATE&quot;;\n        String PERMISSION_ACCESS_FINE_LOCATION = &quot;android.permission.ACCESS_FINE_LOCATION&quot;;\n        String PERMISSION_ACCESS_COARSE_LOCATION = &quot;android.permission.ACCESS_COARSE_LOCATION&quot;;\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n            if ((ContextCompat.checkSelfPermission(this, PERMISSION_WRITE_STORAGE) != PackageManager.PERMISSION_GRANTED) ||\n                    (ContextCompat.checkSelfPermission(this, PERMISSION_ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) ||\n                    (ContextCompat.checkSelfPermission(this, PERMISSION_ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) ||\n                    (ContextCompat.checkSelfPermission(this, PERMISSION_READ_PHONE_STATE) != PackageManager.PERMISSION_GRANTED)) {\n                String[] perms = {PERMISSION_WRITE_STORAGE, PERMISSION_READ_PHONE_STATE, PERMISSION_ACCESS_FINE_LOCATION, PERMISSION_ACCESS_COARSE_LOCATION};\n                int permsRequestCode = 1;\n                requestPermissions(perms, permsRequestCode);\n            }\n        }\n        ActivityCompat.requestPermissions(this, new String[]{Manifest.permission.WRITE_EXTERNAL_STORAGE}, 1);\n    }\n\n\n\n public static String[] getExtSdCardPathsForActivity(Context context) {\n        List &lt;String&gt; paths = new ArrayList &lt;&gt;();\n        for (File file : context.getExternalFilesDirs(&quot;external&quot;)) {\n            if (file != null) {\n                int index = file.getAbsolutePath().lastIndexOf(&quot;/Android/data&quot;);\n                if (index &lt; 0) {\n                    Log.w(LOG, &quot;Unexpected external file dir: &quot; + file.getAbsolutePath());\n                } else {\n                    String path = file.getAbsolutePath().substring(0, index);\n                    try {\n                        path = new File(path).getCanonicalPath();\n                    } catch (IOException e) {\n                        // Keep non-canonical path.\n                    }\n                    paths.add(path);\n                }\n            }\n        }\n        if (paths.isEmpty()) paths.add(&quot;/storage/sdcard1&quot;);\n        return paths.toArray(new String[0]);\n    }\n</code></pre>\n"},{"tags":["java","jdbc","spring-boot","spring-data","spring-data-jpa"],"comments":[{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1470403916,"post_id":38790344,"comment_id":64951249,"body_markdown":"`@ComponentScan` will only work if the `JPADataService` class is annotated with `@Component`. You need to add an `@Bean` annotated method in your `@Configuration` class. http://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html","body":"<code>@ComponentScan</code> will only work if the <code>JPADataService</code> class is annotated with <code>@Component</code>. You need to add an <code>@Bean</code> annotated method in your <code>@Configuration</code> class. <a href=\"http://docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/html/creating-bean-definitions.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-javaconfig/docs/1.0.0.m3/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":8669713,"reputation":453,"user_id":6489022,"accept_rate":60,"display_name":"Jown"},"score":0,"creation_date":1470405577,"post_id":38790344,"comment_id":64952394,"body_markdown":"@Christopher Schneider ,both service classes in both jar files are actually annotated with `@Service`. AFAIK, `@ComponentScan` should also be able to read those classes.","body":"@Christopher Schneider ,both service classes in both jar files are actually annotated with <code>@Service</code>. AFAIK, <code>@ComponentScan</code> should also be able to read those classes."},{"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"score":0,"creation_date":1470407957,"post_id":38790344,"comment_id":64953946,"body_markdown":"@Service should take care of it. You say you have no main class, so where is the entry point to the application?","body":"@Service should take care of it. You say you have no main class, so where is the entry point to the application?"},{"owner":{"account_id":8669713,"reputation":453,"user_id":6489022,"accept_rate":60,"display_name":"Jown"},"score":0,"creation_date":1470639566,"post_id":38790344,"comment_id":65012171,"body_markdown":"The entry point is in my new SpringBoot app (MyApp) that I am developing, so I have those data as my dependency in my maven project.","body":"The entry point is in my new SpringBoot app (MyApp) that I am developing, so I have those data as my dependency in my maven project."}],"answers":[{"tags":[],"owner":{"account_id":3430916,"reputation":3799,"user_id":3059385,"accept_rate":40,"display_name":"Christopher Schneider"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1591905620,"creation_date":1470404603,"answer_id":38790797,"question_id":38790344,"body_markdown":"Adding ``@ComponentScan`` won&#39;t work if the class you&#39;re attempting to Autowire isn&#39;t annotated with ``@Component``. In order to get this to work, you&#39;ll have to annotate a method in your ``@Configuration`` class. Something like this should allow you to autowire the class:\r\n\r\n    @Configuration\r\n    public class ConfigClass{\r\n    \r\n        @Bean\r\n        public JPADataService jpaDataService(){\r\n            return new JPADataService();\r\n        }\r\n    }","title":"SpringBoot: Can&#39;t Autowire Class from Other Jar Library","body":"<p>Adding <code>@ComponentScan</code> won't work if the class you're attempting to Autowire isn't annotated with <code>@Component</code>. In order to get this to work, you'll have to annotate a method in your <code>@Configuration</code> class. Something like this should allow you to autowire the class:</p>\n\n<pre><code>@Configuration\npublic class ConfigClass{\n\n    @Bean\n    public JPADataService jpaDataService(){\n        return new JPADataService();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8669713,"reputation":453,"user_id":6489022,"accept_rate":60,"display_name":"Jown"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1470920265,"creation_date":1470920265,"answer_id":38897073,"question_id":38790344,"body_markdown":"I have now found the solution on my problem. I have to move up my main MyApp.java one package level higher in order to scan my data libraries.\r\n\r\nInstead of putting my `MyApp.java` under `my.app` package, I have to move it under `my` in order to successfully scan my libraries with `my.data.jpa` and `my.data.jdbc` packages.","title":"SpringBoot: Can&#39;t Autowire Class from Other Jar Library","body":"<p>I have now found the solution on my problem. I have to move up my main MyApp.java one package level higher in order to scan my data libraries.</p>\n\n<p>Instead of putting my <code>MyApp.java</code> under <code>my.app</code> package, I have to move it under <code>my</code> in order to successfully scan my libraries with <code>my.data.jpa</code> and <code>my.data.jdbc</code> packages.</p>\n"},{"tags":[],"owner":{"account_id":8623999,"reputation":21,"user_id":6457793,"display_name":"Bond Zhou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1547634410,"creation_date":1547634224,"answer_id":54214958,"question_id":38790344,"body_markdown":"You need to config `spring.factories` at external jar:\r\n\r\n    external-jar-project\r\n       |--java\r\n       |--resources\r\n            |-- META-INF\r\n                  |-- spring.factories\r\n\r\nthe contect of spring.factoires, like this:\r\n\r\n    org.springframework.boot.autoconfigure.EnableAutoConfiguration=xxx\r\n","title":"SpringBoot: Can&#39;t Autowire Class from Other Jar Library","body":"<p>You need to config <code>spring.factories</code> at external jar:</p>\n\n<pre><code>external-jar-project\n   |--java\n   |--resources\n        |-- META-INF\n              |-- spring.factories\n</code></pre>\n\n<p>the contect of spring.factoires, like this:</p>\n\n<pre><code>org.springframework.boot.autoconfigure.EnableAutoConfiguration=xxx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15986484,"reputation":15,"user_id":11536777,"display_name":"sweeter"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1661969478,"creation_date":1584379523,"answer_id":60710494,"question_id":38790344,"body_markdown":"This problem has also bothered me for a long time. What I found is that springboot cannot scan the related classes under the jar package path you introduced.\r\n\r\nYou may need to use annotations like @EnableJpaRepositories (&quot;cn.XXX&quot;) @EntityScan (&quot;cn.XXX&quot;) to Scan your classes)\r\n","title":"SpringBoot: Can&#39;t Autowire Class from Other Jar Library","body":"<p>This problem has also bothered me for a long time. What I found is that springboot cannot scan the related classes under the jar package path you introduced.</p>\n<p>You may need to use annotations like @EnableJpaRepositories (&quot;cn.XXX&quot;) @EntityScan (&quot;cn.XXX&quot;) to Scan your classes)</p>\n"}],"owner":{"account_id":8669713,"reputation":453,"user_id":6489022,"accept_rate":60,"display_name":"Jown"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34687,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":38897073,"answer_count":4,"score":20,"last_activity_date":1661969478,"creation_date":1470403218,"question_id":38790344,"body_markdown":"I am developing a SpringBoot application (e.g. MyApp) with dependency to two data projects with different implementation:\r\n\r\n&gt; data-jdbc.jar\r\n\r\n - built using the `spring-boot-starter-jdbc` which exposes JDBCDataService class that will be used by my application\r\n\r\nSample Code:\r\n\r\n    @Service \r\n    public class JDBCDataServiceImpl implements JDBCDataService {\r\n    \r\n    @Autowired\r\n    private JDBCDataRepository jdbcDataRepository;    \r\n    ... \r\n    }\r\n\r\n - with package `my.data.jdbc`\r\n - there is no SpringBoot main class. Spring configuration only created for the unit test classes\r\n - the repository classes are using `JDBCTemplate`\r\n\r\nSample Repository:\r\n\r\n    @Repository\r\n    public class JDBCDataRepositoryImpl implements JDBCDataRepository {\r\n\r\n    @Autowired\r\n    protected JdbcTemplate jdbcTemplate;\r\n    ...\r\n    }\r\n\r\n&gt; data-jpa.jar\r\n\r\n - built using the `spring-boot-starter-data-jpa` which also exposes JPADataService class that will also be used by my application\r\n\r\nSample Code:\r\n\r\n    @Service \r\n    public class JPADataServiceImpl implements JPADataService {\r\n    \r\n    @Autowired\r\n    private JPADataRepository jpaDataRepository;    \r\n    ... \r\n    }\r\n\r\n - with package `my.data.jpa`\r\n - there is no SpringBoot main class. Spring configuration only created for the unit test classes\r\n - repository classes extends the `CrudRepository` interface\r\n\r\nSample Repository:\r\n\r\n    @Repository\r\n    public interface JPADataRepository extends CrudRepository&lt;MyObject, Integer{\r\n    ...\r\n    }\r\n\r\nIn my SpringBoot project, I have the following SpringBoot main application:\r\n\r\n    @SpringBootApplication\r\n    public class MyApp extends SpringBootServletInitializer {\r\n    }\r\n\r\nIn my business service `MainService` class, I have the following injection \r\n\r\n    @Service\r\n    public class MainServiceImpl implements MainService {\r\n    \r\n    @Autowired\r\n    private JDBCDataService jdbcDataService;\r\n    \r\n    @Autowired\r\n    private JPADataService jpaDataService;\r\n\r\nHowever, I have encountered the problem `&quot;Could not Autowire. No beans of &#39;JPADataService&#39; type found&quot;` which only exists for the class `JPADataService` but working fine for `JDBCService` class.\r\n\r\nI have tried the solution found in the following questions, but none of these work in my case:\r\n\r\n[Can&#39;t I @Autowire a Bean which is present in a dependent Library Jar?][1]\r\n\r\n    @ComponentScan(basePackages = {&quot;org.example.main&quot;, &quot;package.of.user.class&quot;})\r\n\r\n[How can I @Autowire a spring bean that was created from an external jar?][2]\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.package.where.my.class.is&quot;)\r\n    class Config {\r\n    ...\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/30796306/cant-i-autowire-a-bean-which-is-present-in-a-dependent-library-jar\r\n  [2]: https://stackoverflow.com/questions/29571304/how-can-i-autowire-a-spring-bean-that-was-created-from-an-external-jar\r\n\r\nI have now found the solution on my problem. I have to move up my main MyApp.java one package level higher in order to scan my data libraries.\r\n\r\nInstead of putting my `MyApp.java` under `my.app` package, I have to move it under `my` in order to successfully scan my libraries with `my.data.jpa` and `my.data.jdbc` packages.","title":"SpringBoot: Can&#39;t Autowire Class from Other Jar Library","body":"<p>I am developing a SpringBoot application (e.g. MyApp) with dependency to two data projects with different implementation:</p>\n\n<blockquote>\n  <p>data-jdbc.jar</p>\n</blockquote>\n\n<ul>\n<li>built using the <code>spring-boot-starter-jdbc</code> which exposes JDBCDataService class that will be used by my application</li>\n</ul>\n\n<p>Sample Code:</p>\n\n<pre><code>@Service \npublic class JDBCDataServiceImpl implements JDBCDataService {\n\n@Autowired\nprivate JDBCDataRepository jdbcDataRepository;    \n... \n}\n</code></pre>\n\n<ul>\n<li>with package <code>my.data.jdbc</code></li>\n<li>there is no SpringBoot main class. Spring configuration only created for the unit test classes</li>\n<li>the repository classes are using <code>JDBCTemplate</code></li>\n</ul>\n\n<p>Sample Repository:</p>\n\n<pre><code>@Repository\npublic class JDBCDataRepositoryImpl implements JDBCDataRepository {\n\n@Autowired\nprotected JdbcTemplate jdbcTemplate;\n...\n}\n</code></pre>\n\n<blockquote>\n  <p>data-jpa.jar</p>\n</blockquote>\n\n<ul>\n<li>built using the <code>spring-boot-starter-data-jpa</code> which also exposes JPADataService class that will also be used by my application</li>\n</ul>\n\n<p>Sample Code:</p>\n\n<pre><code>@Service \npublic class JPADataServiceImpl implements JPADataService {\n\n@Autowired\nprivate JPADataRepository jpaDataRepository;    \n... \n}\n</code></pre>\n\n<ul>\n<li>with package <code>my.data.jpa</code></li>\n<li>there is no SpringBoot main class. Spring configuration only created for the unit test classes</li>\n<li>repository classes extends the <code>CrudRepository</code> interface</li>\n</ul>\n\n<p>Sample Repository:</p>\n\n<pre><code>@Repository\npublic interface JPADataRepository extends CrudRepository&lt;MyObject, Integer{\n...\n}\n</code></pre>\n\n<p>In my SpringBoot project, I have the following SpringBoot main application:</p>\n\n<pre><code>@SpringBootApplication\npublic class MyApp extends SpringBootServletInitializer {\n}\n</code></pre>\n\n<p>In my business service <code>MainService</code> class, I have the following injection </p>\n\n<pre><code>@Service\npublic class MainServiceImpl implements MainService {\n\n@Autowired\nprivate JDBCDataService jdbcDataService;\n\n@Autowired\nprivate JPADataService jpaDataService;\n</code></pre>\n\n<p>However, I have encountered the problem <code>\"Could not Autowire. No beans of 'JPADataService' type found\"</code> which only exists for the class <code>JPADataService</code> but working fine for <code>JDBCService</code> class.</p>\n\n<p>I have tried the solution found in the following questions, but none of these work in my case:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/30796306/cant-i-autowire-a-bean-which-is-present-in-a-dependent-library-jar\">Can't I @Autowire a Bean which is present in a dependent Library Jar?</a></p>\n\n<pre><code>@ComponentScan(basePackages = {\"org.example.main\", \"package.of.user.class\"})\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/29571304/how-can-i-autowire-a-spring-bean-that-was-created-from-an-external-jar\">How can I @Autowire a spring bean that was created from an external jar?</a></p>\n\n<pre><code>@Configuration\n@ComponentScan(\"com.package.where.my.class.is\")\nclass Config {\n...\n}\n</code></pre>\n\n<p>I have now found the solution on my problem. I have to move up my main MyApp.java one package level higher in order to scan my data libraries.</p>\n\n<p>Instead of putting my <code>MyApp.java</code> under <code>my.app</code> package, I have to move it under <code>my</code> in order to successfully scan my libraries with <code>my.data.jpa</code> and <code>my.data.jdbc</code> packages.</p>\n"},{"tags":["java","javafx","size","snapshot"],"comments":[{"owner":{"account_id":4824596,"reputation":10769,"user_id":3894351,"accept_rate":75,"display_name":"Elltz"},"score":0,"creation_date":1464432143,"post_id":37318953,"comment_id":62491075,"body_markdown":"well you can try to set constraints on your Nodes prior the evoking that function and undo them, i mean, `setMinSize(Pane.USE_PREF_SIZE,Pane.USE_PREF_SIZE);` and `setMaxSize(Pane.USE_PREF_SIZE,Pane.USE_PREF_SIZE);` it might help from the way you described your problem, :)","body":"well you can try to set constraints on your Nodes prior the evoking that function and undo them, i mean, <code>setMinSize(Pane.USE_PREF_SIZE,Pane.USE_PREF_SIZE);</code> and <code>setMaxSize(Pane.USE_PREF_SIZE,Pane.USE_PREF_SIZE);</code> it might help from the way you described your problem, :)"},{"owner":{"account_id":1176036,"reputation":2433,"user_id":1324406,"accept_rate":62,"display_name":"Amber"},"score":0,"creation_date":1464722230,"post_id":37318953,"comment_id":62596494,"body_markdown":"Thanks for not posting all 2000 lines of code.  But if you can write a short, compilable sample to reproduce the issue that would be helpful.  Otherwise a link to all your code if you can&#39;t reproduce a small sample?","body":"Thanks for not posting all 2000 lines of code.  But if you can write a short, compilable sample to reproduce the issue that would be helpful.  Otherwise a link to all your code if you can&#39;t reproduce a small sample?"},{"owner":{"account_id":4671622,"reputation":1328,"user_id":3783275,"accept_rate":75,"display_name":"Westranger"},"score":0,"creation_date":1464938211,"post_id":37318953,"comment_id":62700216,"body_markdown":"I suggest to use [Scenic View](http://fxexperience.com/scenic-view/) which allows you to view all properties on an View during runtime of you GUI. This will let you at least check if the problem you describe is really the problem. You can also maybe post some screen shots using Scenic View. This tool also allows you to view all events which happen in you GUI. I use it a lot :-)","body":"I suggest to use <a href=\"http://fxexperience.com/scenic-view/\" rel=\"nofollow noreferrer\">Scenic View</a> which allows you to view all properties on an View during runtime of you GUI. This will let you at least check if the problem you describe is really the problem. You can also maybe post some screen shots using Scenic View. This tool also allows you to view all events which happen in you GUI. I use it a lot :-)"},{"owner":{"account_id":2835528,"reputation":1834,"user_id":2436221,"accept_rate":81,"display_name":"Jonatan Stenbacka"},"score":0,"creation_date":1464949059,"post_id":37318953,"comment_id":62706502,"body_markdown":"Thanks for that tool! I will probably have great use of it in the future. But I was already certain that the problem I described was really the problem, since I&#39;ve added listeners to every size property in the view (a lot more work than it would&#39;ve been with Scenic View, so thanks again for that tool). Sadly I&#39;ve not had the time to post a link to my code due to work, since I need to mask a some variable names etc before I can post it. I will try to do this before the bounty expires.","body":"Thanks for that tool! I will probably have great use of it in the future. But I was already certain that the problem I described was really the problem, since I&#39;ve added listeners to every size property in the view (a lot more work than it would&#39;ve been with Scenic View, so thanks again for that tool). Sadly I&#39;ve not had the time to post a link to my code due to work, since I need to mask a some variable names etc before I can post it. I will try to do this before the bounty expires."},{"owner":{"account_id":950197,"reputation":1687,"user_id":976509,"display_name":"vl4d1m1r4"},"score":0,"creation_date":1464961133,"post_id":37318953,"comment_id":62714406,"body_markdown":"How do you initialize the scene? Based on the implementation of `Scene.doCSSLayoutSyncForSnapshot` it looks like if you don&#39;t use the `init(width, height)` method your scene will be resized based on the layoutX/Y, translateX/Y and layoutBounds width/height.","body":"How do you initialize the scene? Based on the implementation of <code>Scene.doCSSLayoutSyncForSnapshot</code> it looks like if you don&#39;t use the <code>init(width, height)</code> method your scene will be resized based on the layoutX/Y, translateX/Y and layoutBounds width/height."},{"owner":{"account_id":2835528,"reputation":1834,"user_id":2436221,"accept_rate":81,"display_name":"Jonatan Stenbacka"},"score":0,"creation_date":1464964099,"post_id":37318953,"comment_id":62716527,"body_markdown":"I just create a new scene with my `BorderPane` as the parameter: `Scene scene = new Scene(rootLayout);`. I can&#39;t find this `init(width, height)` you are talking about, how can I invoke it?","body":"I just create a new scene with my <code>BorderPane</code> as the parameter: <code>Scene scene = new Scene(rootLayout);</code>. I can&#39;t find this <code>init(width, height)</code> you are talking about, how can I invoke it?"}],"answers":[{"tags":[],"owner":{"account_id":2835528,"reputation":1834,"user_id":2436221,"accept_rate":81,"display_name":"Jonatan Stenbacka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470308801,"creation_date":1470308801,"answer_id":38765638,"question_id":37318953,"body_markdown":"Solved the issue. Had to copy my whole project and then remove parts of the code until the issue disappeared. \r\n\r\nAnyway. I basically had three components in my application. A navigation component, a table compontent, and a status bar compontent. It looked like this:\r\n\r\n[![app sketch][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/CLYD4.png\r\n\r\nThe problem I had was that the width of the status bar and the width and height of the table component was increased whenever I took a snapshot of a row in the table.\r\n\r\nApparently, this was due to the padding of the status bar compontent. It had a right and left padding of 5 pixels, and once I removed the padding, the problem disappeared.\r\n\r\nThe added 10 pixels in width made the `BorderPane` that contained all of this expand with the same amount of pixels, and since the table width was bound to the `BorderPane` width, it increased by the same amount. What I still don&#39;t understand though, is why the `Stage` that contains the `BorderPane` doesn&#39;t adjust to the new width.\r\n\r\nThe component was properly padded before `Scene.doCSSLayoutSyncForSnapshot(Node node)` was invoked, so I don&#39;t understand why the extra width of ten pixels is added.\r\n\r\nAnyhow: Removing the padding from the status bar component and instead padding the components inside the status bar fixed the issue. If someone has a good explanation for this, I&#39;m all ears.\r\n\r\nHere&#39;s a MCVE where you can reproduce the issue by dragging a row in the table:\r\n\r\n    import java.io.File;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.property.SimpleStringProperty;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.geometry.Insets;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableRow;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.input.ClipboardContent;\r\n    import javafx.scene.input.Dragboard;\r\n    import javafx.scene.input.TransferMode;\r\n    import javafx.scene.layout.BorderPane;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class MCVE extends Application {\r\n    \r\n    \tprivate Stage primaryStage;\r\n    \tprivate BorderPane rootLayout;\r\n    \tprivate VBox detailsView;\r\n    \tprivate StatusBar statusBar;\r\n    \r\n    \tpublic void start(Stage primaryStage) throws SQLException {\r\n    \r\n    \t\tthis.primaryStage = primaryStage;\r\n    \t\tthis.primaryStage.setTitle(&quot;MCVE&quot;);\r\n    \r\n    \t\tinitRootLayout();\r\n    \t\tshowStatusBar();\r\n    \t\tshowDetailsView();\r\n    \r\n    \t\tdetailsView.prefWidthProperty().bind(rootLayout.widthProperty());\r\n    \t\tdetailsView.prefHeightProperty().bind(rootLayout.heightProperty());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void init() throws Exception {\r\n    \t\tsuper.init();\r\n    \r\n    \t}\r\n    \r\n    \tpublic void initRootLayout() {\r\n    \t\trootLayout = new BorderPane();\r\n    \r\n    \t\tprimaryStage.setWidth(1000);\r\n    \t\tprimaryStage.setHeight(600);\r\n    \r\n    \t\tScene scene = new Scene(rootLayout);\r\n    \t\tprimaryStage.setScene(scene);\r\n    \t\tprimaryStage.show();\r\n    \t}\r\n    \r\n    \tpublic void showStatusBar() {\r\n    \t\tstatusBar = new StatusBar();\r\n    \t\trootLayout.setBottom(statusBar);\r\n    \t}\r\n    \r\n    \tpublic void showDetailsView() {\r\n    \t\tdetailsView = new VBox();\r\n    \t\trootLayout.setCenter(detailsView);\r\n    \t\t\r\n    \t\tsetDetailsView(new Table(this));\r\n    \r\n    \t\tdetailsView.prefHeightProperty().bind(primaryStage.heightProperty());\r\n    \t\tdetailsView.setMaxHeight(Region.USE_PREF_SIZE);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \r\n    \tpublic VBox getDetailsView() {\r\n    \t\treturn detailsView;\r\n    \t}\r\n    \r\n    \tpublic void setDetailsView(Node content) {\r\n    \t\tdetailsView.getChildren().add(0, content);\r\n    \t}\r\n    \r\n    \tpublic StatusBar getStatusBar() {\r\n    \t\treturn statusBar;\r\n    \t}\r\n    \t\r\n    \tclass StatusBar extends HBox {\r\n    \t\tpublic StatusBar() {\r\n    \t\t\tsetPadding(new Insets(0, 5, 0, 5));\r\n    \t\t\t\r\n    \t\t\tHBox leftBox = new HBox(10);\r\n    \r\n    \t\t\tgetChildren().addAll(leftBox);\r\n    \r\n    \t\t\t/**\r\n    \t\t\t * CONTROL SIZES\r\n    \t\t\t */\r\n    \t\t\tsetPrefHeight(28);\r\n    \t\t\tsetMinHeight(28);\r\n    \t\t\tsetMaxHeight(28);\r\n    \r\n    \t\t\t// Leftbox takes all the space not occupied by the helpbox.\r\n    \t\t\tleftBox.prefWidthProperty().bind(widthProperty());\r\n    \t\t\t\r\n    \t\t\tsetStyle(&quot;-fx-border-color: black;&quot;);\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tclass Table extends TableView&lt;ObservableList&lt;String&gt;&gt; {\r\n    \r\n    \t\tprivate ObservableList&lt;ObservableList&lt;String&gt;&gt; data;\r\n    \r\n    \t\tpublic Table(MCVE app) {\r\n    \r\n    \t\t\tprefWidthProperty().bind(app.getDetailsView().widthProperty());\r\n    \t\t\tprefHeightProperty()\r\n    \t\t\t\t\t.bind(app.getDetailsView().heightProperty());\r\n    \r\n    \t\t\twidthProperty().addListener((obs, oldValue, newValue) -&gt; {\r\n    \t\t\t\tSystem.out.println(&quot;Table width: &quot; + newValue);\r\n    \t\t\t});\r\n    \r\n    \t\t\tsetRowFactory(r -&gt; {\r\n    \t\t\t\tTableRow&lt;ObservableList&lt;String&gt;&gt; row = new TableRow&lt;ObservableList&lt;String&gt;&gt;();\r\n    \r\n    \t\t\t\trow.setOnDragDetected(e -&gt; {\r\n    \t\t\t\t\tDragboard db = row.startDragAndDrop(TransferMode.ANY);\r\n    \t\t\t\t\tdb.setDragView(row.snapshot(null, null));\r\n    \r\n    \t\t\t\t\tArrayList&lt;File&gt; files = new ArrayList&lt;File&gt;();\r\n    \r\n    \t\t\t\t\t// We create a clipboard and put all of the files that\r\n    \t\t\t\t\t// was selected into the clipboard.\r\n    \t\t\t\t\tClipboardContent filesToCopyClipboard = new ClipboardContent();\r\n    \t\t\t\t\tfilesToCopyClipboard.putFiles(files);\r\n    \r\n    \t\t\t\t\tdb.setContent(filesToCopyClipboard);\r\n    \t\t\t\t});\r\n    \r\n    \t\t\t\trow.setOnDragDone(e -&gt; {\r\n    \t\t\t\t\te.consume();\r\n    \t\t\t\t});\r\n    \r\n    \t\t\t\treturn row;\r\n    \t\t\t});\r\n    \r\n    \t\t\tObservableList&lt;String&gt; columnNames = FXCollections.observableArrayList(&quot;Col1&quot;, &quot;col2&quot;, &quot;Col3&quot;, &quot;Col4&quot;);\r\n    \r\n    \t\t\tdata = FXCollections.observableArrayList();\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; columnNames.size(); i++) {\r\n    \t\t\t\tfinal int colIndex = i;\r\n    \r\n    \t\t\t\tTableColumn&lt;ObservableList&lt;String&gt;, String&gt; column = new TableColumn&lt;ObservableList&lt;String&gt;, String&gt;(\r\n    \t\t\t\t\t\tcolumnNames.get(i));\r\n    \r\n    \t\t\t\tcolumn.setCellValueFactory((param) -&gt; new SimpleStringProperty(param.getValue().get(colIndex).toString()));\r\n    \r\n    \t\t\t\t\tgetColumns().add(column);\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Adds all of the data from the rows the data list.\r\n    \t\t\tfor (int i = 0; i &lt; 100; i++) {\r\n    \t\t\t\t// Each column from the row is a String in the list.\r\n    \t\t\t\tObservableList&lt;String&gt; row = FXCollections.observableArrayList();\r\n    \r\n    \t\t\t\trow.add(&quot;Column 1&quot;);\r\n    \t\t\t\trow.add(&quot;Column 2&quot;);\r\n    \t\t\t\trow.add(&quot;Column 3&quot;);\r\n    \t\t\t\trow.add(&quot;Column 4&quot;);\r\n    \r\n    \t\t\t\t// Adds the row to data.\r\n    \t\t\t\tdata.add(row);\r\n    \t\t\t}\r\n    \r\n    \t\t\t// Adds all of the rows in data to the table.\r\n    \t\t\tsetItems(data);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Node.snapshot(null, null) changes size of Scene","body":"<p>Solved the issue. Had to copy my whole project and then remove parts of the code until the issue disappeared. </p>\n\n<p>Anyway. I basically had three components in my application. A navigation component, a table compontent, and a status bar compontent. It looked like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/CLYD4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CLYD4.png\" alt=\"app sketch\"></a></p>\n\n<p>The problem I had was that the width of the status bar and the width and height of the table component was increased whenever I took a snapshot of a row in the table.</p>\n\n<p>Apparently, this was due to the padding of the status bar compontent. It had a right and left padding of 5 pixels, and once I removed the padding, the problem disappeared.</p>\n\n<p>The added 10 pixels in width made the <code>BorderPane</code> that contained all of this expand with the same amount of pixels, and since the table width was bound to the <code>BorderPane</code> width, it increased by the same amount. What I still don't understand though, is why the <code>Stage</code> that contains the <code>BorderPane</code> doesn't adjust to the new width.</p>\n\n<p>The component was properly padded before <code>Scene.doCSSLayoutSyncForSnapshot(Node node)</code> was invoked, so I don't understand why the extra width of ten pixels is added.</p>\n\n<p>Anyhow: Removing the padding from the status bar component and instead padding the components inside the status bar fixed the issue. If someone has a good explanation for this, I'm all ears.</p>\n\n<p>Here's a MCVE where you can reproduce the issue by dragging a row in the table:</p>\n\n<pre><code>import java.io.File;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\n\nimport javafx.application.Application;\nimport javafx.beans.property.SimpleStringProperty;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.geometry.Insets;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableRow;\nimport javafx.scene.control.TableView;\nimport javafx.scene.input.ClipboardContent;\nimport javafx.scene.input.Dragboard;\nimport javafx.scene.input.TransferMode;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.Region;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\npublic class MCVE extends Application {\n\n    private Stage primaryStage;\n    private BorderPane rootLayout;\n    private VBox detailsView;\n    private StatusBar statusBar;\n\n    public void start(Stage primaryStage) throws SQLException {\n\n        this.primaryStage = primaryStage;\n        this.primaryStage.setTitle(\"MCVE\");\n\n        initRootLayout();\n        showStatusBar();\n        showDetailsView();\n\n        detailsView.prefWidthProperty().bind(rootLayout.widthProperty());\n        detailsView.prefHeightProperty().bind(rootLayout.heightProperty());\n    }\n\n    @Override\n    public void init() throws Exception {\n        super.init();\n\n    }\n\n    public void initRootLayout() {\n        rootLayout = new BorderPane();\n\n        primaryStage.setWidth(1000);\n        primaryStage.setHeight(600);\n\n        Scene scene = new Scene(rootLayout);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public void showStatusBar() {\n        statusBar = new StatusBar();\n        rootLayout.setBottom(statusBar);\n    }\n\n    public void showDetailsView() {\n        detailsView = new VBox();\n        rootLayout.setCenter(detailsView);\n\n        setDetailsView(new Table(this));\n\n        detailsView.prefHeightProperty().bind(primaryStage.heightProperty());\n        detailsView.setMaxHeight(Region.USE_PREF_SIZE);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public VBox getDetailsView() {\n        return detailsView;\n    }\n\n    public void setDetailsView(Node content) {\n        detailsView.getChildren().add(0, content);\n    }\n\n    public StatusBar getStatusBar() {\n        return statusBar;\n    }\n\n    class StatusBar extends HBox {\n        public StatusBar() {\n            setPadding(new Insets(0, 5, 0, 5));\n\n            HBox leftBox = new HBox(10);\n\n            getChildren().addAll(leftBox);\n\n            /**\n             * CONTROL SIZES\n             */\n            setPrefHeight(28);\n            setMinHeight(28);\n            setMaxHeight(28);\n\n            // Leftbox takes all the space not occupied by the helpbox.\n            leftBox.prefWidthProperty().bind(widthProperty());\n\n            setStyle(\"-fx-border-color: black;\");\n        }\n    }\n\n    class Table extends TableView&lt;ObservableList&lt;String&gt;&gt; {\n\n        private ObservableList&lt;ObservableList&lt;String&gt;&gt; data;\n\n        public Table(MCVE app) {\n\n            prefWidthProperty().bind(app.getDetailsView().widthProperty());\n            prefHeightProperty()\n                    .bind(app.getDetailsView().heightProperty());\n\n            widthProperty().addListener((obs, oldValue, newValue) -&gt; {\n                System.out.println(\"Table width: \" + newValue);\n            });\n\n            setRowFactory(r -&gt; {\n                TableRow&lt;ObservableList&lt;String&gt;&gt; row = new TableRow&lt;ObservableList&lt;String&gt;&gt;();\n\n                row.setOnDragDetected(e -&gt; {\n                    Dragboard db = row.startDragAndDrop(TransferMode.ANY);\n                    db.setDragView(row.snapshot(null, null));\n\n                    ArrayList&lt;File&gt; files = new ArrayList&lt;File&gt;();\n\n                    // We create a clipboard and put all of the files that\n                    // was selected into the clipboard.\n                    ClipboardContent filesToCopyClipboard = new ClipboardContent();\n                    filesToCopyClipboard.putFiles(files);\n\n                    db.setContent(filesToCopyClipboard);\n                });\n\n                row.setOnDragDone(e -&gt; {\n                    e.consume();\n                });\n\n                return row;\n            });\n\n            ObservableList&lt;String&gt; columnNames = FXCollections.observableArrayList(\"Col1\", \"col2\", \"Col3\", \"Col4\");\n\n            data = FXCollections.observableArrayList();\n\n            for (int i = 0; i &lt; columnNames.size(); i++) {\n                final int colIndex = i;\n\n                TableColumn&lt;ObservableList&lt;String&gt;, String&gt; column = new TableColumn&lt;ObservableList&lt;String&gt;, String&gt;(\n                        columnNames.get(i));\n\n                column.setCellValueFactory((param) -&gt; new SimpleStringProperty(param.getValue().get(colIndex).toString()));\n\n                    getColumns().add(column);\n            }\n\n            // Adds all of the data from the rows the data list.\n            for (int i = 0; i &lt; 100; i++) {\n                // Each column from the row is a String in the list.\n                ObservableList&lt;String&gt; row = FXCollections.observableArrayList();\n\n                row.add(\"Column 1\");\n                row.add(\"Column 2\");\n                row.add(\"Column 3\");\n                row.add(\"Column 4\");\n\n                // Adds the row to data.\n                data.add(row);\n            }\n\n            // Adds all of the rows in data to the table.\n            setItems(data);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8402319,"reputation":352,"user_id":6307037,"accept_rate":57,"display_name":"Jody Sowald"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661969421,"creation_date":1661969421,"answer_id":73560172,"question_id":37318953,"body_markdown":"This answer talks about it a little bit\r\nhttps://stackoverflow.com/questions/8790853/set-scene-width-and-height\r\n\r\nbut after diving into the source code I found that the resizing in snapshot is conditional on the scene never having a size set by one of its constructors.\r\n \r\nYou can only set a scene&#39;s size in its constructors and never again. That makes a little bit of sense, since its otherwise only used to size the window that contains it. It is unfortunate that the snapshot code is not smart enough to use the window&#39;s dimensions when set by the user in addition to the scene&#39;s possible user settings.\r\n\r\nNone of this prevents resizing later, so if you depend on taking snapshots, you may want to make a best practice out of using the Scene constructors which take a width and height and sending them something above 0","title":"Node.snapshot(null, null) changes size of Scene","body":"<p>This answer talks about it a little bit\n<a href=\"https://stackoverflow.com/questions/8790853/set-scene-width-and-height\">Set scene width and height</a></p>\n<p>but after diving into the source code I found that the resizing in snapshot is conditional on the scene never having a size set by one of its constructors.</p>\n<p>You can only set a scene's size in its constructors and never again. That makes a little bit of sense, since its otherwise only used to size the window that contains it. It is unfortunate that the snapshot code is not smart enough to use the window's dimensions when set by the user in addition to the scene's possible user settings.</p>\n<p>None of this prevents resizing later, so if you depend on taking snapshots, you may want to make a best practice out of using the Scene constructors which take a width and height and sending them something above 0</p>\n"}],"owner":{"account_id":2835528,"reputation":1834,"user_id":2436221,"accept_rate":81,"display_name":"Jonatan Stenbacka"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"accepted_answer_id":38765638,"answer_count":2,"score":11,"last_activity_date":1661969421,"creation_date":1463649636,"question_id":37318953,"body_markdown":"I have `Scene` which is set to the `Scene` of my primaryStage that - amongst other nodes - contains a `VBox` with a `TableView` and some buttons. When I take a snapshot on a row in the table using `TableRow.snapshot(null, null)`, the size of the `Scene` is changed. The width is changed by about 10 pixels while the height is changed by about 40 - sometimes more than 600 (!) -  pixels.\r\n\r\nThis happens because `Node.snapshot(null, null)` invokes  `Scene.doCSSLayoutSyncForSnapshot(Node node)` which seems to get the preferred size of all nodes in the size and recalculate the size using that. This somehow returns the wrong values since my nodes only has preferred sizes specified and looks great before this method is invoked. Is there any way to prevent this?\r\n\r\nThe size change is a problem, but it is also a problem that the primary stage doesn&#39;t change size with the `Scene` that it contains.\r\n\r\nI have tried to create an MCVE reproducing the issue, but after a few days of trying to do this, I am still unable to reproduce the problem. The original program contains around 2000 lines of code that I don&#39;t want to post here.\r\n\r\nWhy would `Scene.doCSSLayoutSyncForSnapshot(Node node)` compromise my layout when it is properly laid out in the first place? Can I somehow make sure that the layout is properly synced before this method is invoked to make sure that it doesn&#39;t change anything?","title":"Node.snapshot(null, null) changes size of Scene","body":"<p>I have <code>Scene</code> which is set to the <code>Scene</code> of my primaryStage that - amongst other nodes - contains a <code>VBox</code> with a <code>TableView</code> and some buttons. When I take a snapshot on a row in the table using <code>TableRow.snapshot(null, null)</code>, the size of the <code>Scene</code> is changed. The width is changed by about 10 pixels while the height is changed by about 40 - sometimes more than 600 (!) -  pixels.</p>\n\n<p>This happens because <code>Node.snapshot(null, null)</code> invokes  <code>Scene.doCSSLayoutSyncForSnapshot(Node node)</code> which seems to get the preferred size of all nodes in the size and recalculate the size using that. This somehow returns the wrong values since my nodes only has preferred sizes specified and looks great before this method is invoked. Is there any way to prevent this?</p>\n\n<p>The size change is a problem, but it is also a problem that the primary stage doesn't change size with the <code>Scene</code> that it contains.</p>\n\n<p>I have tried to create an MCVE reproducing the issue, but after a few days of trying to do this, I am still unable to reproduce the problem. The original program contains around 2000 lines of code that I don't want to post here.</p>\n\n<p>Why would <code>Scene.doCSSLayoutSyncForSnapshot(Node node)</code> compromise my layout when it is properly laid out in the first place? Can I somehow make sure that the layout is properly synced before this method is invoked to make sure that it doesn't change anything?</p>\n"},{"tags":["java","python","encryption"],"comments":[{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1535613574,"post_id":52089796,"comment_id":91132271,"body_markdown":"@e4c5 without IV specified, seems the ECB is used. Indeed the best practice is to explicitly specify the mode `Cipher.getInstance(&quot;AES/ECB/Pkcs5Padding&quot;);`","body":"@e4c5 without IV specified, seems the ECB is used. Indeed the best practice is to explicitly specify the mode <code>Cipher.getInstance(&quot;AES&#47;ECB&#47;Pkcs5Padding&quot;);</code>"},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1535613643,"post_id":52089796,"comment_id":91132306,"body_markdown":"Are you sure you are using the same key? (could you print encoded value of the keys used in Java and in Python?)  (using the &quot;encodeRules&quot; is very strange IMHO)","body":"Are you sure you are using the same key? (could you print encoded value of the keys used in Java and in Python?)  (using the &quot;encodeRules&quot; is very strange IMHO)"},{"owner":{"account_id":98950,"reputation":53056,"user_id":267540,"display_name":"e4c5"},"score":0,"creation_date":1535613812,"post_id":52089796,"comment_id":91132406,"body_markdown":"@gusto oops, getInstance(&quot;AES/ECB/Pkcs5Padding&quot;); was what I intended to paste!","body":"@gusto oops, getInstance(&quot;AES/ECB/Pkcs5Padding&quot;); was what I intended to paste!"},{"owner":{"account_id":6978923,"reputation":59,"user_id":5352634,"accept_rate":33,"display_name":"ZeeBm Chan"},"score":0,"creation_date":1535615723,"post_id":52089796,"comment_id":91133597,"body_markdown":"Yes i&#39;m sure, both key are &#39;1234567812345678&#39; @gusto2","body":"Yes i&#39;m sure, both key are &#39;1234567812345678&#39; @gusto2"},{"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"score":0,"creation_date":1535616912,"post_id":52089796,"comment_id":91134290,"body_markdown":"I am sure they are not (please print the `raw` variable, that&#39;s the key). Providing `1234567812345678` as a parameter, the Java app (please read the code) creates a new random with the static seed which is not random, but definitely not bytes you expect. If you want to use the key as it is, you may use `byte[] raw = encodeRules.getBytes()`  (assuming the string has 16 bytes). Please note your implementation is far from secure for encryption (ECB mode, simple key, ...)","body":"I am sure they are not (please print the <code>raw</code> variable, that&#39;s the key). Providing <code>1234567812345678</code> as a parameter, the Java app (please read the code) creates a new random with the static seed which is not random, but definitely not bytes you expect. If you want to use the key as it is, you may use <code>byte[] raw = encodeRules.getBytes()</code>  (assuming the string has 16 bytes). Please note your implementation is far from secure for encryption (ECB mode, simple key, ...)"}],"answers":[{"tags":[],"owner":{"account_id":1809323,"reputation":11348,"user_id":1645712,"accept_rate":73,"display_name":"gusto2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1535617752,"creation_date":1535617752,"answer_id":52092468,"question_id":52089796,"body_markdown":"You use different encryption keys\r\n\r\nIn Java\r\n\r\n&gt; System.out.println(EncryptUtil.AESEncode(&quot;1234567812345678&quot;, &quot;python&amp;java&quot;));\r\n   \r\nSee the code:\r\n\r\n    KeyGenerator keygen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n    keygen.init(128, new SecureRandom(encodeRules.getBytes()));\r\n    SecretKey original_key = keygen.generateKey();\r\n    byte[] raw = original_key.getEncoded();\r\n\r\nIf you print the `raw` key, you will get `fd839759956ba4a47922e8ee7c902f52` (HEX encoded), that&#39;s the encryption key\r\n\r\nIf you would like to use the provided key directy, you should use \r\n\r\n    byte[] raw = encodeRules.getBytes(); \r\n    // (assuming encodeRules has 16 bytes)\r\n\r\n\r\n&gt; How do I edit my PYTHON code make the cipher_text equals JAVA encryption\r\n\r\nThat&#39;s tricky..  you may have a look [how SecureRandom works](https://security.stackexchange.com/questions/47871/how-securely-random-is-oracles-java-security-securerandom), but IMHO it&#39;s easier to fix the Java implementation to create a key you expect\r\n\r\nRegardless that I&#39;d consider the implementation not secure enough - using ECB and simple key.\r\n\r\n","title":"Python and java AES/ECB/PKCS5 encryption","body":"<p>You use different encryption keys</p>\n\n<p>In Java</p>\n\n<blockquote>\n  <p>System.out.println(EncryptUtil.AESEncode(\"1234567812345678\", \"python&amp;java\"));</p>\n</blockquote>\n\n<p>See the code:</p>\n\n<pre><code>KeyGenerator keygen = KeyGenerator.getInstance(\"AES\");\nkeygen.init(128, new SecureRandom(encodeRules.getBytes()));\nSecretKey original_key = keygen.generateKey();\nbyte[] raw = original_key.getEncoded();\n</code></pre>\n\n<p>If you print the <code>raw</code> key, you will get <code>fd839759956ba4a47922e8ee7c902f52</code> (HEX encoded), that's the encryption key</p>\n\n<p>If you would like to use the provided key directy, you should use </p>\n\n<pre><code>byte[] raw = encodeRules.getBytes(); \n// (assuming encodeRules has 16 bytes)\n</code></pre>\n\n<blockquote>\n  <p>How do I edit my PYTHON code make the cipher_text equals JAVA encryption</p>\n</blockquote>\n\n<p>That's tricky..  you may have a look <a href=\"https://security.stackexchange.com/questions/47871/how-securely-random-is-oracles-java-security-securerandom\">how SecureRandom works</a>, but IMHO it's easier to fix the Java implementation to create a key you expect</p>\n\n<p>Regardless that I'd consider the implementation not secure enough - using ECB and simple key.</p>\n"}],"owner":{"account_id":6978923,"reputation":59,"user_id":5352634,"accept_rate":33,"display_name":"ZeeBm Chan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1409,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":52092468,"answer_count":1,"score":-1,"last_activity_date":1661969054,"creation_date":1535607226,"question_id":52089796,"body_markdown":"JAVA VERSION:\r\n\r\n    public class EncryptUtil {\r\n        public static String AESEncode(String encodeRules, String content) {\r\n            try {\r\n                KeyGenerator keygen = KeyGenerator.getInstance(&quot;AES&quot;);\r\n                keygen.init(128, new SecureRandom(encodeRules.getBytes()));\r\n            SecretKey original_key = keygen.generateKey();\r\n            byte[] raw = original_key.getEncoded();\r\n            SecretKey key = new SecretKeySpec(raw, &quot;AES&quot;);\r\n            Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            byte[] byte_encode = content.getBytes(&quot;utf-8&quot;);\r\n            byte[] byte_AES = cipher.doFinal(byte_encode);\r\n            return new String(Base64.getEncoder().encode(byte_AES));\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        } catch (NoSuchPaddingException e) {\r\n            e.printStackTrace();\r\n        } catch (InvalidKeyException e) {\r\n            e.printStackTrace();\r\n        } catch (IllegalBlockSizeException e) {\r\n            e.printStackTrace();\r\n        } catch (BadPaddingException e) {\r\n            e.printStackTrace();\r\n        } catch (UnsupportedEncodingException e) {\r\n            e.printStackTrace();\r\n        }\r\n           return null;\r\n       }\r\n\r\n    }\r\n\r\nWhen i run this code:\r\n\r\n    System.out.println(EncryptUtil.AESEncode(&quot;1234567812345678&quot;, python&amp;java&quot;));\r\nI&#39;ve got:\r\n\r\n    V5FFUgDi7VZaJ0qGzDISoA==\r\n\r\nPYTHON VERSION:\r\n\r\n    import base64\r\n\r\n    from Crypto.Cipher import AES\r\n\r\n    BLOCK_SIZE = 16  # Bytes\r\n    pad = lambda s: s + (BLOCK_SIZE - len(s) % BLOCK_SIZE) * \\\r\n                chr(BLOCK_SIZE - len(s) % BLOCK_SIZE)\r\n    unpad = lambda s: s[:-ord(s[len(s) - 1:])]\r\n\r\n\r\n    class AESUtil:\r\n        __BLOCK_SIZE_16 = BLOCK_SIZE_16 = AES.block_size\r\n    \r\n        def __init__(self, key):\r\n             self.key = key\r\n    \r\n        def encrypt(self, raw):\r\n            raw = pad(raw)\r\n            cipher = AES.new(self.key, AES.MODE_ECB)\r\n            return base64.b64encode(cipher.encrypt(raw))\r\n    \r\n        def decrypt(self, enc):\r\n            enc = base64.b64decode(enc)\r\n            cipher = AES.new(self.key, AES.MODE_ECB)\r\n            return unpad(cipher.decrypt(enc))\r\n\r\nI know java use AES/ECB/PKCS#5 by default, but when I run the `encrypt` method ：\r\n\r\n    cipher_text = AESUtil(&quot;1234567812345678&quot;).encryt(&#39;python&amp;java&#39;)\r\n\r\n got:`b&#39;3mjygpK1d7ThCRK98ssZhA==&#39;`\r\n\r\nThe pad and unpad i found them in Googles.\r\nHow do I edit my PYTHON code make the cipher_text equals JAVA encryption.\r\nCan somebody know how to fix it?\r\n","title":"Python and java AES/ECB/PKCS5 encryption","body":"<p>JAVA VERSION:</p>\n\n<pre><code>public class EncryptUtil {\n    public static String AESEncode(String encodeRules, String content) {\n        try {\n            KeyGenerator keygen = KeyGenerator.getInstance(\"AES\");\n            keygen.init(128, new SecureRandom(encodeRules.getBytes()));\n        SecretKey original_key = keygen.generateKey();\n        byte[] raw = original_key.getEncoded();\n        SecretKey key = new SecretKeySpec(raw, \"AES\");\n        Cipher cipher = Cipher.getInstance(\"AES\");\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        byte[] byte_encode = content.getBytes(\"utf-8\");\n        byte[] byte_AES = cipher.doFinal(byte_encode);\n        return new String(Base64.getEncoder().encode(byte_AES));\n    } catch (NoSuchAlgorithmException e) {\n        e.printStackTrace();\n    } catch (NoSuchPaddingException e) {\n        e.printStackTrace();\n    } catch (InvalidKeyException e) {\n        e.printStackTrace();\n    } catch (IllegalBlockSizeException e) {\n        e.printStackTrace();\n    } catch (BadPaddingException e) {\n        e.printStackTrace();\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n       return null;\n   }\n\n}\n</code></pre>\n\n<p>When i run this code:</p>\n\n<pre><code>System.out.println(EncryptUtil.AESEncode(\"1234567812345678\", python&amp;java\"));\n</code></pre>\n\n<p>I've got:</p>\n\n<pre><code>V5FFUgDi7VZaJ0qGzDISoA==\n</code></pre>\n\n<p>PYTHON VERSION:</p>\n\n<pre><code>import base64\n\nfrom Crypto.Cipher import AES\n\nBLOCK_SIZE = 16  # Bytes\npad = lambda s: s + (BLOCK_SIZE - len(s) % BLOCK_SIZE) * \\\n            chr(BLOCK_SIZE - len(s) % BLOCK_SIZE)\nunpad = lambda s: s[:-ord(s[len(s) - 1:])]\n\n\nclass AESUtil:\n    __BLOCK_SIZE_16 = BLOCK_SIZE_16 = AES.block_size\n\n    def __init__(self, key):\n         self.key = key\n\n    def encrypt(self, raw):\n        raw = pad(raw)\n        cipher = AES.new(self.key, AES.MODE_ECB)\n        return base64.b64encode(cipher.encrypt(raw))\n\n    def decrypt(self, enc):\n        enc = base64.b64decode(enc)\n        cipher = AES.new(self.key, AES.MODE_ECB)\n        return unpad(cipher.decrypt(enc))\n</code></pre>\n\n<p>I know java use AES/ECB/PKCS#5 by default, but when I run the <code>encrypt</code> method ：</p>\n\n<pre><code>cipher_text = AESUtil(\"1234567812345678\").encryt('python&amp;java')\n</code></pre>\n\n<p>got:<code>b'3mjygpK1d7ThCRK98ssZhA=='</code></p>\n\n<p>The pad and unpad i found them in Googles.\nHow do I edit my PYTHON code make the cipher_text equals JAVA encryption.\nCan somebody know how to fix it?</p>\n"},{"tags":["java","playframework-2.1"],"comments":[{"owner":{"account_id":15188,"reputation":15038,"user_id":31818,"display_name":"seh"},"score":0,"creation_date":1361202135,"post_id":14937710,"comment_id":20966949,"body_markdown":"possible duplicate of [How do I set headers for WS.post() in play 2.1 Java](http://stackoverflow.com/questions/14937159/how-do-i-set-headers-for-ws-post-in-play-2-1-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/14937159/how-do-i-set-headers-for-ws-post-in-play-2-1-java\">How do I set headers for WS.post() in play 2.1 Java</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user2030471"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1361205021,"creation_date":1361195626,"answer_id":14937950,"question_id":14937710,"body_markdown":"Try constructing the request like this:\r\n\r\n    WS.url(&quot;http://localhost:9001&quot;)\r\n        .setQueryParameter(&quot;param1&quot;, &quot;foo&quot;)\r\n        .setQueryParameter(&quot;param2&quot;, &quot;bar&quot;)\r\n        .post(&quot;content&quot;);\r\n\r\nThe method `url(java.lang.String url)` returns a `WS.WSRequestHolder` reference which can be used to modify the original request using chained calls to [`setQueryParameter`][1].\r\n\r\n\r\n  [1]: http://www.playframework.com/documentation/api/2.1.0/java/play/libs/WS.WSRequestHolder.html#setQueryParameter%28java.lang.String,%20java.lang.String%29","title":"How do I set params for WS.post() in play 2.1 Java","body":"<p>Try constructing the request like this:</p>\n\n<pre><code>WS.url(\"http://localhost:9001\")\n    .setQueryParameter(\"param1\", \"foo\")\n    .setQueryParameter(\"param2\", \"bar\")\n    .post(\"content\");\n</code></pre>\n\n<p>The method <code>url(java.lang.String url)</code> returns a <code>WS.WSRequestHolder</code> reference which can be used to modify the original request using chained calls to <a href=\"http://www.playframework.com/documentation/api/2.1.0/java/play/libs/WS.WSRequestHolder.html#setQueryParameter%28java.lang.String,%20java.lang.String%29\" rel=\"noreferrer\"><code>setQueryParameter</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":89579,"reputation":5979,"user_id":247071,"accept_rate":94,"display_name":"jakob"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1361196151,"creation_date":1361196151,"answer_id":14938117,"question_id":14937710,"body_markdown":"Hmm I guess I should really start looking at the imports!\r\n\r\nI accidentally used import play.api.libs.ws.WS instead of import play.libs.WS;\r\nWhen using **play.libs.WS** all the methods such as post(String string) and setContentType(String string) revealed themselves. This is how I did it:\r\n\r\n\r\n    import play.Play;\r\n    import play.libs.F;\r\n    import play.libs.WS;\r\n\r\n    public static Result wsAction() {\r\n        return async(\r\n            play.libs.WS.url(Play.application().configuration()\r\n                .getString(&quot;sms.service.url&quot;))\r\n                .setContentType(&quot;application/x-www-form-urlencoded; charset=utf-8&quot;)                       \r\n                .post(&quot;param1=foo&amp;param2=bar&quot;).map(\r\n                    new F.Function&lt;WS.Response, Result&gt;() {\r\n                        public Result apply(WS.Response response) {\r\n                           return ok(response.toString());\r\n                        }\r\n                    }\r\n                )\r\n            );\r\n        }\r\n","title":"How do I set params for WS.post() in play 2.1 Java","body":"<p>Hmm I guess I should really start looking at the imports!</p>\n\n<p>I accidentally used import play.api.libs.ws.WS instead of import play.libs.WS;\nWhen using <strong>play.libs.WS</strong> all the methods such as post(String string) and setContentType(String string) revealed themselves. This is how I did it:</p>\n\n<pre><code>import play.Play;\nimport play.libs.F;\nimport play.libs.WS;\n\npublic static Result wsAction() {\n    return async(\n        play.libs.WS.url(Play.application().configuration()\n            .getString(\"sms.service.url\"))\n            .setContentType(\"application/x-www-form-urlencoded; charset=utf-8\")                       \n            .post(\"param1=foo&amp;param2=bar\").map(\n                new F.Function&lt;WS.Response, Result&gt;() {\n                    public Result apply(WS.Response response) {\n                       return ok(response.toString());\n                    }\n                }\n            )\n        );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2160677,"reputation":1,"user_id":1914892,"display_name":"Amol Gaikwad"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1363635463,"creation_date":1363635463,"answer_id":15485391,"question_id":14937710,"body_markdown":"The right way of doing the blocking request in play 2.1 is\r\n\r\n    WSRequestHolder wsreqHolder = WS.url(&quot;&lt;SOME URL WHICH TAKES PARAMETER&gt;&quot;);\r\n    wsreqHolder.setQueryParameter(&quot;id&quot;, &quot;100&quot;);\r\n    F.Promise&lt;WS.Response&gt; promiseOfResult = wsreqHolder.get();\r\n\r\n    WS.Response response = promiseOfResult.get(); //block here\r\n\r\n    String jsonData =  response.getBody();\r\n    return ok(&quot;Client:&quot;+jsonData);\r\n\r\nI have tried it. It works","title":"How do I set params for WS.post() in play 2.1 Java","body":"<p>The right way of doing the blocking request in play 2.1 is</p>\n\n<pre><code>WSRequestHolder wsreqHolder = WS.url(\"&lt;SOME URL WHICH TAKES PARAMETER&gt;\");\nwsreqHolder.setQueryParameter(\"id\", \"100\");\nF.Promise&lt;WS.Response&gt; promiseOfResult = wsreqHolder.get();\n\nWS.Response response = promiseOfResult.get(); //block here\n\nString jsonData =  response.getBody();\nreturn ok(\"Client:\"+jsonData);\n</code></pre>\n\n<p>I have tried it. It works</p>\n"},{"tags":[],"owner":{"account_id":4172429,"reputation":544,"user_id":3419895,"accept_rate":70,"display_name":"quester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1406645505,"creation_date":1406645505,"answer_id":25018358,"question_id":14937710,"body_markdown":"for me the best way\r\n\r\n    WS.url(&quot;http://localhost:9001&quot;)\r\n    .post(Json.toJson(ImmutableMap.of(&quot;param1&quot;, &quot;foo&quot;, &quot;param2&quot;, &quot;bar&quot;)));\r\n\r\nMap from http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableMap.html\r\n\r\nhttp://code.google.com/p/guava-libraries/wiki/ImmutableCollectionsExplained\r\n\r\n","title":"How do I set params for WS.post() in play 2.1 Java","body":"<p>for me the best way</p>\n\n<pre><code>WS.url(\"http://localhost:9001\")\n.post(Json.toJson(ImmutableMap.of(\"param1\", \"foo\", \"param2\", \"bar\")));\n</code></pre>\n\n<p>Map from <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableMap.html\" rel=\"nofollow\">http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableMap.html</a></p>\n\n<p><a href=\"http://code.google.com/p/guava-libraries/wiki/ImmutableCollectionsExplained\" rel=\"nofollow\">http://code.google.com/p/guava-libraries/wiki/ImmutableCollectionsExplained</a></p>\n"},{"tags":[],"owner":{"account_id":5683858,"reputation":11,"user_id":4494023,"display_name":"Aaron Peng"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661968948,"creation_date":1423478825,"answer_id":28407938,"question_id":14937710,"body_markdown":"    WS.url(url)\r\n    .setContentType(&quot;application/x-www-form-urlencoded&quot;)\r\n    .post(&quot;param1=foo&amp;param2=bar&quot;);\r\n\r\nThis method uses an HTTP POST method to send its form request. As seen from the official documentation of Play, you should had already known of the GET method.\r\n","title":"How do I set params for WS.post() in play 2.1 Java","body":"<pre><code>WS.url(url)\n.setContentType(&quot;application/x-www-form-urlencoded&quot;)\n.post(&quot;param1=foo&amp;param2=bar&quot;);\n</code></pre>\n<p>This method uses an HTTP POST method to send its form request. As seen from the official documentation of Play, you should had already known of the GET method.</p>\n"},{"tags":[],"owner":{"account_id":206110,"reputation":837,"user_id":455209,"display_name":"SilentDirge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454307350,"creation_date":1454307350,"answer_id":35124066,"question_id":14937710,"body_markdown":"You need to pass in something that can be converted to serialized JSON. This works for me:\r\n\r\n    WS.url(&quot;https://www.someurl.com&quot;)\r\n      .post(JsObject(Seq(&quot;theString&quot; -&gt; JsString(someString))))\r\n\r\nThe sequence takes any number of JsValues which can also be nested JsObjects.","title":"How do I set params for WS.post() in play 2.1 Java","body":"<p>You need to pass in something that can be converted to serialized JSON. This works for me:</p>\n\n<pre><code>WS.url(\"https://www.someurl.com\")\n  .post(JsObject(Seq(\"theString\" -&gt; JsString(someString))))\n</code></pre>\n\n<p>The sequence takes any number of JsValues which can also be nested JsObjects.</p>\n"},{"tags":[],"owner":{"account_id":85749,"reputation":43318,"user_id":238884,"accept_rate":60,"display_name":"Michael Lorton"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1494504738,"creation_date":1460492797,"answer_id":36583419,"question_id":14937710,"body_markdown":"The accepted answer is wrong, or at least misleading.  The code\r\n\r\n    WS.url(&quot;http://localhost:9001&quot;)\r\n        .setQueryParameter(&quot;param1&quot;, &quot;foo&quot;)\r\n        .setQueryParameter(&quot;param2&quot;, &quot;bar&quot;)\r\n        .post(&quot;content&quot;);\r\n\r\n\r\nwill post the string `content` to `http://localhost:9001/?param1=foo&amp;param2=bar`, which is almost certainly not what the OP wanted.  What is much more likely to work is\r\n\r\n    WS.url(&quot;http://localhost:9001&quot;)\r\n       .post(Map(&quot;param1&quot; -&gt; Seq(&quot;foo&quot;),\r\n                 &quot;param2&quot; -&gt; Seq(&quot;bar&quot;)))\r\n\r\nwhich posts the **form** `param1=foo&amp;param2=bar` to the the URL `http://localhost:9001`, which is typically what the server wants.","title":"How do I set params for WS.post() in play 2.1 Java","body":"<p>The accepted answer is wrong, or at least misleading.  The code</p>\n\n<pre><code>WS.url(\"http://localhost:9001\")\n    .setQueryParameter(\"param1\", \"foo\")\n    .setQueryParameter(\"param2\", \"bar\")\n    .post(\"content\");\n</code></pre>\n\n<p>will post the string <code>content</code> to <code>http://localhost:9001/?param1=foo&amp;param2=bar</code>, which is almost certainly not what the OP wanted.  What is much more likely to work is</p>\n\n<pre><code>WS.url(\"http://localhost:9001\")\n   .post(Map(\"param1\" -&gt; Seq(\"foo\"),\n             \"param2\" -&gt; Seq(\"bar\")))\n</code></pre>\n\n<p>which posts the <strong>form</strong> <code>param1=foo&amp;param2=bar</code> to the the URL <code>http://localhost:9001</code>, which is typically what the server wants.</p>\n"}],"owner":{"account_id":89579,"reputation":5979,"user_id":247071,"accept_rate":94,"display_name":"jakob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15079,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":14937950,"answer_count":7,"score":10,"last_activity_date":1661968948,"creation_date":1361194846,"question_id":14937710,"body_markdown":"I&#39;m trying to perform a post with play.api.libs.ws.WS but I can&#39;t figure out\r\nhow to set the params, my code:\r\n\r\n    Promise&lt;Response&gt; promise = WS.url(Play.application().configuration()\r\n                    .getString(&quot;sms.service.url&quot;)).post();\r\n\r\n**.post** takes (T body, play.api.http.Writeable&lt;T&gt; wrt, play.api.http.ContentTypeOf&lt;T&gt; ct)\r\nbut I don&#39;t understand how I should pass the params there.\r\nThe documentation only states:\r\n\r\n    Promise&lt;WS.Response&gt; result = WS.url(&quot;http://localhost:9001&quot;).post(&quot;content&quot;);\r\n\r\nHow do I set the content eg. **param1=foo** and **param2=bar**?\r\n\r\n","title":"How do I set params for WS.post() in play 2.1 Java","body":"<p>I'm trying to perform a post with play.api.libs.ws.WS but I can't figure out\nhow to set the params, my code:</p>\n\n<pre><code>Promise&lt;Response&gt; promise = WS.url(Play.application().configuration()\n                .getString(\"sms.service.url\")).post();\n</code></pre>\n\n<p><strong>.post</strong> takes (T body, play.api.http.Writeable wrt, play.api.http.ContentTypeOf ct)\nbut I don't understand how I should pass the params there.\nThe documentation only states:</p>\n\n<pre><code>Promise&lt;WS.Response&gt; result = WS.url(\"http://localhost:9001\").post(\"content\");\n</code></pre>\n\n<p>How do I set the content eg. <strong>param1=foo</strong> and <strong>param2=bar</strong>?</p>\n"},{"tags":["javascript","java","node.js","typescript","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":959835,"reputation":863,"user_id":984444,"accept_rate":58,"display_name":"dmarra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661968929,"creation_date":1661968929,"answer_id":73560092,"question_id":73560018,"body_markdown":"You should be able to achieve this by using dependency injection of class B into class A, such that you are able to provide a mock of class B instead of the real thing. For instance:\r\n\r\n    class A {\r\n        function constructor (B classB) {\r\n            this.B = B; // now do stuff with it\r\n        }\r\n    }\r\n\r\nthis is opposed to something like:\r\n\r\n    class A {\r\n        function constructor () {\r\n            this.B = new B(); // now do stuff with it\r\n        }\r\n    }\r\n\r\nSo when you test, you provide a mock of Class B to Class A under test, and then you wont be covering Class B in your code coverage report.\r\n\r\nThat being said, code coverage is not the best metric. Its a cool tool to know if you missed areas of the code to test, but it&#39;s an easily gamed metric, and it can&#39;t replace well thought out tests that might cover the same area f code multiple times. \r\n\r\nAlso, it&#39;s important to consider if you are writing unit tests, or implementation tests. There is a difference. In my experience, it only makes sense to mock out code if you need to to exclude integrations in your test. Otherwise, test through the public entrypoint of your code to get a more wholistic, and easier to maintain unit test. ","title":"Force user to test dependencies by not counting coverage for indirect tests","body":"<p>You should be able to achieve this by using dependency injection of class B into class A, such that you are able to provide a mock of class B instead of the real thing. For instance:</p>\n<pre><code>class A {\n    function constructor (B classB) {\n        this.B = B; // now do stuff with it\n    }\n}\n</code></pre>\n<p>this is opposed to something like:</p>\n<pre><code>class A {\n    function constructor () {\n        this.B = new B(); // now do stuff with it\n    }\n}\n</code></pre>\n<p>So when you test, you provide a mock of Class B to Class A under test, and then you wont be covering Class B in your code coverage report.</p>\n<p>That being said, code coverage is not the best metric. Its a cool tool to know if you missed areas of the code to test, but it's an easily gamed metric, and it can't replace well thought out tests that might cover the same area f code multiple times.</p>\n<p>Also, it's important to consider if you are writing unit tests, or implementation tests. There is a difference. In my experience, it only makes sense to mock out code if you need to to exclude integrations in your test. Otherwise, test through the public entrypoint of your code to get a more wholistic, and easier to maintain unit test.</p>\n"}],"owner":{"account_id":8745385,"reputation":715,"user_id":6540869,"accept_rate":33,"display_name":"Oskar Woźniak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661968929,"creation_date":1661968568,"question_id":73560018,"body_markdown":"Question is to verify if such concept/functionality exists in any testing framework in any language\r\n\r\n**Case**\r\n\r\nI have class A which contains class B.\r\n\r\nIn tests for class A i&#39;m triggering methods A and due to that also of class B -&gt; Coverage here is counted for A and B\r\n\r\n**2 Questions**\r\n\r\n - A) How do I need to make that my CC tool to not count CC if I&#39;m not\r\n   directly testing class B \r\n - B) Is there a way to achieve it without\r\n   mocking and then setting the behavior of mocks?\r\n\r\n","title":"Force user to test dependencies by not counting coverage for indirect tests","body":"<p>Question is to verify if such concept/functionality exists in any testing framework in any language</p>\n<p><strong>Case</strong></p>\n<p>I have class A which contains class B.</p>\n<p>In tests for class A i'm triggering methods A and due to that also of class B -&gt; Coverage here is counted for A and B</p>\n<p><strong>2 Questions</strong></p>\n<ul>\n<li>A) How do I need to make that my CC tool to not count CC if I'm not\ndirectly testing class B</li>\n<li>B) Is there a way to achieve it without\nmocking and then setting the behavior of mocks?</li>\n</ul>\n"},{"tags":["java","postgresql","spring-boot","docker"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1661875167,"post_id":73545197,"comment_id":129873477,"body_markdown":"First: never use md5 for encryption, it is hopelessly out of date and trivially brute forced these days. Set that to `scram-sha-256` as well if you want actual security, or if your connection is already secured through SSL, then you can use `password`. And then of course second: if you&#39;re getting errors for code that&#39;s trying to connect, remember to also [show that code](/help/how-to-ask) (unless you get this error with really just these files of course, without actually running any of your own code yet, but then please mention that explicitly)","body":"First: never use md5 for encryption, it is hopelessly out of date and trivially brute forced these days. Set that to <code>scram-sha-256</code> as well if you want actual security, or if your connection is already secured through SSL, then you can use <code>password</code>. And then of course second: if you&#39;re getting errors for code that&#39;s trying to connect, remember to also <a href=\"/help/how-to-ask\">show that code</a> (unless you get this error with really just these files of course, without actually running any of your own code yet, but then please mention that explicitly)"},{"owner":{"account_id":8633322,"reputation":218378,"user_id":6464308,"display_name":"Laurenz Albe"},"score":1,"creation_date":1661877214,"post_id":73545197,"comment_id":129874245,"body_markdown":"You cannot get that error with this `pg_hba.conf`. Either you are looking at the wrong file, or you didn&#39;t reload the server after you changed it.","body":"You cannot get that error with this <code>pg_hba.conf</code>. Either you are looking at the wrong file, or you didn&#39;t reload the server after you changed it."},{"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"score":0,"creation_date":1661879074,"post_id":73545197,"comment_id":129874961,"body_markdown":"What version of postgresql you are using?","body":"What version of postgresql you are using?"},{"owner":{"account_id":26200008,"reputation":11,"user_id":19880547,"display_name":"Smath Cadet"},"score":0,"creation_date":1661905283,"post_id":73545197,"comment_id":129881518,"body_markdown":"@LaurenzAlbe I did reload it and yes I’m looking to the right file","body":"@LaurenzAlbe I did reload it and yes I’m looking to the right file"},{"owner":{"account_id":26200008,"reputation":11,"user_id":19880547,"display_name":"Smath Cadet"},"score":0,"creation_date":1661905331,"post_id":73545197,"comment_id":129881530,"body_markdown":"@maddy23285 version 14","body":"@maddy23285 version 14"},{"owner":{"account_id":16761030,"reputation":8819,"user_id":12115778,"display_name":"richyen"},"score":0,"creation_date":1661907074,"post_id":73545197,"comment_id":129881767,"body_markdown":"What happens if you try again after you do `docker exec -it -u postgres postgres &quot;psql -c &#39;select pg_reload_conf()&#39;&quot;`? And what do you get from `docker exec -it -u postgres postgres &quot;head /data/postgres/pg_hba.conf&quot;`?","body":"What happens if you try again after you do <code>docker exec -it -u postgres postgres &quot;psql -c &#39;select pg_reload_conf()&#39;&quot;</code>? And what do you get from <code>docker exec -it -u postgres postgres &quot;head &#47;data&#47;postgres&#47;pg_hba.conf&quot;</code>?"},{"owner":{"account_id":4447289,"reputation":738,"user_id":3620242,"display_name":"maddy23285"},"score":1,"creation_date":1661907272,"post_id":73545197,"comment_id":129881790,"body_markdown":"Check postegresql driver version in POM.xml. Change it to the latest version if you are using the old one. Add below lines in your POM.xml nested under dependencies tag. \n`&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;version&gt;42.5.0&lt;/version&gt;\n&lt;/dependency&gt;`","body":"Check postegresql driver version in POM.xml. Change it to the latest version if you are using the old one. Add below lines in your POM.xml nested under dependencies tag.  <code>&lt;dependency&gt;     &lt;groupId&gt;org.postgresql&lt;&#47;groupId&gt;     &lt;artifactId&gt;postgresql&lt;&#47;artifactId&gt;     &lt;version&gt;42.5.0&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":26200008,"reputation":11,"user_id":19880547,"display_name":"Smath Cadet"},"score":0,"creation_date":1661968318,"post_id":73545197,"comment_id":129899858,"body_markdown":"Thanks everyone. I found a solution. It seems like it was a conflict between my local installed postgres and the docker one. I just stop the service of the local installed one and everything work fine. So thank you for your help.","body":"Thanks everyone. I found a solution. It seems like it was a conflict between my local installed postgres and the docker one. I just stop the service of the local installed one and everything work fine. So thank you for your help."}],"answers":[{"tags":[],"owner":{"account_id":26200008,"reputation":11,"user_id":19880547,"display_name":"Smath Cadet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661968512,"creation_date":1661968512,"answer_id":73560006,"question_id":73545197,"body_markdown":"I Found a solution. It was a conflict between my local installed postgres and the docker installed version. I just stop the service of the local one and everything work fine.","title":"FATAL: no pg_hba.conf entry for host &quot;172.21.144.1&quot;, user &quot;smath&quot;, database &quot;customer&quot;, no encryption","body":"<p>I Found a solution. It was a conflict between my local installed postgres and the docker installed version. I just stop the service of the local one and everything work fine.</p>\n"}],"owner":{"account_id":26200008,"reputation":11,"user_id":19880547,"display_name":"Smath Cadet"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661968512,"creation_date":1661874340,"question_id":73545197,"body_markdown":"I need your help please. I am new to spring boot and Iam learning from a course about microservices and spring cloud. I have a basic app and setting up a database on docker with postgres.\r\n\r\nI&#39;m trying to connect my spring boot app to my postgresql database running on docker and this is the error I get:\r\n```\r\nFATAL: no pg_hba.conf entry for host &quot;172.21.144.1&quot;, user &quot;smath&quot;, database &quot;customer&quot;, no encryption\r\n ```\r\n\r\nIt&#39;s looks like an encryption error but i dont know how to solve this issue\r\n\r\nHere is my applicaton.yml file\r\n\r\n```\r\nserver:\r\n  port: 8080\r\nspring:\r\n  application:\r\n    name: customer\r\n  datasource:\r\n    username: &#39;smath&#39;\r\n    url: jdbc:postgresql://postgres:5432/customer\r\n    password: &#39;smath&#39;\r\n    jpa:\r\n      properties:\r\n        hibernate:\r\n          dialect: org.hibernate.dialect.PostgreSQLDialect\r\n          format_sql: &#39;true&#39;\r\n      hibernate:\r\n        ddl-auto: update\r\n      show-sql: &#39;true&#39;\r\n```\r\n\r\nand my pg_hba.conf file looks like this\r\n\r\n``` \r\n# TYPE  DATABASE        USER            ADDRESS                 METHOD\r\nhost    customer        smath           172.21.144.1            md5\r\n\r\n# &quot;local&quot; is for Unix domain socket connections only\r\nlocal   all             all                                     trust\r\n# IPv4 local connections:\r\nhost    all             all             0.0.0.0/0               scram-sha-256\r\n# host    all             all             127.0.0.1/32            scram-sha-256\r\n# IPv6 local connections:\r\nhost    all             all             ::1/128                 scram-sha-256\r\n```\r\n\r\nplus this is my docker-compose file\r\n\r\n```\r\nservices:\r\n  postgres:\r\n    container_name: postgres\r\n    image: postgres\r\n    environment:\r\n      POSTGRES_USER: smath\r\n      POSTGRES_PASSWORD: smath\r\n      PGDATA: /data/postgres\r\n    volumes:\r\n      - postgres:/data/postgres\r\n    ports:\r\n      - &quot;5432:5432&quot;\r\n    networks:\r\n      - postgres\r\n    restart: unless-stopped\r\n\r\n  pgadmin:\r\n    container_name: pgadmin\r\n    image: dpage/pgadmin4\r\n    environment:\r\n      PGADMIN_DEFAULT_EMAIL: ${PGADMIN_DEFAULT_EMAIL:-pgadmin4@pgadmin.org}\r\n      PGADMIN_DEFAULT_PASSWORD: ${PGADMIN_DEFAULT_PASSWORD:-admin}\r\n      PGADMIN_CONFIG_SERVER_MODE: &#39;False&#39;\r\n    volumes:\r\n      - pgadmin:/var/lib/pgadmin\r\n\r\n    ports:\r\n      - &quot;5050:80&quot;\r\n    networks:\r\n      - postgres\r\n    restart: unless-stopped\r\n\r\nnetworks:\r\n  postgres:\r\n    driver: bridge\r\n\r\nvolumes:\r\n  postgres:\r\n  pgadmin:\r\n```\r\n\r\nI will appreciate your help","title":"FATAL: no pg_hba.conf entry for host &quot;172.21.144.1&quot;, user &quot;smath&quot;, database &quot;customer&quot;, no encryption","body":"<p>I need your help please. I am new to spring boot and Iam learning from a course about microservices and spring cloud. I have a basic app and setting up a database on docker with postgres.</p>\n<p>I'm trying to connect my spring boot app to my postgresql database running on docker and this is the error I get:</p>\n<pre><code>FATAL: no pg_hba.conf entry for host &quot;172.21.144.1&quot;, user &quot;smath&quot;, database &quot;customer&quot;, no encryption\n</code></pre>\n<p>It's looks like an encryption error but i dont know how to solve this issue</p>\n<p>Here is my applicaton.yml file</p>\n<pre><code>server:\n  port: 8080\nspring:\n  application:\n    name: customer\n  datasource:\n    username: 'smath'\n    url: jdbc:postgresql://postgres:5432/customer\n    password: 'smath'\n    jpa:\n      properties:\n        hibernate:\n          dialect: org.hibernate.dialect.PostgreSQLDialect\n          format_sql: 'true'\n      hibernate:\n        ddl-auto: update\n      show-sql: 'true'\n</code></pre>\n<p>and my pg_hba.conf file looks like this</p>\n<pre><code># TYPE  DATABASE        USER            ADDRESS                 METHOD\nhost    customer        smath           172.21.144.1            md5\n\n# &quot;local&quot; is for Unix domain socket connections only\nlocal   all             all                                     trust\n# IPv4 local connections:\nhost    all             all             0.0.0.0/0               scram-sha-256\n# host    all             all             127.0.0.1/32            scram-sha-256\n# IPv6 local connections:\nhost    all             all             ::1/128                 scram-sha-256\n</code></pre>\n<p>plus this is my docker-compose file</p>\n<pre><code>services:\n  postgres:\n    container_name: postgres\n    image: postgres\n    environment:\n      POSTGRES_USER: smath\n      POSTGRES_PASSWORD: smath\n      PGDATA: /data/postgres\n    volumes:\n      - postgres:/data/postgres\n    ports:\n      - &quot;5432:5432&quot;\n    networks:\n      - postgres\n    restart: unless-stopped\n\n  pgadmin:\n    container_name: pgadmin\n    image: dpage/pgadmin4\n    environment:\n      PGADMIN_DEFAULT_EMAIL: ${PGADMIN_DEFAULT_EMAIL:-pgadmin4@pgadmin.org}\n      PGADMIN_DEFAULT_PASSWORD: ${PGADMIN_DEFAULT_PASSWORD:-admin}\n      PGADMIN_CONFIG_SERVER_MODE: 'False'\n    volumes:\n      - pgadmin:/var/lib/pgadmin\n\n    ports:\n      - &quot;5050:80&quot;\n    networks:\n      - postgres\n    restart: unless-stopped\n\nnetworks:\n  postgres:\n    driver: bridge\n\nvolumes:\n  postgres:\n  pgadmin:\n</code></pre>\n<p>I will appreciate your help</p>\n"},{"tags":["java","jmeter","assertion"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661968316,"creation_date":1661968316,"answer_id":73559979,"question_id":73558952,"body_markdown":" 1. Timers obey [JMeter Scoping Rules][1]\r\n 2. Timers create delay **before** each Sampler in their scope\r\n\r\nIn order to create the delay before the JDBC Request you need to make time **a child** of the JDBC Request. \r\n\r\nAlternatively you can replace it with [Flow Control Action][2] sampler\r\n\r\nMore information: [A Comprehensive Guide to Using JMeter Timers][3] \r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/test_plan.html#scoping_rules\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#Flow_Control_Action\r\n  [3]: https://www.blazemeter.com/blog/jmeter-timer","title":"How to delay between assertions in jmeter?","body":"<ol>\n<li>Timers obey <a href=\"https://jmeter.apache.org/usermanual/test_plan.html#scoping_rules\" rel=\"nofollow noreferrer\">JMeter Scoping Rules</a></li>\n<li>Timers create delay <strong>before</strong> each Sampler in their scope</li>\n</ol>\n<p>In order to create the delay before the JDBC Request you need to make time <strong>a child</strong> of the JDBC Request.</p>\n<p>Alternatively you can replace it with <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Flow_Control_Action\" rel=\"nofollow noreferrer\">Flow Control Action</a> sampler</p>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/jmeter-timer\" rel=\"nofollow noreferrer\">A Comprehensive Guide to Using JMeter Timers</a></p>\n"}],"owner":{"account_id":25949811,"reputation":31,"user_id":19668037,"display_name":"thatsmycode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661968316,"creation_date":1661962613,"question_id":73558952,"body_markdown":"I am making a call to DynamoDB to get number of items from it using JDBC connection configuration, JDBC request-before. Than there is http request which creates few items in DynamoDB. This takes from few seconds to a minute. At the end there is again JDBC request and JSR223 assertion.\r\nAny way to make the second JDBC request delayed? Right now the number of items always end up being same being because it is being queued up in DynamoDB and takes time to increase # of items.\r\nI have tried adding constant timer but it delays everything within that thread group.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8CK5p.png","title":"How to delay between assertions in jmeter?","body":"<p>I am making a call to DynamoDB to get number of items from it using JDBC connection configuration, JDBC request-before. Than there is http request which creates few items in DynamoDB. This takes from few seconds to a minute. At the end there is again JDBC request and JSR223 assertion.\nAny way to make the second JDBC request delayed? Right now the number of items always end up being same being because it is being queued up in DynamoDB and takes time to increase # of items.\nI have tried adding constant timer but it delays everything within that thread group.\n<a href=\"https://i.stack.imgur.com/8CK5p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8CK5p.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","regex"],"comments":[{"owner":{"account_id":17724496,"reputation":922,"user_id":12868634,"display_name":"Roland Kreuzer"},"score":0,"creation_date":1661969010,"post_id":73559788,"comment_id":129900096,"body_markdown":"I&#39;ve also tried once to remove 4-byte sequences for a MySQL system but tbh since regex classes are not byte-based it gets somewhat cumbersome fast. If you have the option I&#39;d suggest switching to collation utf8mb4_general_ci to simply avoid the issue","body":"I&#39;ve also tried once to remove 4-byte sequences for a MySQL system but tbh since regex classes are not byte-based it gets somewhat cumbersome fast. If you have the option I&#39;d suggest switching to collation utf8mb4_general_ci to simply avoid the issue"},{"owner":{"account_id":8088301,"reputation":127,"user_id":10856681,"display_name":"J. LaF"},"score":0,"creation_date":1661969637,"post_id":73559788,"comment_id":129900325,"body_markdown":"From the original question: Updating the column collation is not an option due to the size of the tables.\n\nLast I checked, thats a linear time operation which would require far too much down time","body":"From the original question: Updating the column collation is not an option due to the size of the tables.  Last I checked, thats a linear time operation which would require far too much down time"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1662009690,"post_id":73559788,"comment_id":129908005,"body_markdown":"Are you trying to deal with bad characters already INSERTed into a MySQL table?  Or do you have gibberish in Java?  Or is the Java OK, but it gets mangled upon inserting into MySQL?...","body":"Are you trying to deal with bad characters already INSERTed into a MySQL table?  Or do you have gibberish in Java?  Or is the Java OK, but it gets mangled upon inserting into MySQL?..."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1662046083,"post_id":73559788,"comment_id":129920704,"body_markdown":"I did deduce that utf8mb4 is needed; utf8mb3 will not suffice.","body":"I did deduce that utf8mb4 is needed; utf8mb3 will not suffice."},{"owner":{"account_id":8088301,"reputation":127,"user_id":10856681,"display_name":"J. LaF"},"score":0,"creation_date":1662051456,"post_id":73559788,"comment_id":129922743,"body_markdown":"I&#39;m moving data into a MySql table and want to filter out unsupported characters. The collation on the column in question is utf8_general_ci, so I need to remove emojis, other language characters, and &#119830;&#119834;&#119845;&#119840;&#119851;&#119838;&#119838;&#119847;&#119852;. The first two are easy with regex; however, I need help with the last &#119830;&#119834;&#119845;&#119840;&#119851;&#119838;&#119838;&#119847;&#119852;","body":"I&#39;m moving data into a MySql table and want to filter out unsupported characters. The collation on the column in question is utf8_general_ci, so I need to remove emojis, other language characters, and 𝐖𝐚𝐥𝐠𝐫𝐞𝐞𝐧𝐬. The first two are easy with regex; however, I need help with the last 𝐖𝐚𝐥𝐠𝐫𝐞𝐞𝐧𝐬"}],"owner":{"account_id":8088301,"reputation":127,"user_id":10856681,"display_name":"J. LaF"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661967590,"creation_date":1661967156,"question_id":73559788,"body_markdown":"I&#39;m getting a SQL error during a large data conversion for a few entries caused by trying to insert invalid characters into a column with collation utf8_general_ci. An example of an offending string is\r\n```\r\n&#119830;&#119834;&#119845;&#119840;&#119851;&#119838;&#119838;&#119847;&#119852;\r\n```\r\n\r\nI&#39;m already using a regular expression similar to that described in the answer on https://stackoverflow.com/questions/49510006/remove-and-other-such-emojis-images-signs-from-java-strings; however, the above string makes it through that regex filter, because the characters are letters, and hence `p{L}` is true for them. \r\n\r\nFor proof:\r\n```java\r\nString walgreens = &quot;\\uD835\\uDC16\\uD835\\uDC1A\\uD835\\uDC25\\uD835\\uDC20\\uD835\\uDC2B\\uD835\\uDC1E\\uD835\\uDC1E\\uD835\\uDC27\\uD835\\uDC2C&quot;;\r\nString characterFilter = &quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\p{Sc}\\\\p{Punct}\\\\p{ASCII}\\\\™\\\\&#174;\\\\&#169;\\\\s]&quot;;\r\nSystem.out.println(walgreens.replaceAll(characterFilter, &quot;&quot;));\r\n```\r\n\r\nand similarly, just to illustrate the exact filter used in the above SO answer:\r\n```java\r\nString walgreens = &quot;\\uD835\\uDC16\\uD835\\uDC1A\\uD835\\uDC25\\uD835\\uDC20\\uD835\\uDC2B\\uD835\\uDC1E\\uD835\\uDC1E\\uD835\\uDC27\\uD835\\uDC2C&quot;;\r\nString characterFilter = &quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]&quot;;\r\nSystem.out.println(walgreens.replaceAll(characterFilter, &quot;&quot;));\r\n```\r\n\r\nBoth print &#119830;&#119834;&#119845;&#119840;&#119851;&#119838;&#119838;&#119847;&#119852; to the console.\r\n\r\nI need a way to programmatically remove these characters from Strings, preferably via regex for consistency, so I can properly make updates to my MySql DB. Updating the column collation is not an option due to the size of the tables.\r\n\r\n[Here&#39;s a link to a unicode page for the &#39;W&#39; in the offending string, if helpful](https://www.fileformat.info/info/unicode/char/1d416/index.htm)\r\n\r\nI&#39;m currently on MySql version 8.0.23 and Java 8, using EclipseLink (JPA) as my ORM.\r\n\r\nHeres the error\r\n```\r\njavax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.0.v20130507-3faac2b): org.eclipse.persistence.exceptions.DatabaseException\r\nInternal Exception: java.sql.SQLException: Incorrect string value: &#39;\\xF0\\x9D\\x99\\x88\\xF0\\x9D...&#39; for column\r\n```","title":"Regex to remove non-utf8_general_ci characters from String such as &quot;&#119830;&#119834;&#119845;&#119840;&#119851;&#119838;&#119838;&#119847;&#119852;&quot; for MySql Inserts/Updates","body":"<p>I'm getting a SQL error during a large data conversion for a few entries caused by trying to insert invalid characters into a column with collation utf8_general_ci. An example of an offending string is</p>\n<pre><code>𝐖𝐚𝐥𝐠𝐫𝐞𝐞𝐧𝐬\n</code></pre>\n<p>I'm already using a regular expression similar to that described in the answer on <a href=\"https://stackoverflow.com/questions/49510006/remove-and-other-such-emojis-images-signs-from-java-strings;\">Remove ✅, &#128293;, ✈ , ♛ and other such emojis/images/signs from Java strings</a> however, the above string makes it through that regex filter, because the characters are letters, and hence <code>p{L}</code> is true for them.</p>\n<p>For proof:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String walgreens = &quot;\\uD835\\uDC16\\uD835\\uDC1A\\uD835\\uDC25\\uD835\\uDC20\\uD835\\uDC2B\\uD835\\uDC1E\\uD835\\uDC1E\\uD835\\uDC27\\uD835\\uDC2C&quot;;\nString characterFilter = &quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\p{Sc}\\\\p{Punct}\\\\p{ASCII}\\\\™\\\\®\\\\©\\\\s]&quot;;\nSystem.out.println(walgreens.replaceAll(characterFilter, &quot;&quot;));\n</code></pre>\n<p>and similarly, just to illustrate the exact filter used in the above SO answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String walgreens = &quot;\\uD835\\uDC16\\uD835\\uDC1A\\uD835\\uDC25\\uD835\\uDC20\\uD835\\uDC2B\\uD835\\uDC1E\\uD835\\uDC1E\\uD835\\uDC27\\uD835\\uDC2C&quot;;\nString characterFilter = &quot;[^\\\\p{L}\\\\p{M}\\\\p{N}\\\\p{P}\\\\p{Z}\\\\p{Cf}\\\\p{Cs}\\\\s]&quot;;\nSystem.out.println(walgreens.replaceAll(characterFilter, &quot;&quot;));\n</code></pre>\n<p>Both print 𝐖𝐚𝐥𝐠𝐫𝐞𝐞𝐧𝐬 to the console.</p>\n<p>I need a way to programmatically remove these characters from Strings, preferably via regex for consistency, so I can properly make updates to my MySql DB. Updating the column collation is not an option due to the size of the tables.</p>\n<p><a href=\"https://www.fileformat.info/info/unicode/char/1d416/index.htm\" rel=\"nofollow noreferrer\">Here's a link to a unicode page for the 'W' in the offending string, if helpful</a></p>\n<p>I'm currently on MySql version 8.0.23 and Java 8, using EclipseLink (JPA) as my ORM.</p>\n<p>Heres the error</p>\n<pre><code>javax.persistence.PersistenceException: Exception [EclipseLink-4002] (Eclipse Persistence Services - 2.5.0.v20130507-3faac2b): org.eclipse.persistence.exceptions.DatabaseException\nInternal Exception: java.sql.SQLException: Incorrect string value: '\\xF0\\x9D\\x99\\x88\\xF0\\x9D...' for column\n</code></pre>\n"},{"tags":["java","database","kotlin","gradle","jdbi"],"comments":[{"owner":{"account_id":10036638,"reputation":96,"user_id":7420984,"display_name":"jarek000000"},"score":0,"creation_date":1661959908,"post_id":73557267,"comment_id":129896839,"body_markdown":"And how does the SQL table (users) look like (definition)?","body":"And how does the SQL table (users) look like (definition)?"},{"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"score":0,"creation_date":1661962311,"post_id":73557267,"comment_id":129897775,"body_markdown":"Very simple. I&#39;ve added it to main post","body":"Very simple. I&#39;ve added it to main post"}],"answers":[{"tags":[],"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661967011,"creation_date":1661967011,"answer_id":73559759,"question_id":73557267,"body_markdown":"I believe your query is incorrect:\r\n\r\n```\r\n.createQuery(&quot;select from users where username = :username&quot;)\r\n```\r\n\r\nshould be\r\n\r\n```\r\n.createQuery(&quot;select username, password from users where username = :username&quot;)\r\n```\r\n\r\n[Documentation][1]\r\n\r\n\r\n  [1]: https://jdbi.org/#_row_mappers","title":"JDBI and Kotlin mapping","body":"<p>I believe your query is incorrect:</p>\n<pre><code>.createQuery(&quot;select from users where username = :username&quot;)\n</code></pre>\n<p>should be</p>\n<pre><code>.createQuery(&quot;select username, password from users where username = :username&quot;)\n</code></pre>\n<p><a href=\"https://jdbi.org/#_row_mappers\" rel=\"nofollow noreferrer\">Documentation</a></p>\n"}],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1275,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73559759,"answer_count":1,"score":1,"last_activity_date":1661967011,"creation_date":1661955215,"question_id":73557267,"body_markdown":"I&#39;m getting mapping exception when trying to fetch user by its username.\r\n// I dont know why Stack Overflow requires so many non-code descriptions......................................................................................\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Mapping Kotlin type User didn&#39;t find any columns matching required, non-default constructor parameters in result set\r\n\tat org.jdbi.v3.core.kotlin.KotlinMapper.specialize$lambda-3(KotlinMapper.kt:72)\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:403)\r\n\tat org.jdbi.v3.core.kotlin.KotlinMapper.specialize(KotlinMapper.kt:71)\r\n\tat org.jdbi.v3.core.result.ResultSetResultIterator.&lt;init&gt;(ResultSetResultIterator.java:38)\r\n\tat org.jdbi.v3.core.result.ResultIterable.lambda$of$0(ResultIterable.java:57)\r\n\tat org.jdbi.v3.core.result.ResultIterable.one(ResultIterable.java:145)\r\n\tat JdbiUserRepository.getById$lambda-1(Main.kt:75)\r\n\tat org.jdbi.v3.core.Jdbi.withHandle(Jdbi.java:357)\r\n\tat JdbiUserRepository.getById(Main.kt:70)\r\n\tat MainKt.main(Main.kt:22)\r\n\tat MainKt.main(Main.kt)\r\n\r\nUser class:\r\n\r\n    data class User(val username: String, val password: String)\r\n\r\nMethod:\r\n\r\n    class JdbiUserRepository(private val jdbi: Jdbi) : UserRepository {\r\n\r\n    override fun getById(username: String): User? = jdbi\r\n        .withHandle&lt;User?, Exception&gt; { handle -&gt; handle\r\n            .createQuery(&quot;select from users where username = :username&quot;)\r\n            .bind(&quot;username&quot;, username)\r\n            .mapTo&lt;User&gt;()\r\n            .one()\r\n        }\r\n    }\r\n\r\nGradle:\r\n\r\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\n    plugins {\r\n    kotlin(&quot;jvm&quot;) version &quot;1.7.10&quot;\r\n    application\r\n    }\r\n\r\n    group = &quot;org.example&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n\r\n    repositories {\r\n    mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n    testImplementation(kotlin(&quot;test&quot;))\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-reflect:1.7.10&quot;)\r\n    implementation(&quot;org.jdbi:jdbi3-core:3.32.0&quot;)\r\n    implementation(&quot;com.h2database:h2:1.4.200&quot;)\r\n    implementation(&quot;org.jdbi:jdbi3-kotlin:3.32.0&quot;)\r\n    implementation(&quot;org.jdbi:jdbi3-kotlin-sqlobject:3.32.0&quot;)\r\n    }\r\n\r\n    tasks.test {\r\n    useJUnitPlatform()\r\n    }\r\n\r\n    tasks.withType&lt;KotlinCompile&gt; {\r\n    kotlinOptions.jvmTarget = &quot;1.8&quot;\r\n    }\r\n\r\n    application {\r\n    mainClass.set(&quot;MainKt&quot;)\r\n    }\r\nUsers table (sql script):\r\n\r\n    create table users (\r\n    username varchar primary key,\r\n    password varchar\r\n    )","title":"JDBI and Kotlin mapping","body":"<p>I'm getting mapping exception when trying to fetch user by its username.\n// I dont know why Stack Overflow requires so many non-code descriptions......................................................................................</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Mapping Kotlin type User didn't find any columns matching required, non-default constructor parameters in result set\nat org.jdbi.v3.core.kotlin.KotlinMapper.specialize$lambda-3(KotlinMapper.kt:72)\nat java.base/java.util.Optional.orElseThrow(Optional.java:403)\nat org.jdbi.v3.core.kotlin.KotlinMapper.specialize(KotlinMapper.kt:71)\nat org.jdbi.v3.core.result.ResultSetResultIterator.&lt;init&gt;(ResultSetResultIterator.java:38)\nat org.jdbi.v3.core.result.ResultIterable.lambda$of$0(ResultIterable.java:57)\nat org.jdbi.v3.core.result.ResultIterable.one(ResultIterable.java:145)\nat JdbiUserRepository.getById$lambda-1(Main.kt:75)\nat org.jdbi.v3.core.Jdbi.withHandle(Jdbi.java:357)\nat JdbiUserRepository.getById(Main.kt:70)\nat MainKt.main(Main.kt:22)\nat MainKt.main(Main.kt)\n</code></pre>\n<p>User class:</p>\n<pre><code>data class User(val username: String, val password: String)\n</code></pre>\n<p>Method:</p>\n<pre><code>class JdbiUserRepository(private val jdbi: Jdbi) : UserRepository {\n\noverride fun getById(username: String): User? = jdbi\n    .withHandle&lt;User?, Exception&gt; { handle -&gt; handle\n        .createQuery(&quot;select from users where username = :username&quot;)\n        .bind(&quot;username&quot;, username)\n        .mapTo&lt;User&gt;()\n        .one()\n    }\n}\n</code></pre>\n<p>Gradle:</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\nkotlin(&quot;jvm&quot;) version &quot;1.7.10&quot;\napplication\n}\n\ngroup = &quot;org.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\nmavenCentral()\n}\n\ndependencies {\ntestImplementation(kotlin(&quot;test&quot;))\nimplementation(&quot;org.jetbrains.kotlin:kotlin-reflect:1.7.10&quot;)\nimplementation(&quot;org.jdbi:jdbi3-core:3.32.0&quot;)\nimplementation(&quot;com.h2database:h2:1.4.200&quot;)\nimplementation(&quot;org.jdbi:jdbi3-kotlin:3.32.0&quot;)\nimplementation(&quot;org.jdbi:jdbi3-kotlin-sqlobject:3.32.0&quot;)\n}\n\ntasks.test {\nuseJUnitPlatform()\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\nkotlinOptions.jvmTarget = &quot;1.8&quot;\n}\n\napplication {\nmainClass.set(&quot;MainKt&quot;)\n}\n</code></pre>\n<p>Users table (sql script):</p>\n<pre><code>create table users (\nusername varchar primary key,\npassword varchar\n)\n</code></pre>\n"},{"tags":["java","generics","exception","polymorphism"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1661964360,"post_id":73559212,"comment_id":129898525,"body_markdown":"I suggest that you write some code to illustrate what you describe in words. A concrete example will help us better understand the general concepts that you are asking about.","body":"I suggest that you write some code to illustrate what you describe in words. A concrete example will help us better understand the general concepts that you are asking about."},{"owner":{"account_id":26046837,"reputation":11,"user_id":19750774,"display_name":"hut_rudder"},"score":0,"creation_date":1661966441,"post_id":73559212,"comment_id":129899257,"body_markdown":"@Code-Apprentice have now included a code example.","body":"@Code-Apprentice have now included a code example."}],"owner":{"account_id":26046837,"reputation":11,"user_id":19750774,"display_name":"hut_rudder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661966333,"creation_date":1661963998,"question_id":73559212,"body_markdown":"I prefer to code against interfaces as a general rule. I tend to also use generic interfaces quite a bit. Coding against generic interfaces gives me the loosest coupling possible as my implementing classes may deal with different versions/variants of domain objects.\r\n\r\nTo cut to the chase:\r\n - I prefer programming against interfaces to reduce coupling &amp; to make testing easier\r\n - I prefer to use generic interfaces and polymorphism to maximise implementation possibilities while maintaining API contract\r\n - Generic interfaces can lead to the need for multiple generic types to handle potential concrete exception throws in implementing classes; it is v difficult to know ahead of time *how many* exceptions an interface method should throw\r\n - I could eliminate method exception throwing with try-catch blocks in every relevant implementation, however, this would likely lead to *some* methods being messier than they ought to be\r\n\r\n**There are probably some trade-offs here, but as a *general* rule, what is the best way to handle method throws exceptions in generic interfaces?**\r\n\r\nMaybe there is not a one-size-fits-all answer - however, I would prefer my code to be as consistent as possible and my methods to be as small and self-documenting as possible.\r\n\r\nCode example:\r\n\r\n    public interface IFooBarDoer&lt;T1 extends Throwable, T2 extends Throwable, T3 extends Throwable, T4 extends Throwable&gt; {\r\n        String doSomethingWithFoo() throws T1, T2;\r\n        String doSomethingWithBar() throws T3, T4;\r\n    }\r\n    import java.io.IOException;\r\n    \r\n    public class FooBarDoerImpl implements IFooBarDoer {\r\n    \r\n        private final int id;\r\n        private Foo foo;\r\n        private Bar bar;\r\n    \r\n        public FooBarDoerImpl(int id, Foo foo, Bar bar) {\r\n            this.id = id;\r\n            this.foo = foo;\r\n            this.bar = bar;\r\n        }\r\n    \r\n        @Override\r\n        public String doSomethingWithFoo() throws Exception, RuntimeException {\r\n            /*\r\n             do something exciting with this.foo\r\n             that can lead to an exception.\r\n            */\r\n            return this.foo.getContents();\r\n        }\r\n    \r\n        @Override\r\n        public String doSomethingWithBar() throws NullPointerException, IOException {\r\n            /*\r\n             do something exciting with a bar\r\n             that can lead to an error.\r\n            */\r\n            return this.foo.getContents();\r\n        }\r\n    }\r\n    \r\n    public class Foo {\r\n        private final int id;\r\n        private final String contents;\r\n    \r\n        public Foo(int id, String contents) {\r\n            this.id = id;\r\n            this.contents = contents;\r\n        }\r\n    \r\n        public String getContents() {\r\n            return this.contents;\r\n        }\r\n    }\r\n    \r\n    public class Bar {\r\n        private final int id;\r\n        private final String contents;\r\n    \r\n        public Bar(int id, String contents) {\r\n            this.id = id;\r\n            this.contents = contents;\r\n        }\r\n    \r\n        public String getContents() {\r\n            return this.contents;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n ","title":"What is the most elegant or conventional way to throw exceptions in a class implementing a generic interface?","body":"<p>I prefer to code against interfaces as a general rule. I tend to also use generic interfaces quite a bit. Coding against generic interfaces gives me the loosest coupling possible as my implementing classes may deal with different versions/variants of domain objects.</p>\n<p>To cut to the chase:</p>\n<ul>\n<li>I prefer programming against interfaces to reduce coupling &amp; to make testing easier</li>\n<li>I prefer to use generic interfaces and polymorphism to maximise implementation possibilities while maintaining API contract</li>\n<li>Generic interfaces can lead to the need for multiple generic types to handle potential concrete exception throws in implementing classes; it is v difficult to know ahead of time <em>how many</em> exceptions an interface method should throw</li>\n<li>I could eliminate method exception throwing with try-catch blocks in every relevant implementation, however, this would likely lead to <em>some</em> methods being messier than they ought to be</li>\n</ul>\n<p><strong>There are probably some trade-offs here, but as a <em>general</em> rule, what is the best way to handle method throws exceptions in generic interfaces?</strong></p>\n<p>Maybe there is not a one-size-fits-all answer - however, I would prefer my code to be as consistent as possible and my methods to be as small and self-documenting as possible.</p>\n<p>Code example:</p>\n<pre><code>public interface IFooBarDoer&lt;T1 extends Throwable, T2 extends Throwable, T3 extends Throwable, T4 extends Throwable&gt; {\n    String doSomethingWithFoo() throws T1, T2;\n    String doSomethingWithBar() throws T3, T4;\n}\nimport java.io.IOException;\n\npublic class FooBarDoerImpl implements IFooBarDoer {\n\n    private final int id;\n    private Foo foo;\n    private Bar bar;\n\n    public FooBarDoerImpl(int id, Foo foo, Bar bar) {\n        this.id = id;\n        this.foo = foo;\n        this.bar = bar;\n    }\n\n    @Override\n    public String doSomethingWithFoo() throws Exception, RuntimeException {\n        /*\n         do something exciting with this.foo\n         that can lead to an exception.\n        */\n        return this.foo.getContents();\n    }\n\n    @Override\n    public String doSomethingWithBar() throws NullPointerException, IOException {\n        /*\n         do something exciting with a bar\n         that can lead to an error.\n        */\n        return this.foo.getContents();\n    }\n}\n\npublic class Foo {\n    private final int id;\n    private final String contents;\n\n    public Foo(int id, String contents) {\n        this.id = id;\n        this.contents = contents;\n    }\n\n    public String getContents() {\n        return this.contents;\n    }\n}\n\npublic class Bar {\n    private final int id;\n    private final String contents;\n\n    public Bar(int id, String contents) {\n        this.id = id;\n        this.contents = contents;\n    }\n\n    public String getContents() {\n        return this.contents;\n    }\n}\n</code></pre>\n"},{"tags":["java","performance","jvm","jvm-arguments"],"comments":[{"owner":{"account_id":2596722,"reputation":3827,"user_id":2250246,"accept_rate":33,"display_name":"user2250246"},"score":8,"creation_date":1481743960,"post_id":41067235,"comment_id":69503558,"body_markdown":"why the minus vote?","body":"why the minus vote?"},{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1522949043,"post_id":41067235,"comment_id":86367644,"body_markdown":"If your application will run properly in &quot;headless&quot; mode, then it will not experience any performance difference regardless of the mode. Some graphics operations *require* &quot;headed&quot; mode and then you have no choice. Headless mode will prevent your application from doing things like popping-up windows on the console (if there is one).","body":"If your application will run properly in &quot;headless&quot; mode, then it will not experience any performance difference regardless of the mode. Some graphics operations <i>require</i> &quot;headed&quot; mode and then you have no choice. Headless mode will prevent your application from doing things like popping-up windows on the console (if there is one)."},{"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"score":0,"creation_date":1567970996,"post_id":41067235,"comment_id":102117416,"body_markdown":"Possible duplicate of [Meaning of headless and -D option in JAVA\\_OPTS](https://stackoverflow.com/questions/17501356/meaning-of-headless-and-d-option-in-java-opts)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/17501356/meaning-of-headless-and-d-option-in-java-opts\">Meaning of headless and -D option in JAVA_OPTS</a>"},{"owner":{"account_id":1532595,"reputation":4652,"user_id":1429432,"accept_rate":68,"display_name":"Yousha Aleayoub"},"score":0,"creation_date":1575016324,"post_id":41067235,"comment_id":104434798,"body_markdown":"https://stackoverflow.com/questions/2552371/","body":"<a href=\"https://stackoverflow.com/questions/2552371/\">stackoverflow.com/questions/2552371</a>"}],"answers":[{"tags":[],"owner":{"account_id":217404,"reputation":449,"user_id":473191,"accept_rate":75,"display_name":"BaRoN"},"down_vote_count":8,"up_vote_count":17,"is_accepted":false,"score":9,"last_activity_date":1576756064,"creation_date":1481310818,"answer_id":41067362,"question_id":41067235,"body_markdown":"Headless and non-headless modes are different, they have different set of features. If you only need to do some simple things like font rendering then yes, you will be able to do it in headless mode.\r\n\r\nYou can always check the guts of the JDK sources and see for yourself, what methods are dependent on non-headless mode. But in my opinion, even if the performance gain is negligible, it&#39;s best to pass `java.awt.headless` anyway (if you do not need &quot;full&quot; GUI mode).\r\n\r\nAny vendor can use this property. You never know if they are going to do something if you have the full GUI. So, my rule of thumb is: always use `java.awt.headless` for the console apps and the servers. It won&#39;t harm.","title":"What is the benefit of setting java.awt.headless=true?","body":"<p>Headless and non-headless modes are different, they have different set of features. If you only need to do some simple things like font rendering then yes, you will be able to do it in headless mode.</p>\n\n<p>You can always check the guts of the JDK sources and see for yourself, what methods are dependent on non-headless mode. But in my opinion, even if the performance gain is negligible, it's best to pass <code>java.awt.headless</code> anyway (if you do not need \"full\" GUI mode).</p>\n\n<p>Any vendor can use this property. You never know if they are going to do something if you have the full GUI. So, my rule of thumb is: always use <code>java.awt.headless</code> for the console apps and the servers. It won't harm.</p>\n"},{"tags":[],"owner":{"account_id":901581,"reputation":31,"user_id":2458301,"display_name":"C. Grant"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1552865869,"creation_date":1552865869,"answer_id":55213018,"question_id":41067235,"body_markdown":"One possible benefit is that if you are invoking the application while trying to do something else in a window perhaps invoking the application multiple times, it will not disrupt your keyboard/mouse focus if the application runs in headless mode.\r\n\r\nAt least on a Mac I have had huge problems running a script which repeatedly runs a java app every few seconds while trying to edit in another window. Headless mode fixes that.","title":"What is the benefit of setting java.awt.headless=true?","body":"<p>One possible benefit is that if you are invoking the application while trying to do something else in a window perhaps invoking the application multiple times, it will not disrupt your keyboard/mouse focus if the application runs in headless mode.</p>\n\n<p>At least on a Mac I have had huge problems running a script which repeatedly runs a java app every few seconds while trying to edit in another window. Headless mode fixes that.</p>\n"},{"tags":[],"owner":{"account_id":225072,"reputation":81659,"user_id":485343,"accept_rate":75,"display_name":"rustyx"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1579798722,"creation_date":1579798722,"answer_id":59883645,"question_id":41067235,"body_markdown":"There is no performance benefit of setting `java.awt.headless=true` if you&#39;re not using AWT features. AWT features are loaded on-demand.\r\n\r\nAs explained in the [linked article][1], headless mode is useful for accessing some Java graphics features which are normally delegated to the graphics host:\r\n\r\n&gt; After setting up headless mode and creating an instance of the headless toolkit, your application can perform the following operations:\r\n&gt; \r\n&gt; * Create lightweight components such as `Canvas`, `Panel`, and Swing\r\n&gt; components, except the top levels\r\n&gt; * Obtain information about available fonts, font metrics, and font settings\r\n&gt; * Set color for rendering text and graphics\r\n&gt; * Create and obtain images and prepare images for rendering\r\n&gt; * Print using `java.awt.PrintJob`, `java.awt.print.*`, and `javax.print.*` classes\r\n&gt; * Emit an audio beep\r\n\r\nFor example, in headless mode you can create and write image files:\r\n\r\n\t\tBufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_RGB);\r\n\t\tGraphics2D g = img.createGraphics();\r\n\t\tg.drawLine(80, 30, 120, 70);\r\n\t\tg.drawLine(80, 70, 120, 30);\r\n\t\tImageIO.write(img, &quot;png&quot;, new File(&quot;image.png&quot;));\r\n\r\nWhen run with **`-Djava.awt.headless=true`**, will produce an image file:\r\n\r\n[![x][2]][2]\r\n\r\nWhen run with **`-Djava.awt.headless=false`** (and without an X window server) will throw an exception instead:\r\n\r\n&gt; `java.awt.AWTError: Can&#39;t connect to X11 window server using &#39;:0.0&#39; as the value of the DISPLAY variable.`\r\n\r\nNote that the JVM contains heuristics that determine the value of `java.awt.headless` if it&#39;s not explicitly set. For example, on Linux if the `DISPLAY` environment variable is not set, `java.awt.headless` automatically becomes `true`.\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/javase/headless.html\r\n  [2]: https://i.stack.imgur.com/DBTBp.png","title":"What is the benefit of setting java.awt.headless=true?","body":"<p>There is no performance benefit of setting <code>java.awt.headless=true</code> if you're not using AWT features. AWT features are loaded on-demand.</p>\n\n<p>As explained in the <a href=\"https://www.oracle.com/technical-resources/articles/javase/headless.html\" rel=\"noreferrer\">linked article</a>, headless mode is useful for accessing some Java graphics features which are normally delegated to the graphics host:</p>\n\n<blockquote>\n  <p>After setting up headless mode and creating an instance of the headless toolkit, your application can perform the following operations:</p>\n  \n  <ul>\n  <li>Create lightweight components such as <code>Canvas</code>, <code>Panel</code>, and Swing\n  components, except the top levels</li>\n  <li>Obtain information about available fonts, font metrics, and font settings</li>\n  <li>Set color for rendering text and graphics</li>\n  <li>Create and obtain images and prepare images for rendering</li>\n  <li>Print using <code>java.awt.PrintJob</code>, <code>java.awt.print.*</code>, and <code>javax.print.*</code> classes</li>\n  <li>Emit an audio beep</li>\n  </ul>\n</blockquote>\n\n<p>For example, in headless mode you can create and write image files:</p>\n\n<pre><code>    BufferedImage img = new BufferedImage(200, 100, BufferedImage.TYPE_INT_RGB);\n    Graphics2D g = img.createGraphics();\n    g.drawLine(80, 30, 120, 70);\n    g.drawLine(80, 70, 120, 30);\n    ImageIO.write(img, \"png\", new File(\"image.png\"));\n</code></pre>\n\n<p>When run with <strong><code>-Djava.awt.headless=true</code></strong>, will produce an image file:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DBTBp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DBTBp.png\" alt=\"x\"></a></p>\n\n<p>When run with <strong><code>-Djava.awt.headless=false</code></strong> (and without an X window server) will throw an exception instead:</p>\n\n<blockquote>\n  <p><code>java.awt.AWTError: Can't connect to X11 window server using ':0.0' as the value of the DISPLAY variable.</code></p>\n</blockquote>\n\n<p>Note that the JVM contains heuristics that determine the value of <code>java.awt.headless</code> if it's not explicitly set. For example, on Linux if the <code>DISPLAY</code> environment variable is not set, <code>java.awt.headless</code> automatically becomes <code>true</code>.</p>\n"},{"tags":[],"owner":{"account_id":251709,"reputation":2827,"user_id":529286,"accept_rate":84,"display_name":"zakmck"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661966028,"creation_date":1606703477,"answer_id":65067407,"question_id":41067235,"body_markdown":"Headless mode is mainly useful in those systems that don&#39;t have a graphical display, typically the servers.\r\n\r\nMany applications use graphical displays to do things that are not necessarily needed to be seen, for instance drawing an image and then saving it to disk.\r\n\r\nif you run such a program on a server (ssh connections only, no graphic endpoint), you get an exception when in default mode, while you get the program ran when you enable the headless mode.\r\n\r\nHeadless mode essentially means virtual display, the graphical components do their operations on a generic/transparent display interface, eg, they draw a circle on a grid, then the result is either actually displayed, when in headed mode, or it is treated differently in headless mode, eg, the grid is a memory object, which is changed so that it would represent the drawn circle on a real display, the same grid can be used for tasks like saving everything as an image file.\r\n\r\nAs suggested by one of the comments, Oracle has a number of [details](https://www.oracle.com/technical-resources/articles/javase/headless.html) about it.","title":"What is the benefit of setting java.awt.headless=true?","body":"<p>Headless mode is mainly useful in those systems that don't have a graphical display, typically the servers.</p>\n<p>Many applications use graphical displays to do things that are not necessarily needed to be seen, for instance drawing an image and then saving it to disk.</p>\n<p>if you run such a program on a server (ssh connections only, no graphic endpoint), you get an exception when in default mode, while you get the program ran when you enable the headless mode.</p>\n<p>Headless mode essentially means virtual display, the graphical components do their operations on a generic/transparent display interface, eg, they draw a circle on a grid, then the result is either actually displayed, when in headed mode, or it is treated differently in headless mode, eg, the grid is a memory object, which is changed so that it would represent the drawn circle on a real display, the same grid can be used for tasks like saving everything as an image file.</p>\n<p>As suggested by one of the comments, Oracle has a number of <a href=\"https://www.oracle.com/technical-resources/articles/javase/headless.html\" rel=\"nofollow noreferrer\">details</a> about it.</p>\n"}],"owner":{"account_id":2596722,"reputation":3827,"user_id":2250246,"accept_rate":33,"display_name":"user2250246"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50356,"favorite_count":0,"down_vote_count":1,"up_vote_count":50,"answer_count":4,"score":49,"last_activity_date":1661966028,"creation_date":1481310239,"question_id":41067235,"body_markdown":"I have gone through\r\n\r\n 1. https://stackoverflow.com/questions/2552371/setting-java-awt-headless-true-programmatically\r\n 2. http://www.oracle.com/technetwork/articles/javase/headless-136834.html\r\n    and\r\n 3. Some other links too.\r\n\r\nNowhere it is explained the benefit of using this flag.\r\n\r\nIs it a performance benefit? If yes, is there even a rough quntization how much performance benefit there will be? (I know that answers to performance questions totally depend upon case to case, but it would be nice to know if someone reported a good benefit from doing this).","title":"What is the benefit of setting java.awt.headless=true?","body":"<p>I have gone through</p>\n\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/2552371/setting-java-awt-headless-true-programmatically\">Setting java.awt.headless=true programmatically</a></li>\n<li><a href=\"http://www.oracle.com/technetwork/articles/javase/headless-136834.html\" rel=\"noreferrer\">http://www.oracle.com/technetwork/articles/javase/headless-136834.html</a>\nand</li>\n<li>Some other links too.</li>\n</ol>\n\n<p>Nowhere it is explained the benefit of using this flag.</p>\n\n<p>Is it a performance benefit? If yes, is there even a rough quntization how much performance benefit there will be? (I know that answers to performance questions totally depend upon case to case, but it would be nice to know if someone reported a good benefit from doing this).</p>\n"},{"tags":["java","matrix","multiplication"],"comments":[{"owner":{"account_id":26190324,"reputation":9,"user_id":19872276,"display_name":"Preston Little"},"score":0,"creation_date":1661964777,"post_id":73558807,"comment_id":129898684,"body_markdown":"I edited the question so it was clearer what my inputs and outputs are.","body":"I edited the question so it was clearer what my inputs and outputs are."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1661965329,"post_id":73558807,"comment_id":129898872,"body_markdown":"Did you try searching for [java matrix multiplication](https://stackoverflow.com/search?q=%5Bjava%5D+matrix+multiplication)?","body":"Did you try searching for <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+matrix+multiplication\">java matrix multiplication</a>?"}],"answers":[{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661965929,"creation_date":1661965929,"answer_id":73559551,"question_id":73558807,"body_markdown":"first of all , not enough information is provided in your example . \r\nso I made my own example where \r\n\r\nmatrix1 = \r\n\r\n    1 2 3 \r\n    4 5 6\r\n\r\nand matrix2 = \r\n\r\n    7  8\r\n    9  10\r\n    11 12\r\n\r\nso the result =\r\n\r\n    58   64\r\n    139  154\r\n\r\nalso made a function called `printMatrix()` to help debugging and printing the matrix, also this line has a great problem `Matrix newArray = new Matrix(data);` , as **data** represents the first matrix , so you are making a new matrix which have the same dimensions as the first matrix which is incorrect;\r\n\r\nif matrix1 is of dimension **2 x 3** and matrix2 is of dimension **3 x 2** then the result matrix dimension must be of size **2 x 2** not **2 x 3**. so that&#39;s a problem in your code, also there is no way that you can do it with only 2 for loops , you will need a third for loop to help you iterate through the whole matrix and put it in the result and this is full code :\r\n\r\nclass Matrix:\r\n    \r\n    public class Matrix\r\n    {\r\n        private int numRows;\r\n        private int numColumns;\r\n        private int data[][];\r\n    \r\n        public Matrix(int d[][]) {\r\n    \r\n            // d.length is the number of 1D arrays in the 2D array\r\n            numRows = d.length;\r\n            if (numRows == 0)\r\n                numColumns = 0;\r\n            else\r\n                numColumns = d[0].length; // d[0] is the first 1D array\r\n    \r\n            // create a new matrix to hold the data\r\n            data = new int[numRows][numColumns];\r\n    \r\n            // copy the data over\r\n            for (int i = 0; i &lt; numRows; i++)\r\n                for (int j = 0; j &lt; numColumns; j++)\r\n                    data[i][j] = d[i][j];\r\n        }\r\n    \r\n        public Matrix times(Matrix m) throws IllegalArgumentException {\r\n            Matrix m2 = this;\r\n            if (m.numRows != m2.numColumns)\r\n                throw new IllegalArgumentException(&quot;Matrix information isn&#39;t correct&quot;);\r\n    \r\n            int tempM[][] = new int[data.length][m.data[0].length];\r\n            for (int i = 0; i &lt; data.length; i++)       // a row\r\n                for (int j = 0; j &lt; m.data[0].length; j++)       // b column\r\n                    for (int k = 0; k &lt; data[0].length; k++)      // multiplication and sum iterator\r\n                        tempM[i][j] += m2.data[i][k] * m.data[k][j];\r\n    \r\n            return new Matrix(tempM);\r\n        }\r\n    \r\n        public void printMatrix() {\r\n            for (int i = 0; i &lt; data.length; i++) {\r\n                for (int j = 0; j &lt; data[0].length; j++) {\r\n                    System.out.print(data[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();\r\n            }\r\n        }\r\n    }\r\n\r\nand here is the main I used to test the code:\r\n\r\n    public class Main\r\n    {\r\n        public static void main(String[] args) {\r\n            int m1[][] = {{1, 2, 3}, {4, 5, 6}};\r\n            int m2[][] = {{7, 8}, {9, 10}, {11, 12}};\r\n\r\n            Matrix matrix1 = new Matrix(m1);\r\n            Matrix matrix2 = new Matrix(m2);\r\n\r\n            Matrix result = matrix1.times(matrix2);\r\n            result.printMatrix();\r\n\r\n        }\r\n    }\r\n    \r\n\r\n\r\n\r\n\r\n","title":"Multiply matrices in Java","body":"<p>first of all , not enough information is provided in your example .\nso I made my own example where</p>\n<p>matrix1 =</p>\n<pre><code>1 2 3 \n4 5 6\n</code></pre>\n<p>and matrix2 =</p>\n<pre><code>7  8\n9  10\n11 12\n</code></pre>\n<p>so the result =</p>\n<pre><code>58   64\n139  154\n</code></pre>\n<p>also made a function called <code>printMatrix()</code> to help debugging and printing the matrix, also this line has a great problem <code>Matrix newArray = new Matrix(data);</code> , as <strong>data</strong> represents the first matrix , so you are making a new matrix which have the same dimensions as the first matrix which is incorrect;</p>\n<p>if matrix1 is of dimension <strong>2 x 3</strong> and matrix2 is of dimension <strong>3 x 2</strong> then the result matrix dimension must be of size <strong>2 x 2</strong> not <strong>2 x 3</strong>. so that's a problem in your code, also there is no way that you can do it with only 2 for loops , you will need a third for loop to help you iterate through the whole matrix and put it in the result and this is full code :</p>\n<p>class Matrix:</p>\n<pre><code>public class Matrix\n{\n    private int numRows;\n    private int numColumns;\n    private int data[][];\n\n    public Matrix(int d[][]) {\n\n        // d.length is the number of 1D arrays in the 2D array\n        numRows = d.length;\n        if (numRows == 0)\n            numColumns = 0;\n        else\n            numColumns = d[0].length; // d[0] is the first 1D array\n\n        // create a new matrix to hold the data\n        data = new int[numRows][numColumns];\n\n        // copy the data over\n        for (int i = 0; i &lt; numRows; i++)\n            for (int j = 0; j &lt; numColumns; j++)\n                data[i][j] = d[i][j];\n    }\n\n    public Matrix times(Matrix m) throws IllegalArgumentException {\n        Matrix m2 = this;\n        if (m.numRows != m2.numColumns)\n            throw new IllegalArgumentException(&quot;Matrix information isn't correct&quot;);\n\n        int tempM[][] = new int[data.length][m.data[0].length];\n        for (int i = 0; i &lt; data.length; i++)       // a row\n            for (int j = 0; j &lt; m.data[0].length; j++)       // b column\n                for (int k = 0; k &lt; data[0].length; k++)      // multiplication and sum iterator\n                    tempM[i][j] += m2.data[i][k] * m.data[k][j];\n\n        return new Matrix(tempM);\n    }\n\n    public void printMatrix() {\n        for (int i = 0; i &lt; data.length; i++) {\n            for (int j = 0; j &lt; data[0].length; j++) {\n                System.out.print(data[i][j] + &quot; &quot;);\n            }\n            System.out.println();\n        }\n    }\n}\n</code></pre>\n<p>and here is the main I used to test the code:</p>\n<pre><code>public class Main\n{\n    public static void main(String[] args) {\n        int m1[][] = {{1, 2, 3}, {4, 5, 6}};\n        int m2[][] = {{7, 8}, {9, 10}, {11, 12}};\n\n        Matrix matrix1 = new Matrix(m1);\n        Matrix matrix2 = new Matrix(m2);\n\n        Matrix result = matrix1.times(matrix2);\n        result.printMatrix();\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26190324,"reputation":9,"user_id":19872276,"display_name":"Preston Little"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661965929,"creation_date":1661961921,"question_id":73558807,"body_markdown":"I think I&#39;m missing something small but I can&#39;t tell what it might be. I&#39;m trying to create a method that will multiply two matrices. I&#39;m also trying to only use 2 for loops in my method instead of 3.\r\n\r\nFor example, if I input\r\n```\r\n{1, 2, 3},\r\n{2, 5, 6}\r\n```\r\nand\r\n```\r\n{4, 5},\r\n{3, 2},\r\n{1, 1}\r\n```\r\nI should get\r\n```\r\n{13, 12},\r\n{29, 26}\r\n```\r\n\r\nBut I end up getting\r\n```\r\n{5, 12, 3},\r\n{8, 15, 6}\r\n```\r\nAbove this method, I have instance variables &#39;private in numRows&#39; and &#39;private int numColumns&#39; to set the dimensions of the matrix. I have another instance variable &#39;private int data[][]&#39; that&#39;s the internal storage of the matrix elements. Then I have a Constructor for a new Matrix that automatically determines dimensions.\r\n\r\nI&#39;ve tried swapping i&#39;s and j&#39;s and data.length for numRows/numColumns but I&#39;m stuck at this point. Any suggestions?\r\n\r\n```\r\npublic Matrix(int d[][]) {\r\n        // d.length is the number of 1D arrays in the 2D array\r\n        numRows = d.length;\r\n        if (numRows == 0)\r\n            numColumns = 0;\r\n        else\r\n            numColumns = d[0].length; // d[0] is the first 1D array\r\n\r\n        // create a new matrix to hold the data\r\n        data = new int[numRows][numColumns];\r\n\r\n        // copy the data over\r\n        for (int i = 0; i &lt; numRows; i++)\r\n            for (int j = 0; j &lt; numColumns; j++)\r\n                data[i][j] = d[i][j];\r\n    }\r\n\r\npublic Matrix times(Matrix m) throws IllegalArgumentException {\r\n\t\tMatrix m2 = this;\r\n\t\tif (m.numRows != m2.numColumns)\r\n\t\t\tthrow new IllegalArgumentException(&quot;Matrix information isn&#39;t correct&quot;);\r\n\r\n\t\tMatrix newArray = new Matrix(data);\r\n\t\tfor (int i = 0; i &lt; data.length; i++)\r\n\t\t\tfor (int j = 0; j &lt; data.length; j++)\r\n\t\t\t\tnewArray.data[i][j] += m.data[i][j] * m2.data[j][i];\r\n\r\n\t\treturn newArray;\r\n\t}\r\n```","title":"Multiply matrices in Java","body":"<p>I think I'm missing something small but I can't tell what it might be. I'm trying to create a method that will multiply two matrices. I'm also trying to only use 2 for loops in my method instead of 3.</p>\n<p>For example, if I input</p>\n<pre><code>{1, 2, 3},\n{2, 5, 6}\n</code></pre>\n<p>and</p>\n<pre><code>{4, 5},\n{3, 2},\n{1, 1}\n</code></pre>\n<p>I should get</p>\n<pre><code>{13, 12},\n{29, 26}\n</code></pre>\n<p>But I end up getting</p>\n<pre><code>{5, 12, 3},\n{8, 15, 6}\n</code></pre>\n<p>Above this method, I have instance variables 'private in numRows' and 'private int numColumns' to set the dimensions of the matrix. I have another instance variable 'private int data[][]' that's the internal storage of the matrix elements. Then I have a Constructor for a new Matrix that automatically determines dimensions.</p>\n<p>I've tried swapping i's and j's and data.length for numRows/numColumns but I'm stuck at this point. Any suggestions?</p>\n<pre><code>public Matrix(int d[][]) {\n        // d.length is the number of 1D arrays in the 2D array\n        numRows = d.length;\n        if (numRows == 0)\n            numColumns = 0;\n        else\n            numColumns = d[0].length; // d[0] is the first 1D array\n\n        // create a new matrix to hold the data\n        data = new int[numRows][numColumns];\n\n        // copy the data over\n        for (int i = 0; i &lt; numRows; i++)\n            for (int j = 0; j &lt; numColumns; j++)\n                data[i][j] = d[i][j];\n    }\n\npublic Matrix times(Matrix m) throws IllegalArgumentException {\n        Matrix m2 = this;\n        if (m.numRows != m2.numColumns)\n            throw new IllegalArgumentException(&quot;Matrix information isn't correct&quot;);\n\n        Matrix newArray = new Matrix(data);\n        for (int i = 0; i &lt; data.length; i++)\n            for (int j = 0; j &lt; data.length; j++)\n                newArray.data[i][j] += m.data[i][j] * m2.data[j][i];\n\n        return newArray;\n    }\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1376325965,"post_id":18192303,"comment_id":26659252,"body_markdown":"`isEmpty()` is a method of class `String` not `StringUtils`","body":"<code>isEmpty()</code> is a method of class <code>String</code> not <code>StringUtils</code>"}],"answers":[{"tags":[],"owner":{"account_id":1435980,"reputation":127999,"user_id":1357341,"accept_rate":100,"display_name":"arshajii"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1376326061,"creation_date":1376326061,"answer_id":18192399,"question_id":18192303,"body_markdown":"I believe you&#39;re using [`org.springframework.util.StringUtils`][1], which has no `isEmpty()`.\r\n\r\nThere is, however, an `isEmpty()` in [`org.apache.commons.lang.StringUtils`][2].\r\n\r\nEnsure that you&#39;re using the correct `StringUtils`.\r\n\r\n  [1]: http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/util/StringUtils.html\r\n  [2]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html","title":"The method isEmpty(String) is undefined for the type StringUtils","body":"<p>I believe you're using <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/org/springframework/util/StringUtils.html\" rel=\"noreferrer\"><code>org.springframework.util.StringUtils</code></a>, which has no <code>isEmpty()</code>.</p>\n\n<p>There is, however, an <code>isEmpty()</code> in <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html\" rel=\"noreferrer\"><code>org.apache.commons.lang.StringUtils</code></a>.</p>\n\n<p>Ensure that you're using the correct <code>StringUtils</code>.</p>\n"},{"tags":[],"owner":{"account_id":2341065,"reputation":736,"user_id":2052346,"accept_rate":76,"display_name":"sparks"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376326492,"creation_date":1376326492,"answer_id":18192534,"question_id":18192303,"body_markdown":"1) Make sure you&#39;re importing the correct `StringUtils` as previously stated.\r\n\r\n2) Make sure you&#39;re either doing a `import static org.apache.commons.lang.StringUtils.isEmpty;` **OR** doing `StringUtils.isEmpty(myString);`","title":"The method isEmpty(String) is undefined for the type StringUtils","body":"<p>1) Make sure you're importing the correct <code>StringUtils</code> as previously stated.</p>\n\n<p>2) Make sure you're either doing a <code>import static org.apache.commons.lang.StringUtils.isEmpty;</code> <strong>OR</strong> doing <code>StringUtils.isEmpty(myString);</code></p>\n"},{"tags":[],"owner":{"account_id":7940342,"reputation":1436,"user_id":5994630,"accept_rate":100,"display_name":"Satyendra Sharma"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1520176814,"creation_date":1520176814,"answer_id":49096910,"question_id":18192303,"body_markdown":"However Question was Answered as expected long back, but I think one important point is a must to mention here (as now a days most of projects are  Maven based). So don&#39;t forget to add maven dependency for &#39;apache common lang&#39; in your projects POM.xml before importing StringUtils for same. Else there wont be any import option.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"The method isEmpty(String) is undefined for the type StringUtils","body":"<p>However Question was Answered as expected long back, but I think one important point is a must to mention here (as now a days most of projects are  Maven based). So don't forget to add maven dependency for 'apache common lang' in your projects POM.xml before importing StringUtils for same. Else there wont be any import option.</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661965553,"creation_date":1661965553,"answer_id":73559482,"question_id":18192303,"body_markdown":"According to the documentation:\r\n\r\nDeprecated. as of 5.3, in favor of hasLength(String) and hasText(String) (or ObjectUtils.isEmpty(Object))\r\nCheck whether the given object (possibly a String) is empty. This is effectively a shortcut for !hasLength(String).\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#isEmpty-java.lang.Object-\r\n\r\nUse one of the recommended methods instead. I don&#39;t recommend using **commons-lang** as it&#39;s an extra dependency. \r\n","title":"The method isEmpty(String) is undefined for the type StringUtils","body":"<p>According to the documentation:</p>\n<p>Deprecated. as of 5.3, in favor of hasLength(String) and hasText(String) (or ObjectUtils.isEmpty(Object))\nCheck whether the given object (possibly a String) is empty. This is effectively a shortcut for !hasLength(String).</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#isEmpty-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/util/StringUtils.html#isEmpty-java.lang.Object-</a></p>\n<p>Use one of the recommended methods instead. I don't recommend using <strong>commons-lang</strong> as it's an extra dependency.</p>\n"}],"owner":{"account_id":2615024,"reputation":39,"user_id":2264265,"accept_rate":25,"display_name":"user14"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19654,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":18192399,"answer_count":4,"score":1,"last_activity_date":1661965553,"creation_date":1376325732,"question_id":18192303,"body_markdown":"When I am trying to use `isEmpty()`, I am getting the following error.\r\n\r\n&gt; The method isEmpty(String) is undefined for the type StringUtils\r\n\r\nI am using Java 7, Eclipse Juno.\r\n\r\nI manually added the Spring core-3.1.1 jar file too. But no luck.\r\n\r\nCan someone please tell me what I am missing?\r\n","title":"The method isEmpty(String) is undefined for the type StringUtils","body":"<p>When I am trying to use <code>isEmpty()</code>, I am getting the following error.</p>\n\n<blockquote>\n  <p>The method isEmpty(String) is undefined for the type StringUtils</p>\n</blockquote>\n\n<p>I am using Java 7, Eclipse Juno.</p>\n\n<p>I manually added the Spring core-3.1.1 jar file too. But no luck.</p>\n\n<p>Can someone please tell me what I am missing?</p>\n"},{"tags":["java","sockets","nullpointerexception","port"],"comments":[{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1595175333,"post_id":62982614,"comment_id":111377156,"body_markdown":"Your first thread launches the server. It waits for a connection, which could come in at ANY time (could take a long time). Second thread tries to close, but doesn&#39;t wait on anything; it starts basically right away. It wound up executing before the first thread could assign the `server` variable in a public way, hence the NPE &amp; server not closing. You then try to launch another `Server` instance even though the previous wasn&#39;t closed due to the errors mentioned above. Keep in mind, threads do not wait for each other unless you tell them to. Your code lacks thread coordination.","body":"Your first thread launches the server. It waits for a connection, which could come in at ANY time (could take a long time). Second thread tries to close, but doesn&#39;t wait on anything; it starts basically right away. It wound up executing before the first thread could assign the <code>server</code> variable in a public way, hence the NPE &amp; server not closing. You then try to launch another <code>Server</code> instance even though the previous wasn&#39;t closed due to the errors mentioned above. Keep in mind, threads do not wait for each other unless you tell them to. Your code lacks thread coordination."},{"owner":{"account_id":16138574,"reputation":73,"user_id":12158231,"display_name":"Danzon2504"},"score":0,"creation_date":1595176790,"post_id":62982614,"comment_id":111377627,"body_markdown":"Thanks for the comment. Can this be fixed with synchronising on the server object ? or do i need to work with Locks / Conditions.","body":"Thanks for the comment. Can this be fixed with synchronising on the server object ? or do i need to work with Locks / Conditions."},{"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"score":0,"creation_date":1595177260,"post_id":62982614,"comment_id":111377796,"body_markdown":"Can you clarify what you&#39;re trying to do: &quot;i later want to close the connection&quot; -- what does &quot;later&quot; mean? When is&quot;later&quot;? Currently you&#39;re trying to close the &quot;client socket&quot; before it even exists","body":"Can you clarify what you&#39;re trying to do: &quot;i later want to close the connection&quot; -- what does &quot;later&quot; mean? When is&quot;later&quot;? Currently you&#39;re trying to close the &quot;client socket&quot; before it even exists"},{"owner":{"account_id":2787344,"reputation":14687,"user_id":2398375,"accept_rate":75,"display_name":"Vince"},"score":0,"creation_date":1595178872,"post_id":62982614,"comment_id":111378325,"body_markdown":"You would need to have the 2nd thread `wait` for the 1st thread to `notify` it. After the 1st thread notifies the 2nd, the 2nd would notify the 3rd to start a new connection. But do you really need all these threads to do what you want?","body":"You would need to have the 2nd thread <code>wait</code> for the 1st thread to <code>notify</code> it. After the 1st thread notifies the 2nd, the 2nd would notify the 3rd to start a new connection. But do you really need all these threads to do what you want?"},{"owner":{"account_id":16138574,"reputation":73,"user_id":12158231,"display_name":"Danzon2504"},"score":0,"creation_date":1595182819,"post_id":62982614,"comment_id":111379514,"body_markdown":"Well, I wanted a restart option, but I start thinking about , that&#39;s its not worth the effort.","body":"Well, I wanted a restart option, but I start thinking about , that&#39;s its not worth the effort."}],"answers":[{"tags":[],"owner":{"account_id":123958,"reputation":109285,"user_id":318758,"accept_rate":100,"display_name":"Joni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661965494,"creation_date":1595175575,"answer_id":62982792,"question_id":62982614,"body_markdown":"A probable cause of &quot;BindException: Address already in use&quot; is that the operating system is keeping the port reserved for a while after the application stops,  in case there are still outstanding connections sending packets to it. You can solve that by enabling &quot;address reuse&quot; on the socket:\r\n\r\n    serverSocket = new ServerSocket();\r\n    serverSocket.setReuseAddress(true);\r\n    serverSocket.bind(new InetSocketAddress(4442));\r\n\r\nThe NullPointerException is caused by a race condition: the second thread is trying to close the client connection before it has even been accepted. There is no way the code in the question could work, so I&#39;m guessing it&#39;s not your real code.","title":"Is there a way to reuse the Port of a Clientconnection after closing it in Java?","body":"<p>A probable cause of &quot;BindException: Address already in use&quot; is that the operating system is keeping the port reserved for a while after the application stops,  in case there are still outstanding connections sending packets to it. You can solve that by enabling &quot;address reuse&quot; on the socket:</p>\n<pre><code>serverSocket = new ServerSocket();\nserverSocket.setReuseAddress(true);\nserverSocket.bind(new InetSocketAddress(4442));\n</code></pre>\n<p>The NullPointerException is caused by a race condition: the second thread is trying to close the client connection before it has even been accepted. There is no way the code in the question could work, so I'm guessing it's not your real code.</p>\n"}],"owner":{"account_id":16138574,"reputation":73,"user_id":12158231,"display_name":"Danzon2504"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62982792,"answer_count":1,"score":0,"last_activity_date":1661965494,"creation_date":1595174612,"question_id":62982614,"body_markdown":"I wanted to implement a little restart functionality in my code. \r\nThe user should be able to restart the ClientConnection, with the same Port. \r\n\r\nMy main class openes a new ClientConnection with the Port 4442, i later want to close the connection (I tried to close the Socket and the Serversocket) to then create a new Instance of the Class. \r\n\r\nI have two Problems now: \r\nFirst an port is bound exception is thrown and a Nullpointerexception.\r\n\r\n\r\n\r\n``` public class Server implements Runnable {\r\n    ServerSocket serverSocket;\r\n    Socket clientsocket;\r\n\r\n\r\n    @Override\r\n    public void run() {\r\n\r\n        try {\r\n            serverSocket = new ServerSocket(4442);\r\n            System.out.println(&quot;Server is running&quot;);\r\n\r\n            clientsocket = serverSocket.accept();\r\n            PrintWriter out =\r\n                    new PrintWriter(clientsocket.getOutputStream(), true);\r\n            BufferedReader in = new BufferedReader(\r\n                    new InputStreamReader(clientsocket.getInputStream()));\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Server server = new Server();\r\n        new Thread(server).start();\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    server.clientsocket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n        new Thread(new Server()).start();\r\n    }\r\n} \r\n\r\n\r\n Exception in thread &quot;Thread-2&quot; java.lang.NullPointerException\r\n\tat Server$1.run(Server.java:40)\r\n\tat java.base/java.lang.Thread.run(Thread.java:832)\r\nServer is running\r\njava.net.BindException: Address already in use: bind\r\n\tat java.base/sun.nio.ch.Net.bind0(Native Method) \r\n\r\n\r\nAm I overseeing something obvious or is it not possible to reuse the same port.\r\n I&#39;ve read some posts about the close-Method in another Thread. \r\n\r\nThis line:   server.clientsocket.close(); is throwing a nullpointer exception too and i don&#39;t know why.\r\n","title":"Is there a way to reuse the Port of a Clientconnection after closing it in Java?","body":"<p>I wanted to implement a little restart functionality in my code.\nThe user should be able to restart the ClientConnection, with the same Port.</p>\n<p>My main class openes a new ClientConnection with the Port 4442, i later want to close the connection (I tried to close the Socket and the Serversocket) to then create a new Instance of the Class.</p>\n<p>I have two Problems now:\nFirst an port is bound exception is thrown and a Nullpointerexception.</p>\n<pre><code>    ServerSocket serverSocket;\n    Socket clientsocket;\n\n\n    @Override\n    public void run() {\n\n        try {\n            serverSocket = new ServerSocket(4442);\n            System.out.println(&quot;Server is running&quot;);\n\n            clientsocket = serverSocket.accept();\n            PrintWriter out =\n                    new PrintWriter(clientsocket.getOutputStream(), true);\n            BufferedReader in = new BufferedReader(\n                    new InputStreamReader(clientsocket.getInputStream()));\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        Server server = new Server();\n        new Thread(server).start();\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    server.clientsocket.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n        new Thread(new Server()).start();\n    }\n} \n\n\n Exception in thread &quot;Thread-2&quot; java.lang.NullPointerException\n    at Server$1.run(Server.java:40)\n    at java.base/java.lang.Thread.run(Thread.java:832)\nServer is running\njava.net.BindException: Address already in use: bind\n    at java.base/sun.nio.ch.Net.bind0(Native Method) \n\n\nAm I overseeing something obvious or is it not possible to reuse the same port.\n I've read some posts about the close-Method in another Thread. \n\nThis line:   server.clientsocket.close(); is throwing a nullpointer exception too and i don't know why.\n</code></pre>\n"},{"tags":["java","android","android-studio","android-activity","onbackpressed"],"answers":[{"tags":[],"owner":{"account_id":16015286,"reputation":131,"user_id":11558195,"display_name":"Arup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1608221941,"creation_date":1608220579,"answer_id":65344082,"question_id":65343842,"body_markdown":"Don&#39;t know this will work or not but try once,\r\n\r\n`private UpdateThread myThread`\r\n\r\n```\r\n@Override\r\n    public void onBackPressed() {\r\n        super.onBackPressed();\r\n        myThread.stop(); // don&#39;t know &#39;myThread&#39; has &#39;stop()&#39; or not\r\n        Intent intent = new Intent(this, MainActivity.class); \r\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n        startActivity(intent);\r\n        finish();\r\n    }\r\n```\r\n\r\nAlso try ","title":"onBackPressed doesn&#39;t close activity","body":"<p>Don't know this will work or not but try once,</p>\n<p><code>private UpdateThread myThread</code></p>\n<pre><code>@Override\n    public void onBackPressed() {\n        super.onBackPressed();\n        myThread.stop(); // don't know 'myThread' has 'stop()' or not\n        Intent intent = new Intent(this, MainActivity.class); \n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n        startActivity(intent);\n        finish();\n    }\n</code></pre>\n<p>Also try</p>\n"},{"tags":[],"owner":{"account_id":6887551,"reputation":3125,"user_id":5292173,"accept_rate":80,"display_name":"Grisgram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608220643,"creation_date":1608220643,"answer_id":65344096,"question_id":65343842,"body_markdown":"You start a thread you never stop.\r\nIs that thread also responsible for the audio theme?\r\n\r\nStop your thread in onBackPressed\r\nAlso you should call `finish()` in onBackPressed","title":"onBackPressed doesn&#39;t close activity","body":"<p>You start a thread you never stop.\nIs that thread also responsible for the audio theme?</p>\n<p>Stop your thread in onBackPressed\nAlso you should call <code>finish()</code> in onBackPressed</p>\n"},{"tags":[],"owner":{"account_id":16612457,"reputation":311,"user_id":12005025,"display_name":"Laxmi kant"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661965457,"creation_date":1661965457,"answer_id":73559472,"question_id":65343842,"body_markdown":"If you have updated any of your application to API LEVEL 33, you have seen this error, onBackPressed is deprecated.\r\nHere is [alterative][1] of onbackpressed\r\n\r\n\r\n   \r\n\r\n     fun AppCompatActivity.onBackPressed(isEnabled: Boolean, callback: () -&gt; Unit) {\r\n        onBackPressedDispatcher.addCallback(this,\r\n            object : OnBackPressedCallback(isEnabled) {\r\n                override fun handleOnBackPressed() {\r\n                    callback()\r\n                }\r\n            })\r\n    }\r\n    \r\n    // How To Use it : \r\n    class ExampleActivity : AppCompatActivity() {\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_example)\r\n    \r\n            onBackPressed(true) {\r\n                // do what do you want when get back \r\n            }\r\n        }\r\n    \r\n    }\r\nupgrade your [dependency][1] androidx.activity:activity:1.+.+” \r\n\r\n\r\n  [1]: https://www.codeblogs.info/2022/08/onbackpressed-deprecated-what-is.html","title":"onBackPressed doesn&#39;t close activity","body":"<p>If you have updated any of your application to API LEVEL 33, you have seen this error, onBackPressed is deprecated.\nHere is <a href=\"https://www.codeblogs.info/2022/08/onbackpressed-deprecated-what-is.html\" rel=\"nofollow noreferrer\">alterative</a> of onbackpressed</p>\n<pre><code> fun AppCompatActivity.onBackPressed(isEnabled: Boolean, callback: () -&gt; Unit) {\n    onBackPressedDispatcher.addCallback(this,\n        object : OnBackPressedCallback(isEnabled) {\n            override fun handleOnBackPressed() {\n                callback()\n            }\n        })\n}\n\n// How To Use it : \nclass ExampleActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_example)\n\n        onBackPressed(true) {\n            // do what do you want when get back \n        }\n    }\n\n}\n</code></pre>\n<p>upgrade your <a href=\"https://www.codeblogs.info/2022/08/onbackpressed-deprecated-what-is.html\" rel=\"nofollow noreferrer\">dependency</a> androidx.activity:activity:1.+.+”</p>\n"}],"owner":{"account_id":7675833,"reputation":125,"user_id":5816757,"accept_rate":12,"display_name":"SlimShadys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2787,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1661965457,"creation_date":1608219721,"question_id":65343842,"body_markdown":"I have a MainActivity.java as it follows:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n        setContentView(R.layout.activity_main);\r\n\r\n    }\r\n\r\n    public void startGame(View v){\r\n        \r\n        Intent i = new Intent(MainActivity.this, StartGame.class);\r\n\r\n        startActivity(i);\r\n\r\n    }\r\nAnd my StartGame class as it follows:\r\n\r\n    public class StartGame extends AppCompatActivity {\r\n\r\n    private Game game;\r\n    private Handler updateHandler;\r\n    public static Sound sound;\r\n\r\n    public static Activity activity = null;\r\n\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n          super.onCreate(savedInstanceState);\r\n\r\n          setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\r\n\r\n          sound = new Sound(this);\r\n          game = new Game(this, 3, 0);\r\n          setContentView(game);\r\n\r\n          CreateHandler();\r\n          UpdateThread myThread = new UpdateThread(updateHandler);\r\n          myThread.start();\r\n\r\n          activity = this;\r\n\r\n      }\r\n\r\n      private void CreateHandler() {\r\n          updateHandler = new Handler() {\r\n              public void handleMessage(Message msg) {\r\n                  game.invalidate();\r\n                  game.update();\r\n                  super.handleMessage(msg);\r\n              }\r\n          };\r\n       }\r\n\r\n       protected void onPause() {\r\n          super.onPause();\r\n          game.pauseGame();\r\n       }\r\n\r\n       protected void onResume() {\r\n          super.onResume();\r\n          game.resumeGame();\r\n       }\r\n\r\n       @Override\r\n       public void onBackPressed() {\r\n          super.onBackPressed();\r\n       }\r\n\r\n    }\r\n\r\nMy question here is:\r\n\r\nI&#39;m in MainActivity.java and I successfully start a new instance of StartGame through a Button (which fires me the game with and onDraw). Now, if the user presses the soft back button (Navigation bar), the activity will close and the MainActivity layout would come up, but I can still hear the sounds of the game running in the background (even if I go to the Home Screen), meaning that the activity is still running.\r\n\r\nI&#39;ve added the onBackPressed method to StartGame.java but it seems not to work.\r\n\r\nAnyone has some clues on what&#39;s going on? :/","title":"onBackPressed doesn&#39;t close activity","body":"<p>I have a MainActivity.java as it follows:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n\n    setContentView(R.layout.activity_main);\n\n}\n\npublic void startGame(View v){\n    \n    Intent i = new Intent(MainActivity.this, StartGame.class);\n\n    startActivity(i);\n\n}\n</code></pre>\n<p>And my StartGame class as it follows:</p>\n<pre><code>public class StartGame extends AppCompatActivity {\n\nprivate Game game;\nprivate Handler updateHandler;\npublic static Sound sound;\n\npublic static Activity activity = null;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n      super.onCreate(savedInstanceState);\n\n      setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT);\n\n      sound = new Sound(this);\n      game = new Game(this, 3, 0);\n      setContentView(game);\n\n      CreateHandler();\n      UpdateThread myThread = new UpdateThread(updateHandler);\n      myThread.start();\n\n      activity = this;\n\n  }\n\n  private void CreateHandler() {\n      updateHandler = new Handler() {\n          public void handleMessage(Message msg) {\n              game.invalidate();\n              game.update();\n              super.handleMessage(msg);\n          }\n      };\n   }\n\n   protected void onPause() {\n      super.onPause();\n      game.pauseGame();\n   }\n\n   protected void onResume() {\n      super.onResume();\n      game.resumeGame();\n   }\n\n   @Override\n   public void onBackPressed() {\n      super.onBackPressed();\n   }\n\n}\n</code></pre>\n<p>My question here is:</p>\n<p>I'm in MainActivity.java and I successfully start a new instance of StartGame through a Button (which fires me the game with and onDraw). Now, if the user presses the soft back button (Navigation bar), the activity will close and the MainActivity layout would come up, but I can still hear the sounds of the game running in the background (even if I go to the Home Screen), meaning that the activity is still running.</p>\n<p>I've added the onBackPressed method to StartGame.java but it seems not to work.</p>\n<p>Anyone has some clues on what's going on? :/</p>\n"},{"tags":["java","model-view-controller","struts2","struts"],"answers":[{"tags":[],"owner":{"account_id":23225212,"reputation":629,"user_id":17316835,"display_name":"HKBN-ITDS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661851971,"creation_date":1661851971,"answer_id":73540177,"question_id":73537749,"body_markdown":"The size of the buffer affects the processing efficiency of the program. In general, only 1024 should be used.\r\n\r\nReference: [Struts][1]\r\n\r\n\r\n  [1]: https://struts.apache.org/core-developers/stream-result.html","title":"What is the need of specifying a stream result&#39;s buffer size?","body":"<p>The size of the buffer affects the processing efficiency of the program. In general, only 1024 should be used.</p>\n<p>Reference: <a href=\"https://struts.apache.org/core-developers/stream-result.html\" rel=\"nofollow noreferrer\">Struts</a></p>\n"}],"owner":{"account_id":11417598,"reputation":3,"user_id":8370008,"display_name":"laluraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73540177,"answer_count":1,"score":0,"last_activity_date":1661964888,"creation_date":1661839152,"question_id":73537749,"body_markdown":"```xml\r\n&lt;result name=&quot;success&quot; type=&quot;stream&quot;&gt;\r\n  &lt;param name=&quot;contentType&quot;&gt;image/jpeg&lt;/param&gt;\r\n  &lt;param name=&quot;inputName&quot;&gt;inputStream&lt;/param&gt;\r\n  &lt;param name=&quot;contentDisposition&quot;&gt;filename=&quot;${filename}&quot;&lt;/param&gt;\r\n  &lt;param name=&quot;bufferSize&quot;&gt;1024&lt;/param&gt;\r\n&lt;/result&gt;\r\n```\r\n\r\nWhen we download files in Struts 2 why should we specify the buffer size? What is its use?","title":"What is the need of specifying a stream result&#39;s buffer size?","body":"<pre class=\"lang-xml prettyprint-override\"><code>&lt;result name=&quot;success&quot; type=&quot;stream&quot;&gt;\n  &lt;param name=&quot;contentType&quot;&gt;image/jpeg&lt;/param&gt;\n  &lt;param name=&quot;inputName&quot;&gt;inputStream&lt;/param&gt;\n  &lt;param name=&quot;contentDisposition&quot;&gt;filename=&quot;${filename}&quot;&lt;/param&gt;\n  &lt;param name=&quot;bufferSize&quot;&gt;1024&lt;/param&gt;\n&lt;/result&gt;\n</code></pre>\n<p>When we download files in Struts 2 why should we specify the buffer size? What is its use?</p>\n"},{"tags":["java","jvm","jit","jvm-hotspot"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661970448,"post_id":73559247,"comment_id":129900595,"body_markdown":"For most practical concerns, this OpenJDK JVM is the same as the HotSpot JVM. See [OpenJDK vs Java HotspotVM](https://stackoverflow.com/q/44335605/2711488)","body":"For most practical concerns, this OpenJDK JVM is the same as the HotSpot JVM. See <a href=\"https://stackoverflow.com/q/44335605/2711488\">OpenJDK vs Java HotspotVM</a>"},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":0,"creation_date":1661989757,"post_id":73559247,"comment_id":129905177,"body_markdown":"Run any Java program with the -XX:+PrintCompilation option and you&#39;ll see all the JIT activity being printed.","body":"Run any Java program with the -XX:+PrintCompilation option and you&#39;ll see all the JIT activity being printed."},{"owner":{"account_id":25783337,"reputation":3,"user_id":19528628,"display_name":"lazarus"},"score":0,"creation_date":1662006868,"post_id":73559247,"comment_id":129907568,"body_markdown":"@Holger please correct me if i am wrong, so Open-JDK8 has now both JRockit and Hotspot combined and only differs from Oracle JVM in proprietary features like Flight Recorder and Mission Control","body":"@Holger please correct me if i am wrong, so Open-JDK8 has now both JRockit and Hotspot combined and only differs from Oracle JVM in proprietary features like Flight Recorder and Mission Control"}],"owner":{"account_id":25783337,"reputation":3,"user_id":19528628,"display_name":"lazarus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661964228,"creation_date":1661964228,"question_id":73559247,"body_markdown":"This is the output of `java -version` command on my machine\r\n```\r\nopenjdk version &quot;1.8.0_322&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_322-b06)\r\nOpenJDK 64-Bit Server VM (build 25.322-b06, mixed mode)\r\n```\r\nI have 2 queries here\r\n\r\n1 ) Everytime i am reading about JIT , keyword Hotspot comes around , as my VM is not Hotspot, i get confused what execution strategy is being used by my JVM here , is it interpreter and C1 and C2, or only interpreter  ?\r\n\r\n2 ) Let&#39;s say i am hosting a tomcat server with java spring backend , so every request that comes , will get interpreted , essentially the 1st request that comes may go through slightly different execution than say the 1000th request , if we assume JIT is in picture?","title":"How to check whether JVM installed on my machine can do JIT optimisation","body":"<p>This is the output of <code>java -version</code> command on my machine</p>\n<pre><code>openjdk version &quot;1.8.0_322&quot;\nOpenJDK Runtime Environment (build 1.8.0_322-b06)\nOpenJDK 64-Bit Server VM (build 25.322-b06, mixed mode)\n</code></pre>\n<p>I have 2 queries here</p>\n<p>1 ) Everytime i am reading about JIT , keyword Hotspot comes around , as my VM is not Hotspot, i get confused what execution strategy is being used by my JVM here , is it interpreter and C1 and C2, or only interpreter  ?</p>\n<p>2 ) Let's say i am hosting a tomcat server with java spring backend , so every request that comes , will get interpreted , essentially the 1st request that comes may go through slightly different execution than say the 1000th request , if we assume JIT is in picture?</p>\n"},{"tags":["java","maven","intellij-14","asciidoctor"],"answers":[{"tags":[],"owner":{"account_id":281433,"reputation":1014,"user_id":577736,"display_name":"Alok P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661964228,"creation_date":1661964228,"answer_id":73559248,"question_id":63183015,"body_markdown":"Add the following to your maven build and see if it makes a difference:  \r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\r\n      &lt;/properties&gt;\r\n\r\nUse &#39;17&#39; if your java version is 17. Change it accordingly to your own version.  \r\nSee if this works and let us know.","title":"Asciidoclet for JavaDoc using Maven","body":"<p>Add the following to your maven build and see if it makes a difference:</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.release&gt;17&lt;/maven.compiler.release&gt;\n  &lt;/properties&gt;\n</code></pre>\n<p>Use '17' if your java version is 17. Change it accordingly to your own version.<br />\nSee if this works and let us know.</p>\n"}],"owner":{"account_id":14557588,"reputation":189,"user_id":11677453,"display_name":"Jason000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661964228,"creation_date":1596153248,"question_id":63183015,"body_markdown":"I&#39;m working on writing documentation for my Java code using JavaDoc. I&#39;m using IntelliJ as my IDE, and executing ```javadoc -d javadoc src/* -author -version -private``` as my command to generate HTML documentation from Java classes. So far, this has worked flawlessly. \r\n\r\nHowever, I&#39;m trying to use the AsciiDocs format to write my documentation in the Java classes, which I can do using [*AsciiDoclet*][1]. I&#39;m using Maven, which I have never used before, to add the plugin for asciidoclet. Here&#39;s how that file looks: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Documentation&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.7&lt;/source&gt;\r\n                &lt;doclet&gt;org.asciidoctor.Asciidoclet&lt;/doclet&gt;\r\n                &lt;docletArtifact&gt;\r\n                    &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;asciidoclet&lt;/artifactId&gt;\r\n                    &lt;!--suppress UnresolvedMavenProperty --&gt;\r\n                    &lt;version&gt;${asciidoclet.version}&lt;/version&gt;\r\n                &lt;/docletArtifact&gt;\r\n                &lt;overview&gt;src/main/java/overview.adoc&lt;/overview&gt;\r\n                &lt;additionalparam&gt;\r\n                    --base-dir ${project.basedir}\r\n                    --attribute &quot;name=${project.name}&quot;\r\n                    --attribute &quot;version=${project.version}&quot;\r\n                    --attribute &quot;title-link=http://example.com[${project.name} ${project.version}]&quot;\r\n                &lt;/additionalparam&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nWhen I click &#39;Compile&#39; in the Maven window, i get the following error:\r\n```\r\nSource option 5 is no longer supported. Use 6 or later.\r\nTarget option 1.5 is no longer supported. Use 1.6 or later.\r\n```\r\nAnd a warning that might not be a big deal:\r\n```\r\nFile encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\r\n```\r\nNow, I don&#39;t know how to fix this issue, and I have looked for help but there is not that many resources/examples on how to do this. I&#39;m also a bit confused on if I should still run ```javadoc -d javadoc src/* -author -version -private```\r\nonce this plugin is working, or if I should run ```asciidoctor --destination-dir=asciidoc src/*```.\r\n\r\nRunning the asciidoctor command did seem to understand what I was passing in (Java files instead of .adoc files), but the syntax didn&#39;t render correctly, probably due to the plugin issue. \r\n\r\n\r\n  [1]: https://github.com/asciidoctor/asciidoclet","title":"Asciidoclet for JavaDoc using Maven","body":"<p>I'm working on writing documentation for my Java code using JavaDoc. I'm using IntelliJ as my IDE, and executing <code>javadoc -d javadoc src/* -author -version -private</code> as my command to generate HTML documentation from Java classes. So far, this has worked flawlessly.</p>\n<p>However, I'm trying to use the AsciiDocs format to write my documentation in the Java classes, which I can do using <a href=\"https://github.com/asciidoctor/asciidoclet\" rel=\"nofollow noreferrer\"><em>AsciiDoclet</em></a>. I'm using Maven, which I have never used before, to add the plugin for asciidoclet. Here's how that file looks:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;Documentation&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.9&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;doclet&gt;org.asciidoctor.Asciidoclet&lt;/doclet&gt;\n                &lt;docletArtifact&gt;\n                    &lt;groupId&gt;org.asciidoctor&lt;/groupId&gt;\n                    &lt;artifactId&gt;asciidoclet&lt;/artifactId&gt;\n                    &lt;!--suppress UnresolvedMavenProperty --&gt;\n                    &lt;version&gt;${asciidoclet.version}&lt;/version&gt;\n                &lt;/docletArtifact&gt;\n                &lt;overview&gt;src/main/java/overview.adoc&lt;/overview&gt;\n                &lt;additionalparam&gt;\n                    --base-dir ${project.basedir}\n                    --attribute &quot;name=${project.name}&quot;\n                    --attribute &quot;version=${project.version}&quot;\n                    --attribute &quot;title-link=http://example.com[${project.name} ${project.version}]&quot;\n                &lt;/additionalparam&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I click 'Compile' in the Maven window, i get the following error:</p>\n<pre><code>Source option 5 is no longer supported. Use 6 or later.\nTarget option 1.5 is no longer supported. Use 1.6 or later.\n</code></pre>\n<p>And a warning that might not be a big deal:</p>\n<pre><code>File encoding has not been set, using platform encoding UTF-8, i.e. build is platform dependent!\n</code></pre>\n<p>Now, I don't know how to fix this issue, and I have looked for help but there is not that many resources/examples on how to do this. I'm also a bit confused on if I should still run <code>javadoc -d javadoc src/* -author -version -private</code>\nonce this plugin is working, or if I should run <code>asciidoctor --destination-dir=asciidoc src/*</code>.</p>\n<p>Running the asciidoctor command did seem to understand what I was passing in (Java files instead of .adoc files), but the syntax didn't render correctly, probably due to the plugin issue.</p>\n"},{"tags":["java","exception","annotations","try-catch"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1381866708,"post_id":19389808,"comment_id":28737976,"body_markdown":"Annotations don&#39;t add behavior on their own. They are metadata. You need to provide a parser for them that can add that behavior if it finds them.","body":"Annotations don&#39;t add behavior on their own. They are metadata. You need to provide a parser for them that can add that behavior if it finds them."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1381866903,"post_id":19389808,"comment_id":28738094,"body_markdown":"I&#39;d call it minor muckery; it can be handled trivially with AOP or some byte-code manipulation.","body":"I&#39;d call it minor muckery; it can be handled trivially with AOP or some byte-code manipulation."}],"answers":[{"tags":[],"owner":{"display_name":"user2511414"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1661964155,"creation_date":1381873101,"answer_id":19391583,"question_id":19389808,"body_markdown":"This should be a low-level process. That doesn&#39;t mean we cannot have the same thing with the current level, but it may need a bunch of code and would complicate the system a little.\r\nHowever my suggestion would be like this (I hope I got it correct), first define an interface for who wants to process exceptions, something like this:\r\n\r\n    interface ExceptionHandler{\r\n      void handleException(Throwable t);\r\n    }\r\nthen provide an annotation for the user (API) to mark that its methods may throw some exception.\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.ANNOTATION_TYPE)\r\n    @interface Catch{\r\n      public Class&lt;? extends ExceptionHandler&gt; targetCatchHandler();\r\n      public Class&lt;? extends Throwable&gt; targetException() default Exception.class;\r\n    }\r\n    \r\n    \r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target(ElementType.METHOD)\r\n    @interface CatchGroup{\r\n      public Catch[] catchers();\r\n    }\r\n\r\nNext we need an interface to start to call the method which may throw an exception, something like this:\r\n\r\n    interface Caller{\r\n      void callMethod()throws Throwable;\r\n    }\r\n\r\nThen you need a guy who manages the flow of the execution, and calls the possible exception handler.\r\n\r\n    class MethodCaller{\r\n      /*\r\n       * @param isntance: instance which implemented the Caller interface\r\n       */\r\n      public static void callMethod(Caller instance)\r\n          throws Exception {\r\n        Method m = instance.getClass().getMethod(&quot;callMethod&quot;);\r\n        Annotation as[] = m.getAnnotations();\r\n        Catch[] li = null;\r\n        for (Annotation a : as) {\r\n          if (a.annotationType().equals(CatchGroup.class)) {\r\n            li = ((CatchGroup) a).catchers();\r\n          }\r\n          // for(Catch cx:li){cx.targetException().getName();}\r\n        }\r\n        try {\r\n          instance.callMethod();\r\n        } catch (Throwable e) {\r\n          Class&lt;?&gt; ec = e.getClass();\r\n          if (li == null) {\r\n            return;\r\n          }\r\n          for (Catch cx : li) {\r\n            if (cx.targetException().equals(ec)) {\r\n              ExceptionHandler h = cx.targetCatchHandler().newInstance();\r\n              h.handleException(e);\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\nAnd finally, let&#39;s have an example. It works very well for me, it&#39;s cool.\r\nThe exception handler:\r\n\r\n    public class Bar implements ExceptionHandler{//the class who handles the exception\r\n      @Override\r\n      public void handleException(Throwable t) {\r\n        System.out.println(&quot;Ta Ta&quot;);\r\n        System.out.println(t.getMessage());\r\n      }\r\n    }\r\n\r\nand the method caller:\r\n\r\n    class Foo implements Caller{//the class who calls the method\r\n      @Override\r\n      @CatchGroup(catchers={ \r\n          @Catch(targetCatchHandler=Bar.class,targetException=ArithmeticException.class),\r\n          @Catch(targetCatchHandler=Bar.class,targetException=NullPointerException.class)})\r\n      public void callMethod()throws Throwable {\r\n        int a=0,b=10;\r\n        System.out.println(b/a);\r\n      }\r\n      public static void main(String[] args) throws Exception {\r\n        Foo foo=new Foo();\r\n        MethodCaller.callMethod(foo);\r\n      }\r\n    }\r\n\r\nAs you see, the user HAS TO call the methods by the `callMethod()` method. You would also omit the `Caller` interface, and use an annotation to declare more than one method in a class that needs a bunch of extra codez.\r\nI hope I was able to give you a hand.","title":"Using annotations for exception handling?","body":"<p>This should be a low-level process. That doesn't mean we cannot have the same thing with the current level, but it may need a bunch of code and would complicate the system a little.\nHowever my suggestion would be like this (I hope I got it correct), first define an interface for who wants to process exceptions, something like this:</p>\n<pre><code>interface ExceptionHandler{\n  void handleException(Throwable t);\n}\n</code></pre>\n<p>then provide an annotation for the user (API) to mark that its methods may throw some exception.</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.ANNOTATION_TYPE)\n@interface Catch{\n  public Class&lt;? extends ExceptionHandler&gt; targetCatchHandler();\n  public Class&lt;? extends Throwable&gt; targetException() default Exception.class;\n}\n\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.METHOD)\n@interface CatchGroup{\n  public Catch[] catchers();\n}\n</code></pre>\n<p>Next we need an interface to start to call the method which may throw an exception, something like this:</p>\n<pre><code>interface Caller{\n  void callMethod()throws Throwable;\n}\n</code></pre>\n<p>Then you need a guy who manages the flow of the execution, and calls the possible exception handler.</p>\n<pre><code>class MethodCaller{\n  /*\n   * @param isntance: instance which implemented the Caller interface\n   */\n  public static void callMethod(Caller instance)\n      throws Exception {\n    Method m = instance.getClass().getMethod(&quot;callMethod&quot;);\n    Annotation as[] = m.getAnnotations();\n    Catch[] li = null;\n    for (Annotation a : as) {\n      if (a.annotationType().equals(CatchGroup.class)) {\n        li = ((CatchGroup) a).catchers();\n      }\n      // for(Catch cx:li){cx.targetException().getName();}\n    }\n    try {\n      instance.callMethod();\n    } catch (Throwable e) {\n      Class&lt;?&gt; ec = e.getClass();\n      if (li == null) {\n        return;\n      }\n      for (Catch cx : li) {\n        if (cx.targetException().equals(ec)) {\n          ExceptionHandler h = cx.targetCatchHandler().newInstance();\n          h.handleException(e);\n          break;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>And finally, let's have an example. It works very well for me, it's cool.\nThe exception handler:</p>\n<pre><code>public class Bar implements ExceptionHandler{//the class who handles the exception\n  @Override\n  public void handleException(Throwable t) {\n    System.out.println(&quot;Ta Ta&quot;);\n    System.out.println(t.getMessage());\n  }\n}\n</code></pre>\n<p>and the method caller:</p>\n<pre><code>class Foo implements Caller{//the class who calls the method\n  @Override\n  @CatchGroup(catchers={ \n      @Catch(targetCatchHandler=Bar.class,targetException=ArithmeticException.class),\n      @Catch(targetCatchHandler=Bar.class,targetException=NullPointerException.class)})\n  public void callMethod()throws Throwable {\n    int a=0,b=10;\n    System.out.println(b/a);\n  }\n  public static void main(String[] args) throws Exception {\n    Foo foo=new Foo();\n    MethodCaller.callMethod(foo);\n  }\n}\n</code></pre>\n<p>As you see, the user HAS TO call the methods by the <code>callMethod()</code> method. You would also omit the <code>Caller</code> interface, and use an annotation to declare more than one method in a class that needs a bunch of extra codez.\nI hope I was able to give you a hand.</p>\n"},{"tags":[],"owner":{"account_id":1002968,"reputation":2073,"user_id":1017413,"accept_rate":16,"display_name":"user1017413"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1383082378,"creation_date":1383082378,"answer_id":19669605,"question_id":19389808,"body_markdown":"Thanks for the help, all. I looked into Spring AOP, but ultimately decided against it. I wound up using try/catch blocks, but creating a handler that is injected into each class and wrapping any thrown exceptions in my own exception class, then passing that to the handler in a single line. It&#39;s a bit similar to the suggestion by user2511414 in that there&#39;s a dedicated handler, but I gave up on annotations. I have a good number of try/catch blocks, but at least I&#39;ve kept the majority of the handling logic out. A quick rundown of my solution in case other folks find this, which is a bit obfuscated, but you can still get the point:\r\n\r\n    public enum DoThisEnum {\r\n        DO_THIS,\r\n        DO_THAT,\r\n        DO_OTHER_THING;\r\n    }\r\n    \r\n    public class MyException extends Exception {\r\n    \r\n        private DoThisEnum doThis;\r\n        private MyObject dataObj;\r\n    \r\n        //Constructor, overloaded to run super(originalException) or super() \r\n        //as well as taking doThis and dataObj as parameters\r\n        //Getters, setters, etc\r\n    }\r\n    \r\n    public interface IExceptionHandler {\r\n    \r\n        void handleException(MyException exception);\r\n    \r\n    }\r\n\r\nThen implement the IExceptionHandler with a concrete class that takes MyException, reads out the additional data, and performs actions based on it. Then each block that might throw such an exception can be caught like so:\r\n\r\n    ...\r\n    try {\r\n        doSomething(Object data);\r\n    } catch (SomeException e) {\r\n        handler.handleException(new MyException(e, DoThisEnum.DO_THAT, data));\r\n        //Anything else to do, maybe return or return null, rethrow, etc.\r\n    }\r\n\r\nNow most of the nitty-gritty is encapsulated in the handler and the try/catch blocks are minimal. The handler can log the stack trace of the original exception, maybe do other things based on it, and then perform your own actions based on the enum. Maybe it isn&#39;t the perfect solution, but it works well enough here.","title":"Using annotations for exception handling?","body":"<p>Thanks for the help, all. I looked into Spring AOP, but ultimately decided against it. I wound up using try/catch blocks, but creating a handler that is injected into each class and wrapping any thrown exceptions in my own exception class, then passing that to the handler in a single line. It's a bit similar to the suggestion by user2511414 in that there's a dedicated handler, but I gave up on annotations. I have a good number of try/catch blocks, but at least I've kept the majority of the handling logic out. A quick rundown of my solution in case other folks find this, which is a bit obfuscated, but you can still get the point:</p>\n\n<pre><code>public enum DoThisEnum {\n    DO_THIS,\n    DO_THAT,\n    DO_OTHER_THING;\n}\n\npublic class MyException extends Exception {\n\n    private DoThisEnum doThis;\n    private MyObject dataObj;\n\n    //Constructor, overloaded to run super(originalException) or super() \n    //as well as taking doThis and dataObj as parameters\n    //Getters, setters, etc\n}\n\npublic interface IExceptionHandler {\n\n    void handleException(MyException exception);\n\n}\n</code></pre>\n\n<p>Then implement the IExceptionHandler with a concrete class that takes MyException, reads out the additional data, and performs actions based on it. Then each block that might throw such an exception can be caught like so:</p>\n\n<pre><code>...\ntry {\n    doSomething(Object data);\n} catch (SomeException e) {\n    handler.handleException(new MyException(e, DoThisEnum.DO_THAT, data));\n    //Anything else to do, maybe return or return null, rethrow, etc.\n}\n</code></pre>\n\n<p>Now most of the nitty-gritty is encapsulated in the handler and the try/catch blocks are minimal. The handler can log the stack trace of the original exception, maybe do other things based on it, and then perform your own actions based on the enum. Maybe it isn't the perfect solution, but it works well enough here.</p>\n"}],"owner":{"account_id":1002968,"reputation":2073,"user_id":1017413,"accept_rate":16,"display_name":"user1017413"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30710,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":19391583,"answer_count":2,"score":19,"last_activity_date":1661964155,"creation_date":1381866621,"question_id":19389808,"body_markdown":"Let&#39;s say I have a method that throws an Exception of some kind. The exception-throwing code lies in a third-party library that access an external service. I have a few classes that do a good deal of work with external services and there is a LOT of exception handling throughout to deal with potential problems. The issue I&#39;m hitting is that I may have a lot of exceptions, but I may only need to perform one of a few actions if there is one, and there are a ton of try/catch blocks peppered about. The type of exception may not even be relevant, or different methods may throw the same type of exception, but different actions need to be taken depending on the method throwing it.\r\n\r\nWhat I&#39;m looking for is an annotation that can supplant try/catch and simply dictate the behavior to be taken when there is an exception in that method. I know that Spring ApsectJ can do this sort of thing, but I&#39;m not currently able to easily add any new dependencies or modify the pom to adjust existing ones. As such, I&#39;m hoping that this can be accomplished with a custom annotation. For example:\r\n\r\n    @Catcher(action=SomeEnum.SOME_ACTION)\r\n    public void doSomething(ServiceObj obj) throws SomeException {\r\n        ExternalService.makeThingsHappen(obj);\r\n    }\r\n\r\nI would presume that a separate class would handle exceptions, of course. An additional difficulty is that I would need the ServiceObj that is passed as well. If makeThingsHappen() fails, I may need obj to perform additional actions. The action variable will tell the handler class what to do with obj.\r\n\r\nCan this be done without severe muckery, or am I hoping for something that may not exist?\r\n","title":"Using annotations for exception handling?","body":"<p>Let's say I have a method that throws an Exception of some kind. The exception-throwing code lies in a third-party library that access an external service. I have a few classes that do a good deal of work with external services and there is a LOT of exception handling throughout to deal with potential problems. The issue I'm hitting is that I may have a lot of exceptions, but I may only need to perform one of a few actions if there is one, and there are a ton of try/catch blocks peppered about. The type of exception may not even be relevant, or different methods may throw the same type of exception, but different actions need to be taken depending on the method throwing it.</p>\n\n<p>What I'm looking for is an annotation that can supplant try/catch and simply dictate the behavior to be taken when there is an exception in that method. I know that Spring ApsectJ can do this sort of thing, but I'm not currently able to easily add any new dependencies or modify the pom to adjust existing ones. As such, I'm hoping that this can be accomplished with a custom annotation. For example:</p>\n\n<pre><code>@Catcher(action=SomeEnum.SOME_ACTION)\npublic void doSomething(ServiceObj obj) throws SomeException {\n    ExternalService.makeThingsHappen(obj);\n}\n</code></pre>\n\n<p>I would presume that a separate class would handle exceptions, of course. An additional difficulty is that I would need the ServiceObj that is passed as well. If makeThingsHappen() fails, I may need obj to perform additional actions. The action variable will tell the handler class what to do with obj.</p>\n\n<p>Can this be done without severe muckery, or am I hoping for something that may not exist?</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":1759579,"reputation":6837,"user_id":1607051,"accept_rate":100,"display_name":"lulyon"},"score":0,"creation_date":1465568127,"post_id":37750413,"comment_id":62970524,"body_markdown":"do not have the privilege to access the webapp sources directory?","body":"do not have the privilege to access the webapp sources directory?"},{"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"score":0,"creation_date":1465568181,"post_id":37750413,"comment_id":62970569,"body_markdown":"Yes, to each file.","body":"Yes, to each file."},{"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"score":0,"creation_date":1465570242,"post_id":37750413,"comment_id":62972002,"body_markdown":"@lulyon how to check this privileges  ?","body":"@lulyon how to check this privileges  ?"},{"owner":{"account_id":1759579,"reputation":6837,"user_id":1607051,"accept_rate":100,"display_name":"lulyon"},"score":0,"creation_date":1465571009,"post_id":37750413,"comment_id":62972528,"body_markdown":"it appears that you are on windows, so I recommend windows cmd as the below answer suggests. Open for more discussion.","body":"it appears that you are on windows, so I recommend windows cmd as the below answer suggests. Open for more discussion."},{"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"score":0,"creation_date":1465571622,"post_id":37750413,"comment_id":62972936,"body_markdown":"I check with this command and each person have (0I)(CI)F privileges. @lulyon","body":"I check with this command and each person have (0I)(CI)F privileges. @lulyon"},{"owner":{"account_id":1759579,"reputation":6837,"user_id":1607051,"accept_rate":100,"display_name":"lulyon"},"score":0,"creation_date":1465571883,"post_id":37750413,"comment_id":62973092,"body_markdown":"yes, so is the example suggests. I&#39;ll add example that grant privileges to supposed user later.","body":"yes, so is the example suggests. I&#39;ll add example that grant privileges to supposed user later."},{"owner":{"account_id":1759579,"reputation":6837,"user_id":1607051,"accept_rate":100,"display_name":"lulyon"},"score":0,"creation_date":1465572505,"post_id":37750413,"comment_id":62973470,"body_markdown":"I mislead in the above comment. the example has grant privilege for the supposed user.","body":"I mislead in the above comment. the example has grant privilege for the supposed user."},{"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"score":0,"creation_date":1465573453,"post_id":37750413,"comment_id":62974019,"body_markdown":"I solve this problem, @lulyon. I  create Ext files on other jar file, but i did not notice that this jar required another source files, when maven clean files he misses deleting missing files but maven can&#39;t miss copy files to build new war,  so there was my mistake. Thank you for your time and help :)","body":"I solve this problem, @lulyon. I  create Ext files on other jar file, but i did not notice that this jar required another source files, when maven clean files he misses deleting missing files but maven can&#39;t miss copy files to build new war,  so there was my mistake. Thank you for your time and help :)"}],"answers":[{"tags":[],"owner":{"account_id":1759579,"reputation":6837,"user_id":1607051,"accept_rate":100,"display_name":"lulyon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1465570888,"creation_date":1465570888,"answer_id":37751461,"question_id":37750413,"body_markdown":"**[Cacls][1]** command under Windows cmd, might solve your problem.\r\n\r\n&gt; Cacls D:\\desktop /G user:F : acquire privilege\r\n\r\nFor more example: [cacls-command-examples][2].\r\n\r\n\r\n  [1]: https://technet.microsoft.com/zh-cn/library/bb490872.aspx\r\n  [2]: http://www.windows-commandline.com/cacls-command-examples/","title":"Maven - Could not copy webapp sources","body":"<p><strong><a href=\"https://technet.microsoft.com/zh-cn/library/bb490872.aspx\" rel=\"nofollow\">Cacls</a></strong> command under Windows cmd, might solve your problem.</p>\n\n<blockquote>\n  <p>Cacls D:\\desktop /G user:F : acquire privilege</p>\n</blockquote>\n\n<p>For more example: <a href=\"http://www.windows-commandline.com/cacls-command-examples/\" rel=\"nofollow\">cacls-command-examples</a>.</p>\n"},{"tags":[],"owner":{"account_id":1810487,"reputation":31,"user_id":1646667,"display_name":"user1646667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581069983,"creation_date":1581069983,"answer_id":60111205,"question_id":37750413,"body_markdown":"I had this problem too, and in my case it had nothing to do with ACL. One of the files was marked as read only and maven refused to overwrite it.","title":"Maven - Could not copy webapp sources","body":"<p>I had this problem too, and in my case it had nothing to do with ACL. One of the files was marked as read only and maven refused to overwrite it.</p>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647153726,"creation_date":1647153726,"answer_id":71454449,"question_id":37750413,"body_markdown":"I used invalidated cache/Restart from IntelliJ IDEA and it worked.","title":"Maven - Could not copy webapp sources","body":"<p>I used invalidated cache/Restart from IntelliJ IDEA and it worked.</p>\n"}],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4046,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":37751461,"answer_count":3,"score":1,"last_activity_date":1661963659,"creation_date":1465567816,"question_id":37750413,"body_markdown":"I have problem with maven:\r\n\r\nmy error:\r\n\r\n \r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project :\r\n         Could not copy webapp sources [C:\\Users\\...]: C:\\Users\\... access denied-&gt; [Help 1]\r\n            [ERROR] \r\nI got this error all the time. Earlier I restarted eclipse and everything was OK, but now it doesn&#39;t work. How to fix it? \r\n\r\nEDIT:\r\nI did nothing and now maven clean and build works correctly. Is it possible that some threads create that error  ?","title":"Maven - Could not copy webapp sources","body":"<p>I have problem with maven:</p>\n\n<p>my error:</p>\n\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-war-plugin:2.2:war (default-war) on project :\n     Could not copy webapp sources [C:\\Users\\...]: C:\\Users\\... access denied-&gt; [Help 1]\n        [ERROR] \n</code></pre>\n\n<p>I got this error all the time. Earlier I restarted eclipse and everything was OK, but now it doesn't work. How to fix it? </p>\n\n<p>EDIT:\nI did nothing and now maven clean and build works correctly. Is it possible that some threads create that error  ?</p>\n"},{"tags":["java","asynchronous","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":14879486,"reputation":964,"user_id":10744614,"display_name":"Radovan Synek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661963651,"creation_date":1661963651,"answer_id":73559151,"question_id":73557560,"body_markdown":"The `SolverManager.terminateEarly()` does not provide any guarantees regarding when the consumption of the final best solution happens.\r\n\r\nWhen the `Solver` terminates, either by the configured termination or early, the last known best solution is passed to the final best solution consumer.\r\n\r\nThe consumer (both the intermediate and the final one) runs in a dedicated thread and there is truly no synchronization between this thread and the `SolverManager.terminateEarly()`.\r\n\r\nConsuming the best solution can be a long-running operation, outside of the control of the `Solver`. If `terminateEarly()` waited for the consumption to finish, it may lead, for instance, to HTTP request timeouts in the caller thread.\r\n\r\nIf you want to wait for the final best solution, you can synchronize inside the final best solution consumer, which works for both the normal and early termination.\r\n\r\nThe Javadoc should explain this clearly, though.","title":"OptaPlanner: SolverManager::solveAndListen synchronization/locking bug?","body":"<p>The <code>SolverManager.terminateEarly()</code> does not provide any guarantees regarding when the consumption of the final best solution happens.</p>\n<p>When the <code>Solver</code> terminates, either by the configured termination or early, the last known best solution is passed to the final best solution consumer.</p>\n<p>The consumer (both the intermediate and the final one) runs in a dedicated thread and there is truly no synchronization between this thread and the <code>SolverManager.terminateEarly()</code>.</p>\n<p>Consuming the best solution can be a long-running operation, outside of the control of the <code>Solver</code>. If <code>terminateEarly()</code> waited for the consumption to finish, it may lead, for instance, to HTTP request timeouts in the caller thread.</p>\n<p>If you want to wait for the final best solution, you can synchronize inside the final best solution consumer, which works for both the normal and early termination.</p>\n<p>The Javadoc should explain this clearly, though.</p>\n"}],"owner":{"account_id":17000188,"reputation":121,"user_id":12297765,"display_name":"Ryan Moser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73559151,"answer_count":1,"score":0,"last_activity_date":1661963651,"creation_date":1661956399,"question_id":73557560,"body_markdown":"OptaPlanner v8.22.1.Final\r\n\r\n`TL;DR`: the default `SolverListener` implementation, `DefaultSolverListener`, doesn&#39;t sync. properly for the `Consumer&lt;? super Solution_&gt; finalBestSolutionConsumer`... or I&#39;m misunderstanding the purpose of this `Consumer`.\r\n\r\nIs this the intended behavior?\r\n\r\n\r\nThe details:\r\n\r\nI&#39;ve found recently some of my tests logging warnings about the last-current-best solution not matching the final-best solution.\r\n\r\nThe cause is `terminateEarly` not waiting for the final-best solution `Consumer` thread to finish.\r\n\r\nThis isn&#39;t a huge problem, because the last-current-best solution is available through the intermediate solutions, but it doesn&#39;t seem right that final-best isn&#39;t being saved.\r\n\r\nI have the following call that starts the optimization:\r\n\r\n```java\r\nthis.getSolverManager()\r\n    .solveAndListen(solutionID,\r\n                    this::findCurrentBest,\r\n                    this::saveCurrentBest,\r\n                    this::saveFinalBest,\r\n                    this::handleException);\r\n```\r\n\r\n`saveFinalBest` is this, so it&#39;s not like it&#39;s an expensive call:\r\n```java\r\nthis.finalBestConsumer.accept(finalBest); // does nothing by default\r\nthis.finalBestSolutionsMap.put(finalBest.getId(), finalBest);\r\n```\r\n\r\nAnd we complain:\r\n\r\n```java\r\n// logging\r\nthis.getSolverManager().terminateEarly(solutionID);\r\n// logging\r\n\r\nfinal var finalBest = this.findFinalBest(solutionID);\r\nfinal var crrntBest = this.findCurrentBest(solutionID);\r\nfinal var best = ObjectUtils.max(finalBest, crrntBest);\r\n\r\nif (!Objects.equals(finalBest, crrntBest)) {\r\n    // complain\r\n}\r\n\r\nreturn best;\r\n```\r\n\r\nWhat I&#39;m finding is that `terminateEarly` returns and we do `findFinalBest` before the final-best is saved.\r\n\r\nSo, am I misunderstanding?  Is this a bug?","title":"OptaPlanner: SolverManager::solveAndListen synchronization/locking bug?","body":"<p>OptaPlanner v8.22.1.Final</p>\n<p><code>TL;DR</code>: the default <code>SolverListener</code> implementation, <code>DefaultSolverListener</code>, doesn't sync. properly for the <code>Consumer&lt;? super Solution_&gt; finalBestSolutionConsumer</code>... or I'm misunderstanding the purpose of this <code>Consumer</code>.</p>\n<p>Is this the intended behavior?</p>\n<p>The details:</p>\n<p>I've found recently some of my tests logging warnings about the last-current-best solution not matching the final-best solution.</p>\n<p>The cause is <code>terminateEarly</code> not waiting for the final-best solution <code>Consumer</code> thread to finish.</p>\n<p>This isn't a huge problem, because the last-current-best solution is available through the intermediate solutions, but it doesn't seem right that final-best isn't being saved.</p>\n<p>I have the following call that starts the optimization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.getSolverManager()\n    .solveAndListen(solutionID,\n                    this::findCurrentBest,\n                    this::saveCurrentBest,\n                    this::saveFinalBest,\n                    this::handleException);\n</code></pre>\n<p><code>saveFinalBest</code> is this, so it's not like it's an expensive call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.finalBestConsumer.accept(finalBest); // does nothing by default\nthis.finalBestSolutionsMap.put(finalBest.getId(), finalBest);\n</code></pre>\n<p>And we complain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// logging\nthis.getSolverManager().terminateEarly(solutionID);\n// logging\n\nfinal var finalBest = this.findFinalBest(solutionID);\nfinal var crrntBest = this.findCurrentBest(solutionID);\nfinal var best = ObjectUtils.max(finalBest, crrntBest);\n\nif (!Objects.equals(finalBest, crrntBest)) {\n    // complain\n}\n\nreturn best;\n</code></pre>\n<p>What I'm finding is that <code>terminateEarly</code> returns and we do <code>findFinalBest</code> before the final-best is saved.</p>\n<p>So, am I misunderstanding?  Is this a bug?</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661963623,"creation_date":1661963623,"answer_id":73559148,"question_id":73558397,"body_markdown":"You can rewrite your method to add every new `QueryBuilder` not in a `List`, but in a [`BoolQueryBuilder`][1] by using its [`must(QueryBuilder queryBuilder)`][2] method:\r\n\r\n```java\r\nBoolQueryBuilder boolQueryBuilder = new BoolQueryBuilder();\r\n\r\nif (phrase != null) {\r\n    QueryBuilder byPhrase = QueryBuilders.multiMatchQuery(phrase, &quot;position&quot;, &quot;description&quot;);\r\n    boolQueryBuilder.must(byPhrase);\r\n}\r\n// adding other builders\r\n\r\n```\r\n`BoolQueryBuilder` also implements `QueryBuilder` interface, so then you can do this:\r\n\r\n```java\r\nQuery query = new NativeSearchQueryBuilder().withQuery(boolQueryBuilder).build();\r\n```\r\n\r\nNote, that `must()` method means that passed query must appear in the matching documents and **will** *contribute to scoring*. If you don&#39;t want to affect scoring, try [`filter(QueryBuilder queryBuilder)`][3], which does the same, but passed query **will not** *contribute to scoring*.\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/latest/org.elasticsearch.server/org/elasticsearch/index/query/BoolQueryBuilder.html\r\n  [2]: https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/latest/org.elasticsearch.server/org/elasticsearch/index/query/BoolQueryBuilder.html#must(org.elasticsearch.index.query.QueryBuilder)\r\n  [3]: https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/latest/org.elasticsearch.server/org/elasticsearch/index/query/BoolQueryBuilder.html#filter(org.elasticsearch.index.query.QueryBuilder)","title":"How to build a query using NativeSearchQueryBuilder from List of QueryBuilder in Spring boot?","body":"<p>You can rewrite your method to add every new <code>QueryBuilder</code> not in a <code>List</code>, but in a <a href=\"https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/latest/org.elasticsearch.server/org/elasticsearch/index/query/BoolQueryBuilder.html\" rel=\"nofollow noreferrer\"><code>BoolQueryBuilder</code></a> by using its <a href=\"https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/latest/org.elasticsearch.server/org/elasticsearch/index/query/BoolQueryBuilder.html#must(org.elasticsearch.index.query.QueryBuilder)\" rel=\"nofollow noreferrer\"><code>must(QueryBuilder queryBuilder)</code></a> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BoolQueryBuilder boolQueryBuilder = new BoolQueryBuilder();\n\nif (phrase != null) {\n    QueryBuilder byPhrase = QueryBuilders.multiMatchQuery(phrase, &quot;position&quot;, &quot;description&quot;);\n    boolQueryBuilder.must(byPhrase);\n}\n// adding other builders\n\n</code></pre>\n<p><code>BoolQueryBuilder</code> also implements <code>QueryBuilder</code> interface, so then you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new NativeSearchQueryBuilder().withQuery(boolQueryBuilder).build();\n</code></pre>\n<p>Note, that <code>must()</code> method means that passed query must appear in the matching documents and <strong>will</strong> <em>contribute to scoring</em>. If you don't want to affect scoring, try <a href=\"https://www.javadoc.io/doc/org.elasticsearch/elasticsearch/latest/org.elasticsearch.server/org/elasticsearch/index/query/BoolQueryBuilder.html#filter(org.elasticsearch.index.query.QueryBuilder)\" rel=\"nofollow noreferrer\"><code>filter(QueryBuilder queryBuilder)</code></a>, which does the same, but passed query <strong>will not</strong> <em>contribute to scoring</em>.</p>\n"}],"owner":{"account_id":25887644,"reputation":21,"user_id":19615480,"display_name":"Rajesh Basnet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661963623,"creation_date":1661960112,"question_id":73558397,"body_markdown":"I have added a list of QueryBuilders if certain properties are matched. Now, I want to search using these list.\r\n\r\n```lang-java\r\n    @Override\r\n    public List&lt;com.example.jobcandidatemanagement.documents.Job&gt; searchJobs(String phrase, LocalDate startDate, LocalDate endDate, double offeredSalary, Availability availability) {\r\n\r\n        List&lt;QueryBuilder&gt; searchQueries = new ArrayList&lt;&gt;();\r\n\r\n        if (phrase != null) {\r\n            QueryBuilder byPhrase = QueryBuilders.multiMatchQuery(phrase, &quot;position&quot;, &quot;description&quot;);\r\n            searchQueries.add(byPhrase);\r\n        }\r\n\r\n        if (startDate != null &amp;&amp; endDate != null) {\r\n            QueryBuilder byStartDate = QueryBuilders.rangeQuery(&quot;startDate&quot;).gt(JsonData.of(startDate));\r\n            QueryBuilder byEndDate = QueryBuilders.rangeQuery(&quot;endDate&quot;).lt(JsonData.of(endDate));\r\n            searchQueries.add(byStartDate);\r\n            searchQueries.add(byEndDate);\r\n        }\r\n\r\n        if (offeredSalary &gt;= 0) {\r\n            QueryBuilder byOfferedSalary = QueryBuilders.rangeQuery(&quot;offeredSalary&quot;).lte(offeredSalary);\r\n            searchQueries.add(byOfferedSalary);\r\n        }\r\n\r\n        if (availability != null) {\r\n            QueryBuilder byAvailability = QueryBuilders.matchQuery(&quot;availability&quot;, availability);\r\n            searchQueries.add(byAvailability);\r\n        }\r\n\r\n    }\r\n```\r\nI want to create a query using these all above queryBuilder. Something like this :\r\n\r\n```lang-java\r\nQuery query = new NativeSearchQueryBuilder().withQuery(byPhrase)\r\n                                            .withQuery(byStartDate)\r\n                                            .withQuery(byEndDate)\r\n                                            .withQuery(byOfferedSalary)\r\n                                            .withQuery(byAvailability)\r\n                                            .build();\r\n````\r\n","title":"How to build a query using NativeSearchQueryBuilder from List of QueryBuilder in Spring boot?","body":"<p>I have added a list of QueryBuilders if certain properties are matched. Now, I want to search using these list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    public List&lt;com.example.jobcandidatemanagement.documents.Job&gt; searchJobs(String phrase, LocalDate startDate, LocalDate endDate, double offeredSalary, Availability availability) {\n\n        List&lt;QueryBuilder&gt; searchQueries = new ArrayList&lt;&gt;();\n\n        if (phrase != null) {\n            QueryBuilder byPhrase = QueryBuilders.multiMatchQuery(phrase, &quot;position&quot;, &quot;description&quot;);\n            searchQueries.add(byPhrase);\n        }\n\n        if (startDate != null &amp;&amp; endDate != null) {\n            QueryBuilder byStartDate = QueryBuilders.rangeQuery(&quot;startDate&quot;).gt(JsonData.of(startDate));\n            QueryBuilder byEndDate = QueryBuilders.rangeQuery(&quot;endDate&quot;).lt(JsonData.of(endDate));\n            searchQueries.add(byStartDate);\n            searchQueries.add(byEndDate);\n        }\n\n        if (offeredSalary &gt;= 0) {\n            QueryBuilder byOfferedSalary = QueryBuilders.rangeQuery(&quot;offeredSalary&quot;).lte(offeredSalary);\n            searchQueries.add(byOfferedSalary);\n        }\n\n        if (availability != null) {\n            QueryBuilder byAvailability = QueryBuilders.matchQuery(&quot;availability&quot;, availability);\n            searchQueries.add(byAvailability);\n        }\n\n    }\n</code></pre>\n<p>I want to create a query using these all above queryBuilder. Something like this :</p>\n<pre class=\"lang-java prettyprint-override\"><code>Query query = new NativeSearchQueryBuilder().withQuery(byPhrase)\n                                            .withQuery(byStartDate)\n                                            .withQuery(byEndDate)\n                                            .withQuery(byOfferedSalary)\n                                            .withQuery(byAvailability)\n                                            .build();\n</code></pre>\n"},{"tags":["java","email","sendgrid","mailgun"],"answers":[{"tags":[],"owner":{"account_id":1787044,"reputation":2205,"user_id":1628299,"display_name":"jacobmovingfwd"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484687304,"creation_date":1484687304,"answer_id":41707010,"question_id":41511175,"body_markdown":"You might want to look at a more full-featured inbound parser, such as [Mailparser.io](https://mailparser.io/) \r\nI&#39;m not familiar with Mailgun&#39;s implementation, but SendGrid&#39;s Parse implementation is very basic. It should be sending the OOO responses to your endpoint, assuming it&#39;s configured properly, but it has no logic to parse the body, so you&#39;d have to be doing that yourself.","title":"How to capture OOO (out of office) emails using inbound parsing?","body":"<p>You might want to look at a more full-featured inbound parser, such as <a href=\"https://mailparser.io/\" rel=\"nofollow noreferrer\">Mailparser.io</a> \nI'm not familiar with Mailgun's implementation, but SendGrid's Parse implementation is very basic. It should be sending the OOO responses to your endpoint, assuming it's configured properly, but it has no logic to parse the body, so you'd have to be doing that yourself.</p>\n"}],"owner":{"account_id":9982728,"reputation":11,"user_id":7385084,"display_name":"Daniel Viveiros"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1192,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661963499,"creation_date":1483724283,"question_id":41511175,"body_markdown":"My application sends emails to a list of contacts and I would like to capture the OOO (out-of-office) emails to automatically detect who is on vacations and (hopefully) discover, based on the message, when he/she is coming back. I&#39;m trying to use the inbound parsing feature from Sendgrid and Mailgun to do that.\r\n\r\nBoth have the same behavior: they work fine when I manually send an email but they ignore the auto-response OOO messages for some reason. Does anyone have a clue of what is happening?\r\n\r\nIn both cases, I&#39;m using the java library. Here are the code snippets:\r\n\r\nMailgun:\r\n\r\n    @Test\r\n    public void shouldSendEmailUsingMailgun() throws Exception {\r\n        Configuration configuration = new Configuration()\r\n                .domain(&quot;&lt;my_domain&gt;&quot;)\r\n                .apiKey(&quot;&lt;my_api_key&gt;&quot;)\r\n                .from(&quot;&lt;from&gt;&quot;, &quot;no-reply@subdomain.domain.com&quot;);\r\n\r\n        Mail.using(configuration)\r\n                .to(&quot;john@subdomain.domain.com&quot;)\r\n                .subject(&quot;Mailgun testing OOO with reply-to&quot;)\r\n                .text(&quot;Hello, from Mailgun&quot;)\r\n                .replyTo(&quot;ooo@smartcanvas.com&quot;)\r\n                .build()\r\n                .send();\r\n\r\n    }\r\n\r\nSendgrid\r\n\r\n        Email from = new Email(&quot;no-reply@subdomain.domain.com&quot;);\r\n        String subject = &quot;This is a test announcement from ooo detection&quot;;\r\n        Email to = new Email(&quot;&lt;recipient&gt;&quot;);\r\n        Content content = new Content(&quot;text/plain&quot;, &quot;Hello, Email!&quot;);\r\n        Mail mail = new Mail(from, subject, to, content);\r\n        Email replyTo = new Email(&quot;no-reply@subdomain.domain.com&quot;);\r\n        mail.setReplyTo(replyTo);\r\n\r\n\r\n        SendGrid sg = new SendGrid(&quot;&lt;api_key&gt;&quot;);\r\n        Request request = new Request();\r\n\r\n        try {\r\n            request.method = Method.POST;\r\n            request.endpoint = &quot;mail/send&quot;;\r\n            request.body = mail.build();\r\n            Response response = sg.api(request);\r\n            System.out.println(response.statusCode);\r\n            System.out.println(response.body);\r\n            System.out.println(response.headers);\r\n        } catch (IOException ex) {\r\n            throw ex;\r\n        }\r\n\r\nThanks!","title":"How to capture OOO (out of office) emails using inbound parsing?","body":"<p>My application sends emails to a list of contacts and I would like to capture the OOO (out-of-office) emails to automatically detect who is on vacations and (hopefully) discover, based on the message, when he/she is coming back. I'm trying to use the inbound parsing feature from Sendgrid and Mailgun to do that.</p>\n\n<p>Both have the same behavior: they work fine when I manually send an email but they ignore the auto-response OOO messages for some reason. Does anyone have a clue of what is happening?</p>\n\n<p>In both cases, I'm using the java library. Here are the code snippets:</p>\n\n<p>Mailgun:</p>\n\n<pre><code>@Test\npublic void shouldSendEmailUsingMailgun() throws Exception {\n    Configuration configuration = new Configuration()\n            .domain(\"&lt;my_domain&gt;\")\n            .apiKey(\"&lt;my_api_key&gt;\")\n            .from(\"&lt;from&gt;\", \"no-reply@subdomain.domain.com\");\n\n    Mail.using(configuration)\n            .to(\"john@subdomain.domain.com\")\n            .subject(\"Mailgun testing OOO with reply-to\")\n            .text(\"Hello, from Mailgun\")\n            .replyTo(\"ooo@smartcanvas.com\")\n            .build()\n            .send();\n\n}\n</code></pre>\n\n<p>Sendgrid</p>\n\n<pre><code>    Email from = new Email(\"no-reply@subdomain.domain.com\");\n    String subject = \"This is a test announcement from ooo detection\";\n    Email to = new Email(\"&lt;recipient&gt;\");\n    Content content = new Content(\"text/plain\", \"Hello, Email!\");\n    Mail mail = new Mail(from, subject, to, content);\n    Email replyTo = new Email(\"no-reply@subdomain.domain.com\");\n    mail.setReplyTo(replyTo);\n\n\n    SendGrid sg = new SendGrid(\"&lt;api_key&gt;\");\n    Request request = new Request();\n\n    try {\n        request.method = Method.POST;\n        request.endpoint = \"mail/send\";\n        request.body = mail.build();\n        Response response = sg.api(request);\n        System.out.println(response.statusCode);\n        System.out.println(response.body);\n        System.out.println(response.headers);\n    } catch (IOException ex) {\n        throw ex;\n    }\n</code></pre>\n\n<p>Thanks!</p>\n"},{"tags":["java","maven","intellij-idea","shared-libraries"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1661963675,"post_id":73559047,"comment_id":129898283,"body_markdown":"Just use Maven for your projects, all the libraries will be stored in .m2 directory and shared between all your projects.","body":"Just use Maven for your projects, all the libraries will be stored in .m2 directory and shared between all your projects."},{"owner":{"account_id":26029994,"reputation":1,"user_id":19736374,"display_name":"wolf23"},"score":0,"creation_date":1661965331,"post_id":73559047,"comment_id":129898874,"body_markdown":"@CrazyCoder thanks for the tip! the reason why I want it that way is whenever someone downloads those projects, they can easily access those libraries by just importing that directory that stores those libraries.","body":"@CrazyCoder thanks for the tip! the reason why I want it that way is whenever someone downloads those projects, they can easily access those libraries by just importing that directory that stores those libraries."},{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1661965379,"post_id":73559047,"comment_id":129898890,"body_markdown":"Maven will download the libraries for them automatically.","body":"Maven will download the libraries for them automatically."}],"owner":{"account_id":26029994,"reputation":1,"user_id":19736374,"display_name":"wolf23"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661963250,"creation_date":1661963097,"question_id":73559047,"body_markdown":"I have few different Java projects that uses the same libraries from Maven Repo, I have to manually download each library for each project. Is there a way that I can create a single directory and have all the XML library they depend on stored in the parent directory, so whenever I open a project, I can just go to Project Structure -&gt; Libraries and import that directory? I&#39;m using IntelliJ for these projects. Any help would be appreciated.","title":"How to create a shared library directory for multiple Java samples","body":"<p>I have few different Java projects that uses the same libraries from Maven Repo, I have to manually download each library for each project. Is there a way that I can create a single directory and have all the XML library they depend on stored in the parent directory, so whenever I open a project, I can just go to Project Structure -&gt; Libraries and import that directory? I'm using IntelliJ for these projects. Any help would be appreciated.</p>\n"},{"tags":["java","android","xml","bottomnavigationview"],"comments":[{"owner":{"account_id":14918068,"reputation":462,"user_id":10771260,"display_name":"Black mamba"},"score":1,"creation_date":1566825818,"post_id":57658560,"comment_id":101767002,"body_markdown":"you want only favorite should tint #ff444 ?","body":"you want only favorite should tint #ff444 ?"},{"owner":{"account_id":1531390,"reputation":871,"user_id":1428514,"display_name":"Jule"},"score":1,"creation_date":1566826221,"post_id":57658560,"comment_id":101767249,"body_markdown":"`com.google.android.material.bottomnavigation.BottomNavigationView` is the up-to-date version from the age of androidx; `android.support.design.widget.BottomNavigationView` is the older support-library version. Might be that the functionality you want is still not provided by the google version of BottomNavigation; in which case you could go with a different implementation (e.g. https://github.com/aurelhubert/ahbottomnavigation - although that&#39;s just an example, there are others. Been using this one for a while now).","body":"<code>com.google.android.material.bottomnavigation.BottomNavigatio&zwnj;&#8203;nView</code> is the up-to-date version from the age of androidx; <code>android.support.design.widget.BottomNavigationView</code> is the older support-library version. Might be that the functionality you want is still not provided by the google version of BottomNavigation; in which case you could go with a different implementation (e.g. <a href=\"https://github.com/aurelhubert/ahbottomnavigation\" rel=\"nofollow noreferrer\">github.com/aurelhubert/ahbottomnavigation</a> - although that&#39;s just an example, there are others. Been using this one for a while now)."},{"owner":{"account_id":16364048,"reputation":1204,"user_id":11818952,"display_name":"SowingFiber"},"score":0,"creation_date":1566826824,"post_id":57658560,"comment_id":101767579,"body_markdown":"@Blackmamba yes.","body":"@Blackmamba yes."},{"owner":{"account_id":14918068,"reputation":462,"user_id":10771260,"display_name":"Black mamba"},"score":0,"creation_date":1566827467,"post_id":57658560,"comment_id":101767900,"body_markdown":"what you have done for for tint on single selection of favorite button ? @SowingFiber","body":"what you have done for for tint on single selection of favorite button ? @SowingFiber"},{"owner":{"account_id":16364048,"reputation":1204,"user_id":11818952,"display_name":"SowingFiber"},"score":0,"creation_date":1566828775,"post_id":57658560,"comment_id":101768574,"body_markdown":"@Blackmamba I used `android:iconTint=&quot;#ff4444&quot;` in my `favorites` item. I also tried using `android:background`. Then, Programatically, I also tried setting the icon color to a colored icon.","body":"@Blackmamba I used <code>android:iconTint=&quot;#ff4444&quot;</code> in my <code>favorites</code> item. I also tried using <code>android:background</code>. Then, Programatically, I also tried setting the icon color to a colored icon."},{"owner":{"account_id":406935,"reputation":3955,"user_id":776720,"accept_rate":67,"display_name":"BlackM"},"score":0,"creation_date":1614955583,"post_id":57658560,"comment_id":117551027,"body_markdown":"@SowingFiber how did you solve this? The solution provided by Tarun will change the icon for every highlighted item and not only the favorites icon","body":"@SowingFiber how did you solve this? The solution provided by Tarun will change the icon for every highlighted item and not only the favorites icon"}],"answers":[{"tags":[],"owner":{"account_id":9161047,"reputation":900,"user_id":6812333,"display_name":"Tarun Umath"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1566825877,"creation_date":1566825877,"answer_id":57658820,"question_id":57658560,"body_markdown":"     &lt;android.support.design.widget.BottomNavigationView\r\n            android:id=&quot;@+id/navigation&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;56dp&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            android:layout_marginBottom=&quot;0dp&quot;\r\n            app:itemTextColor=&quot;@color/bootom_text_color&quot;\r\n            app:itemIconTint=&quot;@color/bootom_text_color&quot;\r\n            android:background=&quot;@color/bottom_color&quot;\r\n            app:elevation=&quot;0dp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:menu=&quot;@menu/bottom_navigation&quot; /&gt;\r\n\r\ncreate colour.xml in values\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_checked=&quot;true&quot; android:color=&quot;#FFFF00&quot; /&gt;\r\n        &lt;item android:color=&quot;@color/white&quot;  /&gt; &lt;/selector&gt;","title":"How to change iconTint of a specific item in BottomNavigationView","body":"<pre><code> &lt;android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/navigation\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"56dp\"\n        android:layout_gravity=\"bottom\"\n        android:layout_marginBottom=\"0dp\"\n        app:itemTextColor=\"@color/bootom_text_color\"\n        app:itemIconTint=\"@color/bootom_text_color\"\n        android:background=\"@color/bottom_color\"\n        app:elevation=\"0dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:menu=\"@menu/bottom_navigation\" /&gt;\n</code></pre>\n\n<p>create colour.xml in values</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt; &lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:state_checked=\"true\" android:color=\"#FFFF00\" /&gt;\n    &lt;item android:color=\"@color/white\"  /&gt; &lt;/selector&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13024182,"reputation":36,"user_id":9945919,"display_name":"Evgeny Sobko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661962817,"creation_date":1661962257,"answer_id":73558882,"question_id":57658560,"body_markdown":"\r\nI wasted a lot of time searching the correct answer to &quot;How to change color of **one specific** icon of Bottom Navigation View&quot; and I resolved this by myself. Here is the example:\r\n\r\n    val view = viewBinding.bottomNavigationView.menuView as NavigationBarMenuView\r\n    val itemToChange = view.findViewById&lt;NavigationBarItemView&gt;(R.id.&quot;item_to_change_id&quot;)\r\n    itemToChange.setIconTintList(    \r\n        ColorStateList.valueOf(\r\n            ContextCompat.getColor(requireContext,R.color.&quot;color you need&quot;)\r\n        )\r\n    )\r\nI didn&#39;t try this with `android.support.design.widget.BottomNavigationView`, but with `com.google.android.material.bottomnavigation.BottomNavigationView` it works correctly :)","title":"How to change iconTint of a specific item in BottomNavigationView","body":"<p>I wasted a lot of time searching the correct answer to &quot;How to change color of <strong>one specific</strong> icon of Bottom Navigation View&quot; and I resolved this by myself. Here is the example:</p>\n<pre><code>val view = viewBinding.bottomNavigationView.menuView as NavigationBarMenuView\nval itemToChange = view.findViewById&lt;NavigationBarItemView&gt;(R.id.&quot;item_to_change_id&quot;)\nitemToChange.setIconTintList(    \n    ColorStateList.valueOf(\n        ContextCompat.getColor(requireContext,R.color.&quot;color you need&quot;)\n    )\n)\n</code></pre>\n<p>I didn't try this with <code>android.support.design.widget.BottomNavigationView</code>, but with <code>com.google.android.material.bottomnavigation.BottomNavigationView</code> it works correctly :)</p>\n"}],"owner":{"account_id":16364048,"reputation":1204,"user_id":11818952,"display_name":"SowingFiber"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73558882,"answer_count":2,"score":1,"last_activity_date":1661962817,"creation_date":1566824935,"question_id":57658560,"body_markdown":"I am trying to change the `iconTint` of the `favorites` `menuItem` in the `bottomNavigationView`.\r\n\r\n\r\n\r\n\r\nTo achieve so, I&#39;ve tried the following:\r\n\r\n - Creating a `selector` with colors\r\n - Creating a `selector` with drawables\r\n - Programatically setting icon drawable\r\n - programatically setting `iconItemTint` of `bottomNavigationView` to null\r\n - Using colored icon drawables, instead of `iconItemTint`\r\n - Setting the icon of `favorites` to the drawable selector\r\n - Setting the `background` of `favorites` to the desired color\r\n - Setting `iconTint` of `favorites` to desired color\r\n\r\n\r\nNone of the above solutions worked for me. Then I figured that it might be because I&#39;m using `com.google.android.material.bottomnavigation.BottomNavigationView` instead of `android.support.design.widget.BottomNavigationView`\r\n\r\n\r\n#### My bottomNavigationView\r\n\r\n\r\n```\r\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n        android:id=&quot;@+id/bottom_navigation&quot;\r\n        app:labelVisibilityMode=&quot;labeled&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;bottom|end&quot;\r\n        app:itemTextColor=&quot;#232323&quot;\r\n        app:menu=&quot;@menu/bottom_nav_menu&quot; /&gt;\r\n```\r\n\r\n#### My bottom_nav_menu\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n   \r\n    ...\r\n    &lt;item\r\n        android:title=&quot;Favorites&quot;\r\n        android:id=&quot;@+id/btn_favorites&quot;\r\n        android:enabled=&quot;true&quot;\r\n        android:background=&quot;@color/red_heart&quot;\r\n        android:icon=&quot;@drawable/ic_favorite_red&quot;\r\n        app:showAsAction=&quot;ifRoom&quot; /&gt;\r\n   ...\r\n```\r\n\r\n\r\nHere is a screenshot of my app: \r\n\r\n[![App ScreenShot][1]][1]\r\n\r\nThe selected color is blue for all `menuItems`. I want the `favorites` to have the color `#ff4444` (pale red)  when selected.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XMkL9.png","title":"How to change iconTint of a specific item in BottomNavigationView","body":"<p>I am trying to change the <code>iconTint</code> of the <code>favorites</code> <code>menuItem</code> in the <code>bottomNavigationView</code>.</p>\n\n<p>To achieve so, I've tried the following:</p>\n\n<ul>\n<li>Creating a <code>selector</code> with colors</li>\n<li>Creating a <code>selector</code> with drawables</li>\n<li>Programatically setting icon drawable</li>\n<li>programatically setting <code>iconItemTint</code> of <code>bottomNavigationView</code> to null</li>\n<li>Using colored icon drawables, instead of <code>iconItemTint</code></li>\n<li>Setting the icon of <code>favorites</code> to the drawable selector</li>\n<li>Setting the <code>background</code> of <code>favorites</code> to the desired color</li>\n<li>Setting <code>iconTint</code> of <code>favorites</code> to desired color</li>\n</ul>\n\n<p>None of the above solutions worked for me. Then I figured that it might be because I'm using <code>com.google.android.material.bottomnavigation.BottomNavigationView</code> instead of <code>android.support.design.widget.BottomNavigationView</code></p>\n\nMy bottomNavigationView\n\n<pre><code>    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=\"@+id/bottom_navigation\"\n        app:labelVisibilityMode=\"labeled\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"bottom|end\"\n        app:itemTextColor=\"#232323\"\n        app:menu=\"@menu/bottom_nav_menu\" /&gt;\n</code></pre>\n\nMy bottom_nav_menu\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    ...\n    &lt;item\n        android:title=\"Favorites\"\n        android:id=\"@+id/btn_favorites\"\n        android:enabled=\"true\"\n        android:background=\"@color/red_heart\"\n        android:icon=\"@drawable/ic_favorite_red\"\n        app:showAsAction=\"ifRoom\" /&gt;\n   ...\n</code></pre>\n\n<p>Here is a screenshot of my app: </p>\n\n<p><a href=\"https://i.stack.imgur.com/XMkL9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XMkL9.png\" alt=\"App ScreenShot\"></a></p>\n\n<p>The selected color is blue for all <code>menuItems</code>. I want the <code>favorites</code> to have the color <code>#ff4444</code> (pale red)  when selected.</p>\n"},{"tags":["java","constructor","initialization","initialization-block"],"comments":[{"owner":{"account_id":49683,"reputation":9264,"user_id":148059,"display_name":"atk"},"score":0,"creation_date":1287664264,"post_id":3987428,"comment_id":4267503,"body_markdown":"Do you mean an init() function called by or after the constructoe?  Or a sttatic block declared outside any method?","body":"Do you mean an init() function called by or after the constructoe?  Or a sttatic block declared outside any method?"},{"owner":{"account_id":25832,"reputation":16218,"user_id":66708,"accept_rate":86,"display_name":"Junior Mayh&#233;"},"score":0,"creation_date":1287665220,"post_id":3987428,"comment_id":4267666,"body_markdown":"I can&#39;t see clearly what is your question, maybe the title is a little misleading","body":"I can&#39;t see clearly what is your question, maybe the title is a little misleading"},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1287667111,"post_id":3987428,"comment_id":4268055,"body_markdown":"possible duplicate of [Use of Initializers vs Constructors in Java](http://stackoverflow.com/questions/804589/use-of-initializers-vs-constructors-in-java)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/804589/use-of-initializers-vs-constructors-in-java\">Use of Initializers vs Constructors in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":208548,"reputation":4277,"user_id":459093,"display_name":"Gaurav Saxena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1287664798,"creation_date":1287664798,"answer_id":3987529,"question_id":3987428,"body_markdown":"Initialization blocks are executed whenever the class is initialized and before constructors are invoked. They are typically placed above the constructors within braces. It is not at all necessary to include them in your classes.\r\n\r\nThey are typically used to initialize reference variables. This [page][1] gives a good explanation\r\n\r\n\r\n  [1]: http://www.go4expert.com/forums/showthread.php?t=1254","title":"What is an initialization block?","body":"<p>Initialization blocks are executed whenever the class is initialized and before constructors are invoked. They are typically placed above the constructors within braces. It is not at all necessary to include them in your classes.</p>\n\n<p>They are typically used to initialize reference variables. This <a href=\"http://www.go4expert.com/forums/showthread.php?t=1254\" rel=\"nofollow\">page</a> gives a good explanation</p>\n"},{"tags":[],"owner":{"account_id":218120,"reputation":52202,"user_id":474283,"display_name":"Cameron Skinner"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1287665156,"creation_date":1287665156,"answer_id":3987581,"question_id":3987428,"body_markdown":"The question is not entirely clear, but here&#39;s a brief description of ways you can initialise data in an object. Let&#39;s suppose you have a class A that holds a list of objects.\r\n\r\n1) Put initial values in the field declaration:\r\n\r\n    class A {\r\n        private List&lt;Object&gt; data = new ArrayList&lt;Object&gt;();\r\n    }\r\n\r\n2) Assign initial values in the constructor:\r\n\r\n    class A {\r\n        private List&lt;Object&gt; data;\r\n        public A() {\r\n            data = new ArrayList&lt;Object&gt;();\r\n        }\r\n    }\r\n\r\nThese both assume that you do not want to pass &quot;data&quot; as a constructor argument.\r\n\r\nThings get a little tricky if you mix overloaded constructors with internal data like above. Consider:\r\n\r\n    class B {\r\n        private List&lt;Object&gt; data;\r\n        private String name;\r\n        private String userFriendlyName;\r\n\r\n        public B() {\r\n            data = new ArrayList&lt;Object&gt;();\r\n            name = &quot;Default name&quot;;\r\n            userFriendlyName = &quot;Default user friendly name&quot;;\r\n        }\r\n\r\n        public B(String name) {\r\n            data = new ArrayList&lt;Object&gt;();\r\n            this.name = name;\r\n            userFriendlyName = name;\r\n        }\r\n\r\n        public B(String name, String userFriendlyName) {\r\n            data = new ArrayList&lt;Object&gt;();\r\n            this.name = name;\r\n            this.userFriendlyName = userFriendlyName;\r\n        }\r\n    }\r\n\r\nNotice that there is a lot of repeated code. You can fix this by making constructors call each other, or you can have a private initialisation method that each constructor calls:\r\n\r\n    class B {\r\n        private List&lt;Object&gt; data;\r\n        private String name;\r\n        private String userFriendlyName;\r\n\r\n        public B() {\r\n            this(&quot;Default name&quot;, &quot;Default user friendly name&quot;);\r\n        }\r\n\r\n        public B(String name) {\r\n            this(name, name);\r\n        }\r\n\r\n        public B(String name, String userFriendlyName) {\r\n            data = new ArrayList&lt;Object&gt;();\r\n            this.name = name;\r\n            this.userFriendlyName = userFriendlyName;\r\n        }\r\n    }\r\n\r\nor\r\n\r\n\r\n    class B {\r\n        private List&lt;Object&gt; data;\r\n        private String name;\r\n        private String userFriendlyName;\r\n\r\n        public B() {\r\n            init(&quot;Default name&quot;, &quot;Default user friendly name&quot;);\r\n        }\r\n\r\n        public B(String name) {\r\n            init(name, name);\r\n        }\r\n\r\n        public B(String name, String userFriendlyName) {\r\n            init(name, userFriendlyName);\r\n        }\r\n\r\n        private void init(String _name, String _userFriendlyName) {\r\n            data = new ArrayList&lt;Object&gt;();\r\n            this.name = name;\r\n            this.userFriendlyName = userFriendlyName;\r\n        }\r\n    }\r\n\r\nThe two are (more or less) equivalent.\r\n\r\nI hope that gives you some hints on how to initialise data in your objects. I won&#39;t talk about static initialisation blocks as that&#39;s probably a bit advanced at the moment.\r\n\r\nEDIT: I&#39;ve interpreted your question as &quot;how do I initialise my instance variables&quot;, not &quot;how do initialiser blocks work&quot; as initialiser blocks are a relatively advanced concept, and from the tone of the question it seems you&#39;re asking about the simpler concept. I could be wrong.","title":"What is an initialization block?","body":"<p>The question is not entirely clear, but here's a brief description of ways you can initialise data in an object. Let's suppose you have a class A that holds a list of objects.</p>\n\n<p>1) Put initial values in the field declaration:</p>\n\n<pre><code>class A {\n    private List&lt;Object&gt; data = new ArrayList&lt;Object&gt;();\n}\n</code></pre>\n\n<p>2) Assign initial values in the constructor:</p>\n\n<pre><code>class A {\n    private List&lt;Object&gt; data;\n    public A() {\n        data = new ArrayList&lt;Object&gt;();\n    }\n}\n</code></pre>\n\n<p>These both assume that you do not want to pass \"data\" as a constructor argument.</p>\n\n<p>Things get a little tricky if you mix overloaded constructors with internal data like above. Consider:</p>\n\n<pre><code>class B {\n    private List&lt;Object&gt; data;\n    private String name;\n    private String userFriendlyName;\n\n    public B() {\n        data = new ArrayList&lt;Object&gt;();\n        name = \"Default name\";\n        userFriendlyName = \"Default user friendly name\";\n    }\n\n    public B(String name) {\n        data = new ArrayList&lt;Object&gt;();\n        this.name = name;\n        userFriendlyName = name;\n    }\n\n    public B(String name, String userFriendlyName) {\n        data = new ArrayList&lt;Object&gt;();\n        this.name = name;\n        this.userFriendlyName = userFriendlyName;\n    }\n}\n</code></pre>\n\n<p>Notice that there is a lot of repeated code. You can fix this by making constructors call each other, or you can have a private initialisation method that each constructor calls:</p>\n\n<pre><code>class B {\n    private List&lt;Object&gt; data;\n    private String name;\n    private String userFriendlyName;\n\n    public B() {\n        this(\"Default name\", \"Default user friendly name\");\n    }\n\n    public B(String name) {\n        this(name, name);\n    }\n\n    public B(String name, String userFriendlyName) {\n        data = new ArrayList&lt;Object&gt;();\n        this.name = name;\n        this.userFriendlyName = userFriendlyName;\n    }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>class B {\n    private List&lt;Object&gt; data;\n    private String name;\n    private String userFriendlyName;\n\n    public B() {\n        init(\"Default name\", \"Default user friendly name\");\n    }\n\n    public B(String name) {\n        init(name, name);\n    }\n\n    public B(String name, String userFriendlyName) {\n        init(name, userFriendlyName);\n    }\n\n    private void init(String _name, String _userFriendlyName) {\n        data = new ArrayList&lt;Object&gt;();\n        this.name = name;\n        this.userFriendlyName = userFriendlyName;\n    }\n}\n</code></pre>\n\n<p>The two are (more or less) equivalent.</p>\n\n<p>I hope that gives you some hints on how to initialise data in your objects. I won't talk about static initialisation blocks as that's probably a bit advanced at the moment.</p>\n\n<p>EDIT: I've interpreted your question as \"how do I initialise my instance variables\", not \"how do initialiser blocks work\" as initialiser blocks are a relatively advanced concept, and from the tone of the question it seems you're asking about the simpler concept. I could be wrong.</p>\n"},{"tags":[],"owner":{"account_id":102965,"reputation":415230,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"down_vote_count":1,"up_vote_count":223,"is_accepted":true,"score":222,"last_activity_date":1661962660,"creation_date":1287665177,"answer_id":3987586,"question_id":3987428,"body_markdown":"First of all, there are two types of [initialization blocks](http://download.oracle.com/javase/tutorial/java/javaOO/initial.html):\r\n\r\n- **instance initialization blocks**, and\r\n- **static initialization blocks**.\r\n\r\nThis code should illustrate the use of them and in which order they are executed:\r\n\r\n    public class Test {\r\n        \r\n        static int staticVariable;\r\n        int nonStaticVariable;        \r\n\r\n        // Static initialization block:\r\n        // Runs once (when the class is initialized)\r\n        static {\r\n            System.out.println(&quot;Static initalization.&quot;);\r\n            staticVariable = 5;\r\n        }\r\n        \r\n        // Instance initialization block:\r\n        // Runs each time you instantiate an object\r\n        {\r\n            System.out.println(&quot;Instance initialization.&quot;);\r\n            nonStaticVariable = 7;\r\n        }\r\n        \r\n        public Test() {\r\n            System.out.println(&quot;Constructor.&quot;);\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            new Test();\r\n            new Test();\r\n        }\r\n    }\r\n\r\n\r\nPrints:\r\n\r\n    Static initalization.\r\n    Instance initialization.\r\n    Constructor.\r\n    Instance initialization.\r\n    Constructor.\r\n\r\nInstance initialization blocks are useful if you want to have some code run regardless of which constructor is used or if you want to do some instance initialization for anonymous classes.","title":"What is an initialization block?","body":"<p>First of all, there are two types of <a href=\"http://download.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"noreferrer\">initialization blocks</a>:</p>\n<ul>\n<li><strong>instance initialization blocks</strong>, and</li>\n<li><strong>static initialization blocks</strong>.</li>\n</ul>\n<p>This code should illustrate the use of them and in which order they are executed:</p>\n<pre><code>public class Test {\n    \n    static int staticVariable;\n    int nonStaticVariable;        \n\n    // Static initialization block:\n    // Runs once (when the class is initialized)\n    static {\n        System.out.println(&quot;Static initalization.&quot;);\n        staticVariable = 5;\n    }\n    \n    // Instance initialization block:\n    // Runs each time you instantiate an object\n    {\n        System.out.println(&quot;Instance initialization.&quot;);\n        nonStaticVariable = 7;\n    }\n    \n    public Test() {\n        System.out.println(&quot;Constructor.&quot;);\n    }\n    \n    public static void main(String[] args) {\n        new Test();\n        new Test();\n    }\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>Static initalization.\nInstance initialization.\nConstructor.\nInstance initialization.\nConstructor.\n</code></pre>\n<p>Instance initialization blocks are useful if you want to have some code run regardless of which constructor is used or if you want to do some instance initialization for anonymous classes.</p>\n"},{"tags":[],"owner":{"account_id":1241486,"reputation":2776,"user_id":1203986,"accept_rate":90,"display_name":"Biman Tripathy"},"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1451470181,"creation_date":1363275393,"answer_id":15413629,"question_id":3987428,"body_markdown":"would like to add to @aioobe&#39;s answer\r\n\r\nOrder of execution:\r\n\r\n 1. static initialization blocks of super classes\r\n\r\n 2. static initialization blocks of the class\r\n\r\n 3. instance initialization blocks of super classes\r\n\r\n 4. **constructors of super classes**\r\n\r\n 5. instance initialization blocks of the class\r\n\r\n 6. constructor of the class.\r\n\r\n\r\nA couple of additional points to keep in mind (point 1 is reiteration of @aioobe&#39;s answer):\r\n\r\n1. The code in static initialization block will be executed at class load time (and yes, that means only once per class load), before any instances of the class are constructed and before any static methods are called.\r\n\r\n2. The instance initialization block is actually copied by the Java compiler into every constructor the class has. So every time the code in instance initialization block is executed **exactly** before the code in constructor.","title":"What is an initialization block?","body":"<p>would like to add to @aioobe's answer</p>\n\n<p>Order of execution:</p>\n\n<ol>\n<li><p>static initialization blocks of super classes</p></li>\n<li><p>static initialization blocks of the class</p></li>\n<li><p>instance initialization blocks of super classes</p></li>\n<li><p><strong>constructors of super classes</strong></p></li>\n<li><p>instance initialization blocks of the class</p></li>\n<li><p>constructor of the class.</p></li>\n</ol>\n\n<p>A couple of additional points to keep in mind (point 1 is reiteration of @aioobe's answer):</p>\n\n<ol>\n<li><p>The code in static initialization block will be executed at class load time (and yes, that means only once per class load), before any instances of the class are constructed and before any static methods are called.</p></li>\n<li><p>The instance initialization block is actually copied by the Java compiler into every constructor the class has. So every time the code in instance initialization block is executed <strong>exactly</strong> before the code in constructor.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":436980,"reputation":1244,"user_id":824431,"accept_rate":94,"display_name":"nenito"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1502281897,"creation_date":1394804913,"answer_id":22406864,"question_id":3987428,"body_markdown":"The sample code, which is approved as an answer here is correct, but I disagree with it. It does not shows what is happening and I&#39;m going to show you a good example to understand how actually the JVM works:\r\n\r\n    package test;\r\n    \r\n        class A {\r\n        \tA() {\r\n        \t\tprint();\r\n        \t}\r\n        \r\n        \tvoid print() {\r\n        \t\tSystem.out.println(&quot;A&quot;);\r\n        \t}\r\n        }\r\n        \r\n        class B extends A {\r\n        \tstatic int staticVariable2 = 123456;\r\n        \tstatic int staticVariable;\r\n        \t\r\n        \tstatic\r\n        \t{\r\n        \t\tSystem.out.println(staticVariable2);\r\n        \t\tSystem.out.println(&quot;Static Initialization block&quot;);\r\n        \t\tstaticVariable = Math.round(3.5f);\r\n        \t}\r\n        \t\r\n        \tint instanceVariable;\r\n        \r\n        \t{\r\n        \t\tSystem.out.println(&quot;Initialization block&quot;);\r\n        \t\tinstanceVariable = Math.round(3.5f);\r\n        \t\tstaticVariable = Math.round(3.5f);\r\n        \t}\r\n        \t\r\n        \tB() {\r\n        \t\tSystem.out.println(&quot;Constructor&quot;);\r\n        \t}\r\n        \t\r\n        \tpublic static void main(String[] args) {\r\n        \t\tA a = new B();\r\n        \t\ta.print();\r\n        \t\tSystem.out.println(&quot;main&quot;);\r\n        \t}\r\n        \r\n        \tvoid print() {\r\n        \t\tSystem.out.println(instanceVariable);\r\n        \t}\r\n        \t\r\n        \tstatic void somethingElse() {\r\n        \t\tSystem.out.println(&quot;Static method&quot;);\r\n        \t}\r\n        }\r\n\r\nBefore to start commenting on the source code, I&#39;ll give you a short explanation of static variables of a class:\r\n\r\nFirst thing is that they are called class variables, they belong to the class not to particular instance of the class. All instances of the class share this static(class) variable. Each and every variable has a default value, depending on primitive or reference type. Another thing is when you reassign the static variable in some of the members of the class (initialization blocks, constructors, methods, properties) and doing so you are changing the value of the static variable not for particular instance, you are changing it for all instances. To conclude static part I will say that the static variables of a class are created not when you instantiate for first time the class, they are created when you define your class, they exist in JVM without the need of any instances. Therefor the correct access of static members from external class (class in which they are not defined) is by using the class name following by dot and then the static member, which you want to access (template: `&lt;CLASS_NAME&gt;.&lt;STATIC_VARIABLE_NAME&gt;`).\r\n\r\nNow let&#39;s look at the code above:\r\n\r\nThe entry point is the main method - there are just three lines of code. I want to refer to the example which is currently approved. According to it the first thing which must be printed after printing &quot;Static Initialization block&quot; is &quot;Initialization block&quot; and here is my disagreement, the non-static initialization block is not called before the constructor, it is called before any initializations of the constructors of the class in which the initialization block is defined. The constructor of the class is the first thing involved when you create an object (instance of the class) and then when you enter the constructor the first part called is either implicit (default) super constructor or explicit super constructor or explicit call to another overloaded constructor (but at some point if there is a chain of overloaded constructors, the last one calls a super constructor, implicitly or explicitly). \r\n\r\nThere is polymorphic creation of an object, but before to enter the class B and its main method, the JVM initializes all class(static) variables, then goes through the static initialization blocks if any exist and then enters the class B and starts with the execution of the main method. It goes to the constructor of class B then immediately (implicitly) calls constructor of class A, using polymorphism the method(overridden method) called in the body of the constructor of class A is the one which is defined in class B and in this case the variable named instanceVariable is used before reinitialization. After closing the constructor of class B the thread is returned to constructor of class B but it goes first to the non-static initialization block before printing &quot;Constructor&quot;. For better understanding debug it with some IDE, I prefer Eclipse.\r\n","title":"What is an initialization block?","body":"<p>The sample code, which is approved as an answer here is correct, but I disagree with it. It does not shows what is happening and I'm going to show you a good example to understand how actually the JVM works:</p>\n\n<pre><code>package test;\n\n    class A {\n        A() {\n            print();\n        }\n\n        void print() {\n            System.out.println(\"A\");\n        }\n    }\n\n    class B extends A {\n        static int staticVariable2 = 123456;\n        static int staticVariable;\n\n        static\n        {\n            System.out.println(staticVariable2);\n            System.out.println(\"Static Initialization block\");\n            staticVariable = Math.round(3.5f);\n        }\n\n        int instanceVariable;\n\n        {\n            System.out.println(\"Initialization block\");\n            instanceVariable = Math.round(3.5f);\n            staticVariable = Math.round(3.5f);\n        }\n\n        B() {\n            System.out.println(\"Constructor\");\n        }\n\n        public static void main(String[] args) {\n            A a = new B();\n            a.print();\n            System.out.println(\"main\");\n        }\n\n        void print() {\n            System.out.println(instanceVariable);\n        }\n\n        static void somethingElse() {\n            System.out.println(\"Static method\");\n        }\n    }\n</code></pre>\n\n<p>Before to start commenting on the source code, I'll give you a short explanation of static variables of a class:</p>\n\n<p>First thing is that they are called class variables, they belong to the class not to particular instance of the class. All instances of the class share this static(class) variable. Each and every variable has a default value, depending on primitive or reference type. Another thing is when you reassign the static variable in some of the members of the class (initialization blocks, constructors, methods, properties) and doing so you are changing the value of the static variable not for particular instance, you are changing it for all instances. To conclude static part I will say that the static variables of a class are created not when you instantiate for first time the class, they are created when you define your class, they exist in JVM without the need of any instances. Therefor the correct access of static members from external class (class in which they are not defined) is by using the class name following by dot and then the static member, which you want to access (template: <code>&lt;CLASS_NAME&gt;.&lt;STATIC_VARIABLE_NAME&gt;</code>).</p>\n\n<p>Now let's look at the code above:</p>\n\n<p>The entry point is the main method - there are just three lines of code. I want to refer to the example which is currently approved. According to it the first thing which must be printed after printing \"Static Initialization block\" is \"Initialization block\" and here is my disagreement, the non-static initialization block is not called before the constructor, it is called before any initializations of the constructors of the class in which the initialization block is defined. The constructor of the class is the first thing involved when you create an object (instance of the class) and then when you enter the constructor the first part called is either implicit (default) super constructor or explicit super constructor or explicit call to another overloaded constructor (but at some point if there is a chain of overloaded constructors, the last one calls a super constructor, implicitly or explicitly). </p>\n\n<p>There is polymorphic creation of an object, but before to enter the class B and its main method, the JVM initializes all class(static) variables, then goes through the static initialization blocks if any exist and then enters the class B and starts with the execution of the main method. It goes to the constructor of class B then immediately (implicitly) calls constructor of class A, using polymorphism the method(overridden method) called in the body of the constructor of class A is the one which is defined in class B and in this case the variable named instanceVariable is used before reinitialization. After closing the constructor of class B the thread is returned to constructor of class B but it goes first to the non-static initialization block before printing \"Constructor\". For better understanding debug it with some IDE, I prefer Eclipse.</p>\n"},{"tags":[],"owner":{"account_id":2405069,"reputation":304,"user_id":2101779,"display_name":"Gaurav"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1404369373,"creation_date":1404369373,"answer_id":24546558,"question_id":3987428,"body_markdown":"nice answer by aioobe\r\nadding few more points\r\n\r\n    public class StaticTest extends parent {\r\n    \tstatic {\r\n    \t\tSystem.out.println(&quot;inside satic block&quot;);\r\n    \t}\r\n    \r\n    \tStaticTest() {\r\n    \t\tSystem.out.println(&quot;inside constructor of child&quot;);\r\n    \t}\r\n    \r\n    \t{\r\n    \t\tSystem.out.println(&quot;inside initialization block&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew StaticTest();\r\n    \t\tnew StaticTest();\r\n    \t\tSystem.out.println(&quot;inside main&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class parent {\r\n    \tstatic {\r\n    \t\tSystem.out.println(&quot;inside parent Static block&quot;);\r\n    \t}\r\n    \t{\r\n    \t\tSystem.out.println(&quot;inside parent initialisation block&quot;);\r\n    \t}\r\n    \r\n    \tparent() {\r\n    \t\tSystem.out.println(&quot;inside parent constructor&quot;);\r\n    \t}\r\n    }\r\n\r\nthis gives \r\n\r\n    inside parent Static block\r\n    inside satic block\r\n    inside parent initialisation block\r\n    inside parent constructor\r\n    inside initialization block\r\n    inside constructor of child\r\n    inside parent initialisation block\r\n    inside parent constructor\r\n    inside initialization block\r\n    inside constructor of child\r\n    inside main\r\nits like stating the obvious but seems a little more clear.","title":"What is an initialization block?","body":"<p>nice answer by aioobe\nadding few more points</p>\n\n<pre><code>public class StaticTest extends parent {\n    static {\n        System.out.println(\"inside satic block\");\n    }\n\n    StaticTest() {\n        System.out.println(\"inside constructor of child\");\n    }\n\n    {\n        System.out.println(\"inside initialization block\");\n    }\n\n    public static void main(String[] args) {\n        new StaticTest();\n        new StaticTest();\n        System.out.println(\"inside main\");\n    }\n}\n\nclass parent {\n    static {\n        System.out.println(\"inside parent Static block\");\n    }\n    {\n        System.out.println(\"inside parent initialisation block\");\n    }\n\n    parent() {\n        System.out.println(\"inside parent constructor\");\n    }\n}\n</code></pre>\n\n<p>this gives </p>\n\n<pre><code>inside parent Static block\ninside satic block\ninside parent initialisation block\ninside parent constructor\ninside initialization block\ninside constructor of child\ninside parent initialisation block\ninside parent constructor\ninside initialization block\ninside constructor of child\ninside main\n</code></pre>\n\n<p>its like stating the obvious but seems a little more clear.</p>\n"},{"tags":[],"owner":{"account_id":3312427,"reputation":61,"user_id":2785576,"display_name":"Anıl Emre &#214;z&#231;elik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1423179033,"creation_date":1423179033,"answer_id":28356047,"question_id":3987428,"body_markdown":"    public class StaticInitializationBlock {\r\n    \r\n    \tstatic int staticVariable;\r\n    \tint instanceVariable;\r\n    \r\n    \t// Static Initialization Block\r\n    \tstatic { \r\n    \t\tSystem.out.println(&quot;Static block&quot;);\r\n    \t\tstaticVariable = 5;\r\n    \r\n    \t}\r\n    \r\n    \t// Instance Initialization Block\r\n    \t{ \r\n    \r\n    \t\tinstanceVariable = 7;\r\n    \t\tSystem.out.println(&quot;Instance Block&quot;);\r\n    \t\tSystem.out.println(staticVariable);\r\n    \t\tSystem.out.println(instanceVariable);\r\n    \r\n    \t\tstaticVariable = 10;\r\n    \t}\r\n    \r\n    \t\r\n    \tpublic StaticInitializationBlock() { \r\n    \r\n    \t\tSystem.out.println(&quot;Constructor&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew StaticInitializationBlock();\r\n    \t\tnew StaticInitializationBlock();\r\n    \t}\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Static block\r\n    Instance Block\r\n    5\r\n    7\r\n    Constructor\r\n    Instance Block\r\n    10\r\n    7\r\n    Constructor\r\n","title":"What is an initialization block?","body":"<pre><code>public class StaticInitializationBlock {\n\n    static int staticVariable;\n    int instanceVariable;\n\n    // Static Initialization Block\n    static { \n        System.out.println(\"Static block\");\n        staticVariable = 5;\n\n    }\n\n    // Instance Initialization Block\n    { \n\n        instanceVariable = 7;\n        System.out.println(\"Instance Block\");\n        System.out.println(staticVariable);\n        System.out.println(instanceVariable);\n\n        staticVariable = 10;\n    }\n\n\n    public StaticInitializationBlock() { \n\n        System.out.println(\"Constructor\");\n    }\n\n    public static void main(String[] args) {\n        new StaticInitializationBlock();\n        new StaticInitializationBlock();\n    }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Static block\nInstance Block\n5\n7\nConstructor\nInstance Block\n10\n7\nConstructor\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6701313,"reputation":7980,"user_id":5167682,"accept_rate":29,"display_name":"roottraveller"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585928918,"creation_date":1476092710,"answer_id":39955518,"question_id":3987428,"body_markdown":"&gt; Initializer block contains the code that is always executed whenever\r\n&gt; an instance is created. It is used to declare/initialise the common\r\n&gt; part of various constructors of a class.\r\n\r\nThe order of initialization constructors and initializer block doesn’t matter, initializer block is always executed before constructor. \r\n\r\n**What if we want to execute some code once for all objects of a class?**\r\n\r\nWe use Static Block in Java. ","title":"What is an initialization block?","body":"<blockquote>\n  <p>Initializer block contains the code that is always executed whenever\n  an instance is created. It is used to declare/initialise the common\n  part of various constructors of a class.</p>\n</blockquote>\n\n<p>The order of initialization constructors and initializer block doesn’t matter, initializer block is always executed before constructor. </p>\n\n<p><strong>What if we want to execute some code once for all objects of a class?</strong></p>\n\n<p>We use Static Block in Java. </p>\n"},{"tags":[],"owner":{"account_id":2471950,"reputation":1483,"user_id":2153576,"accept_rate":50,"display_name":"Player_Neo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578152980,"creation_date":1578152554,"answer_id":59592240,"question_id":3987428,"body_markdown":"Just to add to the excellent answers from *@aioobe* and *@Biman Tripathy*.\r\n\r\nA **static initializer** is the equivalent of a constructor in the static context. which is needed to setup the static environment.\r\nA **instance initializer** is best for anonymous inner classes.\r\n\r\n - It is also possible to have multiple initializer blocks in class\r\n - When we have multiple initializer blocks they are executed (actually copied to constructors by JVM) in the order they appear\r\n - Order of initializer blocks matters, but order of initializer blocks mixed with Constructors doesn&#39;t\r\n - Abstract classes can also have both static and instance initializer blocks.\r\n\r\n \r\n\r\n \r\n\r\nCode Demo - \r\n\r\n    abstract class Aircraft {\r\n    \r\n        protected Integer seatCapacity;\r\n    \r\n        {   // Initial block 1, Before Constructor\r\n            System.out.println(&quot;Executing: Initial Block 1&quot;);\r\n        }\r\n    \r\n        Aircraft() {\r\n            System.out.println(&quot;Executing: Aircraft constructor&quot;);\r\n        }\r\n    \r\n        {   // Initial block 2, After Constructor\r\n            System.out.println(&quot;Executing: Initial Block 2&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n    class SupersonicAircraft extends Aircraft {\r\n    \r\n        {   // Initial block 3, Internalizing a instance variable\r\n            seatCapacity = 300;\r\n            System.out.println(&quot;Executing: Initial Block 3&quot;);\r\n        }\r\n    \r\n        {   // Initial block 4\r\n            System.out.println(&quot;Executing: Initial Block 4&quot;);\r\n        }\r\n    \r\n        SupersonicAircraft() {\r\n            System.out.println(&quot;Executing: SupersonicAircraft constructor&quot;);\r\n        }\r\n    }\r\n    \r\nAn instance creation of `SupersonicAircraft` will produce logs in below order\r\n\r\n    Executing: Initial Block 1\r\n    Executing: Initial Block 2\r\n    Executing: Aircraft constructor\r\n    Executing: Initial Block 3\r\n    Executing: Initial Block 4\r\n    Executing: SupersonicAircraft constructor\r\n    Seat Capacity - 300","title":"What is an initialization block?","body":"<p>Just to add to the excellent answers from <em>@aioobe</em> and <em>@Biman Tripathy</em>.</p>\n\n<p>A <strong>static initializer</strong> is the equivalent of a constructor in the static context. which is needed to setup the static environment.\nA <strong>instance initializer</strong> is best for anonymous inner classes.</p>\n\n<ul>\n<li>It is also possible to have multiple initializer blocks in class</li>\n<li>When we have multiple initializer blocks they are executed (actually copied to constructors by JVM) in the order they appear</li>\n<li>Order of initializer blocks matters, but order of initializer blocks mixed with Constructors doesn't</li>\n<li>Abstract classes can also have both static and instance initializer blocks.</li>\n</ul>\n\n<p>Code Demo - </p>\n\n<pre><code>abstract class Aircraft {\n\n    protected Integer seatCapacity;\n\n    {   // Initial block 1, Before Constructor\n        System.out.println(\"Executing: Initial Block 1\");\n    }\n\n    Aircraft() {\n        System.out.println(\"Executing: Aircraft constructor\");\n    }\n\n    {   // Initial block 2, After Constructor\n        System.out.println(\"Executing: Initial Block 2\");\n    }\n\n}\n\nclass SupersonicAircraft extends Aircraft {\n\n    {   // Initial block 3, Internalizing a instance variable\n        seatCapacity = 300;\n        System.out.println(\"Executing: Initial Block 3\");\n    }\n\n    {   // Initial block 4\n        System.out.println(\"Executing: Initial Block 4\");\n    }\n\n    SupersonicAircraft() {\n        System.out.println(\"Executing: SupersonicAircraft constructor\");\n    }\n}\n</code></pre>\n\n<p>An instance creation of <code>SupersonicAircraft</code> will produce logs in below order</p>\n\n<pre><code>Executing: Initial Block 1\nExecuting: Initial Block 2\nExecuting: Aircraft constructor\nExecuting: Initial Block 3\nExecuting: Initial Block 4\nExecuting: SupersonicAircraft constructor\nSeat Capacity - 300\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3417936,"reputation":1904,"user_id":2866298,"accept_rate":63,"display_name":"osama yaccoub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597017312,"creation_date":1597017312,"answer_id":63332475,"question_id":3987428,"body_markdown":"In addition to what was said in previous answers, blocks can be `synchronized` .. never felt I need to use it, however,it&#39;s there","title":"What is an initialization block?","body":"<p>In addition to what was said in previous answers, blocks can be <code>synchronized</code> .. never felt I need to use it, however,it's there</p>\n"}],"owner":{"account_id":678453,"reputation":6627,"user_id":471927,"accept_rate":79,"display_name":"Sumithra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83030,"favorite_count":0,"down_vote_count":2,"up_vote_count":131,"accepted_answer_id":3987586,"answer_count":10,"score":129,"last_activity_date":1661962660,"creation_date":1287664134,"question_id":3987428,"body_markdown":"We can put code in a constructor or a method or an initialization block. What is the use of initialization block? Is it necessary that every java program must have it? ","title":"What is an initialization block?","body":"<p>We can put code in a constructor or a method or an initialization block. What is the use of initialization block? Is it necessary that every java program must have it? </p>\n"},{"tags":["java","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":7480922,"reputation":150,"user_id":5685677,"accept_rate":100,"display_name":"Douglas Stead"},"score":0,"creation_date":1661866775,"post_id":73543213,"comment_id":129869889,"body_markdown":"There&#39;s probably many ways to find out what port IntelliJ is using, but here is one: If the service is running, from the run dashboard where your console output is, you should have an &quot;Actuator&quot; tab, if you click into this and then select the &quot;Mappings&quot; tab, you will be able to see all of the endpoints configured in your application, and hovering over one of these will give you the full url including hostname and port.","body":"There&#39;s probably many ways to find out what port IntelliJ is using, but here is one: If the service is running, from the run dashboard where your console output is, you should have an &quot;Actuator&quot; tab, if you click into this and then select the &quot;Mappings&quot; tab, you will be able to see all of the endpoints configured in your application, and hovering over one of these will give you the full url including hostname and port."},{"owner":{"account_id":135406,"reputation":5516,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"score":0,"creation_date":1661867041,"post_id":73543213,"comment_id":129870016,"body_markdown":"is it there in the community edition as well ?  I dont see the actuator tab","body":"is it there in the community edition as well ?  I dont see the actuator tab"},{"owner":{"account_id":7480922,"reputation":150,"user_id":5685677,"accept_rate":100,"display_name":"Douglas Stead"},"score":0,"creation_date":1661867489,"post_id":73543213,"comment_id":129870213,"body_markdown":"Ah, apologies I was looking at my personal instance, which is Enterprise. While it doesn&#39;t answer the question you have asked, are you opposed to simply configuring the port? It would solve your problem. All you need is:\nserver.port = 8080\nIn your application.properties file.","body":"Ah, apologies I was looking at my personal instance, which is Enterprise. While it doesn&#39;t answer the question you have asked, are you opposed to simply configuring the port? It would solve your problem. All you need is: server.port = 8080 In your application.properties file."},{"owner":{"account_id":135406,"reputation":5516,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"score":0,"creation_date":1661868023,"post_id":73543213,"comment_id":129870468,"body_markdown":"@DouglasStead thanks for your replies...i tried that already...still it didn&#39;t solve the problem","body":"@DouglasStead thanks for your replies...i tried that already...still it didn&#39;t solve the problem"},{"owner":{"account_id":488641,"reputation":81,"user_id":1114573,"display_name":"IUSR"},"score":0,"creation_date":1661918987,"post_id":73543213,"comment_id":129883306,"body_markdown":"By default, before that line of log, there should also be a line saying Tomcat started on some port. Have you tried starting it via other ways, e.g. the Spring Boot Maven Plugin if that&#39;s convenient to do, and see if your application is available at port 8080?","body":"By default, before that line of log, there should also be a line saying Tomcat started on some port. Have you tried starting it via other ways, e.g. the Spring Boot Maven Plugin if that&#39;s convenient to do, and see if your application is available at port 8080?"},{"owner":{"account_id":135406,"reputation":5516,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"score":0,"creation_date":1661933430,"post_id":73543213,"comment_id":129886797,"body_markdown":"That works through command line or through eclipse as i had mentioned in the post...somehow the embedded tomcat server does not start in IntelliJ as the tomcat starting logs are missing there","body":"That works through command line or through eclipse as i had mentioned in the post...somehow the embedded tomcat server does not start in IntelliJ as the tomcat starting logs are missing there"}],"answers":[{"tags":[],"owner":{"account_id":135406,"reputation":5516,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661962568,"creation_date":1661962568,"answer_id":73558943,"question_id":73543213,"body_markdown":"Resolved the issue.\r\n\r\nIt seems IntelliJ does not provide tomcat in the classpath.\r\n\r\nSo in order to do this we need to modify options in the run configuration and enable &quot; Add dependecies with &quot;provided&quot; scope in the classpath.\r\n\r\nI got the hint from this SO post.\r\n\r\nhttps://stackoverflow.com/questions/39064537/unable-to-start-spring-boot-application-in-intellij-idea\r\n","title":"Springboot app not running in port through IntelliJ","body":"<p>Resolved the issue.</p>\n<p>It seems IntelliJ does not provide tomcat in the classpath.</p>\n<p>So in order to do this we need to modify options in the run configuration and enable &quot; Add dependecies with &quot;provided&quot; scope in the classpath.</p>\n<p>I got the hint from this SO post.</p>\n<p><a href=\"https://stackoverflow.com/questions/39064537/unable-to-start-spring-boot-application-in-intellij-idea\">Unable to start spring-boot application in IntelliJ Idea</a></p>\n"}],"owner":{"account_id":135406,"reputation":5516,"user_id":338248,"accept_rate":39,"display_name":"saurav"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661962613,"creation_date":1661865763,"question_id":73543213,"body_markdown":"I am new to IntelliJ (CE 2022.2, MacOS) , have been an eclipse user for past 17 years.\r\n\r\nI have a simple spring boot application which imported in IntelliJ.\r\n\r\nNow i run the application and console shows \r\n\r\n    Started ExternalserviceApplication in 1.931 seconds (JVM running for 2.607)\r\n\r\nDon&#39;t have the port property in application.properties so the app should run in 8080.\r\n\r\nBut i can&#39;t access the application on 8080 and active ports display in mac terminal does not show the process running on 8080.\r\n\r\nSame application has been running perfectly through Eclipse on 8080.\r\n\r\nI might be missing something simple. Do i have to enable something in IntelliJ ?\r\n\r\n**UPDATE**\r\n\r\nIn some posts i saw the issue could be with the maven dependencies.\r\n\r\nSo i paste my maven dependencies below. \r\n\r\n  \r\n\r\n      &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.3&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;org.saurav&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;externalservice&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;name&gt;externalservice&lt;/name&gt;\r\n    \t&lt;description&gt;Service responsible for making external calls&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;!-- &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt; --&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nBest Regards,\r\n\r\nSaurav","title":"Springboot app not running in port through IntelliJ","body":"<p>I am new to IntelliJ (CE 2022.2, MacOS) , have been an eclipse user for past 17 years.</p>\n<p>I have a simple spring boot application which imported in IntelliJ.</p>\n<p>Now i run the application and console shows</p>\n<pre><code>Started ExternalserviceApplication in 1.931 seconds (JVM running for 2.607)\n</code></pre>\n<p>Don't have the port property in application.properties so the app should run in 8080.</p>\n<p>But i can't access the application on 8080 and active ports display in mac terminal does not show the process running on 8080.</p>\n<p>Same application has been running perfectly through Eclipse on 8080.</p>\n<p>I might be missing something simple. Do i have to enable something in IntelliJ ?</p>\n<p><strong>UPDATE</strong></p>\n<p>In some posts i saw the issue could be with the maven dependencies.</p>\n<p>So i paste my maven dependencies below.</p>\n<pre><code>  &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;org.saurav&lt;/groupId&gt;\n    &lt;artifactId&gt;externalservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;externalservice&lt;/name&gt;\n    &lt;description&gt;Service responsible for making external calls&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;kafka-streams&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka&lt;/artifactId&gt;\n        &lt;/dependency&gt; --&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-kafka-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt; --&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Best Regards,</p>\n<p>Saurav</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1661958446,"post_id":73557902,"comment_id":129896249,"body_markdown":"Why don&#39;t you just repeat the same logic for the other 2 columns? Make 3 variables: sum1, sum2, sum3 and just repeat what you already do.","body":"Why don&#39;t you just repeat the same logic for the other 2 columns? Make 3 variables: sum1, sum2, sum3 and just repeat what you already do."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1661958458,"post_id":73557902,"comment_id":129896255,"body_markdown":"1. Replace the 2nd and 3rd ```nextInt```  with ```nextLine``` 2. Don&#39;t hard-code the divisor","body":"1. Replace the 2nd and 3rd <code>nextInt</code>  with <code>nextLine</code> 2. Don&#39;t hard-code the divisor"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1661958509,"post_id":73557902,"comment_id":129896279,"body_markdown":"It is fine. Limited though as it only picks up the first column. There are other ways to a very similar thing.","body":"It is fine. Limited though as it only picks up the first column. There are other ways to a very similar thing."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661959987,"post_id":73557902,"comment_id":129896869,"body_markdown":"By the way, use [`Math.addExact`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#addExact(int,int)) to detect if [integer overflow](https://en.wikipedia.org/wiki/Integer_overflow) occurs.","body":"By the way, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Math.html#addExact(int,int)\" rel=\"nofollow noreferrer\"><code>Math.addExact</code></a> to detect if <a href=\"https://en.wikipedia.org/wiki/Integer_overflow\" rel=\"nofollow noreferrer\">integer overflow</a> occurs."},{"owner":{"account_id":26209088,"reputation":1,"user_id":19888250,"display_name":"Wombat"},"score":0,"creation_date":1661964578,"post_id":73557902,"comment_id":129898610,"body_markdown":"Thank you all for the help! I got it going for all 3 columns but I noticed that the last digit of the columns isn&#39;t being added to the total. For instance column 1 stops adding at 88 instead of adding the final digit 93","body":"Thank you all for the help! I got it going for all 3 columns but I noticed that the last digit of the columns isn&#39;t being added to the total. For instance column 1 stops adding at 88 instead of adding the final digit 93"}],"answers":[{"tags":[],"owner":{"account_id":7916222,"reputation":303,"user_id":5978561,"display_name":"Jake Henry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661962434,"creation_date":1661962010,"answer_id":73558826,"question_id":73557902,"body_markdown":"    final File textFile = new File(&quot;input.txt&quot;);\r\n    try (Scanner scanner = new Scanner(textFile))\r\n    {\r\n        if (scanner.hasNextLine())\r\n        {\r\n            try (Scanner columnIteratorScanner = new Scanner(scanner.nextLine()))\r\n            {\r\n                int column = 0;\r\n                while (columnIteratorScanner.hasNextInt())\r\n                {\r\n                    columnIteratorScanner.nextInt();\r\n                    try (Scanner fileContentScanner = new Scanner(textFile))\r\n                    {\r\n                        int rows = 0;\r\n                        int sum = 0;\r\n                        while (fileContentScanner.hasNextLine())\r\n                        {\r\n                            rows++;\r\n                            try (Scanner lineScanner = new Scanner(fileContentScanner.nextLine()))\r\n                            {\r\n                                for (int col = 0; col &lt; column; col++)\r\n                                {\r\n                                    lineScanner.nextInt();\r\n                                }\r\n                                sum += lineScanner.nextInt();\r\n                            }\r\n                        }\r\n                        System.out.printf(&quot;Column %d average: %d%n&quot;, column, sum / rows);\r\n                    }\r\n                    column++;\r\n                }\r\n            }\r\n        }\r\n    }","title":"Scanning a .txt file to get the sum of a column WITHOUT an array","body":"<pre><code>final File textFile = new File(&quot;input.txt&quot;);\ntry (Scanner scanner = new Scanner(textFile))\n{\n    if (scanner.hasNextLine())\n    {\n        try (Scanner columnIteratorScanner = new Scanner(scanner.nextLine()))\n        {\n            int column = 0;\n            while (columnIteratorScanner.hasNextInt())\n            {\n                columnIteratorScanner.nextInt();\n                try (Scanner fileContentScanner = new Scanner(textFile))\n                {\n                    int rows = 0;\n                    int sum = 0;\n                    while (fileContentScanner.hasNextLine())\n                    {\n                        rows++;\n                        try (Scanner lineScanner = new Scanner(fileContentScanner.nextLine()))\n                        {\n                            for (int col = 0; col &lt; column; col++)\n                            {\n                                lineScanner.nextInt();\n                            }\n                            sum += lineScanner.nextInt();\n                        }\n                    }\n                    System.out.printf(&quot;Column %d average: %d%n&quot;, column, sum / rows);\n                }\n                column++;\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26209088,"reputation":1,"user_id":19888250,"display_name":"Wombat"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661962434,"creation_date":1661957972,"question_id":73557902,"body_markdown":"My assignment is to get the sum of a column and divide it by 10 to get the average without using an array.\r\n\r\n&gt; My text file:\r\n\r\n    86 89 98\r\n    78 83 93\r\n    93 76 89\r\n    95 80 93\r\n    64 79 95\r\n    89 63 73\r\n    71 89 96\r\n    75 87 78\r\n    88 92 91\r\n    93 82 87\r\n\r\n----------\r\n\r\n\r\nI have this but understandably doesn&#39;t seem the most effective.\r\n\r\n        File f = new File(&quot;input.txt&quot;);\r\n        Scanner scan = new Scanner(f);\r\n        int columns = 0;\r\n        int sum = 0;\r\n        while (scan.hasNextLine()) {\r\n            columns = scan.nextInt();\r\n            System.out.println(columns);\r\n            scan.nextInt();\r\n            scan.nextInt();\r\n            sum += columns;\r\n        }\r\n        scan.close();\r\n        System.out.println(&quot;Average of Column 1: &quot; + sum / 10);\r\n\r\n&gt; Output: Average of Column 1: 83\r\n\r\nHow can I make this better?","title":"Scanning a .txt file to get the sum of a column WITHOUT an array","body":"<p>My assignment is to get the sum of a column and divide it by 10 to get the average without using an array.</p>\n<blockquote>\n<p>My text file:</p>\n</blockquote>\n<pre><code>86 89 98\n78 83 93\n93 76 89\n95 80 93\n64 79 95\n89 63 73\n71 89 96\n75 87 78\n88 92 91\n93 82 87\n</code></pre>\n<hr />\n<p>I have this but understandably doesn't seem the most effective.</p>\n<pre><code>    File f = new File(&quot;input.txt&quot;);\n    Scanner scan = new Scanner(f);\n    int columns = 0;\n    int sum = 0;\n    while (scan.hasNextLine()) {\n        columns = scan.nextInt();\n        System.out.println(columns);\n        scan.nextInt();\n        scan.nextInt();\n        sum += columns;\n    }\n    scan.close();\n    System.out.println(&quot;Average of Column 1: &quot; + sum / 10);\n</code></pre>\n<blockquote>\n<p>Output: Average of Column 1: 83</p>\n</blockquote>\n<p>How can I make this better?</p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1661967118,"post_id":73558653,"comment_id":129899501,"body_markdown":"I can&#39;t tell from this tiny segment of code.  Update your question with a [mre] and be sure to use Swing layout managers to place the `JTable` in a `JScrollPane` on the `JFrame`.","body":"I can&#39;t tell from this tiny segment of code.  Update your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and be sure to use Swing layout managers to place the <code>JTable</code> in a <code>JScrollPane</code> on the <code>JFrame</code>."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1661968146,"post_id":73558653,"comment_id":129899817,"body_markdown":"Don&#39;t use `setPrefeeredSize()`. Scrolling won&#39;t work properly if you hard code the value. The table will automatically calculate the preferred size based on the number of rows of data added to the model.","body":"Don&#39;t use <code>setPrefeeredSize()</code>. Scrolling won&#39;t work properly if you hard code the value. The table will automatically calculate the preferred size based on the number of rows of data added to the model."},{"owner":{"account_id":22082418,"reputation":133,"user_id":18495770,"display_name":"francesco14"},"score":0,"creation_date":1662024031,"post_id":73558653,"comment_id":129912162,"body_markdown":"as camickr said, after deleting setPreferredSize() the JTable showed all the elements","body":"as camickr said, after deleting setPreferredSize() the JTable showed all the elements"}],"owner":{"account_id":22082418,"reputation":133,"user_id":18495770,"display_name":"francesco14"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661962103,"creation_date":1661961172,"question_id":73558653,"body_markdown":"I&#39;m filling a JTable with a List of 68 nftDTO objects but the model paint only 48  nftDTO objects and I need to paint all of them. I paste the code:\r\n\r\n    private JTable setNftTable() {\r\n    \r\n    \tList&lt;NftDTO&gt; nfts = mainWindow.getPeticiones().obtainNftAccount(user.getErd());\r\n    \tString[] columsName = new String[] { &quot;Nu.&quot;,&quot;Name&quot;, &quot;Collection name&quot;, &quot;royalties&quot;, &quot;website&quot; };\r\n    \tDefaultTableModel model = new DefaultTableModel(4, columsName.length);\r\n    \tmodel.setColumnIdentifiers(columsName);\r\n    \r\n    \tfor (NftDTO nft : nfts) {\r\n    \t\tSystem.out.println(nft.getNftUrl());\r\n    \t\tif(nft.getNftUrl()==null) {\r\n    \t\t\tnft.setNftUrl(&quot;there is no URL&quot;);\r\n    \t\t}\r\n    \t\tmodel.addRow(\r\n    \t\t\t\tnew Object[] { countNft(), nft.getNftName(), nft.getColletionName(), nft.getRoyalties(), nft.getNftUrl() });\r\n    \t}\r\n    \tmodel.removeRow(0);\r\n    \tmodel.removeRow(1);\r\n    \tnftTable = new JTable(model);\r\n    \tnftTable.setPreferredSize(new Dimension(500, 800));\r\n    \r\n    \treturn nftTable;\r\n    }\r\nI paste by the way the list i receive and the painting of the method\r\n[The list I recieve][1], \r\n[the painting result][2]\r\nAny suggestion on how can I put all the objects on the JTable?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/w0JUu.jpg\r\n  [2]: https://i.stack.imgur.com/c5kMg.jpg","title":"Issue filling a JTable with a List&lt;nftDTO&gt;","body":"<p>I'm filling a JTable with a List of 68 nftDTO objects but the model paint only 48  nftDTO objects and I need to paint all of them. I paste the code:</p>\n<pre><code>private JTable setNftTable() {\n\n    List&lt;NftDTO&gt; nfts = mainWindow.getPeticiones().obtainNftAccount(user.getErd());\n    String[] columsName = new String[] { &quot;Nu.&quot;,&quot;Name&quot;, &quot;Collection name&quot;, &quot;royalties&quot;, &quot;website&quot; };\n    DefaultTableModel model = new DefaultTableModel(4, columsName.length);\n    model.setColumnIdentifiers(columsName);\n\n    for (NftDTO nft : nfts) {\n        System.out.println(nft.getNftUrl());\n        if(nft.getNftUrl()==null) {\n            nft.setNftUrl(&quot;there is no URL&quot;);\n        }\n        model.addRow(\n                new Object[] { countNft(), nft.getNftName(), nft.getColletionName(), nft.getRoyalties(), nft.getNftUrl() });\n    }\n    model.removeRow(0);\n    model.removeRow(1);\n    nftTable = new JTable(model);\n    nftTable.setPreferredSize(new Dimension(500, 800));\n\n    return nftTable;\n}\n</code></pre>\n<p>I paste by the way the list i receive and the painting of the method\n<a href=\"https://i.stack.imgur.com/w0JUu.jpg\" rel=\"nofollow noreferrer\">The list I recieve</a>,\n<a href=\"https://i.stack.imgur.com/c5kMg.jpg\" rel=\"nofollow noreferrer\">the painting result</a>\nAny suggestion on how can I put all the objects on the JTable?</p>\n"},{"tags":["java","spring-boot","ssl","iis","https"],"comments":[{"owner":{"account_id":5228097,"reputation":124,"user_id":4179474,"display_name":"Howard007"},"score":0,"creation_date":1661966404,"post_id":73558799,"comment_id":129899245,"body_markdown":"Where did you put your .p12 file?  In all likelihood, should be in src/main/resources/keystore\nHere are some resources that might help:\nhttps://www.baeldung.com/spring-boot-https-self-signed-certificate\nhttps://mkyong.com/spring-boot/spring-boot-ssl-https-examples/\nhttps://www.thomasvitale.com/https-spring-boot-ssl-certificate/","body":"Where did you put your .p12 file?  In all likelihood, should be in src/main/resources/keystore Here are some resources that might help: <a href=\"https://www.baeldung.com/spring-boot-https-self-signed-certificate\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-https-self-signed-certificate</a> <a href=\"https://mkyong.com/spring-boot/spring-boot-ssl-https-examples/\" rel=\"nofollow noreferrer\">mkyong.com/spring-boot/spring-boot-ssl-https-examples</a> <a href=\"https://www.thomasvitale.com/https-spring-boot-ssl-certificate/\" rel=\"nofollow noreferrer\">thomasvitale.com/https-spring-boot-ssl-certificate</a>"},{"owner":{"account_id":25616875,"reputation":7,"user_id":19389346,"display_name":"user19389346"},"score":0,"creation_date":1661968016,"post_id":73558799,"comment_id":129899779,"body_markdown":"yes there src/main/resources/keystore","body":"yes there src/main/resources/keystore"},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":0,"creation_date":1661975036,"post_id":73558799,"comment_id":129901940,"body_markdown":"You didn&#39;t mention clearly above how you host the Java web app. Thus, you have to edit the question and reveal more.","body":"You didn&#39;t mention clearly above how you host the Java web app. Thus, you have to edit the question and reveal more."},{"owner":{"account_id":25616875,"reputation":7,"user_id":19389346,"display_name":"user19389346"},"score":0,"creation_date":1661980405,"post_id":73558799,"comment_id":129903446,"body_markdown":"I enabled my spring boot https but now I am getting ERR_CERT_COMMON_NAME_INVALID, when I make request to backend https:/localhost:5433. certificate is valid I dont know why I am getting this error","body":"I enabled my spring boot https but now I am getting ERR_CERT_COMMON_NAME_INVALID, when I make request to backend https:/localhost:5433. certificate is valid I dont know why I am getting this error"},{"owner":{"account_id":25983126,"reputation":1843,"user_id":19696445,"display_name":"YurongDai"},"score":0,"creation_date":1662518900,"post_id":73558799,"comment_id":130021524,"body_markdown":"Have you seen this thread: https://stackoverflow.com/questions/67765238/mixed-content-the-page-at-was-loaded-over-https-but-requested-an-insecure-resour\nIn the JSP page, just add this meta: `&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;upgrade-insecure-requests&quot;&gt;` to your HTML to allow mixed content.","body":"Have you seen this thread: <a href=\"https://stackoverflow.com/questions/67765238/mixed-content-the-page-at-was-loaded-over-https-but-requested-an-insecure-resour\" title=\"mixed content the page at was loaded over https but requested an insecure resour\">stackoverflow.com/questions/67765238/&hellip;</a> In the JSP page, just add this meta: <code>&lt;meta http-equiv=&quot;Content-Security-Policy&quot; content=&quot;upgrade-insecure-requests&quot;&gt;</code> to your HTML to allow mixed content."}],"owner":{"account_id":25616875,"reputation":7,"user_id":19389346,"display_name":"user19389346"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661961882,"creation_date":1661961882,"question_id":73558799,"body_markdown":"I checked all similar error but none of them solved my problem. I have a React and Spring Boot app. Frontend and Backend are separated. They both work in windows server 2012. I take build of react app and add it to IIS Manager. I created a certificate from ZeroSSL and I added the certificate to IIS manager. When I go to my web page it says secured it works fine. But When I make any request to my java spring boot backend. It gives error. Because it makes request in https. but I wrote in &quot;http&quot; not &quot;https&quot;. \r\n \r\n\r\nIt gives below error.\r\n```\r\nMixed Content: The page at &#39;https://webpage.com/#/&#39; was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint &#39;http://IP:8080/api/login/. This request has been blocked; the content must be served over HTTPS.\r\n```\r\n\r\nAfter that I tried to convert my java backend app http to https,\r\nI added these to application.properties\r\n```server.port=8443\r\nsecurity.require-ssl=true\r\nserver.ssl.key-store=certificate\r\nserver.ssl.key-store-password=password\r\nserver.ssl.keyStoreType=PKCS12\r\nserver.ssl.keyAlias=tomcat\r\n```\r\n\r\nI created same certificate and add under application.properties file but still gives me error. I am really stuck on it. any there is nobody to near to help me. I hope you can help me.","title":"This request has been blocked; the content must be served over HTTPS react / spring boot","body":"<p>I checked all similar error but none of them solved my problem. I have a React and Spring Boot app. Frontend and Backend are separated. They both work in windows server 2012. I take build of react app and add it to IIS Manager. I created a certificate from ZeroSSL and I added the certificate to IIS manager. When I go to my web page it says secured it works fine. But When I make any request to my java spring boot backend. It gives error. Because it makes request in https. but I wrote in &quot;http&quot; not &quot;https&quot;.</p>\n<p>It gives below error.</p>\n<pre><code>Mixed Content: The page at 'https://webpage.com/#/' was loaded over HTTPS, but requested an insecure XMLHttpRequest endpoint 'http://IP:8080/api/login/. This request has been blocked; the content must be served over HTTPS.\n</code></pre>\n<p>After that I tried to convert my java backend app http to https,\nI added these to application.properties</p>\n<pre><code>security.require-ssl=true\nserver.ssl.key-store=certificate\nserver.ssl.key-store-password=password\nserver.ssl.keyStoreType=PKCS12\nserver.ssl.keyAlias=tomcat\n</code></pre>\n<p>I created same certificate and add under application.properties file but still gives me error. I am really stuck on it. any there is nobody to near to help me. I hope you can help me.</p>\n"},{"tags":["java","generics","optaplanner"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661960617,"creation_date":1661960617,"answer_id":73558528,"question_id":73558244,"body_markdown":"In this declaration\r\n\r\n    public abstract class CommonBusinessLayer&lt;Solution_ extends SolutionBase&gt; extends LoggingMain\r\n\r\n`Solution_` is a type *variable*, nothing to do with the `Solution_` class and actually *hides* the `Solution_` class from the code in `CommonBusinessLayer`.\r\n\r\nBest practice is to use a single capital letter for type variables, usually `T`.\r\n\r\nChange your class to:\r\n\r\n    public abstract class CommonBusinessLayer&lt;T extends SolutionBase&gt; extends LoggingMain\r\n\r\n---\r\n\r\nIf the type is always going to be `Solution_` (or a subclass thereof), don&#39;t make `CommonBusinessLayer` generic and instead use `Solution_` in your code and rely normal inheritance.","title":"java knowledge gap - OptaPlanner generics related - what do I miss?","body":"<p>In this declaration</p>\n<pre><code>public abstract class CommonBusinessLayer&lt;Solution_ extends SolutionBase&gt; extends LoggingMain\n</code></pre>\n<p><code>Solution_</code> is a type <em>variable</em>, nothing to do with the <code>Solution_</code> class and actually <em>hides</em> the <code>Solution_</code> class from the code in <code>CommonBusinessLayer</code>.</p>\n<p>Best practice is to use a single capital letter for type variables, usually <code>T</code>.</p>\n<p>Change your class to:</p>\n<pre><code>public abstract class CommonBusinessLayer&lt;T extends SolutionBase&gt; extends LoggingMain\n</code></pre>\n<hr />\n<p>If the type is always going to be <code>Solution_</code> (or a subclass thereof), don't make <code>CommonBusinessLayer</code> generic and instead use <code>Solution_</code> in your code and rely normal inheritance.</p>\n"}],"owner":{"account_id":5004585,"reputation":198,"user_id":4022609,"display_name":"sudo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661960669,"creation_date":1661959477,"question_id":73558244,"body_markdown":"I&#39;m busy with an OptaPlanner project, and made a modification which is exposing a java (generics) knowledge gap of mine. In the OptaPlanner framework, there is a set of generic classes using the Solution_ type. In my project, I wanted to have that Solution_ extend from SolutionBase, which is a class I made myself and which holds some common characteristics I want all my Solution classes to have.\r\n\r\nSo whereas before, I had my business layer class declared generically:\r\n```\r\npublic abstract class CommonBusinessLayer&lt;Solution_&gt; extends LoggingMain\r\n```\r\nit now has to be declared:\r\n\r\n```\r\npublic abstract class CommonBusinessLayer&lt;Solution_ extends SolutionBase&gt; extends LoggingMain\r\n```\r\n\r\nHowever, in that business layer class, I have a problematic statement that I don&#39;t know how to write. before that change, the line\r\n\r\n```\r\nDefaultSolverFactory&lt;Solution_&gt; solverFactory = (DefaultSolverFactory&lt;Solution_&gt;)SolverFactory.createFromXmlResource(&quot;some string&quot;);\r\n```\r\ncompiled just fine (the createFromXmlResource- method is part of the OptaPlanner framework). But this now doesn&#39;t compile any longer because I made Solution_ inherit from SolutionBase. When looking into the framework&#39;s return type of `SolverFactory.createFromXmlResource(&quot;some string&quot;)`, it&#39;s obvious that I can&#39;t make the (generic) return type any more type-specific.\r\n\r\nSo how do I solve this problem?\r\n\r\n(FWIW, I realise that I need some more java -generics- education, and in the meantime ordered Joshua Bloch&#39;s &quot;Effective Java&quot; book, yet I hope to be helped out a little quicker here).","title":"java knowledge gap - OptaPlanner generics related - what do I miss?","body":"<p>I'm busy with an OptaPlanner project, and made a modification which is exposing a java (generics) knowledge gap of mine. In the OptaPlanner framework, there is a set of generic classes using the Solution_ type. In my project, I wanted to have that Solution_ extend from SolutionBase, which is a class I made myself and which holds some common characteristics I want all my Solution classes to have.</p>\n<p>So whereas before, I had my business layer class declared generically:</p>\n<pre><code>public abstract class CommonBusinessLayer&lt;Solution_&gt; extends LoggingMain\n</code></pre>\n<p>it now has to be declared:</p>\n<pre><code>public abstract class CommonBusinessLayer&lt;Solution_ extends SolutionBase&gt; extends LoggingMain\n</code></pre>\n<p>However, in that business layer class, I have a problematic statement that I don't know how to write. before that change, the line</p>\n<pre><code>DefaultSolverFactory&lt;Solution_&gt; solverFactory = (DefaultSolverFactory&lt;Solution_&gt;)SolverFactory.createFromXmlResource(&quot;some string&quot;);\n</code></pre>\n<p>compiled just fine (the createFromXmlResource- method is part of the OptaPlanner framework). But this now doesn't compile any longer because I made Solution_ inherit from SolutionBase. When looking into the framework's return type of <code>SolverFactory.createFromXmlResource(&quot;some string&quot;)</code>, it's obvious that I can't make the (generic) return type any more type-specific.</p>\n<p>So how do I solve this problem?</p>\n<p>(FWIW, I realise that I need some more java -generics- education, and in the meantime ordered Joshua Bloch's &quot;Effective Java&quot; book, yet I hope to be helped out a little quicker here).</p>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"score":0,"creation_date":1653729349,"post_id":72413499,"comment_id":127925369,"body_markdown":"Which all libraries are you using? Add it in the question","body":"Which all libraries are you using? Add it in the question"},{"owner":{"account_id":2435291,"reputation":5500,"user_id":2125351,"display_name":"Sean Blahovici"},"score":0,"creation_date":1653747730,"post_id":72413499,"comment_id":127928895,"body_markdown":"Check the Merged manifest, you can find the culprit there. It is likely one of your dependencies that does not set a required export flag.","body":"Check the Merged manifest, you can find the culprit there. It is likely one of your dependencies that does not set a required export flag."},{"owner":{"account_id":23702383,"reputation":23,"user_id":17725388,"display_name":"Nikolai Romanov Belliovichksky"},"score":0,"creation_date":1653754739,"post_id":72413499,"comment_id":127930411,"body_markdown":"Checked it but all things seemed fine there too. I even cleared my gradle cache but nothing seems to work","body":"Checked it but all things seemed fine there too. I even cleared my gradle cache but nothing seems to work"},{"owner":{"account_id":23702383,"reputation":23,"user_id":17725388,"display_name":"Nikolai Romanov Belliovichksky"},"score":0,"creation_date":1654009937,"post_id":72413499,"comment_id":127987780,"body_markdown":"Is there a fix ?","body":"Is there a fix ?"},{"owner":{"account_id":14272762,"reputation":390,"user_id":10309810,"display_name":"Pavel Horyna"},"score":0,"creation_date":1661766717,"post_id":72413499,"comment_id":129841527,"body_markdown":"Wow orcs are allowed here? Gtfo","body":"Wow orcs are allowed here? Gtfo"}],"answers":[{"tags":[],"owner":{"account_id":22315719,"reputation":76,"user_id":16539101,"display_name":"Looping Boy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661960108,"creation_date":1661960057,"answer_id":73558388,"question_id":72413499,"body_markdown":"The reason is because some of the dependency libraries that you&#39;re using have elements which do not have &quot;android:exported&quot; attribute.\r\n\r\nYou need to do this:\r\n\r\nLower the version in your gradle to 30 and sync and build.\r\nGo to your AndroidManifest.xml file and click on &quot;Merged Manifest&quot;.\r\nFind items such as Activity, Receiver, Service, etc that don&#39;t have &quot;android:exported&quot; attribute.\r\nThen add them to your AndroidManifest.xml file in this way.\r\n\r\n    &lt;activity\r\n        android:name=&quot;SomeActivity&quot;\r\n        android:exported=&quot;false&quot;\r\n        tools:node=&quot;merge&quot;\r\n        tools:replace=&quot;android:exported&quot; /&gt;\r\n\r\nNow you can increase your version to 31.\r\n\r\nI fixed it that way ! Hope it helps you !","title":"Android:exported needs to be explicitly specified for &lt;service&gt;.Apps targeting Android 12 and higher","body":"<p>The reason is because some of the dependency libraries that you're using have elements which do not have &quot;android:exported&quot; attribute.</p>\n<p>You need to do this:</p>\n<p>Lower the version in your gradle to 30 and sync and build.\nGo to your AndroidManifest.xml file and click on &quot;Merged Manifest&quot;.\nFind items such as Activity, Receiver, Service, etc that don't have &quot;android:exported&quot; attribute.\nThen add them to your AndroidManifest.xml file in this way.</p>\n<pre><code>&lt;activity\n    android:name=&quot;SomeActivity&quot;\n    android:exported=&quot;false&quot;\n    tools:node=&quot;merge&quot;\n    tools:replace=&quot;android:exported&quot; /&gt;\n</code></pre>\n<p>Now you can increase your version to 31.</p>\n<p>I fixed it that way ! Hope it helps you !</p>\n"}],"owner":{"account_id":23702383,"reputation":23,"user_id":17725388,"display_name":"Nikolai Romanov Belliovichksky"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1441,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73558388,"answer_count":1,"score":1,"last_activity_date":1661960108,"creation_date":1653720223,"question_id":72413499,"body_markdown":"There is an error *android:exported needs to be explicitly specified for service* while compiling \r\n\r\n\r\n**gradle-wrapper.properties**:\r\n```#Mon Sep 07 16:37:07 PKT 2020\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3-bin.zip\r\n```\r\n\r\n**AndroidManifest.xml**:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    package=&quot;com.nari.vpn&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:name=&quot;com.nari.vpn.MainApplication&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:exported=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;\r\n        tools:targetApi=&quot;n&quot;&gt;\r\n\r\n        &lt;activity\r\n            android:name=&quot;com.nari.vpn.activity.SplashActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/splashTheme&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;com.nari.vpn.activity.About&quot; android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity android:name=&quot;com.nari.vpn.activity.Faq&quot; android:exported=&quot;true&quot;/&gt; &lt;!-- google ads --&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\r\n            android:value=&quot;@string/admob_app_id&quot; /&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\r\n            android:value=&quot;true&quot; /&gt;\r\n\r\n        &lt;activity android:name=&quot;com.nari.vpn.activity.MainActivity&quot; android:exported=&quot;true&quot;\r\n            android:launchMode=&quot;singleTask&quot;\r\n            /&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\nI specified *android:exported=* for all the activities but still it is giving me an error.\r\nNo errors were reported as an error in the Java code itself.\r\n\r\n\r\n**EDIT**:\r\n\r\n\r\nDependencies/Libraries used:\r\n\r\n\r\n```dependencies {\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n    implementation &#39;com.github.AnchorFreePartner.hydra-sdk-android:sdk:3.4.0&#39;\r\n    implementation &#39;com.github.AnchorFreePartner.hydra-sdk-android:openvpn:3.4.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.5.0-alpha01&#39;\r\n    implementation &#39;com.jakewharton:butterknife:10.2.3&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n    implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n    annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.2.3&#39;\r\n    implementation &#39;androidx.multidex:multidex:2.0.1&#39;\r\n\r\n    //cutoms things\r\n    //implementation &quot;com.airbnb.android:lottie:3.6.0&quot;\r\n\r\n\r\n    //ad-mob and facebook mediation\r\n    implementation &#39;com.google.android.gms:play-services-ads:20.2.0&#39;//19.8.0\r\n    implementation &#39;com.google.ads.mediation:facebook:6.5.1.0&#39;\r\n\r\n    //customs\r\n    implementation &#39;com.github.pepperonas:materialdialog:0.3.4&#39;\r\n    implementation &#39;pl.bclogic:pulsator4droid:1.0.3&#39;\r\n\r\n    //Preference Library\r\n    implementation &#39;com.pixplicity.easyprefs:library:1.9.0&#39;\r\n\r\n\r\n    //Drawer Library\r\n    implementation &#39;com.infideap.drawerbehavior:drawer-behavior:1.0.1&#39;\r\n\r\n    //checkBox\r\n    implementation &#39;net.igenius:customcheckbox:1.3&#39;\r\n\r\n\r\n    //Custom Toast\r\n    implementation &#39;com.github.GrenderG:Toasty:1.5.0&#39;\r\n\r\n}\r\n```\r\n\r\n2] Updated all dependencies still not working ","title":"Android:exported needs to be explicitly specified for &lt;service&gt;.Apps targeting Android 12 and higher","body":"<p>There is an error <em>android:exported needs to be explicitly specified for service</em> while compiling</p>\n<p><strong>gradle-wrapper.properties</strong>:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.3-bin.zip\n</code></pre>\n<p><strong>AndroidManifest.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    package=&quot;com.nari.vpn&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.FOREGROUND_SERVICE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;com.android.vending.BILLING&quot; /&gt;\n\n    &lt;application\n        android:name=&quot;com.nari.vpn.MainApplication&quot;\n        android:allowBackup=&quot;true&quot;\n        android:exported=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/AppTheme&quot;\n        tools:ignore=&quot;GoogleAppIndexingWarning&quot;\n        tools:targetApi=&quot;n&quot;&gt;\n\n        &lt;activity\n            android:name=&quot;com.nari.vpn.activity.SplashActivity&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/splashTheme&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;com.nari.vpn.activity.About&quot; android:exported=&quot;true&quot; /&gt;\n        &lt;activity android:name=&quot;com.nari.vpn.activity.Faq&quot; android:exported=&quot;true&quot;/&gt; &lt;!-- google ads --&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.APPLICATION_ID&quot;\n            android:value=&quot;@string/admob_app_id&quot; /&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.gms.ads.AD_MANAGER_APP&quot;\n            android:value=&quot;true&quot; /&gt;\n\n        &lt;activity android:name=&quot;com.nari.vpn.activity.MainActivity&quot; android:exported=&quot;true&quot;\n            android:launchMode=&quot;singleTask&quot;\n            /&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>I specified <em>android:exported=</em> for all the activities but still it is giving me an error.\nNo errors were reported as an error in the Java code itself.</p>\n<p><strong>EDIT</strong>:</p>\n<p>Dependencies/Libraries used:</p>\n<pre><code>    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.github.AnchorFreePartner.hydra-sdk-android:sdk:3.4.0'\n    implementation 'com.github.AnchorFreePartner.hydra-sdk-android:openvpn:3.4.0'\n    implementation 'androidx.appcompat:appcompat:1.3.0'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    implementation 'com.google.android.material:material:1.5.0-alpha01'\n    implementation 'com.jakewharton:butterknife:10.2.3'\n    implementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.2.3'\n    implementation 'androidx.multidex:multidex:2.0.1'\n\n    //cutoms things\n    //implementation &quot;com.airbnb.android:lottie:3.6.0&quot;\n\n\n    //ad-mob and facebook mediation\n    implementation 'com.google.android.gms:play-services-ads:20.2.0'//19.8.0\n    implementation 'com.google.ads.mediation:facebook:6.5.1.0'\n\n    //customs\n    implementation 'com.github.pepperonas:materialdialog:0.3.4'\n    implementation 'pl.bclogic:pulsator4droid:1.0.3'\n\n    //Preference Library\n    implementation 'com.pixplicity.easyprefs:library:1.9.0'\n\n\n    //Drawer Library\n    implementation 'com.infideap.drawerbehavior:drawer-behavior:1.0.1'\n\n    //checkBox\n    implementation 'net.igenius:customcheckbox:1.3'\n\n\n    //Custom Toast\n    implementation 'com.github.GrenderG:Toasty:1.5.0'\n\n}\n</code></pre>\n<p>2] Updated all dependencies still not working</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1661960204,"post_id":73558334,"comment_id":129896965,"body_markdown":"Doesn&#39;t it appear in the console?","body":"Doesn&#39;t it appear in the console?"},{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1661960895,"post_id":73558334,"comment_id":129897267,"body_markdown":"my python execute commands always appear in the terminal, choose a different terminal in your launch config","body":"my python execute commands always appear in the terminal, choose a different terminal in your launch config"},{"owner":{"account_id":9837559,"reputation":33,"user_id":7287472,"accept_rate":20,"display_name":"A. Johnston"},"score":0,"creation_date":1661966013,"post_id":73558334,"comment_id":129899090,"body_markdown":"@DaveNewton not for java","body":"@DaveNewton not for java"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1661967295,"post_id":73558334,"comment_id":129899559,"body_markdown":"@A.Johnston Odd; it does for me. `[Running] cd &quot;/Users/david.newton/tech/lang/java/playground/&quot; &amp;&amp; javac Foo.java &amp;&amp; java Foo` How are you running it?","body":"@A.Johnston Odd; it does for me. <code>[Running] cd &quot;&#47;Users&#47;david.newton&#47;tech&#47;lang&#47;java&#47;playground&#47;&quot; &amp;&amp; javac Foo.java &amp;&amp; java Foo</code> How are you running it?"},{"owner":{"account_id":17983057,"reputation":1072,"user_id":13068918,"display_name":"Sheng Chen"},"score":0,"creation_date":1661995062,"post_id":73558334,"comment_id":129905921,"body_markdown":"What are the installed extensions for Java language in your VS Code?","body":"What are the installed extensions for Java language in your VS Code?"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1661995875,"post_id":73558334,"comment_id":129906048,"body_markdown":"Are you referring to [these](https://imgur.com/Epn80yY)?","body":"Are you referring to <a href=\"https://imgur.com/Epn80yY\" rel=\"nofollow noreferrer\">these</a>?"}],"owner":{"account_id":9837559,"reputation":33,"user_id":7287472,"accept_rate":20,"display_name":"A. Johnston"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661959813,"creation_date":1661959813,"question_id":73558334,"body_markdown":"Is there a way to view the executed command that is run when you launch in vscode? I have a java launch configuration, and would like to see the actual command that is executed to run my program. ","title":"VSCode launch configuration - View Generated Command","body":"<p>Is there a way to view the executed command that is run when you launch in vscode? I have a java launch configuration, and would like to see the actual command that is executed to run my program.</p>\n"},{"tags":["java","spring-boot","file"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":1,"creation_date":1661175757,"post_id":73446048,"comment_id":129702697,"body_markdown":"What is not working with your current solution? Are you getting an exception? If yes, which one, on what line? Or are you getting an unexpected output? Can you make the code smaller to isolate the problem you&#39;re getting (and let us reproduce it)? E.g. if UserEntity is not needed for the problem, strip it out, simplify until your problem reproduces in 3-5 lines of code with a clear exception. When that happens it tends to be trivial to google / guess the issue.","body":"What is not working with your current solution? Are you getting an exception? If yes, which one, on what line? Or are you getting an unexpected output? Can you make the code smaller to isolate the problem you&#39;re getting (and let us reproduce it)? E.g. if UserEntity is not needed for the problem, strip it out, simplify until your problem reproduces in 3-5 lines of code with a clear exception. When that happens it tends to be trivial to google / guess the issue."},{"owner":{"account_id":22916940,"reputation":11,"user_id":17053388,"display_name":"Alexandru Cristian Iordache"},"score":0,"creation_date":1661176826,"post_id":73446048,"comment_id":129703227,"body_markdown":"@PetrJaneček I&#39;m getting an unexpected output. The output is the URL which I introduce to get the file. I have been searching for a solution but I find nothing.","body":"@PetrJaneček I&#39;m getting an unexpected output. The output is the URL which I introduce to get the file. I have been searching for a solution but I find nothing."},{"owner":{"account_id":9182237,"reputation":817,"user_id":6825678,"display_name":"DrHopfen"},"score":0,"creation_date":1661178722,"post_id":73446048,"comment_id":129704030,"body_markdown":"The getPic() method is returning &quot;an abstract representation of file and directory pathnames&quot;. Not the content of the file (picture).","body":"The getPic() method is returning &quot;an abstract representation of file and directory pathnames&quot;. Not the content of the file (picture)."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1661182317,"post_id":73446048,"comment_id":129705382,"body_markdown":"`src/main/resources` will not be there when you deploy. Anything in `src` will not be there unless you configure your deployment to include it. All those files will get put into the same location as your classes when the project is built. For files in `src/main/resources` they will become  resources that you should read from the class path using something like `getClass().getResourceAsStream(&quot;/userprofileimages/file&quot;)`","body":"<code>src&#47;main&#47;resources</code> will not be there when you deploy. Anything in <code>src</code> will not be there unless you configure your deployment to include it. All those files will get put into the same location as your classes when the project is built. For files in <code>src&#47;main&#47;resources</code> they will become  resources that you should read from the class path using something like <code>getClass().getResourceAsStream(&quot;&#47;userprofileimages&#47;file&quot;)</code>"}],"owner":{"account_id":22916940,"reputation":11,"user_id":17053388,"display_name":"Alexandru Cristian Iordache"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661959378,"creation_date":1661175389,"question_id":73446048,"body_markdown":"I&#39;m trying to get a file from an absolute path saved in a MySQL database.\r\nThe idea is to get the file from a string param and return and use it in the frontend.  \r\nThe backend is made in java with Spring Boot and JPA.\r\n\r\nThe main problem is that I don&#39;t find a way to get the file or the bytes of the file. In this code, the method returns the path, not the file in this path.\r\n\r\nThe method to get the files is the next (doesn&#39;t work):\r\n```\r\npublic File getPic(String filename) throws IOException {\r\n    Path currentWorkingDir = Paths.get(&quot;&quot;).toAbsolutePath();      \r\n    File file = new File(currentWorkingDir.normalize().toString()+ &quot;\\\\src\\\\main\\\\resources\\\\userprofileimages\\\\&quot; + filename);\r\n    return file;\r\n}\r\n``` \r\n\r\nThe method to save the file in the project is the next (it works):\r\n```\r\npublic UserEntity uploadProfile(Long id, MultipartFile file) {\r\n    if (file == null || !file.getContentType().contains(&quot;image&quot;)) {\r\n        throw new ProfileImageException(HttpStatus.BAD_REQUEST, &quot;Este archivo no es una imagen.&quot;);\r\n    }\r\n        \r\n    UserEntity user = userRepository.findById(id).orElseThrow(() -&gt; new UserNotExistException (HttpStatus.BAD_REQUEST, &quot;El usuario no existe.&quot;));;\r\n    try {\r\n        Path currentWorkingDir = Paths.get(&quot;&quot;).toAbsolutePath();\r\n\r\n        if (user.getProfilepic() == null) {\r\n            File oldpic = new File(currentWorkingDir.normalize().toString() + &quot;\\\\src\\\\main\\\\resources\\\\userprofileimages\\\\&quot; + user.getProfilepic());\r\n            oldpic.deleteOnExit();\r\n        }\r\n            \r\n        String filename = user.getId() + &quot;.&quot; + file.getOriginalFilename().substring(file.getOriginalFilename().lastIndexOf(&quot;.&quot;) + 1);\r\n\r\n        File path = new File(currentWorkingDir.normalize().toString() + &quot;\\\\src\\\\main\\\\resources\\\\userprofileimages\\\\&quot; + filename);\r\n\r\n        FileOutputStream output = new FileOutputStream(path);\r\n        output.write(file.getBytes());\r\n        output.close();\r\n            \r\n        user.setProfilepic(filename);\r\n        return userRepository.save(user);\r\n            \r\n    } catch (IOException e) {\r\n        throw new ProfileImageException(HttpStatus.BAD_REQUEST, &quot;La imagen no se a podido guardar correctamente.&quot;);\r\n    }\r\n}\r\n```\r\n","title":"How can I return a file from a path in Java?","body":"<p>I'm trying to get a file from an absolute path saved in a MySQL database.\nThe idea is to get the file from a string param and return and use it in the frontend.<br />\nThe backend is made in java with Spring Boot and JPA.</p>\n<p>The main problem is that I don't find a way to get the file or the bytes of the file. In this code, the method returns the path, not the file in this path.</p>\n<p>The method to get the files is the next (doesn't work):</p>\n<pre><code>public File getPic(String filename) throws IOException {\n    Path currentWorkingDir = Paths.get(&quot;&quot;).toAbsolutePath();      \n    File file = new File(currentWorkingDir.normalize().toString()+ &quot;\\\\src\\\\main\\\\resources\\\\userprofileimages\\\\&quot; + filename);\n    return file;\n}\n</code></pre>\n<p>The method to save the file in the project is the next (it works):</p>\n<pre><code>public UserEntity uploadProfile(Long id, MultipartFile file) {\n    if (file == null || !file.getContentType().contains(&quot;image&quot;)) {\n        throw new ProfileImageException(HttpStatus.BAD_REQUEST, &quot;Este archivo no es una imagen.&quot;);\n    }\n        \n    UserEntity user = userRepository.findById(id).orElseThrow(() -&gt; new UserNotExistException (HttpStatus.BAD_REQUEST, &quot;El usuario no existe.&quot;));;\n    try {\n        Path currentWorkingDir = Paths.get(&quot;&quot;).toAbsolutePath();\n\n        if (user.getProfilepic() == null) {\n            File oldpic = new File(currentWorkingDir.normalize().toString() + &quot;\\\\src\\\\main\\\\resources\\\\userprofileimages\\\\&quot; + user.getProfilepic());\n            oldpic.deleteOnExit();\n        }\n            \n        String filename = user.getId() + &quot;.&quot; + file.getOriginalFilename().substring(file.getOriginalFilename().lastIndexOf(&quot;.&quot;) + 1);\n\n        File path = new File(currentWorkingDir.normalize().toString() + &quot;\\\\src\\\\main\\\\resources\\\\userprofileimages\\\\&quot; + filename);\n\n        FileOutputStream output = new FileOutputStream(path);\n        output.write(file.getBytes());\n        output.close();\n            \n        user.setProfilepic(filename);\n        return userRepository.save(user);\n            \n    } catch (IOException e) {\n        throw new ProfileImageException(HttpStatus.BAD_REQUEST, &quot;La imagen no se a podido guardar correctamente.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","authentication","google-kubernetes-engine","google-cloud-run"],"comments":[{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":1,"creation_date":1661914549,"post_id":73548332,"comment_id":129882790,"body_markdown":"I&#39;ve not fully read your question (apolz) but I&#39;m familiar with connecting to Kubernetes clusters from other services. Generally (!) the approach w/ GKE is to use the Google Container (Kubernetes) service to e.g. [`projects.locations.clusters.get`](https://cloud.google.com/kubernetes-engine/docs/reference/rest/v1/projects.locations.clusters/get) and use the [`Cluster`](https://cloud.google.com/kubernetes-engine/docs/reference/rest/v1/projects.locations.clusters#Cluster) resource to construct a Kubernetes `v1.Config`.","body":"I&#39;ve not fully read your question (apolz) but I&#39;m familiar with connecting to Kubernetes clusters from other services. Generally (!) the approach w/ GKE is to use the Google Container (Kubernetes) service to e.g. <a href=\"https://cloud.google.com/kubernetes-engine/docs/reference/rest/v1/projects.locations.clusters/get\" rel=\"nofollow noreferrer\"><code>projects.locations.clusters.get</code></a> and use the <a href=\"https://cloud.google.com/kubernetes-engine/docs/reference/rest/v1/projects.locations.clusters#Cluster\" rel=\"nofollow noreferrer\"><code>Cluster</code></a> resource to construct a Kubernetes <code>v1.Config</code>."},{"owner":{"account_id":301516,"reputation":34141,"user_id":609290,"accept_rate":62,"display_name":"DazWilkin"},"score":0,"creation_date":1661914758,"post_id":73548332,"comment_id":129882819,"body_markdown":"Here&#39;s a [sample](https://gist.github.com/DazWilkin/9506c0b9677d53a3e11b7457ed21cbe7) using Golang that you can hopefully grok to write the equivalent Java.","body":"Here&#39;s a <a href=\"https://gist.github.com/DazWilkin/9506c0b9677d53a3e11b7457ed21cbe7\" rel=\"nofollow noreferrer\">sample</a> using Golang that you can hopefully grok to write the equivalent Java."}],"owner":{"account_id":3128387,"reputation":752,"user_id":2646836,"accept_rate":67,"display_name":"carlos palma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661959248,"creation_date":1661892706,"question_id":73548332,"body_markdown":"When running the following code locally I can create a job in a GKE cluster:\r\n```\r\n  final ConfigBuilder configBuilder = new ConfigBuilder();\r\n    if (args.length &gt; 0) {\r\n      configBuilder.withMasterUrl(args[0]);\r\n    }\r\n    try (KubernetesClient client = new KubernetesClientBuilder().withConfig(configBuilder.build()).build()) {\r\n      final String namespace = &quot;default&quot;;\r\n      final Job job = new JobBuilder()\r\n          .withApiVersion(&quot;batch/v1&quot;)\r\n          .withNewMetadata()\r\n          .withName(&quot;pi&quot;)\r\n          .withLabels(Collections.singletonMap(&quot;label1&quot;, &quot;maximum-length-of-63-characters&quot;))\r\n          .withAnnotations(Collections.singletonMap(&quot;annotation1&quot;, &quot;some-very-long-annotation&quot;))\r\n          .endMetadata()\r\n          .withNewSpec()\r\n          .withNewTemplate()\r\n          .withNewSpec()\r\n          .addNewContainer()\r\n          .withName(&quot;pi&quot;)\r\n          .withImage(&quot;perl:5.34.0&quot;)\r\n          .withArgs(&quot;perl&quot;, &quot;-Mbignum=bpi&quot;, &quot;-wle&quot;, &quot;print bpi(2000)&quot;)\r\n          .endContainer()\r\n          .withRestartPolicy(&quot;Never&quot;)\r\n          .endSpec()\r\n          .endTemplate()\r\n          .endSpec()\r\n          .build();\r\n\r\n      logger.info(&quot;Creating job pi.&quot;);\r\n      client.batch().v1().jobs().inNamespace(namespace).createOrReplace(job);\r\n\r\n      // Print Job&#39;s log\r\n\r\n      PodList podList = client.pods().inNamespace(namespace).withLabel(&quot;job-name&quot;, job.getMetadata().getName()).list();\r\n      client.pods().inNamespace(namespace).withName(podList.getItems().get(0).getMetadata().getName());\r\n\r\n      String joblog = client.batch().v1().jobs().inNamespace(namespace).withName(&quot;pi&quot;).getLog();\r\n      logger.info(joblog);\r\n\r\n    } catch (KubernetesClientException e) {\r\n      logger.error(&quot;Unable to create job&quot;, e);\r\n    }\r\n  }\r\n```\r\n\r\nNow I want to do the same from cloud run. In order to do that I used the following Dockerfile to create an image:\r\n```\r\nFROM adoptopenjdk/openjdk11:latest\r\nWORKDIR /app\r\nCOPY target/cloud-run-example-1.0-SNAPSHOT-spring-boot.jar ./cloud-run-example-1.0-SNAPSHOT-spring-boot.jar\r\nCMD java $JAVA_OPTIONS -jar cloud-run-example-1.0-SNAPSHOT-spring-boot.jar\r\n\r\n```\r\n\r\nOnce I had created the image I pushed it to the artifact registry by doing this:\r\n\r\n```\r\ndocker push southamerica-east1-docker.pkg.dev/kubernetes-hello-world-360615/hello-repo/cloud-run:v1 \r\n\r\n```\r\n\r\nI can see the image in the registry, and I could try and run the job. The result was the following:\r\n\r\n``` \r\n2022-08-30T20:35:56.946572Zio.fabric8.kubernetes.client.KubernetesClientException: An error has occurred. at io.fabric8.kubernetes.client.KubernetesClientException.launderThrowable(KubernetesClientException.java:103) at io.fabric8.kubernetes.client.KubernetesClientException.launderThrowable(KubernetesClientException.java:97) at io.fabric8.kubernetes.client.dsl.internal.CreateOnlyResourceOperation.create(CreateOnlyResourceOperation.java:44) at io.fabric8.kubernetes.client.utils.internal.CreateOrReplaceHelper.createOrReplace(CreateOrReplaceHelper.java:50) at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.createOrReplace(BaseOperation.java:296) at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.createOrReplace(BaseOperation.java:88) at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.createOrReplace(BaseOperation.java:1036) at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.createOrReplace(BaseOperation.java:88) at kubernetes.example.Main.main(Main.java:49) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) Caused by: java.net.UnknownHostException: kubernetes.default.svc: Name or service not known at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:929) at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1529) at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848) at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1519) at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1378) at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) at okhttp3.Dns$1.lookup(Dns.java:40) at okhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.java:185) at okhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.java:149) at okhttp3.internal.connection.RouteSelector.next(RouteSelector.java:84) at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:215) at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135) at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114) at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:127) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:66) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:66) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:66) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:257) at okhttp3.RealCall$AsyncCall.execute(RealCall.java:201) at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\n\r\n\r\nI think the most interesting part of the logs is this one: Caused by: java.net.UnknownHostException: kubernetes.default.svc: Name or service not known \r\n\r\nThis was to be expected since the java code doesn&#39;t know how to authenticate against the EKS cluster. Now the logs show some interesting attempts by the library to configure the client:\r\n```\r\nTrying to configure client from Kubernetes config...\r\n```\r\n\r\n```\r\nDid not find Kubernetes config at: [/home/.kube/config]. Ignoring.\r\n```\r\n```\r\nTrying to configure client from service account...\r\n```\r\n```\r\nDid not find service account ca cert at: [/var/run/secrets/kubernetes.io/serviceaccount/ca.crt}].\r\n```\r\n```\r\nError reading service account token from: [/var/run/secrets/kubernetes.io/serviceaccount/token]. Ignoring.\r\n```\r\n```\r\nTrying to configure client namespace from Kubernetes service account namespace path...\r\n```\r\n```\r\n Did not find service account namespace at: [/var/run/secrets/kubernetes.io/serviceaccount/namespace]. Ignoring.\r\n```\r\n\r\n\r\nNow the question is: How to configure a kubernetes client running in Cloud Run to connect to a GKE cluster? I think maybe the service account part of the logs means that attaching a service account to Cloud Run might help with authentication.\r\n\r\nThanks in advance for any help.\r\n\r\n","title":"Cloud Run authentication to run job in GKE cluster","body":"<p>When running the following code locally I can create a job in a GKE cluster:</p>\n<pre><code>  final ConfigBuilder configBuilder = new ConfigBuilder();\n    if (args.length &gt; 0) {\n      configBuilder.withMasterUrl(args[0]);\n    }\n    try (KubernetesClient client = new KubernetesClientBuilder().withConfig(configBuilder.build()).build()) {\n      final String namespace = &quot;default&quot;;\n      final Job job = new JobBuilder()\n          .withApiVersion(&quot;batch/v1&quot;)\n          .withNewMetadata()\n          .withName(&quot;pi&quot;)\n          .withLabels(Collections.singletonMap(&quot;label1&quot;, &quot;maximum-length-of-63-characters&quot;))\n          .withAnnotations(Collections.singletonMap(&quot;annotation1&quot;, &quot;some-very-long-annotation&quot;))\n          .endMetadata()\n          .withNewSpec()\n          .withNewTemplate()\n          .withNewSpec()\n          .addNewContainer()\n          .withName(&quot;pi&quot;)\n          .withImage(&quot;perl:5.34.0&quot;)\n          .withArgs(&quot;perl&quot;, &quot;-Mbignum=bpi&quot;, &quot;-wle&quot;, &quot;print bpi(2000)&quot;)\n          .endContainer()\n          .withRestartPolicy(&quot;Never&quot;)\n          .endSpec()\n          .endTemplate()\n          .endSpec()\n          .build();\n\n      logger.info(&quot;Creating job pi.&quot;);\n      client.batch().v1().jobs().inNamespace(namespace).createOrReplace(job);\n\n      // Print Job's log\n\n      PodList podList = client.pods().inNamespace(namespace).withLabel(&quot;job-name&quot;, job.getMetadata().getName()).list();\n      client.pods().inNamespace(namespace).withName(podList.getItems().get(0).getMetadata().getName());\n\n      String joblog = client.batch().v1().jobs().inNamespace(namespace).withName(&quot;pi&quot;).getLog();\n      logger.info(joblog);\n\n    } catch (KubernetesClientException e) {\n      logger.error(&quot;Unable to create job&quot;, e);\n    }\n  }\n</code></pre>\n<p>Now I want to do the same from cloud run. In order to do that I used the following Dockerfile to create an image:</p>\n<pre><code>FROM adoptopenjdk/openjdk11:latest\nWORKDIR /app\nCOPY target/cloud-run-example-1.0-SNAPSHOT-spring-boot.jar ./cloud-run-example-1.0-SNAPSHOT-spring-boot.jar\nCMD java $JAVA_OPTIONS -jar cloud-run-example-1.0-SNAPSHOT-spring-boot.jar\n\n</code></pre>\n<p>Once I had created the image I pushed it to the artifact registry by doing this:</p>\n<pre><code>docker push southamerica-east1-docker.pkg.dev/kubernetes-hello-world-360615/hello-repo/cloud-run:v1 \n\n</code></pre>\n<p>I can see the image in the registry, and I could try and run the job. The result was the following:</p>\n<pre><code>2022-08-30T20:35:56.946572Zio.fabric8.kubernetes.client.KubernetesClientException: An error has occurred. at io.fabric8.kubernetes.client.KubernetesClientException.launderThrowable(KubernetesClientException.java:103) at io.fabric8.kubernetes.client.KubernetesClientException.launderThrowable(KubernetesClientException.java:97) at io.fabric8.kubernetes.client.dsl.internal.CreateOnlyResourceOperation.create(CreateOnlyResourceOperation.java:44) at io.fabric8.kubernetes.client.utils.internal.CreateOrReplaceHelper.createOrReplace(CreateOrReplaceHelper.java:50) at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.createOrReplace(BaseOperation.java:296) at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.createOrReplace(BaseOperation.java:88) at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.createOrReplace(BaseOperation.java:1036) at io.fabric8.kubernetes.client.dsl.internal.BaseOperation.createOrReplace(BaseOperation.java:88) at kubernetes.example.Main.main(Main.java:49) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) at java.base/java.lang.reflect.Method.invoke(Method.java:566) at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) Caused by: java.net.UnknownHostException: kubernetes.default.svc: Name or service not known at java.base/java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method) at java.base/java.net.InetAddress$PlatformNameService.lookupAllHostAddr(InetAddress.java:929) at java.base/java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1529) at java.base/java.net.InetAddress$NameServiceAddresses.get(InetAddress.java:848) at java.base/java.net.InetAddress.getAllByName0(InetAddress.java:1519) at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1378) at java.base/java.net.InetAddress.getAllByName(InetAddress.java:1306) at okhttp3.Dns$1.lookup(Dns.java:40) at okhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.java:185) at okhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.java:149) at okhttp3.internal.connection.RouteSelector.next(RouteSelector.java:84) at okhttp3.internal.connection.StreamAllocation.findConnection(StreamAllocation.java:215) at okhttp3.internal.connection.StreamAllocation.findHealthyConnection(StreamAllocation.java:135) at okhttp3.internal.connection.StreamAllocation.newStream(StreamAllocation.java:114) at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:42) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:127) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:66) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:66) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at io.fabric8.kubernetes.client.okhttp.OkHttpClientBuilderImpl$InteceptorAdapter.intercept(OkHttpClientBuilderImpl.java:66) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147) at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121) at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:257) at okhttp3.RealCall$AsyncCall.execute(RealCall.java:201) at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32) at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>I think the most interesting part of the logs is this one: Caused by: java.net.UnknownHostException: kubernetes.default.svc: Name or service not known</p>\n<p>This was to be expected since the java code doesn't know how to authenticate against the EKS cluster. Now the logs show some interesting attempts by the library to configure the client:</p>\n<pre><code>Trying to configure client from Kubernetes config...\n</code></pre>\n<pre><code>Did not find Kubernetes config at: [/home/.kube/config]. Ignoring.\n</code></pre>\n<pre><code>Trying to configure client from service account...\n</code></pre>\n<pre><code>Did not find service account ca cert at: [/var/run/secrets/kubernetes.io/serviceaccount/ca.crt}].\n</code></pre>\n<pre><code>Error reading service account token from: [/var/run/secrets/kubernetes.io/serviceaccount/token]. Ignoring.\n</code></pre>\n<pre><code>Trying to configure client namespace from Kubernetes service account namespace path...\n</code></pre>\n<pre><code> Did not find service account namespace at: [/var/run/secrets/kubernetes.io/serviceaccount/namespace]. Ignoring.\n</code></pre>\n<p>Now the question is: How to configure a kubernetes client running in Cloud Run to connect to a GKE cluster? I think maybe the service account part of the logs means that attaching a service account to Cloud Run might help with authentication.</p>\n<p>Thanks in advance for any help.</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1661211838,"post_id":73451747,"comment_id":129713449,"body_markdown":"Could you please check your code snippet again? It contains a few syntax errors and refers to `ObjectBasedPermission` which is not mentioned anywhere else in your question. Additionally, why is the `write` method empty? If you don&#39;t intend it to be called, then throw an exception there. Maybe you could simply register an [`InstanceCreator`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/InstanceCreator.html) for `BaseNode` which creates `DerivedNode` instances (which are then populated by Gson&#39;s reflection-based adapter).","body":"Could you please check your code snippet again? It contains a few syntax errors and refers to <code>ObjectBasedPermission</code> which is not mentioned anywhere else in your question. Additionally, why is the <code>write</code> method empty? If you don&#39;t intend it to be called, then throw an exception there. Maybe you could simply register an <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/InstanceCreator.html\" rel=\"nofollow noreferrer\"><code>InstanceCreator</code></a> for <code>BaseNode</code> which creates <code>DerivedNode</code> instances (which are then populated by Gson&#39;s reflection-based adapter)."},{"owner":{"account_id":15402976,"reputation":41,"user_id":11111845,"display_name":"Michael.Z"},"score":0,"creation_date":1661268654,"post_id":73451747,"comment_id":129729458,"body_markdown":"sry I didnt notice that, and actually I think InstanceCreator is the answer I am looking for, thx!","body":"sry I didnt notice that, and actually I think InstanceCreator is the answer I am looking for, thx!"}],"answers":[{"tags":[],"owner":{"account_id":15402976,"reputation":41,"user_id":11111845,"display_name":"Michael.Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661268755,"creation_date":1661268755,"answer_id":73461439,"question_id":73451747,"body_markdown":"To anyone with same problem, InstanceCreator solves my problem","title":"Recursive Adapter for Tree","body":"<p>To anyone with same problem, InstanceCreator solves my problem</p>\n"}],"owner":{"account_id":15402976,"reputation":41,"user_id":11111845,"display_name":"Michael.Z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661958807,"creation_date":1661208846,"question_id":73451747,"body_markdown":"I have a special use case for gson.  \r\nI have the following structure:\r\n```\r\npublic abstract class BaseNode {\r\n    BaseNode left;\r\n    BaseNode right;\r\n}\r\n\r\npublic class DerivedNode extends BaseNode {\r\n    int val;\r\n}\r\n```\r\n\r\nAs you can see this is a binary tree, and I want to apply an adapter for all the nodes in the tree so that I can deserialize them as DerivedNode, not BaseNode, otherwise it will throw unable to instantiate an abstract class. Currently what I do is:\r\n```\r\n...\r\nGson gson = new new GsonBuilder().registerTypeAdapter(BaseNode.class, new \r\n     TypeAdapter&lt;ObjectBasedPermission&gt;() {\r\n        @Override\r\n          public void write(JsonWriter out, ObjectBasedPermission value) throws IOException {}\r\n\r\n          @Override\r\n          @SuppressWarnings(&quot;ALL&quot;)\r\n          public ObjectBasedPermission read(JsonReader in) throws IOException {\r\n            return gson.fromJson(in, DerivedNode);\r\n          }\r\n     }}).create();\r\n```\r\n\r\nMy question is can I do this? Is this safe? Will the future update of gson affect this code snippet?","title":"Recursive Adapter for Tree","body":"<p>I have a special use case for gson.<br />\nI have the following structure:</p>\n<pre><code>public abstract class BaseNode {\n    BaseNode left;\n    BaseNode right;\n}\n\npublic class DerivedNode extends BaseNode {\n    int val;\n}\n</code></pre>\n<p>As you can see this is a binary tree, and I want to apply an adapter for all the nodes in the tree so that I can deserialize them as DerivedNode, not BaseNode, otherwise it will throw unable to instantiate an abstract class. Currently what I do is:</p>\n<pre><code>...\nGson gson = new new GsonBuilder().registerTypeAdapter(BaseNode.class, new \n     TypeAdapter&lt;ObjectBasedPermission&gt;() {\n        @Override\n          public void write(JsonWriter out, ObjectBasedPermission value) throws IOException {}\n\n          @Override\n          @SuppressWarnings(&quot;ALL&quot;)\n          public ObjectBasedPermission read(JsonReader in) throws IOException {\n            return gson.fromJson(in, DerivedNode);\n          }\n     }}).create();\n</code></pre>\n<p>My question is can I do this? Is this safe? Will the future update of gson affect this code snippet?</p>\n"},{"tags":["java","oracle","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":5085573,"reputation":47,"user_id":4080408,"display_name":"Sarthak Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661958608,"creation_date":1661958608,"answer_id":73558048,"question_id":73551179,"body_markdown":"I don&#39;t guess oracle output types are directly supported in java object types (have tried myself a lot but in vain). \r\nYou are possibly trying to map o_result refcursor to CustomerEntity directly which is a not so a good idea tbh. \r\nI would rather recommend go old school on this and use `entityManager.createStoredProcedureQuery` to make the oracle procedure calls.\r\n\r\nIt would looks something like this:\r\ndefine the StoredProcedureQuery with your proc name and register the output refcursor and string parameter o_local_code as ResultSet objects.\r\n\r\n    storedProcedureQuery.registerStoredProcedureParameter(&quot;o_result&quot;, void.class, ParameterMode.REF_CURSOR);\r\n    storedProcedureQuery.registerStoredProcedureParameter(&quot;o_local_code&quot;, String.class, ParameterMode.OUT); \r\n    ResultSet rs = (ResultSet)storedProcedureQuery.getOutputParameterValue(&quot;o_result&quot;);\r\n\r\nLoop through the resultset and build your CustomerEntity. \r\nA good reason to do this would be to be able to build a `List&lt;CustomerEntity&gt;` from the mutlirow refcursor (if it does return multiple rows).\r\n\r\n","title":"NamedStoredProcedureQuery Output Map&lt;key, entity&gt;","body":"<p>I don't guess oracle output types are directly supported in java object types (have tried myself a lot but in vain).\nYou are possibly trying to map o_result refcursor to CustomerEntity directly which is a not so a good idea tbh.\nI would rather recommend go old school on this and use <code>entityManager.createStoredProcedureQuery</code> to make the oracle procedure calls.</p>\n<p>It would looks something like this:\ndefine the StoredProcedureQuery with your proc name and register the output refcursor and string parameter o_local_code as ResultSet objects.</p>\n<pre><code>storedProcedureQuery.registerStoredProcedureParameter(&quot;o_result&quot;, void.class, ParameterMode.REF_CURSOR);\nstoredProcedureQuery.registerStoredProcedureParameter(&quot;o_local_code&quot;, String.class, ParameterMode.OUT); \nResultSet rs = (ResultSet)storedProcedureQuery.getOutputParameterValue(&quot;o_result&quot;);\n</code></pre>\n<p>Loop through the resultset and build your CustomerEntity.\nA good reason to do this would be to be able to build a <code>List&lt;CustomerEntity&gt;</code> from the mutlirow refcursor (if it does return multiple rows).</p>\n"}],"owner":{"account_id":12605095,"reputation":21,"user_id":9166322,"display_name":"Quoc Thanh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661958608,"creation_date":1661923301,"question_id":73551179,"body_markdown":"I&#39;m using Spring Data JPA NamedStoredProcedureQuery to Out Multiple Parameters from Procedure Oracle DB\r\n\r\n&gt; In entity class:\r\n\r\n    @NamedStoredProcedureQuery(name = &quot;Ent.getCust&quot;, resultClasses = CustomerEntity.class, \r\n\t\t\t\tprocedureName = &quot;pkg.p_get_cust&quot;, parameters = {\r\n\t\t\t\t@StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;p_username&quot;, type = String.class),\r\n\t\t\t\t@StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;o_local_code&quot;, type = String.class),\r\n\t\t\t\t@StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, name = &quot;o_result&quot;, type = Void.class) }) })\r\n\r\n&gt; in Repository interface\r\n\r\n    @Repository\r\n    public interface CustomerRepositoryExt extends JpaRepository&lt;CustomerEntity, Long&gt; {\r\n\r\n\t   @Procedure(name = &quot;Ent.getCust&quot;)\r\n\t   Map&lt;String, CustomerEntity&gt; getCust(@Param(&quot;p_username&quot;) String username);\r\n    }\r\n    \r\nCurrently this code return error:\r\n\r\n    org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class oracle.jdbc.OracleConnection]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Direct self-reference leading to cycle (through reference chain: java.util.HashMap[&quot;o_result&quot;]-&gt;oracle.jdbc.driver.ForwardOnlyResultSet[&quot;statement&quot;]-&gt;oracle.jdbc.driver.T4CStatement[&quot;connection&quot;]-&gt;oracle.jdbc.driver.T4CConnection[&quot;wrapper&quot;])\r\n        at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:460)\r\n        at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)\r\n        at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\r\n\r\nI don&#39;t know, can Spring Data JPA support return this result?\r\n","title":"NamedStoredProcedureQuery Output Map&lt;key, entity&gt;","body":"<p>I'm using Spring Data JPA NamedStoredProcedureQuery to Out Multiple Parameters from Procedure Oracle DB</p>\n<blockquote>\n<p>In entity class:</p>\n</blockquote>\n<pre><code>@NamedStoredProcedureQuery(name = &quot;Ent.getCust&quot;, resultClasses = CustomerEntity.class, \n            procedureName = &quot;pkg.p_get_cust&quot;, parameters = {\n            @StoredProcedureParameter(mode = ParameterMode.IN, name = &quot;p_username&quot;, type = String.class),\n            @StoredProcedureParameter(mode = ParameterMode.OUT, name = &quot;o_local_code&quot;, type = String.class),\n            @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, name = &quot;o_result&quot;, type = Void.class) }) })\n</code></pre>\n<blockquote>\n<p>in Repository interface</p>\n</blockquote>\n<pre><code>@Repository\npublic interface CustomerRepositoryExt extends JpaRepository&lt;CustomerEntity, Long&gt; {\n\n   @Procedure(name = &quot;Ent.getCust&quot;)\n   Map&lt;String, CustomerEntity&gt; getCust(@Param(&quot;p_username&quot;) String username);\n}\n</code></pre>\n<p>Currently this code return error:</p>\n<pre><code>org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class oracle.jdbc.OracleConnection]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Direct self-reference leading to cycle (through reference chain: java.util.HashMap[&quot;o_result&quot;]-&gt;oracle.jdbc.driver.ForwardOnlyResultSet[&quot;statement&quot;]-&gt;oracle.jdbc.driver.T4CStatement[&quot;connection&quot;]-&gt;oracle.jdbc.driver.T4CConnection[&quot;wrapper&quot;])\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:460)\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:290)\n</code></pre>\n<p>I don't know, can Spring Data JPA support return this result?</p>\n"},{"tags":["java","classloader","classnotfoundexception","java-17","urlclassloader"],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1661958480,"creation_date":1661958480,"answer_id":73558011,"question_id":73556065,"body_markdown":"You create the `URLClassLoader` using `App.class.getClassLoader()` as the parent class loader. Hence, the request to load `Test` through the custom class loader is resolved through the parent loader, ending up at exactly the same class you’d get with `Test.class` in your main method.\r\n\r\nYou could pass a different parent loader, e.g. `null` to denote the bootstrap loader, to forbid resolving the `Test` class though the parent loader but this would result in either of two unhelpful scenarios\r\n\r\n 1. If the custom class loader has no `com.mycompany.app.Test` class on its own, the loading attempt would simply fail.\r\n\r\n 2. If the custom class loader has a `com.mycompany.app.Test` class, i.e. inside `classloader-test2-1.0-SNAPSHOT.jar`, it would be a different class than the `Test` class referenced in your main method, loaded by the application class loader. In this case, the type cast `(Test)` would fail.\r\n\r\nIn other words, the `Test` class referenced by you main method can not be affected by another, unrelated class loader at all.\r\n\r\n---\r\n\r\nThere is an entirely different approach which may work in some scenarios. Do not create a new class loader, when all you want to do, is to inject a new class.\r\n\r\n```java\r\nbyte[] code;\r\ntry(var is = new URL(&quot;jar:file:C:\\\\experiments\\\\classloader-test2\\\\target\\\\&quot; +\r\n    &quot;classloader-test2-1.0-SNAPSHOT.jar!/com/mycompany/app2/Test2.class&quot;).openStream())\r\n{\r\n  code = is.readAllBytes();\r\n}\r\n\r\nMethodHandles.lookup().defineClass(code);\r\n\r\nTest test = new Test();\r\ntest.ex();\r\n```\r\n\r\nThis adds the class to the current class loading context, so subsequent linking will succeed. With the following catches:\r\n\r\n - No previous attempt to link this class must have been made so far\r\n - It only works for a classes without dependencies to other absent classes (as there’s no class loader resolving those to the jar file outside the class path).\r\n  In some cases, when the dependencies are non-circular or resolved lazily, you could add all the classes with multiple `define` calls, if you know which you need and in which order.\r\n - The class must be in the same package, otherwise, you’d have to move the lookup context to the right package, with the [documented restrictions]\r\n\r\n---\r\n\r\nAn entirely different approach to add the classes to the existing environment, would be via Java Agents, as they [can add jar files to the class path].\r\n\r\n[documented restrictions]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.html#privateLookupIn(java.lang.Class,java.lang.invoke.MethodHandles.Lookup)\r\n[can add jar files to the class path]: https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch(java.util.jar.JarFile)","title":"How to use custom classloader for subsequent class loadings?","body":"<p>You create the <code>URLClassLoader</code> using <code>App.class.getClassLoader()</code> as the parent class loader. Hence, the request to load <code>Test</code> through the custom class loader is resolved through the parent loader, ending up at exactly the same class you’d get with <code>Test.class</code> in your main method.</p>\n<p>You could pass a different parent loader, e.g. <code>null</code> to denote the bootstrap loader, to forbid resolving the <code>Test</code> class though the parent loader but this would result in either of two unhelpful scenarios</p>\n<ol>\n<li><p>If the custom class loader has no <code>com.mycompany.app.Test</code> class on its own, the loading attempt would simply fail.</p>\n</li>\n<li><p>If the custom class loader has a <code>com.mycompany.app.Test</code> class, i.e. inside <code>classloader-test2-1.0-SNAPSHOT.jar</code>, it would be a different class than the <code>Test</code> class referenced in your main method, loaded by the application class loader. In this case, the type cast <code>(Test)</code> would fail.</p>\n</li>\n</ol>\n<p>In other words, the <code>Test</code> class referenced by you main method can not be affected by another, unrelated class loader at all.</p>\n<hr />\n<p>There is an entirely different approach which may work in some scenarios. Do not create a new class loader, when all you want to do, is to inject a new class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>byte[] code;\ntry(var is = new URL(&quot;jar:file:C:\\\\experiments\\\\classloader-test2\\\\target\\\\&quot; +\n    &quot;classloader-test2-1.0-SNAPSHOT.jar!/com/mycompany/app2/Test2.class&quot;).openStream())\n{\n  code = is.readAllBytes();\n}\n\nMethodHandles.lookup().defineClass(code);\n\nTest test = new Test();\ntest.ex();\n</code></pre>\n<p>This adds the class to the current class loading context, so subsequent linking will succeed. With the following catches:</p>\n<ul>\n<li>No previous attempt to link this class must have been made so far</li>\n<li>It only works for a classes without dependencies to other absent classes (as there’s no class loader resolving those to the jar file outside the class path).\nIn some cases, when the dependencies are non-circular or resolved lazily, you could add all the classes with multiple <code>define</code> calls, if you know which you need and in which order.</li>\n<li>The class must be in the same package, otherwise, you’d have to move the lookup context to the right package, with the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandles.html#privateLookupIn(java.lang.Class,java.lang.invoke.MethodHandles.Lookup)\" rel=\"noreferrer\">documented restrictions</a></li>\n</ul>\n<hr />\n<p>An entirely different approach to add the classes to the existing environment, would be via Java Agents, as they <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.instrument/java/lang/instrument/Instrumentation.html#appendToSystemClassLoaderSearch(java.util.jar.JarFile)\" rel=\"noreferrer\">can add jar files to the class path</a>.</p>\n"}],"owner":{"account_id":9768676,"reputation":85,"user_id":7241332,"display_name":"Runekn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73558011,"answer_count":1,"score":1,"last_activity_date":1661958480,"creation_date":1661949764,"question_id":73556065,"body_markdown":"I have a main method that creates custom classloader and instantiates a class, called Test, with it.\r\n\r\n```\r\npublic class App {\r\n    public static void main(String[] args) throws Exception {\r\n        try {\r\n            Class.forName(&quot;com.mycompany.app2.Test2&quot;); // We ensure that Test2 is not part of current classpath\r\n            System.err.println(&quot;Should have thrown ClassNotFound&quot;);\r\n            System.exit(1);\r\n        } catch (ClassNotFoundException e) {\r\n            // ignore\r\n        }\r\n\r\n        String jar = &quot;C:\\\\experiments\\\\classloader-test2\\\\target\\\\classloader-test2-1.0-SNAPSHOT.jar&quot;; // Contains Test2\r\n        URL[] classPaths = new URL[] { new File(jar).toURI().toURL() };\r\n        ClassLoader classLoader = new URLClassLoader(classPaths, App.class.getClassLoader());\r\n\r\n        Thread.currentThread().setContextClassLoader(classLoader);\r\n        Class.forName(&quot;com.mycompany.app2.Test2&quot;, true, classLoader); // Check that custom class loader can find the wanted class\r\n        Test test = (Test) Class.forName(&quot;com.mycompany.app.Test&quot;, true, classLoader).getDeclaredConstructor().newInstance();\r\n        test.ex(); // This throws ClassNotFound for Test2\r\n    }\r\n}\r\n```\r\n\r\nThis class then itself instantiates another class that is not part of the original classpath, but is part of the custom one.\r\n\r\n```\r\npublic class Test {\r\n    public void ex() {\r\n        new Test2().test();\r\n    }\r\n}\r\n```\r\n\r\nIn my understanding of classloader, since Test was created with the custom classloader any class loadings within should be done with the same loader. But this does not seem to be the case.\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mycompany/app2/Test2\r\n        at com.mycompany.app.Test.ex(Test.java:7)\r\n        at com.mycompany.app.App.main(App.java:28)\r\n\r\n```\r\n\r\nWhat do I need to do in the main method to make Test#ex work, without changing Test?\r\nI&#39;m using Java 17.","title":"How to use custom classloader for subsequent class loadings?","body":"<p>I have a main method that creates custom classloader and instantiates a class, called Test, with it.</p>\n<pre><code>public class App {\n    public static void main(String[] args) throws Exception {\n        try {\n            Class.forName(&quot;com.mycompany.app2.Test2&quot;); // We ensure that Test2 is not part of current classpath\n            System.err.println(&quot;Should have thrown ClassNotFound&quot;);\n            System.exit(1);\n        } catch (ClassNotFoundException e) {\n            // ignore\n        }\n\n        String jar = &quot;C:\\\\experiments\\\\classloader-test2\\\\target\\\\classloader-test2-1.0-SNAPSHOT.jar&quot;; // Contains Test2\n        URL[] classPaths = new URL[] { new File(jar).toURI().toURL() };\n        ClassLoader classLoader = new URLClassLoader(classPaths, App.class.getClassLoader());\n\n        Thread.currentThread().setContextClassLoader(classLoader);\n        Class.forName(&quot;com.mycompany.app2.Test2&quot;, true, classLoader); // Check that custom class loader can find the wanted class\n        Test test = (Test) Class.forName(&quot;com.mycompany.app.Test&quot;, true, classLoader).getDeclaredConstructor().newInstance();\n        test.ex(); // This throws ClassNotFound for Test2\n    }\n}\n</code></pre>\n<p>This class then itself instantiates another class that is not part of the original classpath, but is part of the custom one.</p>\n<pre><code>public class Test {\n    public void ex() {\n        new Test2().test();\n    }\n}\n</code></pre>\n<p>In my understanding of classloader, since Test was created with the custom classloader any class loadings within should be done with the same loader. But this does not seem to be the case.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/mycompany/app2/Test2\n        at com.mycompany.app.Test.ex(Test.java:7)\n        at com.mycompany.app.App.main(App.java:28)\n\n</code></pre>\n<p>What do I need to do in the main method to make Test#ex work, without changing Test?\nI'm using Java 17.</p>\n"},{"tags":["java","json","spring","spring-mvc","model"],"comments":[{"owner":{"account_id":4898046,"reputation":1463,"user_id":3946976,"accept_rate":90,"display_name":"Erick Boshoff"},"score":1,"creation_date":1471418448,"post_id":38990377,"comment_id":65332814,"body_markdown":"How do you want to ignore the fields, in what context?","body":"How do you want to ignore the fields, in what context?"},{"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"score":0,"creation_date":1471418453,"post_id":38990377,"comment_id":65332819,"body_markdown":"sure, did you tried? your json library should perform this automatically, if you need further requirements please explain","body":"sure, did you tried? your json library should perform this automatically, if you need further requirements please explain"}],"answers":[{"tags":[],"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1471418492,"creation_date":1471418492,"answer_id":38990443,"question_id":38990377,"body_markdown":"Yes, this is achieved by using `@JsonView` annotation.\r\n\r\nHere is a nice tutorial how to use this [feature][1]\r\n\r\n\r\n  [1]: https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring","title":"I want to ignore fields from JSON only in few cases is it possible?","body":"<p>Yes, this is achieved by using <code>@JsonView</code> annotation.</p>\n\n<p>Here is a nice tutorial how to use this <a href=\"https://spring.io/blog/2014/12/02/latest-jackson-integration-improvements-in-spring\" rel=\"nofollow\">feature</a></p>\n"},{"tags":[],"owner":{"account_id":4747720,"reputation":501,"user_id":3838599,"accept_rate":41,"display_name":"Mickey Patel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1471419401,"creation_date":1471418952,"answer_id":38990583,"question_id":38990377,"body_markdown":"For your requirement use `@JsonView`, if you want to ignore totally some field then `@JsonIgnore`.","title":"I want to ignore fields from JSON only in few cases is it possible?","body":"<p>For your requirement use <code>@JsonView</code>, if you want to ignore totally some field then <code>@JsonIgnore</code>.</p>\n"},{"tags":[],"owner":{"account_id":8621268,"reputation":953,"user_id":6456107,"display_name":"Alter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661958452,"creation_date":1661958452,"answer_id":73558005,"question_id":38990377,"body_markdown":"You can add this annotation at the field level and that attribute will be excluded from the JSON response.\r\n```\r\n  @JsonProperty(access = Access.WRITE_ONLY)\r\n  private float height; \r\n```","title":"I want to ignore fields from JSON only in few cases is it possible?","body":"<p>You can add this annotation at the field level and that attribute will be excluded from the JSON response.</p>\n<pre><code>  @JsonProperty(access = Access.WRITE_ONLY)\n  private float height; \n</code></pre>\n"}],"owner":{"account_id":7012459,"reputation":191,"user_id":5374828,"accept_rate":25,"display_name":"Anil"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4081,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38990583,"answer_count":3,"score":2,"last_activity_date":1661958452,"creation_date":1471418305,"question_id":38990377,"body_markdown":"My ModelClass\r\n\r\n    public class UserPojo{\r\n    \r\n       private String userEmailId;\r\n       private String userPassword;\r\n       private String userContactNumber;\r\n       //setters and getters\r\n    }\r\n\r\nI want to send UserPojo class object as json but In somecases I want to send with userpassword and somecases without userpassword is it possible?\r\n\r\nIn below method I want to send userPojo object without userpassword.\r\nMy **Spring version is 4.3.1.RELEASE**. I have **Jackson** libraries\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/user&quot;)\r\n    public class UserController{\r\n\r\n     @GetMapping(value=&quot;/{userId}&quot;)\r\n     public UserPojo getUser(@PathVariable(&quot;userId&quot;) String userId){\r\n     \r\n       //code goes here \r\n       //finally returning UserPojo Object\r\n       return userPojo;\r\n     }   \r\n\r\n    }\r\n\r\nIn below method I want to send userPojo object with password\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/admin&quot;)\r\n    public class AdminController{\r\n     \r\n     @GetMapping(value=&quot;/{userId}&quot;)\r\n     public UserPojo getUser(@PathVariable(&quot;userId&quot;) String userId){\r\n     \r\n       //code goes here \r\n       //finally returning UserPojo Object\r\n       return userPojo;\r\n     }   \r\n\r\n}\r\n\r\nI hope you got my point ","title":"I want to ignore fields from JSON only in few cases is it possible?","body":"<p>My ModelClass</p>\n\n<pre><code>public class UserPojo{\n\n   private String userEmailId;\n   private String userPassword;\n   private String userContactNumber;\n   //setters and getters\n}\n</code></pre>\n\n<p>I want to send UserPojo class object as json but In somecases I want to send with userpassword and somecases without userpassword is it possible?</p>\n\n<p>In below method I want to send userPojo object without userpassword.\nMy <strong>Spring version is 4.3.1.RELEASE</strong>. I have <strong>Jackson</strong> libraries</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/user\")\npublic class UserController{\n\n @GetMapping(value=\"/{userId}\")\n public UserPojo getUser(@PathVariable(\"userId\") String userId){\n\n   //code goes here \n   //finally returning UserPojo Object\n   return userPojo;\n }   \n\n}\n</code></pre>\n\n<p>In below method I want to send userPojo object with password</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/admin\")\npublic class AdminController{\n\n @GetMapping(value=\"/{userId}\")\n public UserPojo getUser(@PathVariable(\"userId\") String userId){\n\n   //code goes here \n   //finally returning UserPojo Object\n   return userPojo;\n }   \n</code></pre>\n\n<p>}</p>\n\n<p>I hope you got my point </p>\n"},{"tags":["java","spring-boot","maven"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1602731633,"post_id":64363580,"comment_id":113814929,"body_markdown":"Be careful about throwing instructions you don&#39;t really understand at the program in hopes of solving the problem. `@SpringBootApplication` already implies `@ComponentScan` and `@EnableAutoConfiguration`. You also don&#39;t need `@Repository` on a Spring Data repository. Finally, I note that you seem to have multiple copies of the `Application` class, which could be a problem.","body":"Be careful about throwing instructions you don&#39;t really understand at the program in hopes of solving the problem. <code>@SpringBootApplication</code> already implies <code>@ComponentScan</code> and <code>@EnableAutoConfiguration</code>. You also don&#39;t need <code>@Repository</code> on a Spring Data repository. Finally, I note that you seem to have multiple copies of the <code>Application</code> class, which could be a problem."},{"owner":{"account_id":19239857,"reputation":133,"user_id":14060078,"display_name":"Jerome"},"score":0,"creation_date":1602763314,"post_id":64363580,"comment_id":113826348,"body_markdown":"Per suggestion, I removed those highlighted annotations, with no net effect.  I don&#39;t see where I have multiple Application classes.  Are you confusing SpringBootApplication (annotation) with SpringApplication (which starts my AccessApplication)?","body":"Per suggestion, I removed those highlighted annotations, with no net effect.  I don&#39;t see where I have multiple Application classes.  Are you confusing SpringBootApplication (annotation) with SpringApplication (which starts my AccessApplication)?"}],"answers":[{"tags":[],"owner":{"account_id":4492769,"reputation":398,"user_id":3653470,"accept_rate":75,"display_name":"fundagain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661958351,"creation_date":1661958351,"answer_id":73557984,"question_id":64363580,"body_markdown":"After a lot of surfing and experimenting, I finally found the solution [here][1].\r\n\r\nIn addition to `@ComponentScan(&quot;com.logicaltiger&quot;)` you also need \r\n- `@EnableJpaRepositories(basePackages = &quot;com.logicaltiger&quot;)` in order to find all repositories, \r\n- and also `@EntityScan(&quot;com.logicaltiger.*&quot;)` in order to find all entities.\r\n\r\nHence:\r\n\r\n    @SpringBootApplication(scanBasePackages = &quot;com.logicaltiger&quot;)\r\n    @ComponentScan(&quot;com.logicaltiger&quot;)\r\n    @EnableJpaRepositories(basePackages = &quot;com.logicaltiger&quot;)\r\n    @EntityScan(&quot;com.logicaltiger.*&quot;)\r\n    @EnableAutoConfiguration\r\n    public class AccessApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(AccessApplication.class, args);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://www.netsurfingzone.com/jpa/consider-defining-a-bean-of-type-in-your-configuration/\r\n","title":"Spring Boot multi (maven) module project can&#39;t find its Repository -- how to fix this?","body":"<p>After a lot of surfing and experimenting, I finally found the solution <a href=\"https://www.netsurfingzone.com/jpa/consider-defining-a-bean-of-type-in-your-configuration/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>In addition to <code>@ComponentScan(&quot;com.logicaltiger&quot;)</code> you also need</p>\n<ul>\n<li><code>@EnableJpaRepositories(basePackages = &quot;com.logicaltiger&quot;)</code> in order to find all repositories,</li>\n<li>and also <code>@EntityScan(&quot;com.logicaltiger.*&quot;)</code> in order to find all entities.</li>\n</ul>\n<p>Hence:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = &quot;com.logicaltiger&quot;)\n@ComponentScan(&quot;com.logicaltiger&quot;)\n@EnableJpaRepositories(basePackages = &quot;com.logicaltiger&quot;)\n@EntityScan(&quot;com.logicaltiger.*&quot;)\n@EnableAutoConfiguration\npublic class AccessApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AccessApplication.class, args);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":19239857,"reputation":133,"user_id":14060078,"display_name":"Jerome"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1453,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1661958351,"creation_date":1602724951,"question_id":64363580,"body_markdown":"As my first step in mastering Java 9 modules, I&#39;m *first* creating a Java program that resides in nested directories, all joined by a root-level Maven pom.xml.  That is, Java modules aren&#39;t yet involved.\r\n\r\nThe source for my program is a Spring Boot program that already works.  I have divided that program into a controller (access Maven module) and data access (persistence Maven module).\r\nMy tutor for this task has been this Spring site:  https://spring.io/guides/gs/multi-module/  .\r\n\r\nI&#39;m running this thru Visual Source Code, with Java 11 in my JAVA_HOME.  The Spring Boot program starts, then yields this sort of error:\r\n\r\n\r\n    Parameter 0 of constructor in com.logicaltiger.persistence.service.LocationService required a bean of type &#39;com.logicaltiger.persistence.repository.LocationRepository&#39; that could not be found.\r\n\r\nThe program worked *before* I sliced / diced it, so my problem is with Spring configuration.\r\n\r\n**My request?**  Can my configuration be fixed so that Spring Boot finds all of its parts?\r\n\r\n\r\n\r\nThe AccessApplication has this:\r\n\r\n    @SpringBootApplication(scanBasePackages = &quot;com.logicaltiger&quot;)\r\n    @ComponentScan(&quot;com.logicaltiger&quot;)\r\n    @EnableAutoConfiguration\r\n    public class AccessApplication {\r\n\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(AccessApplication.class, args);\r\n        }\r\n\r\n    }\r\n\r\nLocationService has this:\r\n\r\n    @Service\r\n    [snip]\r\n\r\n    private final LocationRepository locationRepository;\r\n\r\n    public LocationService(LocationRepository locationRepository) {\r\n        this.locationRepository = locationRepository;\r\n    }\r\n\r\n\r\nLocationRepository has this:\r\n\r\n    @Repository\r\n    public interface LocationRepository extends CrudRepository&lt;Location, Long&gt; {\r\n\r\n\r\nThis is my directory structure, ignoring .mvn, etc.\r\n\r\n    district-updater-modules\r\n        access\r\n            src\r\n                main\r\n                    java\r\n                        com\r\n                            logicaltiger\r\n                                access\r\n                                    controller\r\n                                        (various controller files, with @Controller annotation)\r\n                                    util\r\n                                         Utilities.java\r\n                                    AccessApplication.java\r\n                    resources\r\n                        static\r\n                        templates\r\n                        application.properties\r\n            pom.xml\r\n        persistence\r\n                main\r\n                    java\r\n                        com\r\n                            logicaltiger\r\n                                persistence\r\n                                    model\r\n                                        (various model files)\r\n                                    repository\r\n                                        LocationRepository.java\r\n                                    service\r\n                                        LocationService.java\r\n                                    util\r\n                                         Utilities.java\r\n                                    AccessApplication.java\r\n                    resources\r\n            pom.xml\r\n        pom.xml\r\n   \r\n\r\nThe root pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; [snip] &gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;groupId&gt;com.logicaltiger&lt;/groupId&gt;\r\n        &lt;artifactId&gt;district-updater-modules&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;district-updater-modules&lt;/name&gt;\r\n        &lt;description&gt;Wrapper for the modules of DistrictUpdater -- Java modules&lt;/description&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n\r\n        &lt;modules&gt;\r\n            &lt;module&gt;access&lt;/module&gt;\r\n            &lt;module&gt;persistence&lt;/module&gt;\r\n        &lt;/modules&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\nThe access pom.xml (some dependencies omitted):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; [snip] &gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.logicaltiger.access&lt;/groupId&gt;\r\n        &lt;artifactId&gt;access&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;district-updater-modules-access&lt;/name&gt;\r\n        &lt;description&gt;DistrictUpdater web API access module&lt;/description&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.logicaltiger&lt;/groupId&gt;\r\n                &lt;artifactId&gt;persistence&lt;/artifactId&gt;\r\n                &lt;version&gt;${project.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n        &lt;/dependencies&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\nThe persistence pom.xml (some dependencies omitted):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; [snip] &gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.logicaltiger&lt;/groupId&gt;\r\n        &lt;artifactId&gt;persistence&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;district-updater-modules-persistence&lt;/name&gt;\r\n        &lt;description&gt;DistrictUpdater persistence module&lt;/description&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n    &lt;/project&gt;\r\n\r\n\r\nThanks,\r\n\r\nJerome.","title":"Spring Boot multi (maven) module project can&#39;t find its Repository -- how to fix this?","body":"<p>As my first step in mastering Java 9 modules, I'm <em>first</em> creating a Java program that resides in nested directories, all joined by a root-level Maven pom.xml.  That is, Java modules aren't yet involved.</p>\n<p>The source for my program is a Spring Boot program that already works.  I have divided that program into a controller (access Maven module) and data access (persistence Maven module).\nMy tutor for this task has been this Spring site:  <a href=\"https://spring.io/guides/gs/multi-module/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/multi-module/</a>  .</p>\n<p>I'm running this thru Visual Source Code, with Java 11 in my JAVA_HOME.  The Spring Boot program starts, then yields this sort of error:</p>\n<pre><code>Parameter 0 of constructor in com.logicaltiger.persistence.service.LocationService required a bean of type 'com.logicaltiger.persistence.repository.LocationRepository' that could not be found.\n</code></pre>\n<p>The program worked <em>before</em> I sliced / diced it, so my problem is with Spring configuration.</p>\n<p><strong>My request?</strong>  Can my configuration be fixed so that Spring Boot finds all of its parts?</p>\n<p>The AccessApplication has this:</p>\n<pre><code>@SpringBootApplication(scanBasePackages = &quot;com.logicaltiger&quot;)\n@ComponentScan(&quot;com.logicaltiger&quot;)\n@EnableAutoConfiguration\npublic class AccessApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AccessApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>LocationService has this:</p>\n<pre><code>@Service\n[snip]\n\nprivate final LocationRepository locationRepository;\n\npublic LocationService(LocationRepository locationRepository) {\n    this.locationRepository = locationRepository;\n}\n</code></pre>\n<p>LocationRepository has this:</p>\n<pre><code>@Repository\npublic interface LocationRepository extends CrudRepository&lt;Location, Long&gt; {\n</code></pre>\n<p>This is my directory structure, ignoring .mvn, etc.</p>\n<pre><code>district-updater-modules\n    access\n        src\n            main\n                java\n                    com\n                        logicaltiger\n                            access\n                                controller\n                                    (various controller files, with @Controller annotation)\n                                util\n                                     Utilities.java\n                                AccessApplication.java\n                resources\n                    static\n                    templates\n                    application.properties\n        pom.xml\n    persistence\n            main\n                java\n                    com\n                        logicaltiger\n                            persistence\n                                model\n                                    (various model files)\n                                repository\n                                    LocationRepository.java\n                                service\n                                    LocationService.java\n                                util\n                                     Utilities.java\n                                AccessApplication.java\n                resources\n        pom.xml\n    pom.xml\n</code></pre>\n<p>The root pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; [snip] &gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.logicaltiger&lt;/groupId&gt;\n    &lt;artifactId&gt;district-updater-modules&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;district-updater-modules&lt;/name&gt;\n    &lt;description&gt;Wrapper for the modules of DistrictUpdater -- Java modules&lt;/description&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n    &lt;modules&gt;\n        &lt;module&gt;access&lt;/module&gt;\n        &lt;module&gt;persistence&lt;/module&gt;\n    &lt;/modules&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The access pom.xml (some dependencies omitted):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; [snip] &gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.logicaltiger.access&lt;/groupId&gt;\n    &lt;artifactId&gt;access&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;district-updater-modules-access&lt;/name&gt;\n    &lt;description&gt;DistrictUpdater web API access module&lt;/description&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.logicaltiger&lt;/groupId&gt;\n            &lt;artifactId&gt;persistence&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The persistence pom.xml (some dependencies omitted):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; [snip] &gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.logicaltiger&lt;/groupId&gt;\n    &lt;artifactId&gt;persistence&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;district-updater-modules-persistence&lt;/name&gt;\n    &lt;description&gt;DistrictUpdater persistence module&lt;/description&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Thanks,</p>\n<p>Jerome.</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1661940894,"post_id":73554210,"comment_id":129889745,"body_markdown":"AFAIK Spring Boot loads `.yml` files and not `.yaml` files. Try changing the extension.","body":"AFAIK Spring Boot loads <code>.yml</code> files and not <code>.yaml</code> files. Try changing the extension."},{"owner":{"account_id":23623466,"reputation":1,"user_id":17656332,"display_name":"Harshini R"},"score":0,"creation_date":1661962593,"post_id":73554210,"comment_id":129897910,"body_markdown":"Is there any properties to activate profile group or only way to activate like this -Dspring.profile.active=groupname","body":"Is there any properties to activate profile group or only way to activate like this -Dspring.profile.active=groupname"}],"answers":[{"tags":[],"owner":{"account_id":26186343,"reputation":70,"user_id":19868833,"display_name":"Oussama Abouzid"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1661940693,"creation_date":1661940693,"answer_id":73554299,"question_id":73554210,"body_markdown":"by ```Dspring.profiles.active=local ``` you are telling spring that you use ```local``` profile, use ```Dspring.profiles.active=database``` instead ","title":"Spring boot profile not picking the properties file","body":"<p>by <code>Dspring.profiles.active=local </code> you are telling spring that you use <code>local</code> profile, use <code>Dspring.profiles.active=database</code> instead</p>\n"},{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661941657,"creation_date":1661941657,"answer_id":73554503,"question_id":73554210,"body_markdown":"I&#39;m not sure if this applies to your project：\r\n\r\njust use application.yml，then：\r\n\r\n    spring:                                                                                                                                                                                                \r\n      profiles:                                                                     \r\n        active: local, database, sql\r\n    \r\n    ---                                                                                                                \r\n    spring:                                                                                                            \r\n      profiles: local1\r\n      ...\r\n    ...\r\n    \r\n    ---                                                                                                                \r\n    spring:                                                                                                            \r\n      profiles: local\r\n      ...\r\n    ...\r\n    \r\n    ---                                                                                                                \r\n    spring:                                                                                                            \r\n      profiles: sql\r\n      ...\r\n    ...\r\n    \r\n    ---                                                                                                                \r\n    spring:                                                                                                            \r\n      profiles: database\r\n      ...\r\n    ...\r\n\r\nwhen start without `-Dspring.profiles.active` it will use the `local, database, sql`. if start with `-Dspring.profiles.active=local1,database,sql` it will use the `local1, database, sql`","title":"Spring boot profile not picking the properties file","body":"<p>I'm not sure if this applies to your project：</p>\n<p>just use application.yml，then：</p>\n<pre><code>spring:                                                                                                                                                                                                \n  profiles:                                                                     \n    active: local, database, sql\n\n---                                                                                                                \nspring:                                                                                                            \n  profiles: local1\n  ...\n...\n\n---                                                                                                                \nspring:                                                                                                            \n  profiles: local\n  ...\n...\n\n---                                                                                                                \nspring:                                                                                                            \n  profiles: sql\n  ...\n...\n\n---                                                                                                                \nspring:                                                                                                            \n  profiles: database\n  ...\n...\n</code></pre>\n<p>when start without <code>-Dspring.profiles.active</code> it will use the <code>local, database, sql</code>. if start with <code>-Dspring.profiles.active=local1,database,sql</code> it will use the <code>local1, database, sql</code></p>\n"},{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661942828,"creation_date":1661942828,"answer_id":73554737,"question_id":73554210,"body_markdown":"If you want to use `group` you have to specify it in either `application.yml` or `application.properties` file. The corresponding [blog post][1] says: \r\n\r\n*To define a group, you can use the spring.profiles.group property in your application.properties or application.yml file.*\r\n\r\n\r\n  [1]: https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4","title":"Spring boot profile not picking the properties file","body":"<p>If you want to use <code>group</code> you have to specify it in either <code>application.yml</code> or <code>application.properties</code> file. The corresponding <a href=\"https://spring.io/blog/2020/08/14/config-file-processing-in-spring-boot-2-4\" rel=\"nofollow noreferrer\">blog post</a> says:</p>\n<p><em>To define a group, you can use the spring.profiles.group property in your application.properties or application.yml file.</em></p>\n"},{"tags":[],"owner":{"account_id":10848746,"reputation":239,"user_id":7977273,"display_name":"Dishant Kamble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661957999,"creation_date":1661943464,"answer_id":73554854,"question_id":73554210,"body_markdown":"For me this seems to be working as expected. I have the below `application.yml` file\r\n\r\n    spring:\r\n      profiles:\r\n        group:\r\n          super-1-2: profile-1, profile-2\r\n          super-2-3: profile-2, profile-3\r\n    \r\n    ---\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile:\r\n          - profile-1\r\n          \r\n    ---\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile:\r\n          - profile-2\r\n    \r\n    ---\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile:\r\n          - profile-3\r\n\r\nIf I run my application with profile `super-1-2` activated, I get a confirmation in my logs that all three `super-1-2`, `profile-1` and `profile-2` are active. \r\n\r\n    2022-08-31 16:52:27.109  INFO 67935 --- [  restartedMain] c.s.n.SampleApplication      : The following 3 profiles are active: &quot;super-1-2&quot;, &quot;profile-1&quot;, &quot;profile-2&quot;\r\n\r\nOn the other hand, if I run my application with profile `super-2-3` activated, I get a confirmation in my logs that all three `super-2-3`, `profile-2`, and `profile-3` are active. \r\n\r\n    2022-08-31 16:52:41.117  INFO 68090 --- [  restartedMain] c.s.n.SampleApplication      : The following 3 profiles are active: &quot;super-2-3&quot;, &quot;profile-2&quot;, &quot;profile-3&quot;\r\n\r\n","title":"Spring boot profile not picking the properties file","body":"<p>For me this seems to be working as expected. I have the below <code>application.yml</code> file</p>\n<pre><code>spring:\n  profiles:\n    group:\n      super-1-2: profile-1, profile-2\n      super-2-3: profile-2, profile-3\n\n---\nspring:\n  config:\n    activate:\n      on-profile:\n      - profile-1\n      \n---\nspring:\n  config:\n    activate:\n      on-profile:\n      - profile-2\n\n---\nspring:\n  config:\n    activate:\n      on-profile:\n      - profile-3\n</code></pre>\n<p>If I run my application with profile <code>super-1-2</code> activated, I get a confirmation in my logs that all three <code>super-1-2</code>, <code>profile-1</code> and <code>profile-2</code> are active.</p>\n<pre><code>2022-08-31 16:52:27.109  INFO 67935 --- [  restartedMain] c.s.n.SampleApplication      : The following 3 profiles are active: &quot;super-1-2&quot;, &quot;profile-1&quot;, &quot;profile-2&quot;\n</code></pre>\n<p>On the other hand, if I run my application with profile <code>super-2-3</code> activated, I get a confirmation in my logs that all three <code>super-2-3</code>, <code>profile-2</code>, and <code>profile-3</code> are active.</p>\n<pre><code>2022-08-31 16:52:41.117  INFO 68090 --- [  restartedMain] c.s.n.SampleApplication      : The following 3 profiles are active: &quot;super-2-3&quot;, &quot;profile-2&quot;, &quot;profile-3&quot;\n</code></pre>\n"}],"owner":{"account_id":23623466,"reputation":1,"user_id":17656332,"display_name":"Harshini R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1574,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1661957999,"creation_date":1661940322,"question_id":73554210,"body_markdown":"I have `application-database.yml`, `application-sql.yml`.Tried running using `-Dspring.profiles.active=local` but  properties data not picking up. How to run this?\r\n\r\napplication-local.yml\r\n```yaml\r\nspring:\r\n  profiles:\r\n    group:\r\n      local: database, sql, message\r\n  application: \r\n    name: HP-FETCHER-CONFIG-SERVICE\r\n```  ","title":"Spring boot profile not picking the properties file","body":"<p>I have <code>application-database.yml</code>, <code>application-sql.yml</code>.Tried running using <code>-Dspring.profiles.active=local</code> but  properties data not picking up. How to run this?</p>\n<p>application-local.yml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  profiles:\n    group:\n      local: database, sql, message\n  application: \n    name: HP-FETCHER-CONFIG-SERVICE\n</code></pre>\n"},{"tags":["java","sandbox","plaid"],"answers":[{"tags":[],"owner":{"account_id":498262,"reputation":1360,"user_id":1533263,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660851335,"creation_date":1660851335,"answer_id":73408558,"question_id":73401149,"body_markdown":"The issue may be the location you are trying to use -- unless you have manually modified the ports or other code used by the Quickstart, you should use http://localhost:3000/ as the `PLAID_REDIRECT_URI` (make sure to add this to your Dashboard as an allowed redirect URI). When I tried this just now on the Java quickstart (non-Docker version) it worked fine. ","title":"Plaid Quickstart Issues (Java)","body":"<p>The issue may be the location you are trying to use -- unless you have manually modified the ports or other code used by the Quickstart, you should use http://localhost:3000/ as the <code>PLAID_REDIRECT_URI</code> (make sure to add this to your Dashboard as an allowed redirect URI). When I tried this just now on the Java quickstart (non-Docker version) it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":7236,"reputation":26100,"user_id":12484,"accept_rate":73,"display_name":"Jon Schneider"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1661957979,"creation_date":1661957979,"answer_id":73557903,"question_id":73401149,"body_markdown":"I got this error (`oauth uri does not contain a valid oauth_state_id query parameter`) while creating a new test application in Plaid&#39;s Sandbox environment. \r\n\r\nImportant note: **My application does not use OAuth.**\r\n\r\nThe problem turned out to be, in my configuration parameters being passed to `usePlaidLink`, I was including a `receivedRedirectUri` key-value pair. Removing that key-value pair entirely resolved the issue for me.\r\n\r\nIn other words, my React component looked something like:\r\n\r\n    import { usePlaidLink } from &#39;react-plaid-link&#39;;\r\n\r\n    function PlaidLink(props) {\r\n        const onSuccess = React.useCallback((public_token, metadata) =&gt; {\r\n            // ...\r\n        });\r\n\r\n        const config = {\r\n            token: props.linkToken,\r\n            receivedRedirectUri: window.location.href,\r\n            onSuccess,\r\n        };\r\n\r\n        const { open, ready } = usePlaidLink(config);\r\n\r\n        // ...\r\n    }\r\n\r\nRemoving the line with the `receivedRedirectUri` was the solution for me, getting me past the `oauth uri does not contain a valid oauth_state_id query parameter` error, and getting the Plaid Link UI to appear in my app successfully.\r\n\r\n[This Plaid article][1], which has a number of mentions of &quot;OAuth state ID&quot; (as mentioned in the error message), helped point me toward this solution.\r\n\r\n\r\n  [1]: https://plaid.com/docs/link/oauth/#client-side-configuration","title":"Plaid Quickstart Issues (Java)","body":"<p>I got this error (<code>oauth uri does not contain a valid oauth_state_id query parameter</code>) while creating a new test application in Plaid's Sandbox environment.</p>\n<p>Important note: <strong>My application does not use OAuth.</strong></p>\n<p>The problem turned out to be, in my configuration parameters being passed to <code>usePlaidLink</code>, I was including a <code>receivedRedirectUri</code> key-value pair. Removing that key-value pair entirely resolved the issue for me.</p>\n<p>In other words, my React component looked something like:</p>\n<pre><code>import { usePlaidLink } from 'react-plaid-link';\n\nfunction PlaidLink(props) {\n    const onSuccess = React.useCallback((public_token, metadata) =&gt; {\n        // ...\n    });\n\n    const config = {\n        token: props.linkToken,\n        receivedRedirectUri: window.location.href,\n        onSuccess,\n    };\n\n    const { open, ready } = usePlaidLink(config);\n\n    // ...\n}\n</code></pre>\n<p>Removing the line with the <code>receivedRedirectUri</code> was the solution for me, getting me past the <code>oauth uri does not contain a valid oauth_state_id query parameter</code> error, and getting the Plaid Link UI to appear in my app successfully.</p>\n<p><a href=\"https://plaid.com/docs/link/oauth/#client-side-configuration\" rel=\"noreferrer\">This Plaid article</a>, which has a number of mentions of &quot;OAuth state ID&quot; (as mentioned in the error message), helped point me toward this solution.</p>\n"}],"owner":{"account_id":444454,"reputation":582,"user_id":836267,"accept_rate":92,"display_name":"Evan Ruff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":813,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73557903,"answer_count":2,"score":2,"last_activity_date":1661957979,"creation_date":1660817114,"question_id":73401149,"body_markdown":"I am trying to implement Plaid using the sample code provided on the Java Quickstart [sandbox] and am getting issues when I show the Plaid Dialog (javascript). I am able to successfully get a link_token, but I&#39;m never able to show the dialog. It spins for a brief second, then shows me:\r\n\r\n```oauth uri does not contain a valid oauth_state_id query parameter. Request ID: DBoT92FCo8AORay```\r\n\r\nI have tried this with an empty redirectUri, as well as &quot;http://localhost:8080/plaid_test.html&quot;, which is registered in my developer account.\r\n\r\nI am a bit stuck and hoping someone can direct me in the right direction. I&#39;ve tested with both versions 9.10.0 and the latest (11.9.0). \r\n\r\nCuriously, I am able to get the Java Quickstart working directly, but ONLY if I leave the .env PLAID_REDIRECT_URI blank. If I put localhost in there, it fails when trying to get the link token.\r\n\r\nDoes anyone have any suggestions on how to overcome this setup issue?\r\n\r\nThank you!\r\n\r\n","title":"Plaid Quickstart Issues (Java)","body":"<p>I am trying to implement Plaid using the sample code provided on the Java Quickstart [sandbox] and am getting issues when I show the Plaid Dialog (javascript). I am able to successfully get a link_token, but I'm never able to show the dialog. It spins for a brief second, then shows me:</p>\n<p><code>oauth uri does not contain a valid oauth_state_id query parameter. Request ID: DBoT92FCo8AORay</code></p>\n<p>I have tried this with an empty redirectUri, as well as &quot;http://localhost:8080/plaid_test.html&quot;, which is registered in my developer account.</p>\n<p>I am a bit stuck and hoping someone can direct me in the right direction. I've tested with both versions 9.10.0 and the latest (11.9.0).</p>\n<p>Curiously, I am able to get the Java Quickstart working directly, but ONLY if I leave the .env PLAID_REDIRECT_URI blank. If I put localhost in there, it fails when trying to get the link token.</p>\n<p>Does anyone have any suggestions on how to overcome this setup issue?</p>\n<p>Thank you!</p>\n"},{"tags":["java","dictionary","oop","bigdecimal"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1661959893,"post_id":73557224,"comment_id":129896834,"body_markdown":"Does this answer your question? [How to update a value, given a key in a hashmap?](https://stackoverflow.com/questions/4157972/how-to-update-a-value-given-a-key-in-a-hashmap)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4157972/how-to-update-a-value-given-a-key-in-a-hashmap\">How to update a value, given a key in a hashmap?</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661960279,"post_id":73557224,"comment_id":129896997,"body_markdown":"Vague title. Rewrite to summarize your specific technical issue.","body":"Vague title. Rewrite to summarize your specific technical issue."}],"answers":[{"tags":[],"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661955678,"creation_date":1661955678,"answer_id":73557383,"question_id":73557224,"body_markdown":"If you want to update value of `Quantity`, then you can use `put` method\r\n\r\n    pizza.put(key, val);\r\n\r\nto add a new key/value pair or overwrite an existing key&#39;s value.","title":"Big Decimal in Java","body":"<p>If you want to update value of <code>Quantity</code>, then you can use <code>put</code> method</p>\n<pre><code>pizza.put(key, val);\n</code></pre>\n<p>to add a new key/value pair or overwrite an existing key's value.</p>\n"},{"tags":[],"owner":{"account_id":25741114,"reputation":29,"user_id":19495107,"display_name":"Veselin Zahariev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661957819,"creation_date":1661956194,"answer_id":73557503,"question_id":73557224,"body_markdown":"```java\r\nclass Recipe:\r\n    pizza.put(Product.Type.CHEDDAR, new Quantity(BigDecimal.valueOf(40), Quantity.Unit.G));\r\n        pizza.put(Product.Type.ONION, new Quantity(BigDecimal.valueOf(20), Quantity.Unit.G));\r\n        pizzaList.add(new Pizza(Pizza.PizzaType.CLASSIC, Pizza.PizzaSize.LARGE, pizza));\r\n\r\nclass WareHouse :\r\n\r\n     foodQuantities.put(Product.Type.ONION, new Product(Product.Type.ONION, BigDecimal.valueOf(5)));\r\n        foodQuantities.put(Product.Type.CHEDDAR, new Product(Product.Type.CHEDDAR, BigDecimal.valueOf(5)));\r\n\r\nclass Chef:\r\n//The chef cooks, so he reduce the available quantity from ware house by using the neededIngredients from the Recipe.\r\n\r\navilableProducts.computeIfPresent(Product.Type.TOMATO, (k, v) -&gt; v - 0.100);\r\n            avilableProducts.computeIfPresent(Product.Type.CUCUMBER, (k, v) -&gt; v - 0.100);\r\n```","title":"Big Decimal in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>class Recipe:\n    pizza.put(Product.Type.CHEDDAR, new Quantity(BigDecimal.valueOf(40), Quantity.Unit.G));\n        pizza.put(Product.Type.ONION, new Quantity(BigDecimal.valueOf(20), Quantity.Unit.G));\n        pizzaList.add(new Pizza(Pizza.PizzaType.CLASSIC, Pizza.PizzaSize.LARGE, pizza));\n\nclass WareHouse :\n\n     foodQuantities.put(Product.Type.ONION, new Product(Product.Type.ONION, BigDecimal.valueOf(5)));\n        foodQuantities.put(Product.Type.CHEDDAR, new Product(Product.Type.CHEDDAR, BigDecimal.valueOf(5)));\n\nclass Chef:\n//The chef cooks, so he reduce the available quantity from ware house by using the neededIngredients from the Recipe.\n\navilableProducts.computeIfPresent(Product.Type.TOMATO, (k, v) -&gt; v - 0.100);\n            avilableProducts.computeIfPresent(Product.Type.CUCUMBER, (k, v) -&gt; v - 0.100);\n</code></pre>\n"}],"owner":{"account_id":25741114,"reputation":29,"user_id":19495107,"display_name":"Veselin Zahariev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1661957857,"creation_date":1661955015,"question_id":73557224,"body_markdown":"As trainee in Java I need to find how to reduce the value of a BigDecimal variable with the value of a Map, thats also BigDecimal.. OK, for example:\r\nI have a restaurant with wareHose where I save my productAvailabilities and a menuMap, where I create my products, SO: when I have an order (Pizza), I have to reduce the available quantity from the wareHouse, with the quantities I need for create my order. \r\nEvery single Pizza has its map : Map&lt;Product.Type, Quantity&gt; pizza","title":"Big Decimal in Java","body":"<p>As trainee in Java I need to find how to reduce the value of a BigDecimal variable with the value of a Map, thats also BigDecimal.. OK, for example:\nI have a restaurant with wareHose where I save my productAvailabilities and a menuMap, where I create my products, SO: when I have an order (Pizza), I have to reduce the available quantity from the wareHouse, with the quantities I need for create my order.\nEvery single Pizza has its map : Map&lt;Product.Type, Quantity&gt; pizza</p>\n"},{"tags":["java","jhipster","dto"],"answers":[{"tags":[],"owner":{"account_id":7030463,"reputation":96,"user_id":5386366,"display_name":"jelharou"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661957798,"creation_date":1661957526,"answer_id":73557809,"question_id":73554944,"body_markdown":"This is the intended behaviour: https://www.jhipster.tech/using-dtos/#how-dtos-work-in-jhipster\r\n\r\n`It will aggregate many-to-one relationships, only using the ID and the field used to display it in your client-side framework`\r\n\r\nI had the same questions at first.  The autogenerated DTOs only provide linking information.  Fields which are not the id or display element are left as null. \r\n If this is not what you want, you can modify the MapStruct mappers or define your own conversion to and from DTOs.\r\n\r\nYou can inspect the JSON via the Swagger interface:  Login as admin then go to Admin &gt; API (http://localhost:8080/admin/docs).","title":"why in the json i get from jhipster dtos automatic generation give me null one to many relationship?","body":"<p>This is the intended behaviour: <a href=\"https://www.jhipster.tech/using-dtos/#how-dtos-work-in-jhipster\" rel=\"nofollow noreferrer\">https://www.jhipster.tech/using-dtos/#how-dtos-work-in-jhipster</a></p>\n<p><code>It will aggregate many-to-one relationships, only using the ID and the field used to display it in your client-side framework</code></p>\n<p>I had the same questions at first.  The autogenerated DTOs only provide linking information.  Fields which are not the id or display element are left as null.\nIf this is not what you want, you can modify the MapStruct mappers or define your own conversion to and from DTOs.</p>\n<p>You can inspect the JSON via the Swagger interface:  Login as admin then go to Admin &gt; API (http://localhost:8080/admin/docs).</p>\n"}],"owner":{"account_id":26114650,"reputation":7,"user_id":19807985,"display_name":"Troo TrIIs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73557809,"answer_count":1,"score":0,"last_activity_date":1661957798,"creation_date":1661943988,"question_id":73554944,"body_markdown":"I generated DTOs with JHipster automatically. I didn&#39;t know how to see my json just with console and i get null in one to many relationship.\r\nThis is what i get.`[OperationDTO{id=1, date=&#39;2015-08-05T08:48:00Z&#39;, description=&#39;Mississippi Account Associate&#39;, amount=13968.00, bankAccount=BankAccountDTO{id=1, name=&#39;monitor&#39;, balance=null, user=null}, labels=[]}]`\r\nAnd i am using this repository from github \r\nhttps://github.com/jhipster/jhipster-sample-app-dto\r\nThanks.","title":"why in the json i get from jhipster dtos automatic generation give me null one to many relationship?","body":"<p>I generated DTOs with JHipster automatically. I didn't know how to see my json just with console and i get null in one to many relationship.\nThis is what i get.<code>[OperationDTO{id=1, date='2015-08-05T08:48:00Z', description='Mississippi Account Associate', amount=13968.00, bankAccount=BankAccountDTO{id=1, name='monitor', balance=null, user=null}, labels=[]}]</code>\nAnd i am using this repository from github\n<a href=\"https://github.com/jhipster/jhipster-sample-app-dto\" rel=\"nofollow noreferrer\">https://github.com/jhipster/jhipster-sample-app-dto</a>\nThanks.</p>\n"},{"tags":["java","spring","spring-boot","docker","file"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1661602621,"post_id":73509244,"comment_id":129813898,"body_markdown":"It shouldn&#39;t be any different from creating a file outside the container.  Do you know what directory you&#39;re currently in, and does that directory exist inside the container?  (Writing files to an application `.../src/...` directory seems like an odd practice, and in a typical Docker image containing only a prebuilt jar file, that directory wouldn&#39;t exist.)","body":"It shouldn&#39;t be any different from creating a file outside the container.  Do you know what directory you&#39;re currently in, and does that directory exist inside the container?  (Writing files to an application <code>...&#47;src&#47;...</code> directory seems like an odd practice, and in a typical Docker image containing only a prebuilt jar file, that directory wouldn&#39;t exist.)"},{"owner":{"account_id":25050964,"reputation":99,"user_id":18906891,"display_name":"Sonn"},"score":0,"creation_date":1661640080,"post_id":73509244,"comment_id":129820711,"body_markdown":"@DavidMaze have you got any idea how may I get the path?","body":"@DavidMaze have you got any idea how may I get the path?"}],"answers":[{"tags":[],"owner":{"account_id":5085573,"reputation":47,"user_id":4080408,"display_name":"Sarthak Sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661957200,"creation_date":1661715945,"answer_id":73521750,"question_id":73509244,"body_markdown":"Containers while useful for application isolation, are volatile in nature. Does the file you create require to be accessible or stored outside the container or when the container is not running ?\r\nIn that case I would recommend you to add a path in your app.properties and mount that path to your server/laptop.\r\n\r\nUse @Value annotations to map absolute path in spring boot and &quot;-v&quot; flag in docker run to map mount path.\r\nAlso use mkdir to create the absolute path in your Dockerfile while building the image.\r\n\r\nAdd below to your Dockerfile:\r\n\r\n`RUN mkdir -p /appl/pictures/`    ==&gt; This maybe where you can store your image file from application\r\n\r\nIn docker run/compose command you can add -v flag as:\r\n\r\n    docker run .... -v &lt;absolute server path&gt;:&lt;image file path inside container&gt; ...\r\n\r\neg: \r\n\r\n    docker run .... -v /appl/pictures/:/appl/pictures/ ...\r\n\r\nSo now all images that you create inside container will be mounted into server /appl/pictures/ and will be persistent even if container is destroyed or stopped.","title":"Create File when my Spring boot is dockerized","body":"<p>Containers while useful for application isolation, are volatile in nature. Does the file you create require to be accessible or stored outside the container or when the container is not running ?\nIn that case I would recommend you to add a path in your app.properties and mount that path to your server/laptop.</p>\n<p>Use @Value annotations to map absolute path in spring boot and &quot;-v&quot; flag in docker run to map mount path.\nAlso use mkdir to create the absolute path in your Dockerfile while building the image.</p>\n<p>Add below to your Dockerfile:</p>\n<p><code>RUN mkdir -p /appl/pictures/</code>    ==&gt; This maybe where you can store your image file from application</p>\n<p>In docker run/compose command you can add -v flag as:</p>\n<pre><code>docker run .... -v &lt;absolute server path&gt;:&lt;image file path inside container&gt; ...\n</code></pre>\n<p>eg:</p>\n<pre><code>docker run .... -v /appl/pictures/:/appl/pictures/ ...\n</code></pre>\n<p>So now all images that you create inside container will be mounted into server /appl/pictures/ and will be persistent even if container is destroyed or stopped.</p>\n"},{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661801650,"creation_date":1661801650,"answer_id":73533831,"question_id":73509244,"body_markdown":"The problem isn&#39;t that you&#39;re running inside a Docker container, the problem is that you are running your application from a .jar file. \r\n\r\nYou&#39;re getting the base path to write to using `Resource resource = new ClassPathResource(&quot;application-fe/src/assets&quot;);`. \r\n\r\nIf you compile the application to a set of .class files on the file system and run this, then the resource is located at an absolute path on the same file system as the .class files. It&#39;s likely that you could write to this local file system location. \r\n\r\nWhen you package the compiled classes into a .jar file and run this, then the classpath containing the resource is inside the .jar file. You can&#39;t write to a location inside of a .jar file. This is what the `does not reside in the file system: jar:file:/usr/app/target/springbot` error message is trying to tell you. \r\n\r\nIf you really need to write to a file in the container, you should choose a file system path that is not on the classpath (that is, don&#39;t use `ClassPathResource`). ","title":"Create File when my Spring boot is dockerized","body":"<p>The problem isn't that you're running inside a Docker container, the problem is that you are running your application from a .jar file.</p>\n<p>You're getting the base path to write to using <code>Resource resource = new ClassPathResource(&quot;application-fe/src/assets&quot;);</code>.</p>\n<p>If you compile the application to a set of .class files on the file system and run this, then the resource is located at an absolute path on the same file system as the .class files. It's likely that you could write to this local file system location.</p>\n<p>When you package the compiled classes into a .jar file and run this, then the classpath containing the resource is inside the .jar file. You can't write to a location inside of a .jar file. This is what the <code>does not reside in the file system: jar:file:/usr/app/target/springbot</code> error message is trying to tell you.</p>\n<p>If you really need to write to a file in the container, you should choose a file system path that is not on the classpath (that is, don't use <code>ClassPathResource</code>).</p>\n"}],"owner":{"account_id":25050964,"reputation":99,"user_id":18906891,"display_name":"Sonn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1452,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1661957200,"creation_date":1661586653,"question_id":73509244,"body_markdown":"I&#39;m running my Spring Boot application on docker and when I&#39;m trying to create a new object I get this error (the object has an image where it saved in this path locally: `application-fe/src/assets`):\r\n\r\n&gt; class path resource [application-fe/src/assets] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/usr/app/target/springbot\r\n\r\nDoes anyone know how to create a new file inside a docker container?\r\n\r\nWhen running locally I was doing this:\r\n\r\n \r\n```java\r\nString pathToSave = &quot;application-fe/src/assets&quot;;\r\nResource resource = new ClassPathResource(pathToSave);\r\nif (image != null) {\r\n    File fileToSave = new File(resource.getFile() +&quot;\\\\&quot;+ this.region(region, city) + &quot;.png&quot;);\r\n```","title":"Create File when my Spring boot is dockerized","body":"<p>I'm running my Spring Boot application on docker and when I'm trying to create a new object I get this error (the object has an image where it saved in this path locally: <code>application-fe/src/assets</code>):</p>\n<blockquote>\n<p>class path resource [application-fe/src/assets] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/usr/app/target/springbot</p>\n</blockquote>\n<p>Does anyone know how to create a new file inside a docker container?</p>\n<p>When running locally I was doing this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String pathToSave = &quot;application-fe/src/assets&quot;;\nResource resource = new ClassPathResource(pathToSave);\nif (image != null) {\n    File fileToSave = new File(resource.getFile() +&quot;\\\\&quot;+ this.region(region, city) + &quot;.png&quot;);\n</code></pre>\n"},{"tags":["java","testing","junit"],"comments":[{"owner":{"account_id":23949,"reputation":63044,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":2,"creation_date":1336566071,"post_id":8295100,"comment_id":13598092,"body_markdown":"It should not be necessary to have fix wait times in selenium 2. The WebDriver should detect page loading and wait accordingly. If you want to wait for something else but page loading, for example some JavaScript to execute, you should use the WebDriverWait class, see: http://seleniumhq.org/docs/04_webdriver_advanced.html. That said, I think it may be okay to retry GUI tests, I just wanted to clarify that no explicit wait time is needed in most cases.","body":"It should not be necessary to have fix wait times in selenium 2. The WebDriver should detect page loading and wait accordingly. If you want to wait for something else but page loading, for example some JavaScript to execute, you should use the WebDriverWait class, see: <a href=\"http://seleniumhq.org/docs/04_webdriver_advanced.html\" rel=\"nofollow noreferrer\">seleniumhq.org/docs/04_webdriver_advanced.html</a>. That said, I think it may be okay to retry GUI tests, I just wanted to clarify that no explicit wait time is needed in most cases."},{"owner":{"account_id":17419,"reputation":41146,"user_id":38971,"accept_rate":97,"display_name":"cgp"},"score":0,"creation_date":1345643094,"post_id":8295100,"comment_id":16129278,"body_markdown":"It&#39;s true, but I&#39;ll point out also that I&#39;ve worked on some really, really poor servers that are &quot;fine&quot;, but they have a **REALLY** long spin up time on certain page instances, and therefore, I don&#39;t want to fail. This is a great question, thanks. (naturally, I&#39;d prefer that the timing *ALWAYS* be consistent, and we&#39;re going to push for that, but until then, this will have to do)","body":"It&#39;s true, but I&#39;ll point out also that I&#39;ve worked on some really, really poor servers that are &quot;fine&quot;, but they have a <b>REALLY</b> long spin up time on certain page instances, and therefore, I don&#39;t want to fail. This is a great question, thanks. (naturally, I&#39;d prefer that the timing <i>ALWAYS</i> be consistent, and we&#39;re going to push for that, but until then, this will have to do)"},{"owner":{"account_id":3164577,"reputation":478,"user_id":2895913,"display_name":"Sugat Mankar"},"score":0,"creation_date":1446634243,"post_id":8295100,"comment_id":54821152,"body_markdown":"If You are using cucumber rerun.txt feature please find my answer [here](http://stackoverflow.com/a/32698207/2895913)","body":"If You are using cucumber rerun.txt feature please find my answer <a href=\"http://stackoverflow.com/a/32698207/2895913\">here</a>"},{"owner":{"account_id":3164577,"reputation":478,"user_id":2895913,"display_name":"Sugat Mankar"},"score":0,"creation_date":1446634371,"post_id":8295100,"comment_id":54821242,"body_markdown":"If you are using Cucumber rerun.txt feature please see ans [here.](http://stackoverflow.com/a/32698207/2895913)","body":"If you are using Cucumber rerun.txt feature please see ans <a href=\"http://stackoverflow.com/a/32698207/2895913\">here.</a>"}],"answers":[{"tags":[],"owner":{"account_id":368319,"reputation":712,"user_id":715056,"display_name":"CKuck"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1322483765,"creation_date":1322483765,"answer_id":8295898,"question_id":8295100,"body_markdown":"You have to write your own `org.junit.runner.Runner` and annotate your tests with `@RunWith(YourRunner.class)`.","title":"How to Re-run failed JUnit tests immediately?","body":"<p>You have to write your own <code>org.junit.runner.Runner</code> and annotate your tests with <code>@RunWith(YourRunner.class)</code>.</p>\n"},{"tags":[],"owner":{"account_id":1376,"reputation":61107,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"down_vote_count":0,"up_vote_count":115,"is_accepted":true,"score":115,"last_activity_date":1403196748,"creation_date":1322510677,"answer_id":8301639,"question_id":8295100,"body_markdown":"You can do this with a [TestRule][1]. This will give you the flexibility you need. A TestRule allows you to insert logic around the test, so you would implement the retry loop:\r\n\r\n    public class RetryTest {\r\n        public class Retry implements TestRule {\r\n            private int retryCount;\r\n    \r\n            public Retry(int retryCount) {\r\n                this.retryCount = retryCount;\r\n            }\r\n    \r\n            public Statement apply(Statement base, Description description) {\r\n                return statement(base, description);\r\n            }\r\n    \r\n            private Statement statement(final Statement base, final Description description) {\r\n                return new Statement() {\r\n                    @Override\r\n                    public void evaluate() throws Throwable {\r\n                        Throwable caughtThrowable = null;\r\n    \r\n                        // implement retry logic here\r\n                        for (int i = 0; i &lt; retryCount; i++) {\r\n                            try {\r\n                                base.evaluate();\r\n                                return;\r\n                            } catch (Throwable t) {\r\n                                caughtThrowable = t;\r\n                                System.err.println(description.getDisplayName() + &quot;: run &quot; + (i+1) + &quot; failed&quot;);\r\n                            }\r\n                        }\r\n                        System.err.println(description.getDisplayName() + &quot;: giving up after &quot; + retryCount + &quot; failures&quot;);\r\n                        throw caughtThrowable;\r\n                    }\r\n                };\r\n            }\r\n        }\r\n    \r\n        @Rule\r\n        public Retry retry = new Retry(3);\r\n    \r\n        @Test\r\n        public void test1() {\r\n        }\r\n    \r\n        @Test\r\n        public void test2() {\r\n            Object o = null;\r\n            o.equals(&quot;foo&quot;);\r\n        }\r\n    }\r\n\r\nThe heart of a `TestRule` is the `base.evaluate()`, which calls your test method. So around this call you put a retry loop. If an exception is thrown in your test method (an assertion failure is actually an `AssertionError`), then the test has failed, and you&#39;ll retry.\r\n\r\nThere is one other thing that may be of use. You may only want to apply this retry logic to a set of tests, in which case you can add into the Retry class above a test for a particular annotation on the method. `Description` contains a list of annotations for the method. For more information about this, see my answer to [How to run some code before each JUnit @Test method individually, without using @RunWith nor AOP?][2].\r\n\r\nUsing a custom TestRunner\r\n-------------------------\r\n\r\nThis is the suggestion of CKuck, you can define your own Runner. You need to extend [BlockJUnit4ClassRunner][3] and override runChild(). For more information see my answer to [How to define JUnit method rule in a suite?][4]. This answer details how to define how to run code for every method in a Suite, for which you have to define your own Runner.\r\n\r\n\r\n  [1]: http://junit-team.github.io/junit/javadoc/latest/org/junit/rules/TestRule.html\r\n  [2]: https://stackoverflow.com/questions/8233883/how-to-run-some-code-before-each-junit-test-method-individually-without-using/8234076#8234076\r\n  [3]: http://junit.sourceforge.net/javadoc/org/junit/runners/BlockJUnit4ClassRunner.html\r\n  [4]: https://stackoverflow.com/questions/7639353/how-to-define-junit-method-rule-in-a-suite/7653558#7653558","title":"How to Re-run failed JUnit tests immediately?","body":"<p>You can do this with a <a href=\"http://junit-team.github.io/junit/javadoc/latest/org/junit/rules/TestRule.html\" rel=\"noreferrer\">TestRule</a>. This will give you the flexibility you need. A TestRule allows you to insert logic around the test, so you would implement the retry loop:</p>\n\n<pre><code>public class RetryTest {\n    public class Retry implements TestRule {\n        private int retryCount;\n\n        public Retry(int retryCount) {\n            this.retryCount = retryCount;\n        }\n\n        public Statement apply(Statement base, Description description) {\n            return statement(base, description);\n        }\n\n        private Statement statement(final Statement base, final Description description) {\n            return new Statement() {\n                @Override\n                public void evaluate() throws Throwable {\n                    Throwable caughtThrowable = null;\n\n                    // implement retry logic here\n                    for (int i = 0; i &lt; retryCount; i++) {\n                        try {\n                            base.evaluate();\n                            return;\n                        } catch (Throwable t) {\n                            caughtThrowable = t;\n                            System.err.println(description.getDisplayName() + \": run \" + (i+1) + \" failed\");\n                        }\n                    }\n                    System.err.println(description.getDisplayName() + \": giving up after \" + retryCount + \" failures\");\n                    throw caughtThrowable;\n                }\n            };\n        }\n    }\n\n    @Rule\n    public Retry retry = new Retry(3);\n\n    @Test\n    public void test1() {\n    }\n\n    @Test\n    public void test2() {\n        Object o = null;\n        o.equals(\"foo\");\n    }\n}\n</code></pre>\n\n<p>The heart of a <code>TestRule</code> is the <code>base.evaluate()</code>, which calls your test method. So around this call you put a retry loop. If an exception is thrown in your test method (an assertion failure is actually an <code>AssertionError</code>), then the test has failed, and you'll retry.</p>\n\n<p>There is one other thing that may be of use. You may only want to apply this retry logic to a set of tests, in which case you can add into the Retry class above a test for a particular annotation on the method. <code>Description</code> contains a list of annotations for the method. For more information about this, see my answer to <a href=\"https://stackoverflow.com/questions/8233883/how-to-run-some-code-before-each-junit-test-method-individually-without-using/8234076#8234076\">How to run some code before each JUnit @Test method individually, without using @RunWith nor AOP?</a>.</p>\n\n<h2>Using a custom TestRunner</h2>\n\n<p>This is the suggestion of CKuck, you can define your own Runner. You need to extend <a href=\"http://junit.sourceforge.net/javadoc/org/junit/runners/BlockJUnit4ClassRunner.html\" rel=\"noreferrer\">BlockJUnit4ClassRunner</a> and override runChild(). For more information see my answer to <a href=\"https://stackoverflow.com/questions/7639353/how-to-define-junit-method-rule-in-a-suite/7653558#7653558\">How to define JUnit method rule in a suite?</a>. This answer details how to define how to run code for every method in a Suite, for which you have to define your own Runner.</p>\n"},{"tags":[],"owner":{"account_id":1571544,"reputation":4459,"user_id":1459144,"accept_rate":82,"display_name":"user1459144"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1387897260,"creation_date":1387897260,"answer_id":20762914,"question_id":8295100,"body_markdown":"As for me writing custom runner more flexible solution.\r\nThe solution that posted above (with code example) has two disadvantages:\r\n\r\n 1. It won&#39;t retry test if it fails on the @BeforeClass stage; \r\n 2. It calculating tests run a bit differently (when you have 3 retries,\r\n    you will receive test Runs: 4, success 1 that might be confusing);\r\n\r\n\r\nThat&#39;s why I prefer more approach with writing custom runner. And code of custom runner could be following:\r\n\r\n\r\n\r\n    import org.junit.Ignore;\r\n    import org.junit.internal.AssumptionViolatedException;\r\n    import org.junit.internal.runners.model.EachTestNotifier;\r\n    import org.junit.runner.Description;\r\n    import org.junit.runner.notification.RunNotifier;\r\n    import org.junit.runner.notification.StoppedByUserException;\r\n    import org.junit.runners.BlockJUnit4ClassRunner;\r\n    import org.junit.runners.model.FrameworkMethod;\r\n    import org.junit.runners.model.InitializationError;\r\n    import org.junit.runners.model.Statement;\r\n    \r\n    \r\n    public class RetryRunner extends BlockJUnit4ClassRunner {\r\n        \r\n        private final int retryCount = 100;\r\n        private int failedAttempts = 0;\r\n    \r\n        public RetryRunner(Class&lt;?&gt; klass) throws InitializationError {\r\n            super(klass);\r\n        }    \r\n    \r\n        \r\n        @Override\r\n        public void run(final RunNotifier notifier) {\r\n            EachTestNotifier testNotifier = new EachTestNotifier(notifier,\r\n                    getDescription());\r\n            Statement statement = classBlock(notifier);\r\n            try {\r\n               \r\n                statement.evaluate();\r\n            } catch (AssumptionViolatedException e) {\r\n                testNotifier.fireTestIgnored();\r\n            } catch (StoppedByUserException e) {\r\n                throw e;\r\n            } catch (Throwable e) {\r\n                retry(testNotifier, statement, e);\r\n            }\r\n        }\r\n        \r\n        @Override\r\n        protected void runChild(final FrameworkMethod method, RunNotifier notifier) {\r\n            Description description = describeChild(method);\r\n            if (method.getAnnotation(Ignore.class) != null) {\r\n                notifier.fireTestIgnored(description);\r\n            } else {\r\n                runTestUnit(methodBlock(method), description, notifier);\r\n            }\r\n        }\r\n        \r\n        /**\r\n         * Runs a {@link Statement} that represents a leaf (aka atomic) test.\r\n         */\r\n        protected final void runTestUnit(Statement statement, Description description,\r\n                RunNotifier notifier) {\r\n            EachTestNotifier eachNotifier = new EachTestNotifier(notifier, description);\r\n            eachNotifier.fireTestStarted();\r\n            try {\r\n                statement.evaluate();\r\n            } catch (AssumptionViolatedException e) {\r\n                eachNotifier.addFailedAssumption(e);\r\n            } catch (Throwable e) {\r\n                retry(eachNotifier, statement, e);\r\n            } finally {\r\n                eachNotifier.fireTestFinished();\r\n            }\r\n        }\r\n        \r\n        public void retry(EachTestNotifier notifier, Statement statement, Throwable currentThrowable) {\r\n            Throwable caughtThrowable = currentThrowable;\r\n            while (retryCount &gt; failedAttempts) {\r\n                try {\r\n                    statement.evaluate();\r\n                    return;\r\n                } catch (Throwable t) {\r\n                    failedAttempts++;\r\n                    caughtThrowable = t;\r\n                }\r\n            }\r\n            notifier.addFailure(caughtThrowable);\r\n        }\r\n    }\r\n\r\n","title":"How to Re-run failed JUnit tests immediately?","body":"<p>As for me writing custom runner more flexible solution.\nThe solution that posted above (with code example) has two disadvantages:</p>\n\n<ol>\n<li>It won't retry test if it fails on the @BeforeClass stage; </li>\n<li>It calculating tests run a bit differently (when you have 3 retries,\nyou will receive test Runs: 4, success 1 that might be confusing);</li>\n</ol>\n\n<p>That's why I prefer more approach with writing custom runner. And code of custom runner could be following:</p>\n\n<pre><code>import org.junit.Ignore;\nimport org.junit.internal.AssumptionViolatedException;\nimport org.junit.internal.runners.model.EachTestNotifier;\nimport org.junit.runner.Description;\nimport org.junit.runner.notification.RunNotifier;\nimport org.junit.runner.notification.StoppedByUserException;\nimport org.junit.runners.BlockJUnit4ClassRunner;\nimport org.junit.runners.model.FrameworkMethod;\nimport org.junit.runners.model.InitializationError;\nimport org.junit.runners.model.Statement;\n\n\npublic class RetryRunner extends BlockJUnit4ClassRunner {\n\n    private final int retryCount = 100;\n    private int failedAttempts = 0;\n\n    public RetryRunner(Class&lt;?&gt; klass) throws InitializationError {\n        super(klass);\n    }    \n\n\n    @Override\n    public void run(final RunNotifier notifier) {\n        EachTestNotifier testNotifier = new EachTestNotifier(notifier,\n                getDescription());\n        Statement statement = classBlock(notifier);\n        try {\n\n            statement.evaluate();\n        } catch (AssumptionViolatedException e) {\n            testNotifier.fireTestIgnored();\n        } catch (StoppedByUserException e) {\n            throw e;\n        } catch (Throwable e) {\n            retry(testNotifier, statement, e);\n        }\n    }\n\n    @Override\n    protected void runChild(final FrameworkMethod method, RunNotifier notifier) {\n        Description description = describeChild(method);\n        if (method.getAnnotation(Ignore.class) != null) {\n            notifier.fireTestIgnored(description);\n        } else {\n            runTestUnit(methodBlock(method), description, notifier);\n        }\n    }\n\n    /**\n     * Runs a {@link Statement} that represents a leaf (aka atomic) test.\n     */\n    protected final void runTestUnit(Statement statement, Description description,\n            RunNotifier notifier) {\n        EachTestNotifier eachNotifier = new EachTestNotifier(notifier, description);\n        eachNotifier.fireTestStarted();\n        try {\n            statement.evaluate();\n        } catch (AssumptionViolatedException e) {\n            eachNotifier.addFailedAssumption(e);\n        } catch (Throwable e) {\n            retry(eachNotifier, statement, e);\n        } finally {\n            eachNotifier.fireTestFinished();\n        }\n    }\n\n    public void retry(EachTestNotifier notifier, Statement statement, Throwable currentThrowable) {\n        Throwable caughtThrowable = currentThrowable;\n        while (retryCount &gt; failedAttempts) {\n            try {\n                statement.evaluate();\n                return;\n            } catch (Throwable t) {\n                failedAttempts++;\n                caughtThrowable = t;\n            }\n        }\n        notifier.addFailure(caughtThrowable);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1571544,"reputation":4459,"user_id":1459144,"accept_rate":82,"display_name":"user1459144"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1432894102,"creation_date":1432894102,"answer_id":30526839,"question_id":8295100,"body_markdown":"Now there is a better option. If you&#39;re using maven plugins like: surfire or failsefe there is an option to add parameter `rerunFailingTestsCount` [SurFire Api][1].\r\nThis stuff was implemented in the following ticket: [Jira Ticket][2].\r\nIn this case you don&#39;t need to write your custom code and plugin automatically amend test results report.&lt;br&gt;\r\nI see only one drawback of this approach: If some test is failed on Before/After class stage test won&#39;t be re-ran.\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/rerun-failing-tests.html\r\n  [2]: https://jira.codehaus.org/browse/SUREFIRE-1087","title":"How to Re-run failed JUnit tests immediately?","body":"<p>Now there is a better option. If you're using maven plugins like: surfire or failsefe there is an option to add parameter <code>rerunFailingTestsCount</code> <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/rerun-failing-tests.html\" rel=\"noreferrer\">SurFire Api</a>.\nThis stuff was implemented in the following ticket: <a href=\"https://jira.codehaus.org/browse/SUREFIRE-1087\" rel=\"noreferrer\">Jira Ticket</a>.\nIn this case you don't need to write your custom code and plugin automatically amend test results report.<br>\nI see only one drawback of this approach: If some test is failed on Before/After class stage test won't be re-ran.</p>\n"},{"tags":[],"owner":{"account_id":15378071,"reputation":121,"user_id":11094213,"display_name":"Sergii"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1552701376,"creation_date":1552637015,"answer_id":55178053,"question_id":8295100,"body_markdown":"Proposed comment was written based ob [this][1] article with some additions.  \r\n\r\nHere, if some Test Case from your jUnit project gets &quot;failure&quot; or &quot;error&quot; result, this Test Case will be re-run one more time. Totally here we set 3 chance to get success result. \r\n\r\nSo, We need to **create Rule Class** and **add &quot;@Rule&quot; notifications to your Test Class**.  \r\n\r\nIf you do not want to wright the same &quot;@Rule&quot; notifications for each your Test Class, you can add it to your abstract SetProperty Class(if you have it) and extends from it.\r\n\r\n**Rule Class:**\r\n\r\n    import org.junit.rules.TestRule;\r\n    import org.junit.runner.Description;\r\n    import org.junit.runners.model.Statement;\r\n     \r\n    public class RetryRule implements TestRule {\r\n        private int retryCount;\r\n     \r\n        public RetryRule (int retryCount) {\r\n            this.retryCount = retryCount;\r\n        }\r\n     \r\n        public Statement apply(Statement base, Description description) {\r\n            return statement(base, description);\r\n        }\r\n     \r\n        private Statement statement(final Statement base, final Description description) {\r\n            return new Statement() {\r\n                @Override\r\n                public void evaluate() throws Throwable {\r\n                    Throwable caughtThrowable = null;\r\n     \r\n                    // implement retry logic here\r\n                    for (int i = 0; i &lt; retryCount; i++) {\r\n                        try {\r\n                            base.evaluate();\r\n                            return;\r\n                        } catch (Throwable t) {\r\n                            caughtThrowable = t;\r\n                            //  System.out.println(&quot;: run &quot; + (i+1) + &quot; failed&quot;);\r\n                            System.err.println(description.getDisplayName() + &quot;: run &quot; + (i + 1) + &quot; failed.&quot;);\r\n                        }\r\n                    }\r\n                    System.err.println(description.getDisplayName() + &quot;: giving up after &quot; + retryCount + &quot; failures.&quot;);\r\n                    throw caughtThrowable;\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n**Test Class:**\r\n\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    import static org.hamcrest.CoreMatchers.is;\r\n    import static org.hamcrest.MatcherAssert.assertThat;\r\n    \r\n    /**\r\n     * Created by ONUR BASKIRT on 27.03.2016.\r\n     */\r\n    public class RetryRuleTest {\r\n    \r\n        static WebDriver driver;\r\n        final private String URL = &quot;http://www.swtestacademy.com&quot;;\r\n    \r\n        @BeforeClass\r\n        public static void setupTest(){\r\n            driver = new FirefoxDriver();\r\n        }\r\n    \r\n        //Add this notification to your Test Class \r\n        @Rule\r\n        public RetryRule retryRule = new RetryRule(3);\r\n    \r\n        @Test\r\n        public void getURLExample() {\r\n            //Go to www.swtestacademy.com\r\n            driver.get(URL);\r\n    \r\n            //Check title is correct\r\n            assertThat(driver.getTitle(), is(&quot;WRONG TITLE&quot;));\r\n        }\r\n    }\r\n\r\n  [1]: https://www.swtestacademy.com/rerun-failed-test-junit/","title":"How to Re-run failed JUnit tests immediately?","body":"<p>Proposed comment was written based ob <a href=\"https://www.swtestacademy.com/rerun-failed-test-junit/\" rel=\"noreferrer\">this</a> article with some additions.  </p>\n\n<p>Here, if some Test Case from your jUnit project gets \"failure\" or \"error\" result, this Test Case will be re-run one more time. Totally here we set 3 chance to get success result. </p>\n\n<p>So, We need to <strong>create Rule Class</strong> and <strong>add \"@Rule\" notifications to your Test Class</strong>.  </p>\n\n<p>If you do not want to wright the same \"@Rule\" notifications for each your Test Class, you can add it to your abstract SetProperty Class(if you have it) and extends from it.</p>\n\n<p><strong>Rule Class:</strong></p>\n\n<pre><code>import org.junit.rules.TestRule;\nimport org.junit.runner.Description;\nimport org.junit.runners.model.Statement;\n\npublic class RetryRule implements TestRule {\n    private int retryCount;\n\n    public RetryRule (int retryCount) {\n        this.retryCount = retryCount;\n    }\n\n    public Statement apply(Statement base, Description description) {\n        return statement(base, description);\n    }\n\n    private Statement statement(final Statement base, final Description description) {\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n                Throwable caughtThrowable = null;\n\n                // implement retry logic here\n                for (int i = 0; i &lt; retryCount; i++) {\n                    try {\n                        base.evaluate();\n                        return;\n                    } catch (Throwable t) {\n                        caughtThrowable = t;\n                        //  System.out.println(\": run \" + (i+1) + \" failed\");\n                        System.err.println(description.getDisplayName() + \": run \" + (i + 1) + \" failed.\");\n                    }\n                }\n                System.err.println(description.getDisplayName() + \": giving up after \" + retryCount + \" failures.\");\n                throw caughtThrowable;\n            }\n        };\n    }\n}\n</code></pre>\n\n<p><strong>Test Class:</strong></p>\n\n<pre><code>import org.junit.BeforeClass;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.firefox.FirefoxDriver;\nimport static org.hamcrest.CoreMatchers.is;\nimport static org.hamcrest.MatcherAssert.assertThat;\n\n/**\n * Created by ONUR BASKIRT on 27.03.2016.\n */\npublic class RetryRuleTest {\n\n    static WebDriver driver;\n    final private String URL = \"http://www.swtestacademy.com\";\n\n    @BeforeClass\n    public static void setupTest(){\n        driver = new FirefoxDriver();\n    }\n\n    //Add this notification to your Test Class \n    @Rule\n    public RetryRule retryRule = new RetryRule(3);\n\n    @Test\n    public void getURLExample() {\n        //Go to www.swtestacademy.com\n        driver.get(URL);\n\n        //Check title is correct\n        assertThat(driver.getTitle(), is(\"WRONG TITLE\"));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10902979,"reputation":333,"user_id":8014724,"display_name":"DanD"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604775490,"creation_date":1604775490,"answer_id":64731321,"question_id":8295100,"body_markdown":"This answer is built on [this answer][1].\r\n\r\nIf you need your `ActivityScenario` (and your Activity) to be recreated before each run, you can launch it using try-with-resources. The `ActivityScenario` will then be closed automatically after each try.\r\n\r\n\tpublic final class RetryRule&lt;A extends Activity&gt; implements TestRule {\r\n\t\tprivate final int retryCount;\r\n\t\tprivate final Class&lt;A&gt; activityClazz;\r\n\t\tprivate ActivityScenario&lt;A&gt; scenario;\r\n\r\n\t\t/**\r\n\t\t * @param retryCount the number of retries. retryCount = 1 means 1 (normal) try and then\r\n         * 1 retry, i.e. 2 tries overall\r\n\t\t */\r\n\t\tpublic RetryRule(int retryCount, @NonNull Class&lt;A&gt; clazz) {\r\n\t\t\tthis.retryCount = retryCount;\r\n\t\t\tthis.activityClazz = clazz;\r\n\t\t}\r\n\r\n\t\tpublic Statement apply(Statement base, Description description) {\r\n\t\t\treturn statement(base, description);\r\n\t\t}\r\n\r\n\t\tprivate Statement statement(final Statement base, final Description description) {\r\n\t\t\treturn new Statement() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void evaluate() throws Throwable {\r\n\t\t\t\t\tThrowable caughtThrowable = null;\r\n\r\n\t\t\t\t\t// implement retry logic here\r\n\t\t\t\t\tfor (int i = 0; i &lt;= retryCount; i++) {\r\n\t\t\t\t\t\ttry(ActivityScenario&lt;A&gt; scenario = ActivityScenario.launch(activityClazz)){\r\n\t\t\t\t\t\t\tRetryRule.this.scenario = scenario;\r\n\t\t\t\t\t\t\tbase.evaluate();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} catch (Throwable t) {\r\n\t\t\t\t\t\t\tcaughtThrowable = t;\r\n\t\t\t\t\t\t\tLog.e(LOGTAG,\r\n\t\t\t\t\t\t\t\t\tdescription.getDisplayName() + &quot;: run &quot; + (i + 1) + &quot; failed: &quot;, t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tLog.e(LOGTAG,\r\n\t\t\t\t\t\t\tdescription.getDisplayName() + &quot;: giving up after &quot; + (retryCount + 1) +\r\n\t\t\t\t\t\t\t\t\t&quot; failures&quot;);\r\n\t\t\t\t\tthrow Objects.requireNonNull(caughtThrowable);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tpublic ActivityScenario&lt;A&gt; getScenario() {\r\n\t\t\treturn scenario;\r\n\t\t}\r\n\t}\r\n\r\nYou can then access your scenario in your tests using the `getScenario()` method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/8301639/8014724","title":"How to Re-run failed JUnit tests immediately?","body":"<p>This answer is built on <a href=\"https://stackoverflow.com/a/8301639/8014724\">this answer</a>.</p>\n<p>If you need your <code>ActivityScenario</code> (and your Activity) to be recreated before each run, you can launch it using try-with-resources. The <code>ActivityScenario</code> will then be closed automatically after each try.</p>\n<pre><code>public final class RetryRule&lt;A extends Activity&gt; implements TestRule {\n    private final int retryCount;\n    private final Class&lt;A&gt; activityClazz;\n    private ActivityScenario&lt;A&gt; scenario;\n\n    /**\n     * @param retryCount the number of retries. retryCount = 1 means 1 (normal) try and then\n     * 1 retry, i.e. 2 tries overall\n     */\n    public RetryRule(int retryCount, @NonNull Class&lt;A&gt; clazz) {\n        this.retryCount = retryCount;\n        this.activityClazz = clazz;\n    }\n\n    public Statement apply(Statement base, Description description) {\n        return statement(base, description);\n    }\n\n    private Statement statement(final Statement base, final Description description) {\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n                Throwable caughtThrowable = null;\n\n                // implement retry logic here\n                for (int i = 0; i &lt;= retryCount; i++) {\n                    try(ActivityScenario&lt;A&gt; scenario = ActivityScenario.launch(activityClazz)){\n                        RetryRule.this.scenario = scenario;\n                        base.evaluate();\n                        return;\n                    } catch (Throwable t) {\n                        caughtThrowable = t;\n                        Log.e(LOGTAG,\n                                description.getDisplayName() + &quot;: run &quot; + (i + 1) + &quot; failed: &quot;, t);\n                    }\n                }\n                Log.e(LOGTAG,\n                        description.getDisplayName() + &quot;: giving up after &quot; + (retryCount + 1) +\n                                &quot; failures&quot;);\n                throw Objects.requireNonNull(caughtThrowable);\n            }\n        };\n    }\n\n    public ActivityScenario&lt;A&gt; getScenario() {\n        return scenario;\n    }\n}\n</code></pre>\n<p>You can then access your scenario in your tests using the <code>getScenario()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":4818389,"reputation":65,"user_id":3889759,"display_name":"Kiryl K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661957104,"creation_date":1661957104,"answer_id":73557702,"question_id":8295100,"body_markdown":"As for **Junit5** there is a cool feature @RetryingTest offered by junit-pioneer extension  https://junit-pioneer.org/docs/retrying-test/, simple example:\r\n\r\n```\r\npublic class RetryTest {\r\n    private int counter = 0;\r\n\r\n\r\n    @RetryingTest(5)\r\n    void retryCounter() {\r\n        if (counter++ &lt; 2) fail();\r\n    }\r\n\r\n}\r\n\r\n```\r\nThis will fail twice and show green on third execution.","title":"How to Re-run failed JUnit tests immediately?","body":"<p>As for <strong>Junit5</strong> there is a cool feature @RetryingTest offered by junit-pioneer extension  <a href=\"https://junit-pioneer.org/docs/retrying-test/\" rel=\"nofollow noreferrer\">https://junit-pioneer.org/docs/retrying-test/</a>, simple example:</p>\n<pre><code>public class RetryTest {\n    private int counter = 0;\n\n\n    @RetryingTest(5)\n    void retryCounter() {\n        if (counter++ &lt; 2) fail();\n    }\n\n}\n\n</code></pre>\n<p>This will fail twice and show green on third execution.</p>\n"}],"owner":{"account_id":104911,"reputation":119202,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61395,"favorite_count":0,"down_vote_count":0,"up_vote_count":92,"accepted_answer_id":8301639,"answer_count":7,"score":92,"last_activity_date":1661957104,"creation_date":1322479445,"question_id":8295100,"body_markdown":"Is there a way to have an JUnit Rule or something similar that gives every failing test a second chance, just by trying to run it once again.\r\n\r\n*Background: I have a large Set of Selenium2-WebDriver tests written with JUnit. Due to a very aggressive timing (only short wait periods after the clicks) some tests (1 out of 100, and always a different one) can fail because the server sometimes responds a bit slower. But I can not make the wait period so long that it is definitely long enough, because then the tests will take for ever.) -- So I think it is acceptable for this use case that a test is green even if it needs a second try.*\r\n\r\nOf course it would be better to have a 2 out of 3 majority (repeat a failing test 3 times, and take them as correct, if two of the tests are correct), but this would be a future improvement.","title":"How to Re-run failed JUnit tests immediately?","body":"<p>Is there a way to have an JUnit Rule or something similar that gives every failing test a second chance, just by trying to run it once again.</p>\n\n<p><em>Background: I have a large Set of Selenium2-WebDriver tests written with JUnit. Due to a very aggressive timing (only short wait periods after the clicks) some tests (1 out of 100, and always a different one) can fail because the server sometimes responds a bit slower. But I can not make the wait period so long that it is definitely long enough, because then the tests will take for ever.) -- So I think it is acceptable for this use case that a test is green even if it needs a second try.</em></p>\n\n<p>Of course it would be better to have a 2 out of 3 majority (repeat a failing test 3 times, and take them as correct, if two of the tests are correct), but this would be a future improvement.</p>\n"},{"tags":["java","mysql","maven","mariadb"],"comments":[{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1661956712,"post_id":73557513,"comment_id":129895567,"body_markdown":"See if you will find something useful here https://mariadb.com/kb/en/mariadb-vs-mysql-compatibility/","body":"See if you will find something useful here <a href=\"https://mariadb.com/kb/en/mariadb-vs-mysql-compatibility/\" rel=\"nofollow noreferrer\">mariadb.com/kb/en/mariadb-vs-mysql-compatibility</a>"},{"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"score":0,"creation_date":1661957159,"post_id":73557513,"comment_id":129895720,"body_markdown":"From what I do understand here they speak of compatibility between the versions of the databases where all I need is to change the connector of my code, so I don&#39;t think this applies to the problem","body":"From what I do understand here they speak of compatibility between the versions of the databases where all I need is to change the connector of my code, so I don&#39;t think this applies to the problem"},{"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"score":0,"creation_date":1661957704,"post_id":73557513,"comment_id":129895968,"body_markdown":"Check this out https://stackoverflow.com/questions/57156119/does-mysqls-connector-j-work-with-mariadb#:~:text=Yes%2C%20MySQL&#39;s%20Connector%2FJ%20is%20compatible%20with%20MariaDB.","body":"Check this out <a href=\"https://stackoverflow.com/questions/57156119/does-mysqls-connector-j-work-with-mariadb#:~:text=Yes%2C%20MySQL&#39;s%20Connector%2FJ%20is%20compatible%20with%20MariaDB\" title=\"does mysqls connector j work with mariadb%23%3a%7e%3atext%3dYes%252C%2520MySQL%26%2339%3bs%2520Connector%252FJ%2520is%2520compatible%2520with%2520MariaDB\">stackoverflow.com/questions/57156119/&hellip;</a>."}],"owner":{"account_id":15608330,"reputation":1466,"user_id":11260467,"display_name":"Xiidref"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661956219,"creation_date":1661956219,"question_id":73557513,"body_markdown":"I have a java maven project that use the mysql connector to connect my database. This connector is specified in my `pom.xml` file this way : \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n   &lt;version&gt;5.1.25&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI have to migrate this project from MySQL to MariaDB, so I&#39;ve updated my `pom.xml` file this way : \r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n   &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n   &lt;version&gt;????&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut for this, I&#39;d like to alter the connector so that I use the most recent MariaDB connector that is still compatible with the version of the MySQL connector that I&#39;m using (so the 5.1.25). But I have no idea of how I can find this information. Is there some correspondence table that I&#39;m missing, or should I just try each versions of the MariaDB connector until my project refuse to compile ? \r\n\r\n\r\n","title":"How can I check compatibility between Mysql and MariaDB connectors","body":"<p>I have a java maven project that use the mysql connector to connect my database. This connector is specified in my <code>pom.xml</code> file this way :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;mysql&lt;/groupId&gt;\n   &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n   &lt;version&gt;5.1.25&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have to migrate this project from MySQL to MariaDB, so I've updated my <code>pom.xml</code> file this way :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n   &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n   &lt;version&gt;????&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But for this, I'd like to alter the connector so that I use the most recent MariaDB connector that is still compatible with the version of the MySQL connector that I'm using (so the 5.1.25). But I have no idea of how I can find this information. Is there some correspondence table that I'm missing, or should I just try each versions of the MariaDB connector until my project refuse to compile ?</p>\n"},{"tags":["java","jar","jvm"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1661958759,"post_id":73557468,"comment_id":129896389,"body_markdown":"But you can run the JAR standalone or you are able to extract the JAR from the .exe ? https://www.baeldung.com/java-application-remote-debugging","body":"But you can run the JAR standalone or you are able to extract the JAR from the .exe ? <a href=\"https://www.baeldung.com/java-application-remote-debugging\" rel=\"nofollow noreferrer\">baeldung.com/java-application-remote-debugging</a>"},{"owner":{"account_id":7143342,"reputation":73,"user_id":5460062,"accept_rate":33,"display_name":"Java Weenis"},"score":0,"creation_date":1661968459,"post_id":73557468,"comment_id":129899890,"body_markdown":"@PeterMmm No, basically the entire program is in its own JAR, but the JAR is launched from a separate .exe which is also responsible for setting up the JVM environment. The issue is I don&#39;t have a way to extract the exact parameters for launch from the .exe file. From what I can find in the source code, the String[] args in the JAR&#39;s main method takes in about 12 different parameters for launch, none of which I know. So basically I need to &#39;tap in&#39; to the running JVM process that is initiated by the .exe and be able to &#39;see&#39; the code running in real-time.","body":"@PeterMmm No, basically the entire program is in its own JAR, but the JAR is launched from a separate .exe which is also responsible for setting up the JVM environment. The issue is I don&#39;t have a way to extract the exact parameters for launch from the .exe file. From what I can find in the source code, the String[] args in the JAR&#39;s main method takes in about 12 different parameters for launch, none of which I know. So basically I need to &#39;tap in&#39; to the running JVM process that is initiated by the .exe and be able to &#39;see&#39; the code running in real-time."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1661970726,"post_id":73557468,"comment_id":129900676,"body_markdown":"I think you are simply looking for &quot;JVM remote debug&quot;","body":"I think you are simply looking for &quot;JVM remote debug&quot;"},{"owner":{"account_id":7143342,"reputation":73,"user_id":5460062,"accept_rate":33,"display_name":"Java Weenis"},"score":0,"creation_date":1661989557,"post_id":73557468,"comment_id":129905148,"body_markdown":"@MatteoNNZ Is there a way to do that for a live JVM that I have no control over? Can I &#39;tap in&#39; to an already-running Java process? I am not able to change the flags passed in to the JVM before launch. All of that is contained in the .exe file, which I do not have the source code for.","body":"@MatteoNNZ Is there a way to do that for a live JVM that I have no control over? Can I &#39;tap in&#39; to an already-running Java process? I am not able to change the flags passed in to the JVM before launch. All of that is contained in the .exe file, which I do not have the source code for."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1662003886,"post_id":73557468,"comment_id":129907098,"body_markdown":"It is possible to do that with jdb (https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html). Though the debugging experience is much worse, best way would be to find the way the JVM is started and pass on the debug flags","body":"It is possible to do that with jdb (<a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/tools/windows/jdb.h&zwnj;&#8203;tml</a>). Though the debugging experience is much worse, best way would be to find the way the JVM is started and pass on the debug flags"},{"owner":{"account_id":7143342,"reputation":73,"user_id":5460062,"accept_rate":33,"display_name":"Java Weenis"},"score":0,"creation_date":1662038177,"post_id":73557468,"comment_id":129917200,"body_markdown":"That is a really good start, thanks. However, jdb does not seem to show the exact parameters used to launch the JAR, only the JVM. So I am able to set up the JVM properly, but I still am unable to launch the JAR since I do not know what to pass in to String[] args in the main method. Is there a log for the JVM that shows exactly how the JAR was launched?","body":"That is a really good start, thanks. However, jdb does not seem to show the exact parameters used to launch the JAR, only the JVM. So I am able to set up the JVM properly, but I still am unable to launch the JAR since I do not know what to pass in to String[] args in the main method. Is there a log for the JVM that shows exactly how the JAR was launched?"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1662045067,"post_id":73557468,"comment_id":129920228,"body_markdown":"Can be possible via environment JDK_JAVA_OPTIONS, but I don&#39;t know for sure: https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE. Depends heavily on how the JAR is executed and JVM version.","body":"Can be possible via environment JDK_JAVA_OPTIONS, but I don&#39;t know for sure: <a href=\"https://docs.oracle.com/en/java/javase/11/tools/java.html#GUID-3B1CE181-CD30-4178-9602-230B800D4FAE\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/11/tools/&hellip;</a>. Depends heavily on how the JAR is executed and JVM version."}],"owner":{"account_id":7143342,"reputation":73,"user_id":5460062,"accept_rate":33,"display_name":"Java Weenis"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661956050,"creation_date":1661956050,"question_id":73557468,"body_markdown":"I am not sure if such a tool exists, so this may be moot.\r\n\r\nEssentially, there is a JAR file containing a GUI program that is being executed in a JVM. I want to be able to see which interactions in the GUI trigger which lines of code in the source files. When I click a button on the GUI, I want to see exactly which method in the source code (or line of byte code) is triggered, and then see the flow of the program from there. I want to see values of variables, method calls, etc. Basically similar tools you would have if you were to use an IDE&#39;s debugger.\r\n\r\nAlso, decompiling the JAR and loading the source code into an IDE and using its debugger is not possible, since the JAR is launched with a Windows executable that passes in several arguments that I am unable to view. These arguments are critical to run the program.\r\n\r\nAre there any existing tools that even come close to this?","title":"Is there a way to debug a running JAR file on a live JVM?","body":"<p>I am not sure if such a tool exists, so this may be moot.</p>\n<p>Essentially, there is a JAR file containing a GUI program that is being executed in a JVM. I want to be able to see which interactions in the GUI trigger which lines of code in the source files. When I click a button on the GUI, I want to see exactly which method in the source code (or line of byte code) is triggered, and then see the flow of the program from there. I want to see values of variables, method calls, etc. Basically similar tools you would have if you were to use an IDE's debugger.</p>\n<p>Also, decompiling the JAR and loading the source code into an IDE and using its debugger is not possible, since the JAR is launched with a Windows executable that passes in several arguments that I am unable to view. These arguments are critical to run the program.</p>\n<p>Are there any existing tools that even come close to this?</p>\n"},{"tags":["java","android","alarmmanager"],"comments":[{"owner":{"account_id":2320529,"reputation":4829,"user_id":2036397,"accept_rate":33,"display_name":"ErstwhileIII"},"score":0,"creation_date":1393334088,"post_id":22015242,"comment_id":33369977,"body_markdown":"You may be interested in http://stackoverflow.com/questions/7295604/how-to-set-an-alarm-in-android-java","body":"You may be interested in <a href=\"http://stackoverflow.com/questions/7295604/how-to-set-an-alarm-in-android-java\" title=\"how to set an alarm in android java\">stackoverflow.com/questions/7295604/&hellip;</a>"},{"owner":{"account_id":3314203,"reputation":283,"user_id":2786925,"accept_rate":77,"display_name":"Suhrahj Rothgar"},"score":0,"creation_date":1393335266,"post_id":22015242,"comment_id":33370905,"body_markdown":"oh sadly, that is not my problem, I am on my live brand mobile","body":"oh sadly, that is not my problem, I am on my live brand mobile"}],"answers":[{"tags":[],"owner":{"account_id":216853,"reputation":1123,"user_id":472336,"accept_rate":100,"display_name":"Pramod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1393334149,"creation_date":1393334149,"answer_id":22015366,"question_id":22015242,"body_markdown":"Try to cancel Pendingintent-- \r\n\r\n    PendingIntent.getBroadcast(context, 0, intent, \r\n                               PendingIntent.FLAG_UPDATE_CURRENT).cancel();\r\n\r\nHope this helps\r\n","title":"Unable to cancel the alarm from AlarmManager","body":"<p>Try to cancel Pendingintent-- </p>\n\n<pre><code>PendingIntent.getBroadcast(context, 0, intent, \n                           PendingIntent.FLAG_UPDATE_CURRENT).cancel();\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":1681087,"reputation":2005,"user_id":3114640,"accept_rate":75,"display_name":"Sonali8890"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393334215,"creation_date":1393334215,"answer_id":22015393,"question_id":22015242,"body_markdown":"Try like this\r\n\r\n    public class AlarmNotifReceiver extends BroadcastReceiver {\r\n   \r\n    AlarmManager am = null;\r\n \r\n     @Override\r\n     public void onReceive(Context context, Intent intent)\r\n    {\r\n     Intent i = new Intent(context, AlarmNotifReceiver.class);\r\n    PendingIntent pi = PendingIntent.getBroadcast(context, 0, i, 0);\r\n    //things\r\n    }\r\n\r\n    public void SetAlarm(Context context)\r\n    {\r\n    am=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\r\n  \r\n    am.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 10*1000, pi); // Millisec * Second\r\n    }\r\n\r\n    public void CancelAlarm(Context context)\r\n     {\r\n   \r\n    am.cancel(pi);\r\n    }\r\n\r\n\r\n    }","title":"Unable to cancel the alarm from AlarmManager","body":"<p>Try like this</p>\n\n<pre><code>public class AlarmNotifReceiver extends BroadcastReceiver {\n\nAlarmManager am = null;\n\n @Override\n public void onReceive(Context context, Intent intent)\n{\n Intent i = new Intent(context, AlarmNotifReceiver.class);\nPendingIntent pi = PendingIntent.getBroadcast(context, 0, i, 0);\n//things\n}\n\npublic void SetAlarm(Context context)\n{\nam=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\n\nam.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 10*1000, pi); // Millisec * Second\n}\n\npublic void CancelAlarm(Context context)\n {\n\nam.cancel(pi);\n}\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":395253,"reputation":27958,"user_id":758104,"accept_rate":65,"display_name":"Vipul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1393334219,"creation_date":1393334219,"answer_id":22015398,"question_id":22015242,"body_markdown":"Alarm should be created and cancelled on Same Pending intent.In your case you are creating Pending Intent Twice.\r\n\r\nYour code should look like below.\r\n\r\n    public class AlarmNotifReceiver extends BroadcastReceiver {\r\n    \r\n        PendingIntent pi;\r\n        AlarmManager am;\r\n        Intent i;\r\n    \r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n            pi = PendingIntent.getBroadcast(context, 0, i, 0);\r\n            am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n            i = new Intent(context, AlarmNotifReceiver.class);\r\n            //things\r\n        }\r\n    \r\n        public void SetAlarm(Context context) {\r\n    \r\n            am.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 10 * 1000, pi);\r\n        }\r\n    \r\n        public void CancelAlarm(Context context) {\r\n            am.cancel(pi);\r\n        }\r\n    \r\n    \r\n    }   \r\n\r\n ","title":"Unable to cancel the alarm from AlarmManager","body":"<p>Alarm should be created and cancelled on Same Pending intent.In your case you are creating Pending Intent Twice.</p>\n\n<p>Your code should look like below.</p>\n\n<pre><code>public class AlarmNotifReceiver extends BroadcastReceiver {\n\n    PendingIntent pi;\n    AlarmManager am;\n    Intent i;\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        pi = PendingIntent.getBroadcast(context, 0, i, 0);\n        am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n        i = new Intent(context, AlarmNotifReceiver.class);\n        //things\n    }\n\n    public void SetAlarm(Context context) {\n\n        am.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 10 * 1000, pi);\n    }\n\n    public void CancelAlarm(Context context) {\n        am.cancel(pi);\n    }\n\n\n}   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1964760,"reputation":604,"user_id":1765321,"accept_rate":0,"display_name":"Solution"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661955933,"creation_date":1393334322,"answer_id":22015436,"question_id":22015242,"body_markdown":"Try this.\r\n\r\nhttps://stackoverflow.com/questions/4315611/android-get-all-pendingintents-set-with-alarmmanager\r\n\r\nTo cancel all alarm, first you have to find all the pending intent for that and cancel alarm using that.","title":"Unable to cancel the alarm from AlarmManager","body":"<p>Try this.</p>\n<p><a href=\"https://stackoverflow.com/questions/4315611/android-get-all-pendingintents-set-with-alarmmanager\">Android: Get all PendingIntents set with AlarmManager</a></p>\n<p>To cancel all alarm, first you have to find all the pending intent for that and cancel alarm using that.</p>\n"},{"tags":[],"owner":{"account_id":1958522,"reputation":9067,"user_id":1760858,"accept_rate":58,"display_name":"velis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393334760,"creation_date":1393334760,"answer_id":22015608,"question_id":22015242,"body_markdown":"Your problem is that you&#39;re creating a NEW intent instead of cancelling the existing one. Function SetAlarm should place the intent into a &quot;global&quot; variable and the CancelAlarm function should just call\r\n    am.cancel(global_pi);\r\n\r\nThe above worked for me in a service, but:\r\n\r\nIf this is impossible (since that&#39;s a Receiver), try setting a new alarm with the (new) intent first.","title":"Unable to cancel the alarm from AlarmManager","body":"<p>Your problem is that you're creating a NEW intent instead of cancelling the existing one. Function SetAlarm should place the intent into a \"global\" variable and the CancelAlarm function should just call\n    am.cancel(global_pi);</p>\n\n<p>The above worked for me in a service, but:</p>\n\n<p>If this is impossible (since that's a Receiver), try setting a new alarm with the (new) intent first.</p>\n"}],"owner":{"account_id":3314203,"reputation":283,"user_id":2786925,"accept_rate":77,"display_name":"Suhrahj Rothgar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":22015398,"answer_count":5,"score":0,"last_activity_date":1661955933,"creation_date":1393333788,"question_id":22015242,"body_markdown":"I have an `AlarmManager` that notifies me every 10 seconds. Everything works just fine but for some reason I can&#39;t cancel the alarm. Here&#39;s my code.\r\n\r\n    public class AlarmNotifReceiver extends BroadcastReceiver {\r\n\t\r\n\t@Override\r\n\tpublic void onReceive(Context context, Intent intent)\r\n\t{\r\n    //things\r\n\t}\r\n\r\n\tpublic void SetAlarm(Context context)\r\n\t{\r\n\t\tAlarmManager am=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\r\n\t\tIntent i = new Intent(context, AlarmNotifReceiver.class);\r\n\t\tPendingIntent pi = PendingIntent.getBroadcast(context, 0, i, 0);\r\n\t\tam.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 10*1000, pi); // Millisec * Second\r\n\t}\r\n\r\n\tpublic void CancelAlarm(Context context)\r\n\t{\r\n\t\tIntent i = new Intent(context, AlarmNotifReceiver.class);\r\n\t\tPendingIntent pi = PendingIntent.getBroadcast(context, 0, i, 0);\r\n\t\tAlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\r\n\t\tam.cancel(pi);\r\n\t}\r\n\r\n\r\n    }\r\n\r\nas expected I call this `CancelAlarm()` method from my other classes but for some reason it does not cancel and keep notifying me like nothing happened.\r\nNote: `SetAlarm()` also works just fine.\r\n\r\nThanks in advance.","title":"Unable to cancel the alarm from AlarmManager","body":"<p>I have an <code>AlarmManager</code> that notifies me every 10 seconds. Everything works just fine but for some reason I can't cancel the alarm. Here's my code.</p>\n\n<pre><code>public class AlarmNotifReceiver extends BroadcastReceiver {\n\n@Override\npublic void onReceive(Context context, Intent intent)\n{\n//things\n}\n\npublic void SetAlarm(Context context)\n{\n    AlarmManager am=(AlarmManager)context.getSystemService(Context.ALARM_SERVICE);\n    Intent i = new Intent(context, AlarmNotifReceiver.class);\n    PendingIntent pi = PendingIntent.getBroadcast(context, 0, i, 0);\n    am.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(), 10*1000, pi); // Millisec * Second\n}\n\npublic void CancelAlarm(Context context)\n{\n    Intent i = new Intent(context, AlarmNotifReceiver.class);\n    PendingIntent pi = PendingIntent.getBroadcast(context, 0, i, 0);\n    AlarmManager am = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE);\n    am.cancel(pi);\n}\n\n\n}\n</code></pre>\n\n<p>as expected I call this <code>CancelAlarm()</code> method from my other classes but for some reason it does not cancel and keep notifying me like nothing happened.\nNote: <code>SetAlarm()</code> also works just fine.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","multipartfile"],"owner":{"account_id":17013633,"reputation":73,"user_id":12308083,"display_name":"Akshay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661955752,"creation_date":1661712339,"question_id":73521326,"body_markdown":"The [Spring doc][1] states\r\n**@RequestParam** relies on type conversion via a registered Converter or PropertyEditor while **@RequestPart** relies on HttpMessageConverters taking into consideration the &#39;Content-Type&#39; header of the request part\r\n\r\n1. Now, what would be the practical differences between the two, in case all configurations are left to default\r\n2. What difference does it make, in case I upload a JSON/XML file and use @RequestParam or   @RequestPart?\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestPart.html","title":"What&#39;s the practical difference between @RequestParam and @RequestPart for multipart file in spring controller?","body":"<p>The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestPart.html\" rel=\"nofollow noreferrer\">Spring doc</a> states\n<strong>@RequestParam</strong> relies on type conversion via a registered Converter or PropertyEditor while <strong>@RequestPart</strong> relies on HttpMessageConverters taking into consideration the 'Content-Type' header of the request part</p>\n<ol>\n<li>Now, what would be the practical differences between the two, in case all configurations are left to default</li>\n<li>What difference does it make, in case I upload a JSON/XML file and use @RequestParam or   @RequestPart?</li>\n</ol>\n"},{"tags":["java","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1638280388,"post_id":70163709,"comment_id":124042273,"body_markdown":"Please share the example PDF to test. Furthermore, what *curse, line, char, rect info* are you talking about? Layers (or more exactly _optional content groups_) neither are lines, characters, or rectangles nor are they superstitious.","body":"Please share the example PDF to test. Furthermore, what <i>curse, line, char, rect info</i> are you talking about? Layers (or more exactly <i>optional content groups</i>) neither are lines, characters, or rectangles nor are they superstitious."},{"owner":{"account_id":23497628,"reputation":11,"user_id":17547870,"display_name":"Sheng Yu"},"score":0,"creation_date":1638326062,"post_id":70163709,"comment_id":124057027,"body_markdown":"Hi, thanks for your notice, I&#39;m upload my test pdf. And actually, I just want to read layer and sub-layers, get values(like x, y), and layer name.","body":"Hi, thanks for your notice, I&#39;m upload my test pdf. And actually, I just want to read layer and sub-layers, get values(like x, y), and layer name."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1638338983,"post_id":70163709,"comment_id":124059087,"body_markdown":"*&quot;get values(like x, y)&quot;* - *x, y* of what? Optional content groups don&#39;t have coordinates. Do you mean the position of each item related to an ocg? Or a binding box of all of them? Please explain.","body":"<i>&quot;get values(like x, y)&quot;</i> - <i>x, y</i> of what? Optional content groups don&#39;t have coordinates. Do you mean the position of each item related to an ocg? Or a binding box of all of them? Please explain."},{"owner":{"account_id":23497628,"reputation":11,"user_id":17547870,"display_name":"Sheng Yu"},"score":0,"creation_date":1638345366,"post_id":70163709,"comment_id":124060568,"body_markdown":"Yes, I need the position of each item related to an ocg.","body":"Yes, I need the position of each item related to an ocg."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1638356023,"post_id":70163709,"comment_id":124064506,"body_markdown":"As far as I can see there are no optional content groups in your example PDF https://github.com/dwp73/img/blob/main/bslf.pdf at all. Or are you not talking about layers as Adobe sees them (i.e. optional content groups from the PDF standard) but something proprietary structures? I do see some proprietary elements in your example, in particular related to some HDAG tools.","body":"As far as I can see there are no optional content groups in your example PDF <a href=\"https://github.com/dwp73/img/blob/main/bslf.pdf\" rel=\"nofollow noreferrer\">github.com/dwp73/img/blob/main/bslf.pdf</a> at all. Or are you not talking about layers as Adobe sees them (i.e. optional content groups from the PDF standard) but something proprietary structures? I do see some proprietary elements in your example, in particular related to some HDAG tools."},{"owner":{"account_id":23497628,"reputation":11,"user_id":17547870,"display_name":"Sheng Yu"},"score":0,"creation_date":1638411728,"post_id":70163709,"comment_id":124083715,"body_markdown":"I&#39;m sorry for my ignorance. I can not figure out what&#39;s difference between  “optional content groups” and Layers from Adobe Illustrator(in my [image](https://i.stack.imgur.com/20AyE.png), I need layer &quot;234&quot;, and sub-layers  &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;...). I need those layer&#39;s name, and positions(like x, y, width, height).","body":"I&#39;m sorry for my ignorance. I can not figure out what&#39;s difference between  “optional content groups” and Layers from Adobe Illustrator(in my <a href=\"https://i.stack.imgur.com/20AyE.png\" rel=\"nofollow noreferrer\">image</a>, I need layer &quot;234&quot;, and sub-layers  &quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;...). I need those layer&#39;s name, and positions(like x, y, width, height)."},{"owner":{"account_id":23497628,"reputation":11,"user_id":17547870,"display_name":"Sheng Yu"},"score":0,"creation_date":1638413064,"post_id":70163709,"comment_id":124083944,"body_markdown":"new [image](https://i.stack.imgur.com/GvPkX.png), I need layer &quot;main_layer&quot;, and sub_layers &quot;sub_layer_1&quot;, &quot;sub_layer_2&quot;...","body":"new <a href=\"https://i.stack.imgur.com/GvPkX.png\" rel=\"nofollow noreferrer\">image</a>, I need layer &quot;main_layer&quot;, and sub_layers &quot;sub_layer_1&quot;, &quot;sub_layer_2&quot;..."},{"owner":{"account_id":2703230,"reputation":12011,"user_id":2333458,"accept_rate":75,"display_name":"Alexey Subach"},"score":1,"creation_date":1639420870,"post_id":70163709,"comment_id":124339380,"body_markdown":"Your screenshot is from Illustrator and you want to fetch the names of the sublayers from PDF created by a third party. Obviously to fetch the names of the sublayers from a PDF, they must have been added there in the first place. Having that said, I don&#39;t see any sublayers with names like `sub_layer_N` in the PDF - I can only see two layers: `2_layer` and `main_layer` - both by using a PDF viewer tool and by inspecting an internal PDF structure. So the layers you are looking for are just not there and your code is fine","body":"Your screenshot is from Illustrator and you want to fetch the names of the sublayers from PDF created by a third party. Obviously to fetch the names of the sublayers from a PDF, they must have been added there in the first place. Having that said, I don&#39;t see any sublayers with names like <code>sub_layer_N</code> in the PDF - I can only see two layers: <code>2_layer</code> and <code>main_layer</code> - both by using a PDF viewer tool and by inspecting an internal PDF structure. So the layers you are looking for are just not there and your code is fine"}],"owner":{"account_id":23497628,"reputation":11,"user_id":17547870,"display_name":"Sheng Yu"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661955733,"creation_date":1638240525,"question_id":70163709,"body_markdown":"[Here are my test pdf file.][1]\r\n\r\n[![pdf layer and sub-layers][2]][2]\r\n[![I need those values(like x, y, width, height).][3]][3]\r\n\r\n\r\nBy use this code, I can get layer name, but can not get sub-layers name.\r\n\r\n            PdfDocument pdfDoc = new PdfDocument(reader, writer);\r\n            List&lt;PdfLayer&gt; layers = pdfDoc\r\n                    .getCatalog()\r\n                    .getOCProperties(true)\r\n                    .getLayers();\r\n\r\n            for (PdfLayer layer : layers) {\r\n                if (layer.isOnPanel()) {\r\n                    PdfObject layerName = layer.getPdfObject().get(PdfName.Name);\r\n                    List&lt;PdfLayer&gt; subLayers = layer.getChildren();\r\n\r\n                    System.out.println(layerName.toString());\r\n                    System.out.println(layer.getPdfObject());\r\n                }\r\n            }\r\n\r\nI can get ```main_layer``` by this code. But can&#39;t get sub-layers name, like ```sub_layer_1```, ```sub_layer_19```.\r\n\r\nAnd I don&#39;t know how to get curse value by itext7.\r\n\r\nFor python, I can use pdfplumber get curse, line, char, rect info.\r\n\r\nHow can I get those by itext7 ?\r\n\r\n\r\n  [1]: https://github.com/dwp73/img/blob/main/bslf.pdf\r\n  [2]: https://i.stack.imgur.com/GvPkX.png\r\n  [3]: https://i.stack.imgur.com/ouSjq.png","title":"How can I get layer values and layer name from pdf, and sub-layers?","body":"<p><a href=\"https://github.com/dwp73/img/blob/main/bslf.pdf\" rel=\"nofollow noreferrer\">Here are my test pdf file.</a></p>\n<p><a href=\"https://i.stack.imgur.com/GvPkX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GvPkX.png\" alt=\"pdf layer and sub-layers\" /></a>\n<a href=\"https://i.stack.imgur.com/ouSjq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ouSjq.png\" alt=\"I need those values(like x, y, width, height).\" /></a></p>\n<p>By use this code, I can get layer name, but can not get sub-layers name.</p>\n<pre><code>        PdfDocument pdfDoc = new PdfDocument(reader, writer);\n        List&lt;PdfLayer&gt; layers = pdfDoc\n                .getCatalog()\n                .getOCProperties(true)\n                .getLayers();\n\n        for (PdfLayer layer : layers) {\n            if (layer.isOnPanel()) {\n                PdfObject layerName = layer.getPdfObject().get(PdfName.Name);\n                List&lt;PdfLayer&gt; subLayers = layer.getChildren();\n\n                System.out.println(layerName.toString());\n                System.out.println(layer.getPdfObject());\n            }\n        }\n</code></pre>\n<p>I can get <code>main_layer</code> by this code. But can't get sub-layers name, like <code>sub_layer_1</code>, <code>sub_layer_19</code>.</p>\n<p>And I don't know how to get curse value by itext7.</p>\n<p>For python, I can use pdfplumber get curse, line, char, rect info.</p>\n<p>How can I get those by itext7 ?</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":17464063,"reputation":45,"user_id":12661169,"display_name":"sid"},"score":0,"creation_date":1661874228,"post_id":73544989,"comment_id":129873128,"body_markdown":"correction:         var max3 = map1.entrySet().stream()\n                .max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1)\n                .get()\n                .getValue();","body":"correction:         var max3 = map1.entrySet().stream()                 .max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1)                 .get()                 .getValue();"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":2,"creation_date":1661874811,"post_id":73544989,"comment_id":129873339,"body_markdown":"Note: `.max(Map.Entry.comparingByValue())`","body":"Note: <code>.max(Map.Entry.comparingByValue())</code>"},{"owner":{"account_id":17464063,"reputation":45,"user_id":12661169,"display_name":"sid"},"score":0,"creation_date":1661875404,"post_id":73544989,"comment_id":129873565,"body_markdown":"correction2: sorry in above correction, map1 should be map2","body":"correction2: sorry in above correction, map1 should be map2"},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":1,"creation_date":1661876941,"post_id":73544989,"comment_id":129874126,"body_markdown":"@sid Please use the edit button to edit your question directly instead of adding comments. For now I have edited already, feel free to edit it again if there are any mistakes.","body":"@sid Please use the edit button to edit your question directly instead of adding comments. For now I have edited already, feel free to edit it again if there are any mistakes."}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661877457,"creation_date":1661877457,"answer_id":73545821,"question_id":73544989,"body_markdown":"The code you have is pretty straight forward if you change the names of your variables to something meaningfull. You could write a custom collector, but i doubt it is worth the effort and is able to make your code much more readable. The easiest solution I can think of is, if you insists in chaining your stream, to first build the frequency and then invert the map to use the values(frequencies) as key and keys as value and to collect to a Treemap, which is sorted by key, and get the last entry:\r\n\r\n    List&lt;String&gt; strList = Arrays.asList(&quot;10.0 string1&quot;, &quot;10.3 string2&quot;, &quot;10.0 string3&quot;, &quot;10.4 string4&quot;, &quot;10.3 string5&quot;);\r\n\r\n    var mostFrequentEntries =\r\n            strList.stream()\r\n                   .map(s -&gt; s.substring(0, s.indexOf(&#39; &#39;)))\r\n                   .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\r\n                   .entrySet()\r\n                   .stream()\r\n                   .collect(Collectors.groupingBy(Map.Entry::getValue, TreeMap::new, Collectors.mapping(Map.Entry::getKey, Collectors.toList())))\r\n                   .lastEntry().getValue();\r\n\r\n    System.out.println(mostFrequentEntries);","title":"To use streams to find keys in a list with max occurance","body":"<p>The code you have is pretty straight forward if you change the names of your variables to something meaningfull. You could write a custom collector, but i doubt it is worth the effort and is able to make your code much more readable. The easiest solution I can think of is, if you insists in chaining your stream, to first build the frequency and then invert the map to use the values(frequencies) as key and keys as value and to collect to a Treemap, which is sorted by key, and get the last entry:</p>\n<pre><code>List&lt;String&gt; strList = Arrays.asList(&quot;10.0 string1&quot;, &quot;10.3 string2&quot;, &quot;10.0 string3&quot;, &quot;10.4 string4&quot;, &quot;10.3 string5&quot;);\n\nvar mostFrequentEntries =\n        strList.stream()\n               .map(s -&gt; s.substring(0, s.indexOf(' ')))\n               .collect(Collectors.groupingBy(Function.identity(), Collectors.counting()))\n               .entrySet()\n               .stream()\n               .collect(Collectors.groupingBy(Map.Entry::getValue, TreeMap::new, Collectors.mapping(Map.Entry::getKey, Collectors.toList())))\n               .lastEntry().getValue();\n\nSystem.out.println(mostFrequentEntries);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661955475,"creation_date":1661879083,"answer_id":73546150,"question_id":73544989,"body_markdown":"This simplest way I know is to start with a frequency count of for the targeted value and return the maximum value and the map in a data structure for subsequent processing.\r\n\r\nHere is some data (added to yours for demo)\r\n```\r\nList&lt;String&gt; strList = Arrays.asList(&quot;10.0 string1&quot;,\r\n\t\t&quot;10.0 string2&quot;, &quot;10.3 string3&quot;, &quot;10.0 string4&quot;,\r\n\t\t&quot;10.3 string5&quot;, &quot;10.4 string6&quot;, &quot;10.3 string7&quot;,\r\n\t\t&quot;10.4 string8&quot;, &quot;10.5 string9&quot;, &quot;10.6 string10&quot;);\r\n```\r\n- first, stream the list and create a map based on frequency. This is done via using `toMap` and incrementing the count for duplicate keys.\r\n\r\n- then stream the entries of that map looking for the maximum count.  Then return the count and the map in a `SimpleEntry` data structure.\r\n``` \r\nEntry&lt;Integer,Map&lt;String,Integer&gt;&gt; result =  strList.stream()\r\n\t\t\t.collect(Collectors.collectingAndThen(\r\n\t\t\t\t\tCollectors.toMap(str -&gt; str.split(&quot;\\\\s+&quot;)[0],, s -&gt; 1,Integer::sum),\r\n\t\t\t\t     m -&gt; new SimpleEntry&lt;&gt;(\r\n\t\t\t\t\t  m.isEmpty() ? 0 : Collections.max(m.values()),m)));\r\n\r\n```\r\n- Now, using the returned map and the maximum count, print all the keys that have the same count.\r\n```\r\nint max = result.getKey();\r\nresult.getValue().forEach((k,v)-&gt; {\r\n\tif (v == max) {\r\n\t\tSystem.out.println(k);\r\n\t}\r\n});\r\n```\r\nprints\r\n```\r\n10.4\r\n10.3\r\n10.0\r\n```\r\nThanks to [Holger](https://stackoverflow.com/users/2711488/holger) for making some suggestions regarding `Collections.max` and the two argument version of `String.split()`.\r\n","title":"To use streams to find keys in a list with max occurance","body":"<p>This simplest way I know is to start with a frequency count of for the targeted value and return the maximum value and the map in a data structure for subsequent processing.</p>\n<p>Here is some data (added to yours for demo)</p>\n<pre><code>List&lt;String&gt; strList = Arrays.asList(&quot;10.0 string1&quot;,\n        &quot;10.0 string2&quot;, &quot;10.3 string3&quot;, &quot;10.0 string4&quot;,\n        &quot;10.3 string5&quot;, &quot;10.4 string6&quot;, &quot;10.3 string7&quot;,\n        &quot;10.4 string8&quot;, &quot;10.5 string9&quot;, &quot;10.6 string10&quot;);\n</code></pre>\n<ul>\n<li><p>first, stream the list and create a map based on frequency. This is done via using <code>toMap</code> and incrementing the count for duplicate keys.</p>\n</li>\n<li><p>then stream the entries of that map looking for the maximum count.  Then return the count and the map in a <code>SimpleEntry</code> data structure.</p>\n</li>\n</ul>\n<pre><code>Entry&lt;Integer,Map&lt;String,Integer&gt;&gt; result =  strList.stream()\n            .collect(Collectors.collectingAndThen(\n                    Collectors.toMap(str -&gt; str.split(&quot;\\\\s+&quot;)[0],, s -&gt; 1,Integer::sum),\n                     m -&gt; new SimpleEntry&lt;&gt;(\n                      m.isEmpty() ? 0 : Collections.max(m.values()),m)));\n\n</code></pre>\n<ul>\n<li>Now, using the returned map and the maximum count, print all the keys that have the same count.</li>\n</ul>\n<pre><code>int max = result.getKey();\nresult.getValue().forEach((k,v)-&gt; {\n    if (v == max) {\n        System.out.println(k);\n    }\n});\n</code></pre>\n<p>prints</p>\n<pre><code>10.4\n10.3\n10.0\n</code></pre>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/2711488/holger\">Holger</a> for making some suggestions regarding <code>Collections.max</code> and the two argument version of <code>String.split()</code>.</p>\n"}],"owner":{"account_id":17464063,"reputation":45,"user_id":12661169,"display_name":"sid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1661955475,"creation_date":1661873364,"question_id":73544989,"body_markdown":"We have a list: \r\n\r\n    List&lt;String&gt; strList = Arrays.asList(&quot;10.0 string1&quot;, &quot;10.3 string2&quot;, &quot;10.0 string3&quot;, &quot;10.4 string4&quot;,&quot;10.3 string5&quot;);\r\n\r\neach entry is a string made of 2 strings separated by space. \r\nObjective is to find all the entries with max number of occurance (i.e 10.0 and 10.3 wit 2 occurrences).\r\n\r\nThe following code works. Question is could these 3 statements be reduced to 1 or at least 2?\r\n\r\n    var map2 = strList.stream()\r\n                      .map(m -&gt; {String[] parts = m.split(&quot; &quot;); return parts[0];})\r\n                      .collect((Collectors.groupingBy(Function.identity(),LinkedHashMap::new, Collectors.counting())));\r\n\r\n    var max3 = map2.entrySet().stream()\r\n                   .max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1) \r\n                   .get() \r\n                   .getValue();\r\n\r\n    var listOfMax2 = map2.entrySet().stream()\r\n                         .filter(entry -&gt; entry.getValue() == max3)\r\n                         .map(Map.Entry::getKey)\r\n                         .collect(Collectors.toList());\r\n\r\n    System.out.println(listOfMax2);\r\n\r\n\r\n\r\n ","title":"To use streams to find keys in a list with max occurance","body":"<p>We have a list:</p>\n<pre><code>List&lt;String&gt; strList = Arrays.asList(&quot;10.0 string1&quot;, &quot;10.3 string2&quot;, &quot;10.0 string3&quot;, &quot;10.4 string4&quot;,&quot;10.3 string5&quot;);\n</code></pre>\n<p>each entry is a string made of 2 strings separated by space.\nObjective is to find all the entries with max number of occurance (i.e 10.0 and 10.3 wit 2 occurrences).</p>\n<p>The following code works. Question is could these 3 statements be reduced to 1 or at least 2?</p>\n<pre><code>var map2 = strList.stream()\n                  .map(m -&gt; {String[] parts = m.split(&quot; &quot;); return parts[0];})\n                  .collect((Collectors.groupingBy(Function.identity(),LinkedHashMap::new, Collectors.counting())));\n\nvar max3 = map2.entrySet().stream()\n               .max((entry1, entry2) -&gt; entry1.getValue() &gt; entry2.getValue() ? 1 : -1) \n               .get() \n               .getValue();\n\nvar listOfMax2 = map2.entrySet().stream()\n                     .filter(entry -&gt; entry.getValue() == max3)\n                     .map(Map.Entry::getKey)\n                     .collect(Collectors.toList());\n\nSystem.out.println(listOfMax2);\n</code></pre>\n"},{"tags":["java","html","http","zip"],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661938047,"creation_date":1661938047,"answer_id":73553740,"question_id":73553638,"body_markdown":"You are closing the ZIP after sending the response. Swap the order:\r\n\r\n    zos.close();\r\n    response.getOutputStream().write(baos.toByteArray());\r\n\r\nIt would be more efficient if you use try-with-resources to handle close, `Files.copy(Paths.get(currentFile), zos);` to transfer the files, and if you ZIP straight to the output stream because you might risk out of memory exceptions for large files:\r\n\r\n    ZipOutputStream zos = new ZipOutputStream(response.getOutputStream());\r\n","title":"Return a .zip file containing several .csv files to the browser with ZipOutputStream","body":"<p>You are closing the ZIP after sending the response. Swap the order:</p>\n<pre><code>zos.close();\nresponse.getOutputStream().write(baos.toByteArray());\n</code></pre>\n<p>It would be more efficient if you use try-with-resources to handle close, <code>Files.copy(Paths.get(currentFile), zos);</code> to transfer the files, and if you ZIP straight to the output stream because you might risk out of memory exceptions for large files:</p>\n<pre><code>ZipOutputStream zos = new ZipOutputStream(response.getOutputStream());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661955337,"creation_date":1661952001,"answer_id":73556538,"question_id":73553638,"body_markdown":"Not an answer so much as consolidation based on @DuncG\r\n\r\n```\r\n            ZipOutputStream zos = new ZipOutputStream(response.getOutputStream());\r\n\r\n            for (String path : selectedFiles) {\r\n                zos.putNextEntry(new ZipEntry(new File(path).getName()));\r\n                Files.copy(Paths.get(path), zos);\r\n                zos.closeEntry();\r\n            }\r\n            zos.close();\r\n\r\n```","title":"Return a .zip file containing several .csv files to the browser with ZipOutputStream","body":"<p>Not an answer so much as consolidation based on @DuncG</p>\n<pre><code>            ZipOutputStream zos = new ZipOutputStream(response.getOutputStream());\n\n            for (String path : selectedFiles) {\n                zos.putNextEntry(new ZipEntry(new File(path).getName()));\n                Files.copy(Paths.get(path), zos);\n                zos.closeEntry();\n            }\n            zos.close();\n\n</code></pre>\n"}],"owner":{"account_id":22736451,"reputation":13,"user_id":19868724,"display_name":"IAmMinion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73556538,"answer_count":2,"score":1,"last_activity_date":1661955337,"creation_date":1661937548,"question_id":73553638,"body_markdown":"To begin with, I am well aware that a similar topic is available on Stack OverFlow, but this one does not answer my problem. That&#39;s why I&#39;m making this post.\r\n\r\nAt the moment, my program is able to search for &quot;.csv&quot; files locally, according to certain criteria, to add them to a list, and then to create a file in &quot;.zip&quot; format, which contains all these files. This works without any problem.\r\n\r\nNow, I want to download this &quot;.zip&quot; file, from a Web interface, with a button. The connection between the code and the button works, but when I open my downloaded &quot;.zip&quot; file, it contains only one file, and not all the &quot;.csv&quot; files it is supposed to contain. Where can the problem come from?\r\n\r\nHere is my code:\r\n\r\n    FileOutputStream baos = new FileOutputStream(&quot;myZip.zip&quot;);\r\n    ZipOutputStream zos = new ZipOutputStream(baos);\r\n                            \r\n    for(String sCurrent : selectedFiles){\r\n        zos.putNextEntry(new ZipEntry(new File(sCurrent).getName()));\r\n        Files.copy(Paths.get(sCurrent), zos);\r\n        zos.closeEntry();\r\n    }\r\n    zos.close();\r\n    response.getOutputStream().flush();\r\n    response.getOutputStream().close();\r\n\r\n\r\n\r\n","title":"Return a .zip file containing several .csv files to the browser with ZipOutputStream","body":"<p>To begin with, I am well aware that a similar topic is available on Stack OverFlow, but this one does not answer my problem. That's why I'm making this post.</p>\n<p>At the moment, my program is able to search for &quot;.csv&quot; files locally, according to certain criteria, to add them to a list, and then to create a file in &quot;.zip&quot; format, which contains all these files. This works without any problem.</p>\n<p>Now, I want to download this &quot;.zip&quot; file, from a Web interface, with a button. The connection between the code and the button works, but when I open my downloaded &quot;.zip&quot; file, it contains only one file, and not all the &quot;.csv&quot; files it is supposed to contain. Where can the problem come from?</p>\n<p>Here is my code:</p>\n<pre><code>FileOutputStream baos = new FileOutputStream(&quot;myZip.zip&quot;);\nZipOutputStream zos = new ZipOutputStream(baos);\n                        \nfor(String sCurrent : selectedFiles){\n    zos.putNextEntry(new ZipEntry(new File(sCurrent).getName()));\n    Files.copy(Paths.get(sCurrent), zos);\n    zos.closeEntry();\n}\nzos.close();\nresponse.getOutputStream().flush();\nresponse.getOutputStream().close();\n</code></pre>\n"},{"tags":["java","sql","spring-boot","hibernate"],"comments":[{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1660002013,"post_id":73283080,"comment_id":129425140,"body_markdown":"Are you sure its getting updated? The field `productBundle` has `updatable` set to `false`. Do you have any hibernate SQL debug logs to show us? You can turn SQL logs on by adding `logging.level.org.hibernate.SQL=DEBUG` to your `application.properties` file","body":"Are you sure its getting updated? The field <code>productBundle</code> has <code>updatable</code> set to <code>false</code>. Do you have any hibernate SQL debug logs to show us? You can turn SQL logs on by adding <code>logging.level.org.hibernate.SQL=DEBUG</code> to your <code>application.properties</code> file"},{"owner":{"account_id":8468157,"reputation":6871,"user_id":6351733,"accept_rate":22,"display_name":"Maurice"},"score":0,"creation_date":1660002160,"post_id":73283080,"comment_id":129425153,"body_markdown":"Also, i assume you mean `product_bundle_code` instead of `product_catalog ` because there is no reference to `product_catalog ` anywhere in your code.","body":"Also, i assume you mean <code>product_bundle_code</code> instead of <code>product_catalog </code> because there is no reference to <code>product_catalog </code> anywhere in your code."},{"owner":{"account_id":20717714,"reputation":399,"user_id":15212763,"display_name":"arriff"},"score":0,"creation_date":1660025369,"post_id":73283080,"comment_id":129428437,"body_markdown":"HI @Maurice I have added the sql logs on pastebin in the link above","body":"HI @Maurice I have added the sql logs on pastebin in the link above"}],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660199430,"creation_date":1660199430,"answer_id":73316197,"question_id":73283080,"body_markdown":"My guess is, that the `JsonType` you are using in `ProductBundleEntity` is not capable to determine whether a field is dirty, so it assumes that `ProductBundleEntity` is always dirty. You might have to debug into the following code to see what is happening exactly: https://github.com/vladmihalcea/hibernate-types/blob/master/hibernate-types-55/src/main/java/com/vladmihalcea/hibernate/type/json/internal/JsonTypeDescriptor.java#L75\r\n\r\nIt could also very well be that your `equals` implementation in `ProductBundleItem` is wrong and due to that Hibernate assumes the entity is dirty.\r\n\r\nSince `ItemPriceEntity#productBundle` uses eager fetching (the default of `@ManyToOne`), the `ProductBundleEntity` is loaded into the first level context and before transaction commit, the changes are flushed. Due to it being considered dirty, you are seeing this behavior.","title":"How to update only the child and not the parent in a bi-directional relationship","body":"<p>My guess is, that the <code>JsonType</code> you are using in <code>ProductBundleEntity</code> is not capable to determine whether a field is dirty, so it assumes that <code>ProductBundleEntity</code> is always dirty. You might have to debug into the following code to see what is happening exactly: <a href=\"https://github.com/vladmihalcea/hibernate-types/blob/master/hibernate-types-55/src/main/java/com/vladmihalcea/hibernate/type/json/internal/JsonTypeDescriptor.java#L75\" rel=\"nofollow noreferrer\">https://github.com/vladmihalcea/hibernate-types/blob/master/hibernate-types-55/src/main/java/com/vladmihalcea/hibernate/type/json/internal/JsonTypeDescriptor.java#L75</a></p>\n<p>It could also very well be that your <code>equals</code> implementation in <code>ProductBundleItem</code> is wrong and due to that Hibernate assumes the entity is dirty.</p>\n<p>Since <code>ItemPriceEntity#productBundle</code> uses eager fetching (the default of <code>@ManyToOne</code>), the <code>ProductBundleEntity</code> is loaded into the first level context and before transaction commit, the changes are flushed. Due to it being considered dirty, you are seeing this behavior.</p>\n"}],"owner":{"account_id":20717714,"reputation":399,"user_id":15212763,"display_name":"arriff"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":549,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661955263,"creation_date":1659986962,"question_id":73283080,"body_markdown":"I have a query that I would like to only update the child, but it ends up updating both parent and child hence eating a lot of memory on the server, been trying to fix this for a while a with no luck \r\n\r\nthe parent\r\n\r\n    @Entity\r\n    @Table(name = &quot;product_bundles&quot;)\r\n    @EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n    @TypeDefs({@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)})\r\n    public class ProductBundleEntity extends BaseEntity {\r\n    \r\n      @JsonIgnore\r\n      @OneToMany(mappedBy = &quot;productBundle&quot;)\r\n      private List&lt;ItemPriceEntity&gt; itemPrices;\r\n    }\r\n\r\nthe child\r\n\r\n    @Entity\r\n    @Table(name = &quot;item_prices&quot;)\r\n    @Data\r\n    @EqualsAndHashCode(onlyExplicitlyIncluded = true)\r\n    @TypeDefs({@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)})\r\n    public class ItemPriceEntity extends BaseEntity {\r\n   \r\n      @ManyToOne\r\n      @JoinColumn(\r\n          name = &quot;item_code&quot;,\r\n          referencedColumnName = &quot;product_bundle_code&quot;,\r\n          insertable = false,\r\n          updatable = false)\r\n      private ProductBundleEntity productBundle;\r\n    }\r\n\r\nmy controller\r\n\r\n    public void handleCatalogReport(String catalogPayload) {\r\n      log.info(&quot;Catalog report event data received: \\n&quot; + catalogPayload);\r\n      try {\r\n        ErpCatalogList catalogItems = getMapper().readValue(catalogPayload, ErpCatalogList.class);\r\n        log.info(&quot;Catalog report event data received: \\n&quot; + catalogPayload);\r\n        if (ObjectUtils.isEmpty(catalogItems.getData())) {\r\n          log.info(&quot;Catalog list received could not be mapped, or is empty: {}&quot;, catalogItems);\r\n        } else {\r\n          var savedRecords = itemPriceService.processCatalogPayload(catalogItems);\r\n          log.info(&quot;Saved catalog records: {}&quot;, savedRecords);\r\n        }\r\n      } catch (JsonProcessingException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n\r\nmy function to update the prices\r\n\r\n    public ResponseWrapper processCatalogPayload(ErpCatalogList catalogItems) {\r\n      List&lt;ItemPriceEntity&gt; updateItemPrices = new ArrayList&lt;&gt;();\r\n      catalogItems.getData().forEach(territoryData -&gt; {\r\n        territoryData.getData().forEach(catalogItem -&gt; {\r\n          // Check if item exists. If so update\r\n          var itemPrice = itemPriceRepository.findByItemCodeAndTerritory(catalogItem.getItemCode(), catalogItem.getTerritory());\r\n          if (itemPrice.isPresent()) {\r\n            itemPrice.get().setStock(catalogItem.getActualQty());\r\n            itemPrice.get().setProjectedStock((catalogItem.getProjectedQty() == null) ? 0 : catalogItem.getProjectedQty());\r\n            itemPrice.get().setLastModifiedDate(Instant.now());\r\n            updateItemPrices.add(itemPrice.get());\r\n          }\r\n        });\r\n      });\r\n    \r\n      if (!updateItemPrices.isEmpty()) {\r\n        var updatedItems = itemPriceRepository.saveAll(updateItemPrices);\r\n        log.info(&quot;Updated itemm prices: {} &quot;, updatedItems);\r\n        return ResponseWrapper.builder()\r\n                .code(HttpStatus.OK.value())\r\n                .message(&quot;Item prices updated successfully&quot;)\r\n                .build();\r\n      }\r\n      return ResponseWrapper.builder()\r\n              .code(HttpStatus.NOT_FOUND.value())\r\n              .message(&quot;No Item prices found to update&quot;)\r\n              .build();\r\n    }\r\nthe sample SQL Logs\r\n\r\n    Hibernate: select productbun0_.id as id1_10_0_, productbun0_.active as active2_10_0_, productbun0_.creation_date as creation3_10_0_, productbun0_.last_modified_date as last_mod4_10_0_, productbun0_.display_item_group as display_5_10_0_, productbun0_.image as image6_10_0_, productbun0_.items as items7_10_0_, productbun0_.price_list_set as price_li8_10_0_, productbun0_.product_bundle_code as product_9_10_0_, productbun0_.product_bundle_description as product10_10_0_, productbun0_.product_bundle_group as product11_10_0_, productbun0_.promo_bundle as promo_b12_10_0_ from product_bundles productbun0_ where productbun0_.product_bundle_code=?\r\n    \r\n\r\n\r\nthe Challenge am getting here is that whenever data is sent, the `product_bundle_code` says it is getting updated but it is not, also the `item_price` gets updated at the same time causing a spike on the resources, while I only need the `item_price` to get updated alone, hibernate shows it is updating the `product_bundle_code`, am not sure what am doing wrong, Any help is appreciated\r\n\r\n\r\n","title":"How to update only the child and not the parent in a bi-directional relationship","body":"<p>I have a query that I would like to only update the child, but it ends up updating both parent and child hence eating a lot of memory on the server, been trying to fix this for a while a with no luck</p>\n<p>the parent</p>\n<pre><code>@Entity\n@Table(name = &quot;product_bundles&quot;)\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@TypeDefs({@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)})\npublic class ProductBundleEntity extends BaseEntity {\n\n  @JsonIgnore\n  @OneToMany(mappedBy = &quot;productBundle&quot;)\n  private List&lt;ItemPriceEntity&gt; itemPrices;\n}\n</code></pre>\n<p>the child</p>\n<pre><code>@Entity\n@Table(name = &quot;item_prices&quot;)\n@Data\n@EqualsAndHashCode(onlyExplicitlyIncluded = true)\n@TypeDefs({@TypeDef(name = &quot;json&quot;, typeClass = JsonType.class)})\npublic class ItemPriceEntity extends BaseEntity {\n\n  @ManyToOne\n  @JoinColumn(\n      name = &quot;item_code&quot;,\n      referencedColumnName = &quot;product_bundle_code&quot;,\n      insertable = false,\n      updatable = false)\n  private ProductBundleEntity productBundle;\n}\n</code></pre>\n<p>my controller</p>\n<pre><code>public void handleCatalogReport(String catalogPayload) {\n  log.info(&quot;Catalog report event data received: \\n&quot; + catalogPayload);\n  try {\n    ErpCatalogList catalogItems = getMapper().readValue(catalogPayload, ErpCatalogList.class);\n    log.info(&quot;Catalog report event data received: \\n&quot; + catalogPayload);\n    if (ObjectUtils.isEmpty(catalogItems.getData())) {\n      log.info(&quot;Catalog list received could not be mapped, or is empty: {}&quot;, catalogItems);\n    } else {\n      var savedRecords = itemPriceService.processCatalogPayload(catalogItems);\n      log.info(&quot;Saved catalog records: {}&quot;, savedRecords);\n    }\n  } catch (JsonProcessingException e) {\n    e.printStackTrace();\n  }\n}\n</code></pre>\n<p>my function to update the prices</p>\n<pre><code>public ResponseWrapper processCatalogPayload(ErpCatalogList catalogItems) {\n  List&lt;ItemPriceEntity&gt; updateItemPrices = new ArrayList&lt;&gt;();\n  catalogItems.getData().forEach(territoryData -&gt; {\n    territoryData.getData().forEach(catalogItem -&gt; {\n      // Check if item exists. If so update\n      var itemPrice = itemPriceRepository.findByItemCodeAndTerritory(catalogItem.getItemCode(), catalogItem.getTerritory());\n      if (itemPrice.isPresent()) {\n        itemPrice.get().setStock(catalogItem.getActualQty());\n        itemPrice.get().setProjectedStock((catalogItem.getProjectedQty() == null) ? 0 : catalogItem.getProjectedQty());\n        itemPrice.get().setLastModifiedDate(Instant.now());\n        updateItemPrices.add(itemPrice.get());\n      }\n    });\n  });\n\n  if (!updateItemPrices.isEmpty()) {\n    var updatedItems = itemPriceRepository.saveAll(updateItemPrices);\n    log.info(&quot;Updated itemm prices: {} &quot;, updatedItems);\n    return ResponseWrapper.builder()\n            .code(HttpStatus.OK.value())\n            .message(&quot;Item prices updated successfully&quot;)\n            .build();\n  }\n  return ResponseWrapper.builder()\n          .code(HttpStatus.NOT_FOUND.value())\n          .message(&quot;No Item prices found to update&quot;)\n          .build();\n}\n</code></pre>\n<p>the sample SQL Logs</p>\n<pre><code>Hibernate: select productbun0_.id as id1_10_0_, productbun0_.active as active2_10_0_, productbun0_.creation_date as creation3_10_0_, productbun0_.last_modified_date as last_mod4_10_0_, productbun0_.display_item_group as display_5_10_0_, productbun0_.image as image6_10_0_, productbun0_.items as items7_10_0_, productbun0_.price_list_set as price_li8_10_0_, productbun0_.product_bundle_code as product_9_10_0_, productbun0_.product_bundle_description as product10_10_0_, productbun0_.product_bundle_group as product11_10_0_, productbun0_.promo_bundle as promo_b12_10_0_ from product_bundles productbun0_ where productbun0_.product_bundle_code=?\n</code></pre>\n<p>the Challenge am getting here is that whenever data is sent, the <code>product_bundle_code</code> says it is getting updated but it is not, also the <code>item_price</code> gets updated at the same time causing a spike on the resources, while I only need the <code>item_price</code> to get updated alone, hibernate shows it is updating the <code>product_bundle_code</code>, am not sure what am doing wrong, Any help is appreciated</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":8735621,"reputation":53,"user_id":6534382,"display_name":"valdisvi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503650261,"creation_date":1503650261,"answer_id":45877485,"question_id":45569145,"body_markdown":"In MyRunner class explicit notification should be added:\r\n\r\n    public class MyRunner extends BlockJUnit4ClassRunner {\r\n    ...\r\n    @Override\r\n    public void run(RunNotifier notifier) {\r\n        notifier.addListener(new JtmRunListener());\r\n        notifier.fireTestRunStarted(getDescription());\r\n        super.run(notifier);\r\n    }\r\n    ...\r\n    }\r\n","title":"JUnit testRunStarted method not called","body":"<p>In MyRunner class explicit notification should be added:</p>\n\n<pre><code>public class MyRunner extends BlockJUnit4ClassRunner {\n...\n@Override\npublic void run(RunNotifier notifier) {\n    notifier.addListener(new JtmRunListener());\n    notifier.fireTestRunStarted(getDescription());\n    super.run(notifier);\n}\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5287004,"reputation":164,"user_id":4220657,"display_name":"Greg Hadaller"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661954775,"creation_date":1661954775,"answer_id":73557176,"question_id":45569145,"body_markdown":"I believe the testRunStarted method is called, however the call happens at the very beginning of the test run, before a Runner can add a listener that would capture that call.","title":"JUnit testRunStarted method not called","body":"<p>I believe the testRunStarted method is called, however the call happens at the very beginning of the test run, before a Runner can add a listener that would capture that call.</p>\n"}],"owner":{"account_id":2453858,"reputation":307,"user_id":2139509,"accept_rate":35,"display_name":"nahid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":402,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1661954775,"creation_date":1502197440,"question_id":45569145,"body_markdown":"I want to run a method before all junit tests and one method after.The following link explains very well how to implement RunListener but I don&#39;t understand why tetRunStarted method is not called. This is the main reason I want to use RunListener however testRunFinished method works properly.\r\n\r\nhttp://memorynotfound.com/add-junit-listener-example/","title":"JUnit testRunStarted method not called","body":"<p>I want to run a method before all junit tests and one method after.The following link explains very well how to implement RunListener but I don't understand why tetRunStarted method is not called. This is the main reason I want to use RunListener however testRunFinished method works properly.</p>\n\n<p><a href=\"http://memorynotfound.com/add-junit-listener-example/\" rel=\"nofollow noreferrer\">http://memorynotfound.com/add-junit-listener-example/</a></p>\n"},{"tags":["java","pdf","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1661929591,"post_id":73550933,"comment_id":129885574,"body_markdown":"You need to change the XMP metadata as well, see the `PrintDocumentMetaData` and `AddMetadataFromDocInfo` examples. I&#39;ll do something at another time unless someone else does it first.","body":"You need to change the XMP metadata as well, see the <code>PrintDocumentMetaData</code> and <code>AddMetadataFromDocInfo</code> examples. I&#39;ll do something at another time unless someone else does it first."},{"owner":{"account_id":1477633,"reputation":2421,"user_id":1387666,"display_name":"johnwhitington"},"score":1,"creation_date":1661946251,"post_id":73550933,"comment_id":129891527,"body_markdown":"Correct. When Adobe Reader sees a field (such as Title) in both the XMP metadata and the old-fashioned metadata, it prefers the XMP field. Other readers may behave differently. For the author, you may need to update the `pdf:Author` field and the `dc:creator` field if both are present. For title, you may need to update `pdf:Title` and `dc:title` if both are present.","body":"Correct. When Adobe Reader sees a field (such as Title) in both the XMP metadata and the old-fashioned metadata, it prefers the XMP field. Other readers may behave differently. For the author, you may need to update the <code>pdf:Author</code> field and the <code>dc:creator</code> field if both are present. For title, you may need to update <code>pdf:Title</code> and <code>dc:title</code> if both are present."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1661952405,"post_id":73550933,"comment_id":129893917,"body_markdown":"My comment mentioned the wrong example, it&#39;s not `PrintDocumentMetaData`, it&#39;s `ExtractMetadata`.","body":"My comment mentioned the wrong example, it&#39;s not <code>PrintDocumentMetaData</code>, it&#39;s <code>ExtractMetadata</code>."}],"answers":[{"tags":[],"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661954771,"creation_date":1661953383,"answer_id":73556828,"question_id":73550933,"body_markdown":"    PDDocumentCatalog catalog = document.getDocumentCatalog();\r\n\tPDMetadata meta = catalog.getMetadata();\r\n\tXMPMetadata metadata;\r\n\tif (meta != null)\r\n\t{\r\n\t\tDomXmpParser xmpParser = new DomXmpParser();\r\n\t\tmetadata = xmpParser.parse(meta.toByteArray());\r\n\t}\r\n\telse\r\n\t{\r\n        meta = new PDMetadata(doc);\r\n        catalog.setMetadata(meta);\r\n\t\tmetadata = XMPMetadata.createXMPMetadata();\r\n\t}\r\n\tDublinCoreSchema dcSchema = metadata.getDublinCoreSchema();\r\n\tif (dcSchema == null)\r\n\t{\r\n\t\tdcSchema = metadata.createAndAddDublinCoreSchema();\r\n\t}\r\n\tdcSchema.setTitle(pdd.getTitle());\r\n\tdcSchema.addCreator(pdd.getAuthor()); // you may want to check whether the author is already there\r\n    \r\n\tXmpSerializer serializer = new XmpSerializer();\r\n\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n\tserializer.serialize(metadata, baos, false);\r\n\tmeta.importXMPMetadata(baos.toByteArray());\r\n","title":"Changing author / title info of an existing PDF not working","body":"<pre><code>PDDocumentCatalog catalog = document.getDocumentCatalog();\nPDMetadata meta = catalog.getMetadata();\nXMPMetadata metadata;\nif (meta != null)\n{\n    DomXmpParser xmpParser = new DomXmpParser();\n    metadata = xmpParser.parse(meta.toByteArray());\n}\nelse\n{\n    meta = new PDMetadata(doc);\n    catalog.setMetadata(meta);\n    metadata = XMPMetadata.createXMPMetadata();\n}\nDublinCoreSchema dcSchema = metadata.getDublinCoreSchema();\nif (dcSchema == null)\n{\n    dcSchema = metadata.createAndAddDublinCoreSchema();\n}\ndcSchema.setTitle(pdd.getTitle());\ndcSchema.addCreator(pdd.getAuthor()); // you may want to check whether the author is already there\n\nXmpSerializer serializer = new XmpSerializer();\nByteArrayOutputStream baos = new ByteArrayOutputStream();\nserializer.serialize(metadata, baos, false);\nmeta.importXMPMetadata(baos.toByteArray());\n</code></pre>\n"}],"owner":{"account_id":5307404,"reputation":105,"user_id":7942404,"display_name":"Crafty Cat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73556828,"answer_count":1,"score":0,"last_activity_date":1661954771,"creation_date":1661920823,"question_id":73550933,"body_markdown":"I am using PDFBox v2.0.26 to modify existing PDFs that were produced with PrinceXML and then merged with the CLI of PDFBox.\r\n\r\nAfterwards I want to update the PDF&#39;s meta data, among it author and title using a Java script. This is not quite working. When I open the PDF after post-processing, I cannot see the new author and title info, but it is there (somewhere), because when I read it back I get the new values.\r\n\r\nSteps to reproduce:\r\n1) Open Adobe Acrobat Pro DC (I&#39;m using version 2022.002)\r\n2) File &gt; Create &gt; Blank page\r\n3) Ctrl D &gt; enter words for author and title (e.g. &quot;author here&quot; and &quot;title here&quot;)\r\n4) Close dialogue and save document\r\n5) Run the code below\r\n6) Output on first run:\r\n\r\n```none\r\nExisting author: author here\r\nExisting title: title here\r\n```\r\nOutput on second run:\r\n```none\r\nExisting author: My new author\r\nExisting title: My new title\r\n```\r\n\r\nWhen I open the PDF in Acrobat and do Ctrl-d I see:\r\n```none\r\nTitle: title here\r\nAuthor: author here\r\n```\r\nWhat am I missing? It works well if I create a new PDF from scratch, just not with existing PDFs.\r\n\r\n\r\nMy code:\r\n\r\n```java\r\nimport java.io.File;\r\nimport java.io.IOException; \r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\nimport org.apache.pdfbox.pdmodel.PDDocumentInformation;\r\n\r\npublic class setTitle {\r\n   public static void main(String args[]) throws IOException {\r\n\r\n\t   String filepath = &quot;C:\\\\Temp\\\\temp.pdf&quot;;\r\n\t\r\n\t   //Loading an existing document \r\n\t   File file = new File(filepath); \r\n\t   PDDocument document = PDDocument.load(file); \r\n\t \r\n\t   //Creating the PDDocumentInformation object \r\n\t   PDDocumentInformation pdd = document.getDocumentInformation();\r\n\t\r\n\t   System.out.println(&quot;Existing author: &quot; + pdd.getAuthor());\r\n\t   System.out.println(&quot;Existing title: &quot; + pdd.getTitle());\r\n\t   \r\n\t   //Setting the author of the document\r\n\t   pdd.setAuthor(&quot;My new author&quot;);\r\n\t   \r\n\t   // Setting the title of the document\r\n\t   pdd.setTitle(&quot;My new title&quot;); \r\n\t   \r\n\t   //Saving the document \r\n\t   document.save(&quot;C:/Temp/temp.pdf&quot;);\r\n\t\r\n\t  //Closing the document\r\n\t  document.close();\r\n\t\r\n   }\r\n}\r\n```","title":"Changing author / title info of an existing PDF not working","body":"<p>I am using PDFBox v2.0.26 to modify existing PDFs that were produced with PrinceXML and then merged with the CLI of PDFBox.</p>\n<p>Afterwards I want to update the PDF's meta data, among it author and title using a Java script. This is not quite working. When I open the PDF after post-processing, I cannot see the new author and title info, but it is there (somewhere), because when I read it back I get the new values.</p>\n<p>Steps to reproduce:</p>\n<ol>\n<li>Open Adobe Acrobat Pro DC (I'm using version 2022.002)</li>\n<li>File &gt; Create &gt; Blank page</li>\n<li>Ctrl D &gt; enter words for author and title (e.g. &quot;author here&quot; and &quot;title here&quot;)</li>\n<li>Close dialogue and save document</li>\n<li>Run the code below</li>\n<li>Output on first run:</li>\n</ol>\n<pre class=\"lang-none prettyprint-override\"><code>Existing author: author here\nExisting title: title here\n</code></pre>\n<p>Output on second run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Existing author: My new author\nExisting title: My new title\n</code></pre>\n<p>When I open the PDF in Acrobat and do Ctrl-d I see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Title: title here\nAuthor: author here\n</code></pre>\n<p>What am I missing? It works well if I create a new PDF from scratch, just not with existing PDFs.</p>\n<p>My code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.File;\nimport java.io.IOException; \nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDDocumentInformation;\n\npublic class setTitle {\n   public static void main(String args[]) throws IOException {\n\n       String filepath = &quot;C:\\\\Temp\\\\temp.pdf&quot;;\n    \n       //Loading an existing document \n       File file = new File(filepath); \n       PDDocument document = PDDocument.load(file); \n     \n       //Creating the PDDocumentInformation object \n       PDDocumentInformation pdd = document.getDocumentInformation();\n    \n       System.out.println(&quot;Existing author: &quot; + pdd.getAuthor());\n       System.out.println(&quot;Existing title: &quot; + pdd.getTitle());\n       \n       //Setting the author of the document\n       pdd.setAuthor(&quot;My new author&quot;);\n       \n       // Setting the title of the document\n       pdd.setTitle(&quot;My new title&quot;); \n       \n       //Saving the document \n       document.save(&quot;C:/Temp/temp.pdf&quot;);\n    \n      //Closing the document\n      document.close();\n    \n   }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8923,"page":1069,"page_size":100}
