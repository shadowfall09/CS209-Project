{"items":[{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":19314380,"reputation":147,"user_id":14119471,"display_name":"Binozo"},"comment_count":0,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1631000226,"creation_date":1600621079,"answer_id":63981503,"question_id":63834256,"body_markdown":"This is the solution:\r\n\r\n```\r\nprivate boolean isNotificationServiceEnabled(Context c){\r\n        String pkgName = c.getPackageName();\r\n        final String flat = Settings.Secure.getString(c.getContentResolver(),\r\n                &quot;enabled_notification_listeners&quot;);\r\n        if (!TextUtils.isEmpty(flat)) {\r\n            final String[] names = flat.split(&quot;:&quot;);\r\n            for (int i = 0; i &lt; names.length; i++) {\r\n                final ComponentName cn = ComponentName.unflattenFromString(names[i]);\r\n                if (cn != null) {\r\n                    if (TextUtils.equals(pkgName, cn.getPackageName())) {\r\n                        return true;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n```","title":"How to check, if user granted BIND_NOTIFICATION_LISTENER_SERVICE Permission","body":"<p>This is the solution:</p>\n<pre><code>private boolean isNotificationServiceEnabled(Context c){\n        String pkgName = c.getPackageName();\n        final String flat = Settings.Secure.getString(c.getContentResolver(),\n                &quot;enabled_notification_listeners&quot;);\n        if (!TextUtils.isEmpty(flat)) {\n            final String[] names = flat.split(&quot;:&quot;);\n            for (int i = 0; i &lt; names.length; i++) {\n                final ComponentName cn = ComponentName.unflattenFromString(names[i]);\n                if (cn != null) {\n                    if (TextUtils.equals(pkgName, cn.getPackageName())) {\n                        return true;\n                    }\n                }\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2931845,"reputation":3015,"user_id":2511884,"accept_rate":29,"display_name":"Saket"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671200234,"creation_date":1671200234,"answer_id":74825687,"question_id":63834256,"body_markdown":"Google offers an official API for this: \r\n\r\n```kotlin\r\nNotificationManagerCompat.getEnabledListenerPackages(context).contains(context.packageName)\r\n```","title":"How to check, if user granted BIND_NOTIFICATION_LISTENER_SERVICE Permission","body":"<p>Google offers an official API for this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>NotificationManagerCompat.getEnabledListenerPackages(context).contains(context.packageName)\n</code></pre>\n"}],"owner":{"account_id":19314380,"reputation":147,"user_id":14119471,"display_name":"Binozo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63981503,"answer_count":2,"score":4,"last_activity_date":1671200234,"creation_date":1599756565,"question_id":63834256,"body_markdown":"I am new to Android and I am trying to develop an app, which reads Whatsapp Notifications and does something with them :)\r\n\r\nI tried different things, to check, if user granted the permission &quot;BIND_NOTIFICATION_LISTENER_SERVICE&quot;\r\nBut nothing worked. It always said, that the permission isn&#39;t granted. But that isn&#39;t true. Here is the code:\r\n```//Checke Permissions\r\n        if(ContextCompat.checkSelfPermission(this, Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE) == PackageManager.PERMISSION_GRANTED){\r\n            Log.i(TAG, &quot;App has permission!&quot;);\r\n        } else\r\n            Log.i(TAG, &quot;App hasn&#39;t permission &quot; + ContextCompat.checkSelfPermission(this, Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE));\r\n``` \r\nThat are the settings, which I changed in the App:\r\n```startActivity(new Intent(&quot;android.settings.ACTION_NOTIFICATION_LISTENER_SETTINGS&quot;));```\r\n\r\nManifest:\r\n```&lt;service android:name=&quot;.NotificationDetectorService&quot;\r\n            android:label=&quot;Whatsapp Nachrichten leser&quot;\r\n            android:permission=&quot;android.permission.BIND_NOTIFICATION_LISTENER_SERVICE&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.service.notification.NotificationListenerService&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/service&gt;\r\n```\r\nThe Listener-Service works perfectly. It only sais, I don&#39;t have the permission.\r\n(Sorry for my bad english)\r\n","title":"How to check, if user granted BIND_NOTIFICATION_LISTENER_SERVICE Permission","body":"<p>I am new to Android and I am trying to develop an app, which reads Whatsapp Notifications and does something with them :)</p>\n<p>I tried different things, to check, if user granted the permission &quot;BIND_NOTIFICATION_LISTENER_SERVICE&quot;\nBut nothing worked. It always said, that the permission isn't granted. But that isn't true. Here is the code:</p>\n<pre><code>        if(ContextCompat.checkSelfPermission(this, Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE) == PackageManager.PERMISSION_GRANTED){\n            Log.i(TAG, &quot;App has permission!&quot;);\n        } else\n            Log.i(TAG, &quot;App hasn't permission &quot; + ContextCompat.checkSelfPermission(this, Manifest.permission.BIND_NOTIFICATION_LISTENER_SERVICE));\n</code></pre>\n<p>That are the settings, which I changed in the App:\n<code>startActivity(new Intent(&quot;android.settings.ACTION_NOTIFICATION_LISTENER_SETTINGS&quot;));</code></p>\n<p>Manifest:</p>\n<pre><code>            android:label=&quot;Whatsapp Nachrichten leser&quot;\n            android:permission=&quot;android.permission.BIND_NOTIFICATION_LISTENER_SERVICE&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.service.notification.NotificationListenerService&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/service&gt;\n</code></pre>\n<p>The Listener-Service works perfectly. It only sais, I don't have the permission.\n(Sorry for my bad english)</p>\n"},{"tags":["java","swing","focus","textfield","scrollpane"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1386725551,"post_id":20508840,"comment_id":30658924,"body_markdown":"You could try [`JComponent#scrollRectToVisible`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#scrollRectToVisible(java.awt.Rectangle)), for example, `t1.scrollRectToVisible(t1.getBounds())`","body":"You could try <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComponent.html#scrollRectToVisible(java.awt.Rectangle)\" rel=\"nofollow noreferrer\"><code>JComponent#scrollRectToVisible</code></a>, for example, <code>t1.scrollRectToVisible(t1.getBounds())</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1386726563,"post_id":20508840,"comment_id":30659244,"body_markdown":"Dam it!  You&#39;re right, `JTextField`&#39;s `scrollRectToVisible` doesn&#39;t pass the call on to the super implementation...&lt;grr&gt;.  There&#39;s a hack you try, see answer...","body":"Dam it!  You&#39;re right, <code>JTextField</code>&#39;s <code>scrollRectToVisible</code> doesn&#39;t pass the call on to the super implementation...&lt;grr&gt;.  There&#39;s a hack you try, see answer..."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1386726507,"creation_date":1386726507,"answer_id":20509038,"question_id":20508840,"body_markdown":"Two things arise. \r\n\r\nFirstly, `JTextField#scrollRectToVisible` has being overridden and does something slightly different from other components...annoying....\r\n\r\nSecondly, you need to be converting the fields location relative to the it&#39;s parent and then using the parent&#39;s `scrollRectToVisible` method, for example...\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.EventQueue;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Rectangle;\r\n    import java.awt.event.FocusAdapter;\r\n    import java.awt.event.FocusEvent;\r\n    import javax.swing.JComponent;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.UnsupportedLookAndFeelException;\r\n\r\n    public class ScrollFocusedField {\r\n\r\n        public static void main(String[] args) {\r\n            new ScrollFocusedField();\r\n        }\r\n\r\n        public ScrollFocusedField() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n                    } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n                    }\r\n\r\n                    FocusAdapter fh = new FocusAdapter() {\r\n\r\n                        @Override\r\n                        public void focusGained(FocusEvent e) {\r\n                            JComponent comp = (JComponent) e.getComponent();\r\n                            System.out.println(&quot;FocusGained&quot;);\r\n                            Rectangle bounds = comp.getBounds();\r\n                            bounds.setLocation(SwingUtilities.convertPoint(comp, bounds.getLocation(), comp.getParent()));\r\n                            \r\n                            JComponent parent = (JComponent) comp.getParent();\r\n                            parent.scrollRectToVisible(comp.getBounds());\r\n                        }\r\n                        \r\n                    };\r\n                    \r\n                    JPanel panel = new JPanel(new GridBagLayout());\r\n                    GridBagConstraints gbc = new GridBagConstraints();\r\n                    for (int index = 0; index &lt; 100; index++) {\r\n                        gbc.fill = GridBagConstraints.NONE;\r\n                        gbc.weightx = 0;\r\n                        gbc.gridx = 0;\r\n                        gbc.gridy = index;\r\n                        panel.add(new JLabel(Integer.toString(index)), gbc);\r\n                        \r\n                        JTextField field = new JTextField();\r\n                        field.addFocusListener(fh);\r\n                        gbc.fill = GridBagConstraints.HORIZONTAL;\r\n                        gbc.weightx = 1;\r\n                        gbc.gridx = 1;\r\n                        panel.add(field, gbc);\r\n                    }\r\n                    \r\n                    JFrame frame = new JFrame(&quot;Testing&quot;);\r\n                    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                    frame.setLayout(new BorderLayout());\r\n                    frame.add(new JScrollPane(panel));\r\n                    frame.setSize(200, 400);\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n    }\r\n","title":"Scroll to focused textfield","body":"<p>Two things arise. </p>\n\n<p>Firstly, <code>JTextField#scrollRectToVisible</code> has being overridden and does something slightly different from other components...annoying....</p>\n\n<p>Secondly, you need to be converting the fields location relative to the it's parent and then using the parent's <code>scrollRectToVisible</code> method, for example...</p>\n\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.EventQueue;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Rectangle;\nimport java.awt.event.FocusAdapter;\nimport java.awt.event.FocusEvent;\nimport javax.swing.JComponent;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextField;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class ScrollFocusedField {\n\n    public static void main(String[] args) {\n        new ScrollFocusedField();\n    }\n\n    public ScrollFocusedField() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n                } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n                }\n\n                FocusAdapter fh = new FocusAdapter() {\n\n                    @Override\n                    public void focusGained(FocusEvent e) {\n                        JComponent comp = (JComponent) e.getComponent();\n                        System.out.println(\"FocusGained\");\n                        Rectangle bounds = comp.getBounds();\n                        bounds.setLocation(SwingUtilities.convertPoint(comp, bounds.getLocation(), comp.getParent()));\n\n                        JComponent parent = (JComponent) comp.getParent();\n                        parent.scrollRectToVisible(comp.getBounds());\n                    }\n\n                };\n\n                JPanel panel = new JPanel(new GridBagLayout());\n                GridBagConstraints gbc = new GridBagConstraints();\n                for (int index = 0; index &lt; 100; index++) {\n                    gbc.fill = GridBagConstraints.NONE;\n                    gbc.weightx = 0;\n                    gbc.gridx = 0;\n                    gbc.gridy = index;\n                    panel.add(new JLabel(Integer.toString(index)), gbc);\n\n                    JTextField field = new JTextField();\n                    field.addFocusListener(fh);\n                    gbc.fill = GridBagConstraints.HORIZONTAL;\n                    gbc.weightx = 1;\n                    gbc.gridx = 1;\n                    panel.add(field, gbc);\n                }\n\n                JFrame frame = new JFrame(\"Testing\");\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.setLayout(new BorderLayout());\n                frame.add(new JScrollPane(panel));\n                frame.setSize(200, 400);\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386727626,"creation_date":1386727151,"answer_id":20509155,"question_id":20508840,"body_markdown":"Check out the [FormScroller][1]. It is a simple class you can use to make sure the component will be visible when you tab to the component. The FormScroller can be used with any scrollpane and there is no need to add FocusListeners to every component on the form.\r\n\r\nIt provides a few options that allows you do control exactly how the scrolling works.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2010/05/09/scrolling-a-form/","title":"Scroll to focused textfield","body":"<p>Check out the <a href=\"http://tips4java.wordpress.com/2010/05/09/scrolling-a-form/\" rel=\"nofollow\">FormScroller</a>. It is a simple class you can use to make sure the component will be visible when you tab to the component. The FormScroller can be used with any scrollpane and there is no need to add FocusListeners to every component on the form.</p>\n\n<p>It provides a few options that allows you do control exactly how the scrolling works.</p>\n"},{"tags":[],"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671119488,"creation_date":1669568334,"answer_id":74592009,"question_id":20508840,"body_markdown":"I solved this with a custom focus traversal policy. It wraps the container&#39;s original traversal policy and queues scroll requests when the next or previous component is requested:\r\n\r\n```java\r\nprivate static class FocusTraversalPolicyAdapter extends FocusTraversalPolicy {\r\n    FocusTraversalPolicy focusTraversalPolicy;\r\n\r\n    FocusTraversalPolicyAdapter(FocusTraversalPolicy focusTraversalPolicy) {\r\n        this.focusTraversalPolicy = focusTraversalPolicy;\r\n    }\r\n\r\n    @Override\r\n    public Component getComponentAfter(Container container, Component component) {\r\n        var nextComponent = focusTraversalPolicy.getComponentAfter(container, component);\r\n\r\n        scrollToVisible(nextComponent);\r\n\r\n        return nextComponent;\r\n    }\r\n\r\n    @Override\r\n    public Component getComponentBefore(Container container, Component component) {\r\n        var previousComponent = focusTraversalPolicy.getComponentBefore(container, component);\r\n\r\n        scrollToVisible(previousComponent);\r\n\r\n        return previousComponent;\r\n    }\r\n\r\n    @Override\r\n    public Component getFirstComponent(Container container) {\r\n        return focusTraversalPolicy.getFirstComponent(container);\r\n    }\r\n\r\n    @Override\r\n    public Component getLastComponent(Container container) {\r\n        return focusTraversalPolicy.getLastComponent(container);\r\n    }\r\n\r\n    @Override\r\n    public Component getDefaultComponent(Container container) {\r\n        return focusTraversalPolicy.getDefaultComponent(container);\r\n    }\r\n\r\n    void scrollToVisible(Component component) {\r\n        var parent = component.getParent();\r\n\r\n        if (parent instanceof JComponent) {\r\n            SwingUtilities.invokeLater(() -&gt; {\r\n                ((JComponent)parent).scrollRectToVisible(SwingUtilities.convertRectangle(parent, component.getBounds(), parent));\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote that this does rely on existing behavior and could theoretically break in the future.","title":"Scroll to focused textfield","body":"<p>I solved this with a custom focus traversal policy. It wraps the container's original traversal policy and queues scroll requests when the next or previous component is requested:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static class FocusTraversalPolicyAdapter extends FocusTraversalPolicy {\n    FocusTraversalPolicy focusTraversalPolicy;\n\n    FocusTraversalPolicyAdapter(FocusTraversalPolicy focusTraversalPolicy) {\n        this.focusTraversalPolicy = focusTraversalPolicy;\n    }\n\n    @Override\n    public Component getComponentAfter(Container container, Component component) {\n        var nextComponent = focusTraversalPolicy.getComponentAfter(container, component);\n\n        scrollToVisible(nextComponent);\n\n        return nextComponent;\n    }\n\n    @Override\n    public Component getComponentBefore(Container container, Component component) {\n        var previousComponent = focusTraversalPolicy.getComponentBefore(container, component);\n\n        scrollToVisible(previousComponent);\n\n        return previousComponent;\n    }\n\n    @Override\n    public Component getFirstComponent(Container container) {\n        return focusTraversalPolicy.getFirstComponent(container);\n    }\n\n    @Override\n    public Component getLastComponent(Container container) {\n        return focusTraversalPolicy.getLastComponent(container);\n    }\n\n    @Override\n    public Component getDefaultComponent(Container container) {\n        return focusTraversalPolicy.getDefaultComponent(container);\n    }\n\n    void scrollToVisible(Component component) {\n        var parent = component.getParent();\n\n        if (parent instanceof JComponent) {\n            SwingUtilities.invokeLater(() -&gt; {\n                ((JComponent)parent).scrollRectToVisible(SwingUtilities.convertRectangle(parent, component.getBounds(), parent));\n            });\n        }\n    }\n}\n</code></pre>\n<p>Note that this does rely on existing behavior and could theoretically break in the future.</p>\n"},{"comments":[{"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"score":0,"creation_date":1672604935,"post_id":74825657,"comment_id":132312365,"body_markdown":"I added this class to the Sierra project on GitHub in case it is of use to anyone: https://github.com/HTTP-RPC/Sierra","body":"I added this class to the Sierra project on GitHub in case it is of use to anyone: <a href=\"https://github.com/HTTP-RPC/Sierra\" rel=\"nofollow noreferrer\">github.com/HTTP-RPC/Sierra</a>"}],"tags":[],"owner":{"account_id":1312133,"reputation":3175,"user_id":1259924,"accept_rate":73,"display_name":"Greg Brown"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671200074,"creation_date":1671200074,"answer_id":74825657,"question_id":20508840,"body_markdown":"Following up on my previous answer, a simpler and possibly more reliable approach would be to define a custom keyboard focus handler. Any time a component receives the input focus, the manager dispatches the event and scrolls the component into view:\r\n\r\n``` java\r\npublic class ScrollingKeyboardFocusManager extends DefaultKeyboardFocusManager {\r\n    @Override\r\n    public boolean dispatchEvent(AWTEvent event) {\r\n        var dispatched = super.dispatchEvent(event);\r\n\r\n        if (dispatched &amp;&amp; event.getID() == FocusEvent.FOCUS_GAINED) {\r\n            var component = (Component)event.getSource();\r\n            var parent = component.getParent();\r\n\r\n            if (parent instanceof JComponent) {\r\n                ((JComponent)parent).scrollRectToVisible(SwingUtilities.convertRectangle(parent, component.getBounds(), parent));\r\n            }\r\n        }\r\n\r\n        return dispatched;\r\n    }\r\n}\r\n```\r\n\r\nThe focus manager can be installed as follows:\r\n\r\n```java\r\nKeyboardFocusManager.setCurrentKeyboardFocusManager(new ScrollingKeyboardFocusManager());\r\n```\r\n","title":"Scroll to focused textfield","body":"<p>Following up on my previous answer, a simpler and possibly more reliable approach would be to define a custom keyboard focus handler. Any time a component receives the input focus, the manager dispatches the event and scrolls the component into view:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ScrollingKeyboardFocusManager extends DefaultKeyboardFocusManager {\n    @Override\n    public boolean dispatchEvent(AWTEvent event) {\n        var dispatched = super.dispatchEvent(event);\n\n        if (dispatched &amp;&amp; event.getID() == FocusEvent.FOCUS_GAINED) {\n            var component = (Component)event.getSource();\n            var parent = component.getParent();\n\n            if (parent instanceof JComponent) {\n                ((JComponent)parent).scrollRectToVisible(SwingUtilities.convertRectangle(parent, component.getBounds(), parent));\n            }\n        }\n\n        return dispatched;\n    }\n}\n</code></pre>\n<p>The focus manager can be installed as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>KeyboardFocusManager.setCurrentKeyboardFocusManager(new ScrollingKeyboardFocusManager());\n</code></pre>\n"}],"owner":{"account_id":2852138,"reputation":1036,"user_id":2449110,"accept_rate":52,"display_name":"Sorin Grecu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20509038,"answer_count":4,"score":0,"last_activity_date":1671200074,"creation_date":1386725361,"question_id":20508840,"body_markdown":"So,i have a bunch of textfields inside a scrollpane.\r\nMore textfields are added when the user focuses the last one from the bottom.\r\nMy question is,how can i make the scrollpane scroll to the focused textfield ?\r\nI mean,the user will press TAB or ENTER to jump to the next textfield but he won&#39;t be able to see it without scrolling himself.\r\nI could simulate pressing the down arrow or PageDown when the last textfield has focus but that would be ugly,even if it would do what i need to.\r\n\r\nI tried something like this from what i&#39;ve found thru searching but i couldn&#39;t make it work.\r\n\r\n    public void focusGained(FocusEvent e) {\r\n                currentview = t1;\r\n                int cons = i - 1;\r\n                 Rectangle r = new Rectangle(t1.getX(), t1.getY(), 1, 1);\r\n                jScrollPane1.scrollRectToVisible(r);\r\n                if (t1.getName().equals(&quot;prod&quot; + cons)) {\r\n\r\n                    newproduct();\r\n                };\r\n\r\n            }","title":"Scroll to focused textfield","body":"<p>So,i have a bunch of textfields inside a scrollpane.\nMore textfields are added when the user focuses the last one from the bottom.\nMy question is,how can i make the scrollpane scroll to the focused textfield ?\nI mean,the user will press TAB or ENTER to jump to the next textfield but he won't be able to see it without scrolling himself.\nI could simulate pressing the down arrow or PageDown when the last textfield has focus but that would be ugly,even if it would do what i need to.</p>\n\n<p>I tried something like this from what i've found thru searching but i couldn't make it work.</p>\n\n<pre><code>public void focusGained(FocusEvent e) {\n            currentview = t1;\n            int cons = i - 1;\n             Rectangle r = new Rectangle(t1.getX(), t1.getY(), 1, 1);\n            jScrollPane1.scrollRectToVisible(r);\n            if (t1.getName().equals(\"prod\" + cons)) {\n\n                newproduct();\n            };\n\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","sockjs","stomp-websocket"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671193505,"post_id":74824209,"comment_id":132051719,"body_markdown":"`stompClient.setInboundMessageSizeLimit(73729);` !?","body":"<code>stompClient.setInboundMessageSizeLimit(73729);</code> !?"},{"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"score":0,"creation_date":1671194272,"post_id":74824209,"comment_id":132051926,"body_markdown":"&quot;stompClient.setInboundMessageSizeLimit(73729);&quot; doesn&#39;t work","body":"&quot;stompClient.setInboundMessageSizeLimit(73729);&quot; doesn&#39;t work"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671194642,"post_id":74824209,"comment_id":132052031,"body_markdown":"..with same exception!?","body":"..with same exception!?"},{"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"score":0,"creation_date":1671195648,"post_id":74824209,"comment_id":132052364,"body_markdown":"@xerx593, yes. The same exception. I add it right after &quot;WebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);&quot;","body":"@xerx593, yes. The same exception. I add it right after &quot;WebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);&quot;"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1671195728,"post_id":74824209,"comment_id":132052402,"body_markdown":"..with excatly same numbers??? ;)) `Text message size [73728] exceeds maximum size [65536]` ? (if so: wrong path, if not: you (just) need to know/estimate/test &quot;max message size&quot;","body":"..with excatly same numbers??? ;)) <code>Text message size [73728] exceeds maximum size [65536]</code> ? (if so: wrong path, if not: you (just) need to know/estimate/test &quot;max message size&quot;"},{"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"score":1,"creation_date":1671195871,"post_id":74824209,"comment_id":132052449,"body_markdown":"Yes! exactly same numbers. I&#39;ve seen someone try setInboundMessageSizeLimit, but it solves another exception - &quot;org.springframework.messaging.simp.stomp.StompConversionException: The configured STOMP buffer size limit of 65536 bytes has been exceeded&quot;, not mine.","body":"Yes! exactly same numbers. I&#39;ve seen someone try setInboundMessageSizeLimit, but it solves another exception - &quot;org.springframework.messaging.simp.stomp.StompConversionExc&zwnj;&#8203;eption: The configured STOMP buffer size limit of 65536 bytes has been exceeded&quot;, not mine."}],"owner":{"account_id":19011405,"reputation":27,"user_id":13877246,"display_name":"Bob Lee"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671200032,"creation_date":1671192225,"question_id":74824209,"body_markdown":"When I&#39;m running a Java WebSocketStompClient, I got below error:\r\norg.eclipse.jetty.websocket.api.MessageTooLargeException: Text message size [73728] exceeds maximum size [65536]\r\n\r\nSample code:\r\n\r\n    import org.apache.log4j.Logger;\r\n    import org.springframework.messaging.simp.stomp.StompFrameHandler;\r\n    import org.springframework.messaging.simp.stomp.StompHeaders;\r\n    import org.springframework.messaging.simp.stomp.StompSession;\r\n    import org.springframework.messaging.simp.stomp.StompSessionHandlerAdapter;\r\n    import org.springframework.util.concurrent.ListenableFuture;\r\n    import org.springframework.web.socket.WebSocketHttpHeaders;\r\n    import org.springframework.web.socket.client.WebSocketClient;\r\n    import org.springframework.web.socket.client.standard.StandardWebSocketClient;\r\n    import org.springframework.web.socket.messaging.WebSocketStompClient;\r\n    import org.springframework.web.socket.sockjs.client.SockJsClient;\r\n    import org.springframework.web.socket.sockjs.client.Transport;\r\n    import org.springframework.web.socket.sockjs.client.WebSocketTransport;\r\n    import org.springframework.web.socket.sockjs.frame.Jackson2SockJsMessageCodec;\r\n    \r\n    import java.lang.reflect.Type;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.concurrent.ExecutionException;\r\n    \r\n    \r\n    public class HelloClient {\r\n    \r\n        private static Logger logger = Logger.getLogger(HelloClient.class);\r\n    \r\n        StompSession session;\r\n    \r\n        private final static WebSocketHttpHeaders headers = new WebSocketHttpHeaders();\r\n    \r\n        public ListenableFuture&lt;StompSession&gt; connect() {\r\n    \r\n    \r\n            Transport webSocketTransport = new WebSocketTransport(new StandardWebSocketClient());\r\n    \r\n            List&lt;Transport&gt; transports = Collections.singletonList(webSocketTransport);\r\n    \r\n            SockJsClient sockJsClient = new SockJsClient(transports);\r\n    \r\n            sockJsClient.setMessageCodec(new Jackson2SockJsMessageCodec());\r\n    \r\n            WebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);\r\n    \r\n    \r\n            long[] hb = stompClient.getDefaultHeartbeat();\r\n            boolean en = stompClient.isDefaultHeartbeatEnabled();\r\n            long timeout = stompClient.getReceiptTimeLimit();\r\n    \r\n            String url = &quot;https://www.test.com&quot;;\r\n            return stompClient.connect(url, headers, new MyHandler());\r\n        }\r\n    \r\n        public void subscribeMsg(StompSession stompSession) throws ExecutionException, InterruptedException {\r\n            stompSession.subscribe(&quot;/topic/test&quot;, new StompFrameHandler() {\r\n                public Type getPayloadType(StompHeaders stompHeaders) {\r\n                    return byte[].class;\r\n                }\r\n    \r\n                public void handleFrame(StompHeaders stompHeaders, Object o) {\r\n                    logger.info(&quot;Received message &quot; + new String((byte[]) o));\r\n                    String response = new String((byte[]) o);\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n    \r\n        private class MyHandler extends StompSessionHandlerAdapter {\r\n            public void afterConnected(StompSession stompSession, StompHeaders stompHeaders) {\r\n                logger.info(&quot;Now connected&quot;);\r\n                session = stompSession;\r\n            }\r\n        }\r\n    \r\n        public boolean isConnected() {\r\n            try {\r\n                Thread.sleep(500);\r\n                return session != null &amp;&amp; session.isConnected();\r\n            } catch (Exception e) {\r\n                logger.warn(&quot;Error happens when checking connection status, &quot;, e);\r\n                return false;\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            HelloClient helloClient = new HelloClient();\r\n    \r\n            ListenableFuture&lt;StompSession&gt; f = helloClient.connect();\r\n            StompSession stompSession = f.get();\r\n            helloClient.subscribeMsg(stompSession);\r\n    \r\n    \r\n            while (true) {\r\n                if (!helloClient.isConnected()) {\r\n                    logger.info(&quot;wss diconnected &quot;);\r\n                    logger.info(&quot;need re-create &quot;);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHow to increase the limitation for a Java stomp websocket client? I found some not related answers  https://stackoverflow.com/questions/69968609/how-can-i-set-max-buffer-size-for-web-socket-clientjetty-in-java which are not suitable for stomp websocket client.\r\n\r\nAlso tried stompClient.setInboundMessageSizeLimit(Integer.MAX_VALUE); which doesn&#39;t work.","title":"How to resolve &quot;org.eclipse.jetty.websocket.api.MessageTooLargeException&quot; for Java WebSocketStompClient","body":"<p>When I'm running a Java WebSocketStompClient, I got below error:\norg.eclipse.jetty.websocket.api.MessageTooLargeException: Text message size [73728] exceeds maximum size [65536]</p>\n<p>Sample code:</p>\n<pre><code>import org.apache.log4j.Logger;\nimport org.springframework.messaging.simp.stomp.StompFrameHandler;\nimport org.springframework.messaging.simp.stomp.StompHeaders;\nimport org.springframework.messaging.simp.stomp.StompSession;\nimport org.springframework.messaging.simp.stomp.StompSessionHandlerAdapter;\nimport org.springframework.util.concurrent.ListenableFuture;\nimport org.springframework.web.socket.WebSocketHttpHeaders;\nimport org.springframework.web.socket.client.WebSocketClient;\nimport org.springframework.web.socket.client.standard.StandardWebSocketClient;\nimport org.springframework.web.socket.messaging.WebSocketStompClient;\nimport org.springframework.web.socket.sockjs.client.SockJsClient;\nimport org.springframework.web.socket.sockjs.client.Transport;\nimport org.springframework.web.socket.sockjs.client.WebSocketTransport;\nimport org.springframework.web.socket.sockjs.frame.Jackson2SockJsMessageCodec;\n\nimport java.lang.reflect.Type;\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\n\n\npublic class HelloClient {\n\n    private static Logger logger = Logger.getLogger(HelloClient.class);\n\n    StompSession session;\n\n    private final static WebSocketHttpHeaders headers = new WebSocketHttpHeaders();\n\n    public ListenableFuture&lt;StompSession&gt; connect() {\n\n\n        Transport webSocketTransport = new WebSocketTransport(new StandardWebSocketClient());\n\n        List&lt;Transport&gt; transports = Collections.singletonList(webSocketTransport);\n\n        SockJsClient sockJsClient = new SockJsClient(transports);\n\n        sockJsClient.setMessageCodec(new Jackson2SockJsMessageCodec());\n\n        WebSocketStompClient stompClient = new WebSocketStompClient(sockJsClient);\n\n\n        long[] hb = stompClient.getDefaultHeartbeat();\n        boolean en = stompClient.isDefaultHeartbeatEnabled();\n        long timeout = stompClient.getReceiptTimeLimit();\n\n        String url = &quot;https://www.test.com&quot;;\n        return stompClient.connect(url, headers, new MyHandler());\n    }\n\n    public void subscribeMsg(StompSession stompSession) throws ExecutionException, InterruptedException {\n        stompSession.subscribe(&quot;/topic/test&quot;, new StompFrameHandler() {\n            public Type getPayloadType(StompHeaders stompHeaders) {\n                return byte[].class;\n            }\n\n            public void handleFrame(StompHeaders stompHeaders, Object o) {\n                logger.info(&quot;Received message &quot; + new String((byte[]) o));\n                String response = new String((byte[]) o);\n\n            }\n        });\n    }\n\n\n    private class MyHandler extends StompSessionHandlerAdapter {\n        public void afterConnected(StompSession stompSession, StompHeaders stompHeaders) {\n            logger.info(&quot;Now connected&quot;);\n            session = stompSession;\n        }\n    }\n\n    public boolean isConnected() {\n        try {\n            Thread.sleep(500);\n            return session != null &amp;&amp; session.isConnected();\n        } catch (Exception e) {\n            logger.warn(&quot;Error happens when checking connection status, &quot;, e);\n            return false;\n        }\n    }\n\n\n    public static void main(String[] args) throws Exception {\n        HelloClient helloClient = new HelloClient();\n\n        ListenableFuture&lt;StompSession&gt; f = helloClient.connect();\n        StompSession stompSession = f.get();\n        helloClient.subscribeMsg(stompSession);\n\n\n        while (true) {\n            if (!helloClient.isConnected()) {\n                logger.info(&quot;wss diconnected &quot;);\n                logger.info(&quot;need re-create &quot;);\n            }\n        }\n    }\n}\n</code></pre>\n<p>How to increase the limitation for a Java stomp websocket client? I found some not related answers  <a href=\"https://stackoverflow.com/questions/69968609/how-can-i-set-max-buffer-size-for-web-socket-clientjetty-in-java\">How can I set max buffer size for web socket client(Jetty) in Java</a> which are not suitable for stomp websocket client.</p>\n<p>Also tried stompClient.setInboundMessageSizeLimit(Integer.MAX_VALUE); which doesn't work.</p>\n"},{"tags":["java","jvm","jvm-bytecode","invokevirtual"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1671135723,"post_id":74816914,"comment_id":132039480,"body_markdown":"`ldc` **l**oa**d**s a **c**onstant.","body":"<code>ldc</code> <b>l</b>oa<b>d</b>s a <b>c</b>onstant."},{"owner":{"account_id":208217,"reputation":1488,"user_id":458561,"display_name":"boneill"},"score":1,"creation_date":1671154537,"post_id":74816914,"comment_id":132043414,"body_markdown":"Adding more to first comment: What do you think that ldc #2 instruction does? I&#39;ll give you a hint: It&#39;s not pushing an instance of Console to the stack.","body":"Adding more to first comment: What do you think that ldc #2 instruction does? I&#39;ll give you a hint: It&#39;s not pushing an instance of Console to the stack."},{"owner":{"account_id":8538553,"reputation":23,"user_id":14932616,"display_name":"Tim Engbrocks"},"score":0,"creation_date":1671175560,"post_id":74816914,"comment_id":132046548,"body_markdown":"[ldc spec](https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-6.html#jvms-6.5.ldc) so its actually pushing a reference to `Class` onto the stack? If that is the case then I am very sorry. Typical case of not seeing the forest because of all the trees. I assumed it would push a reference to the class with the name at that index onto the stack but reading your comments I see now that it might be referring to the class `Class`?","body":"<a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-6.html#jvms-6.5.ldc\" rel=\"nofollow noreferrer\">ldc spec</a> so its actually pushing a reference to <code>Class</code> onto the stack? If that is the case then I am very sorry. Typical case of not seeing the forest because of all the trees. I assumed it would push a reference to the class with the name at that index onto the stack but reading your comments I see now that it might be referring to the class <code>Class</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1671199338,"creation_date":1671199338,"answer_id":74825496,"question_id":74816914,"body_markdown":"You wrote\r\n\r\n&gt; One can already see a difference between this `invokevirtual` instruction and the one above: `javap` appends the class name before the method name because the function is found in the class `Class` and not in `Console`.\r\n\r\nbut there is no difference in that regard. `javap` included the class name in both cases. In case of the `println` method, it’s the class `java/io/PrintStream`.\r\n\r\nFor ordinary Java code, the `ldc` instruction may load primitive values or objects of type `String` or `Class`. We can reproduce such cases with\r\n\r\n```java\r\npublic class Main {\r\n  static {\r\n        Console.class.desiredAssertionStatus();\r\n        &quot;hello&quot;.toString();\r\n    }\r\n  \r\n    public static void main(String[] args) {\r\n        showBytecode();\r\n    }\r\n  \r\n    private static void showBytecode() {\r\n        ToolProvider.findFirst(&quot;javap&quot;)\r\n            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, &quot;Main&quot;));\r\n    }\r\n  \r\n    private Main() {}\r\n}\r\n```\r\n\r\n##### [online example]\r\n```none\r\nCompiled from &quot;Main.java&quot;\r\npublic class Main {\r\n  public static void main(java.lang.String[]);\r\n    Code:\r\n       0: invokestatic  #1                  // Method showBytecode:()V\r\n       3: return\r\n\r\n  static {};\r\n    Code:\r\n       0: ldc           #13                 // class java/io/Console\r\n       2: invokevirtual #14                 // Method java/lang/Class.desiredAssertionStatus:()Z\r\n       5: pop\r\n       6: ldc           #15                 // String hello\r\n       8: invokevirtual #16                 // Method java/lang/String.toString:()Ljava/lang/String;\r\n      11: pop\r\n      12: return\r\n}\r\n```\r\n\r\nWe can see that `javap` will always print the *actual value* after an `ldc` instruction, so in this example, “class java/io/Console” and “String hello”. \r\n\r\nThe `ldc` instruction can also load objects of other types, but there are no ordinary Java language equivalents to these use cases.\r\n\r\nThe `desiredAssertionStatus()` query is, by the way, typically used to implement the `assert` statement support, eg.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        assert &quot;foo&quot;.length() == 3;\r\n        showBytecode();\r\n    }\r\n\r\n    private static void showBytecode() {\r\n        ToolProvider.findFirst(&quot;javap&quot;)\r\n            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, &quot;Main&quot;));\r\n    }\r\n\r\n    private Main() {}\r\n}\r\n```\r\n\r\n##### [gets compiled to]\r\n```none\r\nCompiled from &quot;Main.java&quot;\r\npublic class Main {\r\n  static final boolean $assertionsDisabled;\r\n\r\n  public static void main(java.lang.String[]);\r\n    Code:\r\n       0: getstatic     #1                  // Field $assertionsDisabled:Z\r\n       3: ifne          23\r\n       6: ldc           #2                  // String foo\r\n       8: invokevirtual #3                  // Method java/lang/String.length:()I\r\n      11: iconst_3\r\n      12: if_icmpeq     23\r\n      15: new           #4                  // class java/lang/AssertionError\r\n      18: dup\r\n      19: invokespecial #5                  // Method java/lang/AssertionError.&quot;&lt;init&gt;&quot;:()V\r\n      22: athrow\r\n      23: invokestatic  #6                  // Method showBytecode:()V\r\n      26: return\r\n\r\n  static {};\r\n    Code:\r\n       0: ldc           #18                 // class Main\r\n       2: invokevirtual #19                 // Method java/lang/Class.desiredAssertionStatus:()Z\r\n       5: ifne          12\r\n       8: iconst_1\r\n       9: goto          13\r\n      12: iconst_0\r\n      13: putstatic     #1                  // Field $assertionsDisabled:Z\r\n      16: return\r\n}\r\n```\r\n\r\n\r\n[online example]: https://tio.run/##dVBBasMwELz7FUInGxJ9wFBoC70VAumt9KBam2Rd2Wt21y6h@O2unLjFoVSHZZgdzQxb@8Fv6/AxTdh0xGrqRDgk90itUIQyW/O9YnTSoXshijumAQNwmWVd/x6xMlX0IubZY2u@MmNEvSZ2hte3eLqLzgUQZAj3IsCK1O6TvJe8KH/19gQxknVKe2Vsjz@7Mc0LWHKXoIEwmCal51f565vxfJRi1UBO9PlwVqgowF83xsEr3Njdflg5rS/gDtiGJ2TR3M536mzh8LBjEGg178z2znSO@9TrLAqNo143ZsHAvDF2W9k058vZ4r9a83auMGZjNk3f\r\n[gets compiled to]: https://tio.run/##bU@xasMwEN31FYcmCWItGUM6dOhWCLRb6KBasnOubInT2SUUf7srE1MS6A13x7t3vPc6O9mqc1/Lgn2KxNAVwIyMweSE5j3GcKI4ofN0ECKNnwFrqIPNGV4tDvAjoNSGZ7ZcxhTRQV@u6o0Jh/b8AZbarDfyWuXfFzHZxChN8EPLF6XheIT94Y@TL/H7@cq@js4rfcNncdMjnCz7B8FH@p3WfQbT4OBekDIruSZNUhtsTuSzH1glqJ4gGRqL82tm35s48g623RPtQFa1LH3NLvX/ptbbamAWs1iWXw","title":"Java Bytecode: invokevirtual methodref on an objectref with a different class","body":"<p>You wrote</p>\n<blockquote>\n<p>One can already see a difference between this <code>invokevirtual</code> instruction and the one above: <code>javap</code> appends the class name before the method name because the function is found in the class <code>Class</code> and not in <code>Console</code>.</p>\n</blockquote>\n<p>but there is no difference in that regard. <code>javap</code> included the class name in both cases. In case of the <code>println</code> method, it’s the class <code>java/io/PrintStream</code>.</p>\n<p>For ordinary Java code, the <code>ldc</code> instruction may load primitive values or objects of type <code>String</code> or <code>Class</code>. We can reproduce such cases with</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n  static {\n        Console.class.desiredAssertionStatus();\n        &quot;hello&quot;.toString();\n    }\n  \n    public static void main(String[] args) {\n        showBytecode();\n    }\n  \n    private static void showBytecode() {\n        ToolProvider.findFirst(&quot;javap&quot;)\n            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, &quot;Main&quot;));\n    }\n  \n    private Main() {}\n}\n</code></pre>\n<h5><a href=\"https://tio.run/##dVBBasMwELz7FUInGxJ9wFBoC70VAumt9KBam2Rd2Wt21y6h@O2unLjFoVSHZZgdzQxb@8Fv6/AxTdh0xGrqRDgk90itUIQyW/O9YnTSoXshijumAQNwmWVd/x6xMlX0IubZY2u@MmNEvSZ2hte3eLqLzgUQZAj3IsCK1O6TvJe8KH/19gQxknVKe2Vsjz@7Mc0LWHKXoIEwmCal51f565vxfJRi1UBO9PlwVqgowF83xsEr3Njdflg5rS/gDtiGJ2TR3M536mzh8LBjEGg178z2znSO@9TrLAqNo143ZsHAvDF2W9k058vZ4r9a83auMGZjNk3f\" rel=\"nofollow noreferrer\">online example</a></h5>\n<pre class=\"lang-none prettyprint-override\"><code>Compiled from &quot;Main.java&quot;\npublic class Main {\n  public static void main(java.lang.String[]);\n    Code:\n       0: invokestatic  #1                  // Method showBytecode:()V\n       3: return\n\n  static {};\n    Code:\n       0: ldc           #13                 // class java/io/Console\n       2: invokevirtual #14                 // Method java/lang/Class.desiredAssertionStatus:()Z\n       5: pop\n       6: ldc           #15                 // String hello\n       8: invokevirtual #16                 // Method java/lang/String.toString:()Ljava/lang/String;\n      11: pop\n      12: return\n}\n</code></pre>\n<p>We can see that <code>javap</code> will always print the <em>actual value</em> after an <code>ldc</code> instruction, so in this example, “class java/io/Console” and “String hello”.</p>\n<p>The <code>ldc</code> instruction can also load objects of other types, but there are no ordinary Java language equivalents to these use cases.</p>\n<p>The <code>desiredAssertionStatus()</code> query is, by the way, typically used to implement the <code>assert</code> statement support, eg.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        assert &quot;foo&quot;.length() == 3;\n        showBytecode();\n    }\n\n    private static void showBytecode() {\n        ToolProvider.findFirst(&quot;javap&quot;)\n            .ifPresent(p -&gt; p.run(System.out, System.err, &quot;-c&quot;, &quot;Main&quot;));\n    }\n\n    private Main() {}\n}\n</code></pre>\n<h5><a href=\"https://tio.run/##bU@xasMwEN31FYcmCWItGUM6dOhWCLRb6KBasnOubInT2SUUf7srE1MS6A13x7t3vPc6O9mqc1/Lgn2KxNAVwIyMweSE5j3GcKI4ofN0ECKNnwFrqIPNGV4tDvAjoNSGZ7ZcxhTRQV@u6o0Jh/b8AZbarDfyWuXfFzHZxChN8EPLF6XheIT94Y@TL/H7@cq@js4rfcNncdMjnCz7B8FH@p3WfQbT4OBekDIruSZNUhtsTuSzH1glqJ4gGRqL82tm35s48g623RPtQFa1LH3NLvX/ptbbamAWs1iWXw\" rel=\"nofollow noreferrer\">gets compiled to</a></h5>\n<pre class=\"lang-none prettyprint-override\"><code>Compiled from &quot;Main.java&quot;\npublic class Main {\n  static final boolean $assertionsDisabled;\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: getstatic     #1                  // Field $assertionsDisabled:Z\n       3: ifne          23\n       6: ldc           #2                  // String foo\n       8: invokevirtual #3                  // Method java/lang/String.length:()I\n      11: iconst_3\n      12: if_icmpeq     23\n      15: new           #4                  // class java/lang/AssertionError\n      18: dup\n      19: invokespecial #5                  // Method java/lang/AssertionError.&quot;&lt;init&gt;&quot;:()V\n      22: athrow\n      23: invokestatic  #6                  // Method showBytecode:()V\n      26: return\n\n  static {};\n    Code:\n       0: ldc           #18                 // class Main\n       2: invokevirtual #19                 // Method java/lang/Class.desiredAssertionStatus:()Z\n       5: ifne          12\n       8: iconst_1\n       9: goto          13\n      12: iconst_0\n      13: putstatic     #1                  // Field $assertionsDisabled:Z\n      16: return\n}\n</code></pre>\n"}],"owner":{"account_id":8538553,"reputation":23,"user_id":14932616,"display_name":"Tim Engbrocks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74825496,"answer_count":1,"score":2,"last_activity_date":1671199338,"creation_date":1671134322,"question_id":74816914,"body_markdown":"I am currently looking into how Java bytecode works.\r\nI created this simple test class:\r\n```java\r\nclass Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello, World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWith `javap -c Main.class` I can get its bytecode:\r\n```\r\nclass Main {\r\n  Main();\r\n    Code:\r\n       0: aload_0\r\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\r\n       4: return\r\n\r\n  public static void main(java.lang.String[]);\r\n    Code:\r\n       0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\r\n       3: ldc           #13                 // String Hello, World!\r\n       5: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\r\n       8: return\r\n}\r\n```\r\n\r\nThe first instruction that should be executed (according to my understanding) should be the `getstatic` instruction in the `main` function. This leads to the `System` class and others like `Console` being loaded.\r\n\r\nDuring the `&lt;clinit&gt;` method of `Console`:\r\n```\r\nstatic {};\r\n    Code:\r\n       0: ldc           #2                  // class java/io/Console\r\n       2: invokevirtual #203                // Method java/lang/Class.desiredAssertionStatus:()Z\r\n...\r\n```\r\n\r\na `invokevirtual` method is executed to call the `desiredAssertionStatus` function on the class `Class`. One can already see a difference between this `invokevirtual` instruction and the one above: `javap` appends the class name before the method name because the function is found in the class `Class` and not in `Console`.\r\n\r\nSo finally my question is: What is going on here? According to the [JVM 19 specification for `invokevirtual`](https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-6.html#jvms-6.5.invokevirtual) the method should be invoked on the object that was on the stack. In this case `Console` but this class doesn&#39;t have the requested method nor is it a subclass of `Class`. What does the JVM intend to do here/how do JVM implementations like Hotspot go about doing this.\r\nDo they just put the method onto the `Console` class for the duration of the instruction or somehow inject the class `Class` into `Console` or maybe there is something completely different going on here that I am missing?\r\n\r\nAnyways thank you for taking your time to read my question!\r\n\r\nI hope you have/had a wonderful day :)\r\n\r\n\r\nI thought about doing the following things:\r\n\r\n- Adding the method to the `Console` class for the duration of the instruction. This doesn&#39;t work because the method requires fields from the class `Class`.\r\n\r\n- Actually just calling the method on an instance of `Class` which is created on the fly but I think these seems weird.\r\n\r\n- This might be a very special case because I think that it has something to do with `Console` trying to interact with its `ClassLoader`. If this is a special case and there aren&#39;t many occurrences of this happening: Maybe the JVM just does some under the hood magic like assigning each class an instance of `Class` after loading which is then used for just this. Also seems weird to me.\r\n","title":"Java Bytecode: invokevirtual methodref on an objectref with a different class","body":"<p>I am currently looking into how Java bytecode works.\nI created this simple test class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n    }\n}\n</code></pre>\n<p>With <code>javap -c Main.class</code> I can get its bytecode:</p>\n<pre><code>class Main {\n  Main();\n    Code:\n       0: aload_0\n       1: invokespecial #1                  // Method java/lang/Object.&quot;&lt;init&gt;&quot;:()V\n       4: return\n\n  public static void main(java.lang.String[]);\n    Code:\n       0: getstatic     #7                  // Field java/lang/System.out:Ljava/io/PrintStream;\n       3: ldc           #13                 // String Hello, World!\n       5: invokevirtual #15                 // Method java/io/PrintStream.println:(Ljava/lang/String;)V\n       8: return\n}\n</code></pre>\n<p>The first instruction that should be executed (according to my understanding) should be the <code>getstatic</code> instruction in the <code>main</code> function. This leads to the <code>System</code> class and others like <code>Console</code> being loaded.</p>\n<p>During the <code>&lt;clinit&gt;</code> method of <code>Console</code>:</p>\n<pre><code>static {};\n    Code:\n       0: ldc           #2                  // class java/io/Console\n       2: invokevirtual #203                // Method java/lang/Class.desiredAssertionStatus:()Z\n...\n</code></pre>\n<p>a <code>invokevirtual</code> method is executed to call the <code>desiredAssertionStatus</code> function on the class <code>Class</code>. One can already see a difference between this <code>invokevirtual</code> instruction and the one above: <code>javap</code> appends the class name before the method name because the function is found in the class <code>Class</code> and not in <code>Console</code>.</p>\n<p>So finally my question is: What is going on here? According to the <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-6.html#jvms-6.5.invokevirtual\" rel=\"nofollow noreferrer\">JVM 19 specification for <code>invokevirtual</code></a> the method should be invoked on the object that was on the stack. In this case <code>Console</code> but this class doesn't have the requested method nor is it a subclass of <code>Class</code>. What does the JVM intend to do here/how do JVM implementations like Hotspot go about doing this.\nDo they just put the method onto the <code>Console</code> class for the duration of the instruction or somehow inject the class <code>Class</code> into <code>Console</code> or maybe there is something completely different going on here that I am missing?</p>\n<p>Anyways thank you for taking your time to read my question!</p>\n<p>I hope you have/had a wonderful day :)</p>\n<p>I thought about doing the following things:</p>\n<ul>\n<li><p>Adding the method to the <code>Console</code> class for the duration of the instruction. This doesn't work because the method requires fields from the class <code>Class</code>.</p>\n</li>\n<li><p>Actually just calling the method on an instance of <code>Class</code> which is created on the fly but I think these seems weird.</p>\n</li>\n<li><p>This might be a very special case because I think that it has something to do with <code>Console</code> trying to interact with its <code>ClassLoader</code>. If this is a special case and there aren't many occurrences of this happening: Maybe the JVM just does some under the hood magic like assigning each class an instance of <code>Class</code> after loading which is then used for just this. Also seems weird to me.</p>\n</li>\n</ul>\n"},{"tags":["java","spring","kotlin","nginx","telegram-bot"],"owner":{"account_id":17735705,"reputation":1,"user_id":12886692,"display_name":"KaRtoHHka "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671199291,"creation_date":1671199223,"question_id":74825470,"body_markdown":"I write a telegram bot on Kotlin and run it on my own server. I used to run bots on a Windows laptop, used nginx and a static ip address, everything worked, now I&#39;m moving the server to ubuntu.\r\nI configured nginx and everything else as before, but when I run the jar file, an exception appears\r\n\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webHookController&#39; defined in URL [jar:file:/home/kartohhka/bots/portfolio-bot.jar!/BOOT-INF/classes!/kartohhka/bot/WebHookController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;telegramBot&#39; defined in kartohhka.bot.appconfig.BotConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method &#39;telegramBot&#39; threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar!/:2.6.4]\r\n        at kartohhka.bot.PortfolioBotApplicationKt.main(PortfolioBotApplication.kt:21) ~[classes!/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[portfolio-bot.jar:na]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[portfolio-bot.jar:na]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[portfolio-bot.jar:na]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[portfolio-bot.jar:na]\r\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;telegramBot&#39; defined in kartohhka.bot.appconfig.BotConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method &#39;telegramBot&#39; threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        ... 27 common frames omitted\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method &#39;telegramBot&#39; threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        ... 41 common frames omitted\r\nCaused by: org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\r\n        at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponseInternal(PartialBotApiMethod.java:53) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponse(PartialBotApiMethod.java:33) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo.deserializeResponse(GetWebhookInfo.java:38) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo.deserializeResponse(GetWebhookInfo.java:21) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1045) ~[telegrambots-6.1.0.jar!/:na]\r\n        at org.telegram.telegrambots.meta.bots.AbsSender.getWebhookInfo(AbsSender.java:75) ~[telegrambots-meta-6.1.0.jar!/:na]\r\n        at kartohhka.bot.appconfig.BotConfig.telegramBot(BotConfig.kt:55) ~[classes!/:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar!/:5.3.16]\r\n        ... 42 common frames omitted\r\n```\r\n\r\n\r\nError in the line println(mySuperTelegramBot.webhookInfo)\r\n\r\n```\r\nmySuperTelegramBot.setBotUserName(conf.botUserName)\r\nmySuperTelegramBot.botToken = conf.botToken\r\nprintln(mySuperTelegramBot.setWebHookPath(conf.webHookPath))\r\nmySuperTelegramBot.baseUrl = conf.baseUrl\r\nval web = SetWebhook()\r\nweb.url = conf.webHookPath\r\nprintln(mySuperTelegramBot.webhookInfo)\r\nmySuperTelegramBot.setWebhook(web)\r\nprintln(conf.botUserName)\r\nprintln(conf.botToken)\r\nprintln(conf.webHookPath)\r\nreturn mySuperTelegramBot\r\n```\r\n\r\n\r\nI can&#39;t fully understand what settings I need to change in order for everything to work on the local telegram server.\r\n\r\nI had an idea that I didn&#39;t need a webhook, since everything runs locally, but if I remove it, the jar file runs without errors, but the bot still doesn&#39;t work (if you write to it in a telegram, there is no response, and updates don&#39;t appear in the console)Kotlin HttpHostConnectException\r\n","title":"Telegram bot GetWebhookInfo query: [404] Not Found","body":"<p>I write a telegram bot on Kotlin and run it on my own server. I used to run bots on a Windows laptop, used nginx and a static ip address, everything worked, now I'm moving the server to ubuntu.\nI configured nginx and everything else as before, but when I run the jar file, an exception appears</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webHookController' defined in URL [jar:file:/home/kartohhka/bots/portfolio-bot.jar!/BOOT-INF/classes!/kartohhka/bot/WebHookController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'telegramBot' defined in kartohhka.bot.appconfig.BotConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method 'telegramBot' threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:229) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1372) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1222) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.16.jar!/:5.3.16]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.16.jar!/:5.3.16]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301) ~[spring-boot-2.6.4.jar!/:2.6.4]\n        at kartohhka.bot.PortfolioBotApplicationKt.main(PortfolioBotApplication.kt:21) ~[classes!/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[portfolio-bot.jar:na]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[portfolio-bot.jar:na]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[portfolio-bot.jar:na]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) ~[portfolio-bot.jar:na]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'telegramBot' defined in kartohhka.bot.appconfig.BotConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method 'telegramBot' threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:658) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:486) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1389) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1309) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:887) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:791) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        ... 27 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [kartohhka.bot.appconfig.botapi.PortfolioTelegramBot]: Factory method 'telegramBot' threw exception; nested exception is Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        ... 41 common frames omitted\nCaused by: org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException: Error executing org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo query: [404] Not Found\n        at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponseInternal(PartialBotApiMethod.java:53) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.meta.api.methods.PartialBotApiMethod.deserializeResponse(PartialBotApiMethod.java:33) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo.deserializeResponse(GetWebhookInfo.java:38) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.meta.api.methods.updates.GetWebhookInfo.deserializeResponse(GetWebhookInfo.java:21) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.bots.DefaultAbsSender.sendApiMethod(DefaultAbsSender.java:1045) ~[telegrambots-6.1.0.jar!/:na]\n        at org.telegram.telegrambots.meta.bots.AbsSender.getWebhookInfo(AbsSender.java:75) ~[telegrambots-meta-6.1.0.jar!/:na]\n        at kartohhka.bot.appconfig.BotConfig.telegramBot(BotConfig.kt:55) ~[classes!/:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.3.16.jar!/:5.3.16]\n        ... 42 common frames omitted\n</code></pre>\n<p>Error in the line println(mySuperTelegramBot.webhookInfo)</p>\n<pre><code>mySuperTelegramBot.setBotUserName(conf.botUserName)\nmySuperTelegramBot.botToken = conf.botToken\nprintln(mySuperTelegramBot.setWebHookPath(conf.webHookPath))\nmySuperTelegramBot.baseUrl = conf.baseUrl\nval web = SetWebhook()\nweb.url = conf.webHookPath\nprintln(mySuperTelegramBot.webhookInfo)\nmySuperTelegramBot.setWebhook(web)\nprintln(conf.botUserName)\nprintln(conf.botToken)\nprintln(conf.webHookPath)\nreturn mySuperTelegramBot\n</code></pre>\n<p>I can't fully understand what settings I need to change in order for everything to work on the local telegram server.</p>\n<p>I had an idea that I didn't need a webhook, since everything runs locally, but if I remove it, the jar file runs without errors, but the bot still doesn't work (if you write to it in a telegram, there is no response, and updates don't appear in the console)Kotlin HttpHostConnectException</p>\n"},{"tags":["java","awt","bufferedimage","javax.imageio"],"owner":{"account_id":17706674,"reputation":68,"user_id":12855081,"display_name":"ChrisHilborne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671199135,"creation_date":1671198110,"question_id":74825264,"body_markdown":"I&#39;m trying to write a String to a BufferedImage but it is either horribly pixelated (without antialiasing) or blurry (with antialiasing).\r\n\r\nI&#39;ve tried increasing the DPI when I write the image to an OutputStream and whilst there is some improvement - it&#39;s still not great.\r\n\r\n[![blurry text][1]][1]\r\n\r\nHere is the code to generate the image: \r\n```\r\n    BufferedImage generateImage(String text) throws IOException {\r\n        Font font = new Font(&quot;Arial&quot;, Font.BOLD, 10);\r\n        int height;\r\n        int width;\r\n        BufferedImage temp = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\r\n        Graphics2D tempGraphics = temp.createGraphics();\r\n        tempGraphics.setFont(font);\r\n        FontMetrics metrics = tempGraphics.getFontMetrics();\r\n        height= metrics.getHeight();\r\n        width = metrics.stringWidth(text);\r\n\r\n        final BufferedImage image = new BufferedImage(height + 1, width + 1, BufferedImage.TYPE_INT_RGB);\r\n        final Graphics2D graphics = image.createGraphics();\r\n\r\n        graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\r\n\r\n        graphics.setFont(FONT);\r\n        graphics.setColor(Color.WHITE);\r\n        graphics.fillRect(0, 0, width + 1, heigth + 1);\r\n        graphics.setColor(Color.BLACK);\r\n        graphics.drawString(text, 1, metrics.getAscent() + 1.5f);\r\n        graphics.dispose();\r\n\r\n        return image;\r\n    }\r\n```\r\n\r\nAnd here is the code to write the image to a byte array:\r\n```\r\n    byte[] imageToOutputStream(BufferedImage image) throws IOException {\r\n        ImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;).next();\r\n        ImageWriteParam writeParam = writer.getDefaultWriteParam();\r\n        ImageTypeSpecifier typeSpecifier = ImageTypeSpecifier.createFromBufferedImageType(BufferedImage.TYPE_INT_RGB);\r\n        IIOMetadata metadata = writer.getDefaultImageMetadata(typeSpecifier, writeParam);\r\n\r\n        setDpi(metadata);\r\n\r\n        writeParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\r\n        writeParam.setCompressionQuality(1f);\r\n\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        ImageOutputStream ios = ImageIO.createImageOutputStream(baos);\r\n\r\n        writer.setOutput(ios);\r\n        writer.write(metadata, new IIOImage(image, null, metadata), writeParam);\r\n\r\n\r\n        baos.toByteArray();\r\n    }\r\n```\r\n\r\nAnd finally the code to set the DPI of the metadata used to write the image:\r\n```\r\n    void setDpiJpg(IIOMetadata metadata) throws IIOInvalidTreeException {\r\n        String metadataFormat = &quot;javax_imageio_jpeg_image_1.0&quot;;\r\n        IIOMetadataNode root = new IIOMetadataNode(metadataFormat);\r\n        IIOMetadataNode jpegVariety = new IIOMetadataNode(&quot;JPEGvariety&quot;);\r\n        IIOMetadataNode markerSequence = new IIOMetadataNode(&quot;markerSequence&quot;);\r\n\r\n        IIOMetadataNode app0JFIF = new IIOMetadataNode(&quot;app0JFIF&quot;);\r\n        app0JFIF.setAttribute(&quot;majorVersion&quot;, &quot;1&quot;);\r\n        app0JFIF.setAttribute(&quot;minorVersion&quot;, &quot;2&quot;);\r\n        app0JFIF.setAttribute(&quot;thumbWidth&quot;, &quot;0&quot;);\r\n        app0JFIF.setAttribute(&quot;thumbHeight&quot;, &quot;0&quot;);\r\n        app0JFIF.setAttribute(&quot;resUnits&quot;, &quot;01&quot;);\r\n        app0JFIF.setAttribute(&quot;Xdensity&quot;, String.valueOf(300));\r\n        app0JFIF.setAttribute(&quot;Ydensity&quot;, String.valueOf(300));\r\n\r\n        root.appendChild(jpegVariety);\r\n        root.appendChild(markerSequence);\r\n        jpegVariety.appendChild(app0JFIF);\r\n\r\n        metadata.mergeTree(metadataFormat, root);\r\n    }\r\n```\r\n\r\nI&#39;ve read [here][2] that it has something to do with the scale of the image but I must admit I&#39;m lost.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4TEIv.png\r\n  [2]: https://stackoverflow.com/questions/37238176/how-to-render-small-utf-fonts-in-a-high-quality-bufferedimage","title":"BufferedImage text poor quality with antialiasing and high DPI","body":"<p>I'm trying to write a String to a BufferedImage but it is either horribly pixelated (without antialiasing) or blurry (with antialiasing).</p>\n<p>I've tried increasing the DPI when I write the image to an OutputStream and whilst there is some improvement - it's still not great.</p>\n<p><a href=\"https://i.stack.imgur.com/4TEIv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4TEIv.png\" alt=\"blurry text\" /></a></p>\n<p>Here is the code to generate the image:</p>\n<pre><code>    BufferedImage generateImage(String text) throws IOException {\n        Font font = new Font(&quot;Arial&quot;, Font.BOLD, 10);\n        int height;\n        int width;\n        BufferedImage temp = new BufferedImage(1, 1, BufferedImage.TYPE_INT_RGB);\n        Graphics2D tempGraphics = temp.createGraphics();\n        tempGraphics.setFont(font);\n        FontMetrics metrics = tempGraphics.getFontMetrics();\n        height= metrics.getHeight();\n        width = metrics.stringWidth(text);\n\n        final BufferedImage image = new BufferedImage(height + 1, width + 1, BufferedImage.TYPE_INT_RGB);\n        final Graphics2D graphics = image.createGraphics();\n\n        graphics.setRenderingHint(RenderingHints.KEY_TEXT_ANTIALIASING, RenderingHints.VALUE_TEXT_ANTIALIAS_ON);\n\n        graphics.setFont(FONT);\n        graphics.setColor(Color.WHITE);\n        graphics.fillRect(0, 0, width + 1, heigth + 1);\n        graphics.setColor(Color.BLACK);\n        graphics.drawString(text, 1, metrics.getAscent() + 1.5f);\n        graphics.dispose();\n\n        return image;\n    }\n</code></pre>\n<p>And here is the code to write the image to a byte array:</p>\n<pre><code>    byte[] imageToOutputStream(BufferedImage image) throws IOException {\n        ImageWriter writer = ImageIO.getImageWritersByFormatName(&quot;jpeg&quot;).next();\n        ImageWriteParam writeParam = writer.getDefaultWriteParam();\n        ImageTypeSpecifier typeSpecifier = ImageTypeSpecifier.createFromBufferedImageType(BufferedImage.TYPE_INT_RGB);\n        IIOMetadata metadata = writer.getDefaultImageMetadata(typeSpecifier, writeParam);\n\n        setDpi(metadata);\n\n        writeParam.setCompressionMode(ImageWriteParam.MODE_EXPLICIT);\n        writeParam.setCompressionQuality(1f);\n\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        ImageOutputStream ios = ImageIO.createImageOutputStream(baos);\n\n        writer.setOutput(ios);\n        writer.write(metadata, new IIOImage(image, null, metadata), writeParam);\n\n\n        baos.toByteArray();\n    }\n</code></pre>\n<p>And finally the code to set the DPI of the metadata used to write the image:</p>\n<pre><code>    void setDpiJpg(IIOMetadata metadata) throws IIOInvalidTreeException {\n        String metadataFormat = &quot;javax_imageio_jpeg_image_1.0&quot;;\n        IIOMetadataNode root = new IIOMetadataNode(metadataFormat);\n        IIOMetadataNode jpegVariety = new IIOMetadataNode(&quot;JPEGvariety&quot;);\n        IIOMetadataNode markerSequence = new IIOMetadataNode(&quot;markerSequence&quot;);\n\n        IIOMetadataNode app0JFIF = new IIOMetadataNode(&quot;app0JFIF&quot;);\n        app0JFIF.setAttribute(&quot;majorVersion&quot;, &quot;1&quot;);\n        app0JFIF.setAttribute(&quot;minorVersion&quot;, &quot;2&quot;);\n        app0JFIF.setAttribute(&quot;thumbWidth&quot;, &quot;0&quot;);\n        app0JFIF.setAttribute(&quot;thumbHeight&quot;, &quot;0&quot;);\n        app0JFIF.setAttribute(&quot;resUnits&quot;, &quot;01&quot;);\n        app0JFIF.setAttribute(&quot;Xdensity&quot;, String.valueOf(300));\n        app0JFIF.setAttribute(&quot;Ydensity&quot;, String.valueOf(300));\n\n        root.appendChild(jpegVariety);\n        root.appendChild(markerSequence);\n        jpegVariety.appendChild(app0JFIF);\n\n        metadata.mergeTree(metadataFormat, root);\n    }\n</code></pre>\n<p>I've read <a href=\"https://stackoverflow.com/questions/37238176/how-to-render-small-utf-fonts-in-a-high-quality-bufferedimage\">here</a> that it has something to do with the scale of the image but I must admit I'm lost.</p>\n"},{"tags":["java","android","locale","arabic","multilingual"],"answers":[{"comments":[{"owner":{"account_id":5947610,"reputation":862,"user_id":4676674,"accept_rate":100,"display_name":"Souhaib Guitouni"},"score":0,"creation_date":1429102716,"post_id":29633451,"comment_id":47441466,"body_markdown":"Thank you for the answer it solved my problem, I just had to put : Locale AR_LOCALE = new Locale.Builder().setLanguageTag(&quot;ar-u-nu-latn&quot;).build();","body":"Thank you for the answer it solved my problem, I just had to put : Locale AR_LOCALE = new Locale.Builder().setLanguageTag(&quot;ar-u-nu-latn&quot;).build();"},{"owner":{"account_id":4667957,"reputation":9150,"user_id":3780553,"accept_rate":61,"display_name":"Blodhgard"},"score":0,"creation_date":1444328957,"post_id":29633451,"comment_id":53869111,"body_markdown":"There is a problem using this solution. When you build a locale using &quot; locale = new Locale(&quot;ar&quot;) &quot; the screen is mirrored. Using your solution instead the screen isn&#39;t mirrored properly. There is a way to fix this behaviour?","body":"There is a problem using this solution. When you build a locale using &quot; locale = new Locale(&quot;ar&quot;) &quot; the screen is mirrored. Using your solution instead the screen isn&#39;t mirrored properly. There is a way to fix this behaviour?"}],"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1429106850,"creation_date":1429031470,"answer_id":29633451,"question_id":29624376,"body_markdown":"Try to specify the numbering system (nu) in the default locale. For example, the following locale would make the system displaying Indian numbers (٠١٢٣٤٥٦٧٨٩)\r\n\r\n    Locale AR_LOCALE_EAST_NUMBERS = new Locale.Builder().setLanguageTag(&quot;ar-u-nu-arab&quot;).build();\r\n    Locale.setDefault(AR_LOCALE_EAST_NUMBERS);\r\n\r\n---\r\n\r\n- See [Setting Arabic numbering system locale doesn&#39;t show Arabic numbers][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/29155743/597657","title":"Use arabic letters with arabic numbers","body":"<p>Try to specify the numbering system (nu) in the default locale. For example, the following locale would make the system displaying Indian numbers (٠١٢٣٤٥٦٧٨٩)</p>\n\n<pre><code>Locale AR_LOCALE_EAST_NUMBERS = new Locale.Builder().setLanguageTag(\"ar-u-nu-arab\").build();\nLocale.setDefault(AR_LOCALE_EAST_NUMBERS);\n</code></pre>\n\n<hr>\n\n<ul>\n<li>See <a href=\"https://stackoverflow.com/a/29155743/597657\">Setting Arabic numbering system locale doesn't show Arabic numbers</a>.</li>\n</ul>\n"}],"owner":{"account_id":5947610,"reputation":862,"user_id":4676674,"accept_rate":100,"display_name":"Souhaib Guitouni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1298,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":29633451,"answer_count":1,"score":5,"last_activity_date":1671199051,"creation_date":1429005448,"question_id":29624376,"body_markdown":"It might sounds weird, but the fact is that Android handles languages really bad. Take Arabic for example :\r\n\r\nArabs in the east-part use arabic letters (ابجدهوز) and persian numbers (٠١٢٣٤٥٦٧٨٩).\r\n\r\nArabs in west-part use arabic letters (ابجدهوز) and arabic numbers (0123456789).\r\n\r\nAndroid only have one kind of Arabic which is the first.\r\n\r\nI&#39;m looking for a way to apply the second kind in my application (use arabic letters but also arabic numbers)\r\n\r\nIs there any way to do so?\r\n","title":"Use arabic letters with arabic numbers","body":"<p>It might sounds weird, but the fact is that Android handles languages really bad. Take Arabic for example :</p>\n\n<p>Arabs in the east-part use arabic letters (ابجدهوز) and persian numbers (٠١٢٣٤٥٦٧٨٩).</p>\n\n<p>Arabs in west-part use arabic letters (ابجدهوز) and arabic numbers (0123456789).</p>\n\n<p>Android only have one kind of Arabic which is the first.</p>\n\n<p>I'm looking for a way to apply the second kind in my application (use arabic letters but also arabic numbers)</p>\n\n<p>Is there any way to do so?</p>\n"},{"tags":["java","linux"],"comments":[{"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"score":1,"creation_date":1671198240,"post_id":74825226,"comment_id":132053253,"body_markdown":"Accessing a directory on Linux requires the permission X/Execute to be set.","body":"Accessing a directory on Linux requires the permission X/Execute to be set."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1671198336,"post_id":74825226,"comment_id":132053291,"body_markdown":"I did a search for &quot;unix directory permissions&quot; and was about to post the same information (first link): https://arc.ucar.edu/knowledge_base/68878469 *&quot;flags to indicate who can list files in a directory (r), create and remove files in the directory (w), or cd into or traverse (x) the directory&quot;*","body":"I did a search for &quot;unix directory permissions&quot; and was about to post the same information (first link): <a href=\"https://arc.ucar.edu/knowledge_base/68878469\" rel=\"nofollow noreferrer\">arc.ucar.edu/knowledge_base/68878469</a> <i>&quot;flags to indicate who can list files in a directory (r), create and remove files in the directory (w), or cd into or traverse (x) the directory&quot;</i>"},{"owner":{"account_id":4565174,"reputation":508,"user_id":3706372,"accept_rate":50,"display_name":"godo57"},"score":1,"creation_date":1671198393,"post_id":74825226,"comment_id":132053310,"body_markdown":"And the two paths are not equal","body":"And the two paths are not equal"},{"owner":{"account_id":25100792,"reputation":23,"user_id":18951538,"display_name":"vladimir vyatkin"},"score":1,"creation_date":1671198433,"post_id":74825226,"comment_id":132053325,"body_markdown":"Thank you! chmod +x solved problem","body":"Thank you! chmod +x solved problem"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1671198483,"post_id":74825226,"comment_id":132053341,"body_markdown":"*AND* the poster seems to have omitted the directory `certs` from the code snippet, well spotted.  That might be a typo in the question though.","body":"<i>AND</i> the poster seems to have omitted the directory <code>certs</code> from the code snippet, well spotted.  That might be a typo in the question though."}],"answers":[{"tags":[],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671198769,"creation_date":1671198769,"answer_id":74825390,"question_id":74825226,"body_markdown":"In order to access a directory, you need to have the X/Execute/Traverse permission.","title":"AccessDeniedException when directory rights is not 777","body":"<p>In order to access a directory, you need to have the X/Execute/Traverse permission.</p>\n"}],"owner":{"account_id":25100792,"reputation":23,"user_id":18951538,"display_name":"vladimir vyatkin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74825390,"answer_count":1,"score":0,"last_activity_date":1671198769,"creation_date":1671197906,"question_id":74825226,"body_markdown":"I run java application as user, who is the owner of the directory and the file\r\n\r\n    System.getProperty(&quot;user.name&quot;) == &quot;wfadmin&quot;\r\n\r\n    # ls -la /usr/WF/WF_PPRB/SSL/certs/ignite/\r\n    -rw-r----- 1 wfadmin   wfgroup     34 Dec 16 15:31 token.txt\r\n    -rw-r----- 1 wfadmin   wfgroup   2058 Oct  9 17:50 truststore.jks\r\n    # ls -la /usr/WF/WF_PPRB/SSL/certs/\r\n    drw-r----- 2 wfadmin   wfgroup   4096 Dec 16 15:31 ignite\r\n\r\n\r\n\r\n\r\n\r\nBut when i try to read file in java:\r\n\r\n\r\n    Files.readAllBytes(Paths.get(&quot;/usr/WF/WF_PPRB/SSL/certs/ignite/truststore.jks&quot;))\r\n\r\nI got AccessDeniedException\r\n\r\nIf i give rights 777 to directory /usr/WF/WF_PPRB/SSL/certs/ignite/, but truststore.jks still 640 - its work correctly\r\n\r\n\r\n\r\n\r\n\r\n","title":"AccessDeniedException when directory rights is not 777","body":"<p>I run java application as user, who is the owner of the directory and the file</p>\n<pre><code>System.getProperty(&quot;user.name&quot;) == &quot;wfadmin&quot;\n\n# ls -la /usr/WF/WF_PPRB/SSL/certs/ignite/\n-rw-r----- 1 wfadmin   wfgroup     34 Dec 16 15:31 token.txt\n-rw-r----- 1 wfadmin   wfgroup   2058 Oct  9 17:50 truststore.jks\n# ls -la /usr/WF/WF_PPRB/SSL/certs/\ndrw-r----- 2 wfadmin   wfgroup   4096 Dec 16 15:31 ignite\n</code></pre>\n<p>But when i try to read file in java:</p>\n<pre><code>Files.readAllBytes(Paths.get(&quot;/usr/WF/WF_PPRB/SSL/certs/ignite/truststore.jks&quot;))\n</code></pre>\n<p>I got AccessDeniedException</p>\n<p>If i give rights 777 to directory /usr/WF/WF_PPRB/SSL/certs/ignite/, but truststore.jks still 640 - its work correctly</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1571430062,"post_id":58457643,"comment_id":103252378,"body_markdown":"You have `Runnable` and `String` and only one of that is a suitable functional interface, so the it is quite easy to choose the correct constructor. This will help you, might even be a dupe: [What is use of Functional Interface in Java 8?](//stackoverflow.com/q/36881826). Also helpful: [Functional interfaces in Java 8](//stackoverflow.com/q/22794665)","body":"You have <code>Runnable</code> and <code>String</code> and only one of that is a suitable functional interface, so the it is quite easy to choose the correct constructor. This will help you, might even be a dupe: <a href=\"//stackoverflow.com/q/36881826\">What is use of Functional Interface in Java 8?</a>. Also helpful: <a href=\"//stackoverflow.com/q/22794665\">Functional interfaces in Java 8</a>"}],"answers":[{"comments":[{"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"score":0,"creation_date":1571431780,"post_id":58457729,"comment_id":103253001,"body_markdown":"What if there are multiple constructors that take a functional interface?","body":"What if there are multiple constructors that take a functional interface?"},{"owner":{"account_id":327698,"reputation":5680,"user_id":650228,"accept_rate":78,"display_name":"kittylyst"},"score":0,"creation_date":1571868447,"post_id":58457729,"comment_id":103386926,"body_markdown":"Then the compiler will try to disambiguate based on the &quot;shape&quot; of the functional interface, e.g. taking into account the numbers and types of the arguments, which might well be different for the different possible constructors that take a functional interface.","body":"Then the compiler will try to disambiguate based on the &quot;shape&quot; of the functional interface, e.g. taking into account the numbers and types of the arguments, which might well be different for the different possible constructors that take a functional interface."}],"tags":[],"owner":{"account_id":327698,"reputation":5680,"user_id":650228,"accept_rate":78,"display_name":"kittylyst"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571430367,"creation_date":1571430367,"answer_id":58457729,"question_id":58457643,"body_markdown":"Lambda expressions are converted to an instance of a class implementing a functional interface. A &quot;functional interface&quot; means an interface with only 1 (non-default) method in it.\r\n\r\nString isn&#39;t an interface - it&#39;s a class. So the compiler looks at the lambda expression and knows that if the code is to make sense then it should convert the lambda to instance of an implementation of Runnable, as it&#39;s the only possible thing that could work!","title":"How does the compiler know which class the lambda is implementing?","body":"<p>Lambda expressions are converted to an instance of a class implementing a functional interface. A \"functional interface\" means an interface with only 1 (non-default) method in it.</p>\n\n<p>String isn't an interface - it's a class. So the compiler looks at the lambda expression and knows that if the code is to make sense then it should convert the lambda to instance of an implementation of Runnable, as it's the only possible thing that could work!</p>\n"},{"comments":[{"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"score":0,"creation_date":1571431895,"post_id":58457792,"comment_id":103253030,"body_markdown":"Can you give an example of casting a lambda? I&#39;ve never heard or seen that before.","body":"Can you give an example of casting a lambda? I&#39;ve never heard or seen that before."},{"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"score":0,"creation_date":1571431961,"post_id":58457792,"comment_id":103253052,"body_markdown":"e.g. `(Runnable) ( () -&gt; { System.out.println(&quot;Casted lambda as Runnable!&quot;); } )`","body":"e.g. <code>(Runnable) ( () -&gt; { System.out.println(&quot;Casted lambda as Runnable!&quot;); } )</code>"}],"tags":[],"owner":{"account_id":1888343,"reputation":176617,"user_id":1707091,"display_name":"rgettman"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1571430650,"creation_date":1571430650,"answer_id":58457792,"question_id":58457643,"body_markdown":"The Java compiler must choose a functional interface type for the type of a lambda expression.  This is governed by the [JLS, Section 15.27.3][1], which states:\r\n\r\n&gt; A lambda expression is compatible in an assignment context, invocation context, or casting context with a target type T if T is a functional interface type (&#167;9.8) and the expression is _congruent_ with the function type of the _ground target type_ derived from T.\r\n\r\nThe type `String` is not a functional interface type, but `Runnable` is.  The lambda takes no arguments and returns no data, so it is _congruent_ with `Runnable`.\r\n\r\nMore generally, the types of parameters in a lambda expression must match the types of parameters of the single abstract method of a functional interface type, and the return types must match also.\r\n\r\nIn your example, each of the 3 functional interface types is distinct, so at most one will match.  If there are multiple functional interface types that could possible match, that would be ambiguous, only resolvable by casting the lambda expression to the intended functional interface type.\r\n\r\n\r\n\r\n[1]: https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.27.3","title":"How does the compiler know which class the lambda is implementing?","body":"<p>The Java compiler must choose a functional interface type for the type of a lambda expression.  This is governed by the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-15.html#jls-15.27.3\" rel=\"nofollow noreferrer\">JLS, Section 15.27.3</a>, which states:</p>\n\n<blockquote>\n  <p>A lambda expression is compatible in an assignment context, invocation context, or casting context with a target type T if T is a functional interface type (§9.8) and the expression is <em>congruent</em> with the function type of the <em>ground target type</em> derived from T.</p>\n</blockquote>\n\n<p>The type <code>String</code> is not a functional interface type, but <code>Runnable</code> is.  The lambda takes no arguments and returns no data, so it is <em>congruent</em> with <code>Runnable</code>.</p>\n\n<p>More generally, the types of parameters in a lambda expression must match the types of parameters of the single abstract method of a functional interface type, and the return types must match also.</p>\n\n<p>In your example, each of the 3 functional interface types is distinct, so at most one will match.  If there are multiple functional interface types that could possible match, that would be ambiguous, only resolvable by casting the lambda expression to the intended functional interface type.</p>\n"}],"owner":{"account_id":49931,"reputation":25463,"user_id":148844,"accept_rate":67,"display_name":"Chloe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":58457792,"answer_count":2,"score":1,"last_activity_date":1671198635,"creation_date":1571429899,"question_id":58457643,"body_markdown":"I see [`Thread()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#constructor.summary) takes both `Runnable` and `String` for single argument constructors. How does the compiler know that a `lambda` is implementing a `Runnable` class and not a `String` class?\r\n\r\n\r\n\t\t(new Thread( () -&gt; {\r\n\t\t    System.out.println(&quot;Deleting stats...&quot;);\r\n\t\t})).start();\r\n\r\nMaybe it goes by the number of methods in the class/interface? But what if a class had multiple constructors that took single argument class that only had one method, for example:\r\n\r\n    Thread( Runnable r );\r\n    Thread( Comparable c );\r\n    Thread( ActionListener al );\r\n\r\nWhat happens then when you try to implement a `lambda` then? How would the compiler know which class the `lambda` is implementing?\r\n","title":"How does the compiler know which class the lambda is implementing?","body":"<p>I see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#constructor.summary\" rel=\"nofollow noreferrer\"><code>Thread()</code></a> takes both <code>Runnable</code> and <code>String</code> for single argument constructors. How does the compiler know that a <code>lambda</code> is implementing a <code>Runnable</code> class and not a <code>String</code> class?</p>\n<pre><code>    (new Thread( () -&gt; {\n        System.out.println(&quot;Deleting stats...&quot;);\n    })).start();\n</code></pre>\n<p>Maybe it goes by the number of methods in the class/interface? But what if a class had multiple constructors that took single argument class that only had one method, for example:</p>\n<pre><code>Thread( Runnable r );\nThread( Comparable c );\nThread( ActionListener al );\n</code></pre>\n<p>What happens then when you try to implement a <code>lambda</code> then? How would the compiler know which class the <code>lambda</code> is implementing?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4062630,"reputation":1826,"user_id":3424746,"display_name":"PiRocks"},"score":4,"creation_date":1611675990,"post_id":65904377,"comment_id":116524349,"body_markdown":"&quot;Java applets were deprecated since Java 9 in 2017 and removed from Java SE 11&quot;  source: https://en.wikipedia.org/wiki/Java_applet","body":"&quot;Java applets were deprecated since Java 9 in 2017 and removed from Java SE 11&quot;  source: <a href=\"https://en.wikipedia.org/wiki/Java_applet\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_applet</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1611676142,"post_id":65904377,"comment_id":116524434,"body_markdown":"&quot;Can someone help?&quot; - The best help we can offer you is to not bother learning how to use applets.  They are a dead-end technology.  The &quot;Could not find or load main class sun.applet.AppletViewer&quot; - is because that class has been removed.","body":"&quot;Can someone help?&quot; - The best help we can offer you is to not bother learning how to use applets.  They are a dead-end technology.  The &quot;Could not find or load main class sun.applet.AppletViewer&quot; - is because that class has been removed."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1611684331,"post_id":65904377,"comment_id":116528570,"body_markdown":"_I&#39;m using IntelliJ as IDE and use jdk14_ Is that fourteen (14) or 1.4 (one point four) ?","body":"<i>I&#39;m using IntelliJ as IDE and use jdk14</i> Is that fourteen (14) or 1.4 (one point four) ?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1671198915,"post_id":65904377,"comment_id":132053494,"body_markdown":"Why do you want to learn applets? I suspect you&#39;ve stumbled across applets, but something else would be more appropriate. You could replace the code you have with a JFrame, and a JPanel pretty easily.","body":"Why do you want to learn applets? I suspect you&#39;ve stumbled across applets, but something else would be more appropriate. You could replace the code you have with a JFrame, and a JPanel pretty easily."}],"answers":[{"tags":[],"owner":{"account_id":18491426,"reputation":586,"user_id":13470912,"display_name":"nicolass"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671198189,"creation_date":1671198189,"answer_id":74825277,"question_id":65904377,"body_markdown":"Applets are deprecated since java 9. You should be using java 8 (jdk 14 does not work)","title":"How to use applets in intelliJ?","body":"<p>Applets are deprecated since java 9. You should be using java 8 (jdk 14 does not work)</p>\n"}],"owner":{"account_id":20164698,"reputation":147,"user_id":14788941,"display_name":"JasperDG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671198189,"creation_date":1611675521,"question_id":65904377,"body_markdown":"I&#39;m a java beginner and I wanna know how to use applets. I&#39;ve got this little test-program for the paint-applet :\r\n```java\r\nimport java.awt.*;\r\nimport java.applet.*;\r\npublic class Main extends Applet {\r\n    public void init() {\r\n    }\r\n    public void paint(Graphics g) {\r\n        setBackground(Color.blue);\r\n        g.setColor(Color.yellow);\r\n        g.drawRect(20, 20, 100, 50);\r\n        g.fillRect(20, 80, 100, 50);\r\n    }\r\n}\r\n```\r\nBut in the IDE, &quot;Applet&quot; in the 3rd line has a stripe through it.\r\nAnd if I try to run the code, I get this error:\r\n```\r\nError: Could not find or load main class sun.applet.AppletViewer\r\nCaused by: java.lang.ClassNotFoundException: sun.applet.AppletViewer\r\n```\r\nI&#39;m using IntelliJ as IDE and use jdk14\r\n\r\nCan someone help?","title":"How to use applets in intelliJ?","body":"<p>I'm a java beginner and I wanna know how to use applets. I've got this little test-program for the paint-applet :</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.awt.*;\nimport java.applet.*;\npublic class Main extends Applet {\n    public void init() {\n    }\n    public void paint(Graphics g) {\n        setBackground(Color.blue);\n        g.setColor(Color.yellow);\n        g.drawRect(20, 20, 100, 50);\n        g.fillRect(20, 80, 100, 50);\n    }\n}\n</code></pre>\n<p>But in the IDE, &quot;Applet&quot; in the 3rd line has a stripe through it.\nAnd if I try to run the code, I get this error:</p>\n<pre><code>Error: Could not find or load main class sun.applet.AppletViewer\nCaused by: java.lang.ClassNotFoundException: sun.applet.AppletViewer\n</code></pre>\n<p>I'm using IntelliJ as IDE and use jdk14</p>\n<p>Can someone help?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1671198504,"post_id":74825177,"comment_id":132053347,"body_markdown":"@jhamon that pattern is not used to parse the input but rather to format it as date only.","body":"@jhamon that pattern is not used to parse the input but rather to format it as date only."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1671207909,"post_id":74825276,"comment_id":132056702,"body_markdown":"Good answer. Unfortunately, that Wikipedia article uses the words “time zone” where it should use “offset”. The `+03:00` is an offset from UTC, not a time zone. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region, as decided by their politicians. The time zone has a name in the format of continent/region, such as `Africa/Nairobi`, `Europe/Helsinki`, and `Indian/Mayotte`.","body":"Good answer. Unfortunately, that Wikipedia article uses the words “time zone” where it should use “offset”. The <code>+03:00</code> is an offset from UTC, not a time zone. A time zone is a named history of the past, present, and future changes to the offset used by the people of a particular region, as decided by their politicians. The time zone has a name in the format of continent/region, such as <code>Africa&#47;Nairobi</code>, <code>Europe&#47;Helsinki</code>, and <code>Indian&#47;Mayotte</code>."}],"tags":[],"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671198187,"creation_date":1671198187,"answer_id":74825276,"question_id":74825177,"body_markdown":"```\r\n2022-12-16T00:00:00+03:00\r\n```\r\n\r\nThat is [a combined date-time with a time zone in ISO 8601 format](https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations).\r\n\r\n```\r\nLocalDateTime.parse(dateOfReview)\r\n```\r\n\r\n`LocalDateTime` [is &quot;A date-time **without a time-zone** in the ISO-8601 calendar system&quot;](https://developer.android.com/reference/java/time/LocalDateTime) (emphasis added).\r\n\r\nPlease [use `OffsetDateTime`](https://developer.android.com/reference/java/time/OffsetDateTime) instead.\r\n\r\n","title":"DateTime parsing exception in java","body":"<pre><code>2022-12-16T00:00:00+03:00\n</code></pre>\n<p>That is <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations\" rel=\"nofollow noreferrer\">a combined date-time with a time zone in ISO 8601 format</a>.</p>\n<pre><code>LocalDateTime.parse(dateOfReview)\n</code></pre>\n<p><code>LocalDateTime</code> <a href=\"https://developer.android.com/reference/java/time/LocalDateTime\" rel=\"nofollow noreferrer\">is &quot;A date-time <strong>without a time-zone</strong> in the ISO-8601 calendar system&quot;</a> (emphasis added).</p>\n<p>Please <a href=\"https://developer.android.com/reference/java/time/OffsetDateTime\" rel=\"nofollow noreferrer\">use <code>OffsetDateTime</code></a> instead.</p>\n"}],"owner":{"account_id":25563280,"reputation":25,"user_id":19345558,"display_name":"Artem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74825276,"answer_count":1,"score":0,"last_activity_date":1671198187,"creation_date":1671197698,"question_id":74825177,"body_markdown":"I&#39;m developing my mobile app with API. Binding datetime gives me error\r\njava.time.format.DateTimeParseException: Text &#39;2022-12-16T00:00:00+03:00&#39; could not be parsed, unparsed text found at index 19. Please help me format this weird date\r\n\r\n``` this is my date-parsing method\r\nfun formatDateOfReview(dateOfReview: String?): String? {\r\n    val localDate = LocalDateTime.parse(dateOfReview)\r\n    return localDate.format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;))\r\n}\r\n```\r\n","title":"DateTime parsing exception in java","body":"<p>I'm developing my mobile app with API. Binding datetime gives me error\njava.time.format.DateTimeParseException: Text '2022-12-16T00:00:00+03:00' could not be parsed, unparsed text found at index 19. Please help me format this weird date</p>\n<pre><code>fun formatDateOfReview(dateOfReview: String?): String? {\n    val localDate = LocalDateTime.parse(dateOfReview)\n    return localDate.format(DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy&quot;))\n}\n</code></pre>\n"},{"tags":["java","java-8","java-stream","option-type"],"comments":[{"owner":{"account_id":5735475,"reputation":5343,"user_id":4529790,"accept_rate":81,"display_name":"Michele Lacorte"},"score":4,"creation_date":1441744639,"post_id":32466799,"comment_id":52795593,"body_markdown":"null isn&#39;t perfectly acceptable value... use &quot;&quot; instead","body":"null isn&#39;t perfectly acceptable value... use &quot;&quot; instead"},{"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"score":1,"creation_date":1441744764,"post_id":32466799,"comment_id":52795654,"body_markdown":"@MicheleLacorte although I&#39;m using `String` here, what if it&#39;s a list that represents a column in the DB? The value of the first row for that column can be `null`.","body":"@MicheleLacorte although I&#39;m using <code>String</code> here, what if it&#39;s a list that represents a column in the DB? The value of the first row for that column can be <code>null</code>."},{"owner":{"account_id":5735475,"reputation":5343,"user_id":4529790,"accept_rate":81,"display_name":"Michele Lacorte"},"score":0,"creation_date":1441744839,"post_id":32466799,"comment_id":52795691,"body_markdown":"Yes but in java null isn&#39;t acceptable..use query to set null into db","body":"Yes but in java null isn&#39;t acceptable..use query to set null into db"},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":19,"creation_date":1441745261,"post_id":32466799,"comment_id":52795910,"body_markdown":"@MicheleLacorte, `null` is a perfectly acceptable value in Java, generally speaking.  In particular, it is a valid element for an `ArrayList&lt;String&gt;`.  Like any other value, however, there are limitations on what can be done with it.  &quot;Don&#39;t ever use `null`&quot; is not useful advice, as you cannot avoid it.","body":"@MicheleLacorte, <code>null</code> is a perfectly acceptable value in Java, generally speaking.  In particular, it is a valid element for an <code>ArrayList&lt;String&gt;</code>.  Like any other value, however, there are limitations on what can be done with it.  &quot;Don&#39;t ever use <code>null</code>&quot; is not useful advice, as you cannot avoid it."},{"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"score":0,"creation_date":1441746349,"post_id":32466799,"comment_id":52796472,"body_markdown":"@NathanHughes - I suspect that by the time you call `findFirst()`, there&#39;s nothing else you want to do.","body":"@NathanHughes - I suspect that by the time you call <code>findFirst()</code>, there&#39;s nothing else you want to do."}],"answers":[{"comments":[{"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"score":3,"creation_date":1441745160,"post_id":32466863,"comment_id":52795854,"body_markdown":"It would be simple to track if a value does exist with a private boolean inside instances of `Optional`. Anyway, I think I&#39;m bordering ranting - if the language doesn&#39;t support it, it doesn&#39;t support it.","body":"It would be simple to track if a value does exist with a private boolean inside instances of <code>Optional</code>. Anyway, I think I&#39;m bordering ranting - if the language doesn&#39;t support it, it doesn&#39;t support it."},{"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"score":0,"creation_date":1441745217,"post_id":32466863,"comment_id":52795884,"body_markdown":"Also, I would be happy if you have any alternatives (was hoping for a functional programming-like solution). Time to convert it to a for loop.","body":"Also, I would be happy if you have any alternatives (was hoping for a functional programming-like solution). Time to convert it to a for loop."},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":2,"creation_date":1441745499,"post_id":32466863,"comment_id":52796054,"body_markdown":"@neverendingqs Absolutely, using a `boolean` to differentiate these two situations would make perfect sense. To me, it looks like the use of `Optional&lt;T&gt;` here was a questionable choice.","body":"@neverendingqs Absolutely, using a <code>boolean</code> to differentiate these two situations would make perfect sense. To me, it looks like the use of <code>Optional&lt;T&gt;</code> here was a questionable choice."},{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":1,"creation_date":1441745622,"post_id":32466863,"comment_id":52796107,"body_markdown":"@neverendingqs I can&#39;t think of any nice-looking alternative to this, besides [*rolling your own null*](https://en.wikipedia.org/wiki/Null_Object_pattern), which isn&#39;t ideal either.","body":"@neverendingqs I can&#39;t think of any nice-looking alternative to this, besides <a href=\"https://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"nofollow noreferrer\"><i>rolling your own null</i></a>, which isn&#39;t ideal either."},{"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"score":1,"creation_date":1441746159,"post_id":32466863,"comment_id":52796369,"body_markdown":"I ended up writing a private method that gets the iterator from any `Iterable` type, checks `hasNext()`, and returns the appropriate value.","body":"I ended up writing a private method that gets the iterator from any <code>Iterable</code> type, checks <code>hasNext()</code>, and returns the appropriate value."},{"owner":{"account_id":2868209,"reputation":3106,"user_id":2462052,"accept_rate":65,"display_name":"danny"},"score":1,"creation_date":1556771924,"post_id":32466863,"comment_id":98544042,"body_markdown":"I think it makes more sense if `findFirst` returns an empty Optional value in PO&#39;s case","body":"I think it makes more sense if <code>findFirst</code> returns an empty Optional value in PO&#39;s case"}],"tags":[],"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"comment_count":6,"down_vote_count":1,"up_vote_count":92,"is_accepted":true,"score":91,"last_activity_date":1441744833,"creation_date":1441744833,"answer_id":32466863,"question_id":32466799,"body_markdown":"The reason for this is the use of `Optional&lt;T&gt;` in the return. Optional is not allowed to contain `null`. Essentially, it offers no way of distinguishing situations &quot;it&#39;s not there&quot; and &quot;it&#39;s there, but it is set to `null`&quot;.\n\nThat&#39;s why [the documentation][1] explicitly prohibits the situation when `null` is selected in `findFirst()`:\n\n&gt; **Throws:**\n&gt;\n&gt; `NullPointerException` - if the element selected is `null`\n\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>The reason for this is the use of <code>Optional&lt;T&gt;</code> in the return. Optional is not allowed to contain <code>null</code>. Essentially, it offers no way of distinguishing situations &quot;it's not there&quot; and &quot;it's there, but it is set to <code>null</code>&quot;.</p>\n<p>That's why <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#findFirst--\" rel=\"noreferrer\">the documentation</a> explicitly prohibits the situation when <code>null</code> is selected in <code>findFirst()</code>:</p>\n<blockquote>\n<p><strong>Throws:</strong></p>\n<p><code>NullPointerException</code> - if the element selected is <code>null</code></p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1441793333,"post_id":32468187,"comment_id":52814115,"body_markdown":"There is no need to create another `Box` type. The `Optional` type itself can serve this purpose. See [my answer](http://stackoverflow.com/a/32476601/2711488) for an example.","body":"There is no need to create another <code>Box</code> type. The <code>Optional</code> type itself can serve this purpose. See <a href=\"http://stackoverflow.com/a/32476601/2711488\">my answer</a> for an example."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1441811871,"post_id":32468187,"comment_id":52827636,"body_markdown":"@Holger - yes, but that might be confusing since it&#39;s not the intended purpose of Optional. In OP&#39;s case, `null` is a valid value like any other, no special treatment for it. (until sometime later:)","body":"@Holger - yes, but that might be confusing since it&#39;s not the intended purpose of Optional. In OP&#39;s case, <code>null</code> is a valid value like any other, no special treatment for it. (until sometime later:)"}],"tags":[],"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441751288,"creation_date":1441750873,"answer_id":32468187,"question_id":32466799,"body_markdown":" Optional is supposed to be a &quot;value&quot; type. (read the fine print in [javadoc](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html):) JVM could even replace all `Optional&lt;Foo&gt;` with just `Foo`, removing all boxing and unboxing costs. A `null` Foo means an empty `Optional&lt;Foo&gt;`.\r\n\r\nIt is a possible design to allow Optional with null value, without adding a boolean flag - just add a sentinel object. (could even use `this` as sentinel; see Throwable.cause)\r\n\r\n\r\nThe decision that Optional cannot wrap null is not based on runtime cost. This was a hugely contended issue and you need to dig the mailing lists. The decision is not convincing to everybody.\r\n\r\nIn any case, since Optional cannot wrap null value, it pushes us in a corner in cases like `findFirst`. They must have reasoned that null values are very rare (it was even considered that Stream should bar null values), therefore it is more convenient to throw exception on null values instead of on empty streams.\r\n\r\nA workaround is to box `null`, e.g. \r\n\r\n    class Box&lt;T&gt;\r\n        static Box&lt;T&gt; of(T value){ .. }\r\n\r\n    Optional&lt;Box&lt;String&gt;&gt; first = stream.map(Box::of).findFirst();\r\n\r\n(They say the solution to every OOP problem is to introduce another type :)","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>Optional is supposed to be a \"value\" type. (read the fine print in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"nofollow\">javadoc</a>:) JVM could even replace all <code>Optional&lt;Foo&gt;</code> with just <code>Foo</code>, removing all boxing and unboxing costs. A <code>null</code> Foo means an empty <code>Optional&lt;Foo&gt;</code>.</p>\n\n<p>It is a possible design to allow Optional with null value, without adding a boolean flag - just add a sentinel object. (could even use <code>this</code> as sentinel; see Throwable.cause)</p>\n\n<p>The decision that Optional cannot wrap null is not based on runtime cost. This was a hugely contended issue and you need to dig the mailing lists. The decision is not convincing to everybody.</p>\n\n<p>In any case, since Optional cannot wrap null value, it pushes us in a corner in cases like <code>findFirst</code>. They must have reasoned that null values are very rare (it was even considered that Stream should bar null values), therefore it is more convenient to throw exception on null values instead of on empty streams.</p>\n\n<p>A workaround is to box <code>null</code>, e.g. </p>\n\n<pre><code>class Box&lt;T&gt;\n    static Box&lt;T&gt; of(T value){ .. }\n\nOptional&lt;Box&lt;String&gt;&gt; first = stream.map(Box::of).findFirst();\n</code></pre>\n\n<p>(They say the solution to every OOP problem is to introduce another type :)</p>\n"},{"comments":[{"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"score":0,"creation_date":1441808215,"post_id":32476601,"comment_id":52824759,"body_markdown":"Sorry I realized that my question might have implied I wanted to return `null` for either 1) the first element is `null` or 2) no elements exist inside the list. I have updated the question to remove the ambiguity.","body":"Sorry I realized that my question might have implied I wanted to return <code>null</code> for either 1) the first element is <code>null</code> or 2) no elements exist inside the list. I have updated the question to remove the ambiguity."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":1,"creation_date":1441908681,"post_id":32476601,"comment_id":52876774,"body_markdown":"In the 3rd code snippet, an `Optional` may be assigned to `null`. Since `Optional` is supposed to be a &quot;value type&quot;, it should never be null. And an Optional should never be compared by `==`. The code may fail in Java 10 :) or when-ever value type is introduced to Java.","body":"In the 3rd code snippet, an <code>Optional</code> may be assigned to <code>null</code>. Since <code>Optional</code> is supposed to be a &quot;value type&quot;, it should never be null. And an Optional should never be compared by <code>==</code>. The code may fail in Java 10 :) or when-ever value type is introduced to Java."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1441909561,"post_id":32476601,"comment_id":52877228,"body_markdown":"@bayou.io: [the documentation](http://docs.oracle.com/javase/8/docs/api/java/lang/doc-files/ValueBased.html) doesn’t say that *references* to value types can’t be `null` and while *instances* should never be compared by `==`, the reference may be tested for `null` using `==` as that’s the *only* way to test it for `null`. I can’t see how such a transition to “never `null`” should work for existing code as even the default value for all instance variables and array elements is `null`. The snippet surely is not the best code but neither is the task of treating `null`s as present values.","body":"@bayou.io: <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/doc-files/ValueBased.html\" rel=\"nofollow noreferrer\">the documentation</a> doesn’t say that <i>references</i> to value types can’t be <code>null</code> and while <i>instances</i> should never be compared by <code>==</code>, the reference may be tested for <code>null</code> using <code>==</code> as that’s the <i>only</i> way to test it for <code>null</code>. I can’t see how such a transition to “never <code>null</code>” should work for existing code as even the default value for all instance variables and array elements is <code>null</code>. The snippet surely is not the best code but neither is the task of treating <code>null</code>s as present values."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1441909899,"post_id":32476601,"comment_id":52877423,"body_markdown":"see [john rose](https://blogs.oracle.com/jrose/entry/value_types_in_the_vm) - *nor can it be compared with the “==” operator, not even with a null*","body":"see <a href=\"https://blogs.oracle.com/jrose/entry/value_types_in_the_vm\" rel=\"nofollow noreferrer\">john rose</a> - <i>nor can it be compared with the “==” operator, not even with a null</i>"},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1441910118,"post_id":32476601,"comment_id":52877552,"body_markdown":"anyways, this is their plan, that `Optional` will not be used like &quot;normal&quot; reference types. so that in future, it can be transitioned to &quot;value type&quot;. But people will definitely &quot;misuse&quot; it; the warning on javadoc is certainly very inadequate.","body":"anyways, this is their plan, that <code>Optional</code> will not be used like &quot;normal&quot; reference types. so that in future, it can be transitioned to &quot;value type&quot;. But people will definitely &quot;misuse&quot; it; the warning on javadoc is certainly very inadequate."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1441910552,"post_id":32476601,"comment_id":52877816,"body_markdown":"Since this code is using a Generic API, this is what the concept calls a *boxed* representation which can be `null`. However, since such a hypothetical language change would cause the compiler to issue an error here (not break the code silently), I can live with the fact, that it would possibly have to be adapted for Java&#160;10. I suppose, the `Stream` API will look quite different then as well…","body":"Since this code is using a Generic API, this is what the concept calls a <i>boxed</i> representation which can be <code>null</code>. However, since such a hypothetical language change would cause the compiler to issue an error here (not break the code silently), I can live with the fact, that it would possibly have to be adapted for Java 10. I suppose, the <code>Stream</code> API will look quite different then as well…"},{"owner":{"account_id":5577550,"reputation":4169,"user_id":4420532,"accept_rate":90,"display_name":"Felix"},"score":0,"creation_date":1481027480,"post_id":32476601,"comment_id":69199311,"body_markdown":"Add 3rd code snippet, I see `Optional.empty` as a result of `.stream().map(Optional::ofNullable).findFirst().orElse(null)` (**not** `null`) - in case the first element in stream is `null`.","body":"Add 3rd code snippet, I see <code>Optional.empty</code> as a result of <code>.stream().map(Optional::ofNullable).findFirst().orElse(null)</code> (<b>not</b> <code>null</code>) - in case the first element in stream is <code>null</code>."},{"owner":{"account_id":7307087,"reputation":442,"user_id":10661805,"display_name":"Ray Jasson"},"score":0,"creation_date":1671188554,"post_id":32476601,"comment_id":132050146,"body_markdown":"What&#39;s the purpose of `skip(0)` here?","body":"What&#39;s the purpose of <code>skip(0)</code> here?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1671198006,"post_id":32476601,"comment_id":132053181,"body_markdown":"@RayJasson good question. I suppose, it’s a leftover from some testing that slipped through. Should have no effect. I removed it.","body":"@RayJasson good question. I suppose, it’s a leftover from some testing that slipped through. Should have no effect. I removed it."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":9,"down_vote_count":0,"up_vote_count":75,"is_accepted":false,"score":75,"last_activity_date":1671197937,"creation_date":1441793036,"answer_id":32476601,"question_id":32466799,"body_markdown":"As [already discussed](https://stackoverflow.com/a/32466863/2711488), the API designers do not assume that the developer wants to treat `null` values and absent values the same way.\r\n\r\nIf you still want to do that, you may do it explicitly by applying the sequence\r\n\r\n    .map(Optional::ofNullable).findFirst().flatMap(Function.identity())\r\nto the stream. The result will be an empty optional in both cases, if there is no first element or if the first element is `null`. So in your case, you may use\r\n\r\n    String firstString = strings.stream()\r\n        .map(Optional::ofNullable).findFirst().flatMap(Function.identity())\r\n        .orElse(null);\r\nto get a `null` value if the first element is either absent or `null`.\r\n\r\nIf you want to distinguish between these cases, you may simply omit the `flatMap` step:\r\n\r\n    Optional&lt;String&gt; firstString = strings.stream()\r\n        .map(Optional::ofNullable).findFirst().orElse(null);\r\n    System.out.println(firstString==null? &quot;no such element&quot;:\r\n                       firstString.orElse(&quot;first element is null&quot;));\r\nThis is not much different to your updated question. You just have to replace `&quot;no such element&quot;` with `&quot;StringWhenListIsEmpty&quot;` and `&quot;first element is null&quot;` with `null`. But if you don’t like conditionals, you can achieve it also like:\r\n\r\n    String firstString = strings.stream()\r\n        .map(Optional::ofNullable).findFirst()\r\n        .orElseGet(()-&gt;Optional.of(&quot;StringWhenListIsEmpty&quot;))\r\n        .orElse(null);\r\nNow, `firstString` will be `null` if an element exists but is `null` and it will be `&quot;StringWhenListIsEmpty&quot;` when no element exists.\r\n","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>As <a href=\"https://stackoverflow.com/a/32466863/2711488\">already discussed</a>, the API designers do not assume that the developer wants to treat <code>null</code> values and absent values the same way.</p>\n<p>If you still want to do that, you may do it explicitly by applying the sequence</p>\n<pre><code>.map(Optional::ofNullable).findFirst().flatMap(Function.identity())\n</code></pre>\n<p>to the stream. The result will be an empty optional in both cases, if there is no first element or if the first element is <code>null</code>. So in your case, you may use</p>\n<pre><code>String firstString = strings.stream()\n    .map(Optional::ofNullable).findFirst().flatMap(Function.identity())\n    .orElse(null);\n</code></pre>\n<p>to get a <code>null</code> value if the first element is either absent or <code>null</code>.</p>\n<p>If you want to distinguish between these cases, you may simply omit the <code>flatMap</code> step:</p>\n<pre><code>Optional&lt;String&gt; firstString = strings.stream()\n    .map(Optional::ofNullable).findFirst().orElse(null);\nSystem.out.println(firstString==null? &quot;no such element&quot;:\n                   firstString.orElse(&quot;first element is null&quot;));\n</code></pre>\n<p>This is not much different to your updated question. You just have to replace <code>&quot;no such element&quot;</code> with <code>&quot;StringWhenListIsEmpty&quot;</code> and <code>&quot;first element is null&quot;</code> with <code>null</code>. But if you don’t like conditionals, you can achieve it also like:</p>\n<pre><code>String firstString = strings.stream()\n    .map(Optional::ofNullable).findFirst()\n    .orElseGet(()-&gt;Optional.of(&quot;StringWhenListIsEmpty&quot;))\n    .orElse(null);\n</code></pre>\n<p>Now, <code>firstString</code> will be <code>null</code> if an element exists but is <code>null</code> and it will be <code>&quot;StringWhenListIsEmpty&quot;</code> when no element exists.</p>\n"},{"tags":[],"owner":{"account_id":111410,"reputation":8252,"user_id":294317,"accept_rate":69,"display_name":"Nathan"},"comment_count":0,"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1485188755,"creation_date":1485188755,"answer_id":41810993,"question_id":32466799,"body_markdown":"The following code replaces `findFirst()` with `limit(1)` and replaces `orElse()` with `reduce()`: \r\n    \r\n    String firstString = strings.\r\n       stream().\r\n       limit(1).\r\n       reduce(&quot;StringWhenListIsEmpty&quot;, (first, second) -&gt; second);\r\n\r\n`limit()` allows only 1 element to reach `reduce`.  The `BinaryOperator` passed to `reduce` returns that 1 element or else `&quot;StringWhenListIsEmpty&quot;` if no elements reach the `reduce`.\r\n\r\nThe beauty of this solution is that `Optional` isn&#39;t allocated and the `BinaryOperator` lambda isn&#39;t going to allocate anything.","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>The following code replaces <code>findFirst()</code> with <code>limit(1)</code> and replaces <code>orElse()</code> with <code>reduce()</code>: </p>\n\n<pre><code>String firstString = strings.\n   stream().\n   limit(1).\n   reduce(\"StringWhenListIsEmpty\", (first, second) -&gt; second);\n</code></pre>\n\n<p><code>limit()</code> allows only 1 element to reach <code>reduce</code>.  The <code>BinaryOperator</code> passed to <code>reduce</code> returns that 1 element or else <code>\"StringWhenListIsEmpty\"</code> if no elements reach the <code>reduce</code>.</p>\n\n<p>The beauty of this solution is that <code>Optional</code> isn't allocated and the <code>BinaryOperator</code> lambda isn't going to allocate anything.</p>\n"},{"comments":[{"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"score":4,"creation_date":1508445091,"post_id":46817699,"comment_id":80624509,"body_markdown":"I want `firstString` to be `null` if the first item in `strings` is `null`.","body":"I want <code>firstString</code> to be <code>null</code> if the first item in <code>strings</code> is <code>null</code>."},{"owner":{"account_id":2750971,"reputation":799,"user_id":2370372,"accept_rate":57,"display_name":"Mattos"},"score":5,"creation_date":1508503096,"post_id":46817699,"comment_id":80645778,"body_markdown":"unfortunately it uses ```Optional.of``` which is not null safe. You could ```map``` to ```Optional.ofNullable ``` and then use ```findFirst``` but you will end up with an Optional of Optional","body":"unfortunately it uses <code>Optional.of</code> which is not null safe. You could <code>map</code> to <code>Optional.ofNullable </code> and then use <code>findFirst</code> but you will end up with an Optional of Optional"}],"tags":[],"owner":{"account_id":2750971,"reputation":799,"user_id":2370372,"accept_rate":57,"display_name":"Mattos"},"comment_count":2,"down_vote_count":1,"up_vote_count":41,"is_accepted":false,"score":40,"last_activity_date":1533132696,"creation_date":1508354506,"answer_id":46817699,"question_id":32466799,"body_markdown":"You can use `java.util.Objects.nonNull` to filter the list before find\r\n\r\nsomething like \r\n\r\n\r\n    list.stream().filter(Objects::nonNull).findFirst();\r\n","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>You can use <code>java.util.Objects.nonNull</code> to filter the list before find</p>\n\n<p>something like </p>\n\n<pre><code>list.stream().filter(Objects::nonNull).findFirst();\n</code></pre>\n"}],"owner":{"account_id":3180479,"reputation":4036,"user_id":2687324,"accept_rate":55,"display_name":"neverendingqs"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147379,"favorite_count":0,"down_vote_count":0,"up_vote_count":123,"accepted_answer_id":32466863,"answer_count":5,"score":123,"last_activity_date":1671197937,"creation_date":1441744577,"question_id":32466799,"body_markdown":"Why does this throw a `java.lang.NullPointerException`?\r\n\r\n\tList&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n\tstrings.add(null);\r\n\tstrings.add(&quot;test&quot;);\r\n\r\n\tString firstString = strings.stream()\r\n\t\t\t.findFirst()      // Exception thrown here\r\n            .orElse(&quot;StringWhenListIsEmpty&quot;);\r\n\t\t\t//.orElse(null);  // Changing the `orElse()` to avoid ambiguity\r\n\r\nThe first item in `strings` is `null`, which is a perfectly acceptable value. Furthermore, `findFirst()` returns an [Optional](https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html), which makes even more sense for `findFirst()` to be able to handle `null`s.\r\n\r\nEDIT: updated the `orElse()` to be less ambiguous.","title":"Why does findFirst() throw a NullPointerException if the first element it finds is null?","body":"<p>Why does this throw a <code>java.lang.NullPointerException</code>?</p>\n<pre><code>List&lt;String&gt; strings = new ArrayList&lt;&gt;();\nstrings.add(null);\nstrings.add(&quot;test&quot;);\n\nString firstString = strings.stream()\n        .findFirst()      // Exception thrown here\n        .orElse(&quot;StringWhenListIsEmpty&quot;);\n        //.orElse(null);  // Changing the `orElse()` to avoid ambiguity\n</code></pre>\n<p>The first item in <code>strings</code> is <code>null</code>, which is a perfectly acceptable value. Furthermore, <code>findFirst()</code> returns an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional</a>, which makes even more sense for <code>findFirst()</code> to be able to handle <code>null</code>s.</p>\n<p>EDIT: updated the <code>orElse()</code> to be less ambiguous.</p>\n"},{"tags":["java","java-8","interface"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":4,"creation_date":1420692797,"post_id":27833168,"comment_id":44071918,"body_markdown":"Did you try reading up on static methods in the Java tutorial?","body":"Did you try reading up on static methods in the Java tutorial?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1420693337,"post_id":27833168,"comment_id":44072054,"body_markdown":"So you missed the part about not ever being able to override a static method?","body":"So you missed the part about not ever being able to override a static method?"},{"owner":{"account_id":5592843,"reputation":2982,"user_id":4431422,"display_name":"Vipin Menon"},"score":1,"creation_date":1420693362,"post_id":27833168,"comment_id":44072066,"body_markdown":"didnt understand the same on interfaces","body":"didnt understand the same on interfaces"},{"owner":{"account_id":2663268,"reputation":6692,"user_id":2302434,"display_name":"Shailesh Aswal"},"score":16,"creation_date":1420693721,"post_id":27833168,"comment_id":44072185,"body_markdown":"static method is a static member to the Interface, cant be overridden (as with the class), default method is the `default implementation` of a method which might be overridden.","body":"static method is a static member to the Interface, cant be overridden (as with the class), default method is the <code>default implementation</code> of a method which might be overridden."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1479457711,"post_id":27833168,"comment_id":68574986,"body_markdown":"Just wondering: why did you never accept an answer here?","body":"Just wondering: why did you never accept an answer here?"}],"answers":[{"tags":[],"owner":{"account_id":462160,"reputation":3689,"user_id":864313,"accept_rate":75,"display_name":"EyasSH"},"comment_count":0,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1420693570,"creation_date":1420693570,"answer_id":27833309,"question_id":27833168,"body_markdown":"A static method is a method that applies to the class &#39;namespace&#39;, so to speak. So a `static` method `foo` of interface `Interface` is accessed by `Interface.foo()`. Note that the function call does not apply to any particular *instance* of the interface.\r\n\r\nA default implementation `bar` on the other hand, is called by\r\n\r\n    Interface x = new ConcreteClass();\r\n    x.bar();\r\n\r\nA `static` interface method cannot know about the `this` variable, but a default implementation can.","title":"What is the difference between static and default methods in a Java interface?","body":"<p>A static method is a method that applies to the class 'namespace', so to speak. So a <code>static</code> method <code>foo</code> of interface <code>Interface</code> is accessed by <code>Interface.foo()</code>. Note that the function call does not apply to any particular <em>instance</em> of the interface.</p>\n\n<p>A default implementation <code>bar</code> on the other hand, is called by</p>\n\n<pre><code>Interface x = new ConcreteClass();\nx.bar();\n</code></pre>\n\n<p>A <code>static</code> interface method cannot know about the <code>this</code> variable, but a default implementation can.</p>\n"},{"comments":[{"owner":{"account_id":13746622,"reputation":3290,"user_id":9920079,"display_name":"Hackinet"},"score":0,"creation_date":1540612875,"post_id":27833596,"comment_id":92940007,"body_markdown":"I have a doubt. Is it possible to create a object of a interface?  Your code has this line: I1 t = new I1()","body":"I have a doubt. Is it possible to create a object of a interface?  Your code has this line: I1 t = new I1()"},{"owner":{"account_id":2663268,"reputation":6692,"user_id":2302434,"display_name":"Shailesh Aswal"},"score":0,"creation_date":1540795074,"post_id":27833596,"comment_id":92979231,"body_markdown":"@Hackinet kindly read the java comment over that statement. Please also read about Anonymous classes. Hope that helps you.","body":"@Hackinet kindly read the java comment over that statement. Please also read about Anonymous classes. Hope that helps you."}],"tags":[],"owner":{"account_id":2663268,"reputation":6692,"user_id":2302434,"display_name":"Shailesh Aswal"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1420701476,"creation_date":1420695491,"answer_id":27833596,"question_id":27833168,"body_markdown":"&gt; **1. explain the difference of the two**\r\n\r\nStatic interface methods are like static class methods(here they belong to Interface only). Where as the default interface methods provide `default implementation` of interface methods (which implementing classes may `override`)&lt;br/&gt;\r\nBut remember in case a class is `implementing more than one interface with same default` method signature then the implementing class `needs to override the default method`\r\n\r\nYou can find a simple example below (can DIY for different cases)\r\n\r\n\r\n    public class Test {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Accessing the static member\r\n    \t\tI1.hello();\r\n    \r\n    \t\t// Anonymous class Not overriding the default method\r\n    \t\tI1 t = new I1() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void test() {\r\n    \t\t\t\tSystem.out.println(&quot;Anonymous test&quot;);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\tt.test();\r\n    \t\tt.hello(&quot;uvw&quot;);\r\n    \r\n    \t\t// Referring to class instance with overridden default method\r\n    \t\tI1 t1 = new Test2();\r\n    \t\tt1.test();\r\n    \t\tt1.hello(&quot;xyz&quot;);\r\n    \r\n    \t}\r\n    }\r\n    \r\n    interface I1 {\r\n    \r\n    \tvoid test();\r\n        //static method\r\n    \tstatic void hello() {\r\n    \t\tSystem.out.println(&quot;hello from Interface I1&quot;);\r\n    \t}\r\n    \r\n    \t// default need not to be implemented by implementing class\r\n    \tdefault void hello(String name) {\r\n    \t\tSystem.out.println(&quot;Hello &quot; + name);\r\n    \t}\r\n    }\r\n    \r\n    class Test2 implements I1 {\r\n    \t@Override\r\n    \tpublic void test() {\r\n    \t\tSystem.out.println(&quot;testing 1234...&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void hello(String name) {\r\n    \t\tSystem.out.println(&quot;bonjour&quot; + name);\r\n    \t}\r\n    }\r\n\r\n\r\n&gt; **2. when we would use this would be nice.**\r\n\r\nThat depends on your problem statement. I would say Default methods are useful, if you need same implementation for a method in your specification in all the classes in that contract, Or it may be used like `Adapter` classes.\r\n\r\nhere is a good read: https://softwareengineering.stackexchange.com/questions/233053/why-were-default-and-static-methods-added-to-interfaces-in-java-8-when-we-alread\r\n\r\nalso below oracle doc explains default &amp; static methods for evolving existing interfaces:\r\n\r\n&gt; Users who have classes that implement interfaces enhanced with new\r\n&gt; default or static methods do not have to modify or recompile them to\r\n&gt; accommodate the additional methods.\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/IandI/nogrow.html\r\n","title":"What is the difference between static and default methods in a Java interface?","body":"<blockquote>\n  <p><strong>1. explain the difference of the two</strong></p>\n</blockquote>\n\n<p>Static interface methods are like static class methods(here they belong to Interface only). Where as the default interface methods provide <code>default implementation</code> of interface methods (which implementing classes may <code>override</code>)<br/>\nBut remember in case a class is <code>implementing more than one interface with same default</code> method signature then the implementing class <code>needs to override the default method</code></p>\n\n<p>You can find a simple example below (can DIY for different cases)</p>\n\n<pre><code>public class Test {\n    public static void main(String[] args) {\n        // Accessing the static member\n        I1.hello();\n\n        // Anonymous class Not overriding the default method\n        I1 t = new I1() {\n            @Override\n            public void test() {\n                System.out.println(\"Anonymous test\");\n            }\n        };\n        t.test();\n        t.hello(\"uvw\");\n\n        // Referring to class instance with overridden default method\n        I1 t1 = new Test2();\n        t1.test();\n        t1.hello(\"xyz\");\n\n    }\n}\n\ninterface I1 {\n\n    void test();\n    //static method\n    static void hello() {\n        System.out.println(\"hello from Interface I1\");\n    }\n\n    // default need not to be implemented by implementing class\n    default void hello(String name) {\n        System.out.println(\"Hello \" + name);\n    }\n}\n\nclass Test2 implements I1 {\n    @Override\n    public void test() {\n        System.out.println(\"testing 1234...\");\n    }\n\n    @Override\n    public void hello(String name) {\n        System.out.println(\"bonjour\" + name);\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>2. when we would use this would be nice.</strong></p>\n</blockquote>\n\n<p>That depends on your problem statement. I would say Default methods are useful, if you need same implementation for a method in your specification in all the classes in that contract, Or it may be used like <code>Adapter</code> classes.</p>\n\n<p>here is a good read: <a href=\"https://softwareengineering.stackexchange.com/questions/233053/why-were-default-and-static-methods-added-to-interfaces-in-java-8-when-we-alread\">https://softwareengineering.stackexchange.com/questions/233053/why-were-default-and-static-methods-added-to-interfaces-in-java-8-when-we-alread</a></p>\n\n<p>also below oracle doc explains default &amp; static methods for evolving existing interfaces:</p>\n\n<blockquote>\n  <p>Users who have classes that implement interfaces enhanced with new\n  default or static methods do not have to modify or recompile them to\n  accommodate the additional methods.</p>\n</blockquote>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/nogrow.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/tutorial/java/IandI/nogrow.html</a></p>\n"},{"tags":[],"owner":{"account_id":2688695,"reputation":931,"user_id":2322474,"accept_rate":50,"display_name":"KennyC"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1421216804,"creation_date":1420695964,"answer_id":27833679,"question_id":27833168,"body_markdown":"According to Oracle&#39;s Javadocs: http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\r\n\r\n\r\n\r\n&gt; Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.\r\n&gt; \r\n&gt; A static method is a method that is associated with the class in which it is defined rather than with any object. Every instance of the class shares its static methods.\r\n\r\nNormally, static method in interface is used as Helper methods while default method are used as a default implementation for classes that implements that interface.\r\n\r\nExample:\r\n\r\n\r\n    interface IDemo {\r\n    \r\n        //this method can be called directly from anywhere this interface is visible\r\n        static int convertStrToInt(String numStr) {\r\n           return Integer.parseInt(numStr);\r\n        }\r\n    \r\n    \r\n        //getNum will be implemented in a class\r\n        int getNum();       \r\n\r\n        default String numAsStr() {\r\n           //this.getNum will call the class&#39;s implementation\r\n           return Integer.toString(this.getNum());\r\n        }   \r\n    \t\r\n    }","title":"What is the difference between static and default methods in a Java interface?","body":"<p>According to Oracle's Javadocs: <a href=\"http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html</a></p>\n\n<blockquote>\n  <p>Default methods enable you to add new functionality to the interfaces of your libraries and ensure binary compatibility with code written for older versions of those interfaces.</p>\n  \n  <p>A static method is a method that is associated with the class in which it is defined rather than with any object. Every instance of the class shares its static methods.</p>\n</blockquote>\n\n<p>Normally, static method in interface is used as Helper methods while default method are used as a default implementation for classes that implements that interface.</p>\n\n<p>Example:</p>\n\n<pre><code>interface IDemo {\n\n    //this method can be called directly from anywhere this interface is visible\n    static int convertStrToInt(String numStr) {\n       return Integer.parseInt(numStr);\n    }\n\n\n    //getNum will be implemented in a class\n    int getNum();       \n\n    default String numAsStr() {\n       //this.getNum will call the class's implementation\n       return Integer.toString(this.getNum());\n    }   \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":204470,"reputation":8571,"user_id":452708,"accept_rate":0,"display_name":"Abhijeet"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1450149322,"creation_date":1450149322,"answer_id":34280526,"question_id":27833168,"body_markdown":"[This link][1] has some useful insights, have listed few of them here.\r\n\r\n**default** &amp; **static** methods have bridged down the differences between **interfaces** and **abstract** classes.\r\n\r\nInterface **default** methods:\r\n\r\n - It helps in avoiding utility classes, such as all the Collections class method can be provided in the interfaces itself.\r\n - It helps in extending interfaces without having the fear of breaking implementation classes.\r\n\r\nInterface **static** methods:\r\n\r\n- They are part of interface, we can’t use it for implementation class objects.\r\n- It helps in providing security by not allowing implementation classes to override them.\r\n\r\nLike to quote another useful [reference][2].\r\n\r\n\r\n  [1]: http://www.journaldev.com/2752/java-8-interface-changes-static-methods-default-methods-functional-interfaces\r\n  [2]: http://www.javacodegeeks.com/2014/04/abstract-class-versus-interface-in-the-jdk-8-era.html","title":"What is the difference between static and default methods in a Java interface?","body":"<p><a href=\"http://www.journaldev.com/2752/java-8-interface-changes-static-methods-default-methods-functional-interfaces\" rel=\"noreferrer\">This link</a> has some useful insights, have listed few of them here.</p>\n\n<p><strong>default</strong> &amp; <strong>static</strong> methods have bridged down the differences between <strong>interfaces</strong> and <strong>abstract</strong> classes.</p>\n\n<p>Interface <strong>default</strong> methods:</p>\n\n<ul>\n<li>It helps in avoiding utility classes, such as all the Collections class method can be provided in the interfaces itself.</li>\n<li>It helps in extending interfaces without having the fear of breaking implementation classes.</li>\n</ul>\n\n<p>Interface <strong>static</strong> methods:</p>\n\n<ul>\n<li>They are part of interface, we can’t use it for implementation class objects.</li>\n<li>It helps in providing security by not allowing implementation classes to override them.</li>\n</ul>\n\n<p>Like to quote another useful <a href=\"http://www.javacodegeeks.com/2014/04/abstract-class-versus-interface-in-the-jdk-8-era.html\" rel=\"noreferrer\">reference</a>.</p>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71921,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450695359,"creation_date":1450695359,"answer_id":34394018,"question_id":27833168,"body_markdown":"we cannot execute `Interfacesample2.menthod3();` because it is not static method. In order to execute `method3()` we need an instance of `Interfacesample2` interface.  \r\n\r\nPlease find the following practical example:\r\n\r\n\r\n\r\n    public class Java8Tester {\r\n       public static void main(String args[]){\r\n    \t  // Interfacesample2.menthod3(); Cannot make a static reference to the non-static method menthod3 from the type Interfacesample2\r\n    \t   \r\n    \t  new Interfacesample2(){ }.menthod3();// so in order to call default method we need an instance of interface\r\n    \t   \r\n    \t   Interfacesample2.method(); // it\r\n       }\r\n    }\r\n    \r\n    interface Interfacesample2 {\r\n        public static void method() {\r\n            System.out.println(&quot;hello world&quot;);\r\n        }\r\n    \r\n        public default void menthod3() {\r\n            System.out.println(&quot;default print&quot;);\r\n        }\r\n    }","title":"What is the difference between static and default methods in a Java interface?","body":"<p>we cannot execute <code>Interfacesample2.menthod3();</code> because it is not static method. In order to execute <code>method3()</code> we need an instance of <code>Interfacesample2</code> interface.  </p>\n\n<p>Please find the following practical example:</p>\n\n<pre><code>public class Java8Tester {\n   public static void main(String args[]){\n      // Interfacesample2.menthod3(); Cannot make a static reference to the non-static method menthod3 from the type Interfacesample2\n\n      new Interfacesample2(){ }.menthod3();// so in order to call default method we need an instance of interface\n\n       Interfacesample2.method(); // it\n   }\n}\n\ninterface Interfacesample2 {\n    public static void method() {\n        System.out.println(\"hello world\");\n    }\n\n    public default void menthod3() {\n        System.out.println(\"default print\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3716230,"reputation":17016,"user_id":3092377,"accept_rate":73,"display_name":"Shashank Vivek"},"score":4,"creation_date":1517338658,"post_id":38345834,"comment_id":84052342,"body_markdown":"but why &#39;static&#39; ?  what purpose does it serve in Java 8?","body":"but why &#39;static&#39; ?  what purpose does it serve in Java 8?"},{"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"score":6,"creation_date":1517386182,"post_id":38345834,"comment_id":84069600,"body_markdown":"Purpose of static keyword doesn&#39;t changed-- to define class level members: fields, methods etc. In Java 8 this behavior was expanded to Interfaces, so they become more similar to classes and now can replace class in most scenarios.","body":"Purpose of static keyword doesn&#39;t changed-- to define class level members: fields, methods etc. In Java 8 this behavior was expanded to Interfaces, so they become more similar to classes and now can replace class in most scenarios."},{"owner":{"account_id":10961577,"reputation":964,"user_id":8054721,"display_name":"amarnath harish"},"score":0,"creation_date":1528395862,"post_id":38345834,"comment_id":88503271,"body_markdown":"yea but we can still hide the interface static method instead of overriding,....i just think **both**  fulfills the same `purpose`(*use a common implementation*) and resolves ambiguity  by   `implementing the logic again in subclass  `(*overriding,hiding*). the only sensible reason would be due to the reason that[ static interface methods are not inherited](https://stackoverflow.com/questions/25169175/why-are-class-static-methods-inherited-but-not-interface-static-methods) and hence we cant call them using subclass instance.","body":"yea but we can still hide the interface static method instead of overriding,....i just think <b>both</b>  fulfills the same <code>purpose</code>(<i>use a common implementation</i>) and resolves ambiguity  by   <code>implementing the logic again in subclass  </code>(<i>overriding,hiding</i>). the only sensible reason would be due to the reason that[ static interface methods are not inherited](<a href=\"https://stackoverflow.com/questions/25169175/why-are-class-static-methods-inherited-but-not-interface-static-methods\" title=\"why are class static methods inherited but not interface static methods\">stackoverflow.com/questions/25169175/&hellip;</a>) and hence we cant call them using subclass instance."}],"tags":[],"owner":{"account_id":4440595,"reputation":3869,"user_id":3615207,"accept_rate":73,"display_name":"stinger"},"comment_count":3,"down_vote_count":0,"up_vote_count":147,"is_accepted":false,"score":147,"last_activity_date":1468396857,"creation_date":1468396857,"answer_id":38345834,"question_id":27833168,"body_markdown":"Differences between static and default methods in Java 8:\r\n\r\n1) Default methods **can be** overriden in implementing class, while static **cannot**.\r\n\r\n2) Static method belongs **only** to Interface class, so you can only invoke static method on Interface class, not on class implementing this Interface, see:\r\n\r\n    public interface MyInterface {\r\n        default void defaultMethod(){\r\n            System.out.println(&quot;Default&quot;);\r\n        }\r\n    \r\n        static void staticMethod(){\r\n            System.out.println(&quot;Static&quot;);\r\n        }    \r\n    }\r\n\r\n    public class MyClass implements MyInterface {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            MyClass.staticMethod(); //not valid - static method may be invoked on containing interface class only\r\n            MyInterface.staticMethod(); //valid\r\n        }\r\n    }\r\n\r\n\r\n3) Both class and interface **can have** static methods with same names, and neither overrides other!\r\n\r\n    public class MyClass implements MyInterface {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            //both are valid and have different behaviour\r\n            MyClass.staticMethod();\r\n            MyInterface.staticMethod();\r\n        }\r\n    \r\n        static void staticMethod(){\r\n            System.out.println(&quot;another static..&quot;);\r\n        }\r\n    }","title":"What is the difference between static and default methods in a Java interface?","body":"<p>Differences between static and default methods in Java 8:</p>\n\n<p>1) Default methods <strong>can be</strong> overriden in implementing class, while static <strong>cannot</strong>.</p>\n\n<p>2) Static method belongs <strong>only</strong> to Interface class, so you can only invoke static method on Interface class, not on class implementing this Interface, see:</p>\n\n<pre><code>public interface MyInterface {\n    default void defaultMethod(){\n        System.out.println(\"Default\");\n    }\n\n    static void staticMethod(){\n        System.out.println(\"Static\");\n    }    \n}\n\npublic class MyClass implements MyInterface {\n\n    public static void main(String[] args) {\n\n        MyClass.staticMethod(); //not valid - static method may be invoked on containing interface class only\n        MyInterface.staticMethod(); //valid\n    }\n}\n</code></pre>\n\n<p>3) Both class and interface <strong>can have</strong> static methods with same names, and neither overrides other!</p>\n\n<pre><code>public class MyClass implements MyInterface {\n\n    public static void main(String[] args) {\n\n        //both are valid and have different behaviour\n        MyClass.staticMethod();\n        MyInterface.staticMethod();\n    }\n\n    static void staticMethod(){\n        System.out.println(\"another static..\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3141252,"reputation":491,"user_id":2656677,"display_name":"Vijay"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1544420491,"creation_date":1528221843,"answer_id":50706348,"question_id":27833168,"body_markdown":"**Here is my view:**\r\n\r\n**static method** in interface:\r\n\r\n* You can call it directly (InterfacetA.staticMethod())\r\n\r\n* Sub-class will not be able to override.\r\n\r\n* Sub-class may have method with same name as staticMethod\r\n\r\n**default method** in interface:\r\n\r\n* You can not call it directly.\r\n\r\n* Sub-class will be able to override it\r\n\r\n**Advantage:**\r\n\r\n* **static Method:** You don&#39;t need to create separate class for utility method.\r\n\r\n* **default Method:** Provide the common functionality in default method.","title":"What is the difference between static and default methods in a Java interface?","body":"<p><strong>Here is my view:</strong></p>\n\n<p><strong>static method</strong> in interface:</p>\n\n<ul>\n<li><p>You can call it directly (InterfacetA.staticMethod())</p></li>\n<li><p>Sub-class will not be able to override.</p></li>\n<li><p>Sub-class may have method with same name as staticMethod</p></li>\n</ul>\n\n<p><strong>default method</strong> in interface:</p>\n\n<ul>\n<li><p>You can not call it directly.</p></li>\n<li><p>Sub-class will be able to override it</p></li>\n</ul>\n\n<p><strong>Advantage:</strong></p>\n\n<ul>\n<li><p><strong>static Method:</strong> You don't need to create separate class for utility method.</p></li>\n<li><p><strong>default Method:</strong> Provide the common functionality in default method.</p></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":10961577,"reputation":964,"user_id":8054721,"display_name":"amarnath harish"},"score":0,"creation_date":1528396621,"post_id":50735759,"comment_id":88503679,"body_markdown":"this answer seems like it was going somewhere good,,then suddenly boom ! no meaningful explanation at the end. *but not changed interface implementation* what does this mean?","body":"this answer seems like it was going somewhere good,,then suddenly boom ! no meaningful explanation at the end. <i>but not changed interface implementation</i> what does this mean?"}],"tags":[],"owner":{"account_id":10609822,"reputation":69,"user_id":7814076,"display_name":"Satish Keshri"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1528386226,"creation_date":1528358009,"answer_id":50735759,"question_id":27833168,"body_markdown":"**Interface default methods:**\r\n    \r\nIt helps in avoiding utility classes, such as all the Collections class method can be provided in the interfaces itself.\r\n\r\nIt helps in extending interfaces without having the fear of breaking implementation classes.\r\n\r\n**Interface static methods:**\r\n    \r\nThey are part of interface, we can’t use it for implementation class objects.\r\n\r\nIt helps in providing security by not allowing implementation classes to override them.\r\n    \r\nNow how static method providing security. Let&#39;s see an example.\r\n    \r\n    interface MyInterface {\r\n    \t/*\r\n    \t * This is a default method so we need not to implement this method in the implementation classes\r\n    \t */\r\n    \tdefault void newMethod() {\r\n    \t\tSystem.out.println(&quot;Newly added default method in Interface&quot;);\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * This is a static method. Static method in interface is similar to default method except that we cannot override them in the implementation classes. Similar to default methods, we need to implement these methods in implementation classes so we can safely add them to the existing interfaces.\r\n    \t */\r\n    \tstatic void anotherNewMethod() {\r\n    \t\tSystem.out.println(&quot;Newly added static method in Interface&quot;);\r\n    \t}\r\n    \r\n    \t/*\r\n    \t * Already existing public and abstract method We must need to implement this method in implementation classes.\r\n    \t */\r\n    \tvoid existingMethod(String str);\r\n    }\r\n    \r\n    public class Example implements MyInterface {\r\n    \t// implementing abstract method\r\n    \tpublic void existingMethod(String str) {\r\n    \t\tSystem.out.println(&quot;String is: &quot; + str);\r\n    \t}\r\n    \r\n    \tpublic void newMethod() {\r\n    \t\tSystem.out.println(&quot;Newly added default method in Class&quot;);\r\n    \t}\r\n    \r\n    \tstatic void anotherNewMethod() {\r\n    \t\tSystem.out.println(&quot;Newly added static method in Class&quot;);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tExample obj = new Example();\r\n    \r\n    \t\t// calling the default method of class\r\n    \t\tobj.newMethod();\r\n    \t\t// calling the static method of class\r\n    \r\n    \t\tobj.anotherNewMethod();\r\n    \t\t\r\n    \t\t// calling the static method of interface\r\n    \t\tMyInterface.anotherNewMethod();\r\n    \t\t\r\n    \t\t// calling the abstract method of interface\r\n    \t\tobj.existingMethod(&quot;Java 8 is easy to learn&quot;);\r\n    \r\n    \t}\r\n    }\r\n    \r\n    \r\nHere `obj.newMethod();` printing class implementation logic, means we can change the logic of that method inside implementation class.\r\n\r\nBut `obj.anotherNewMethod();` printing class implementation logic ,but not changed interface implementation. So if any encryption-decryption logic written inside that method you can&#39;t change.","title":"What is the difference between static and default methods in a Java interface?","body":"<p><strong>Interface default methods:</strong></p>\n\n<p>It helps in avoiding utility classes, such as all the Collections class method can be provided in the interfaces itself.</p>\n\n<p>It helps in extending interfaces without having the fear of breaking implementation classes.</p>\n\n<p><strong>Interface static methods:</strong></p>\n\n<p>They are part of interface, we can’t use it for implementation class objects.</p>\n\n<p>It helps in providing security by not allowing implementation classes to override them.</p>\n\n<p>Now how static method providing security. Let's see an example.</p>\n\n<pre><code>interface MyInterface {\n    /*\n     * This is a default method so we need not to implement this method in the implementation classes\n     */\n    default void newMethod() {\n        System.out.println(\"Newly added default method in Interface\");\n    }\n\n    /*\n     * This is a static method. Static method in interface is similar to default method except that we cannot override them in the implementation classes. Similar to default methods, we need to implement these methods in implementation classes so we can safely add them to the existing interfaces.\n     */\n    static void anotherNewMethod() {\n        System.out.println(\"Newly added static method in Interface\");\n    }\n\n    /*\n     * Already existing public and abstract method We must need to implement this method in implementation classes.\n     */\n    void existingMethod(String str);\n}\n\npublic class Example implements MyInterface {\n    // implementing abstract method\n    public void existingMethod(String str) {\n        System.out.println(\"String is: \" + str);\n    }\n\n    public void newMethod() {\n        System.out.println(\"Newly added default method in Class\");\n    }\n\n    static void anotherNewMethod() {\n        System.out.println(\"Newly added static method in Class\");\n    }\n\n    public static void main(String[] args) {\n        Example obj = new Example();\n\n        // calling the default method of class\n        obj.newMethod();\n        // calling the static method of class\n\n        obj.anotherNewMethod();\n\n        // calling the static method of interface\n        MyInterface.anotherNewMethod();\n\n        // calling the abstract method of interface\n        obj.existingMethod(\"Java 8 is easy to learn\");\n\n    }\n}\n</code></pre>\n\n<p>Here <code>obj.newMethod();</code> printing class implementation logic, means we can change the logic of that method inside implementation class.</p>\n\n<p>But <code>obj.anotherNewMethod();</code> printing class implementation logic ,but not changed interface implementation. So if any encryption-decryption logic written inside that method you can't change.</p>\n"},{"tags":[],"owner":{"account_id":2736292,"reputation":1088,"user_id":2358905,"display_name":"Rakesh Prajapati"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568886892,"creation_date":1566428280,"answer_id":57600113,"question_id":27833168,"body_markdown":"Starting Java 8 interface can also have static method. Like static method of a class, static method of an interface can be called using Interface name.\r\n\r\nExample\r\n\r\n    public interface Calculator {\r\n        int add(int a, int b);\r\n        int subtract(int a, int b);\r\n        \r\n        default int multiply(int a, int b) {\r\n             throw new RuntimeException(&quot;Operation not supported. Upgrade to UltimateCalculator&quot;);\r\n        }\r\n        \r\n        static void display(String value) {\r\n            System.out.println(value);\r\n        }\r\n    }\r\n\r\n\r\nDifference between static and default method of interface is default method supports inheritance but static method does not. Default method can be overridden in inheriting interface.\r\n\r\nHere is good read about interface default method and static method. [Interface Default Method in Java 8][1]\r\n\r\n\r\n  [1]: https://readtorakesh.com/interface-default-method-in-java-8/","title":"What is the difference between static and default methods in a Java interface?","body":"<p>Starting Java 8 interface can also have static method. Like static method of a class, static method of an interface can be called using Interface name.</p>\n\n<p>Example</p>\n\n<pre><code>public interface Calculator {\n    int add(int a, int b);\n    int subtract(int a, int b);\n\n    default int multiply(int a, int b) {\n         throw new RuntimeException(\"Operation not supported. Upgrade to UltimateCalculator\");\n    }\n\n    static void display(String value) {\n        System.out.println(value);\n    }\n}\n</code></pre>\n\n<p>Difference between static and default method of interface is default method supports inheritance but static method does not. Default method can be overridden in inheriting interface.</p>\n\n<p>Here is good read about interface default method and static method. <a href=\"https://readtorakesh.com/interface-default-method-in-java-8/\" rel=\"nofollow noreferrer\">Interface Default Method in Java 8</a></p>\n"},{"tags":[],"owner":{"account_id":2315856,"reputation":1823,"user_id":2032943,"accept_rate":20,"display_name":"Jay Rajput"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571973493,"creation_date":1571973493,"answer_id":58551743,"question_id":27833168,"body_markdown":"All good answers here. I would like to add another practical usage of the static function in the interface. The tip is coming from the book - Effective Java, 3rd Edition by Joshua Bloch in Chapter2: Creating and Destroying Object.\r\n\r\n    Static functions can be used for static factory methods. \r\n\r\nStatic factory method are methods which return an object. They work like constructor. In specific cases, static factory method provides more readable code than using constructor.\r\n\r\nQuoting from the book - Effective Java, 3rd Edition by Joshua Bloch\r\n\r\n&gt; Prior to Java 8, interfaces couldn’t have static methods. By\r\n&gt; convention, static factory methods for an interface named Type were\r\n&gt; put in a noninstantiable companion class (Item 4) named Types. \r\n \r\nAuthor gives an example of Collections where such static factory method is implemented. Checking on the code, Josh Bloch can be seen as first author of Collections class. Although Collections is a class and not interface. But the concept still applies.\r\n\r\n&gt; For example, the Java Collections Framework has forty-five utility\r\n&gt; implementations of its interfaces, providing unmodifiable collections,\r\n&gt; synchronized collections, and the like. Nearly all of these\r\n&gt; implementations are exported via static factory methods in one\r\n&gt; noninstantiable class (java.util.Collections). The classes of the\r\n&gt; returned objects are all nonpublic.\r\n\r\nFurther he explains that API is not only smaller, it helps with the code readability and API ease..\r\n\r\n&gt; It is not just the bulk of the API that is reduced but the conceptual\r\n&gt; weight: the number and difficulty of the concepts that programmers\r\n&gt; must master in order to use the API. The programmer knows that the\r\n&gt; returned object has precisely the API specified by its interface, so\r\n&gt; there is no need to read additional class documentation for the\r\n&gt; implementation class.\r\n\r\nHere is one of the static method from java.util.Collections class:\r\n\r\n    public static &lt;T&gt; Collection&lt;T&gt; unmodifiableCollection(Collection&lt;? extends T&gt; c) {\r\n        return new UnmodifiableCollection&lt;&gt;(c);\r\n    }","title":"What is the difference between static and default methods in a Java interface?","body":"<p>All good answers here. I would like to add another practical usage of the static function in the interface. The tip is coming from the book - Effective Java, 3rd Edition by Joshua Bloch in Chapter2: Creating and Destroying Object.</p>\n\n<pre><code>Static functions can be used for static factory methods. \n</code></pre>\n\n<p>Static factory method are methods which return an object. They work like constructor. In specific cases, static factory method provides more readable code than using constructor.</p>\n\n<p>Quoting from the book - Effective Java, 3rd Edition by Joshua Bloch</p>\n\n<blockquote>\n  <p>Prior to Java 8, interfaces couldn’t have static methods. By\n  convention, static factory methods for an interface named Type were\n  put in a noninstantiable companion class (Item 4) named Types. </p>\n</blockquote>\n\n<p>Author gives an example of Collections where such static factory method is implemented. Checking on the code, Josh Bloch can be seen as first author of Collections class. Although Collections is a class and not interface. But the concept still applies.</p>\n\n<blockquote>\n  <p>For example, the Java Collections Framework has forty-five utility\n  implementations of its interfaces, providing unmodifiable collections,\n  synchronized collections, and the like. Nearly all of these\n  implementations are exported via static factory methods in one\n  noninstantiable class (java.util.Collections). The classes of the\n  returned objects are all nonpublic.</p>\n</blockquote>\n\n<p>Further he explains that API is not only smaller, it helps with the code readability and API ease..</p>\n\n<blockquote>\n  <p>It is not just the bulk of the API that is reduced but the conceptual\n  weight: the number and difficulty of the concepts that programmers\n  must master in order to use the API. The programmer knows that the\n  returned object has precisely the API specified by its interface, so\n  there is no need to read additional class documentation for the\n  implementation class.</p>\n</blockquote>\n\n<p>Here is one of the static method from java.util.Collections class:</p>\n\n<pre><code>public static &lt;T&gt; Collection&lt;T&gt; unmodifiableCollection(Collection&lt;? extends T&gt; c) {\n    return new UnmodifiableCollection&lt;&gt;(c);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1580959,"reputation":149,"user_id":1466360,"display_name":"CodeAdocate"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1595606689,"creation_date":1595606689,"answer_id":63077301,"question_id":27833168,"body_markdown":"As per **Java14** JLS doc:\r\n\r\n**Default Method:**\r\n\r\n - It is an instance method declared in an interface with the default\r\n   modifier \r\n\r\n - It can be accessed only by the instance of the implementing class\r\n   only\r\n   \r\n - Its body is always represented by a block, which provides a default\r\n   implementation or behaviour for any implementing class    without\r\n   overriding the method\r\n\r\n - It can never be static or private\r\n\r\n**Static Method:**\r\n    \r\n\r\n - It can be invoked by interface without reference to a particular\r\n   object, just like class static methods\r\n\r\n    \r\n\r\n - Static method can be private\r\n\r\n    \r\n\r\n - The implementing class can not access static method\r\n\r\nLets understand it with the help of below example code:\r\n\r\n```\r\n            public interface MyInterface {\r\n        \r\n            private void privateMethod() {\r\n                System.out.println(&quot;Hi, this is privateMethod&quot;);\r\n            }\r\n        \r\n            private static void staticPrivateMethod() {\r\n                System.out.println(&quot;Hi, this is staticPrivateMethod&quot;);\r\n            }\r\n        \r\n            static void staticMethod() {\r\n                //privateMethod();    // Non-static method cannot be referenced from a static contex\r\n                System.out.println(&quot;Hi, this is staticMethod&quot;);\r\n                staticPrivateMethod();\r\n            }\r\n        \r\n            default void defaultMethod() {\r\n                System.out.println(&quot;Hi, this is defaultMethod&quot;);\r\n            }\r\n        \r\n        }\r\n    \r\n    public class MyInterfaceImpl implements MyInterface{\r\n        public static void main(String[] args) {\r\n    \r\n            MyInterface.staticMethod();\r\n            // myInterface.staticMethod(); // Not allowed\r\n    \r\n            MyInterface myInterface = new MyInterfaceImpl();\r\n            myInterface.defaultMethod();\r\n            // MyInterface.defaultMethod(); // Not allowed\r\n    \r\n        }\r\n    }\r\n\r\n```\r\n","title":"What is the difference between static and default methods in a Java interface?","body":"<p>As per <strong>Java14</strong> JLS doc:</p>\n<p><strong>Default Method:</strong></p>\n<ul>\n<li><p>It is an instance method declared in an interface with the default\nmodifier</p>\n</li>\n<li><p>It can be accessed only by the instance of the implementing class\nonly</p>\n</li>\n<li><p>Its body is always represented by a block, which provides a default\nimplementation or behaviour for any implementing class    without\noverriding the method</p>\n</li>\n<li><p>It can never be static or private</p>\n</li>\n</ul>\n<p><strong>Static Method:</strong></p>\n<ul>\n<li><p>It can be invoked by interface without reference to a particular\nobject, just like class static methods</p>\n</li>\n<li><p>Static method can be private</p>\n</li>\n<li><p>The implementing class can not access static method</p>\n</li>\n</ul>\n<p>Lets understand it with the help of below example code:</p>\n<pre><code>            public interface MyInterface {\n        \n            private void privateMethod() {\n                System.out.println(&quot;Hi, this is privateMethod&quot;);\n            }\n        \n            private static void staticPrivateMethod() {\n                System.out.println(&quot;Hi, this is staticPrivateMethod&quot;);\n            }\n        \n            static void staticMethod() {\n                //privateMethod();    // Non-static method cannot be referenced from a static contex\n                System.out.println(&quot;Hi, this is staticMethod&quot;);\n                staticPrivateMethod();\n            }\n        \n            default void defaultMethod() {\n                System.out.println(&quot;Hi, this is defaultMethod&quot;);\n            }\n        \n        }\n    \n    public class MyInterfaceImpl implements MyInterface{\n        public static void main(String[] args) {\n    \n            MyInterface.staticMethod();\n            // myInterface.staticMethod(); // Not allowed\n    \n            MyInterface myInterface = new MyInterfaceImpl();\n            myInterface.defaultMethod();\n            // MyInterface.defaultMethod(); // Not allowed\n    \n        }\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9122057,"reputation":1,"user_id":6787170,"display_name":"jcb913"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671197786,"creation_date":1671197786,"answer_id":74825203,"question_id":27833168,"body_markdown":"**Static Interface Method:** \r\n\r\n 1. It is a static method which belongs to the interface only. We can\r\n    write implementation of this method in interface itself.\r\n 2. Static method can invoke only on  interface class not on class.\r\n 3. Interface and implementing class , both can have static method with the same name without overriding each other.\r\n 4. It can be used as a utility method\r\n\r\n**Default Method:**\r\n\r\n 1. It is a method with default keyword and class can override this method.\r\n 2. It can be invoked on interface as well as class.\r\n 3. We can override the default method in implementing class.\r\n 4. It can be used to provide common functionality in all implementing classes.\r\n\r\nThere is a link with detailed explanation. For detailed example: [Default method vs static method in an interface in Java?][1]\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/difference-between-default-and-static-interface-method-in-java-8#:~:text=Default%20methods%20enable%20you%20to,rather%20than%20with%20any%20object.","title":"What is the difference between static and default methods in a Java interface?","body":"<p><strong>Static Interface Method:</strong></p>\n<ol>\n<li>It is a static method which belongs to the interface only. We can\nwrite implementation of this method in interface itself.</li>\n<li>Static method can invoke only on  interface class not on class.</li>\n<li>Interface and implementing class , both can have static method with the same name without overriding each other.</li>\n<li>It can be used as a utility method</li>\n</ol>\n<p><strong>Default Method:</strong></p>\n<ol>\n<li>It is a method with default keyword and class can override this method.</li>\n<li>It can be invoked on interface as well as class.</li>\n<li>We can override the default method in implementing class.</li>\n<li>It can be used to provide common functionality in all implementing classes.</li>\n</ol>\n<p>There is a link with detailed explanation. For detailed example: <a href=\"https://www.tutorialspoint.com/difference-between-default-and-static-interface-method-in-java-8#:%7E:text=Default%20methods%20enable%20you%20to,rather%20than%20with%20any%20object.\" rel=\"nofollow noreferrer\">Default method vs static method in an interface in Java?</a></p>\n"}],"owner":{"account_id":5592843,"reputation":2982,"user_id":4431422,"display_name":"Vipin Menon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82790,"favorite_count":0,"down_vote_count":7,"up_vote_count":143,"answer_count":12,"score":136,"last_activity_date":1671197786,"creation_date":1420692663,"question_id":27833168,"body_markdown":"I was learning through interfaces when I noticed that you can now define static and default methods in an interface. \r\n\r\n    public interface interfacesample2 {\r\n\t\tpublic static void method() {\r\n\t    \tSystem.out.println(&quot;hello world&quot;);\r\n    \t}\r\n\r\n    \tpublic default void menthod3() {\r\n\t    \tSystem.out.println(&quot;default print&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\nKindly explain the difference of the two and also if there&#39;s an example of when we would use this would be nice. A little confused on Interfaces.","title":"What is the difference between static and default methods in a Java interface?","body":"<p>I was learning through interfaces when I noticed that you can now define static and default methods in an interface. </p>\n\n<pre><code>public interface interfacesample2 {\n    public static void method() {\n        System.out.println(\"hello world\");\n    }\n\n    public default void menthod3() {\n        System.out.println(\"default print\");\n    }\n}\n</code></pre>\n\n<p>Kindly explain the difference of the two and also if there's an example of when we would use this would be nice. A little confused on Interfaces.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671197338,"post_id":74825089,"comment_id":132052939,"body_markdown":"This has nothing to do with generics and all to do with the fact that java is pass-by-value, not pass-by reference.","body":"This has nothing to do with generics and all to do with the fact that java is pass-by-value, not pass-by reference."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671197394,"post_id":74825089,"comment_id":132052956,"body_markdown":"In other words, the moment you do `obj1 = obj2` you&#39;re only changing what the variable `obj1` points to, not what it referred to when the `swap` method was called.","body":"In other words, the moment you do <code>obj1 = obj2</code> you&#39;re only changing what the variable <code>obj1</code> points to, not what it referred to when the <code>swap</code> method was called."},{"owner":{"account_id":26525278,"reputation":26,"user_id":20158372,"display_name":"Ivo Heberle"},"score":0,"creation_date":1671197785,"post_id":74825089,"comment_id":132053091,"body_markdown":"That is definitely some helpful information, but I am wondering if there is a way to do what I was trying to do, is it possible to pass something by reference in java?\n\nAlso, why does the Arrays.sort(arr); method change the actual array if its passed by value??\n\nwhy don&#39;t i have to do this    arr = Arrays.sort(arr);","body":"That is definitely some helpful information, but I am wondering if there is a way to do what I was trying to do, is it possible to pass something by reference in java?  Also, why does the Arrays.sort(arr); method change the actual array if its passed by value??  why don&#39;t i have to do this    arr = Arrays.sort(arr);"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671198037,"post_id":74825089,"comment_id":132053192,"body_markdown":"About `Arrays.sort` is because it changes the array in place, it doesn&#39;t create a new one and change the reference of the one you passed in. Assuming for a second that instead of `T` you used a custom `Point` class that has a `x` property in your `swap` method you could do something like `int x = obj1.x; obj1.x = obj2.x; obj2.x = x;` and it would work like you expected.","body":"About <code>Arrays.sort</code> is because it changes the array in place, it doesn&#39;t create a new one and change the reference of the one you passed in. Assuming for a second that instead of <code>T</code> you used a custom <code>Point</code> class that has a <code>x</code> property in your <code>swap</code> method you could do something like <code>int x = obj1.x; obj1.x = obj2.x; obj2.x = x;</code> and it would work like you expected."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1671198230,"post_id":74825089,"comment_id":132053249,"body_markdown":"About how to do it I can&#39;t think of a way that fits unbounded generics. I&#39;d say do away with generics and use a specific class were you can modify the fields (like the `BufferedImage` in your example) and swap those instaed.","body":"About how to do it I can&#39;t think of a way that fits unbounded generics. I&#39;d say do away with generics and use a specific class were you can modify the fields (like the <code>BufferedImage</code> in your example) and swap those instaed."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1671198305,"post_id":74825089,"comment_id":132053275,"body_markdown":"@jhamon I suggest you refresh the page :)","body":"@jhamon I suggest you refresh the page :)"}],"owner":{"account_id":26525278,"reputation":26,"user_id":20158372,"display_name":"Ivo Heberle"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1671197347,"answer_count":0,"score":0,"last_activity_date":1671197221,"creation_date":1671197221,"question_id":74825089,"body_markdown":"i am trying to code a game from scratch, I have multiple types of buttons, one of those types has to switch the sprites it uses after it gets clicked. all buttons have one set of sprites, but that specific type has an extra field with the second set of sprites.\r\n\r\nI have a solution that works, but was trying to us generics to swap the images instead (trying to learn something new). I think i don&#39;t understand generics, because the way i did it does nothing.\r\n\r\n\r\n\r\n\r\n```\r\npublic class Button {\r\n     protected BufferedImage[] imgs;\r\n}\r\n\r\npublic class SpecialButton extends Button{\r\n\r\n    private BufferedImage[] imgs2;\r\n\r\n    public void swapImage() {\r\n        //this works the way it was intended\r\n        BufferedImage[] tmp = imgs;\r\n        imgs = imgs2;\r\n        imgs2 = tmp;\r\n    }\r\n    \r\n\r\n\r\n    public void swapImageDoesNothing() {\r\n        // this does nothing\r\n        swap(imgs, imgs2);\r\n    }\r\n\r\n\r\n    public static &lt;T&gt; void swap(T obj1, T obj2){\r\n        T tmp = obj1;\r\n        obj1 = obj2;\r\n        obj2 = tmp;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nI tried multiple thing, also tried making the swap() method not static, but the goal was to have the static in another Utils class for other classes to use, don&#39;t know if i need it anywhere else, but i was trying to learn something about generics\r\n\r\n\r\n```\r\npublic final class Utilities {\r\n\r\n    private Utilities(){}\r\n    \r\n    public static &lt;T&gt; void swap(T obj1, T obj2){\r\n        T tmp = obj1;\r\n        obj1 = obj2;\r\n        obj2 = tmp;\r\n    }\r\n}\r\n```\r\n\r\n","title":"New to coding, trying to swap two fields with generics and apperently don&#39;t understand generics","body":"<p>i am trying to code a game from scratch, I have multiple types of buttons, one of those types has to switch the sprites it uses after it gets clicked. all buttons have one set of sprites, but that specific type has an extra field with the second set of sprites.</p>\n<p>I have a solution that works, but was trying to us generics to swap the images instead (trying to learn something new). I think i don't understand generics, because the way i did it does nothing.</p>\n<pre><code>public class Button {\n     protected BufferedImage[] imgs;\n}\n\npublic class SpecialButton extends Button{\n\n    private BufferedImage[] imgs2;\n\n    public void swapImage() {\n        //this works the way it was intended\n        BufferedImage[] tmp = imgs;\n        imgs = imgs2;\n        imgs2 = tmp;\n    }\n    \n\n\n    public void swapImageDoesNothing() {\n        // this does nothing\n        swap(imgs, imgs2);\n    }\n\n\n    public static &lt;T&gt; void swap(T obj1, T obj2){\n        T tmp = obj1;\n        obj1 = obj2;\n        obj2 = tmp;\n    }\n}\n\n</code></pre>\n<p>I tried multiple thing, also tried making the swap() method not static, but the goal was to have the static in another Utils class for other classes to use, don't know if i need it anywhere else, but i was trying to learn something about generics</p>\n<pre><code>public final class Utilities {\n\n    private Utilities(){}\n    \n    public static &lt;T&gt; void swap(T obj1, T obj2){\n        T tmp = obj1;\n        obj1 = obj2;\n        obj2 = tmp;\n    }\n}\n</code></pre>\n"},{"tags":["java","frameworks","gis"],"comments":[{"owner":{"account_id":1882560,"reputation":1658,"user_id":1702401,"accept_rate":100,"display_name":"user1702401"},"score":0,"creation_date":1353583638,"post_id":13497558,"comment_id":18494850,"body_markdown":"Do you bear in mind desktop or web application?","body":"Do you bear in mind desktop or web application?"}],"answers":[{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1353516780,"creation_date":1353516188,"answer_id":13497935,"question_id":13497558,"body_markdown":"There is [GeoServer][1] which is a full-featured geospatial server based on the [GeoTools library][2].\r\nBesides, you could check all the other projects hosted by [OSGeo][3].\r\n\r\nAs for standards, there are quite a few that you could benefit from, developed by [OGC][4].\r\n\r\n\r\n  [1]: http://geoserver.org/display/GEOS/Welcome\r\n  [2]: http://www.geotools.org/\r\n  [3]: http://www.osgeo.org/\r\n  [4]: http://en.wikipedia.org/wiki/Open_Geospatial_Consortium#Standards","title":"Simple Java GIS Editor","body":"<p>There is <a href=\"http://geoserver.org/display/GEOS/Welcome\" rel=\"nofollow\">GeoServer</a> which is a full-featured geospatial server based on the <a href=\"http://www.geotools.org/\" rel=\"nofollow\">GeoTools library</a>.\nBesides, you could check all the other projects hosted by <a href=\"http://www.osgeo.org/\" rel=\"nofollow\">OSGeo</a>.</p>\n\n<p>As for standards, there are quite a few that you could benefit from, developed by <a href=\"http://en.wikipedia.org/wiki/Open_Geospatial_Consortium#Standards\" rel=\"nofollow\">OGC</a>.</p>\n"},{"tags":[],"owner":{"account_id":124416,"reputation":7270,"user_id":319487,"accept_rate":78,"display_name":"radek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353536161,"creation_date":1353536161,"answer_id":13502963,"question_id":13497558,"body_markdown":"Give [**uDig**][1] a shoot. Open source and in Java.\r\n\r\nFulfils your criteria of display and interaction (I tried with relatively large vector data, not sure about raster performance though).\r\n\r\nI cannot really say how it works with network datasets, but with enough programming skills you could probably hack your way with some custom plugins. Here is a [starting point][2].\r\n\r\n\r\n  [1]: http://udig.refractions.net/\r\n  [2]: http://udig.github.com/docs/dev/tool_plugin_tutorial.html","title":"Simple Java GIS Editor","body":"<p>Give <a href=\"http://udig.refractions.net/\" rel=\"nofollow\"><strong>uDig</strong></a> a shoot. Open source and in Java.</p>\n\n<p>Fulfils your criteria of display and interaction (I tried with relatively large vector data, not sure about raster performance though).</p>\n\n<p>I cannot really say how it works with network datasets, but with enough programming skills you could probably hack your way with some custom plugins. Here is a <a href=\"http://udig.github.com/docs/dev/tool_plugin_tutorial.html\" rel=\"nofollow\">starting point</a>.</p>\n"},{"tags":[],"owner":{"account_id":465010,"reputation":21,"user_id":868840,"display_name":"tharos70"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671197081,"creation_date":1671197081,"answer_id":74825068,"question_id":13497558,"body_markdown":"Another interesting project worth checking out is [Degree][1] which is in [OsGeo][2] endorsed projects just like Geoserver.\r\n\r\n\r\n  [1]: https://www.deegree.org/\r\n  [2]: https://www.osgeo.org/","title":"Simple Java GIS Editor","body":"<p>Another interesting project worth checking out is <a href=\"https://www.deegree.org/\" rel=\"nofollow noreferrer\">Degree</a> which is in <a href=\"https://www.osgeo.org/\" rel=\"nofollow noreferrer\">OsGeo</a> endorsed projects just like Geoserver.</p>\n"}],"owner":{"account_id":33667,"reputation":809,"user_id":94404,"accept_rate":100,"display_name":"Patrick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13497935,"answer_count":3,"score":2,"last_activity_date":1671197081,"creation_date":1353514887,"question_id":13497558,"body_markdown":"I&#39;m looking for a library/application that would give me a good starting point for an application that will needed to:\r\n\r\n - display a (big) rail/street network on a map (geographically limited to central Europe)\r\n - rail/street network has its custom graph data structure (no standards we could benefit from)\r\n - standard interaction with map: zoom/pan\r\n - interaction with network: remove/add nodes and edges. move nodes.\r\n\r\nImplementation preferably in Java. Thats&#39;s it ;)\r\n\r\nWould love to hear your suggestions on this topic!\r\nThanks very much,\r\nPatrick","title":"Simple Java GIS Editor","body":"<p>I'm looking for a library/application that would give me a good starting point for an application that will needed to:</p>\n\n<ul>\n<li>display a (big) rail/street network on a map (geographically limited to central Europe)</li>\n<li>rail/street network has its custom graph data structure (no standards we could benefit from)</li>\n<li>standard interaction with map: zoom/pan</li>\n<li>interaction with network: remove/add nodes and edges. move nodes.</li>\n</ul>\n\n<p>Implementation preferably in Java. Thats's it ;)</p>\n\n<p>Would love to hear your suggestions on this topic!\nThanks very much,\nPatrick</p>\n"},{"tags":["java","reflection","collections","javabeans"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1574666422,"post_id":739689,"comment_id":104298156,"body_markdown":"[`java.beans.Introspector`](https://docs.oracle.com/javase/8/docs/api/java/beans/Introspector.html)`.getBeanInfo()`. It&#39;s built right into the JDK.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/beans/Introspector.html\" rel=\"nofollow noreferrer\"><code>java.beans.Introspector</code></a><code>.getBeanInfo()</code>. It&#39;s built right into the JDK."}],"answers":[{"comments":[{"owner":{"account_id":19827,"reputation":10445,"user_id":46799,"accept_rate":69,"display_name":"Shahbaz"},"score":0,"creation_date":1239476463,"post_id":739713,"comment_id":552204,"body_markdown":"Performance is critical so I think reflection is out.  I was hoping that there might be some tools that use asm or cglib.  I have started looking at Google&#39;s protocol buffers again.  I didn&#39;t get your comment about JMS, I am using it to communicate information across machines.","body":"Performance is critical so I think reflection is out.  I was hoping that there might be some tools that use asm or cglib.  I have started looking at Google&#39;s protocol buffers again.  I didn&#39;t get your comment about JMS, I am using it to communicate information across machines."},{"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"score":0,"creation_date":1239482892,"post_id":739713,"comment_id":552378,"body_markdown":"I misunderstood that. As for performance, there&#39;s a difference between performance being important and that specific part being performance-critical. I&#39;d do a benchmark to see how much it really matters compared to what else the application is doing.","body":"I misunderstood that. As for performance, there&#39;s a difference between performance being important and that specific part being performance-critical. I&#39;d do a benchmark to see how much it really matters compared to what else the application is doing."},{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":0,"creation_date":1282133268,"post_id":739713,"comment_id":3670793,"body_markdown":"That&#39;s also my thought. Either you use reflection (directly or indirectly) or you have to generate code. (Or write the extra code yourself, of course).","body":"That&#39;s also my thought. Either you use reflection (directly or indirectly) or you have to generate code. (Or write the extra code yourself, of course)."}],"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1239443327,"creation_date":1239436393,"answer_id":739713,"question_id":739689,"body_markdown":"Code generation would be the only other way I can think of. Personally, I&#39;d got with a generally reusable reflection solution (unless that part of the code is absolutely performance-critical). Using JMS sounds like overkill (additional dependency, and that&#39;s not even what it&#39;s meant for). Besides, it probably uses reflection as well under the hood.","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Code generation would be the only other way I can think of. Personally, I'd got with a generally reusable reflection solution (unless that part of the code is absolutely performance-critical). Using JMS sounds like overkill (additional dependency, and that's not even what it's meant for). Besides, it probably uses reflection as well under the hood.</p>\n"},{"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":9,"creation_date":1268971166,"post_id":739760,"comment_id":2465976,"body_markdown":"Besides, there is nothing wrong about reflection being used, under the hood. Especially if results are cached (for future use), reflection-based access is usually fast enough for most use cases.","body":"Besides, there is nothing wrong about reflection being used, under the hood. Especially if results are cached (for future use), reflection-based access is usually fast enough for most use cases."},{"owner":{"account_id":60322,"reputation":958,"user_id":180244,"display_name":"vdr"},"score":26,"creation_date":1366624163,"post_id":739760,"comment_id":23064566,"body_markdown":"To be precise, BeanMap(bean) is the specific part of common beanutils that does the trick.","body":"To be precise, BeanMap(bean) is the specific part of common beanutils that does the trick."},{"owner":{"account_id":223740,"reputation":881,"user_id":483153,"accept_rate":36,"display_name":"michaelr524"},"score":5,"creation_date":1416567998,"post_id":739760,"comment_id":42634346,"body_markdown":"Disregarding performance considerations I&#39;ve found that using BeanMap() in combination with Jackson&#39;s ObjectMapper from the answer below gave me the best results. BeanMap succeeded at creating a more complete map of my object and then Jackson converted it into plain LinkedHashMap structure which allowed modifications further down the pipeline. \nobjectAsMap = objectMapper.convertValue(new BeanMap(myObject), Map.class);","body":"Disregarding performance considerations I&#39;ve found that using BeanMap() in combination with Jackson&#39;s ObjectMapper from the answer below gave me the best results. BeanMap succeeded at creating a more complete map of my object and then Jackson converted it into plain LinkedHashMap structure which allowed modifications further down the pipeline.  objectAsMap = objectMapper.convertValue(new BeanMap(myObject), Map.class);"},{"owner":{"account_id":2031464,"reputation":1626,"user_id":1815052,"accept_rate":86,"display_name":"SqueezyMo"},"score":0,"creation_date":1499351283,"post_id":739760,"comment_id":76878680,"body_markdown":"Won&#39;t work on Android because it uses `java.beans` dependencies severely limited on the platform. See the [related question](https://stackoverflow.com/questions/15065545/using-jars-that-use-java-beans-classes-introspector-beaninfo-or-propertydescri) for details.","body":"Won&#39;t work on Android because it uses <code>java.beans</code> dependencies severely limited on the platform. See the <a href=\"https://stackoverflow.com/questions/15065545/using-jars-that-use-java-beans-classes-introspector-beaninfo-or-propertydescri\">related question</a> for details."},{"owner":{"account_id":172198,"reputation":5240,"user_id":628006,"accept_rate":90,"display_name":"р&#252;ффп"},"score":0,"creation_date":1523529852,"post_id":739760,"comment_id":86603163,"body_markdown":"A solution mentioning Apache Commons is most of the time the best solution.","body":"A solution mentioning Apache Commons is most of the time the best solution."}],"tags":[],"owner":{"account_id":27505,"reputation":32693,"user_id":72673,"accept_rate":72,"display_name":"Maurice Perry"},"comment_count":5,"down_vote_count":4,"up_vote_count":61,"is_accepted":true,"score":57,"last_activity_date":1239438603,"creation_date":1239438603,"answer_id":739760,"question_id":739689,"body_markdown":"There is always apache [commons beanutils][1] but of course it uses reflection under the hood\r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>There is always apache <a href=\"http://commons.apache.org/beanutils/\" rel=\"noreferrer\">commons beanutils</a> but of course it uses reflection under the hood</p>\n"},{"tags":[],"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1239469004,"creation_date":1239469004,"answer_id":740417,"question_id":739689,"body_markdown":"[JSON][1], for example using XStream + Jettison, is a simple text format with key value pairs. It is supported for example by the Apache ActiveMQ JMS message broker for Java object exchange with other platforms / languages.\r\n\r\n\r\n  [1]: http://www.json.org/","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p><a href=\"http://www.json.org/\" rel=\"nofollow noreferrer\">JSON</a>, for example using XStream + Jettison, is a simple text format with key value pairs. It is supported for example by the Apache ActiveMQ JMS message broker for Java object exchange with other platforms / languages.</p>\n"},{"comments":[{"owner":{"account_id":19827,"reputation":10445,"user_id":46799,"accept_rate":69,"display_name":"Shahbaz"},"score":0,"creation_date":1239476254,"post_id":740516,"comment_id":552198,"body_markdown":"Looks interesting, unfortunately it doesn&#39;t look like it is maintained any more. Besides, the property map it returns is a map of &lt;String,String&gt;, so not type safe.","body":"Looks interesting, unfortunately it doesn&#39;t look like it is maintained any more. Besides, the property map it returns is a map of &lt;String,String&gt;, so not type safe."},{"owner":{"account_id":30387,"reputation":62490,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"score":1,"creation_date":1239490520,"post_id":740516,"comment_id":552571,"body_markdown":"True, it hasn&#39;t been maintained since 2002.  I was just curious as to whether a non-reflection based solution existed.  The property map it returns is actually just a standard map, no generics as such...","body":"True, it hasn&#39;t been maintained since 2002.  I was just curious as to whether a non-reflection based solution existed.  The property map it returns is actually just a standard map, no generics as such..."}],"tags":[],"owner":{"account_id":30387,"reputation":62490,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1239472212,"creation_date":1239472212,"answer_id":740516,"question_id":739689,"body_markdown":"You could use the Joda framework:\r\n\r\nhttp://joda.sourceforge.net/\r\n\r\nand take advantage of JodaProperties.  This does stipulate that you create beans in a particular way however, and implement a specific interface.  It does then however, allow you to return a property map from a specific class, without reflection.  Sample code is here:\r\n\r\nhttp://pbin.oogly.co.uk/listings/viewlistingdetail/0e78eb6c76d071b4e22bbcac748c57","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>You could use the Joda framework:</p>\n\n<p><a href=\"http://joda.sourceforge.net/\" rel=\"nofollow noreferrer\">http://joda.sourceforge.net/</a></p>\n\n<p>and take advantage of JodaProperties.  This does stipulate that you create beans in a particular way however, and implement a specific interface.  It does then however, allow you to return a property map from a specific class, without reflection.  Sample code is here:</p>\n\n<p><a href=\"http://pbin.oogly.co.uk/listings/viewlistingdetail/0e78eb6c76d071b4e22bbcac748c57\" rel=\"nofollow noreferrer\">http://pbin.oogly.co.uk/listings/viewlistingdetail/0e78eb6c76d071b4e22bbcac748c57</a></p>\n"},{"comments":[{"owner":{"account_id":28790,"reputation":4689,"user_id":77212,"accept_rate":93,"display_name":"Martin K."},"score":0,"creation_date":1239709344,"post_id":743693,"comment_id":558530,"body_markdown":"Have you done code-reviews? This doensn&#39;t seem to be a good approach! You change the inheritance path with annotations! What if the bean extends already at a class?! Why have you to write the attributes twice?","body":"Have you done code-reviews? This doensn&#39;t seem to be a good approach! You change the inheritance path with annotations! What if the bean extends already at a class?! Why have you to write the attributes twice?"},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1239718113,"post_id":743693,"comment_id":559064,"body_markdown":"If you already have a superclass, you use  @Bean(superclass=XXX.class, ...) and it inserts the generated superclass inbetween. This has been great for code reviews -- much less potentially-error-prone boilerplate to sift though.","body":"If you already have a superclass, you use  @Bean(superclass=XXX.class, ...) and it inserts the generated superclass inbetween. This has been great for code reviews -- much less potentially-error-prone boilerplate to sift though."},{"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"score":0,"creation_date":1239718152,"post_id":743693,"comment_id":559069,"body_markdown":"Not sure what you mean by &quot;write the attributes twice&quot; -- where do they show up twice?","body":"Not sure what you mean by &quot;write the attributes twice&quot; -- where do they show up twice?"},{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":0,"creation_date":1282133186,"post_id":743693,"comment_id":3670778,"body_markdown":"@Martin K. If you really don&#39;t want to use reflection, even under the hood, then you&#39;re probably forced to do some kind of code generation.","body":"@Martin K. If you really don&#39;t want to use reflection, even under the hood, then you&#39;re probably forced to do some kind of code generation."}],"tags":[],"owner":{"account_id":7257,"reputation":30102,"user_id":12541,"display_name":"Scott Stanchfield"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239624057,"creation_date":1239624057,"answer_id":743693,"question_id":739689,"body_markdown":"My JavaDude Bean Annotation Processor generates code to do this. \r\n\r\nhttp://javadude.googlecode.com\r\n\r\nFor example:\r\n\r\n    @Bean(\r\n      createPropertyMap=true,\r\n      properties={\r\n        @Property(name=&quot;name&quot;),\r\n        @Property(name=&quot;phone&quot;, bound=true),\r\n        @Property(name=&quot;friend&quot;, type=Person.class, kind=PropertyKind.LIST)\r\n      }\r\n    )\r\n    public class Person extends PersonGen {}\r\n\r\nThe above generates superclass PersonGen that includes a createPropertyMap() method that generates a Map&lt;String, Object&gt; for all properties defined using @Bean.\r\n\r\n(Note that I&#39;m changing the API slightly for the next version -- the annotation attribute will be defineCreatePropertyMap=true)","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>My JavaDude Bean Annotation Processor generates code to do this. </p>\n\n<p><a href=\"http://javadude.googlecode.com\" rel=\"nofollow noreferrer\">http://javadude.googlecode.com</a></p>\n\n<p>For example:</p>\n\n<pre><code>@Bean(\n  createPropertyMap=true,\n  properties={\n    @Property(name=\"name\"),\n    @Property(name=\"phone\", bound=true),\n    @Property(name=\"friend\", type=Person.class, kind=PropertyKind.LIST)\n  }\n)\npublic class Person extends PersonGen {}\n</code></pre>\n\n<p>The above generates superclass PersonGen that includes a createPropertyMap() method that generates a Map for all properties defined using @Bean.</p>\n\n<p>(Note that I'm changing the API slightly for the next version -- the annotation attribute will be defineCreatePropertyMap=true)</p>\n"},{"comments":[{"owner":{"account_id":28790,"reputation":4689,"user_id":77212,"accept_rate":93,"display_name":"Martin K."},"score":0,"creation_date":1239706950,"post_id":747020,"comment_id":558451,"body_markdown":"There are no methods, because it depends on you what is a key and what is value! It should be easy to write a service which does such a conversion. For a simple representation CSV might be acceptable.","body":"There are no methods, because it depends on you what is a key and what is value! It should be easy to write a service which does such a conversion. For a simple representation CSV might be acceptable."}],"tags":[],"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1239705118,"creation_date":1239705118,"answer_id":747020,"question_id":739689,"body_markdown":"If you do not want to hardcode calls to each getter and setter, reflection is the only way to call these methods (but it is not hard).\r\n\r\nCan you refactor the class in question to use a Properties object to hold the actual data, and let each getter and setter just call get/set on it?  Then you have a structure well suited for what you want to do.  There is even methods to save and load them in the key-value form.","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>If you do not want to hardcode calls to each getter and setter, reflection is the only way to call these methods (but it is not hard).</p>\n\n<p>Can you refactor the class in question to use a Properties object to hold the actual data, and let each getter and setter just call get/set on it?  Then you have a structure well suited for what you want to do.  There is even methods to save and load them in the key-value form.</p>\n"},{"tags":[],"owner":{"account_id":28790,"reputation":4689,"user_id":77212,"accept_rate":93,"display_name":"Martin K."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239706841,"creation_date":1239706841,"answer_id":747077,"question_id":739689,"body_markdown":"You should write a generic transformation Service! Use generics to keep it type free (so you can convert every object to key=&gt;value and back).\r\n\r\nWhat field should be the key? Get that field from the bean and append any other non transient value in a value map. \r\n\r\nThe way back is pretty easy. Read key(x) and write at first the key and then every list entry back to a new object. \r\n\r\nYou can get the property names of a bean with the [apache commons beanutils][1]!\r\n\r\n\r\n  [1]: http://commons.apache.org/beanutils/","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>You should write a generic transformation Service! Use generics to keep it type free (so you can convert every object to key=>value and back).</p>\n\n<p>What field should be the key? Get that field from the bean and append any other non transient value in a value map. </p>\n\n<p>The way back is pretty easy. Read key(x) and write at first the key and then every list entry back to a new object. </p>\n\n<p>You can get the property names of a bean with the <a href=\"http://commons.apache.org/beanutils/\" rel=\"nofollow noreferrer\">apache commons beanutils</a>!</p>\n"},{"comments":[{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1268971082,"post_id":940785,"comment_id":2465970,"body_markdown":"Why does it require mapping file? If it knows how to convert, why require this extra work -- just take source object, expected type?","body":"Why does it require mapping file? If it knows how to convert, why require this extra work -- just take source object, expected type?"},{"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"score":0,"creation_date":1287165810,"post_id":940785,"comment_id":4212138,"body_markdown":"Ok. It&#39;s good to know the reason, even though I&#39;m not sure it&#39;s valid :)","body":"Ok. It&#39;s good to know the reason, even though I&#39;m not sure it&#39;s valid :)"}],"tags":[],"owner":{"display_name":"Guillo"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1243963365,"creation_date":1243963365,"answer_id":940785,"question_id":739689,"body_markdown":"The best solution is to use Dozer. You just need something like this in the mapper file:\r\n\r\n    &lt;mapping map-id=&quot;myTestMapping&quot;&gt;\r\n      &lt;class-a&gt;org.dozer.vo.map.SomeComplexType&lt;/class-a&gt;\r\n      &lt;class-b&gt;java.util.Map&lt;/class-b&gt;\r\n    &lt;/mapping&gt; \r\n\r\nAnd that&#39;s it, Dozer takes care of the rest!!!\r\n\r\n[Dozer Documentation URL][1]\r\n\r\n\r\n  [1]: http://dozer.sourceforge.net/documentation/faq.html#complex-to-map","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>The best solution is to use Dozer. You just need something like this in the mapper file:</p>\n\n<pre><code>&lt;mapping map-id=\"myTestMapping\"&gt;\n  &lt;class-a&gt;org.dozer.vo.map.SomeComplexType&lt;/class-a&gt;\n  &lt;class-b&gt;java.util.Map&lt;/class-b&gt;\n&lt;/mapping&gt; \n</code></pre>\n\n<p>And that's it, Dozer takes care of the rest!!!</p>\n\n<p><a href=\"http://dozer.sourceforge.net/documentation/faq.html#complex-to-map\" rel=\"nofollow noreferrer\">Dozer Documentation URL</a></p>\n"},{"comments":[{"owner":{"account_id":2780361,"reputation":4421,"user_id":2393012,"accept_rate":78,"display_name":"Manish Patel"},"score":3,"creation_date":1471081342,"post_id":2039113,"comment_id":65218741,"body_markdown":"This should be the accepted answer. `BeanUtils` is nice, but can&#39;t handle arrays and enums","body":"This should be the accepted answer. <code>BeanUtils</code> is nice, but can&#39;t handle arrays and enums"}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":193,"is_accepted":false,"score":193,"last_activity_date":1472221404,"creation_date":1263166206,"answer_id":2039113,"question_id":739689,"body_markdown":"Lots of potential solutions, but let&#39;s add just one more. Use [Jackson][1] (JSON processing lib) to do &quot;json-less&quot; conversion, like:\r\n\r\n    ObjectMapper m = new ObjectMapper();\r\n    Map&lt;String,Object&gt; props = m.convertValue(myBean, Map.class);\r\n    MyBean anotherBean = m.convertValue(props, MyBean.class);\r\n\r\n([this blog entry][2] has some more examples)\r\n\r\nYou can basically convert any compatible types: compatible meaning that if you did convert from type to JSON, and from that JSON to result type, entries would match (if configured properly can also just ignore unrecognized ones).\r\n\r\nWorks well for cases one would expect, including Maps, Lists, arrays, primitives, bean-like POJOs.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson\r\n  [2]: http://www.cowtowncoder.com/blog/archives/2009/12/entry_336.html\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Lots of potential solutions, but let's add just one more. Use <a href=\"https://github.com/FasterXML/jackson\" rel=\"noreferrer\">Jackson</a> (JSON processing lib) to do \"json-less\" conversion, like:</p>\n\n<pre><code>ObjectMapper m = new ObjectMapper();\nMap&lt;String,Object&gt; props = m.convertValue(myBean, Map.class);\nMyBean anotherBean = m.convertValue(props, MyBean.class);\n</code></pre>\n\n<p>(<a href=\"http://www.cowtowncoder.com/blog/archives/2009/12/entry_336.html\" rel=\"noreferrer\">this blog entry</a> has some more examples)</p>\n\n<p>You can basically convert any compatible types: compatible meaning that if you did convert from type to JSON, and from that JSON to result type, entries would match (if configured properly can also just ignore unrecognized ones).</p>\n\n<p>Works well for cases one would expect, including Maps, Lists, arrays, primitives, bean-like POJOs.</p>\n"},{"tags":[],"owner":{"account_id":929458,"reputation":11,"user_id":959606,"display_name":"Lars Wunderlich"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352623207,"creation_date":1316709906,"answer_id":7518435,"question_id":739689,"body_markdown":"If it comes to a simple object tree to key value list mapping, where key might be a dotted path description from the object&#39;s root element to the leaf being inspected, it&#39;s rather obvious that a tree conversion to a key-value list is comparable to an object to xml mapping. Each element within an XML document has a defined position and can be converted into a path. Therefore I took [XStream][1] as a basic and stable conversion tool and replaced the hierarchical driver and writer parts with an own implementation. XStream also comes with a basic path tracking mechanism which - being combined with the other two - strictly leads to a solution being suitable for the task.\r\n\r\n\r\n  [1]: http://xstream.codehaus.org","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>If it comes to a simple object tree to key value list mapping, where key might be a dotted path description from the object's root element to the leaf being inspected, it's rather obvious that a tree conversion to a key-value list is comparable to an object to xml mapping. Each element within an XML document has a defined position and can be converted into a path. Therefore I took <a href=\"http://xstream.codehaus.org\" rel=\"nofollow\">XStream</a> as a basic and stable conversion tool and replaced the hierarchical driver and writer parts with an own implementation. XStream also comes with a basic path tracking mechanism which - being combined with the other two - strictly leads to a solution being suitable for the task.</p>\n"},{"comments":[{"owner":{"account_id":18466,"reputation":12612,"user_id":42340,"accept_rate":64,"display_name":"Teo Choong Ping"},"score":0,"creation_date":1377674948,"post_id":10570156,"comment_id":27167333,"body_markdown":"Cool but prone to StackOverflowError","body":"Cool but prone to StackOverflowError"}],"tags":[],"owner":{"account_id":1483051,"reputation":150,"user_id":1391935,"display_name":"Reuse3733"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1336897621,"creation_date":1336895740,"answer_id":10570156,"question_id":739689,"body_markdown":"Simply using reflection and Groovy :\r\n\r\n    def Map toMap(object) {\t\t\t\t\r\n\treturn object?.properties.findAll{ (it.key != &#39;class&#39;) }.collectEntries {\r\n\t\t\t\tit.value == null || it.value instanceof Serializable ? [it.key, it.value] : [it.key,   toMap(it.value)]\r\n\t\t}\t\r\n\t}\r\n\r\n    def toObject(map, obj) {\t\t\r\n\t\tmap.each {\r\n\t\t\tdef field = obj.class.getDeclaredField(it.key)\r\n\t\t\tif (it.value != null) {\r\n\t\t\t\tif (field.getType().equals(it.value.class)){\r\n\t\t\t\t\tobj.&quot;$it.key&quot; = it.value\r\n\t\t\t\t}else if (it.value instanceof Map){\r\n\t\t\t\t\tdef objectFieldValue = obj.&quot;$it.key&quot;\r\n\t\t\t\t\tdef fieldValue = (objectFieldValue == null) ? field.getType().newInstance() : objectFieldValue\r\n\t\t\t\t\tobj.&quot;$it.key&quot; = toObject(it.value,fieldValue) \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn obj;\r\n\t}","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Simply using reflection and Groovy :</p>\n\n<pre><code>def Map toMap(object) {             \nreturn object?.properties.findAll{ (it.key != 'class') }.collectEntries {\n            it.value == null || it.value instanceof Serializable ? [it.key, it.value] : [it.key,   toMap(it.value)]\n    }   \n}\n\ndef toObject(map, obj) {        \n    map.each {\n        def field = obj.class.getDeclaredField(it.key)\n        if (it.value != null) {\n            if (field.getType().equals(it.value.class)){\n                obj.\"$it.key\" = it.value\n            }else if (it.value instanceof Map){\n                def objectFieldValue = obj.\"$it.key\"\n                def fieldValue = (objectFieldValue == null) ? field.getType().newInstance() : objectFieldValue\n                obj.\"$it.key\" = toObject(it.value,fieldValue) \n            }\n        }\n    }\n    return obj;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338482341,"creation_date":1338482341,"answer_id":10837724,"question_id":739689,"body_markdown":"If you really really want performance you can go the code generation route.\r\n\r\nYou can do this on your on by doing your own reflection and building a mixin AspectJ ITD.\r\n\r\nOr you can use Spring Roo and make a [Spring Roo Addon][1]. Your Roo addon will do something similar to the above but will be available to everyone who uses Spring Roo and you don&#39;t have to use Runtime Annotations.\r\n\r\nI have done both. People crap on Spring Roo but it really is the most comprehensive code generation for Java.\r\n\r\n\r\n  [1]: http://www.ibm.com/developerworks/java/library/os-springroo5/index.html?ca=drs-","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>If you really really want performance you can go the code generation route.</p>\n\n<p>You can do this on your on by doing your own reflection and building a mixin AspectJ ITD.</p>\n\n<p>Or you can use Spring Roo and make a <a href=\"http://www.ibm.com/developerworks/java/library/os-springroo5/index.html?ca=drs-\" rel=\"nofollow\">Spring Roo Addon</a>. Your Roo addon will do something similar to the above but will be available to everyone who uses Spring Roo and you don't have to use Runtime Annotations.</p>\n\n<p>I have done both. People crap on Spring Roo but it really is the most comprehensive code generation for Java.</p>\n"},{"tags":[],"owner":{"account_id":1616798,"reputation":85,"user_id":1494261,"display_name":"Venky"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341172970,"creation_date":1341171589,"answer_id":11285069,"question_id":739689,"body_markdown":"One other possible way is here.\r\n\r\nThe BeanWrapper offers functionality to set and get property values (individually\r\n or in bulk), get property descriptors, and to query properties to determine if they\r\n are readable or writable.\r\n\r\n     \r\n    Company c = new Company();\r\n     BeanWrapper bwComp = BeanWrapperImpl(c);\r\n     bwComp.setPropertyValue(&quot;name&quot;, &quot;your Company&quot;);\r\n\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>One other possible way is here.</p>\n\n<p>The BeanWrapper offers functionality to set and get property values (individually\n or in bulk), get property descriptors, and to query properties to determine if they\n are readable or writable.</p>\n\n<pre><code>Company c = new Company();\n BeanWrapper bwComp = BeanWrapperImpl(c);\n bwComp.setPropertyValue(\"name\", \"your Company\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":48434,"reputation":7618,"user_id":143913,"accept_rate":78,"display_name":"Robert Karl"},"score":1,"creation_date":1350329765,"post_id":12902658,"comment_id":17477343,"body_markdown":"I don&#39;t think the desired answer iterates over the methods defined on each object, sounds like reflection.","body":"I don&#39;t think the desired answer iterates over the methods defined on each object, sounds like reflection."},{"owner":{"account_id":1942157,"reputation":91,"user_id":1748107,"display_name":"DeXoN"},"score":3,"creation_date":1350329937,"post_id":12902658,"comment_id":17477406,"body_markdown":"I don&#39;t know your purposes is your method. But i think this is very excellent example when you want to programming with generic types of objects","body":"I don&#39;t know your purposes is your method. But i think this is very excellent example when you want to programming with generic types of objects"}],"tags":[],"owner":{"account_id":1942157,"reputation":91,"user_id":1748107,"display_name":"DeXoN"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1350331267,"creation_date":1350329336,"answer_id":12902658,"question_id":739689,"body_markdown":"This is a method for converting a Java object to a Map\r\n  \r\n\r\n    public static Map&lt;String, Object&gt; ConvertObjectToMap(Object obj) throws \r\n        IllegalAccessException, \r\n        IllegalArgumentException, \r\n        InvocationTargetException {\r\n            Class&lt;?&gt; pomclass = obj.getClass();\r\n            pomclass = obj.getClass();\r\n            Method[] methods = obj.getClass().getMethods();\r\n\r\n\r\n            Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n            for (Method m : methods) {\r\n               if (m.getName().startsWith(&quot;get&quot;) &amp;&amp; !m.getName().startsWith(&quot;getClass&quot;)) {\r\n                  Object value = (Object) m.invoke(obj);\r\n                  map.put(m.getName().substring(3), (Object) value);\r\n               }\r\n            }\r\n        return map;\r\n    }\r\n\r\n\r\nThis is how to call it\r\n\r\n       Test test = new Test()\r\n       Map&lt;String, Object&gt; map = ConvertObjectToMap(test);\r\n\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>This is a method for converting a Java object to a Map</p>\n\n<pre><code>public static Map&lt;String, Object&gt; ConvertObjectToMap(Object obj) throws \n    IllegalAccessException, \n    IllegalArgumentException, \n    InvocationTargetException {\n        Class&lt;?&gt; pomclass = obj.getClass();\n        pomclass = obj.getClass();\n        Method[] methods = obj.getClass().getMethods();\n\n\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n        for (Method m : methods) {\n           if (m.getName().startsWith(\"get\") &amp;&amp; !m.getName().startsWith(\"getClass\")) {\n              Object value = (Object) m.invoke(obj);\n              map.put(m.getName().substring(3), (Object) value);\n           }\n        }\n    return map;\n}\n</code></pre>\n\n<p>This is how to call it</p>\n\n<pre><code>   Test test = new Test()\n   Map&lt;String, Object&gt; map = ConvertObjectToMap(test);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":47319,"reputation":1241,"user_id":140084,"accept_rate":40,"display_name":"Martins"},"score":0,"creation_date":1371399849,"post_id":17125766,"comment_id":24797930,"body_markdown":"I thought about it and realized that my earlier solution breaks if you have circular references in you bean graph. So I developed a method that will do that transparently and handles circular references beautifully. You can now convert a bean into a map and vice-versa with juffrou-reflect. Enjoy :)","body":"I thought about it and realized that my earlier solution breaks if you have circular references in you bean graph. So I developed a method that will do that transparently and handles circular references beautifully. You can now convert a bean into a map and vice-versa with juffrou-reflect. Enjoy :)"}],"tags":[],"owner":{"account_id":47319,"reputation":1241,"user_id":140084,"accept_rate":40,"display_name":"Martins"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371314442,"creation_date":1371314442,"answer_id":17125766,"question_id":739689,"body_markdown":"Use [juffrou-reflect][1]&#39;s BeanWrapper. It is very performant. \n\nHere is how you can transform a bean into a map:\n\n    public static Map&lt;String, Object&gt; getBeanMap(Object bean) {\n        Map&lt;String, Object&gt; beanMap = new HashMap&lt;String, Object&gt;();\n        BeanWrapper beanWrapper = new BeanWrapper(BeanWrapperContext.create(bean.getClass()));\n        for(String propertyName : beanWrapper.getPropertyNames())\n            beanMap.put(propertyName, beanWrapper.getValue(propertyName));\n        return beanMap;\n    }\n\n\nI developed Juffrou myself. It&#39;s open source, so you are free to use it and modify. And if you have any questions regarding it, I&#39;ll be more than happy to respond.\n\nCheers\n\nCarlos\n\n  [1]: http://juffrou.sourceforge.net/","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Use <a href=\"http://juffrou.sourceforge.net/\" rel=\"nofollow noreferrer\">juffrou-reflect</a>'s BeanWrapper. It is very performant.</p>\n<p>Here is how you can transform a bean into a map:</p>\n<pre><code>public static Map&lt;String, Object&gt; getBeanMap(Object bean) {\n    Map&lt;String, Object&gt; beanMap = new HashMap&lt;String, Object&gt;();\n    BeanWrapper beanWrapper = new BeanWrapper(BeanWrapperContext.create(bean.getClass()));\n    for(String propertyName : beanWrapper.getPropertyNames())\n        beanMap.put(propertyName, beanWrapper.getValue(propertyName));\n    return beanMap;\n}\n</code></pre>\n<p>I developed Juffrou myself. It's open source, so you are free to use it and modify. And if you have any questions regarding it, I'll be more than happy to respond.</p>\n<p>Cheers</p>\n<p>Carlos</p>\n"},{"tags":[],"owner":{"account_id":1735668,"reputation":1932,"user_id":1588303,"display_name":"Rodney P. Barbati"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1406833236,"creation_date":1406833236,"answer_id":25066891,"question_id":739689,"body_markdown":"There is of course the absolute simplest means of conversion possible - no conversion at all! \r\n\r\ninstead of using private variables defined in the class, make the class contain only a HashMap  which stores the values for the instance.\r\n\r\nThen your getters and setters return and set values into and out of the HashMap, and when it is time to convert it to a map, voila! - it is already a map.\r\n\r\nWith a little bit of AOP wizardry, you could even maintain the inflexibility inherent in a bean by allowing you to still use getters and setters specific to each values name, without having to actually write the individual getters and setters.","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>There is of course the absolute simplest means of conversion possible - no conversion at all! </p>\n\n<p>instead of using private variables defined in the class, make the class contain only a HashMap  which stores the values for the instance.</p>\n\n<p>Then your getters and setters return and set values into and out of the HashMap, and when it is time to convert it to a map, voila! - it is already a map.</p>\n\n<p>With a little bit of AOP wizardry, you could even maintain the inflexibility inherent in a bean by allowing you to still use getters and setters specific to each values name, without having to actually write the individual getters and setters.</p>\n"},{"tags":[],"owner":{"account_id":43958,"reputation":8780,"user_id":128734,"accept_rate":67,"display_name":"Jan Żankowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1414054409,"creation_date":1414054409,"answer_id":26524499,"question_id":739689,"body_markdown":"When using Spring, one can also use Spring Integration object-to-map-transformer. It&#39;s probably not worth adding Spring as a dependency just for this.\r\n\r\nFor documentation, search for &quot;Object-to-Map Transformer&quot; on http://docs.spring.io/spring-integration/docs/4.0.4.RELEASE/reference/html/messaging-transformation-chapter.html\r\n\r\nEssentially, it traverses the entire object graph reachable from the object given as input, and produces a map from all primitive type/String fields on the objects. It can be configured to output either:\r\n\r\n- a flat map: {rootObject.someField=Joe, rootObject.leafObject.someField=Jane}, or\r\n- a structured map: {someField=Joe, leafObject={someField=Jane}}.\r\n\r\nHere&#39;s an example from their page:\r\n\r\n    public class Parent{\r\n        private Child child;\r\n        private String name; \r\n        // setters and getters are omitted\r\n    }\r\n\r\n    public class Child{\r\n       private String name; \r\n       private List&lt;String&gt; nickNames;\r\n       // setters and getters are omitted\r\n    }\r\n\r\nOutput will be:  \r\n\r\n&gt; {person.name=George, person.child.name=Jenna,\r\n&gt; person.child.nickNames[0]=Bimbo . . . etc}\r\n\r\nA reverse transformer is also available.","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>When using Spring, one can also use Spring Integration object-to-map-transformer. It's probably not worth adding Spring as a dependency just for this.</p>\n\n<p>For documentation, search for \"Object-to-Map Transformer\" on <a href=\"http://docs.spring.io/spring-integration/docs/4.0.4.RELEASE/reference/html/messaging-transformation-chapter.html\" rel=\"nofollow\">http://docs.spring.io/spring-integration/docs/4.0.4.RELEASE/reference/html/messaging-transformation-chapter.html</a></p>\n\n<p>Essentially, it traverses the entire object graph reachable from the object given as input, and produces a map from all primitive type/String fields on the objects. It can be configured to output either:</p>\n\n<ul>\n<li>a flat map: {rootObject.someField=Joe, rootObject.leafObject.someField=Jane}, or</li>\n<li>a structured map: {someField=Joe, leafObject={someField=Jane}}.</li>\n</ul>\n\n<p>Here's an example from their page:</p>\n\n<pre><code>public class Parent{\n    private Child child;\n    private String name; \n    // setters and getters are omitted\n}\n\npublic class Child{\n   private String name; \n   private List&lt;String&gt; nickNames;\n   // setters and getters are omitted\n}\n</code></pre>\n\n<p>Output will be:  </p>\n\n<blockquote>\n  <p>{person.name=George, person.child.name=Jenna,\n  person.child.nickNames[0]=Bimbo . . . etc}</p>\n</blockquote>\n\n<p>A reverse transformer is also available.</p>\n"},{"tags":[],"owner":{"account_id":465094,"reputation":4280,"user_id":868975,"accept_rate":71,"display_name":"Bax"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1453918134,"creation_date":1446602166,"answer_id":33512434,"question_id":739689,"body_markdown":"With Java 8 you may try this :\r\n\r\n    public Map&lt;String, Object&gt; toKeyValuePairs(Object instance) {\r\n        return Arrays.stream(Bean.class.getDeclaredMethods())\r\n                .collect(Collectors.toMap(\r\n                        Method::getName,\r\n                        m -&gt; {\r\n                            try {\r\n                                Object result = m.invoke(instance);\r\n                                return result != null ? result : &quot;&quot;;\r\n                            } catch (Exception e) {\r\n                                return &quot;&quot;;\r\n                            }\r\n                        }));\r\n    }\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>With Java 8 you may try this :</p>\n\n<pre><code>public Map&lt;String, Object&gt; toKeyValuePairs(Object instance) {\n    return Arrays.stream(Bean.class.getDeclaredMethods())\n            .collect(Collectors.toMap(\n                    Method::getName,\n                    m -&gt; {\n                        try {\n                            Object result = m.invoke(instance);\n                            return result != null ? result : \"\";\n                        } catch (Exception e) {\n                            return \"\";\n                        }\n                    }));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":64621,"reputation":1685,"user_id":190674,"accept_rate":50,"display_name":"erhanasikoglu"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1462373200,"creation_date":1462373200,"answer_id":37031136,"question_id":739689,"body_markdown":"You can use the java 8 stream filter collector properties,\r\n\r\n\r\n    public Map&lt;String, Object&gt; objectToMap(Object obj) {\r\n        return Arrays.stream(YourBean.class.getDeclaredMethods())\r\n                .filter(p -&gt; !p.getName().startsWith(&quot;set&quot;))\r\n                .filter(p -&gt; !p.getName().startsWith(&quot;getClass&quot;))\r\n                .filter(p -&gt; !p.getName().startsWith(&quot;setClass&quot;))\r\n                .collect(Collectors.toMap(\r\n                        d -&gt; d.getName().substring(3),\r\n                        m -&gt; {\r\n                            try {\r\n                                Object result = m.invoke(obj);\r\n                                return result;\r\n                            } catch (Exception e) {\r\n                                return &quot;&quot;;\r\n                            }\r\n                        }, (p1, p2) -&gt; p1)\r\n                );\r\n    }","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>You can use the java 8 stream filter collector properties,</p>\n\n<pre><code>public Map&lt;String, Object&gt; objectToMap(Object obj) {\n    return Arrays.stream(YourBean.class.getDeclaredMethods())\n            .filter(p -&gt; !p.getName().startsWith(\"set\"))\n            .filter(p -&gt; !p.getName().startsWith(\"getClass\"))\n            .filter(p -&gt; !p.getName().startsWith(\"setClass\"))\n            .collect(Collectors.toMap(\n                    d -&gt; d.getName().substring(3),\n                    m -&gt; {\n                        try {\n                            Object result = m.invoke(obj);\n                            return result;\n                        } catch (Exception e) {\n                            return \"\";\n                        }\n                    }, (p1, p2) -&gt; p1)\n            );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6699975,"reputation":5536,"user_id":5166818,"display_name":"Amit Kaneria"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490219137,"creation_date":1490219137,"answer_id":42963234,"question_id":739689,"body_markdown":"With the help of Jackson library, I was able to find all class properties of type String/integer/double, and respective values in a Map class. (*without using reflections api!*)\r\n\r\n    TestClass testObject = new TestClass();\r\n    com.fasterxml.jackson.databind.ObjectMapper m = new com.fasterxml.jackson.databind.ObjectMapper();\r\n\r\n    Map&lt;String,Object&gt; props = m.convertValue(testObject, Map.class);\r\n\r\n    for(Map.Entry&lt;String, Object&gt; entry : props.entrySet()){\r\n        if(entry.getValue() instanceof String || entry.getValue() instanceof Integer || entry.getValue() instanceof Double){\r\n            System.out.println(entry.getKey() + &quot;--&gt;&quot; + entry.getValue());\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>With the help of Jackson library, I was able to find all class properties of type String/integer/double, and respective values in a Map class. (<em>without using reflections api!</em>)</p>\n\n<pre><code>TestClass testObject = new TestClass();\ncom.fasterxml.jackson.databind.ObjectMapper m = new com.fasterxml.jackson.databind.ObjectMapper();\n\nMap&lt;String,Object&gt; props = m.convertValue(testObject, Map.class);\n\nfor(Map.Entry&lt;String, Object&gt; entry : props.entrySet()){\n    if(entry.getValue() instanceof String || entry.getValue() instanceof Integer || entry.getValue() instanceof Double){\n        System.out.println(entry.getKey() + \"--&gt;\" + entry.getValue());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":954439,"reputation":323,"user_id":980000,"accept_rate":8,"display_name":"pointerness"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1517403811,"creation_date":1517403811,"answer_id":48542877,"question_id":739689,"body_markdown":"Probably late to the party. You can use Jackson and convert it into a Properties object. This is suited for Nested classes and if you want the key in the for a.b.c=value.\r\n\r\n\r\n    JavaPropsMapper mapper = new JavaPropsMapper();\r\n    Properties properties = mapper.writeValueAsProperties(sct);\r\n    Map&lt;Object, Object&gt; map = properties;\r\n\r\nif you want some suffix, then just do\r\n\r\n    SerializationConfig config = mapper.getSerializationConfig()\r\n                    .withRootName(&quot;suffix&quot;);\r\n    mapper.setConfig(config);\r\n\r\nneed to add this dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jackson-dataformat-properties&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Probably late to the party. You can use Jackson and convert it into a Properties object. This is suited for Nested classes and if you want the key in the for a.b.c=value.</p>\n\n<pre><code>JavaPropsMapper mapper = new JavaPropsMapper();\nProperties properties = mapper.writeValueAsProperties(sct);\nMap&lt;Object, Object&gt; map = properties;\n</code></pre>\n\n<p>if you want some suffix, then just do</p>\n\n<pre><code>SerializationConfig config = mapper.getSerializationConfig()\n                .withRootName(\"suffix\");\nmapper.setConfig(config);\n</code></pre>\n\n<p>need to add this dependency</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n  &lt;artifactId&gt;jackson-dataformat-properties&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7120700,"reputation":523,"user_id":5445436,"accept_rate":62,"display_name":"Biyu"},"score":0,"creation_date":1606314126,"post_id":53721048,"comment_id":114927130,"body_markdown":"Hi, What if I have structure like ===&gt;  corporate:{ id:1; company:{id=1, member: {id:1}} }\nCan i get map like all the unique key and value","body":"Hi, What if I have structure like ===&gt;  corporate:{ id:1; company:{id=1, member: {id:1}} } Can i get map like all the unique key and value"},{"owner":{"account_id":3358051,"reputation":4973,"user_id":2820534,"accept_rate":82,"display_name":"Prabs"},"score":0,"creation_date":1606549751,"post_id":53721048,"comment_id":114997849,"body_markdown":"is this your json string? `{&quot;corporate&quot;:{&quot;id&quot;:1,&quot;company&quot;:{&quot;id&quot;:1,&quot;member&quot;:{&quot;id&quot;:1}}}}`","body":"is this your json string? <code>{&quot;corporate&quot;:{&quot;id&quot;:1,&quot;company&quot;:{&quot;id&quot;:1,&quot;member&quot;:{&quot;id&quot;:1}}}}</code>"},{"owner":{"account_id":3358051,"reputation":4973,"user_id":2820534,"accept_rate":82,"display_name":"Prabs"},"score":0,"creation_date":1606549849,"post_id":53721048,"comment_id":114997868,"body_markdown":"@LokeshKumar what&#39;s your Json? Post a new question and give me the link. I&#39;ll try to help.","body":"@LokeshKumar what&#39;s your Json? Post a new question and give me the link. I&#39;ll try to help."}],"tags":[],"owner":{"account_id":3358051,"reputation":4973,"user_id":2820534,"accept_rate":82,"display_name":"Prabs"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1544520485,"creation_date":1544520485,"answer_id":53721048,"question_id":739689,"body_markdown":"By using Gson,\r\n\r\n1. Convert POJO `object` to Json\r\n2. Convert Json to Map\r\n\r\n\r\n            retMap = new Gson().fromJson(new Gson().toJson(object), \r\n                    new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\r\n            );","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>By using Gson,</p>\n\n<ol>\n<li>Convert POJO <code>object</code> to Json</li>\n<li><p>Convert Json to Map</p>\n\n<pre><code>    retMap = new Gson().fromJson(new Gson().toJson(object), \n            new TypeToken&lt;HashMap&lt;String, Object&gt;&gt;() {}.getType()\n    );\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":4877215,"reputation":2024,"user_id":4724710,"display_name":"Anubhav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574665574,"creation_date":1574665574,"answer_id":59026740,"question_id":739689,"body_markdown":"We can use the Jackson library to convert a Java object into a Map easily.\r\n\r\n    &lt;dependency&gt;\r\n\t   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t   &lt;version&gt;2.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf using in an Android project, you can add jackson in your app&#39;s build.gradle as follows:\r\n\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-core:2.9.8&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.9.8&#39;\r\n    implementation &#39;com.fasterxml.jackson.core:jackson-databind:2.9.8&#39;\r\n\r\nSample Implementation\r\n\r\n    public class Employee {\r\n\r\n        private String name;\r\n        private int id;\r\n        private List&lt;String&gt; skillSet;\r\n\r\n        // getters setters\r\n    }\r\n\r\n    public class ObjectToMap {\r\n\r\n     public static void main(String[] args) {\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        Employee emp = new Employee();\r\n        emp.setName(&quot;XYZ&quot;);\r\n        emp.setId(1011);\r\n        emp.setSkillSet(Arrays.asList(&quot;python&quot;,&quot;java&quot;));\r\n\r\n        // object -&gt; Map\r\n        Map&lt;String, Object&gt; map = objectMapper.convertValue(emp, \r\n        Map.class);\r\n        System.out.println(map);\r\n\r\n     }\r\n\r\n    }\r\n\r\n\r\nOutput:\r\n\r\n{name=XYZ, id=1011, skills=[python, java]}","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>We can use the Jackson library to convert a Java object into a Map easily.</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n   &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n   &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If using in an Android project, you can add jackson in your app's build.gradle as follows:</p>\n\n<pre><code>implementation 'com.fasterxml.jackson.core:jackson-core:2.9.8'\nimplementation 'com.fasterxml.jackson.core:jackson-annotations:2.9.8'\nimplementation 'com.fasterxml.jackson.core:jackson-databind:2.9.8'\n</code></pre>\n\n<p>Sample Implementation</p>\n\n<pre><code>public class Employee {\n\n    private String name;\n    private int id;\n    private List&lt;String&gt; skillSet;\n\n    // getters setters\n}\n\npublic class ObjectToMap {\n\n public static void main(String[] args) {\n\n    ObjectMapper objectMapper = new ObjectMapper();\n\n    Employee emp = new Employee();\n    emp.setName(\"XYZ\");\n    emp.setId(1011);\n    emp.setSkillSet(Arrays.asList(\"python\",\"java\"));\n\n    // object -&gt; Map\n    Map&lt;String, Object&gt; map = objectMapper.convertValue(emp, \n    Map.class);\n    System.out.println(map);\n\n }\n\n}\n</code></pre>\n\n<p>Output:</p>\n\n<p>{name=XYZ, id=1011, skills=[python, java]}</p>\n"},{"tags":[],"owner":{"account_id":4748982,"reputation":135,"user_id":3839489,"display_name":"Priyatham"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671197070,"creation_date":1671197070,"answer_id":74825065,"question_id":739689,"body_markdown":"Add Jackson library \r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.6.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\nThen you could generate map using Object mapper.\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\n\r\nMap&lt;String, Object&gt; map = objectMapper.convertValue(\r\n    yourJavaObject, \r\n    new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {}\r\n);\r\n```","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Add Jackson library</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you could generate map using Object mapper.</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n\nMap&lt;String, Object&gt; map = objectMapper.convertValue(\n    yourJavaObject, \n    new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {}\n);\n</code></pre>\n"}],"owner":{"account_id":19827,"reputation":10445,"user_id":46799,"accept_rate":69,"display_name":"Shahbaz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":232393,"favorite_count":0,"down_vote_count":0,"up_vote_count":104,"accepted_answer_id":739760,"answer_count":24,"score":104,"last_activity_date":1671197070,"creation_date":1239435471,"question_id":739689,"body_markdown":"Say I have a very simple java object that only has some getXXX and setXXX properties.  This object is used only to handle values, basically a record or a type-safe (and performant) map.  I often need to covert this object to key value pairs (either strings or type safe) or convert from key value pairs to this object.\r\n\r\nOther than reflection or manually writing code to do this conversion, what is the best way to achieve this?\r\n\r\nAn example might be sending this object over jms, without using the ObjectMessage type (or converting an incoming message to the right kind of object).\r\n","title":"How to convert a Java object (bean) to key-value pairs (and vice versa)?","body":"<p>Say I have a very simple java object that only has some getXXX and setXXX properties.  This object is used only to handle values, basically a record or a type-safe (and performant) map.  I often need to covert this object to key value pairs (either strings or type safe) or convert from key value pairs to this object.</p>\n\n<p>Other than reflection or manually writing code to do this conversion, what is the best way to achieve this?</p>\n\n<p>An example might be sending this object over jms, without using the ObjectMessage type (or converting an incoming message to the right kind of object).</p>\n"},{"tags":["java","android"],"owner":{"account_id":9861442,"reputation":23,"user_id":7304271,"display_name":"Simone Giusti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671196599,"creation_date":1671006827,"question_id":74795471,"body_markdown":"I am adding values to my chart using this code:\r\n`\r\n```\r\nchartEntries.add(new BarEntry(i, Float.parseFloat(json_data.getString(&quot;prog_bigl&quot;))));\r\n```\r\n`\r\n&quot;i&quot; is the index of `\r\n```\r\nfor (int i = 0; i &lt; jArray.length(); i++ ) {\r\n```\r\n` when I get values from a webservice.\r\n\r\nThe graph is build but in X axis I can see &quot;i&quot; values. I would like to have values from another Json field. It simply a string. How can I substitute &quot;i&quot; with this labels ?\r\n\r\nIf I tried to put this json value in place of &quot;i&quot; I have no graph.\r\n\r\nI can&#39;t find any exaustive documentation for this library.","title":"MPAndroid Chart / x labels","body":"<p>I am adding values to my chart using this code:\n`</p>\n<pre><code>chartEntries.add(new BarEntry(i, Float.parseFloat(json_data.getString(&quot;prog_bigl&quot;))));\n</code></pre>\n<p><code>&quot;i&quot; is the index of</code></p>\n<pre><code>for (int i = 0; i &lt; jArray.length(); i++ ) {\n</code></pre>\n<p>` when I get values from a webservice.</p>\n<p>The graph is build but in X axis I can see &quot;i&quot; values. I would like to have values from another Json field. It simply a string. How can I substitute &quot;i&quot; with this labels ?</p>\n<p>If I tried to put this json value in place of &quot;i&quot; I have no graph.</p>\n<p>I can't find any exaustive documentation for this library.</p>\n"},{"tags":["java","logging","log4j","tomcat7","log4j2"],"answers":[{"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1671204593,"post_id":74824907,"comment_id":132055564,"body_markdown":"You can also provide default values for `${sys:catalina.base}`: either add `&lt;Property name=&quot;catalina.base&quot; value=&quot;.&quot;/&gt;` to your config file or use `${sys:catalina.base:-.}`.","body":"You can also provide default values for <code>${sys:catalina.base}</code>: either add <code>&lt;Property name=&quot;catalina.base&quot; value=&quot;.&quot;&#47;&gt;</code> to your config file or use <code>${sys:catalina.base:-.}</code>."},{"owner":{"account_id":23489944,"reputation":26,"user_id":17541087,"display_name":"collder"},"score":1,"creation_date":1671211237,"post_id":74824907,"comment_id":132057736,"body_markdown":"@PiotrP.Karwasz thank you. Didn&#39;t know about this option.\nP.S. But the key issue for me was to not using absolute path in log4j2 properties))","body":"@PiotrP.Karwasz thank you. Didn&#39;t know about this option. P.S. But the key issue for me was to not using absolute path in log4j2 properties))"}],"tags":[],"owner":{"account_id":23489944,"reputation":26,"user_id":17541087,"display_name":"collder"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671196183,"creation_date":1671196183,"answer_id":74824907,"question_id":71857876,"body_markdown":"Found core of the problem thanks to [this][1] answer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50859620/where-is-catalina-base-system-property-declared-in-a-default-tomcat8-linux-insta\r\n\r\nHad the same issue with running tests using `${sys:catalina.base}` in log4j2.\r\n\r\nThe 1st problem is that your app running in tomcat while your tests running outside of it. Tomcat itself sets variable `catalina.base` from `CATALINA_BASE` on start, so log4j2 instance for tests doesn&#39;t know such variable as `catalina.base`.\r\n\r\nThe 2nd problem I figured out in my case that I put `export CATALINA_BASE=&quot;/path/to/catalina/location&quot;` in `.bashrc` instead of `.profile`.\r\n\r\n\r\n**SOLUTIONS**\r\n1. set absolute path like (for example if your catalina lies in some user directory) `&quot;/home/${env:USER}/path/to/cataina/location&quot;`\r\n\r\nOR\r\n\r\n2. put `export CATALINA_BASE=&quot;/path/to/catalina/location&quot;` in `.profile` and then you&#39;ll be able to set log4j2 property like `${env:CATALINA_BASE}`.\r\n\r\n","title":"Not able to fetch ${catalina.base}, system property not working in log4j2.xml?","body":"<p>Found core of the problem thanks to <a href=\"https://stackoverflow.com/questions/50859620/where-is-catalina-base-system-property-declared-in-a-default-tomcat8-linux-insta\">this</a> answer.</p>\n<p>Had the same issue with running tests using <code>${sys:catalina.base}</code> in log4j2.</p>\n<p>The 1st problem is that your app running in tomcat while your tests running outside of it. Tomcat itself sets variable <code>catalina.base</code> from <code>CATALINA_BASE</code> on start, so log4j2 instance for tests doesn't know such variable as <code>catalina.base</code>.</p>\n<p>The 2nd problem I figured out in my case that I put <code>export CATALINA_BASE=&quot;/path/to/catalina/location&quot;</code> in <code>.bashrc</code> instead of <code>.profile</code>.</p>\n<p><strong>SOLUTIONS</strong></p>\n<ol>\n<li>set absolute path like (for example if your catalina lies in some user directory) <code>&quot;/home/${env:USER}/path/to/cataina/location&quot;</code></li>\n</ol>\n<p>OR</p>\n<ol start=\"2\">\n<li>put <code>export CATALINA_BASE=&quot;/path/to/catalina/location&quot;</code> in <code>.profile</code> and then you'll be able to set log4j2 property like <code>${env:CATALINA_BASE}</code>.</li>\n</ol>\n"}],"owner":{"account_id":15442554,"reputation":57,"user_id":11140659,"display_name":"Srikar Rao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74824907,"answer_count":1,"score":1,"last_activity_date":1671196183,"creation_date":1649854634,"question_id":71857876,"body_markdown":"Previously we had a log4j 1.x compatible xml format which was having this Rolling file appender configured-\r\n```\r\n&lt;appender name=&quot;ALL&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\r\n\t\t&lt;param name=&quot;File&quot; value=&quot;${catalina.base}/logs/trw.log&quot; /&gt;\r\n\t\t&lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;param name=&quot;MaxFileSize&quot; value=&quot;4096KB&quot; /&gt;\r\n\t\t&lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\r\n\t\t&lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n\t\t\t&lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %p [%t] %C{1}:%L - %m%n&quot; /&gt;\r\n\t\t&lt;/layout&gt;\r\n\t&lt;/appender&gt;\r\n```\r\nNow I have changed it to the new log4j2.xml format where based on my research the \r\ncatalina.base becomes like so -\r\n\r\n```\r\n    &lt;RollingFile name=&quot;ALL&quot; fileName=&quot;${sys:catalina.base}/logs/trw.log&quot;\r\n                     filePattern=&quot;${sys:catalina.base}/logs/trw_%i.log&quot;\r\n                     append =&quot;true&quot;&gt;\r\n            &lt;PatternLayout pattern=&quot;%d %p [%t] %c{1}:%L - %m%n&quot;/&gt;\r\n            &lt;Policies&gt;\r\n                &lt;SizeBasedTriggeringPolicy size=&quot;4096KB&quot; /&gt;\r\n            &lt;/Policies&gt;\r\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n        &lt;/RollingFile&gt;\r\n```\r\nBut when I run a test file which uses this logging configuration, the xml file is found and loaded and all is going well but instead of finding the system variable cataline.base\r\nit creates a folder ${sys:catalina.base} and puts the log under it. My question is that - is this the expected behaviour ? Does log4j2.xml config try to search for the system property and if not found just creates a folder with that name ?\r\nThis config is in a web-application which runs on TomCat 7, spring 3.1 and servlet 2.5. Logs are getting generated as expected but only folder name seems to be the issue.","title":"Not able to fetch ${catalina.base}, system property not working in log4j2.xml?","body":"<p>Previously we had a log4j 1.x compatible xml format which was having this Rolling file appender configured-</p>\n<pre><code>&lt;appender name=&quot;ALL&quot; class=&quot;org.apache.log4j.RollingFileAppender&quot;&gt;\n        &lt;param name=&quot;File&quot; value=&quot;${catalina.base}/logs/trw.log&quot; /&gt;\n        &lt;param name=&quot;Append&quot; value=&quot;true&quot; /&gt;\n        &lt;param name=&quot;MaxFileSize&quot; value=&quot;4096KB&quot; /&gt;\n        &lt;param name=&quot;MaxBackupIndex&quot; value=&quot;10&quot; /&gt;\n        &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\n            &lt;param name=&quot;ConversionPattern&quot; value=&quot;%d %p [%t] %C{1}:%L - %m%n&quot; /&gt;\n        &lt;/layout&gt;\n    &lt;/appender&gt;\n</code></pre>\n<p>Now I have changed it to the new log4j2.xml format where based on my research the\ncatalina.base becomes like so -</p>\n<pre><code>    &lt;RollingFile name=&quot;ALL&quot; fileName=&quot;${sys:catalina.base}/logs/trw.log&quot;\n                     filePattern=&quot;${sys:catalina.base}/logs/trw_%i.log&quot;\n                     append =&quot;true&quot;&gt;\n            &lt;PatternLayout pattern=&quot;%d %p [%t] %c{1}:%L - %m%n&quot;/&gt;\n            &lt;Policies&gt;\n                &lt;SizeBasedTriggeringPolicy size=&quot;4096KB&quot; /&gt;\n            &lt;/Policies&gt;\n            &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n        &lt;/RollingFile&gt;\n</code></pre>\n<p>But when I run a test file which uses this logging configuration, the xml file is found and loaded and all is going well but instead of finding the system variable cataline.base\nit creates a folder ${sys:catalina.base} and puts the log under it. My question is that - is this the expected behaviour ? Does log4j2.xml config try to search for the system property and if not found just creates a folder with that name ?\nThis config is in a web-application which runs on TomCat 7, spring 3.1 and servlet 2.5. Logs are getting generated as expected but only folder name seems to be the issue.</p>\n"},{"tags":["java"],"owner":{"account_id":27032086,"reputation":29,"user_id":20588290,"display_name":"wowcode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671196180,"creation_date":1671196180,"question_id":74824905,"body_markdown":"I can right click on a search term in Java selenium Chrome, but I cannot click where I want in the popup menu. How can I get to the place I want in the window that opens after right-clicking?\r\n\r\nCode example where I right click :\r\nActions action = new Actions(driver); action.moveToElement(driver.findElement(By.xpath(&quot;//h3[text()=&#39;Example&#39;]&quot;))).contextClick().build().perform();\r\n\r\nIs there anyone who can help?\r\n\r\n\r\n","title":"Touching Right click window in Java Selenium Chrome","body":"<p>I can right click on a search term in Java selenium Chrome, but I cannot click where I want in the popup menu. How can I get to the place I want in the window that opens after right-clicking?</p>\n<p>Code example where I right click :\nActions action = new Actions(driver); action.moveToElement(driver.findElement(By.xpath(&quot;//h3[text()='Example']&quot;))).contextClick().build().perform();</p>\n<p>Is there anyone who can help?</p>\n"},{"tags":["java","json","spring-boot","rest","dto"],"answers":[{"tags":[],"owner":{"account_id":15800454,"reputation":120,"user_id":11401122,"display_name":"Bonniu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670933238,"creation_date":1670933238,"answer_id":74784630,"question_id":74784399,"body_markdown":"You should use DTO class in request handling and make mappings from DTO to Entity and backwards, e.g.:\r\n\r\n    public class CustomerDTO {\r\n        private Integer id;\r\n        private String name;\r\n        private String email;\r\n    }\r\n","title":"How to change JSON representation for single value java object?","body":"<p>You should use DTO class in request handling and make mappings from DTO to Entity and backwards, e.g.:</p>\n<pre><code>public class CustomerDTO {\n    private Integer id;\n    private String name;\n    private String email;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670935290,"creation_date":1670935290,"answer_id":74785030,"question_id":74784399,"body_markdown":"You should use [DataTransferObjects][1] for your (REST) APIs.\r\nThe DTOs only contain the fields the interface should provide (or receive).\r\n\r\nWhen receiving objects from the client and before returning the object from your Controller you can convert the DTOs to your domain model (Which could be your JPA entites classes).\r\n\r\nExample for a controller method. We assume you get an object from an user-editor which contains all data you want to update in your database-objects and return the updated company DTO:\r\n\r\n```\r\n@PutMapping\r\npublic CustomerDto updateCustomer(CustomerEditorDto updatedCustomerDto) {\r\n    Customer updatedCustomer = CustomerConverter.convert(updatedCustomerDto);\r\n    updatedCustomer = customerService.updateCustomer(updatedCustomer);\r\n    return CustomerConverter.convert(updatedCustomer);\r\n}\r\n```\r\n\r\nand your Converter class:\r\n\r\n```\r\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\r\npublic class CustomerConverter {\r\n\r\n    public static CustomerDto convert(Customer customer) {\r\n        CustomerDto result = null;\r\n        if (customer != null) {\r\n            // TODO: set fields in result-dto\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static Customer convert(CustomerEditorDto customer) {\r\n        Customer result = null;\r\n        if (customer != null) {\r\n            // TODO set fields in result;\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n\r\nand here are the DTOs\r\n```\r\n@Getter\r\n@Setter\r\npublic class CustomerDto {\r\n    private Integer id;\r\n    private String name;\r\n    private String email;\r\n}\r\n\r\n@Getter\r\n@Setter\r\npublic class CustomerEditorDto {\r\n    private Integer id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String email;\r\n    private String otherPropertyOrStuff; \r\n}\r\n```\r\n\r\nThis way you can separate the API modell from your JPA entites. You can use the same models for input/output. And you can even use a different model to work with inside your services and the finally convert them into your JPA entites, before persisting the data (or after reading the data).\r\n\r\nThere are tools which can take care of the conversion, like *mapstruct*.\r\n\r\n\\* The above annotations `@Getter`, `@Setter`, ... are from project lombok and very are handy to generate boiler-plate code automatically.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Data_transfer_object","title":"How to change JSON representation for single value java object?","body":"<p>You should use <a href=\"https://en.wikipedia.org/wiki/Data_transfer_object\" rel=\"nofollow noreferrer\">DataTransferObjects</a> for your (REST) APIs.\nThe DTOs only contain the fields the interface should provide (or receive).</p>\n<p>When receiving objects from the client and before returning the object from your Controller you can convert the DTOs to your domain model (Which could be your JPA entites classes).</p>\n<p>Example for a controller method. We assume you get an object from an user-editor which contains all data you want to update in your database-objects and return the updated company DTO:</p>\n<pre><code>@PutMapping\npublic CustomerDto updateCustomer(CustomerEditorDto updatedCustomerDto) {\n    Customer updatedCustomer = CustomerConverter.convert(updatedCustomerDto);\n    updatedCustomer = customerService.updateCustomer(updatedCustomer);\n    return CustomerConverter.convert(updatedCustomer);\n}\n</code></pre>\n<p>and your Converter class:</p>\n<pre><code>@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class CustomerConverter {\n\n    public static CustomerDto convert(Customer customer) {\n        CustomerDto result = null;\n        if (customer != null) {\n            // TODO: set fields in result-dto\n        }\n        return result;\n    }\n\n    public static Customer convert(CustomerEditorDto customer) {\n        Customer result = null;\n        if (customer != null) {\n            // TODO set fields in result;\n        }\n        return result;\n    }\n}\n</code></pre>\n<p>and here are the DTOs</p>\n<pre><code>@Getter\n@Setter\npublic class CustomerDto {\n    private Integer id;\n    private String name;\n    private String email;\n}\n\n@Getter\n@Setter\npublic class CustomerEditorDto {\n    private Integer id;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String otherPropertyOrStuff; \n}\n</code></pre>\n<p>This way you can separate the API modell from your JPA entites. You can use the same models for input/output. And you can even use a different model to work with inside your services and the finally convert them into your JPA entites, before persisting the data (or after reading the data).</p>\n<p>There are tools which can take care of the conversion, like <em>mapstruct</em>.</p>\n<p>* The above annotations <code>@Getter</code>, <code>@Setter</code>, ... are from project lombok and very are handy to generate boiler-plate code automatically.</p>\n"},{"tags":[],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671195918,"creation_date":1671195918,"answer_id":74824853,"question_id":74784399,"body_markdown":"I found an other easier solution, use a JsonSerializer on the entity Property:\r\n\r\n    @JsonSerialize(using = EmailAddressSerializer.class)\r\n    private EmailAddress email;\r\n\r\nThe serializer class:\r\n    \r\n    public class EmailAddressSerializer extends StdSerializer&lt;EmailAddress&gt; {\r\n    \r\n    \tpublic EmailAddressSerializer() {\r\n    \t\tsuper(EmailAddress.class);\r\n    \t}\r\n    \r\n    \tprotected EmailAddressSerializer(Class&lt;EmailAddress&gt; t) {\r\n    \t\tsuper(t);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void serialize(EmailAddress email,\r\n    \t\t\t\t\t\t  JsonGenerator jsonGenerator,\r\n    \t\t\t\t\t\t  SerializerProvider serializerProvider) throws IOException {\r\n    \t\tjsonGenerator.writeString(email.value);\r\n    \t}\r\n    }","title":"How to change JSON representation for single value java object?","body":"<p>I found an other easier solution, use a JsonSerializer on the entity Property:</p>\n<pre><code>@JsonSerialize(using = EmailAddressSerializer.class)\nprivate EmailAddress email;\n</code></pre>\n<p>The serializer class:</p>\n<pre><code>public class EmailAddressSerializer extends StdSerializer&lt;EmailAddress&gt; {\n\n    public EmailAddressSerializer() {\n        super(EmailAddress.class);\n    }\n\n    protected EmailAddressSerializer(Class&lt;EmailAddress&gt; t) {\n        super(t);\n    }\n\n    @Override\n    public void serialize(EmailAddress email,\n                          JsonGenerator jsonGenerator,\n                          SerializerProvider serializerProvider) throws IOException {\n        jsonGenerator.writeString(email.value);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3533737,"reputation":981,"user_id":2952564,"accept_rate":74,"display_name":"Burner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74824853,"answer_count":3,"score":2,"last_activity_date":1671195918,"creation_date":1670932130,"question_id":74784399,"body_markdown":"I had a class like:\r\n\r\n    public class EmailAddress {\r\n       public String value;\r\n    \r\n       public String tld() {...}\r\n       public String host() {...}\r\n       public String mailbox() {...}\r\n    }\r\n\r\nNow I use this class in an Object / Entity:\r\n\r\n    @Entity\r\n    public class Customer {\r\n        public String name;\r\n        public EmailAddress mail;\r\n    }\r\n\r\nNow, when I do a rest service for `Customer`, I get this format:\r\n\r\n    {\r\n    \t&quot;id&quot;: 1,\r\n    \t&quot;name&quot;: &quot;Test&quot;,\r\n    \t&quot;email&quot;: {\r\n    \t\t&quot;value&quot;: &quot;test@test.de&quot;\r\n    \t}\r\n    }\r\n\r\nBut I only want `&quot;email&quot;: &quot;test@test.de&quot;`\r\n\r\n    {\r\n    \t&quot;id&quot;: 1,\r\n    \t&quot;name&quot;: &quot;Test&quot;,\r\n    \t&quot;email&quot;: &quot;test@test.de&quot;\r\n    }\r\n\r\nWhat I must do? I use Spring Boot and Hibernate Entities.\r\n\r\nThank you for any support\r\n\r\n\r\n","title":"How to change JSON representation for single value java object?","body":"<p>I had a class like:</p>\n<pre><code>public class EmailAddress {\n   public String value;\n\n   public String tld() {...}\n   public String host() {...}\n   public String mailbox() {...}\n}\n</code></pre>\n<p>Now I use this class in an Object / Entity:</p>\n<pre><code>@Entity\npublic class Customer {\n    public String name;\n    public EmailAddress mail;\n}\n</code></pre>\n<p>Now, when I do a rest service for <code>Customer</code>, I get this format:</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;email&quot;: {\n        &quot;value&quot;: &quot;test@test.de&quot;\n    }\n}\n</code></pre>\n<p>But I only want <code>&quot;email&quot;: &quot;test@test.de&quot;</code></p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;Test&quot;,\n    &quot;email&quot;: &quot;test@test.de&quot;\n}\n</code></pre>\n<p>What I must do? I use Spring Boot and Hibernate Entities.</p>\n<p>Thank you for any support</p>\n"},{"tags":["java","maven","spring-boot"],"comments":[{"owner":{"account_id":463283,"reputation":15811,"user_id":866082,"accept_rate":74,"display_name":"Mehran"},"score":0,"creation_date":1484885969,"post_id":41756011,"comment_id":70704172,"body_markdown":"I started without it, it gives out the same error with / without it!","body":"I started without it, it gives out the same error with / without it!"}],"answers":[{"tags":[],"owner":{"account_id":463283,"reputation":15811,"user_id":866082,"accept_rate":74,"display_name":"Mehran"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1484927108,"creation_date":1484927108,"answer_id":41767471,"question_id":41756011,"body_markdown":"As it turned out, it had nothing to do with Maven and/or Spring-Boot. In case someone else might face the same issue, here&#39;s what I&#39;ve done that led to this problem:\r\n\r\nAs a part of my deployment process, I would unzip the jar file, revise the config.properties and zip it again. It seems for some reason (unknown to myself), the generated .jar file is not executable and leads to the mentioned error.\r\n\r\nMy workaround was not to uncompress the .jar file, instead just replace the config.properties with a single command, like `zip ./project.jar ./config.properties`, while the project.jar is already in the current path. This one works!","title":"Can&#39;t run a Spring-Boot jar file due to &quot;Unable to open nested entry&quot;","body":"<p>As it turned out, it had nothing to do with Maven and/or Spring-Boot. In case someone else might face the same issue, here's what I've done that led to this problem:</p>\n\n<p>As a part of my deployment process, I would unzip the jar file, revise the config.properties and zip it again. It seems for some reason (unknown to myself), the generated .jar file is not executable and leads to the mentioned error.</p>\n\n<p>My workaround was not to uncompress the .jar file, instead just replace the config.properties with a single command, like <code>zip ./project.jar ./config.properties</code>, while the project.jar is already in the current path. This one works!</p>\n"},{"tags":[],"owner":{"account_id":4153618,"reputation":924,"user_id":3405414,"display_name":"Prashanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1532006211,"creation_date":1532006211,"answer_id":51423690,"question_id":41756011,"body_markdown":"I also faced this issue and tried the following way which worked well for me.\r\n\r\nNOTE : **Dont&#39; extract and build** new jar again. Simply **extract and update** existing jar with modified file.\r\n\r\nFor example, there is a jar namely myjar.jar in lab_directory\r\n\r\ni) move to lab_directory and extract myjar.jar ( which has dir1/config.properties file )&lt;br&gt;\r\nii) copy dir1 in extracted folder to lab_directory folder&lt;br&gt;\r\niii) modify lab_directory/dir1/config.properties&lt;br&gt;\r\niv) Run following command in lab_directory&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;**jar -uf myjar.jar dir1/config.properties**\r\n\r\nThat&#39;s it. Existing myjar.jar has been updated with modified config.properties file now.","title":"Can&#39;t run a Spring-Boot jar file due to &quot;Unable to open nested entry&quot;","body":"<p>I also faced this issue and tried the following way which worked well for me.</p>\n\n<p>NOTE : <strong>Dont' extract and build</strong> new jar again. Simply <strong>extract and update</strong> existing jar with modified file.</p>\n\n<p>For example, there is a jar namely myjar.jar in lab_directory</p>\n\n<p>i) move to lab_directory and extract myjar.jar ( which has dir1/config.properties file )<br>\nii) copy dir1 in extracted folder to lab_directory folder<br>\niii) modify lab_directory/dir1/config.properties<br>\niv) Run following command in lab_directory<br>\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<strong>jar -uf myjar.jar dir1/config.properties</strong></p>\n\n<p>That's it. Existing myjar.jar has been updated with modified config.properties file now.</p>\n"},{"tags":[],"owner":{"account_id":22580620,"reputation":111,"user_id":16765314,"display_name":"Alex Malyshev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671195875,"creation_date":1671195875,"answer_id":74824843,"question_id":41756011,"body_markdown":"*It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file*\r\n\r\nIt just means that we should use **no compression** by a command like this:\r\n\r\njar -uvf0 example_app.war DIR_TO_ADD\r\n\r\nWhere &quot;0&quot; means that no compression will be used.\r\n\r\nSee &quot;0&quot; options in:\r\nhttps://docs.oracle.com/javase/7/docs/technotes/tools/windows/jar.html#options\r\n\r\nSuch a way helped me to add the directory with files and run the java without errors like in the subject.","title":"Can&#39;t run a Spring-Boot jar file due to &quot;Unable to open nested entry&quot;","body":"<p><em>It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file</em></p>\n<p>It just means that we should use <strong>no compression</strong> by a command like this:</p>\n<p>jar -uvf0 example_app.war DIR_TO_ADD</p>\n<p>Where &quot;0&quot; means that no compression will be used.</p>\n<p>See &quot;0&quot; options in:\n<a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jar.html#options\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/technotes/tools/windows/jar.html#options</a></p>\n<p>Such a way helped me to add the directory with files and run the java without errors like in the subject.</p>\n"}],"owner":{"account_id":463283,"reputation":15811,"user_id":866082,"accept_rate":74,"display_name":"Mehran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14862,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41767471,"answer_count":3,"score":3,"last_activity_date":1671195875,"creation_date":1484885712,"question_id":41756011,"body_markdown":"I know there are a dozen questions like this out there but I didn&#39;t find any of their solutions suitable for my case!\r\n\r\nSo, I&#39;m trying to pack a jar file for a Spring-Boot project using Maven. I&#39;ve created the whole project using IntelliJ IDEA and it runs under IDE. In order to build the package, I use `mvn package` from the command line.\r\n\r\nThe generated .jar file can be run on my development machine too but when I copy the .jar file to some raw docker container, it gives out the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalStateException: Unable to open nested entry &#39;BOOT-INF/lib/lucene-highlighter-5.4.1.jar&#39;. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file\r\n\r\n\r\nAnd here&#39;s my `pom.xml` file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n        &lt;name&gt;demo&lt;/name&gt;\r\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\r\n                &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\r\n                &lt;version&gt;2.2.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\r\n    &lt;/project&gt;\r\n","title":"Can&#39;t run a Spring-Boot jar file due to &quot;Unable to open nested entry&quot;","body":"<p>I know there are a dozen questions like this out there but I didn't find any of their solutions suitable for my case!</p>\n\n<p>So, I'm trying to pack a jar file for a Spring-Boot project using Maven. I've created the whole project using IntelliJ IDEA and it runs under IDE. In order to build the package, I use <code>mvn package</code> from the command line.</p>\n\n<p>The generated .jar file can be run on my development machine too but when I copy the .jar file to some raw docker container, it gives out the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalStateException: Unable to open nested entry 'BOOT-INF/lib/lucene-highlighter-5.4.1.jar'. It has been compressed and nested jar files must be stored without compression. Please check the mechanism used to create your executable jar file\n</code></pre>\n\n<p>And here's my <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.elasticsearch&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","certificate","itext","digital-signature"],"owner":{"account_id":27272476,"reputation":1,"user_id":20793584,"display_name":"18CSE039 SRIVARDHAN VASUDEVAN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671195630,"creation_date":1671195515,"question_id":74824785,"body_markdown":"Want to read a .pfx file and want to write on multiple pages of pdf file able to write it only one page.\r\nI am sharing my code below i have itext library reading and detaching the .pfx in the pdf.\r\nThe Output what I get is it writing the digital signature in the first page of the document, but my requirement is to write it on all pdf pages.From My analysis the The sign is dispatched after calling \r\n\r\n```\r\nMakeSignature.signDetached(appearance, digest, es, chain, null, null, null, 0, MakeSignature.CryptoStandard.CMS);\r\n```\r\n\r\n\r\n**Exception in thread &quot;main&quot; com.itextpdf.text.DocumentException: com.itextpdf.text.DocumentException: Document already pre closed.**\r\n\r\nit is the exception what I am getting while looping the pages.\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage digitalsigning;\r\n\r\n/**\r\n *\r\n * @author srivardhan.vasudevan\r\n */\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.File;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileOutputStream;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\nimport java.security.GeneralSecurityException;\r\nimport java.security.KeyStore;\r\nimport java.security.PrivateKey;\r\nimport java.security.cert.Certificate;\r\nimport java.util.Enumeration;\r\nimport com.itextpdf.text.DocumentException;\r\nimport com.itextpdf.text.pdf.PdfReader;\r\nimport com.itextpdf.text.pdf.PdfSignatureAppearance;\r\nimport com.itextpdf.text.pdf.PdfStamper;\r\nimport com.itextpdf.layout.Document;\r\nimport com.itextpdf.text.pdf.security.BouncyCastleDigest;\r\nimport com.itextpdf.text.pdf.security.ExternalDigest;\r\nimport com.itextpdf.text.pdf.security.ExternalSignature;\r\nimport com.itextpdf.text.pdf.security.MakeSignature;\r\nimport com.itextpdf.text.pdf.security.PrivateKeySignature;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\npublic class Digitalsigning{\r\npublic static void main(String[] args) throws FileNotFoundException, GeneralSecurityException, IOException, DocumentException {\r\n\tKeyStore ks;\r\n\tPrivateKey pk = null;\r\n\tCertificate[] chain=null;\r\n        String signedFileName = &quot;D:/PDF/new.pdfSigned.pdf&quot;;\r\n\tString inputPdfName = &quot;D:/PDF/nameddestinations.pdf&quot;;\r\n       File newfile = new File(inputPdfName);\r\n         \r\n\t\r\n\tPdfReader reader = null;\r\n\tPdfStamper stamper = null;\r\n\ttry {\r\n        if(true){\r\n       \t java.security.Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n       \t String digiPCred = &quot;llmsprod&quot;; // PDF password \r\n       \t ks = KeyStore.getInstance(&quot;pkcs12&quot;);\r\n         byte[] array = Files.readAllBytes(Paths.get(&quot;D:\\\\Pfxname\\\\llmsprod.pfx&quot;));\r\n       \t\r\n       \t\t InputStream is = new ByteArrayInputStream(array);\r\n       \t\t ks.load(is, digiPCred.toCharArray());\r\n     //  \t ks.load(new FileInputStream(&quot;D:\\\\Pfxname&quot;), digiPCred.toCharArray());\r\n       \t\r\n       \t String alias = &quot;abbb&quot;;\r\n       \t Enumeration&lt;String&gt; aliases = ks.aliases();\r\n       \t while (aliases.hasMoreElements()) {\r\n       \t\t alias = aliases.nextElement();\r\n       \t\t pk = (PrivateKey) ks.getKey(alias, digiPCred.toCharArray());\r\n       \t\t \tif (pk != null) {\r\n       \t\t \t\tbreak;\r\n       \t\t \t\t}\r\n       \t \t}\r\n             chain = ks.getCertificateChain(alias);\r\n        }       \r\n                    reader = new PdfReader(inputPdfName);\r\n            try {\r\n\t\t    OutputStream os = new FileOutputStream(signedFileName);\r\n\t\t    stamper = PdfStamper.createSignature(reader, os, &#39;\\0&#39;, null, false);\r\n                   \r\n\t    }\r\n          catch(Exception e){\r\n              e.printStackTrace();\r\n          }\r\n            PdfSignatureAppearance appearance = null;\r\n            try {\r\n                if (stamper != null) {\r\n                    appearance = stamper.getSignatureAppearance();\r\n                }\r\n            } catch (NullPointerException ex) {\r\n                ex.printStackTrace();\r\n            }\r\n          int top = 100;\r\n          int pages = reader.getNumberOfPages();\r\n        \r\n          for (int i = 1; i &lt;= pages; i++) {\r\n\r\n            appearance.setVisibleSignature(new com.itextpdf.text.Rectangle(0, 1, 300, 109), 1, &quot;sig&quot;);\r\n          \r\n\t    String algorithm = &quot;SHA384&quot;;\r\n\t    /*switch (4) {\r\n\t\tcase 1:\r\n\t\t    algorithm = &quot;RIPEMD160&quot;;\r\n\t\t    break;\r\n\t\tcase 2:\r\n\t\t    algorithm = &quot;SHA1&quot;;\r\n\t\t    break;\r\n\t\tcase 3:\r\n\t\t    algorithm = &quot;SHA256&quot;;\r\n\t\t    break;\r\n\t\tcase 4:\r\n\t\t    algorithm = &quot;SHA384&quot;;\r\n\t\t    break;\r\n\t\tcase 5:\r\n\t\t    algorithm = &quot;SHA512&quot;;\r\n\t\t    break;\r\n                    \r\n\t    }*/\r\n          \r\nExternalDigest digest = new BouncyCastleDigest();\r\nExternalSignature es = new PrivateKeySignature(pk, algorithm, &quot;BC&quot;);\r\nMakeSignature.signDetached(appearance, digest, es, chain, null, null, null, 0, MakeSignature.CryptoStandard.CMS);\r\n            \r\n        } \r\n         \r\n          \r\n        }catch (GeneralSecurityException ex) {\r\n\t     //OMSLayoutLogger.printErr(ex.toString(), ex);\r\n            throw new GeneralSecurityException(ex);\r\n        } catch (IOException ex) {\r\n\t    if (ex.toString().contains(&quot;BadPaddingException&quot;)) {\r\n\t\t//OMSLayoutLogger.printErr(&quot;*****************************Password incorrect***************************&quot;, ex);\r\n\t    } else if (ex.toString().contains(&quot;FileNotFoundException&quot;)) {\r\n\t\t//OMSLayoutLogger.printErr(&quot;*******************.PFX file or PDF not found**************************&quot;, ex);\r\n\t    } else {\r\n\t\t//OMSLayoutLogger.printErr(ex.toString()+&quot;Digital Signature Exception&quot;, ex);\r\n\t    }\r\n            throw new IOException(ex);\r\n\t} catch (DocumentException ex) {\r\n\t    //OMSLayoutLogger.printErr(ex.toString()+&quot;Digital Signature Exception&quot;, ex);\r\n            throw new DocumentException(ex);\r\n        }\r\n\tfinally{\r\n\t\tif(reader != null) {\r\n\t\t\treader.close();\r\n\t\t}\r\n\ttry {\r\n\t}catch (Exception e) {\r\n\t    throw e;\r\n\t}\r\n\t}  \r\n\t}\r\n}\r\n```\r\n\r\n","title":"Want to read a .pfx file and want to write on multiple pages of pdf file able to write it only one page","body":"<p>Want to read a .pfx file and want to write on multiple pages of pdf file able to write it only one page.\nI am sharing my code below i have itext library reading and detaching the .pfx in the pdf.\nThe Output what I get is it writing the digital signature in the first page of the document, but my requirement is to write it on all pdf pages.From My analysis the The sign is dispatched after calling</p>\n<pre><code>MakeSignature.signDetached(appearance, digest, es, chain, null, null, null, 0, MakeSignature.CryptoStandard.CMS);\n</code></pre>\n<p><strong>Exception in thread &quot;main&quot; com.itextpdf.text.DocumentException: com.itextpdf.text.DocumentException: Document already pre closed.</strong></p>\n<p>it is the exception what I am getting while looping the pages.</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage digitalsigning;\n\n/**\n *\n * @author srivardhan.vasudevan\n */\nimport java.io.ByteArrayInputStream;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.security.GeneralSecurityException;\nimport java.security.KeyStore;\nimport java.security.PrivateKey;\nimport java.security.cert.Certificate;\nimport java.util.Enumeration;\nimport com.itextpdf.text.DocumentException;\nimport com.itextpdf.text.pdf.PdfReader;\nimport com.itextpdf.text.pdf.PdfSignatureAppearance;\nimport com.itextpdf.text.pdf.PdfStamper;\nimport com.itextpdf.layout.Document;\nimport com.itextpdf.text.pdf.security.BouncyCastleDigest;\nimport com.itextpdf.text.pdf.security.ExternalDigest;\nimport com.itextpdf.text.pdf.security.ExternalSignature;\nimport com.itextpdf.text.pdf.security.MakeSignature;\nimport com.itextpdf.text.pdf.security.PrivateKeySignature;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\npublic class Digitalsigning{\npublic static void main(String[] args) throws FileNotFoundException, GeneralSecurityException, IOException, DocumentException {\n    KeyStore ks;\n    PrivateKey pk = null;\n    Certificate[] chain=null;\n        String signedFileName = &quot;D:/PDF/new.pdfSigned.pdf&quot;;\n    String inputPdfName = &quot;D:/PDF/nameddestinations.pdf&quot;;\n       File newfile = new File(inputPdfName);\n         \n    \n    PdfReader reader = null;\n    PdfStamper stamper = null;\n    try {\n        if(true){\n         java.security.Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n         String digiPCred = &quot;llmsprod&quot;; // PDF password \n         ks = KeyStore.getInstance(&quot;pkcs12&quot;);\n         byte[] array = Files.readAllBytes(Paths.get(&quot;D:\\\\Pfxname\\\\llmsprod.pfx&quot;));\n        \n             InputStream is = new ByteArrayInputStream(array);\n             ks.load(is, digiPCred.toCharArray());\n     //      ks.load(new FileInputStream(&quot;D:\\\\Pfxname&quot;), digiPCred.toCharArray());\n        \n         String alias = &quot;abbb&quot;;\n         Enumeration&lt;String&gt; aliases = ks.aliases();\n         while (aliases.hasMoreElements()) {\n             alias = aliases.nextElement();\n             pk = (PrivateKey) ks.getKey(alias, digiPCred.toCharArray());\n                if (pk != null) {\n                    break;\n                    }\n            }\n             chain = ks.getCertificateChain(alias);\n        }       \n                    reader = new PdfReader(inputPdfName);\n            try {\n            OutputStream os = new FileOutputStream(signedFileName);\n            stamper = PdfStamper.createSignature(reader, os, '\\0', null, false);\n                   \n        }\n          catch(Exception e){\n              e.printStackTrace();\n          }\n            PdfSignatureAppearance appearance = null;\n            try {\n                if (stamper != null) {\n                    appearance = stamper.getSignatureAppearance();\n                }\n            } catch (NullPointerException ex) {\n                ex.printStackTrace();\n            }\n          int top = 100;\n          int pages = reader.getNumberOfPages();\n        \n          for (int i = 1; i &lt;= pages; i++) {\n\n            appearance.setVisibleSignature(new com.itextpdf.text.Rectangle(0, 1, 300, 109), 1, &quot;sig&quot;);\n          \n        String algorithm = &quot;SHA384&quot;;\n        /*switch (4) {\n        case 1:\n            algorithm = &quot;RIPEMD160&quot;;\n            break;\n        case 2:\n            algorithm = &quot;SHA1&quot;;\n            break;\n        case 3:\n            algorithm = &quot;SHA256&quot;;\n            break;\n        case 4:\n            algorithm = &quot;SHA384&quot;;\n            break;\n        case 5:\n            algorithm = &quot;SHA512&quot;;\n            break;\n                    \n        }*/\n          \nExternalDigest digest = new BouncyCastleDigest();\nExternalSignature es = new PrivateKeySignature(pk, algorithm, &quot;BC&quot;);\nMakeSignature.signDetached(appearance, digest, es, chain, null, null, null, 0, MakeSignature.CryptoStandard.CMS);\n            \n        } \n         \n          \n        }catch (GeneralSecurityException ex) {\n         //OMSLayoutLogger.printErr(ex.toString(), ex);\n            throw new GeneralSecurityException(ex);\n        } catch (IOException ex) {\n        if (ex.toString().contains(&quot;BadPaddingException&quot;)) {\n        //OMSLayoutLogger.printErr(&quot;*****************************Password incorrect***************************&quot;, ex);\n        } else if (ex.toString().contains(&quot;FileNotFoundException&quot;)) {\n        //OMSLayoutLogger.printErr(&quot;*******************.PFX file or PDF not found**************************&quot;, ex);\n        } else {\n        //OMSLayoutLogger.printErr(ex.toString()+&quot;Digital Signature Exception&quot;, ex);\n        }\n            throw new IOException(ex);\n    } catch (DocumentException ex) {\n        //OMSLayoutLogger.printErr(ex.toString()+&quot;Digital Signature Exception&quot;, ex);\n            throw new DocumentException(ex);\n        }\n    finally{\n        if(reader != null) {\n            reader.close();\n        }\n    try {\n    }catch (Exception e) {\n        throw e;\n    }\n    }  \n    }\n}\n</code></pre>\n"},{"tags":["java","hashmap","iterator","nosuchelementexception"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1671195052,"post_id":74824601,"comment_id":132052157,"body_markdown":"You are calling `iterator2.next()` twice inside your loop. Not only do you not know if that is possible because your `hasNext()` check only makes sure it has one next element, but also will it give you completely wrong results as you take the key and value from different entries. Call it once in the loop and save the result, then use that result to get key value from that one single call.","body":"You are calling <code>iterator2.next()</code> twice inside your loop. Not only do you not know if that is possible because your <code>hasNext()</code> check only makes sure it has one next element, but also will it give you completely wrong results as you take the key and value from different entries. Call it once in the loop and save the result, then use that result to get key value from that one single call."},{"owner":{"display_name":"user18906827"},"score":0,"creation_date":1671195768,"post_id":74824601,"comment_id":132052418,"body_markdown":"Got it, thanks!I was blended by the fact that it worked with my solution whenever i deleted the empty line.","body":"Got it, thanks!I was blended by the fact that it worked with my solution whenever i deleted the empty line."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671195144,"creation_date":1671195144,"answer_id":74824723,"question_id":74824601,"body_markdown":"In your `while(iterator2.hasNext())` loop you call `iterator2.next()` twice which means that the iterator advances twice each time.\r\n\r\nWith the empty line present your input has an odd number of lines at that means the last time through the while loop there is no element left for the `iterator2.next().getValue()` call.\r\n\r\nIt would be better to use the &quot;for-each&quot; idiom:\r\n\r\n        for (Map.Entry&lt;String, Integer&gt; e: map.entrySet()) {\r\n            String key = e.getKey();\r\n            int value = e.getValue();\r\n\r\n            System.out.println(key + &quot; &quot; + value);\r\n        }\r\n\r\n","title":"NoSuchElementException when HashMap Iterator hits empty line","body":"<p>In your <code>while(iterator2.hasNext())</code> loop you call <code>iterator2.next()</code> twice which means that the iterator advances twice each time.</p>\n<p>With the empty line present your input has an odd number of lines at that means the last time through the while loop there is no element left for the <code>iterator2.next().getValue()</code> call.</p>\n<p>It would be better to use the &quot;for-each&quot; idiom:</p>\n<pre><code>    for (Map.Entry&lt;String, Integer&gt; e: map.entrySet()) {\n        String key = e.getKey();\n        int value = e.getValue();\n\n        System.out.println(key + &quot; &quot; + value);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9497623,"reputation":36,"user_id":7060029,"display_name":"K. Zander"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671195607,"creation_date":1671195607,"answer_id":74824803,"question_id":74824601,"body_markdown":"Adding to Thomas&#39; answer, here&#39;s two more ways to iterate over a `Map`&#39;s entries:\r\n```java\r\n// Iterator and for-loop\r\nfor (Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; it = map.entrySet().iterator(); it.hasNext(); ) {\r\n  Map.Entry&lt;String, Integer&gt; e = it.next();\r\n  String key = e.getKey();\r\n  int value = e.getValue();\r\n\r\n  System.out.println(key + &quot; &quot; + value);\r\n}\r\n// forEach with lambda\r\nmap.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\r\n```\r\n","title":"NoSuchElementException when HashMap Iterator hits empty line","body":"<p>Adding to Thomas' answer, here's two more ways to iterate over a <code>Map</code>'s entries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Iterator and for-loop\nfor (Iterator&lt;Map.Entry&lt;String, Integer&gt;&gt; it = map.entrySet().iterator(); it.hasNext(); ) {\n  Map.Entry&lt;String, Integer&gt; e = it.next();\n  String key = e.getKey();\n  int value = e.getValue();\n\n  System.out.println(key + &quot; &quot; + value);\n}\n// forEach with lambda\nmap.forEach((key, value) -&gt; System.out.println(key + &quot; &quot; + value));\n</code></pre>\n"}],"owner":{"display_name":"user18906827"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74824723,"answer_count":2,"score":-2,"last_activity_date":1671195607,"creation_date":1671194531,"question_id":74824601,"body_markdown":"Hi i&#39;m doing some training on ArrayLists and HashMap. \r\n\r\nI&#39;m parsing a file with BufferedReader, add each line to the ArrayList&lt;String&gt; *readList* and now I like to create a HashMap&lt;String,Integer&gt; *map* where the Key is the readList entry and the Value is the line count. \r\n\r\nWhen i use a Lambda command so print the k,v everything works fine. However when i try to use the Iterator to save the k,v to variables, i&#39;m getting a NoSuchElementException error. What am I doing wrong ? (Just fyi when i delete the empty line in the file, everything works fine) \r\n\r\n            String sourceFile = &quot;newtestfile.txt&quot;;\r\n            BufferedReader br = new BufferedReader(new FileReader(sourceFile));\r\n            String line = br.readLine();\r\n            ArrayList&lt;String&gt; readListe = new ArrayList&lt;&gt;();  \r\n\r\n            while(line != null){\r\n                readListe.add(line);\r\n                line = br.readLine();\r\n            }\r\n\r\n            HashMap&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\r\n            for(int i = 0; i&lt;readListe.size() ;i++){\r\n                map.put(readListe.get(i), i+1);\r\n            }\r\n    \r\n            //map.forEach((k,v) -&gt; System.out.println(k));\r\n            Iterator&lt;Map.Entry&lt;String,Integer&gt;&gt; iterator2 = map.entrySet().iterator();\r\n            while(iterator2.hasNext()){\r\n                String key = iterator2.next().getKey();\r\n                int value = iterator2.next().getValue();\r\n\r\n                System.out.println(key + &quot; &quot; + value);\r\n            }\r\n    \r\n\r\n\r\n    **Source file:** \r\n \r\n    Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren\r\n    NewLine ipsum dolor sit amet, consetetur sadipscing elitr, \r\n    This is line 3\r\n    //EMPTY LINE\r\n    John Doe\r\n    //END OF FILE\r\n ","title":"NoSuchElementException when HashMap Iterator hits empty line","body":"<p>Hi i'm doing some training on ArrayLists and HashMap.</p>\n<p>I'm parsing a file with BufferedReader, add each line to the ArrayList <em>readList</em> and now I like to create a HashMap&lt;String,Integer&gt; <em>map</em> where the Key is the readList entry and the Value is the line count.</p>\n<p>When i use a Lambda command so print the k,v everything works fine. However when i try to use the Iterator to save the k,v to variables, i'm getting a NoSuchElementException error. What am I doing wrong ? (Just fyi when i delete the empty line in the file, everything works fine)</p>\n<pre><code>        String sourceFile = &quot;newtestfile.txt&quot;;\n        BufferedReader br = new BufferedReader(new FileReader(sourceFile));\n        String line = br.readLine();\n        ArrayList&lt;String&gt; readListe = new ArrayList&lt;&gt;();  \n\n        while(line != null){\n            readListe.add(line);\n            line = br.readLine();\n        }\n\n        HashMap&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\n        for(int i = 0; i&lt;readListe.size() ;i++){\n            map.put(readListe.get(i), i+1);\n        }\n\n        //map.forEach((k,v) -&gt; System.out.println(k));\n        Iterator&lt;Map.Entry&lt;String,Integer&gt;&gt; iterator2 = map.entrySet().iterator();\n        while(iterator2.hasNext()){\n            String key = iterator2.next().getKey();\n            int value = iterator2.next().getValue();\n\n            System.out.println(key + &quot; &quot; + value);\n        }\n\n\n\n**Source file:** \n\nLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet clita kasd gubergren\nNewLine ipsum dolor sit amet, consetetur sadipscing elitr, \nThis is line 3\n//EMPTY LINE\nJohn Doe\n//END OF FILE\n</code></pre>\n"},{"tags":["java","json","spring","spring-boot","jackson"],"comments":[{"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"score":1,"creation_date":1670957731,"post_id":74788438,"comment_id":131991951,"body_markdown":"Hi! What do you plan to happen if &#39;name&#39; is null/empty but one of the other field is not? What do you mean exactly by &quot;ignore null values&quot;?","body":"Hi! What do you plan to happen if &#39;name&#39; is null/empty but one of the other field is not? What do you mean exactly by &quot;ignore null values&quot;?"},{"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"score":0,"creation_date":1671076808,"post_id":74788438,"comment_id":132021427,"body_markdown":"ignore null as literally give me the field that is non null non empty...\nthe json has 3 fields that contain THE SAME information, but sometimes 1 or 2 these fields are null and the information is just in the one... so i want jackson deserialize only the field that is non null to my java pojo... this field will change from request to request","body":"ignore null as literally give me the field that is non null non empty... the json has 3 fields that contain THE SAME information, but sometimes 1 or 2 these fields are null and the information is just in the one... so i want jackson deserialize only the field that is non null to my java pojo... this field will change from request to request"}],"answers":[{"comments":[{"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"score":0,"creation_date":1671076991,"post_id":74790377,"comment_id":132021448,"body_markdown":"great answer... I think i will stick to the multiple setters option","body":"great answer... I think i will stick to the multiple setters option"}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1670965670,"creation_date":1670962225,"answer_id":74790377,"question_id":74788438,"body_markdown":"# Multiple Setters\r\n\r\nOne of the possible options is to define a bunch of additional setters for each duplicated property, annotated with [`@JsonSetter`][jsonSetter] to map each setter to a corresponding property flavor.\r\n\r\nTo avoid logic duplication, every additional setter should delegate to a regular setter, which should determine if the existing value needs to be updated (*if it&#39;s empty, null, etc.*).\r\n\r\n    public class MyPojo {\r\n        public static final Predicate&lt;String&gt; NULL_OR_EMPTY =\r\n            s -&gt; s == null || s.isEmpty(); // predicate can be reused to check multiple properties\r\n\r\n        private String name;\r\n        \r\n        @JsonSetter(&quot;name&quot;)\r\n        public void setName(String name) {\r\n            if (NULL_OR_EMPTY.test(this.name)) this.name = name;\r\n        }\r\n    \r\n        @JsonSetter(&quot;full_name&quot;)\r\n        public void setName1(String name) {\r\n            setName(name);\r\n        }\r\n    \r\n        @JsonSetter(&quot;fullName&quot;)\r\n        public void setName2(String name) {\r\n            setName(name);\r\n        }\r\n    }\r\n\r\n*Usage example:*\r\n\r\n```\r\nString json = &quot;{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}&quot;;\r\n    \r\nObjectMapper mapper = new ObjectMapper();\r\n        \r\nMyPojo myPojo = mapper.readValue(json, MyPojo.class);\r\nSystem.out.println(myPojo);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nMyPojo{name=&#39;name&#39;}\r\n```\r\n\r\nThe drawbacks of this approach are the usage of &quot;smart-setters&quot;, which might not considered to be clean (because it violates the Single responsibility principle, setters aren&#39;t meant to perform validation) and domain class gets polluted with additional setter methods. Both issues can be solved by externalizing this functionality.\r\n\r\n# Custom Converter\r\n\r\nAnother possible solution is to customize deserialization by defining a Converter for the target type.\r\n\r\n***Note:** don&#39;t confuse Converter and Deserializer. Deserializer is meant to provide logic how to construct a POJO based on the information contained in the JsonParser, whilst Converter is used to transform one POJO (which is easier to deserialize) into another POJO.*\r\n\r\nSo we need to create two classes: Converter and auxiliary type reflecting the data model of the incoming JSON.\r\n\r\nConsider the following auxiliary POJO:\r\n\r\n    public record AuxiliaryPojo(\r\n        @JsonProperty(&quot;name&quot;) String name,\r\n        @JsonProperty(&quot;full_name&quot;) String name1,\r\n        @JsonProperty(&quot;fullName&quot;) String name2\r\n    ) {}\r\n\r\nAnd that&#39;s the Converter extending `StdConverter` that bridges `AuxiliaryPojo` and `MyPojo`:\r\n\r\n    public class AuxiliaryPojoToMyPojo extends StdConverter&lt;AuxiliaryPojo, MyPojo&gt; {\r\n        public static final Predicate&lt;String&gt; NOT_NULL_OR_EMPTY =\r\n            s -&gt; s != null &amp;&amp; !s.isEmpty();\r\n    \r\n        @Override\r\n        public MyPojo convert(AuxiliaryPojo v) {\r\n            return MyPojo.builder()\r\n                .name(findMatching(v.name(), v.name1(), v.name2()))\r\n                .build();\r\n        }\r\n        \r\n        private String findMatching(String... args) {\r\n            return Arrays.stream(args)\r\n                .filter(NOT_NULL_OR_EMPTY)\r\n                .findFirst().orElse(null);\r\n        }\r\n    }\r\n\r\nAnd here&#39;s the domain class (*free from any redundant code*). Note that Converter has been specified via `converter` property of the [`@JsonDeserialize`][jsonDeserialize] annotation.\r\n\r\n    @Getter\r\n    @Builder\r\n    @JsonDeserialize(converter = AuxiliaryPojoToMyPojo.class)\r\n    public static class MyPojo {\r\n        private String name;\r\n    }\r\n\r\nThat would be enough to parse the sample JSON into an instance of `MyPojo`:\r\n\r\n```\r\nString json = &quot;{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}&quot;;\r\n    \r\nObjectMapper mapper = new ObjectMapper();\r\n        \r\nMyPojo myPojo = mapper.readValue(json,bMyPojo.class);\r\nSystem.out.println(myPojo);\r\n```\r\n\r\n*Output:*\r\n\r\n```\r\nMyPojo{name=&#39;name&#39;}\r\n```\r\n\r\n\r\n\r\n   [jsonSetter]: http://fasterxml.github.io/jackson-annotations/javadoc/2.9/index.html?com/fasterxml/jackson/annotation/JsonSetter.html\r\n\r\n   [jsonDeserialize]: https://fasterxml.github.io/jackson-databind/javadoc/2.4/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html","title":"Jackson use the first non-null alias","body":"<h1>Multiple Setters</h1>\n<p>One of the possible options is to define a bunch of additional setters for each duplicated property, annotated with <a href=\"http://fasterxml.github.io/jackson-annotations/javadoc/2.9/index.html?com/fasterxml/jackson/annotation/JsonSetter.html\" rel=\"nofollow noreferrer\"><code>@JsonSetter</code></a> to map each setter to a corresponding property flavor.</p>\n<p>To avoid logic duplication, every additional setter should delegate to a regular setter, which should determine if the existing value needs to be updated (<em>if it's empty, null, etc.</em>).</p>\n<pre><code>public class MyPojo {\n    public static final Predicate&lt;String&gt; NULL_OR_EMPTY =\n        s -&gt; s == null || s.isEmpty(); // predicate can be reused to check multiple properties\n\n    private String name;\n    \n    @JsonSetter(&quot;name&quot;)\n    public void setName(String name) {\n        if (NULL_OR_EMPTY.test(this.name)) this.name = name;\n    }\n\n    @JsonSetter(&quot;full_name&quot;)\n    public void setName1(String name) {\n        setName(name);\n    }\n\n    @JsonSetter(&quot;fullName&quot;)\n    public void setName2(String name) {\n        setName(name);\n    }\n}\n</code></pre>\n<p><em>Usage example:</em></p>\n<pre><code>String json = &quot;{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}&quot;;\n    \nObjectMapper mapper = new ObjectMapper();\n        \nMyPojo myPojo = mapper.readValue(json, MyPojo.class);\nSystem.out.println(myPojo);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>MyPojo{name='name'}\n</code></pre>\n<p>The drawbacks of this approach are the usage of &quot;smart-setters&quot;, which might not considered to be clean (because it violates the Single responsibility principle, setters aren't meant to perform validation) and domain class gets polluted with additional setter methods. Both issues can be solved by externalizing this functionality.</p>\n<h1>Custom Converter</h1>\n<p>Another possible solution is to customize deserialization by defining a Converter for the target type.</p>\n<p><em><strong>Note:</strong> don't confuse Converter and Deserializer. Deserializer is meant to provide logic how to construct a POJO based on the information contained in the JsonParser, whilst Converter is used to transform one POJO (which is easier to deserialize) into another POJO.</em></p>\n<p>So we need to create two classes: Converter and auxiliary type reflecting the data model of the incoming JSON.</p>\n<p>Consider the following auxiliary POJO:</p>\n<pre><code>public record AuxiliaryPojo(\n    @JsonProperty(&quot;name&quot;) String name,\n    @JsonProperty(&quot;full_name&quot;) String name1,\n    @JsonProperty(&quot;fullName&quot;) String name2\n) {}\n</code></pre>\n<p>And that's the Converter extending <code>StdConverter</code> that bridges <code>AuxiliaryPojo</code> and <code>MyPojo</code>:</p>\n<pre><code>public class AuxiliaryPojoToMyPojo extends StdConverter&lt;AuxiliaryPojo, MyPojo&gt; {\n    public static final Predicate&lt;String&gt; NOT_NULL_OR_EMPTY =\n        s -&gt; s != null &amp;&amp; !s.isEmpty();\n\n    @Override\n    public MyPojo convert(AuxiliaryPojo v) {\n        return MyPojo.builder()\n            .name(findMatching(v.name(), v.name1(), v.name2()))\n            .build();\n    }\n    \n    private String findMatching(String... args) {\n        return Arrays.stream(args)\n            .filter(NOT_NULL_OR_EMPTY)\n            .findFirst().orElse(null);\n    }\n}\n</code></pre>\n<p>And here's the domain class (<em>free from any redundant code</em>). Note that Converter has been specified via <code>converter</code> property of the <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.4/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html\" rel=\"nofollow noreferrer\"><code>@JsonDeserialize</code></a> annotation.</p>\n<pre><code>@Getter\n@Builder\n@JsonDeserialize(converter = AuxiliaryPojoToMyPojo.class)\npublic static class MyPojo {\n    private String name;\n}\n</code></pre>\n<p>That would be enough to parse the sample JSON into an instance of <code>MyPojo</code>:</p>\n<pre><code>String json = &quot;{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}&quot;;\n    \nObjectMapper mapper = new ObjectMapper();\n        \nMyPojo myPojo = mapper.readValue(json,bMyPojo.class);\nSystem.out.println(myPojo);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>MyPojo{name='name'}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"score":0,"creation_date":1671076859,"post_id":74790963,"comment_id":132021435,"body_markdown":"really not what i&#39;m asking","body":"really not what i&#39;m asking"}],"tags":[],"owner":{"account_id":14781952,"reputation":120,"user_id":10675247,"display_name":"Philippe Fery"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1670966307,"creation_date":1670966307,"answer_id":74790963,"question_id":74788438,"body_markdown":"An other solution is to ignore additionnal fields &#39;fullName&#39; and &#39;full_name&#39; using annotation `@JsonIgnoreProperties` and a custom deserializer that throws an exception when name property is null (or equal to string &quot;null&quot;) so that you can catch that exception in order not to create a person when name is null.\r\n\r\nSee code below:\r\n\r\n**Class Person**\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    \r\n    @JsonIgnoreProperties({ &quot;fullName&quot;, &quot;full_name&quot; })\r\n    public class Person {\r\n    \t@JsonProperty(&quot;name&quot;)\r\n    \t@JsonDeserialize(using = CustomNameDeserializer.class)\r\n    \tprivate String name;\r\n    \r\n    \tpublic Person() {\r\n    \t\tsuper();\r\n    \t}\r\n    \r\n    \tpublic String toString() {\r\n    \t\treturn &quot;name: &quot; + name;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tString[] personArrayJson = new String[3];\r\n    \t\tpersonArrayJson[0]=&quot;{ \\&quot;name\\&quot; : \\&quot;nameNotNull1\\&quot;, \\&quot;full_name\\&quot; : \\&quot;name\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\r\n    \t\tpersonArrayJson[1]=&quot;{ \\&quot;name\\&quot; : \\&quot;null\\&quot;, \\&quot;full_name\\&quot; : \\&quot;\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\r\n    \t\tpersonArrayJson[2]=&quot;{ \\&quot;name\\&quot; : \\&quot;nameNotNull2\\&quot;, \\&quot;full_name\\&quot; : \\&quot;name\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\r\n    \r\n    \t\tList&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tPerson p;\r\n    \t\tfor (String personJson : personArrayJson) {\r\n    \t\t\ttry {\r\n    \t\t\t\tp = mapper.readValue(personJson, Person.class);\r\n    \t\t\t\tpersons.add(p);\r\n    \t\t\t} catch (JsonProcessingException e) {\r\n    \t\t\t\t//e.printStackTrace();\r\n    \t\t\t\tSystem.out.println(&quot;NAme is null: not deserialized&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Persons list contains &quot;+persons.size()+&quot; persons =&gt; &quot;+persons);\r\n    \t}\r\n    }\r\n\r\n**Class CustomNameDeserializer**\r\n\r\n    import java.io.IOException;\r\n    \r\n    import com.fasterxml.jackson.core.JacksonException;\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.deser.std.StdDeserializer;\r\n    \r\n    public class CustomNameDeserializer extends StdDeserializer&lt;String&gt; {\r\n    \r\n    \tpublic CustomNameDeserializer(Class&lt;String&gt; s) {\r\n    \t\tsuper(s);\r\n    \t}\r\n    \r\n    \tpublic CustomNameDeserializer() {\r\n    \t\tthis(null);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException, NullPointerException{\r\n    \t\tString n = p.getValueAsString();\r\n    \t\tif(n==null || n.equals(&quot;null&quot;) || n.trim().equals(&quot;&quot;))\r\n    \t\t\tthrow new NullPointerException(&quot;Name is null&quot;);\r\n    \t\treturn n;\r\n    \t}\r\n    }\r\n\r\nHope it helps","title":"Jackson use the first non-null alias","body":"<p>An other solution is to ignore additionnal fields 'fullName' and 'full_name' using annotation <code>@JsonIgnoreProperties</code> and a custom deserializer that throws an exception when name property is null (or equal to string &quot;null&quot;) so that you can catch that exception in order not to create a person when name is null.</p>\n<p>See code below:</p>\n<p><strong>Class Person</strong></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\n\n@JsonIgnoreProperties({ &quot;fullName&quot;, &quot;full_name&quot; })\npublic class Person {\n    @JsonProperty(&quot;name&quot;)\n    @JsonDeserialize(using = CustomNameDeserializer.class)\n    private String name;\n\n    public Person() {\n        super();\n    }\n\n    public String toString() {\n        return &quot;name: &quot; + name;\n    }\n\n    public static void main(String[] args) {\n        String[] personArrayJson = new String[3];\n        personArrayJson[0]=&quot;{ \\&quot;name\\&quot; : \\&quot;nameNotNull1\\&quot;, \\&quot;full_name\\&quot; : \\&quot;name\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\n        personArrayJson[1]=&quot;{ \\&quot;name\\&quot; : \\&quot;null\\&quot;, \\&quot;full_name\\&quot; : \\&quot;\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\n        personArrayJson[2]=&quot;{ \\&quot;name\\&quot; : \\&quot;nameNotNull2\\&quot;, \\&quot;full_name\\&quot; : \\&quot;name\\&quot;, \\&quot;fullName\\&quot; : \\&quot;name\\&quot;}&quot;;\n\n        List&lt;Person&gt; persons = new ArrayList&lt;Person&gt;();\n        ObjectMapper mapper = new ObjectMapper();\n        Person p;\n        for (String personJson : personArrayJson) {\n            try {\n                p = mapper.readValue(personJson, Person.class);\n                persons.add(p);\n            } catch (JsonProcessingException e) {\n                //e.printStackTrace();\n                System.out.println(&quot;NAme is null: not deserialized&quot;);\n            }\n        }\n        \n        System.out.println(&quot;Persons list contains &quot;+persons.size()+&quot; persons =&gt; &quot;+persons);\n    }\n}\n</code></pre>\n<p><strong>Class CustomNameDeserializer</strong></p>\n<pre><code>import java.io.IOException;\n\nimport com.fasterxml.jackson.core.JacksonException;\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.deser.std.StdDeserializer;\n\npublic class CustomNameDeserializer extends StdDeserializer&lt;String&gt; {\n\n    public CustomNameDeserializer(Class&lt;String&gt; s) {\n        super(s);\n    }\n\n    public CustomNameDeserializer() {\n        this(null);\n    }\n\n    @Override\n    public String deserialize(JsonParser p, DeserializationContext ctxt) throws IOException, JacksonException, NullPointerException{\n        String n = p.getValueAsString();\n        if(n==null || n.equals(&quot;null&quot;) || n.trim().equals(&quot;&quot;))\n            throw new NullPointerException(&quot;Name is null&quot;);\n        return n;\n    }\n}\n</code></pre>\n<p>Hope it helps</p>\n"}],"owner":{"account_id":7471816,"reputation":3218,"user_id":5679560,"accept_rate":36,"display_name":"Rafael Lima"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":475,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74790377,"answer_count":2,"score":2,"last_activity_date":1671195580,"creation_date":1670951075,"question_id":74788438,"body_markdown":"I&#39;m using Jackson to parse JSON data on a Spring Boot application, but Jackson is unable to select properly the JSON fields to map to the POJO fields.\r\n\r\n## Details\r\n\r\nFirstly, I&#39;m reading data from a third party library, and their data model has a lot of redundancy (namely the several properties can represent the same information), and I can&#39;t ask them to fix it.\r\n\r\nTheir JSON is something like that:\r\n\r\n    { &quot;name&quot; : &quot;name&quot;, &quot;full_name&quot; : &quot;name&quot;, &quot;fullName&quot; : &quot;name&quot;}\r\n\r\nthere are `3` properties in JSON containing the same information. But sometimes there would be **only one** of these properties which is *non-null*, like:\r\n\r\n    { &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}\r\n\r\nAnd that happens to many other properties.\r\n\r\nI&#39;ve tried to use `@JsonAlias` to extract the required (*non-null*) data from the incoming JSON, but it doesn&#39;t resolve the issue.\r\n\r\n    @JsonProperty(&quot;name&quot;)\r\n    @JsonAlias({&quot;full_name&quot;,&quot;fullName&quot;})\r\n    private String name;\r\n\r\nFirst, that `@JsonAlias` is taking precedence from the `@JsonProperty` value. Second, it&#39;s not ignoring null values.\r\n\r\nHow can I make Jackson ignore `null` values in a situation like described above?","title":"Jackson use the first non-null alias","body":"<p>I'm using Jackson to parse JSON data on a Spring Boot application, but Jackson is unable to select properly the JSON fields to map to the POJO fields.</p>\n<h2>Details</h2>\n<p>Firstly, I'm reading data from a third party library, and their data model has a lot of redundancy (namely the several properties can represent the same information), and I can't ask them to fix it.</p>\n<p>Their JSON is something like that:</p>\n<pre><code>{ &quot;name&quot; : &quot;name&quot;, &quot;full_name&quot; : &quot;name&quot;, &quot;fullName&quot; : &quot;name&quot;}\n</code></pre>\n<p>there are <code>3</code> properties in JSON containing the same information. But sometimes there would be <strong>only one</strong> of these properties which is <em>non-null</em>, like:</p>\n<pre><code>{ &quot;name&quot; : null, &quot;full_name&quot; : &quot;&quot;, &quot;fullName&quot; : &quot;name&quot;}\n</code></pre>\n<p>And that happens to many other properties.</p>\n<p>I've tried to use <code>@JsonAlias</code> to extract the required (<em>non-null</em>) data from the incoming JSON, but it doesn't resolve the issue.</p>\n<pre><code>@JsonProperty(&quot;name&quot;)\n@JsonAlias({&quot;full_name&quot;,&quot;fullName&quot;})\nprivate String name;\n</code></pre>\n<p>First, that <code>@JsonAlias</code> is taking precedence from the <code>@JsonProperty</code> value. Second, it's not ignoring null values.</p>\n<p>How can I make Jackson ignore <code>null</code> values in a situation like described above?</p>\n"},{"tags":["java","groovy","spock"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":1,"creation_date":1671193332,"post_id":74797317,"comment_id":132051669,"body_markdown":"I have edited your question, making the previously messy code more readable. Please be informed that space and line break characters don&#39;t cost extra money here. You may use both indentation and line breaks in order to hurt other people&#39;s eyes less, if you so choose. I also added syntax highlighting. Please learn how to use both. Thank you.","body":"I have edited your question, making the previously messy code more readable. Please be informed that space and line break characters don&#39;t cost extra money here. You may use both indentation and line breaks in order to hurt other people&#39;s eyes less, if you so choose. I also added syntax highlighting. Please learn how to use both. Thank you."}],"answers":[{"comments":[{"owner":{"account_id":26663896,"reputation":79,"user_id":20276298,"display_name":"layman"},"score":0,"creation_date":1671045866,"post_id":74802070,"comment_id":132015311,"body_markdown":"Thanks for your response. But, is there a way to write a test case for the catch block, without changing the existing code? I need coverage for that part.","body":"Thanks for your response. But, is there a way to write a test case for the catch block, without changing the existing code? I need coverage for that part."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1671193687,"post_id":74802070,"comment_id":132051760,"body_markdown":"Why don&#39;t you want to change it in order to make it more testable? You could factor out the `SecureRandom.getInstanceStrong()` call into an extra method, calling it from `genRand()`, handling the exception there like before. Then you could stub that method in a spy for the error case, throwing an exception instead of returning a result. That would give you full coverage of all execution paths without the need to mock static methods of JDK classes. Feel free to ask, if youi do not understand my comment.","body":"Why don&#39;t you want to change it in order to make it more testable? You could factor out the <code>SecureRandom.getInstanceStrong()</code> call into an extra method, calling it from <code>genRand()</code>, handling the exception there like before. Then you could stub that method in a spy for the error case, throwing an exception instead of returning a result. That would give you full coverage of all execution paths without the need to mock static methods of JDK classes. Feel free to ask, if youi do not understand my comment."}],"tags":[],"owner":{"account_id":1397052,"reputation":4689,"user_id":1326627,"accept_rate":72,"display_name":"Luis Mu&#241;iz"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671038553,"creation_date":1671038553,"answer_id":74802070,"question_id":74797317,"body_markdown":"You should not try to test several branches of your code in one test, so doing it in two tests is actually the right approach. If you try to find a simple description of your test and have to describe several kinds of results, then that&#39;s a hint that your approach is not good.\r\n\r\nA reminder, you should name your test methods with &quot;It...&quot;, for example:\r\n\r\n&quot;It returns a default SecureRandom, if no strong instance of SecureRandom can be found&quot;\r\n\r\nAnother point: You code never leaks a `NoSuchAlgorithmException` into Spec. This exception is caught in your production code, and then you retunr a valid `SecureRandom`.  You can only use `thrown()` if your code actually throws an exception, meaning this is a hard expectation. Your test will fail if the exception is not thrown.\r\n\r\n\r\n\r\n","title":"How to write spock test case for exception handling?","body":"<p>You should not try to test several branches of your code in one test, so doing it in two tests is actually the right approach. If you try to find a simple description of your test and have to describe several kinds of results, then that's a hint that your approach is not good.</p>\n<p>A reminder, you should name your test methods with &quot;It...&quot;, for example:</p>\n<p>&quot;It returns a default SecureRandom, if no strong instance of SecureRandom can be found&quot;</p>\n<p>Another point: You code never leaks a <code>NoSuchAlgorithmException</code> into Spec. This exception is caught in your production code, and then you retunr a valid <code>SecureRandom</code>.  You can only use <code>thrown()</code> if your code actually throws an exception, meaning this is a hard expectation. Your test will fail if the exception is not thrown.</p>\n"},{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671195527,"creation_date":1671195527,"answer_id":74824786,"question_id":74797317,"body_markdown":"Quoting my own comment:\r\n\r\n&gt; Why don&#39;t you want to change the application code in order to make it more testable? You could factor out the `SecureRandom.getInstanceStrong()` call into an extra method, calling it from `genRand()`, handling the exception there like before. Then you could stub that method in a spy for the error case, throwing an exception instead of returning a result. That would give you full coverage of all execution paths without the need to mock static methods of JDK classes.\r\n\r\nI mean something like this:\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q74797317;\r\n\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.SecureRandom;\r\nimport java.util.Random;\r\n\r\npublic class RandomProvider {\r\n  public Random genRand() {\r\n    try {\r\n      return getRandStrong();\r\n    }\r\n    catch (NoSuchAlgorithmException e) {\r\n      System.err.println(e.getMessage());\r\n      return new SecureRandom();\r\n    }\r\n  }\r\n\r\n  protected SecureRandom getRandStrong() throws NoSuchAlgorithmException {\r\n    return SecureRandom.getInstanceStrong();\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.stackoverflow.q74797317\r\n\r\nimport spock.lang.Specification\r\n\r\nimport java.security.NoSuchAlgorithmException\r\n\r\nclass RandomProviderTest extends Specification {\r\n  def &quot;happy path&quot;() {\r\n    given:\r\n    RandomProvider randomProvider = new RandomProvider()\r\n\r\n    expect:\r\n    randomProvider.genRand()\r\n  }\r\n\r\n  def &quot;exception test case&quot;() {\r\n    given:\r\n    RandomProvider randomProvider = Spy() {\r\n      getRandStrong() &gt;&gt; { throw new NoSuchAlgorithmException(&quot;oops&quot;) }\r\n    }\r\n\r\n    expect:\r\n    randomProvider.genRand()\r\n  }\r\n}\r\n```\r\n\r\nTry it in the [Groovy Web Console](https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJydU7FOwzAQ3fMVp07pYgmBVAECiYGBAYQIOzLONTEktjlf2kao_47tpqWBdoDFsn3v7t69Zzup3mWFUKLwirr2pZWekYTnELALpHljl-JjdjY7n52ezLJMt84Sg3dWvYtGmkoUDpWeayVZW7ONv8mFFB5VR5p78WCLTtU3TWXDsW5vVwpdQmeqkd7DkzSlbR_JLnSJ9IyeAVeMpvQwqg6fGQSqc5jU0rkenOR6kk_TNUClF2gu0nZcEGh8vAKDyx-YfJqlTFyFhrypMk4TFZqYE5DrbMsDt6MAR9ZKevwXocL1u7SQiBwTCiZrqnB_fQ2fwDXZZWJ-TM58Yq3zkymsU531HyaK6HX2N_cuD8OLuMHNwGNIx7oR20DmutdGKzj0ApIQQ3wTgR3VQSSmficXIXdkfqp2OYgQ1_B8VA35sUkAv7Uv-vABWoFEwpE23Jgcg1B8j96Hn5JPh8K7ttGR_Zn3OycLHFkODmA5gv0yOfnrj5o7EBya7leK7O5M-LFG4f7w0dEv_PdN7A).\r\n\r\nIn my IDE, the coverage view looks like this:\r\n\r\n[![Coverage report][1]][1]\r\n\r\n[![Class under test with covered methods highlighted][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QD5MU.png\r\n  [2]: https://i.stack.imgur.com/nKYog.png","title":"How to write spock test case for exception handling?","body":"<p>Quoting my own comment:</p>\n<blockquote>\n<p>Why don't you want to change the application code in order to make it more testable? You could factor out the <code>SecureRandom.getInstanceStrong()</code> call into an extra method, calling it from <code>genRand()</code>, handling the exception there like before. Then you could stub that method in a spy for the error case, throwing an exception instead of returning a result. That would give you full coverage of all execution paths without the need to mock static methods of JDK classes.</p>\n</blockquote>\n<p>I mean something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q74797317;\n\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.util.Random;\n\npublic class RandomProvider {\n  public Random genRand() {\n    try {\n      return getRandStrong();\n    }\n    catch (NoSuchAlgorithmException e) {\n      System.err.println(e.getMessage());\n      return new SecureRandom();\n    }\n  }\n\n  protected SecureRandom getRandStrong() throws NoSuchAlgorithmException {\n    return SecureRandom.getInstanceStrong();\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.stackoverflow.q74797317\n\nimport spock.lang.Specification\n\nimport java.security.NoSuchAlgorithmException\n\nclass RandomProviderTest extends Specification {\n  def &quot;happy path&quot;() {\n    given:\n    RandomProvider randomProvider = new RandomProvider()\n\n    expect:\n    randomProvider.genRand()\n  }\n\n  def &quot;exception test case&quot;() {\n    given:\n    RandomProvider randomProvider = Spy() {\n      getRandStrong() &gt;&gt; { throw new NoSuchAlgorithmException(&quot;oops&quot;) }\n    }\n\n    expect:\n    randomProvider.genRand()\n  }\n}\n</code></pre>\n<p>Try it in the <a href=\"https://gwc-experiment.appspot.com/?g=groovy_2_5&amp;codez=eJydU7FOwzAQ3fMVp07pYgmBVAECiYGBAYQIOzLONTEktjlf2kao_47tpqWBdoDFsn3v7t69Zzup3mWFUKLwirr2pZWekYTnELALpHljl-JjdjY7n52ezLJMt84Sg3dWvYtGmkoUDpWeayVZW7ONv8mFFB5VR5p78WCLTtU3TWXDsW5vVwpdQmeqkd7DkzSlbR_JLnSJ9IyeAVeMpvQwqg6fGQSqc5jU0rkenOR6kk_TNUClF2gu0nZcEGh8vAKDyx-YfJqlTFyFhrypMk4TFZqYE5DrbMsDt6MAR9ZKevwXocL1u7SQiBwTCiZrqnB_fQ2fwDXZZWJ-TM58Yq3zkymsU531HyaK6HX2N_cuD8OLuMHNwGNIx7oR20DmutdGKzj0ApIQQ3wTgR3VQSSmficXIXdkfqp2OYgQ1_B8VA35sUkAv7Uv-vABWoFEwpE23Jgcg1B8j96Hn5JPh8K7ttGR_Zn3OycLHFkODmA5gv0yOfnrj5o7EBya7leK7O5M-LFG4f7w0dEv_PdN7A\" rel=\"nofollow noreferrer\">Groovy Web Console</a>.</p>\n<p>In my IDE, the coverage view looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/QD5MU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QD5MU.png\" alt=\"Coverage report\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/nKYog.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nKYog.png\" alt=\"Class under test with covered methods highlighted\" /></a></p>\n"}],"owner":{"account_id":26663896,"reputation":79,"user_id":20276298,"display_name":"layman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1671195527,"creation_date":1671016100,"question_id":74797317,"body_markdown":"I am learning Spock so this may be very basic.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public Random genRand() {\r\n      try {\r\n        return SecureRandom.getInstanceStrong();\r\n      }\r\n      catch (NoSuchAlgorithmException e) {\r\n        logger.debug(e.getMessage());\r\n        return new SecureRandom();\r\n      }\r\n    }\r\n\r\nWhat I have tried so far is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void setup() {\r\n      mockClassName = spy(ClassName)\r\n      mockClassName.logger() &gt;&gt; mockLogger\r\n    }\r\n\r\n    def &quot;exception test case&quot;() {\r\n      given: &quot;nothing&quot;\r\n\r\n      when:&quot;method call happens&quot;\r\n      mockClassName.genRand()\r\n\r\n      then:&quot;handle&quot;\r\n      SecureRandom.getInstanceStrong()\r\n    }\r\n\r\nThis covers the try block only.\r\n\r\nWhile trying: \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void setup() {\r\n      mockClassName = spy(ClassName)\r\n      mockClassName.logger() &gt;&gt; mockLogger\r\n    }\r\n\r\n    def &quot;exception test case&quot;() {\r\n      given: &quot;nothing&quot;\r\n      SecureRandom.getInstanceStrong() &gt;&gt; Exception\r\n\r\n      when:&quot;method call happens&quot;\r\n      mockClassName.genRand()\r\n\r\n      then:&quot;catch&quot;\r\n      NoSuchAlgorithmException e = thrown()\r\n      new SecureRandom()\r\n    }\r\n\r\nThis gives the error, expected exception of type `java.security.NoSuchAlgorithmException`, but no exception was thrown.\r\n\r\nIs it possible to do both try and catch in one test case? Feel free to make two.","title":"How to write spock test case for exception handling?","body":"<p>I am learning Spock so this may be very basic.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Random genRand() {\n  try {\n    return SecureRandom.getInstanceStrong();\n  }\n  catch (NoSuchAlgorithmException e) {\n    logger.debug(e.getMessage());\n    return new SecureRandom();\n  }\n}\n</code></pre>\n<p>What I have tried so far is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setup() {\n  mockClassName = spy(ClassName)\n  mockClassName.logger() &gt;&gt; mockLogger\n}\n\ndef &quot;exception test case&quot;() {\n  given: &quot;nothing&quot;\n\n  when:&quot;method call happens&quot;\n  mockClassName.genRand()\n\n  then:&quot;handle&quot;\n  SecureRandom.getInstanceStrong()\n}\n</code></pre>\n<p>This covers the try block only.</p>\n<p>While trying:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void setup() {\n  mockClassName = spy(ClassName)\n  mockClassName.logger() &gt;&gt; mockLogger\n}\n\ndef &quot;exception test case&quot;() {\n  given: &quot;nothing&quot;\n  SecureRandom.getInstanceStrong() &gt;&gt; Exception\n\n  when:&quot;method call happens&quot;\n  mockClassName.genRand()\n\n  then:&quot;catch&quot;\n  NoSuchAlgorithmException e = thrown()\n  new SecureRandom()\n}\n</code></pre>\n<p>This gives the error, expected exception of type <code>java.security.NoSuchAlgorithmException</code>, but no exception was thrown.</p>\n<p>Is it possible to do both try and catch in one test case? Feel free to make two.</p>\n"},{"tags":["java","sonarqube","apache-poi"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1671158700,"post_id":74819598,"comment_id":132044000,"body_markdown":"Lots of ways to do this, but I&#39;d probably move the inner `for` loop to a method of its own, something like `private void applyStyleToNegativeNumbersInSheet(CellStyle style, XSSFSheet sheet)` which has the added benefit of explaining what&#39;s happening.","body":"Lots of ways to do this, but I&#39;d probably move the inner <code>for</code> loop to a method of its own, something like <code>private void applyStyleToNegativeNumbersInSheet(CellStyle style, XSSFSheet sheet)</code> which has the added benefit of explaining what&#39;s happening."}],"answers":[{"tags":[],"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671195464,"creation_date":1671195464,"answer_id":74824778,"question_id":74819598,"body_markdown":"The methods should have better names but this should help with the refactoring.\r\n\r\n    private void changeFontColorInMinusValue(final AssetContent content) throws IOException {\r\n            if (Objects.isNull(content)) return;\r\n            try (final FileInputStream inputStream = new FileInputStream(content.getTemporaryFile());\r\n                 final XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\n                 final ByteArrayOutputStream byteStream = new ByteArrayOutputStream()) {\r\n                final CellStyle style = getCellStyle(workbook);\r\n                for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); ++sheetIndex) {\r\n                    cellLoop(style, workbook.getSheetAt(sheetIndex));\r\n                }\r\n                workbook.write(byteStream);\r\n                content.setTemporaryFile(AssetContentUtils.createAssetContentTempFile(new ByteArrayInputStream(byteStream.toByteArray())));\r\n                content.setContentLength(byteStream.size());\r\n            }\r\n        }\r\n    \r\n        private CellStyle getCellStyle(XSSFWorkbook workbook) {\r\n            final CellStyle style = workbook.createCellStyle();\r\n            XSSFFont font = workbook.createFont();\r\n            font.setColor(HSSFColor.HSSFColorPredefined.RED.getIndex());\r\n            style.setFont(font);\r\n            return style;\r\n        }\r\n    \r\n        private void cellLoop(CellStyle style, XSSFSheet sheetAt) {\r\n            for (Row row : sheetAt) {\r\n                setCellStyle(style, row.cellIterator());\r\n            }\r\n        }\r\n    \r\n        private void setCellStyle(CellStyle style, Iterator&lt;Cell&gt; cellIterator) {\r\n            while (cellIterator.hasNext()) {\r\n                Cell cell = cellIterator.next();\r\n                if (cell.getCellType() == NUMERIC &amp;&amp; cell.getNumericCellValue() &lt; 0) cell.setCellStyle(style);\r\n            }\r\n        }","title":"Refactor this method to reduce its Cognitive Complexity from 16 to the 15 allowed. How to refactor and reduce the complexity","body":"<p>The methods should have better names but this should help with the refactoring.</p>\n<pre><code>private void changeFontColorInMinusValue(final AssetContent content) throws IOException {\n        if (Objects.isNull(content)) return;\n        try (final FileInputStream inputStream = new FileInputStream(content.getTemporaryFile());\n             final XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\n             final ByteArrayOutputStream byteStream = new ByteArrayOutputStream()) {\n            final CellStyle style = getCellStyle(workbook);\n            for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); ++sheetIndex) {\n                cellLoop(style, workbook.getSheetAt(sheetIndex));\n            }\n            workbook.write(byteStream);\n            content.setTemporaryFile(AssetContentUtils.createAssetContentTempFile(new ByteArrayInputStream(byteStream.toByteArray())));\n            content.setContentLength(byteStream.size());\n        }\n    }\n\n    private CellStyle getCellStyle(XSSFWorkbook workbook) {\n        final CellStyle style = workbook.createCellStyle();\n        XSSFFont font = workbook.createFont();\n        font.setColor(HSSFColor.HSSFColorPredefined.RED.getIndex());\n        style.setFont(font);\n        return style;\n    }\n\n    private void cellLoop(CellStyle style, XSSFSheet sheetAt) {\n        for (Row row : sheetAt) {\n            setCellStyle(style, row.cellIterator());\n        }\n    }\n\n    private void setCellStyle(CellStyle style, Iterator&lt;Cell&gt; cellIterator) {\n        while (cellIterator.hasNext()) {\n            Cell cell = cellIterator.next();\n            if (cell.getCellType() == NUMERIC &amp;&amp; cell.getNumericCellValue() &lt; 0) cell.setCellStyle(style);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":21596581,"reputation":121,"user_id":15925446,"display_name":"Sajith dilshan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671195464,"creation_date":1671157887,"question_id":74819598,"body_markdown":"How can I reduce the complexity of the bellow piece of code? I am getting this error in SonarQube:\r\n\r\n&gt; High :Refactor this method to reduce its Cognitive Complexity from 16\r\n&gt; to the 15 allowed.\r\n\r\n\r\n    private void changeFontColorInMinusValue(final AssetContent content) throws IOException {\r\n          if (!Objects.isNull(content)){\r\n            try (final FileInputStream inputStream = new FileInputStream(content.getTemporaryFile());\r\n                 final XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\r\n                 final ByteArrayOutputStream byteStream = new ByteArrayOutputStream()) {\r\n              final CellStyle style = workbook.createCellStyle();\r\n              XSSFFont font = workbook.createFont();\r\n              font.setColor(HSSFColor.HSSFColorPredefined.RED.getIndex());\r\n              style.setFont(font);\r\n              for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); ++sheetIndex) {\r\n                final XSSFSheet sheetAt = workbook.getSheetAt(sheetIndex);\r\n                for (Row row : sheetAt) {\r\n                  Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\r\n                  while (cellIterator.hasNext()) {\r\n                    Cell cell = cellIterator.next();\r\n                    if(cell.getCellType() == NUMERIC &amp;&amp; cell.getNumericCellValue() &lt; 0){\r\n                        cell.setCellStyle(style);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n              workbook.write(byteStream);\r\n              content.setTemporaryFile(AssetContentUtils.createAssetContentTempFile(new ByteArrayInputStream(byteStream.toByteArray())));\r\n              content.setContentLength(byteStream.size());\r\n            }\r\n          }\r\n      }","title":"Refactor this method to reduce its Cognitive Complexity from 16 to the 15 allowed. How to refactor and reduce the complexity","body":"<p>How can I reduce the complexity of the bellow piece of code? I am getting this error in SonarQube:</p>\n<blockquote>\n<p>High :Refactor this method to reduce its Cognitive Complexity from 16\nto the 15 allowed.</p>\n</blockquote>\n<pre><code>private void changeFontColorInMinusValue(final AssetContent content) throws IOException {\n      if (!Objects.isNull(content)){\n        try (final FileInputStream inputStream = new FileInputStream(content.getTemporaryFile());\n             final XSSFWorkbook workbook = new XSSFWorkbook(inputStream);\n             final ByteArrayOutputStream byteStream = new ByteArrayOutputStream()) {\n          final CellStyle style = workbook.createCellStyle();\n          XSSFFont font = workbook.createFont();\n          font.setColor(HSSFColor.HSSFColorPredefined.RED.getIndex());\n          style.setFont(font);\n          for (int sheetIndex = 0; sheetIndex &lt; workbook.getNumberOfSheets(); ++sheetIndex) {\n            final XSSFSheet sheetAt = workbook.getSheetAt(sheetIndex);\n            for (Row row : sheetAt) {\n              Iterator&lt;Cell&gt; cellIterator = row.cellIterator();\n              while (cellIterator.hasNext()) {\n                Cell cell = cellIterator.next();\n                if(cell.getCellType() == NUMERIC &amp;&amp; cell.getNumericCellValue() &lt; 0){\n                    cell.setCellStyle(style);\n                }\n              }\n            }\n          }\n          workbook.write(byteStream);\n          content.setTemporaryFile(AssetContentUtils.createAssetContentTempFile(new ByteArrayInputStream(byteStream.toByteArray())));\n          content.setContentLength(byteStream.size());\n        }\n      }\n  }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","exception"],"answers":[{"comments":[{"owner":{"account_id":26950487,"reputation":41,"user_id":20519796,"display_name":"Leobejj"},"score":1,"creation_date":1671187608,"post_id":74823298,"comment_id":132049844,"body_markdown":"Thank you, I thought that you need to catch for each method the thrown exception and call the handleException from my class. I did this because my IDE told me to wrap the service method with a try catch instead to just add throws exception in method signature","body":"Thank you, I thought that you need to catch for each method the thrown exception and call the handleException from my class. I did this because my IDE told me to wrap the service method with a try catch instead to just add throws exception in method signature"},{"owner":{"account_id":100551,"reputation":29438,"user_id":270986,"display_name":"Mark Dickinson"},"score":1,"creation_date":1671191097,"post_id":74823298,"comment_id":132050962,"body_markdown":"Please note https://stackoverflow.com/help/gpt-policy","body":"Please note <a href=\"https://stackoverflow.com/help/gpt-policy\">stackoverflow.com/help/gpt-policy</a>"}],"tags":[],"owner":{"account_id":26782616,"reputation":313,"user_id":20377250,"display_name":"Alex_X1"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671195155,"creation_date":1671187368,"answer_id":74823298,"question_id":74823244,"body_markdown":"To use a general exception handler, you can remove the try-catch block in your controller method and just let the exception be thrown. The exception will then be caught by the @ExceptionHandler method in your GeneralExceptionHandler class.\r\n\r\nYour controller can be simplified to the following:\r\n```java\r\n@GetMapping(&quot;/departments/{departmentId}&quot;)\r\npublic ResponseEntity&lt;Object&gt; getDepartmentById(@PathVariable(&quot;departmentId&quot;) Long departmentId) {\r\n    logger.debug(&quot;Entering get item by id endpoint&quot;);\r\n    DepartmentDTO departmentDTO = departmentService.getDepartmentById(departmentId);\r\n    logger.info(&quot;Returned department with id: &quot; + departmentId);\r\n    return ResponseEntity.ok().body(departmentDTO);\r\n}\r\n```\r\nIf a ApiException is thrown in the departmentService.getDepartmentById method, it will be caught by the @ExceptionHandler method in your GeneralExceptionHandler class, which will log the exception and return a response with the error message and HTTP status code specified in the ApiException.\r\n\r\nThis way, you can centralize the exception handling logic in your GeneralExceptionHandler class and avoid duplicating the exception handling code in multiple controllers.","title":"How to catch exceptions using a general exception handler?","body":"<p>To use a general exception handler, you can remove the try-catch block in your controller method and just let the exception be thrown. The exception will then be caught by the @ExceptionHandler method in your GeneralExceptionHandler class.</p>\n<p>Your controller can be simplified to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/departments/{departmentId}&quot;)\npublic ResponseEntity&lt;Object&gt; getDepartmentById(@PathVariable(&quot;departmentId&quot;) Long departmentId) {\n    logger.debug(&quot;Entering get item by id endpoint&quot;);\n    DepartmentDTO departmentDTO = departmentService.getDepartmentById(departmentId);\n    logger.info(&quot;Returned department with id: &quot; + departmentId);\n    return ResponseEntity.ok().body(departmentDTO);\n}\n</code></pre>\n<p>If a ApiException is thrown in the departmentService.getDepartmentById method, it will be caught by the @ExceptionHandler method in your GeneralExceptionHandler class, which will log the exception and return a response with the error message and HTTP status code specified in the ApiException.</p>\n<p>This way, you can centralize the exception handling logic in your GeneralExceptionHandler class and avoid duplicating the exception handling code in multiple controllers.</p>\n"}],"owner":{"account_id":26950487,"reputation":41,"user_id":20519796,"display_name":"Leobejj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":620,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671195155,"creation_date":1671187071,"question_id":74823244,"body_markdown":"I have this code in which I make a request to the service, if there is no department with that id, my method in the service class will throw a custom exception which I catch in the method from this controller, when I catch the exception, I return a response entity with the error message and HTTP status to the endpoint. I was informed that I don&#39;t need to catch the exception here, I just need to catch it in general exception handler. Right now I don&#39;t understand what that means.\r\n```  \r\n @GetMapping(&quot;/departments/{departmentId}&quot;)\r\n    public ResponseEntity&lt;Object&gt; getDepartmentById(@PathVariable(&quot;departmentId&quot;) Long departmentId) {\r\n        DepartmentDTO departmentDTO = null;\r\n        logger.debug(&quot;Entering get item by id endpoint&quot;);\r\n        try {\r\n            departmentDTO = departmentService.getDepartmentById(departmentId);\r\n            logger.info(&quot;Returned department with id: &quot; + departmentId);\r\n        } catch (ApiException e) {\r\n            logger.error(&quot;Unable to return department with ID: &quot; + departmentId + &quot; ,message: &quot; + e.getMessage(), e);\r\n            return GeneralExceptionHandler.handleExceptions(e);\r\n        }\r\n        return ResponseEntity.ok().body(departmentDTO);\r\n\r\n    }\r\n```\r\n\r\nthis is my exception handling class\r\n```\r\n@ControllerAdvice\r\npublic class GeneralExceptionHandler {\r\n    private static final Logger logger = LoggerFactory.getLogger(GeneralExceptionHandler.class);\r\n    @ExceptionHandler(value = {ApiException.class})\r\n    public static ResponseEntity&lt;Object&gt; handleExceptions(ApiException e) {\r\n        logger.info(&quot;Exception handled:&quot;+e.getMessage()+&quot; with http status: &quot;+e.getHttpStatus());\r\n        return new ResponseEntity&lt;&gt;(e.getMessage(), e.getHttpStatus());\r\n    }\r\n}\r\n```","title":"How to catch exceptions using a general exception handler?","body":"<p>I have this code in which I make a request to the service, if there is no department with that id, my method in the service class will throw a custom exception which I catch in the method from this controller, when I catch the exception, I return a response entity with the error message and HTTP status to the endpoint. I was informed that I don't need to catch the exception here, I just need to catch it in general exception handler. Right now I don't understand what that means.</p>\n<pre><code> @GetMapping(&quot;/departments/{departmentId}&quot;)\n    public ResponseEntity&lt;Object&gt; getDepartmentById(@PathVariable(&quot;departmentId&quot;) Long departmentId) {\n        DepartmentDTO departmentDTO = null;\n        logger.debug(&quot;Entering get item by id endpoint&quot;);\n        try {\n            departmentDTO = departmentService.getDepartmentById(departmentId);\n            logger.info(&quot;Returned department with id: &quot; + departmentId);\n        } catch (ApiException e) {\n            logger.error(&quot;Unable to return department with ID: &quot; + departmentId + &quot; ,message: &quot; + e.getMessage(), e);\n            return GeneralExceptionHandler.handleExceptions(e);\n        }\n        return ResponseEntity.ok().body(departmentDTO);\n\n    }\n</code></pre>\n<p>this is my exception handling class</p>\n<pre><code>@ControllerAdvice\npublic class GeneralExceptionHandler {\n    private static final Logger logger = LoggerFactory.getLogger(GeneralExceptionHandler.class);\n    @ExceptionHandler(value = {ApiException.class})\n    public static ResponseEntity&lt;Object&gt; handleExceptions(ApiException e) {\n        logger.info(&quot;Exception handled:&quot;+e.getMessage()+&quot; with http status: &quot;+e.getHttpStatus());\n        return new ResponseEntity&lt;&gt;(e.getMessage(), e.getHttpStatus());\n    }\n}\n</code></pre>\n"},{"tags":["java","apache-fop","docx4j"],"comments":[{"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1668116906,"post_id":74276198,"comment_id":131334955,"body_markdown":"You have analysed the issue nicely.  FopAreeTreeHelper needs to be patched to be able to write temp images to some other directory.","body":"You have analysed the issue nicely.  FopAreeTreeHelper needs to be patched to be able to write temp images to some other directory."}],"answers":[{"tags":[],"owner":{"account_id":16251875,"reputation":1,"user_id":11735604,"display_name":"Aven"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671194869,"creation_date":1671194869,"answer_id":74824668,"question_id":74276198,"body_markdown":"As per JasonPlutext&#39;s comment, this is a bug in the docx4j library. It has been reported as an issue.\r\n\r\nThe workaround I used is to not put images in header and footer.","title":"Docx4j: Delete temporary images when converting to PDF via FOP?","body":"<p>As per JasonPlutext's comment, this is a bug in the docx4j library. It has been reported as an issue.</p>\n<p>The workaround I used is to not put images in header and footer.</p>\n"}],"owner":{"account_id":16251875,"reputation":1,"user_id":11735604,"display_name":"Aven"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74824668,"answer_count":1,"score":0,"last_activity_date":1671194869,"creation_date":1667306879,"question_id":74276198,"body_markdown":"I have a docx file that I want to convert to PDF. I&#39;m converting it via XSL-FO with docx4j-export-fo on linux. Every time I convert a document with images, some images are saved in /tmp folder. I found out that this is because of AbstractConversionImageHandler.java, which will always store the images when using XSL-FO.\r\n\r\nI tried setting the &#39;ImageDirPath&#39; FoSetting, but it is **ignored for header/footer images** when calculating header/footer area size. It only works for images in the document body.\r\n\r\nThis setting is ignored in &#39;FopAreeTreeHelper&#39;, which uses FOP with some **default settings** to calculate header/footer area. So if there is an image, it will be **saved into the default &quot;/tmp&quot;** directory.\r\n\r\nthis is my code that converts doc into a pdf:\r\n\r\n``` lang-java\r\n\r\n        private static final String TEMP_IMAGE_DIR_PATH = &quot;/tmp/images&quot;;\r\n\r\n        public static void convert(WordprocessingMLPackage wordMLPackage, OutputStream output) throws Exception {\r\n\r\n        Mapper fontMapper = new BestMatchingMapper();\r\n        wordMLPackage.setFontMapper(fontMapper);\r\n\r\n        FOSettings foSettings = new FOSettings(wordMLPackage);\r\n        foSettings.setApacheFopMime(&quot;application/pdf&quot;);\r\n        foSettings.setImageDirPath(TEMP_IMAGE_DIR_PATH);\r\n        foSettings.setFoDumpFile(null);\r\n\r\n        FopFactoryBuilder fopFactoryBuilder = FORendererApacheFOP.getFopFactoryBuilder(foSettings) ;\r\n        FopFactory fopFactory = fopFactoryBuilder.build();\r\n\r\n        FOUserAgent foUserAgent = FORendererApacheFOP.getFOUserAgent(foSettings, fopFactory);\r\n\r\n        Docx4J.toFO(foSettings, output, Docx4J.FLAG_EXPORT_PREFER_XSL);\r\n\r\n        // Clean up, so any ObfuscatedFontPart temp files can be deleted\r\n        if (wordMLPackage.getMainDocumentPart().getFontTablePart()!=null) {\r\n            wordMLPackage.getMainDocumentPart().getFontTablePart().deleteEmbeddedFontTempFiles();\r\n        }\r\n        foSettings = null;\r\n        wordMLPackage = null;\r\n\r\n        FileUtils.deleteDirectory(new File(TEMP_IMAGE_DIR_PATH));\r\n    }\r\n```\r\nOnly images from the document body are saved into the &#39;TEMP_IMAGE_DIR_PATH&#39;, which I then delete. But header image is saved in &quot;/tmp&quot; folder. But I don&#39;t want to delete ALL images from &quot;/tmp&quot;.\r\n\r\nIs there any way to have Docx4j or FOP delete these images after the conversion?\r\nOr set a default directory?\r\n","title":"Docx4j: Delete temporary images when converting to PDF via FOP?","body":"<p>I have a docx file that I want to convert to PDF. I'm converting it via XSL-FO with docx4j-export-fo on linux. Every time I convert a document with images, some images are saved in /tmp folder. I found out that this is because of AbstractConversionImageHandler.java, which will always store the images when using XSL-FO.</p>\n<p>I tried setting the 'ImageDirPath' FoSetting, but it is <strong>ignored for header/footer images</strong> when calculating header/footer area size. It only works for images in the document body.</p>\n<p>This setting is ignored in 'FopAreeTreeHelper', which uses FOP with some <strong>default settings</strong> to calculate header/footer area. So if there is an image, it will be <strong>saved into the default &quot;/tmp&quot;</strong> directory.</p>\n<p>this is my code that converts doc into a pdf:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        private static final String TEMP_IMAGE_DIR_PATH = &quot;/tmp/images&quot;;\n\n        public static void convert(WordprocessingMLPackage wordMLPackage, OutputStream output) throws Exception {\n\n        Mapper fontMapper = new BestMatchingMapper();\n        wordMLPackage.setFontMapper(fontMapper);\n\n        FOSettings foSettings = new FOSettings(wordMLPackage);\n        foSettings.setApacheFopMime(&quot;application/pdf&quot;);\n        foSettings.setImageDirPath(TEMP_IMAGE_DIR_PATH);\n        foSettings.setFoDumpFile(null);\n\n        FopFactoryBuilder fopFactoryBuilder = FORendererApacheFOP.getFopFactoryBuilder(foSettings) ;\n        FopFactory fopFactory = fopFactoryBuilder.build();\n\n        FOUserAgent foUserAgent = FORendererApacheFOP.getFOUserAgent(foSettings, fopFactory);\n\n        Docx4J.toFO(foSettings, output, Docx4J.FLAG_EXPORT_PREFER_XSL);\n\n        // Clean up, so any ObfuscatedFontPart temp files can be deleted\n        if (wordMLPackage.getMainDocumentPart().getFontTablePart()!=null) {\n            wordMLPackage.getMainDocumentPart().getFontTablePart().deleteEmbeddedFontTempFiles();\n        }\n        foSettings = null;\n        wordMLPackage = null;\n\n        FileUtils.deleteDirectory(new File(TEMP_IMAGE_DIR_PATH));\n    }\n</code></pre>\n<p>Only images from the document body are saved into the 'TEMP_IMAGE_DIR_PATH', which I then delete. But header image is saved in &quot;/tmp&quot; folder. But I don't want to delete ALL images from &quot;/tmp&quot;.</p>\n<p>Is there any way to have Docx4j or FOP delete these images after the conversion?\nOr set a default directory?</p>\n"},{"tags":["java","spring-boot","slf4j"],"comments":[{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1670003534,"post_id":74659469,"comment_id":131779362,"body_markdown":"Spring boot 2.7 documentation:\nlogging.file.path LOG_PATH If defined, it is used in the default log configuration.\nhttps://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.logging","body":"Spring boot 2.7 documentation: logging.file.path LOG_PATH If defined, it is used in the default log configuration. <a href=\"https://docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/#features.logging\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/2.7.0/reference/htmlsingle/&hellip;</a>"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1670003572,"post_id":74659469,"comment_id":131779374,"body_markdown":"So it seems that the property has changed, and developer was looking to the old documentation.","body":"So it seems that the property has changed, and developer was looking to the old documentation."},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1670004855,"post_id":74659469,"comment_id":131779802,"body_markdown":"I tried to pass logging.file.path as a system property or capitalized env variable without any luck.","body":"I tried to pass logging.file.path as a system property or capitalized env variable without any luck."},{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1670007476,"post_id":74659469,"comment_id":131780590,"body_markdown":"Spring will search (when running, not when building the jar) the logging config on /home/x/service/config/logback-prod.xml : does this file exists on the specified path?","body":"Spring will search (when running, not when building the jar) the logging config on /home/x/service/config/logback-prod.xml : does this file exists on the specified path?"},{"owner":{"account_id":14801365,"reputation":376,"user_id":15322661,"display_name":"Rustam"},"score":0,"creation_date":1670180420,"post_id":74659469,"comment_id":131810288,"body_markdown":"Looks like there was similar problem, take a look to this question: https://stackoverflow.com/questions/29429073/spring-boot-logback-and-logging-config-property","body":"Looks like there was similar problem, take a look to this question: <a href=\"https://stackoverflow.com/questions/29429073/spring-boot-logback-and-logging-config-property\" title=\"spring boot logback and logging config property\">stackoverflow.com/questions/29429073/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1680111636,"post_id":74824660,"comment_id":133843588,"body_markdown":"Which file is this in? pom.xml?","body":"Which file is this in? pom.xml?"},{"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"score":0,"creation_date":1680208090,"post_id":74824660,"comment_id":133863908,"body_markdown":"Yes, under the build element.","body":"Yes, under the build element."}],"tags":[],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671194849,"creation_date":1671194849,"answer_id":74824660,"question_id":74659469,"body_markdown":"The solution was to remove the log configuration files from the build, because they were always read by Spring.\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;log*xml&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n","title":"Spring boot logging.file ignored, taking logback-test.xml from classpath","body":"<p>The solution was to remove the log configuration files from the build, because they were always read by Spring.</p>\n<pre><code>    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;excludes&gt;\n                &lt;exclude&gt;log*xml&lt;/exclude&gt;\n            &lt;/excludes&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n</code></pre>\n"}],"owner":{"account_id":1801257,"reputation":8969,"user_id":1639556,"accept_rate":79,"display_name":"Leos Literak"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":709,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1671194849,"creation_date":1670002446,"question_id":74659469,"body_markdown":"When we deployed our spring boot 2.7 app to the production, it has troubles reading a correct log configuration. Instead of using a config file set in the prod profile it selects a test related resource from class path.\r\n\r\n    $ java -Dspring.profiles.active=prod service.jar\r\n    service.jar!/BOOT-INF/classes!/logback-test.xml]\r\n    12:13:29,834 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@23ab930d - URL [jar:file:/home/x/service.jar!/BOOT-INF/classes!/logback-test.xml] is not of type file\r\n    12:13:29,865 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\r\n\r\n\r\n**application-prod.yml**\r\n\r\n    logging:\r\n      config: /home/x/service/config/logback-prod.xml\r\n\r\nThe jar contains these files in classpath (log4j should not be there, we removed this dependency, and we are relying on default SLF4J):\r\n\r\n    $ ls log*\r\n    log4j2.xml log4j2-prod.xml log4j2-test.xml logback.xml logback-prod.xml logback-test.xml\r\n\r\nApplication is using the prod profile except `logging.config` option. Why?","title":"Spring boot logging.file ignored, taking logback-test.xml from classpath","body":"<p>When we deployed our spring boot 2.7 app to the production, it has troubles reading a correct log configuration. Instead of using a config file set in the prod profile it selects a test related resource from class path.</p>\n<pre><code>$ java -Dspring.profiles.active=prod service.jar\nservice.jar!/BOOT-INF/classes!/logback-test.xml]\n12:13:29,834 |-INFO in ch.qos.logback.core.joran.spi.ConfigurationWatchList@23ab930d - URL [jar:file:/home/x/service.jar!/BOOT-INF/classes!/logback-test.xml] is not of type file\n12:13:29,865 |-INFO in ch.qos.logback.classic.joran.action.ConfigurationAction - debug attribute not set\n</code></pre>\n<p><strong>application-prod.yml</strong></p>\n<pre><code>logging:\n  config: /home/x/service/config/logback-prod.xml\n</code></pre>\n<p>The jar contains these files in classpath (log4j should not be there, we removed this dependency, and we are relying on default SLF4J):</p>\n<pre><code>$ ls log*\nlog4j2.xml log4j2-prod.xml log4j2-test.xml logback.xml logback-prod.xml logback-test.xml\n</code></pre>\n<p>Application is using the prod profile except <code>logging.config</code> option. Why?</p>\n"},{"tags":["java","eclipse","selenium","rest-assured"],"comments":[{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1671200014,"post_id":74824271,"comment_id":132053913,"body_markdown":"Just remove the quotes from Matchers.equalTo(true) and it will work.","body":"Just remove the quotes from Matchers.equalTo(true) and it will work."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1671194547,"creation_date":1671194547,"answer_id":74824605,"question_id":74824271,"body_markdown":"You are doing wrong match. You are trying to compare **boolean** `true` vs **text** `&quot;true&quot;`\r\n\r\nSo since their string representations are equal the matching error message looks misleading.\r\n\r\nYou should change the last line of your code to `.body(&quot;Result.Success&quot;, Matchers.equalTo(true));` ","title":"Not able to compare response body parameter to its value","body":"<p>You are doing wrong match. You are trying to compare <strong>boolean</strong> <code>true</code> vs <strong>text</strong> <code>&quot;true&quot;</code></p>\n<p>So since their string representations are equal the matching error message looks misleading.</p>\n<p>You should change the last line of your code to <code>.body(&quot;Result.Success&quot;, Matchers.equalTo(true));</code></p>\n"}],"owner":{"account_id":26335354,"reputation":5,"user_id":19995292,"display_name":"Krina Modi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671505977,"accepted_answer_id":74824605,"answer_count":1,"score":-1,"last_activity_date":1671194547,"creation_date":1671192558,"question_id":74824271,"body_markdown":"My Response Json is below which i want to compare its value \r\n\r\n```\r\n{\r\n    &quot;Result&quot;: {\r\n        &quot;user&quot;: {\r\n           &quot;PersonData&quot;: null,\r\n            &quot;Locale&quot;: null,\r\n            &quot;Attributes&quot;: {\r\n                &quot;IsEnabled&quot;: null,\r\n                &quot;LocaleSettings&quot;: null,\r\n                &quot;LockoutEnabled&quot;: &quot;True&quot;,\r\n                &quot;AccessFailedCount&quot;: &quot;0&quot;\r\n            }\r\n        },\r\n        &quot;RefreshToken&quot;: &quot;745acf0f-de47-4f4c-8abe-b3d7d505fc60&quot;,\r\n        &quot;Success&quot;: true,\r\n        &quot;Errors&quot;: null\r\n    },\r\n    &quot;StatusCode&quot;: &quot;200&quot;,\r\n}\r\n```\r\n\r\nHere is my code where i have written some assertions\r\n\r\n\r\n```\r\ngiven().body(request.toJSONString()).header(&quot;Content-Type&quot;, sitedata.getProperty(&quot;Content-Type&quot;))\r\n\t\t\t\t.header(&quot;ApplicationCode&quot;, sitedata.getProperty(&quot;ApplicationCode&quot;))\r\n\t\t\t\t.header(&quot;Authorization&quot;, sitedata.getProperty(&quot;Authorization&quot;)).when()\r\n\t\t\t\t.post(sitedata.getProperty(&quot;BaseUrl&quot;) + sitedata.getProperty(&quot;login&quot;))\r\n                                .then().log().all().statusCode(200)\r\n\t\t\t\t.body(Matchers.containsString(&quot;Success&quot;))\r\n                               ** .body(&quot;Result.Success&quot;, Matchers.equalTo(&quot;true&quot;));**\r\n```\r\n\r\n\r\n\r\nI am getting below error\r\n\r\n```\r\nJSON path Result.Success doesn&#39;t match.\r\nExpected: true\r\n  Actual: true\r\n```\r\n\r\n\r\nI want to validate its value should be true","title":"Not able to compare response body parameter to its value","body":"<p>My Response Json is below which i want to compare its value</p>\n<pre><code>{\n    &quot;Result&quot;: {\n        &quot;user&quot;: {\n           &quot;PersonData&quot;: null,\n            &quot;Locale&quot;: null,\n            &quot;Attributes&quot;: {\n                &quot;IsEnabled&quot;: null,\n                &quot;LocaleSettings&quot;: null,\n                &quot;LockoutEnabled&quot;: &quot;True&quot;,\n                &quot;AccessFailedCount&quot;: &quot;0&quot;\n            }\n        },\n        &quot;RefreshToken&quot;: &quot;745acf0f-de47-4f4c-8abe-b3d7d505fc60&quot;,\n        &quot;Success&quot;: true,\n        &quot;Errors&quot;: null\n    },\n    &quot;StatusCode&quot;: &quot;200&quot;,\n}\n</code></pre>\n<p>Here is my code where i have written some assertions</p>\n<pre><code>given().body(request.toJSONString()).header(&quot;Content-Type&quot;, sitedata.getProperty(&quot;Content-Type&quot;))\n                .header(&quot;ApplicationCode&quot;, sitedata.getProperty(&quot;ApplicationCode&quot;))\n                .header(&quot;Authorization&quot;, sitedata.getProperty(&quot;Authorization&quot;)).when()\n                .post(sitedata.getProperty(&quot;BaseUrl&quot;) + sitedata.getProperty(&quot;login&quot;))\n                                .then().log().all().statusCode(200)\n                .body(Matchers.containsString(&quot;Success&quot;))\n                               ** .body(&quot;Result.Success&quot;, Matchers.equalTo(&quot;true&quot;));**\n</code></pre>\n<p>I am getting below error</p>\n<pre><code>JSON path Result.Success doesn't match.\nExpected: true\n  Actual: true\n</code></pre>\n<p>I want to validate its value should be true</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":8362290,"reputation":1926,"user_id":6280156,"accept_rate":80,"display_name":"Ankit Tale"},"score":0,"creation_date":1572801048,"post_id":58682589,"comment_id":103664714,"body_markdown":"What actually needs to change? A toolbar or menu, or an item","body":"What actually needs to change? A toolbar or menu, or an item"}],"answers":[{"tags":[],"owner":{"account_id":1261134,"reputation":8171,"user_id":1219389,"accept_rate":100,"display_name":"PPartisan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1572801460,"creation_date":1572801460,"answer_id":58682675,"question_id":58682589,"body_markdown":"Use a `NestedScrollView` and attach an `OnScrollChangeListener`. Then combine it with an `ARGBEvaluator` to generate a colour, and set that you your background. I&#39;m going from memory, but something like:\r\n\r\n```\r\nfinal ArgbEvaluator evaluator = new ArgbEvaluator();\r\nfinal colorStart = Color.GREEN;\r\nfinal colorEnd = Color.BLUE;\r\nnestedScrollView.setOnScrollChangedListener((view, scrollX, scrollY, oldX, oldY) -&gt; {\r\n    final float height = (float) v.getHeight();\r\n    if(height &lt;= 0) return;\r\n\r\n    final float progress = (float)((float)scrollY/v.getHeight());\r\n    background.setBackgroundColour((int)evaluator.evaluate(progress, startColor, endColor);\r\n});\r\n```","title":"Change the background color on scroll","body":"<p>Use a <code>NestedScrollView</code> and attach an <code>OnScrollChangeListener</code>. Then combine it with an <code>ARGBEvaluator</code> to generate a colour, and set that you your background. I'm going from memory, but something like:</p>\n\n<pre><code>final ArgbEvaluator evaluator = new ArgbEvaluator();\nfinal colorStart = Color.GREEN;\nfinal colorEnd = Color.BLUE;\nnestedScrollView.setOnScrollChangedListener((view, scrollX, scrollY, oldX, oldY) -&gt; {\n    final float height = (float) v.getHeight();\n    if(height &lt;= 0) return;\n\n    final float progress = (float)((float)scrollY/v.getHeight());\n    background.setBackgroundColour((int)evaluator.evaluate(progress, startColor, endColor);\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3006281,"reputation":2444,"user_id":2550766,"accept_rate":24,"display_name":"Caio Mar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671194403,"creation_date":1671194403,"answer_id":74824583,"question_id":58682589,"body_markdown":"Similarly to the accepted answer, this is how I did it in Kotlin:\r\n\r\n    @RequiresApi(Build.VERSION_CODES.M)\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    private fun setBackgroundAnimation(nestedScrollView: NestedScrollView) {\r\n\r\n        val evaluator = ArgbEvaluator()\r\n\r\n        val colorStart = context?.getColor(R.color.backgroundColor)\r\n        val colorEnd = Color.BLACK\r\n\r\n        var progress: Float\r\n        val velocity = 3\r\n\r\n        nestedScrollView.setOnScrollChangeListener { v, scrollX, scrollY, oldScrollX, oldScrollY -&gt;\r\n            val scrollViewHeight = nestedScrollView.height\r\n\r\n            if (scrollViewHeight &gt; 0) {\r\n                progress = (scrollY / scrollViewHeight.toFloat()) * velocity\r\n                nestedScrollView.setBackgroundColor(\r\n                    evaluator.evaluate(\r\n                        progress,\r\n                        colorStart,\r\n                        colorEnd\r\n                    ) as Int\r\n                )\r\n            }\r\n        }\r\n    }","title":"Change the background color on scroll","body":"<p>Similarly to the accepted answer, this is how I did it in Kotlin:</p>\n<pre><code>@RequiresApi(Build.VERSION_CODES.M)\n@SuppressLint(&quot;RestrictedApi&quot;)\nprivate fun setBackgroundAnimation(nestedScrollView: NestedScrollView) {\n\n    val evaluator = ArgbEvaluator()\n\n    val colorStart = context?.getColor(R.color.backgroundColor)\n    val colorEnd = Color.BLACK\n\n    var progress: Float\n    val velocity = 3\n\n    nestedScrollView.setOnScrollChangeListener { v, scrollX, scrollY, oldScrollX, oldScrollY -&gt;\n        val scrollViewHeight = nestedScrollView.height\n\n        if (scrollViewHeight &gt; 0) {\n            progress = (scrollY / scrollViewHeight.toFloat()) * velocity\n            nestedScrollView.setBackgroundColor(\n                evaluator.evaluate(\n                    progress,\n                    colorStart,\n                    colorEnd\n                ) as Int\n            )\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user11755923"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":569,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58682675,"answer_count":2,"score":2,"last_activity_date":1671194403,"creation_date":1572800931,"question_id":58682589,"body_markdown":"I have a scroll view and when the user scrolls it I want to change the background color slowly and gradually. How can I achieve the following ?","title":"Change the background color on scroll","body":"<p>I have a scroll view and when the user scrolls it I want to change the background color slowly and gradually. How can I achieve the following ?</p>\n"},{"tags":["java","spring","spring-mvc","jackson","spring-boot"],"comments":[{"owner":{"account_id":5389496,"reputation":1459,"user_id":4292467,"display_name":"sven.kwiotek"},"score":0,"creation_date":1423062261,"post_id":28324352,"comment_id":44996864,"body_markdown":"Do you have this Annotation inserted?: @SuppressWarnings({&quot;SpringJavaAutowiringInspection&quot;})","body":"Do you have this Annotation inserted?: @SuppressWarnings({&quot;SpringJavaAutowiringInspection&quot;})"},{"owner":{"account_id":1073182,"reputation":2151,"user_id":1071971,"accept_rate":38,"display_name":"Constantino Cronemberger"},"score":0,"creation_date":1550583935,"post_id":28324352,"comment_id":96315579,"body_markdown":"Notice that if you are using Spring Web as well you will need to tell it manually to use this ObjectMapper otherwise it will create it own instance which will not be configured. See https://stackoverflow.com/questions/7854030/configuring-objectmapper-in-spring","body":"Notice that if you are using Spring Web as well you will need to tell it manually to use this ObjectMapper otherwise it will create it own instance which will not be configured. See <a href=\"https://stackoverflow.com/questions/7854030/configuring-objectmapper-in-spring\" title=\"configuring objectmapper in spring\">stackoverflow.com/questions/7854030/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4284874,"reputation":835,"user_id":3503018,"accept_rate":38,"display_name":"soufrk"},"score":9,"creation_date":1526996120,"post_id":28324974,"comment_id":87951409,"body_markdown":"How to do the same without replacing the default `ObjectMapper` ? I mean keeping the default as well a custom.","body":"How to do the same without replacing the default <code>ObjectMapper</code> ? I mean keeping the default as well a custom."}],"tags":[],"owner":{"account_id":5077780,"reputation":24093,"user_id":4074715,"display_name":"Predrag Maric"},"comment_count":1,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1599399896,"creation_date":1423063399,"answer_id":28324974,"question_id":28324352,"body_markdown":"[The documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper) states several ways to do this. \r\n\r\n&gt;If you want to replace the default `ObjectMapper` completely, define a `@Bean` of that type and mark it as `@Primary`.\r\n&gt;\r\n&gt;Defining a `@Bean` of type `Jackson2ObjectMapperBuilder` will allow you to customize both default `ObjectMapper` and `XmlMapper` (used in `MappingJackson2HttpMessageConverter` and `MappingJackson2XmlHttpMessageConverter` respectively).","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">The documentation</a> states several ways to do this.</p>\n<blockquote>\n<p>If you want to replace the default <code>ObjectMapper</code> completely, define a <code>@Bean</code> of that type and mark it as <code>@Primary</code>.</p>\n<p>Defining a <code>@Bean</code> of type <code>Jackson2ObjectMapperBuilder</code> will allow you to customize both default <code>ObjectMapper</code> and <code>XmlMapper</code> (used in <code>MappingJackson2HttpMessageConverter</code> and <code>MappingJackson2XmlHttpMessageConverter</code> respectively).</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":1,"creation_date":1423068820,"post_id":28324976,"comment_id":45001483,"body_markdown":"Alright, this seems to work. Where would you put such a method? Perhaps in a main Application class (with `@ComponentScan`, `@EnableAutoConfiguration` etc)?","body":"Alright, this seems to work. Where would you put such a method? Perhaps in a main Application class (with <code>@ComponentScan</code>, <code>@EnableAutoConfiguration</code> etc)?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":2,"creation_date":1423073182,"post_id":28324976,"comment_id":45004198,"body_markdown":"Yes. This method can go in any `@Configuration` class in your app. The main `Application` class is a good place for it.","body":"Yes. This method can go in any <code>@Configuration</code> class in your app. The main <code>Application</code> class is a good place for it."},{"owner":{"account_id":58713,"reputation":1207,"user_id":175759,"accept_rate":40,"display_name":"gaoagong"},"score":3,"creation_date":1432944828,"post_id":28324976,"comment_id":49154929,"body_markdown":"Important note: The Jackson2ObjectMapperBuilder class is part of the spring-web component and was added in version 4.1.1.","body":"Important note: The Jackson2ObjectMapperBuilder class is part of the spring-web component and was added in version 4.1.1."},{"owner":{"account_id":2098426,"reputation":1466,"user_id":1866693,"accept_rate":75,"display_name":"herau"},"score":0,"creation_date":1439983856,"post_id":28324976,"comment_id":52083002,"body_markdown":"@AndyWilkinson With this configuration, you can&#39;t use anymore Spring boot auto-configuration for Jackson isn&#39;t it ?","body":"@AndyWilkinson With this configuration, you can&#39;t use anymore Spring boot auto-configuration for Jackson isn&#39;t it ?"},{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1439984646,"post_id":28324976,"comment_id":52083533,"body_markdown":"@herau Correct. If you&#39;re happy using a milestone, Spring Boot 1.3 adds support for configuring serialisation inclusion via application.properties: https://github.com/spring-projects/spring-boot/commit/1dcf18b16ebbacfdcad9259f808d4949f0668181","body":"@herau Correct. If you&#39;re happy using a milestone, Spring Boot 1.3 adds support for configuring serialisation inclusion via application.properties: <a href=\"https://github.com/spring-projects/spring-boot/commit/1dcf18b16ebbacfdcad9259f808d4949f0668181\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/commit/&hellip;</a>"},{"owner":{"account_id":2437868,"reputation":13395,"user_id":2127277,"accept_rate":66,"display_name":"Dimitri Kopriwa"},"score":2,"creation_date":1471273996,"post_id":28324976,"comment_id":65269814,"body_markdown":"@Deprecated setSerializationInclusion","body":"@Deprecated setSerializationInclusion"},{"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"score":6,"creation_date":1495551944,"post_id":28324976,"comment_id":75295568,"body_markdown":"Deprecated: ObjectMapper.setSerializationInclusion was deprecated in Jackson 2.7 ... use https://stackoverflow.com/a/44137972/6785908  spring.jackson.default-property-inclusion=non_null instead","body":"Deprecated: ObjectMapper.setSerializationInclusion was deprecated in Jackson 2.7 ... use <a href=\"https://stackoverflow.com/a/44137972/6785908\">stackoverflow.com/a/44137972/6785908</a>  spring.jackson.default-property-inclusion=non_null instead"},{"owner":{"account_id":1289016,"reputation":697,"user_id":1781376,"accept_rate":88,"display_name":"GuiRitter"},"score":0,"creation_date":1524659770,"post_id":28324976,"comment_id":87060972,"body_markdown":"&quot;If you&#39;re using an earlier version of Spring Boot&quot; made me believe it wouldn&#39;t work with Spring Boot 2.0.1, but it worked. Thanks!","body":"&quot;If you&#39;re using an earlier version of Spring Boot&quot; made me believe it wouldn&#39;t work with Spring Boot 2.0.1, but it worked. Thanks!"},{"owner":{"account_id":2642474,"reputation":192,"user_id":2285849,"display_name":"Michael"},"score":0,"creation_date":1605892485,"post_id":28324976,"comment_id":114801167,"body_markdown":"I am having a problem with this approach of configuring the ObjectMapper in Spring Boot. Spring Boot does its own configuration of the ObjectMapper with its own Serializers/Deserializers for e.g. LocalDateTime. When defining your own Jackson2ObjectMapperBuilder you are loosing this Spring configuration.","body":"I am having a problem with this approach of configuring the ObjectMapper in Spring Boot. Spring Boot does its own configuration of the ObjectMapper with its own Serializers/Deserializers for e.g. LocalDateTime. When defining your own Jackson2ObjectMapperBuilder you are loosing this Spring configuration."},{"owner":{"account_id":1119690,"reputation":15787,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1612996889,"post_id":28324976,"comment_id":116944039,"body_markdown":"There are more properties than just the six mentioned in the linked &quot;How-to&quot; guide.  A full list is available a the reference documentation [appendex](https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties-json) (currently eleven `spring.jackson.*` options are mentioned).","body":"There are more properties than just the six mentioned in the linked &quot;How-to&quot; guide.  A full list is available a the reference documentation <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties-json\" rel=\"nofollow noreferrer\">appendex</a> (currently eleven <code>spring.jackson.*</code> options are mentioned)."}],"tags":[],"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"comment_count":10,"down_vote_count":0,"up_vote_count":137,"is_accepted":true,"score":137,"last_activity_date":1612996759,"creation_date":1423063408,"answer_id":28324976,"question_id":28324352,"body_markdown":"You can configure property inclusion, and numerous other settings, via `application.properties`:\r\n\r\n```lang-properties\r\nspring.jackson.default-property-inclusion=non_null\r\n```\r\n\r\nThere&#39;s a table in [the documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper) that lists all of the properties that can be used.\r\n\r\nIf you want more control, you can also customize Spring Boot&#39;s configuration programatically using a `Jackson2ObjectMapperBuilderCustomizer` bean, as described in the [documentation][1]:\r\n\r\n&gt; The context’s `Jackson2ObjectMapperBuilder` can be customized by one or more `Jackson2ObjectMapperBuilderCustomizer` beans. Such customizer beans can be ordered (Boot’s own customizer has an order of 0), letting additional customization be applied both before and after Boot’s customization.\r\n\r\nLastly, if you don&#39;t want any of Boot&#39;s configuration and want to take complete control over how the `ObjectMapper` is configured, declare your own `Jackson2ObjectMapperBuilder` bean:\r\n\r\n```lang-java\r\n@Bean\r\nJackson2ObjectMapperBuilder objectMapperBuilder() {\r\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n    // Configure the builder to suit your needs\r\n    return builder;\r\n}\r\n```\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>You can configure property inclusion, and numerous other settings, via <code>application.properties</code>:</p>\n<pre class=\"lang-properties prettyprint-override\"><code>spring.jackson.default-property-inclusion=non_null\n</code></pre>\n<p>There's a table in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">the documentation</a> that lists all of the properties that can be used.</p>\n<p>If you want more control, you can also customize Spring Boot's configuration programatically using a <code>Jackson2ObjectMapperBuilderCustomizer</code> bean, as described in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto-customize-the-jackson-objectmapper\" rel=\"noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The context’s <code>Jackson2ObjectMapperBuilder</code> can be customized by one or more <code>Jackson2ObjectMapperBuilderCustomizer</code> beans. Such customizer beans can be ordered (Boot’s own customizer has an order of 0), letting additional customization be applied both before and after Boot’s customization.</p>\n</blockquote>\n<p>Lastly, if you don't want any of Boot's configuration and want to take complete control over how the <code>ObjectMapper</code> is configured, declare your own <code>Jackson2ObjectMapperBuilder</code> bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nJackson2ObjectMapperBuilder objectMapperBuilder() {\n    Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n    // Configure the builder to suit your needs\n    return builder;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1473276,"reputation":111009,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":1,"creation_date":1423073302,"post_id":28327309,"comment_id":45004257,"body_markdown":"The downside to this approach is that your custom configuration won&#39;t be applied to any `ObjectMapper` instances that are created or configured by Spring Boot.","body":"The downside to this approach is that your custom configuration won&#39;t be applied to any <code>ObjectMapper</code> instances that are created or configured by Spring Boot."},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1423146529,"post_id":28327309,"comment_id":45037174,"body_markdown":"Hmm, the custom config *is* used for the implicit serialisation in `@RestController` classes which currently suffices for me. (So you mean those instances are created by Spring MVC, not Spring Boot?) But if I run into other cases where ObjectMappers need to be instantiated, I&#39;ll keep the Jackson2ObjectMapperBuilder approach in mind!","body":"Hmm, the custom config <i>is</i> used for the implicit serialisation in <code>@RestController</code> classes which currently suffices for me. (So you mean those instances are created by Spring MVC, not Spring Boot?) But if I run into other cases where ObjectMappers need to be instantiated, I&#39;ll keep the Jackson2ObjectMapperBuilder approach in mind!"}],"tags":[],"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1423069761,"creation_date":1423069761,"answer_id":28327309,"question_id":28324352,"body_markdown":"I stumbled upon another solution, which is quite nice. \r\n\r\nBasically, only do [step 2 from the blog posted mentioned][1], and define a custom ObjectMapper as a Spring `@Component`. (Things started working when I just *removed* all the AnnotationMethodHandlerAdapter stuff from step 3.)\r\n\r\n    @Component\r\n    @Primary\r\n    public class CustomObjectMapper extends ObjectMapper {\r\n        public CustomObjectMapper() {\r\n            setSerializationInclusion(JsonInclude.Include.NON_NULL); \r\n            configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false); \r\n        }\r\n    }\r\n\r\nWorks as long as the component is in a package scanned by Spring. (Using `@Primary` is not mandatory in my case, but why not make things explicit.)\r\n\r\nFor me there are two benefits compared to the other approach:\r\n\r\n - This is simpler; I can just extend a class from Jackson and don&#39;t need to know about highly Spring-specific stuff like `Jackson2ObjectMapperBuilder`.\r\n - I want to use the same Jackson configs for deserialising JSON in another part of my app, and this way it&#39;s very simple: `new CustomObjectMapper()` instead of  `new ObjectMapper()`.\r\n\r\n  [1]: http://magicmonster.com/kb/prg/java/spring/webmvc/jackson_custom.html","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I stumbled upon another solution, which is quite nice. </p>\n\n<p>Basically, only do <a href=\"http://magicmonster.com/kb/prg/java/spring/webmvc/jackson_custom.html\" rel=\"noreferrer\">step 2 from the blog posted mentioned</a>, and define a custom ObjectMapper as a Spring <code>@Component</code>. (Things started working when I just <em>removed</em> all the AnnotationMethodHandlerAdapter stuff from step 3.)</p>\n\n<pre><code>@Component\n@Primary\npublic class CustomObjectMapper extends ObjectMapper {\n    public CustomObjectMapper() {\n        setSerializationInclusion(JsonInclude.Include.NON_NULL); \n        configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false); \n    }\n}\n</code></pre>\n\n<p>Works as long as the component is in a package scanned by Spring. (Using <code>@Primary</code> is not mandatory in my case, but why not make things explicit.)</p>\n\n<p>For me there are two benefits compared to the other approach:</p>\n\n<ul>\n<li>This is simpler; I can just extend a class from Jackson and don't need to know about highly Spring-specific stuff like <code>Jackson2ObjectMapperBuilder</code>.</li>\n<li>I want to use the same Jackson configs for deserialising JSON in another part of my app, and this way it's very simple: <code>new CustomObjectMapper()</code> instead of  <code>new ObjectMapper()</code>.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"score":5,"creation_date":1580493928,"post_id":30800851,"comment_id":106128617,"body_markdown":"In recent version you must implement `WebMvcConfigurer`","body":"In recent version you must implement <code>WebMvcConfigurer</code>"},{"owner":{"account_id":1158979,"reputation":578,"user_id":1138891,"accept_rate":67,"display_name":"Somal Somalski"},"score":0,"creation_date":1591349916,"post_id":30800851,"comment_id":110027965,"body_markdown":"yes, peoples, try this solution, I&#39;ve tried to provide Bean for ObjectMapper, then Bean for Jackson2ObjectMapperBuilder buy that didn&#39;t work and I still have no idea why. Appending coverter worked!","body":"yes, peoples, try this solution, I&#39;ve tried to provide Bean for ObjectMapper, then Bean for Jackson2ObjectMapperBuilder buy that didn&#39;t work and I still have no idea why. Appending coverter worked!"}],"tags":[],"owner":{"account_id":1430913,"reputation":2842,"user_id":1353364,"accept_rate":36,"display_name":"vvra"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1434105016,"creation_date":1434105016,"answer_id":30800851,"question_id":28324352,"body_markdown":"I am answering bit late to this question, but someone, in future, might find this useful. The below approach, besides lots of other approaches, works best, and I personally think would better suit a web application.\r\n\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfiguration extends WebMvcConfigurerAdapter {\r\n     \r\n     ... other configurations\r\n\r\n    @Override\r\n        public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n            Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\r\n            builder.serializationInclusion(JsonInclude.Include.NON_NULL);\r\n    \t\tbuilder.propertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES);\r\n    \t\tbuilder.serializationInclusion(Include.NON_EMPTY);\r\n            builder.indentOutput(true).dateFormat(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;));\r\n            converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\r\n            converters.add(new MappingJackson2XmlHttpMessageConverter(builder.createXmlMapper(true).build()));\r\n        }\r\n    }","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I am answering bit late to this question, but someone, in future, might find this useful. The below approach, besides lots of other approaches, works best, and I personally think would better suit a web application.</p>\n\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfiguration extends WebMvcConfigurerAdapter {\n\n ... other configurations\n\n@Override\n    public void configureMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n        Jackson2ObjectMapperBuilder builder = new Jackson2ObjectMapperBuilder();\n        builder.serializationInclusion(JsonInclude.Include.NON_NULL);\n        builder.propertyNamingStrategy(PropertyNamingStrategy.CAMEL_CASE_TO_LOWER_CASE_WITH_UNDERSCORES);\n        builder.serializationInclusion(Include.NON_EMPTY);\n        builder.indentOutput(true).dateFormat(new SimpleDateFormat(\"yyyy-MM-dd\"));\n        converters.add(new MappingJackson2HttpMessageConverter(builder.build()));\n        converters.add(new MappingJackson2XmlHttpMessageConverter(builder.createXmlMapper(true).build()));\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7619751,"reputation":6003,"user_id":5778099,"accept_rate":53,"display_name":"Nestor Milyaev"},"score":0,"creation_date":1502876019,"post_id":32907816,"comment_id":78377890,"body_markdown":"That was the solution that saved my day. Except I did add this method to the REST controller itself, rather than to the configuration class.","body":"That was the solution that saved my day. Except I did add this method to the REST controller itself, rather than to the configuration class."}],"tags":[],"owner":{"account_id":6732690,"reputation":259,"user_id":5188445,"display_name":"nbank"},"comment_count":1,"down_vote_count":2,"up_vote_count":26,"is_accepted":false,"score":24,"last_activity_date":1540302911,"creation_date":1443791050,"answer_id":32907816,"question_id":28324352,"body_markdown":"A lot of things can configured in applicationproperties. Unfortunately this feature only in Version 1.3, but you can add in a Config-Class\r\n\r\n    @Autowired(required = true)\r\n    public void configureJackson(ObjectMapper jackson2ObjectMapper) {\r\n        jackson2ObjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n    }\r\n\r\n[UPDATE: You must work on the ObjectMapper because the `build()`-method is called before the config is runs.]","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>A lot of things can configured in applicationproperties. Unfortunately this feature only in Version 1.3, but you can add in a Config-Class</p>\n\n<pre><code>@Autowired(required = true)\npublic void configureJackson(ObjectMapper jackson2ObjectMapper) {\n    jackson2ObjectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n}\n</code></pre>\n\n<p>[UPDATE: You must work on the ObjectMapper because the <code>build()</code>-method is called before the config is runs.]</p>\n"},{"tags":[],"owner":{"account_id":4890621,"reputation":94,"user_id":3941868,"display_name":"Tim Dugan"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1471027761,"creation_date":1471027761,"answer_id":38924647,"question_id":28324352,"body_markdown":"I found the solution described above with :\r\n\r\n   **spring.jackson.serialization-inclusion=non_null**\r\n\r\nTo only work starting at the 1.4.0.RELEASE version of spring boot.  In all other cases the config is ignored.\r\n\r\nI verified this by experimenting with a modification of the spring boot sample &quot;spring-boot-sample-jersey&quot;","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I found the solution described above with :</p>\n\n<p><strong>spring.jackson.serialization-inclusion=non_null</strong></p>\n\n<p>To only work starting at the 1.4.0.RELEASE version of spring boot.  In all other cases the config is ignored.</p>\n\n<p>I verified this by experimenting with a modification of the spring boot sample \"spring-boot-sample-jersey\"</p>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1517234409,"creation_date":1495550569,"answer_id":44137972,"question_id":28324352,"body_markdown":"`spring.jackson.serialization-inclusion=non_null` used to work for us\r\n\r\nBut when we upgraded spring boot version to 1.4.2.RELEASE or higher, it stopped working. \r\n\r\nNow, another property `spring.jackson.default-property-inclusion=non_null` is doing the magic.\r\n\r\nin fact, `serialization-inclusion` is deprecated. This is what my intellij throws at me.\r\n\r\n&gt; Deprecated: ObjectMapper.setSerializationInclusion was deprecated in\r\n&gt; Jackson 2.7\r\n\r\n**So, start using `spring.jackson.default-property-inclusion=non_null` instead**","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p><code>spring.jackson.serialization-inclusion=non_null</code> used to work for us</p>\n\n<p>But when we upgraded spring boot version to 1.4.2.RELEASE or higher, it stopped working. </p>\n\n<p>Now, another property <code>spring.jackson.default-property-inclusion=non_null</code> is doing the magic.</p>\n\n<p>in fact, <code>serialization-inclusion</code> is deprecated. This is what my intellij throws at me.</p>\n\n<blockquote>\n  <p>Deprecated: ObjectMapper.setSerializationInclusion was deprecated in\n  Jackson 2.7</p>\n</blockquote>\n\n<p><strong>So, start using <code>spring.jackson.default-property-inclusion=non_null</code> instead</strong></p>\n"},{"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508395499,"creation_date":1508395499,"answer_id":46824079,"question_id":28324352,"body_markdown":"I know the question asking for Spring boot, but I believe lot of people looking for how to do this in non Spring boot, like me searching almost whole day.\r\n\r\nAbove Spring 4, there is no need to configure `MappingJacksonHttpMessageConverter` if you only intend to configure `ObjectMapper`.\r\n\r\nYou just need to do:\r\n\r\n    public class MyObjectMapper extends ObjectMapper {\r\n    \r\n        private static final long serialVersionUID = 4219938065516862637L;\r\n    \r\n        public MyObjectMapper() {\r\n            super();\r\n            enable(SerializationFeature.INDENT_OUTPUT);\r\n        }       \r\n    }\r\n\r\nAnd in your Spring configuration, create this bean:\r\n\r\n    @Bean \r\n    public MyObjectMapper myObjectMapper() {        \r\n        return new MyObjectMapper();\r\n    }","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I know the question asking for Spring boot, but I believe lot of people looking for how to do this in non Spring boot, like me searching almost whole day.</p>\n\n<p>Above Spring 4, there is no need to configure <code>MappingJacksonHttpMessageConverter</code> if you only intend to configure <code>ObjectMapper</code>.</p>\n\n<p>You just need to do:</p>\n\n<pre><code>public class MyObjectMapper extends ObjectMapper {\n\n    private static final long serialVersionUID = 4219938065516862637L;\n\n    public MyObjectMapper() {\n        super();\n        enable(SerializationFeature.INDENT_OUTPUT);\n    }       \n}\n</code></pre>\n\n<p>And in your Spring configuration, create this bean:</p>\n\n<pre><code>@Bean \npublic MyObjectMapper myObjectMapper() {        \n    return new MyObjectMapper();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4929552,"reputation":360,"user_id":3969778,"accept_rate":50,"display_name":"Richtopia"},"score":0,"creation_date":1553123174,"post_id":52509381,"comment_id":97274021,"body_markdown":"This one worked for me using Boot 2.1.3. The spring.jackson properties had no effect.","body":"This one worked for me using Boot 2.1.3. The spring.jackson properties had no effect."}],"tags":[],"owner":{"account_id":3171905,"reputation":10222,"user_id":2680640,"display_name":"sendon1982"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1537931404,"creation_date":1537931404,"answer_id":52509381,"question_id":28324352,"body_markdown":"You can add a following method inside your bootstrap class which is annotated with `@SpringBootApplication`\r\n\r\n    \t@Bean\r\n\t    @Primary\r\n\t    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\r\n\t\tObjectMapper objectMapper = builder.createXmlMapper(false).build();\r\n\t\tobjectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n\t\tobjectMapper.configure(SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS, false);\r\n\r\n\t\tobjectMapper.registerModule(new JodaModule());\r\n\r\n\t\treturn objectMapper;\r\n\t}","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>You can add a following method inside your bootstrap class which is annotated with <code>@SpringBootApplication</code></p>\n\n<pre><code>    @Bean\n    @Primary\n    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\n    ObjectMapper objectMapper = builder.createXmlMapper(false).build();\n    objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n    objectMapper.configure(SerializationFeature.WRITE_DATE_TIMESTAMPS_AS_NANOSECONDS, false);\n\n    objectMapper.registerModule(new JodaModule());\n\n    return objectMapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1557937646,"creation_date":1557937055,"answer_id":56153682,"question_id":28324352,"body_markdown":"When I tried to make ObjectMapper primary in spring boot 2.0.6 I got errors\r\nSo I modified the one that spring boot created for me\r\n\r\nAlso see https://stackoverflow.com/a/48519868/255139\r\n\r\n    @Lazy\r\n    @Autowired\r\n    ObjectMapper mapper;\r\n\r\n    @PostConstruct\r\n    public ObjectMapper configureMapper() {\r\n        mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\r\n        mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\r\n\r\n        mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        mapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true);\r\n\r\n        mapper.configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, true);\r\n        mapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true);\r\n\r\n        SimpleModule module = new SimpleModule();\r\n        module.addDeserializer(LocalDate.class, new LocalDateDeserializer());\r\n        module.addSerializer(LocalDate.class, new LocalDateSerializer());\r\n        mapper.registerModule(module);\r\n\r\n        return mapper;\r\n    }","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>When I tried to make ObjectMapper primary in spring boot 2.0.6 I got errors\nSo I modified the one that spring boot created for me</p>\n\n<p>Also see <a href=\"https://stackoverflow.com/a/48519868/255139\">https://stackoverflow.com/a/48519868/255139</a></p>\n\n<pre><code>@Lazy\n@Autowired\nObjectMapper mapper;\n\n@PostConstruct\npublic ObjectMapper configureMapper() {\n    mapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);\n    mapper.enable(DeserializationFeature.ACCEPT_EMPTY_STRING_AS_NULL_OBJECT);\n\n    mapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);\n    mapper.configure(SerializationFeature.ORDER_MAP_ENTRIES_BY_KEYS, true);\n\n    mapper.configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, true);\n    mapper.configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true);\n\n    SimpleModule module = new SimpleModule();\n    module.addDeserializer(LocalDate.class, new LocalDateDeserializer());\n    module.addSerializer(LocalDate.class, new LocalDateSerializer());\n    mapper.registerModule(module);\n\n    return mapper;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2642474,"reputation":192,"user_id":2285849,"display_name":"Michael"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610462773,"creation_date":1605893240,"answer_id":64934061,"question_id":28324352,"body_markdown":"The right way to add further configurations to the Spring Boot peconfigured ObjectMapper is to define a Jackson2ObjectMapperBuilderCustomizer. Else you are overwriting Springs configuration, which you do not want to lose.\r\n\r\n   \r\n\r\n     @Configuration\r\n    public class MyJacksonConfigurer implements Jackson2ObjectMapperBuilderCustomizer {\r\n        @Override\r\n        public void customize(Jackson2ObjectMapperBuilder builder) {\r\n            builder.deserializerByType(LocalDate.class, new MyOwnJsonLocalDateTimeDeserializer());\r\n        }\r\n    }\r\n\r\n","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>The right way to add further configurations to the Spring Boot peconfigured ObjectMapper is to define a Jackson2ObjectMapperBuilderCustomizer. Else you are overwriting Springs configuration, which you do not want to lose.</p>\n<pre><code> @Configuration\npublic class MyJacksonConfigurer implements Jackson2ObjectMapperBuilderCustomizer {\n    @Override\n    public void customize(Jackson2ObjectMapperBuilder builder) {\n        builder.deserializerByType(LocalDate.class, new MyOwnJsonLocalDateTimeDeserializer());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3612189,"reputation":1321,"user_id":3012938,"accept_rate":17,"display_name":"Patrick Mutwiri"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1646825729,"creation_date":1646825414,"answer_id":71408637,"question_id":28324352,"body_markdown":"I&#39;ve seen numerous questions regarding this issue. This is what worked for me in Spring Boot version 2.7.0-SNAPSHOT.\r\n\r\nI created a configuration, MapperConfigs, created a objectMapper bean, annotated primary as the [documentation][1] says \r\n\r\n    \r\n    @Configuration\r\n    @Log4j2\r\n    public class MapperConfigs {\r\n        @Bean\r\n        @Primary\r\n        ObjectMapper objectMapper() {\r\n            log.info(&quot;Object mapper overrides &quot;);\r\n            return JsonMapper.builder()\r\n                    .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES)\r\n                    .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\nI then @Autowired objectMapper. See below:\r\n\r\n    @Service\r\n    public class GenerateRequestUniqueID {\r\n        @Autowired\r\n        ObjectMapper objectMapper;\r\n        ...\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.3.0.M3/reference/html/howto-spring-mvc.html","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I've seen numerous questions regarding this issue. This is what worked for me in Spring Boot version 2.7.0-SNAPSHOT.</p>\n<p>I created a configuration, MapperConfigs, created a objectMapper bean, annotated primary as the <a href=\"https://docs.spring.io/spring-boot/docs/1.3.0.M3/reference/html/howto-spring-mvc.html\" rel=\"nofollow noreferrer\">documentation</a> says</p>\n<pre><code>@Configuration\n@Log4j2\npublic class MapperConfigs {\n    @Bean\n    @Primary\n    ObjectMapper objectMapper() {\n        log.info(&quot;Object mapper overrides &quot;);\n        return JsonMapper.builder()\n                .enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES)\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n                .build();\n    }\n}\n</code></pre>\n<p>I then @Autowired objectMapper. See below:</p>\n<pre><code>@Service\npublic class GenerateRequestUniqueID {\n    @Autowired\n    ObjectMapper objectMapper;\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10798870,"reputation":1184,"user_id":7943583,"display_name":"Mohan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661366686,"creation_date":1661366686,"answer_id":73478216,"question_id":28324352,"body_markdown":"\r\n**Remove the default one and add your custom converter:** \r\n\r\n\r\n```@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n    @Override\r\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\r\n//        Remove the default MappingJackson2HttpMessageConverter\r\n        converters.removeIf(converter -&gt; {\r\n            String converterName = converter.getClass().getSimpleName();\r\n            return converterName.equals(&quot;MappingJackson2HttpMessageConverter&quot;);\r\n        });\r\n//        Add your custom MappingJackson2HttpMessageConverter\r\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new JavaTimeModule());\r\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\r\n        converter.setObjectMapper(objectMapper);\r\n        converters.add(converter);\r\n        WebMvcConfigurer.super.extendMessageConverters(converters);\r\n    }\r\n}\r\n```\r\n**Note:** Please don&#39;t use configureMessageConverters() instead of extendMessageConverters() from WebMvcConfigurer because configure method will remove all the existing converters which will be installed by default.\r\n\r\nHope it will help someone like me who has wasted some hours debugging the issue :)","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p><strong>Remove the default one and add your custom converter:</strong></p>\n<pre><code>@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n    @Override\n    public void extendMessageConverters(List&lt;HttpMessageConverter&lt;?&gt;&gt; converters) {\n//        Remove the default MappingJackson2HttpMessageConverter\n        converters.removeIf(converter -&gt; {\n            String converterName = converter.getClass().getSimpleName();\n            return converterName.equals(&quot;MappingJackson2HttpMessageConverter&quot;);\n        });\n//        Add your custom MappingJackson2HttpMessageConverter\n        MappingJackson2HttpMessageConverter converter = new MappingJackson2HttpMessageConverter();\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new JavaTimeModule());\n        objectMapper.configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false);\n        converter.setObjectMapper(objectMapper);\n        converters.add(converter);\n        WebMvcConfigurer.super.extendMessageConverters(converters);\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> Please don't use configureMessageConverters() instead of extendMessageConverters() from WebMvcConfigurer because configure method will remove all the existing converters which will be installed by default.</p>\n<p>Hope it will help someone like me who has wasted some hours debugging the issue :)</p>\n"},{"tags":[],"owner":{"account_id":3000988,"reputation":728,"user_id":2546511,"display_name":"Ashish Lahoti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671194304,"creation_date":1671194304,"answer_id":74824567,"question_id":28324352,"body_markdown":"There are two ways to customize Jackson `ObjectMapper`:-\r\n1. Override the default behavior of auto-configured `ObjectMapper` by Spring Boot \r\n2. Overwrite the `ObjectMapper` to have a complete control\r\n\r\n#### Override ObjectMapper\r\n```java\r\n@Configuration\r\npublic class CustomJacksonConfig {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\r\n        return builder.build().setSerializationInclusion(JsonInclude.Include.NON_NULL)\r\n                .configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\r\n                .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false)\r\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n                .configure(SerializationFeature.INDENT_OUTPUT, true)\r\n                .registerModule(new JavaTimeModule());\r\n    }\r\n}\r\n```\r\n\r\n#### Overwrite ObjectMapper\r\n```java\r\n@Configuration\r\npublic class CustomJacksonConfig {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper() {\r\n        return new ObjectMapper()\r\n                .setSerializationInclusion(JsonInclude.Include.NON_NULL)\r\n                .configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\r\n                .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false)\r\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\r\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\r\n    }\r\n}\r\n```\r\nsource: https://codingnconcepts.com/spring-boot/customize-jackson-json-mapper/","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>There are two ways to customize Jackson <code>ObjectMapper</code>:-</p>\n<ol>\n<li>Override the default behavior of auto-configured <code>ObjectMapper</code> by Spring Boot</li>\n<li>Overwrite the <code>ObjectMapper</code> to have a complete control</li>\n</ol>\n<h4>Override ObjectMapper</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CustomJacksonConfig {\n\n    @Bean\n    @Primary\n    public ObjectMapper objectMapper(Jackson2ObjectMapperBuilder builder) {\n        return builder.build().setSerializationInclusion(JsonInclude.Include.NON_NULL)\n                .configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\n                .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                .configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false)\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n                .configure(SerializationFeature.INDENT_OUTPUT, true)\n                .registerModule(new JavaTimeModule());\n    }\n}\n</code></pre>\n<h4>Overwrite ObjectMapper</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class CustomJacksonConfig {\n\n    @Bean\n    @Primary\n    public ObjectMapper objectMapper() {\n        return new ObjectMapper()\n                .setSerializationInclusion(JsonInclude.Include.NON_NULL)\n                .configure(MapperFeature.SORT_PROPERTIES_ALPHABETICALLY, true)\n                .configure(MapperFeature.ACCEPT_CASE_INSENSITIVE_PROPERTIES, true)\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                .configure(DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES, false)\n                .configure(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS, false)\n                .configure(SerializationFeature.INDENT_OUTPUT, true);\n    }\n}\n</code></pre>\n<p>source: <a href=\"https://codingnconcepts.com/spring-boot/customize-jackson-json-mapper/\" rel=\"nofollow noreferrer\">https://codingnconcepts.com/spring-boot/customize-jackson-json-mapper/</a></p>\n"}],"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222217,"favorite_count":0,"down_vote_count":0,"up_vote_count":124,"accepted_answer_id":28324976,"answer_count":14,"score":124,"last_activity_date":1671194304,"creation_date":1423061660,"question_id":28324352,"body_markdown":"I&#39;m using Spring Boot (1.2.1), in a similar fashion as in their [Building a RESTful Web Service][1] tutorial:\r\n\r\n```lang-java\r\n@RestController\r\npublic class EventController {\r\n   @RequestMapping(&quot;/events/all&quot;)\r\n   EventList events() {\r\n       return proxyService.getAllEvents();\r\n   }\r\n}\r\n```\r\n\r\nSo above, Spring MVC implicitly uses Jackson for serialising my `EventList` object into JSON.\r\n\r\nBut I want to do some simple customisations to the JSON format, such as:\r\n\r\n```lang-java\r\nsetSerializationInclusion(JsonInclude.Include.NON_NULL)\r\n```\r\n\r\n\r\nQuestion is, **what is the simplest way to customise the implicit JSON mapper?**\r\n\r\n\r\nI tried the approach in **[this blog post][2]**, creating a CustomObjectMapper  and so on, but the step 3, &quot;Register classes in the Spring context&quot;, fails:\r\n\r\n```lang-none\r\norg.springframework.beans.factory.BeanCreationException: \r\n  Error creating bean with name &#39;jacksonFix&#39;: Injection of autowired dependencies failed; \r\n  nested exception is org.springframework.beans.factory.BeanCreationException: \r\n  Could not autowire method: public void com.acme.project.JacksonFix.setAnnotationMethodHandlerAdapter(org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter); \r\n  nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \r\n  No qualifying bean of type [org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter]   \r\n  found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\r\n```\r\n\r\nIt looks like those instructions are for older versions of Spring MVC, while I&#39;m looking for a simple way to get this working with latest Spring Boot.\r\n\r\n  [1]: http://spring.io/guides/gs/rest-service/\r\n  [2]: http://magicmonster.com/kb/prg/java/spring/webmvc/jackson_custom.html","title":"How to customise the Jackson JSON mapper implicitly used by Spring Boot?","body":"<p>I'm using Spring Boot (1.2.1), in a similar fashion as in their <a href=\"http://spring.io/guides/gs/rest-service/\" rel=\"noreferrer\">Building a RESTful Web Service</a> tutorial:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class EventController {\n   @RequestMapping(&quot;/events/all&quot;)\n   EventList events() {\n       return proxyService.getAllEvents();\n   }\n}\n</code></pre>\n<p>So above, Spring MVC implicitly uses Jackson for serialising my <code>EventList</code> object into JSON.</p>\n<p>But I want to do some simple customisations to the JSON format, such as:</p>\n<pre class=\"lang-java prettyprint-override\"><code>setSerializationInclusion(JsonInclude.Include.NON_NULL)\n</code></pre>\n<p>Question is, <strong>what is the simplest way to customise the implicit JSON mapper?</strong></p>\n<p>I tried the approach in <strong><a href=\"http://magicmonster.com/kb/prg/java/spring/webmvc/jackson_custom.html\" rel=\"noreferrer\">this blog post</a></strong>, creating a CustomObjectMapper  and so on, but the step 3, &quot;Register classes in the Spring context&quot;, fails:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.factory.BeanCreationException: \n  Error creating bean with name 'jacksonFix': Injection of autowired dependencies failed; \n  nested exception is org.springframework.beans.factory.BeanCreationException: \n  Could not autowire method: public void com.acme.project.JacksonFix.setAnnotationMethodHandlerAdapter(org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter); \n  nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: \n  No qualifying bean of type [org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdapter]   \n  found for dependency: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}\n</code></pre>\n<p>It looks like those instructions are for older versions of Spring MVC, while I'm looking for a simple way to get this working with latest Spring Boot.</p>\n"},{"tags":["java","swagger"],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671194000,"creation_date":1671194000,"question_id":74824512,"body_markdown":"I have a simple dto \r\n\r\n\r\n    @Getter\r\n    @Setter\r\n    @Schema(title = &quot;TestDto&quot;, description = &quot;Test dto&quot;)\r\n    public class TestDto {\r\n       \r\n        private Integer id;\r\n        private String value;\r\n        @ArraySchema(schema = @Schema(implementation = TestDto.class))\r\n        private List&lt;TestDto&gt; children;\r\n\r\nand when i generate schema i see \r\n\r\n    &quot;testDto&quot;: [\r\n            {\r\n              &quot;id&quot;: 0,\r\n              &quot;value&quot;: &quot;string&quot;,\r\n              &quot;children&quot;:[&quot;string&quot;]\r\n            }\r\n\r\nbut i need something like this\r\n\r\n     &quot;testDto&quot;: [\r\n                {\r\n                  &quot;id&quot;: 0,\r\n                  &quot;value&quot;: &quot;string&quot;,\r\n                  &quot;children&quot;:[\r\n                              {&quot;id&quot;: 0,\r\n                               &quot;value&quot;: &quot;string&quot;,\r\n                               &quot;children&quot;:[{}]}]\r\n                }\r\n\r\nor like this\r\n\r\n    &quot;testDto&quot;: [\r\n            {\r\n              &quot;id&quot;: 0,\r\n              &quot;value&quot;: &quot;string&quot;,\r\n              &quot;children&quot;:[&quot;testDto&quot;]\r\n            }\r\n\r\nis there any way to do that?\r\n\r\n\r\n","title":"How to add link to parent object in schema","body":"<p>I have a simple dto</p>\n<pre><code>@Getter\n@Setter\n@Schema(title = &quot;TestDto&quot;, description = &quot;Test dto&quot;)\npublic class TestDto {\n   \n    private Integer id;\n    private String value;\n    @ArraySchema(schema = @Schema(implementation = TestDto.class))\n    private List&lt;TestDto&gt; children;\n</code></pre>\n<p>and when i generate schema i see</p>\n<pre><code>&quot;testDto&quot;: [\n        {\n          &quot;id&quot;: 0,\n          &quot;value&quot;: &quot;string&quot;,\n          &quot;children&quot;:[&quot;string&quot;]\n        }\n</code></pre>\n<p>but i need something like this</p>\n<pre><code> &quot;testDto&quot;: [\n            {\n              &quot;id&quot;: 0,\n              &quot;value&quot;: &quot;string&quot;,\n              &quot;children&quot;:[\n                          {&quot;id&quot;: 0,\n                           &quot;value&quot;: &quot;string&quot;,\n                           &quot;children&quot;:[{}]}]\n            }\n</code></pre>\n<p>or like this</p>\n<pre><code>&quot;testDto&quot;: [\n        {\n          &quot;id&quot;: 0,\n          &quot;value&quot;: &quot;string&quot;,\n          &quot;children&quot;:[&quot;testDto&quot;]\n        }\n</code></pre>\n<p>is there any way to do that?</p>\n"},{"tags":["java","maven","build","pom.xml","maven-dependency-plugin"],"answers":[{"tags":[],"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384355110,"creation_date":1336398444,"answer_id":10483252,"question_id":10483180,"body_markdown":"&gt; pluginManagement: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. However, this only configures plugins that are actually referenced within the plugins element in the children. The children have every right to override pluginManagement definitions.\r\n\r\nFrom http://maven.apache.org/pom.html#Plugin%5FManagement\r\n\r\nCopied from :\r\n\r\nhttps://stackoverflow.com/questions/1266226/maven2-problem-with-pluginmanagement-and-parent-child-relationship","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<blockquote>\n  <p>pluginManagement: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. However, this only configures plugins that are actually referenced within the plugins element in the children. The children have every right to override pluginManagement definitions.</p>\n</blockquote>\n\n<p>From <a href=\"http://maven.apache.org/pom.html#Plugin%5FManagement\" rel=\"nofollow noreferrer\">http://maven.apache.org/pom.html#Plugin%5FManagement</a></p>\n\n<p>Copied from :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1266226/maven2-problem-with-pluginmanagement-and-parent-child-relationship\">Maven2 - problem with pluginManagement and parent-child relationship</a></p>\n"},{"comments":[{"owner":{"account_id":165129,"reputation":1388,"user_id":388317,"accept_rate":0,"display_name":"Christian Ullenboom"},"score":0,"creation_date":1677510756,"post_id":10483284,"comment_id":133346885,"body_markdown":"You could even omit &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; (for this special case for core plugins)","body":"You could even omit &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; (for this special case for core plugins)"}],"tags":[],"owner":{"account_id":1082218,"reputation":6741,"user_id":1078883,"display_name":"jordeu"},"comment_count":1,"down_vote_count":2,"up_vote_count":351,"is_accepted":true,"score":349,"last_activity_date":1392131280,"creation_date":1336398561,"answer_id":10483284,"question_id":10483180,"body_markdown":"You still need to add \r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nin your build, because `pluginManagement` is only a way to share the same plugin configuration across all your project modules.\r\n\r\nFrom Maven documentation:\r\n\r\n&gt; **pluginManagement**: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. However, this only configures plugins that are actually referenced within the plugins element in the children. The children have every right to override pluginManagement definitions.\r\n","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p>You still need to add </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p>in your build, because <code>pluginManagement</code> is only a way to share the same plugin configuration across all your project modules.</p>\n\n<p>From Maven documentation:</p>\n\n<blockquote>\n  <p><strong>pluginManagement</strong>: is an element that is seen along side plugins. Plugin Management contains plugin elements in much the same way, except that rather than configuring plugin information for this particular project build, it is intended to configure project builds that inherit from this one. However, this only configures plugins that are actually referenced within the plugins element in the children. The children have every right to override pluginManagement definitions.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":261063,"reputation":3498,"user_id":545006,"accept_rate":22,"display_name":"Andrea Borgogelli Avveduti"},"score":0,"creation_date":1336403618,"post_id":10483294,"comment_id":13548838,"body_markdown":"Thank you. I just looking to mix pluginManagement and plugin tags on the same pom file because I need to bypass a little bug of the M2E plugin for Eclipse.\nSee the http://stackoverflow.com/questions/8706017/maven-dependency-plugin-goals-copy-dependencies-unpack-is-not-supported-b#_=_","body":"Thank you. I just looking to mix pluginManagement and plugin tags on the same pom file because I need to bypass a little bug of the M2E plugin for Eclipse. See the <a href=\"http://stackoverflow.com/questions/8706017/maven-dependency-plugin-goals-copy-dependencies-unpack-is-not-supported-b#_=_\" title=\"maven dependency plugin goals copy dependencies unpack is not supported b%23_%3d_\">stackoverflow.com/questions/8706017/&hellip;</a>"}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1576577596,"creation_date":1336398589,"answer_id":10483294,"question_id":10483180,"body_markdown":"You use `pluginManagement` in a `parent pom` to configure it in case any `child pom` wants to use it, but not every child plugin wants to use it. An example can be that your `super pom` defines some options for the maven Javadoc plugin. \r\n\r\nNot each `child pom` might want to use Javadoc, so you define those defaults in a `pluginManagement` section. The child pom that wants to use the Javadoc plugin, just defines a plugin section and will **inherit** the configuration from the `pluginManagement` definition in the `parent pom`.","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p>You use <code>pluginManagement</code> in a <code>parent pom</code> to configure it in case any <code>child pom</code> wants to use it, but not every child plugin wants to use it. An example can be that your <code>super pom</code> defines some options for the maven Javadoc plugin. </p>\n\n<p>Not each <code>child pom</code> might want to use Javadoc, so you define those defaults in a <code>pluginManagement</code> section. The child pom that wants to use the Javadoc plugin, just defines a plugin section and will <strong>inherit</strong> the configuration from the <code>pluginManagement</code> definition in the <code>parent pom</code>.</p>\n"},{"comments":[{"owner":{"account_id":261063,"reputation":3498,"user_id":545006,"accept_rate":22,"display_name":"Andrea Borgogelli Avveduti"},"score":0,"creation_date":1336403296,"post_id":10483432,"comment_id":13548722,"body_markdown":"Thank you for your reply. I need to mix the pluginManagement and plugin tag (for the maven-dependency-plugin) on the same pom file, because I need to bypass a little bug of M2E Eclipse IDE plugin. See http://stackoverflow.com/questions/8706017/maven-dependency-plugin-goals-copy-dependencies-unpack-is-not-supported-b#_=_","body":"Thank you for your reply. I need to mix the pluginManagement and plugin tag (for the maven-dependency-plugin) on the same pom file, because I need to bypass a little bug of M2E Eclipse IDE plugin. See <a href=\"http://stackoverflow.com/questions/8706017/maven-dependency-plugin-goals-copy-dependencies-unpack-is-not-supported-b#_=_\" title=\"maven dependency plugin goals copy dependencies unpack is not supported b%23_%3d_\">stackoverflow.com/questions/8706017/&hellip;</a>"},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":9,"creation_date":1348849846,"post_id":10483432,"comment_id":17053285,"body_markdown":"Thanks! :)\nThis is the same for `&lt;dependency/&gt;` and `&lt;dependencyManagement/&gt;`. You define the dependencies (along with their versions and scopes, if you like) in the `&lt;dependencyManagement/&gt;` section and then in the `&lt;dependencies/&gt;` section you just define the `groupId` and `artifactId`.","body":"Thanks! :) This is the same for <code>&lt;dependency&#47;&gt;</code> and <code>&lt;dependencyManagement&#47;&gt;</code>. You define the dependencies (along with their versions and scopes, if you like) in the <code>&lt;dependencyManagement&#47;&gt;</code> section and then in the <code>&lt;dependencies&#47;&gt;</code> section you just define the <code>groupId</code> and <code>artifactId</code>."},{"owner":{"account_id":93208,"reputation":6939,"user_id":255139,"accept_rate":44,"display_name":"Kalpesh Soni"},"score":1,"creation_date":1401915740,"post_id":10483432,"comment_id":37075856,"body_markdown":"if i have to execute a plugin twice, should i use pluginmanagement?","body":"if i have to execute a plugin twice, should i use pluginmanagement?"},{"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"score":0,"creation_date":1466680964,"post_id":10483432,"comment_id":63424034,"body_markdown":"@KalpeshSoni: It depends -- you may want to have common configuration between the two executions which you don&#39;t want to have to redefine.","body":"@KalpeshSoni: It depends -- you may want to have common configuration between the two executions which you don&#39;t want to have to redefine."}],"tags":[],"owner":{"account_id":405356,"reputation":31611,"user_id":774183,"accept_rate":78,"display_name":"carlspring"},"comment_count":4,"down_vote_count":0,"up_vote_count":339,"is_accepted":false,"score":339,"last_activity_date":1670778003,"creation_date":1336399171,"answer_id":10483432,"question_id":10483180,"body_markdown":"The difference between `&lt;pluginManagement/&gt;` and `&lt;plugins/&gt;` is that a `&lt;plugin/&gt;` under:\r\n\r\n- `&lt;pluginManagement/&gt;` defines the settings for plugins that will be inherited by modules in your build. This is great for cases where you have a parent pom file and would like to avoid having to copy the same code for the configuration of the plugin over to each of these modules.\r\n\r\n- `&lt;plugins/&gt;` is a section for the actual invocation of the plugins. It may or may not be inherited from a `&lt;pluginManagement/&gt;`.\r\n\r\nYou don&#39;t need to have a `&lt;pluginManagement/&gt;` in your project, if it&#39;s not a parent POM. However, if it&#39;s a parent pom, then in the child&#39;s pom, you need to have a declaration like:\r\n\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.foo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bar-plugin&lt;/artifactId&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n\r\nNotice how you aren&#39;t defining any configuration. You can inherit it from the parent, unless you need to further adjust your invocation as per the child project&#39;s needs.\r\n\r\nFor more specific information, you can check:\r\n\r\n- The Maven pom.xml reference: [Plugins][1]\r\n\r\n- The Maven pom.xml reference: [Plugin Management][2]\r\n\r\n\r\n  [1]: https://maven.apache.org/pom.html#Plugins\r\n  [2]: https://maven.apache.org/pom.html#Plugin_Management\r\n     ","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p>The difference between <code>&lt;pluginManagement/&gt;</code> and <code>&lt;plugins/&gt;</code> is that a <code>&lt;plugin/&gt;</code> under:</p>\n<ul>\n<li><p><code>&lt;pluginManagement/&gt;</code> defines the settings for plugins that will be inherited by modules in your build. This is great for cases where you have a parent pom file and would like to avoid having to copy the same code for the configuration of the plugin over to each of these modules.</p>\n</li>\n<li><p><code>&lt;plugins/&gt;</code> is a section for the actual invocation of the plugins. It may or may not be inherited from a <code>&lt;pluginManagement/&gt;</code>.</p>\n</li>\n</ul>\n<p>You don't need to have a <code>&lt;pluginManagement/&gt;</code> in your project, if it's not a parent POM. However, if it's a parent pom, then in the child's pom, you need to have a declaration like:</p>\n<pre><code>&lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;com.foo&lt;/groupId&gt;\n        &lt;artifactId&gt;bar-plugin&lt;/artifactId&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n</code></pre>\n<p>Notice how you aren't defining any configuration. You can inherit it from the parent, unless you need to further adjust your invocation as per the child project's needs.</p>\n<p>For more specific information, you can check:</p>\n<ul>\n<li><p>The Maven pom.xml reference: <a href=\"https://maven.apache.org/pom.html#Plugins\" rel=\"noreferrer\">Plugins</a></p>\n</li>\n<li><p>The Maven pom.xml reference: <a href=\"https://maven.apache.org/pom.html#Plugin_Management\" rel=\"noreferrer\">Plugin Management</a></p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1661378,"reputation":1660,"user_id":1529616,"accept_rate":46,"display_name":"velocity"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671193972,"creation_date":1671193972,"answer_id":74824502,"question_id":10483180,"body_markdown":"`&lt;pluginManagement&gt;` just like `&lt;dependencyManagement&gt;` are both used to share only the configuration between a parent and it&#39;s sub-modules.  \r\n\r\nFor that we define the dependencie&#39;s and plugin&#39;s common configurations in the parent project and then we only have to declare the dependency/plugin in the sub-modules to use it, without having to define a configuration for it (i.e version or execution, goals, etc). Though this does not prevent us from overriding the configuration in the submodule.  \r\n\r\nIn contrast `&lt;dependencies&gt;` and `&lt;plugins&gt;` are inherited along with their configurations and should not be redeclared in the sub-modules, otherwise a conflict would occur.   \r\n","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p><code>&lt;pluginManagement&gt;</code> just like <code>&lt;dependencyManagement&gt;</code> are both used to share only the configuration between a parent and it's sub-modules.</p>\n<p>For that we define the dependencie's and plugin's common configurations in the parent project and then we only have to declare the dependency/plugin in the sub-modules to use it, without having to define a configuration for it (i.e version or execution, goals, etc). Though this does not prevent us from overriding the configuration in the submodule.</p>\n<p>In contrast <code>&lt;dependencies&gt;</code> and <code>&lt;plugins&gt;</code> are inherited along with their configurations and should not be redeclared in the sub-modules, otherwise a conflict would occur.</p>\n"}],"owner":{"account_id":261063,"reputation":3498,"user_id":545006,"accept_rate":22,"display_name":"Andrea Borgogelli Avveduti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":211996,"favorite_count":0,"down_vote_count":0,"up_vote_count":325,"accepted_answer_id":10483284,"answer_count":5,"score":325,"last_activity_date":1671193972,"creation_date":1336398188,"question_id":10483180,"body_markdown":"This is a snippet of my pom file.\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    ....\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.4&lt;/version&gt;                        \r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;install&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t\t......\r\n    \t\t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    ...\r\n\r\nI use it successfully with the command \r\n\r\n    mvn install\r\n\r\nBut, when I try to enclose it into the &quot;pluginManagement&quot; tag, the `maven-dependency-plugin` stops working when I launch the `install` goal.\r\nWhy does the &quot;pluginManagement&quot; tag change the build behavior? Or should I use another goal or option?","title":"What is pluginManagement in Maven&#39;s pom.xml?","body":"<p>This is a snippet of my pom file.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>....\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4&lt;/version&gt;                        \n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            ......\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n...\n</code></pre>\n\n<p>I use it successfully with the command </p>\n\n<pre><code>mvn install\n</code></pre>\n\n<p>But, when I try to enclose it into the \"pluginManagement\" tag, the <code>maven-dependency-plugin</code> stops working when I launch the <code>install</code> goal.\nWhy does the \"pluginManagement\" tag change the build behavior? Or should I use another goal or option?</p>\n"},{"tags":["java","spring","exception"],"comments":[{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":0,"creation_date":1671191046,"post_id":74823957,"comment_id":132050940,"body_markdown":"You can validate the request with these annotations: https://stackoverflow.com/questions/36173332/difference-between-valid-and-validated-in-spring\nNo need of a separate class.","body":"You can validate the request with these annotations: <a href=\"https://stackoverflow.com/questions/36173332/difference-between-valid-and-validated-in-spring\" title=\"difference between valid and validated in spring\">stackoverflow.com/questions/36173332/&hellip;</a> No need of a separate class."},{"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"score":0,"creation_date":1671193679,"post_id":74823957,"comment_id":132051759,"body_markdown":"Hi Arun, Thank you for your answer. I thought about using @Valid but in my case, I have to return different error messages for different endpoints using the same Request Object. I am not sure if that is possible with the validation annotations. I have edited the question to minimize the confusion.","body":"Hi Arun, Thank you for your answer. I thought about using @Valid but in my case, I have to return different error messages for different endpoints using the same Request Object. I am not sure if that is possible with the validation annotations. I have edited the question to minimize the confusion."}],"owner":{"account_id":4054391,"reputation":929,"user_id":3332879,"accept_rate":38,"display_name":"Cugomastik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671193922,"creation_date":1671190800,"question_id":74823957,"body_markdown":"I am trying to create a custom Exception handler which will be the first thing to run when a request is made for **different endpoints** using the same request body object.\r\n \r\nDepending on the endpoint, It should check the request body object&#39;s fields and throw a different error message for the same field.\r\n\r\nI could not figure out to specify the endpoint for @Valid and thought an Exception Handler would be a better solution for this issue.\r\n\r\nMy problem is on the Controller side. I could not figure out how to call the custom exception check when a request is made. Any help would be great. \r\n\r\n    public class RequestData {\r\n      private String type; \r\n      private int distance;\r\n      //getters, setters etc.\r\n    }\r\n    \r\n\r\nController:\r\n\r\n        @RestController\r\n        public class TestController {\r\n            \r\n            @PostMapping(&quot;/getSomething&quot;)\r\n            @ExceptionHandler({CustomIllegalArgumentException.class})\r\n            public ResponseEntity getSomething(@RequestBody RequestData requestData) {\r\n                  String endPoint = &quot;getSomething&quot;;\r\n                try {\r\n                    //first check requestData, if no exception is thrown then proceed.\r\n                    return new ResponseEntity&lt;&gt;(&quot;response&quot;, HttpStatus.OK);\r\n                } catch (CustomIllegalArgumentException e) {\r\n                    return new RestExceptionHandler().handleIllegalRequestBodyException(requestData, e, endPoint);\r\n                }\r\n            }\r\n    \r\n            @PostMapping(&quot;/doSomething&quot;)\r\n            @ExceptionHandler({CustomIllegalArgumentException.class})\r\n            public ResponseEntity doSomething(@RequestBody RequestData requestData) {\r\n                String endPoint = &quot;doSomething&quot;;\r\n                try {\r\n                    //first check requestData, if no exception is thrown then proceed.\r\n                    return new ResponseEntity&lt;&gt;(&quot;response&quot;, HttpStatus.OK);\r\n                } catch (CustomIllegalArgumentException e) {\r\n                    return new RestExceptionHandler().handleIllegalRequestBodyException(requestData, e, endpoint);\r\n                }\r\n            }\r\n        }\r\nCustom Exception:\r\n\r\n    public class CustomIllegalArgumentException extends Exception {\r\n    }\r\n\r\nError Response Class:\r\n\r\n    @Getter\r\n    @Setter\r\n    public class ErrorResponse {\r\n    \r\n        private HttpStatus status;\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyyMMdd hh:mm:ss&quot;)\r\n        private LocalDateTime timeStamp;\r\n        private String message;\r\n    \r\n        public ErrorResponse(HttpStatus status) {\r\n            this();\r\n            this.status = status;\r\n        }\r\n    \r\n        public ErrorResponse(HttpStatus status, String message) {\r\n            this();\r\n            this.status = status;\r\n            this.message = message;\r\n        }\r\n    \r\n        public ErrorResponse(){\r\n            timeStamp = LocalDateTime.now();\r\n        }\r\n        public ErrorResponse(HttpStatus status, LocalDateTime timeStamp, String message) {\r\n            this();\r\n            this.status = status;\r\n            this.timeStamp = timeStamp;\r\n            this.message = message;\r\n        }\r\n    }\r\n\r\n\r\nException Handler For Custom Exception:\r\n\r\n  \r\n\r\n    @ControllerAdvice\r\n    public class RestExceptionHandler extends ResponseEntityExceptionHandler {\r\n    @ExceptionHandler(value = CustomIllegalArgumentException.class)\r\n    public ResponseEntity handleIllegalRequestBodyException(RequestData requestData, CustomIllegalArgumentException exp, String endPoint) {\r\n        ErrorResponse response = new ErrorResponse(HttpStatus.BAD_REQUEST);\r\n        if(**endPoint.equals(&quot;doSomething&quot;)** &amp;&amp; requestDdata.getDistance() &gt; 2) {\r\n            response.setMessage(&quot;a message for this endpoint&quot;);\r\n        }\r\n        if(**endPoint.equals(&quot;getSomething&quot;)** &amp;&amp; requestDdata.getDistance() &gt; 2) {\r\n            response.setMessage(&quot;some other message for this endpoint&quot;);\r\n        }\r\n\r\n        return buildResponseEntity(response);\r\n    }\r\n\r\n    private ResponseEntity buildResponseEntity(ErrorResponse errorResponse) {\r\n        return new ResponseEntity&lt;&gt;(errorResponse, errorResponse.getStatus());\r\n    }\r\n}\r\n\r\n\r\n","title":"Custom Exception Handler at Controller Level For Request Body","body":"<p>I am trying to create a custom Exception handler which will be the first thing to run when a request is made for <strong>different endpoints</strong> using the same request body object.</p>\n<p>Depending on the endpoint, It should check the request body object's fields and throw a different error message for the same field.</p>\n<p>I could not figure out to specify the endpoint for @Valid and thought an Exception Handler would be a better solution for this issue.</p>\n<p>My problem is on the Controller side. I could not figure out how to call the custom exception check when a request is made. Any help would be great.</p>\n<pre><code>public class RequestData {\n  private String type; \n  private int distance;\n  //getters, setters etc.\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>    @RestController\n    public class TestController {\n        \n        @PostMapping(&quot;/getSomething&quot;)\n        @ExceptionHandler({CustomIllegalArgumentException.class})\n        public ResponseEntity getSomething(@RequestBody RequestData requestData) {\n              String endPoint = &quot;getSomething&quot;;\n            try {\n                //first check requestData, if no exception is thrown then proceed.\n                return new ResponseEntity&lt;&gt;(&quot;response&quot;, HttpStatus.OK);\n            } catch (CustomIllegalArgumentException e) {\n                return new RestExceptionHandler().handleIllegalRequestBodyException(requestData, e, endPoint);\n            }\n        }\n\n        @PostMapping(&quot;/doSomething&quot;)\n        @ExceptionHandler({CustomIllegalArgumentException.class})\n        public ResponseEntity doSomething(@RequestBody RequestData requestData) {\n            String endPoint = &quot;doSomething&quot;;\n            try {\n                //first check requestData, if no exception is thrown then proceed.\n                return new ResponseEntity&lt;&gt;(&quot;response&quot;, HttpStatus.OK);\n            } catch (CustomIllegalArgumentException e) {\n                return new RestExceptionHandler().handleIllegalRequestBodyException(requestData, e, endpoint);\n            }\n        }\n    }\n</code></pre>\n<p>Custom Exception:</p>\n<pre><code>public class CustomIllegalArgumentException extends Exception {\n}\n</code></pre>\n<p>Error Response Class:</p>\n<pre><code>@Getter\n@Setter\npublic class ErrorResponse {\n\n    private HttpStatus status;\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyyMMdd hh:mm:ss&quot;)\n    private LocalDateTime timeStamp;\n    private String message;\n\n    public ErrorResponse(HttpStatus status) {\n        this();\n        this.status = status;\n    }\n\n    public ErrorResponse(HttpStatus status, String message) {\n        this();\n        this.status = status;\n        this.message = message;\n    }\n\n    public ErrorResponse(){\n        timeStamp = LocalDateTime.now();\n    }\n    public ErrorResponse(HttpStatus status, LocalDateTime timeStamp, String message) {\n        this();\n        this.status = status;\n        this.timeStamp = timeStamp;\n        this.message = message;\n    }\n}\n</code></pre>\n<p>Exception Handler For Custom Exception:</p>\n<pre><code>@ControllerAdvice\npublic class RestExceptionHandler extends ResponseEntityExceptionHandler {\n@ExceptionHandler(value = CustomIllegalArgumentException.class)\npublic ResponseEntity handleIllegalRequestBodyException(RequestData requestData, CustomIllegalArgumentException exp, String endPoint) {\n    ErrorResponse response = new ErrorResponse(HttpStatus.BAD_REQUEST);\n    if(**endPoint.equals(&quot;doSomething&quot;)** &amp;&amp; requestDdata.getDistance() &gt; 2) {\n        response.setMessage(&quot;a message for this endpoint&quot;);\n    }\n    if(**endPoint.equals(&quot;getSomething&quot;)** &amp;&amp; requestDdata.getDistance() &gt; 2) {\n        response.setMessage(&quot;some other message for this endpoint&quot;);\n    }\n\n    return buildResponseEntity(response);\n}\n\nprivate ResponseEntity buildResponseEntity(ErrorResponse errorResponse) {\n    return new ResponseEntity&lt;&gt;(errorResponse, errorResponse.getStatus());\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","keystore","android-keystore"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1497067606,"post_id":44469020,"comment_id":75934933,"body_markdown":"I think that -22 corresponds to this:  &quot;KM_ERROR_KEY_EXPORT_OPTIONS_INVALID = -22&quot; in KeyMasterDefs","body":"I think that -22 corresponds to this:  &quot;KM_ERROR_KEY_EXPORT_OPTIONS_INVALID = -22&quot; in KeyMasterDefs"},{"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"score":0,"creation_date":1497097537,"post_id":44469020,"comment_id":75942121,"body_markdown":"Any ideas as to how I could resolve that?","body":"Any ideas as to how I could resolve that?"},{"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"score":0,"creation_date":1497098919,"post_id":44469020,"comment_id":75942500,"body_markdown":"Seems to be stemming from this line: https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/keystore/java/android/security/keystore/AndroidKeyStoreProvider.java#230","body":"Seems to be stemming from this line: <a href=\"https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/keystore/java/android/security/keystore/AndroidKeyStoreProvider.java#230\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/base/+/refs/hea&zwnj;&#8203;ds/&hellip;</a>"},{"owner":{"account_id":388336,"reputation":1391,"user_id":747206,"accept_rate":91,"display_name":"Fredefl"},"score":0,"creation_date":1501270738,"post_id":44469020,"comment_id":77723974,"body_markdown":"@kspearrin I am actually one of the affected users, running a OnePlus 2. I TP-Links app &quot;Kasa&quot; crashing on me, with this exactly stack trace. Decompilation of the APK points to code looking like yours. Have you got any new information?","body":"@kspearrin I am actually one of the affected users, running a OnePlus 2. I TP-Links app &quot;Kasa&quot; crashing on me, with this exactly stack trace. Decompilation of the APK points to code looking like yours. Have you got any new information?"},{"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"score":0,"creation_date":1501271564,"post_id":44469020,"comment_id":77724382,"body_markdown":"@Fredefl Unfortunately I was never able to solve the problem. I gave up on it. My solution was to forego using asymmetric keypairs and revert to use symmetric keys (on Android 6.0+). Fortunately my solution allowed for that, but I realize that isn&#39;t the case most of the time.","body":"@Fredefl Unfortunately I was never able to solve the problem. I gave up on it. My solution was to forego using asymmetric keypairs and revert to use symmetric keys (on Android 6.0+). Fortunately my solution allowed for that, but I realize that isn&#39;t the case most of the time."},{"owner":{"account_id":6991560,"reputation":163,"user_id":5360655,"display_name":"Efren"},"score":0,"creation_date":1528407881,"post_id":44469020,"comment_id":88508962,"body_markdown":"@kspearrin did you find a solution for this issue?","body":"@kspearrin did you find a solution for this issue?"},{"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"score":0,"creation_date":1528407933,"post_id":44469020,"comment_id":88508989,"body_markdown":"See comment above.","body":"See comment above."},{"owner":{"account_id":20466438,"reputation":115,"user_id":15017829,"display_name":"Mike Kim"},"score":0,"creation_date":1680073749,"post_id":44469020,"comment_id":133833114,"body_markdown":"Can you use Bouncy Castle or OpenSSL instead of AndroidKeyStore?","body":"Can you use Bouncy Castle or OpenSSL instead of AndroidKeyStore?"},{"owner":{"account_id":106654,"reputation":4139,"user_id":3941732,"accept_rate":80,"display_name":"NguyenDat"},"score":0,"creation_date":1698638858,"post_id":44469020,"comment_id":136426360,"body_markdown":"I&#39;m curious what is the meaning of that error code: KM_ERROR_KEY_EXPORT_OPTIONS_INVALID and KEY_EXPORT_OPTIONS_INVALID. \n\nIs it will be return by specific implement of Phone/HW vender so we don&#39;t see detail implement of that return?\n\nIn my case majority of that error is from Oppo vendor (~70%)","body":"I&#39;m curious what is the meaning of that error code: KM_ERROR_KEY_EXPORT_OPTIONS_INVALID and KEY_EXPORT_OPTIONS_INVALID.   Is it will be return by specific implement of Phone/HW vender so we don&#39;t see detail implement of that return?  In my case majority of that error is from Oppo vendor (~70%)"}],"answers":[{"comments":[{"owner":{"account_id":2972034,"reputation":742,"user_id":2523899,"display_name":"The incredible Jan"},"score":1,"creation_date":1671194319,"post_id":74824478,"comment_id":132051940,"body_markdown":"Why? https://developer.android.com/reference/android/security/keystore/KeyProperties#DIGEST_SHA1","body":"Why? <a href=\"https://developer.android.com/reference/android/security/keystore/KeyProperties#DIGEST_SHA1\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/security/keystore/&hellip;</a>"}],"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671193781,"creation_date":1671193781,"answer_id":74824478,"question_id":44469020,"body_markdown":"you must have to try this one...\r\n\r\n - `&quot;SHA-256&quot;` instead of `&quot;SHA-1&quot;`\r\n\r\n```\r\nsetDigests(&quot;SHA-256&quot;)\r\n```","title":"AndroidKeyStore KeyPairGenerator Crashes On Small Number of Devices","body":"<p>you must have to try this one...</p>\n<ul>\n<li><code>&quot;SHA-256&quot;</code> instead of <code>&quot;SHA-1&quot;</code></li>\n</ul>\n<pre><code>setDigests(&quot;SHA-256&quot;)\n</code></pre>\n"}],"owner":{"account_id":1096963,"reputation":10398,"user_id":1090359,"accept_rate":78,"display_name":"kspearrin"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3513,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"answer_count":1,"score":46,"last_activity_date":1671193781,"creation_date":1497062729,"question_id":44469020,"body_markdown":"My application only targets Android 6.0+. In my application I generate a RSA key in the `AndroidKeyStore` with the following:\r\n\r\n    KeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;, &quot;AndroidKeyStore&quot;);\r\n    kpg.initialize(new KeyGenParameterSpec.Builder(\r\n        &quot;myKey&quot;, KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\r\n        .setCertificateSubject(new X500Principal(&quot;CN=myKey&quot;))\r\n        .setDigests(&quot;SHA-1&quot;)\r\n        .setEncryptionPaddings(&quot;OAEPPadding&quot;)\r\n        .build());\r\n    \r\n    KeyPair kp = kpg.generateKeyPair();\r\n\r\nThis works well on 20+ devices that we have tested and nearly 100% percent of our users.\r\n\r\nHowever, there is a small number of users that that application crashes for when `kpg.generateKeyPair()` is executed with the following:\r\n\r\n\r\n\r\n    java.security.ProviderException: Failed to load generated key pair from keystore\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:518)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\r\n    at java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\r\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\r\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\r\n    at android.app.ActivityThread.-wrap2(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:154)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6186)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n    Caused by: java.security.UnrecoverableKeyException: Failed to obtain X.509 form of public key\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:230)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\r\n    ... 14 more\r\n    Caused by: android.security.KeyStoreException: -22\r\n    at android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\r\n    ... 16 more\r\n    \r\n    \r\n    java.security.UnrecoverableKeyException: Failed to obtain X.509 form of public key\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:230)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\r\n    at java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\r\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\r\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\r\n    at android.app.ActivityThread.-wrap2(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:154)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6186)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n    Caused by: android.security.KeyStoreException: -22\r\n    at android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\r\n    ... 16 more\r\n    \r\n    \r\n    android.security.KeyStoreException: -22\r\n    at android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\r\n    at android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\r\n    at android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\r\n    at java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\r\n    at md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\r\n    at android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\r\n    at android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\r\n    at android.app.ActivityThread.-wrap2(ActivityThread.java)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\r\n    at android.os.Handler.dispatchMessage(Handler.java:102)\r\n    at android.os.Looper.loop(Looper.java:154)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6186)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\r\n\r\nThe only things I can find on the internet about this `Failed to obtain X.509 form of public key` error are a few articles with no real solutions. See:\r\n\r\n- https://github.com/AzureAD/azure-activedirectory-library-for-android/issues/740\r\n- https://jira.lineageos.org/browse/BUGBASH-454\r\n\r\nThe few reports that we have received are from users with OnePlus devices on Android 7.1, which is also one of the devices mentioned in the above articles but there are definitely other devices affected as well.\r\n\r\n- Why is this happening?\r\n- Are there any workarounds?","title":"AndroidKeyStore KeyPairGenerator Crashes On Small Number of Devices","body":"<p>My application only targets Android 6.0+. In my application I generate a RSA key in the <code>AndroidKeyStore</code> with the following:</p>\n\n<pre><code>KeyPairGenerator kpg = KeyPairGenerator.getInstance(\"RSA\", \"AndroidKeyStore\");\nkpg.initialize(new KeyGenParameterSpec.Builder(\n    \"myKey\", KeyProperties.PURPOSE_ENCRYPT | KeyProperties.PURPOSE_DECRYPT)\n    .setCertificateSubject(new X500Principal(\"CN=myKey\"))\n    .setDigests(\"SHA-1\")\n    .setEncryptionPaddings(\"OAEPPadding\")\n    .build());\n\nKeyPair kp = kpg.generateKeyPair();\n</code></pre>\n\n<p>This works well on 20+ devices that we have tested and nearly 100% percent of our users.</p>\n\n<p>However, there is a small number of users that that application crashes for when <code>kpg.generateKeyPair()</code> is executed with the following:</p>\n\n<pre><code>java.security.ProviderException: Failed to load generated key pair from keystore\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:518)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\nat java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\nat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\nat android.app.ActivityThread.-wrap2(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6186)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\nCaused by: java.security.UnrecoverableKeyException: Failed to obtain X.509 form of public key\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:230)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\n... 14 more\nCaused by: android.security.KeyStoreException: -22\nat android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\n... 16 more\n\n\njava.security.UnrecoverableKeyException: Failed to obtain X.509 form of public key\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:230)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\nat java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\nat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\nat android.app.ActivityThread.-wrap2(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6186)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\nCaused by: android.security.KeyStoreException: -22\nat android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\n... 16 more\n\n\nandroid.security.KeyStoreException: -22\nat android.security.KeyStore.getKeyStoreException(KeyStore.java:676)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStorePublicKeyFromKeystore(AndroidKeyStoreProvider.java:231)\nat android.security.keystore.AndroidKeyStoreProvider.loadAndroidKeyStoreKeyPairFromKeystore(AndroidKeyStoreProvider.java:259)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.loadKeystoreKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:509)\nat android.security.keystore.AndroidKeyStoreKeyPairGeneratorSpi.generateKeyPair(AndroidKeyStoreKeyPairGeneratorSpi.java:470)\nat java.security.KeyPairGenerator$Delegate.generateKeyPair(KeyPairGenerator.java:699)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.n_onCreate(Native Method)\nat md5fb78b69c5ddbc157f4db38fd738139a6.MainApplication.onCreate(MainApplication.java:34)\nat android.app.Instrumentation.callApplicationOnCreate(Instrumentation.java:1025)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:5448)\nat android.app.ActivityThread.-wrap2(ActivityThread.java)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1564)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:154)\nat android.app.ActivityThread.main(ActivityThread.java:6186)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n</code></pre>\n\n<p>The only things I can find on the internet about this <code>Failed to obtain X.509 form of public key</code> error are a few articles with no real solutions. See:</p>\n\n<ul>\n<li><a href=\"https://github.com/AzureAD/azure-activedirectory-library-for-android/issues/740\" rel=\"noreferrer\">https://github.com/AzureAD/azure-activedirectory-library-for-android/issues/740</a></li>\n<li><a href=\"https://jira.lineageos.org/browse/BUGBASH-454\" rel=\"noreferrer\">https://jira.lineageos.org/browse/BUGBASH-454</a></li>\n</ul>\n\n<p>The few reports that we have received are from users with OnePlus devices on Android 7.1, which is also one of the devices mentioned in the above articles but there are definitely other devices affected as well.</p>\n\n<ul>\n<li>Why is this happening?</li>\n<li>Are there any workarounds?</li>\n</ul>\n"},{"tags":["java","spring-boot","kubernetes","drone.io"],"answers":[{"tags":[],"owner":{"account_id":3964402,"reputation":15908,"user_id":3270785,"display_name":"P Ekambaram"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549220182,"creation_date":1549220182,"answer_id":54506371,"question_id":54504412,"body_markdown":"Is the file present in tomcat - - &gt;webapps\t--&gt;app&#176;war--&gt; resources inside the container","title":"Unable to read the resource file after deploying to Kubernetes","body":"<p>Is the file present in tomcat - - >webapps  -->app°war--> resources inside the container</p>\n"},{"tags":[],"owner":{"account_id":2562319,"reputation":834,"user_id":2243384,"accept_rate":41,"display_name":"masT"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572851457,"creation_date":1572851457,"answer_id":58688697,"question_id":54504412,"body_markdown":"`ResourceUtils.getFile` doesn&#39;t work with packaged jars. Though it works with IDEs. You can try below alternate\r\n\r\n    protected InputStreamReader readStream(String filePath) throws FileNotFoundException {\r\n        InputStreamReader streamReader;\r\n        if (filePath.startsWith(&quot;classpath:&quot;)) {\r\n            streamReader = new InputStreamReader(getClass().getResourceAsStream(File.separator + filePath.split(&quot;classpath:/*&quot;)[1]));\r\n        } else {\r\n            streamReader = new FileReader(ResourceUtils.getFile(filePath));\r\n        }\r\n        return streamReader;\r\n    }","title":"Unable to read the resource file after deploying to Kubernetes","body":"<p><code>ResourceUtils.getFile</code> doesn't work with packaged jars. Though it works with IDEs. You can try below alternate</p>\n\n<pre><code>protected InputStreamReader readStream(String filePath) throws FileNotFoundException {\n    InputStreamReader streamReader;\n    if (filePath.startsWith(\"classpath:\")) {\n        streamReader = new InputStreamReader(getClass().getResourceAsStream(File.separator + filePath.split(\"classpath:/*\")[1]));\n    } else {\n        streamReader = new FileReader(ResourceUtils.getFile(filePath));\n    }\n    return streamReader;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14537432,"reputation":874,"user_id":10500330,"display_name":"Anurag Bhalekar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671193150,"creation_date":1671193150,"answer_id":74824362,"question_id":54504412,"body_markdown":"Assuming you have your file in `resources` directory\r\n\r\n    URL img1Url = org.apache.cxf.common.classloader.ClassLoaderUtils.getResource(&quot;/assets/bathroom.png&quot;, YourClass.class);\r\n\r\nUse the url to create a `File` Object or an `InputStreamReader` as per your application.\r\n\r\nLibrary import:\r\n\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;cxf-common-utilities&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.11&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nThe above part works for kubernetes images and regular instances as well.","title":"Unable to read the resource file after deploying to Kubernetes","body":"<p>Assuming you have your file in <code>resources</code> directory</p>\n<pre><code>URL img1Url = org.apache.cxf.common.classloader.ClassLoaderUtils.getResource(&quot;/assets/bathroom.png&quot;, YourClass.class);\n</code></pre>\n<p>Use the url to create a <code>File</code> Object or an <code>InputStreamReader</code> as per your application.</p>\n<p>Library import:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-common-utilities&lt;/artifactId&gt;\n    &lt;version&gt;2.5.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The above part works for kubernetes images and regular instances as well.</p>\n"}],"owner":{"account_id":436136,"reputation":8556,"user_id":823109,"accept_rate":90,"display_name":"Hearaman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2323,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1671193150,"creation_date":1549207656,"question_id":54504412,"body_markdown":"I am running local code in traditional tomcat server where as while deploying to Kubernetes my code of read resource file is not working. \r\n\r\nI placed `nas.txt` in resource folder.\r\n\r\nand \r\n\r\n    File file = ResourceUtils.getFile(&quot;classpath:nas.txt&quot;);\r\n\r\n    //Read File Content\r\n    String content = new String(Files.readAllBytes(file.toPath()));\r\n    return content;\r\n\r\nThis is giving `&quot;Internal exception has occurred&quot;` error","title":"Unable to read the resource file after deploying to Kubernetes","body":"<p>I am running local code in traditional tomcat server where as while deploying to Kubernetes my code of read resource file is not working. </p>\n\n<p>I placed <code>nas.txt</code> in resource folder.</p>\n\n<p>and </p>\n\n<pre><code>File file = ResourceUtils.getFile(\"classpath:nas.txt\");\n\n//Read File Content\nString content = new String(Files.readAllBytes(file.toPath()));\nreturn content;\n</code></pre>\n\n<p>This is giving <code>\"Internal exception has occurred\"</code> error</p>\n"},{"tags":["java","arrays","csv","opencsv"],"answers":[{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670360343,"creation_date":1670359889,"answer_id":74708906,"question_id":74708834,"body_markdown":"`CSVReader#readNext()` reads the next line **and splits it into it&#39;s values**. Which means, using `.readNext()` while the reader is at `a,b,c,d` will yield `[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]`. The `.split` you have in your code right now is redundant, and will fail in every case, because there shouldn&#39;t be commas in individual cells of a CSV file. Instead, replace `bookInfo` with `nextLine`.","title":"How can i solve ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 when trying to print out a csv file individually","body":"<p><code>CSVReader#readNext()</code> reads the next line <strong>and splits it into it's values</strong>. Which means, using <code>.readNext()</code> while the reader is at <code>a,b,c,d</code> will yield <code>[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</code>. The <code>.split</code> you have in your code right now is redundant, and will fail in every case, because there shouldn't be commas in individual cells of a CSV file. Instead, replace <code>bookInfo</code> with <code>nextLine</code>.</p>\n"}],"owner":{"account_id":24938688,"reputation":1,"user_id":18804899,"display_name":"KaisterM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671192617,"creation_date":1670359472,"question_id":74708834,"body_markdown":"When i try to print out each value in my csv file using the below code:\r\n\r\n```\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.nio.charset.StandardCharsets;\r\n\r\nimport com.opencsv.CSVReader;\r\nimport com.opencsv.exceptions.CsvValidationException;\r\n\r\npublic class searchBook {\r\n    \r\n    \r\n\r\n    public static void main(String[] args)throws IOException, CsvValidationException {\r\n                Main a = new Main();\r\n    \r\n        String fileName = &quot;bookData.csv&quot;;\r\n\r\n        try (var fr = new FileReader(fileName, StandardCharsets.UTF_8);\r\n            var reader = new CSVReader(fr)) {\r\n                String[] nextLine;\r\n\r\n                while ((nextLine = reader.readNext()) != null) {\r\n                    Integer i = 0;\r\n                    for (String e : nextLine) {\r\n                        String[] bookInfo = nextLine[i].split(&quot;,&quot;, -2);\r\n                        i++;\r\n                        System.out.println(bookInfo[0]);\r\n                        String type = bookInfo[0];\r\n                        String title = bookInfo[1];\r\n                        String author = bookInfo[2];\r\n                        String ISBN = bookInfo[3];\r\n                        String pubDate = bookInfo[4];\r\n                        String illustrator = bookInfo[5];\r\n                        String narrator = bookInfo[6];\r\n                        \r\n                        \r\n\r\n                        \r\n                \r\n                        if(a.book.equals(title) || a.book.equals(author) || a.book.equals(ISBN) || a.book.equals(illustrator) || a.book.equals(narrator)) {\r\n                            String typeSaved = bookInfo[0];\r\n                            String titleSaved = bookInfo[1];\r\n                            String authorSaved = bookInfo[2];\r\n                            String ISBNSaved = bookInfo[3];\r\n                            String pubDateSaved = bookInfo[4];\r\n                            String illustratorSaved = bookInfo[5];\r\n                            String narratorSaved = bookInfo[6];\r\n\r\n                            \r\n                            \r\n                        }\r\n\r\n\r\n                    }\r\n                }\r\n            \r\n            }\r\n        \r\n        } public Object typeSaved, titleSaved, authorSaved, ISBNSaved, pubDateSaved, illustratorSaved, narratorSaved; \r\n    }\r\n\r\n```\r\nwhile using this csv file:\r\n\r\nBook,The_Hunger_Games,Suzanne_Collins,9780439023481,14/10/2008,N/A,N/A,No\r\n\r\nComic_book,Astonishing_X-Men,Warren_Ellis,N/A,2004,Simone_Bianchi,N/A,No\r\n\r\nAudio_book,Never_Finished,David_Goggins,N/A,06/12/2022,N/A,David_Goggins,No\r\n\r\ni am met with the error code: \r\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 at searchBook.main(searchBook.java:29)\r\n\r\nIs there a way to fix this?\r\n\r\nI attempted to remove all the spaces in the csv file incase that could possibly be the issue but this had no effect.\r\n\r\nAlso since its due to the index value being 1 or greater when i tried to print out just the 0 value it printed out everything in the csv file.\r\n\r\nAny help would be appreciated!","title":"How can i solve ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 when trying to print out a csv file individually","body":"<p>When i try to print out each value in my csv file using the below code:</p>\n<pre><code>import java.io.FileReader;\nimport java.io.IOException;\nimport java.nio.charset.StandardCharsets;\n\nimport com.opencsv.CSVReader;\nimport com.opencsv.exceptions.CsvValidationException;\n\npublic class searchBook {\n    \n    \n\n    public static void main(String[] args)throws IOException, CsvValidationException {\n                Main a = new Main();\n    \n        String fileName = &quot;bookData.csv&quot;;\n\n        try (var fr = new FileReader(fileName, StandardCharsets.UTF_8);\n            var reader = new CSVReader(fr)) {\n                String[] nextLine;\n\n                while ((nextLine = reader.readNext()) != null) {\n                    Integer i = 0;\n                    for (String e : nextLine) {\n                        String[] bookInfo = nextLine[i].split(&quot;,&quot;, -2);\n                        i++;\n                        System.out.println(bookInfo[0]);\n                        String type = bookInfo[0];\n                        String title = bookInfo[1];\n                        String author = bookInfo[2];\n                        String ISBN = bookInfo[3];\n                        String pubDate = bookInfo[4];\n                        String illustrator = bookInfo[5];\n                        String narrator = bookInfo[6];\n                        \n                        \n\n                        \n                \n                        if(a.book.equals(title) || a.book.equals(author) || a.book.equals(ISBN) || a.book.equals(illustrator) || a.book.equals(narrator)) {\n                            String typeSaved = bookInfo[0];\n                            String titleSaved = bookInfo[1];\n                            String authorSaved = bookInfo[2];\n                            String ISBNSaved = bookInfo[3];\n                            String pubDateSaved = bookInfo[4];\n                            String illustratorSaved = bookInfo[5];\n                            String narratorSaved = bookInfo[6];\n\n                            \n                            \n                        }\n\n\n                    }\n                }\n            \n            }\n        \n        } public Object typeSaved, titleSaved, authorSaved, ISBNSaved, pubDateSaved, illustratorSaved, narratorSaved; \n    }\n\n</code></pre>\n<p>while using this csv file:</p>\n<p>Book,The_Hunger_Games,Suzanne_Collins,9780439023481,14/10/2008,N/A,N/A,No</p>\n<p>Comic_book,Astonishing_X-Men,Warren_Ellis,N/A,2004,Simone_Bianchi,N/A,No</p>\n<p>Audio_book,Never_Finished,David_Goggins,N/A,06/12/2022,N/A,David_Goggins,No</p>\n<p>i am met with the error code:\nException in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1 at searchBook.main(searchBook.java:29)</p>\n<p>Is there a way to fix this?</p>\n<p>I attempted to remove all the spaces in the csv file incase that could possibly be the issue but this had no effect.</p>\n<p>Also since its due to the index value being 1 or greater when i tried to print out just the 0 value it printed out everything in the csv file.</p>\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","spring"],"answers":[{"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1671195826,"post_id":74824252,"comment_id":132052432,"body_markdown":"`#getReferenceById(ID)` method is unreliable: https://stackoverflow.com/a/74824683/3426309","body":"<code>#getReferenceById(ID)</code> method is unreliable: <a href=\"https://stackoverflow.com/a/74824683/3426309\">stackoverflow.com/a/74824683/3426309</a>"}],"tags":[],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671192473,"creation_date":1671192473,"answer_id":74824252,"question_id":74824251,"body_markdown":"The cause of issue was the version of the dependency as:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nTo fix it, I needed to change *the version* to higher, for example, to:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nor to another one as:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.5&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nbut for the usage of `2.7.5` version, you need to be *careful* and *aware*, because: \r\n\r\n&gt; `getById(ID)` is deprecated and you should use instead\r\n&gt; [getReferenceById(ID)][1].\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html","title":"How can I fix the issue: &quot;Cannot resolve method &#39;getById&#39; in &#39;EmployeeRepository&#39;&quot;?","body":"<p>The cause of issue was the version of the dependency as:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>To fix it, I needed to change <em>the version</em> to higher, for example, to:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.2&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>or to another one as:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>but for the usage of <code>2.7.5</code> version, you need to be <em>careful</em> and <em>aware</em>, because:</p>\n<blockquote>\n<p><code>getById(ID)</code> is deprecated and you should use instead\n<a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/JpaRepository.html\" rel=\"nofollow noreferrer\">getReferenceById(ID)</a>.</p>\n</blockquote>\n"}],"owner":{"account_id":11389854,"reputation":6032,"user_id":8370915,"display_name":"invzbl3"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74824252,"answer_count":1,"score":1,"last_activity_date":1671192473,"creation_date":1671192473,"question_id":74824251,"body_markdown":"I&#39;ve already checked similar questions, but none of them wasn&#39;t helpful for me:\r\n\r\n1) [Cannot resolve method, spring boot app using JPA Data][1]\r\n2) [Cannot resolve symbol repository][2]\r\n3) [Spring crudrepository method save - cannot resolve method][3]\r\n\r\nI have the following code in service implementation with *business-logic* for the project as:\r\n\r\n    @Service\r\n    public class EmployeeServiceImpl implements EmployeeService {\r\n        @Autowired\r\n        EmployeeRepository employeeRepository;\r\n    \r\n        @Override\r\n        public MessageResponse createEmployee(EmployeeRequest employeeRequest) {\r\n            Employee newEmployee = new Employee();\r\n            newEmployee.setFirstName(employeeRequest.getFirstName());\r\n            newEmployee.setLastname(employeeRequest.getLastname());\r\n            newEmployee.setPhoneNumber(employeeRequest.getPhoneNumber());\r\n            newEmployee.setEmail(employeeRequest.getEmail());\r\n            newEmployee.setSalary(employeeRequest.getSalary());\r\n            newEmployee.setDepartment(employeeRequest.getDepartment());\r\n            employeeRepository.save(newEmployee);\r\n            return new MessageResponse(&quot;New Employee created successfully&quot;);\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;Employee&gt; updateEmployee(Integer employeeId, EmployeeRequest employeeRequest) throws ResourceNotFoundException {\r\n            Optional&lt;Employee&gt; employee = employeeRepository.findById(employeeId);\r\n            if (employee.isEmpty()) {\r\n                throw new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId);\r\n            } else {\r\n                employee.get().setFirstName(employeeRequest.getFirstName());\r\n                employee.get().setLastname(employeeRequest.getLastname());\r\n                employee.get().setPhoneNumber(employeeRequest.getPhoneNumber());\r\n                employee.get().setEmail(employeeRequest.getEmail());\r\n                employee.get().setSalary(employeeRequest.getSalary());\r\n                employee.get().setDepartment(employeeRequest.getDepartment());\r\n                employeeRepository.save(employee.get());\r\n                return employee;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Employee getASingleEmployee(Integer employeeId) throws ResourceNotFoundException {\r\n            return employeeRepository.findById(employeeId)\r\n                    .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId));\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;Employee&gt; getAllEmployee() {\r\n            return employeeRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        public void deleteEmployee(Integer employeeId) throws ResourceNotFoundException {\r\n            if (employeeRepository.getById(employeeId).getId().equals(employeeId)) {\r\n                employeeRepository.deleteById(employeeId);\r\n            } else throw new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId);\r\n        }\r\n    }\r\n\r\nThe *APIs* controller with the code as:\r\n\r\n    public class EmployeeController {\r\n    \r\n        @Autowired\r\n        private EmployeeService employeeService;\r\n    \r\n        @GetMapping(&quot;/all&quot;)\r\n        public ResponseEntity&lt;List&lt;Employee&gt;&gt; getAllEmployees() {\r\n            List&lt;Employee&gt; employees = employeeService.getAllEmployee();\r\n            return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\r\n        }\r\n    \r\n        @GetMapping(&quot;/find/{id}&quot;)\r\n        public ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable(&quot;id&quot;) Integer id) {\r\n            Employee employee = employeeService.getASingleEmployee(id);\r\n            return new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\r\n        }\r\n    \r\n        @PostMapping(&quot;/add&quot;)\r\n        public ResponseEntity&lt;MessageResponse&gt; addEmployee(@RequestBody EmployeeRequest employee) {\r\n            MessageResponse newEmployee = employeeService.createEmployee(employee);\r\n            return new ResponseEntity&lt;&gt;(newEmployee, HttpStatus.CREATED);\r\n        }\r\n    \r\n        @PutMapping(&quot;/update/{id}&quot;)\r\n        public Optional&lt;Employee&gt; updateEmployee(@PathVariable Integer id, @RequestBody EmployeeRequest employee) {\r\n            return employeeService.updateEmployee(id, employee);\r\n        }\r\n    \r\n        @DeleteMapping(&quot;/delete/{id}&quot;)\r\n        public ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable(&quot;id&quot;) Integer id) {\r\n            employeeService.deleteEmployee(id);\r\n            return new ResponseEntity&lt;&gt;(HttpStatus.OK);\r\n        }\r\n    }\r\n\r\nIn `POM` I had:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\nWhile working with the project, I&#39;ve reproduced the issue as:\r\n\r\n    Cannot resolve method &#39;getById&#39; in &#39;EmployeeRepository&#39;\r\n\r\n[![enter image description here][4]][4]\r\n\r\nAfter some investigations, I&#39;ve found the cause and the way how can I fix this issue.\r\n\r\n  [1]: https://stackoverflow.com/a/60393421/8370915\r\n  [2]: https://stackoverflow.com/a/74087915/8370915\r\n  [3]: https://stackoverflow.com/a/45012093/8370915\r\n  [4]: https://i.stack.imgur.com/ZG0Vv.png","title":"How can I fix the issue: &quot;Cannot resolve method &#39;getById&#39; in &#39;EmployeeRepository&#39;&quot;?","body":"<p>I've already checked similar questions, but none of them wasn't helpful for me:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/60393421/8370915\">Cannot resolve method, spring boot app using JPA Data</a></li>\n<li><a href=\"https://stackoverflow.com/a/74087915/8370915\">Cannot resolve symbol repository</a></li>\n<li><a href=\"https://stackoverflow.com/a/45012093/8370915\">Spring crudrepository method save - cannot resolve method</a></li>\n</ol>\n<p>I have the following code in service implementation with <em>business-logic</em> for the project as:</p>\n<pre><code>@Service\npublic class EmployeeServiceImpl implements EmployeeService {\n    @Autowired\n    EmployeeRepository employeeRepository;\n\n    @Override\n    public MessageResponse createEmployee(EmployeeRequest employeeRequest) {\n        Employee newEmployee = new Employee();\n        newEmployee.setFirstName(employeeRequest.getFirstName());\n        newEmployee.setLastname(employeeRequest.getLastname());\n        newEmployee.setPhoneNumber(employeeRequest.getPhoneNumber());\n        newEmployee.setEmail(employeeRequest.getEmail());\n        newEmployee.setSalary(employeeRequest.getSalary());\n        newEmployee.setDepartment(employeeRequest.getDepartment());\n        employeeRepository.save(newEmployee);\n        return new MessageResponse(&quot;New Employee created successfully&quot;);\n\n    }\n\n    @Override\n    public Optional&lt;Employee&gt; updateEmployee(Integer employeeId, EmployeeRequest employeeRequest) throws ResourceNotFoundException {\n        Optional&lt;Employee&gt; employee = employeeRepository.findById(employeeId);\n        if (employee.isEmpty()) {\n            throw new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId);\n        } else {\n            employee.get().setFirstName(employeeRequest.getFirstName());\n            employee.get().setLastname(employeeRequest.getLastname());\n            employee.get().setPhoneNumber(employeeRequest.getPhoneNumber());\n            employee.get().setEmail(employeeRequest.getEmail());\n            employee.get().setSalary(employeeRequest.getSalary());\n            employee.get().setDepartment(employeeRequest.getDepartment());\n            employeeRepository.save(employee.get());\n            return employee;\n        }\n    }\n\n    @Override\n    public Employee getASingleEmployee(Integer employeeId) throws ResourceNotFoundException {\n        return employeeRepository.findById(employeeId)\n                .orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId));\n    }\n\n    @Override\n    public List&lt;Employee&gt; getAllEmployee() {\n        return employeeRepository.findAll();\n    }\n\n    @Override\n    public void deleteEmployee(Integer employeeId) throws ResourceNotFoundException {\n        if (employeeRepository.getById(employeeId).getId().equals(employeeId)) {\n            employeeRepository.deleteById(employeeId);\n        } else throw new ResourceNotFoundException(&quot;Employee&quot;, &quot;id&quot;, employeeId);\n    }\n}\n</code></pre>\n<p>The <em>APIs</em> controller with the code as:</p>\n<pre><code>public class EmployeeController {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    @GetMapping(&quot;/all&quot;)\n    public ResponseEntity&lt;List&lt;Employee&gt;&gt; getAllEmployees() {\n        List&lt;Employee&gt; employees = employeeService.getAllEmployee();\n        return new ResponseEntity&lt;&gt;(employees, HttpStatus.OK);\n    }\n\n    @GetMapping(&quot;/find/{id}&quot;)\n    public ResponseEntity&lt;Employee&gt; getEmployeeById(@PathVariable(&quot;id&quot;) Integer id) {\n        Employee employee = employeeService.getASingleEmployee(id);\n        return new ResponseEntity&lt;&gt;(employee, HttpStatus.OK);\n    }\n\n    @PostMapping(&quot;/add&quot;)\n    public ResponseEntity&lt;MessageResponse&gt; addEmployee(@RequestBody EmployeeRequest employee) {\n        MessageResponse newEmployee = employeeService.createEmployee(employee);\n        return new ResponseEntity&lt;&gt;(newEmployee, HttpStatus.CREATED);\n    }\n\n    @PutMapping(&quot;/update/{id}&quot;)\n    public Optional&lt;Employee&gt; updateEmployee(@PathVariable Integer id, @RequestBody EmployeeRequest employee) {\n        return employeeService.updateEmployee(id, employee);\n    }\n\n    @DeleteMapping(&quot;/delete/{id}&quot;)\n    public ResponseEntity&lt;?&gt; deleteEmployee(@PathVariable(&quot;id&quot;) Integer id) {\n        employeeService.deleteEmployee(id);\n        return new ResponseEntity&lt;&gt;(HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>In <code>POM</code> I had:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>While working with the project, I've reproduced the issue as:</p>\n<pre><code>Cannot resolve method 'getById' in 'EmployeeRepository'\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZG0Vv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZG0Vv.png\" alt=\"enter image description here\" /></a></p>\n<p>After some investigations, I've found the cause and the way how can I fix this issue.</p>\n"},{"tags":["java","selenium","automated-tests"],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671192068,"creation_date":1671192068,"answer_id":74824184,"question_id":74822169,"body_markdown":"It should work with xpath like this:\r\n```\r\n//button[@class=&#39;btn btn-info btn-link btn-icon btn-sm&#39;]\r\n```\r\n\r\nor\r\n```\r\n//table//button[@class=&#39;btn btn-info btn-link btn-icon btn-sm&#39;]\r\n```","title":"I want to access contents of a nested td within a table","body":"<p>It should work with xpath like this:</p>\n<pre><code>//button[@class='btn btn-info btn-link btn-icon btn-sm']\n</code></pre>\n<p>or</p>\n<pre><code>//table//button[@class='btn btn-info btn-link btn-icon btn-sm']\n</code></pre>\n"}],"owner":{"account_id":18124739,"reputation":51,"user_id":13180353,"display_name":"Avdhut Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74824184,"answer_count":1,"score":1,"last_activity_date":1671192246,"creation_date":1671181040,"question_id":74822169,"body_markdown":"hi guys I  am using  selenium and want to  click on a button in a table in order to access the values but in  order to  do that I have to access a buton nested in td tag. I want to verify  verify the values generated in report . I have used an approach but its giving me error please help me. feel free to execute the code, just dont mis-use\r\n\r\nCode:\r\n\r\n\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    \r\n    import com.github.javafaker.Faker;\r\n    \r\n    import avdhut.onsight.pageobject.HomePage;\r\n    import avdhut.onsight.pageobject.LoginPage;\r\n    import io.github.bonigarcia.wdm.WebDriverManager;\r\n    \r\n    public class Webtable {\r\n    \r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString urlString = &quot;https://oinsightsvm1.westindia.cloudapp.azure.com:444/ctsOInsightsBMS/res/createReport.html&quot;;\r\n    \t\tString userEmailString = &quot;User66&quot;;\r\n    \t\tString userPassword = &quot;Avdhut@5201&quot;;\r\n    \t\tString titleString;\r\n    \t\tFaker faker = new Faker();\r\n    \t\tWebDriverManager.chromedriver().setup();\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\t// options.addArguments(&quot;--ignore-ssl- errors=yes&quot;);\r\n    \t\toptions.addArguments(&quot;--ignore-certificate-errors&quot;);\r\n    \t\tWebDriver driver = new ChromeDriver(options);\r\n    \t\tdriver.get(urlString);\r\n    \t\tLoginPage loginPage = new LoginPage(driver);\r\n    \t\tloginPage.login_username(userEmailString);\r\n    \t\tloginPage.click0nsubmit();\r\n    \t\tloginPage.EnterPassword(userPassword);\r\n    \t\tloginPage.click0nsubmit();\r\n    \t\tHomePage homePage = new HomePage(driver);\r\n    \t\tThread.sleep(10000);\r\n    \t\t WebElement baseTable = driver.findElement(By.xpath(&quot;//table&quot;));//*\r\n    \tList&lt;WebElement&gt; table_row_1=baseTable.findElements(By.xpath(&quot;*[@id=&#39;query-table&#39;]/tbody/tr/td[2]&quot;));\r\n    \tfor (WebElement webElement : table_row_1) {\r\n    \t\tif (webElement.getText().equalsIgnoreCase(&quot;random&quot;)) {\r\n    \t\t\tSystem.out.println(webElement.getText());\r\n    \t\t\twebElement.findElement(By.xpath(&quot;//[@id=&#39;query-table&#39;]/tbody/tr/td[7]/button[@title=&#39;View&#39;&quot;));\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(webElement.getText());\t\r\n    \t\t\tdriver.close();                           //table code\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\t\r\n    \t\t////table[@id=&#39;query-table&#39;]/tbody/tr/td[7]/button[@title=&#39;View&#39;]\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nHtml code:\r\n\r\n    &lt;table id=&quot;query-table&quot; class=&quot;table table-striped dataTable no-footer&quot; role=&quot;grid&quot; aria-describedby=&quot;query-table_info&quot; xpath=&quot;1&quot; style=&quot;&quot;&gt;\r\n    &lt;tbody xpath=&quot;1&quot;&gt;\r\n    &lt;tr class=&quot;odd&quot;&gt;\r\n                        &lt;td&gt;1234&lt;/td&gt;\r\n                        &lt;td&gt;random&lt;/td&gt;\r\n                        &lt;td&gt;9-Dec-2022 15:16:51&lt;/td&gt;\r\n                        &lt;td&gt;\r\n                        User66\r\n                        &lt;/td&gt;\r\n                        &lt;td&gt;private&lt;/td&gt;\r\n                        &lt;td&gt;Not Scheduled&lt;/td&gt;\r\n                        &lt;td&gt;// Want to access this td \r\n                            &lt;button type=&quot;button&quot; title=&quot;View&quot; rel=&quot;tooltip&quot; class=&quot;btn btn-info btn-link btn-icon btn-sm&quot; onclick=&quot;openJobModal(&#39;5d452186-d034-4c98-81ff-ff2ebfeaf165&#39;,&#39;true&#39;)&quot;&gt;//this button\r\n  \r\n                                                \r\n                        &lt;/td&gt;\r\n                        \r\n                    &lt;/tr&gt;\r\n\r\n","title":"I want to access contents of a nested td within a table","body":"<p>hi guys I  am using  selenium and want to  click on a button in a table in order to access the values but in  order to  do that I have to access a buton nested in td tag. I want to verify  verify the values generated in report . I have used an approach but its giving me error please help me. feel free to execute the code, just dont mis-use</p>\n<p>Code:</p>\n<pre><code>import java.util.List;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n\nimport com.github.javafaker.Faker;\n\nimport avdhut.onsight.pageobject.HomePage;\nimport avdhut.onsight.pageobject.LoginPage;\nimport io.github.bonigarcia.wdm.WebDriverManager;\n\npublic class Webtable {\n\n    public static void main(String[] args) throws InterruptedException {\n        // TODO Auto-generated method stub\n        String urlString = &quot;https://oinsightsvm1.westindia.cloudapp.azure.com:444/ctsOInsightsBMS/res/createReport.html&quot;;\n        String userEmailString = &quot;User66&quot;;\n        String userPassword = &quot;Avdhut@5201&quot;;\n        String titleString;\n        Faker faker = new Faker();\n        WebDriverManager.chromedriver().setup();\n        ChromeOptions options = new ChromeOptions();\n        // options.addArguments(&quot;--ignore-ssl- errors=yes&quot;);\n        options.addArguments(&quot;--ignore-certificate-errors&quot;);\n        WebDriver driver = new ChromeDriver(options);\n        driver.get(urlString);\n        LoginPage loginPage = new LoginPage(driver);\n        loginPage.login_username(userEmailString);\n        loginPage.click0nsubmit();\n        loginPage.EnterPassword(userPassword);\n        loginPage.click0nsubmit();\n        HomePage homePage = new HomePage(driver);\n        Thread.sleep(10000);\n         WebElement baseTable = driver.findElement(By.xpath(&quot;//table&quot;));//*\n    List&lt;WebElement&gt; table_row_1=baseTable.findElements(By.xpath(&quot;*[@id='query-table']/tbody/tr/td[2]&quot;));\n    for (WebElement webElement : table_row_1) {\n        if (webElement.getText().equalsIgnoreCase(&quot;random&quot;)) {\n            System.out.println(webElement.getText());\n            webElement.findElement(By.xpath(&quot;//[@id='query-table']/tbody/tr/td[7]/button[@title='View'&quot;));\n        } else {\n            System.out.println(webElement.getText());   \n            driver.close();                           //table code\n        }\n        \n    }\n        \n        ////table[@id='query-table']/tbody/tr/td[7]/button[@title='View']\n\n    }\n\n}\n</code></pre>\n<p>Html code:</p>\n<pre><code>&lt;table id=&quot;query-table&quot; class=&quot;table table-striped dataTable no-footer&quot; role=&quot;grid&quot; aria-describedby=&quot;query-table_info&quot; xpath=&quot;1&quot; style=&quot;&quot;&gt;\n&lt;tbody xpath=&quot;1&quot;&gt;\n&lt;tr class=&quot;odd&quot;&gt;\n                    &lt;td&gt;1234&lt;/td&gt;\n                    &lt;td&gt;random&lt;/td&gt;\n                    &lt;td&gt;9-Dec-2022 15:16:51&lt;/td&gt;\n                    &lt;td&gt;\n                    User66\n                    &lt;/td&gt;\n                    &lt;td&gt;private&lt;/td&gt;\n                    &lt;td&gt;Not Scheduled&lt;/td&gt;\n                    &lt;td&gt;// Want to access this td \n                        &lt;button type=&quot;button&quot; title=&quot;View&quot; rel=&quot;tooltip&quot; class=&quot;btn btn-info btn-link btn-icon btn-sm&quot; onclick=&quot;openJobModal('5d452186-d034-4c98-81ff-ff2ebfeaf165','true')&quot;&gt;//this button\n\n                                            \n                    &lt;/td&gt;\n                    \n                &lt;/tr&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","spock","micronaut"],"answers":[{"tags":[],"owner":{"account_id":67966,"reputation":12546,"user_id":2145769,"accept_rate":67,"display_name":"Leonard Br&#252;nings"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671192214,"creation_date":1671192214,"answer_id":74824206,"question_id":74824009,"body_markdown":"How do you figure that `new Thread().sleep(15000)` will block anything? You are creating a separate thread then you then try to sleep, before it even started. You can try `Thread.currentThread().sleep()`. However, you are basically replacing the whole implementation, so there is nothing to throw the exception. \r\n\r\nWhy don&#39;t you simply throw the exception?\r\n\r\n```java\r\nBlockingHttpClient blockingHttpClientStub = Stub(BlockingHttpClient) {\r\n    exchange(_ as MutableHttpRequest, TokenResponseBody) &gt;&gt; {\r\n        throw io.micronaut.http.client.exceptions.ReadTimeoutException.TIMEOUT_EXCEPTION\r\n    }\r\n}\r\nhttpClient.toBlocking() &gt;&gt; blockingHttpClientStub\r\n```","title":"How to simulate ReadTimeoutException in Spock with Micronaut","body":"<p>How do you figure that <code>new Thread().sleep(15000)</code> will block anything? You are creating a separate thread then you then try to sleep, before it even started. You can try <code>Thread.currentThread().sleep()</code>. However, you are basically replacing the whole implementation, so there is nothing to throw the exception.</p>\n<p>Why don't you simply throw the exception?</p>\n<pre class=\"lang-java prettyprint-override\"><code>BlockingHttpClient blockingHttpClientStub = Stub(BlockingHttpClient) {\n    exchange(_ as MutableHttpRequest, TokenResponseBody) &gt;&gt; {\n        throw io.micronaut.http.client.exceptions.ReadTimeoutException.TIMEOUT_EXCEPTION\n    }\n}\nhttpClient.toBlocking() &gt;&gt; blockingHttpClientStub\n</code></pre>\n"}],"owner":{"account_id":17972179,"reputation":688,"user_id":13060649,"display_name":"suvodipMondal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74824206,"answer_count":1,"score":0,"last_activity_date":1671192214,"creation_date":1671191117,"question_id":74824009,"body_markdown":"I am trying to simulate `io.micronaut.http.client.exceptions.ReadTimeoutException` with Spock, but explicitly the exception cannot be thrown, as it cannot be accessed from the test class.\r\n\r\nThe code which I want to test is given below:\r\n\r\n```\r\n        try {\r\n             res = httpClient.toBlocking().exchange(\r\n                    HttpRequest.GET(url)\r\n                            .header(&quot;env&quot;, &quot;internal&quot;)\r\n                            .header(&quot;Content-Type&quot;, &quot;application/json&quot;),\r\n                    TokenResponseBody.class\r\n            );\r\n\r\n        } catch (HttpClientResponseException e) {\r\n            LOGGER.error(&quot;Visa Token get request&quot;, e);\r\n            throw new CardTokenException(String.valueOf(e.getStatus().getCode()), e.getMessage());\r\n        } catch (ReadTimeoutException re) {\r\n            LOGGER.error(&quot;Visa Token get request&quot;, re);\r\n            throw new CardTokenException(re.getMessage(), &quot;Tokens client read timeout&quot;);\r\n        }\r\n```\r\nSo I am trying to stub the `BlockingHttpClient` which is returned by the `httpClient.toBlocking()` like this:\r\n\r\n```\r\nBlockingHttpClient blockingHttpClientStub = Stub(BlockingHttpClient.class)\r\nblockingHttpClientStub.exchange(\r\n        _ as MutableHttpRequest, TokenResponseBody.class\r\n) &gt;&gt; {\r\n      MutableHttpRequest obj, Class classType -&gt; new Thread().sleep(15000)\r\n}\r\nhttpClient.toBlocking() &gt;&gt; blockingHttpClientStub\r\n```\r\nthe default config duration is 10 seconds, so I am assuming the `sleep` method would interrupt it for 15 seconds and ReadTimeoutException will be thrown. Please help me out if there any way to simulate the the `ReadTimeoutException`.","title":"How to simulate ReadTimeoutException in Spock with Micronaut","body":"<p>I am trying to simulate <code>io.micronaut.http.client.exceptions.ReadTimeoutException</code> with Spock, but explicitly the exception cannot be thrown, as it cannot be accessed from the test class.</p>\n<p>The code which I want to test is given below:</p>\n<pre><code>        try {\n             res = httpClient.toBlocking().exchange(\n                    HttpRequest.GET(url)\n                            .header(&quot;env&quot;, &quot;internal&quot;)\n                            .header(&quot;Content-Type&quot;, &quot;application/json&quot;),\n                    TokenResponseBody.class\n            );\n\n        } catch (HttpClientResponseException e) {\n            LOGGER.error(&quot;Visa Token get request&quot;, e);\n            throw new CardTokenException(String.valueOf(e.getStatus().getCode()), e.getMessage());\n        } catch (ReadTimeoutException re) {\n            LOGGER.error(&quot;Visa Token get request&quot;, re);\n            throw new CardTokenException(re.getMessage(), &quot;Tokens client read timeout&quot;);\n        }\n</code></pre>\n<p>So I am trying to stub the <code>BlockingHttpClient</code> which is returned by the <code>httpClient.toBlocking()</code> like this:</p>\n<pre><code>BlockingHttpClient blockingHttpClientStub = Stub(BlockingHttpClient.class)\nblockingHttpClientStub.exchange(\n        _ as MutableHttpRequest, TokenResponseBody.class\n) &gt;&gt; {\n      MutableHttpRequest obj, Class classType -&gt; new Thread().sleep(15000)\n}\nhttpClient.toBlocking() &gt;&gt; blockingHttpClientStub\n</code></pre>\n<p>the default config duration is 10 seconds, so I am assuming the <code>sleep</code> method would interrupt it for 15 seconds and ReadTimeoutException will be thrown. Please help me out if there any way to simulate the the <code>ReadTimeoutException</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1671192542,"post_id":74824204,"comment_id":132051410,"body_markdown":"***substring*** on the ***index of*** the first &#39;/&#39; char","body":"<b><i>substring</i></b> on the <b><i>index of</i></b> the first &#39;/&#39; char"},{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1671192655,"post_id":74824204,"comment_id":132051446,"body_markdown":"[Path#getRoot](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getRoot())","body":"<a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getRoot()\" rel=\"nofollow noreferrer\">Path#getRoot</a>"},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671193761,"post_id":74824204,"comment_id":132051782,"body_markdown":"Root is giving me an exception, it seems it is implemented for linux based system, it tried to find `/`.","body":"Root is giving me an exception, it seems it is implemented for linux based system, it tried to find <code>&#47;</code>."},{"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"score":0,"creation_date":1671194789,"post_id":74824204,"comment_id":132052077,"body_markdown":"your substring approach looks fine for me because `indexOf` every time give me the first occurrence so doesn&#39;t matter how many number of hierarchy is ther, it always give me the root part, thanks","body":"your substring approach looks fine for me because <code>indexOf</code> every time give me the first occurrence so doesn&#39;t matter how many number of hierarchy is ther, it always give me the root part, thanks"}],"owner":{"account_id":13899380,"reputation":102,"user_id":16760821,"display_name":"jack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671192196,"creation_date":1671192196,"question_id":74824204,"body_markdown":"I want to extract the very first part from the file path, lets say\r\n\r\n    dev/sda/asset/\r\n    dev/sda/asset/media/\r\n    dev/sda/asset/media/trancodedvideo/\r\n\r\nI want to fetch the very first part from all the above paths i,e `dev`\r\n\r\nI have snippet which only works for fixed set of path i,e 3 `dev/sda/asset/`\r\n\r\n    \tpublic static String getRootKey(String key) {\r\n    \t\tFile f = new File(key);\r\n    \t\tPath p = f.toPath();\r\n    \t\tint pathElements = p.getNameCount();\r\n    \t\tString rootKey = p.getName(pathElements - 3).toString(); // returns dev\r\n    \t\treturn rootKey;\r\n    \t}\r\nI am looking for more robust solution more preferably in java 8+, because the above approach will be break if the there are hierarchy more than 3.\r\n\r\nPlease suggest","title":"Extract root level element from file path in Java","body":"<p>I want to extract the very first part from the file path, lets say</p>\n<pre><code>dev/sda/asset/\ndev/sda/asset/media/\ndev/sda/asset/media/trancodedvideo/\n</code></pre>\n<p>I want to fetch the very first part from all the above paths i,e <code>dev</code></p>\n<p>I have snippet which only works for fixed set of path i,e 3 <code>dev/sda/asset/</code></p>\n<pre><code>    public static String getRootKey(String key) {\n        File f = new File(key);\n        Path p = f.toPath();\n        int pathElements = p.getNameCount();\n        String rootKey = p.getName(pathElements - 3).toString(); // returns dev\n        return rootKey;\n    }\n</code></pre>\n<p>I am looking for more robust solution more preferably in java 8+, because the above approach will be break if the there are hierarchy more than 3.</p>\n<p>Please suggest</p>\n"},{"tags":["java","selenium","maven","junit","parallel-processing"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671096792,"post_id":74808582,"comment_id":132025661,"body_markdown":"First I would suggest that you upgrade maven-surefire-plugin to most recent version 3.0.0-M7 and recheck. Do you have several test classes or only a single one?","body":"First I would suggest that you upgrade maven-surefire-plugin to most recent version 3.0.0-M7 and recheck. Do you have several test classes or only a single one?"},{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":0,"creation_date":1671106202,"post_id":74808582,"comment_id":132028882,"body_markdown":"Thank @khmarbaise. I&#39;ve checked 3.0.0-M7, same behavior. There are about 100 test classes, each with 1-5 test methods.","body":"Thank @khmarbaise. I&#39;ve checked 3.0.0-M7, same behavior. There are about 100 test classes, each with 1-5 test methods."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671110683,"post_id":74808582,"comment_id":132030564,"body_markdown":"Can you post the configuration for maven-surefire-plugin ...","body":"Can you post the configuration for maven-surefire-plugin ..."},{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":0,"creation_date":1671112065,"post_id":74808582,"comment_id":132031151,"body_markdown":"@khmarbaise, these are Selenium integration tests running with maven-failsafe-plugin, so surefire shouldn&#39;t be relevant here","body":"@khmarbaise, these are Selenium integration tests running with maven-failsafe-plugin, so surefire shouldn&#39;t be relevant here"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671113727,"post_id":74808582,"comment_id":132031821,"body_markdown":"That was not my question. The configuration of maven-surefire-plugin...","body":"That was not my question. The configuration of maven-surefire-plugin..."}],"answers":[{"comments":[{"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"score":0,"creation_date":1671112199,"post_id":74812260,"comment_id":132031214,"body_markdown":"That&#39;s really the point of this post. Setting fixed and parallelism doesn&#39;t limit the number of threads. I set parallelism=2, and 10 threads start up. (My setup is to run classes in parallel, and methods within classes sequentially. This makes sense in our case because test methods within one class usually use the same test resources)","body":"That&#39;s really the point of this post. Setting fixed and parallelism doesn&#39;t limit the number of threads. I set parallelism=2, and 10 threads start up. (My setup is to run classes in parallel, and methods within classes sequentially. This makes sense in our case because test methods within one class usually use the same test resources)"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1671114466,"post_id":74812260,"comment_id":132032114,"body_markdown":"I would first try to limit parallelism to 1 to check... and afterwards changing it... furthermore you should use no custom strategy in the first place...use that later...","body":"I would first try to limit parallelism to 1 to check... and afterwards changing it... furthermore you should use no custom strategy in the first place...use that later..."}],"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671110686,"creation_date":1671110686,"answer_id":74812260,"question_id":74808582,"body_markdown":"Based on `junit.jupiter.execution.parallel.mode.classes.default=concurrent` you have allowed to paralellize on class level.\r\n\r\nThis means if you have a enough cores there will be started appropriate number of threads. If you like to limit the number you have to go via:\r\n\r\n\r\n\r\n    junit.jupiter.execution.parallel.config.strategy=fixed\r\n    junit.jupiter.execution.parallel.config.fixed.parallelism=6\r\n\r\notherwise the default Fork-Join poil will be taken into account.\r\n","title":"maven-failsafe-plugin not honoring fixed parallelism in JUnit5","body":"<p>Based on <code>junit.jupiter.execution.parallel.mode.classes.default=concurrent</code> you have allowed to paralellize on class level.</p>\n<p>This means if you have a enough cores there will be started appropriate number of threads. If you like to limit the number you have to go via:</p>\n<pre><code>junit.jupiter.execution.parallel.config.strategy=fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism=6\n</code></pre>\n<p>otherwise the default Fork-Join poil will be taken into account.</p>\n"}],"owner":{"account_id":461547,"reputation":3094,"user_id":863311,"accept_rate":62,"display_name":"Simon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671191997,"creation_date":1671092167,"question_id":74808582,"body_markdown":"I&#39;m trying to run tests in parallel, but with a fixed number of threads.\r\n\r\n- maven-failsafe-plugin 2.22.2\r\n- JUnit 5.9.1\r\n- Selenium 4.7.0\r\n- JDK8\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.22.2&lt;/version&gt;\r\n  &lt;!-- Parallel configuration see junit-platform.properties --&gt;\r\n&lt;/plugin&gt;\r\n```\r\nIf I start off with junit-platform.properties setting\r\n\r\n```\r\njunit.jupiter.execution.parallel.enabled=false\r\n```\r\nthe tests run single-threaded, as expected.\r\n\r\nSetting\r\n```\r\njunit.jupiter.execution.parallel.enabled=true\r\njunit.jupiter.execution.parallel.mode.default=same_thread\r\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\r\njunit.jupiter.execution.parallel.config.strategy=fixed\r\njunit.jupiter.execution.parallel.config.fixed.parallelism=2\r\n```\r\nresults in ca. 10 browsers starting in parallel. This shows that maven-failsafe-plugin honors the junit-platform.properties, but not the fixed strategy.\r\n\r\n[JUnit issue &#39;Parallelism value ignored for the fixed strategy&#39; #2273][1] describes this issue, and more specifically [Selenium issue &#39;Can no longer limit the number of parallel sessions from JUnit 5 #9359&#39;][2] describes the impact on Selenium versions 4.0.0-alpha-4 and up.\r\n\r\nHowever, implementing a custom parallel strategy as described in the above issues and setting\r\n```\r\njunit.jupiter.execution.parallel.enabled=true\r\njunit.jupiter.execution.parallel.mode.default=same_thread\r\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\r\njunit.jupiter.execution.parallel.config.strategy=custom\r\njunit.jupiter.execution.parallel.config.custom.class=ch.want.funnel.integration.base.CustomParallelStrategy\r\n```\r\ndoesn&#39;t change anything, there are still ca. 10 browsers opening in parallel.\r\n\r\nI can&#39;t find an SO post nor a github issue describing this behavior, which is that maven-failsafe-plugin does honor junit-platform.properties, does honor the `junit.jupiter.execution.parallel.enabled` setting therein, but not the parallel.config.strategy.\r\n\r\n**Update Dec 16th 2022**\r\n\r\nLooking at ForkJoinPoolHierarchicalTestExecutorService, the ForkJoinPool is created with\r\n```\r\nprivate ForkJoinPool createForkJoinPool(ParallelExecutionConfiguration configuration) {\r\n\tForkJoinWorkerThreadFactory threadFactory = new WorkerThreadFactory();\r\n\treturn Try.call(() -&gt; {\r\n\t\t// Try to use constructor available in Java &gt;= 9\r\n\t\tConstructor&lt;ForkJoinPool&gt; constructor = ForkJoinPool.class.getDeclaredConstructor(Integer.TYPE,\r\n\t\t\tForkJoinWorkerThreadFactory.class, UncaughtExceptionHandler.class, Boolean.TYPE, Integer.TYPE,\r\n\t\t\tInteger.TYPE, Integer.TYPE, Predicate.class, Long.TYPE, TimeUnit.class);\r\n\t\treturn constructor.newInstance(configuration.getParallelism(), threadFactory, null, false,\r\n\t\t\tconfiguration.getCorePoolSize(), configuration.getMaxPoolSize(), configuration.getMinimumRunnable(),\r\n\t\t\tconfiguration.getSaturatePredicate(), configuration.getKeepAliveSeconds(), TimeUnit.SECONDS);\r\n\t}).orElseTry(() -&gt; {\r\n\t\t// Fallback for Java 8\r\n\t\treturn new ForkJoinPool(configuration.getParallelism(), threadFactory, null, false);\r\n\t}).getOrThrow(cause -&gt; new JUnitException(&quot;Failed to create ForkJoinPool&quot;, cause));\r\n}\r\n```\r\nso the configuration maxPoolSize is only taken into account for JDK9 and higher. Also, Eclipse calls\r\n```\r\nForkJoinPoolHierarchicalTestExecutorService#invokeAll(List&lt;? extends TestTask&gt;) \r\n```\r\nindividually for each test class, while Maven calls once with all test classes.\r\n\r\n  [1]: https://github.com/junit-team/junit5/issues/2273\r\n  [2]: https://github.com/SeleniumHQ/selenium/issues/9359","title":"maven-failsafe-plugin not honoring fixed parallelism in JUnit5","body":"<p>I'm trying to run tests in parallel, but with a fixed number of threads.</p>\n<ul>\n<li>maven-failsafe-plugin 2.22.2</li>\n<li>JUnit 5.9.1</li>\n<li>Selenium 4.7.0</li>\n<li>JDK8</li>\n</ul>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.22.2&lt;/version&gt;\n  &lt;!-- Parallel configuration see junit-platform.properties --&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If I start off with junit-platform.properties setting</p>\n<pre><code>junit.jupiter.execution.parallel.enabled=false\n</code></pre>\n<p>the tests run single-threaded, as expected.</p>\n<p>Setting</p>\n<pre><code>junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.mode.default=same_thread\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\njunit.jupiter.execution.parallel.config.strategy=fixed\njunit.jupiter.execution.parallel.config.fixed.parallelism=2\n</code></pre>\n<p>results in ca. 10 browsers starting in parallel. This shows that maven-failsafe-plugin honors the junit-platform.properties, but not the fixed strategy.</p>\n<p><a href=\"https://github.com/junit-team/junit5/issues/2273\" rel=\"nofollow noreferrer\">JUnit issue 'Parallelism value ignored for the fixed strategy' #2273</a> describes this issue, and more specifically <a href=\"https://github.com/SeleniumHQ/selenium/issues/9359\" rel=\"nofollow noreferrer\">Selenium issue 'Can no longer limit the number of parallel sessions from JUnit 5 #9359'</a> describes the impact on Selenium versions 4.0.0-alpha-4 and up.</p>\n<p>However, implementing a custom parallel strategy as described in the above issues and setting</p>\n<pre><code>junit.jupiter.execution.parallel.enabled=true\njunit.jupiter.execution.parallel.mode.default=same_thread\njunit.jupiter.execution.parallel.mode.classes.default=concurrent\njunit.jupiter.execution.parallel.config.strategy=custom\njunit.jupiter.execution.parallel.config.custom.class=ch.want.funnel.integration.base.CustomParallelStrategy\n</code></pre>\n<p>doesn't change anything, there are still ca. 10 browsers opening in parallel.</p>\n<p>I can't find an SO post nor a github issue describing this behavior, which is that maven-failsafe-plugin does honor junit-platform.properties, does honor the <code>junit.jupiter.execution.parallel.enabled</code> setting therein, but not the parallel.config.strategy.</p>\n<p><strong>Update Dec 16th 2022</strong></p>\n<p>Looking at ForkJoinPoolHierarchicalTestExecutorService, the ForkJoinPool is created with</p>\n<pre><code>private ForkJoinPool createForkJoinPool(ParallelExecutionConfiguration configuration) {\n    ForkJoinWorkerThreadFactory threadFactory = new WorkerThreadFactory();\n    return Try.call(() -&gt; {\n        // Try to use constructor available in Java &gt;= 9\n        Constructor&lt;ForkJoinPool&gt; constructor = ForkJoinPool.class.getDeclaredConstructor(Integer.TYPE,\n            ForkJoinWorkerThreadFactory.class, UncaughtExceptionHandler.class, Boolean.TYPE, Integer.TYPE,\n            Integer.TYPE, Integer.TYPE, Predicate.class, Long.TYPE, TimeUnit.class);\n        return constructor.newInstance(configuration.getParallelism(), threadFactory, null, false,\n            configuration.getCorePoolSize(), configuration.getMaxPoolSize(), configuration.getMinimumRunnable(),\n            configuration.getSaturatePredicate(), configuration.getKeepAliveSeconds(), TimeUnit.SECONDS);\n    }).orElseTry(() -&gt; {\n        // Fallback for Java 8\n        return new ForkJoinPool(configuration.getParallelism(), threadFactory, null, false);\n    }).getOrThrow(cause -&gt; new JUnitException(&quot;Failed to create ForkJoinPool&quot;, cause));\n}\n</code></pre>\n<p>so the configuration maxPoolSize is only taken into account for JDK9 and higher. Also, Eclipse calls</p>\n<pre><code>ForkJoinPoolHierarchicalTestExecutorService#invokeAll(List&lt;? extends TestTask&gt;) \n</code></pre>\n<p>individually for each test class, while Maven calls once with all test classes.</p>\n"},{"tags":["java","sockets","bufferedreader","socketexception"],"comments":[{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1671194735,"post_id":74824163,"comment_id":132052056,"body_markdown":"You get this error if the client closes the socket without closing the stream.","body":"You get this error if the client closes the socket without closing the stream."}],"owner":{"account_id":27271769,"reputation":1,"user_id":20792982,"display_name":"Markus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":955,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671191942,"creation_date":1671191942,"question_id":74824163,"body_markdown":"In a simple Server Client communication I always get the &quot;java.net.SocketException: Connection reset&quot; on the serverside, if the client does not close the outputstream of it&#39;s socket directly after sending out the data via BufferedWriter.\r\nIf I close the client&#39;s outputstream everything works fine.\r\nBut obviously the client wants eventually to send more than one String (then the server needs to handle the connection in a new Thread). But I don&#39;t even get that far, because ofe the problem above...\r\n\r\n\r\nThanks for helping!!\r\n\r\n\r\nHere is some condensed code to show the problem. \r\n\r\nThis is the server class:\r\n\r\n\r\n```\r\npublic class TestServerCharacterStream {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;### Started&quot;);\r\n\t\tTestServerCharacterStream testServerCharacterStream = new TestServerCharacterStream(9498);\r\n\t\ttestServerCharacterStream.waitForData();\r\n\t\tSystem.out.println(&quot;### Terminated&quot;);\r\n\t}\r\n\t\r\n\t\r\n\tprivate int port;\r\n\tprivate ServerSocket serverSocket;\r\n\tprivate BufferedReader in;\r\n\r\n\tpublic TestServerCharacterStream(int port) {\r\n\t\tthis.port = port;\r\n\t\ttry {\r\n\t\t\tthis.serverSocket = new ServerSocket(port);\r\n\t\t\tSystem.out.println(&quot;[SERVER] :   Server started!&quot;);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot open new server socket!&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic void waitForData() {\r\n\t\tSocket clientSocket = null;\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;[SERVER] :   Wait for data on port &quot; + port + &quot; ...&quot;);\r\n\t\t\tclientSocket = serverSocket.accept();\r\n\r\n\t\t\tin = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\r\n\t\t\tString incoming = in.readLine();\r\n\t\t\tSystem.out.println(&quot;[SERVER] :   Incoming message: &quot; + incoming);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Error while accepting connection or reading input!&quot;);\r\n\t\t\tcloseStreamAndSocket(clientSocket, in);\r\n\t\t\tcloseServerSocket();\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void closeStreamAndSocket(Socket socket, BufferedReader in) {\r\n\t\ttry {\r\n\t\t\tif (in != null) {\r\n\t\t\t\tin.close();\r\n\t\t\t}\r\n\t\t\tif (socket != null) {\r\n\t\t\t\tsocket.close();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot close stream or socket.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tprivate void closeServerSocket() {\r\n\t\ttry {\r\n\t\t\tif (serverSocket != null) {\r\n\t\t\t\tserverSocket.close();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot close serverSocket.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nThis is the Client Class:\r\nAs mentioned, it works if closing the outputstream (see the comment). To use flush() or not does not make any difference. The only way to solve it is `out.close();` \r\nBut I want to use the BufferedWriter again, withot connect always again to the server.\r\n\r\n```\r\npublic class TestClientCharacterStream {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;### Started&quot;);\r\n\t\tTestClientCharacterStream testClientCharacterStream = new TestClientCharacterStream(&quot;localhost&quot;, 9498);\r\n\t\ttestClientCharacterStream.sendData(&quot;Hello!!!&quot;);\r\n\t\tSystem.out.println(&quot;### Terminated&quot;);\r\n\t}\r\n\t\r\n\t\r\n\tprivate InetSocketAddress adress;\r\n\tprivate Socket clientSocket;\r\n\tprivate BufferedWriter out;\r\n\t\r\n\tpublic TestClientCharacterStream(String serverIp, int port) {\r\n\t\tthis.adress = new InetSocketAddress(serverIp, port);\r\n\t\ttry {\r\n\t\t\tclientSocket = new Socket();\r\n\t\t\tclientSocket.connect(adress, 10000);\r\n\t\t\tthis.out = new BufferedWriter(new OutputStreamWriter(clientSocket.getOutputStream()));\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Something went wrong on instantiating a new TestClientCharacterStream&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void sendData(String string) {\r\n\t\ttry {\t\r\n\t\t\tout.write(string);\r\n\t\t\tSystem.out.println(&quot;[CLIENT] :   Sent new message: &quot; + string);\r\n                        out.flush();\r\n\t\t\tout.close(); // If I don&#39;t close the stream, I&#39;m going to get a &quot;java.net.SocketException: Connection reset&quot; on the server\t\t\t\r\n\t\t} catch (IOException e) {\r\n\t\t\tcloseStreamAndSocket(clientSocket, out);\r\n\t\t\te.printStackTrace();\r\n\t\t}\t\r\n\t}\r\n\t\r\n\tprivate void closeStreamAndSocket(Socket socket, BufferedWriter out) {\r\n\t\ttry {\r\n\t\t\tif (out != null) {\r\n\t\t\t\tout.close();\r\n\t\t\t}\r\n\t\t\tif (socket != null) {\r\n\t\t\t\tsocket.close();\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.err.println(&quot;Cannot close stream or socket.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\nThe servers Output:\r\n\r\n```\r\n### Started\r\n[SERVER] :   Server started!\r\n[SERVER] :   Wait for data on port 9498 ...\r\nError while accepting connection or reading input!\r\njava.net.SocketException: Connection reset\r\n\tat java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\r\n\tat java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\r\n\tat java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\r\n\tat java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\r\n\tat java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\r\n\tat java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n\tat java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\r\n\tat java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\r\n\tat java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\r\n\tat TestServerCharacterStream.waitForData(TestServerCharacterStream.java:40)\r\n\tat TestServerCharacterStream.main(TestServerCharacterStream.java:12)\r\n### Terminated\r\n```\r\n\r\n","title":"Why is there a &quot;SocketException: Connection reset&quot; when not closing client&#39;s output stream?","body":"<p>In a simple Server Client communication I always get the &quot;java.net.SocketException: Connection reset&quot; on the serverside, if the client does not close the outputstream of it's socket directly after sending out the data via BufferedWriter.\nIf I close the client's outputstream everything works fine.\nBut obviously the client wants eventually to send more than one String (then the server needs to handle the connection in a new Thread). But I don't even get that far, because ofe the problem above...</p>\n<p>Thanks for helping!!</p>\n<p>Here is some condensed code to show the problem.</p>\n<p>This is the server class:</p>\n<pre><code>public class TestServerCharacterStream {\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;### Started&quot;);\n        TestServerCharacterStream testServerCharacterStream = new TestServerCharacterStream(9498);\n        testServerCharacterStream.waitForData();\n        System.out.println(&quot;### Terminated&quot;);\n    }\n    \n    \n    private int port;\n    private ServerSocket serverSocket;\n    private BufferedReader in;\n\n    public TestServerCharacterStream(int port) {\n        this.port = port;\n        try {\n            this.serverSocket = new ServerSocket(port);\n            System.out.println(&quot;[SERVER] :   Server started!&quot;);\n        } catch (IOException e) {\n            System.err.println(&quot;Cannot open new server socket!&quot;);\n            e.printStackTrace();\n        }\n        \n    }\n    \n    public void waitForData() {\n        Socket clientSocket = null;\n        try {\n            System.out.println(&quot;[SERVER] :   Wait for data on port &quot; + port + &quot; ...&quot;);\n            clientSocket = serverSocket.accept();\n\n            in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));\n            String incoming = in.readLine();\n            System.out.println(&quot;[SERVER] :   Incoming message: &quot; + incoming);\n        } catch (IOException e) {\n            System.err.println(&quot;Error while accepting connection or reading input!&quot;);\n            closeStreamAndSocket(clientSocket, in);\n            closeServerSocket();\n            e.printStackTrace();\n        }\n    }\n\n    private void closeStreamAndSocket(Socket socket, BufferedReader in) {\n        try {\n            if (in != null) {\n                in.close();\n            }\n            if (socket != null) {\n                socket.close();\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Cannot close stream or socket.&quot;);\n            e.printStackTrace();\n        }\n    }\n    \n    private void closeServerSocket() {\n        try {\n            if (serverSocket != null) {\n                serverSocket.close();\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Cannot close serverSocket.&quot;);\n            e.printStackTrace();\n        }\n    }\n\n}\n</code></pre>\n<p>This is the Client Class:\nAs mentioned, it works if closing the outputstream (see the comment). To use flush() or not does not make any difference. The only way to solve it is <code>out.close();</code>\nBut I want to use the BufferedWriter again, withot connect always again to the server.</p>\n<pre><code>public class TestClientCharacterStream {\n    \n    public static void main(String[] args) {\n        System.out.println(&quot;### Started&quot;);\n        TestClientCharacterStream testClientCharacterStream = new TestClientCharacterStream(&quot;localhost&quot;, 9498);\n        testClientCharacterStream.sendData(&quot;Hello!!!&quot;);\n        System.out.println(&quot;### Terminated&quot;);\n    }\n    \n    \n    private InetSocketAddress adress;\n    private Socket clientSocket;\n    private BufferedWriter out;\n    \n    public TestClientCharacterStream(String serverIp, int port) {\n        this.adress = new InetSocketAddress(serverIp, port);\n        try {\n            clientSocket = new Socket();\n            clientSocket.connect(adress, 10000);\n            this.out = new BufferedWriter(new OutputStreamWriter(clientSocket.getOutputStream()));\n        } catch (IOException e) {\n            System.err.println(&quot;Something went wrong on instantiating a new TestClientCharacterStream&quot;);\n            e.printStackTrace();\n        }\n    }\n    \n    public void sendData(String string) {\n        try {   \n            out.write(string);\n            System.out.println(&quot;[CLIENT] :   Sent new message: &quot; + string);\n                        out.flush();\n            out.close(); // If I don't close the stream, I'm going to get a &quot;java.net.SocketException: Connection reset&quot; on the server          \n        } catch (IOException e) {\n            closeStreamAndSocket(clientSocket, out);\n            e.printStackTrace();\n        }   \n    }\n    \n    private void closeStreamAndSocket(Socket socket, BufferedWriter out) {\n        try {\n            if (out != null) {\n                out.close();\n            }\n            if (socket != null) {\n                socket.close();\n            }\n        } catch (IOException e) {\n            System.err.println(&quot;Cannot close stream or socket.&quot;);\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>The servers Output:</p>\n<pre><code>### Started\n[SERVER] :   Server started!\n[SERVER] :   Wait for data on port 9498 ...\nError while accepting connection or reading input!\njava.net.SocketException: Connection reset\n    at java.base/sun.nio.ch.NioSocketImpl.implRead(NioSocketImpl.java:323)\n    at java.base/sun.nio.ch.NioSocketImpl.read(NioSocketImpl.java:350)\n    at java.base/sun.nio.ch.NioSocketImpl$1.read(NioSocketImpl.java:803)\n    at java.base/java.net.Socket$SocketInputStream.read(Socket.java:966)\n    at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\n    at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\n    at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n    at java.base/java.io.InputStreamReader.read(InputStreamReader.java:177)\n    at java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\n    at java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\n    at TestServerCharacterStream.waitForData(TestServerCharacterStream.java:40)\n    at TestServerCharacterStream.main(TestServerCharacterStream.java:12)\n### Terminated\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data","jakarta-mail"],"comments":[{"owner":{"account_id":5168089,"reputation":26701,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":0,"creation_date":1671192110,"post_id":74824100,"comment_id":132051282,"body_markdown":"Did you try to debug your application by stepping through from a breakpoint?","body":"Did you try to debug your application by stepping through from a breakpoint?"},{"owner":{"account_id":10763106,"reputation":74,"user_id":7918945,"display_name":"Gulshan Kumar"},"score":0,"creation_date":1671208644,"post_id":74824100,"comment_id":132056961,"body_markdown":"Thank you. So finally found the cause. there was null pointer exception coming byt strange app was not throwing or printing that to console.","body":"Thank you. So finally found the cause. there was null pointer exception coming byt strange app was not throwing or printing that to console."}],"owner":{"account_id":10763106,"reputation":74,"user_id":7918945,"display_name":"Gulshan Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671191930,"creation_date":1671191667,"question_id":74824100,"body_markdown":"I ran into a weired problem. My program is not executing as per the expectations.\r\n\r\n```java\r\npublic void sendPasswordResetCode(String email, Long code){ \r\n    log.info(&quot;inside&quot;);\r\n    JavaMailSenderImpl javaMailSender = configureMailProps();\r\n    log.info(&quot;mail props {}&quot;,javaMailSender.toString());\r\n    SimpleMailMessage msg = new SimpleMailMessage();\r\n    msg.setTo(email);\r\n    msg.setSubject(&quot;Password reset code.&quot;);\r\n    msg.setText(&quot;use this code to reset your password &quot;+code);\r\n    javaMailSender.send(msg);        \r\n}\r\n```\r\nthe next methods:\r\n\r\n```java\r\nprivate JavaMailSenderImpl configureMailProps() {\r\n    log.info(&quot;inside config&quot;);\r\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n    GmailConfigurations config = new GmailConfigurations();\r\n    GmailSettings gmail = config.getGmailSettings();\r\n    log.info(gmail.toString());\r\n    try {\r\n        mailSender.setHost(gmail.getHost());\r\n        mailSender.setPort(gmail.getPort());\r\n\r\n        mailSender.setUsername(gmail.getGmail());\r\n\r\n        mailSender.setPassword(gmail.getAppPassword());            \r\n    }\r\n    catch(RuntimeException ex) {\r\n        log.info(&quot;exce here&quot;);\r\n        ex.printStackTrace();\r\n    }\r\n    log.info(&quot;Before seing props&quot;);\r\n    Properties props = mailSender.getJavaMailProperties();\r\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    log.info(&quot;Mail {}&quot;,mailSender.toString());\r\n    return mailSender;        \r\n} \r\n    \r\n@Slf4j\r\n@Component\r\npublic class GmailConfigurations {\r\n\r\n    @Autowired\r\n    private EmailCredService emailCred;\r\n        \r\n    public GmailSettings getGmailSettings() {\r\n        log.info(&quot;inside gmail seings&quot;);\r\n        GmailSettings gmail = new GmailSettings();\r\n        EmailCredSetting cred = emailCred.getEmailCred();\r\n        if(cred != null) {\r\n            gmail.setAppPassword(cred.getPassword());\r\n            gmail.setGmail(cred.getEmail());            \r\n        }\r\n        gmail.setPort(587);\r\n        gmail.setHost(&quot;smtp.gmail.com&quot;);\r\n        log.info(&quot;Inside gmail seings 2{}&quot;, gmail.toString());\r\n        return gmail;\r\n    }    \r\n}\r\n```\r\n\r\nThe output is:\r\n\r\n 1. inside\r\n 2. inside config\r\n 3. inside gmail seings\r\n\r\nAfter that nothing is getting printed and email is not send. nothing is happening.\r\n\r\nPlease help me. \r\n\r\n\r\n","title":"Flow of execution is not going as expected","body":"<p>I ran into a weired problem. My program is not executing as per the expectations.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void sendPasswordResetCode(String email, Long code){ \n    log.info(&quot;inside&quot;);\n    JavaMailSenderImpl javaMailSender = configureMailProps();\n    log.info(&quot;mail props {}&quot;,javaMailSender.toString());\n    SimpleMailMessage msg = new SimpleMailMessage();\n    msg.setTo(email);\n    msg.setSubject(&quot;Password reset code.&quot;);\n    msg.setText(&quot;use this code to reset your password &quot;+code);\n    javaMailSender.send(msg);        \n}\n</code></pre>\n<p>the next methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private JavaMailSenderImpl configureMailProps() {\n    log.info(&quot;inside config&quot;);\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n    GmailConfigurations config = new GmailConfigurations();\n    GmailSettings gmail = config.getGmailSettings();\n    log.info(gmail.toString());\n    try {\n        mailSender.setHost(gmail.getHost());\n        mailSender.setPort(gmail.getPort());\n\n        mailSender.setUsername(gmail.getGmail());\n\n        mailSender.setPassword(gmail.getAppPassword());            \n    }\n    catch(RuntimeException ex) {\n        log.info(&quot;exce here&quot;);\n        ex.printStackTrace();\n    }\n    log.info(&quot;Before seing props&quot;);\n    Properties props = mailSender.getJavaMailProperties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n    log.info(&quot;Mail {}&quot;,mailSender.toString());\n    return mailSender;        \n} \n    \n@Slf4j\n@Component\npublic class GmailConfigurations {\n\n    @Autowired\n    private EmailCredService emailCred;\n        \n    public GmailSettings getGmailSettings() {\n        log.info(&quot;inside gmail seings&quot;);\n        GmailSettings gmail = new GmailSettings();\n        EmailCredSetting cred = emailCred.getEmailCred();\n        if(cred != null) {\n            gmail.setAppPassword(cred.getPassword());\n            gmail.setGmail(cred.getEmail());            \n        }\n        gmail.setPort(587);\n        gmail.setHost(&quot;smtp.gmail.com&quot;);\n        log.info(&quot;Inside gmail seings 2{}&quot;, gmail.toString());\n        return gmail;\n    }    \n}\n</code></pre>\n<p>The output is:</p>\n<ol>\n<li>inside</li>\n<li>inside config</li>\n<li>inside gmail seings</li>\n</ol>\n<p>After that nothing is getting printed and email is not send. nothing is happening.</p>\n<p>Please help me.</p>\n"},{"tags":["java","android","testing","layout","android-espresso"],"owner":{"account_id":21321896,"reputation":11,"user_id":15694918,"display_name":"EgeronimoL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671191744,"creation_date":1671037405,"question_id":74801827,"body_markdown":"I&#39;m testing my android app with espresso and want to test the ZoomControls like this:\r\n\r\n\r\n    onView(withId(R.id.zoomIn)).perform(click());\r\n\r\n\r\nBut I don&#39;t get the zoomIn/zoomOut id, from the Zoom_Controls. In the Layout Component Tree, the zoomIn and zoomOut are visible.\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/Yi5my.png&quot; width=&quot;350&quot;/&gt;\r\n\r\nCan someone help me?\r\nThanks in advance.\r\n\r\n\r\n\r\n    Resources res = Resources.getSystem();\r\n    int id = res.getIdentifier(&quot;btn_zoom_down&quot;, &quot;drawable&quot;, &quot;android&quot;);\r\n\r\nDidn&#39;t work.\r\n\r\nGot it working with:\r\n    \r\n```java\r\nResources res = Resources.getSystem();\r\nint id = res.getIdentifier(&quot;@id/zoomOut&quot;, &quot;drawable&quot;, &quot;android&quot;);\r\nonView(withId(id)).perform(click());\r\n```","title":"Android ZoomControl layout","body":"<p>I'm testing my android app with espresso and want to test the ZoomControls like this:</p>\n<pre><code>onView(withId(R.id.zoomIn)).perform(click());\n</code></pre>\n<p>But I don't get the zoomIn/zoomOut id, from the Zoom_Controls. In the Layout Component Tree, the zoomIn and zoomOut are visible.</p>\n<img src=\"https://i.stack.imgur.com/Yi5my.png\" width=\"350\"/>\n<p>Can someone help me?\nThanks in advance.</p>\n<pre><code>Resources res = Resources.getSystem();\nint id = res.getIdentifier(&quot;btn_zoom_down&quot;, &quot;drawable&quot;, &quot;android&quot;);\n</code></pre>\n<p>Didn't work.</p>\n<p>Got it working with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Resources res = Resources.getSystem();\nint id = res.getIdentifier(&quot;@id/zoomOut&quot;, &quot;drawable&quot;, &quot;android&quot;);\nonView(withId(id)).perform(click());\n</code></pre>\n"},{"tags":["java","sorting","java-8","comparator","java-stream"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":2,"creation_date":1444229795,"post_id":32995559,"comment_id":53815876,"body_markdown":"Change the Comparator behavior, of course.","body":"Change the Comparator behavior, of course."}],"answers":[{"comments":[{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":5,"creation_date":1675759618,"post_id":32995635,"comment_id":132992671,"body_markdown":"Could you tell me why this doesn&#39;t work in my IDE? The line looks like this: `.sorted(Comparator.comparing(Map.Entry::getValue).reversed())`. For some reason the IDE starts to underline the very same parameter of `comparing()` (it didn&#39;t when I wasn&#39;t invoking `reversed()`) and says &quot;Non-static method cannot be referenced from a static context&quot; &#129300;","body":"Could you tell me why this doesn&#39;t work in my IDE? The line looks like this: <code>.sorted(Comparator.comparing(Map.Entry::getValue).reversed()&zwnj;&#8203;)</code>. For some reason the IDE starts to underline the very same parameter of <code>comparing()</code> (it didn&#39;t when I wasn&#39;t invoking <code>reversed()</code>) and says &quot;Non-static method cannot be referenced from a static context&quot; 🤔"}],"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":1,"down_vote_count":0,"up_vote_count":265,"is_accepted":true,"score":265,"last_activity_date":1552969316,"creation_date":1444229809,"answer_id":32995635,"question_id":32995559,"body_markdown":"You can use [`Comparator.reverseOrder()`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reverseOrder--) to have a comparator giving the reverse of the natural ordering.\r\n\r\nIf you want to reverse the ordering of an existing comparator, you can use [`Comparator.reversed()`](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--).\r\n\r\nSample code:\r\n\r\n    Stream.of(1, 4, 2, 5)\r\n        .sorted(Comparator.reverseOrder()); \r\n        // stream is now [5, 4, 2, 1]\r\n\r\n    Stream.of(&quot;foo&quot;, &quot;test&quot;, &quot;a&quot;)\r\n        .sorted(Comparator.comparingInt(String::length).reversed()); \r\n        // stream is now [test, foo, a], sorted by descending length","title":"Reverse a comparator in Java 8","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reverseOrder--\" rel=\"noreferrer\"><code>Comparator.reverseOrder()</code></a> to have a comparator giving the reverse of the natural ordering.</p>\n\n<p>If you want to reverse the ordering of an existing comparator, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--\" rel=\"noreferrer\"><code>Comparator.reversed()</code></a>.</p>\n\n<p>Sample code:</p>\n\n<pre><code>Stream.of(1, 4, 2, 5)\n    .sorted(Comparator.reverseOrder()); \n    // stream is now [5, 4, 2, 1]\n\nStream.of(\"foo\", \"test\", \"a\")\n    .sorted(Comparator.comparingInt(String::length).reversed()); \n    // stream is now [test, foo, a], sorted by descending length\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1444229824,"creation_date":1444229824,"answer_id":32995638,"question_id":32995559,"body_markdown":"Java 8 `Comparator` interface has a `reversed` method : [https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--","title":"Reverse a comparator in Java 8","body":"<p>Java 8 <code>Comparator</code> interface has a <code>reversed</code> method : <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--\" rel=\"noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#reversed--</a></p>\n"},{"comments":[{"owner":{"account_id":2299600,"reputation":357,"user_id":2020180,"display_name":"Kyung Hwan  Min"},"score":2,"creation_date":1593027051,"post_id":54525172,"comment_id":110639330,"body_markdown":"Comparator&lt;SomeEntity&gt; ENTITY_COMPARATOR = Comparator.comparing(SomeEntity::getProperty1, reverseOrder())","body":"Comparator&lt;SomeEntity&gt; ENTITY_COMPARATOR = Comparator.comparing(SomeEntity::getProperty1, reverseOrder())"},{"owner":{"account_id":1365296,"reputation":4196,"user_id":1301863,"accept_rate":56,"display_name":"SouthShoreAK"},"score":3,"creation_date":1623794200,"post_id":54525172,"comment_id":120178752,"body_markdown":"This example is extremely helpful if you&#39;re sorting on multiple properties, and only want to reverse some of them!","body":"This example is extremely helpful if you&#39;re sorting on multiple properties, and only want to reverse some of them!"}],"tags":[],"owner":{"account_id":1932010,"reputation":1021,"user_id":1741216,"display_name":"dim42"},"comment_count":2,"down_vote_count":0,"up_vote_count":81,"is_accepted":false,"score":81,"last_activity_date":1643008512,"creation_date":1549318785,"answer_id":54525172,"question_id":32995559,"body_markdown":"You can also use [Comparator.comparing(Function, Comparator)][1]&lt;br/&gt;\r\nIt is convenient to chain comparators when necessary, e.g.:\r\n\r\n    Comparator&lt;SomeEntity&gt; ENTITY_COMPARATOR = \r\n            Comparator.comparing(SomeEntity::getProperty1, Comparator.reverseOrder())\r\n            .thenComparingInt(SomeEntity::getProperty2)\r\n            .thenComparing(SomeEntity::getProperty3, Comparator.reverseOrder());\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-java.util.Comparator-","title":"Reverse a comparator in Java 8","body":"<p>You can also use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-java.util.Comparator-\" rel=\"noreferrer\">Comparator.comparing(Function, Comparator)</a><br/>\nIt is convenient to chain comparators when necessary, e.g.:</p>\n<pre><code>Comparator&lt;SomeEntity&gt; ENTITY_COMPARATOR = \n        Comparator.comparing(SomeEntity::getProperty1, Comparator.reverseOrder())\n        .thenComparingInt(SomeEntity::getProperty2)\n        .thenComparing(SomeEntity::getProperty3, Comparator.reverseOrder());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1390720,"reputation":51,"user_id":1321636,"display_name":"Pinocchio"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1588968865,"creation_date":1588968865,"answer_id":61687383,"question_id":32995559,"body_markdown":"Why not to extend the existing comperator and overwrite super and nor the result.\r\nThe implementation the Comperator Interface is not nessesery but it makes it more clear what happens.\r\n\r\nIn result you get a easy reusable Class File, testable unit step and clear javadoc.\r\n\r\n\r\n    public class NorCoperator extends ExistingComperator implements Comparator&lt;MyClass&gt; {\r\n        @Override\r\n    \tpublic int compare(MyClass a, MyClass b) throws Exception {\r\n    \t\treturn super.compare(a, b)*-1;\r\n    \t}\r\n    }\r\n    \r\n\r\n","title":"Reverse a comparator in Java 8","body":"<p>Why not to extend the existing comperator and overwrite super and nor the result.\nThe implementation the Comperator Interface is not nessesery but it makes it more clear what happens.</p>\n\n<p>In result you get a easy reusable Class File, testable unit step and clear javadoc.</p>\n\n<pre><code>public class NorCoperator extends ExistingComperator implements Comparator&lt;MyClass&gt; {\n    @Override\n    public int compare(MyClass a, MyClass b) throws Exception {\n        return super.compare(a, b)*-1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7364227,"reputation":200,"user_id":5606468,"display_name":"Shinforinpola"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1629956760,"creation_date":1629956760,"answer_id":68933100,"question_id":32995559,"body_markdown":"I found this question serching for reversing order when you have a custom comparator and the reverse is conditional (you can do it or not).\r\n\r\nThe idea proposed by Pinocchio helped me.\r\n\r\nSo here is the code:\r\n\r\n```\r\nint order = requestedOrder.equals(&quot;asc&quot;) ? 1 : -1;\r\n\r\nCollections.sort(List&lt;CustomObj&gt;, new Comparator&lt;CustomObj&gt;() {\r\n    public int compare(CustomObj first, CustomObj scnd) {\r\n\t    return first.getComparableParam().compareTo(scnd.getComparableParam()) * order;\r\n\t}\r\n});\r\n```\r\nHope it helps somebody else in the future","title":"Reverse a comparator in Java 8","body":"<p>I found this question serching for reversing order when you have a custom comparator and the reverse is conditional (you can do it or not).</p>\n<p>The idea proposed by Pinocchio helped me.</p>\n<p>So here is the code:</p>\n<pre><code>int order = requestedOrder.equals(&quot;asc&quot;) ? 1 : -1;\n\nCollections.sort(List&lt;CustomObj&gt;, new Comparator&lt;CustomObj&gt;() {\n    public int compare(CustomObj first, CustomObj scnd) {\n        return first.getComparableParam().compareTo(scnd.getComparableParam()) * order;\n    }\n});\n</code></pre>\n<p>Hope it helps somebody else in the future</p>\n"},{"tags":[],"owner":{"account_id":22445773,"reputation":151,"user_id":16649714,"display_name":"cheladon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671190895,"creation_date":1671190895,"answer_id":74823975,"question_id":32995559,"body_markdown":"If you want to use class fields:\r\n            \r\n    Comparator&lt;ClassA&gt; reversedComparator = Collections.reverseOrder(Comparator.comparing(ClassA::getSomeProperty));\r\n\r\n","title":"Reverse a comparator in Java 8","body":"<p>If you want to use class fields:</p>\n<pre><code>Comparator&lt;ClassA&gt; reversedComparator = Collections.reverseOrder(Comparator.comparing(ClassA::getSomeProperty));\n</code></pre>\n"}],"owner":{"account_id":4159509,"reputation":3893,"user_id":3409913,"accept_rate":86,"display_name":"Guforu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222269,"favorite_count":0,"down_vote_count":1,"up_vote_count":146,"accepted_answer_id":32995635,"answer_count":6,"score":145,"last_activity_date":1671190895,"creation_date":1444229598,"question_id":32995559,"body_markdown":"I have an ArrayList and want sort it in descending order. I use for it `java.util.stream.Stream.sorted(Comparator)` method. Here is a description according Java API:\r\n\r\n&gt; Returns a stream consisting of the elements of this stream, sorted according to the provided `Comparator`.\r\n\r\nthis methods return me a sort with ascending order. Which parameter should I change, just to have the descending order? ","title":"Reverse a comparator in Java 8","body":"<p>I have an ArrayList and want sort it in descending order. I use for it <code>java.util.stream.Stream.sorted(Comparator)</code> method. Here is a description according Java API:</p>\n\n<blockquote>\n  <p>Returns a stream consisting of the elements of this stream, sorted according to the provided <code>Comparator</code>.</p>\n</blockquote>\n\n<p>this methods return me a sort with ascending order. Which parameter should I change, just to have the descending order? </p>\n"},{"tags":["java","spring-boot","spring-mvc","docker-compose"],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1671458093,"post_id":74823908,"comment_id":132096947,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74823908/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27249879,"reputation":11,"user_id":20774516,"display_name":"Adam Drzewiecki"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671190505,"creation_date":1671190505,"answer_id":74823908,"question_id":65646519,"body_markdown":"I know it&#39;s been a long time since this question was asked, but for if anyone had a similar problem this is as correct as possible. \r\nThe idea is not to accept keys created from another issuer. \r\nThis is the responsibility of the JwtValidator used in JwtDecoder.  \r\nHowever, if you don&#39;t want to use issuer for validation you can use NimbusJwtDecoder which is more configurable and doesn&#39;t use issuer for validation by default.","title":"Spring JWT in docker, returning 401, local works","body":"<p>I know it's been a long time since this question was asked, but for if anyone had a similar problem this is as correct as possible.\nThe idea is not to accept keys created from another issuer.\nThis is the responsibility of the JwtValidator used in JwtDecoder.<br />\nHowever, if you don't want to use issuer for validation you can use NimbusJwtDecoder which is more configurable and doesn't use issuer for validation by default.</p>\n"}],"owner":{"account_id":15723190,"reputation":11,"user_id":11345569,"display_name":"David Bal&#225;ček"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671190505,"creation_date":1610219065,"question_id":65646519,"body_markdown":"i am using standart JWT auth, in Spring boot. When i run the app locally everything works fine, regarding auth to API endpoints, in postman. But when u built docker compose to move the app inside container with posgresql DB, i am getting 401 unatuhorized for every API i call. Does someone has hint why it might be happening? Thanks a lot !\r\n\r\nDockerfile for spring app\r\n```\r\nFROM openjdk:8-jdk-alpine\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} app.jar\r\nEXPOSE 8080\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nDocker-compose\r\n```\r\nversion: &#39;3.1&#39;\r\n\r\nservices:\r\n  db:\r\n    image: &#39;postgres:13.1-alpine&#39;\r\n    container_name: db\r\n    environment:\r\n      - POSTGRES_USER=compose-postgres\r\n      - POSTGRES_PASSWORD=compose-postgres\r\n    ports:\r\n    - &quot;5432:5432&quot;\r\n  backend:\r\n    image: &#39;docker-spring-boot-postgres:latest&#39;\r\n    build: ./backend\r\n    container_name: backend\r\n    ports:\r\n      - &#39;8080:8080&#39;\r\n    environment:\r\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/compose-postgres\r\n      - SPRING_DATASOURCE_USERNAME=compose-postgres\r\n      - SPRING_DATASOURCE_PASSWORD=compose-postgres\r\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\r\n    depends_on:\r\n      - db\r\n```\r\n\r\nWebsecurityConfig\r\n```\r\n@Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity.csrf().disable()\r\n             \r\n                .authorizeRequests().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll().and()\r\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/api/customer/**&quot;, &quot;/api/order/**&quot;).permitAll().\r\n                // all other requests need to be authenticated\r\n                        anyRequest().authenticated().and().\r\n                        exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        \r\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n}\r\n```\r\nJWT request filter\r\n```\r\n@Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n            throws ServletException, IOException {\r\n\r\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\r\n\r\n        String username = null;\r\n        String jwtToken = null;\r\n\r\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\r\n            jwtToken = requestTokenHeader.substring(7);\r\n            try {\r\n                username = jwtTokenUtil.getUsernameFromToken(jwtToken);\r\n            } catch (IllegalArgumentException e) {\r\n                System.out.println(&quot;Unable to get JWT Token&quot;);\r\n            } catch (ExpiredJwtException e) {\r\n                System.out.println(&quot;JWT Token has expired&quot;);\r\n            }\r\n        } else {\r\n            logger.warn(&quot;JWT Token does not begin with Bearer String&quot;);\r\n        }\r\n\r\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\r\n\r\n            UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\r\n\r\n            if (jwtTokenUtil.validateToken(jwtToken, userDetails)) {\r\n\r\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\r\n                        userDetails, null, userDetails.getAuthorities());\r\n                usernamePasswordAuthenticationToken\r\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n            }\r\n        }\r\n        chain.doFilter(request, response);\r\n    }\r\n```","title":"Spring JWT in docker, returning 401, local works","body":"<p>i am using standart JWT auth, in Spring boot. When i run the app locally everything works fine, regarding auth to API endpoints, in postman. But when u built docker compose to move the app inside container with posgresql DB, i am getting 401 unatuhorized for every API i call. Does someone has hint why it might be happening? Thanks a lot !</p>\n<p>Dockerfile for spring app</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nEXPOSE 8080\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>Docker-compose</p>\n<pre><code>version: '3.1'\n\nservices:\n  db:\n    image: 'postgres:13.1-alpine'\n    container_name: db\n    environment:\n      - POSTGRES_USER=compose-postgres\n      - POSTGRES_PASSWORD=compose-postgres\n    ports:\n    - &quot;5432:5432&quot;\n  backend:\n    image: 'docker-spring-boot-postgres:latest'\n    build: ./backend\n    container_name: backend\n    ports:\n      - '8080:8080'\n    environment:\n      - SPRING_DATASOURCE_URL=jdbc:postgresql://db:5432/compose-postgres\n      - SPRING_DATASOURCE_USERNAME=compose-postgres\n      - SPRING_DATASOURCE_PASSWORD=compose-postgres\n      - SPRING_JPA_HIBERNATE_DDL_AUTO=update\n    depends_on:\n      - db\n</code></pre>\n<p>WebsecurityConfig</p>\n<pre><code>@Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.csrf().disable()\n             \n                .authorizeRequests().antMatchers(HttpMethod.OPTIONS, &quot;/**&quot;).permitAll().and()\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;, &quot;/api/customer/**&quot;, &quot;/api/order/**&quot;).permitAll().\n                // all other requests need to be authenticated\n                        anyRequest().authenticated().and().\n                        exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint).and().sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        \n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n}\n</code></pre>\n<p>JWT request filter</p>\n<pre><code>@Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n            throws ServletException, IOException {\n\n        final String requestTokenHeader = request.getHeader(&quot;Authorization&quot;);\n\n        String username = null;\n        String jwtToken = null;\n\n        if (requestTokenHeader != null &amp;&amp; requestTokenHeader.startsWith(&quot;Bearer &quot;)) {\n            jwtToken = requestTokenHeader.substring(7);\n            try {\n                username = jwtTokenUtil.getUsernameFromToken(jwtToken);\n            } catch (IllegalArgumentException e) {\n                System.out.println(&quot;Unable to get JWT Token&quot;);\n            } catch (ExpiredJwtException e) {\n                System.out.println(&quot;JWT Token has expired&quot;);\n            }\n        } else {\n            logger.warn(&quot;JWT Token does not begin with Bearer String&quot;);\n        }\n\n        if (username != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null) {\n\n            UserDetails userDetails = this.jwtUserDetailsService.loadUserByUsername(username);\n\n            if (jwtTokenUtil.validateToken(jwtToken, userDetails)) {\n\n                UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken = new UsernamePasswordAuthenticationToken(\n                        userDetails, null, userDetails.getAuthorities());\n                usernamePasswordAuthenticationToken\n                        .setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n                SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n            }\n        }\n        chain.doFilter(request, response);\n    }\n</code></pre>\n"},{"tags":["java","process","thread-safety","exit-code"],"owner":{"account_id":9080824,"reputation":319,"user_id":7397926,"display_name":"Linuxea"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671190201,"creation_date":1671190201,"question_id":74823845,"body_markdown":"I have a thread designed to run forever.\r\n\r\nBut I want to shut down it gracefully when the program receives an int signal.\r\n\r\nI try to use `runtime.addShutdownHook()` to solve it.\r\n\r\nThis is my code:\r\n```java\r\nimport java.time.LocalDateTime;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Thread thread = new Thread(() -&gt; {\r\n            while (!Thread.interrupted()) {\r\n                String log = String.format(&quot;hello %d&quot;, LocalDateTime.now().getSecond());\r\n                System.out.println(log);\r\n            }\r\n            System.out.println(&quot;end normally&quot;);\r\n        });\r\n\r\n        thread.start();\r\n\r\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\r\n            System.out.println(&quot;I jvm am done&quot;);\r\n            thread.interrupt();\r\n            try {\r\n                thread.join();\r\n            } catch (InterruptedException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }));\r\n\r\n\r\n//        Signal.handle(new Signal(&quot;INT&quot;), signal -&gt; {\r\n//            System.out.println(signal.getName() + &quot; (&quot; + signal.getNumber() + &quot;)&quot;);\r\n//            thread.interrupt();\r\n//            try {\r\n//                thread.join();\r\n//            } catch (InterruptedException e) {\r\n//                throw new RuntimeException(e);\r\n//            }\r\n//        });\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nAs you can see.\r\n\r\nThe `thread` can exit normally.\r\n\r\nBut I got the non-zero exit code!\r\n\r\n```\r\nProcess finished with exit code 130\r\n```\r\n\r\nI don&#39;t know why and how to get a zero exit code.\r\n\r\n\r\nI try to use another way:\r\n```java\r\nSignal.handle(new Signal(&quot;INT&quot;), signal -&gt; {...}\r\n```\r\n\r\nIt works! I got the zero exit code and it also works correctly.\r\n\r\n\r\nBut I don&#39;t know what is wrong with the `shutdown hook`.\r\n\r\nI think it&#39;s the best way to deal with the graceful shutdown because I don&#39;t need to process all kinds of signals such as SIGHUP, SIGQUIT, and so on.\r\n\r\n\r\n","title":"How to get a program zero exit code with the help of runtime.addShutdownhook?","body":"<p>I have a thread designed to run forever.</p>\n<p>But I want to shut down it gracefully when the program receives an int signal.</p>\n<p>I try to use <code>runtime.addShutdownHook()</code> to solve it.</p>\n<p>This is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDateTime;\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        Thread thread = new Thread(() -&gt; {\n            while (!Thread.interrupted()) {\n                String log = String.format(&quot;hello %d&quot;, LocalDateTime.now().getSecond());\n                System.out.println(log);\n            }\n            System.out.println(&quot;end normally&quot;);\n        });\n\n        thread.start();\n\n        Runtime.getRuntime().addShutdownHook(new Thread(() -&gt; {\n            System.out.println(&quot;I jvm am done&quot;);\n            thread.interrupt();\n            try {\n                thread.join();\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        }));\n\n\n//        Signal.handle(new Signal(&quot;INT&quot;), signal -&gt; {\n//            System.out.println(signal.getName() + &quot; (&quot; + signal.getNumber() + &quot;)&quot;);\n//            thread.interrupt();\n//            try {\n//                thread.join();\n//            } catch (InterruptedException e) {\n//                throw new RuntimeException(e);\n//            }\n//        });\n\n\n    }\n}\n</code></pre>\n<p>As you can see.</p>\n<p>The <code>thread</code> can exit normally.</p>\n<p>But I got the non-zero exit code!</p>\n<pre><code>Process finished with exit code 130\n</code></pre>\n<p>I don't know why and how to get a zero exit code.</p>\n<p>I try to use another way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Signal.handle(new Signal(&quot;INT&quot;), signal -&gt; {...}\n</code></pre>\n<p>It works! I got the zero exit code and it also works correctly.</p>\n<p>But I don't know what is wrong with the <code>shutdown hook</code>.</p>\n<p>I think it's the best way to deal with the graceful shutdown because I don't need to process all kinds of signals such as SIGHUP, SIGQUIT, and so on.</p>\n"},{"tags":["java","date","datetime","java-8","timezone"],"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":2,"creation_date":1671190268,"post_id":74823830,"comment_id":132050686,"body_markdown":"I recommend you keep it in UTC. Also, do not use the error-prone legacy date-time API. Check [this answer](https://stackoverflow.com/a/67752047/10819573) and [this answer](https://stackoverflow.com/a/67505173/10819573) to learn how to use `java.time` API with JDBC.","body":"I recommend you keep it in UTC. Also, do not use the error-prone legacy date-time API. Check <a href=\"https://stackoverflow.com/a/67752047/10819573\">this answer</a> and <a href=\"https://stackoverflow.com/a/67505173/10819573\">this answer</a> to learn how to use <code>java.time</code> API with JDBC."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1671190538,"post_id":74823830,"comment_id":132050779,"body_markdown":"[This](https://stackoverflow.com/q/67918503/10819573) and [this](https://stackoverflow.com/q/30651210/10819573) can also be helpful to you.","body":"<a href=\"https://stackoverflow.com/q/67918503/10819573\">This</a> and <a href=\"https://stackoverflow.com/q/30651210/10819573\">this</a> can also be helpful to you."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1671203992,"post_id":74823830,"comment_id":132055358,"body_markdown":"A time zone aware datetime object in Java is a `ZonedDateTime` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"A time zone aware datetime object in Java is a <code>ZonedDateTime</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1671221427,"post_id":74823830,"comment_id":132060518,"body_markdown":"I strongly recommend you don’t use `Date`, `Calendar` and `SimpleDateFormat`. Those classes are poorly designed and long outdated, the last in particular notoriously troublesome. Instead as hinted use `ZonedDateTime` and `ZoneId`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>Date</code>, <code>Calendar</code> and <code>SimpleDateFormat</code>. Those classes are poorly designed and long outdated, the last in particular notoriously troublesome. Instead as hinted use <code>ZonedDateTime</code> and <code>ZoneId</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."}],"owner":{"account_id":6074821,"reputation":593,"user_id":4742511,"accept_rate":21,"display_name":"TheCurious"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671190124,"creation_date":1671190124,"question_id":74823830,"body_markdown":"My Server is running on UTC timezone, I want to save time of any operation in database in IST format, I tried various ways including following.\r\n\r\n    Date ISTDate = Calendar.getInstance(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;)).getTime();\r\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;));\r\n    jobRepository.save(new IncremetalJob(ISTDate,ISTDate, JobState.IN_PROGRESS));\r\n\r\n\r\nEverytime UTC date is being saved, can someone suggest here.","title":"Date Object in different Timezone other than servers default timezone | Timezone aware datetime object in java","body":"<p>My Server is running on UTC timezone, I want to save time of any operation in database in IST format, I tried various ways including following.</p>\n<pre><code>Date ISTDate = Calendar.getInstance(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;)).getTime();\nTimeZone.setDefault(TimeZone.getTimeZone(&quot;Asia/Kolkata&quot;));\njobRepository.save(new IncremetalJob(ISTDate,ISTDate, JobState.IN_PROGRESS));\n</code></pre>\n<p>Everytime UTC date is being saved, can someone suggest here.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1671189248,"post_id":74823634,"comment_id":132050349,"body_markdown":"What&#39;s the output of your code snippet and why doesn&#39;t it meet your requirements?","body":"What&#39;s the output of your code snippet and why doesn&#39;t it meet your requirements?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1671189360,"post_id":74823634,"comment_id":132050377,"body_markdown":"You haven&#39;t asked a question.","body":"You haven&#39;t asked a question."},{"owner":{"account_id":26436871,"reputation":3,"user_id":20082092,"display_name":"AkshayP"},"score":0,"creation_date":1671189526,"post_id":74823634,"comment_id":132050447,"body_markdown":"If it found matched extension it will call particular method","body":"If it found matched extension it will call particular method"}],"answers":[{"tags":[],"owner":{"account_id":12732679,"reputation":7866,"user_id":9248718,"display_name":"Some random IT boy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671189561,"creation_date":1671189561,"answer_id":74823707,"question_id":74823634,"body_markdown":"What you wanna do is:\r\n\r\n1. Iterate through all files into a directory (which you have done)\r\n2. Check if it has a certain extension (it ends with a certain string)\r\n3. Print the file name if that matches.\r\n\r\n```java\r\npublic class Main {\r\n\r\n  // Here we have a constant containing the interesting file extensions\r\n  public static final String[] extensions = new[] { &quot;.txt&quot;, &quot;.doc&quot; };\r\n\r\n  // This helper function will tell us whether \r\n  // a file has one of the interesting file extensions\r\n  public static boolean matchesExtension(File file) {\r\n    for(String ext : extensions) {\r\n      if(file.getName().endsWith(ext)) { \r\n         return true; \r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n\r\n  public static void main(String[] args) {\r\n        String folderpath = &quot;G:\\\\AE_IntegrationComp&quot;;\r\n        File directory = new File(folderpath);\r\n        // Iterate through all files in the directory\r\n        for(File file : directory.listFiles()){\r\n            if(matchesExtension(file)){\r\n                System.out.println(file.getName());\r\n            }\r\n        }\r\n\r\n  }\r\n}\r\n\r\n```","title":"I have to filter files from Directory which matches the same file extension from ArrayList which I added","body":"<p>What you wanna do is:</p>\n<ol>\n<li>Iterate through all files into a directory (which you have done)</li>\n<li>Check if it has a certain extension (it ends with a certain string)</li>\n<li>Print the file name if that matches.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n  // Here we have a constant containing the interesting file extensions\n  public static final String[] extensions = new[] { &quot;.txt&quot;, &quot;.doc&quot; };\n\n  // This helper function will tell us whether \n  // a file has one of the interesting file extensions\n  public static boolean matchesExtension(File file) {\n    for(String ext : extensions) {\n      if(file.getName().endsWith(ext)) { \n         return true; \n      }\n    }\n    return false;\n  }\n\n\n  public static void main(String[] args) {\n        String folderpath = &quot;G:\\\\AE_IntegrationComp&quot;;\n        File directory = new File(folderpath);\n        // Iterate through all files in the directory\n        for(File file : directory.listFiles()){\n            if(matchesExtension(file)){\n                System.out.println(file.getName());\n            }\n        }\n\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":26436871,"reputation":3,"user_id":20082092,"display_name":"AkshayP"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74823707,"answer_count":1,"score":0,"last_activity_date":1671189921,"creation_date":1671189138,"question_id":74823634,"body_markdown":"```\r\n\t\tString folderpath = &quot;G:\\\\AE_IntegrationComp&quot;;\r\n\t\t//Above is Folder where is Different files are present\r\n\t\t\r\n\t\tList &lt;String&gt;filet = new ArrayList&lt;String&gt;();\r\n\t\tfilet.add(&quot;.txt&quot;);\r\n\t\tfilet.add(&quot;.doc&quot;);\r\n\t\t//extension which I added\r\n\t\t\r\n\t\tfor(String str : filet)\r\n\t\t{\r\n\t\t\t\r\n\t\t}\r\n\t\tFile directory = new File(folderpath);\r\n\t\tfor(File list : directory.listFiles())\r\n\t\t{\r\n\t\t\tif(list.getName().contains(&quot;&quot;))\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(list.getName());\r\n\t\t\t}\r\n\t\t}\r\n```\r\n\r\n\r\nI have to check if Directory is empty or not\r\nif not, \r\nfile extension in Arraylist should matched with extensions Are available in Directory\r\nand print files that matched","title":"I have to filter files from Directory which matches the same file extension from ArrayList which I added","body":"<pre><code>        String folderpath = &quot;G:\\\\AE_IntegrationComp&quot;;\n        //Above is Folder where is Different files are present\n        \n        List &lt;String&gt;filet = new ArrayList&lt;String&gt;();\n        filet.add(&quot;.txt&quot;);\n        filet.add(&quot;.doc&quot;);\n        //extension which I added\n        \n        for(String str : filet)\n        {\n            \n        }\n        File directory = new File(folderpath);\n        for(File list : directory.listFiles())\n        {\n            if(list.getName().contains(&quot;&quot;))\n            {\n                System.out.println(list.getName());\n            }\n        }\n</code></pre>\n<p>I have to check if Directory is empty or not\nif not,\nfile extension in Arraylist should matched with extensions Are available in Directory\nand print files that matched</p>\n"},{"tags":["java","jdeps"],"owner":{"account_id":11659,"reputation":53279,"user_id":22595,"accept_rate":77,"display_name":"Michał Niklas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671189771,"creation_date":1671189771,"question_id":74823750,"body_markdown":"I want to use `jdeps` for all jars my application use. I use BouncyCastle but the only jar I can check is `bcprov-ext-jdk18on-172.jar`. `jdeps` raises `java.lang.module.FindException` for other BC jars. I added all BC jars to the class path.\r\n\r\nJars I want to check:\r\n\r\n\t[mn:/~jars] ls -l bc*.jar\r\n\t-rw-r--r--. 1 mn mn   110869 09-26 09:33 bcmail-jdk18on-172.jar\r\n\t-rw-r--r--. 1 mn mn  1009047 09-26 09:33 bcpkix-jdk18on-172.jar\r\n\t-rw-r--r--. 1 mn mn 11346792 09-26 09:32 bcprov-ext-jdk18on-172.jar\r\n\t-rw-r--r--. 1 mn mn   672170 09-26 09:33 bcutil-jdk18on-172.jar\r\n\r\n\r\njdeps I use:\r\n\r\n\t[mn:/~jars] jdeps -version\r\n\t17.0.5\r\n\r\nSuccessful checking of `bcprov-ext-jdk18on-172.jar`:\r\n\r\n\t[mn:/jars] jdeps --multi-release 9 -cp bcmail-jdk18on-172.jar:bcpkix-jdk18on-172.jar:bcprov-ext-jdk18on-172.jar:bcutil-jdk18on-172.jar bcprov-ext-jdk18on-172.jar\r\n\tWarning: split package: org.bouncycastle file:///home/mn/jars/bcprov-ext-jdk18on-172.jar bcprov-ext-jdk18on-172.jar\r\n\tWarning: split package: org.bouncycastle.asn1 file:///home/mn/jars/bcprov-ext-jdk18on-172.jar bcprov-ext-jdk18on-172.jar\r\n\t...\r\n\tWarning: split package: org.bouncycastle.x509.util file:///home/mn/jars/bcprov-ext-jdk18on-172.jar bcprov-ext-jdk18on-172.jar\r\n\torg.bouncycastle.provider\r\n\t [file:///home/mn/jars/bcprov-ext-jdk18on-172.jar]\r\n\t   requires mandated java.base (@9.0.4)\r\n\t   requires java.naming (@9.0.4)\r\n\t   requires java.sql (@9.0.4)\r\n\torg.bouncycastle.provider -&gt; java.base\r\n\torg.bouncycastle.provider -&gt; java.logging\r\n\torg.bouncycastle.provider -&gt; java.naming\r\n\torg.bouncycastle.provider -&gt; java.sql\r\n\t...\r\n\t   org.bouncycastle.x509.util                         -&gt; javax.security.auth.x500                           java.base\r\n\t   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.asn1                              org.bouncycastle.provider\r\n\t   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.asn1.x509                         org.bouncycastle.provider\r\n\t   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.jce                               org.bouncycastle.provider\r\n\t   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.jce.provider                      org.bouncycastle.provider\r\n\t   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.util                              org.bouncycastle.provider\r\n\t   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.x509                              org.bouncycastle.provider\r\n\r\n\r\nFailed checking of `bcmail-jdk18on-172.jar`:\r\n\r\n\t[mn:/~jars] jdeps --multi-release 9 -cp bcmail-jdk18on-172.jar:bcpkix-jdk18on-172.jar:bcprov-ext-jdk18on-172.jar:bcutil-jdk18on-172.jar bcmail-jdk18on-172.jar\r\n\tException in thread &quot;main&quot; java.lang.module.FindException: Module org.bouncycastle.pkix not found, required by org.bouncycastle.mail\r\n\t\tat java.base/java.lang.module.Resolver.findFail(Resolver.java:893)\r\n\t\tat java.base/java.lang.module.Resolver.resolve(Resolver.java:192)\r\n\t\tat java.base/java.lang.module.Resolver.resolve(Resolver.java:141)\r\n\t\tat java.base/java.lang.module.Configuration.resolve(Configuration.java:421)\r\n\t\tat java.base/java.lang.module.Configuration.resolve(Configuration.java:255)\r\n\t\tat jdk.jdeps/com.sun.tools.jdeps.JdepsConfiguration$Builder.build(JdepsConfiguration.java:564)\r\n\t\tat jdk.jdeps/com.sun.tools.jdeps.JdepsTask.buildConfig(JdepsTask.java:603)\r\n\t\tat jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:557)\r\n\t\tat jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\r\n\t\tat jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\r\n\r\n\r\nAm I missing some `jdeps` option?","title":"Why jdeps fails while checking some libraries?","body":"<p>I want to use <code>jdeps</code> for all jars my application use. I use BouncyCastle but the only jar I can check is <code>bcprov-ext-jdk18on-172.jar</code>. <code>jdeps</code> raises <code>java.lang.module.FindException</code> for other BC jars. I added all BC jars to the class path.</p>\n<p>Jars I want to check:</p>\n<pre><code>[mn:/~jars] ls -l bc*.jar\n-rw-r--r--. 1 mn mn   110869 09-26 09:33 bcmail-jdk18on-172.jar\n-rw-r--r--. 1 mn mn  1009047 09-26 09:33 bcpkix-jdk18on-172.jar\n-rw-r--r--. 1 mn mn 11346792 09-26 09:32 bcprov-ext-jdk18on-172.jar\n-rw-r--r--. 1 mn mn   672170 09-26 09:33 bcutil-jdk18on-172.jar\n</code></pre>\n<p>jdeps I use:</p>\n<pre><code>[mn:/~jars] jdeps -version\n17.0.5\n</code></pre>\n<p>Successful checking of <code>bcprov-ext-jdk18on-172.jar</code>:</p>\n<pre><code>[mn:/jars] jdeps --multi-release 9 -cp bcmail-jdk18on-172.jar:bcpkix-jdk18on-172.jar:bcprov-ext-jdk18on-172.jar:bcutil-jdk18on-172.jar bcprov-ext-jdk18on-172.jar\nWarning: split package: org.bouncycastle file:///home/mn/jars/bcprov-ext-jdk18on-172.jar bcprov-ext-jdk18on-172.jar\nWarning: split package: org.bouncycastle.asn1 file:///home/mn/jars/bcprov-ext-jdk18on-172.jar bcprov-ext-jdk18on-172.jar\n...\nWarning: split package: org.bouncycastle.x509.util file:///home/mn/jars/bcprov-ext-jdk18on-172.jar bcprov-ext-jdk18on-172.jar\norg.bouncycastle.provider\n [file:///home/mn/jars/bcprov-ext-jdk18on-172.jar]\n   requires mandated java.base (@9.0.4)\n   requires java.naming (@9.0.4)\n   requires java.sql (@9.0.4)\norg.bouncycastle.provider -&gt; java.base\norg.bouncycastle.provider -&gt; java.logging\norg.bouncycastle.provider -&gt; java.naming\norg.bouncycastle.provider -&gt; java.sql\n...\n   org.bouncycastle.x509.util                         -&gt; javax.security.auth.x500                           java.base\n   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.asn1                              org.bouncycastle.provider\n   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.asn1.x509                         org.bouncycastle.provider\n   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.jce                               org.bouncycastle.provider\n   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.jce.provider                      org.bouncycastle.provider\n   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.util                              org.bouncycastle.provider\n   org.bouncycastle.x509.util                         -&gt; org.bouncycastle.x509                              org.bouncycastle.provider\n</code></pre>\n<p>Failed checking of <code>bcmail-jdk18on-172.jar</code>:</p>\n<pre><code>[mn:/~jars] jdeps --multi-release 9 -cp bcmail-jdk18on-172.jar:bcpkix-jdk18on-172.jar:bcprov-ext-jdk18on-172.jar:bcutil-jdk18on-172.jar bcmail-jdk18on-172.jar\nException in thread &quot;main&quot; java.lang.module.FindException: Module org.bouncycastle.pkix not found, required by org.bouncycastle.mail\n    at java.base/java.lang.module.Resolver.findFail(Resolver.java:893)\n    at java.base/java.lang.module.Resolver.resolve(Resolver.java:192)\n    at java.base/java.lang.module.Resolver.resolve(Resolver.java:141)\n    at java.base/java.lang.module.Configuration.resolve(Configuration.java:421)\n    at java.base/java.lang.module.Configuration.resolve(Configuration.java:255)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsConfiguration$Builder.build(JdepsConfiguration.java:564)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.buildConfig(JdepsTask.java:603)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:557)\n    at jdk.jdeps/com.sun.tools.jdeps.JdepsTask.run(JdepsTask.java:533)\n    at jdk.jdeps/com.sun.tools.jdeps.Main.main(Main.java:49)\n</code></pre>\n<p>Am I missing some <code>jdeps</code> option?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1539066938,"post_id":52714663,"comment_id":92354880,"body_markdown":"Shouldn&#39;t be /bin/bash?. Seems you don&#39;t have such shell. Also you are using Windows generated/modified file (^M is &quot;newline&quot; on windows) on linux. Try to get rid of it from script (if you are possitive that you have such shell)","body":"Shouldn&#39;t be /bin/bash?. Seems you don&#39;t have such shell. Also you are using Windows generated/modified file (^M is &quot;newline&quot; on windows) on linux. Try to get rid of it from script (if you are possitive that you have such shell)"},{"owner":{"account_id":10661768,"reputation":9328,"user_id":7849549,"accept_rate":44,"display_name":"Shubham Dixit"},"score":0,"creation_date":1539066941,"post_id":52714663,"comment_id":92354884,"body_markdown":"are you running this command from the directory where pom.xml lies?","body":"are you running this command from the directory where pom.xml lies?"},{"owner":{"account_id":14481304,"reputation":85,"user_id":10460462,"display_name":"Sakthi"},"score":0,"creation_date":1539067348,"post_id":52714663,"comment_id":92355059,"body_markdown":"yes I am running from that directory @JaiDixit","body":"yes I am running from that directory @JaiDixit"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1539070024,"post_id":52714663,"comment_id":92356382,"body_markdown":"`^M`= Ctrl-M = ASCII 13 (M being the 13th letter) = CR, `\\r`. Where CR+LF, `\\r\\n` is the Windows line ending as opposed to `\\n` for MacOSX, Linux and more. You might edit mvnw and remove then `\\r`s.","body":"<code>^M</code>= Ctrl-M = ASCII 13 (M being the 13th letter) = CR, <code>\\r</code>. Where CR+LF, <code>\\r\\n</code> is the Windows line ending as opposed to <code>\\n</code> for MacOSX, Linux and more. You might edit mvnw and remove then <code>\\r</code>s."},{"owner":{"account_id":14481304,"reputation":85,"user_id":10460462,"display_name":"Sakthi"},"score":0,"creation_date":1539075239,"post_id":52714663,"comment_id":92359439,"body_markdown":"I got it, changed to MacOSx @JoopEggen,@Antoniossss","body":"I got it, changed to MacOSx @JoopEggen,@Antoniossss"}],"answers":[{"tags":[],"owner":{"account_id":1316676,"reputation":422,"user_id":1263347,"display_name":"Rans"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539068248,"creation_date":1539067846,"answer_id":52714908,"question_id":52714663,"body_markdown":"The error suggests that the mvnw file is not there. Go to your maven project which you need to build and then run mvnw like bellow by pointing to the path of mvnw. \r\n\r\nsh /home/user/maven-wrapper-master/mvnw clean install\r\n\r\nOr else copy the mvnw file into the maven project directory. ","title":"How to avoid this error No such file or directory when run maven","body":"<p>The error suggests that the mvnw file is not there. Go to your maven project which you need to build and then run mvnw like bellow by pointing to the path of mvnw. </p>\n\n<p>sh /home/user/maven-wrapper-master/mvnw clean install</p>\n\n<p>Or else copy the mvnw file into the maven project directory. </p>\n"},{"comments":[{"owner":{"account_id":1387645,"reputation":7926,"user_id":1319284,"accept_rate":69,"display_name":"kutschkem"},"score":0,"creation_date":1588834366,"post_id":52715371,"comment_id":109053207,"body_markdown":"The way you can tell this is by the ^M at the end.","body":"The way you can tell this is by the ^M at the end."}],"tags":[],"owner":{"account_id":4994171,"reputation":2831,"user_id":4015372,"display_name":"OhleC"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1539069589,"creation_date":1539069589,"answer_id":52715371,"question_id":52714663,"body_markdown":"It looks like your bash gets confused by DOS line endings. [This post](https://stackoverflow.com/questions/6373888/converting-newline-formatting-from-mac-to-windows) goes into some detail on how to handle those on MacOS","title":"How to avoid this error No such file or directory when run maven","body":"<p>It looks like your bash gets confused by DOS line endings. <a href=\"https://stackoverflow.com/questions/6373888/converting-newline-formatting-from-mac-to-windows\">This post</a> goes into some detail on how to handle those on MacOS</p>\n"},{"comments":[{"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"score":0,"creation_date":1692937757,"post_id":52717090,"comment_id":135695159,"body_markdown":"This worked for me +1","body":"This worked for me +1"}],"tags":[],"owner":{"account_id":14481304,"reputation":85,"user_id":10460462,"display_name":"Sakthi"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539075504,"creation_date":1539075504,"answer_id":52717090,"question_id":52714663,"body_markdown":"I tried `dos2unix filename` it works. For using this command we have to install dos2unix \r\n\r\nThis is the link for install\r\n\r\nhttps://symwisedownload.symantec.com//resources/sites/SYMWISE/content/live/SOLUTIONS/228000/TECH228385/en_US/dos2unix-5.3.3-0.pkg?__gda__=1539204692_786de4ebe956ae8f24de673f5398dd64","title":"How to avoid this error No such file or directory when run maven","body":"<p>I tried <code>dos2unix filename</code> it works. For using this command we have to install dos2unix </p>\n\n<p>This is the link for install</p>\n\n<p><a href=\"https://symwisedownload.symantec.com//resources/sites/SYMWISE/content/live/SOLUTIONS/228000/TECH228385/en_US/dos2unix-5.3.3-0.pkg?__gda__=1539204692_786de4ebe956ae8f24de673f5398dd64\" rel=\"nofollow noreferrer\">https://symwisedownload.symantec.com//resources/sites/SYMWISE/content/live/SOLUTIONS/228000/TECH228385/en_US/dos2unix-5.3.3-0.pkg?<strong>gda</strong>=1539204692_786de4ebe956ae8f24de673f5398dd64</a></p>\n"},{"tags":[],"owner":{"account_id":2886411,"reputation":103,"user_id":2476180,"display_name":"shubh_ansh"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1588834066,"creation_date":1588834066,"answer_id":61651515,"question_id":52714663,"body_markdown":"I had the same error as you, installing mvn wrapper in the following way worked for me.\r\n\r\n    mvn -N io.takari:maven:wrapper\r\n\r\nThen cd to the folder where pom.xml file is, and then re-run the ./mvnw command\r\n","title":"How to avoid this error No such file or directory when run maven","body":"<p>I had the same error as you, installing mvn wrapper in the following way worked for me.</p>\n\n<pre><code>mvn -N io.takari:maven:wrapper\n</code></pre>\n\n<p>Then cd to the folder where pom.xml file is, and then re-run the ./mvnw command</p>\n"},{"tags":[],"owner":{"account_id":25968077,"reputation":1,"user_id":19683749,"display_name":"vladelleus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671189089,"creation_date":1671189089,"answer_id":74823625,"question_id":52714663,"body_markdown":"I had the same error, so in this situation ./mvnw doesn`t work, but I tried to write the absolute path to the mvnw file and it works! So try it!","title":"How to avoid this error No such file or directory when run maven","body":"<p>I had the same error, so in this situation ./mvnw doesn`t work, but I tried to write the absolute path to the mvnw file and it works! So try it!</p>\n"}],"owner":{"account_id":14481304,"reputation":85,"user_id":10460462,"display_name":"Sakthi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15872,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52715371,"answer_count":5,"score":4,"last_activity_date":1671189089,"creation_date":1539066705,"question_id":52714663,"body_markdown":"I have Backend codes and APIs in a folder I download it from mail. I am using Mac OS.\r\n\r\nBut when I run `./mvnw` in terminal I got the error\r\n\r\n`-bash: ./mvnw: /bin/sh^M: bad interpreter: No such file or directory`\r\n\r\nHow to overcome this error?","title":"How to avoid this error No such file or directory when run maven","body":"<p>I have Backend codes and APIs in a folder I download it from mail. I am using Mac OS.</p>\n\n<p>But when I run <code>./mvnw</code> in terminal I got the error</p>\n\n<p><code>-bash: ./mvnw: /bin/sh^M: bad interpreter: No such file or directory</code></p>\n\n<p>How to overcome this error?</p>\n"},{"tags":["java","network-programming","jax-ws","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1647359297,"post_id":71470751,"comment_id":126348777,"body_markdown":"What container are you running in? It&#39;s possible there was a bug fix for this. Maybe related to https://issues.redhat.com/browse/RESTEASY-1715.","body":"What container are you running in? It&#39;s possible there was a bug fix for this. Maybe related to <a href=\"https://issues.redhat.com/browse/RESTEASY-1715\" rel=\"nofollow noreferrer\">issues.redhat.com/browse/RESTEASY-1715</a>."},{"owner":{"account_id":12536413,"reputation":41,"user_id":9122960,"display_name":"Stefano M."},"score":0,"creation_date":1647447771,"post_id":71470751,"comment_id":126375301,"body_markdown":"@JamesR.Perkins yeah this could be my error. I am using an adoptopenjdk:8-hotspot dockerimage. How can i fix my problem :)?","body":"@JamesR.Perkins yeah this could be my error. I am using an adoptopenjdk:8-hotspot dockerimage. How can i fix my problem :)?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1647454912,"post_id":71470751,"comment_id":126378147,"body_markdown":"What container are you running in? If a non-Jakarta EE container can you try a newer version like 3.15.2.Final?","body":"What container are you running in? If a non-Jakarta EE container can you try a newer version like 3.15.2.Final?"},{"owner":{"account_id":12536413,"reputation":41,"user_id":9122960,"display_name":"Stefano M."},"score":0,"creation_date":1647513330,"post_id":71470751,"comment_id":126392236,"body_markdown":"@JamesR.Perkins I am using a Wildfly 20.0.1-FINAL. If I want to update Resteasy to Version 4.x.x I have to use a Wildfly 25.0.1-FINAL, but I can&#39;t migrate it that easy. Is there is different way to update Resteasy?","body":"@JamesR.Perkins I am using a Wildfly 20.0.1-FINAL. If I want to update Resteasy to Version 4.x.x I have to use a Wildfly 25.0.1-FINAL, but I can&#39;t migrate it that easy. Is there is different way to update Resteasy?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1647527553,"post_id":71470751,"comment_id":126397670,"body_markdown":"Upgrading to 4.x would be a bit trickier. You can upgrade to 3.15.2.Final though https://docs.jboss.org/resteasy/docs/3.15.2.Final/userguide/html/Installation_Configuration.html#upgrading-wildfly.","body":"Upgrading to 4.x would be a bit trickier. You can upgrade to 3.15.2.Final though <a href=\"https://docs.jboss.org/resteasy/docs/3.15.2.Final/userguide/html/Installation_Configuration.html#upgrading-wildfly\" rel=\"nofollow noreferrer\">docs.jboss.org/resteasy/docs/3.15.2.Final/userguide/html/&hellip;</a>."},{"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"score":0,"creation_date":1689754806,"post_id":71470751,"comment_id":135256471,"body_markdown":"@JamesR.Perkins, I am getting the same behaviour with resteasy-client:6.2.4, also it appears only when the application is deployed to docker. Are there any workarounds I can apply?","body":"@JamesR.Perkins, I am getting the same behaviour with resteasy-client:6.2.4, also it appears only when the application is deployed to docker. Are there any workarounds I can apply?"},{"owner":{"account_id":241158,"reputation":9333,"user_id":511804,"accept_rate":56,"display_name":"Alexandr"},"score":0,"creation_date":1689759352,"post_id":71470751,"comment_id":135257502,"body_markdown":"@JamesR.Perkins, I&#39;ve found the issue here: https://access.redhat.com/solutions/6541271 Do you know about the solution, I cannot open it entirely.","body":"@JamesR.Perkins, I&#39;ve found the issue here: <a href=\"https://access.redhat.com/solutions/6541271\" rel=\"nofollow noreferrer\">access.redhat.com/solutions/6541271</a> Do you know about the solution, I cannot open it entirely."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1689786022,"post_id":71470751,"comment_id":135264052,"body_markdown":"Do you set any connection timeouts defined on your client builder?","body":"Do you set any connection timeouts defined on your client builder?"}],"owner":{"account_id":12536413,"reputation":41,"user_id":9122960,"display_name":"Stefano M."},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4778,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1671188885,"creation_date":1647273734,"question_id":71470751,"body_markdown":"Sometimes (happens randomly, sometimes after one Requests and sometimes after 10) my Batch-Job crashes with the following Exception:\r\n```\r\njavax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: org.apache.http.NoHttpResponseException: host_url failed to respond\r\n\tat org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:327)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:443)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:63)\r\n\tat org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.post(ClientInvocationBuilder.java:227)\r\n```\r\nThe exception is triggered from the following code:\r\n```\r\npublic YpspResponse sendRequest(YpspRequest request) {\r\n        return webTarget\r\n                .request(MediaType.APPLICATION_XML)\r\n                .post(Entity.xml(request))\r\n                .readEntity(YpspResponse.class);\r\n    }\r\n```\r\nWebTarget is initialized with this code:\r\n```\r\n            ResteasyClientBuilder builder = new ResteasyClientBuilder()\r\n                    .socketTimeout(30, TimeUnit.SECONDS)\r\n                    .connectTimeout(5, TimeUnit.SECONDS)\r\n                    .connectionPoolSize(500)\r\n                    .keyStore(keyStore, ynetKeystorePassword.toCharArray())\r\n                    .trustStore(trustStore);\r\n\r\n            if (proxyConfiguration.useProxy()){\r\n                logger.info(&quot;{}&quot;, proxyConfiguration.getHost());\r\n                builder.defaultProxy(proxyConfiguration.getHost(), proxyConfiguration.getPort());\r\n            }\r\n\r\n            return builder\r\n                    .build()\r\n                    .target(ynetUrl)\r\n                    .register(messageBodyReader)\r\n                    .register(loggingFilter)\r\n                    .register((ClientRequestFilter) requestContext -&gt; {\r\n                        byte[] auth = (username + &quot;:&quot; + password).getBytes(&quot;UTF-8&quot;);\r\n                        requestContext.getHeaders().putSingle(HttpHeaders.AUTHORIZATION, &quot;BASIC &quot; + Base64.getEncoder().encodeToString(auth));\r\n                        requestContext.getHeaders().putSingle(&quot;version&quot;, &quot;1.1&quot;);\r\n                    });\r\n\r\n```\r\nI am using RESTEASY: 3.12.1.FINAL\r\n\r\nIt appears that the `ResteasyClient` tries to use an already used connection instead of a new one. How can I fix this issue?","title":"RESTEASY004655: Unable to invoke request: org.apache.http.NoHttpResponseException: host_url failed to respond","body":"<p>Sometimes (happens randomly, sometimes after one Requests and sometimes after 10) my Batch-Job crashes with the following Exception:</p>\n<pre><code>javax.ws.rs.ProcessingException: RESTEASY004655: Unable to invoke request: org.apache.http.NoHttpResponseException: host_url failed to respond\n    at org.jboss.resteasy.client.jaxrs.engines.ApacheHttpClient4Engine.invoke(ApacheHttpClient4Engine.java:327)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:443)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocation.invoke(ClientInvocation.java:63)\n    at org.jboss.resteasy.client.jaxrs.internal.ClientInvocationBuilder.post(ClientInvocationBuilder.java:227)\n</code></pre>\n<p>The exception is triggered from the following code:</p>\n<pre><code>public YpspResponse sendRequest(YpspRequest request) {\n        return webTarget\n                .request(MediaType.APPLICATION_XML)\n                .post(Entity.xml(request))\n                .readEntity(YpspResponse.class);\n    }\n</code></pre>\n<p>WebTarget is initialized with this code:</p>\n<pre><code>            ResteasyClientBuilder builder = new ResteasyClientBuilder()\n                    .socketTimeout(30, TimeUnit.SECONDS)\n                    .connectTimeout(5, TimeUnit.SECONDS)\n                    .connectionPoolSize(500)\n                    .keyStore(keyStore, ynetKeystorePassword.toCharArray())\n                    .trustStore(trustStore);\n\n            if (proxyConfiguration.useProxy()){\n                logger.info(&quot;{}&quot;, proxyConfiguration.getHost());\n                builder.defaultProxy(proxyConfiguration.getHost(), proxyConfiguration.getPort());\n            }\n\n            return builder\n                    .build()\n                    .target(ynetUrl)\n                    .register(messageBodyReader)\n                    .register(loggingFilter)\n                    .register((ClientRequestFilter) requestContext -&gt; {\n                        byte[] auth = (username + &quot;:&quot; + password).getBytes(&quot;UTF-8&quot;);\n                        requestContext.getHeaders().putSingle(HttpHeaders.AUTHORIZATION, &quot;BASIC &quot; + Base64.getEncoder().encodeToString(auth));\n                        requestContext.getHeaders().putSingle(&quot;version&quot;, &quot;1.1&quot;);\n                    });\n\n</code></pre>\n<p>I am using RESTEASY: 3.12.1.FINAL</p>\n<p>It appears that the <code>ResteasyClient</code> tries to use an already used connection instead of a new one. How can I fix this issue?</p>\n"},{"tags":["java","processbuilder"],"comments":[{"owner":{"account_id":7753338,"reputation":1218,"user_id":5985343,"display_name":"jmizv"},"score":0,"creation_date":1671182869,"post_id":74822421,"comment_id":132048424,"body_markdown":"Do your commands work when you execute them manually?","body":"Do your commands work when you execute them manually?"},{"owner":{"account_id":20010765,"reputation":27,"user_id":14667826,"display_name":"firemancer"},"score":0,"creation_date":1671183207,"post_id":74822421,"comment_id":132048534,"body_markdown":"@jmizv yes they work manually.","body":"@jmizv yes they work manually."},{"owner":{"account_id":1307867,"reputation":457735,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1671184886,"post_id":74822421,"comment_id":132049035,"body_markdown":"Git itself is not particularly relevant here. For debug purposes you might want to see [this question](https://stackoverflow.com/q/44041082/1256452).","body":"Git itself is not particularly relevant here. For debug purposes you might want to see <a href=\"https://stackoverflow.com/q/44041082/1256452\">this question</a>."}],"answers":[{"tags":[],"owner":{"account_id":3210601,"reputation":516,"user_id":2710704,"display_name":"Tokazio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671184769,"creation_date":1671184769,"answer_id":74822836,"question_id":74822421,"body_markdown":"Maybe i can suggest you an other solution, You could use jgit and java directly to do these tasks from java directly\r\n\r\nFor example (not tested)\r\n\r\n    FileRepositoryBuilder repositoryBuilder = new FileRepositoryBuilder();\r\n    repositoryBuilder.setMustExist( true );\r\n    repositoryBuilder.setGitDir( ... );\r\n    Repository repository = repositoryBuilder.build();\r\n\r\n\r\n    Ref ref = repository.checkout().\r\n        setCreateBranch(true).\r\n        setName(&quot;branchName&quot;).\r\n        setUpstreamMode(CreateBranchCommand.SetupUpstreamMode.TRACK).\r\n        setStartPoint(&quot;origin/&quot; + branchName).\r\n        call();","title":"Java ProcessBuilder not executing git checkout command","body":"<p>Maybe i can suggest you an other solution, You could use jgit and java directly to do these tasks from java directly</p>\n<p>For example (not tested)</p>\n<pre><code>FileRepositoryBuilder repositoryBuilder = new FileRepositoryBuilder();\nrepositoryBuilder.setMustExist( true );\nrepositoryBuilder.setGitDir( ... );\nRepository repository = repositoryBuilder.build();\n\n\nRef ref = repository.checkout().\n    setCreateBranch(true).\n    setName(&quot;branchName&quot;).\n    setUpstreamMode(CreateBranchCommand.SetupUpstreamMode.TRACK).\n    setStartPoint(&quot;origin/&quot; + branchName).\n    call();\n</code></pre>\n"}],"owner":{"account_id":20010765,"reputation":27,"user_id":14667826,"display_name":"firemancer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671188779,"creation_date":1671182465,"question_id":74822421,"body_markdown":"I want to execute 4 commands using ProcessBuilder however 2nd command is not working properly. \r\n\r\nMy code:\r\n```\r\npublic static void main(String[] args) {\r\n    String path_prj = &quot;C:\\\\Users\\\\asali\\\\Desktop\\\\CallRepoCode&quot;;\r\n    String origBranch = &quot;frontend&quot;;\r\n\r\n    ArrayList&lt;String&gt; paths = new ArrayList&lt;&gt;();\r\n    paths.add(&quot;server\\\\src\\\\main\\\\java\\\\org\\\\classes\\\\CallManager.java&quot;);\r\n    paths.add(&quot;server\\\\src\\\\main\\\\java\\\\org\\\\classes\\\\CallUtils.java&quot;);\r\n    paths.add(&quot;server\\\\src\\\\main\\\\java\\\\org\\\\classes\\\\Main.java&quot;);\r\n\r\n    String command_1 = &quot;cd &quot; + path_prj;\r\n    String command_2 = &quot; &amp; git checkout &quot; + origBranch;\r\n    String command_3 = &quot; &amp; mkdir updated_cia_files &quot;;\r\n    String command_4 = &quot; &quot;;\r\n    for (String path: paths) {\r\n        command_4 = command_4 + &quot;&amp; copy &quot; + path + &quot; updated_cia_files &quot;;\r\n    }\r\n\r\n    String[] command = {&quot;cmd.exe&quot;, &quot;/C&quot;, command_1, command_2, command_3, command_4 };\r\n    ProcessBuilder processBuilder = new ProcessBuilder(command);\r\n\r\n    processBuilder.start();\r\n\r\n}\r\n``` \r\n\r\nBasically, I want to go to the `C:\\\\Users\\\\asali\\\\Desktop\\\\CallRepoCode` and checkout to the `frontend` branch. There is a GitHub repo, so it should work. After checkout, I want to create a folder and copy 3 files to that folder.\r\n\r\nI successfully create the folder and copy the files; however local repo does not checkout to the frontend branch.\r\n\r\n## EDIT ##\r\n1. My command works when I run it manually on cmd.\r\n2. When I remove the command_3 and command_4 on the code, it executes the git checkout command. ","title":"Java ProcessBuilder not executing git checkout command","body":"<p>I want to execute 4 commands using ProcessBuilder however 2nd command is not working properly.</p>\n<p>My code:</p>\n<pre><code>public static void main(String[] args) {\n    String path_prj = &quot;C:\\\\Users\\\\asali\\\\Desktop\\\\CallRepoCode&quot;;\n    String origBranch = &quot;frontend&quot;;\n\n    ArrayList&lt;String&gt; paths = new ArrayList&lt;&gt;();\n    paths.add(&quot;server\\\\src\\\\main\\\\java\\\\org\\\\classes\\\\CallManager.java&quot;);\n    paths.add(&quot;server\\\\src\\\\main\\\\java\\\\org\\\\classes\\\\CallUtils.java&quot;);\n    paths.add(&quot;server\\\\src\\\\main\\\\java\\\\org\\\\classes\\\\Main.java&quot;);\n\n    String command_1 = &quot;cd &quot; + path_prj;\n    String command_2 = &quot; &amp; git checkout &quot; + origBranch;\n    String command_3 = &quot; &amp; mkdir updated_cia_files &quot;;\n    String command_4 = &quot; &quot;;\n    for (String path: paths) {\n        command_4 = command_4 + &quot;&amp; copy &quot; + path + &quot; updated_cia_files &quot;;\n    }\n\n    String[] command = {&quot;cmd.exe&quot;, &quot;/C&quot;, command_1, command_2, command_3, command_4 };\n    ProcessBuilder processBuilder = new ProcessBuilder(command);\n\n    processBuilder.start();\n\n}\n</code></pre>\n<p>Basically, I want to go to the <code>C:\\\\Users\\\\asali\\\\Desktop\\\\CallRepoCode</code> and checkout to the <code>frontend</code> branch. There is a GitHub repo, so it should work. After checkout, I want to create a folder and copy 3 files to that folder.</p>\n<p>I successfully create the folder and copy the files; however local repo does not checkout to the frontend branch.</p>\n<h2>EDIT</h2>\n<ol>\n<li>My command works when I run it manually on cmd.</li>\n<li>When I remove the command_3 and command_4 on the code, it executes the git checkout command.</li>\n</ol>\n"},{"tags":["java","selenium","xpath","css-selectors","webdriverwait"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1671182971,"post_id":74822461,"comment_id":132048459,"body_markdown":"If you use the development mode / html inspector of your browser most of them have a feature that allows you to select an element in html and do &quot;copy-&gt;xpath&quot; or &quot;copy-&gt;CSS selector&quot; to get a selector. For example: https://stackoverflow.com/questions/41857614/how-to-find-xpath-of-an-element-in-firefox-inspector","body":"If you use the development mode / html inspector of your browser most of them have a feature that allows you to select an element in html and do &quot;copy-&gt;xpath&quot; or &quot;copy-&gt;CSS selector&quot; to get a selector. For example: <a href=\"https://stackoverflow.com/questions/41857614/how-to-find-xpath-of-an-element-in-firefox-inspector\" title=\"how to find xpath of an element in firefox inspector\">stackoverflow.com/questions/41857614/&hellip;</a>"},{"owner":{"account_id":22040484,"reputation":47,"user_id":16306323,"display_name":"loranni"},"score":0,"creation_date":1671183330,"post_id":74822461,"comment_id":132048573,"body_markdown":"I know that I tried with css selector, xpath, id, name but its not working, I mean its working in inspect element I get the yellow marked element but when I put in code it cant recognize the element","body":"I know that I tried with css selector, xpath, id, name but its not working, I mean its working in inspect element I get the yellow marked element but when I put in code it cant recognize the element"}],"answers":[{"comments":[{"owner":{"account_id":22040484,"reputation":47,"user_id":16306323,"display_name":"loranni"},"score":0,"creation_date":1671194704,"post_id":74823383,"comment_id":132052047,"body_markdown":"Thanks man it works :) I just had to change int to Duration in methods you used","body":"Thanks man it works :) I just had to change int to Duration in methods you used"},{"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"score":0,"creation_date":1671195245,"post_id":74823383,"comment_id":132052230,"body_markdown":"Right, `Duration` is used in Selenium 4 while `int` used in Selenium 3.","body":"Right, <code>Duration</code> is used in Selenium 4 while <code>int</code> used in Selenium 3."}],"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671187751,"creation_date":1671187751,"answer_id":74823383,"question_id":74822461,"body_markdown":"On that page you need to hover over the drop-down `div` element to make the drop-down options presented. Then you are able to get the locators of presented options. Here I selected 9-10 size. Of cause before doing all this we need to close the cookies banner. The following code works:\r\n```java\r\ndriver.get(&quot;https://store.liverpoolfc.com/living?productListFilters=&amp;productListPgNo=1&quot;);\r\nWebdriverUtils.clickVisible(driver,By.id(&quot;onetrust-accept-btn-handler&quot;));\r\nWebElement dropDown = WebdriverUtils.waitForVisibilityOfElement(driver,By.xpath(&quot;//div[@class=&#39;kuFilterHead kuCollapse&#39;][contains(.,&#39;Size&#39;)]&quot;));\r\nActions action = new Actions(driver);\r\naction.moveToElement(dropDown).build().perform();\r\nWebdriverUtils.clickVisible(driver,By.cssSelector(&quot;[data-optioncount=&#39;10&#39;] [title=&#39;9-10&#39;] .kuFilterIcon&quot;));\r\n```\r\nThe methods I used here are implemented as following:\r\n```java\r\npublic static boolean clickVisible(WebDriver driver, By locator, int timeout) {\r\n    try {\r\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, timeout);\r\n        wait.until(ExpectedConditions.visibilityOfElementLocated(locator)).click();\r\n        return true;\r\n    } catch (Exception e) {\r\n        ConsoleLogger.error(&quot;Failed to click on element&quot; + e.getMessage());\r\n        return false;\r\n    }\r\n}\r\n```\r\n```java\r\npublic static WebElement waitForVisibilityOfElement(WebDriver driver, By locator, int timeout) {\r\n    try {\r\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, timeout);\r\n        return wait.until(ExpectedConditions.visibilityOfElementLocated(locator));\r\n    } catch (Exception e) {\r\n        ConsoleLogger.error(&quot;Failed to find the element visible&quot; + e.getMessage());\r\n        return null;\r\n    }\r\n}\r\n```\r\nThe result is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/OKFog.png","title":"How do I get Id, className, or CSS Selector from dropdownmenu that is div for selenium in java","body":"<p>On that page you need to hover over the drop-down <code>div</code> element to make the drop-down options presented. Then you are able to get the locators of presented options. Here I selected 9-10 size. Of cause before doing all this we need to close the cookies banner. The following code works:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.get(&quot;https://store.liverpoolfc.com/living?productListFilters=&amp;productListPgNo=1&quot;);\nWebdriverUtils.clickVisible(driver,By.id(&quot;onetrust-accept-btn-handler&quot;));\nWebElement dropDown = WebdriverUtils.waitForVisibilityOfElement(driver,By.xpath(&quot;//div[@class='kuFilterHead kuCollapse'][contains(.,'Size')]&quot;));\nActions action = new Actions(driver);\naction.moveToElement(dropDown).build().perform();\nWebdriverUtils.clickVisible(driver,By.cssSelector(&quot;[data-optioncount='10'] [title='9-10'] .kuFilterIcon&quot;));\n</code></pre>\n<p>The methods I used here are implemented as following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static boolean clickVisible(WebDriver driver, By locator, int timeout) {\n    try {\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, timeout);\n        wait.until(ExpectedConditions.visibilityOfElementLocated(locator)).click();\n        return true;\n    } catch (Exception e) {\n        ConsoleLogger.error(&quot;Failed to click on element&quot; + e.getMessage());\n        return false;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static WebElement waitForVisibilityOfElement(WebDriver driver, By locator, int timeout) {\n    try {\n        Wait&lt;WebDriver&gt; wait = new WebDriverWait(driver, timeout);\n        return wait.until(ExpectedConditions.visibilityOfElementLocated(locator));\n    } catch (Exception e) {\n        ConsoleLogger.error(&quot;Failed to find the element visible&quot; + e.getMessage());\n        return null;\n    }\n}\n</code></pre>\n<p>The result is:</p>\n<p><a href=\"https://i.stack.imgur.com/OKFog.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OKFog.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":22040484,"reputation":47,"user_id":16306323,"display_name":"loranni"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74823383,"answer_count":1,"score":1,"last_activity_date":1671187795,"creation_date":1671182640,"question_id":74822461,"body_markdown":"I tried every tag to get this element but it not working any help on this. \r\n```java\r\nWebElement filterSizeDropdown = driver.findElement(By.cssSelector(&quot;#maincontent &gt; div &gt; div &gt; div.klevuLanding.klevuTarget.kuLEFTFilters.kuSearchResultsPageContainer.kuCategoryPageContainer &gt; div &gt; div &gt; div &gt; div.kuResultsListing &gt; div &gt; div &gt; div &gt; div &gt; section:nth-child(2) &gt; div:nth-child(1) &gt; div.kuDropdown.kuDropItemsPerpage &gt; div.kuDropdownOptions &gt; div:nth-child(2)&quot;));\r\nfilterSizeDropdown.click();\r\n```\r\nHere is my code.\r\n\r\nThe problem is that the dropdown menu is not wrapped in select options. I dont know how to get this item element. Can anyone give me some hints? \r\n\r\nhttps://store.liverpoolfc.com/living?productListFilters=&amp;productListPgNo=1 \r\nHere is the web page that I am testing (it is for university project), I need to get element of Size dropdown and click on some value :) Any help would appreciate","title":"How do I get Id, className, or CSS Selector from dropdownmenu that is div for selenium in java","body":"<p>I tried every tag to get this element but it not working any help on this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>WebElement filterSizeDropdown = driver.findElement(By.cssSelector(&quot;#maincontent &gt; div &gt; div &gt; div.klevuLanding.klevuTarget.kuLEFTFilters.kuSearchResultsPageContainer.kuCategoryPageContainer &gt; div &gt; div &gt; div &gt; div.kuResultsListing &gt; div &gt; div &gt; div &gt; div &gt; section:nth-child(2) &gt; div:nth-child(1) &gt; div.kuDropdown.kuDropItemsPerpage &gt; div.kuDropdownOptions &gt; div:nth-child(2)&quot;));\nfilterSizeDropdown.click();\n</code></pre>\n<p>Here is my code.</p>\n<p>The problem is that the dropdown menu is not wrapped in select options. I dont know how to get this item element. Can anyone give me some hints?</p>\n<p><a href=\"https://store.liverpoolfc.com/living?productListFilters=&amp;productListPgNo=1\" rel=\"nofollow noreferrer\">https://store.liverpoolfc.com/living?productListFilters=&amp;productListPgNo=1</a>\nHere is the web page that I am testing (it is for university project), I need to get element of Size dropdown and click on some value :) Any help would appreciate</p>\n"},{"tags":["java","android","android-studio","file"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634841631,"post_id":69667021,"comment_id":123142130,"body_markdown":"getFilesDir() and getExternalFilesDir().","body":"getFilesDir() and getExternalFilesDir()."},{"owner":{"account_id":16154415,"reputation":35,"user_id":16309660,"display_name":"Rishabh Gupta"},"score":0,"creation_date":1634842273,"post_id":69667021,"comment_id":123142323,"body_markdown":"Thank you for response mate, where i use getFileDir() and getExternalFilesDir(), if i use with Environment then it didn&#39;t show any function and if i used alone then it didn&#39;t exist.","body":"Thank you for response mate, where i use getFileDir() and getExternalFilesDir(), if i use with Environment then it didn&#39;t show any function and if i used alone then it didn&#39;t exist."},{"owner":{"account_id":16154415,"reputation":35,"user_id":16309660,"display_name":"Rishabh Gupta"},"score":0,"creation_date":1634842323,"post_id":69667021,"comment_id":123142340,"body_markdown":"I get the answer, but I feel like it&#39;s unconvensional like - File filePath = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/Android/data/com.rigup.memest/files/Download/&quot;+VideoName);","body":"I get the answer, but I feel like it&#39;s unconvensional like - File filePath = new File(Environment.getExternalStorageDirectory().getAbsolutePa&zwnj;&#8203;th()+&quot;/Android/data/&zwnj;&#8203;com.rigup.memest/fil&zwnj;&#8203;es/Download/&quot;+VideoN&zwnj;&#8203;ame);"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634843222,"post_id":69667021,"comment_id":123142647,"body_markdown":"???? What are you doing? You should only look at absolute path of getFilesDir() and getExternalFilesDir(null). Please tell their values first. You dont need Environment but a Context. In which class did you try them?","body":"???? What are you doing? You should only look at absolute path of getFilesDir() and getExternalFilesDir(null). Please tell their values first. You dont need Environment but a Context. In which class did you try them?"},{"owner":{"account_id":16154415,"reputation":35,"user_id":16309660,"display_name":"Rishabh Gupta"},"score":0,"creation_date":1634843656,"post_id":69667021,"comment_id":123142792,"body_markdown":"Yes, you&#39;re right I&#39;m using different class and I have to use context. Thank you so much for your help.","body":"Yes, you&#39;re right I&#39;m using different class and I have to use context. Thank you so much for your help."}],"answers":[{"comments":[{"owner":{"account_id":16154415,"reputation":35,"user_id":16309660,"display_name":"Rishabh Gupta"},"score":0,"creation_date":1634843297,"post_id":69667386,"comment_id":123142678,"body_markdown":"Thank you soo much, with the help of your code my project is working fine..","body":"Thank you soo much, with the help of your code my project is working fine.."},{"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"score":0,"creation_date":1634843582,"post_id":69667386,"comment_id":123142774,"body_markdown":"I have updated my answer.You can add child by putting comma.Example:File file=new File(getApplicationContext().getFilesDir().getAbsolutePath(),&quot;/Download&quot;+VideoName)","body":"I have updated my answer.You can add child by putting comma.Example:File file=new File(getApplicationContext().getFilesDir().getAbsolutePath()&zwnj;&#8203;,&quot;/Download&quot;+VideoNa&zwnj;&#8203;me)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1634843961,"post_id":69667386,"comment_id":123142911,"body_markdown":"Then do it right: `File file=new File(getApplicationContext().getFilesDir(), &quot;Download/&quot;+VideoName)`.","body":"Then do it right: <code>File file=new File(getApplicationContext().getFilesDir(), &quot;Download&#47;&quot;+VideoName)</code>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1634844158,"post_id":69667386,"comment_id":123142971,"body_markdown":"`File file = new File(getApplicationContext().getFilesDir().getAbsolutePath());` That would be only: `File file = getApplicationContext().getFilesDir();`.","body":"<code>File file = new File(getApplicationContext().getFilesDir().getAbsolutePath()&zwnj;&#8203;);</code> That would be only: <code>File file = getApplicationContext().getFilesDir();</code>."},{"owner":{"account_id":16154415,"reputation":35,"user_id":16309660,"display_name":"Rishabh Gupta"},"score":0,"creation_date":1634844517,"post_id":69667386,"comment_id":123143105,"body_markdown":"Yes you both were right! I run your code blackapps and Danish. And again thanks for so fast reply and efficient answer. I&#39;m trully grateful.","body":"Yes you both were right! I run your code blackapps and Danish. And again thanks for so fast reply and efficient answer. I&#39;m trully grateful."}],"tags":[],"owner":{"account_id":20417309,"reputation":716,"user_id":14979180,"display_name":"Danish"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1634844344,"creation_date":1634842544,"answer_id":69667386,"question_id":69667021,"body_markdown":"Though this is not the write way of getting the package name from your data folder but this can be used as a temporary solution:\r\n \r\n   \r\n    File file=getApplicationContext().getFilesDir();\r\n\r\nThanks to @blackapps for making the solution more simple.","title":"How I get android/data/&quot;package name&quot;/","body":"<p>Though this is not the write way of getting the package name from your data folder but this can be used as a temporary solution:</p>\n<pre><code>File file=getApplicationContext().getFilesDir();\n</code></pre>\n<p>Thanks to @blackapps for making the solution more simple.</p>\n"},{"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671187511,"creation_date":1671187511,"answer_id":74823326,"question_id":69667021,"body_markdown":"- I will describe here which method returns which path.\r\n\r\n| Methods |     Output Path     |\r\n|:---|:---|\r\n| Environment.getDownloadCacheDirectory() | /data/cache |\r\n| Environment.getExternalStorageDirectory() | /storage/emulated/0 |\r\n| CONTEXT.getExternalCacheDirs()[0] | /storage/emulated/0/Android/data/YOUR_PACKAGE/cache |\r\n| CONTEXT.getExternalMediaDirs()[0] | /storage/emulated/0/Android/media/YOUR_PACKAGE |\r\n| CONTEXT.getExternalFilesDir(&quot;DIR_NAME) | /storage/emulated/0/Android/data/YOUR_PACKAGE/files/DIR_NAME |\r\n| CONTEXT.getFilesDir() | /data/user/0/YOUR_PACKAGE/files |\r\n| CONTEXT.getCacheDir() | /data/user/0/YOUR_PACKAGE/cache |","title":"How I get android/data/&quot;package name&quot;/","body":"<ul>\n<li>I will describe here which method returns which path.</li>\n</ul>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Methods</th>\n<th style=\"text-align: left;\">Output Path</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\">Environment.getDownloadCacheDirectory()</td>\n<td style=\"text-align: left;\">/data/cache</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">Environment.getExternalStorageDirectory()</td>\n<td style=\"text-align: left;\">/storage/emulated/0</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CONTEXT.getExternalCacheDirs()[0]</td>\n<td style=\"text-align: left;\">/storage/emulated/0/Android/data/YOUR_PACKAGE/cache</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CONTEXT.getExternalMediaDirs()[0]</td>\n<td style=\"text-align: left;\">/storage/emulated/0/Android/media/YOUR_PACKAGE</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CONTEXT.getExternalFilesDir(&quot;DIR_NAME)</td>\n<td style=\"text-align: left;\">/storage/emulated/0/Android/data/YOUR_PACKAGE/files/DIR_NAME</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CONTEXT.getFilesDir()</td>\n<td style=\"text-align: left;\">/data/user/0/YOUR_PACKAGE/files</td>\n</tr>\n<tr>\n<td style=\"text-align: left;\">CONTEXT.getCacheDir()</td>\n<td style=\"text-align: left;\">/data/user/0/YOUR_PACKAGE/cache</td>\n</tr>\n</tbody>\n</table>\n</div>"}],"owner":{"account_id":16154415,"reputation":35,"user_id":16309660,"display_name":"Rishabh Gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69667386,"answer_count":2,"score":0,"last_activity_date":1671187511,"creation_date":1634840789,"question_id":69667021,"body_markdown":"    File filePath = new File(Environment.getDataDirectory().getAbsolutePath());\r\n\r\nBut i return only /data, so where is /data is located and how i get andrid/data/&quot;package_name&quot;/","title":"How I get android/data/&quot;package name&quot;/","body":"<pre><code>File filePath = new File(Environment.getDataDirectory().getAbsolutePath());\n</code></pre>\n<p>But i return only /data, so where is /data is located and how i get andrid/data/&quot;package_name&quot;/</p>\n"},{"tags":["java","kotlin","mutation-testing","pitest"],"answers":[{"tags":[],"owner":{"account_id":321412,"reputation":5968,"user_id":640224,"accept_rate":71,"display_name":"henry"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671186906,"creation_date":1671175453,"answer_id":74821326,"question_id":74807945,"body_markdown":"There is no built in way to limit mutation to only kotlin files. You would need to implement an mutation interceptor.\r\n\r\nhttps://pitest.org/quickstart/advanced/\r\n\r\nOr use the exclusions functionality provided by the arcmutate extentions to ignore files with a .java extension.\r\n\r\nhttps://docs.arcmutate.com/docs/exclusions.html\r\n\r\n","title":"Pitest mutation testing execute over kotlin files only","body":"<p>There is no built in way to limit mutation to only kotlin files. You would need to implement an mutation interceptor.</p>\n<p><a href=\"https://pitest.org/quickstart/advanced/\" rel=\"nofollow noreferrer\">https://pitest.org/quickstart/advanced/</a></p>\n<p>Or use the exclusions functionality provided by the arcmutate extentions to ignore files with a .java extension.</p>\n<p><a href=\"https://docs.arcmutate.com/docs/exclusions.html\" rel=\"nofollow noreferrer\">https://docs.arcmutate.com/docs/exclusions.html</a></p>\n"}],"owner":{"account_id":1719754,"reputation":1006,"user_id":1575988,"accept_rate":89,"display_name":"j.barrio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74821326,"answer_count":1,"score":0,"last_activity_date":1671186906,"creation_date":1671088402,"question_id":74807945,"body_markdown":"I arrived to a legacy project where multiple files are developed in **Java** and many others in **Kotlin**. I have be able to configure **Pitest** to execute the mutation test and i have a correct report.\r\n\r\nNow I would like to execute the mutation test only over the Kotlin files.\r\n\r\nI tried to use the `&lt;targetClasses&gt;` but the param expresion is able to include certain packages, but I didn&#39;t discover a way to include certain types of files only.\r\n\r\nI also tried to use the `&lt;excludedClasses&gt;` to add there a Java identificator that exclude this type of files, but again it doesn&#39;t work.\r\n\r\nDo you know a way to use the targetClasses or the excludedClasses to let the kotlin files only in the scope of the Pitest execution?\r\n\r\nThank you in advance.","title":"Pitest mutation testing execute over kotlin files only","body":"<p>I arrived to a legacy project where multiple files are developed in <strong>Java</strong> and many others in <strong>Kotlin</strong>. I have be able to configure <strong>Pitest</strong> to execute the mutation test and i have a correct report.</p>\n<p>Now I would like to execute the mutation test only over the Kotlin files.</p>\n<p>I tried to use the <code>&lt;targetClasses&gt;</code> but the param expresion is able to include certain packages, but I didn't discover a way to include certain types of files only.</p>\n<p>I also tried to use the <code>&lt;excludedClasses&gt;</code> to add there a Java identificator that exclude this type of files, but again it doesn't work.</p>\n<p>Do you know a way to use the targetClasses or the excludedClasses to let the kotlin files only in the scope of the Pitest execution?</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":1,"creation_date":1671130156,"post_id":74816164,"comment_id":132037647,"body_markdown":"This other sister site is meant for questions like these, involving testing.  https://sqa.stackexchange.com/","body":"This other sister site is meant for questions like these, involving testing.  <a href=\"https://sqa.stackexchange.com/\">sqa.stackexchange.com</a>"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1671130346,"post_id":74816164,"comment_id":132037713,"body_markdown":"The answer is likely not having a wait command.  Selenium has a bug where it sometimes won&#39;t grab the element if a wait is not implemented.  Search the other site, and you&#39;ll find it.","body":"The answer is likely not having a wait command.  Selenium has a bug where it sometimes won&#39;t grab the element if a wait is not implemented.  Search the other site, and you&#39;ll find it."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1671130456,"post_id":74816164,"comment_id":132037750,"body_markdown":"Hey @MacGyver thanks for commenting!. Is there any other way to name the XPATH?","body":"Hey @MacGyver thanks for commenting!. Is there any other way to name the XPATH?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1671130676,"post_id":74816164,"comment_id":132037835,"body_markdown":"XPath is typically a way of identifying an element without an id.  Used for a site YOU did not develop.  Put ids or classes on the tags of the elements you need to grab in your tests (instead of xpath) and it&#39;ll be easier to store the element.","body":"XPath is typically a way of identifying an element without an id.  Used for a site YOU did not develop.  Put ids or classes on the tags of the elements you need to grab in your tests (instead of xpath) and it&#39;ll be easier to store the element."},{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":0,"creation_date":1671130902,"post_id":74816164,"comment_id":132037915,"body_markdown":"What if you try xpath: `(//a[text()=&#39;Edit&#39;])[1]`? You can replace `[1]` by `[2]`, `[3]` and so on depending on the row number","body":"What if you try xpath: <code>(&#47;&#47;a[text()=&#39;Edit&#39;])[1]</code>? You can replace <code>[1]</code> by <code>[2]</code>, <code>[3]</code> and so on depending on the row number"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1671131333,"post_id":74816164,"comment_id":132038056,"body_markdown":"@MacGyver Take a look. I have edited my thread. Based on what i put, how would you define a getElementsByClass or getElementsById?. I got confused","body":"@MacGyver Take a look. I have edited my thread. Based on what i put, how would you define a getElementsByClass or getElementsById?. I got confused"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1671131377,"post_id":74816164,"comment_id":132038068,"body_markdown":"Hey @JakyRuby why? [1] or [2] is the row or column number?","body":"Hey @JakyRuby why? [1] or [2] is the row or column number?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1671131406,"post_id":74816164,"comment_id":132038084,"body_markdown":"If the tag of the element has a unique id on the web page, use this instead of XPath.  driver.findElement(By.id(&quot;123&quot;)) ... instead of driver.findElement(By.xpath(&quot;x/y/z&quot;)","body":"If the tag of the element has a unique id on the web page, use this instead of XPath.  driver.findElement(By.id(&quot;123&quot;)) ... instead of driver.findElement(By.xpath(&quot;x/y/z&quot;)"},{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":0,"creation_date":1671131449,"post_id":74816164,"comment_id":132038098,"body_markdown":"@new_programmer [1], [2]. [3] will be the row number in my xpath, no the column number.","body":"@new_programmer [1], [2]. [3] will be the row number in my xpath, no the column number."},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1671131698,"post_id":74816164,"comment_id":132038182,"body_markdown":"@MacGyver Why the &quot;id&quot; is not always presented? Why i cannot find it using devs tools or whatever?","body":"@MacGyver Why the &quot;id&quot; is not always presented? Why i cannot find it using devs tools or whatever?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1671131891,"post_id":74816164,"comment_id":132038227,"body_markdown":"If you are not in control of development of the web page (static or dynamic content), then you are left with HTML without unique ids.  If you are testing a page that you or your company developed, then you can change the HTML or source code that rendered the HTML to place a unique id on each row, giving you an opportunity to easily grab the element of the row.","body":"If you are not in control of development of the web page (static or dynamic content), then you are left with HTML without unique ids.  If you are testing a page that you or your company developed, then you can change the HTML or source code that rendered the HTML to place a unique id on each row, giving you an opportunity to easily grab the element of the row."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1671132047,"post_id":74816164,"comment_id":132038283,"body_markdown":"If I were developing this page, I would render a hidden column in the table, where each row would have a hidden td containing a unique id.  Like &quot;tab1-col2-row123&quot;","body":"If I were developing this page, I would render a hidden column in the table, where each row would have a hidden td containing a unique id.  Like &quot;tab1-col2-row123&quot;"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1671132075,"post_id":74816164,"comment_id":132038290,"body_markdown":"@MacGyver thanks for the explanation. I am reading this line &quot;If you are testing a page that you or your company developed, then you can change the HTML or source code that rendered the HTML to place a unique id on each row&quot;. You mean i may tell the developer to &quot;add&quot; ids to each &quot;row&quot;?","body":"@MacGyver thanks for the explanation. I am reading this line &quot;If you are testing a page that you or your company developed, then you can change the HTML or source code that rendered the HTML to place a unique id on each row&quot;. You mean i may tell the developer to &quot;add&quot; ids to each &quot;row&quot;?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":1,"creation_date":1671132128,"post_id":74816164,"comment_id":132038310,"body_markdown":"precisely .. that will make this easier","body":"precisely .. that will make this easier"},{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":1,"creation_date":1671132132,"post_id":74816164,"comment_id":132038314,"body_markdown":"@new_programmer yes, is a good idea to ask developers for adding ids for the elements you will use for your automation","body":"@new_programmer yes, is a good idea to ask developers for adding ids for the elements you will use for your automation"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1671132520,"post_id":74816164,"comment_id":132038447,"body_markdown":"@JakyRuby I got confused in here&quot;a[text()&quot;. Why are you using a letter &quot;a&quot;? Could you please explain is there exist other alternatives thant &quot;text()&quot;?","body":"@JakyRuby I got confused in here&quot;a[text()&quot;. Why are you using a letter &quot;a&quot;? Could you please explain is there exist other alternatives thant &quot;text()&quot;?"},{"owner":{"account_id":13920126,"reputation":1489,"user_id":10050775,"display_name":"Jaky Ruby"},"score":0,"creation_date":1671132657,"post_id":74816164,"comment_id":132038493,"body_markdown":"a = tag of the element. text()=&#39;Edit&#39; indicates that the text of the element must be Edit. Yes, you can filter by href for example, with this xpath: `(//a[contains(@href,&quot;https://randompageee/backend/company/index/edit&quot;)])[1]`. The explanation for that xpath would be: An element with tag `a` which has an attribute `href` and that `href` contains the string `https://randompageee/backend/company/index/edit`","body":"a = tag of the element. text()=&#39;Edit&#39; indicates that the text of the element must be Edit. Yes, you can filter by href for example, with this xpath: <code>(&#47;&#47;a[contains(@href,&quot;https:&#47;&#47;randompageee&#47;backend&#47;company&#47;in&zwnj;&#8203;dex&#47;edit&quot;)])[1]</code>. The explanation for that xpath would be: An element with tag <code>a</code> which has an attribute <code>href</code> and that <code>href</code> contains the string <code>https:&#47;&#47;randompageee&#47;backend&#47;company&#47;index&#47;edit</code>"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1671134606,"post_id":74816164,"comment_id":132039121,"body_markdown":"@JakyRuby what is the explanation that sometimes it will find the element by a certain name but it wont find it using a different one?","body":"@JakyRuby what is the explanation that sometimes it will find the element by a certain name but it wont find it using a different one?"},{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1671135764,"post_id":74816164,"comment_id":132039493,"body_markdown":"@MacGyver i got a question: May the XPATH change?Is it &quot;safe&quot; to use XPATH always?","body":"@MacGyver i got a question: May the XPATH change?Is it &quot;safe&quot; to use XPATH always?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1671142592,"post_id":74816164,"comment_id":132041396,"body_markdown":"yes, the xpath can change.  So it&#39;s not safe to use it for that very reason.","body":"yes, the xpath can change.  So it&#39;s not safe to use it for that very reason."}],"answers":[{"comments":[{"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"score":0,"creation_date":1671373816,"post_id":74823164,"comment_id":132081458,"body_markdown":"Hey Mac, thank you for replying!. What do you mean when you say: &quot;If there are embedded tags under the tr or td&quot;. How?","body":"Hey Mac, thank you for replying!. What do you mean when you say: &quot;If there are embedded tags under the tr or td&quot;. How?"},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1671391313,"post_id":74823164,"comment_id":132084483,"body_markdown":"You&#39;re welcome.  &quot;embedded&quot; means to make an internal part of.  So in my example, I have an &quot;a&quot; (HTML anchor tag/element) inside the &quot;td&quot; (HTML table data tag/element).  So first I&#39;m identifying the td WebDriver element using the custom id attribute of the td tag, and then adding the embedded &quot;a&quot; afterwards in reference 3.","body":"You&#39;re welcome.  &quot;embedded&quot; means to make an internal part of.  So in my example, I have an &quot;a&quot; (HTML anchor tag/element) inside the &quot;td&quot; (HTML table data tag/element).  So first I&#39;m identifying the td WebDriver element using the custom id attribute of the td tag, and then adding the embedded &quot;a&quot; afterwards in reference 3."},{"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"score":0,"creation_date":1671391433,"post_id":74823164,"comment_id":132084509,"body_markdown":"meant to say &quot;integral&quot;, not &quot;internal&quot;.. https://www.merriam-webster.com/dictionary/embed","body":"meant to say &quot;integral&quot;, not &quot;internal&quot;.. <a href=\"https://www.merriam-webster.com/dictionary/embed\" rel=\"nofollow noreferrer\">merriam-webster.com/dictionary/embed</a>"}],"tags":[],"owner":{"account_id":321401,"reputation":18500,"user_id":640205,"accept_rate":94,"display_name":"JustBeingHelpful"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671186598,"creation_date":1671186598,"answer_id":74823164,"question_id":74816164,"body_markdown":"The best approach for Selenium Webdriver to identify individual tr&#39;s (rows) or td (row/column combination) is to have the developer of the website (that you are testing) either place a unique id in those tags when the table is dynamically generated such as below (see reference #1).  Then obtain the row or cell of the table using that id (see reference #2) rather than using XPath.  If there are embedded tags under the tr or td, then it&#39;s safe to use XPath after that since the starting position of the HTML hierarchy of the element is fixed (see reference #3).\r\n\r\nReference #1:\r\n\r\n    &lt;table&gt;&lt;tr&gt;&lt;td id=&quot;table1_row1_column1&quot;&gt;&lt;a&gt;link&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\r\n\r\nReference #2:\r\n\r\n    WebElement elementTableTd = driver.findElement(By.id(&quot;table1_row1_column1&quot;));\r\n\r\nReference #3:\r\n\r\n    WebElement elementTableA = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;table1_row1_column1\\&quot;]/a&quot;));\r\n\r\n\r\n","title":"Name of xpath not working properly in Selenium and Java","body":"<p>The best approach for Selenium Webdriver to identify individual tr's (rows) or td (row/column combination) is to have the developer of the website (that you are testing) either place a unique id in those tags when the table is dynamically generated such as below (see reference #1).  Then obtain the row or cell of the table using that id (see reference #2) rather than using XPath.  If there are embedded tags under the tr or td, then it's safe to use XPath after that since the starting position of the HTML hierarchy of the element is fixed (see reference #3).</p>\n<p>Reference #1:</p>\n<pre><code>&lt;table&gt;&lt;tr&gt;&lt;td id=&quot;table1_row1_column1&quot;&gt;&lt;a&gt;link&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;\n</code></pre>\n<p>Reference #2:</p>\n<pre><code>WebElement elementTableTd = driver.findElement(By.id(&quot;table1_row1_column1&quot;));\n</code></pre>\n<p>Reference #3:</p>\n<pre><code>WebElement elementTableA = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;table1_row1_column1\\&quot;]/a&quot;));\n</code></pre>\n"}],"owner":{"account_id":10668049,"reputation":773,"user_id":15061831,"display_name":"JustToKnow"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1671186598,"creation_date":1671129898,"question_id":74816164,"body_markdown":"I got this &quot;edit&quot; button that allows me to edit a specific row within a grid\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThat edit button has this:\r\n\r\n    &lt;a class=&quot;action-menu-item&quot; data-bind=&quot;attr: {target: $col.getTarget($action()), href: $action().href}, text: $action().label, click: $col.getActionHandler($action())&quot; data-repeat-index=&quot;0&quot; target=&quot;_self&quot; href=&quot;https://randompageee/backend/company/index/edit/id/967/key/ee96a07876ee1fbef91d5d22dfjrrfkjaf9d40/&quot;&gt;Edit&lt;/a&gt;\r\n\r\nIt&#39;s XPATH is:\r\n\r\n    //*[@id=&quot;container&quot;]/div/div[3]/table/tbody/tr[2]/td[4]/a\r\n\r\n\r\nI used this in my code:\r\n\r\n    WebElement  elementProd = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[2]/div[1]/div[5]/div/div/button[2]&quot;));\r\n    JavascriptExecutor executor  = (JavascriptExecutor)driver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;,elementProd);\r\n\r\nThe thing is it sometimes work but sometimes it doesn&#39;t.\r\n\r\nIs anything wrong with the XPATH? Should i use other instead?\r\n\r\n-------------------------------------------------\r\nEDIT:\r\n[![enter image description here][2]][2]\r\n\r\nIt has this:\r\n\r\n    &lt;td data-bind=&quot;css: getFieldClass($row()), click: getFieldHandler($row()), template: getBody()&quot; class=&quot;data-grid-actions-cell&quot;&gt;\r\n    &lt;!-- ko if: $col.isSingle($row()._rowIndex) --&gt;&lt;!-- ko repeat: {foreach: $col.getVisibleActions($row()._rowIndex), item: &#39;$action&#39;} --&gt;&lt;a class=&quot;action-menu-item&quot; data-bind=&quot;attr: {target: $col.getTarget($action()), href: $action().href}, text: $action().label, click: $col.getActionHandler($action())&quot; data-repeat-index=&quot;0&quot; target=&quot;_self&quot; href=&quot;randomdfsd/backend/company/index/edit/id/967/key/ee96a07876ee1fbef91d5d22507d5882e9f03b78dasb24657d3ce9d40/&quot;&gt;Edit&lt;/a&gt;&lt;!-- /ko --&gt;&lt;!-- /ko --&gt;\r\n    \r\n    &lt;!-- ko if: $col.isMultiple($row()._rowIndex) --&gt;&lt;!-- /ko --&gt;\r\n    &lt;/td&gt;\r\n\r\nIt&#39;s XPATH is:\r\n\r\n    //*[@id=&quot;container&quot;]/div/div[3]/table/tbody/tr[2]/td[4]\r\n\r\n\r\n-------------------------------------\r\nOn the other hand i got this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nIt contains:\r\n\r\n    &lt;a class=&quot;action-menu-item&quot; data-bind=&quot;attr: {target: $col.getTarget($action()), href: $action().href}, text: $action().label, click: $col.getActionHandler($action())&quot; data-repeat-index=&quot;0&quot; target=&quot;_self&quot; href=&quot;https://randomdfsd/backend/company/index/edit/id/967/key/ee9ds1d5d22507d5882e9f03b78fca79514fab24657d3ce9d40/&quot;&gt;Edit&lt;/a&gt;\r\n\r\nIt&#39;s XPATH is:\r\n\r\n    //*[@id=&quot;container&quot;]/div/div[3]/table/tbody/tr[2]/td[4]/a\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EGFir.png\r\n  [2]: https://i.stack.imgur.com/87O7D.png\r\n  [3]: https://i.stack.imgur.com/pmQUu.png","title":"Name of xpath not working properly in Selenium and Java","body":"<p>I got this &quot;edit&quot; button that allows me to edit a specific row within a grid</p>\n<p><a href=\"https://i.stack.imgur.com/EGFir.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EGFir.png\" alt=\"enter image description here\" /></a></p>\n<p>That edit button has this:</p>\n<pre><code>&lt;a class=&quot;action-menu-item&quot; data-bind=&quot;attr: {target: $col.getTarget($action()), href: $action().href}, text: $action().label, click: $col.getActionHandler($action())&quot; data-repeat-index=&quot;0&quot; target=&quot;_self&quot; href=&quot;https://randompageee/backend/company/index/edit/id/967/key/ee96a07876ee1fbef91d5d22dfjrrfkjaf9d40/&quot;&gt;Edit&lt;/a&gt;\n</code></pre>\n<p>It's XPATH is:</p>\n<pre><code>//*[@id=&quot;container&quot;]/div/div[3]/table/tbody/tr[2]/td[4]/a\n</code></pre>\n<p>I used this in my code:</p>\n<pre><code>WebElement  elementProd = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;container\\&quot;]/div/div[2]/div[1]/div[5]/div/div/button[2]&quot;));\nJavascriptExecutor executor  = (JavascriptExecutor)driver;\nexecutor.executeScript(&quot;arguments[0].click();&quot;,elementProd);\n</code></pre>\n<p>The thing is it sometimes work but sometimes it doesn't.</p>\n<p>Is anything wrong with the XPATH? Should i use other instead?</p>\n<hr />\n<p>EDIT:\n<a href=\"https://i.stack.imgur.com/87O7D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/87O7D.png\" alt=\"enter image description here\" /></a></p>\n<p>It has this:</p>\n<pre><code>&lt;td data-bind=&quot;css: getFieldClass($row()), click: getFieldHandler($row()), template: getBody()&quot; class=&quot;data-grid-actions-cell&quot;&gt;\n&lt;!-- ko if: $col.isSingle($row()._rowIndex) --&gt;&lt;!-- ko repeat: {foreach: $col.getVisibleActions($row()._rowIndex), item: '$action'} --&gt;&lt;a class=&quot;action-menu-item&quot; data-bind=&quot;attr: {target: $col.getTarget($action()), href: $action().href}, text: $action().label, click: $col.getActionHandler($action())&quot; data-repeat-index=&quot;0&quot; target=&quot;_self&quot; href=&quot;randomdfsd/backend/company/index/edit/id/967/key/ee96a07876ee1fbef91d5d22507d5882e9f03b78dasb24657d3ce9d40/&quot;&gt;Edit&lt;/a&gt;&lt;!-- /ko --&gt;&lt;!-- /ko --&gt;\n\n&lt;!-- ko if: $col.isMultiple($row()._rowIndex) --&gt;&lt;!-- /ko --&gt;\n&lt;/td&gt;\n</code></pre>\n<p>It's XPATH is:</p>\n<pre><code>//*[@id=&quot;container&quot;]/div/div[3]/table/tbody/tr[2]/td[4]\n</code></pre>\n<hr />\n<p>On the other hand i got this:</p>\n<p><a href=\"https://i.stack.imgur.com/pmQUu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pmQUu.png\" alt=\"enter image description here\" /></a></p>\n<p>It contains:</p>\n<pre><code>&lt;a class=&quot;action-menu-item&quot; data-bind=&quot;attr: {target: $col.getTarget($action()), href: $action().href}, text: $action().label, click: $col.getActionHandler($action())&quot; data-repeat-index=&quot;0&quot; target=&quot;_self&quot; href=&quot;https://randomdfsd/backend/company/index/edit/id/967/key/ee9ds1d5d22507d5882e9f03b78fca79514fab24657d3ce9d40/&quot;&gt;Edit&lt;/a&gt;\n</code></pre>\n<p>It's XPATH is:</p>\n<pre><code>//*[@id=&quot;container&quot;]/div/div[3]/table/tbody/tr[2]/td[4]/a\n</code></pre>\n"},{"tags":["java","authentication","security","modal-dialog"],"owner":{"account_id":27271244,"reputation":1,"user_id":20792525,"display_name":"KenLee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671186590,"creation_date":1671186590,"question_id":74823161,"body_markdown":"```\r\n@Bean\r\n    public SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\r\n        http.csrf().disable(); \r\n        http.formLogin()\r\n        \t.loginProcessingUrl(&quot;/&quot;)\r\n            .defaultSuccessUrl(&quot;/&quot;)\r\n        .and()\r\n            .logout()\r\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\r\n            .logoutSuccessUrl(&quot;/&quot;)\r\n            .invalidateHttpSession(true);\r\n```\r\n\r\nI made SecurityConfigure Class in my project.\r\nbut i want with new page, only Modal\r\n\r\n\r\n```\r\n@GetMapping(&quot;/signin&quot;)\r\n    public void signIn() {\r\n    }\r\n    \r\n@PostMapping(&quot;/signin&quot;)\r\n@ResponseBody\r\n    public String signIn() {\r\n    }\r\n```\r\nand I made controller\r\n\r\n\r\n```\r\n&lt;a class=&quot;w3-bar-item w3-button w3-right btn nav-link&quot; data-bs-toggle=&quot;modal&quot;\r\n            id=&quot;btnSignIn&quot; href=&quot;#staticBackdrop&quot; role=&quot;button&quot;\r\n            style=&quot;font-size:medium; margin-top:25px; margin-right:20px;&quot;&gt;SignIn&lt;/a&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\ni tried to login my self, but i don&#39;t think about token.\r\n\r\ni can&#39;t find about Modal with it. so i think i must use Security basic(?) login system.\r\n\r\ni want to know how to use Security login system on Modal.","title":"Can I make Signin modal with Spring security?","body":"<pre><code>@Bean\n    public SecurityFilterChain securityFilterChain (HttpSecurity http) throws Exception {\n        http.csrf().disable(); \n        http.formLogin()\n            .loginProcessingUrl(&quot;/&quot;)\n            .defaultSuccessUrl(&quot;/&quot;)\n        .and()\n            .logout()\n            .logoutRequestMatcher(new AntPathRequestMatcher(&quot;/logout&quot;))\n            .logoutSuccessUrl(&quot;/&quot;)\n            .invalidateHttpSession(true);\n</code></pre>\n<p>I made SecurityConfigure Class in my project.\nbut i want with new page, only Modal</p>\n<pre><code>@GetMapping(&quot;/signin&quot;)\n    public void signIn() {\n    }\n    \n@PostMapping(&quot;/signin&quot;)\n@ResponseBody\n    public String signIn() {\n    }\n</code></pre>\n<p>and I made controller</p>\n<pre><code>&lt;a class=&quot;w3-bar-item w3-button w3-right btn nav-link&quot; data-bs-toggle=&quot;modal&quot;\n            id=&quot;btnSignIn&quot; href=&quot;#staticBackdrop&quot; role=&quot;button&quot;\n            style=&quot;font-size:medium; margin-top:25px; margin-right:20px;&quot;&gt;SignIn&lt;/a&gt;\n</code></pre>\n<p>i tried to login my self, but i don't think about token.</p>\n<p>i can't find about Modal with it. so i think i must use Security basic(?) login system.</p>\n<p>i want to know how to use Security login system on Modal.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":318397,"reputation":203598,"user_id":635608,"display_name":"Mat"},"score":0,"creation_date":1671045681,"post_id":74803233,"comment_id":132015270,"body_markdown":"The only relevant piece of code is your SQL statement. Just check any SQL manual for the syntax for `insert`.","body":"The only relevant piece of code is your SQL statement. Just check any SQL manual for the syntax for <code>insert</code>."},{"owner":{"account_id":26708239,"reputation":11,"user_id":20314081,"display_name":"william_xd_2509"},"score":0,"creation_date":1671046214,"post_id":74803233,"comment_id":132015412,"body_markdown":"Thanks for the reply , i just checked and yeah the values must be after the column names. Simple syntax error. Thanks!","body":"Thanks for the reply , i just checked and yeah the values must be after the column names. Simple syntax error. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":17781934,"reputation":61,"user_id":16658587,"display_name":"Gabriel Pagotto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671046190,"creation_date":1671046190,"answer_id":74803353,"question_id":74803233,"body_markdown":"Your SQL is wrong, it should be:\r\n\r\n    insert into user (name,email,password) values (?,?,?)","title":"You have an error in your SQL syntax; check the manual that","body":"<p>Your SQL is wrong, it should be:</p>\n<pre><code>insert into user (name,email,password) values (?,?,?)\n</code></pre>\n"}],"owner":{"account_id":26708239,"reputation":11,"user_id":20314081,"display_name":"william_xd_2509"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1671046925,"accepted_answer_id":74803353,"answer_count":1,"score":-2,"last_activity_date":1671186537,"creation_date":1671045505,"question_id":74803233,"body_markdown":"I am getting SQL Syntax Error. I don&#39;t know why. I have checked everything but couldn&#39;t get through this error. I am using Eclipse.\r\nHere is the code for adding user\r\n\r\n```\r\npackage com.DOA;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\n\r\nimport com.User.UserDetails;\r\n\r\npublic class UserDOA {\r\n\r\n    private Connection conn;\r\n\r\n\tpublic UserDOA(Connection conn) {\r\n\t\tsuper();\r\n\t\tthis.conn = conn;\r\n\t}\r\n\r\n    public boolean addUser(UserDetails us) {\r\n    \tboolean f = false;\r\n    \t \r\n    \ttry {\r\n    \t\tString query = &quot;insert into user values (name,email,password) (?,?,?)&quot;;\r\n    \t\t \r\n    \t\tPreparedStatement ps = conn.prepareStatement(query);\r\n    \t\tps.setString(1, us.getName());\r\n    \t\tps.setString(2, us.getEmail());\r\n    \t\tps.setString(3, us.getPassword());\r\n    \t\tint i = ps.executeUpdate();\r\n    \t\tif(i==1) {\r\n    \t\t    f=true;\r\n    \t\t}\r\n    \t\t \r\n    \t}catch(Exception e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \t \r\n    \treturn f;\r\n   }\r\n}\r\n```\r\n\r\nHere is the code of Servlet\r\n\r\n```\r\npackage com.Servlet;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.sql.Connection;\r\n\r\nimport com.DOA.UserDOA;\r\nimport com.User.UserDetails;\r\nimport com.DB.DBConnect;\r\n\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\n\r\n@WebServlet(&quot;/UserServlet&quot;)\r\npublic class UserServlet extends HttpServlet{\r\n           public void doPost(HttpServletRequest request, HttpServletResponse response ) throws ServletException,IOException\r\n    {\r\n\t    String name = request.getParameter(&quot;fname&quot;);\r\n\t    String email = request.getParameter(&quot;uemail&quot;);\r\n\t    String password = request.getParameter(&quot;upassword&quot;);\r\n\t   \r\n\t    UserDetails us = new UserDetails(); \r\n\t    us.setName(name);\r\n\t    us.setEmail(email);\r\n\t    us.setPassword(password);\r\n\t   \r\n\t    UserDOA dao = new UserDOA(DBConnect.getConn());\r\n\t    boolean f=dao.addUser(us);\r\n\t    PrintWriter out = response.getWriter();\r\n\t   \r\n\t    if(f) {\r\n\t\t    out.print(&quot;User Register Successfully&quot;);\r\n\t    }else {\r\n\t\t   out.print(&quot;Data not insert&quot;);\r\n\t    }\r\n    }\r\n\r\n}\r\n```\r\n\r\nI started the Tomcat server, registered an account, but getting data not insert as an output instead of getting the data in the Workbench.","title":"You have an error in your SQL syntax; check the manual that","body":"<p>I am getting SQL Syntax Error. I don't know why. I have checked everything but couldn't get through this error. I am using Eclipse.\nHere is the code for adding user</p>\n<pre><code>package com.DOA;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\n\nimport com.User.UserDetails;\n\npublic class UserDOA {\n\n    private Connection conn;\n\n    public UserDOA(Connection conn) {\n        super();\n        this.conn = conn;\n    }\n\n    public boolean addUser(UserDetails us) {\n        boolean f = false;\n         \n        try {\n            String query = &quot;insert into user values (name,email,password) (?,?,?)&quot;;\n             \n            PreparedStatement ps = conn.prepareStatement(query);\n            ps.setString(1, us.getName());\n            ps.setString(2, us.getEmail());\n            ps.setString(3, us.getPassword());\n            int i = ps.executeUpdate();\n            if(i==1) {\n                f=true;\n            }\n             \n        }catch(Exception e) {\n            e.printStackTrace();\n        }\n         \n        return f;\n   }\n}\n</code></pre>\n<p>Here is the code of Servlet</p>\n<pre><code>package com.Servlet;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.sql.Connection;\n\nimport com.DOA.UserDOA;\nimport com.User.UserDetails;\nimport com.DB.DBConnect;\n\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\n@WebServlet(&quot;/UserServlet&quot;)\npublic class UserServlet extends HttpServlet{\n           public void doPost(HttpServletRequest request, HttpServletResponse response ) throws ServletException,IOException\n    {\n        String name = request.getParameter(&quot;fname&quot;);\n        String email = request.getParameter(&quot;uemail&quot;);\n        String password = request.getParameter(&quot;upassword&quot;);\n       \n        UserDetails us = new UserDetails(); \n        us.setName(name);\n        us.setEmail(email);\n        us.setPassword(password);\n       \n        UserDOA dao = new UserDOA(DBConnect.getConn());\n        boolean f=dao.addUser(us);\n        PrintWriter out = response.getWriter();\n       \n        if(f) {\n            out.print(&quot;User Register Successfully&quot;);\n        }else {\n           out.print(&quot;Data not insert&quot;);\n        }\n    }\n\n}\n</code></pre>\n<p>I started the Tomcat server, registered an account, but getting data not insert as an output instead of getting the data in the Workbench.</p>\n"},{"tags":["java","design-patterns"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1671137317,"post_id":74817366,"comment_id":132040005,"body_markdown":"What do you mean by parameter manipulation?","body":"What do you mean by parameter manipulation?"},{"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"score":0,"creation_date":1671137368,"post_id":74817366,"comment_id":132040023,"body_markdown":"MyClass1 parameter&#39;s state is manipulated in the function by setting the mcId field. I meant this as parameter manipulation.","body":"MyClass1 parameter&#39;s state is manipulated in the function by setting the mcId field. I meant this as parameter manipulation."}],"answers":[{"comments":[{"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"score":0,"creation_date":1671186303,"post_id":74817434,"comment_id":132049472,"body_markdown":"Thank you for your reply! Maybe I wasn&#39;t clear in the question. I will update the question. So I do want to set the fields of my class. My problem is the code duplications because of using the setters in different part of the code (the business need require to use them many places). And I&#39;m searching a solution/pattern which saves me to copy-paste the setters code snippet multiple places.","body":"Thank you for your reply! Maybe I wasn&#39;t clear in the question. I will update the question. So I do want to set the fields of my class. My problem is the code duplications because of using the setters in different part of the code (the business need require to use them many places). And I&#39;m searching a solution/pattern which saves me to copy-paste the setters code snippet multiple places."},{"owner":{"account_id":1197122,"reputation":16433,"user_id":1168588,"accept_rate":88,"display_name":"PaulProgrammer"},"score":0,"creation_date":1671395233,"post_id":74817434,"comment_id":132085151,"body_markdown":"Nope, that doesn&#39;t really exist in Java.  Many tools have code generators that do generate settors so you&#39;re not doing a lot of cut/paste code.","body":"Nope, that doesn&#39;t really exist in Java.  Many tools have code generators that do generate settors so you&#39;re not doing a lot of cut/paste code."}],"tags":[],"owner":{"account_id":1197122,"reputation":16433,"user_id":1168588,"accept_rate":88,"display_name":"PaulProgrammer"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671138005,"creation_date":1671137567,"answer_id":74817434,"question_id":74817366,"body_markdown":"One really good way of doing this is to use an `Immutable` decorator.  The `Immutable` pattern is a wrapper around the primary object that prevents changes to the underlying data.  These exist out of the box for the `Collections` using the `Unmodifable` concept:\r\n\r\n     String[] array = ... ;\r\n     List&lt;String[]&gt; list = List.&lt;String[]&gt;of(array);\r\n\r\nor `copyOf()` in the case of another collection:\r\n\r\n     List&lt;String&gt; mylist = ...;\r\n     List&lt;String&gt; unmodifableList = List.copyOf(mylist);\r\n\r\nFor the other objects that you are defining, you might want to create a subclass that throws `UnsupportedOperationException` when a mutator is called.\r\n\r\n    class UnmodifiableMyClass1 extends MyClass1 {\r\n        UnmodifiableMyClass1( MyClass1 copy) {\r\n            // do copy constructor stuff here \r\n            // (probably just referencing the primary object)\r\n        }\r\n        @override void setMc1Id( int id ) {\r\n            throw new UnsupportedOperationException(&quot;nope&quot;);\r\n        }\r\n    }\r\n\r\n    MyClass1 mc1 = new MyClass1();\r\n    UnmodifiableMyClass1 umc1 = new UnmodifiableMyClass1(mc1);\r\n\r\n\r\nof course, it&#39;s best if you can do this on interfaces instead of implementations, because there&#39;s less need to maintain the object state, but you gotta work with what you have, and you didn&#39;t mention having interfaces for `MyClass{1,2}`.","title":"Best practice to avoid function&#39;s parameter manipulation","body":"<p>One really good way of doing this is to use an <code>Immutable</code> decorator.  The <code>Immutable</code> pattern is a wrapper around the primary object that prevents changes to the underlying data.  These exist out of the box for the <code>Collections</code> using the <code>Unmodifable</code> concept:</p>\n<pre><code> String[] array = ... ;\n List&lt;String[]&gt; list = List.&lt;String[]&gt;of(array);\n</code></pre>\n<p>or <code>copyOf()</code> in the case of another collection:</p>\n<pre><code> List&lt;String&gt; mylist = ...;\n List&lt;String&gt; unmodifableList = List.copyOf(mylist);\n</code></pre>\n<p>For the other objects that you are defining, you might want to create a subclass that throws <code>UnsupportedOperationException</code> when a mutator is called.</p>\n<pre><code>class UnmodifiableMyClass1 extends MyClass1 {\n    UnmodifiableMyClass1( MyClass1 copy) {\n        // do copy constructor stuff here \n        // (probably just referencing the primary object)\n    }\n    @override void setMc1Id( int id ) {\n        throw new UnsupportedOperationException(&quot;nope&quot;);\n    }\n}\n\nMyClass1 mc1 = new MyClass1();\nUnmodifiableMyClass1 umc1 = new UnmodifiableMyClass1(mc1);\n</code></pre>\n<p>of course, it's best if you can do this on interfaces instead of implementations, because there's less need to maintain the object state, but you gotta work with what you have, and you didn't mention having interfaces for <code>MyClass{1,2}</code>.</p>\n"}],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671186468,"creation_date":1671137146,"question_id":74817366,"body_markdown":"I have the following abstract code snippet:\r\n\r\n    // definitions\r\n        MyClass1 mc1 = new MyClass1();\r\n        MyClass2 mc2 = new MyClass2();\r\n        List&lt;String&gt; elements = new ArrayList&lt;&gt;();\r\n\r\n    // some black magic...\r\n\r\n    // setters based on condition 0\r\n        mc2.setElements(elements);\r\n        String id = saveMyClass2(mc2)\r\n        mc1.setMc1Id(id);\r\n    \r\n    // Some other business black magic\r\n\r\n    // setters based on condition 1\r\n        mc2.setElements(elements);\r\n        String id = saveMyClass2(mc2)\r\n        mc1.setMc1Id(id);\r\n\r\n    // Some other business black magic\r\n\r\n    // setters based on condition 2\r\n        mc2.setElements(elements);\r\n        String id = saveMyClass2(mc2)\r\n        mc1.setMc1Id(id);\r\n\r\n\r\nI&#39;m using the setters flow in multiple parts of my code. I wanted to elaborate this by a wrapper function like this:\r\n\r\n    void doSettings(MyClass1 mc1, MyClass2 mc2, List&lt;String&gt; elements) {\r\n            mc2.setElements(elements);\r\n            String id = saveMyClass2(mc2)\r\n            mc1.setMc1Id(id);\r\n    }\r\n\r\nBut I am doing a parameter manipulation in this function which I want to avoid. Also cloning the classes is not an option, they are 3 layers deep and it takes too much effort to create deep copy.\r\n\r\nSo do you know any best practice or coding pattern which helps to avoid code duplication?","title":"Best practice to avoid function&#39;s parameter manipulation","body":"<p>I have the following abstract code snippet:</p>\n<pre><code>// definitions\n    MyClass1 mc1 = new MyClass1();\n    MyClass2 mc2 = new MyClass2();\n    List&lt;String&gt; elements = new ArrayList&lt;&gt;();\n\n// some black magic...\n\n// setters based on condition 0\n    mc2.setElements(elements);\n    String id = saveMyClass2(mc2)\n    mc1.setMc1Id(id);\n\n// Some other business black magic\n\n// setters based on condition 1\n    mc2.setElements(elements);\n    String id = saveMyClass2(mc2)\n    mc1.setMc1Id(id);\n\n// Some other business black magic\n\n// setters based on condition 2\n    mc2.setElements(elements);\n    String id = saveMyClass2(mc2)\n    mc1.setMc1Id(id);\n</code></pre>\n<p>I'm using the setters flow in multiple parts of my code. I wanted to elaborate this by a wrapper function like this:</p>\n<pre><code>void doSettings(MyClass1 mc1, MyClass2 mc2, List&lt;String&gt; elements) {\n        mc2.setElements(elements);\n        String id = saveMyClass2(mc2)\n        mc1.setMc1Id(id);\n}\n</code></pre>\n<p>But I am doing a parameter manipulation in this function which I want to avoid. Also cloning the classes is not an option, they are 3 layers deep and it takes too much effort to create deep copy.</p>\n<p>So do you know any best practice or coding pattern which helps to avoid code duplication?</p>\n"},{"tags":["java"],"owner":{"account_id":26964723,"reputation":1,"user_id":20531811,"display_name":"Sazang Ze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671186159,"creation_date":1671186159,"question_id":74823087,"body_markdown":"At the begenning my jhipster appliation was compiling without problem and after some time..I have started getting this error\r\n\r\n```\r\n Error: src/main/webapp/app/entities/collaborateur/collaborateur.model.ts:17:29 - error TS2344: Type &#39;&quot;id&quot; | &quot;nOM&quot;&#39; does not satisfy the constraint &#39;keyof ISession&#39;. \r\nType &#39;&quot;nOM&quot;&#39; is not assignable to type &#39;keyof ISession&#39;.\r\n17   sessions?: Pick&lt;ISession, &#39;id&#39; | &#39;nOM&#39;&gt;[] | null;\r\n```\r\n\r\nI am face with this problem for some time and i would like some help me solve it ...thank you very much","title":"How can I solve the problem does not satify the constraint &#39;keyof ISession&#39;","body":"<p>At the begenning my jhipster appliation was compiling without problem and after some time..I have started getting this error</p>\n<pre><code> Error: src/main/webapp/app/entities/collaborateur/collaborateur.model.ts:17:29 - error TS2344: Type '&quot;id&quot; | &quot;nOM&quot;' does not satisfy the constraint 'keyof ISession'. \nType '&quot;nOM&quot;' is not assignable to type 'keyof ISession'.\n17   sessions?: Pick&lt;ISession, 'id' | 'nOM'&gt;[] | null;\n</code></pre>\n<p>I am face with this problem for some time and i would like some help me solve it ...thank you very much</p>\n"},{"tags":["java","regex"],"answers":[{"comments":[{"owner":{"account_id":25013204,"reputation":11,"user_id":18994980,"display_name":"shane sontr"},"score":0,"creation_date":1671168548,"post_id":74820494,"comment_id":132045393,"body_markdown":"I am very sorry \nBecause i saved it in json file i add double backslash\nAnd i did copy the regex from the json to here directly","body":"I am very sorry  Because i saved it in json file i add double backslash And i did copy the regex from the json to here directly"},{"owner":{"account_id":3480449,"reputation":9549,"user_id":2912665,"accept_rate":62,"display_name":"CinCout"},"score":0,"creation_date":1671168574,"post_id":74820494,"comment_id":132045399,"body_markdown":"@shanesontr There are other issues in your regex which I&#39;ve fixed. Take a close look.","body":"@shanesontr There are other issues in your regex which I&#39;ve fixed. Take a close look."},{"owner":{"account_id":25013204,"reputation":11,"user_id":18994980,"display_name":"shane sontr"},"score":0,"creation_date":1671169354,"post_id":74820494,"comment_id":132045507,"body_markdown":"Sorry again \nI did add `https?://(www.)?` in the question result match \nFor remove the complexity from the question and regex\nBut i meant to match &#39;https://www.facebook.com/&#39;\nNot `https\\?://\\(www\\.\\)\\?` as string","body":"Sorry again  I did add <code>https?:&#47;&#47;(www.)?</code> in the question result match  For remove the complexity from the question and regex But i meant to match &#39;<a href=\"https://www.facebook.com/\" rel=\"nofollow noreferrer\">facebook.com</a>&#39; Not <code>https\\?:&#47;&#47;\\(www\\.\\)\\?</code> as string"},{"owner":{"account_id":3480449,"reputation":9549,"user_id":2912665,"accept_rate":62,"display_name":"CinCout"},"score":0,"creation_date":1671169394,"post_id":74820494,"comment_id":132045517,"body_markdown":"@shanesontr Edit your question to include the correct details.","body":"@shanesontr Edit your question to include the correct details."}],"tags":[],"owner":{"account_id":3480449,"reputation":9549,"user_id":2912665,"accept_rate":62,"display_name":"CinCout"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671169362,"creation_date":1671168041,"answer_id":74820494,"question_id":74820363,"body_markdown":"You have a few mistakes in your regex:\r\n1. Escaping only needs a single backslash, not two.\r\n2. All characters with special meaning in regex (like `?`, `(`, `)`, `.`) need to be escaped.\r\n2. The last part of your regex was wrong.\r\n\r\nUse this:\r\n\r\n`https\\?://\\(www\\.\\)\\?facebook\\.com/(?!(i|bussiness|legal|dialog|sharer|share\\.phpr|tr|business|platform|help|ads|policies|selfxss|audiencenetwork)$)[a-zA-Z0-9_\\-]+`\r\n\r\n[Demo][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/tzLjXf/1","title":"Exclude regex in java","body":"<p>You have a few mistakes in your regex:</p>\n<ol>\n<li>Escaping only needs a single backslash, not two.</li>\n<li>All characters with special meaning in regex (like <code>?</code>, <code>(</code>, <code>)</code>, <code>.</code>) need to be escaped.</li>\n<li>The last part of your regex was wrong.</li>\n</ol>\n<p>Use this:</p>\n<p><code>https\\?://\\(www\\.\\)\\?facebook\\.com/(?!(i|bussiness|legal|dialog|sharer|share\\.phpr|tr|business|platform|help|ads|policies|selfxss|audiencenetwork)$)[a-zA-Z0-9_\\-]+</code></p>\n<p><a href=\"https://regex101.com/r/tzLjXf/1\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}],"owner":{"account_id":25013204,"reputation":11,"user_id":18994980,"display_name":"shane sontr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671186135,"creation_date":1671166862,"question_id":74820363,"body_markdown":"I have this line take a regex\r\nAnd match the value from response\r\n```\r\nMatcher m = Pattern.compile(&quot;(&quot; + elem.get(&quot;urlRegex&quot;).getAsString() + &quot;)&quot;).matcher(response);\r\n```\r\nAnd here is the `elem.get(&quot;urlRegex&quot;).getAsString()`\r\n```\r\nhttps?://(www\\.)?facebook\\.com/(?!(i|bussiness|legal|dialog|sharer|share\\.phpr|tr|business|platform|help|ads|policies|selfxss|audiencenetwork)$)([a-zA-Z0-9_\\-]|(\\.))+\r\n```\r\nAnd response is https response \r\n\r\nThis regex should match anything like \r\n\r\n&gt; https://www.facebook.com/testaksdflasfjasldf\r\n\r\n&gt; https://www.facebook.com/rqwerpoiqwern\r\n\r\n&gt; https://www.facebook.com/gbjkdasjasdfuiew\r\n\r\nAnd it shouldn&#39;t match anything like\r\n\r\n&gt; https://www.facebook.com/i\r\n\r\n&gt; https://www.facebook.com/bussiness\r\n\r\n&gt; https://www.facebook.com/legal\r\n\r\n&gt; https://www.facebook.com/sharer\r\n\r\nBut it does match both and the exclude doesn&#39;t work\r\n\r\nI did debug it on regex101 but it works\r\n\r\nEdit 1:\r\n\r\nI did remove `$` from exclude and it works \r\nBut because there is `i` in the exclude group \r\nThe regex will not match anything like \r\n`https://www.facebook.com/intel` \r\n`https://www.facebook.com/inscanasdas` \r\n`https://www.facebook.com/iasdasdasd` \r\n\r\nEdit 2:\r\n\r\nI did test the smiler of my code with this regex on https://www.jdoodle.com/online-java-compiler/\r\nRegex works","title":"Exclude regex in java","body":"<p>I have this line take a regex\nAnd match the value from response</p>\n<pre><code>Matcher m = Pattern.compile(&quot;(&quot; + elem.get(&quot;urlRegex&quot;).getAsString() + &quot;)&quot;).matcher(response);\n</code></pre>\n<p>And here is the <code>elem.get(&quot;urlRegex&quot;).getAsString()</code></p>\n<pre><code>https?://(www\\.)?facebook\\.com/(?!(i|bussiness|legal|dialog|sharer|share\\.phpr|tr|business|platform|help|ads|policies|selfxss|audiencenetwork)$)([a-zA-Z0-9_\\-]|(\\.))+\n</code></pre>\n<p>And response is https response</p>\n<p>This regex should match anything like</p>\n<blockquote>\n<p><a href=\"https://www.facebook.com/testaksdflasfjasldf\" rel=\"nofollow noreferrer\">https://www.facebook.com/testaksdflasfjasldf</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://www.facebook.com/rqwerpoiqwern\" rel=\"nofollow noreferrer\">https://www.facebook.com/rqwerpoiqwern</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://www.facebook.com/gbjkdasjasdfuiew\" rel=\"nofollow noreferrer\">https://www.facebook.com/gbjkdasjasdfuiew</a></p>\n</blockquote>\n<p>And it shouldn't match anything like</p>\n<blockquote>\n<p><a href=\"https://www.facebook.com/i\" rel=\"nofollow noreferrer\">https://www.facebook.com/i</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://www.facebook.com/bussiness\" rel=\"nofollow noreferrer\">https://www.facebook.com/bussiness</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://www.facebook.com/legal\" rel=\"nofollow noreferrer\">https://www.facebook.com/legal</a></p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://www.facebook.com/sharer\" rel=\"nofollow noreferrer\">https://www.facebook.com/sharer</a></p>\n</blockquote>\n<p>But it does match both and the exclude doesn't work</p>\n<p>I did debug it on regex101 but it works</p>\n<p>Edit 1:</p>\n<p>I did remove <code>$</code> from exclude and it works\nBut because there is <code>i</code> in the exclude group\nThe regex will not match anything like\n<code>https://www.facebook.com/intel</code>\n<code>https://www.facebook.com/inscanasdas</code>\n<code>https://www.facebook.com/iasdasdasd</code></p>\n<p>Edit 2:</p>\n<p>I did test the smiler of my code with this regex on <a href=\"https://www.jdoodle.com/online-java-compiler/\" rel=\"nofollow noreferrer\">https://www.jdoodle.com/online-java-compiler/</a>\nRegex works</p>\n"},{"tags":["java","jframe","jbutton"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1671116356,"post_id":74811757,"comment_id":132032841,"body_markdown":"(1-) *which is not what i am looking for.* - well, we can&#39;t guess what you are looking for. You actually have to ask a question if you want help. Also, don&#39;t use a null layout and setBounds(). Swing was designed to be used with layout manager. You can easily use a `GridLayout`.","body":"(1-) <i>which is not what i am looking for.</i> - well, we can&#39;t guess what you are looking for. You actually have to ask a question if you want help. Also, don&#39;t use a null layout and setBounds(). Swing was designed to be used with layout manager. You can easily use a <code>GridLayout</code>."},{"owner":{"account_id":27261764,"reputation":1,"user_id":20784494,"display_name":"mocoloco"},"score":0,"creation_date":1671185239,"post_id":74811757,"comment_id":132049151,"body_markdown":"So what I want is to change the filling of the button which is white by default, instead of changing the background of the button. Does that make sense?","body":"So what I want is to change the filling of the button which is white by default, instead of changing the background of the button. Does that make sense?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1671185476,"post_id":74811757,"comment_id":132049219,"body_markdown":"Maybe you want to set the icon?","body":"Maybe you want to set the icon?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671203404,"post_id":74811757,"comment_id":132055153,"body_markdown":"I have never seen a white background like that. What OS and version of Java are you use. Post a [mre] demonstrating the problem. We should be able to copy/paste/compile and test the code you post.","body":"I have never seen a white background like that. What OS and version of Java are you use. Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. We should be able to copy/paste/compile and test the code you post."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671208514,"post_id":74811757,"comment_id":132056923,"body_markdown":"I have never seen a white background like that. What OS and version of Java are you using. What LAF are you using. Post a [mre] demonstrating the problem. We should be able to copy/paste/compile and test the code you post.","body":"I have never seen a white background like that. What OS and version of Java are you using. What LAF are you using. Post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. We should be able to copy/paste/compile and test the code you post."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671186046,"creation_date":1671186046,"answer_id":74823065,"question_id":74811757,"body_markdown":"Here is a compilable example that uses icons to change the face.\r\n\r\n```\r\nimport javax.swing.*;\r\nimport java.awt.image.*;\r\nimport java.awt.*;\r\npublic class Icony{\r\n    static JButton make(Color r){\r\n        BufferedImage img = new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics g = img.getGraphics();\r\n        g.setColor(r);\r\n        g.fillRect(0, 0, 64, 64);\r\n        g.dispose();\r\n        JButton button = new JButton();\r\n        button.setOpaque(false);\r\n        button.setBackground( Color.RED);\r\n        button.setIcon( new ImageIcon(img) );\r\n        return button;\r\n    }\r\n    public static void main(String[] args){\r\n        JFrame frame = new JFrame(&quot;button&quot;);\r\n        JPanel panel = new JPanel(new GridLayout(2,2));\r\n        panel.add(make(Color.RED));\r\n        panel.add(make(Color.BLUE));\r\n        panel.add(make(Color.GREEN));\r\n        panel.add(make(Color.YELLOW));\r\n        frame.setContentPane(panel);\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n\r\n}\r\n\r\n```","title":"How to Fill jbutton","body":"<p>Here is a compilable example that uses icons to change the face.</p>\n<pre><code>import javax.swing.*;\nimport java.awt.image.*;\nimport java.awt.*;\npublic class Icony{\n    static JButton make(Color r){\n        BufferedImage img = new BufferedImage(64, 64, BufferedImage.TYPE_INT_ARGB);\n        Graphics g = img.getGraphics();\n        g.setColor(r);\n        g.fillRect(0, 0, 64, 64);\n        g.dispose();\n        JButton button = new JButton();\n        button.setOpaque(false);\n        button.setBackground( Color.RED);\n        button.setIcon( new ImageIcon(img) );\n        return button;\n    }\n    public static void main(String[] args){\n        JFrame frame = new JFrame(&quot;button&quot;);\n        JPanel panel = new JPanel(new GridLayout(2,2));\n        panel.add(make(Color.RED));\n        panel.add(make(Color.BLUE));\n        panel.add(make(Color.GREEN));\n        panel.add(make(Color.YELLOW));\n        frame.setContentPane(panel);\n        frame.pack();\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":27261764,"reputation":1,"user_id":20784494,"display_name":"mocoloco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1671186104,"creation_date":1671108358,"question_id":74811757,"body_markdown":"I want to fill a jbutton and all i find on the web is changing background and foreground colors, which is not what i am looking for.\r\n\r\n```\r\npublic GameOfLife () {\r\n    frame = new JFrame(&quot;2 player Game of Life&quot;);\r\n    frame.setSize(505, 533);\r\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    frame.setLocationRelativeTo(null);\r\n    frame.setResizable(false);\r\n\r\n    buttons = new JButton[10][10];\r\n\r\n    for (int i = 0; i &lt; buttons.length; i++) {\r\n        for (int j = 0; j &lt; buttons[i].length; j++) {\r\n           buttons[i][j] = new JButton();\r\n\r\n            buttons[i][j].setBounds(i*50+2, j*50+2, 50, 50);\r\n            frame.add(buttons[i][j]);\r\n            buttons[i][j].addActionListener(this);\r\n            //buttons[i][j].setBackground(Color.black);\r\n            buttons[i][j].setForeground(Color.BLUE);\r\n            buttons[i][j].setOpaque(true);\r\n\r\n        }\r\n    }\r\n\r\n    frame.setLayout(null);\r\n    frame.setVisible(true);\r\n\r\n\r\n}\r\n```\r\n\r\nThe setBackground only changes what is in the back of the button and setForeground only changes the color of the text in the button (if there is any). The button here is always white\r\n\r\nScreenshot of the GUI. ![Here]\r\n\r\n\r\n  [Here]: https://i.stack.imgur.com/tmxrG.png\r\n\r\n\r\nSo instead of changing the background color (here red and blue)i want to change the filling of the button (here white). Is there a way to do it?","title":"How to Fill jbutton","body":"<p>I want to fill a jbutton and all i find on the web is changing background and foreground colors, which is not what i am looking for.</p>\n<pre><code>public GameOfLife () {\n    frame = new JFrame(&quot;2 player Game of Life&quot;);\n    frame.setSize(505, 533);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setLocationRelativeTo(null);\n    frame.setResizable(false);\n\n    buttons = new JButton[10][10];\n\n    for (int i = 0; i &lt; buttons.length; i++) {\n        for (int j = 0; j &lt; buttons[i].length; j++) {\n           buttons[i][j] = new JButton();\n\n            buttons[i][j].setBounds(i*50+2, j*50+2, 50, 50);\n            frame.add(buttons[i][j]);\n            buttons[i][j].addActionListener(this);\n            //buttons[i][j].setBackground(Color.black);\n            buttons[i][j].setForeground(Color.BLUE);\n            buttons[i][j].setOpaque(true);\n\n        }\n    }\n\n    frame.setLayout(null);\n    frame.setVisible(true);\n\n\n}\n</code></pre>\n<p>The setBackground only changes what is in the back of the button and setForeground only changes the color of the text in the button (if there is any). The button here is always white</p>\n<p>Screenshot of the GUI. <img src=\"https://i.stack.imgur.com/tmxrG.png\" alt=\"Here\" /></p>\n<p>So instead of changing the background color (here red and blue)i want to change the filling of the button (here white). Is there a way to do it?</p>\n"},{"tags":["java","joptionpane"],"comments":[{"owner":{"account_id":7677244,"reputation":630,"user_id":5817706,"display_name":"Mohammed Fadhl"},"score":0,"creation_date":1671200358,"post_id":74823029,"comment_id":132054061,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"display_name":"user15314575"},"score":1,"creation_date":1671208973,"post_id":74823029,"comment_id":132057048,"body_markdown":"`JOptionPane.showMessageDialog` is never executed because no exception is thrown! Even if a non-numeric value is entered! Why? Because `parseDouble` has to be in the `try` block and not before it...","body":"<code>JOptionPane.showMessageDialog</code> is never executed because no exception is thrown! Even if a non-numeric value is entered! Why? Because <code>parseDouble</code> has to be in the <code>try</code> block and not before it..."}],"owner":{"account_id":23633376,"reputation":1,"user_id":17664786,"display_name":"Watatops"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671185848,"creation_date":1671185848,"question_id":74823029,"body_markdown":"```\r\n @Override\r\n   public void actionPerformed(ActionEvent e){\r\n      \r\n      if(e.getSource() == back){\r\n       frame.dispose();\r\n         home h = new home();\r\n      }\r\n     \r\n           \r\n      //rent button\r\n      \r\n      if(e.getSource() == rent){\r\n            double money = 0;\r\n            money = Double.parseDouble(txtinsertmoney.getText());\r\n            \r\n            try{\r\n               if(blackadam.isSelected()){\r\n               money = money - 1009.00;\r\n               }\r\n          \r\n               if(up.isSelected()){\r\n               money = money - 212.00; \r\n               }\r\n            \r\n               if(terminator.isSelected()){\r\n               money = money - 220.00; \r\n               }\r\n            \r\n               if(justiceleague.isSelected()){\r\n               money = money - 1100.00;\r\n               }\r\n            \r\n               if(yourname.isSelected()){\r\n               money = money - 1200;\r\n               }\r\n            \r\n               if(starwars.isSelected()){\r\n               money = money - 275;\r\n               }\r\n               if(demonslayer.isSelected()){\r\n               money = money - 1100;\r\n               }\r\n               if(madmax.isSelected()){\r\n               money = money - 825;\r\n               }\r\n               if(topgun.isSelected()){\r\n               money = money - 220;\r\n               }\r\n               if(predator.isSelected()){\r\n               money = money - 400;\r\n               }\r\n               if(nul.isSelected()){\r\n               money = money - 220;\r\n               }\r\n               \r\n               else{\r\n               txtchange.setText(Double.toString(money));\r\n               }\r\n               \r\n            }\r\n            catch(NumberFormatException ex){\r\n               JOptionPane.showMessageDialog(frame,&quot;ERROR&quot;,&quot;ERROR&quot;,JOptionPane.ERROR_MESSAGE );\r\n            }\r\n            \r\n      }\r\n\r\n```\r\n\r\nI am trying to display a JOptionPane when entering a String value instead of double. It should pop out with a displayed message as &quot;ERROR&quot; but it does not show. I am also using a try and catch method. ..................................................................................................................................................................................................................................................................................................................................\r\n","title":"JOptionPane message does not show when entering the wrong value","body":"<pre><code> @Override\n   public void actionPerformed(ActionEvent e){\n      \n      if(e.getSource() == back){\n       frame.dispose();\n         home h = new home();\n      }\n     \n           \n      //rent button\n      \n      if(e.getSource() == rent){\n            double money = 0;\n            money = Double.parseDouble(txtinsertmoney.getText());\n            \n            try{\n               if(blackadam.isSelected()){\n               money = money - 1009.00;\n               }\n          \n               if(up.isSelected()){\n               money = money - 212.00; \n               }\n            \n               if(terminator.isSelected()){\n               money = money - 220.00; \n               }\n            \n               if(justiceleague.isSelected()){\n               money = money - 1100.00;\n               }\n            \n               if(yourname.isSelected()){\n               money = money - 1200;\n               }\n            \n               if(starwars.isSelected()){\n               money = money - 275;\n               }\n               if(demonslayer.isSelected()){\n               money = money - 1100;\n               }\n               if(madmax.isSelected()){\n               money = money - 825;\n               }\n               if(topgun.isSelected()){\n               money = money - 220;\n               }\n               if(predator.isSelected()){\n               money = money - 400;\n               }\n               if(nul.isSelected()){\n               money = money - 220;\n               }\n               \n               else{\n               txtchange.setText(Double.toString(money));\n               }\n               \n            }\n            catch(NumberFormatException ex){\n               JOptionPane.showMessageDialog(frame,&quot;ERROR&quot;,&quot;ERROR&quot;,JOptionPane.ERROR_MESSAGE );\n            }\n            \n      }\n\n</code></pre>\n<p>I am trying to display a JOptionPane when entering a String value instead of double. It should pop out with a displayed message as &quot;ERROR&quot; but it does not show. I am also using a try and catch method. ..................................................................................................................................................................................................................................................................................................................................</p>\n"},{"tags":["java","android","sqlite"],"comments":[{"owner":{"account_id":22425611,"reputation":3,"user_id":16632260,"display_name":"si testing"},"score":0,"creation_date":1671108378,"post_id":74811626,"comment_id":132029738,"body_markdown":"yes java language","body":"yes java language"}],"answers":[{"comments":[{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1671194115,"post_id":74823011,"comment_id":132051878,"body_markdown":"Why? If the id does not exist in the table then nothing will be deleted.","body":"Why? If the id does not exist in the table then nothing will be deleted."},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671194750,"post_id":74823011,"comment_id":132052063,"body_markdown":"Your error is `error : index not found`. It means your data is not found. But you want to delete it.","body":"Your error is <code>error : index not found</code>. It means your data is not found. But you want to delete it."},{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1671205632,"post_id":74823011,"comment_id":132055923,"body_markdown":"No, this error does not mean that the row is not found. SQLite does not throw an error when a deletion does not succeed because the row does not exist.","body":"No, this error does not mean that the row is not found. SQLite does not throw an error when a deletion does not succeed because the row does not exist."},{"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"score":0,"creation_date":1671260193,"post_id":74823011,"comment_id":132065461,"body_markdown":"in my case that working for me","body":"in my case that working for me"},{"owner":{"account_id":14535244,"reputation":161564,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1671272089,"post_id":74823011,"comment_id":132066871,"body_markdown":"It is working but it is not necessary and for sure does not solve the OP&#39;s problem.","body":"It is working but it is not necessary and for sure does not solve the OP&#39;s problem."}],"tags":[],"owner":{"account_id":26359116,"reputation":585,"user_id":20015640,"display_name":"Urvish Shiroya"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671185696,"creation_date":1671185696,"answer_id":74823011,"question_id":74811626,"body_markdown":"You must determine whether or not the data exists in the sqlite database.\r\n\r\n```java\r\n public boolean checkIfRecordExist(String tableName, String columnName, String fieldValue) {\r\n        SQLiteDatabase database = this.getReadableDatabase();\r\n        String Query = &quot;Select * from &quot; + tableName + &quot; where &quot; + columnName + &quot; =? &quot;;\r\n        Cursor cursor = database.rawQuery(Query, new String[]{fieldValue});\r\n        if (cursor.getCount() &lt;= 0) {\r\n            cursor.close();\r\n            return false;\r\n        }\r\n        cursor.close();\r\n        return true;\r\n    }\r\n```\r\n\r\nnow modify your code like this...\r\n\r\n```java\r\nif (checkIfRecordExist(&quot;tbl_rmd&quot;, &quot;rmd_typ&quot;, id)) {\r\n    db.delete(&quot;tbl_rmd&quot;, &quot;rmd_typ = ? &quot;, new String[]{id});\r\n}\r\n```","title":"Data not delete using sqllite database","body":"<p>You must determine whether or not the data exists in the sqlite database.</p>\n<pre class=\"lang-java prettyprint-override\"><code> public boolean checkIfRecordExist(String tableName, String columnName, String fieldValue) {\n        SQLiteDatabase database = this.getReadableDatabase();\n        String Query = &quot;Select * from &quot; + tableName + &quot; where &quot; + columnName + &quot; =? &quot;;\n        Cursor cursor = database.rawQuery(Query, new String[]{fieldValue});\n        if (cursor.getCount() &lt;= 0) {\n            cursor.close();\n            return false;\n        }\n        cursor.close();\n        return true;\n    }\n</code></pre>\n<p>now modify your code like this...</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (checkIfRecordExist(&quot;tbl_rmd&quot;, &quot;rmd_typ&quot;, id)) {\n    db.delete(&quot;tbl_rmd&quot;, &quot;rmd_typ = ? &quot;, new String[]{id});\n}\n</code></pre>\n"}],"owner":{"account_id":22425611,"reputation":3,"user_id":16632260,"display_name":"si testing"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74823011,"answer_count":1,"score":-1,"last_activity_date":1671185696,"creation_date":1671107758,"question_id":74811626,"body_markdown":"How to delete specific data using sqlite database via android.\r\n```\r\ndb.delete(&quot;tbl_rmd&quot;, &quot;rmd_typ = ? &quot;, new String[]{id});\r\n```\r\n&gt;error : index not found\r\n\r\n","title":"Data not delete using sqllite database","body":"<p>How to delete specific data using sqlite database via android.</p>\n<pre><code>db.delete(&quot;tbl_rmd&quot;, &quot;rmd_typ = ? &quot;, new String[]{id});\n</code></pre>\n<blockquote>\n<p>error : index not found</p>\n</blockquote>\n"},{"tags":["java","hashmap","hashtable"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1671184859,"post_id":74822722,"comment_id":132049031,"body_markdown":"What is the exact error message you are getting. And what is `multiplier` and `tolerance` supposed to be in the code above?You seem to use those variables as maps but they are never defined anywhere.","body":"What is the exact error message you are getting. And what is <code>multiplier</code> and <code>tolerance</code> supposed to be in the code above?You seem to use those variables as maps but they are never defined anywhere."}],"answers":[{"tags":[],"owner":{"account_id":16699538,"reputation":29,"user_id":12069683,"display_name":"Rab Wallace"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1671184804,"creation_date":1671184617,"answer_id":74822807,"question_id":74822722,"body_markdown":"Try importing it:\r\n\r\n     import java.util.HashMap;","title":"I am getting HashMap Cannot be resolved to a type in Java","body":"<p>Try importing it:</p>\n<pre><code> import java.util.HashMap;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23991256,"reputation":11,"user_id":17977380,"display_name":"Krypt0n112"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671184843,"creation_date":1671184843,"answer_id":74822852,"question_id":74822722,"body_markdown":"you could check the imports and try to do\r\n```\r\nMap&lt;String, String&gt; color_digits = new HashMap&lt;String, String&gt;();\r\n```\r\n\r\nelse i dont see anything strange ","title":"I am getting HashMap Cannot be resolved to a type in Java","body":"<p>you could check the imports and try to do</p>\n<pre><code>Map&lt;String, String&gt; color_digits = new HashMap&lt;String, String&gt;();\n</code></pre>\n<p>else i dont see anything strange</p>\n"}],"owner":{"account_id":27270910,"reputation":1,"user_id":20792236,"display_name":"12_AIML_ISHAAN GUPTA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1671185550,"answer_count":2,"score":-1,"last_activity_date":1671185612,"creation_date":1671184182,"question_id":74822722,"body_markdown":"I want to print corresponding string values, to find the inductance or an inductor using the colour codes in java\r\n\r\n```\r\npublic class Inductance\r\n{\r\n \r\n  // Function to find the inductance\r\n  // using color codes of inductor\r\n  public static void findInductance(String a, String b, String c, String d)\r\n  {\r\n \r\n    // Hash-map to store the values\r\n    // of the color-digits\r\n    HashMap&lt;String, String&gt; color_digit = new HashMap&lt;String, String&gt;() ;\r\n    color_digit.put(&quot;black&quot;, &quot;0&quot;);\r\n    color_digit.put(&quot;brown&quot;, &quot;1&quot;);\r\n    color_digit.put(&quot;red&quot;, &quot;2&quot;);\r\n    color_digit.put(&quot;orange&quot;, &quot;3&quot;);\r\n    color_digit.put(&quot;yellow&quot;, &quot;4&quot;);\r\n    color_digit.put(&quot;green&quot;, &quot;5&quot;);\r\n    color_digit.put(&quot;blue&quot;, &quot;6&quot;);\r\n    color_digit.put(&quot;violet&quot;, &quot;7&quot;);\r\n    color_digit.put(&quot;grey&quot;, &quot;8&quot;);\r\n    color_digit.put(&quot;white&quot;, &quot;9&quot;);\r\n \r\n\r\n    if (color_digit.containsKey(a)\r\n        &amp;&amp; color_digit.containsKey(b)\r\n        &amp;&amp; multiplier.containsKey(c)\r\n        &amp;&amp; tolerance.containsKey(d))\r\n    {\r\n      String xx = color_digit.get(a);\r\n      String yy = color_digit.get(b);\r\n      String zz = multiplier.get(c);\r\n      String aa = tolerance.get(d);\r\n      System.out.println(&quot;Inductance = &quot; + xx + yy+\r\n                         &quot; x &quot; + zz + &quot; ohms &quot; +  aa);\r\n    }\r\n    else\r\n      System.out.println(&quot;Invalid Colors&quot;);\r\n  }\r\n \r\n  // Driver Code\r\n  public static void main(String[] args)\r\n  {\r\n    String a = &quot;black&quot;;\r\n    String b = &quot;brown&quot;;\r\n    String c = &quot;red&quot;;\r\n    String d = &quot;green&quot;;\r\n \r\n    // Function Call\r\n    findInductance(a, b, c, d);\r\n  }\r\n}\r\n```\r\nFor example, the colour bands are black, brown and red, \r\nThe inductance should be 102, and so on\r\n(Ps. I have added Multiplier and Tolerance hashmaps too, but the site says the code is too long, sooo)","title":"I am getting HashMap Cannot be resolved to a type in Java","body":"<p>I want to print corresponding string values, to find the inductance or an inductor using the colour codes in java</p>\n<pre><code>public class Inductance\n{\n \n  // Function to find the inductance\n  // using color codes of inductor\n  public static void findInductance(String a, String b, String c, String d)\n  {\n \n    // Hash-map to store the values\n    // of the color-digits\n    HashMap&lt;String, String&gt; color_digit = new HashMap&lt;String, String&gt;() ;\n    color_digit.put(&quot;black&quot;, &quot;0&quot;);\n    color_digit.put(&quot;brown&quot;, &quot;1&quot;);\n    color_digit.put(&quot;red&quot;, &quot;2&quot;);\n    color_digit.put(&quot;orange&quot;, &quot;3&quot;);\n    color_digit.put(&quot;yellow&quot;, &quot;4&quot;);\n    color_digit.put(&quot;green&quot;, &quot;5&quot;);\n    color_digit.put(&quot;blue&quot;, &quot;6&quot;);\n    color_digit.put(&quot;violet&quot;, &quot;7&quot;);\n    color_digit.put(&quot;grey&quot;, &quot;8&quot;);\n    color_digit.put(&quot;white&quot;, &quot;9&quot;);\n \n\n    if (color_digit.containsKey(a)\n        &amp;&amp; color_digit.containsKey(b)\n        &amp;&amp; multiplier.containsKey(c)\n        &amp;&amp; tolerance.containsKey(d))\n    {\n      String xx = color_digit.get(a);\n      String yy = color_digit.get(b);\n      String zz = multiplier.get(c);\n      String aa = tolerance.get(d);\n      System.out.println(&quot;Inductance = &quot; + xx + yy+\n                         &quot; x &quot; + zz + &quot; ohms &quot; +  aa);\n    }\n    else\n      System.out.println(&quot;Invalid Colors&quot;);\n  }\n \n  // Driver Code\n  public static void main(String[] args)\n  {\n    String a = &quot;black&quot;;\n    String b = &quot;brown&quot;;\n    String c = &quot;red&quot;;\n    String d = &quot;green&quot;;\n \n    // Function Call\n    findInductance(a, b, c, d);\n  }\n}\n</code></pre>\n<p>For example, the colour bands are black, brown and red,\nThe inductance should be 102, and so on\n(Ps. I have added Multiplier and Tolerance hashmaps too, but the site says the code is too long, sooo)</p>\n"},{"tags":["java","text","file-io","ascii","text-files"],"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":27,"creation_date":1388324130,"post_id":4716503,"comment_id":31230577,"body_markdown":"I also disagree with closing as &quot;not constructive&quot;. Fortunately, this could well be closed as **duplicate**. Good answers e.g. in [How to create a String from the contents of a file?](http://stackoverflow.com/questions/326390/how-to-create-a-java-string-from-the-contents-of-a-file), [What is simplest way to read a file into String?](http://stackoverflow.com/questions/3402735/what-is-simplest-way-to-read-a-file-into-string-in-java), [What are the simplest classes for reading files?](http://stackoverflow.com/questions/4908989/what-are-the-best-simplest-classes-used-for-reading-files-in-java)","body":"I also disagree with closing as &quot;not constructive&quot;. Fortunately, this could well be closed as <b>duplicate</b>. Good answers e.g. in <a href=\"http://stackoverflow.com/questions/326390/how-to-create-a-java-string-from-the-contents-of-a-file\">How to create a String from the contents of a file?</a>, <a href=\"http://stackoverflow.com/questions/3402735/what-is-simplest-way-to-read-a-file-into-string-in-java\">What is simplest way to read a file into String?</a>, <a href=\"http://stackoverflow.com/questions/4908989/what-are-the-best-simplest-classes-used-for-reading-files-in-java\">What are the simplest classes for reading files?</a>"},{"owner":{"account_id":96009,"reputation":6856,"user_id":261181,"accept_rate":85,"display_name":"Aivar"},"score":1,"creation_date":1398711537,"post_id":4716503,"comment_id":35758161,"body_markdown":"Without loops:\n{{{\nScanner sc = new Scanner(file, &quot;UTF-8&quot;);\nsc.useDelimiter(&quot;$^&quot;); // regex matching nothing\nString text = sc.next();\nsc.close();\n}}}","body":"Without loops: {{{ Scanner sc = new Scanner(file, &quot;UTF-8&quot;); sc.useDelimiter(&quot;$^&quot;); // regex matching nothing String text = sc.next(); sc.close(); }}}"},{"owner":{"account_id":227596,"reputation":4137,"user_id":489364,"accept_rate":53,"display_name":"kommradHomer"},"score":3,"creation_date":1413881090,"post_id":4716503,"comment_id":41600320,"body_markdown":"it&#39;s so interesting that there is nothing like &quot;read()&quot; in python , to read the whole file to a string","body":"it&#39;s so interesting that there is nothing like &quot;read()&quot; in python , to read the whole file to a string"},{"owner":{"account_id":1967071,"reputation":1336,"user_id":1767021,"accept_rate":76,"display_name":"deldev"},"score":2,"creation_date":1426600063,"post_id":4716503,"comment_id":46431703,"body_markdown":"This is the simplest way to do this: http://www.mkyong.com/java/how-to-read-file-from-java-bufferedreader-example/","body":"This is the simplest way to do this: <a href=\"http://www.mkyong.com/java/how-to-read-file-from-java-bufferedreader-example/\" rel=\"nofollow noreferrer\">mkyong.com/java/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":441424,"reputation":10612,"user_id":831507,"accept_rate":100,"display_name":"Vlad"},"score":19,"creation_date":1377611103,"post_id":4716521,"comment_id":27141554,"body_markdown":"Picking a Reader really depends on what you need the content of the file for. If the file is small(ish) and you need it all, it&#39;s faster (benchmarked by us: 1.8-2x) to just use a FileReader and read everything (or at least large enough chunks). If you&#39;re processing it line by line then go for the BufferedReader.","body":"Picking a Reader really depends on what you need the content of the file for. If the file is small(ish) and you need it all, it&#39;s faster (benchmarked by us: 1.8-2x) to just use a FileReader and read everything (or at least large enough chunks). If you&#39;re processing it line by line then go for the BufferedReader."},{"owner":{"account_id":1196850,"reputation":2246,"user_id":1168382,"accept_rate":40,"display_name":"Dimitry K"},"score":0,"creation_date":1402493326,"post_id":4716521,"comment_id":37293959,"body_markdown":"I guess @Vlad is referring to the method of reading entire file into memory explained here http://www.java2s.com/Tutorial/Java/0180__File/LoadatextfilecontentsasaString.htm","body":"I guess @Vlad is referring to the method of reading entire file into memory explained here <a href=\"http://www.java2s.com/Tutorial/Java/0180__File/LoadatextfilecontentsasaString.htm\" rel=\"nofollow noreferrer\">java2s.com/Tutorial/Java/0180__File/&hellip;</a>"},{"owner":{"account_id":1642950,"reputation":11777,"user_id":1515058,"accept_rate":57,"display_name":"Daniil Shevelev"},"score":4,"creation_date":1410720593,"post_id":4716521,"comment_id":40422430,"body_markdown":"Will the line order be preserved when using &quot;Files.lines(..).forEach(...)&quot;. My understanding is that the order will be arbitrary after this operation.","body":"Will the line order be preserved when using &quot;Files.lines(..).forEach(...)&quot;. My understanding is that the order will be arbitrary after this operation."},{"owner":{"account_id":2330629,"reputation":12871,"user_id":2157640,"accept_rate":89,"display_name":"Palec"},"score":47,"creation_date":1424040343,"post_id":4716521,"comment_id":45379176,"body_markdown":"`Files.lines(…).forEach(…)` does not preserve order of lines but is executed in parallel, @Dash. If the order is important, you can use `Files.lines(…).forEachOrdered(…)`, which should preserve the order (did not verify though).","body":"<code>Files.lines(…).forEach(…)</code> does not preserve order of lines but is executed in parallel, @Dash. If the order is important, you can use <code>Files.lines(…).forEachOrdered(…)</code>, which should preserve the order (did not verify though)."},{"owner":{"account_id":319988,"reputation":10980,"user_id":638028,"accept_rate":91,"display_name":"Klitos Kyriacou"},"score":2,"creation_date":1447077782,"post_id":4716521,"comment_id":54995919,"body_markdown":"@Palec this is interesting, but can you quote from the docs where it says that `Files.lines(...).forEach(...)` is executed in parallel? I thought this was only the case when you explicitly make the stream parallel using `Files.lines(...).parallel().forEach(...)`.","body":"@Palec this is interesting, but can you quote from the docs where it says that <code>Files.lines(...).forEach(...)</code> is executed in parallel? I thought this was only the case when you explicitly make the stream parallel using <code>Files.lines(...).parallel().forEach(...)</code>."},{"owner":{"account_id":2330629,"reputation":12871,"user_id":2157640,"accept_rate":89,"display_name":"Palec"},"score":5,"creation_date":1447134506,"post_id":4716521,"comment_id":55021330,"body_markdown":"My original formulation is not bulletproof, @KlitosKyriacou. The point is that [`forEach`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-) does not guarantee any order and the reason is easy parallelization. If order is to be preserved, use [`forEachOrdered`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEachOrdered-java.util.function.Consumer-).","body":"My original formulation is not bulletproof, @KlitosKyriacou. The point is that <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>forEach</code></a> does not guarantee any order and the reason is easy parallelization. If order is to be preserved, use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEachOrdered-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>forEachOrdered</code></a>."},{"owner":{"account_id":7349206,"reputation":791,"user_id":5595994,"accept_rate":96,"display_name":"Hashmatullah Noorzai"},"score":0,"creation_date":1518461781,"post_id":4716521,"comment_id":84507786,"body_markdown":"@AravindR.Yarram by the way the link to the book &quot;Thinking In Java&quot; is no longer working!","body":"@AravindR.Yarram by the way the link to the book &quot;Thinking In Java&quot; is no longer working!"},{"owner":{"account_id":4469637,"reputation":473,"user_id":3636293,"display_name":"EagleEye1984"},"score":0,"creation_date":1640249606,"post_id":4716521,"comment_id":124551546,"body_markdown":"Just to clarify the answer about the parallelization and process order. The Java doc says &quot;The behavior of this operation is explicitly nondeterministic. For parallel stream pipelines, this operation does not guarantee to respect the encounter order of the stream, as doing so would sacrifice the benefit of parallelism. For any given element, the action may be performed at whatever time and in whatever thread the library chooses. If the action accesses shared state, it is responsible for providing the required synchronization.&quot;","body":"Just to clarify the answer about the parallelization and process order. The Java doc says &quot;The behavior of this operation is explicitly nondeterministic. For parallel stream pipelines, this operation does not guarantee to respect the encounter order of the stream, as doing so would sacrifice the benefit of parallelism. For any given element, the action may be performed at whatever time and in whatever thread the library chooses. If the action accesses shared state, it is responsible for providing the required synchronization.&quot;"},{"owner":{"account_id":4469637,"reputation":473,"user_id":3636293,"display_name":"EagleEye1984"},"score":0,"creation_date":1640249689,"post_id":4716521,"comment_id":124551573,"body_markdown":"So my understanding is that the order is always the same unless parallelism is used.","body":"So my understanding is that the order is always the same unless parallelism is used."}],"tags":[],"owner":{"account_id":43539,"reputation":79200,"user_id":127320,"accept_rate":87,"display_name":"Aravind Yarram"},"comment_count":9,"down_vote_count":13,"up_vote_count":649,"is_accepted":true,"score":636,"last_activity_date":1549408889,"creation_date":1295289099,"answer_id":4716521,"question_id":4716503,"body_markdown":"ASCII is a TEXT file so you would use [`Readers`][1] for reading. Java also supports reading from a binary file using [`InputStreams`][2]. If the files being read are huge then you would want to use a [`BufferedReader`][3] on top of a [`FileReader`][4] to improve read performance.\r\n\r\nGo through [this article][5] on how to use a `Reader`\r\n\r\nI&#39;d also recommend you download and read this wonderful (yet free) book called [**Thinking In Java**][6]\r\n\r\n**In Java 7**:\r\n\r\n\r\n\r\n    new String(Files.readAllBytes(...))\r\n[(docs)][7] \r\nor\r\n\r\n    Files.readAllLines(...)\r\n[(docs)][8]\r\n\r\n**In Java 8**:\r\n\r\n    Files.lines(..).forEach(...)\r\n[(docs)][9]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/io/FileReader.html\r\n  [5]: http://www.javapractices.com/topic/TopicAction.do?Id=42\r\n  [6]: https://www.mindviewllc.com/quicklinks/#java\r\n  [7]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes%28java.nio.file.Path%29\r\n  [8]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines%28java.nio.file.Path,%20java.nio.charset.Charset%29\r\n  [9]: http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-","title":"Reading a plain text file in Java","body":"<p>ASCII is a TEXT file so you would use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/Reader.html\" rel=\"noreferrer\"><code>Readers</code></a> for reading. Java also supports reading from a binary file using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html\" rel=\"noreferrer\"><code>InputStreams</code></a>. If the files being read are huge then you would want to use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/BufferedReader.html\" rel=\"noreferrer\"><code>BufferedReader</code></a> on top of a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/FileReader.html\" rel=\"noreferrer\"><code>FileReader</code></a> to improve read performance.</p>\n\n<p>Go through <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=42\" rel=\"noreferrer\">this article</a> on how to use a <code>Reader</code></p>\n\n<p>I'd also recommend you download and read this wonderful (yet free) book called <a href=\"https://www.mindviewllc.com/quicklinks/#java\" rel=\"noreferrer\"><strong>Thinking In Java</strong></a></p>\n\n<p><strong>In Java 7</strong>:</p>\n\n<pre><code>new String(Files.readAllBytes(...))\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes%28java.nio.file.Path%29\" rel=\"noreferrer\">(docs)</a> \nor</p>\n\n<pre><code>Files.readAllLines(...)\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines%28java.nio.file.Path,%20java.nio.charset.Charset%29\" rel=\"noreferrer\">(docs)</a></p>\n\n<p><strong>In Java 8</strong>:</p>\n\n<pre><code>Files.lines(..).forEach(...)\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-\" rel=\"noreferrer\">(docs)</a></p>\n"},{"comments":[{"owner":{"account_id":226762,"reputation":11452,"user_id":2162226,"accept_rate":70,"display_name":"Gene Bo"},"score":29,"creation_date":1397852119,"post_id":4716556,"comment_id":35419051,"body_markdown":"while (in.hasNext())\n{\n  System.out.println (in.next());\n}","body":"while (in.hasNext()) {   System.out.println (in.next()); }"},{"owner":{"account_id":167319,"reputation":23070,"user_id":392046,"accept_rate":100,"display_name":"Jesus Ramos"},"score":17,"creation_date":1407904690,"post_id":4716556,"comment_id":39390722,"body_markdown":"@Hissain But much easier to use than `BufferedReader`","body":"@Hissain But much easier to use than <code>BufferedReader</code>"},{"owner":{"account_id":5137250,"reputation":722,"user_id":4115587,"accept_rate":50,"display_name":"Rahal Kanishka"},"score":3,"creation_date":1467028980,"post_id":4716556,"comment_id":63545456,"body_markdown":"Must Surround it with try Catch","body":"Must Surround it with try Catch"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1557398180,"post_id":4716556,"comment_id":98755551,"body_markdown":"@JesusRamos Not really, why do you think so? What&#39;s easier about this than `while ((line = br.readLine()) != null) { sb.append(line); }`?","body":"@JesusRamos Not really, why do you think so? What&#39;s easier about this than <code>while ((line = br.readLine()) != null) { sb.append(line); }</code>?"}],"tags":[],"owner":{"account_id":167319,"reputation":23070,"user_id":392046,"accept_rate":100,"display_name":"Jesus Ramos"},"comment_count":4,"down_vote_count":3,"up_vote_count":155,"is_accepted":false,"score":152,"last_activity_date":1495652191,"creation_date":1295289311,"answer_id":4716556,"question_id":4716503,"body_markdown":"The easiest way is to use the `Scanner` class in Java and the FileReader object. Simple example:\r\n\r\n    Scanner in = new Scanner(new FileReader(&quot;filename.txt&quot;));\r\n\r\n`Scanner` has several methods for reading in strings, numbers, etc... You can look for more information on this on the Java documentation page.\r\n\r\nFor example reading the whole content into a `String`:\r\n   \r\n    StringBuilder sb = new StringBuilder();\r\n    while(in.hasNext()) {\r\n        sb.append(in.next());\r\n    }\r\n    in.close();\r\n    outString = sb.toString();\r\n\r\nAlso if you need a specific encoding you can use this instead of `FileReader`:\r\n\r\n    new InputStreamReader(new FileInputStream(fileUtf8), StandardCharsets.UTF_8)\r\n","title":"Reading a plain text file in Java","body":"<p>The easiest way is to use the <code>Scanner</code> class in Java and the FileReader object. Simple example:</p>\n\n<pre><code>Scanner in = new Scanner(new FileReader(\"filename.txt\"));\n</code></pre>\n\n<p><code>Scanner</code> has several methods for reading in strings, numbers, etc... You can look for more information on this on the Java documentation page.</p>\n\n<p>For example reading the whole content into a <code>String</code>:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nwhile(in.hasNext()) {\n    sb.append(in.next());\n}\nin.close();\noutString = sb.toString();\n</code></pre>\n\n<p>Also if you need a specific encoding you can use this instead of <code>FileReader</code>:</p>\n\n<pre><code>new InputStreamReader(new FileInputStream(fileUtf8), StandardCharsets.UTF_8)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":356878,"reputation":253,"user_id":696680,"display_name":"Ramon Fincken"},"score":7,"creation_date":1366110427,"post_id":4716623,"comment_id":22876455,"body_markdown":"I&#39;ve made a small adjustment to stop adding a newline ( \\n ) if the last line is reached.\n`code`\n\t            while (line != null) {\n\t                sb.append(line);\n\t                \n\t                line = br.readLine();\n\t                \n\t                // Only add new line when curline is NOT the last line..\n\t                if(line != null)\n\t                {\n\t                \tsb.append(&quot;\\n&quot;);\n\t                }\n\t            }`code`","body":"I&#39;ve made a small adjustment to stop adding a newline ( \\n ) if the last line is reached. <code>code</code> \t            while (line != null) { \t                sb.append(line); \t                 \t                line = br.readLine(); \t                 \t                // Only add new line when curline is NOT the last line.. \t                if(line != null) \t                { \t                \tsb.append(&quot;\\n&quot;); \t                } \t            }<code>code</code>"},{"owner":{"account_id":189878,"reputation":5507,"user_id":429476,"accept_rate":42,"display_name":"Alex Punnen"},"score":1,"creation_date":1370328193,"post_id":4716623,"comment_id":24408786,"body_markdown":"I feel it is  better to explicitly give the encoding option and use the FileInputStream rather than directly the FileReader ? See this question too http://stackoverflow.com/questions/696626/java-filereader-encoding-issue `reader = new InputStreamReader(new FileInputStream(&quot;&lt;filePath&gt;&quot;, &quot;UTF-8&quot;);","body":"I feel it is  better to explicitly give the encoding option and use the FileInputStream rather than directly the FileReader ? See this question too <a href=\"http://stackoverflow.com/questions/696626/java-filereader-encoding-issue\" title=\"java filereader encoding issue\">stackoverflow.com/questions/696626/&hellip;</a> `reader = new InputStreamReader(new FileInputStream(&quot;&lt;filePath&gt;&quot;, &quot;UTF-8&quot;);"},{"owner":{"account_id":228467,"reputation":1684,"user_id":490787,"display_name":"gb96"},"score":2,"creation_date":1372985722,"post_id":4716623,"comment_id":25403028,"body_markdown":"Similar to Apache Common IO IOUtils#toString() is sun.misc.IOUtils#readFully(), which is included in the Sun/Oracle JREs.","body":"Similar to Apache Common IO IOUtils#toString() is sun.misc.IOUtils#readFully(), which is included in the Sun/Oracle JREs."},{"owner":{"account_id":228467,"reputation":1684,"user_id":490787,"display_name":"gb96"},"score":4,"creation_date":1372985881,"post_id":4716623,"comment_id":25403050,"body_markdown":"For performance always call sb.append(&#39;\\n&#39;) in preference to sb.append(&quot;\\n&quot;) as a char is appended to the StringBuilder faster than a String","body":"For performance always call sb.append(&#39;\\n&#39;) in preference to sb.append(&quot;\\n&quot;) as a char is appended to the StringBuilder faster than a String"},{"owner":{"account_id":75937,"reputation":8333,"user_id":217672,"display_name":"Knubo"},"score":0,"creation_date":1375257445,"post_id":4716623,"comment_id":26258102,"body_markdown":"@gb96 I added your change to my example.","body":"@gb96 I added your change to my example."},{"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"score":2,"creation_date":1394015000,"post_id":4716623,"comment_id":33691647,"body_markdown":"FileReader may throw FileNotFoundException and BufferedRead may throw IOException so you have to catch them.","body":"FileReader may throw FileNotFoundException and BufferedRead may throw IOException so you have to catch them."},{"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"score":0,"creation_date":1394015184,"post_id":4716623,"comment_id":33691766,"body_markdown":"Same consideration should be applied within finally too.","body":"Same consideration should be applied within finally too."},{"owner":{"account_id":75937,"reputation":8333,"user_id":217672,"display_name":"Knubo"},"score":0,"creation_date":1394435654,"post_id":4716623,"comment_id":33871509,"body_markdown":"I haven&#39;t added exception handling intentionally as you as the developer should always do the error handling that is proper for your application. Your compiler will assist those that does not see this themselves.","body":"I haven&#39;t added exception handling intentionally as you as the developer should always do the error handling that is proper for your application. Your compiler will assist those that does not see this themselves."},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":4,"creation_date":1395600490,"post_id":4716623,"comment_id":34400889,"body_markdown":"there is no need to use readers directly and also no need for ioutils. java7 has built in methods to read an entire file/all lines: See http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes(java.nio.file.Path) and http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)","body":"there is no need to use readers directly and also no need for ioutils. java7 has built in methods to read an entire file/all lines: See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes(java.nio.file.Path)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/&hellip;</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/&hellip;</a>"},{"owner":{"account_id":1593064,"reputation":4838,"user_id":1475962,"accept_rate":68,"display_name":"raju"},"score":0,"creation_date":1476427490,"post_id":4716623,"comment_id":67349596,"body_markdown":"shouldnt we close file input stream in last one you showed? I think its better to close the file input since there might be starters also here.","body":"shouldnt we close file input stream in last one you showed? I think its better to close the file input since there might be starters also here."},{"owner":{"account_id":6712910,"reputation":33888,"user_id":5175709,"accept_rate":85,"display_name":"mfaani"},"score":0,"creation_date":1484941779,"post_id":4716623,"comment_id":70734014,"body_markdown":"why do you need `sb.toString()`? what is the type of `sb` which needs to be stringified?","body":"why do you need <code>sb.toString()</code>? what is the type of <code>sb</code> which needs to be stringified?"},{"owner":{"account_id":2807675,"reputation":130,"user_id":2414586,"accept_rate":40,"display_name":"Aakshay Subramaniam"},"score":0,"creation_date":1505940277,"post_id":4716623,"comment_id":79623703,"body_markdown":"please remove this while (line != null)","body":"please remove this while (line != null)"},{"owner":{"account_id":2001051,"reputation":1982,"user_id":1820715,"accept_rate":75,"display_name":"Magno C"},"score":0,"creation_date":1651750549,"post_id":4716623,"comment_id":127439771,"body_markdown":"```IOUtils.toString``` is deprecated","body":"<code>IOUtils.toString</code> is deprecated"}],"tags":[],"owner":{"account_id":75937,"reputation":8333,"user_id":217672,"display_name":"Knubo"},"comment_count":13,"down_vote_count":5,"up_vote_count":753,"is_accepted":false,"score":748,"last_activity_date":1483523035,"creation_date":1295289775,"answer_id":4716623,"question_id":4716503,"body_markdown":"My favorite way to read a small file is to use a BufferedReader and a StringBuilder. It is very simple and to the point (though not particularly effective, but good enough for most cases):\r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;));\r\n    try {\r\n    \tStringBuilder sb = new StringBuilder();\r\n    \tString line = br.readLine();\r\n    \r\n    \twhile (line != null) {\r\n    \t\tsb.append(line);\r\n    \t\tsb.append(System.lineSeparator());\r\n    \t\tline = br.readLine();\r\n    \t}\r\n    \tString everything = sb.toString();\r\n    } finally {\r\n    \tbr.close();\r\n    }\r\n\r\nSome has pointed out that after Java 7 you should use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) (i.e. auto close) features:\r\n\r\n    try(BufferedReader br = new BufferedReader(new FileReader(&quot;file.txt&quot;))) {\r\n    \tStringBuilder sb = new StringBuilder();\r\n    \tString line = br.readLine();\r\n    \r\n    \twhile (line != null) {\r\n    \t\tsb.append(line);\r\n    \t\tsb.append(System.lineSeparator());\r\n    \t\tline = br.readLine();\r\n    \t}\r\n    \tString everything = sb.toString();\r\n    }\r\n\r\nWhen I read strings like this, I usually want to do some string handling per line anyways, so then I go for this implementation.\r\n\r\nThough if I want to actually just read a file into a String, I always use Apache [Commons IO][1] with the class IOUtils.toString() method. You can have a look at the source here:\r\n\r\nhttp://www.docjar.com/html/api/org/apache/commons/io/IOUtils.java.html\r\n\r\n    FileInputStream inputStream = new FileInputStream(&quot;foo.txt&quot;);\r\n    try {\r\n    \tString everything = IOUtils.toString(inputStream);\r\n    } finally {\r\n    \tinputStream.close();\r\n    }\r\n\r\nAnd even simpler with Java 7:\r\n\r\n    try(FileInputStream inputStream = new FileInputStream(&quot;foo.txt&quot;)) {    \t\r\n    \tString everything = IOUtils.toString(inputStream);\r\n        // do something with everything string\r\n    }\r\n\r\n  [1]: http://commons.apache.org/proper/commons-io/\r\n","title":"Reading a plain text file in Java","body":"<p>My favorite way to read a small file is to use a BufferedReader and a StringBuilder. It is very simple and to the point (though not particularly effective, but good enough for most cases):</p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(\"file.txt\"));\ntry {\n    StringBuilder sb = new StringBuilder();\n    String line = br.readLine();\n\n    while (line != null) {\n        sb.append(line);\n        sb.append(System.lineSeparator());\n        line = br.readLine();\n    }\n    String everything = sb.toString();\n} finally {\n    br.close();\n}\n</code></pre>\n\n<p>Some has pointed out that after Java 7 you should use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\">try-with-resources</a> (i.e. auto close) features:</p>\n\n<pre><code>try(BufferedReader br = new BufferedReader(new FileReader(\"file.txt\"))) {\n    StringBuilder sb = new StringBuilder();\n    String line = br.readLine();\n\n    while (line != null) {\n        sb.append(line);\n        sb.append(System.lineSeparator());\n        line = br.readLine();\n    }\n    String everything = sb.toString();\n}\n</code></pre>\n\n<p>When I read strings like this, I usually want to do some string handling per line anyways, so then I go for this implementation.</p>\n\n<p>Though if I want to actually just read a file into a String, I always use Apache <a href=\"http://commons.apache.org/proper/commons-io/\">Commons IO</a> with the class IOUtils.toString() method. You can have a look at the source here:</p>\n\n<p><a href=\"http://www.docjar.com/html/api/org/apache/commons/io/IOUtils.java.html\">http://www.docjar.com/html/api/org/apache/commons/io/IOUtils.java.html</a></p>\n\n<pre><code>FileInputStream inputStream = new FileInputStream(\"foo.txt\");\ntry {\n    String everything = IOUtils.toString(inputStream);\n} finally {\n    inputStream.close();\n}\n</code></pre>\n\n<p>And even simpler with Java 7:</p>\n\n<pre><code>try(FileInputStream inputStream = new FileInputStream(\"foo.txt\")) {     \n    String everything = IOUtils.toString(inputStream);\n    // do something with everything string\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1388323567,"post_id":4716651,"comment_id":31230406,"body_markdown":"Or if you prefer **[Guava](https://code.google.com/p/guava-libraries/)** (a more modern, actively maintained library), it has similar utilities in its [Files](http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html) class. [Simple examples in this answer](http://stackoverflow.com/questions/4908989/what-are-the-best-simplest-classes-used-for-reading-files-in-java/4909025#4909025).","body":"Or if you prefer <b><a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Guava</a></b> (a more modern, actively maintained library), it has similar utilities in its <a href=\"http://docs.guava-libraries.googlecode.com/git/javadoc/com/google/common/io/Files.html\" rel=\"nofollow noreferrer\">Files</a> class. <a href=\"http://stackoverflow.com/questions/4908989/what-are-the-best-simplest-classes-used-for-reading-files-in-java/4909025#4909025\">Simple examples in this answer</a>."},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":1,"creation_date":1395600649,"post_id":4716651,"comment_id":34400956,"body_markdown":"or you simply use the built in method to get all lines: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)","body":"or you simply use the built in method to get all lines: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/&hellip;</a>"},{"owner":{"account_id":65964,"reputation":6457,"user_id":193789,"accept_rate":74,"display_name":"kebs"},"score":0,"creation_date":1488813147,"post_id":4716651,"comment_id":72386001,"body_markdown":"Link on apache commons seems dead.","body":"Link on apache commons seems dead."}],"tags":[],"owner":{"account_id":279649,"reputation":453,"user_id":574927,"display_name":"Claude"},"comment_count":3,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1424001616,"creation_date":1295289963,"answer_id":4716651,"question_id":4716503,"body_markdown":"The methods within [`org.apache.commons.io.FileUtils`](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html) may also be very handy, e.g.:\r\n\r\n    /**\r\n     * Reads the contents of a file line by line to a List\r\n     * of Strings using the default encoding for the VM.\r\n     */\r\n    static List readLines(File file)","title":"Reading a plain text file in Java","body":"<p>The methods within <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\"><code>org.apache.commons.io.FileUtils</code></a> may also be very handy, e.g.:</p>\n\n<pre><code>/**\n * Reads the contents of a file line by line to a List\n * of Strings using the default encoding for the VM.\n */\nstatic List readLines(File file)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7342540,"reputation":940,"user_id":5718679,"accept_rate":75,"display_name":"Orar"},"score":0,"creation_date":1540522820,"post_id":4717154,"comment_id":92905970,"body_markdown":"You should have stated how its done and not to give a link to follow","body":"You should have stated how its done and not to give a link to follow"}],"tags":[],"owner":{"account_id":242372,"reputation":23523,"user_id":513838,"accept_rate":100,"display_name":"jzd"},"comment_count":1,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1295293546,"creation_date":1295293546,"answer_id":4717154,"question_id":4716503,"body_markdown":"I don&#39;t see it mentioned yet in the other answers so far.  But if &quot;Best&quot; means speed, then the new Java I/O (NIO) might provide the fastest preformance, but not always the easiest to figure out for someone learning.\r\n\r\nhttp://download.oracle.com/javase/tutorial/essential/io/file.html","title":"Reading a plain text file in Java","body":"<p>I don't see it mentioned yet in the other answers so far.  But if \"Best\" means speed, then the new Java I/O (NIO) might provide the fastest preformance, but not always the easiest to figure out for someone learning.</p>\n\n<p><a href=\"http://download.oracle.com/javase/tutorial/essential/io/file.html\" rel=\"nofollow\">http://download.oracle.com/javase/tutorial/essential/io/file.html</a></p>\n"},{"comments":[{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":2,"creation_date":1395600686,"post_id":4718651,"comment_id":34400972,"body_markdown":"it&#39;s also built into java7: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)","body":"it&#39;s also built into java7: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines(java.nio.file.Path,%20java.nio.charset.Charset)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/nio/file/&hellip;</a>"},{"owner":{"account_id":2330629,"reputation":12871,"user_id":2157640,"accept_rate":89,"display_name":"Palec"},"score":0,"creation_date":1424000573,"post_id":4718651,"comment_id":45367120,"body_markdown":"@PeterLawrey probably means [`org.apache.commons.io.FileUtils`](http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html). Google link may change content over time, as the most widespread meaning shifts, but this matches his query and looks correct.","body":"@PeterLawrey probably means <a href=\"http://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\"><code>org.apache.commons.io.FileUtils</code></a>. Google link may change content over time, as the most widespread meaning shifts, but this matches his query and looks correct."},{"owner":{"account_id":2330629,"reputation":12871,"user_id":2157640,"accept_rate":89,"display_name":"Palec"},"score":2,"creation_date":1424000809,"post_id":4718651,"comment_id":45367183,"body_markdown":"Unfortunately, nowadays there is no `readLines(String)` and `readLines(File)` is deprecated in favor of `readLines(File, Charset)`. The encoding can be supplied also as a string.","body":"Unfortunately, nowadays there is no <code>readLines(String)</code> and <code>readLines(File)</code> is deprecated in favor of <code>readLines(File, Charset)</code>. The encoding can be supplied also as a string."},{"owner":{"account_id":2330629,"reputation":12871,"user_id":2157640,"accept_rate":89,"display_name":"Palec"},"score":0,"creation_date":1424001399,"post_id":4718651,"comment_id":45367334,"body_markdown":"[A marginally older answer suggesting the same method](http://stackoverflow.com/a/4716651/2157640)","body":"<a href=\"http://stackoverflow.com/a/4716651/2157640\">A marginally older answer suggesting the same method</a>"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":4,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1295303603,"creation_date":1295303603,"answer_id":4718651,"question_id":4716503,"body_markdown":"What do you want to do with the text?  Is the file small enough to fit into memory?  I would try to find the simplest way to handle the file for your needs.  The FileUtils library is very handle for this.\r\n\r\n    for(String line: FileUtils.readLines(&quot;my-text-file&quot;))\r\n        System.out.println(line);\r\n\r\n","title":"Reading a plain text file in Java","body":"<p>What do you want to do with the text?  Is the file small enough to fit into memory?  I would try to find the simplest way to handle the file for your needs.  The FileUtils library is very handle for this.</p>\n\n<pre><code>for(String line: FileUtils.readLines(\"my-text-file\"))\n    System.out.println(line);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":12,"creation_date":1369748479,"post_id":10693861,"comment_id":24200874,"body_markdown":"Much faster, I doubt it, if you use simple string concatenation instead of a StringBuilder...","body":"Much faster, I doubt it, if you use simple string concatenation instead of a StringBuilder..."},{"owner":{"account_id":228467,"reputation":1684,"user_id":490787,"display_name":"gb96"},"score":6,"creation_date":1372985425,"post_id":10693861,"comment_id":25402980,"body_markdown":"I think the main speed gain is from reading in 1MB (1024 * 1024) blocks.  However you could do the same simply by passing 1024 * 1024 as second arg to BufferedReader constructor.","body":"I think the main speed gain is from reading in 1MB (1024 * 1024) blocks.  However you could do the same simply by passing 1024 * 1024 as second arg to BufferedReader constructor."},{"owner":{"account_id":140884,"reputation":19781,"user_id":347508,"display_name":"kritzikratzi"},"score":4,"creation_date":1395600930,"post_id":10693861,"comment_id":34401060,"body_markdown":"i don&#39;t believe this is tested at all. using ```+=``` in this way gives you quadratic (!) complexity for a task that should be linear complexity. this will start to crawl for files over a few mb. to get around this you should either keep the textblocks in a list&lt;string&gt; or use the aforementioned stringbuilder.","body":"i don&#39;t believe this is tested at all. using <code>+=</code> in this way gives you quadratic (!) complexity for a task that should be linear complexity. this will start to crawl for files over a few mb. to get around this you should either keep the textblocks in a list&lt;string&gt; or use the aforementioned stringbuilder."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1409220140,"post_id":10693861,"comment_id":39887235,"body_markdown":"Much faster than what? It most certainly is *not* faster than appending to a StringBuffer. -1","body":"Much faster than what? It most certainly is <i>not</i> faster than appending to a StringBuffer. -1"},{"owner":{"account_id":4878731,"reputation":20470,"user_id":3933089,"accept_rate":67,"display_name":"chiastic-security"},"score":1,"creation_date":1410545646,"post_id":10693861,"comment_id":40381276,"body_markdown":"@gb96 I thought the same about buffer sizes, but the detailed experiment in [this question](http://stackoverflow.com/questions/25606833/fastest-way-to-sum-integers-in-text-file) gave surprising results in a similar context: a 16KB buffer was consistently and noticeably faster.","body":"@gb96 I thought the same about buffer sizes, but the detailed experiment in <a href=\"http://stackoverflow.com/questions/25606833/fastest-way-to-sum-integers-in-text-file\">this question</a> gave surprising results in a similar context: a 16KB buffer was consistently and noticeably faster."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1517734342,"post_id":10693861,"comment_id":84208865,"body_markdown":"@bcsb1001 Rubbish. They are not &#39;better&#39;. They are merely non-thread-safe, an issue which doesn&#39;t arise here as the builder/buffer is method-local. Appending to a a string is very significantly *slower* than `StringBuilder`, which is why it exists, and which a simple, test will readily demonstrate. You also need to address the fact that this code doesn&#39;t handle end of stream correctly, or indeed all.","body":"@bcsb1001 Rubbish. They are not &#39;better&#39;. They are merely non-thread-safe, an issue which doesn&#39;t arise here as the builder/buffer is method-local. Appending to a a string is very significantly <i>slower</i> than <code>StringBuilder</code>, which is why it exists, and which a simple, test will readily demonstrate. You also need to address the fact that this code doesn&#39;t handle end of stream correctly, or indeed all."},{"owner":{"account_id":4321138,"reputation":2844,"user_id":3529323,"accept_rate":50,"display_name":"bcsb1001"},"score":0,"creation_date":1517747296,"post_id":10693861,"comment_id":84212299,"body_markdown":"@EJP Sorry about that comment, that was in 2015. Still, as the Javadoc of `StringBuffer` says, &quot;The StringBuilder class should generally be used in preference to this one, as it supports all of the same operations but it is faster, as it performs no synchronization.&quot; And synchronisation != thread-safety. But I agree with you that appending to a `StringBuilder` is faster than appending to a `String`, since it was designed to be mutable.","body":"@EJP Sorry about that comment, that was in 2015. Still, as the Javadoc of <code>StringBuffer</code> says, &quot;The StringBuilder class should generally be used in preference to this one, as it supports all of the same operations but it is faster, as it performs no synchronization.&quot; And synchronisation != thread-safety. But I agree with you that appending to a <code>StringBuilder</code> is faster than appending to a <code>String</code>, since it was designed to be mutable."}],"tags":[],"owner":{"account_id":1505534,"reputation":1124,"user_id":1408995,"accept_rate":43,"display_name":"Juan Carlos Kuri Pinto"},"comment_count":7,"down_vote_count":7,"up_vote_count":5,"is_accepted":false,"score":-2,"last_activity_date":1350754163,"creation_date":1337642376,"answer_id":10693861,"question_id":4716503,"body_markdown":"This code I programmed is much faster for very large files:\r\n\r\n    public String readDoc(File f) {\r\n    \tString text = &quot;&quot;;\r\n    \tint read, N = 1024 * 1024;\r\n    \tchar[] buffer = new char[N];\r\n    \t\r\n    \ttry {\r\n    \t\tFileReader fr = new FileReader(f);\r\n    \t\tBufferedReader br = new BufferedReader(fr);\r\n    \t\t\r\n    \t\twhile(true) {\r\n    \t\t\tread = br.read(buffer, 0, N);\r\n    \t\t\ttext += new String(buffer, 0, read);\r\n    \t\t\t\r\n    \t\t\tif(read &lt; N) {\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t} catch(Exception ex) {\r\n    \t\tex.printStackTrace();\r\n    \t}\r\n    \t\r\n    \treturn text;\r\n    }","title":"Reading a plain text file in Java","body":"<p>This code I programmed is much faster for very large files:</p>\n\n<pre><code>public String readDoc(File f) {\n    String text = \"\";\n    int read, N = 1024 * 1024;\n    char[] buffer = new char[N];\n\n    try {\n        FileReader fr = new FileReader(f);\n        BufferedReader br = new BufferedReader(fr);\n\n        while(true) {\n            read = br.read(buffer, 0, N);\n            text += new String(buffer, 0, read);\n\n            if(read &lt; N) {\n                break;\n            }\n        }\n    } catch(Exception ex) {\n        ex.printStackTrace();\n    }\n\n    return text;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":82234,"reputation":6628,"user_id":231382,"accept_rate":65,"display_name":"Hern&#225;n Eche"},"score":10,"creation_date":1389877467,"post_id":10710115,"comment_id":31855417,"body_markdown":"or use &quot;try-with-resources&quot; *try(FileReader reader = new FileReader(file))*","body":"or use &quot;try-with-resources&quot; <i>try(FileReader reader = new FileReader(file))</i>"},{"owner":{"account_id":331387,"reputation":914,"user_id":656031,"accept_rate":76,"display_name":"Wayne"},"score":3,"creation_date":1391050938,"post_id":10710115,"comment_id":32362777,"body_markdown":"I noticed the file.length(), How well does this work with utf-16 files?","body":"I noticed the file.length(), How well does this work with utf-16 files?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":5,"creation_date":1409220110,"post_id":10710115,"comment_id":39887218,"body_markdown":"This technique assumes that read() fills the buffer; that the number of chars equals the number of bytes; that the number of bytes fits into memory; and that the number of bytes fits into an integer. -1","body":"This technique assumes that read() fills the buffer; that the number of chars equals the number of bytes; that the number of bytes fits into memory; and that the number of bytes fits into an integer. -1"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1517733650,"post_id":10710115,"comment_id":84208746,"body_markdown":"@HermesTrismegistus I provided four reasons why it is wrong. StefanReich is perfectly correct to agree with me.","body":"@HermesTrismegistus I provided four reasons why it is wrong. StefanReich is perfectly correct to agree with me."}],"tags":[],"owner":{"account_id":1508428,"reputation":611,"user_id":1411210,"display_name":"Grimy"},"comment_count":4,"down_vote_count":5,"up_vote_count":62,"is_accepted":false,"score":57,"last_activity_date":1519860043,"creation_date":1337720520,"answer_id":10710115,"question_id":4716503,"body_markdown":"Here&#39;s another way to do it without using external libraries:\r\n\r\n    import java.io.File;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n\r\n    public String readFile(String filename)\r\n    {\r\n        String content = null;\r\n        File file = new File(filename); // For example, foo.txt\r\n        FileReader reader = null;\r\n        try {\r\n            reader = new FileReader(file);\r\n            char[] chars = new char[(int) file.length()];\r\n            reader.read(chars);\r\n            content = new String(chars);\r\n            reader.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        } finally {\r\n            if(reader != null){\r\n                reader.close();\r\n            }\r\n        }\r\n        return content;\r\n    }\r\n","title":"Reading a plain text file in Java","body":"<p>Here's another way to do it without using external libraries:</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic String readFile(String filename)\n{\n    String content = null;\n    File file = new File(filename); // For example, foo.txt\n    FileReader reader = null;\n    try {\n        reader = new FileReader(file);\n        char[] chars = new char[(int) file.length()];\n        reader.read(chars);\n        content = new String(chars);\n        reader.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        if(reader != null){\n            reader.close();\n        }\n    }\n    return content;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2330629,"reputation":12871,"user_id":2157640,"accept_rate":89,"display_name":"Palec"},"score":1,"creation_date":1420189161,"post_id":27721509,"comment_id":43890016,"body_markdown":"A very related, [already existing answer](https://stackoverflow.com/a/4716556/2157640) is by Jesus Ramos.","body":"A very related, <a href=\"https://stackoverflow.com/a/4716556/2157640\">already existing answer</a> is by Jesus Ramos."},{"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"score":1,"creation_date":1439500472,"post_id":27721509,"comment_id":51900610,"body_markdown":"True, should be:  `if(scanner.hasNext()) content = scanner.next();`","body":"True, should be:  <code>if(scanner.hasNext()) content = scanner.next();</code>"},{"owner":{"account_id":1107571,"reputation":3147,"user_id":1104885,"display_name":"Roger Keays"},"score":1,"creation_date":1479982274,"post_id":27721509,"comment_id":68789583,"body_markdown":"This fails for me on Android 4.4. Only 1024 bytes are read. YMMV.","body":"This fails for me on Android 4.4. Only 1024 bytes are read. YMMV."}],"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484404156,"creation_date":1420030815,"answer_id":27721509,"question_id":4716503,"body_markdown":"Probably not as fast as with buffered I/O, but quite terse:\r\n\r\n\t    String content;\r\n\t\ttry (Scanner scanner = new Scanner(textFile).useDelimiter(&quot;\\\\Z&quot;)) {\r\n\t\t\tcontent = scanner.next();\r\n\t\t}\r\n\r\nThe `\\Z` pattern tells the `Scanner` that the delimiter is EOF.\r\n","title":"Reading a plain text file in Java","body":"<p>Probably not as fast as with buffered I/O, but quite terse:</p>\n\n<pre><code>    String content;\n    try (Scanner scanner = new Scanner(textFile).useDelimiter(\"\\\\Z\")) {\n        content = scanner.next();\n    }\n</code></pre>\n\n<p>The <code>\\Z</code> pattern tells the <code>Scanner</code> that the delimiter is EOF.</p>\n"},{"comments":[{"owner":{"account_id":169667,"reputation":14696,"user_id":395869,"accept_rate":51,"display_name":"toto_tata"},"score":0,"creation_date":1642072921,"post_id":28219618,"comment_id":124977345,"body_markdown":"readAllLines requires Android O (&gt;= 8.0).","body":"readAllLines requires Android O (&gt;= 8.0)."},{"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"score":0,"creation_date":1661899212,"post_id":28219618,"comment_id":129880609,"body_markdown":"Related answer (same solution): https://stackoverflow.com/a/14169729/9549068","body":"Related answer (same solution): <a href=\"https://stackoverflow.com/a/14169729/9549068\">stackoverflow.com/a/14169729/9549068</a>"}],"tags":[],"owner":{"account_id":452476,"reputation":3889,"user_id":848937,"display_name":"Nery Jr"},"comment_count":2,"down_vote_count":4,"up_vote_count":130,"is_accepted":false,"score":126,"last_activity_date":1635259635,"creation_date":1422548661,"answer_id":28219618,"question_id":4716503,"body_markdown":"Here is a simple solution:\r\n\r\n    String content = new String(Files.readAllBytes(Paths.get(&quot;sample.txt&quot;)));\r\n\r\nOr to read as list:\r\n\r\n    List&lt;String&gt; content = Files.readAllLines(Paths.get(&quot;sample.txt&quot;))","title":"Reading a plain text file in Java","body":"<p>Here is a simple solution:</p>\n<pre><code>String content = new String(Files.readAllBytes(Paths.get(&quot;sample.txt&quot;)));\n</code></pre>\n<p>Or to read as list:</p>\n<pre><code>List&lt;String&gt; content = Files.readAllLines(Paths.get(&quot;sample.txt&quot;))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5449093,"reputation":31,"user_id":4334528,"display_name":"anadir47"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1484404253,"creation_date":1422888527,"answer_id":28280318,"question_id":4716503,"body_markdown":"The most simple way to read data from a file in Java is making use of the **File** class to read the file and the **Scanner** class to read the content of the file.\r\n\r\n    public static void main(String args[])throws Exception\r\n    {\r\n       File f = new File(&quot;input.txt&quot;);\r\n       takeInputIn2DArray(f);\r\n    }\r\n\r\n    public static void takeInputIn2DArray(File f) throws Exception\r\n    {\r\n        Scanner s = new Scanner(f);\r\n        int a[][] = new int[20][20];\r\n        for(int i=0; i&lt;20; i++)\r\n        {\r\n            for(int j=0; j&lt;20; j++)\r\n            {\r\n                a[i][j] = s.nextInt();\r\n            }\r\n        }\r\n    }\r\n\r\nPS: Don&#39;t forget to import java.util.*; for Scanner to work.\r\n","title":"Reading a plain text file in Java","body":"<p>The most simple way to read data from a file in Java is making use of the <strong>File</strong> class to read the file and the <strong>Scanner</strong> class to read the content of the file.</p>\n\n<pre><code>public static void main(String args[])throws Exception\n{\n   File f = new File(\"input.txt\");\n   takeInputIn2DArray(f);\n}\n\npublic static void takeInputIn2DArray(File f) throws Exception\n{\n    Scanner s = new Scanner(f);\n    int a[][] = new int[20][20];\n    for(int i=0; i&lt;20; i++)\n    {\n        for(int j=0; j&lt;20; j++)\n        {\n            a[i][j] = s.nextInt();\n        }\n    }\n}\n</code></pre>\n\n<p>PS: Don't forget to import java.util.*; for Scanner to work.</p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1517733893,"post_id":29575580,"comment_id":84208785,"body_markdown":"You can&#39;t use this on &#39;any file you want&#39;. You can only use it for resources that have been packaged into the JAR or WAR file.","body":"You can&#39;t use this on &#39;any file you want&#39;. You can only use it for resources that have been packaged into the JAR or WAR file."}],"tags":[],"owner":{"account_id":262141,"reputation":3168,"user_id":546801,"accept_rate":94,"display_name":"Fuzzy Analysis"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1484404411,"creation_date":1428739433,"answer_id":29575580,"question_id":4716503,"body_markdown":"For JSF-based Maven web applications, just use ClassLoader and the `Resources` folder to read in any file you want:\r\n\r\n 1. Put any file you want to read in the Resources folder.\r\n 2. Put the Apache Commons IO dependency into your POM:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n 3. Use the code below to read it (e.g. below is reading in a .json file):\r\n\r\n        String metadata = null;\r\n        FileInputStream inputStream;\r\n        try {\r\n\r\n            ClassLoader loader = Thread.currentThread().getContextClassLoader();\r\n            inputStream = (FileInputStream) loader\r\n                    .getResourceAsStream(&quot;/metadata.json&quot;);\r\n            metadata = IOUtils.toString(inputStream);\r\n            inputStream.close();\r\n        }\r\n        catch (FileNotFoundException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        catch (IOException e) {\r\n            // TODO Auto-generated catch block\r\n            e.printStackTrace();\r\n        }\r\n        return metadata;\r\n\r\nYou can do the same for text files, .properties files, [XSD][1] schemas, etc.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/XML_Schema_%28W3C%29\r\n","title":"Reading a plain text file in Java","body":"<p>For JSF-based Maven web applications, just use ClassLoader and the <code>Resources</code> folder to read in any file you want:</p>\n\n<ol>\n<li>Put any file you want to read in the Resources folder.</li>\n<li><p>Put the Apache Commons IO dependency into your POM:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;1.3.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre></li>\n<li><p>Use the code below to read it (e.g. below is reading in a .json file):</p>\n\n<pre><code>String metadata = null;\nFileInputStream inputStream;\ntry {\n\n    ClassLoader loader = Thread.currentThread().getContextClassLoader();\n    inputStream = (FileInputStream) loader\n            .getResourceAsStream(\"/metadata.json\");\n    metadata = IOUtils.toString(inputStream);\n    inputStream.close();\n}\ncatch (FileNotFoundException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\ncatch (IOException e) {\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}\nreturn metadata;\n</code></pre></li>\n</ol>\n\n<p>You can do the same for text files, .properties files, <a href=\"http://en.wikipedia.org/wiki/XML_Schema_%28W3C%29\" rel=\"nofollow noreferrer\">XSD</a> schemas, etc.</p>\n"},{"tags":[],"owner":{"account_id":3687318,"reputation":193,"user_id":3070804,"display_name":"Neo"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1484404505,"creation_date":1451161027,"answer_id":34474897,"question_id":4716503,"body_markdown":"Using BufferedReader:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n\r\n    BufferedReader br;\r\n    try {\r\n        br = new BufferedReader(new FileReader(&quot;/fileToRead.txt&quot;));\r\n        try {\r\n            String x;\r\n            while ( (x = br.readLine()) != null ) {\r\n                // Printing out each line in the file\r\n                System.out.println(x);\r\n            }\r\n        }\r\n        catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    catch (FileNotFoundException e) {\r\n        System.out.println(e);\r\n        e.printStackTrace();\r\n    }\r\n","title":"Reading a plain text file in Java","body":"<p>Using BufferedReader:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\n\nBufferedReader br;\ntry {\n    br = new BufferedReader(new FileReader(\"/fileToRead.txt\"));\n    try {\n        String x;\n        while ( (x = br.readLine()) != null ) {\n            // Printing out each line in the file\n            System.out.println(x);\n        }\n    }\n    catch (IOException e) {\n        e.printStackTrace();\n    }\n}\ncatch (FileNotFoundException e) {\n    System.out.println(e);\n    e.printStackTrace();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1188523,"reputation":14452,"user_id":1161948,"accept_rate":92,"display_name":"ThisClark"},"score":3,"creation_date":1479827581,"post_id":38450021,"comment_id":68716444,"body_markdown":"File vs FileReader: With a FileReader, the file must exist and operating system permissions must permit access. With a File, it is possible to test those permissions or check if the file is a directory. File has useful functions: isFile(), isDirectory(), listFiles(), canExecute(), canRead(), canWrite(), exists(), mkdir(), delete(). File.createTempFile() writes to the system default temp directory. This method will return a file object that can be used to open FileOutputStream objects, etc. [source](https://answers.yahoo.com/question/index?qid=20110820032334AAvdxRo)","body":"File vs FileReader: With a FileReader, the file must exist and operating system permissions must permit access. With a File, it is possible to test those permissions or check if the file is a directory. File has useful functions: isFile(), isDirectory(), listFiles(), canExecute(), canRead(), canWrite(), exists(), mkdir(), delete(). File.createTempFile() writes to the system default temp directory. This method will return a file object that can be used to open FileOutputStream objects, etc. <a href=\"https://answers.yahoo.com/question/index?qid=20110820032334AAvdxRo\" rel=\"nofollow noreferrer\">source</a>"}],"tags":[],"owner":{"account_id":1188523,"reputation":14452,"user_id":1161948,"accept_rate":92,"display_name":"ThisClark"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1484404547,"creation_date":1468905219,"answer_id":38450021,"question_id":4716503,"body_markdown":"This is basically the exact same as Jesus Ramos&#39; answer, except with **File** instead of **FileReader** plus iteration to step through the contents of the file.\r\n\r\n    Scanner in = new Scanner(new File(&quot;filename.txt&quot;));\r\n\r\n    while (in.hasNext()) { // Iterates each line in the file\r\n\t    String line = in.nextLine();\r\n        // Do something with line\r\n    }\r\n\r\n    in.close(); // Don&#39;t forget to close resource leaks\r\n\r\n... throws `FileNotFoundException`\r\n","title":"Reading a plain text file in Java","body":"<p>This is basically the exact same as Jesus Ramos' answer, except with <strong>File</strong> instead of <strong>FileReader</strong> plus iteration to step through the contents of the file.</p>\n\n<pre><code>Scanner in = new Scanner(new File(\"filename.txt\"));\n\nwhile (in.hasNext()) { // Iterates each line in the file\n    String line = in.nextLine();\n    // Do something with line\n}\n\nin.close(); // Don't forget to close resource leaks\n</code></pre>\n\n<p>... throws <code>FileNotFoundException</code></p>\n"},{"tags":[],"owner":{"account_id":1389951,"reputation":949,"user_id":1321016,"display_name":"Warren MacEvoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484404686,"creation_date":1471073314,"answer_id":38930350,"question_id":4716503,"body_markdown":"Use [Java kiss][1] if this is about simplicity of structure:\r\n\r\n    import static kiss.API.*;\r\n\r\n    class App {\r\n      void run() {\r\n        String line;\r\n        try (Close in = inOpen(&quot;file.dat&quot;)) {\r\n          while ((line = readLine()) != null) {\r\n            println(line);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  [1]: http://github.com/wmacevoy/kiss\r\n","title":"Reading a plain text file in Java","body":"<p>Use <a href=\"http://github.com/wmacevoy/kiss\" rel=\"nofollow noreferrer\">Java kiss</a> if this is about simplicity of structure:</p>\n\n<pre><code>import static kiss.API.*;\n\nclass App {\n  void run() {\n    String line;\n    try (Close in = inOpen(\"file.dat\")) {\n      while ((line = readLine()) != null) {\n        println(line);\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9419274,"reputation":21,"user_id":7006104,"display_name":"rahul mehra"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1484404739,"creation_date":1476255973,"answer_id":39992469,"question_id":4716503,"body_markdown":"[Guava][1] provides a one-liner for this:\r\n\r\n    import com.google.common.base.Charsets;\r\n    import com.google.common.io.Files;\r\n\r\n    String contents = Files.toString(filePath, Charsets.UTF_8);\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Google_Guava\r\n","title":"Reading a plain text file in Java","body":"<p><a href=\"https://en.wikipedia.org/wiki/Google_Guava\" rel=\"nofollow noreferrer\">Guava</a> provides a one-liner for this:</p>\n\n<pre><code>import com.google.common.base.Charsets;\nimport com.google.common.io.Files;\n\nString contents = Files.toString(filePath, Charsets.UTF_8);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":235555,"reputation":154,"user_id":502442,"display_name":"Matiaan"},"score":0,"creation_date":1701842184,"post_id":40597140,"comment_id":136823880,"body_markdown":"This is why I come to stackoverflow for even simple things like reading a text file. Someone already did all the work to find the best possible way","body":"This is why I come to stackoverflow for even simple things like reading a text file. Someone already did all the work to find the best possible way"}],"tags":[],"owner":{"account_id":4787547,"reputation":5568,"user_id":3867574,"accept_rate":43,"display_name":"Serg M Ten"},"comment_count":1,"down_vote_count":0,"up_vote_count":44,"is_accepted":false,"score":44,"last_activity_date":1484405390,"creation_date":1479154852,"answer_id":40597140,"question_id":4716503,"body_markdown":"I had to benchmark the different ways. I shall comment on my findings but, in short, the fastest way is to use a plain old BufferedInputStream over a FileInputStream. If many files must be read then three threads will reduce the total execution time to roughly half, but adding more threads will progressively degrade performance until making it take three times longer to complete with twenty threads than with just one thread.\r\n\r\nThe assumption is that you must read a file and do something meaningful with its contents. In the examples here is reading lines from a log and count the ones which contain values that exceed a certain threshold. So I am assuming that the one-liner Java 8 `Files.lines(Paths.get(&quot;/path/to/file.txt&quot;)).map(line -&gt; line.split(&quot;;&quot;))` is not an option.\r\n\r\nI tested on Java 1.8, Windows 7 and both SSD and HDD drives.\r\n\r\nI wrote six different implementations:\r\n\r\n**rawParse**: Use BufferedInputStream over a FileInputStream and then cut lines reading byte by byte. This outperformed any other single-thread approach, but it may be very inconvenient for non-ASCII files.\r\n\r\n**lineReaderParse**: Use a BufferedReader over a FileReader, read line by line, split lines by calling String.split(). This is approximatedly 20% slower that rawParse.\r\n\r\n**lineReaderParseParallel**: This is the same as lineReaderParse, but it uses several threads. This is the fastest option overall in all cases.\r\n\r\n**nioFilesParse**: Use java.nio.files.Files.lines()\r\n\r\n**nioAsyncParse**: Use an AsynchronousFileChannel with a completion handler and a thread pool.\r\n\r\n**nioMemoryMappedParse**: Use a memory-mapped file. This is really a bad idea yielding execution times at least three times longer than any other implementation.\r\n\r\nThese are the average times for reading 204 files of 4&amp;nbsp;MB each on an quad-core i7 and SSD drive. The files are generated on the fly to avoid disk caching.\r\n\r\n    rawParse                11.10 sec\r\n    lineReaderParse         13.86 sec\r\n    lineReaderParseParallel  6.00 sec\r\n    nioFilesParse           13.52 sec\r\n    nioAsyncParse           16.06 sec\r\n    nioMemoryMappedParse    37.68 sec\r\n\r\nI found a difference smaller than I expected between running on an SSD or an HDD drive being the SSD approximately 15% faster. This may be because the files are generated on an unfragmented HDD and they are read sequentially, therefore the spinning drive can perform nearly as an SSD.\r\n\r\nI was surprised by the low performance of the nioAsyncParse implementation. Either I have implemented something in the wrong way or the multi-thread implementation using NIO and a completion handler performs the same (or even worse) than a single-thread implementation with the java.io API. Moreover the asynchronous parse with a CompletionHandler is much longer in lines of code and tricky to implement correctly than a straight implementation on old streams.\r\n\r\nNow the six implementations followed by a class containing them all plus a parametrizable main() method that allows to play with the number of files, file size and concurrency degree. Note that the size of the files varies plus minus 20%. This is to avoid any effect due to all the files being of exactly the same size.\r\n\r\n**rawParse**\r\n\r\n    public void rawParse(final String targetDir, final int numberOfFiles) throws IOException, ParseException {\r\n        overrunCount = 0;\r\n        final int dl = (int) &#39;;&#39;;\r\n        StringBuffer lineBuffer = new StringBuffer(1024);\r\n        for (int f=0; f&lt;numberOfFiles; f++) {\r\n            File fl = new File(targetDir+filenamePreffix+String.valueOf(f)+&quot;.txt&quot;);\r\n            FileInputStream fin = new FileInputStream(fl);\r\n            BufferedInputStream bin = new BufferedInputStream(fin);\r\n            int character;\r\n            while((character=bin.read())!=-1) {\r\n                if (character==dl) {\r\n\r\n                    // Here is where something is done with each line\r\n                    doSomethingWithRawLine(lineBuffer.toString());\r\n                    lineBuffer.setLength(0);\r\n                }\r\n                else {\r\n                    lineBuffer.append((char) character);\r\n                }\r\n            }\r\n            bin.close();\r\n            fin.close();\r\n        }\r\n    }\r\n\r\n    public final void doSomethingWithRawLine(String line) throws ParseException {\r\n        // What to do for each line\r\n        int fieldNumber = 0;\r\n        final int len = line.length();\r\n        StringBuffer fieldBuffer = new StringBuffer(256);\r\n        for (int charPos=0; charPos&lt;len; charPos++) {\r\n            char c = line.charAt(charPos);\r\n            if (c==DL0) {\r\n                String fieldValue = fieldBuffer.toString();\r\n                if (fieldValue.length()&gt;0) {\r\n                    switch (fieldNumber) {\r\n                        case 0:\r\n                            Date dt = fmt.parse(fieldValue);\r\n                            fieldNumber++;\r\n                            break;\r\n                        case 1:\r\n                            double d = Double.parseDouble(fieldValue);\r\n                            fieldNumber++;\r\n                            break;\r\n                        case 2:\r\n                            int t = Integer.parseInt(fieldValue);\r\n                            fieldNumber++;\r\n                            break;\r\n                        case 3:\r\n                            if (fieldValue.equals(&quot;overrun&quot;))\r\n                                overrunCount++;\r\n                            break;\r\n                    }\r\n                }\r\n                fieldBuffer.setLength(0);\r\n            }\r\n            else {\r\n                fieldBuffer.append(c);\r\n            }\r\n        }\r\n    }\r\n\r\n**lineReaderParse**\r\n\r\n    public void lineReaderParse(final String targetDir, final int numberOfFiles) throws IOException, ParseException {\r\n        String line;\r\n        for (int f=0; f&lt;numberOfFiles; f++) {\r\n            File fl = new File(targetDir+filenamePreffix+String.valueOf(f)+&quot;.txt&quot;);\r\n            FileReader frd = new FileReader(fl);\r\n            BufferedReader brd = new BufferedReader(frd);\r\n\r\n            while ((line=brd.readLine())!=null)\r\n                doSomethingWithLine(line);\r\n            brd.close();\r\n            frd.close();\r\n        }\r\n    }\r\n\r\n    public final void doSomethingWithLine(String line) throws ParseException {\r\n        // Example of what to do for each line\r\n        String[] fields = line.split(&quot;;&quot;);\r\n        Date dt = fmt.parse(fields[0]);\r\n        double d = Double.parseDouble(fields[1]);\r\n        int t = Integer.parseInt(fields[2]);\r\n        if (fields[3].equals(&quot;overrun&quot;))\r\n            overrunCount++;\r\n    }\r\n\r\n**lineReaderParseParallel**\r\n\r\n    public void lineReaderParseParallel(final String targetDir, final int numberOfFiles, final int degreeOfParalelism) throws IOException, ParseException, InterruptedException {\r\n        Thread[] pool = new Thread[degreeOfParalelism];\r\n        int batchSize = numberOfFiles / degreeOfParalelism;\r\n        for (int b=0; b&lt;degreeOfParalelism; b++) {\r\n            pool[b] = new LineReaderParseThread(targetDir, b*batchSize, b*batchSize+b*batchSize);\r\n            pool[b].start();\r\n        }\r\n        for (int b=0; b&lt;degreeOfParalelism; b++)\r\n            pool[b].join();\r\n    }\r\n\r\n    class LineReaderParseThread extends Thread {\r\n\r\n        private String targetDir;\r\n        private int fileFrom;\r\n        private int fileTo;\r\n        private DateFormat fmt = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n        private int overrunCounter = 0;\r\n\r\n        public LineReaderParseThread(String targetDir, int fileFrom, int fileTo) {\r\n            this.targetDir = targetDir;\r\n            this.fileFrom = fileFrom;\r\n            this.fileTo = fileTo;\r\n        }\r\n\r\n        private void doSomethingWithTheLine(String line) throws ParseException {\r\n            String[] fields = line.split(DL);\r\n            Date dt = fmt.parse(fields[0]);\r\n            double d = Double.parseDouble(fields[1]);\r\n            int t = Integer.parseInt(fields[2]);\r\n            if (fields[3].equals(&quot;overrun&quot;))\r\n                overrunCounter++;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            String line;\r\n            for (int f=fileFrom; f&lt;fileTo; f++) {\r\n                File fl = new File(targetDir+filenamePreffix+String.valueOf(f)+&quot;.txt&quot;);\r\n                try {\r\n                FileReader frd = new FileReader(fl);\r\n                BufferedReader brd = new BufferedReader(frd);\r\n                while ((line=brd.readLine())!=null) {\r\n                    doSomethingWithTheLine(line);\r\n                }\r\n                brd.close();\r\n                frd.close();\r\n                } catch (IOException | ParseException ioe) { }\r\n            }\r\n        }\r\n    }\r\n\r\n**nioFilesParse**\r\n\r\n    public void nioFilesParse(final String targetDir, final int numberOfFiles) throws IOException, ParseException {\r\n        for (int f=0; f&lt;numberOfFiles; f++) {\r\n            Path ph = Paths.get(targetDir+filenamePreffix+String.valueOf(f)+&quot;.txt&quot;);\r\n            Consumer&lt;String&gt; action = new LineConsumer();\r\n            Stream&lt;String&gt; lines = Files.lines(ph);\r\n            lines.forEach(action);\r\n            lines.close();\r\n        }\r\n    }\r\n\r\n\r\n    class LineConsumer implements Consumer&lt;String&gt; {\r\n\r\n        @Override\r\n        public void accept(String line) {\r\n\r\n            // What to do for each line\r\n            String[] fields = line.split(DL);\r\n            if (fields.length&gt;1) {\r\n                try {\r\n                    Date dt = fmt.parse(fields[0]);\r\n                }\r\n                catch (ParseException e) {\r\n                }\r\n                double d = Double.parseDouble(fields[1]);\r\n                int t = Integer.parseInt(fields[2]);\r\n                if (fields[3].equals(&quot;overrun&quot;))\r\n                    overrunCount++;\r\n            }\r\n        }\r\n    }\r\n\r\n**nioAsyncParse**\r\n\r\n    public void nioAsyncParse(final String targetDir, final int numberOfFiles, final int numberOfThreads, final int bufferSize) throws IOException, ParseException, InterruptedException {\r\n        ScheduledThreadPoolExecutor pool = new ScheduledThreadPoolExecutor(numberOfThreads);\r\n        ConcurrentLinkedQueue&lt;ByteBuffer&gt; byteBuffers = new ConcurrentLinkedQueue&lt;ByteBuffer&gt;();\r\n\r\n        for (int b=0; b&lt;numberOfThreads; b++)\r\n            byteBuffers.add(ByteBuffer.allocate(bufferSize));\r\n\r\n        for (int f=0; f&lt;numberOfFiles; f++) {\r\n            consumerThreads.acquire();\r\n            String fileName = targetDir+filenamePreffix+String.valueOf(f)+&quot;.txt&quot;;\r\n            AsynchronousFileChannel channel = AsynchronousFileChannel.open(Paths.get(fileName), EnumSet.of(StandardOpenOption.READ), pool);\r\n            BufferConsumer consumer = new BufferConsumer(byteBuffers, fileName, bufferSize);\r\n            channel.read(consumer.buffer(), 0l, channel, consumer);\r\n        }\r\n        consumerThreads.acquire(numberOfThreads);\r\n    }\r\n\r\n\r\n    class BufferConsumer implements CompletionHandler&lt;Integer, AsynchronousFileChannel&gt; {\r\n\r\n            private ConcurrentLinkedQueue&lt;ByteBuffer&gt; buffers;\r\n            private ByteBuffer bytes;\r\n            private String file;\r\n            private StringBuffer chars;\r\n            private int limit;\r\n            private long position;\r\n            private DateFormat frmt = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n            public BufferConsumer(ConcurrentLinkedQueue&lt;ByteBuffer&gt; byteBuffers, String fileName, int bufferSize) {\r\n                buffers = byteBuffers;\r\n                bytes = buffers.poll();\r\n                if (bytes==null)\r\n                    bytes = ByteBuffer.allocate(bufferSize);\r\n\r\n                file = fileName;\r\n                chars = new StringBuffer(bufferSize);\r\n                frmt = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n                limit = bufferSize;\r\n                position = 0l;\r\n            }\r\n\r\n            public ByteBuffer buffer() {\r\n                return bytes;\r\n            }\r\n\r\n            @Override\r\n            public synchronized void completed(Integer result, AsynchronousFileChannel channel) {\r\n\r\n                if (result!=-1) {\r\n                    bytes.flip();\r\n                    final int len = bytes.limit();\r\n                    int i = 0;\r\n                    try {\r\n                        for (i = 0; i &lt; len; i++) {\r\n                            byte by = bytes.get();\r\n                            if (by==&#39;\\n&#39;) {\r\n                                // ***\r\n                                // The code used to process the line goes here\r\n                                chars.setLength(0);\r\n                            }\r\n                            else {\r\n                                    chars.append((char) by);\r\n                            }\r\n                        }\r\n                    }\r\n                    catch (Exception x) {\r\n                        System.out.println(\r\n                            &quot;Caught exception &quot; + x.getClass().getName() + &quot; &quot; + x.getMessage() +\r\n                            &quot; i=&quot; + String.valueOf(i) + &quot;, limit=&quot; + String.valueOf(len) +\r\n                            &quot;, position=&quot;+String.valueOf(position));\r\n                    }\r\n\r\n                    if (len==limit) {\r\n                        bytes.clear();\r\n                        position += len;\r\n                        channel.read(bytes, position, channel, this);\r\n                    }\r\n                    else {\r\n                        try {\r\n                            channel.close();\r\n                        }\r\n                        catch (IOException e) {\r\n                        }\r\n                        consumerThreads.release();\r\n                        bytes.clear();\r\n                        buffers.add(bytes);\r\n                    }\r\n                }\r\n                else {\r\n                    try {\r\n                        channel.close();\r\n                    }\r\n                    catch (IOException e) {\r\n                    }\r\n                    consumerThreads.release();\r\n                    bytes.clear();\r\n                    buffers.add(bytes);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void failed(Throwable e, AsynchronousFileChannel channel) {\r\n            }\r\n    };\r\n\r\n**FULL RUNNABLE IMPLEMENTATION OF ALL CASES**\r\n\r\n[https://github.com/sergiomt/javaiobenchmark/blob/master/FileReadBenchmark.java][1]\r\n\r\n  [1]: https://github.com/sergiomt/javaiobenchmark/blob/master/FileReadBenchmark.java\r\n","title":"Reading a plain text file in Java","body":"<p>I had to benchmark the different ways. I shall comment on my findings but, in short, the fastest way is to use a plain old BufferedInputStream over a FileInputStream. If many files must be read then three threads will reduce the total execution time to roughly half, but adding more threads will progressively degrade performance until making it take three times longer to complete with twenty threads than with just one thread.</p>\n\n<p>The assumption is that you must read a file and do something meaningful with its contents. In the examples here is reading lines from a log and count the ones which contain values that exceed a certain threshold. So I am assuming that the one-liner Java 8 <code>Files.lines(Paths.get(\"/path/to/file.txt\")).map(line -&gt; line.split(\";\"))</code> is not an option.</p>\n\n<p>I tested on Java 1.8, Windows 7 and both SSD and HDD drives.</p>\n\n<p>I wrote six different implementations:</p>\n\n<p><strong>rawParse</strong>: Use BufferedInputStream over a FileInputStream and then cut lines reading byte by byte. This outperformed any other single-thread approach, but it may be very inconvenient for non-ASCII files.</p>\n\n<p><strong>lineReaderParse</strong>: Use a BufferedReader over a FileReader, read line by line, split lines by calling String.split(). This is approximatedly 20% slower that rawParse.</p>\n\n<p><strong>lineReaderParseParallel</strong>: This is the same as lineReaderParse, but it uses several threads. This is the fastest option overall in all cases.</p>\n\n<p><strong>nioFilesParse</strong>: Use java.nio.files.Files.lines()</p>\n\n<p><strong>nioAsyncParse</strong>: Use an AsynchronousFileChannel with a completion handler and a thread pool.</p>\n\n<p><strong>nioMemoryMappedParse</strong>: Use a memory-mapped file. This is really a bad idea yielding execution times at least three times longer than any other implementation.</p>\n\n<p>These are the average times for reading 204 files of 4&nbsp;MB each on an quad-core i7 and SSD drive. The files are generated on the fly to avoid disk caching.</p>\n\n<pre><code>rawParse                11.10 sec\nlineReaderParse         13.86 sec\nlineReaderParseParallel  6.00 sec\nnioFilesParse           13.52 sec\nnioAsyncParse           16.06 sec\nnioMemoryMappedParse    37.68 sec\n</code></pre>\n\n<p>I found a difference smaller than I expected between running on an SSD or an HDD drive being the SSD approximately 15% faster. This may be because the files are generated on an unfragmented HDD and they are read sequentially, therefore the spinning drive can perform nearly as an SSD.</p>\n\n<p>I was surprised by the low performance of the nioAsyncParse implementation. Either I have implemented something in the wrong way or the multi-thread implementation using NIO and a completion handler performs the same (or even worse) than a single-thread implementation with the java.io API. Moreover the asynchronous parse with a CompletionHandler is much longer in lines of code and tricky to implement correctly than a straight implementation on old streams.</p>\n\n<p>Now the six implementations followed by a class containing them all plus a parametrizable main() method that allows to play with the number of files, file size and concurrency degree. Note that the size of the files varies plus minus 20%. This is to avoid any effect due to all the files being of exactly the same size.</p>\n\n<p><strong>rawParse</strong></p>\n\n<pre><code>public void rawParse(final String targetDir, final int numberOfFiles) throws IOException, ParseException {\n    overrunCount = 0;\n    final int dl = (int) ';';\n    StringBuffer lineBuffer = new StringBuffer(1024);\n    for (int f=0; f&lt;numberOfFiles; f++) {\n        File fl = new File(targetDir+filenamePreffix+String.valueOf(f)+\".txt\");\n        FileInputStream fin = new FileInputStream(fl);\n        BufferedInputStream bin = new BufferedInputStream(fin);\n        int character;\n        while((character=bin.read())!=-1) {\n            if (character==dl) {\n\n                // Here is where something is done with each line\n                doSomethingWithRawLine(lineBuffer.toString());\n                lineBuffer.setLength(0);\n            }\n            else {\n                lineBuffer.append((char) character);\n            }\n        }\n        bin.close();\n        fin.close();\n    }\n}\n\npublic final void doSomethingWithRawLine(String line) throws ParseException {\n    // What to do for each line\n    int fieldNumber = 0;\n    final int len = line.length();\n    StringBuffer fieldBuffer = new StringBuffer(256);\n    for (int charPos=0; charPos&lt;len; charPos++) {\n        char c = line.charAt(charPos);\n        if (c==DL0) {\n            String fieldValue = fieldBuffer.toString();\n            if (fieldValue.length()&gt;0) {\n                switch (fieldNumber) {\n                    case 0:\n                        Date dt = fmt.parse(fieldValue);\n                        fieldNumber++;\n                        break;\n                    case 1:\n                        double d = Double.parseDouble(fieldValue);\n                        fieldNumber++;\n                        break;\n                    case 2:\n                        int t = Integer.parseInt(fieldValue);\n                        fieldNumber++;\n                        break;\n                    case 3:\n                        if (fieldValue.equals(\"overrun\"))\n                            overrunCount++;\n                        break;\n                }\n            }\n            fieldBuffer.setLength(0);\n        }\n        else {\n            fieldBuffer.append(c);\n        }\n    }\n}\n</code></pre>\n\n<p><strong>lineReaderParse</strong></p>\n\n<pre><code>public void lineReaderParse(final String targetDir, final int numberOfFiles) throws IOException, ParseException {\n    String line;\n    for (int f=0; f&lt;numberOfFiles; f++) {\n        File fl = new File(targetDir+filenamePreffix+String.valueOf(f)+\".txt\");\n        FileReader frd = new FileReader(fl);\n        BufferedReader brd = new BufferedReader(frd);\n\n        while ((line=brd.readLine())!=null)\n            doSomethingWithLine(line);\n        brd.close();\n        frd.close();\n    }\n}\n\npublic final void doSomethingWithLine(String line) throws ParseException {\n    // Example of what to do for each line\n    String[] fields = line.split(\";\");\n    Date dt = fmt.parse(fields[0]);\n    double d = Double.parseDouble(fields[1]);\n    int t = Integer.parseInt(fields[2]);\n    if (fields[3].equals(\"overrun\"))\n        overrunCount++;\n}\n</code></pre>\n\n<p><strong>lineReaderParseParallel</strong></p>\n\n<pre><code>public void lineReaderParseParallel(final String targetDir, final int numberOfFiles, final int degreeOfParalelism) throws IOException, ParseException, InterruptedException {\n    Thread[] pool = new Thread[degreeOfParalelism];\n    int batchSize = numberOfFiles / degreeOfParalelism;\n    for (int b=0; b&lt;degreeOfParalelism; b++) {\n        pool[b] = new LineReaderParseThread(targetDir, b*batchSize, b*batchSize+b*batchSize);\n        pool[b].start();\n    }\n    for (int b=0; b&lt;degreeOfParalelism; b++)\n        pool[b].join();\n}\n\nclass LineReaderParseThread extends Thread {\n\n    private String targetDir;\n    private int fileFrom;\n    private int fileTo;\n    private DateFormat fmt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n    private int overrunCounter = 0;\n\n    public LineReaderParseThread(String targetDir, int fileFrom, int fileTo) {\n        this.targetDir = targetDir;\n        this.fileFrom = fileFrom;\n        this.fileTo = fileTo;\n    }\n\n    private void doSomethingWithTheLine(String line) throws ParseException {\n        String[] fields = line.split(DL);\n        Date dt = fmt.parse(fields[0]);\n        double d = Double.parseDouble(fields[1]);\n        int t = Integer.parseInt(fields[2]);\n        if (fields[3].equals(\"overrun\"))\n            overrunCounter++;\n    }\n\n    @Override\n    public void run() {\n        String line;\n        for (int f=fileFrom; f&lt;fileTo; f++) {\n            File fl = new File(targetDir+filenamePreffix+String.valueOf(f)+\".txt\");\n            try {\n            FileReader frd = new FileReader(fl);\n            BufferedReader brd = new BufferedReader(frd);\n            while ((line=brd.readLine())!=null) {\n                doSomethingWithTheLine(line);\n            }\n            brd.close();\n            frd.close();\n            } catch (IOException | ParseException ioe) { }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>nioFilesParse</strong></p>\n\n<pre><code>public void nioFilesParse(final String targetDir, final int numberOfFiles) throws IOException, ParseException {\n    for (int f=0; f&lt;numberOfFiles; f++) {\n        Path ph = Paths.get(targetDir+filenamePreffix+String.valueOf(f)+\".txt\");\n        Consumer&lt;String&gt; action = new LineConsumer();\n        Stream&lt;String&gt; lines = Files.lines(ph);\n        lines.forEach(action);\n        lines.close();\n    }\n}\n\n\nclass LineConsumer implements Consumer&lt;String&gt; {\n\n    @Override\n    public void accept(String line) {\n\n        // What to do for each line\n        String[] fields = line.split(DL);\n        if (fields.length&gt;1) {\n            try {\n                Date dt = fmt.parse(fields[0]);\n            }\n            catch (ParseException e) {\n            }\n            double d = Double.parseDouble(fields[1]);\n            int t = Integer.parseInt(fields[2]);\n            if (fields[3].equals(\"overrun\"))\n                overrunCount++;\n        }\n    }\n}\n</code></pre>\n\n<p><strong>nioAsyncParse</strong></p>\n\n<pre><code>public void nioAsyncParse(final String targetDir, final int numberOfFiles, final int numberOfThreads, final int bufferSize) throws IOException, ParseException, InterruptedException {\n    ScheduledThreadPoolExecutor pool = new ScheduledThreadPoolExecutor(numberOfThreads);\n    ConcurrentLinkedQueue&lt;ByteBuffer&gt; byteBuffers = new ConcurrentLinkedQueue&lt;ByteBuffer&gt;();\n\n    for (int b=0; b&lt;numberOfThreads; b++)\n        byteBuffers.add(ByteBuffer.allocate(bufferSize));\n\n    for (int f=0; f&lt;numberOfFiles; f++) {\n        consumerThreads.acquire();\n        String fileName = targetDir+filenamePreffix+String.valueOf(f)+\".txt\";\n        AsynchronousFileChannel channel = AsynchronousFileChannel.open(Paths.get(fileName), EnumSet.of(StandardOpenOption.READ), pool);\n        BufferConsumer consumer = new BufferConsumer(byteBuffers, fileName, bufferSize);\n        channel.read(consumer.buffer(), 0l, channel, consumer);\n    }\n    consumerThreads.acquire(numberOfThreads);\n}\n\n\nclass BufferConsumer implements CompletionHandler&lt;Integer, AsynchronousFileChannel&gt; {\n\n        private ConcurrentLinkedQueue&lt;ByteBuffer&gt; buffers;\n        private ByteBuffer bytes;\n        private String file;\n        private StringBuffer chars;\n        private int limit;\n        private long position;\n        private DateFormat frmt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n\n        public BufferConsumer(ConcurrentLinkedQueue&lt;ByteBuffer&gt; byteBuffers, String fileName, int bufferSize) {\n            buffers = byteBuffers;\n            bytes = buffers.poll();\n            if (bytes==null)\n                bytes = ByteBuffer.allocate(bufferSize);\n\n            file = fileName;\n            chars = new StringBuffer(bufferSize);\n            frmt = new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\");\n            limit = bufferSize;\n            position = 0l;\n        }\n\n        public ByteBuffer buffer() {\n            return bytes;\n        }\n\n        @Override\n        public synchronized void completed(Integer result, AsynchronousFileChannel channel) {\n\n            if (result!=-1) {\n                bytes.flip();\n                final int len = bytes.limit();\n                int i = 0;\n                try {\n                    for (i = 0; i &lt; len; i++) {\n                        byte by = bytes.get();\n                        if (by=='\\n') {\n                            // ***\n                            // The code used to process the line goes here\n                            chars.setLength(0);\n                        }\n                        else {\n                                chars.append((char) by);\n                        }\n                    }\n                }\n                catch (Exception x) {\n                    System.out.println(\n                        \"Caught exception \" + x.getClass().getName() + \" \" + x.getMessage() +\n                        \" i=\" + String.valueOf(i) + \", limit=\" + String.valueOf(len) +\n                        \", position=\"+String.valueOf(position));\n                }\n\n                if (len==limit) {\n                    bytes.clear();\n                    position += len;\n                    channel.read(bytes, position, channel, this);\n                }\n                else {\n                    try {\n                        channel.close();\n                    }\n                    catch (IOException e) {\n                    }\n                    consumerThreads.release();\n                    bytes.clear();\n                    buffers.add(bytes);\n                }\n            }\n            else {\n                try {\n                    channel.close();\n                }\n                catch (IOException e) {\n                }\n                consumerThreads.release();\n                bytes.clear();\n                buffers.add(bytes);\n            }\n        }\n\n        @Override\n        public void failed(Throwable e, AsynchronousFileChannel channel) {\n        }\n};\n</code></pre>\n\n<p><strong>FULL RUNNABLE IMPLEMENTATION OF ALL CASES</strong></p>\n\n<p><a href=\"https://github.com/sergiomt/javaiobenchmark/blob/master/FileReadBenchmark.java\" rel=\"noreferrer\">https://github.com/sergiomt/javaiobenchmark/blob/master/FileReadBenchmark.java</a></p>\n"},{"tags":[],"owner":{"account_id":94864,"reputation":6426,"user_id":258741,"accept_rate":57,"display_name":"Zeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1484405531,"creation_date":1479229642,"answer_id":40615706,"question_id":4716503,"body_markdown":"Below is a one-liner of doing it in the Java 8 way. Assuming `text.txt` file is in the root of the project directory of the Eclipse.\r\n\r\n    Files.lines(Paths.get(&quot;text.txt&quot;)).collect(Collectors.toList());\r\n","title":"Reading a plain text file in Java","body":"<p>Below is a one-liner of doing it in the Java 8 way. Assuming <code>text.txt</code> file is in the root of the project directory of the Eclipse.</p>\n\n<pre><code>Files.lines(Paths.get(\"text.txt\")).collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5700535,"reputation":441,"user_id":4915000,"accept_rate":71,"display_name":"Kavipriya"},"score":1,"creation_date":1490679822,"post_id":41576248,"comment_id":73207034,"body_markdown":"How to give path if the folders are present inside the project?","body":"How to give path if the folders are present inside the project?"},{"owner":{"account_id":2432392,"reputation":755,"user_id":2123025,"accept_rate":25,"display_name":"Claude Martin"},"score":2,"creation_date":1504280445,"post_id":41576248,"comment_id":78968324,"body_markdown":"What about `java.nio.file.Files`? We can now just use `readAllLines`, \t`readAllBytes`, and `lines`.","body":"What about <code>java.nio.file.Files</code>? We can now just use <code>readAllLines</code>, \t<code>readAllBytes</code>, and <code>lines</code>."}],"tags":[],"owner":{"account_id":7741087,"reputation":1004,"user_id":5860808,"display_name":"pankaj"},"comment_count":2,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1484405660,"creation_date":1484074372,"answer_id":41576248,"question_id":4716503,"body_markdown":"Here are the three working and tested methods:\r\n\r\n###Using `BufferedReader`\r\n\r\n    package io;\r\n    import java.io.*;\r\n    public class ReadFromFile2 {\r\n        public static void main(String[] args)throws Exception {\r\n            File file = new File(&quot;C:\\\\Users\\\\pankaj\\\\Desktop\\\\test.java&quot;);\r\n            BufferedReader br = new BufferedReader(new FileReader(file));\r\n            String st;\r\n            while((st=br.readLine()) != null){\r\n                System.out.println(st);\r\n            }\r\n        }\r\n    }\r\n\r\n###Using `Scanner`\r\n\r\n    package io;\r\n\r\n    import java.io.File;\r\n    import java.util.Scanner;\r\n\r\n    public class ReadFromFileUsingScanner {\r\n        public static void main(String[] args) throws Exception {\r\n            File file = new File(&quot;C:\\\\Users\\\\pankaj\\\\Desktop\\\\test.java&quot;);\r\n            Scanner sc = new Scanner(file);\r\n            while(sc.hasNextLine()){\r\n                System.out.println(sc.nextLine());\r\n            }\r\n        }\r\n    }\r\n\r\n###Using `FileReader`\r\n\r\n    package io;\r\n    import java.io.*;\r\n    public class ReadingFromFile {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n            FileReader fr = new FileReader(&quot;C:\\\\Users\\\\pankaj\\\\Desktop\\\\test.java&quot;);\r\n            int i;\r\n            while ((i=fr.read()) != -1){\r\n                System.out.print((char) i);\r\n            }\r\n        }\r\n    }\r\n\r\n###Read the entire file without a loop using the `Scanner` class\r\n\r\n    package io;\r\n\r\n    import java.io.File;\r\n    import java.io.FileNotFoundException;\r\n    import java.util.Scanner;\r\n\r\n    public class ReadingEntireFileWithoutLoop {\r\n\r\n        public static void main(String[] args) throws FileNotFoundException {\r\n            File file = new File(&quot;C:\\\\Users\\\\pankaj\\\\Desktop\\\\test.java&quot;);\r\n            Scanner sc = new Scanner(file);\r\n            sc.useDelimiter(&quot;\\\\Z&quot;);\r\n            System.out.println(sc.next());\r\n        }\r\n    }\r\n","title":"Reading a plain text file in Java","body":"<p>Here are the three working and tested methods:</p>\n\n<h3>Using <code>BufferedReader</code></h3>\n\n<pre><code>package io;\nimport java.io.*;\npublic class ReadFromFile2 {\n    public static void main(String[] args)throws Exception {\n        File file = new File(\"C:\\\\Users\\\\pankaj\\\\Desktop\\\\test.java\");\n        BufferedReader br = new BufferedReader(new FileReader(file));\n        String st;\n        while((st=br.readLine()) != null){\n            System.out.println(st);\n        }\n    }\n}\n</code></pre>\n\n<h3>Using <code>Scanner</code></h3>\n\n<pre><code>package io;\n\nimport java.io.File;\nimport java.util.Scanner;\n\npublic class ReadFromFileUsingScanner {\n    public static void main(String[] args) throws Exception {\n        File file = new File(\"C:\\\\Users\\\\pankaj\\\\Desktop\\\\test.java\");\n        Scanner sc = new Scanner(file);\n        while(sc.hasNextLine()){\n            System.out.println(sc.nextLine());\n        }\n    }\n}\n</code></pre>\n\n<h3>Using <code>FileReader</code></h3>\n\n<pre><code>package io;\nimport java.io.*;\npublic class ReadingFromFile {\n\n    public static void main(String[] args) throws Exception {\n        FileReader fr = new FileReader(\"C:\\\\Users\\\\pankaj\\\\Desktop\\\\test.java\");\n        int i;\n        while ((i=fr.read()) != -1){\n            System.out.print((char) i);\n        }\n    }\n}\n</code></pre>\n\n<h3>Read the entire file without a loop using the <code>Scanner</code> class</h3>\n\n<pre><code>package io;\n\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.util.Scanner;\n\npublic class ReadingEntireFileWithoutLoop {\n\n    public static void main(String[] args) throws FileNotFoundException {\n        File file = new File(\"C:\\\\Users\\\\pankaj\\\\Desktop\\\\test.java\");\n        Scanner sc = new Scanner(file);\n        sc.useDelimiter(\"\\\\Z\");\n        System.out.println(sc.next());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6163309,"reputation":657,"user_id":4804146,"accept_rate":89,"display_name":"Adit A. Pillai"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519860242,"creation_date":1494941386,"answer_id":44002909,"question_id":4716503,"body_markdown":"This might not be the exact answer to the question. It&#39;s just another way of reading a file where you do not explicitly specify the path to your file in your Java code and instead, you read it as a command-line argument.\r\n\r\nWith the following code,\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.InputStreamReader;\r\n    import java.io.IOException;\r\n\r\n    public class InputReader{\r\n\r\n        public static void main(String[] args)throws IOException{\r\n            BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n            String s=&quot;&quot;;\r\n            while((s=br.readLine())!=null){\r\n                System.out.println(s);\r\n            }\r\n        }\r\n    }\r\n\r\njust go ahead and run it with:\r\n\r\n    java InputReader &lt; input.txt\r\n\r\nThis would read the contents of the `input.txt` and print it to the your console.\r\n\r\nYou can also make your `System.out.println()` to write to a specific file through the command line as follows:\r\n\r\n    java InputReader &lt; input.txt &gt; output.txt\r\n\r\nThis would read from `input.txt` and write to `output.txt`.\r\n\r\n\r\n","title":"Reading a plain text file in Java","body":"<p>This might not be the exact answer to the question. It's just another way of reading a file where you do not explicitly specify the path to your file in your Java code and instead, you read it as a command-line argument.</p>\n\n<p>With the following code,</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.io.IOException;\n\npublic class InputReader{\n\n    public static void main(String[] args)throws IOException{\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n        String s=\"\";\n        while((s=br.readLine())!=null){\n            System.out.println(s);\n        }\n    }\n}\n</code></pre>\n\n<p>just go ahead and run it with:</p>\n\n<pre><code>java InputReader &lt; input.txt\n</code></pre>\n\n<p>This would read the contents of the <code>input.txt</code> and print it to the your console.</p>\n\n<p>You can also make your <code>System.out.println()</code> to write to a specific file through the command line as follows:</p>\n\n<pre><code>java InputReader &lt; input.txt &gt; output.txt\n</code></pre>\n\n<p>This would read from <code>input.txt</code> and write to <code>output.txt</code>.</p>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503838447,"creation_date":1503838447,"answer_id":45905159,"question_id":4716503,"body_markdown":"[Cactoos](http://www.cactoos.org) give you a declarative one-liner:\r\n\r\n    new TextOf(new File(&quot;a.txt&quot;)).asString();","title":"Reading a plain text file in Java","body":"<p><a href=\"http://www.cactoos.org\" rel=\"nofollow noreferrer\">Cactoos</a> give you a declarative one-liner:</p>\n\n<pre><code>new TextOf(new File(\"a.txt\")).asString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6739787,"reputation":1338,"user_id":5193370,"display_name":"Mostafa Vatanpour"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519860320,"creation_date":1517733053,"answer_id":48606194,"question_id":4716503,"body_markdown":"You can use readAllLines and the `join` method to get whole file content in one line:\r\n\r\n    String str = String.join(&quot;\\n&quot;,Files.readAllLines(Paths.get(&quot;e:\\\\text.txt&quot;)));\r\n\r\nIt uses UTF-8 encoding by default, which reads ASCII data correctly.\r\n\r\nAlso you can use readAllBytes:\r\n\r\n    String str = new String(Files.readAllBytes(Paths.get(&quot;e:\\\\text.txt&quot;)), StandardCharsets.UTF_8);\r\n\r\nI think readAllBytes is faster and more precise, because it does not replace new line with `\\n` and also new line may be `\\r\\n`. It is depending on your needs which one is suitable.\r\n","title":"Reading a plain text file in Java","body":"<p>You can use readAllLines and the <code>join</code> method to get whole file content in one line:</p>\n\n<pre><code>String str = String.join(\"\\n\",Files.readAllLines(Paths.get(\"e:\\\\text.txt\")));\n</code></pre>\n\n<p>It uses UTF-8 encoding by default, which reads ASCII data correctly.</p>\n\n<p>Also you can use readAllBytes:</p>\n\n<pre><code>String str = new String(Files.readAllBytes(Paths.get(\"e:\\\\text.txt\")), StandardCharsets.UTF_8);\n</code></pre>\n\n<p>I think readAllBytes is faster and more precise, because it does not replace new line with <code>\\n</code> and also new line may be <code>\\r\\n</code>. It is depending on your needs which one is suitable.</p>\n"},{"tags":[],"owner":{"account_id":7531567,"reputation":2637,"user_id":5719544,"display_name":"gomisha"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1524830651,"creation_date":1523119261,"answer_id":49709620,"question_id":4716503,"body_markdown":"I documented [15 ways to read a file in Java][1] and then tested them for speed with various file sizes - from 1&amp;nbsp;KB to 1&amp;nbsp;GB and here are the top three ways to do this:\r\n\r\n1. `java.nio.file.Files.readAllBytes()`\r\n\r\n    Tested to work in Java 7, 8, and 9.\r\n\r\n        import java.io.File;\r\n        import java.io.IOException;\r\n        import java.nio.file.Files;\r\n\r\n        public class ReadFile_Files_ReadAllBytes {\r\n          public static void main(String [] pArgs) throws IOException {\r\n            String fileName = &quot;c:\\\\temp\\\\sample-10KB.txt&quot;;\r\n            File file = new File(fileName);\r\n\r\n            byte [] fileBytes = Files.readAllBytes(file.toPath());\r\n            char singleChar;\r\n            for(byte b : fileBytes) {\r\n              singleChar = (char) b;\r\n              System.out.print(singleChar);\r\n            }\r\n          }\r\n        }\r\n\r\n2. `java.io.BufferedReader.readLine()`\r\n\r\n    Tested to work in Java 7, 8, 9.\r\n\r\n        import java.io.BufferedReader;\r\n        import java.io.FileReader;\r\n        import java.io.IOException;\r\n\r\n        public class ReadFile_BufferedReader_ReadLine {\r\n          public static void main(String [] args) throws IOException {\r\n            String fileName = &quot;c:\\\\temp\\\\sample-10KB.txt&quot;;\r\n            FileReader fileReader = new FileReader(fileName);\r\n\r\n            try (BufferedReader bufferedReader = new BufferedReader(fileReader)) {\r\n              String line;\r\n              while((line = bufferedReader.readLine()) != null) {\r\n                System.out.println(line);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n3. `java.nio.file.Files.lines()`\r\n\r\n    This was tested to work in Java 8 and 9 but won&#39;t work in Java 7 because of the lambda expression requirement.\r\n\r\n        import java.io.File;\r\n        import java.io.IOException;\r\n        import java.nio.file.Files;\r\n        import java.util.stream.Stream;\r\n\r\n        public class ReadFile_Files_Lines {\r\n          public static void main(String[] pArgs) throws IOException {\r\n            String fileName = &quot;c:\\\\temp\\\\sample-10KB.txt&quot;;\r\n            File file = new File(fileName);\r\n\r\n            try (Stream linesStream = Files.lines(file.toPath())) {\r\n              linesStream.forEach(line -&gt; {\r\n                System.out.println(line);\r\n              });\r\n            }\r\n          }\r\n        }\r\n\r\n  [1]: https://funnelgarden.com/java_read_file\r\n\r\n","title":"Reading a plain text file in Java","body":"<p>I documented <a href=\"https://funnelgarden.com/java_read_file\" rel=\"noreferrer\">15 ways to read a file in Java</a> and then tested them for speed with various file sizes - from 1&nbsp;KB to 1&nbsp;GB and here are the top three ways to do this:</p>\n\n<ol>\n<li><p><code>java.nio.file.Files.readAllBytes()</code></p>\n\n<p>Tested to work in Java 7, 8, and 9.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\n\npublic class ReadFile_Files_ReadAllBytes {\n  public static void main(String [] pArgs) throws IOException {\n    String fileName = \"c:\\\\temp\\\\sample-10KB.txt\";\n    File file = new File(fileName);\n\n    byte [] fileBytes = Files.readAllBytes(file.toPath());\n    char singleChar;\n    for(byte b : fileBytes) {\n      singleChar = (char) b;\n      System.out.print(singleChar);\n    }\n  }\n}\n</code></pre></li>\n<li><p><code>java.io.BufferedReader.readLine()</code></p>\n\n<p>Tested to work in Java 7, 8, 9.</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\n\npublic class ReadFile_BufferedReader_ReadLine {\n  public static void main(String [] args) throws IOException {\n    String fileName = \"c:\\\\temp\\\\sample-10KB.txt\";\n    FileReader fileReader = new FileReader(fileName);\n\n    try (BufferedReader bufferedReader = new BufferedReader(fileReader)) {\n      String line;\n      while((line = bufferedReader.readLine()) != null) {\n        System.out.println(line);\n      }\n    }\n  }\n}\n</code></pre></li>\n<li><p><code>java.nio.file.Files.lines()</code></p>\n\n<p>This was tested to work in Java 8 and 9 but won't work in Java 7 because of the lambda expression requirement.</p>\n\n<pre><code>import java.io.File;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.util.stream.Stream;\n\npublic class ReadFile_Files_Lines {\n  public static void main(String[] pArgs) throws IOException {\n    String fileName = \"c:\\\\temp\\\\sample-10KB.txt\";\n    File file = new File(fileName);\n\n    try (Stream linesStream = Files.lines(file.toPath())) {\n      linesStream.forEach(line -&gt; {\n        System.out.println(line);\n      });\n    }\n  }\n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6263639,"reputation":529,"user_id":4870045,"display_name":"Imar"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1543923452,"creation_date":1537972916,"answer_id":52520400,"question_id":4716503,"body_markdown":"The buffered stream classes are much more performant in practice, so much so that the NIO.2 API includes methods that specifically return these stream classes, in part to encourage you always to use buffered streams in your application.\r\n\r\nHere is an example:\r\n\r\n    Path path = Paths.get(&quot;/myfolder/myfile.ext&quot;);\r\n    try (BufferedReader reader = Files.newBufferedReader(path)) {\r\n        // Read from the stream\r\n        String currentLine = null;\r\n        while ((currentLine = reader.readLine()) != null)\r\n            //do your code here\r\n    } catch (IOException e) {\r\n        // Handle file I/O exception...\r\n    }\r\n\r\nYou can replace this code \r\n\r\n    BufferedReader reader = Files.newBufferedReader(path);\r\n\r\nwith \r\n\r\n    BufferedReader br = new BufferedReader(new FileReader(&quot;/myfolder/myfile.ext&quot;));\r\n\r\nI recommend [this](http://tutorials.jenkov.com/java-nio/nio-vs-io.html) article to learn the main uses of Java NIO and IO.","title":"Reading a plain text file in Java","body":"<p>The buffered stream classes are much more performant in practice, so much so that the NIO.2 API includes methods that specifically return these stream classes, in part to encourage you always to use buffered streams in your application.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>Path path = Paths.get(\"/myfolder/myfile.ext\");\ntry (BufferedReader reader = Files.newBufferedReader(path)) {\n    // Read from the stream\n    String currentLine = null;\n    while ((currentLine = reader.readLine()) != null)\n        //do your code here\n} catch (IOException e) {\n    // Handle file I/O exception...\n}\n</code></pre>\n\n<p>You can replace this code </p>\n\n<pre><code>BufferedReader reader = Files.newBufferedReader(path);\n</code></pre>\n\n<p>with </p>\n\n<pre><code>BufferedReader br = new BufferedReader(new FileReader(\"/myfolder/myfile.ext\"));\n</code></pre>\n\n<p>I recommend <a href=\"http://tutorials.jenkov.com/java-nio/nio-vs-io.html\" rel=\"noreferrer\">this</a> article to learn the main uses of Java NIO and IO.</p>\n"},{"tags":[],"owner":{"account_id":15535676,"reputation":66,"user_id":11207932,"display_name":"Archit Bhadauria"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568629463,"creation_date":1568629463,"answer_id":57954874,"question_id":4716503,"body_markdown":"    import java.util.stream.Stream;\r\n    import java.nio.file.*;\r\n    import java.io.*;\r\n\r\n    class ReadFile {\r\n\r\n     public static void main(String[] args) {\r\n\r\n        String filename = &quot;Test.txt&quot;;\r\n\r\n        try(Stream&lt;String&gt; stream = Files.lines(Paths.get(filename))) {\r\n\r\n              stream.forEach(System.out:: println);\r\n\r\n        } catch (IOException e) {\r\n\r\n            e.printStackTrace();\r\n        }\r\n\r\n     }\r\n\r\n     }\r\n\r\nJust use java 8 Stream.","title":"Reading a plain text file in Java","body":"<pre><code>import java.util.stream.Stream;\nimport java.nio.file.*;\nimport java.io.*;\n\nclass ReadFile {\n\n public static void main(String[] args) {\n\n    String filename = \"Test.txt\";\n\n    try(Stream&lt;String&gt; stream = Files.lines(Paths.get(filename))) {\n\n          stream.forEach(System.out:: println);\n\n    } catch (IOException e) {\n\n        e.printStackTrace();\n    }\n\n }\n\n }\n</code></pre>\n\n<p>Just use java 8 Stream.</p>\n"},{"tags":[],"owner":{"account_id":16722653,"reputation":121,"user_id":12087120,"display_name":"Fridjato Part Fridjat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577107607,"creation_date":1577107607,"answer_id":59456166,"question_id":4716503,"body_markdown":"    try {\r\n      File f = new File(&quot;filename.txt&quot;);\r\n      Scanner r = new Scanner(f);  \r\n      while (r.hasNextLine()) {\r\n        String data = r.nextLine();\r\n        JOptionPane.showMessageDialog(data);\r\n      }\r\n      r.close();\r\n    } catch (FileNotFoundException ex) {\r\n      JOptionPane.showMessageDialog(&quot;Error occurred&quot;);\r\n      ex.printStackTrace();\r\n    }","title":"Reading a plain text file in Java","body":"<pre><code>try {\n  File f = new File(\"filename.txt\");\n  Scanner r = new Scanner(f);  \n  while (r.hasNextLine()) {\n    String data = r.nextLine();\n    JOptionPane.showMessageDialog(data);\n  }\n  r.close();\n} catch (FileNotFoundException ex) {\n  JOptionPane.showMessageDialog(\"Error occurred\");\n  ex.printStackTrace();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":391761,"reputation":17302,"user_id":752603,"accept_rate":51,"display_name":"Handsome Nerd"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1617226984,"creation_date":1584005526,"answer_id":60651113,"question_id":4716503,"body_markdown":"The most intuitive method is introduced in Java 11 `Files.readString`\r\n\r\n    \r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class App {\r\n        public static void main(String args[]) throws IOException {\r\n            String content = Files.readString(Paths.get(&quot;D:\\\\sandbox\\\\mvn\\\\my-app\\\\my-app.iml&quot;));\r\n            System.out.print(content);\r\n        }\r\n    }\r\n\r\nPHP has this [luxury][1] for decades! ☺ \r\n\r\n\r\n  [1]: https://www.php.net/manual/en/function.file-get-contents.php","title":"Reading a plain text file in Java","body":"<p>The most intuitive method is introduced in Java 11 <code>Files.readString</code></p>\n<pre><code>import java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class App {\n    public static void main(String args[]) throws IOException {\n        String content = Files.readString(Paths.get(&quot;D:\\\\sandbox\\\\mvn\\\\my-app\\\\my-app.iml&quot;));\n        System.out.print(content);\n    }\n}\n</code></pre>\n<p>PHP has this <a href=\"https://www.php.net/manual/en/function.file-get-contents.php\" rel=\"noreferrer\">luxury</a> for decades! ☺</p>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646146716,"creation_date":1646146716,"answer_id":71310454,"question_id":4716503,"body_markdown":"In case you have **a large file** you can use Apache Commons IO to process the file iteratively without exhausting the available memory.\r\n\r\n```\r\ntry (LineIterator it = FileUtils.lineIterator(theFile, &quot;UTF-8&quot;)) {\r\n    while (it.hasNext()) {\r\n        String line = it.nextLine();\r\n        // do something with line\r\n    }\r\n}\r\n```","title":"Reading a plain text file in Java","body":"<p>In case you have <strong>a large file</strong> you can use Apache Commons IO to process the file iteratively without exhausting the available memory.</p>\n<pre><code>try (LineIterator it = FileUtils.lineIterator(theFile, &quot;UTF-8&quot;)) {\n    while (it.hasNext()) {\n        String line = it.nextLine();\n        // do something with line\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8452580,"reputation":2051,"user_id":6340959,"accept_rate":91,"display_name":"Saeed Zhiany"},"score":0,"creation_date":1655613672,"post_id":72669919,"comment_id":128371093,"body_markdown":"Please read [How do I write a good answer?](https://stackoverflow.com/help/how-to-answer). While this code block may answer the OP&#39;s question, this answer would be much more useful if you explain how this code is different from the code in the question, what you&#39;ve changed, why you&#39;ve changed it and why that solves the problem without introducing others.","body":"Please read <a href=\"https://stackoverflow.com/help/how-to-answer\">How do I write a good answer?</a>. While this code block may answer the OP&#39;s question, this answer would be much more useful if you explain how this code is different from the code in the question, what you&#39;ve changed, why you&#39;ve changed it and why that solves the problem without introducing others."},{"owner":{"account_id":9608158,"reputation":101,"user_id":7133515,"display_name":"Samrat"},"score":0,"creation_date":1655777651,"post_id":72669919,"comment_id":128406476,"body_markdown":"@SaeedZhiany apologies ! I didnt checked the guidelines to write good answer in stackoverflow ! i will check and edit the answer properly ! Thank you for showing me the proper way :)","body":"@SaeedZhiany apologies ! I didnt checked the guidelines to write good answer in stackoverflow ! i will check and edit the answer properly ! Thank you for showing me the proper way :)"}],"tags":[],"owner":{"account_id":9608158,"reputation":101,"user_id":7133515,"display_name":"Samrat"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655779669,"creation_date":1655561425,"answer_id":72669919,"question_id":4716503,"body_markdown":"    try (Stream&lt;String&gt; stream = Files.lines(Paths.get(String.valueOf(new File(&quot;yourFile.txt&quot;))))) {\r\n    \tstream.forEach(System.out::println);\r\n    } catch (IOException e) {\r\n    \te.printStackTrace();\r\n    }\r\n\r\n\r\n```new File(&lt;path_name&gt;)```\r\n \r\nCreates a new File instance by converting the given pathname string into an abstract pathname. If the given string is the empty string, then the result is the empty abstract pathname.\r\nParams:\r\npathname – A pathname string\r\nThrows:\r\nNullPointerException – If the pathname argument is null\r\n\r\n```Files.lines``` returns a stream of String \r\n\r\n```Stream&lt;String&gt; stream = Files.lines(Paths.get(String.valueOf(new File(&quot;yourFile.txt&quot;))))```\r\ncan throw nullPointerExcetion , FileNotFoundException so, keepint it inside try will take care of Exception in runtime \r\n\r\n```\r\nstream.forEach(System.out::println);\r\n```\r\nThis is used to iterate over the stream and print in console \r\nIf you have different use case you can provide your custome function to manipulate the stream of lines \r\n","title":"Reading a plain text file in Java","body":"<pre><code>try (Stream&lt;String&gt; stream = Files.lines(Paths.get(String.valueOf(new File(&quot;yourFile.txt&quot;))))) {\n    stream.forEach(System.out::println);\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p><code>new File(&lt;path_name&gt;)</code></p>\n<p>Creates a new File instance by converting the given pathname string into an abstract pathname. If the given string is the empty string, then the result is the empty abstract pathname.\nParams:\npathname – A pathname string\nThrows:\nNullPointerException – If the pathname argument is null</p>\n<p><code>Files.lines</code> returns a stream of String</p>\n<p><code>Stream&lt;String&gt; stream = Files.lines(Paths.get(String.valueOf(new File(&quot;yourFile.txt&quot;))))</code>\ncan throw nullPointerExcetion , FileNotFoundException so, keepint it inside try will take care of Exception in runtime</p>\n<pre><code>stream.forEach(System.out::println);\n</code></pre>\n<p>This is used to iterate over the stream and print in console\nIf you have different use case you can provide your custome function to manipulate the stream of lines</p>\n"},{"tags":[],"owner":{"account_id":10396336,"reputation":121,"user_id":7666017,"display_name":"Timur Baysal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658404705,"creation_date":1658404705,"answer_id":73065762,"question_id":4716503,"body_markdown":"My new favorite approach to simply read a whole text file from a BufferedReader input goes:\r\n\r\n```String text = input.lines().collect(Collectors.joining(System.lineSeparator())));```\r\n\r\nThis will read the whole file by adding new line (lineSeparator) behind each line. Without the separator it would join all lines together as one.\r\nThis appears to have existed since Java 8. ","title":"Reading a plain text file in Java","body":"<p>My new favorite approach to simply read a whole text file from a BufferedReader input goes:</p>\n<p><code>String text = input.lines().collect(Collectors.joining(System.lineSeparator())));</code></p>\n<p>This will read the whole file by adding new line (lineSeparator) behind each line. Without the separator it would join all lines together as one.\nThis appears to have existed since Java 8.</p>\n"},{"tags":[],"owner":{"account_id":11726648,"reputation":19553,"user_id":8583692,"display_name":"Mahozad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671185459,"creation_date":1671185459,"answer_id":74822974,"question_id":4716503,"body_markdown":"For Android developers ending up here (who use **Kotlin**):\r\n\r\n```kotlin\r\nval myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\r\nval text = myFileUrl.readText() // Not recommended for huge files\r\nprintln(text)\r\n```\r\n\r\nOther solution:\r\n\r\n```kotlin\r\nval myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\r\nval file = File(myFileUrl.toURI())\r\nval lines = file.readLines() // Not recommended for huge files\r\nlines.forEach(::println)\r\n```\r\n\r\nAnother good solution which can be used for huge files as well:\r\n\r\n```kotlin\r\nval myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\r\nval file = File(myFileUrl.toURI())\r\nfile\r\n    .bufferedReader()\r\n    .lineSequence()\r\n    .forEach(::println)\r\n```\r\n\r\nOr:\r\n\r\n```kotlin\r\nval myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\r\nval file = File(myFileUrl.toURI())\r\nfile.useLines { lines -&gt;\r\n    lines.forEach(::println)\r\n}\r\n```\r\n\r\n### Notes:\r\n- The *vegetables.txt* file should be in your classpath (for example, in *src/main/resources* directory)\r\n\r\n- The above solutions all treat the file encodings as `UTF-8` by default. You can specify your desired encoding as the argument for the functions.\r\n\r\n- The above solutions do not need any further action like closing the files or readers. They are automatically taken care of by the Kotlin standard library.\r\n","title":"Reading a plain text file in Java","body":"<p>For Android developers ending up here (who use <strong>Kotlin</strong>):</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\nval text = myFileUrl.readText() // Not recommended for huge files\nprintln(text)\n</code></pre>\n<p>Other solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\nval file = File(myFileUrl.toURI())\nval lines = file.readLines() // Not recommended for huge files\nlines.forEach(::println)\n</code></pre>\n<p>Another good solution which can be used for huge files as well:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\nval file = File(myFileUrl.toURI())\nfile\n    .bufferedReader()\n    .lineSequence()\n    .forEach(::println)\n</code></pre>\n<p>Or:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myFileUrl = object{}.javaClass.getResource(&quot;/vegetables.txt&quot;)\nval file = File(myFileUrl.toURI())\nfile.useLines { lines -&gt;\n    lines.forEach(::println)\n}\n</code></pre>\n<h3>Notes:</h3>\n<ul>\n<li><p>The <em>vegetables.txt</em> file should be in your classpath (for example, in <em>src/main/resources</em> directory)</p>\n</li>\n<li><p>The above solutions all treat the file encodings as <code>UTF-8</code> by default. You can specify your desired encoding as the argument for the functions.</p>\n</li>\n<li><p>The above solutions do not need any further action like closing the files or readers. They are automatically taken care of by the Kotlin standard library.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":44564,"reputation":10887,"user_id":130888,"accept_rate":100,"display_name":"Tim the Enchanter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2627477,"favorite_count":0,"down_vote_count":7,"up_vote_count":1060,"accepted_answer_id":4716521,"answer_count":31,"score":1053,"last_activity_date":1671185604,"creation_date":1295288953,"question_id":4716503,"body_markdown":"It seems there are different ways to read and write data of files in Java.\r\n\r\nI want to read ASCII data from a file. What are the possible ways and their differences?\r\n","title":"Reading a plain text file in Java","body":"<p>It seems there are different ways to read and write data of files in Java.</p>\n<p>I want to read ASCII data from a file. What are the possible ways and their differences?</p>\n"},{"tags":["java","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":8838669,"reputation":776,"user_id":6601800,"display_name":"Linh Vu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671185333,"creation_date":1671185333,"answer_id":74822948,"question_id":74822599,"body_markdown":"Yes, basically, the purpose of `@JoinTable` is to create *an intermediate table* that **only** contains keys of each participant table.\r\n\r\n```java\r\n@ManyToMany\r\n    @JoinTable(name = &quot;Plan_Meds&quot;, joinColumns = {\r\n            @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\r\n            @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;),\r\n            @JoinColumn(name = &quot;weekday&quot;, referencedColumnName = &quot;weekday&quot;), }, inverseJoinColumns = @JoinColumn(name = &quot;id&quot;))\r\n    private Set&lt;Meds&gt; assignedMeds = new HashSet&lt;&gt;();\r\n```\r\n\r\nIn this case, \r\n```\r\njoinColumns = {\r\n            @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\r\n            @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;)}\r\n```\r\nwill refer to the key of your `Plans` entity **plansPKId**, and \r\n```\r\ninverseJoinColumns = @JoinColumn(name = &quot;id&quot;)\r\n```\r\nwill refer to the `Meds` entity&#39;s key **id**. Since **weekday** `@JoinColumn(name = &quot;weekday&quot;, referencedColumnName = &quot;weekday&quot;)`, it&#39;s not referring to any key, it should not be here.\r\n\r\n---\r\nIn case you need to add some more fields in the join table, **manually** create your own join table and use @ManyToOne instead: [manytomany](https://www.baeldung.com/jpa-many-to-many#many-to-many-using-a-composite-key)\r\n","title":"javax.persistence @JoinColumn not working","body":"<p>Yes, basically, the purpose of <code>@JoinTable</code> is to create <em>an intermediate table</em> that <strong>only</strong> contains keys of each participant table.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ManyToMany\n    @JoinTable(name = &quot;Plan_Meds&quot;, joinColumns = {\n            @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\n            @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;),\n            @JoinColumn(name = &quot;weekday&quot;, referencedColumnName = &quot;weekday&quot;), }, inverseJoinColumns = @JoinColumn(name = &quot;id&quot;))\n    private Set&lt;Meds&gt; assignedMeds = new HashSet&lt;&gt;();\n</code></pre>\n<p>In this case,</p>\n<pre><code>joinColumns = {\n            @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\n            @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;)}\n</code></pre>\n<p>will refer to the key of your <code>Plans</code> entity <strong>plansPKId</strong>, and</p>\n<pre><code>inverseJoinColumns = @JoinColumn(name = &quot;id&quot;)\n</code></pre>\n<p>will refer to the <code>Meds</code> entity's key <strong>id</strong>. Since <strong>weekday</strong> <code>@JoinColumn(name = &quot;weekday&quot;, referencedColumnName = &quot;weekday&quot;)</code>, it's not referring to any key, it should not be here.</p>\n<hr />\n<p>In case you need to add some more fields in the join table, <strong>manually</strong> create your own join table and use @ManyToOne instead: <a href=\"https://www.baeldung.com/jpa-many-to-many#many-to-many-using-a-composite-key\" rel=\"nofollow noreferrer\">manytomany</a></p>\n"}],"owner":{"account_id":15650594,"reputation":43,"user_id":11292065,"display_name":"Bernardo Alves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74822948,"answer_count":1,"score":0,"last_activity_date":1671185333,"creation_date":1671183397,"question_id":74822599,"body_markdown":"I&#39;m trying to join 2 tables (ManytoMany) and I&#39;m getting this error:\r\n\r\n&gt; Caused by: org.hibernate.AnnotationException:\r\n&gt; referencedColumnNames(planDate, planId, weekday) of\r\n&gt; com.MD.Medicine.Models.Meds.assignedMeds referencing\r\n&gt; com.MD.Medicine.Models.Plans not mapped to a single property\r\n\r\nMy entities,\r\nPlans.java:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;plans&quot;)\r\n    @EqualsAndHashCode(exclude = &quot;assignedMeds&quot;)\r\n    public class Plans {\r\n        @EmbeddedId\r\n        private PlansPKId plansPKId;\r\n    \r\n        @Column\r\n        private String planName;\r\n    \r\n        @Column\r\n        private String weekday;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(name = &quot;Plan_Meds&quot;, joinColumns = {\r\n                @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\r\n                @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;),\r\n                @JoinColumn(name = &quot;weekday&quot;, referencedColumnName = &quot;weekday&quot;), }, inverseJoinColumns = @JoinColumn(name = &quot;id&quot;))\r\n        private Set&lt;Meds&gt; assignedMeds = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\n\r\nPlansPKId.java (for Plans Model):\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @EqualsAndHashCode\r\n    @Embeddable\r\n    public class PlansPKId implements Serializable {\r\n    \r\n        private Date planDate; // format: yyyy-mm-dd\r\n        private long planId;\r\n    \r\n      \r\n    \r\n    }\r\n\r\nMeds.java:\r\n\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Entity\r\n    @Table(name = &quot;meds&quot;)\r\n    \r\n    public class Meds {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @Column\r\n        private String name;\r\n    \r\n        @Column\r\n        private BigDecimal price;\r\n    \r\n        @Column\r\n        private String category;\r\n    \r\n        @Column\r\n        private int pillNumber;\r\n    \r\n        @Column\r\n        private Date date;\r\n    \r\n        @JsonIgnore\r\n        @ManyToMany(mappedBy = &quot;assignedMeds&quot;)\r\n        private Set&lt;Plans&gt; plans = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n\r\nWhen I join only with this:\r\n\r\n    @ManyToMany\r\n        @JoinTable(name = &quot;Plan_Meds&quot;, joinColumns = {\r\n                @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\r\n                @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;), }, \r\n                inverseJoinColumns = @JoinColumn(name = &quot;id&quot;))\r\n        private Set&lt;Meds&gt; assignedMeds = new HashSet&lt;&gt;();\r\n\r\nIt works properly, but if I had the column &quot;weekday&quot; I start getting the error. Am I not supposed to join them like that?\r\n","title":"javax.persistence @JoinColumn not working","body":"<p>I'm trying to join 2 tables (ManytoMany) and I'm getting this error:</p>\n<blockquote>\n<p>Caused by: org.hibernate.AnnotationException:\nreferencedColumnNames(planDate, planId, weekday) of\ncom.MD.Medicine.Models.Meds.assignedMeds referencing\ncom.MD.Medicine.Models.Plans not mapped to a single property</p>\n</blockquote>\n<p>My entities,\nPlans.java:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;plans&quot;)\n@EqualsAndHashCode(exclude = &quot;assignedMeds&quot;)\npublic class Plans {\n    @EmbeddedId\n    private PlansPKId plansPKId;\n\n    @Column\n    private String planName;\n\n    @Column\n    private String weekday;\n\n    @ManyToMany\n    @JoinTable(name = &quot;Plan_Meds&quot;, joinColumns = {\n            @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\n            @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;),\n            @JoinColumn(name = &quot;weekday&quot;, referencedColumnName = &quot;weekday&quot;), }, inverseJoinColumns = @JoinColumn(name = &quot;id&quot;))\n    private Set&lt;Meds&gt; assignedMeds = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>PlansPKId.java (for Plans Model):</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@EqualsAndHashCode\n@Embeddable\npublic class PlansPKId implements Serializable {\n\n    private Date planDate; // format: yyyy-mm-dd\n    private long planId;\n\n  \n\n}\n</code></pre>\n<p>Meds.java:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;meds&quot;)\n\npublic class Meds {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column\n    private String name;\n\n    @Column\n    private BigDecimal price;\n\n    @Column\n    private String category;\n\n    @Column\n    private int pillNumber;\n\n    @Column\n    private Date date;\n\n    @JsonIgnore\n    @ManyToMany(mappedBy = &quot;assignedMeds&quot;)\n    private Set&lt;Plans&gt; plans = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<p>When I join only with this:</p>\n<pre><code>@ManyToMany\n    @JoinTable(name = &quot;Plan_Meds&quot;, joinColumns = {\n            @JoinColumn(name = &quot;planDate&quot;, referencedColumnName = &quot;planDate&quot;),\n            @JoinColumn(name = &quot;planId&quot;, referencedColumnName = &quot;planId&quot;), }, \n            inverseJoinColumns = @JoinColumn(name = &quot;id&quot;))\n    private Set&lt;Meds&gt; assignedMeds = new HashSet&lt;&gt;();\n</code></pre>\n<p>It works properly, but if I had the column &quot;weekday&quot; I start getting the error. Am I not supposed to join them like that?</p>\n"},{"tags":["java","encryption","google-bigquery","data-quality"],"owner":{"account_id":27164278,"reputation":13,"user_id":20702006,"display_name":"r61238t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671185019,"creation_date":1671013405,"question_id":74796753,"body_markdown":"We have a local historical data source that we want to decommission and move it to BigQuery for storage as well as for analyzing. There are some sensitive fields that we don’t want to be exposed but still want to keep them in BigQuery. We’ve read about the Column level encryption with Cloud KMS  in BigQuery and we see it fits for our purpose - we want to encrypt the sensitive fields in BigQuery. BigQuery offers the function \r\n```\r\nAEAD.ENCRYPT \r\n```\r\nto encrypt data with Cloud KMS but we don’t want to move the sensitive data into BigQuery then do the encryption - instead we want to do the encryption at our side before we move the encrypted data into BigQuery that still be able to decrypt using BigQuery AEAD functions . Does anyone know if we can do that using Java or Python?\r\n\r\nFrom BigQuery documentation, they mentioned the keyset is in format google.crypto.tink.Keyset so it is somehow related to Google&#39;s tinkey library. Does anyone try it if it would work or if there are other ways?","title":"Encryption in BigQuery","body":"<p>We have a local historical data source that we want to decommission and move it to BigQuery for storage as well as for analyzing. There are some sensitive fields that we don’t want to be exposed but still want to keep them in BigQuery. We’ve read about the Column level encryption with Cloud KMS  in BigQuery and we see it fits for our purpose - we want to encrypt the sensitive fields in BigQuery. BigQuery offers the function</p>\n<pre><code>AEAD.ENCRYPT \n</code></pre>\n<p>to encrypt data with Cloud KMS but we don’t want to move the sensitive data into BigQuery then do the encryption - instead we want to do the encryption at our side before we move the encrypted data into BigQuery that still be able to decrypt using BigQuery AEAD functions . Does anyone know if we can do that using Java or Python?</p>\n<p>From BigQuery documentation, they mentioned the keyset is in format google.crypto.tink.Keyset so it is somehow related to Google's tinkey library. Does anyone try it if it would work or if there are other ways?</p>\n"},{"tags":["java","eclipse","stateless-session-bean","wildfly-21"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1669851161,"post_id":74622563,"comment_id":131739953,"body_markdown":"Is there a reason you&#39;re using Jersey? With the exception of the `web.xml`, I don&#39;t see any reason to not use RESTEasy which is shipped with WildFly.","body":"Is there a reason you&#39;re using Jersey? With the exception of the <code>web.xml</code>, I don&#39;t see any reason to not use RESTEasy which is shipped with WildFly."},{"owner":{"account_id":26917536,"reputation":1,"user_id":20492093,"display_name":"Prashant Kumar"},"score":0,"creation_date":1669955405,"post_id":74622563,"comment_id":131765308,"body_markdown":"I am new to rest Api, I don&#39;t have any specific reason to use Jersey though. However I resolved the issue. Thanks for commenting.","body":"I am new to rest Api, I don&#39;t have any specific reason to use Jersey though. However I resolved the issue. Thanks for commenting."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1669963145,"post_id":74622563,"comment_id":131766531,"body_markdown":"Service is NOT A BEAN.","body":"Service is NOT A BEAN."},{"owner":{"account_id":26917536,"reputation":1,"user_id":20492093,"display_name":"Prashant Kumar"},"score":0,"creation_date":1669967346,"post_id":74622563,"comment_id":131767497,"body_markdown":"What you mean? You mean we can only use @EJB inside beans only?","body":"What you mean? You mean we can only use @EJB inside beans only?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1669996572,"post_id":74622563,"comment_id":131777120,"body_markdown":"I would avoid including Jersey in your deployment. Having two different Jakarta REST implementations could introduce a problem. WildFly already ships with an implementation.","body":"I would avoid including Jersey in your deployment. Having two different Jakarta REST implementations could introduce a problem. WildFly already ships with an implementation."},{"owner":{"account_id":26917536,"reputation":1,"user_id":20492093,"display_name":"Prashant Kumar"},"score":0,"creation_date":1671173463,"post_id":74622563,"comment_id":132046140,"body_markdown":"@JamesR.Perkins this is my problem? or this could be the problem?","body":"@JamesR.Perkins this is my problem? or this could be the problem?"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1671376715,"post_id":74622563,"comment_id":132081999,"body_markdown":"It could be your problem.","body":"It could be your problem."}],"answers":[{"tags":[],"owner":{"account_id":26917536,"reputation":1,"user_id":20492093,"display_name":"Prashant Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669955109,"creation_date":1669955109,"answer_id":74650900,"question_id":74622563,"body_markdown":"The reason was something related to Non-managed bean. And I can not use @EJB to initialize the bean, I have to use Jndi lookup way like this inside function:\r\n\r\n```\r\n@POST\r\n\t@Produces(MediaType.APPLICATION_JSON)\r\n\t@Path(&quot;register&quot;)\r\n\tpublic Response register(@FormParam(&quot;userName&quot;) final String name, @FormParam(&quot;userPassword&quot;) final String pass, @FormParam(&quot;userEmail&quot;) String email) \r\n\t{\r\n\t\tUserSessionBeanLocal userBean = null;\r\n\t\ttry \r\n\t\t{\r\n\t\t\tInitialContext ic = new InitialContext();\r\n\t\t\tuserBean = (UserSessionBeanLocal)ic.lookup(&quot;java:global/ejb/UserSessionBean!com.demo.ejb.UserSessionBeanLocal&quot;);\r\n\t\t} catch (NamingException e) \r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n...\r\n```","title":"Stateless Bean is null","body":"<p>The reason was something related to Non-managed bean. And I can not use @EJB to initialize the bean, I have to use Jndi lookup way like this inside function:</p>\n<pre><code>@POST\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;register&quot;)\n    public Response register(@FormParam(&quot;userName&quot;) final String name, @FormParam(&quot;userPassword&quot;) final String pass, @FormParam(&quot;userEmail&quot;) String email) \n    {\n        UserSessionBeanLocal userBean = null;\n        try \n        {\n            InitialContext ic = new InitialContext();\n            userBean = (UserSessionBeanLocal)ic.lookup(&quot;java:global/ejb/UserSessionBean!com.demo.ejb.UserSessionBeanLocal&quot;);\n        } catch (NamingException e) \n        {\n            e.printStackTrace();\n        }\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26917536,"reputation":1,"user_id":20492093,"display_name":"Prashant Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671184910,"creation_date":1671184910,"answer_id":74822866,"question_id":74622563,"body_markdown":"If you only want to use @EJB this might work:\r\n\r\nI was using jersey in the project and I feels like there is some problem with jersey libraries. \r\n1. So I deleted all the **dependency** inside the **dependecies** below build from the **pom.xml** and update the project \r\n2. Added to **javaee-api-8.0.jar** file to the classpath \r\n3. Clear the everything inside the **web-app** (everything) \r\n4. Added root resource file by extending **javax.ws.rs.core.Application** like [here][1] and it worked\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/tutorial/jaxrs002.htm#:~:text=Configuring%20a%20JAX%2DRS%20Application%20Using%20a%20Subclass%20of%20Application","title":"Stateless Bean is null","body":"<p>If you only want to use @EJB this might work:</p>\n<p>I was using jersey in the project and I feels like there is some problem with jersey libraries.</p>\n<ol>\n<li>So I deleted all the <strong>dependency</strong> inside the <strong>dependecies</strong> below build from the <strong>pom.xml</strong> and update the project</li>\n<li>Added to <strong>javaee-api-8.0.jar</strong> file to the classpath</li>\n<li>Clear the everything inside the <strong>web-app</strong> (everything)</li>\n<li>Added root resource file by extending <strong>javax.ws.rs.core.Application</strong> like <a href=\"https://docs.oracle.com/javaee/7/tutorial/jaxrs002.htm#:%7E:text=Configuring%20a%20JAX%2DRS%20Application%20Using%20a%20Subclass%20of%20Application\" rel=\"nofollow noreferrer\">here</a> and it worked</li>\n</ol>\n"}],"owner":{"account_id":26917536,"reputation":1,"user_id":20492093,"display_name":"Prashant Kumar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74822866,"answer_count":2,"score":0,"last_activity_date":1671184910,"creation_date":1669778805,"question_id":74622563,"body_markdown":"It was working earlier when I was jersey 1.1. But now it says `this.userBean is null`.\r\nApart from that there is one warning in the log related `com.sun.faces.flow.FlowDiscoveryCDIHelper is deprecated from CDI 1.1!`\r\n\r\n**logs:**\r\n\r\n```\r\n08:30:45,161 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of &quot;ejb2.war&quot; (runtime-name: &quot;ejb2.war&quot;)\r\n08:30:45,753 INFO  [org.jboss.weld.deployer] (MSC service thread 1-3) WFLYWELD0003: Processing weld deployment ejb2.war\r\n08:30:45,783 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-3) WFLYEJB0473: JNDI bindings for session bean named &#39;UserSessionBean&#39; in deployment unit &#39;deployment &quot;ejb2.war&quot;&#39; are as follows:\r\n\r\n        java:global/ejb2/UserSessionBean!com.enovate.assignment.ejb2.UserSessionBeanLocal\r\n        java:app/ejb2/UserSessionBean!com.enovate.assignment.ejb2.UserSessionBeanLocal\r\n        java:module/UserSessionBean!com.enovate.assignment.ejb2.UserSessionBeanLocal\r\n        java:global/ejb2/UserSessionBean\r\n        java:app/ejb2/UserSessionBean\r\n        java:module/UserSessionBean\r\n\r\n08:30:45,845 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-3) No shutdown hook registered: Please call close() manually on application shutdown.\r\n08:30:45,999 INFO  [io.smallrye.metrics] (MSC service thread 1-3) MicroProfile: Metrics activated (SmallRye Metrics version: 2.4.2)\r\n08:30:46,008 WARN  [org.jboss.weld.Bootstrap] (MSC service thread 1-3) WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType&lt;?&gt;) used for class com.sun.faces.flow.FlowDiscoveryCDIHelper is deprecated from CDI 1.1!\r\n08:30:46,210 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 126) Initializing Mojarra 2.3.14.SP01 for context &#39;/ejb2&#39;\r\n08:30:47,353 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 126) WFLYUT0021: Registered web context: &#39;/ejb2&#39; for server &#39;default-server&#39;\r\n08:30:47,440 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0016: Replaced deployment &quot;ejb2.war&quot; with deployment &quot;ejb2.war&quot;\r\n08:30:47,448 INFO  [org.jboss.as.repository] (DeploymentScanner-threads - 2) WFLYDR0002: Content removed from location C:\\Users\\teoti\\Desktop\\office\\wildfly-21.0.2.Final\\standalone\\data\\content\\15\\e071e0f42a2e0339da8b4d636a6496c5b1146e\\content\r\n08:33:05,177 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ejb2/webapi/register: javax.servlet.ServletException: java.lang.NullPointerException: Cannot invoke &quot;com.enovate.assignment.ejb2.UserSessionBeanLocal.isUserPresent(String)&quot; because &quot;this.userBean&quot; is null\r\n\r\n```\r\n\r\n\r\n**web.xml:**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!-- This web.xml file is not required when using Servlet 3.0 container,\r\n     see implementation details http://jersey.java.net/nonav/documentation/latest/jax-rs.html --&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\r\n        &lt;init-param&gt;\r\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.enovate.assignment.ejb2&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n&lt;/web-app&gt;\r\n```\r\n\r\n**services:**\r\n\r\n```\r\nimport javax.ejb.EJB;\r\nimport javax.ws.rs.FormParam;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.ws.rs.core.Response;\r\n\r\n@Path(&quot;&quot;)\r\npublic class Service  \r\n{\r\n\t@EJB\r\n\tUserSessionBeanLocal userBean;\r\n\t\r\n    @POST\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Path(&quot;register&quot;)\r\n    public Response register(@FormParam(&quot;userName&quot;) final String name, @FormParam(&quot;userPassword&quot;) final String pass, @FormParam(&quot;userEmail&quot;)  String email)\r\n    {\r\n    \tif (userBean.isUserPresent(email)) \r\n            return Response.ok(&quot;Email already registered!!&quot;).build();\r\n        userBean.addUser(new User(name, email, pass));\r\n        return Response.ok(&quot;Registered!!&quot;).build();\r\n    }\r\n}\r\n```\r\n\r\n**UserSessionBean:**\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\nimport javax.ejb.Stateless; \r\n\r\n@Stateless\r\npublic class UserSessionBean implements UserSessionBeanLocal\r\n{\r\n    static ArrayList&lt;User&gt; usersList = new ArrayList&lt;User&gt;();\r\n    static int userCount = 0;\r\n    User u = null;\r\n    \r\n    public boolean isUserPresent(final String email) \r\n    {\r\n        return usersList.stream().anyMatch(d -&gt; d.getEmail().equals(email));\r\n    } \r\n    \r\n    public void addUser(User newUser) \r\n    {\r\n    \tusersList.add(newUser);\r\n    \tuserCount++;\r\n    } \r\n}\r\n```\r\n**User:**\r\n\r\n```\r\npublic class User \r\n{\r\n    private String name;\r\n    private String password;\r\n    private String email;   \r\n    \r\n    User(final String name, final String email, final String password) \r\n    {\r\n        this.name = name;\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n    \r\n...\r\n}\r\n```\r\n\r\nI thought it would work fine but I don&#39;t know how it is null. Maybe is related to CDI warning of log or something related to newer version of jersey or @EJB not working. I also tried adding beans.xml file. \r\n\r\nAny help is appreciated","title":"Stateless Bean is null","body":"<p>It was working earlier when I was jersey 1.1. But now it says <code>this.userBean is null</code>.\nApart from that there is one warning in the log related <code>com.sun.faces.flow.FlowDiscoveryCDIHelper is deprecated from CDI 1.1!</code></p>\n<p><strong>logs:</strong></p>\n<pre><code>08:30:45,161 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-4) WFLYSRV0027: Starting deployment of &quot;ejb2.war&quot; (runtime-name: &quot;ejb2.war&quot;)\n08:30:45,753 INFO  [org.jboss.weld.deployer] (MSC service thread 1-3) WFLYWELD0003: Processing weld deployment ejb2.war\n08:30:45,783 INFO  [org.jboss.as.ejb3.deployment] (MSC service thread 1-3) WFLYEJB0473: JNDI bindings for session bean named 'UserSessionBean' in deployment unit 'deployment &quot;ejb2.war&quot;' are as follows:\n\n        java:global/ejb2/UserSessionBean!com.enovate.assignment.ejb2.UserSessionBeanLocal\n        java:app/ejb2/UserSessionBean!com.enovate.assignment.ejb2.UserSessionBeanLocal\n        java:module/UserSessionBean!com.enovate.assignment.ejb2.UserSessionBeanLocal\n        java:global/ejb2/UserSessionBean\n        java:app/ejb2/UserSessionBean\n        java:module/UserSessionBean\n\n08:30:45,845 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-3) No shutdown hook registered: Please call close() manually on application shutdown.\n08:30:45,999 INFO  [io.smallrye.metrics] (MSC service thread 1-3) MicroProfile: Metrics activated (SmallRye Metrics version: 2.4.2)\n08:30:46,008 WARN  [org.jboss.weld.Bootstrap] (MSC service thread 1-3) WELD-000146: BeforeBeanDiscovery.addAnnotatedType(AnnotatedType&lt;?&gt;) used for class com.sun.faces.flow.FlowDiscoveryCDIHelper is deprecated from CDI 1.1!\n08:30:46,210 INFO  [javax.enterprise.resource.webcontainer.jsf.config] (ServerService Thread Pool -- 126) Initializing Mojarra 2.3.14.SP01 for context '/ejb2'\n08:30:47,353 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 126) WFLYUT0021: Registered web context: '/ejb2' for server 'default-server'\n08:30:47,440 INFO  [org.jboss.as.server] (DeploymentScanner-threads - 2) WFLYSRV0016: Replaced deployment &quot;ejb2.war&quot; with deployment &quot;ejb2.war&quot;\n08:30:47,448 INFO  [org.jboss.as.repository] (DeploymentScanner-threads - 2) WFLYDR0002: Content removed from location C:\\Users\\teoti\\Desktop\\office\\wildfly-21.0.2.Final\\standalone\\data\\content\\15\\e071e0f42a2e0339da8b4d636a6496c5b1146e\\content\n08:33:05,177 ERROR [io.undertow.request] (default task-1) UT005023: Exception handling request to /ejb2/webapi/register: javax.servlet.ServletException: java.lang.NullPointerException: Cannot invoke &quot;com.enovate.assignment.ejb2.UserSessionBeanLocal.isUserPresent(String)&quot; because &quot;this.userBean&quot; is null\n\n</code></pre>\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- This web.xml file is not required when using Servlet 3.0 container,\n     see implementation details http://jersey.java.net/nonav/documentation/latest/jax-rs.html --&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;4.0&quot;&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.glassfish.jersey.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;jersey.config.server.provider.packages&lt;/param-name&gt;\n            &lt;param-value&gt;com.enovate.assignment.ejb2&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/webapi/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p><strong>services:</strong></p>\n<pre><code>import javax.ejb.EJB;\nimport javax.ws.rs.FormParam;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.core.MediaType;\nimport javax.ws.rs.core.Response;\n\n@Path(&quot;&quot;)\npublic class Service  \n{\n    @EJB\n    UserSessionBeanLocal userBean;\n    \n    @POST\n    @Produces(MediaType.APPLICATION_JSON)\n    @Path(&quot;register&quot;)\n    public Response register(@FormParam(&quot;userName&quot;) final String name, @FormParam(&quot;userPassword&quot;) final String pass, @FormParam(&quot;userEmail&quot;)  String email)\n    {\n        if (userBean.isUserPresent(email)) \n            return Response.ok(&quot;Email already registered!!&quot;).build();\n        userBean.addUser(new User(name, email, pass));\n        return Response.ok(&quot;Registered!!&quot;).build();\n    }\n}\n</code></pre>\n<p><strong>UserSessionBean:</strong></p>\n<pre><code>import java.util.ArrayList;\n\nimport javax.ejb.Stateless; \n\n@Stateless\npublic class UserSessionBean implements UserSessionBeanLocal\n{\n    static ArrayList&lt;User&gt; usersList = new ArrayList&lt;User&gt;();\n    static int userCount = 0;\n    User u = null;\n    \n    public boolean isUserPresent(final String email) \n    {\n        return usersList.stream().anyMatch(d -&gt; d.getEmail().equals(email));\n    } \n    \n    public void addUser(User newUser) \n    {\n        usersList.add(newUser);\n        userCount++;\n    } \n}\n</code></pre>\n<p><strong>User:</strong></p>\n<pre><code>public class User \n{\n    private String name;\n    private String password;\n    private String email;   \n    \n    User(final String name, final String email, final String password) \n    {\n        this.name = name;\n        this.email = email;\n        this.password = password;\n    }\n    \n...\n}\n</code></pre>\n<p>I thought it would work fine but I don't know how it is null. Maybe is related to CDI warning of log or something related to newer version of jersey or @EJB not working. I also tried adding beans.xml file.</p>\n<p>Any help is appreciated</p>\n"},{"tags":["java","spring-boot","hibernate","jsp","model-view-controller"],"comments":[{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1671185367,"post_id":74822857,"comment_id":132049185,"body_markdown":"You are perhaps missing an `@Inject` annotation on `shoeService`. And JSP is a bad choice for doing REST stuff in &#39;22, you&#39;d rather want plain HTML + jQuery for that (just an example)","body":"You are perhaps missing an <code>@Inject</code> annotation on <code>shoeService</code>. And JSP is a bad choice for doing REST stuff in &#39;22, you&#39;d rather want plain HTML + jQuery for that (just an example)"},{"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"score":0,"creation_date":1671188651,"post_id":74822857,"comment_id":132050171,"body_markdown":"Thanks for your reply. I am doing this for a certification project. I have to find another way to do it. Do you have any clear cut way to implement.","body":"Thanks for your reply. I am doing this for a certification project. I have to find another way to do it. Do you have any clear cut way to implement."}],"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671184881,"creation_date":1671184881,"question_id":74822857,"body_markdown":"This is a spring boot application, with JPA, JSP and MVC.\r\n\r\nIf I click the link in the below JSP, it is redirecting to the controller and then the controller is directing to the getAllItem method which goes to the Service. But, I get the below error:\r\n\r\n&gt; There was an unexpected error (type=Internal Server Error, status=500).\r\nCannot invoke &quot;com.sportyshoes.basepackage.service.ShoeService.findAll()&quot; because &quot;this.shoeService&quot; is null\r\n\r\nbut the REST is performing and the data is showing up in an application called **Advanced REST client** like Postman, but I am not able to retrieve the data through the controller. Please could anyone give your feedback on how to retrieve the data from database.\r\n\r\n**my JSP is:**\r\n\t\r\n`&lt;a href=&quot;getallitem&quot; name=&quot;getallitem&quot;&gt;View all items&lt;/a&gt;`\r\n\r\n**My controller code as below:**\r\n```\r\n@Controller\r\npublic class WareHouseController {\r\n\r\n\tprivate ShoeService shoeService;\r\n\t\r\n\t@RequestMapping(value=&quot;/getallitem&quot;, method=RequestMethod.GET)\r\n\tpublic String getAllItem() {\r\n\t\tList allShoes =  shoeService.findAll();\r\n\t\tSystem.out.println(allShoes);\r\n\t\treturn &quot;warehouse&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n**my Service is:**\r\n\r\n```\r\npublic interface ShoeService {\r\n\t\r\n\tpublic List&lt;ShoeData&gt; findAll();\r\n//\tpublic ShoeData findByItemName(String shoename);\r\n\tpublic ShoeData insertData(ShoeData shoeData);\r\n\tpublic ShoeData deleteById(long theId);\r\n\tpublic ShoeData findById(long theId);\r\n}\r\n```\r\n","title":"How to perform REST operations through a controller and JSP page?","body":"<p>This is a spring boot application, with JPA, JSP and MVC.</p>\n<p>If I click the link in the below JSP, it is redirecting to the controller and then the controller is directing to the getAllItem method which goes to the Service. But, I get the below error:</p>\n<blockquote>\n<p>There was an unexpected error (type=Internal Server Error, status=500).\nCannot invoke &quot;com.sportyshoes.basepackage.service.ShoeService.findAll()&quot; because &quot;this.shoeService&quot; is null</p>\n</blockquote>\n<p>but the REST is performing and the data is showing up in an application called <strong>Advanced REST client</strong> like Postman, but I am not able to retrieve the data through the controller. Please could anyone give your feedback on how to retrieve the data from database.</p>\n<p><strong>my JSP is:</strong></p>\n<p><code>&lt;a href=&quot;getallitem&quot; name=&quot;getallitem&quot;&gt;View all items&lt;/a&gt;</code></p>\n<p><strong>My controller code as below:</strong></p>\n<pre><code>@Controller\npublic class WareHouseController {\n\n    private ShoeService shoeService;\n    \n    @RequestMapping(value=&quot;/getallitem&quot;, method=RequestMethod.GET)\n    public String getAllItem() {\n        List allShoes =  shoeService.findAll();\n        System.out.println(allShoes);\n        return &quot;warehouse&quot;;\n    }\n}\n</code></pre>\n<p><strong>my Service is:</strong></p>\n<pre><code>public interface ShoeService {\n    \n    public List&lt;ShoeData&gt; findAll();\n//  public ShoeData findByItemName(String shoename);\n    public ShoeData insertData(ShoeData shoeData);\n    public ShoeData deleteById(long theId);\n    public ShoeData findById(long theId);\n}\n</code></pre>\n"},{"tags":["java","jdbc","hive"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1610966675,"post_id":65772939,"comment_id":116290448,"body_markdown":"`while (getCharIndexFromSqlByParamLocation(sql, &#39;?&#39;, paramLoc) &gt; 0)` should probably be `while (getCharIndexFromSqlByParamLocation(newSql.toString(), &#39;?&#39;, paramLoc) &gt; 0)`","body":"<code>while (getCharIndexFromSqlByParamLocation(sql, &#39;?&#39;, paramLoc) &gt; 0)</code> should probably be <code>while (getCharIndexFromSqlByParamLocation(newSql.toString(), &#39;?&#39;, paramLoc) &gt; 0)</code>"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1610967118,"post_id":65772939,"comment_id":116290672,"body_markdown":"I would guess the parameter replacement introduces an odd number of quotes.","body":"I would guess the parameter replacement introduces an odd number of quotes."},{"owner":{"account_id":11899499,"reputation":1,"user_id":10313961,"display_name":"Prakhar Gahlot"},"score":0,"creation_date":1611199708,"post_id":65772939,"comment_id":116376172,"body_markdown":"@Eran since this is a well used library code, I think this was intentional, to not go beyond the original number of ?, whatever the parameter replacements was.","body":"@Eran since this is a well used library code, I think this was intentional, to not go beyond the original number of ?, whatever the parameter replacements was."},{"owner":{"account_id":11899499,"reputation":1,"user_id":10313961,"display_name":"Prakhar Gahlot"},"score":0,"creation_date":1611199853,"post_id":65772939,"comment_id":116376193,"body_markdown":"@RealSkeptic, yes, I think you hit the hammer on the head! It was not odd number of quotes, but odd number of backslashes (I think). The library code already escapes all single quotes while setting the string but not all backslashes. I couldn&#39;t find the exact payload that was creating the issue, but escaping backslashes seems to have stopped the exceptions.\nYou could put that in as an answer, and I&#39;d be happy to accept it","body":"@RealSkeptic, yes, I think you hit the hammer on the head! It was not odd number of quotes, but odd number of backslashes (I think). The library code already escapes all single quotes while setting the string but not all backslashes. I couldn&#39;t find the exact payload that was creating the issue, but escaping backslashes seems to have stopped the exceptions. You could put that in as an answer, and I&#39;d be happy to accept it"}],"answers":[{"tags":[],"owner":{"account_id":2678802,"reputation":1,"user_id":2314547,"display_name":"Andzhil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671184803,"creation_date":1671184803,"answer_id":74822844,"question_id":65772939,"body_markdown":"This is a bug with incorrect analysis of number of special characters (single quotes and backslashes) in sql. Failing on sql with already added parameters with odd number of these symbols.\r\nFixed in version 2.3.0 of hive-jdbc library.\r\nhttps://issues.apache.org/jira/browse/HIVE-13625","title":"IndexOutOfBoundException even after explicit check?","body":"<p>This is a bug with incorrect analysis of number of special characters (single quotes and backslashes) in sql. Failing on sql with already added parameters with odd number of these symbols.\nFixed in version 2.3.0 of hive-jdbc library.\n<a href=\"https://issues.apache.org/jira/browse/HIVE-13625\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/HIVE-13625</a></p>\n"}],"owner":{"account_id":11899499,"reputation":1,"user_id":10313961,"display_name":"Prakhar Gahlot"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671184803,"creation_date":1610966477,"question_id":65772939,"body_markdown":"So I&#39;m creating a HivePreparedStatement and trying to execute it. But that threw an IndexOutOfBounds Exception:\r\n\r\n    Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\r\n    \tat java.lang.AbstractStringBuilder.deleteCharAt(AbstractStringBuilder.java:824)\r\n    \tat java.lang.StringBuffer.deleteCharAt(StringBuffer.java:441)\r\n    \tat org.apache.hive.jdbc.HivePreparedStatement.updateSql(HivePreparedStatement.java:142)\r\n    \tat org.apache.hive.jdbc.HivePreparedStatement.execute(HivePreparedStatement.java:98)\r\n    \tat my.personal.code.package.AbstractHiveTask.executePreparedSQL(AbstractHiveTask.java:99)\r\n\r\nThis made me dig into HivePreparedStatement&#39;s code to figure out what exactly was throwing this exception. I found the following code of `HivePreparedStatement.updateSql` and `getCharIndexFromSqlByParamLocation(...)`\r\n\r\n    /**\r\n       * update the SQL string with parameters set by setXXX methods of {@link PreparedStatement}\r\n       *\r\n       * @param sql\r\n       * @param parameters\r\n       * @return updated SQL string\r\n       */\r\n      private String updateSql(final String sql, HashMap&lt;Integer, String&gt; parameters) {\r\n        if (!sql.contains(&quot;?&quot;)) {\r\n          return sql;\r\n        }\r\n    \r\n        StringBuffer newSql = new StringBuffer(sql);\r\n    \r\n        int paramLoc = 1;\r\n        while (getCharIndexFromSqlByParamLocation(sql, &#39;?&#39;, paramLoc) &gt; 0) {\r\n          // check the user has set the needs parameters\r\n          if (parameters.containsKey(paramLoc)) {\r\n            int tt = getCharIndexFromSqlByParamLocation(newSql.toString(), &#39;?&#39;, 1);\r\n            newSql.deleteCharAt(tt);\r\n            newSql.insert(tt, parameters.get(paramLoc));\r\n          }\r\n          paramLoc++;\r\n        }\r\n    \r\n        return newSql.toString();\r\n    \r\n      }\r\n\r\n\r\n      /**\r\n       * Get the index of given char from the SQL string by parameter location\r\n       * &lt;/br&gt; The -1 will be return, if nothing found\r\n       *\r\n       * @param sql\r\n       * @param cchar\r\n       * @param paramLoc\r\n       * @return\r\n       */\r\n      private int getCharIndexFromSqlByParamLocation(final String sql, final char cchar, final int paramLoc) {\r\n        int signalCount = 0;\r\n        int charIndex = -1;\r\n        int num = 0;\r\n        for (int i = 0; i &lt; sql.length(); i++) {\r\n          char c = sql.charAt(i);\r\n          if (c == &#39;\\&#39;&#39; || c == &#39;\\\\&#39;)// record the count of char &quot;&#39;&quot; and char &quot;\\&quot;\r\n          {\r\n            signalCount++;\r\n          } else if (c == cchar &amp;&amp; signalCount % 2 == 0) {// check if the ? is really the parameter\r\n            num++;\r\n            if (num == paramLoc) {\r\n              charIndex = i;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n        return charIndex;\r\n      }\r\n\r\nThe exception is thrown at `newSql.deleteCharAt(tt)` line, leading to conclusion that the `getCharIndexFromSqlByParamLocation` must not be able to find `?` in the string buffer at all. However, the `while` block actually first checks for the existence of `?` at the nth position before asking the `newSql` for the first `?` for the nth time.\r\n\r\n(It may be worth noting that I&#39;m using the same `Hive Connection` to execute multiple `PreparedStatements`, but none of the variables in the above methods are static, so I have ruled out thread-unsafety)\r\n\r\nHow is it possible, then, that that line returns `-1`, when the `while` check has passed?","title":"IndexOutOfBoundException even after explicit check?","body":"<p>So I'm creating a HivePreparedStatement and trying to execute it. But that threw an IndexOutOfBounds Exception:</p>\n<pre><code>Caused by: java.lang.StringIndexOutOfBoundsException: String index out of range: -1\n    at java.lang.AbstractStringBuilder.deleteCharAt(AbstractStringBuilder.java:824)\n    at java.lang.StringBuffer.deleteCharAt(StringBuffer.java:441)\n    at org.apache.hive.jdbc.HivePreparedStatement.updateSql(HivePreparedStatement.java:142)\n    at org.apache.hive.jdbc.HivePreparedStatement.execute(HivePreparedStatement.java:98)\n    at my.personal.code.package.AbstractHiveTask.executePreparedSQL(AbstractHiveTask.java:99)\n</code></pre>\n<p>This made me dig into HivePreparedStatement's code to figure out what exactly was throwing this exception. I found the following code of <code>HivePreparedStatement.updateSql</code> and <code>getCharIndexFromSqlByParamLocation(...)</code></p>\n<pre><code>/**\n   * update the SQL string with parameters set by setXXX methods of {@link PreparedStatement}\n   *\n   * @param sql\n   * @param parameters\n   * @return updated SQL string\n   */\n  private String updateSql(final String sql, HashMap&lt;Integer, String&gt; parameters) {\n    if (!sql.contains(&quot;?&quot;)) {\n      return sql;\n    }\n\n    StringBuffer newSql = new StringBuffer(sql);\n\n    int paramLoc = 1;\n    while (getCharIndexFromSqlByParamLocation(sql, '?', paramLoc) &gt; 0) {\n      // check the user has set the needs parameters\n      if (parameters.containsKey(paramLoc)) {\n        int tt = getCharIndexFromSqlByParamLocation(newSql.toString(), '?', 1);\n        newSql.deleteCharAt(tt);\n        newSql.insert(tt, parameters.get(paramLoc));\n      }\n      paramLoc++;\n    }\n\n    return newSql.toString();\n\n  }\n\n\n  /**\n   * Get the index of given char from the SQL string by parameter location\n   * &lt;/br&gt; The -1 will be return, if nothing found\n   *\n   * @param sql\n   * @param cchar\n   * @param paramLoc\n   * @return\n   */\n  private int getCharIndexFromSqlByParamLocation(final String sql, final char cchar, final int paramLoc) {\n    int signalCount = 0;\n    int charIndex = -1;\n    int num = 0;\n    for (int i = 0; i &lt; sql.length(); i++) {\n      char c = sql.charAt(i);\n      if (c == '\\'' || c == '\\\\')// record the count of char &quot;'&quot; and char &quot;\\&quot;\n      {\n        signalCount++;\n      } else if (c == cchar &amp;&amp; signalCount % 2 == 0) {// check if the ? is really the parameter\n        num++;\n        if (num == paramLoc) {\n          charIndex = i;\n          break;\n        }\n      }\n    }\n    return charIndex;\n  }\n</code></pre>\n<p>The exception is thrown at <code>newSql.deleteCharAt(tt)</code> line, leading to conclusion that the <code>getCharIndexFromSqlByParamLocation</code> must not be able to find <code>?</code> in the string buffer at all. However, the <code>while</code> block actually first checks for the existence of <code>?</code> at the nth position before asking the <code>newSql</code> for the first <code>?</code> for the nth time.</p>\n<p>(It may be worth noting that I'm using the same <code>Hive Connection</code> to execute multiple <code>PreparedStatements</code>, but none of the variables in the above methods are static, so I have ruled out thread-unsafety)</p>\n<p>How is it possible, then, that that line returns <code>-1</code>, when the <code>while</code> check has passed?</p>\n"},{"tags":["java","json","global-variables"],"comments":[{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1671184857,"post_id":74822812,"comment_id":132049029,"body_markdown":"There is an infinite number of ways, so you&#39;ll have to be more specific than &quot;any other way&quot;. What precisely do you want to see changed?","body":"There is an infinite number of ways, so you&#39;ll have to be more specific than &quot;any other way&quot;. What precisely do you want to see changed?"},{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1671186850,"post_id":74822812,"comment_id":132049639,"body_markdown":"[Global variables in Java](//stackoverflow.com/q/4646577)","body":"<a href=\"//stackoverflow.com/q/4646577\">Global variables in Java</a>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671196994,"post_id":74822812,"comment_id":132052827,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":27021624,"reputation":1,"user_id":20579522,"display_name":"Praveen Kumar Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671184644,"creation_date":1671184644,"question_id":74822812,"body_markdown":"Is there any way to declare global json object in Java?\r\n\r\n```\r\npublic class Constants {\r\n    public static JSONObject jsonObject = new JSONObject();\r\n    static {\r\n        jsonObject.put(&quot;name&quot;,&quot;Raju&quot;);\r\n        jsonObject.put(&quot;age&quot;,21);\r\n    }\r\n}\r\n\r\n```\r\nOther than this, is there any other way to declare it? ","title":"Global json object in java","body":"<p>Is there any way to declare global json object in Java?</p>\n<pre><code>public class Constants {\n    public static JSONObject jsonObject = new JSONObject();\n    static {\n        jsonObject.put(&quot;name&quot;,&quot;Raju&quot;);\n        jsonObject.put(&quot;age&quot;,21);\n    }\n}\n\n</code></pre>\n<p>Other than this, is there any other way to declare it?</p>\n"},{"tags":["java","lwjgl"],"answers":[{"comments":[{"owner":{"account_id":25871712,"reputation":1,"user_id":19602475,"display_name":"Sevoos"},"score":0,"creation_date":1671107407,"post_id":74758591,"comment_id":132029332,"body_markdown":"It didn&#39;t work. After I added that library to Gradle and invoked\n&#39;code&#39;\nGLFW.glfwMaximizeWindow(0);\n&#39;code&#39;\nir crashed","body":"It didn&#39;t work. After I added that library to Gradle and invoked &#39;code&#39; GLFW.glfwMaximizeWindow(0); &#39;code&#39; ir crashed"}],"tags":[],"owner":{"account_id":2695603,"reputation":6882,"user_id":2327745,"display_name":"Tanmay Patil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670736607,"creation_date":1670736607,"answer_id":74758591,"question_id":74758468,"body_markdown":"Use `glfwMaximizeWindow` method in `GLFW` class.\r\n\r\nHere is the [javadoc][1].\r\n\r\nIf you wish to have your window maximized at window creation, set `GLFW_MAXIMIZED` hint before creating window.\r\n\r\n  [1]: https://javadoc.lwjgl.org/org/lwjgl/glfw/GLFW.html#glfwMaximizeWindow(long)","title":"org.lwjgl.opengl.Display maximize current Window through code","body":"<p>Use <code>glfwMaximizeWindow</code> method in <code>GLFW</code> class.</p>\n<p>Here is the <a href=\"https://javadoc.lwjgl.org/org/lwjgl/glfw/GLFW.html#glfwMaximizeWindow(long)\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<p>If you wish to have your window maximized at window creation, set <code>GLFW_MAXIMIZED</code> hint before creating window.</p>\n"},{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1671439567,"post_id":74822775,"comment_id":132091547,"body_markdown":"Assuming you are referring to a SO user and a post they wrote, can you link to the post you are referring to (Martin&#39;s post)? Please also link to their profile. See [how to reference material written by others](https://stackoverflow.com/help/referencing).","body":"Assuming you are referring to a SO user and a post they wrote, can you link to the post you are referring to (Martin&#39;s post)? Please also link to their profile. See <a href=\"https://stackoverflow.com/help/referencing\">how to reference material written by others</a>."}],"tags":[],"owner":{"account_id":25871712,"reputation":1,"user_id":19602475,"display_name":"Sevoos"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671184454,"creation_date":1671184454,"answer_id":74822775,"question_id":74758468,"body_markdown":"I have just found the solution (thank to @Martin Krajč&#237;rovič who found that 7 years ago), it&#39;s needed to do this:\r\n\r\npublic static Rectangle getMaximizedWindowRectangle() {\r\nreturn GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\r\n}\r\n\r\n    public static int getMaximizedWindowWidth() {return getMaximizedWindowRectangle().width;}\r\n\r\n    public static int getMaximizedWindowHeight() {return getMaximizedWindowRectangle().height;}\r\n\r\n    public static DisplayMode getMaximizedDisplayMode() {return new DisplayMode(getMaximizedWindowWidth(), getMaximizedWindowHeight());}","title":"org.lwjgl.opengl.Display maximize current Window through code","body":"<p>I have just found the solution (thank to @Martin Krajčírovič who found that 7 years ago), it's needed to do this:</p>\n<p>public static Rectangle getMaximizedWindowRectangle() {\nreturn GraphicsEnvironment.getLocalGraphicsEnvironment().getMaximumWindowBounds();\n}</p>\n<pre><code>public static int getMaximizedWindowWidth() {return getMaximizedWindowRectangle().width;}\n\npublic static int getMaximizedWindowHeight() {return getMaximizedWindowRectangle().height;}\n\npublic static DisplayMode getMaximizedDisplayMode() {return new DisplayMode(getMaximizedWindowWidth(), getMaximizedWindowHeight());}\n</code></pre>\n"}],"owner":{"account_id":25871712,"reputation":1,"user_id":19602475,"display_name":"Sevoos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74822775,"answer_count":2,"score":0,"last_activity_date":1671184454,"creation_date":1670734677,"question_id":74758468,"body_markdown":"My window is resizable and I can change its size using &quot;maximize&quot; button, but is it possible to do that automatically, through code? I need my window to have the size when I can see the taskbar and the top panel of window. I don&#39;t mean fullscreen mode.\r\n\r\nI found Display.setDisplayMode(new DisplayMode(width, height)), but I dont know how can I get the height I need, width I can get using \r\n```\r\nDisplay.getDesktopDisplayMode().getWidth()\r\n```\r\n. What do I need to do?","title":"org.lwjgl.opengl.Display maximize current Window through code","body":"<p>My window is resizable and I can change its size using &quot;maximize&quot; button, but is it possible to do that automatically, through code? I need my window to have the size when I can see the taskbar and the top panel of window. I don't mean fullscreen mode.</p>\n<p>I found Display.setDisplayMode(new DisplayMode(width, height)), but I dont know how can I get the height I need, width I can get using</p>\n<pre><code>Display.getDesktopDisplayMode().getWidth()\n</code></pre>\n<p>. What do I need to do?</p>\n"},{"tags":["java","date","calendar"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1671135955,"post_id":74813718,"comment_id":132039574,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead find a date picker component that supports [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). There are some out there.","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead find a date picker component that supports <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. There are some out there."}],"answers":[{"comments":[{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1671184081,"post_id":74814074,"comment_id":132048790,"body_markdown":"Thanks, @OleV.V. for the valuable suggestion. I have incorporated it in my answer.","body":"Thanks, @OleV.V. for the valuable suggestion. I have incorporated it in my answer."},{"owner":{"account_id":24225795,"reputation":69,"user_id":18180309,"display_name":"maverickar"},"score":2,"creation_date":1671209424,"post_id":74814074,"comment_id":132057214,"body_markdown":"Thanks! In this method you proposed with getTime() I get the error &quot;The method getTime() is undefined for the type capture#2-of ?&quot;. I solved it using a GregorianCalendar object, transforming it to ZonedDateTime and then formatting it with a DateTimeFormatter.","body":"Thanks! In this method you proposed with getTime() I get the error &quot;The method getTime() is undefined for the type capture#2-of ?&quot;. I solved it using a GregorianCalendar object, transforming it to ZonedDateTime and then formatting it with a DateTimeFormatter."}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1671184344,"creation_date":1671118922,"answer_id":74814074,"question_id":74813718,"body_markdown":"java.time\r\n--\r\n\r\nThe `java.util` Date-Time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern Date-Time API](https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html).\r\n\r\nFirst, make the following change (check [`Calendar#getTime`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html#getTime--) to learn more)\r\n\r\n    Date dateToFormat = datePicker.getModel().getValue().getTime();\r\n\r\nand then switch to `java.time` API as follows:\r\n\r\n    Instant instant = dateToFormat.toInstant();\r\n    ZonedDateTime zdt = instant.atZone(ZoneId.systemDefault());\r\n    \r\n    // A sample formatting\r\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\r\n    String formattedDateStr = zdt.format(formatter);\r\n\r\nNow, you can use `formattedDateStr` in your components.\r\n\r\nAn alternative way to get `ZonedDateTime` can be as [suggested by Ole V.V.](https://stackoverflow.com/questions/74813718/java-getting-a-date-from-jdatepicker-class-java-util-gregoriancalendar-canno/74814074#comment132039665_74814074):\r\n\r\n    GregorianCalendar selected = (GregorianCalendar) datePicker.getModel().getValue();\r\n    ZonedDateTime zdt = selected.toZonedDateTime();\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**. \r\n\r\n","title":"JAVA - Getting a Date from JDatePicker - class java.util.GregorianCalendar cannot be cast to class java.util.Date","body":"<h2>java.time</h2>\n<p>The <code>java.util</code> Date-Time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-Date-Time.html\" rel=\"nofollow noreferrer\">modern Date-Time API</a>.</p>\n<p>First, make the following change (check <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html#getTime--\" rel=\"nofollow noreferrer\"><code>Calendar#getTime</code></a> to learn more)</p>\n<pre><code>Date dateToFormat = datePicker.getModel().getValue().getTime();\n</code></pre>\n<p>and then switch to <code>java.time</code> API as follows:</p>\n<pre><code>Instant instant = dateToFormat.toInstant();\nZonedDateTime zdt = instant.atZone(ZoneId.systemDefault());\n\n// A sample formatting\nDateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ENGLISH);\nString formattedDateStr = zdt.format(formatter);\n</code></pre>\n<p>Now, you can use <code>formattedDateStr</code> in your components.</p>\n<p>An alternative way to get <code>ZonedDateTime</code> can be as <a href=\"https://stackoverflow.com/questions/74813718/java-getting-a-date-from-jdatepicker-class-java-util-gregoriancalendar-canno/74814074#comment132039665_74814074\">suggested by Ole V.V.</a>:</p>\n<pre><code>GregorianCalendar selected = (GregorianCalendar) datePicker.getModel().getValue();\nZonedDateTime zdt = selected.toZonedDateTime();\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":24225795,"reputation":69,"user_id":18180309,"display_name":"maverickar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74814074,"answer_count":1,"score":1,"last_activity_date":1671184344,"creation_date":1671117360,"question_id":74813718,"body_markdown":"I&#39;m building a very simple expense tracker:\r\n\r\n    public class ExpenseTracker {\r\n\r\n\tJFrame frame;\r\n\tJPanel mainPanel;\r\n\tJPanel inputPanel;\r\n\tJPanel registerPanel;\r\n\tDefaultTableModel tableModel;\r\n\tJDatePicker datePicker;\r\n\tJTextField nameTextField;\r\n\tJTextField amountTextField;\r\n\tSimpleDateFormat sdf;\r\n\tDate date;\r\n\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tnew ExpenseTracker().buildGUI();\r\n\t}\r\n\r\n\tpublic void buildGUI() {\r\n\t\r\n\t\tmainPanel = new JPanel();\r\n\t\tinputPanel = new JPanel();\r\n\t\tinputPanel.setLayout(new BoxLayout(inputPanel, BoxLayout.Y_AXIS));\r\n\t\t\r\n\t\tJLabel nameLabel = new JLabel(&quot;Name: &quot;);\r\n\t\tnameLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 25));\r\n\t\tnameTextField = new JTextField();\r\n\t\tnameTextField.setDocument(new JTextFieldLimit(10));\r\n\t\tJLabel dateLabel = new JLabel(&quot;Date: &quot;);\r\n\t\tdateLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 25));\r\n\t\tdatePicker = new JDatePicker();\r\n\r\n\r\n\t\tJLabel amountLabel = new JLabel(&quot;Amount: &quot;);\r\n\t\tamountLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 25));\r\n\t\tamountTextField = new JTextField();\r\n\t\tamountTextField.setDocument(new JTextFieldLimit(5));\r\n\r\n\t\t\r\n\t\tJButton addExpense = new JButton(&quot;Add&quot;);\r\n\t\taddExpense.addActionListener(new addExpenseListener());\r\n\t\r\n\t\tinputPanel.add(nameLabel);\r\n\t\tinputPanel.add(nameTextField);\r\n\t\tinputPanel.add(dateLabel);\r\n\t\tinputPanel.add(datePicker);\r\n\t\tinputPanel.add(amountLabel);\r\n\t\tinputPanel.add(amountTextField);\r\n\t\tinputPanel.add(addExpense);\r\n\t\t\r\n\t\t\r\n\t\tregisterPanel = new JPanel();\r\n\t\ttableModel = new DefaultTableModel();\r\n\t\tJTable register = new JTable(tableModel);\r\n\t\ttableModel.addColumn(&quot;Name&quot;);\r\n\t\ttableModel.addColumn(&quot;Date&quot;);\r\n\t\ttableModel.addColumn(&quot;Amount&quot;);\r\n\t\tregister.setBackground(Color.LIGHT_GRAY);\r\n\t\tregisterPanel.add(register);\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tmainPanel.add(BorderLayout.NORTH, inputPanel);\r\n\t\tmainPanel.add(BorderLayout.CENTER, registerPanel);\r\n\t\tframe.add(mainPanel);\r\n\t\tframe.setVisible(true);\r\n\t\t\r\n\t}\r\n\r\n\r\n\tpublic void addToRegister() {\r\n\t\tString name = nameTextField.getText();\r\n\t\tsdf = new SimpleDateFormat();\r\n\t\tDate dateToFormat = (Date) datePicker.getModel().getValue();\r\n\t\tString date = sdf.format(dateToFormat);\r\n\t\tString amount = amountTextField.getText();\r\n\t\ttableModel.addRow(new Object[] {name, date, amount});\r\n\t}\r\n\r\nLeaving out a bit of code.\r\nI get the exception:\r\n\r\n&gt;  class java.util.GregorianCalendar cannot be cast to class\r\n&gt; java.util.Date (java.util.GregorianCalendar and java.util.Date are in\r\n&gt; module java.base of loader &#39;bootstrap&#39;)\r\n\r\nand I don&#39;t know how do I change this. I know the thing is how to get the date from the DatePicker and the class clash there. Using jdatepicker libraries.","title":"JAVA - Getting a Date from JDatePicker - class java.util.GregorianCalendar cannot be cast to class java.util.Date","body":"<p>I'm building a very simple expense tracker:</p>\n<pre><code>public class ExpenseTracker {\n\nJFrame frame;\nJPanel mainPanel;\nJPanel inputPanel;\nJPanel registerPanel;\nDefaultTableModel tableModel;\nJDatePicker datePicker;\nJTextField nameTextField;\nJTextField amountTextField;\nSimpleDateFormat sdf;\nDate date;\n\n\npublic static void main(String[] args) {\n    new ExpenseTracker().buildGUI();\n}\n\npublic void buildGUI() {\n\n    mainPanel = new JPanel();\n    inputPanel = new JPanel();\n    inputPanel.setLayout(new BoxLayout(inputPanel, BoxLayout.Y_AXIS));\n    \n    JLabel nameLabel = new JLabel(&quot;Name: &quot;);\n    nameLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 25));\n    nameTextField = new JTextField();\n    nameTextField.setDocument(new JTextFieldLimit(10));\n    JLabel dateLabel = new JLabel(&quot;Date: &quot;);\n    dateLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 25));\n    datePicker = new JDatePicker();\n\n\n    JLabel amountLabel = new JLabel(&quot;Amount: &quot;);\n    amountLabel.setFont(new Font(&quot;Arial&quot;, Font.ITALIC, 25));\n    amountTextField = new JTextField();\n    amountTextField.setDocument(new JTextFieldLimit(5));\n\n    \n    JButton addExpense = new JButton(&quot;Add&quot;);\n    addExpense.addActionListener(new addExpenseListener());\n\n    inputPanel.add(nameLabel);\n    inputPanel.add(nameTextField);\n    inputPanel.add(dateLabel);\n    inputPanel.add(datePicker);\n    inputPanel.add(amountLabel);\n    inputPanel.add(amountTextField);\n    inputPanel.add(addExpense);\n    \n    \n    registerPanel = new JPanel();\n    tableModel = new DefaultTableModel();\n    JTable register = new JTable(tableModel);\n    tableModel.addColumn(&quot;Name&quot;);\n    tableModel.addColumn(&quot;Date&quot;);\n    tableModel.addColumn(&quot;Amount&quot;);\n    register.setBackground(Color.LIGHT_GRAY);\n    registerPanel.add(register);\n    \n    \n    \n    mainPanel.add(BorderLayout.NORTH, inputPanel);\n    mainPanel.add(BorderLayout.CENTER, registerPanel);\n    frame.add(mainPanel);\n    frame.setVisible(true);\n    \n}\n\n\npublic void addToRegister() {\n    String name = nameTextField.getText();\n    sdf = new SimpleDateFormat();\n    Date dateToFormat = (Date) datePicker.getModel().getValue();\n    String date = sdf.format(dateToFormat);\n    String amount = amountTextField.getText();\n    tableModel.addRow(new Object[] {name, date, amount});\n}\n</code></pre>\n<p>Leaving out a bit of code.\nI get the exception:</p>\n<blockquote>\n<p>class java.util.GregorianCalendar cannot be cast to class\njava.util.Date (java.util.GregorianCalendar and java.util.Date are in\nmodule java.base of loader 'bootstrap')</p>\n</blockquote>\n<p>and I don't know how do I change this. I know the thing is how to get the date from the DatePicker and the class clash there. Using jdatepicker libraries.</p>\n"},{"tags":["java","xstream"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1671201823,"post_id":74822750,"comment_id":132054603,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":26688593,"reputation":1,"user_id":20297506,"display_name":"gaofei wang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671184335,"creation_date":1671184335,"question_id":74822750,"body_markdown":"When the age property is empty, XStream converts to&lt;age&gt;&lt;/age&gt;. How to convert it to&lt;age/&gt;？\r\n\r\nI&#39;ve tried turning null values into label output, but the format is not what I want. Please help me","title":"A question about XStream framework transformations empty tags","body":"<p>When the age property is empty, XStream converts to. How to convert it to？</p>\n<p>I've tried turning null values into label output, but the format is not what I want. Please help me</p>\n"},{"tags":["java","hibernate","spring-data-jpa","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1671186254,"post_id":74822742,"comment_id":132049453,"body_markdown":"I have seen similar odd behaviour two years ago and I do believe that is hibernate bug: https://hibernate.atlassian.net/browse/HHH-14441. Workaround: use JPQL instead of criteria api.","body":"I have seen similar odd behaviour two years ago and I do believe that is hibernate bug: <a href=\"https://hibernate.atlassian.net/browse/HHH-14441\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-14441</a>. Workaround: use JPQL instead of criteria api."},{"owner":{"account_id":26188293,"reputation":13,"user_id":19870519,"display_name":"Pinkey Bartake"},"score":0,"creation_date":1671188545,"post_id":74822742,"comment_id":132050141,"body_markdown":"Thank you , can you let me know if in  any hibernate version this issue is been resolved","body":"Thank you , can you let me know if in  any hibernate version this issue is been resolved"},{"owner":{"account_id":26188293,"reputation":13,"user_id":19870519,"display_name":"Pinkey Bartake"},"score":0,"creation_date":1671191472,"post_id":74822742,"comment_id":132051078,"body_markdown":"I need to add alias","body":"I need to add alias"}],"owner":{"account_id":26188293,"reputation":13,"user_id":19870519,"display_name":"Pinkey Bartake"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671184261,"creation_date":1671184261,"question_id":74822742,"body_markdown":" \r\nMy Table  Name : PO_details  :- Root&lt;PO_details&gt;\r\n\r\nColumn Name \r\n1. PO_number \r\n2. PO_discr\r\n3. PO_customer \r\n\r\nPlease find below = Hibernate/ JPA\r\n\r\n  \r\n\r\n \r\n\r\n     Expression Po_1 = PO_details.get(PO_number);\r\n        Po_1.alias(&quot;SELECT&quot;);\r\n        \r\n        Expression Po_2 = PO_details.get(PO_number);\r\n        Po_2.alias(&quot;GROUP&quot;);\r\n        \r\n        criteriaQuery.multiselect(Po_1 );\r\n        criteriaQuery.groupBy(Po_2);\r\n\r\n**Error** \r\nMulti-select expressions defined duplicate alias : **GROUP**\r\n\r\n**Observation :** \r\nSomehow Po_1 alias is getting updated with Po_2 alias . \r\n\r\nI need both Po_1 (SELECT) and Po_2(GROUP) in the query with their respected alias\r\n\r\nPlease help me  \r\n\r\n\r\n\r\n","title":"Hibernate : alias getting automatically updated ( javax.persistence.criteria.Selection.alias(String name))","body":"<p>My Table  Name : PO_details  :- Root&lt;PO_details&gt;</p>\n<p>Column Name</p>\n<ol>\n<li>PO_number</li>\n<li>PO_discr</li>\n<li>PO_customer</li>\n</ol>\n<p>Please find below = Hibernate/ JPA</p>\n<pre><code> Expression Po_1 = PO_details.get(PO_number);\n    Po_1.alias(&quot;SELECT&quot;);\n    \n    Expression Po_2 = PO_details.get(PO_number);\n    Po_2.alias(&quot;GROUP&quot;);\n    \n    criteriaQuery.multiselect(Po_1 );\n    criteriaQuery.groupBy(Po_2);\n</code></pre>\n<p><strong>Error</strong>\nMulti-select expressions defined duplicate alias : <strong>GROUP</strong></p>\n<p><strong>Observation :</strong>\nSomehow Po_1 alias is getting updated with Po_2 alias .</p>\n<p>I need both Po_1 (SELECT) and Po_2(GROUP) in the query with their respected alias</p>\n<p>Please help me</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":10385,"reputation":27385,"user_id":19601,"accept_rate":72,"display_name":"Flo"},"score":1,"creation_date":1302256882,"post_id":5592866,"comment_id":6366713,"body_markdown":"I think it would be a weird user experience if the user cannot  rotate the screen when a dialog is displayed.","body":"I think it would be a weird user experience if the user cannot  rotate the screen when a dialog is displayed."},{"owner":{"account_id":101936,"reputation":5859,"user_id":273924,"accept_rate":43,"display_name":"locka"},"score":0,"creation_date":1302261037,"post_id":5592866,"comment_id":6367725,"body_markdown":"Possibly but they&#39;d soon learn not to do it. Rotating while they have the dialog open means saving dialog state, dismissing the dialog, opening it again and putting all the logic that used to be in onCreateDialog into onPrepareDialog, and finally restoring state. Kind of messy.","body":"Possibly but they&#39;d soon learn not to do it. Rotating while they have the dialog open means saving dialog state, dismissing the dialog, opening it again and putting all the logic that used to be in onCreateDialog into onPrepareDialog, and finally restoring state. Kind of messy."},{"owner":{"account_id":10385,"reputation":27385,"user_id":19601,"accept_rate":72,"display_name":"Flo"},"score":0,"creation_date":1302262145,"post_id":5592866,"comment_id":6367942,"body_markdown":"Of course they can learn it, but when I use an app I want it to fit in the overall experience of Android. And the overall experience of standard Android apps doesn&#39;t prevent me from rotating my device whenever I want. Of course it is easier to block the rotation but your users don&#39;t care if it easier to implement they are only interested in the behavior of the app. Just my 2 cents.","body":"Of course they can learn it, but when I use an app I want it to fit in the overall experience of Android. And the overall experience of standard Android apps doesn&#39;t prevent me from rotating my device whenever I want. Of course it is easier to block the rotation but your users don&#39;t care if it easier to implement they are only interested in the behavior of the app. Just my 2 cents."},{"owner":{"account_id":2195014,"reputation":787,"user_id":1940951,"accept_rate":36,"display_name":"Aleksandr"},"score":0,"creation_date":1434610974,"post_id":5592866,"comment_id":49854962,"body_markdown":"Do you switch layout by yourself? i.e. I mean do you have layout-land folder?","body":"Do you switch layout by yourself? i.e. I mean do you have layout-land folder?"}],"answers":[{"tags":[],"owner":{"account_id":89990,"reputation":1868,"user_id":247924,"display_name":"Amit Kotlovski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1337852291,"creation_date":1337852291,"answer_id":10734867,"question_id":5592866,"body_markdown":"I suggest your Dialog should override `onSaveInstanceState()` and `onRestoreInstanceState(Bundle)` to save its state into a Bundle.\r\n\r\nYou then override those methods in your Activity, checking if the Dialog is shown and if so - calling the dialog&#39;s methods to save and restore it&#39;s state.\r\n\r\nIf you are displaying this dialog from a fragment, you will want to override `OnActivityCreated(Bundle)` instead of `OnRestoreInstanceState`.\r\n\r\nFor a source example see the built-in clock app provided with Android, where the [SetAlarm Activity][1] handles the TimePickerDialog this way.\r\n\r\n  [1]: http://androidxref.com/source/xref/packages/apps/DeskClock/src/com/android/deskclock/SetAlarm.java","title":"How do I handle screen orientation changes when a dialog is open?","body":"<p>I suggest your Dialog should override <code>onSaveInstanceState()</code> and <code>onRestoreInstanceState(Bundle)</code> to save its state into a Bundle.</p>\n\n<p>You then override those methods in your Activity, checking if the Dialog is shown and if so - calling the dialog's methods to save and restore it's state.</p>\n\n<p>If you are displaying this dialog from a fragment, you will want to override <code>OnActivityCreated(Bundle)</code> instead of <code>OnRestoreInstanceState</code>.</p>\n\n<p>For a source example see the built-in clock app provided with Android, where the <a href=\"http://androidxref.com/source/xref/packages/apps/DeskClock/src/com/android/deskclock/SetAlarm.java\" rel=\"nofollow\">SetAlarm Activity</a> handles the TimePickerDialog this way.</p>\n"},{"tags":[],"owner":{"account_id":889467,"reputation":15465,"user_id":928054,"display_name":"Carl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442265194,"creation_date":1434610453,"answer_id":30908407,"question_id":5592866,"body_markdown":"If you are handling orientation changes yourself, then here is an approach.  \n\nI won&#39;t claim that this is an elegant solution, but it works:\r\n\r\nYou can keep track of whether the dialog has an active instance inside the dialog class itself, by using a static variable activeInstance, and overriding onStart() to set activeInstance = this and onCancel() to set activeInstance = null.  \r\n\r\nProvide a static method updateConfigurationForAnyCurrentInstance() that tests that activeInstance variable and, if non-null, invokes a method activeInstance.reInitializeDialog(), which is a method that you will write to contain the setContentView() call plus the code that wires the handlers for the dialog controls (button onClick handlers, etc. - this is code that would normally appear in onCreate()).  Following that, you would restore any displayed data to those controls (from member variables in your dialog object).  So, for example, if you had a list of items to be viewed, and the user were viewing item three of that list before the orientation change, you would re-display that same item three at the end of updateConfigurationForAnyCurrentInstance(), right after re-loading the controls from the dialog resource and re-wiring the control handlers.\r\n\r\nYou would then call that same reInitializeDialog() method from onCreate(), right after super.onCreate(), and place your onCreate()-specific initialization code (e.g., *setting up* the list of items from which the user could choose, as described above) after that call.\r\n\r\nThis will cause the appropriate resource (portrait or landscape) for the dialog&#39;s new orientation to be loaded (provided that you have two resources defined having the same name, one in the layout folder and the other in the layout-land folder, as usual).\r\n\r\nHere&#39;s some code that would be in a class called YourDialog:\r\n\r\n    ArrayList&lt;String&gt; listOfPossibleChoices = null;\r\n    int currentUserChoice = 0;\r\n\r\n    static private YourDialog activeInstance = null;\r\n    \r\n    @Override\r\n    protected void onStart() {\r\n      super.onStart();\r\n      activeInstance = this;\r\n    }\r\n    \r\n    @Override\r\n    public void cancel() {\r\n      super.cancel();\r\n      activeInstance = null;\r\n    }\r\n    \r\n    \r\n    static public void updateConfigurationForAnyCurrentInstance() {\r\n    \tif(activeInstance != null) {\r\n    \t\tactiveInstance.reInitializeDialog();\r\n            displayCurrentUserChoice();\r\n   \t    }\r\n    }\r\n    \r\n    private void reInitializeDialog() {\r\n      setContentView(R.layout.your_dialog);\r\n      btnClose = (Button) findViewById(R.id.btnClose);\r\n      btnClose.setOnClickListener(this);\r\n      btnNextChoice = (Button) findViewById(R.id.btnNextChoice);\r\n      btnNextChoice.setOnClickListener(this);\r\n      btnPriorChoice = (Button) findViewById(R.id.btnPriorChoice);\r\n      btnPriorChoice.setOnClickListener(this);\r\n      tvCurrentChoice = (TextView) findViewById(R.id.tvCurrentChoice);\r\n    }\r\n\r\n    private void displayCurrentUserChoice() {\r\n      tvCurrentChoice.setText(listOfPossibleChoices.get(currentUserChoice));\r\n    }\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    \tsuper.onCreate(savedInstanceState);\r\n    \treInitializeDialog();\r\n        listOfPossibleChoices = new ArrayList&lt;String&gt;();\r\n        listOfPossibleChoices.add(&quot;One&quot;);\r\n        listOfPossibleChoices.add(&quot;Two&quot;);\r\n        listOfPossibleChoices.add(&quot;Three&quot;);\r\n        currentUserChoice = 0;\r\n        displayCurrentUserChoice();\r\n    }\r\n\r\n\t@Override\r\n\tpublic void onClick(View v) {\r\n\t\tint viewID = v.getId();\r\n\r\n\t\tif(viewID == R.id.btnNextChoice) {\r\n          if(currentUserChoice &lt; (listOfPossibleChoices.size() - 1))\r\n            currentUserChoice++;\r\n            displayCurrentUserChoice();\r\n          }\r\n        }\r\n\t\telse if(viewID == R.id.btnPriorChoice) {\r\n          if(currentUserChoice &gt; 0) {\r\n            currentUserChoice--;\r\n            displayCurrentUserChoice();\r\n          }\r\n        }\r\n        Etc.\r\n\r\nThen, in your main activity&#39;s onConfigurationChanged() method, you would just invoke YourDialog.updateConfigurationForAnyCurrentInstance() whenever onConfigurationChanged() is called by the OS.\r\n","title":"How do I handle screen orientation changes when a dialog is open?","body":"<p>If you are handling orientation changes yourself, then here is an approach.  </p>\n\n<p>I won't claim that this is an elegant solution, but it works:</p>\n\n<p>You can keep track of whether the dialog has an active instance inside the dialog class itself, by using a static variable activeInstance, and overriding onStart() to set activeInstance = this and onCancel() to set activeInstance = null.  </p>\n\n<p>Provide a static method updateConfigurationForAnyCurrentInstance() that tests that activeInstance variable and, if non-null, invokes a method activeInstance.reInitializeDialog(), which is a method that you will write to contain the setContentView() call plus the code that wires the handlers for the dialog controls (button onClick handlers, etc. - this is code that would normally appear in onCreate()).  Following that, you would restore any displayed data to those controls (from member variables in your dialog object).  So, for example, if you had a list of items to be viewed, and the user were viewing item three of that list before the orientation change, you would re-display that same item three at the end of updateConfigurationForAnyCurrentInstance(), right after re-loading the controls from the dialog resource and re-wiring the control handlers.</p>\n\n<p>You would then call that same reInitializeDialog() method from onCreate(), right after super.onCreate(), and place your onCreate()-specific initialization code (e.g., <em>setting up</em> the list of items from which the user could choose, as described above) after that call.</p>\n\n<p>This will cause the appropriate resource (portrait or landscape) for the dialog's new orientation to be loaded (provided that you have two resources defined having the same name, one in the layout folder and the other in the layout-land folder, as usual).</p>\n\n<p>Here's some code that would be in a class called YourDialog:</p>\n\n<pre><code>ArrayList&lt;String&gt; listOfPossibleChoices = null;\nint currentUserChoice = 0;\n\nstatic private YourDialog activeInstance = null;\n\n@Override\nprotected void onStart() {\n  super.onStart();\n  activeInstance = this;\n}\n\n@Override\npublic void cancel() {\n  super.cancel();\n  activeInstance = null;\n}\n\n\nstatic public void updateConfigurationForAnyCurrentInstance() {\n    if(activeInstance != null) {\n        activeInstance.reInitializeDialog();\n        displayCurrentUserChoice();\n    }\n}\n\nprivate void reInitializeDialog() {\n  setContentView(R.layout.your_dialog);\n  btnClose = (Button) findViewById(R.id.btnClose);\n  btnClose.setOnClickListener(this);\n  btnNextChoice = (Button) findViewById(R.id.btnNextChoice);\n  btnNextChoice.setOnClickListener(this);\n  btnPriorChoice = (Button) findViewById(R.id.btnPriorChoice);\n  btnPriorChoice.setOnClickListener(this);\n  tvCurrentChoice = (TextView) findViewById(R.id.tvCurrentChoice);\n}\n\nprivate void displayCurrentUserChoice() {\n  tvCurrentChoice.setText(listOfPossibleChoices.get(currentUserChoice));\n}\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    reInitializeDialog();\n    listOfPossibleChoices = new ArrayList&lt;String&gt;();\n    listOfPossibleChoices.add(\"One\");\n    listOfPossibleChoices.add(\"Two\");\n    listOfPossibleChoices.add(\"Three\");\n    currentUserChoice = 0;\n    displayCurrentUserChoice();\n}\n\n@Override\npublic void onClick(View v) {\n    int viewID = v.getId();\n\n    if(viewID == R.id.btnNextChoice) {\n      if(currentUserChoice &lt; (listOfPossibleChoices.size() - 1))\n        currentUserChoice++;\n        displayCurrentUserChoice();\n      }\n    }\n    else if(viewID == R.id.btnPriorChoice) {\n      if(currentUserChoice &gt; 0) {\n        currentUserChoice--;\n        displayCurrentUserChoice();\n      }\n    }\n    Etc.\n</code></pre>\n\n<p>Then, in your main activity's onConfigurationChanged() method, you would just invoke YourDialog.updateConfigurationForAnyCurrentInstance() whenever onConfigurationChanged() is called by the OS.</p>\n"},{"tags":[],"owner":{"account_id":6194382,"reputation":415,"user_id":4826170,"accept_rate":40,"display_name":"Viktor Valencia"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1434645326,"creation_date":1434644667,"answer_id":30920828,"question_id":5592866,"body_markdown":"I would recommend not turning off the screen rotation, instead of this handle the configuration changes for the Dialog. You could use one of these two approach for this:\r\n\r\nThe first one is using a flag variable in onSaveInstanceState(outState) method, and restore the dialog onCreate(bundle) method:\r\n\r\nin this example my flag variable is called &#39;isShowing Dialog&#39;, when the onCreate method is called by the android System for first time, the bundle argument will be null and nothing happens. However when the activity it&#39;s recreated by a configuration change (screen rotation), the bundle will have the boolean value isShowing Dialog, previously saved by the inSaveInstanceState(...) method, so if the variable gets true the dialog is created again, the trick here is set the flag in true when the dialog get showing, and false when it&#39;s not, is a little but simple trick.\r\n\r\n    Class MyClass extends Activity {\r\n        Boolean isShowingDialog = false;\r\n        AlertDialog myDialog;\r\n\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            if(savedInstanceState!=null){\r\n                isShowingDialog = savedInstanceState.getBoolean(&quot;IS_SHOWING_DIALOG&quot;, false);\r\n                if(isShowingDialog){\r\n\t\t\t        createDialog();\r\n                }\r\n            }\r\n            \r\n        }\r\n\r\n\t    @Override\r\n        protected void onSaveInstanceState(Bundle outState) {\r\n            outState.putBoolean(&quot;IS_SHOWING_DIALOG&quot;, isShowingDialog);\r\n            super.onSaveInstanceState(outState);\r\n        }\r\n\r\n        @Override\r\n\t    protected void onPause() {\r\n\t\t    if(myDialog!=null &amp;&amp; myDialog.isShowing()) {\r\n                myDialog.dismiss();\r\n            }\r\n\t    }\r\n\r\n        private void createDialog() {\r\n            AlertDialog.Builder dialog_builder = new AlertDialog.Builder(this);\r\n            dialog_builder.setTitle(&quot;Some Title&quot;):\r\n            ... more dialog settings ...\r\n\r\n            myDialog = dialog_builder.create();\r\n            myDialog.show();\r\n            isShowingDialog = true;\r\n        }\r\n\r\n        private void hideDialog(){\r\n            myDialog.dismiss();\r\n            isShowingDialog = false;\r\n        }\r\n    }\r\n\r\nThe second approach is to use the ability of the fragments components to retain its states, the main idea is create the dialog inside a fragment, there is the problem about detach and reattach the fragment during the configuration changes (because you need dismiss and show the dialog correctly), but the solution is very similar to the first approach. The advantage of this approach is that if you have an AlertDialog with a couple of configurations, when the fragment is recreated there is not needed to create and setting up the dialog again, only make it show() and the AlertDialog state is maintained by the fragment.\r\n\r\nI hope this helps.","title":"How do I handle screen orientation changes when a dialog is open?","body":"<p>I would recommend not turning off the screen rotation, instead of this handle the configuration changes for the Dialog. You could use one of these two approach for this:</p>\n\n<p>The first one is using a flag variable in onSaveInstanceState(outState) method, and restore the dialog onCreate(bundle) method:</p>\n\n<p>in this example my flag variable is called 'isShowing Dialog', when the onCreate method is called by the android System for first time, the bundle argument will be null and nothing happens. However when the activity it's recreated by a configuration change (screen rotation), the bundle will have the boolean value isShowing Dialog, previously saved by the inSaveInstanceState(...) method, so if the variable gets true the dialog is created again, the trick here is set the flag in true when the dialog get showing, and false when it's not, is a little but simple trick.</p>\n\n<pre><code>Class MyClass extends Activity {\n    Boolean isShowingDialog = false;\n    AlertDialog myDialog;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        if(savedInstanceState!=null){\n            isShowingDialog = savedInstanceState.getBoolean(\"IS_SHOWING_DIALOG\", false);\n            if(isShowingDialog){\n                createDialog();\n            }\n        }\n\n    }\n\n    @Override\n    protected void onSaveInstanceState(Bundle outState) {\n        outState.putBoolean(\"IS_SHOWING_DIALOG\", isShowingDialog);\n        super.onSaveInstanceState(outState);\n    }\n\n    @Override\n    protected void onPause() {\n        if(myDialog!=null &amp;&amp; myDialog.isShowing()) {\n            myDialog.dismiss();\n        }\n    }\n\n    private void createDialog() {\n        AlertDialog.Builder dialog_builder = new AlertDialog.Builder(this);\n        dialog_builder.setTitle(\"Some Title\"):\n        ... more dialog settings ...\n\n        myDialog = dialog_builder.create();\n        myDialog.show();\n        isShowingDialog = true;\n    }\n\n    private void hideDialog(){\n        myDialog.dismiss();\n        isShowingDialog = false;\n    }\n}\n</code></pre>\n\n<p>The second approach is to use the ability of the fragments components to retain its states, the main idea is create the dialog inside a fragment, there is the problem about detach and reattach the fragment during the configuration changes (because you need dismiss and show the dialog correctly), but the solution is very similar to the first approach. The advantage of this approach is that if you have an AlertDialog with a couple of configurations, when the fragment is recreated there is not needed to create and setting up the dialog again, only make it show() and the AlertDialog state is maintained by the fragment.</p>\n\n<p>I hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":381244,"reputation":460,"user_id":3370790,"display_name":"Hypersoft Systems"},"score":0,"creation_date":1568669848,"post_id":57964531,"comment_id":102340372,"body_markdown":"Its like trying to catch a ball, rolling up stream... LOL. Makes no damn sense.","body":"Its like trying to catch a ball, rolling up stream... LOL. Makes no damn sense."}],"tags":[],"owner":{"account_id":381244,"reputation":460,"user_id":3370790,"display_name":"Hypersoft Systems"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568669659,"creation_date":1568668667,"answer_id":57964531,"question_id":5592866,"body_markdown":"Doesn&#39;t seem the title was ever resolved (Google Necro Direct).\r\n\r\nHere is the solution, matching the request.\r\n\r\nWhen your activity is created, log the screen orientation value.\r\nwhen onConfiguration change is called on your activity, compare the orientation values. if the values don&#39;t match, fire off all of your orientation change listeners, THEN record the new orientation value.\r\n\r\nHere is some constructive code to put in your activity (or any object that can handle configuration change events)\r\n\r\n````java\r\nint orientation; // TODO: record orientation here in your on create using Activity.this.getRequestedOrientation() to initialize!\r\n\r\npublic int getOrientation(){return orientation;}\r\npublic interface OrientationChangeListener {\r\n    void onOrientationChange();\r\n}\r\nStack&lt;OrientationChangeListener&gt; orientationChangeListeners = new Stack&lt;&gt;();\r\npublic void addOrientationChangeListener(OrientationChangeListener ocl){ ... }\r\npublic void removeOrientationChangeListener(OrientationChangeListener ocl){ ... }\r\n````\r\nThat&#39;s the basic environment. Here&#39;s your executive:\r\n\r\n````java\r\npublic void onConfigurationChanged(Configuration newConfig) {\r\n    super.onConfigurationChanged(newConfig);\r\n    if (orientation != newConfig.orientation)\r\n        for (OrientationChangeListener ocl:orientationChangeListeners) ocl.onOrientationChange();\r\n    orientation = newConfig.orientation;\r\n}\r\n````\r\n\r\nIn YOUR code model, you may need to send the new configuration, with the event, or the two orientation values with the event. However, `Activity.this.getOrientation() != Activity.this.getRequestedOrientation()` during event handling (because we are in a logical state of change between two logical values).\r\n\r\nIn review of my post, i have determined that there could be some synchronization issues, with multiple events! This is not a fault of this code, but a fault of &quot;Android Platform&quot; for not having defacto orientation sense handlers on every window, thusly trashing the polymorphic benefits of using java in the first place..","title":"How do I handle screen orientation changes when a dialog is open?","body":"<p>Doesn't seem the title was ever resolved (Google Necro Direct).</p>\n\n<p>Here is the solution, matching the request.</p>\n\n<p>When your activity is created, log the screen orientation value.\nwhen onConfiguration change is called on your activity, compare the orientation values. if the values don't match, fire off all of your orientation change listeners, THEN record the new orientation value.</p>\n\n<p>Here is some constructive code to put in your activity (or any object that can handle configuration change events)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>int orientation; // TODO: record orientation here in your on create using Activity.this.getRequestedOrientation() to initialize!\n\npublic int getOrientation(){return orientation;}\npublic interface OrientationChangeListener {\n    void onOrientationChange();\n}\nStack&lt;OrientationChangeListener&gt; orientationChangeListeners = new Stack&lt;&gt;();\npublic void addOrientationChangeListener(OrientationChangeListener ocl){ ... }\npublic void removeOrientationChangeListener(OrientationChangeListener ocl){ ... }\n</code></pre>\n\n<p>That's the basic environment. Here's your executive:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void onConfigurationChanged(Configuration newConfig) {\n    super.onConfigurationChanged(newConfig);\n    if (orientation != newConfig.orientation)\n        for (OrientationChangeListener ocl:orientationChangeListeners) ocl.onOrientationChange();\n    orientation = newConfig.orientation;\n}\n</code></pre>\n\n<p>In YOUR code model, you may need to send the new configuration, with the event, or the two orientation values with the event. However, <code>Activity.this.getOrientation() != Activity.this.getRequestedOrientation()</code> during event handling (because we are in a logical state of change between two logical values).</p>\n\n<p>In review of my post, i have determined that there could be some synchronization issues, with multiple events! This is not a fault of this code, but a fault of \"Android Platform\" for not having defacto orientation sense handlers on every window, thusly trashing the polymorphic benefits of using java in the first place..</p>\n"},{"tags":[],"owner":{"account_id":25446097,"reputation":1,"user_id":19248272,"display_name":"Lars Korsnes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671184183,"creation_date":1671184183,"answer_id":74822723,"question_id":5592866,"body_markdown":"See the answer from Viktor Valencia above. That will work perfectly with the slight adjustment that you move the createDialog() to onResume.\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        if(isShowingDialog){\r\n            createDialog();\r\n        }\r\n    }\r\n\r\nFetch the boolean isShowingDialog value at onCreate, as suggested, but wait for onResume to display the dialog.","title":"How do I handle screen orientation changes when a dialog is open?","body":"<p>See the answer from Viktor Valencia above. That will work perfectly with the slight adjustment that you move the createDialog() to onResume.</p>\n<pre><code>@Override\nprotected void onResume() {\n    super.onResume();\n    if(isShowingDialog){\n        createDialog();\n    }\n}\n</code></pre>\n<p>Fetch the boolean isShowingDialog value at onCreate, as suggested, but wait for onResume to display the dialog.</p>\n"}],"owner":{"account_id":101936,"reputation":5859,"user_id":273924,"accept_rate":43,"display_name":"locka"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11853,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":5,"score":14,"last_activity_date":1671184183,"creation_date":1302253476,"question_id":5592866,"body_markdown":"I have an android app which is already handling changes for orientation, i.e. there is a `android:configChanges=&quot;orientation&quot;` in the manifest and an `onConfigurationChange()` handler in the activity that switches to the appropriate layout and preps it. I have a landscape / portrait version of the layout.\r\n\r\nThe problem I face is that the activity has a dialog which could be open when the user rotates the device orientation. I also have a landscape / portrait version of the dialog.\r\n\r\nShould I go about changing the layout of the dialog on the fly or perhaps locking the activity&#39;s rotation until the user dismisses the dialog. \r\n\r\nThe latter option of locking the app appeals to me since it saves having to do anything special in the dialog. I am supposing that I might disable the orientation when a dialog opens, such as \r\n\r\n    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_NOSENSOR);\r\n\r\nand then when it dismisses\r\n\r\n    setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR);\r\n\r\nWould that be a sensible thing to do? If the screen orientation did change while it was locked, would it immediately sense the orientation change when it was unlocked?\r\n\r\nAre there alternatives?","title":"How do I handle screen orientation changes when a dialog is open?","body":"<p>I have an android app which is already handling changes for orientation, i.e. there is a <code>android:configChanges=\"orientation\"</code> in the manifest and an <code>onConfigurationChange()</code> handler in the activity that switches to the appropriate layout and preps it. I have a landscape / portrait version of the layout.</p>\n\n<p>The problem I face is that the activity has a dialog which could be open when the user rotates the device orientation. I also have a landscape / portrait version of the dialog.</p>\n\n<p>Should I go about changing the layout of the dialog on the fly or perhaps locking the activity's rotation until the user dismisses the dialog. </p>\n\n<p>The latter option of locking the app appeals to me since it saves having to do anything special in the dialog. I am supposing that I might disable the orientation when a dialog opens, such as </p>\n\n<pre><code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_NOSENSOR);\n</code></pre>\n\n<p>and then when it dismisses</p>\n\n<pre><code>setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_SENSOR);\n</code></pre>\n\n<p>Would that be a sensible thing to do? If the screen orientation did change while it was locked, would it immediately sense the orientation change when it was unlocked?</p>\n\n<p>Are there alternatives?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":15237737,"reputation":484,"user_id":10994912,"display_name":"George R"},"score":0,"creation_date":1668328064,"post_id":74419426,"comment_id":131374872,"body_markdown":"In java you can not have arrays of different datatypes (in this case int and String). You could however have the 2 be in a string so [&quot;2&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;] or [String.valueOf(n), &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]. If I then I understood your question correctly, to make the &quot;2&quot; move across you just need to swap values. So index 0 is swapped with index 1, then 1 with 2 etc, until you are at the end.","body":"In java you can not have arrays of different datatypes (in this case int and String). You could however have the 2 be in a string so [&quot;2&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;] or [String.valueOf(n), &quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]. If I then I understood your question correctly, to make the &quot;2&quot; move across you just need to swap values. So index 0 is swapped with index 1, then 1 with 2 etc, until you are at the end."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668328907,"post_id":74419426,"comment_id":131374991,"body_markdown":"I meant &quot;string n&quot;. Sorry for the confusion. Also, would your approach display the movement of the string &quot;2&quot; though. I would like to know if that is possible in Java.","body":"I meant &quot;string n&quot;. Sorry for the confusion. Also, would your approach display the movement of the string &quot;2&quot; though. I would like to know if that is possible in Java."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1668330020,"post_id":74419426,"comment_id":131375140,"body_markdown":"Yes it is possible to do simple animations, but it depends on the capabilities of the terminal / console you are writing the output to.  Leads: https://stackoverflow.com/questions/439799 and google for &quot;ansi escape codes&quot; .","body":"Yes it is possible to do simple animations, but it depends on the capabilities of the terminal / console you are writing the output to.  Leads: <a href=\"https://stackoverflow.com/questions/439799\">stackoverflow.com/questions/439799</a> and google for &quot;ansi escape codes&quot; ."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1668330244,"post_id":74419426,"comment_id":131375167,"body_markdown":"For simple one-line animations you may be able to use a combination of &quot;backspace&quot; and &quot;carriage return&quot; characters to overwrite the current line.  (It depends on the console&#39;s behavior.)","body":"For simple one-line animations you may be able to use a combination of &quot;backspace&quot; and &quot;carriage return&quot; characters to overwrite the current line.  (It depends on the console&#39;s behavior.)"}],"answers":[{"comments":[{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1668329542,"post_id":74419589,"comment_id":131375077,"body_markdown":"Thank you for ur response. I was however wondering that would it be possible to show the movement in one single array only. Like maybe let 2 appear at index 0 for a second and then move 2 to index 1, showing it for a second and so on, sort of like an animation... I&#39;m not sure if this is possible in Java or not, which is why I asked.","body":"Thank you for ur response. I was however wondering that would it be possible to show the movement in one single array only. Like maybe let 2 appear at index 0 for a second and then move 2 to index 1, showing it for a second and so on, sort of like an animation... I&#39;m not sure if this is possible in Java or not, which is why I asked."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1668334776,"post_id":74419589,"comment_id":131375820,"body_markdown":"To animate that you would need to do it within a dialog or window of some kind other than the console window.","body":"To animate that you would need to do it within a dialog or window of some kind other than the console window."}],"tags":[],"owner":{"account_id":15237737,"reputation":484,"user_id":10994912,"display_name":"George R"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668328978,"creation_date":1668328978,"answer_id":74419589,"question_id":74419426,"body_markdown":"```java\r\nimport java.io.*;\r\nimport java.util.Arrays;\r\n\r\npublic class MyClass {\r\n    public static void main(String args[]) {\r\n        String n = &quot;2&quot;;\r\n        String array[] = new String[10];\r\n        Arrays.fill(array, &quot;&quot;);\r\n        array[0] = n;\r\n        int i = 0;\r\n        System.out.println(Arrays.toString(array));\r\n        while(i &lt; array.length-1){\r\n            // swap \r\n            String temp = array[i+1];\r\n            array[i+1] = array[i];\r\n            array[i] = temp;\r\n            System.out.println(Arrays.toString(array));\r\n            i++;\r\n        }\r\n    }\r\n}\r\n```","title":"Is it possible to print an element at every index until it reaches the end?","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.util.Arrays;\n\npublic class MyClass {\n    public static void main(String args[]) {\n        String n = &quot;2&quot;;\n        String array[] = new String[10];\n        Arrays.fill(array, &quot;&quot;);\n        array[0] = n;\n        int i = 0;\n        System.out.println(Arrays.toString(array));\n        while(i &lt; array.length-1){\n            // swap \n            String temp = array[i+1];\n            array[i+1] = array[i];\n            array[i] = temp;\n            System.out.println(Arrays.toString(array));\n            i++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9850021,"reputation":411,"user_id":7296372,"display_name":"mrkachariker"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668436891,"creation_date":1668436891,"answer_id":74433410,"question_id":74419426,"body_markdown":"You could try something like the following: \r\n```java\r\npublic static void main(String[] args) throws InterruptedException {\r\n    annimate(&quot;2&quot;);\r\n}\r\n\r\nprivate static void annimate(String uniqueElement) throws InterruptedException {\r\n    String[] array = new String[]{&quot;2&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\r\n    int uniqueElemIndex = 0;\r\n\r\n    while (uniqueElemIndex &lt; array.length) {\r\n        System.out.println(Arrays.toString(array));\r\n        for (int i = 0; i &lt; array.length; i++) {\r\n            if (array[i].equals(uniqueElement)) {\r\n                uniqueElemIndex = i;\r\n                break;\r\n            }\r\n        }\r\n        if (uniqueElemIndex + 1 &lt; array.length) {\r\n            String elem = array[uniqueElemIndex];\r\n            array[uniqueElemIndex + 1] = elem;\r\n            array[uniqueElemIndex] = &quot;&quot;;\r\n        }\r\n        uniqueElemIndex++;\r\n        Thread.sleep(500);\r\n    }\r\n}\r\n```\r\n\r\nThis outputs the following:\r\n```\r\n[2, , , , ]\r\n[, 2, , , ]\r\n[, , 2, , ]\r\n[, , , 2, ]\r\n[, , , , 2]\r\n```","title":"Is it possible to print an element at every index until it reaches the end?","body":"<p>You could try something like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws InterruptedException {\n    annimate(&quot;2&quot;);\n}\n\nprivate static void annimate(String uniqueElement) throws InterruptedException {\n    String[] array = new String[]{&quot;2&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;, &quot;&quot;};\n    int uniqueElemIndex = 0;\n\n    while (uniqueElemIndex &lt; array.length) {\n        System.out.println(Arrays.toString(array));\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i].equals(uniqueElement)) {\n                uniqueElemIndex = i;\n                break;\n            }\n        }\n        if (uniqueElemIndex + 1 &lt; array.length) {\n            String elem = array[uniqueElemIndex];\n            array[uniqueElemIndex + 1] = elem;\n            array[uniqueElemIndex] = &quot;&quot;;\n        }\n        uniqueElemIndex++;\n        Thread.sleep(500);\n    }\n}\n</code></pre>\n<p>This outputs the following:</p>\n<pre><code>[2, , , , ]\n[, 2, , , ]\n[, , 2, , ]\n[, , , 2, ]\n[, , , , 2]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671183740,"creation_date":1671183740,"answer_id":74822660,"question_id":74419426,"body_markdown":"You can do this with Java but you won&#39;t be able to do it reliably within all consoles or terminals. You can however do it reliably if you utilize a GUI mechanism like a JOptionPane or JDialog and display that during console operation, for example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe above example is a JDialog. Below is the code (read comments within):\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.awt.FontMetrics;\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.geom.Rectangle2D;\r\nimport java.util.Arrays;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JDialog;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.Timer;\r\n\r\n\r\npublic class AnimatedMoveArrayElementDemo {\r\n\r\n    /* Default. The length of the Array to animate.\r\n       Can be changed via command-line (/L:n) argument.   */\r\n    private int lengthOfArray = 8;\r\n    \r\n    /* Default. The Array value to move from beginning to end.\r\n       Can be changed via command-line (/N:n) argument.   */\r\n    private int arrayValueToMove = 2;\r\n    \r\n    /* In Milliseconds (1000 = 1 Second).\r\n       Can be changed via command-line (/S:n) argument.   */\r\n    private int animationSpeed = 1000;\r\n    \r\n    /* Default. The dialog display font size.\r\n       Can be changed via command-line (/F:n) argument.   */\r\n   private int displayFontSize = 24;\r\n    \r\n    private String[] stringArray = {}; \r\n    int arrayIndex = 0;\r\n\r\n    Timer animationTimer;\r\n    JButton startButton;\r\n    JLabel arrayLabel;\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        // App started this way to avoid the need for statics\r\n        new AnimatedMoveArrayElementDemo().startApp(args);\r\n    }\r\n\r\n    private void startApp(String[] args) {\r\n        if (args.length &gt; 0) {\r\n            readCommandLineArguments(args);\r\n        }\r\n        \r\n        fillArray();\r\n        createAndShowDialog();\r\n    }\r\n\r\n    private void createAndShowDialog() {\r\n        JDialog dialog = new JDialog();\r\n        dialog.setTitle(&quot;Moving Array Element To The End Position&quot;);\r\n        dialog.setBackground(Color.white);\r\n        dialog.getContentPane().setBackground(Color.white);\r\n        \r\n        dialog.setAlwaysOnTop(true);\r\n        dialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n        dialog.setModal(true);\r\n\r\n        arrayLabel = new JLabel();\r\n        resetDisplayLabel();\r\n        arrayLabel.setOpaque(false);\r\n        arrayLabel.setHorizontalAlignment(JLabel.CENTER);\r\n        arrayLabel.setVerticalAlignment(JLabel.CENTER);\r\n        arrayLabel.setFont(new Font(arrayLabel.getFont().getFamily(), \r\n                                    arrayLabel.getFont().getStyle(), displayFontSize));\r\n        dialog.add(arrayLabel, BorderLayout.NORTH);\r\n\r\n        int calculatedWidth = getStringPixelWidth(arrayLabel.getFont(), \r\n                                      arrayLabel.getText().replaceAll(&quot;&lt;.+?&gt;&quot;, &quot;&quot;)) + 50;\r\n        int calculatedHeight = getStringPixelHeight(arrayLabel.getFont(), \r\n                                      arrayLabel.getText().replaceAll(&quot;&lt;.+?&gt;&quot;, &quot;&quot;)) + 100;\r\n        dialog.setPreferredSize(new Dimension(calculatedWidth, calculatedHeight));\r\n        \r\n        JPanel buttonPanel = new JPanel();\r\n        buttonPanel.setOpaque(false);\r\n        startButton = new JButton(&quot;Start Animation&quot;);\r\n        startButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (e.getActionCommand().equals(&quot;Start Animation&quot;))  {\r\n                    if (arrayIndex &gt; stringArray.length - 1) {\r\n                        resetDisplayLabel();\r\n                        arrayIndex = 0;\r\n                    }\r\n                    startButton.setActionCommand(&quot;Stop Animation&quot;);\r\n                    // Using a Swing Timer...for animation\r\n                    ActionListener performTask = new ActionListener() {\r\n                        @Override\r\n                        public void actionPerformed(ActionEvent evt) {\r\n                            arrayIndex++;\r\n                            if (arrayIndex &gt; stringArray.length - 1) {\r\n                                animationTimer.stop();\r\n                                startButton.setText(&quot;Restart Animation&quot;);\r\n                                startButton.setActionCommand(&quot;Start Animation&quot;);\r\n                                return;\r\n                            }\r\n                            stringArray[arrayIndex - 1] = &quot;\\&quot;\\&quot;&quot;;\r\n                            stringArray[arrayIndex] = String.valueOf(arrayValueToMove);\r\n                            String arrayString = &quot;&lt;html&gt;&quot; + Arrays.toString(stringArray) + &quot;&lt;/html&gt;&quot;;\r\n                            arrayString = arrayString.replace(String.valueOf(arrayValueToMove),\r\n                                    &quot;\\&quot;&lt;font color=red&gt;&quot; + String.valueOf(arrayValueToMove)\r\n                                    + &quot;&lt;/font&gt;\\&quot;&quot;);\r\n                            arrayLabel.setText(arrayString);\r\n                        }\r\n                    };\r\n                    animationTimer = new Timer(animationSpeed, performTask);\r\n                    animationTimer.start();\r\n                    startButton.setText(&quot;Stop Animation&quot;);\r\n                }\r\n                else {\r\n                    animationTimer.stop();\r\n                    startButton.setText(&quot;Start Animation&quot;);\r\n                    startButton.setActionCommand(&quot;Start Animation&quot;);\r\n                }\r\n            }\r\n\r\n        });\r\n        buttonPanel.add(startButton);\r\n        dialog.add(buttonPanel, BorderLayout.SOUTH);\r\n\r\n        dialog.pack();\r\n        dialog.setLocationRelativeTo(null);\r\n        \r\n        java.awt.EventQueue.invokeLater(() -&gt; {\r\n            dialog.setVisible(true);\r\n        });\r\n        \r\n    }\r\n    \r\n    private void fillArray() {\r\n        stringArray = new String[lengthOfArray];\r\n        for (int i = 0; i &lt; stringArray.length; i++) {\r\n            if (i == 0) {\r\n                stringArray[i] = &quot;\\&quot;&quot; + arrayValueToMove + &quot;\\&quot;&quot;;\r\n            }\r\n            else {\r\n                stringArray[i] = &quot;\\&quot;\\&quot;&quot;;\r\n            }\r\n        }\r\n    }\r\n    \r\n    private void resetDisplayLabel() {\r\n        fillArray();\r\n        String arrayString = &quot;&lt;html&gt;&quot; + Arrays.toString(stringArray) + &quot;&lt;/html&gt;&quot;;\r\n        arrayString = arrayString.replace(String.valueOf(arrayValueToMove),\r\n                &quot;&lt;font color=red&gt;&quot; + String.valueOf(arrayValueToMove)\r\n                + &quot;&lt;/font&gt;&quot;);\r\n        \r\n        arrayLabel.setText(arrayString);\r\n    }\r\n\r\n    /**\r\n     * This application can currently accept four specific integer command-line \r\n     * arguments prefixed with a specific Command related to that argument.\r\n     * \r\n     * @param args (Command-Line varArgs [optional])&lt;pre&gt;\r\n     * \r\n     *   Length Of Array:     The length (# of elements) of the String[] Array \r\n     *                        to animate. The longer the array the smaller the\r\n     *    Command: /L         font size you &lt;u&gt;may&lt;/u&gt; want to use so to fit the array\r\n     *                        into the display window. The display window will \r\n     *                        automatically size itself to try and accommodate \r\n     *                        the array length. The default is 8.\r\n     *                      \r\n     *                        Examples of acceptable command-line commands for \r\n     *                        this argument are: /L{value}, /L:{value}, etc.\r\n     *                        Basically, The command can be anything as long as \r\n     *                        it starts with /L (or /l) and contains no spaces\r\n     *                        or digit(s). Digits are reserved for the actual \r\n     *                        argument value passed along with the command, for\r\n     *                        example: /L:8 (/L: 8 is not acceptable) or you \r\n     *                        could use: /Length=8. Anything can be between the\r\n     *                        /L and the integer argument value. Either will tell \r\n     *                        the application the the length of the Array to \r\n     *                        display will contain 8 elements. No whitespaces \r\n     *                        are permitted within a Command-Line Command.\r\n     *                     \r\n     *   Array Value To Move: This would be the integer value that is placed \r\n     *                        within the first element of the String Array at\r\n     *       Command: /N      index 0. The default value is: &lt;b&gt;2&lt;/b&gt; however\r\n     *                        you can change this value to whatever you like.\r\n     * \r\n     *                        Examples of acceptable command-line commands for \r\n     *                        this argument are: /N{value}, /N:{value}, etc.\r\n     *                        Basically, The command can be anything as long as \r\n     *                        it starts with /N (or /n) and contains no spaces\r\n     *                        or digit(s). Digits are reserved for the actual \r\n     *                        argument value passed along with the command, for\r\n     *                        example: /N:8 (/N: 8 is not acceptable) or you \r\n     *                        could use: /Number=8. Anything can be between the\r\n     *                        /N and the integer argument value. Either will tell \r\n     *                        the application the the number within the Array to \r\n     *                        display will be the number 8. No whitespaces are\r\n     *                        permitted within a Command-Line Command.\r\n     *  \r\n     *   Animation Speed:     Default is a value of 1000 milliseconds which is\r\n     *                        basically equivalent to 1 second. You can set the \r\n     *     Command: /S        animation speed to whatever you like but do keep\r\n     *                        in mind that you could set a speed that will be so\r\n     *                        fast that you can&#39;t tell there is any animation.\r\n     * \r\n     *                        The value passed with this command would be an \r\n     *                        integer value representing Milliseconds.\r\n     * \r\n     *                        Examples of acceptable command-line commands for \r\n     *                        this argument are: /S{value}, /S:{value}, etc.\r\n     *                        Basically, The command can be anything as long as \r\n     *                        it starts with /S (or /s) and contains no spaces\r\n     *                        or digit(s). Digits are reserved for the actual \r\n     *                        argument value passed along with the command, for\r\n     *                        example: /S:800 (/S: 800 is not acceptable) or you \r\n     *                        could use: /Speed=800. Anything can be between the\r\n     *                        /S and the integer argument value. Either will tell \r\n     *                        the application that the animation speed for the \r\n     *                        Array display will be 800ms. No whitespaces are\r\n     *                        permitted within a Command-Line Command.\r\n     * \r\n     *   Display Font Size:   Default is a font size of 24 but any font size can\r\n     *                        be used to display the Animation and the display \r\n     *      Command: /F       window will automatically size accordingly.\r\n     * \r\n     *                        Examples of acceptable command-line commands for \r\n     *                        this argument are: /F{value}, /F:{value}, etc.\r\n     *                        Basically, The command can be anything as long as \r\n     *                        it starts with /F (or /f) and contains no spaces\r\n     *                        or digit(s). Digits are reserved for the actual \r\n     *                        argument value passed along with the command, for\r\n     *                        example: /F:36 (/F: 36 is not acceptable) or you \r\n     *                        could use: /Font=36. Anything can be between the\r\n     *                        /F and the integer argument value. Either will tell \r\n     *                        the application that the animation Font size for the \r\n     *                        Array display will be 36pt. No whitespaces are allowed\r\n     *                        within a Command-Line Command.&lt;/pre&gt;\r\n     */\r\n    private void readCommandLineArguments(String[] args) {\r\n        String command = &quot;&quot;;\r\n        int value;\r\n        for (String arg : args) {\r\n            // Split Alpha and Numeric.\r\n            String[] argParts = arg.split(&quot;(?&lt;=\\\\D)(?=\\\\d)|(?&lt;=\\\\d)(?=\\\\D)&quot;);\r\n            command = argParts[0].substring(0, 2);\r\n            value = 0;\r\n            if (argParts.length == 2) { \r\n                value = Integer.parseInt(argParts[1]);\r\n            }\r\n            switch (command.toUpperCase()) {\r\n                case &quot;/L&quot;:\r\n                    this.lengthOfArray = value;\r\n                    break;\r\n                case &quot;/N&quot;:\r\n                    this.arrayValueToMove = value;\r\n                    break;\r\n                case &quot;/S&quot;:\r\n                    this.animationSpeed = value;\r\n                    break;\r\n                case &quot;/F&quot;:\r\n                    this.displayFontSize = value;\r\n                    break;\r\n                default:\r\n                    System.err.println(&quot;Unknown Command-Line Argument!&quot;);\r\n            }\r\n        } \r\n    }\r\n    \r\n    /**\r\n     * Returns the pixel width of the supplied String.&lt;br&gt;\r\n     * \r\n     * @param font (Font) The String Font to base calculations from.&lt;br&gt;\r\n     * \r\n     * @param characterString (String) The string to get the pixel width for.&lt;br&gt;\r\n     * \r\n     * @return (int) The pixel width of the supplied String.\r\n     */\r\n    public int getStringPixelWidth(Font font, String characterString) {\r\n        FontMetrics metrics = new FontMetrics(font) {\r\n            private static final long serialVersionUID = 1L;\r\n        };\r\n        Rectangle2D bounds = metrics.getStringBounds(characterString, null);\r\n        return (int) bounds.getWidth();\r\n    }\r\n    \r\n    /**\r\n     * Returns the pixel height of the supplied String.&lt;br&gt;\r\n     * \r\n     * @param font (Font) The String Font to base calculations from.&lt;br&gt;\r\n     * \r\n     * @param characterString (String) The string to get the pixel height for.&lt;br&gt;\r\n     * \r\n     * @return (int) The pixel height of the supplied String.\r\n     */\r\n    public int getStringPixelHeight(Font font, String characterString) {\r\n        FontMetrics metrics = new FontMetrics(font) {\r\n            private static final long serialVersionUID = 1L;\r\n        };\r\n        Rectangle2D bounds = metrics.getStringBounds(characterString, null);\r\n        return (int) bounds.getHeight();\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mVbif.gif","title":"Is it possible to print an element at every index until it reaches the end?","body":"<p>You can do this with Java but you won't be able to do it reliably within all consoles or terminals. You can however do it reliably if you utilize a GUI mechanism like a JOptionPane or JDialog and display that during console operation, for example:</p>\n<p><a href=\"https://i.stack.imgur.com/mVbif.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mVbif.gif\" alt=\"enter image description here\" /></a></p>\n<p>The above example is a JDialog. Below is the code (read comments within):</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.awt.FontMetrics;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.awt.geom.Rectangle2D;\nimport java.util.Arrays;\nimport javax.swing.JButton;\nimport javax.swing.JDialog;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.Timer;\n\n\npublic class AnimatedMoveArrayElementDemo {\n\n    /* Default. The length of the Array to animate.\n       Can be changed via command-line (/L:n) argument.   */\n    private int lengthOfArray = 8;\n    \n    /* Default. The Array value to move from beginning to end.\n       Can be changed via command-line (/N:n) argument.   */\n    private int arrayValueToMove = 2;\n    \n    /* In Milliseconds (1000 = 1 Second).\n       Can be changed via command-line (/S:n) argument.   */\n    private int animationSpeed = 1000;\n    \n    /* Default. The dialog display font size.\n       Can be changed via command-line (/F:n) argument.   */\n   private int displayFontSize = 24;\n    \n    private String[] stringArray = {}; \n    int arrayIndex = 0;\n\n    Timer animationTimer;\n    JButton startButton;\n    JLabel arrayLabel;\n\n    \n    public static void main(String[] args) {\n        // App started this way to avoid the need for statics\n        new AnimatedMoveArrayElementDemo().startApp(args);\n    }\n\n    private void startApp(String[] args) {\n        if (args.length &gt; 0) {\n            readCommandLineArguments(args);\n        }\n        \n        fillArray();\n        createAndShowDialog();\n    }\n\n    private void createAndShowDialog() {\n        JDialog dialog = new JDialog();\n        dialog.setTitle(&quot;Moving Array Element To The End Position&quot;);\n        dialog.setBackground(Color.white);\n        dialog.getContentPane().setBackground(Color.white);\n        \n        dialog.setAlwaysOnTop(true);\n        dialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n        dialog.setModal(true);\n\n        arrayLabel = new JLabel();\n        resetDisplayLabel();\n        arrayLabel.setOpaque(false);\n        arrayLabel.setHorizontalAlignment(JLabel.CENTER);\n        arrayLabel.setVerticalAlignment(JLabel.CENTER);\n        arrayLabel.setFont(new Font(arrayLabel.getFont().getFamily(), \n                                    arrayLabel.getFont().getStyle(), displayFontSize));\n        dialog.add(arrayLabel, BorderLayout.NORTH);\n\n        int calculatedWidth = getStringPixelWidth(arrayLabel.getFont(), \n                                      arrayLabel.getText().replaceAll(&quot;&lt;.+?&gt;&quot;, &quot;&quot;)) + 50;\n        int calculatedHeight = getStringPixelHeight(arrayLabel.getFont(), \n                                      arrayLabel.getText().replaceAll(&quot;&lt;.+?&gt;&quot;, &quot;&quot;)) + 100;\n        dialog.setPreferredSize(new Dimension(calculatedWidth, calculatedHeight));\n        \n        JPanel buttonPanel = new JPanel();\n        buttonPanel.setOpaque(false);\n        startButton = new JButton(&quot;Start Animation&quot;);\n        startButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (e.getActionCommand().equals(&quot;Start Animation&quot;))  {\n                    if (arrayIndex &gt; stringArray.length - 1) {\n                        resetDisplayLabel();\n                        arrayIndex = 0;\n                    }\n                    startButton.setActionCommand(&quot;Stop Animation&quot;);\n                    // Using a Swing Timer...for animation\n                    ActionListener performTask = new ActionListener() {\n                        @Override\n                        public void actionPerformed(ActionEvent evt) {\n                            arrayIndex++;\n                            if (arrayIndex &gt; stringArray.length - 1) {\n                                animationTimer.stop();\n                                startButton.setText(&quot;Restart Animation&quot;);\n                                startButton.setActionCommand(&quot;Start Animation&quot;);\n                                return;\n                            }\n                            stringArray[arrayIndex - 1] = &quot;\\&quot;\\&quot;&quot;;\n                            stringArray[arrayIndex] = String.valueOf(arrayValueToMove);\n                            String arrayString = &quot;&lt;html&gt;&quot; + Arrays.toString(stringArray) + &quot;&lt;/html&gt;&quot;;\n                            arrayString = arrayString.replace(String.valueOf(arrayValueToMove),\n                                    &quot;\\&quot;&lt;font color=red&gt;&quot; + String.valueOf(arrayValueToMove)\n                                    + &quot;&lt;/font&gt;\\&quot;&quot;);\n                            arrayLabel.setText(arrayString);\n                        }\n                    };\n                    animationTimer = new Timer(animationSpeed, performTask);\n                    animationTimer.start();\n                    startButton.setText(&quot;Stop Animation&quot;);\n                }\n                else {\n                    animationTimer.stop();\n                    startButton.setText(&quot;Start Animation&quot;);\n                    startButton.setActionCommand(&quot;Start Animation&quot;);\n                }\n            }\n\n        });\n        buttonPanel.add(startButton);\n        dialog.add(buttonPanel, BorderLayout.SOUTH);\n\n        dialog.pack();\n        dialog.setLocationRelativeTo(null);\n        \n        java.awt.EventQueue.invokeLater(() -&gt; {\n            dialog.setVisible(true);\n        });\n        \n    }\n    \n    private void fillArray() {\n        stringArray = new String[lengthOfArray];\n        for (int i = 0; i &lt; stringArray.length; i++) {\n            if (i == 0) {\n                stringArray[i] = &quot;\\&quot;&quot; + arrayValueToMove + &quot;\\&quot;&quot;;\n            }\n            else {\n                stringArray[i] = &quot;\\&quot;\\&quot;&quot;;\n            }\n        }\n    }\n    \n    private void resetDisplayLabel() {\n        fillArray();\n        String arrayString = &quot;&lt;html&gt;&quot; + Arrays.toString(stringArray) + &quot;&lt;/html&gt;&quot;;\n        arrayString = arrayString.replace(String.valueOf(arrayValueToMove),\n                &quot;&lt;font color=red&gt;&quot; + String.valueOf(arrayValueToMove)\n                + &quot;&lt;/font&gt;&quot;);\n        \n        arrayLabel.setText(arrayString);\n    }\n\n    /**\n     * This application can currently accept four specific integer command-line \n     * arguments prefixed with a specific Command related to that argument.\n     * \n     * @param args (Command-Line varArgs [optional])&lt;pre&gt;\n     * \n     *   Length Of Array:     The length (# of elements) of the String[] Array \n     *                        to animate. The longer the array the smaller the\n     *    Command: /L         font size you &lt;u&gt;may&lt;/u&gt; want to use so to fit the array\n     *                        into the display window. The display window will \n     *                        automatically size itself to try and accommodate \n     *                        the array length. The default is 8.\n     *                      \n     *                        Examples of acceptable command-line commands for \n     *                        this argument are: /L{value}, /L:{value}, etc.\n     *                        Basically, The command can be anything as long as \n     *                        it starts with /L (or /l) and contains no spaces\n     *                        or digit(s). Digits are reserved for the actual \n     *                        argument value passed along with the command, for\n     *                        example: /L:8 (/L: 8 is not acceptable) or you \n     *                        could use: /Length=8. Anything can be between the\n     *                        /L and the integer argument value. Either will tell \n     *                        the application the the length of the Array to \n     *                        display will contain 8 elements. No whitespaces \n     *                        are permitted within a Command-Line Command.\n     *                     \n     *   Array Value To Move: This would be the integer value that is placed \n     *                        within the first element of the String Array at\n     *       Command: /N      index 0. The default value is: &lt;b&gt;2&lt;/b&gt; however\n     *                        you can change this value to whatever you like.\n     * \n     *                        Examples of acceptable command-line commands for \n     *                        this argument are: /N{value}, /N:{value}, etc.\n     *                        Basically, The command can be anything as long as \n     *                        it starts with /N (or /n) and contains no spaces\n     *                        or digit(s). Digits are reserved for the actual \n     *                        argument value passed along with the command, for\n     *                        example: /N:8 (/N: 8 is not acceptable) or you \n     *                        could use: /Number=8. Anything can be between the\n     *                        /N and the integer argument value. Either will tell \n     *                        the application the the number within the Array to \n     *                        display will be the number 8. No whitespaces are\n     *                        permitted within a Command-Line Command.\n     *  \n     *   Animation Speed:     Default is a value of 1000 milliseconds which is\n     *                        basically equivalent to 1 second. You can set the \n     *     Command: /S        animation speed to whatever you like but do keep\n     *                        in mind that you could set a speed that will be so\n     *                        fast that you can't tell there is any animation.\n     * \n     *                        The value passed with this command would be an \n     *                        integer value representing Milliseconds.\n     * \n     *                        Examples of acceptable command-line commands for \n     *                        this argument are: /S{value}, /S:{value}, etc.\n     *                        Basically, The command can be anything as long as \n     *                        it starts with /S (or /s) and contains no spaces\n     *                        or digit(s). Digits are reserved for the actual \n     *                        argument value passed along with the command, for\n     *                        example: /S:800 (/S: 800 is not acceptable) or you \n     *                        could use: /Speed=800. Anything can be between the\n     *                        /S and the integer argument value. Either will tell \n     *                        the application that the animation speed for the \n     *                        Array display will be 800ms. No whitespaces are\n     *                        permitted within a Command-Line Command.\n     * \n     *   Display Font Size:   Default is a font size of 24 but any font size can\n     *                        be used to display the Animation and the display \n     *      Command: /F       window will automatically size accordingly.\n     * \n     *                        Examples of acceptable command-line commands for \n     *                        this argument are: /F{value}, /F:{value}, etc.\n     *                        Basically, The command can be anything as long as \n     *                        it starts with /F (or /f) and contains no spaces\n     *                        or digit(s). Digits are reserved for the actual \n     *                        argument value passed along with the command, for\n     *                        example: /F:36 (/F: 36 is not acceptable) or you \n     *                        could use: /Font=36. Anything can be between the\n     *                        /F and the integer argument value. Either will tell \n     *                        the application that the animation Font size for the \n     *                        Array display will be 36pt. No whitespaces are allowed\n     *                        within a Command-Line Command.&lt;/pre&gt;\n     */\n    private void readCommandLineArguments(String[] args) {\n        String command = &quot;&quot;;\n        int value;\n        for (String arg : args) {\n            // Split Alpha and Numeric.\n            String[] argParts = arg.split(&quot;(?&lt;=\\\\D)(?=\\\\d)|(?&lt;=\\\\d)(?=\\\\D)&quot;);\n            command = argParts[0].substring(0, 2);\n            value = 0;\n            if (argParts.length == 2) { \n                value = Integer.parseInt(argParts[1]);\n            }\n            switch (command.toUpperCase()) {\n                case &quot;/L&quot;:\n                    this.lengthOfArray = value;\n                    break;\n                case &quot;/N&quot;:\n                    this.arrayValueToMove = value;\n                    break;\n                case &quot;/S&quot;:\n                    this.animationSpeed = value;\n                    break;\n                case &quot;/F&quot;:\n                    this.displayFontSize = value;\n                    break;\n                default:\n                    System.err.println(&quot;Unknown Command-Line Argument!&quot;);\n            }\n        } \n    }\n    \n    /**\n     * Returns the pixel width of the supplied String.&lt;br&gt;\n     * \n     * @param font (Font) The String Font to base calculations from.&lt;br&gt;\n     * \n     * @param characterString (String) The string to get the pixel width for.&lt;br&gt;\n     * \n     * @return (int) The pixel width of the supplied String.\n     */\n    public int getStringPixelWidth(Font font, String characterString) {\n        FontMetrics metrics = new FontMetrics(font) {\n            private static final long serialVersionUID = 1L;\n        };\n        Rectangle2D bounds = metrics.getStringBounds(characterString, null);\n        return (int) bounds.getWidth();\n    }\n    \n    /**\n     * Returns the pixel height of the supplied String.&lt;br&gt;\n     * \n     * @param font (Font) The String Font to base calculations from.&lt;br&gt;\n     * \n     * @param characterString (String) The string to get the pixel height for.&lt;br&gt;\n     * \n     * @return (int) The pixel height of the supplied String.\n     */\n    public int getStringPixelHeight(Font font, String characterString) {\n        FontMetrics metrics = new FontMetrics(font) {\n            private static final long serialVersionUID = 1L;\n        };\n        Rectangle2D bounds = metrics.getStringBounds(characterString, null);\n        return (int) bounds.getHeight();\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18984687"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":3,"score":0,"last_activity_date":1671183740,"creation_date":1668327256,"question_id":74419426,"body_markdown":"I have been learning about arrays and an interesting question popped up in my head.\r\n\r\nI was wondering that with the current Java version, is there a way for me to print a character `string n` and make it appear for a brief moment at every index of an array consisting of only `&quot;&quot;`, and then towards the end of the array, it can stop when it reaches the end index of the array.\r\n\r\nFor example if here is the given array and `string n = &quot;2&quot;` :\r\n\r\n    [2,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]\r\n\r\nthe code will continously update like\r\n\r\n    [&quot;2&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]\r\n    [&quot;&quot;,&quot;2&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]\r\n    [&quot;&quot;,&quot;&quot;,&quot;2&quot;,&quot;&quot;,&quot;&quot;]\r\n    [&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;2&quot;,&quot;&quot;]\r\n    [&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;2&quot;]\r\n\r\nand the end result would be \r\n\r\n    [&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;2&quot;]\r\n\r\nI would like to see the whole movement of `&quot;2&quot;` being played out without printing any excess arrays ( no more than one array should be in the output).\r\n\r\nIs this possible? If yes, can you please suggest what should I look over to learn how to do this?\r\n\r\n  ","title":"Is it possible to print an element at every index until it reaches the end?","body":"<p>I have been learning about arrays and an interesting question popped up in my head.</p>\n<p>I was wondering that with the current Java version, is there a way for me to print a character <code>string n</code> and make it appear for a brief moment at every index of an array consisting of only <code>&quot;&quot;</code>, and then towards the end of the array, it can stop when it reaches the end index of the array.</p>\n<p>For example if here is the given array and <code>string n = &quot;2&quot;</code> :</p>\n<pre><code>[2,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]\n</code></pre>\n<p>the code will continously update like</p>\n<pre><code>[&quot;2&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]\n[&quot;&quot;,&quot;2&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;]\n[&quot;&quot;,&quot;&quot;,&quot;2&quot;,&quot;&quot;,&quot;&quot;]\n[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;2&quot;,&quot;&quot;]\n[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;2&quot;]\n</code></pre>\n<p>and the end result would be</p>\n<pre><code>[&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;2&quot;]\n</code></pre>\n<p>I would like to see the whole movement of <code>&quot;2&quot;</code> being played out without printing any excess arrays ( no more than one array should be in the output).</p>\n<p>Is this possible? If yes, can you please suggest what should I look over to learn how to do this?</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1533830082,"post_id":51771227,"comment_id":90501472,"body_markdown":"Your non-lambda code is using raw types. I suspect the rest of the code also does. Make sure you&#39;re not using any raw type. Post a complete minimal example reproducing the problem.","body":"Your non-lambda code is using raw types. I suspect the rest of the code also does. Make sure you&#39;re not using any raw type. Post a complete minimal example reproducing the problem."},{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":0,"creation_date":1533832256,"post_id":51771227,"comment_id":90502650,"body_markdown":"@jb-nizet Don&#39;t worry, I never use raw types in my code. I only did that to simplify the code as much as possible. Also, I added a full source code example.","body":"@jb-nizet Don&#39;t worry, I never use raw types in my code. I only did that to simplify the code as much as possible. Also, I added a full source code example."}],"answers":[{"comments":[{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":0,"creation_date":1533832078,"post_id":51771900,"comment_id":90502557,"body_markdown":"This is not an answer. My question is, why isn&#39;t the argument inferred correctly, if if there any way around this _without casts_. Please read the whole question before answering.","body":"This is not an answer. My question is, why isn&#39;t the argument inferred correctly, if if there any way around this <i>without casts</i>. Please read the whole question before answering."},{"owner":{"account_id":9127082,"reputation":2952,"user_id":6790326,"display_name":"Dorian Gray"},"score":1,"creation_date":1533832800,"post_id":51771900,"comment_id":90502931,"body_markdown":"Of course it is an answer. Because the compiler doesn&#39;t have that information. How should it know that you want it to be of type CellEditEvent? Note that the type annotation in my answer is not a cast.","body":"Of course it is an answer. Because the compiler doesn&#39;t have that information. How should it know that you want it to be of type CellEditEvent? Note that the type annotation in my answer is not a cast."},{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":0,"creation_date":1533832966,"post_id":51771900,"comment_id":90503011,"body_markdown":"Sorry, I meant it is not an answer to my question. My question is: &quot;why doesn&#39;t lambda correctly infer that the argument should be&#160;T extends Event(CellEditEvent&#160;in this case), not&#160;Event&quot;. Your answer doesn&#39;t attempt to answer that.","body":"Sorry, I meant it is not an answer to my question. My question is: &quot;why doesn&#39;t lambda correctly infer that the argument should be T extends Event(CellEditEvent in this case), not Event&quot;. Your answer doesn&#39;t attempt to answer that."},{"owner":{"account_id":9127082,"reputation":2952,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1533833150,"post_id":51771900,"comment_id":90503117,"body_markdown":"Of course it is. Please read my last comment: Because the compiler doesn&#39;t have that information. How should it know that you want it to be of type CellEditEvent? Note that the type annotation in my answer is not a cast.","body":"Of course it is. Please read my last comment: Because the compiler doesn&#39;t have that information. How should it know that you want it to be of type CellEditEvent? Note that the type annotation in my answer is not a cast."},{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":0,"creation_date":1533833156,"post_id":51771900,"comment_id":90503122,"body_markdown":"It should know that it&#39;s of CellEditEvent because of the method declaration.","body":"It should know that it&#39;s of CellEditEvent because of the method declaration."},{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":0,"creation_date":1533833318,"post_id":51771900,"comment_id":90503192,"body_markdown":"My bad, it&#39;s not a cast but I kinda meant without explicitely naming the type. Also I can&#39;t do anything unless you edit your answer.","body":"My bad, it&#39;s not a cast but I kinda meant without explicitely naming the type. Also I can&#39;t do anything unless you edit your answer."},{"owner":{"account_id":9127082,"reputation":2952,"user_id":6790326,"display_name":"Dorian Gray"},"score":0,"creation_date":1533833757,"post_id":51771900,"comment_id":90503404,"body_markdown":"What you &quot;kinda meant&quot; and what you wrote are two different pairs of shoes, it&#39;s your bad if you don&#39;t use proper terms. I edited my answer and provided more details.","body":"What you &quot;kinda meant&quot; and what you wrote are two different pairs of shoes, it&#39;s your bad if you don&#39;t use proper terms. I edited my answer and provided more details."},{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":0,"creation_date":1533834434,"post_id":51771900,"comment_id":90503770,"body_markdown":"Either way, your answer does not work, it results in the error &quot;Error: java: incompatible types: incompatible parameter types in lambda expression&quot;. IntelliJ details this and says &quot;expected Event but found CellEditEvent&quot;. So it&#39;s actually impossible without casting.","body":"Either way, your answer does not work, it results in the error &quot;Error: java: incompatible types: incompatible parameter types in lambda expression&quot;. IntelliJ details this and says &quot;expected Event but found CellEditEvent&quot;. So it&#39;s actually impossible without casting."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1533834642,"post_id":51771900,"comment_id":90503889,"body_markdown":"@Chaoz the compiler doesn&#39;t care what *actual* type your object is, only what it&#39;s *declared* as. +1","body":"@Chaoz the compiler doesn&#39;t care what <i>actual</i> type your object is, only what it&#39;s <i>declared</i> as. +1"},{"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"score":0,"creation_date":1533835126,"post_id":51771900,"comment_id":90504133,"body_markdown":"@Bohemian read my latest comment; this answer is not working, which means that the compiler doesn&#39;t care about either the actual type or what it&#39;s declared as.","body":"@Bohemian read my latest comment; this answer is not working, which means that the compiler doesn&#39;t care about either the actual type or what it&#39;s declared as."}],"tags":[],"owner":{"account_id":9127082,"reputation":2952,"user_id":6790326,"display_name":"Dorian Gray"},"comment_count":10,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533833677,"creation_date":1533831862,"answer_id":51771900,"question_id":51771227,"body_markdown":"The compiler doesn&#39;t have that type information.\r\nThe only information the compiler has is this:\r\n\r\n    public interface EventHandler&lt;T extends Event&gt; extends EventListener {\r\n        void handle(T event);\r\n    }\r\nNow you want to use it like that:\r\n\r\n    import javafx.scene.control.TableColumn;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            TableColumn column = null;\r\n            column.setOnEditCommit(event -&gt; event.getTableView());\r\n        }\r\n    }\r\nHow is the compiler supposed to determine the type of event? The type CellEditEvent does not appear anywhere.\r\n\r\n\r\nIn this case, you have to explicitely specify the type you want.\r\n\r\n    column.setOnEditCommit((TableColumn.CellEditEvent event) -&gt; event.getTableView().doSomething());\r\n","title":"Java lambda argument type not inferred correctly","body":"<p>The compiler doesn't have that type information.\nThe only information the compiler has is this:</p>\n\n<pre><code>public interface EventHandler&lt;T extends Event&gt; extends EventListener {\n    void handle(T event);\n}\n</code></pre>\n\n<p>Now you want to use it like that:</p>\n\n<pre><code>import javafx.scene.control.TableColumn;\npublic class Main {\n    public static void main(String[] args) {\n        TableColumn column = null;\n        column.setOnEditCommit(event -&gt; event.getTableView());\n    }\n}\n</code></pre>\n\n<p>How is the compiler supposed to determine the type of event? The type CellEditEvent does not appear anywhere.</p>\n\n<p>In this case, you have to explicitely specify the type you want.</p>\n\n<pre><code>column.setOnEditCommit((TableColumn.CellEditEvent event) -&gt; event.getTableView().doSomething());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1533905480,"post_id":51772795,"comment_id":90530989,"body_markdown":"I told ya I suspected raw types being used :-)","body":"I told ya I suspected raw types being used :-)"}],"tags":[],"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1534289149,"creation_date":1533835533,"answer_id":51772795,"question_id":51771227,"body_markdown":"Apparently using raw types for the `TableColumn` causes this issue to happen. So this will work:\r\n\r\n    TableColumn&lt;SomeClass, SomeOtherClass&gt; column = null;\r\n    column.setOnEditCommit(event -&gt; event.getTableView());\r\n\r\nNot only that, but also this:\r\n\r\n    TableColumn&lt;?, ?&gt; column = null;\r\n    column.setOnEditCommit(event -&gt; event.getTableView());\r\nBut this will not:\r\n\r\n    TableColumn column = null;\r\n    column.setOnEditCommit(event -&gt; event.getTableView());","title":"Java lambda argument type not inferred correctly","body":"<p>Apparently using raw types for the <code>TableColumn</code> causes this issue to happen. So this will work:</p>\n\n<pre><code>TableColumn&lt;SomeClass, SomeOtherClass&gt; column = null;\ncolumn.setOnEditCommit(event -&gt; event.getTableView());\n</code></pre>\n\n<p>Not only that, but also this:</p>\n\n<pre><code>TableColumn&lt;?, ?&gt; column = null;\ncolumn.setOnEditCommit(event -&gt; event.getTableView());\n</code></pre>\n\n<p>But this will not:</p>\n\n<pre><code>TableColumn column = null;\ncolumn.setOnEditCommit(event -&gt; event.getTableView());\n</code></pre>\n"}],"owner":{"account_id":2402475,"reputation":2164,"user_id":2099848,"accept_rate":76,"display_name":"Chaoz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51772795,"answer_count":2,"score":0,"last_activity_date":1671183675,"creation_date":1533829586,"question_id":51771227,"body_markdown":"I&#39;m trying to call this method on javafx: `TableColumn.setOnEditCommit`. This method&#39;s definition is the following:\r\n\r\n    public final void setOnEditCommit(EventHandler&lt;CellEditEvent&lt;S,T&gt;&gt; value) {\r\n        // ...\r\n    }\r\n\r\nAs you can see, it explicitely requires an `EventHandler` of type `CellEditEvent` (which extends `Event`). The `EventHandler`&#39;s definition:\r\n\r\n    public interface EventHandler&lt;T extends Event&gt; extends EventListener {\r\n        void handle(T event);\r\n    }\r\n\r\nObvious enough, to call `setOnEditCommit` (without lamba), one would type this:\r\n\r\n    column.setOnEditCommit(new EventHandler&lt;TableColumn.CellEditEvent&gt;() {\r\n        public void handle(CellEditEvent event) {\r\n            event.getTableView().doSomething();\r\n        }\r\n    });\r\n\r\n_Note: `getTableView` is a method of `CellEditEvent`, but not of `Event`._\r\n\r\nAll nice so far. The problem I&#39;ve come into is that writing the above code seems to be impossible using lambda, without casting. That is, the lamba equivalent for the above is:\r\n\r\n    column.setOnEditCommit(event -&gt; event.getTableView().doSomething());\r\n\r\nHere&#39;s the problem. `Lambda` doesn&#39;t care that the event should be a `CellEditEvent` because the `setOnEditCommit` method explicitely states the `EventHandler`&#39;s vararg is a `CellEditEvent`.\r\n\r\nApparently, when inferring argument types, lambda checks out the `EventHandler` class definition, in particular the `&lt;T extends Event&gt;` part, and then decides that T is an `Event`, and that&#39;s it, not that t _extends_ `Event`. In this case, the error thrown is that method &#39;getTableView&#39; is not found - because the `Event` class doesn&#39;t have that method.\r\n\r\nNot only that, but not even explicitely stating the argument type doesn&#39;t work:\r\n\r\n    column.setOnEditCommit((TableColumn.CellEditEvent event) -&gt; event.getTableView().doSomething());\r\n\r\nResults in the error:\r\n\r\n&gt; Error:(10, 32) java: incompatible types: incompatible parameter types in lambda expression\r\n\r\nMy question is: Why doesn&#39;t lambda correctly infer that the argument should be `T extends Event` (`CellEditEvent` in this case), not `Event`, and is there any way to fix that?\r\n\r\nFull example:\r\n\r\n    import javafx.scene.control.TableColumn;\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            TableColumn column = null;\r\n            column.setOnEditCommit(event -&gt; event.getTableView());\r\n        }\r\n    }\r\n","title":"Java lambda argument type not inferred correctly","body":"<p>I'm trying to call this method on javafx: <code>TableColumn.setOnEditCommit</code>. This method's definition is the following:</p>\n<pre><code>public final void setOnEditCommit(EventHandler&lt;CellEditEvent&lt;S,T&gt;&gt; value) {\n    // ...\n}\n</code></pre>\n<p>As you can see, it explicitely requires an <code>EventHandler</code> of type <code>CellEditEvent</code> (which extends <code>Event</code>). The <code>EventHandler</code>'s definition:</p>\n<pre><code>public interface EventHandler&lt;T extends Event&gt; extends EventListener {\n    void handle(T event);\n}\n</code></pre>\n<p>Obvious enough, to call <code>setOnEditCommit</code> (without lamba), one would type this:</p>\n<pre><code>column.setOnEditCommit(new EventHandler&lt;TableColumn.CellEditEvent&gt;() {\n    public void handle(CellEditEvent event) {\n        event.getTableView().doSomething();\n    }\n});\n</code></pre>\n<p><em>Note: <code>getTableView</code> is a method of <code>CellEditEvent</code>, but not of <code>Event</code>.</em></p>\n<p>All nice so far. The problem I've come into is that writing the above code seems to be impossible using lambda, without casting. That is, the lamba equivalent for the above is:</p>\n<pre><code>column.setOnEditCommit(event -&gt; event.getTableView().doSomething());\n</code></pre>\n<p>Here's the problem. <code>Lambda</code> doesn't care that the event should be a <code>CellEditEvent</code> because the <code>setOnEditCommit</code> method explicitely states the <code>EventHandler</code>'s vararg is a <code>CellEditEvent</code>.</p>\n<p>Apparently, when inferring argument types, lambda checks out the <code>EventHandler</code> class definition, in particular the <code>&lt;T extends Event&gt;</code> part, and then decides that T is an <code>Event</code>, and that's it, not that t <em>extends</em> <code>Event</code>. In this case, the error thrown is that method 'getTableView' is not found - because the <code>Event</code> class doesn't have that method.</p>\n<p>Not only that, but not even explicitely stating the argument type doesn't work:</p>\n<pre><code>column.setOnEditCommit((TableColumn.CellEditEvent event) -&gt; event.getTableView().doSomething());\n</code></pre>\n<p>Results in the error:</p>\n<blockquote>\n<p>Error:(10, 32) java: incompatible types: incompatible parameter types in lambda expression</p>\n</blockquote>\n<p>My question is: Why doesn't lambda correctly infer that the argument should be <code>T extends Event</code> (<code>CellEditEvent</code> in this case), not <code>Event</code>, and is there any way to fix that?</p>\n<p>Full example:</p>\n<pre><code>import javafx.scene.control.TableColumn;\npublic class Main {\n    public static void main(String[] args) {\n        TableColumn column = null;\n        column.setOnEditCommit(event -&gt; event.getTableView());\n    }\n}\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":10377194,"reputation":4505,"user_id":7653073,"display_name":"Malte Hartwig"},"score":0,"creation_date":1505729694,"post_id":46269855,"comment_id":79516219,"body_markdown":"I found [this question](https://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams) and its comments and answers very interesting to read. Tl;dr: You have to deal with the exception, but as the answers below and in the linked question show, you can work around it with certain patterns or utils that even hide those patterns from you.","body":"I found <a href=\"https://stackoverflow.com/questions/27644361/how-can-i-throw-checked-exceptions-from-inside-java-8-streams\">this question</a> and its comments and answers very interesting to read. Tl;dr: You have to deal with the exception, but as the answers below and in the linked question show, you can work around it with certain patterns or utils that even hide those patterns from you."}],"answers":[{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1505750060,"creation_date":1505692149,"answer_id":46269894,"question_id":46269855,"body_markdown":"A workaround could be wrapping your checked exception with an unchecked one and throwing the latter from the `catch` block. Note that we are saving an `MException` as a cause to be able to work with further.\r\n\r\n    try {\r\n        return getSex(persona.getSSN());\r\n    } catch (MException e) {\r\n        throw new IllegalArgumentException(e); // choose a suitable runtime one\r\n    }\r\n\r\nAnother way to go (rather a modification of the previous one, I don&#39;t like that) would be writing a `Collectors.groupingBy`-friendly method to move the foregoing logic into:\r\n\r\n    private String getSexFriendly(String ssn) {\r\n        try {\r\n            return getSex(ssn);\r\n        } catch (MException e) {\r\n            throw new IllegalArgumentException(e);\r\n        }\r\n    }\r\n\r\nThough, we will have a good-looking lambda:\r\n\r\n    persona -&gt; getSexFriendly(persona.getSSN())\r\n","title":"Java 8 Stream. Throw exception to client method inside lambda expression","body":"<p>A workaround could be wrapping your checked exception with an unchecked one and throwing the latter from the <code>catch</code> block. Note that we are saving an <code>MException</code> as a cause to be able to work with further.</p>\n\n<pre><code>try {\n    return getSex(persona.getSSN());\n} catch (MException e) {\n    throw new IllegalArgumentException(e); // choose a suitable runtime one\n}\n</code></pre>\n\n<p>Another way to go (rather a modification of the previous one, I don't like that) would be writing a <code>Collectors.groupingBy</code>-friendly method to move the foregoing logic into:</p>\n\n<pre><code>private String getSexFriendly(String ssn) {\n    try {\n        return getSex(ssn);\n    } catch (MException e) {\n        throw new IllegalArgumentException(e);\n    }\n}\n</code></pre>\n\n<p>Though, we will have a good-looking lambda:</p>\n\n<pre><code>persona -&gt; getSexFriendly(persona.getSSN())\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1506409484,"post_id":46282804,"comment_id":79796859,"body_markdown":"don&#39;t forget to leave a link to the article here, +1 :)","body":"don&#39;t forget to leave a link to the article here, +1 :)"}],"tags":[],"owner":{"account_id":2570598,"reputation":13282,"user_id":2229438,"accept_rate":94,"display_name":"Grzegorz Piwowarek"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506409613,"creation_date":1505747694,"answer_id":46282804,"question_id":46269855,"body_markdown":"Forget about wrapping your exception - you can utilize the &quot;sneaky throws&#39; hack here which enables you to trick the compiler to think that your exception is not checked - this exploits the type inference rule introduced in Java 8.\r\n\r\nLet&#39;s recreate your problem:\r\n\r\n    public Integer toInteger(String string) throws IOException {\r\n        throw new IOException(&quot;whoopsie!&quot;);\r\n    }\r\n\r\n    Stream.of(&quot;42&quot;)\r\n      .collect(Collectors.groupingBy(o -&gt; toInteger(o))); // does not compile\r\n\r\nUsually, you&#39;d need to `try-catch` the exception just like you did, but there is a workaround:\r\n\r\n    @Test\r\n    public void example_1() throws Exception {\r\n        Stream.of(&quot;42&quot;)\r\n          .collect(Collectors.groupingBy(unchecked(this::toInteger)));\r\n    }\r\n\r\n    public Integer toInteger(String string) throws IOException {\r\n        throw new IOException(&quot;whoopsie!&quot;);\r\n    }\r\n\r\n    private static &lt;T, R&gt; Function&lt;T, R&gt; unchecked(ThrowingFunction&lt;T, R&gt; f) {\r\n        return t -&gt; {\r\n            try {\r\n                return f.apply(t);\r\n            } catch (Throwable thr) {\r\n                return ThrowingFunction.sneakyThrow(thr);\r\n            }\r\n        };\r\n    }\r\n\r\n    public interface ThrowingFunction&lt;T, R&gt; {\r\n        R apply(T t) throws Throwable;\r\n\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        static &lt;T extends Throwable, R&gt; R sneakyThrow(Throwable t) throws T {\r\n            throw (T) t;\r\n        }\r\n    }\r\n\r\nFirstly, you need to create your own functional interface for representing a function that can throw exceptions. In this case, `ThrowingFunction`.\r\n\r\nThen, you can create a utility method that will repackage your checked lambda into a standard `java.util.function`. In this case, `unchecked()`.\r\n\r\nThe last step is to create a method that sneakily throws an exception. In this case, `sneakyThrow()`.\r\n\r\nActually, I think I will write an article about this.\r\n\r\nEDIT:\r\nI wrote: http://4comprehension.com/sneakily-throwing-exceptions-in-lambda-expressions-in-java/","title":"Java 8 Stream. Throw exception to client method inside lambda expression","body":"<p>Forget about wrapping your exception - you can utilize the \"sneaky throws' hack here which enables you to trick the compiler to think that your exception is not checked - this exploits the type inference rule introduced in Java 8.</p>\n\n<p>Let's recreate your problem:</p>\n\n<pre><code>public Integer toInteger(String string) throws IOException {\n    throw new IOException(\"whoopsie!\");\n}\n\nStream.of(\"42\")\n  .collect(Collectors.groupingBy(o -&gt; toInteger(o))); // does not compile\n</code></pre>\n\n<p>Usually, you'd need to <code>try-catch</code> the exception just like you did, but there is a workaround:</p>\n\n<pre><code>@Test\npublic void example_1() throws Exception {\n    Stream.of(\"42\")\n      .collect(Collectors.groupingBy(unchecked(this::toInteger)));\n}\n\npublic Integer toInteger(String string) throws IOException {\n    throw new IOException(\"whoopsie!\");\n}\n\nprivate static &lt;T, R&gt; Function&lt;T, R&gt; unchecked(ThrowingFunction&lt;T, R&gt; f) {\n    return t -&gt; {\n        try {\n            return f.apply(t);\n        } catch (Throwable thr) {\n            return ThrowingFunction.sneakyThrow(thr);\n        }\n    };\n}\n\npublic interface ThrowingFunction&lt;T, R&gt; {\n    R apply(T t) throws Throwable;\n\n    @SuppressWarnings(\"unchecked\")\n    static &lt;T extends Throwable, R&gt; R sneakyThrow(Throwable t) throws T {\n        throw (T) t;\n    }\n}\n</code></pre>\n\n<p>Firstly, you need to create your own functional interface for representing a function that can throw exceptions. In this case, <code>ThrowingFunction</code>.</p>\n\n<p>Then, you can create a utility method that will repackage your checked lambda into a standard <code>java.util.function</code>. In this case, <code>unchecked()</code>.</p>\n\n<p>The last step is to create a method that sneakily throws an exception. In this case, <code>sneakyThrow()</code>.</p>\n\n<p>Actually, I think I will write an article about this.</p>\n\n<p>EDIT:\nI wrote: <a href=\"http://4comprehension.com/sneakily-throwing-exceptions-in-lambda-expressions-in-java/\" rel=\"nofollow noreferrer\">http://4comprehension.com/sneakily-throwing-exceptions-in-lambda-expressions-in-java/</a></p>\n"}],"owner":{"account_id":2983300,"reputation":550,"user_id":2532791,"display_name":"sercasti"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":895,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1671183608,"creation_date":1505691584,"question_id":46269855,"body_markdown":"I&#39;ve seen a few questions related to this, but I need a clear answer. I do understand the context where lambda expressions run, and the concept of side effects, but I believe there is a workaround I&#39;m not seeing here. \r\n\r\nI need to map a list of personas based on their sex, but the method I use to determine their sex returns a checked exception, which is not something the Collectors.groupingBy likes, at all. \r\n\r\nGetting rid of the checked exception is not an option, and I need to send it up to the client method who invoked my piece of code. I there anything I can do around it?\r\n\r\n\r\n\r\n\r\n\r\n\r\n    public class Example {\r\n\t  public static void main(String[] args) {\r\n\t\tExample example = new Example();\r\n\t\ttry {\r\n\t\t\texample.runExample();\r\n\t\t} catch (MException e) {\r\n\t\t\t//Place where I want to handle the exception\r\n\t\t}\r\n\t  }\r\n\r\n\t  private void runExample() throws MException{\r\n\t\tList&lt;Person&gt; personas = Arrays.asList(new Person(&quot;Sergio&quot;, &quot;234456789&quot;, 35), new Person(&quot;Mariana&quot;, &quot;123456789&quot;, 38));\r\n\t\tMap&lt;String, List&lt;Person&gt;&gt; personsBySex = personas.stream().collect(Collectors.groupingBy(persona -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\treturn getSex(persona.getSSN());\r\n\t\t\t} catch (MException e) {\r\n\t\t\t}\r\n\t\t\treturn null; \r\n            //Compiler forces me to return a value, but I don&#39;t want to return null. \r\n            //I want to throw up the MException to the client method (main)\r\n\t\t}));\r\n\t  }\r\n\r\n\t  private String getSex(String ssn) throws MException {\r\n\t\t// Imagine here is a call to an outside service that would give me the\r\n\t\t// sex based on the SSN, but this service could return an exception as\r\n\t\t// well\r\n\t\tif (ssn.isEmpty())\r\n\t\t\tthrow new MException();\r\n\t\treturn ssn.startsWith(&quot;1&quot;) ? &quot;Female&quot; : &quot;Male&quot;;\r\n\t  }\r\n    }\r\n    \r\n\r\n    class Person {\r\n\t  private String name, ssn;\r\n\t  private Integer age;\r\n\r\n\t  public Person(String name, String ssn, Integer age) {\r\n\t\tthis.name = name;\r\n\t\tthis.ssn = ssn;\r\n\t\tthis.age = age;\r\n\t  }\r\n\r\n\t  public String getName() {return name;}\r\n\t  public String getSSN() {return ssn;}\r\n\t  public Integer getAge() {return age;}\r\n    }\r\n\r\n    class MException extends Exception {\r\n    }\r\n\r\n\r\nThanks for any ideas!","title":"Java 8 Stream. Throw exception to client method inside lambda expression","body":"<p>I've seen a few questions related to this, but I need a clear answer. I do understand the context where lambda expressions run, and the concept of side effects, but I believe there is a workaround I'm not seeing here.</p>\n<p>I need to map a list of personas based on their sex, but the method I use to determine their sex returns a checked exception, which is not something the Collectors.groupingBy likes, at all.</p>\n<p>Getting rid of the checked exception is not an option, and I need to send it up to the client method who invoked my piece of code. I there anything I can do around it?</p>\n<pre><code>public class Example {\n  public static void main(String[] args) {\n    Example example = new Example();\n    try {\n        example.runExample();\n    } catch (MException e) {\n        //Place where I want to handle the exception\n    }\n  }\n\n  private void runExample() throws MException{\n    List&lt;Person&gt; personas = Arrays.asList(new Person(&quot;Sergio&quot;, &quot;234456789&quot;, 35), new Person(&quot;Mariana&quot;, &quot;123456789&quot;, 38));\n    Map&lt;String, List&lt;Person&gt;&gt; personsBySex = personas.stream().collect(Collectors.groupingBy(persona -&gt; {\n        try {\n            return getSex(persona.getSSN());\n        } catch (MException e) {\n        }\n        return null; \n        //Compiler forces me to return a value, but I don't want to return null. \n        //I want to throw up the MException to the client method (main)\n    }));\n  }\n\n  private String getSex(String ssn) throws MException {\n    // Imagine here is a call to an outside service that would give me the\n    // sex based on the SSN, but this service could return an exception as\n    // well\n    if (ssn.isEmpty())\n        throw new MException();\n    return ssn.startsWith(&quot;1&quot;) ? &quot;Female&quot; : &quot;Male&quot;;\n  }\n}\n\n\nclass Person {\n  private String name, ssn;\n  private Integer age;\n\n  public Person(String name, String ssn, Integer age) {\n    this.name = name;\n    this.ssn = ssn;\n    this.age = age;\n  }\n\n  public String getName() {return name;}\n  public String getSSN() {return ssn;}\n  public Integer getAge() {return age;}\n}\n\nclass MException extends Exception {\n}\n</code></pre>\n<p>Thanks for any ideas!</p>\n"},{"tags":["java","spring-data-jpa","compare"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1671183391,"post_id":74822505,"comment_id":132048600,"body_markdown":"If you are using Hibernate, read this: https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#events","body":"If you are using Hibernate, read this: <a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#events\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/current/userguide/html_single/&hellip;</a>"}],"owner":{"account_id":16063162,"reputation":111,"user_id":11593509,"display_name":"Sunfile"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671183451,"creation_date":1671182828,"question_id":74822505,"body_markdown":"I&#39;m using my Spring boot service, to check an entity. If the entity has a attachmentID filled, the service will retrieve the attachment and return that one. If there is no attachmentID set, the service will call a function to generate the attachment, update the entity and return the attachment. \r\n\r\nWhen updating the entity, I want to reset the approval status and delete the attachment, because the attachment needs to be regenerated after any change. \r\n\r\nIn order for this to work properly, I want to check what is being updatet on the entity. If the attachmentID is set, than I clearly don&#39;t want it to be removed. If anything else is updatet, I want to set the attachmentID to: 0. \r\n\r\nWhat is best practice to do this? I&#39;ve found topics about the JPA beforeUpdate functions. However, in that functions I can&#39;t compare before and after. I&#39;ve tried cloning the entity as shown in my code, but than the change is already made to the original entity. Any advice would be great.\r\n\r\n        public PDFDocument getDocumentPreview(Long id) {\r\n        FD fD = fDRepository.findById(id).orElse(null);\r\n        //Check if exists\r\n\r\n        //Check if attachmentId is already set, if not, than generate pdf\r\n        if (fD.getAttachmentId() != 0) {\r\n                return getPDFById(fD.getAttachmentId());\r\n        } else {\r\n        \t//Generate PDF\r\n            Long returnedPDFId = pdfGeneratorService.generatePDF(fD,0L,false);\r\n\r\n            //Set returned ID on financialDocument\r\n            fD.setAttachmentId(returnedPDFId);\r\n\r\n            // update document with correct attachmentId\r\n            updateFD(id, fD);\r\n\r\n\t\t\treturn getPDFById(returnedPDFId);\r\n        }\r\n    }\r\n    \r\n    \r\n    public FD updateFD(Long id, FD fD) {\r\n        FD fDCurrent = fDRepository.findById(id).orElse(null);\r\n \t\t//Check if exists\r\n\r\n\t\t//Check what&#39;s being updatet\r\n        FD clone = (FD) SerializationUtils.clone(fDCurrent);\r\n\r\n        //TODO if there is a change in anything but updating the attachment, than remove the attachment\r\n\r\n        if (!(clone.equals(fD))) {\r\n            System.out.println(&quot;Not the same!&quot;);\r\n            if(!Objects.equals(clone.getAttachmentId(),fD.getAttachmentId())) {\r\n                System.out.println(&quot;Attachment PDF is being updatet&quot;);\r\n            } else {\r\n                System.out.println(&quot;Attachment PDF stays the same!&quot;);\r\n            \r\n            \t//If document is approved, than reset that approval\r\n        \t\tif (fD.getIsApproved() == true) {\r\n            \t\tfD.setIsApproved(false);\r\n        \t\t}\r\n            }\r\n        } else \r\n            System.out.println(&quot;objects are equal&quot;);\r\n        }\r\n\r\n\t\t//Update \r\n        return fDRepository.save(fD);\r\n    }","title":"JPA compare fields before update","body":"<p>I'm using my Spring boot service, to check an entity. If the entity has a attachmentID filled, the service will retrieve the attachment and return that one. If there is no attachmentID set, the service will call a function to generate the attachment, update the entity and return the attachment.</p>\n<p>When updating the entity, I want to reset the approval status and delete the attachment, because the attachment needs to be regenerated after any change.</p>\n<p>In order for this to work properly, I want to check what is being updatet on the entity. If the attachmentID is set, than I clearly don't want it to be removed. If anything else is updatet, I want to set the attachmentID to: 0.</p>\n<p>What is best practice to do this? I've found topics about the JPA beforeUpdate functions. However, in that functions I can't compare before and after. I've tried cloning the entity as shown in my code, but than the change is already made to the original entity. Any advice would be great.</p>\n<pre><code>    public PDFDocument getDocumentPreview(Long id) {\n    FD fD = fDRepository.findById(id).orElse(null);\n    //Check if exists\n\n    //Check if attachmentId is already set, if not, than generate pdf\n    if (fD.getAttachmentId() != 0) {\n            return getPDFById(fD.getAttachmentId());\n    } else {\n        //Generate PDF\n        Long returnedPDFId = pdfGeneratorService.generatePDF(fD,0L,false);\n\n        //Set returned ID on financialDocument\n        fD.setAttachmentId(returnedPDFId);\n\n        // update document with correct attachmentId\n        updateFD(id, fD);\n\n        return getPDFById(returnedPDFId);\n    }\n}\n\n\npublic FD updateFD(Long id, FD fD) {\n    FD fDCurrent = fDRepository.findById(id).orElse(null);\n    //Check if exists\n\n    //Check what's being updatet\n    FD clone = (FD) SerializationUtils.clone(fDCurrent);\n\n    //TODO if there is a change in anything but updating the attachment, than remove the attachment\n\n    if (!(clone.equals(fD))) {\n        System.out.println(&quot;Not the same!&quot;);\n        if(!Objects.equals(clone.getAttachmentId(),fD.getAttachmentId())) {\n            System.out.println(&quot;Attachment PDF is being updatet&quot;);\n        } else {\n            System.out.println(&quot;Attachment PDF stays the same!&quot;);\n        \n            //If document is approved, than reset that approval\n            if (fD.getIsApproved() == true) {\n                fD.setIsApproved(false);\n            }\n        }\n    } else \n        System.out.println(&quot;objects are equal&quot;);\n    }\n\n    //Update \n    return fDRepository.save(fD);\n}\n</code></pre>\n"},{"tags":["java","android","reactjs","react-native"],"answers":[{"tags":[],"owner":{"account_id":7613230,"reputation":200,"user_id":5773498,"accept_rate":92,"display_name":"Flippy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671183312,"creation_date":1671183312,"answer_id":74822581,"question_id":74740686,"body_markdown":"Because ```TextureView``` cannot accept any child components, to display a button on top of the ```TextureView``` it is necessary to use the ```position: &#39;absolute&#39;``` style property.","title":"&quot;TextureView cannot be cast to ViewGroup&quot; due to Child Component","body":"<p>Because <code>TextureView</code> cannot accept any child components, to display a button on top of the <code>TextureView</code> it is necessary to use the <code>position: 'absolute'</code> style property.</p>\n"}],"owner":{"account_id":7613230,"reputation":200,"user_id":5773498,"accept_rate":92,"display_name":"Flippy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74822581,"answer_count":1,"score":1,"last_activity_date":1671183312,"creation_date":1670575563,"question_id":74740686,"body_markdown":"Within my React Native Android app I create a custom Camera View component within Java by creating a ```SimpleViewManager&lt;TextureView&gt;``` class\r\n```\r\npublic class CameraView extends SimpleViewManager&lt;TextureView&gt;{\r\n   @Override\r\n   public TextureView createViewInstance(ThemedReactContext context) {\r\n     textureView.setSurfaceTextureListener(textureListener);\r\n     return textureView;\r\n   }\r\n   // further listener functions to handle my workflow\r\n}\r\n```\r\nMy CameraManagerPackage.java looks like the following\r\n```\r\npublic class CameraManagerPackage implements ReactPackage {\r\n   @NonNull\r\n   @Override\r\n   public List&lt;NativeModule&gt; createNativeModules(@NonNull ReactApplicationContext reactContext){\r\n      List&lt;NativeModule&gt; nativeModules = new ArrayList&lt;&gt;();\r\n      return nativeModules;\r\n   }\r\n\r\n   @Override\r\n   public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {\r\n      return Arrays.&lt;ViewManager&gt;asList(\r\n         new CameraView(reactContext)\r\n      );\r\n   }\r\n}\r\n```\r\nThen I create my ```CameraView``` within a separate ```.js``` using ```requireNativeComponent(&#39;CameraView&#39;, CameraManagerPackage , {});``` and using the render to set my ```CameraView```\r\n```\r\nclass CameraManagerPackage extends React.PureComponent&lt;Props&gt;{\r\n...\r\n   render() {\r\n      return &lt;CameraView {...this.props}&gt;&lt;/CameraView&gt;\r\n   }\r\n}\r\nexport default CameraManagerPackage ;\r\n```\r\nAnd within my main component I finially use my ```CameraView``` by importing it ```import CameraView from &#39;./CameraView.js&#39;;``` and including it into my render function\r\n```\r\n...\r\n   render() {\r\n      return &lt;CameraView style={styles.cameraView}&gt;\r\n         &lt;Text = style{styles.text}&gt;test&lt;/Text&gt;\r\n      &lt;/CameraView&gt;\r\n   }\r\n}\r\n```\r\nMy problem is that I cannot use the ```&lt;Text ...&gt;``` line because it seems my CameraView/android.view.TextureView does not accept children components, without  this line the CameraView displays my camera output as expected. Using the ```&lt;Text ...&gt;``` creates the following error message:\r\n```\r\nandroid.view.TextureView cannot be cast to android.view.ViewGroup\r\n```\r\nDo I have to modify my ```TextureView``` to accept children components/is it possible to create a simple ```ViewGroup``` that fulfills my needs so I can add children components within react native?\r\n\r\n**EDIT1:**\r\nI renamed my ```CameraView.java``` to ```CameraViewManager.java``` (+ also the contructor and within ```CameraManagerPackage.java``` the line ```new CameraViewManager(reactContext)```). But I still leave\r\n```\r\npublic static final String REACT_CLASS = &quot;CameraView&quot;;\r\npublic static final String ComponentTag= &quot;CameraView&quot;;\r\n```\r\nMy ```CameraView.js``` is now called ```NativeCamera.js``` and the contents are now only\r\n```\r\nimport { requireNativeComponent } from &quot;react-native&quot;;\r\nmodule.exports = requireNativeComponent(&quot;NativeCamera&quot;);\r\n```\r\nWithin my ```Main.js``` I import my custom component with \r\n```\r\nimport NativeCamera from &#39;./NativeCamera.js&#39;;\r\n...\r\nrender() {\r\n   return(\r\n      &lt;NativeCamera style={styles.cameraStyle}&gt;\r\n         &lt;Text&gt;&lt;/Text&gt; // empty &lt;View&gt;&lt;/View&gt; works here, but also throws the same error when setting style\r\n      &lt;/NativeCamera&gt;\r\n   )\r\n}\r\n```\r\nAll adaptions are according to this example: &lt;https://blog.logrocket.com/build-native-ui-components-react-native/&gt;. But it is still not working and I get this error:","title":"&quot;TextureView cannot be cast to ViewGroup&quot; due to Child Component","body":"<p>Within my React Native Android app I create a custom Camera View component within Java by creating a <code>SimpleViewManager&lt;TextureView&gt;</code> class</p>\n<pre><code>public class CameraView extends SimpleViewManager&lt;TextureView&gt;{\n   @Override\n   public TextureView createViewInstance(ThemedReactContext context) {\n     textureView.setSurfaceTextureListener(textureListener);\n     return textureView;\n   }\n   // further listener functions to handle my workflow\n}\n</code></pre>\n<p>My CameraManagerPackage.java looks like the following</p>\n<pre><code>public class CameraManagerPackage implements ReactPackage {\n   @NonNull\n   @Override\n   public List&lt;NativeModule&gt; createNativeModules(@NonNull ReactApplicationContext reactContext){\n      List&lt;NativeModule&gt; nativeModules = new ArrayList&lt;&gt;();\n      return nativeModules;\n   }\n\n   @Override\n   public List&lt;ViewManager&gt; createViewManagers(ReactApplicationContext reactContext) {\n      return Arrays.&lt;ViewManager&gt;asList(\n         new CameraView(reactContext)\n      );\n   }\n}\n</code></pre>\n<p>Then I create my <code>CameraView</code> within a separate <code>.js</code> using <code>requireNativeComponent('CameraView', CameraManagerPackage , {});</code> and using the render to set my <code>CameraView</code></p>\n<pre><code>class CameraManagerPackage extends React.PureComponent&lt;Props&gt;{\n...\n   render() {\n      return &lt;CameraView {...this.props}&gt;&lt;/CameraView&gt;\n   }\n}\nexport default CameraManagerPackage ;\n</code></pre>\n<p>And within my main component I finially use my <code>CameraView</code> by importing it <code>import CameraView from './CameraView.js';</code> and including it into my render function</p>\n<pre><code>...\n   render() {\n      return &lt;CameraView style={styles.cameraView}&gt;\n         &lt;Text = style{styles.text}&gt;test&lt;/Text&gt;\n      &lt;/CameraView&gt;\n   }\n}\n</code></pre>\n<p>My problem is that I cannot use the <code>&lt;Text ...&gt;</code> line because it seems my CameraView/android.view.TextureView does not accept children components, without  this line the CameraView displays my camera output as expected. Using the <code>&lt;Text ...&gt;</code> creates the following error message:</p>\n<pre><code>android.view.TextureView cannot be cast to android.view.ViewGroup\n</code></pre>\n<p>Do I have to modify my <code>TextureView</code> to accept children components/is it possible to create a simple <code>ViewGroup</code> that fulfills my needs so I can add children components within react native?</p>\n<p><strong>EDIT1:</strong>\nI renamed my <code>CameraView.java</code> to <code>CameraViewManager.java</code> (+ also the contructor and within <code>CameraManagerPackage.java</code> the line <code>new CameraViewManager(reactContext)</code>). But I still leave</p>\n<pre><code>public static final String REACT_CLASS = &quot;CameraView&quot;;\npublic static final String ComponentTag= &quot;CameraView&quot;;\n</code></pre>\n<p>My <code>CameraView.js</code> is now called <code>NativeCamera.js</code> and the contents are now only</p>\n<pre><code>import { requireNativeComponent } from &quot;react-native&quot;;\nmodule.exports = requireNativeComponent(&quot;NativeCamera&quot;);\n</code></pre>\n<p>Within my <code>Main.js</code> I import my custom component with</p>\n<pre><code>import NativeCamera from './NativeCamera.js';\n...\nrender() {\n   return(\n      &lt;NativeCamera style={styles.cameraStyle}&gt;\n         &lt;Text&gt;&lt;/Text&gt; // empty &lt;View&gt;&lt;/View&gt; works here, but also throws the same error when setting style\n      &lt;/NativeCamera&gt;\n   )\n}\n</code></pre>\n<p>All adaptions are according to this example: <a href=\"https://blog.logrocket.com/build-native-ui-components-react-native/\" rel=\"nofollow noreferrer\">https://blog.logrocket.com/build-native-ui-components-react-native/</a>. But it is still not working and I get this error:</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1465034220,"post_id":37628789,"comment_id":62739592,"body_markdown":"What gives you that error? Eclipse shouldn&#39;t do that for the &quot;ams&quot; project.","body":"What gives you that error? Eclipse shouldn&#39;t do that for the &quot;ams&quot; project."},{"owner":{"account_id":8572097,"reputation":65,"user_id":6422600,"display_name":"Vishnu K"},"score":0,"creation_date":1465035550,"post_id":37628789,"comment_id":62739963,"body_markdown":"I dint get you..can you come once again","body":"I dint get you..can you come once again"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1465036787,"post_id":37628789,"comment_id":62740285,"body_markdown":"Is it really eclipse showing this error (like http://i.stack.imgur.com/iXWuq.png for example) or some external tool? And is it really the &quot;ams&quot; project that gives you that error? Eclipse shouldn&#39;t give you that error because the &quot;Source compatibility: 1.8&quot; option is exactly what controls this. You could try if cleaning the project gets rid of the problem (&quot;Project &gt; Clean...&quot; in the menu).","body":"Is it really eclipse showing this error (like <a href=\"http://i.stack.imgur.com/iXWuq.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/iXWuq.png</a> for example) or some external tool? And is it really the &quot;ams&quot; project that gives you that error? Eclipse shouldn&#39;t give you that error because the &quot;Source compatibility: 1.8&quot; option is exactly what controls this. You could try if cleaning the project gets rid of the problem (&quot;Project &gt; Clean...&quot; in the menu)."},{"owner":{"account_id":8572097,"reputation":65,"user_id":6422600,"display_name":"Vishnu K"},"score":0,"creation_date":1465050674,"post_id":37628789,"comment_id":62744473,"body_markdown":"Yes exactly as you shared the pic similar way i am getting the error through eclipse","body":"Yes exactly as you shared the pic similar way i am getting the error through eclipse"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":0,"creation_date":1465051292,"post_id":37628789,"comment_id":62744706,"body_markdown":"If cleaning doesn&#39;t help, try setting to down to 1.7, then back up to 1.8.","body":"If cleaning doesn&#39;t help, try setting to down to 1.7, then back up to 1.8."},{"owner":{"account_id":8572097,"reputation":65,"user_id":6422600,"display_name":"Vishnu K"},"score":0,"creation_date":1465051995,"post_id":37628789,"comment_id":62744925,"body_markdown":"cleaning up the project helped me.Thank you for the solution","body":"cleaning up the project helped me.Thank you for the solution"}],"answers":[{"comments":[{"owner":{"account_id":8572097,"reputation":65,"user_id":6422600,"display_name":"Vishnu K"},"score":0,"creation_date":1465050754,"post_id":37629079,"comment_id":62744498,"body_markdown":"Yup i have done.and i have the jre system librart 1.8 in it.","body":"Yup i have done.and i have the jre system librart 1.8 in it."}],"tags":[],"owner":{"account_id":4066076,"reputation":2498,"user_id":3340968,"accept_rate":43,"display_name":"Yasir Shabbir Choudhary"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1465035968,"creation_date":1465035968,"answer_id":37629079,"question_id":37628789,"body_markdown":"You also nend to set your Java Build path in your project.\r\n[![You also nend to set your Java Build path][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/JtTFA.png","title":"Lambda are allowed at source level only 1.8 or above","body":"<p>You also nend to set your Java Build path in your project.\n<a href=\"https://i.stack.imgur.com/JtTFA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JtTFA.png\" alt=\"You also nend to set your Java Build path\"></a></p>\n"}],"owner":{"account_id":8572097,"reputation":65,"user_id":6422600,"display_name":"Vishnu K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8734,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1671182905,"creation_date":1465033824,"question_id":37628789,"body_markdown":"I have Eclipse version 1.8 (mars .2 version) and I have compliance-java level set to 1.8 as shown below.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dPZY8.png\r\n\r\nbut I am still getting error: &quot;Lambda are allowed at source level only 1.8 or above&quot;.","title":"Lambda are allowed at source level only 1.8 or above","body":"<p>I have Eclipse version 1.8 (mars .2 version) and I have compliance-java level set to 1.8 as shown below.</p>\n<p><img src=\"https://i.stack.imgur.com/dPZY8.png\" alt=\"enter image description here\" /></p>\n<p>but I am still getting error: &quot;Lambda are allowed at source level only 1.8 or above&quot;.</p>\n"},{"tags":["java","database","spring","ibatis","mybatis"],"answers":[{"comments":[{"owner":{"account_id":1841858,"reputation":193,"user_id":1671106,"accept_rate":25,"display_name":"user1671106"},"score":0,"creation_date":1357722753,"post_id":14223776,"comment_id":19743408,"body_markdown":"thanks for your response but don&#39;t work. Maybe there may be some problem in libraries:","body":"thanks for your response but don&#39;t work. Maybe there may be some problem in libraries:"}],"tags":[],"owner":{"account_id":2219624,"reputation":11,"user_id":1959366,"display_name":"user1959366"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357678306,"creation_date":1357678306,"answer_id":14223776,"question_id":14219558,"body_markdown":"I&#39;m using mybatis the same way as you. Your code looks fine. Even I&#39;m not sure if there is a problem with type mappings. Try two following tips to fix your problem:\r\n\r\n1. change java type to mybtis aliases\r\na) &quot;java.lang.Long&quot; -&gt; &quot;long&quot;, b) &quot;com.aieap.model.Comuni&quot; -&gt; &quot;comuni&quot;\r\n\r\n2. try to add alias instead of XML mapping\r\n@org.apache.ibatis.type.Alias(&quot;comuni&quot;) to com.aieap.model.Comuni, remove xml typeAlias, add spring configuration to your org.mybatis.spring.SqlSessionFactoryBean: &lt;property name=&quot;typeAliasesPackage&quot; value=&quot;com.aieap.model&quot; /&gt;\r\n\r\nGood luck,\r\nMartin","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>I'm using mybatis the same way as you. Your code looks fine. Even I'm not sure if there is a problem with type mappings. Try two following tips to fix your problem:</p>\n\n<ol>\n<li><p>change java type to mybtis aliases\na) \"java.lang.Long\" -> \"long\", b) \"com.aieap.model.Comuni\" -> \"comuni\"</p></li>\n<li><p>try to add alias instead of XML mapping\n@org.apache.ibatis.type.Alias(\"comuni\") to com.aieap.model.Comuni, remove xml typeAlias, add spring configuration to your org.mybatis.spring.SqlSessionFactoryBean: </p></li>\n</ol>\n\n<p>Good luck,\nMartin</p>\n"},{"comments":[{"owner":{"account_id":3541863,"reputation":626,"user_id":2958717,"display_name":"doctorgu"},"score":0,"creation_date":1645166537,"post_id":15832071,"comment_id":125803558,"body_markdown":"In my case, config was set to application.yml as `mybatis:` `mapper-locations: classpath*:sql/oracle/*.xml` and real location was without sql folder. So I created sql folder and moved oracle folder into it.","body":"In my case, config was set to application.yml as <code>mybatis:</code> <code>mapper-locations: classpath*:sql&#47;oracle&#47;*.xml</code> and real location was without sql folder. So I created sql folder and moved oracle folder into it."}],"tags":[],"owner":{"account_id":1822717,"reputation":1852,"user_id":1656369,"display_name":"Oibaf it"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1536598729,"creation_date":1365159310,"answer_id":15832071,"question_id":14219558,"body_markdown":"Hi this problem usually is connected to mapper locations.\r\nSo try to set the mapperLocation property in your [SqlSessionFactory](http://www.mybatis.org/spring/factorybean.html) bean:\r\n\r\n\r\n    &lt;property name=&quot;mapperLocations&quot; \r\n    value=&quot;classpath*:pathWhereYouHaveMapper/*Mapper.xml&quot; /&gt; \r\n\r\nHope it help!\r\n","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>Hi this problem usually is connected to mapper locations.\nSo try to set the mapperLocation property in your <a href=\"http://www.mybatis.org/spring/factorybean.html\" rel=\"noreferrer\">SqlSessionFactory</a> bean:</p>\n\n<pre><code>&lt;property name=\"mapperLocations\" \nvalue=\"classpath*:pathWhereYouHaveMapper/*Mapper.xml\" /&gt; \n</code></pre>\n\n<p>Hope it help!</p>\n"},{"comments":[{"owner":{"account_id":244653,"reputation":364,"user_id":1478933,"accept_rate":83,"display_name":"Austin Haws"},"score":2,"creation_date":1419263831,"post_id":19160412,"comment_id":43634277,"body_markdown":"In my case, i was selecting a string and putting it in to date object. mismatched result types. changed to selecting a string in to a string field and error resolved.","body":"In my case, i was selecting a string and putting it in to date object. mismatched result types. changed to selecting a string in to a string field and error resolved."},{"owner":{"account_id":3080106,"reputation":546,"user_id":2608529,"display_name":"mahesh nanayakkara"},"score":0,"creation_date":1432307213,"post_id":19160412,"comment_id":48887848,"body_markdown":"Yeah it happens. We expect it to fall back to ToString() but it won&#39;t trigger.","body":"Yeah it happens. We expect it to fall back to ToString() but it won&#39;t trigger."},{"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"score":3,"creation_date":1488438950,"post_id":19160412,"comment_id":72233188,"body_markdown":"`java.lang.IllegalArgumentException: Mapped Statements collection does not contain value for com.ct...`  I have hitted this issue before.  It means that mapped statements collection that is from the `*ModelMapper.xml` file does not contain the method defined in your `*ModelMapper.java` file. \n\nIn my case, sometimes it is caused by the mismatch between the naming of t he xml file&amp; the java file.","body":"<code>java.lang.IllegalArgumentException: Mapped Statements collection does not contain value for com.ct...</code>  I have hitted this issue before.  It means that mapped statements collection that is from the <code>*ModelMapper.xml</code> file does not contain the method defined in your <code>*ModelMapper.java</code> file.   In my case, sometimes it is caused by the mismatch between the naming of t he xml file&amp; the java file."},{"owner":{"account_id":14365136,"reputation":890,"user_id":10376405,"display_name":"Paul"},"score":1,"creation_date":1685707331,"post_id":19160412,"comment_id":134702353,"body_markdown":"I ran into this issue and upvoted this answer in 2020 already. Now, in another legacy project, I ran into the opposite error stating that &quot;mapped statements collections already contains ...&quot; For the love of everlasting ****, I cannot stress enough the fact that when you&#39;re allowing Spring to autoconfigure USE THE SAME NAMES.","body":"I ran into this issue and upvoted this answer in 2020 already. Now, in another legacy project, I ran into the opposite error stating that &quot;mapped statements collections already contains ...&quot; For the love of everlasting ****, I cannot stress enough the fact that when you&#39;re allowing Spring to autoconfigure USE THE SAME NAMES."}],"tags":[],"owner":{"account_id":3080106,"reputation":546,"user_id":2608529,"display_name":"mahesh nanayakkara"},"comment_count":4,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1395673266,"creation_date":1380806681,"answer_id":19160412,"question_id":14219558,"body_markdown":"**There can be several reasons...!**\r\n\r\n+ -&gt; SQL Syntax (maybe a single small query has an extra &quot;,&quot; at the end of the select) \r\n    \r\n+ -&gt; Classpath issues ,cannot resolve jar dependencies\r\n\r\n+ -&gt; Also this can coming due an file encoding issue or illegal xml characters embed in your &#39;*Mapper.xml&#39; file. (so watch out for your editor..!)\r\n\r\n**most importantly you should use same names for.**\r\n\r\n- interface = xxx.yyy.mappers.SettingMapper.class \r\n- mapper file = /xxx/yyy/mappers/SettingMapper.xml \r\n- mapper namespace = xxx.yyy.mappers.SettingMapper ","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p><strong>There can be several reasons...!</strong></p>\n\n<ul>\n<li><p>-> SQL Syntax (maybe a single small query has an extra \",\" at the end of the select) </p></li>\n<li><p>-> Classpath issues ,cannot resolve jar dependencies</p></li>\n<li><p>-> Also this can coming due an file encoding issue or illegal xml characters embed in your '*Mapper.xml' file. (so watch out for your editor..!)</p></li>\n</ul>\n\n<p><strong>most importantly you should use same names for.</strong></p>\n\n<ul>\n<li>interface = xxx.yyy.mappers.SettingMapper.class </li>\n<li>mapper file = /xxx/yyy/mappers/SettingMapper.xml </li>\n<li>mapper namespace = xxx.yyy.mappers.SettingMapper </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":316230,"reputation":4519,"user_id":632293,"display_name":"jediz"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1382346063,"creation_date":1382346063,"answer_id":19490150,"question_id":14219558,"body_markdown":"This usually means mybatis can&#39;t find the mapping you refer to. Perhaps you forgot to add the *Mapper.xml file to **mybatis-config.xml** (which is a standard config file for MyBatis)\r\n\r\n    &lt;mappers&gt;\r\n      &lt;mapper resource=&quot;org/mybatis/builder/AuthorMapper.xml&quot;/&gt;\r\n    &lt;/mappers&gt;\r\n\r\nSee more in documentation [http://mybatis.github.io/mybatis-3/configuration.html#mappers][1]\r\n\r\n\r\n  [1]: http://mybatis.github.io/mybatis-3/configuration.html#mappers","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>This usually means mybatis can't find the mapping you refer to. Perhaps you forgot to add the *Mapper.xml file to <strong>mybatis-config.xml</strong> (which is a standard config file for MyBatis)</p>\n\n<pre><code>&lt;mappers&gt;\n  &lt;mapper resource=\"org/mybatis/builder/AuthorMapper.xml\"/&gt;\n&lt;/mappers&gt;\n</code></pre>\n\n<p>See more in documentation <a href=\"http://mybatis.github.io/mybatis-3/configuration.html#mappers\" rel=\"noreferrer\">http://mybatis.github.io/mybatis-3/configuration.html#mappers</a></p>\n"},{"comments":[{"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"score":1,"creation_date":1470822872,"post_id":30131858,"comment_id":65102124,"body_markdown":"Also `parameterType` and `resultType` must match exactly after the refactoring.","body":"Also <code>parameterType</code> and <code>resultType</code> must match exactly after the refactoring."}],"tags":[],"owner":{"account_id":348200,"reputation":1985,"user_id":682755,"display_name":"Vins"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431114824,"creation_date":1431114824,"answer_id":30131858,"question_id":14219558,"body_markdown":"In My case what happened is there were was a **TYPO in my method name** in the mapping xml file.\r\n When I have changed the DAO name, I forgot to change in the xml, it may help someone else.","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>In My case what happened is there were was a <strong>TYPO in my method name</strong> in the mapping xml file.\n When I have changed the DAO name, I forgot to change in the xml, it may help someone else.</p>\n"},{"tags":[],"owner":{"account_id":3343750,"reputation":323,"user_id":2809353,"display_name":"okin2014"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1435456550,"creation_date":1435456550,"answer_id":31095411,"question_id":14219558,"body_markdown":"Duplicated `id` in mapper.xml also throws such exception.\r\nHope this helps.","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>Duplicated <code>id</code> in mapper.xml also throws such exception.\nHope this helps.</p>\n"},{"tags":[],"owner":{"account_id":1175503,"reputation":169,"user_id":1151625,"display_name":"normalUser"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445690887,"creation_date":1445690887,"answer_id":33318387,"question_id":14219558,"body_markdown":"I had similar problem. Then I found that all requests who has the query mappings defined on that mapper.xml having same error. \r\n\r\nMay be this is because of improper build of WAR or improper deployment to server.\r\nAnyway, I deleted that WAR file and re-deployed again and it worked!","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>I had similar problem. Then I found that all requests who has the query mappings defined on that mapper.xml having same error. </p>\n\n<p>May be this is because of improper build of WAR or improper deployment to server.\nAnyway, I deleted that WAR file and re-deployed again and it worked!</p>\n"},{"tags":[],"owner":{"account_id":3612864,"reputation":2091,"user_id":3013473,"accept_rate":56,"display_name":"zafar142003"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451219023,"creation_date":1451219023,"answer_id":34480345,"question_id":14219558,"body_markdown":"I came across this exception too. In my case the mapper xml file was present in a JAR included in the classpath, but somehow it could not be found by the MapperScannerConfigurer. I came to know of this by reading the logs. You should read the logs and check the line of the following format to know whether there are any mappers being found. I had to give the root path to it, after which it found my mapper. \r\n\r\n    PathMatchingResourcePatternResolver:423 - Resolved location pattern [classpath*:*.xml] to resources [URL [jar:file:/home/user/src/tomcat8/webapps/example/WEB-INF/lib/ExampleDao-1.0.0-SNAPSHOT.jar!/TestMapper.xml]]\r\n\r\n\r\n","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>I came across this exception too. In my case the mapper xml file was present in a JAR included in the classpath, but somehow it could not be found by the MapperScannerConfigurer. I came to know of this by reading the logs. You should read the logs and check the line of the following format to know whether there are any mappers being found. I had to give the root path to it, after which it found my mapper. </p>\n\n<pre><code>PathMatchingResourcePatternResolver:423 - Resolved location pattern [classpath*:*.xml] to resources [URL [jar:file:/home/user/src/tomcat8/webapps/example/WEB-INF/lib/ExampleDao-1.0.0-SNAPSHOT.jar!/TestMapper.xml]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480606754,"creation_date":1456206472,"answer_id":35569806,"question_id":14219558,"body_markdown":"Adding to the other answers, you also have to\r\n\r\n&gt;**Check for duplicate method names**\r\n\r\nThis error comes in the log at last.\r\n\r\n    IllegalArgumentException: Mapped Statements collection does not contain value\r\n\r\nIgnore the above message and simply move up your logs and look for the first error message in the logs. The first error I got was, \r\n\r\n    ERROR [main] mapper.MapperFactoryBean (MapperFactoryBean.java:83) - Error while adding the mapper &#39;interface com.xyz.mappers.UserMapper&#39; to configuration.\r\n    java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.xyz.mappers.UserMapper.getAllUserDetails\r\n\r\nThe error clearly points out that, the method `getAllUserDetails` already exists in the `UserMapper` interface(with different number of parameters). Duplicating the method names also throws this error. (The penalty for copy-pasting codes) :P","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>Adding to the other answers, you also have to</p>\n\n<blockquote>\n  <p><strong>Check for duplicate method names</strong></p>\n</blockquote>\n\n<p>This error comes in the log at last.</p>\n\n<pre><code>IllegalArgumentException: Mapped Statements collection does not contain value\n</code></pre>\n\n<p>Ignore the above message and simply move up your logs and look for the first error message in the logs. The first error I got was, </p>\n\n<pre><code>ERROR [main] mapper.MapperFactoryBean (MapperFactoryBean.java:83) - Error while adding the mapper 'interface com.xyz.mappers.UserMapper' to configuration.\njava.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.xyz.mappers.UserMapper.getAllUserDetails\n</code></pre>\n\n<p>The error clearly points out that, the method <code>getAllUserDetails</code> already exists in the <code>UserMapper</code> interface(with different number of parameters). Duplicating the method names also throws this error. (The penalty for copy-pasting codes) :P</p>\n"},{"tags":[],"owner":{"account_id":8092726,"reputation":29,"user_id":6098157,"display_name":"mos wen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458645509,"creation_date":1458644355,"answer_id":36152595,"question_id":14219558,"body_markdown":"I also encountered this problem. In addition to the possibility of the above answer I try to use this way which solve the problem:\r\n   \r\n   The method name should be same in `dao` and `mapper.xml`, in my case method name not is same. So you must be sure that they are the same.\r\n\r\nGood luck!","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>I also encountered this problem. In addition to the possibility of the above answer I try to use this way which solve the problem:</p>\n\n<p>The method name should be same in <code>dao</code> and <code>mapper.xml</code>, in my case method name not is same. So you must be sure that they are the same.</p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":7171938,"reputation":19,"user_id":5479142,"display_name":"Suhas Bhat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537336007,"creation_date":1537336007,"answer_id":52398917,"question_id":14219558,"body_markdown":"Check if you have mapped `mybatis.config` in the properties file. \r\n\r\nadd this line in application.properties file.\r\n\r\n    mybatis.config=classpath:mybatis-config.xml\r\n\r\n","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>Check if you have mapped <code>mybatis.config</code> in the properties file. </p>\n\n<p>add this line in application.properties file.</p>\n\n<pre><code>mybatis.config=classpath:mybatis-config.xml\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15040369,"reputation":909,"user_id":10855224,"display_name":"Woodsman"},"score":0,"creation_date":1568693581,"post_id":55379537,"comment_id":102344890,"body_markdown":"I use the Java object setting:\t\t\t\t\tconfiguration.addMappers(&quot;com.some.package.mapper&quot;);\nHopefully this scans all the mappers in the package, but I&#39;m no longer sure because it only worked when I had one mapper.","body":"I use the Java object setting:\t\t\t\t\tconfiguration.addMappers(&quot;com.some.package.mapp&zwnj;&#8203;er&quot;); Hopefully this scans all the mappers in the package, but I&#39;m no longer sure because it only worked when I had one mapper."}],"tags":[],"owner":{"account_id":5749872,"reputation":2007,"user_id":4539906,"display_name":"Asad Shakeel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566205120,"creation_date":1553696478,"answer_id":55379537,"question_id":14219558,"body_markdown":"you may register your mapper in `mybatis-config.xml` file\r\n\r\n    &lt;configuration&gt;\r\n        &lt;properties resource=&quot;db.dev.properties&quot;&gt;\r\n         ...\r\n        &lt;/properties&gt;\r\n\r\n        &lt;typeHandlers&gt;\r\n            &lt;package name=&quot;com.project.model.typehandlers&quot;/&gt;\r\n        &lt;/typeHandlers&gt;\r\n\r\n        &lt;environments default=&quot;development&quot;&gt;\r\n         ...\r\n        &lt;/environments&gt;\r\n\r\n        &lt;mappers&gt;\r\n          &lt;mapper resource=&quot;com/project/model/xml/SomeMapper.xml&quot;/&gt;\r\n          // other mapper here\r\n        &lt;/mappers&gt;\r\n        ...\r\n    &lt;/configuration&gt;","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>you may register your mapper in <code>mybatis-config.xml</code> file</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;properties resource=\"db.dev.properties\"&gt;\n     ...\n    &lt;/properties&gt;\n\n    &lt;typeHandlers&gt;\n        &lt;package name=\"com.project.model.typehandlers\"/&gt;\n    &lt;/typeHandlers&gt;\n\n    &lt;environments default=\"development\"&gt;\n     ...\n    &lt;/environments&gt;\n\n    &lt;mappers&gt;\n      &lt;mapper resource=\"com/project/model/xml/SomeMapper.xml\"/&gt;\n      // other mapper here\n    &lt;/mappers&gt;\n    ...\n&lt;/configuration&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13088263,"reputation":51,"user_id":9456583,"display_name":"YiPing Chiu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671182787,"creation_date":1671182787,"answer_id":74822497,"question_id":14219558,"body_markdown":"I read an artical saying another possibility - maven build resources issue\r\n\r\nhttps://www.cnblogs.com/javaxubo/p/16608104.html","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>I read an artical saying another possibility - maven build resources issue</p>\n<p><a href=\"https://www.cnblogs.com/javaxubo/p/16608104.html\" rel=\"nofollow noreferrer\">https://www.cnblogs.com/javaxubo/p/16608104.html</a></p>\n"}],"owner":{"account_id":1841858,"reputation":193,"user_id":1671106,"accept_rate":25,"display_name":"user1671106"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87980,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":13,"score":18,"last_activity_date":1671182787,"creation_date":1357662400,"question_id":14219558,"body_markdown":"i have many problem with spring e mybatis. This is my spring configuration:\r\ni have the same configuration and ComuneMapper.java and ComuneMapper.xml stay in the same folders. but i have however this error\r\nSomebody to help meeeee\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans\r\n    \txmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:webflow=&quot;http://www.springframework.org/schema/webflow-config&quot;\r\n    \txmlns:util=&quot;http://www.springframework.org/schema/util&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n    \t\thttp://www.springframework.org/schema/beans/spring-beans-2.5.xsd\r\n    \t\thttp://www.springframework.org/schema/aop\r\n    \t\thttp://www.springframework.org/schema/aop/spring-aop-2.5.xsd\r\n    \t\thttp://www.springframework.org/schema/context\r\n    \t\thttp://www.springframework.org/schema/context/spring-context-2.5.xsd\r\n    \t\thttp://www.springframework.org/schema/webflow-config\r\n    \t\thttp://www.springframework.org/schema/webflow-config/spring-webflow-config-2.0.xsd\r\n    \t\thttp://www.springframework.org/schema/util\r\n    \t\thttp://www.springframework.org/schema/util/spring-util-2.0.xsd\r\n    \t\thttp://www.springframework.org/schema/mvc\r\n    \t\thttp://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;context:annotation-config /&gt; \r\n    \t\r\n    \t&lt;!-- Scans the classpath of this application for @Components to deploy as beans --&gt;\r\n    \t&lt;context:component-scan\r\n    \t\tbase-package=&quot;com.aieap&quot; /&gt;\r\n    \r\n    \t&lt;!-- Configures the @Controller programming model --&gt;\r\n    \t&lt;mvc:annotation-driven /&gt;\r\n    \r\n    \r\n    \t&lt;!-- Configurazione Spring MVC View Resolver --&gt;\r\n    \t&lt;bean\r\n    \t\tid=&quot;viewResolver&quot;\r\n    \t\tclass=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n    \t\t&lt;property\r\n    \t\t\tname=&quot;viewClass&quot;\r\n    \t\t\tvalue=&quot;org.springframework.web.servlet.view.JstlView&quot; /&gt;\r\n    \t\t&lt;property\r\n    \t\t\tname=&quot;prefix&quot;\r\n    \t\t\tvalue=&quot;/jsp/&quot; /&gt;\r\n    \t\t&lt;property\r\n    \t\t\tname=&quot;suffix&quot;\r\n    \t\t\tvalue=&quot;.jsp&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Flow Handler Adapter --&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.webflow.mvc.servlet.FlowHandlerAdapter&quot;&gt;\r\n    \t\t&lt;property\r\n    \t\t\tname=&quot;flowExecutor&quot;\r\n    \t\t\tref=&quot;flowExecutor&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Flow Handler Mapping --&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.springframework.webflow.mvc.servlet.FlowHandlerMapping&quot;&gt;\r\n    \t\t&lt;property\r\n    \t\t\tname=&quot;flowRegistry&quot;\r\n    \t\t\tref=&quot;flowRegistry&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- Flow Executor --&gt;\r\n    \t&lt;webflow:flow-executor\r\n    \t\tid=&quot;flowExecutor&quot; /&gt;\r\n    \r\n    \t&lt;!-- Flow Registry --&gt;\r\n    \t&lt;webflow:flow-registry\r\n    \t\tid=&quot;flowRegistry&quot;\r\n    \t\tflow-builder-services=&quot;flowBuilderServices&quot;&gt;\r\n    \t\t&lt;!-- nonaut --&gt;\r\n    \t\t&lt;webflow:flow-location\r\n    \t\t\tid=&quot;home-nonaut&quot;\r\n    \t\t\tpath=&quot;/WEB-INF/flows/nonaut/home-nonaut.xml&quot; /&gt;\r\n    \t\t&lt;webflow:flow-location\r\n    \t\t\tid=&quot;logout&quot;\r\n    \t\t\tpath=&quot;/WEB-INF/flows/nonaut/logout.xml&quot; /&gt;\r\n    \r\n    \t\t&lt;!-- aut --&gt;\r\n    \t\t&lt;webflow:flow-location\r\n    \t\t\tid=&quot;aut/home-aut&quot;\r\n    \t\t\tpath=&quot;/WEB-INF/flows/aut/home-aut.xml&quot; /&gt;\r\n    \t\t&lt;webflow:flow-location\r\n    \t\t\tid=&quot;aut/nuova-domanda&quot;\r\n    \t\t\tpath=&quot;/WEB-INF/flows/aut/nuova-domanda.xml&quot; /&gt;\r\n    \t\t&lt;webflow:flow-location\r\n    \t\t\tid=&quot;aut/invia-domanda&quot;\r\n    \t\t\tpath=&quot;/WEB-INF/flows/aut/invia-domanda.xml&quot; /&gt;\r\n    \t\t&lt;webflow:flow-location\r\n    \t\t\tid=&quot;aut/nuovo-operatore-rer&quot;\r\n    \t\t\tpath=&quot;/WEB-INF/flows/aut/nuovo-operatore-rer.xml&quot; /&gt;\r\n    \r\n    \t&lt;/webflow:flow-registry&gt;\r\n    \r\n    \t&lt;webflow:flow-builder-services\r\n    \t\tid=&quot;flowBuilderServices&quot;\r\n    \t\tview-factory-creator=&quot;viewFactoryCreator&quot; /&gt;\r\n    \r\n    \t&lt;bean\r\n    \t\tid=&quot;viewFactoryCreator&quot;\r\n    \t\tclass=&quot;org.springframework.webflow.mvc.builder.MvcViewFactoryCreator&quot;&gt;\r\n    \t\t&lt;property\r\n    \t\t\tname=&quot;viewResolvers&quot;&gt;\r\n    \t\t\t&lt;list&gt;\r\n    \t\t\t\t&lt;ref\r\n    \t\t\t\t\tbean=&quot;viewResolver&quot; /&gt;\r\n    \t\t\t&lt;/list&gt;\r\n    \t\t&lt;/property&gt;\r\n    \t\t&lt;property\r\n    \t\t\tname=&quot;useSpringBeanBinding&quot;\r\n    \t\t\tvalue=&quot;true&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;import resource=&quot;jdbc-context.xml&quot; /&gt;\r\n    \r\n    \r\n    &lt;/beans&gt;\r\n\r\njdbc-context.xm:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans\r\n    \txmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:p=&quot;http://www.springframework.org/schema/p&quot;\r\n    \txmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txsi:schemaLocation=&quot;\r\n    \t\t\thttp://www.springframework.org/schema/beans \r\n    \t\t\thttp://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \t\t\thttp://www.springframework.org/schema/tx \r\n    \t\t\thttp://www.springframework.org/schema/tx/spring-tx-3.0.xsd\r\n    \t\t\thttp://www.springframework.org/schema/context\r\n    \t\t\thttp://www.springframework.org/schema/context/spring-context-3.0.xsd\r\n    \t   \t\t&quot;&gt;\r\n    \r\n    \t&lt;context:property-placeholder\r\n    \t\tlocation=&quot;/WEB-INF/db.properties&quot; /&gt;\r\n    \r\n    \t&lt;!-- Enable annotation style of managing transactions --&gt;\r\n    \t&lt;tx:annotation-driven\r\n    \t\ttransaction-manager=&quot;transactionManager&quot; /&gt;\r\n    \r\n    \t&lt;!-- Declare a datasource that has pooling capabilities --&gt;\r\n    \t&lt;bean\r\n    \t\tid=&quot;dataSource&quot;\r\n    \t\tclass=&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;\r\n    \t\tdestroy-method=&quot;close&quot;\r\n    \t\tp:driverClass=&quot;${jdbc.driver}&quot;\r\n    \t\tp:jdbcUrl=&quot;${jdbc.url}&quot;\r\n    \t\tp:user=&quot;${jdbc.username}&quot;\r\n    \t\tp:password=&quot;$jdbc.password}&quot;\r\n    \t\tp:acquireIncrement=&quot;10&quot;\r\n    \t\tp:idleConnectionTestPeriod=&quot;60&quot;\r\n    \t\tp:maxPoolSize=&quot;100&quot;\r\n    \t\tp:maxStatements=&quot;50&quot;\r\n    \t\tp:minPoolSize=&quot;10&quot; /&gt;\r\n    \r\n    \t&lt;!-- Declare a transaction manager --&gt;\r\n    \t&lt;bean\r\n    \t\tid=&quot;transactionManager&quot;\r\n    \t\tclass=&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;\r\n    \t\tp:dataSource-ref=&quot;dataSource&quot; /&gt;\r\n    \r\n    \r\n    \t&lt;!-- define the SqlSessionFactory, notice that configLocation is not needed when you use MapperFactoryBean --&gt;\r\n    \t&lt;bean\r\n    \t\tid=&quot;sqlSessionFactory&quot;\r\n    \t\tclass=&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;&gt;\r\n    \t\t&lt;property\r\n    \t\t\tname=&quot;dataSource&quot;\r\n    \t\t\tref=&quot;dataSource&quot; /&gt;\r\n    \t\t&lt;property\r\n    \t\t\tname=&quot;configLocation&quot;\r\n    \t\t\tvalue=&quot;WEB-INF/mybatis/sqlmap-config.xml&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    \t&lt;!-- scan for mappers and will automatically scan the whole classpath for xmls --&gt;\r\n    \t&lt;bean\r\n    \t\tclass=&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;&gt;\r\n    \t\t&lt;property name=&quot;sqlSessionFactory&quot; ref=&quot;sqlSessionFactory&quot; /&gt;\r\n    \t\t&lt;property name=&quot;basePackage&quot; value=&quot;com.aieap.dao.mapper&quot; /&gt;\r\n    \t&lt;/bean&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\nsqlmap-config.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE configuration\r\n        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;\r\n        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\r\n    \r\n    &lt;configuration&gt;\r\n    \t&lt;settings&gt;\r\n    \t\t&lt;!-- changes from the defaults --&gt;\r\n    \t\t&lt;setting name=&quot;lazyLoadingEnabled&quot; value=&quot;false&quot; /&gt;\r\n    \t&lt;/settings&gt;\r\n    \t&lt;typeAliases&gt;\r\n    \t\t&lt;typeAlias type=&quot;com.aieap.model.Comuni&quot; alias=&quot;comuni&quot;/&gt;\r\n    \t&lt;/typeAliases&gt;\r\n    &lt;/configuration&gt;\r\n\r\n\r\ncontroller:\r\n\r\n\r\n    package com.aieap.web.controller;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.ModelMap;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.apache.log4j.Logger;\r\n    \r\n    import com.aieap.dao.mapper.ComuniMapper;\r\n    import com.aieap.model.Comuni;\r\n    import com.aieap.model.OperatoriRer;\r\n    \r\n    @Controller\r\n    public class OperatoriRerController {\r\n    \t\r\n    \t@Autowired ComuniMapper comuniDao;\r\n    \t\r\n    \t\r\n    \tprivate static final Logger logger = Logger.getLogger(OperatoriRerController.class);\r\n    \t\r\n    \r\n    \r\n    \t @RequestMapping(&quot;/aut/nuovo-operatore-rer&quot;)\r\n    \t    public ModelMap start() {\r\n    \t\r\n    \t\tComuni comuni = comuniDao.selectByPrimaryKey(new Long(1));\r\n    \t\tSystem.out.print(comuni);\r\n    \t\tOperatoriRer op = new OperatoriRer();\r\n    \t\top.setNome(&quot;ciccio&quot;);\r\n    \t\top.setCognome(&quot;cappuccio&quot;);\r\n    \t\tModelMap model = new ModelMap();\r\n    \t\tmodel.addAttribute(&quot;OperatoriRer&quot;,op);\r\n    \t\treturn model;\r\n    \t    }\r\n    \t \r\n    \t \r\n    \t @RequestMapping(&quot;/aut/search-comune&quot;)\r\n    \t    public ModelMap searchcomune() {\r\n    \t\tList&lt;Comuni&gt; comuniList = new ArrayList &lt;Comuni&gt;() ;\t\t\r\n    \t\tModelMap model = new ModelMap();\r\n    \t\tmodel.addAttribute(&quot;ComunuList&quot;,comuniList);\r\n    \t\treturn model;\r\n    \t    }\r\n    }\r\n\r\nthis is the error:\r\n\r\n    GRAVE: Servlet.service() for servlet [dispatch] in context with path [/aieap] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Mapped Statements collection does not contain value for com.aieap.dao.mapper.ComuniMapper.selectByPrimaryKey] with root cause\r\n    java.lang.IllegalArgumentException: Mapped Statements collection does not contain value for com.aieap.dao.mapper.ComuniMapper.selectByPrimaryKey\r\n    \tat org.apache.ibatis.session.Configuration$StrictMap.get(Configuration.java:593)\r\n    \tat org.apache.ibatis.session.Configuration.getMappedStatement(Configuration.java:393)\r\n    \tat org.apache.ibatis.binding.MapperMethod.setupCommandType(MapperMethod.java:160)\r\n    \tat org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:48)\r\n    \tat org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:37)\r\n    \tat $Proxy9.selectByPrimaryKey(Unknown Source)\r\n    \tat com.aieap.web.controller.OperatoriRerController.start(OperatoriRerController.java:29)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:597)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:746)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:687)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:915)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:811)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:796)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:563)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:399)\r\n    \tat org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:317)\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:204)\r\n    \tat org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:182)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:311)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:662)\r\n\r\n\r\n\r\nplease!!! someone help me I&#39;m hopeless!!!!!!!!!!!!!!!\r\n\r\nI had forgotten.\r\nthis is ComuniMapper.java\r\n\r\n    package com.aieap.dao.mapper;\r\n    \r\n    import com.aieap.model.Comuni;\r\n    import com.aieap.model.ComuniExample;\r\n    import java.util.List;\r\n    import org.apache.ibatis.annotations.Param;\r\n    \r\n    public interface ComuniMapper {\r\n \r\n        int countByExample(ComuniExample example);\r\n        int deleteByExample(ComuniExample example);\r\n        int deleteByPrimaryKey(Long idComune);\r\n        int insert(Comuni record);\r\n        int insertSelective(Comuni record);\r\n        List&lt;Comuni&gt; selectByExample(ComuniExample example);\r\n        Comuni selectByPrimaryKey(Long idComune);\r\n    \r\n        /**\r\n         * This method was generated by MyBatis Generator.\r\n         * This method corresponds to the database table comuni\r\n         *\r\n         * @mbggenerated Tue Jan 08 16:52:16 CET 2013\r\n         */\r\n        int updateByExampleSelective(@Param(&quot;record&quot;) Comuni record, @Param(&quot;example&quot;) ComuniExample example);\r\n    \r\n        /**\r\n         * This method was generated by MyBatis Generator.\r\n         * This method corresponds to the database table comuni\r\n         *\r\n         * @mbggenerated Tue Jan 08 16:52:16 CET 2013\r\n         */\r\n        int updateByExample(@Param(&quot;record&quot;) Comuni record, @Param(&quot;example&quot;) ComuniExample example);\r\n    \r\n        /**\r\n         * This method was generated by MyBatis Generator.\r\n         * This method corresponds to the database table comuni\r\n         *\r\n         * @mbggenerated Tue Jan 08 16:52:16 CET 2013\r\n         */\r\n        int updateByPrimaryKeySelective(Comuni record);\r\n    \r\n        /**\r\n         * This method was generated by MyBatis Generator.\r\n         * This method corresponds to the database table comuni\r\n         *\r\n         * @mbggenerated Tue Jan 08 16:52:16 CET 2013\r\n         */\r\n        int updateByPrimaryKey(Comuni record);\r\n    }\r\n\r\nend this ComuniMapper.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\r\n    &lt;mapper namespace=&quot;com.aieap.dao.mapper.ComuniMapper&quot; &gt;\r\n      &lt;resultMap id=&quot;BaseResultMap&quot; type=&quot;com.aieap.model.Comuni&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        &lt;id column=&quot;ID_COMUNE&quot; property=&quot;idComune&quot; jdbcType=&quot;BIGINT&quot; /&gt;\r\n        &lt;result column=&quot;CODICE_ISTAT&quot; property=&quot;codiceIstat&quot; jdbcType=&quot;VARCHAR&quot; /&gt;\r\n        &lt;result column=&quot;DESCRIZIONE&quot; property=&quot;descrizione&quot; jdbcType=&quot;VARCHAR&quot; /&gt;\r\n        &lt;result column=&quot;CAP&quot; property=&quot;cap&quot; jdbcType=&quot;VARCHAR&quot; /&gt;\r\n        &lt;result column=&quot;CODICE_PROVINCIA&quot; property=&quot;codiceProvincia&quot; jdbcType=&quot;BIGINT&quot; /&gt;\r\n        &lt;result column=&quot;COMUNE_SIGLA&quot; property=&quot;comuneSigla&quot; jdbcType=&quot;VARCHAR&quot; /&gt;\r\n        &lt;result column=&quot;COMUNE_CFIS&quot; property=&quot;comuneCfis&quot; jdbcType=&quot;VARCHAR&quot; /&gt;\r\n      &lt;/resultMap&gt;\r\n      &lt;sql id=&quot;Example_Where_Clause&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        &lt;where &gt;\r\n          &lt;foreach collection=&quot;oredCriteria&quot; item=&quot;criteria&quot; separator=&quot;or&quot; &gt;\r\n            &lt;if test=&quot;criteria.valid&quot; &gt;\r\n              &lt;trim prefix=&quot;(&quot; suffix=&quot;)&quot; prefixOverrides=&quot;and&quot; &gt;\r\n                &lt;foreach collection=&quot;criteria.criteria&quot; item=&quot;criterion&quot; &gt;\r\n                  &lt;choose &gt;\r\n                    &lt;when test=&quot;criterion.noValue&quot; &gt;\r\n                      and ${criterion.condition}\r\n                    &lt;/when&gt;\r\n                    &lt;when test=&quot;criterion.singleValue&quot; &gt;\r\n                      and ${criterion.condition} #{criterion.value}\r\n                    &lt;/when&gt;\r\n                    &lt;when test=&quot;criterion.betweenValue&quot; &gt;\r\n                      and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}\r\n                    &lt;/when&gt;\r\n                    &lt;when test=&quot;criterion.listValue&quot; &gt;\r\n                      and ${criterion.condition}\r\n                      &lt;foreach collection=&quot;criterion.value&quot; item=&quot;listItem&quot; open=&quot;(&quot; close=&quot;)&quot; separator=&quot;,&quot; &gt;\r\n                        #{listItem}\r\n                      &lt;/foreach&gt;\r\n                    &lt;/when&gt;\r\n                  &lt;/choose&gt;\r\n                &lt;/foreach&gt;\r\n              &lt;/trim&gt;\r\n            &lt;/if&gt;\r\n          &lt;/foreach&gt;\r\n        &lt;/where&gt;\r\n      &lt;/sql&gt;\r\n      &lt;sql id=&quot;Update_By_Example_Where_Clause&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        &lt;where &gt;\r\n          &lt;foreach collection=&quot;example.oredCriteria&quot; item=&quot;criteria&quot; separator=&quot;or&quot; &gt;\r\n            &lt;if test=&quot;criteria.valid&quot; &gt;\r\n              &lt;trim prefix=&quot;(&quot; suffix=&quot;)&quot; prefixOverrides=&quot;and&quot; &gt;\r\n                &lt;foreach collection=&quot;criteria.criteria&quot; item=&quot;criterion&quot; &gt;\r\n                  &lt;choose &gt;\r\n                    &lt;when test=&quot;criterion.noValue&quot; &gt;\r\n                      and ${criterion.condition}\r\n                    &lt;/when&gt;\r\n                    &lt;when test=&quot;criterion.singleValue&quot; &gt;\r\n                      and ${criterion.condition} #{criterion.value}\r\n                    &lt;/when&gt;\r\n                    &lt;when test=&quot;criterion.betweenValue&quot; &gt;\r\n                      and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}\r\n                    &lt;/when&gt;\r\n                    &lt;when test=&quot;criterion.listValue&quot; &gt;\r\n                      and ${criterion.condition}\r\n                      &lt;foreach collection=&quot;criterion.value&quot; item=&quot;listItem&quot; open=&quot;(&quot; close=&quot;)&quot; separator=&quot;,&quot; &gt;\r\n                        #{listItem}\r\n                      &lt;/foreach&gt;\r\n                    &lt;/when&gt;\r\n                  &lt;/choose&gt;\r\n                &lt;/foreach&gt;\r\n              &lt;/trim&gt;\r\n            &lt;/if&gt;\r\n          &lt;/foreach&gt;\r\n        &lt;/where&gt;\r\n      &lt;/sql&gt;\r\n      &lt;sql id=&quot;Base_Column_List&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        ID_COMUNE, CODICE_ISTAT, DESCRIZIONE, CAP, CODICE_PROVINCIA, COMUNE_SIGLA, COMUNE_CFIS\r\n      &lt;/sql&gt;\r\n      &lt;select id=&quot;selectByExample&quot; resultMap=&quot;BaseResultMap&quot; parameterType=&quot;com.aieap.model.ComuniExample&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        select\r\n        &lt;if test=&quot;distinct&quot; &gt;\r\n          distinct\r\n        &lt;/if&gt;\r\n        &lt;include refid=&quot;Base_Column_List&quot; /&gt;\r\n        from comuni\r\n        &lt;if test=&quot;_parameter != null&quot; &gt;\r\n          &lt;include refid=&quot;Example_Where_Clause&quot; /&gt;\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;orderByClause != null&quot; &gt;\r\n          order by ${orderByClause}\r\n        &lt;/if&gt;\r\n      &lt;/select&gt;\r\n      &lt;select id=&quot;selectByPrimaryKey&quot; resultMap=&quot;BaseResultMap&quot; parameterType=&quot;java.lang.Long&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        select \r\n        &lt;include refid=&quot;Base_Column_List&quot; /&gt;\r\n        from comuni\r\n        where ID_COMUNE = #{idComune,jdbcType=BIGINT}\r\n      &lt;/select&gt;\r\n      &lt;delete id=&quot;deleteByPrimaryKey&quot; parameterType=&quot;java.lang.Long&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        delete from comuni\r\n        where ID_COMUNE = #{idComune,jdbcType=BIGINT}\r\n      &lt;/delete&gt;\r\n      &lt;delete id=&quot;deleteByExample&quot; parameterType=&quot;com.aieap.model.ComuniExample&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        delete from comuni\r\n        &lt;if test=&quot;_parameter != null&quot; &gt;\r\n          &lt;include refid=&quot;Example_Where_Clause&quot; /&gt;\r\n        &lt;/if&gt;\r\n      &lt;/delete&gt;\r\n      &lt;insert id=&quot;insert&quot; parameterType=&quot;com.aieap.model.Comuni&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        insert into comuni (ID_COMUNE, CODICE_ISTAT, DESCRIZIONE, \r\n          CAP, CODICE_PROVINCIA, COMUNE_SIGLA, \r\n          COMUNE_CFIS)\r\n        values (#{idComune,jdbcType=BIGINT}, #{codiceIstat,jdbcType=VARCHAR}, #{descrizione,jdbcType=VARCHAR}, \r\n          #{cap,jdbcType=VARCHAR}, #{codiceProvincia,jdbcType=BIGINT}, #{comuneSigla,jdbcType=VARCHAR}, \r\n          #{comuneCfis,jdbcType=VARCHAR})\r\n      &lt;/insert&gt;\r\n      &lt;insert id=&quot;insertSelective&quot; parameterType=&quot;com.aieap.model.Comuni&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        insert into comuni\r\n        &lt;trim prefix=&quot;(&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot; &gt;\r\n          &lt;if test=&quot;idComune != null&quot; &gt;\r\n            ID_COMUNE,\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;codiceIstat != null&quot; &gt;\r\n            CODICE_ISTAT,\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;descrizione != null&quot; &gt;\r\n            DESCRIZIONE,\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;cap != null&quot; &gt;\r\n            CAP,\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;codiceProvincia != null&quot; &gt;\r\n            CODICE_PROVINCIA,\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;comuneSigla != null&quot; &gt;\r\n            COMUNE_SIGLA,\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;comuneCfis != null&quot; &gt;\r\n            COMUNE_CFIS,\r\n          &lt;/if&gt;\r\n        &lt;/trim&gt;\r\n        &lt;trim prefix=&quot;values (&quot; suffix=&quot;)&quot; suffixOverrides=&quot;,&quot; &gt;\r\n          &lt;if test=&quot;idComune != null&quot; &gt;\r\n            #{idComune,jdbcType=BIGINT},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;codiceIstat != null&quot; &gt;\r\n            #{codiceIstat,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;descrizione != null&quot; &gt;\r\n            #{descrizione,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;cap != null&quot; &gt;\r\n            #{cap,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;codiceProvincia != null&quot; &gt;\r\n            #{codiceProvincia,jdbcType=BIGINT},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;comuneSigla != null&quot; &gt;\r\n            #{comuneSigla,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;comuneCfis != null&quot; &gt;\r\n            #{comuneCfis,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n        &lt;/trim&gt;\r\n      &lt;/insert&gt;\r\n      &lt;select id=&quot;countByExample&quot; parameterType=&quot;com.aieap.model.ComuniExample&quot; resultType=&quot;java.lang.Integer&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        select count(*) from comuni\r\n        &lt;if test=&quot;_parameter != null&quot; &gt;\r\n          &lt;include refid=&quot;Example_Where_Clause&quot; /&gt;\r\n        &lt;/if&gt;\r\n      &lt;/select&gt;\r\n      &lt;update id=&quot;updateByExampleSelective&quot; parameterType=&quot;map&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        update comuni\r\n        &lt;set &gt;\r\n          &lt;if test=&quot;record.idComune != null&quot; &gt;\r\n            ID_COMUNE = #{record.idComune,jdbcType=BIGINT},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;record.codiceIstat != null&quot; &gt;\r\n            CODICE_ISTAT = #{record.codiceIstat,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;record.descrizione != null&quot; &gt;\r\n            DESCRIZIONE = #{record.descrizione,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;record.cap != null&quot; &gt;\r\n            CAP = #{record.cap,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;record.codiceProvincia != null&quot; &gt;\r\n            CODICE_PROVINCIA = #{record.codiceProvincia,jdbcType=BIGINT},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;record.comuneSigla != null&quot; &gt;\r\n            COMUNE_SIGLA = #{record.comuneSigla,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;record.comuneCfis != null&quot; &gt;\r\n            COMUNE_CFIS = #{record.comuneCfis,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n        &lt;/set&gt;\r\n        &lt;if test=&quot;_parameter != null&quot; &gt;\r\n          &lt;include refid=&quot;Update_By_Example_Where_Clause&quot; /&gt;\r\n        &lt;/if&gt;\r\n      &lt;/update&gt;\r\n      &lt;update id=&quot;updateByExample&quot; parameterType=&quot;map&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        update comuni\r\n        set ID_COMUNE = #{record.idComune,jdbcType=BIGINT},\r\n          CODICE_ISTAT = #{record.codiceIstat,jdbcType=VARCHAR},\r\n          DESCRIZIONE = #{record.descrizione,jdbcType=VARCHAR},\r\n          CAP = #{record.cap,jdbcType=VARCHAR},\r\n          CODICE_PROVINCIA = #{record.codiceProvincia,jdbcType=BIGINT},\r\n          COMUNE_SIGLA = #{record.comuneSigla,jdbcType=VARCHAR},\r\n          COMUNE_CFIS = #{record.comuneCfis,jdbcType=VARCHAR}\r\n        &lt;if test=&quot;_parameter != null&quot; &gt;\r\n          &lt;include refid=&quot;Update_By_Example_Where_Clause&quot; /&gt;\r\n        &lt;/if&gt;\r\n      &lt;/update&gt;\r\n      &lt;update id=&quot;updateByPrimaryKeySelective&quot; parameterType=&quot;com.aieap.model.Comuni&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        update comuni\r\n        &lt;set &gt;\r\n          &lt;if test=&quot;codiceIstat != null&quot; &gt;\r\n            CODICE_ISTAT = #{codiceIstat,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;descrizione != null&quot; &gt;\r\n            DESCRIZIONE = #{descrizione,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;cap != null&quot; &gt;\r\n            CAP = #{cap,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;codiceProvincia != null&quot; &gt;\r\n            CODICE_PROVINCIA = #{codiceProvincia,jdbcType=BIGINT},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;comuneSigla != null&quot; &gt;\r\n            COMUNE_SIGLA = #{comuneSigla,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n          &lt;if test=&quot;comuneCfis != null&quot; &gt;\r\n            COMUNE_CFIS = #{comuneCfis,jdbcType=VARCHAR},\r\n          &lt;/if&gt;\r\n        &lt;/set&gt;\r\n        where ID_COMUNE = #{idComune,jdbcType=BIGINT}\r\n      &lt;/update&gt;\r\n      &lt;update id=&quot;updateByPrimaryKey&quot; parameterType=&quot;com.aieap.model.Comuni&quot; &gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n          This element was generated on Tue Jan 08 16:52:16 CET 2013.\r\n        --&gt;\r\n        update comuni\r\n        set CODICE_ISTAT = #{codiceIstat,jdbcType=VARCHAR},\r\n          DESCRIZIONE = #{descrizione,jdbcType=VARCHAR},\r\n          CAP = #{cap,jdbcType=VARCHAR},\r\n          CODICE_PROVINCIA = #{codiceProvincia,jdbcType=BIGINT},\r\n          COMUNE_SIGLA = #{comuneSigla,jdbcType=VARCHAR},\r\n          COMUNE_CFIS = #{comuneCfis,jdbcType=VARCHAR}\r\n        where ID_COMUNE = #{idComune,jdbcType=BIGINT}\r\n      &lt;/update&gt;\r\n    &lt;/mapper&gt;","title":"mybatis IllegalArgumentException: Mapped Statements collection does not contain value","body":"<p>i have many problem with spring e mybatis. This is my spring configuration:\ni have the same configuration and ComuneMapper.java and ComuneMapper.xml stay in the same folders. but i have however this error\nSomebody to help meeeee</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans\n    xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:aop=\"http://www.springframework.org/schema/aop\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xmlns:webflow=\"http://www.springframework.org/schema/webflow-config\"\n    xmlns:util=\"http://www.springframework.org/schema/util\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:mvc=\"http://www.springframework.org/schema/mvc\"\n    xsi:schemaLocation=\"http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans-2.5.xsd\n        http://www.springframework.org/schema/aop\n        http://www.springframework.org/schema/aop/spring-aop-2.5.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context-2.5.xsd\n        http://www.springframework.org/schema/webflow-config\n        http://www.springframework.org/schema/webflow-config/spring-webflow-config-2.0.xsd\n        http://www.springframework.org/schema/util\n        http://www.springframework.org/schema/util/spring-util-2.0.xsd\n        http://www.springframework.org/schema/mvc\n        http://www.springframework.org/schema/mvc/spring-mvc-3.0.xsd\"&gt;\n\n    &lt;context:annotation-config /&gt; \n\n    &lt;!-- Scans the classpath of this application for @Components to deploy as beans --&gt;\n    &lt;context:component-scan\n        base-package=\"com.aieap\" /&gt;\n\n    &lt;!-- Configures the @Controller programming model --&gt;\n    &lt;mvc:annotation-driven /&gt;\n\n\n    &lt;!-- Configurazione Spring MVC View Resolver --&gt;\n    &lt;bean\n        id=\"viewResolver\"\n        class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n        &lt;property\n            name=\"viewClass\"\n            value=\"org.springframework.web.servlet.view.JstlView\" /&gt;\n        &lt;property\n            name=\"prefix\"\n            value=\"/jsp/\" /&gt;\n        &lt;property\n            name=\"suffix\"\n            value=\".jsp\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Flow Handler Adapter --&gt;\n    &lt;bean\n        class=\"org.springframework.webflow.mvc.servlet.FlowHandlerAdapter\"&gt;\n        &lt;property\n            name=\"flowExecutor\"\n            ref=\"flowExecutor\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Flow Handler Mapping --&gt;\n    &lt;bean\n        class=\"org.springframework.webflow.mvc.servlet.FlowHandlerMapping\"&gt;\n        &lt;property\n            name=\"flowRegistry\"\n            ref=\"flowRegistry\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Flow Executor --&gt;\n    &lt;webflow:flow-executor\n        id=\"flowExecutor\" /&gt;\n\n    &lt;!-- Flow Registry --&gt;\n    &lt;webflow:flow-registry\n        id=\"flowRegistry\"\n        flow-builder-services=\"flowBuilderServices\"&gt;\n        &lt;!-- nonaut --&gt;\n        &lt;webflow:flow-location\n            id=\"home-nonaut\"\n            path=\"/WEB-INF/flows/nonaut/home-nonaut.xml\" /&gt;\n        &lt;webflow:flow-location\n            id=\"logout\"\n            path=\"/WEB-INF/flows/nonaut/logout.xml\" /&gt;\n\n        &lt;!-- aut --&gt;\n        &lt;webflow:flow-location\n            id=\"aut/home-aut\"\n            path=\"/WEB-INF/flows/aut/home-aut.xml\" /&gt;\n        &lt;webflow:flow-location\n            id=\"aut/nuova-domanda\"\n            path=\"/WEB-INF/flows/aut/nuova-domanda.xml\" /&gt;\n        &lt;webflow:flow-location\n            id=\"aut/invia-domanda\"\n            path=\"/WEB-INF/flows/aut/invia-domanda.xml\" /&gt;\n        &lt;webflow:flow-location\n            id=\"aut/nuovo-operatore-rer\"\n            path=\"/WEB-INF/flows/aut/nuovo-operatore-rer.xml\" /&gt;\n\n    &lt;/webflow:flow-registry&gt;\n\n    &lt;webflow:flow-builder-services\n        id=\"flowBuilderServices\"\n        view-factory-creator=\"viewFactoryCreator\" /&gt;\n\n    &lt;bean\n        id=\"viewFactoryCreator\"\n        class=\"org.springframework.webflow.mvc.builder.MvcViewFactoryCreator\"&gt;\n        &lt;property\n            name=\"viewResolvers\"&gt;\n            &lt;list&gt;\n                &lt;ref\n                    bean=\"viewResolver\" /&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property\n            name=\"useSpringBeanBinding\"\n            value=\"true\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;import resource=\"jdbc-context.xml\" /&gt;\n\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>jdbc-context.xm:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans\n    xmlns=\"http://www.springframework.org/schema/beans\"\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xmlns:p=\"http://www.springframework.org/schema/p\"\n    xmlns:tx=\"http://www.springframework.org/schema/tx\"\n    xmlns:context=\"http://www.springframework.org/schema/context\"\n    xsi:schemaLocation=\"\n            http://www.springframework.org/schema/beans \n            http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n            http://www.springframework.org/schema/tx \n            http://www.springframework.org/schema/tx/spring-tx-3.0.xsd\n            http://www.springframework.org/schema/context\n            http://www.springframework.org/schema/context/spring-context-3.0.xsd\n            \"&gt;\n\n    &lt;context:property-placeholder\n        location=\"/WEB-INF/db.properties\" /&gt;\n\n    &lt;!-- Enable annotation style of managing transactions --&gt;\n    &lt;tx:annotation-driven\n        transaction-manager=\"transactionManager\" /&gt;\n\n    &lt;!-- Declare a datasource that has pooling capabilities --&gt;\n    &lt;bean\n        id=\"dataSource\"\n        class=\"com.mchange.v2.c3p0.ComboPooledDataSource\"\n        destroy-method=\"close\"\n        p:driverClass=\"${jdbc.driver}\"\n        p:jdbcUrl=\"${jdbc.url}\"\n        p:user=\"${jdbc.username}\"\n        p:password=\"$jdbc.password}\"\n        p:acquireIncrement=\"10\"\n        p:idleConnectionTestPeriod=\"60\"\n        p:maxPoolSize=\"100\"\n        p:maxStatements=\"50\"\n        p:minPoolSize=\"10\" /&gt;\n\n    &lt;!-- Declare a transaction manager --&gt;\n    &lt;bean\n        id=\"transactionManager\"\n        class=\"org.springframework.jdbc.datasource.DataSourceTransactionManager\"\n        p:dataSource-ref=\"dataSource\" /&gt;\n\n\n    &lt;!-- define the SqlSessionFactory, notice that configLocation is not needed when you use MapperFactoryBean --&gt;\n    &lt;bean\n        id=\"sqlSessionFactory\"\n        class=\"org.mybatis.spring.SqlSessionFactoryBean\"&gt;\n        &lt;property\n            name=\"dataSource\"\n            ref=\"dataSource\" /&gt;\n        &lt;property\n            name=\"configLocation\"\n            value=\"WEB-INF/mybatis/sqlmap-config.xml\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- scan for mappers and will automatically scan the whole classpath for xmls --&gt;\n    &lt;bean\n        class=\"org.mybatis.spring.mapper.MapperScannerConfigurer\"&gt;\n        &lt;property name=\"sqlSessionFactory\" ref=\"sqlSessionFactory\" /&gt;\n        &lt;property name=\"basePackage\" value=\"com.aieap.dao.mapper\" /&gt;\n    &lt;/bean&gt;\n\n&lt;/beans&gt;\n</code></pre>\n\n<p>sqlmap-config.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE configuration\n    PUBLIC \"-//mybatis.org//DTD Config 3.0//EN\"\n    \"http://mybatis.org/dtd/mybatis-3-config.dtd\"&gt;\n\n&lt;configuration&gt;\n    &lt;settings&gt;\n        &lt;!-- changes from the defaults --&gt;\n        &lt;setting name=\"lazyLoadingEnabled\" value=\"false\" /&gt;\n    &lt;/settings&gt;\n    &lt;typeAliases&gt;\n        &lt;typeAlias type=\"com.aieap.model.Comuni\" alias=\"comuni\"/&gt;\n    &lt;/typeAliases&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>controller:</p>\n\n<pre><code>package com.aieap.web.controller;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.ModelMap;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.apache.log4j.Logger;\n\nimport com.aieap.dao.mapper.ComuniMapper;\nimport com.aieap.model.Comuni;\nimport com.aieap.model.OperatoriRer;\n\n@Controller\npublic class OperatoriRerController {\n\n    @Autowired ComuniMapper comuniDao;\n\n\n    private static final Logger logger = Logger.getLogger(OperatoriRerController.class);\n\n\n\n     @RequestMapping(\"/aut/nuovo-operatore-rer\")\n        public ModelMap start() {\n\n        Comuni comuni = comuniDao.selectByPrimaryKey(new Long(1));\n        System.out.print(comuni);\n        OperatoriRer op = new OperatoriRer();\n        op.setNome(\"ciccio\");\n        op.setCognome(\"cappuccio\");\n        ModelMap model = new ModelMap();\n        model.addAttribute(\"OperatoriRer\",op);\n        return model;\n        }\n\n\n     @RequestMapping(\"/aut/search-comune\")\n        public ModelMap searchcomune() {\n        List&lt;Comuni&gt; comuniList = new ArrayList &lt;Comuni&gt;() ;        \n        ModelMap model = new ModelMap();\n        model.addAttribute(\"ComunuList\",comuniList);\n        return model;\n        }\n}\n</code></pre>\n\n<p>this is the error:</p>\n\n<pre><code>GRAVE: Servlet.service() for servlet [dispatch] in context with path [/aieap] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Mapped Statements collection does not contain value for com.aieap.dao.mapper.ComuniMapper.selectByPrimaryKey] with root cause\njava.lang.IllegalArgumentException: Mapped Statements collection does not contain value for com.aieap.dao.mapper.ComuniMapper.selectByPrimaryKey\n    at org.apache.ibatis.session.Configuration$StrictMap.get(Configuration.java:593)\n    at org.apache.ibatis.session.Configuration.getMappedStatement(Configuration.java:393)\n    at org.apache.ibatis.binding.MapperMethod.setupCommandType(MapperMethod.java:160)\n    at org.apache.ibatis.binding.MapperMethod.&lt;init&gt;(MapperMethod.java:48)\n    at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:37)\n    at $Proxy9.selectByPrimaryKey(Unknown Source)\n    at com.aieap.web.controller.OperatoriRerController.start(OperatoriRerController.java:29)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:219)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:746)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:687)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:915)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:811)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:796)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:722)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:304)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:240)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:164)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:462)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:164)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:563)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:399)\n    at org.apache.coyote.http11.Http11Processor.process(Http11Processor.java:317)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:204)\n    at org.apache.coyote.http11.Http11Protocol$Http11ConnectionHandler.process(Http11Protocol.java:182)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:311)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:662)\n</code></pre>\n\n<p>please!!! someone help me I'm hopeless!!!!!!!!!!!!!!!</p>\n\n<p>I had forgotten.\nthis is ComuniMapper.java</p>\n\n<pre><code>package com.aieap.dao.mapper;\n\nimport com.aieap.model.Comuni;\nimport com.aieap.model.ComuniExample;\nimport java.util.List;\nimport org.apache.ibatis.annotations.Param;\n\npublic interface ComuniMapper {\n\n    int countByExample(ComuniExample example);\n    int deleteByExample(ComuniExample example);\n    int deleteByPrimaryKey(Long idComune);\n    int insert(Comuni record);\n    int insertSelective(Comuni record);\n    List&lt;Comuni&gt; selectByExample(ComuniExample example);\n    Comuni selectByPrimaryKey(Long idComune);\n\n    /**\n     * This method was generated by MyBatis Generator.\n     * This method corresponds to the database table comuni\n     *\n     * @mbggenerated Tue Jan 08 16:52:16 CET 2013\n     */\n    int updateByExampleSelective(@Param(\"record\") Comuni record, @Param(\"example\") ComuniExample example);\n\n    /**\n     * This method was generated by MyBatis Generator.\n     * This method corresponds to the database table comuni\n     *\n     * @mbggenerated Tue Jan 08 16:52:16 CET 2013\n     */\n    int updateByExample(@Param(\"record\") Comuni record, @Param(\"example\") ComuniExample example);\n\n    /**\n     * This method was generated by MyBatis Generator.\n     * This method corresponds to the database table comuni\n     *\n     * @mbggenerated Tue Jan 08 16:52:16 CET 2013\n     */\n    int updateByPrimaryKeySelective(Comuni record);\n\n    /**\n     * This method was generated by MyBatis Generator.\n     * This method corresponds to the database table comuni\n     *\n     * @mbggenerated Tue Jan 08 16:52:16 CET 2013\n     */\n    int updateByPrimaryKey(Comuni record);\n}\n</code></pre>\n\n<p>end this ComuniMapper.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\" &gt;\n&lt;mapper namespace=\"com.aieap.dao.mapper.ComuniMapper\" &gt;\n  &lt;resultMap id=\"BaseResultMap\" type=\"com.aieap.model.Comuni\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    &lt;id column=\"ID_COMUNE\" property=\"idComune\" jdbcType=\"BIGINT\" /&gt;\n    &lt;result column=\"CODICE_ISTAT\" property=\"codiceIstat\" jdbcType=\"VARCHAR\" /&gt;\n    &lt;result column=\"DESCRIZIONE\" property=\"descrizione\" jdbcType=\"VARCHAR\" /&gt;\n    &lt;result column=\"CAP\" property=\"cap\" jdbcType=\"VARCHAR\" /&gt;\n    &lt;result column=\"CODICE_PROVINCIA\" property=\"codiceProvincia\" jdbcType=\"BIGINT\" /&gt;\n    &lt;result column=\"COMUNE_SIGLA\" property=\"comuneSigla\" jdbcType=\"VARCHAR\" /&gt;\n    &lt;result column=\"COMUNE_CFIS\" property=\"comuneCfis\" jdbcType=\"VARCHAR\" /&gt;\n  &lt;/resultMap&gt;\n  &lt;sql id=\"Example_Where_Clause\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    &lt;where &gt;\n      &lt;foreach collection=\"oredCriteria\" item=\"criteria\" separator=\"or\" &gt;\n        &lt;if test=\"criteria.valid\" &gt;\n          &lt;trim prefix=\"(\" suffix=\")\" prefixOverrides=\"and\" &gt;\n            &lt;foreach collection=\"criteria.criteria\" item=\"criterion\" &gt;\n              &lt;choose &gt;\n                &lt;when test=\"criterion.noValue\" &gt;\n                  and ${criterion.condition}\n                &lt;/when&gt;\n                &lt;when test=\"criterion.singleValue\" &gt;\n                  and ${criterion.condition} #{criterion.value}\n                &lt;/when&gt;\n                &lt;when test=\"criterion.betweenValue\" &gt;\n                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}\n                &lt;/when&gt;\n                &lt;when test=\"criterion.listValue\" &gt;\n                  and ${criterion.condition}\n                  &lt;foreach collection=\"criterion.value\" item=\"listItem\" open=\"(\" close=\")\" separator=\",\" &gt;\n                    #{listItem}\n                  &lt;/foreach&gt;\n                &lt;/when&gt;\n              &lt;/choose&gt;\n            &lt;/foreach&gt;\n          &lt;/trim&gt;\n        &lt;/if&gt;\n      &lt;/foreach&gt;\n    &lt;/where&gt;\n  &lt;/sql&gt;\n  &lt;sql id=\"Update_By_Example_Where_Clause\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    &lt;where &gt;\n      &lt;foreach collection=\"example.oredCriteria\" item=\"criteria\" separator=\"or\" &gt;\n        &lt;if test=\"criteria.valid\" &gt;\n          &lt;trim prefix=\"(\" suffix=\")\" prefixOverrides=\"and\" &gt;\n            &lt;foreach collection=\"criteria.criteria\" item=\"criterion\" &gt;\n              &lt;choose &gt;\n                &lt;when test=\"criterion.noValue\" &gt;\n                  and ${criterion.condition}\n                &lt;/when&gt;\n                &lt;when test=\"criterion.singleValue\" &gt;\n                  and ${criterion.condition} #{criterion.value}\n                &lt;/when&gt;\n                &lt;when test=\"criterion.betweenValue\" &gt;\n                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}\n                &lt;/when&gt;\n                &lt;when test=\"criterion.listValue\" &gt;\n                  and ${criterion.condition}\n                  &lt;foreach collection=\"criterion.value\" item=\"listItem\" open=\"(\" close=\")\" separator=\",\" &gt;\n                    #{listItem}\n                  &lt;/foreach&gt;\n                &lt;/when&gt;\n              &lt;/choose&gt;\n            &lt;/foreach&gt;\n          &lt;/trim&gt;\n        &lt;/if&gt;\n      &lt;/foreach&gt;\n    &lt;/where&gt;\n  &lt;/sql&gt;\n  &lt;sql id=\"Base_Column_List\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    ID_COMUNE, CODICE_ISTAT, DESCRIZIONE, CAP, CODICE_PROVINCIA, COMUNE_SIGLA, COMUNE_CFIS\n  &lt;/sql&gt;\n  &lt;select id=\"selectByExample\" resultMap=\"BaseResultMap\" parameterType=\"com.aieap.model.ComuniExample\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    select\n    &lt;if test=\"distinct\" &gt;\n      distinct\n    &lt;/if&gt;\n    &lt;include refid=\"Base_Column_List\" /&gt;\n    from comuni\n    &lt;if test=\"_parameter != null\" &gt;\n      &lt;include refid=\"Example_Where_Clause\" /&gt;\n    &lt;/if&gt;\n    &lt;if test=\"orderByClause != null\" &gt;\n      order by ${orderByClause}\n    &lt;/if&gt;\n  &lt;/select&gt;\n  &lt;select id=\"selectByPrimaryKey\" resultMap=\"BaseResultMap\" parameterType=\"java.lang.Long\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    select \n    &lt;include refid=\"Base_Column_List\" /&gt;\n    from comuni\n    where ID_COMUNE = #{idComune,jdbcType=BIGINT}\n  &lt;/select&gt;\n  &lt;delete id=\"deleteByPrimaryKey\" parameterType=\"java.lang.Long\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    delete from comuni\n    where ID_COMUNE = #{idComune,jdbcType=BIGINT}\n  &lt;/delete&gt;\n  &lt;delete id=\"deleteByExample\" parameterType=\"com.aieap.model.ComuniExample\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    delete from comuni\n    &lt;if test=\"_parameter != null\" &gt;\n      &lt;include refid=\"Example_Where_Clause\" /&gt;\n    &lt;/if&gt;\n  &lt;/delete&gt;\n  &lt;insert id=\"insert\" parameterType=\"com.aieap.model.Comuni\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    insert into comuni (ID_COMUNE, CODICE_ISTAT, DESCRIZIONE, \n      CAP, CODICE_PROVINCIA, COMUNE_SIGLA, \n      COMUNE_CFIS)\n    values (#{idComune,jdbcType=BIGINT}, #{codiceIstat,jdbcType=VARCHAR}, #{descrizione,jdbcType=VARCHAR}, \n      #{cap,jdbcType=VARCHAR}, #{codiceProvincia,jdbcType=BIGINT}, #{comuneSigla,jdbcType=VARCHAR}, \n      #{comuneCfis,jdbcType=VARCHAR})\n  &lt;/insert&gt;\n  &lt;insert id=\"insertSelective\" parameterType=\"com.aieap.model.Comuni\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    insert into comuni\n    &lt;trim prefix=\"(\" suffix=\")\" suffixOverrides=\",\" &gt;\n      &lt;if test=\"idComune != null\" &gt;\n        ID_COMUNE,\n      &lt;/if&gt;\n      &lt;if test=\"codiceIstat != null\" &gt;\n        CODICE_ISTAT,\n      &lt;/if&gt;\n      &lt;if test=\"descrizione != null\" &gt;\n        DESCRIZIONE,\n      &lt;/if&gt;\n      &lt;if test=\"cap != null\" &gt;\n        CAP,\n      &lt;/if&gt;\n      &lt;if test=\"codiceProvincia != null\" &gt;\n        CODICE_PROVINCIA,\n      &lt;/if&gt;\n      &lt;if test=\"comuneSigla != null\" &gt;\n        COMUNE_SIGLA,\n      &lt;/if&gt;\n      &lt;if test=\"comuneCfis != null\" &gt;\n        COMUNE_CFIS,\n      &lt;/if&gt;\n    &lt;/trim&gt;\n    &lt;trim prefix=\"values (\" suffix=\")\" suffixOverrides=\",\" &gt;\n      &lt;if test=\"idComune != null\" &gt;\n        #{idComune,jdbcType=BIGINT},\n      &lt;/if&gt;\n      &lt;if test=\"codiceIstat != null\" &gt;\n        #{codiceIstat,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"descrizione != null\" &gt;\n        #{descrizione,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"cap != null\" &gt;\n        #{cap,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"codiceProvincia != null\" &gt;\n        #{codiceProvincia,jdbcType=BIGINT},\n      &lt;/if&gt;\n      &lt;if test=\"comuneSigla != null\" &gt;\n        #{comuneSigla,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"comuneCfis != null\" &gt;\n        #{comuneCfis,jdbcType=VARCHAR},\n      &lt;/if&gt;\n    &lt;/trim&gt;\n  &lt;/insert&gt;\n  &lt;select id=\"countByExample\" parameterType=\"com.aieap.model.ComuniExample\" resultType=\"java.lang.Integer\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    select count(*) from comuni\n    &lt;if test=\"_parameter != null\" &gt;\n      &lt;include refid=\"Example_Where_Clause\" /&gt;\n    &lt;/if&gt;\n  &lt;/select&gt;\n  &lt;update id=\"updateByExampleSelective\" parameterType=\"map\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    update comuni\n    &lt;set &gt;\n      &lt;if test=\"record.idComune != null\" &gt;\n        ID_COMUNE = #{record.idComune,jdbcType=BIGINT},\n      &lt;/if&gt;\n      &lt;if test=\"record.codiceIstat != null\" &gt;\n        CODICE_ISTAT = #{record.codiceIstat,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"record.descrizione != null\" &gt;\n        DESCRIZIONE = #{record.descrizione,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"record.cap != null\" &gt;\n        CAP = #{record.cap,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"record.codiceProvincia != null\" &gt;\n        CODICE_PROVINCIA = #{record.codiceProvincia,jdbcType=BIGINT},\n      &lt;/if&gt;\n      &lt;if test=\"record.comuneSigla != null\" &gt;\n        COMUNE_SIGLA = #{record.comuneSigla,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"record.comuneCfis != null\" &gt;\n        COMUNE_CFIS = #{record.comuneCfis,jdbcType=VARCHAR},\n      &lt;/if&gt;\n    &lt;/set&gt;\n    &lt;if test=\"_parameter != null\" &gt;\n      &lt;include refid=\"Update_By_Example_Where_Clause\" /&gt;\n    &lt;/if&gt;\n  &lt;/update&gt;\n  &lt;update id=\"updateByExample\" parameterType=\"map\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    update comuni\n    set ID_COMUNE = #{record.idComune,jdbcType=BIGINT},\n      CODICE_ISTAT = #{record.codiceIstat,jdbcType=VARCHAR},\n      DESCRIZIONE = #{record.descrizione,jdbcType=VARCHAR},\n      CAP = #{record.cap,jdbcType=VARCHAR},\n      CODICE_PROVINCIA = #{record.codiceProvincia,jdbcType=BIGINT},\n      COMUNE_SIGLA = #{record.comuneSigla,jdbcType=VARCHAR},\n      COMUNE_CFIS = #{record.comuneCfis,jdbcType=VARCHAR}\n    &lt;if test=\"_parameter != null\" &gt;\n      &lt;include refid=\"Update_By_Example_Where_Clause\" /&gt;\n    &lt;/if&gt;\n  &lt;/update&gt;\n  &lt;update id=\"updateByPrimaryKeySelective\" parameterType=\"com.aieap.model.Comuni\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    update comuni\n    &lt;set &gt;\n      &lt;if test=\"codiceIstat != null\" &gt;\n        CODICE_ISTAT = #{codiceIstat,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"descrizione != null\" &gt;\n        DESCRIZIONE = #{descrizione,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"cap != null\" &gt;\n        CAP = #{cap,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"codiceProvincia != null\" &gt;\n        CODICE_PROVINCIA = #{codiceProvincia,jdbcType=BIGINT},\n      &lt;/if&gt;\n      &lt;if test=\"comuneSigla != null\" &gt;\n        COMUNE_SIGLA = #{comuneSigla,jdbcType=VARCHAR},\n      &lt;/if&gt;\n      &lt;if test=\"comuneCfis != null\" &gt;\n        COMUNE_CFIS = #{comuneCfis,jdbcType=VARCHAR},\n      &lt;/if&gt;\n    &lt;/set&gt;\n    where ID_COMUNE = #{idComune,jdbcType=BIGINT}\n  &lt;/update&gt;\n  &lt;update id=\"updateByPrimaryKey\" parameterType=\"com.aieap.model.Comuni\" &gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n      This element was generated on Tue Jan 08 16:52:16 CET 2013.\n    --&gt;\n    update comuni\n    set CODICE_ISTAT = #{codiceIstat,jdbcType=VARCHAR},\n      DESCRIZIONE = #{descrizione,jdbcType=VARCHAR},\n      CAP = #{cap,jdbcType=VARCHAR},\n      CODICE_PROVINCIA = #{codiceProvincia,jdbcType=BIGINT},\n      COMUNE_SIGLA = #{comuneSigla,jdbcType=VARCHAR},\n      COMUNE_CFIS = #{comuneCfis,jdbcType=VARCHAR}\n    where ID_COMUNE = #{idComune,jdbcType=BIGINT}\n  &lt;/update&gt;\n&lt;/mapper&gt;\n</code></pre>\n"},{"tags":["javascript","java","pentaho","pentaho-spoon","pentaho-data-integration"],"owner":{"account_id":14134566,"reputation":193,"user_id":10211480,"display_name":"Ashu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671182777,"creation_date":1671182777,"question_id":74822494,"body_markdown":" \r\nWe are using Java version 11.0.17 and Pentaho 9.3 and while using import command, getting below error. Please help to debug this issue\r\n\r\n    cd /home/pentaho/client/data-integration/\r\n    /home/pentaho/client/data-integration/import.sh -rep=stage_repo -user=xyx -pass=&quot;Encrypted password&quot; -dir=/ -file=/home/xyz/stg/xyz/ -no rules\r\n    Exception in thread &quot;main&quot; java.lang.ClassNotFoundException: org.pentaho.di.imp.Import\r\n            at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n            at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n            at org.pentaho.commons.launcher.Launcher.main(Launcher.java:87)\r\n\r\n","title":"Issue with import command in Pentaho 9.3","body":"<p>We are using Java version 11.0.17 and Pentaho 9.3 and while using import command, getting below error. Please help to debug this issue</p>\n<pre><code>cd /home/pentaho/client/data-integration/\n/home/pentaho/client/data-integration/import.sh -rep=stage_repo -user=xyx -pass=&quot;Encrypted password&quot; -dir=/ -file=/home/xyz/stg/xyz/ -no rules\nException in thread &quot;main&quot; java.lang.ClassNotFoundException: org.pentaho.di.imp.Import\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        at org.pentaho.commons.launcher.Launcher.main(Launcher.java:87)\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671182642,"creation_date":1671182642,"answer_id":74822462,"question_id":74822088,"body_markdown":"maybe you could provide two Entity that keep the require fields, and put the ManyToOne/OneToMany annotation in these entity class so you can enjoy all the features in hibernate Conveniently without write hsql.","title":"JPA Hibernate - Results in Non Entity with many-to-many assoctiation","body":"<p>maybe you could provide two Entity that keep the require fields, and put the ManyToOne/OneToMany annotation in these entity class so you can enjoy all the features in hibernate Conveniently without write hsql.</p>\n"}],"owner":{"account_id":10327387,"reputation":31,"user_id":7618449,"display_name":"user7618449"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671182642,"creation_date":1671180538,"question_id":74822088,"body_markdown":"I have an entities:\r\n\r\n1. Player\r\n2. Team\r\n\r\nThere is many-to-many association between Player and Team.\r\n\r\nPlayer and Team entities are big so we want to fetch all Player entities in lightweight Pojo with only few attributes. But we need team info too.\r\n\r\nUSE CASE display all players (for example 1500 players) in table with following info\r\n\r\nPlayer name | Player surname | Teams\r\n\r\nThis is code we use now:\r\n\r\n``` Query query = JPA.em().createQuery(\r\n                &quot;SELECT new pojos.PlayerPojo(e.id, e.firstName, e.lastName, t.id, t.name) &quot; +\r\n                        &quot;FROM Player e LEFT JOIN e.teams t&quot;);\r\n\r\n```\r\nProblem with this query is that we get multiple rows if player has multiple teams, then we need to iterate through all entities and join them in Java, which is performance issue. We want to have snappy app. We cannot use Entity class as it is too big and we have performance issues and memory issues (we are limited with our cloud plans)","title":"JPA Hibernate - Results in Non Entity with many-to-many assoctiation","body":"<p>I have an entities:</p>\n<ol>\n<li>Player</li>\n<li>Team</li>\n</ol>\n<p>There is many-to-many association between Player and Team.</p>\n<p>Player and Team entities are big so we want to fetch all Player entities in lightweight Pojo with only few attributes. But we need team info too.</p>\n<p>USE CASE display all players (for example 1500 players) in table with following info</p>\n<p>Player name | Player surname | Teams</p>\n<p>This is code we use now:</p>\n<pre><code>                &quot;SELECT new pojos.PlayerPojo(e.id, e.firstName, e.lastName, t.id, t.name) &quot; +\n                        &quot;FROM Player e LEFT JOIN e.teams t&quot;);\n\n</code></pre>\n<p>Problem with this query is that we get multiple rows if player has multiple teams, then we need to iterate through all entities and join them in Java, which is performance issue. We want to have snappy app. We cannot use Entity class as it is too big and we have performance issues and memory issues (we are limited with our cloud plans)</p>\n"},{"tags":["java","rest","web-services","jax-rs","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":21695858,"reputation":1,"user_id":16009814,"display_name":"dvaschenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671182187,"creation_date":1671182187,"answer_id":74822369,"question_id":72941952,"body_markdown":"In my case solution to deal with files were found [here][1]. This is custom MultipartRequestMap implementation which I use to get file and/or flags from multipart/form-data request\r\n\r\n\r\n  [1]: https://nofluffjuststuff.com/blog/jason_lee1/2014/05/file_uploads_with_jax_rs_2","title":"get file from POST request using javax library","body":"<p>In my case solution to deal with files were found <a href=\"https://nofluffjuststuff.com/blog/jason_lee1/2014/05/file_uploads_with_jax_rs_2\" rel=\"nofollow noreferrer\">here</a>. This is custom MultipartRequestMap implementation which I use to get file and/or flags from multipart/form-data request</p>\n"}],"owner":{"account_id":21695858,"reputation":1,"user_id":16009814,"display_name":"dvaschenko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1671182187,"creation_date":1657558018,"question_id":72941952,"body_markdown":"I am trying to connect AWS SDK to the project, written in JAVA EE.\r\nI have written a service, which interacts with aws server. I am able to create, delete, upload buckets/files. Once I am sending a file directly from file system everything is great.\r\n\r\nIn other class I am trying to receive file from POST method from page like:\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;Document&lt;/title&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n\r\n    &lt;input type=&quot;file&quot; onchange=&quot;handler(this.files[0])&quot; /&gt;\r\n\r\n\r\n    &lt;script type=&quot;text/javascript&quot;&gt;\r\n\r\n        const handler = (file) =&gt; {\r\n            const formData = new FormData();\r\n            formData.append(file.name, file);\r\n\r\n            const requestOptions = {\r\n                method: &#39;POST&#39;,\r\n                mode: &#39;no-cors&#39;,\r\n                headers: {\r\n                    &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;,\r\n                    &#39;Content-Type&#39;: &#39;form/multipart&#39;\r\n                },\r\n                body: formData\r\n            };\r\n\r\n            // Здесь ссылку на команду\r\n            fetch(`http://localhost:8800/files/setVideo`, requestOptions)\r\n                .then(response =&gt; response.json())\r\n                .then(data =&gt; console.log(data))\r\n                .catch(err =&gt; console.log(err))\r\n        };\r\n\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nand my controller method looks like:\r\n```\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.StringReader;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.StandardCopyOption;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.GET;\r\nimport javax.ws.rs.Produces;\r\nimport javax.ws.rs.Consumes;\r\nimport javax.ws.rs.Path;\r\nimport javax.ws.rs.core.MediaType;\r\nimport javax.json.JsonObject;\r\nimport javax.json.Json;\r\nimport javax.json.JsonReader;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.Part;\r\nimport javax.ws.rs.PathParam;\r\nimport javax.ws.rs.core.Context;\r\nimport javax.ws.rs.core.UriInfo;\r\n\r\n@Path(&quot;files&quot;)\r\npublic class FilesWork{\r\n    @Context\r\n    private UriInfo context;\r\n@POST\r\n    @Path(value = &quot;/setVideo&quot;)\r\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public String UploadFileToCloud( what to write here? ) throws FileNotFoundException, IOException, ServletException {\r\n        String tempFilePath = &quot;/tempFiles&quot;;                                     //dir for temp files\r\n        String fileName = &quot;temp&quot;;                                               //file name to create temp file\r\n        \r\n        File FileExt = new File(tempFilePath, fileName);                        //create empty file    \r\n        \r\n        fileName = FunctionsGlobal.extractFileName(part);                       //get real file name\r\n        InputStream IOFile = part.getInputStream();                             //get steam from part\r\n        \r\n        Files.copy(IOFile, FileExt.toPath(), StandardCopyOption.REPLACE_EXISTING); //rewrite temp file with real from stream\r\n                        \r\n        AWSUtils s3 = new AWSUtils();\r\n       \r\n        JsonObject UrlBuilder = Json.createObjectBuilder().add(&quot;Link&quot;, &quot;some&quot;).build();\r\n\r\n        return FunctionsGlobal.returnDataAll(UrlBuilder);\r\n\r\n    }\r\n    \r\n\r\n}\r\n```\r\nI&#39;ve tried to use javax.servlet.http.Part to get file, but HTTP Status 415 - Unsupported Media Type is thrown from server.\r\n\r\nIf I try to write it like:\r\n```\r\npublic String UploadFileToCloud(File file){}\r\n```\r\nthen I actually have a file, but it looks like rep7876328953083992008tmp and I do not know how to change it to normal form.\r\n\r\nSo, main question is how correctly get file from POST request formed in &#39;form/multipart&#39; using javax library.\r\n\r\nThanks everyone in advance and have a good one!","title":"get file from POST request using javax library","body":"<p>I am trying to connect AWS SDK to the project, written in JAVA EE.\nI have written a service, which interacts with aws server. I am able to create, delete, upload buckets/files. Once I am sending a file directly from file system everything is great.</p>\n<p>In other class I am trying to receive file from POST method from page like:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n\n\n    &lt;input type=&quot;file&quot; onchange=&quot;handler(this.files[0])&quot; /&gt;\n\n\n    &lt;script type=&quot;text/javascript&quot;&gt;\n\n        const handler = (file) =&gt; {\n            const formData = new FormData();\n            formData.append(file.name, file);\n\n            const requestOptions = {\n                method: 'POST',\n                mode: 'no-cors',\n                headers: {\n                    'Access-Control-Allow-Origin': '*',\n                    'Content-Type': 'form/multipart'\n                },\n                body: formData\n            };\n\n            // Здесь ссылку на команду\n            fetch(`http://localhost:8800/files/setVideo`, requestOptions)\n                .then(response =&gt; response.json())\n                .then(data =&gt; console.log(data))\n                .catch(err =&gt; console.log(err))\n        };\n\n    &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>and my controller method looks like:</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.StringReader;\nimport java.nio.file.Files;\nimport java.nio.file.StandardCopyOption;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.GET;\nimport javax.ws.rs.Produces;\nimport javax.ws.rs.Consumes;\nimport javax.ws.rs.Path;\nimport javax.ws.rs.core.MediaType;\nimport javax.json.JsonObject;\nimport javax.json.Json;\nimport javax.json.JsonReader;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.Part;\nimport javax.ws.rs.PathParam;\nimport javax.ws.rs.core.Context;\nimport javax.ws.rs.core.UriInfo;\n\n@Path(&quot;files&quot;)\npublic class FilesWork{\n    @Context\n    private UriInfo context;\n@POST\n    @Path(value = &quot;/setVideo&quot;)\n    @Consumes(MediaType.MULTIPART_FORM_DATA)\n    @Produces(MediaType.APPLICATION_JSON)\n    public String UploadFileToCloud( what to write here? ) throws FileNotFoundException, IOException, ServletException {\n        String tempFilePath = &quot;/tempFiles&quot;;                                     //dir for temp files\n        String fileName = &quot;temp&quot;;                                               //file name to create temp file\n        \n        File FileExt = new File(tempFilePath, fileName);                        //create empty file    \n        \n        fileName = FunctionsGlobal.extractFileName(part);                       //get real file name\n        InputStream IOFile = part.getInputStream();                             //get steam from part\n        \n        Files.copy(IOFile, FileExt.toPath(), StandardCopyOption.REPLACE_EXISTING); //rewrite temp file with real from stream\n                        \n        AWSUtils s3 = new AWSUtils();\n       \n        JsonObject UrlBuilder = Json.createObjectBuilder().add(&quot;Link&quot;, &quot;some&quot;).build();\n\n        return FunctionsGlobal.returnDataAll(UrlBuilder);\n\n    }\n    \n\n}\n</code></pre>\n<p>I've tried to use javax.servlet.http.Part to get file, but HTTP Status 415 - Unsupported Media Type is thrown from server.</p>\n<p>If I try to write it like:</p>\n<pre><code>public String UploadFileToCloud(File file){}\n</code></pre>\n<p>then I actually have a file, but it looks like rep7876328953083992008tmp and I do not know how to change it to normal form.</p>\n<p>So, main question is how correctly get file from POST request formed in 'form/multipart' using javax library.</p>\n<p>Thanks everyone in advance and have a good one!</p>\n"},{"tags":["java","lambda"],"answers":[{"comments":[{"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"score":0,"creation_date":1449320264,"post_id":34105133,"comment_id":55961440,"body_markdown":"Oh! Did not thought about creating enumerable as a result of lamba. Completely forgot about it.","body":"Oh! Did not thought about creating enumerable as a result of lamba. Completely forgot about it."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":3,"creation_date":1449320379,"post_id":34105133,"comment_id":55961474,"body_markdown":"For the sake of completeness, let me also mention that you can circumvent Java&#39;s insistence on `i` being final by declaring an `int[] i = new int[1]` and using `i[0]` instead of `i`. But it&#39;s very hacky.  Peter&#39;s answer is best.","body":"For the sake of completeness, let me also mention that you can circumvent Java&#39;s insistence on <code>i</code> being final by declaring an <code>int[] i = new int[1]</code> and using <code>i[0]</code> instead of <code>i</code>. But it&#39;s very hacky.  Peter&#39;s answer is best."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1449320391,"post_id":34105133,"comment_id":55961478,"body_markdown":"@user1432980 it&#39;s what you should really be doing all the time.  The `forEach` is more for non-functional programming.","body":"@user1432980 it&#39;s what you should really be doing all the time.  The <code>forEach</code> is more for non-functional programming."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1449320453,"post_id":34105133,"comment_id":55961505,"body_markdown":"@MikeNakis I think you mean `int[] i = new int[1];` or `int[] i = { 0 };` and yes I have used this but never happily. ;)","body":"@MikeNakis I think you mean <code>int[] i = new int[1];</code> or <code>int[] i = { 0 };</code> and yes I have used this but never happily. ;)"}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1449320103,"creation_date":1449320103,"answer_id":34105133,"question_id":34105088,"body_markdown":"Ideally, for functional program you should have pure functions with *no* side effects.  In this case, you have side effects but you could do is\r\n\r\n    int[] sharedIds = shaders.stream().mapToInt((WrappedShader shader) -&gt; {\r\n                int shader_id = glCreateShader(shader.getShader_type());\r\n                glShaderSource(shader_id, shader.getShader_source());\r\n                glCompileShader(shader_id);\r\n                glAttachShader(shader_program, shader_id);\r\n                return shared_id;\r\n          }).toArray();\r\n\r\n","title":"use increment inside lambda in java","body":"<p>Ideally, for functional program you should have pure functions with <em>no</em> side effects.  In this case, you have side effects but you could do is</p>\n\n<pre><code>int[] sharedIds = shaders.stream().mapToInt((WrappedShader shader) -&gt; {\n            int shader_id = glCreateShader(shader.getShader_type());\n            glShaderSource(shader_id, shader.getShader_source());\n            glCompileShader(shader_id);\n            glAttachShader(shader_program, shader_id);\n            return shared_id;\n      }).toArray();\n</code></pre>\n"}],"owner":{"account_id":1537344,"reputation":12765,"user_id":1432980,"accept_rate":73,"display_name":"lapots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":34105133,"answer_count":1,"score":2,"last_activity_date":1671182073,"creation_date":1449319787,"question_id":34105088,"body_markdown":"I have a block like this\r\n\t\r\n    int i = 0;\r\n\tshaders.forEach((WrappedShader shader) -&gt; \r\n\t{\r\n\t\tint shader_id = glCreateShader(shader.getShader_type());\r\n\t\tglShaderSource(shader_id, shader.getShader_source());\r\n\t\tglCompileShader(shader_id);\r\n\t\tglAttachShader(shader_program, shader_id);\r\n\t\tshader_ids[i++] = shader_id;\r\n\t});\r\n\r\nBut how to have increment inside lambda? Currently it asks to set the variable `i` as final and do not change it. \r\n\r\nI know I can rewrite it to  `for` loop but I&#39;d like to use lambda.","title":"use increment inside lambda in java","body":"<p>I have a block like this</p>\n<pre><code>int i = 0;\nshaders.forEach((WrappedShader shader) -&gt; \n{\n    int shader_id = glCreateShader(shader.getShader_type());\n    glShaderSource(shader_id, shader.getShader_source());\n    glCompileShader(shader_id);\n    glAttachShader(shader_program, shader_id);\n    shader_ids[i++] = shader_id;\n});\n</code></pre>\n<p>But how to have increment inside lambda? Currently it asks to set the variable <code>i</code> as final and do not change it.</p>\n<p>I know I can rewrite it to  <code>for</code> loop but I'd like to use lambda.</p>\n"},{"tags":["java","spring-boot","microservices"],"comments":[{"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"score":0,"creation_date":1661460369,"post_id":73492554,"comment_id":129784671,"body_markdown":"have you add spring security in your Springboot REST API?","body":"have you add spring security in your Springboot REST API?"},{"owner":{"account_id":26160848,"reputation":1,"user_id":19847422,"display_name":"lakshmi dhana"},"score":0,"creation_date":1661492383,"post_id":73492554,"comment_id":129789511,"body_markdown":"Yes i did add spring security.","body":"Yes i did add spring security."},{"owner":{"account_id":26160848,"reputation":1,"user_id":19847422,"display_name":"lakshmi dhana"},"score":0,"creation_date":1661518348,"post_id":73492554,"comment_id":129797540,"body_markdown":"I can get the response from postman, but i tried the same header and request everything in java api, i get the error 401 unauthorised no body","body":"I can get the response from postman, but i tried the same header and request everything in java api, i get the error 401 unauthorised no body"},{"owner":{"account_id":4329690,"reputation":11412,"user_id":3535537,"accept_rate":78,"display_name":"St&#233;phane GRILLON"},"score":0,"creation_date":1661530121,"post_id":73492554,"comment_id":129801880,"body_markdown":"post your spring security config please","body":"post your spring security config please"}],"owner":{"account_id":26160848,"reputation":1,"user_id":19847422,"display_name":"lakshmi dhana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671181404,"creation_date":1661454043,"question_id":73492554,"body_markdown":"I have to create a java api (micro apps using spring boot) for calling rest service. In postman or soapUi, i can able to get the response (either failure or success response). But when i hit that Rest Service in java APi, i was getting this below mentioned error, i am using exchange method to call this rest service and also using same headers as used in postman and service request mapped correctly.\r\n\r\norg.springframework.HttpClientErrorException$unauthorised : 401 [no body]\r\n\r\nI believe, if any Authorization is required in headers then i should get the same error in postman also, correct me if i am wrong. Please help me and thanks in advance.","title":"Org.springframework.HttpClientErrorException$unauthorized : 401 [no body]","body":"<p>I have to create a java api (micro apps using spring boot) for calling rest service. In postman or soapUi, i can able to get the response (either failure or success response). But when i hit that Rest Service in java APi, i was getting this below mentioned error, i am using exchange method to call this rest service and also using same headers as used in postman and service request mapped correctly.</p>\n<p>org.springframework.HttpClientErrorException$unauthorised : 401 [no body]</p>\n<p>I believe, if any Authorization is required in headers then i should get the same error in postman also, correct me if i am wrong. Please help me and thanks in advance.</p>\n"},{"tags":["java","spring","scala","sbt"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1671181550,"post_id":74822162,"comment_id":132048032,"body_markdown":"Can&#39;t reproduce https://scastie.scala-lang.org/DmytroMitin/wR6wEps6S7eHZbHo9fJaIQ","body":"Can&#39;t reproduce <a href=\"https://scastie.scala-lang.org/DmytroMitin/wR6wEps6S7eHZbHo9fJaIQ\" rel=\"nofollow noreferrer\">scastie.scala-lang.org/DmytroMitin/wR6wEps6S7eHZbHo9fJaIQ</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1671181614,"post_id":74822162,"comment_id":132048052,"body_markdown":"Did you do `sbt clean`?","body":"Did you do <code>sbt clean</code>?"},{"owner":{"account_id":17949587,"reputation":137,"user_id":13043012,"display_name":"yuyu kungkung"},"score":1,"creation_date":1671184843,"post_id":74822162,"comment_id":132049024,"body_markdown":"Sorry guys after I check java springbootframework need jdk 17... but on my local and my company use java 11","body":"Sorry guys after I check java springbootframework need jdk 17... but on my local and my company use java 11"}],"owner":{"account_id":17949587,"reputation":137,"user_id":13043012,"display_name":"yuyu kungkung"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671181345,"creation_date":1671181002,"question_id":74822162,"body_markdown":"I have used sbt Scala, and my sbt have spring framework\r\nbefore we have used  org.springframework &#187; spring-beans &#187; 5.2.20.RELEASE\r\nbut I need to change use \r\n\r\n    libraryDependencies +=Seq(\r\n      xxx others dependencies\r\n      &quot;org.springframework&quot; % &quot;spring-beans&quot; % &quot;6.0.0&quot;,\r\n      &quot;org.springframework&quot; % &quot;spring-core&quot; % &quot;6.0.0&quot;\r\n    )\r\n    dependencyOverrides += &quot;org.springframework&quot; % &quot;spring-beans&quot; % &quot;6.0.0&quot;\r\n    dependencyOverrides += &quot;org.springframework&quot; % &quot;spring-core&quot; % &quot;6.0.0&quot;\r\n\r\nwhen I tried to use sbt run I got error like this\r\ncannot access org.springframework.util.CollectionUtils\r\nmy question how to fix this issue ?\r\n","title":"Error When changes spring framework version","body":"<p>I have used sbt Scala, and my sbt have spring framework\nbefore we have used  org.springframework » spring-beans » 5.2.20.RELEASE\nbut I need to change use</p>\n<pre><code>libraryDependencies +=Seq(\n  xxx others dependencies\n  &quot;org.springframework&quot; % &quot;spring-beans&quot; % &quot;6.0.0&quot;,\n  &quot;org.springframework&quot; % &quot;spring-core&quot; % &quot;6.0.0&quot;\n)\ndependencyOverrides += &quot;org.springframework&quot; % &quot;spring-beans&quot; % &quot;6.0.0&quot;\ndependencyOverrides += &quot;org.springframework&quot; % &quot;spring-core&quot; % &quot;6.0.0&quot;\n</code></pre>\n<p>when I tried to use sbt run I got error like this\ncannot access org.springframework.util.CollectionUtils\nmy question how to fix this issue ?</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-test"],"comments":[{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1468332912,"post_id":38330597,"comment_id":64077313,"body_markdown":"You need to [follow these instructions](http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test-mockmvc).","body":"You need to <a href=\"http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test-mockmvc\" rel=\"nofollow noreferrer\">follow these instructions</a>."},{"owner":{"account_id":1494951,"reputation":1981,"user_id":1401133,"accept_rate":60,"display_name":"andrucz"},"score":0,"creation_date":1468334483,"post_id":38330597,"comment_id":64078560,"body_markdown":"So there is no way to use standaloneSetup combined with authentication?","body":"So there is no way to use standaloneSetup combined with authentication?"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1468334634,"post_id":38330597,"comment_id":64078691,"body_markdown":"Where does it say that?","body":"Where does it say that?"},{"owner":{"account_id":1494951,"reputation":1981,"user_id":1401133,"accept_rate":60,"display_name":"andrucz"},"score":0,"creation_date":1468335233,"post_id":38330597,"comment_id":64079145,"body_markdown":"I am not sure, but how could I get a FilterChainProxy, which is required?","body":"I am not sure, but how could I get a FilterChainProxy, which is required?"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1468335452,"post_id":38330597,"comment_id":64079322,"body_markdown":"You can also use webAppContextSetup, while still retaining complete control of the beans in that context with `@ContextConfiguration`.","body":"You can also use webAppContextSetup, while still retaining complete control of the beans in that context with <code>@ContextConfiguration</code>."},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1468335538,"post_id":38330597,"comment_id":64079387,"body_markdown":"You can get a `FilterChainProxy` [like this](http://stackoverflow.com/a/23335298/476716).","body":"You can get a <code>FilterChainProxy</code> <a href=\"http://stackoverflow.com/a/23335298/476716\">like this</a>."},{"owner":{"account_id":1494951,"reputation":1981,"user_id":1401133,"accept_rate":60,"display_name":"andrucz"},"score":0,"creation_date":1468335841,"post_id":38330597,"comment_id":64079625,"body_markdown":"Nice. Could you please show me an example of I could mock the service layer in controller test while using webAppContextSetup? Should I create a test config class that creates mock instances and declare it in @ContextConfiguration?","body":"Nice. Could you please show me an example of I could mock the service layer in controller test while using webAppContextSetup? Should I create a test config class that creates mock instances and declare it in @ContextConfiguration?"},{"owner":{"account_id":219684,"reputation":37267,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"score":0,"creation_date":1468336063,"post_id":38330597,"comment_id":64079776,"body_markdown":"Yes, that is what you should do. I suggest using `FactoryBean`s to skip any unnecessary auto-wiring.","body":"Yes, that is what you should do. I suggest using <code>FactoryBean</code>s to skip any unnecessary auto-wiring."}],"answers":[{"comments":[{"owner":{"account_id":115644,"reputation":2664,"user_id":303559,"accept_rate":85,"display_name":"zeratul021"},"score":1,"creation_date":1543339886,"post_id":41939440,"comment_id":93879673,"body_markdown":"This is nice approach just be careful!\nThere is ~ 20 argument resolvers registered by default which take care of interesting types. In my case an Authentication parameter was handled by ServletRequestMethodArgumentResolver and my handler was ignored.","body":"This is nice approach just be careful! There is ~ 20 argument resolvers registered by default which take care of interesting types. In my case an Authentication parameter was handled by ServletRequestMethodArgumentResolver and my handler was ignored."}],"tags":[],"owner":{"account_id":237529,"reputation":18988,"user_id":2621917,"accept_rate":80,"display_name":"Michael Piefel"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1541166293,"creation_date":1485789716,"answer_id":41939440,"question_id":38330597,"body_markdown":"This can be done by injection a `HandlerMethodArgumentResolver` into your Mock MVC context or standalone setup. Assuming your `@AuthenticationPrincipal` is of type `ParticipantDetails`:\r\n\r\n    private HandlerMethodArgumentResolver putAuthenticationPrincipal = new HandlerMethodArgumentResolver() {\r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterType().isAssignableFrom(ParticipantDetails.class);\r\n        }\r\n\r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer,\r\n                NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\r\n            return new ParticipantDetails(…);\r\n        }\r\n    };\r\n\r\nThis argument resolver can handle the type `ParticipantDetails` and just creates it out of thin air, but you see you get a lot of context. Later on, this argument resolver is attached to the mock MVC object:\r\n\r\n    @BeforeMethod\r\n    public void beforeMethod() {\r\n        mockMvc = MockMvcBuilders\r\n                .standaloneSetup(…)\r\n                .setCustomArgumentResolvers(putAuthenticationPrincipal)\r\n                .build();\r\n    }\r\n\r\nThis will result in your `@AuthenticationPrincipal` annotated method arguments to be populated with the details from your resolver.","title":"Inject @AuthenticationPrincipal when unit testing a Spring REST controller","body":"<p>This can be done by injection a <code>HandlerMethodArgumentResolver</code> into your Mock MVC context or standalone setup. Assuming your <code>@AuthenticationPrincipal</code> is of type <code>ParticipantDetails</code>:</p>\n\n<pre><code>private HandlerMethodArgumentResolver putAuthenticationPrincipal = new HandlerMethodArgumentResolver() {\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterType().isAssignableFrom(ParticipantDetails.class);\n    }\n\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer,\n            NativeWebRequest webRequest, WebDataBinderFactory binderFactory) throws Exception {\n        return new ParticipantDetails(…);\n    }\n};\n</code></pre>\n\n<p>This argument resolver can handle the type <code>ParticipantDetails</code> and just creates it out of thin air, but you see you get a lot of context. Later on, this argument resolver is attached to the mock MVC object:</p>\n\n<pre><code>@BeforeMethod\npublic void beforeMethod() {\n    mockMvc = MockMvcBuilders\n            .standaloneSetup(…)\n            .setCustomArgumentResolvers(putAuthenticationPrincipal)\n            .build();\n}\n</code></pre>\n\n<p>This will result in your <code>@AuthenticationPrincipal</code> annotated method arguments to be populated with the details from your resolver.</p>\n"},{"tags":[],"owner":{"account_id":4271002,"reputation":2019,"user_id":3492805,"accept_rate":72,"display_name":"pzeszko"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1489133364,"creation_date":1488200136,"answer_id":42486339,"question_id":38330597,"body_markdown":"For some reason Michael Piefel&#39;s solution didn&#39;t work for me so I came up with another one.\r\n\r\nFirst of all, create abstract configuration class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    @TestExecutionListeners({\r\n        DependencyInjectionTestExecutionListener.class,\r\n        DirtiesContextTestExecutionListener.class,\r\n        WithSecurityContextTestExecutionListener.class})\r\n    public abstract MockMvcTestPrototype {\r\n        \r\n        @Autowired\r\n        protected WebApplicationContext context;\r\n\r\n        protected MockMvc mockMvc;\r\n\r\n        protected org.springframework.security.core.userdetails.User loggedUser;\r\n\r\n        @Before\r\n        public voivd setUp() {\r\n             mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(context)\r\n                .apply(springSecurity())\r\n                .build();\r\n\r\n            loggedUser =  (User)  SecurityContextHolder.getContext().getAuthentication().getPrincipal();\r\n        } \r\n    }\r\n\r\nThen you can write tests like this:\r\n\r\n    public class SomeTestClass extends MockMvcTestPrototype {\r\n\r\n        @Test\r\n        @WithUserDetails(&quot;someUser@app.com&quot;)\r\n        public void someTest() throws Exception {\r\n            mockMvc.\r\n                    perform(get(&quot;/api/someService&quot;)\r\n                        .withUser(user(loggedUser)))\r\n                    .andExpect(status().isOk());\r\n\r\n        }\r\n    }\r\n\r\nAnd @AuthenticationPrincipal should inject your own User class implementation into controller method \r\n\r\n     \r\n    public class SomeController {\r\n    ...\r\n        @RequestMapping(method = POST, value = &quot;/update&quot;)\r\n        public String update(UdateDto dto, @AuthenticationPrincipal CurrentUser user) {\r\n            ...\r\n            user.getUser(); // works like a charm!\r\n           ...\r\n        }\r\n    }","title":"Inject @AuthenticationPrincipal when unit testing a Spring REST controller","body":"<p>For some reason Michael Piefel's solution didn't work for me so I came up with another one.</p>\n\n<p>First of all, create abstract configuration class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@TestExecutionListeners({\n    DependencyInjectionTestExecutionListener.class,\n    DirtiesContextTestExecutionListener.class,\n    WithSecurityContextTestExecutionListener.class})\npublic abstract MockMvcTestPrototype {\n\n    @Autowired\n    protected WebApplicationContext context;\n\n    protected MockMvc mockMvc;\n\n    protected org.springframework.security.core.userdetails.User loggedUser;\n\n    @Before\n    public voivd setUp() {\n         mockMvc = MockMvcBuilders\n            .webAppContextSetup(context)\n            .apply(springSecurity())\n            .build();\n\n        loggedUser =  (User)  SecurityContextHolder.getContext().getAuthentication().getPrincipal();\n    } \n}\n</code></pre>\n\n<p>Then you can write tests like this:</p>\n\n<pre><code>public class SomeTestClass extends MockMvcTestPrototype {\n\n    @Test\n    @WithUserDetails(\"someUser@app.com\")\n    public void someTest() throws Exception {\n        mockMvc.\n                perform(get(\"/api/someService\")\n                    .withUser(user(loggedUser)))\n                .andExpect(status().isOk());\n\n    }\n}\n</code></pre>\n\n<p>And @AuthenticationPrincipal should inject your own User class implementation into controller method </p>\n\n<pre><code>public class SomeController {\n...\n    @RequestMapping(method = POST, value = \"/update\")\n    public String update(UdateDto dto, @AuthenticationPrincipal CurrentUser user) {\n        ...\n        user.getUser(); // works like a charm!\n       ...\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12695732,"reputation":3378,"user_id":9224219,"display_name":"Datz"},"score":0,"creation_date":1570027731,"post_id":49782472,"comment_id":102786050,"body_markdown":"The new Spring link: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/test/context/support/WithMockUser.html","body":"The new Spring link: <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/test/context/support/WithMockUser.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/current/api/org/&hellip;</a>"}],"tags":[],"owner":{"account_id":6282227,"reputation":570,"user_id":4882806,"accept_rate":83,"display_name":"Sam"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1523472578,"creation_date":1523472578,"answer_id":49782472,"question_id":38330597,"body_markdown":"I know the question is old but for folks still looking, what worked for me to write a Spring Boot test with `@AuthenticationPrincipal` (and this may not work with all instances), was annotating the test `@WithMockUser(&quot;testuser1&quot;)`\r\n    \r\n    @Test\r\n    @WithMockUser(&quot;testuser1&quot;)\r\n    public void successfullyMockUser throws Exception {\r\n        mvc.perform(...));\r\n    }\r\n\r\n[Here is a link][1] to the Spring documentation on `@WithMockUser`\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/html/test-method.html#test-method-withuserdetails","title":"Inject @AuthenticationPrincipal when unit testing a Spring REST controller","body":"<p>I know the question is old but for folks still looking, what worked for me to write a Spring Boot test with <code>@AuthenticationPrincipal</code> (and this may not work with all instances), was annotating the test <code>@WithMockUser(\"testuser1\")</code></p>\n\n<pre><code>@Test\n@WithMockUser(\"testuser1\")\npublic void successfullyMockUser throws Exception {\n    mvc.perform(...));\n}\n</code></pre>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html/test-method.html#test-method-withuserdetails\" rel=\"noreferrer\">Here is a link</a> to the Spring documentation on <code>@WithMockUser</code></p>\n"},{"tags":[],"owner":{"account_id":365948,"reputation":2183,"user_id":1087605,"display_name":"nimai"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1542190209,"creation_date":1542190209,"answer_id":53297656,"question_id":38330597,"body_markdown":"It&#39;s not well documented but there&#39;s a way to inject the `Authentication` object as parameter of your MVC method in a **standalone MockMvc**. If you set the `Authentication` in the `SecurityContextHolder`, the filter `SecurityContextHolderAwareRequestFilter` is usually instantiated by Spring Security and makes the injection of the auth for you.\r\n\r\nYou simply need to add that filter to your MockMvc setup, like this:\r\n\r\n    @Before\r\n    public void before() throws Exception {\r\n        SecurityContextHolder.getContext().setAuthentication(myAuthentication);\r\n        SecurityContextHolderAwareRequestFilter authInjector = new SecurityContextHolderAwareRequestFilter();\r\n        authInjector.afterPropertiesSet();\r\n        mvc = MockMvcBuilders.standaloneSetup(myController).addFilters(authInjector).build();\r\n    }","title":"Inject @AuthenticationPrincipal when unit testing a Spring REST controller","body":"<p>It's not well documented but there's a way to inject the <code>Authentication</code> object as parameter of your MVC method in a <strong>standalone MockMvc</strong>. If you set the <code>Authentication</code> in the <code>SecurityContextHolder</code>, the filter <code>SecurityContextHolderAwareRequestFilter</code> is usually instantiated by Spring Security and makes the injection of the auth for you.</p>\n\n<p>You simply need to add that filter to your MockMvc setup, like this:</p>\n\n<pre><code>@Before\npublic void before() throws Exception {\n    SecurityContextHolder.getContext().setAuthentication(myAuthentication);\n    SecurityContextHolderAwareRequestFilter authInjector = new SecurityContextHolderAwareRequestFilter();\n    authInjector.afterPropertiesSet();\n    mvc = MockMvcBuilders.standaloneSetup(myController).addFilters(authInjector).build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617371460,"creation_date":1617371460,"answer_id":66920336,"question_id":38330597,"body_markdown":"Simplification of [@pzeszko answer](https://stackoverflow.com/a/42486339/548473):\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest\r\n@Transactional\r\n@AutoConfigureMockMvc\r\npublic class ControllerTest {\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    @Test\r\n    @WithUserDetails(value = &quot;user@gmail.com&quot;)\r\n    void get() throws Exception {\r\n        mockMvc.perform(MockMvcRequestBuilders.get(URL))\r\n                .andExpect(status().isOk())\r\n                .andDo(print());\r\n    }\r\n\r\n```\r\nSee:\r\n - [Testing with a mock environment](https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-testing-with-mock-environment)\r\n - [Mock authentication in Spring](https://eliux.github.io/java/spring/testing/how-to-mock-authentication-in-spring)\r\n\r\n","title":"Inject @AuthenticationPrincipal when unit testing a Spring REST controller","body":"<p>Simplification of <a href=\"https://stackoverflow.com/a/42486339/548473\">@pzeszko answer</a>:</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest\n@Transactional\n@AutoConfigureMockMvc\npublic class ControllerTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    @WithUserDetails(value = &quot;user@gmail.com&quot;)\n    void get() throws Exception {\n        mockMvc.perform(MockMvcRequestBuilders.get(URL))\n                .andExpect(status().isOk())\n                .andDo(print());\n    }\n\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-testing-spring-boot-applications-testing-with-mock-environment\" rel=\"nofollow noreferrer\">Testing with a mock environment</a></li>\n<li><a href=\"https://eliux.github.io/java/spring/testing/how-to-mock-authentication-in-spring\" rel=\"nofollow noreferrer\">Mock authentication in Spring</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625858577,"creation_date":1625858577,"answer_id":68321835,"question_id":38330597,"body_markdown":"This solution worked for me and I found it really handy. \r\n\r\nCreate a `TestIUserDetails` service that implements UserDetailsServce in `test` package: \r\n\r\n```\r\n@Service\r\n@Primary\r\n@Profile(&quot;test&quot;)\r\npublic class TestIUserDetails implements UserDetailsService {\r\npublic static final String ADMIN_USERNAME = &quot;admin@example.com&quot;;\r\n    public static final String USERNAME = &quot;user@example.com&quot;;\r\n\r\n    private User getUser() {\r\n        User user = new User();\r\n        user.setEmail(USERNAME);\r\n        user.setId(1L);\r\n        return user;\r\n    }\r\n    ...\r\n    \r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        if (Objects.equals(username, ADMIN_USERNAME))\r\n            return getAdminUser();\r\n        else if (Objects.equals(username, USERNAME))\r\n            return getUser();\r\n        return getPublicUser();\r\n    }\r\n}\r\n```\r\n\r\nNow, on your test:\r\n\r\n```\r\n@SpringMockWebEnvTestConfig\r\nclass AbcControllerTest {\r\n    @Autowired\r\n    private MockMvc mvc;\r\n    @Autowired\r\n    UserDetailsService userDetailsService;\r\n    private User user;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        user = (User) userDetailsService.loadUserByUsername(TestUserDetailsImpl.USERNAME);\r\n    }\r\n\r\n   @Test\r\n   public void testAbc(){\r\n     this.mvc.perform(post(endpoint).with(user(user))\r\n     ...\r\n     .andExpect(status().isCreated())...\r\n   }\r\n}\r\n```","title":"Inject @AuthenticationPrincipal when unit testing a Spring REST controller","body":"<p>This solution worked for me and I found it really handy.</p>\n<p>Create a <code>TestIUserDetails</code> service that implements UserDetailsServce in <code>test</code> package:</p>\n<pre><code>@Service\n@Primary\n@Profile(&quot;test&quot;)\npublic class TestIUserDetails implements UserDetailsService {\npublic static final String ADMIN_USERNAME = &quot;admin@example.com&quot;;\n    public static final String USERNAME = &quot;user@example.com&quot;;\n\n    private User getUser() {\n        User user = new User();\n        user.setEmail(USERNAME);\n        user.setId(1L);\n        return user;\n    }\n    ...\n    \n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        if (Objects.equals(username, ADMIN_USERNAME))\n            return getAdminUser();\n        else if (Objects.equals(username, USERNAME))\n            return getUser();\n        return getPublicUser();\n    }\n}\n</code></pre>\n<p>Now, on your test:</p>\n<pre><code>@SpringMockWebEnvTestConfig\nclass AbcControllerTest {\n    @Autowired\n    private MockMvc mvc;\n    @Autowired\n    UserDetailsService userDetailsService;\n    private User user;\n\n    @BeforeEach\n    void setUp() {\n        user = (User) userDetailsService.loadUserByUsername(TestUserDetailsImpl.USERNAME);\n    }\n\n   @Test\n   public void testAbc(){\n     this.mvc.perform(post(endpoint).with(user(user))\n     ...\n     .andExpect(status().isCreated())...\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12379363,"reputation":107,"user_id":9025705,"display_name":"Alecbalec"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671181336,"creation_date":1671181336,"answer_id":74822228,"question_id":38330597,"body_markdown":"My @AuthenticationPrincipal is expecting a Jwt, so had to implement a custom argument resolver that implements HandlerMethodArgumentResolver.\r\n\r\n    public class JwtArgumentResolver implements HandlerMethodArgumentResolver {\r\n        @Override\r\n        public boolean supportsParameter(MethodParameter parameter) {\r\n            return parameter.getParameterType().isAssignableFrom(Jwt.class);\r\n        }\r\n        @Override\r\n        public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer,\r\n                                      NativeWebRequest webRequest, WebDataBinderFactory binderFactory) {\r\n    \r\n            var jwtToken = Jwt.withTokenValue(&quot;token&quot;)\r\n                    .header(&quot;alg&quot;, &quot;none&quot;)\r\n                    .claim(&quot;sub&quot;, &quot;user&quot;)\r\n                    .claim(&quot;scope&quot;, &quot;read&quot;).build();\r\n            return jwtToken;\r\n        }\r\n    }\r\n\r\n\r\nIn test:\r\n\r\n    @BeforeAll\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n        mockMvc =  MockMvcBuilders.standaloneSetup(myController).setCustomArgumentResolvers(new JwtArgumentResolver()).build();\r\n    }\r\n\r\nAnd the mockMvc.perform can be used without passing a `RequestPostProcessor`.","title":"Inject @AuthenticationPrincipal when unit testing a Spring REST controller","body":"<p>My @AuthenticationPrincipal is expecting a Jwt, so had to implement a custom argument resolver that implements HandlerMethodArgumentResolver.</p>\n<pre><code>public class JwtArgumentResolver implements HandlerMethodArgumentResolver {\n    @Override\n    public boolean supportsParameter(MethodParameter parameter) {\n        return parameter.getParameterType().isAssignableFrom(Jwt.class);\n    }\n    @Override\n    public Object resolveArgument(MethodParameter parameter, ModelAndViewContainer mavContainer,\n                                  NativeWebRequest webRequest, WebDataBinderFactory binderFactory) {\n\n        var jwtToken = Jwt.withTokenValue(&quot;token&quot;)\n                .header(&quot;alg&quot;, &quot;none&quot;)\n                .claim(&quot;sub&quot;, &quot;user&quot;)\n                .claim(&quot;scope&quot;, &quot;read&quot;).build();\n        return jwtToken;\n    }\n}\n</code></pre>\n<p>In test:</p>\n<pre><code>@BeforeAll\npublic void setup() {\n    MockitoAnnotations.initMocks(this);\n    mockMvc =  MockMvcBuilders.standaloneSetup(myController).setCustomArgumentResolvers(new JwtArgumentResolver()).build();\n}\n</code></pre>\n<p>And the mockMvc.perform can be used without passing a <code>RequestPostProcessor</code>.</p>\n"}],"owner":{"account_id":1494951,"reputation":1981,"user_id":1401133,"accept_rate":60,"display_name":"andrucz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19862,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"answer_count":7,"score":30,"last_activity_date":1671181336,"creation_date":1468330833,"question_id":38330597,"body_markdown":"I am having trouble trying to test a REST endpoint that receives an `UserDetails` as a parameter annotated with `@AuthenticationPrincipal.`\r\n\r\nIt seems like the user instance created in the test scenario is not being used, but an attempt to instantiate using the default constructor is made instead: `org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.andrucz.app.AppUserDetails]: No default constructor found;`\r\n\r\nREST endpoint:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/items&quot;)\r\n    class ItemEndpoint {\r\n\r\n        @Autowired\r\n        private ItemService itemService;\r\n\r\n        @RequestMapping(path = &quot;/{id}&quot;,\r\n                        method = RequestMethod.GET,\r\n                        produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\r\n        public Callable&lt;ItemDto&gt; getItemById(@PathVariable(&quot;id&quot;) String id, @AuthenticationPrincipal AppUserDetails userDetails) {\r\n            return () -&gt; {\r\n                Item item = itemService.getItemById(id).orElseThrow(() -&gt; new ResourceNotFoundException(id));\r\n                ...\r\n            };\r\n        }\r\n    }\r\n\r\nTest class:\r\n\r\n    public class ItemEndpointTests {\r\n\r\n        @InjectMocks\r\n        private ItemEndpoint itemEndpoint;\r\n\r\n        @Mock\r\n        private ItemService itemService;\r\n\r\n        private MockMvc mockMvc;\r\n\r\n        @Before\r\n        public void setup() {\r\n            MockitoAnnotations.initMocks(this);\r\n            mockMvc = MockMvcBuilders.standaloneSetup(itemEndpoint)\r\n                    .build();\r\n        }\r\n\r\n        @Test\r\n        public void findItem() throws Exception {\r\n            when(itemService.getItemById(&quot;1&quot;)).thenReturn(Optional.of(new Item()));\r\n\r\n            mockMvc.perform(get(&quot;/api/items/1&quot;).with(user(new AppUserDetails(new User()))))\r\n                    .andExpect(status().isOk());\r\n        }\r\n\r\n    }\r\n\r\nHow can I solve that problem without having to switch to `webAppContextSetup`? I want to write tests having total control of service mocks, so I am using `standaloneSetup.`","title":"Inject @AuthenticationPrincipal when unit testing a Spring REST controller","body":"<p>I am having trouble trying to test a REST endpoint that receives an <code>UserDetails</code> as a parameter annotated with <code>@AuthenticationPrincipal.</code></p>\n<p>It seems like the user instance created in the test scenario is not being used, but an attempt to instantiate using the default constructor is made instead: <code>org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.andrucz.app.AppUserDetails]: No default constructor found;</code></p>\n<p>REST endpoint:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/items&quot;)\nclass ItemEndpoint {\n\n    @Autowired\n    private ItemService itemService;\n\n    @RequestMapping(path = &quot;/{id}&quot;,\n                    method = RequestMethod.GET,\n                    produces = MediaType.APPLICATION_JSON_UTF8_VALUE)\n    public Callable&lt;ItemDto&gt; getItemById(@PathVariable(&quot;id&quot;) String id, @AuthenticationPrincipal AppUserDetails userDetails) {\n        return () -&gt; {\n            Item item = itemService.getItemById(id).orElseThrow(() -&gt; new ResourceNotFoundException(id));\n            ...\n        };\n    }\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>public class ItemEndpointTests {\n\n    @InjectMocks\n    private ItemEndpoint itemEndpoint;\n\n    @Mock\n    private ItemService itemService;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setup() {\n        MockitoAnnotations.initMocks(this);\n        mockMvc = MockMvcBuilders.standaloneSetup(itemEndpoint)\n                .build();\n    }\n\n    @Test\n    public void findItem() throws Exception {\n        when(itemService.getItemById(&quot;1&quot;)).thenReturn(Optional.of(new Item()));\n\n        mockMvc.perform(get(&quot;/api/items/1&quot;).with(user(new AppUserDetails(new User()))))\n                .andExpect(status().isOk());\n    }\n\n}\n</code></pre>\n<p>How can I solve that problem without having to switch to <code>webAppContextSetup</code>? I want to write tests having total control of service mocks, so I am using <code>standaloneSetup.</code></p>\n"},{"tags":["java","spring","spring-boot","rest"],"owner":{"account_id":9074826,"reputation":707,"user_id":6756794,"accept_rate":25,"display_name":"zanyman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671181032,"creation_date":1671181032,"question_id":74822168,"body_markdown":"Let me use an example to clarify the question more:\r\n\r\nLet&#39;s say I have want to implement a GET method for the /query path. I have the following query parameters that I want to pass in:\r\n\r\n- param1 : `int`\r\n- param2 : `string`\r\n- param3 : `list&lt;string&gt;`\r\n- param4 : `map&lt;string, string&gt;`\r\n\r\nI know how to represent the first 3 parameters in the URL:\r\n\r\n```/query?param1=1&amp;param2=foo&amp;param3=a,b,c```\r\n\r\nbut for param4, I couldn&#39;t figure out how to represent it. I have read this page: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html about `RequestParam` annotation, I understand that:\r\n\r\n`&quot;If the method parameter is Map&lt;String, String&gt; or MultiValueMap&lt;String, String&gt; and a parameter name is not specified, then the map parameter is populated with all request parameter names and values.&quot;`\r\nThis partly works for my problem, but the `param4` that I get will also contain keys of `param1-3` (since it&#39;s populated with all params) which I need to manually remove in my application logic, which seems ugly.\r\n\r\nI feel the correct approach lies in this sentence\r\n```&quot;If the method parameter type is Map and a request parameter name is specified, then the request parameter value is converted to a Map assuming an appropriate conversion strategy is available.&quot;``` But I can&#39;t find any reference how that **&quot;conversion strategy&quot;** mean and works.","title":"How to represent a Map&lt;string, string&gt; type in a Spring Boot Rest URL","body":"<p>Let me use an example to clarify the question more:</p>\n<p>Let's say I have want to implement a GET method for the /query path. I have the following query parameters that I want to pass in:</p>\n<ul>\n<li>param1 : <code>int</code></li>\n<li>param2 : <code>string</code></li>\n<li>param3 : <code>list&lt;string&gt;</code></li>\n<li>param4 : <code>map&lt;string, string&gt;</code></li>\n</ul>\n<p>I know how to represent the first 3 parameters in the URL:</p>\n<p><code>/query?param1=1&amp;param2=foo&amp;param3=a,b,c</code></p>\n<p>but for param4, I couldn't figure out how to represent it. I have read this page: <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/RequestParam.html</a> about <code>RequestParam</code> annotation, I understand that:</p>\n<p><code>&quot;If the method parameter is Map&lt;String, String&gt; or MultiValueMap&lt;String, String&gt; and a parameter name is not specified, then the map parameter is populated with all request parameter names and values.&quot;</code>\nThis partly works for my problem, but the <code>param4</code> that I get will also contain keys of <code>param1-3</code> (since it's populated with all params) which I need to manually remove in my application logic, which seems ugly.</p>\n<p>I feel the correct approach lies in this sentence\n<code>&quot;If the method parameter type is Map and a request parameter name is specified, then the request parameter value is converted to a Map assuming an appropriate conversion strategy is available.&quot;</code> But I can't find any reference how that <strong>&quot;conversion strategy&quot;</strong> mean and works.</p>\n"},{"tags":["java","spring","spring-boot","performance","quartz-scheduler"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1671179769,"post_id":74815102,"comment_id":132047605,"body_markdown":"If they are in the database why not just write a query which would return just the data you need? Instead of trying to do this through the Quartz API?","body":"If they are in the database why not just write a query which would return just the data you need? Instead of trying to do this through the Quartz API?"}],"owner":{"account_id":9530230,"reputation":11,"user_id":20786352,"display_name":"user612296"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1671180947,"creation_date":1671123723,"question_id":74815102,"body_markdown":"I am using below code to get the all Job Details and display them in my UI. But it is taking too long ( Around 35 seconds )  to fetch the job details ( around 150 Quartz jobs ) from QUARTZ using JDBC data store ( Oracle DB). \r\n\r\n1. Is there any alternate ways to speed up the task?\r\n\r\n2. Any API support available for pagination from Quartz?\r\n\r\n```\r\n//All below code can be written using Java 8 Streams as well. Broke down the code to understand which //operation is taking time\r\n\r\nScheduler scheduler = schedulerFactoryBean.getScheduler();\r\n\r\nSet&lt;TriggerKey&gt; triggerKeys = scheduler.getTriggerKeys(GroupMatcher.triggerGroupEquals(groupName)); //groupName - my group name - filtering by groupname\r\n\r\nIterator iterator = triggerKeys .iterator();\r\n\r\n\r\n//This while block is taking around 12 seconds for around 150 jobs\r\nwhile(iterator.hasNext()){\r\nTriggerKey triggerKey = (TriggerKey) iterator.next();\r\nif(scheduler.getTriggerState(triggerKey).equals(TriggerState.NONE)){\r\n\titerator.remove();\r\n}\r\n\r\nMap&lt;TriggerKey, MyPOJO&gt; myJobMap = new HashMap();\r\n\r\n//This for loop is taking around 22 seconds for around 150 jobs\r\nfor(TriggerKey key : triggerKeys){\r\n\r\nTrigger trigger = scheduler.getTrigger(key);\r\n\r\nJobDataMap jobDataMap = scheduler.getJobDetail(trigger.getJobKey()).getJobDataMap();\r\n\r\nMyPOJO myPOJO = jobDataMap.get(&quot;MYJOBPOJO&quot;);\r\n\r\nmyJobMap.put(key, myPOJO);\r\n\r\n}\r\n\r\n```\r\n\r\nI have gone through the Quartz documentation but did not find any specific details on how to improve this read operation performance ","title":"Spring Boot - Quartz Scheduler - Retrieve all jobs details","body":"<p>I am using below code to get the all Job Details and display them in my UI. But it is taking too long ( Around 35 seconds )  to fetch the job details ( around 150 Quartz jobs ) from QUARTZ using JDBC data store ( Oracle DB).</p>\n<ol>\n<li><p>Is there any alternate ways to speed up the task?</p>\n</li>\n<li><p>Any API support available for pagination from Quartz?</p>\n</li>\n</ol>\n<pre><code>//All below code can be written using Java 8 Streams as well. Broke down the code to understand which //operation is taking time\n\nScheduler scheduler = schedulerFactoryBean.getScheduler();\n\nSet&lt;TriggerKey&gt; triggerKeys = scheduler.getTriggerKeys(GroupMatcher.triggerGroupEquals(groupName)); //groupName - my group name - filtering by groupname\n\nIterator iterator = triggerKeys .iterator();\n\n\n//This while block is taking around 12 seconds for around 150 jobs\nwhile(iterator.hasNext()){\nTriggerKey triggerKey = (TriggerKey) iterator.next();\nif(scheduler.getTriggerState(triggerKey).equals(TriggerState.NONE)){\n    iterator.remove();\n}\n\nMap&lt;TriggerKey, MyPOJO&gt; myJobMap = new HashMap();\n\n//This for loop is taking around 22 seconds for around 150 jobs\nfor(TriggerKey key : triggerKeys){\n\nTrigger trigger = scheduler.getTrigger(key);\n\nJobDataMap jobDataMap = scheduler.getJobDetail(trigger.getJobKey()).getJobDataMap();\n\nMyPOJO myPOJO = jobDataMap.get(&quot;MYJOBPOJO&quot;);\n\nmyJobMap.put(key, myPOJO);\n\n}\n\n</code></pre>\n<p>I have gone through the Quartz documentation but did not find any specific details on how to improve this read operation performance</p>\n"},{"tags":["java","android","google-oauth","google-signin"],"answers":[{"comments":[{"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"score":1,"creation_date":1671182777,"post_id":74822041,"comment_id":132048397,"body_markdown":"https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database/47893879 This helped to achieve my goal.\n\nThank you so much @Alex sir, for sticking until problem is solved. \n\nGreat Mentor !","body":"<a href=\"https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database/47893879\" title=\"checking if a particular value exists in the firebase database\">stackoverflow.com/questions/47893328/&hellip;</a> This helped to achieve my goal.  Thank you so much @Alex sir, for sticking until problem is solved.   Great Mentor !"}],"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1671180316,"creation_date":1671180316,"answer_id":74822041,"question_id":74821975,"body_markdown":"If you want to check if the user is new in Firebase, then you can use my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/74783496/how-to-check-if-user-is-new-using-googlesigninoptions-in-android-studio-using-ja/74784209\r\n\r\nIf you don&#39;t want to use Firebase authentication, but I highly recommend you implement it, then you can add the user object in [Firestore][1] or in the [Realtime Database][2].\r\n\r\nSince you&#39;re using Java, for checking a user for existence in Firestore, please check the following answer:\r\n\r\n* https://stackoverflow.com/questions/48570270/firestore-query-checking-if-username-already-exists\r\n\r\nAnd for checking a user for existence in the Realtime Database, then please check the following answer:\r\n\r\n* https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database/47893879\r\n\r\nSo when a user creates a new account, first check if the UID already exists in the database. If it doesn&#39;t, then the user is new, otherwise is an existing user.\r\n\r\n  [1]: https://firebase.google.com/docs/firestore\r\n  [2]: https://firebase.google.com/docs/database","title":"How to check for new user when log in with google authentication?","body":"<p>If you want to check if the user is new in Firebase, then you can use my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/74783496/how-to-check-if-user-is-new-using-googlesigninoptions-in-android-studio-using-ja/74784209\">How to check if user is new using GoogleSignInOptions in android studio using java?</a></li>\n</ul>\n<p>If you don't want to use Firebase authentication, but I highly recommend you implement it, then you can add the user object in <a href=\"https://firebase.google.com/docs/firestore\" rel=\"nofollow noreferrer\">Firestore</a> or in the <a href=\"https://firebase.google.com/docs/database\" rel=\"nofollow noreferrer\">Realtime Database</a>.</p>\n<p>Since you're using Java, for checking a user for existence in Firestore, please check the following answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48570270/firestore-query-checking-if-username-already-exists\">Firestore query - checking if username already exists</a></li>\n</ul>\n<p>And for checking a user for existence in the Realtime Database, then please check the following answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/47893328/checking-if-a-particular-value-exists-in-the-firebase-database/47893879\">Checking if a particular value exists in the Firebase database</a></li>\n</ul>\n<p>So when a user creates a new account, first check if the UID already exists in the database. If it doesn't, then the user is new, otherwise is an existing user.</p>\n"}],"owner":{"account_id":26845407,"reputation":19,"user_id":20431236,"display_name":"prabin chand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74822041,"answer_count":1,"score":0,"last_activity_date":1671180316,"creation_date":1671179964,"question_id":74821975,"body_markdown":"I want to know if user is new or exists . I want to show additional **View** if user is new.\r\nI have implemented google sign in using this link  https://developers.google.com/identity/sign-in/android/sign-in\r\n. Everything is working fine but addition i want to know if user is new or not. \r\nif log in user is new i want to do some Stuffs.\r\n\r\n\r\n\r\n&gt;Here is my code for login using Google Authenticaion.\r\n\r\n\r\n    import androidx.annotation.NonNull;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.app.ProgressDialog;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.LinearLayout;\r\n    import android.widget.Toast;\r\n    \r\n    import com.google.android.gms.auth.api.Auth;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignIn;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInAccount;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInClient;\r\n    import com.google.android.gms.auth.api.signin.GoogleSignInOptions;\r\n    import com.google.android.gms.common.api.ApiException;\r\n    import com.google.android.gms.tasks.OnCompleteListener;\r\n    import com.google.android.gms.tasks.Task;\r\n    import com.google.firebase.database.DataSnapshot;\r\n    import com.google.firebase.database.DatabaseError;\r\n    import com.google.firebase.database.DatabaseReference;\r\n    import com.google.firebase.database.FirebaseDatabase;\r\n    import com.google.firebase.database.ValueEventListener;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Objects;\r\n    \r\n    public class Login extends AppCompatActivity {\r\n    \r\n        private static final int RC_SIGN_IN = 100;\r\n        LinearLayout button;\r\n        GoogleSignInClient mGoogleSignInClient;\r\n        GoogleSignInAccount account;\r\n        DatabaseReference databaseReference;\r\n        ProgressDialog progressDialog;\r\n        long childTotal = 0;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_login);\r\n            button = findViewById(R.id.loginBtn);\r\n    \r\n            getWindow().setStatusBarColor(getResources().getColor(R.color.white));\r\n    \r\n            GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\r\n                    .requestEmail()\r\n                    .build();\r\n            mGoogleSignInClient = GoogleSignIn.getClient(Login.this, gso);\r\n            databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\r\n    \r\n            databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    childTotal = snapshot.getChildrenCount();\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n    \r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n            button.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    progressDialog = new ProgressDialog(Login.this);\r\n                    progressDialog.setMessage(&quot;Please wait . . . &quot;);\r\n                    progressDialog.setCancelable(false);\r\n                    progressDialog.show();\r\n                    signIn();\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n        private void signIn() {\r\n            Intent signInIntent = mGoogleSignInClient.getSignInIntent();\r\n            startActivityForResult(signInIntent, RC_SIGN_IN);\r\n        }\r\n        @Override\r\n        public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            // Result returned from launching the Intent from GoogleSignInClient.getSignInIntent(...);\r\n            if (requestCode == RC_SIGN_IN) {\r\n                // The Task returned from this call is always completed, no need to attach\r\n                // a listener.\r\n                Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\r\n                handleSignInResult(task);\r\n            }\r\n        }\r\n    \r\n        private void handleSignInResult(Task&lt;GoogleSignInAccount&gt; completedTask) {\r\n            try {\r\n                 account = completedTask.getResult(ApiException.class);\r\n                // Signed in successfully, show authenticated UI.\r\n                if (account!=null){\r\n                    addUserDataToDatabase();\r\n                    startActivity(new Intent(Login.this, MainActivity.class));\r\n                    progressDialog.dismiss();\r\n                    finish();\r\n                }\r\n    \r\n            } catch (ApiException e) {\r\n                // The ApiException status code indicates the detailed failure reason.\r\n                // Please refer to the GoogleSignInStatusCodes class reference for more information.\r\n                progressDialog.dismiss();\r\n    //            Toast.makeText(this, &quot;Request cancelled by user.&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        protected void onStart() {\r\n            super.onStart();\r\n            account = GoogleSignIn.getLastSignedInAccount(this);\r\n            if (account!=null) {\r\n                startActivity(new Intent(this, MainActivity.class));\r\n                finish();\r\n            }\r\n        }\r\n    \r\n        private void addUserDataToDatabase(){\r\n            UserModel userModel = new UserModel();\r\n            userModel.setName(account.getDisplayName());\r\n            userModel.setEmail(account.getEmail());\r\n            if (account.getPhotoUrl()==null){\r\n                userModel.setPicture(&quot;No image available&quot;);\r\n            }else {\r\n                userModel.setPicture(String.valueOf(account.getPhotoUrl()));\r\n            }\r\n            databaseReference.child(Objects.requireNonNull(account.getDisplayName()))\r\n                    .setValue(userModel);\r\n        }\r\n    }","title":"How to check for new user when log in with google authentication?","body":"<p>I want to know if user is new or exists . I want to show additional <strong>View</strong> if user is new.\nI have implemented google sign in using this link  <a href=\"https://developers.google.com/identity/sign-in/android/sign-in\" rel=\"nofollow noreferrer\">https://developers.google.com/identity/sign-in/android/sign-in</a>\n. Everything is working fine but addition i want to know if user is new or not.\nif log in user is new i want to do some Stuffs.</p>\n<blockquote>\n<p>Here is my code for login using Google Authenticaion.</p>\n</blockquote>\n<pre><code>import androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.LinearLayout;\nimport android.widget.Toast;\n\nimport com.google.android.gms.auth.api.Auth;\nimport com.google.android.gms.auth.api.signin.GoogleSignIn;\nimport com.google.android.gms.auth.api.signin.GoogleSignInAccount;\nimport com.google.android.gms.auth.api.signin.GoogleSignInClient;\nimport com.google.android.gms.auth.api.signin.GoogleSignInOptions;\nimport com.google.android.gms.common.api.ApiException;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.database.ValueEventListener;\n\nimport java.util.ArrayList;\nimport java.util.Objects;\n\npublic class Login extends AppCompatActivity {\n\n    private static final int RC_SIGN_IN = 100;\n    LinearLayout button;\n    GoogleSignInClient mGoogleSignInClient;\n    GoogleSignInAccount account;\n    DatabaseReference databaseReference;\n    ProgressDialog progressDialog;\n    long childTotal = 0;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_login);\n        button = findViewById(R.id.loginBtn);\n\n        getWindow().setStatusBarColor(getResources().getColor(R.color.white));\n\n        GoogleSignInOptions gso = new GoogleSignInOptions.Builder(GoogleSignInOptions.DEFAULT_SIGN_IN)\n                .requestEmail()\n                .build();\n        mGoogleSignInClient = GoogleSignIn.getClient(Login.this, gso);\n        databaseReference = FirebaseDatabase.getInstance().getReference().child(&quot;Users&quot;);\n\n        databaseReference.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                childTotal = snapshot.getChildrenCount();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n\n\n\n        button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                progressDialog = new ProgressDialog(Login.this);\n                progressDialog.setMessage(&quot;Please wait . . . &quot;);\n                progressDialog.setCancelable(false);\n                progressDialog.show();\n                signIn();\n\n            }\n        });\n\n    }\n\n    private void signIn() {\n        Intent signInIntent = mGoogleSignInClient.getSignInIntent();\n        startActivityForResult(signInIntent, RC_SIGN_IN);\n    }\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        // Result returned from launching the Intent from GoogleSignInClient.getSignInIntent(...);\n        if (requestCode == RC_SIGN_IN) {\n            // The Task returned from this call is always completed, no need to attach\n            // a listener.\n            Task&lt;GoogleSignInAccount&gt; task = GoogleSignIn.getSignedInAccountFromIntent(data);\n            handleSignInResult(task);\n        }\n    }\n\n    private void handleSignInResult(Task&lt;GoogleSignInAccount&gt; completedTask) {\n        try {\n             account = completedTask.getResult(ApiException.class);\n            // Signed in successfully, show authenticated UI.\n            if (account!=null){\n                addUserDataToDatabase();\n                startActivity(new Intent(Login.this, MainActivity.class));\n                progressDialog.dismiss();\n                finish();\n            }\n\n        } catch (ApiException e) {\n            // The ApiException status code indicates the detailed failure reason.\n            // Please refer to the GoogleSignInStatusCodes class reference for more information.\n            progressDialog.dismiss();\n//            Toast.makeText(this, &quot;Request cancelled by user.&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        account = GoogleSignIn.getLastSignedInAccount(this);\n        if (account!=null) {\n            startActivity(new Intent(this, MainActivity.class));\n            finish();\n        }\n    }\n\n    private void addUserDataToDatabase(){\n        UserModel userModel = new UserModel();\n        userModel.setName(account.getDisplayName());\n        userModel.setEmail(account.getEmail());\n        if (account.getPhotoUrl()==null){\n            userModel.setPicture(&quot;No image available&quot;);\n        }else {\n            userModel.setPicture(String.valueOf(account.getPhotoUrl()));\n        }\n        databaseReference.child(Objects.requireNonNull(account.getDisplayName()))\n                .setValue(userModel);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":25698962,"reputation":296,"user_id":19459262,"display_name":"Redz"},"score":1,"creation_date":1671179747,"post_id":74821897,"comment_id":132047599,"body_markdown":"Please include some details.","body":"Please include some details."}],"answers":[{"comments":[{"owner":{"account_id":27270169,"reputation":11,"user_id":20791603,"display_name":"Ahmed Mansour"},"score":0,"creation_date":1671347271,"post_id":74821936,"comment_id":132077401,"body_markdown":"can you provide me the full code to Set the Android alarm 2 hours before Fajr time","body":"can you provide me the full code to Set the Android alarm 2 hours before Fajr time"}],"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671179777,"creation_date":1671179777,"answer_id":74821936,"question_id":74821897,"body_markdown":"You are looking at `Calendar.HOUR_OF_DAY` and not `Calendar.DATE`: \r\n\r\n&gt; How to set the android alarm 2 hours before fajr time\r\n\r\nYour code can look like this:\r\n\r\n    int twoHoursBefore = fajr_time - 2;\r\n    cal_alarm.set(Calendar.HOUR_OF_DAY, twoHoursBefore);","title":"Set the Android alarm 2 hours before Fajr time (First prayer in Islam)","body":"<p>You are looking at <code>Calendar.HOUR_OF_DAY</code> and not <code>Calendar.DATE</code>:</p>\n<blockquote>\n<p>How to set the android alarm 2 hours before fajr time</p>\n</blockquote>\n<p>Your code can look like this:</p>\n<pre><code>int twoHoursBefore = fajr_time - 2;\ncal_alarm.set(Calendar.HOUR_OF_DAY, twoHoursBefore);\n</code></pre>\n"}],"owner":{"account_id":27270169,"reputation":11,"user_id":20791603,"display_name":"Ahmed Mansour"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1671180093,"creation_date":1671179508,"question_id":74821897,"body_markdown":"How to set the android alarm 2 hours before [fajr time][1]:\r\n\r\n    if(cal_alarm(fajr_time)){ \r\n        cal_alarm.add(Calendar.DATE,2);\r\n    }\r\n    //SET YOUR AlarmManager here\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Fajr_prayer","title":"Set the Android alarm 2 hours before Fajr time (First prayer in Islam)","body":"<p>How to set the android alarm 2 hours before <a href=\"https://en.wikipedia.org/wiki/Fajr_prayer\" rel=\"nofollow noreferrer\">fajr time</a>:</p>\n<pre><code>if(cal_alarm(fajr_time)){ \n    cal_alarm.add(Calendar.DATE,2);\n}\n//SET YOUR AlarmManager here\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7677244,"reputation":630,"user_id":5817706,"display_name":"Mohammed Fadhl"},"score":0,"creation_date":1671200097,"post_id":74821990,"comment_id":132053949,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27269993,"reputation":1,"user_id":20791444,"display_name":"ratna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1671180063,"creation_date":1671180063,"question_id":74821990,"body_markdown":"How to pass subtable from Word document using java in katalon?\r\n\r\n\r\nI tried in this way,in this table we have another table like HEADER ROW: Hypoglycemic Event Attributes so that i can&#39;t able to pass that table values.Please help anyone.","title":"How to pass subtable of a word document using java in katalon?","body":"<p>How to pass subtable from Word document using java in katalon?</p>\n<p>I tried in this way,in this table we have another table like HEADER ROW: Hypoglycemic Event Attributes so that i can't able to pass that table values.Please help anyone.</p>\n"},{"tags":["java","spring","spring-boot","cucumber","cucumber-junit"],"answers":[{"comments":[{"owner":{"account_id":22758806,"reputation":93,"user_id":16917942,"display_name":"JustAnotherNoob"},"score":0,"creation_date":1671189880,"post_id":74821988,"comment_id":132050545,"body_markdown":"Well after using @SpringBootApplication for main type it definitely worked. What I was trying to d was, As you can see in my project structure I have created separated module for acceptance test so Can I use cucumber there without any main type?","body":"Well after using @SpringBootApplication for main type it definitely worked. What I was trying to d was, As you can see in my project structure I have created separated module for acceptance test so Can I use cucumber there without any main type?"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1671204191,"post_id":74821988,"comment_id":132055449,"body_markdown":"Sure, instead of using `@SpringBootTest` you&#39;ll have to use the configure the test application context yourself. For example `@ContextConfiguration(classes = MyTestConfig.class )`.","body":"Sure, instead of using <code>@SpringBootTest</code> you&#39;ll have to use the configure the test application context yourself. For example <code>@ContextConfiguration(classes = MyTestConfig.class )</code>."}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1671180054,"creation_date":1671180054,"answer_id":74821988,"question_id":74820845,"body_markdown":"There are a few problemens.\r\n\r\n1.\r\n\r\nYour `CucumberIntegrationTest` is mixing JUnit 4 and JUnit 5 annotations and will never work in the way you assume it does.\r\n\r\nYou can either use `cucumber-junit` with JUnit Vintage and JUnit 5 or you can use the [`cucumber-junit-platform-engine`](https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine) and the JUnit 5 Suite with with JUnit 5. \r\n\r\n2.\r\n\r\nThe `SpringIntegrationTest` is the class used by Cucumber to tell Spring how to build the application context. If you were using JUnit this would be the class you would put your tests methods in.\r\n\r\nSo if you can not get this to work as a JUnit test, it also won&#39;t work for Cucumber.\r\n\r\nAnd yes, generally speaking when using `@SpringBootTest` you also need `@SpringBootApplication`. But you don&#39;t have to use `@SpringBootTest` to build an application context. It is however much less work.\r\n\r\n3.\r\n\r\nYou didn&#39;t provide enough details to reproduce your problem. Please have a look at [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","title":"@Autowire not working for my spring-cucumber acceptance tests","body":"<p>There are a few problemens.</p>\n<p>1.</p>\n<p>Your <code>CucumberIntegrationTest</code> is mixing JUnit 4 and JUnit 5 annotations and will never work in the way you assume it does.</p>\n<p>You can either use <code>cucumber-junit</code> with JUnit Vintage and JUnit 5 or you can use the <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\"><code>cucumber-junit-platform-engine</code></a> and the JUnit 5 Suite with with JUnit 5.</p>\n<p>2.</p>\n<p>The <code>SpringIntegrationTest</code> is the class used by Cucumber to tell Spring how to build the application context. If you were using JUnit this would be the class you would put your tests methods in.</p>\n<p>So if you can not get this to work as a JUnit test, it also won't work for Cucumber.</p>\n<p>And yes, generally speaking when using <code>@SpringBootTest</code> you also need <code>@SpringBootApplication</code>. But you don't have to use <code>@SpringBootTest</code> to build an application context. It is however much less work.</p>\n<p>3.</p>\n<p>You didn't provide enough details to reproduce your problem. Please have a look at <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>.</p>\n"}],"owner":{"account_id":22758806,"reputation":93,"user_id":16917942,"display_name":"JustAnotherNoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74821988,"answer_count":1,"score":0,"last_activity_date":1671180054,"creation_date":1671171668,"question_id":74820845,"body_markdown":"I have just started working with Cucumber and I am not able to configure spring with it(for autowire getting error -&gt; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type (MyClass) available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)})\r\n\r\nI have created separate module for Acceptance test outside Service of my project \r\nBelow is my project structure -\r\n[![Structure][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/V33YD.png\r\nCucumberIntegrationTest.java -&gt; \r\n\r\n    @Cucumber\r\n    @CucumberOptions(features = &quot;classpath:feature/&quot; ,\r\n    \t\t\t\t glue = {&quot;com.asite.iotgateway.cucumberspringboot.cucumberGlue&quot; ,\r\n    \t\t\t\t\t\t &quot;com.asite.iotgateway.cucumberspringboot.service&quot;})\r\n    @SpringBootConfiguration\r\n    public class CucumberIntegrationTest {\r\n    \r\n    }\r\nSpringIntegrationTest.java -&gt;\r\n\r\n    @SpringBootTest\r\n    @CucumberContextConfiguration\r\n    public class SpringIntegrationTest {\r\n    \r\n    }\r\n\r\nPlease suggest if I am doing this right, I am using @Autowire in my **PreferenceStepDefinition.java** file. Is it compulsory to have Application.java file with @SpringBootApplication to use spring functionality with acceptance tests as well?","title":"@Autowire not working for my spring-cucumber acceptance tests","body":"<p>I have just started working with Cucumber and I am not able to configure spring with it(for autowire getting error -&gt; org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type (MyClass) available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)})</p>\n<p>I have created separate module for Acceptance test outside Service of my project\nBelow is my project structure -\n<a href=\"https://i.stack.imgur.com/V33YD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V33YD.png\" alt=\"Structure\" /></a></p>\n<p>CucumberIntegrationTest.java -&gt;</p>\n<pre><code>@Cucumber\n@CucumberOptions(features = &quot;classpath:feature/&quot; ,\n                 glue = {&quot;com.asite.iotgateway.cucumberspringboot.cucumberGlue&quot; ,\n                         &quot;com.asite.iotgateway.cucumberspringboot.service&quot;})\n@SpringBootConfiguration\npublic class CucumberIntegrationTest {\n\n}\n</code></pre>\n<p>SpringIntegrationTest.java -&gt;</p>\n<pre><code>@SpringBootTest\n@CucumberContextConfiguration\npublic class SpringIntegrationTest {\n\n}\n</code></pre>\n<p>Please suggest if I am doing this right, I am using @Autowire in my <strong>PreferenceStepDefinition.java</strong> file. Is it compulsory to have Application.java file with @SpringBootApplication to use spring functionality with acceptance tests as well?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9419,"page":804,"page_size":100}
